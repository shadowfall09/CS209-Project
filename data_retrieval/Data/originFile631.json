{"items":[{"tags":["java","spring-boot","microservices","resttemplate"],"answers":[{"comments":[{"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"score":0,"creation_date":1677050985,"post_id":75524516,"comment_id":133258734,"body_markdown":"Hi @fedden, thanks for responding. Url will be fetching some array of SubscriberAccount objects and I am  using List&lt;SubscriberAccount&gt;. But it has to convert to the list of objects right. I am getting that error. Or I have to cast to List&lt;SubscriberAccount&gt;. Anyway when I call, I am getting some other exception. Mismatched input exception.","body":"Hi @fedden, thanks for responding. Url will be fetching some array of SubscriberAccount objects and I am  using List&lt;SubscriberAccount&gt;. But it has to convert to the list of objects right. I am getting that error. Or I have to cast to List&lt;SubscriberAccount&gt;. Anyway when I call, I am getting some other exception. Mismatched input exception."},{"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"score":0,"creation_date":1677051410,"post_id":75524516,"comment_id":133258816,"body_markdown":"Please share the full exception message &#128591;","body":"Please share the full exception message üôè"},{"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"score":0,"creation_date":1677065623,"post_id":75524516,"comment_id":133262669,"body_markdown":"Hi fedden, I have used  restTemplate.exchange(url, HttpMethod.GET, requestEntity,\n\t\t\t\tnew ParameterizedTypeReference&lt;List&lt;SubscriberAccount&gt;&gt;() {\n\t\t\t\t});. Now the issue has been resolved","body":"Hi fedden, I have used  restTemplate.exchange(url, HttpMethod.GET, requestEntity, \t\t\t\tnew ParameterizedTypeReference&lt;List&lt;SubscriberAccount&gt;&gt;() { \t\t\t\t});. Now the issue has been resolved"},{"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"score":0,"creation_date":1677082561,"post_id":75524516,"comment_id":133268299,"body_markdown":"Awesome, if you feel like my responses helped to you please approve my answer &#128591;","body":"Awesome, if you feel like my responses helped to you please approve my answer üôè"}],"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677004115,"creation_date":1677004115,"answer_id":75524516,"question_id":75520864,"body_markdown":"I think the problem is that you are using `restTemplate.getForObject`, it&#39;s not accepting headers as a 3rd param but `uriVariables`\r\n\r\nSee more details in [the doc][1] \r\n```\r\nurl - the URL\r\nresponseType - the type of the return value\r\nuriVariables - the variables to expand the template\r\n```\r\n\r\nPlease try to use `restTemplate.exchange` instead and pass requestEntity as a 3rd param. You could create them from headers like that \r\n\r\n    HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n\r\nSo you should have something like that\r\n\r\n```\r\n restTemplate.exchange(url, HttpMethod.GET, requestEntity, List.class);\r\n```\r\n  [1]: https://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.lang.String-java.lang.Class-java.lang.Object...-","title":"Getting HTTP status code 415: Unsupported Media type exception for Get API using Rest Template","body":"<p>I think the problem is that you are using <code>restTemplate.getForObject</code>, it's not accepting headers as a 3rd param but <code>uriVariables</code></p>\n<p>See more details in <a href=\"https://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/org/springframework/web/client/RestTemplate.html#getForObject-java.lang.String-java.lang.Class-java.lang.Object...-\" rel=\"nofollow noreferrer\">the doc</a></p>\n<pre><code>url - the URL\nresponseType - the type of the return value\nuriVariables - the variables to expand the template\n</code></pre>\n<p>Please try to use <code>restTemplate.exchange</code> instead and pass requestEntity as a 3rd param. You could create them from headers like that</p>\n<pre><code>HttpEntity&lt;Void&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n</code></pre>\n<p>So you should have something like that</p>\n<pre><code> restTemplate.exchange(url, HttpMethod.GET, requestEntity, List.class);\n</code></pre>\n"}],"owner":{"account_id":11801968,"reputation":1,"user_id":8635435,"display_name":"Subhash Talla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677004115,"creation_date":1676984325,"question_id":75520864,"body_markdown":"I have created two spring boot projects called MS1 and MS2 running on different ports in my local system. MS1.controller has /GetAPI which call the external API end point which is MS2.controller /GetAPI. When I run MS2 it fetches the data in JSON. But when I trigger the API with MS1 then it throws 415 Unsupported Media Type. In spring boot by default data format is JSON. I have even created the headers and added to the restTemplate.getForObject() method. Please refer my code and let me know where it is going wrong.\r\n\r\nMS1\r\n------\r\nmain class:\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;ondc_account_validation&quot;)\r\npublic class OndcAccountValidation {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSpringApplication.run(OndcAccountValidation.class, args);\r\n\r\n\t}\r\n\t@Bean\r\n\tpublic RestTemplate getRestTemplate() {\r\n\t\treturn new RestTemplate();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SubscriberAccount getSubscriberAccount() {\r\n\t\treturn new SubscriberAccount();\r\n\t}\r\n\r\n}\r\n\r\n```\r\nDomain :\r\n\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;subscriber_id&quot;,\r\n    &quot;unique_key_id&quot;,\r\n    &quot;participant_legal_name&quot;,\r\n    &quot;participant_type&quot;,\r\n    &quot;pan&quot;,\r\n    &quot;bank_details&quot;,\r\n    &quot;created_at&quot;,\r\n    &quot;updated_at&quot;\r\n})\r\n\r\npublic class SubscriberAccount {\r\n\r\n\t@JsonProperty(&quot;subscriber_id&quot;)\r\n\tprivate String subscriber_id;\r\n\r\n\t@JsonProperty(&quot;unique_key_id&quot;)\r\n\tprivate String unique_key_id;\r\n\r\n\t@JsonProperty(&quot;participant_legal_name&quot;)\r\n\tprivate String participant_legal_name;\r\n\r\n\t@JsonProperty(&quot;participant_type&quot;)\r\n\tprivate String participant_type;\r\n\r\n\t@JsonProperty(&quot;pan&quot;)\r\n\tprivate PanDetails panDetails;\r\n\r\n\t@JsonProperty(&quot;bank_details&quot;)\r\n\tprivate BankAccountDetails accountDetails;\r\n\r\n\t@JsonProperty(&quot;created_at&quot;)\r\n\tprivate String created_at;\r\n\r\n\t@JsonProperty(&quot;updated_at&quot;)\r\n\tprivate String updated_at;\r\n\tprivate List&lt;SubscriberAccount&gt; subsAccount;\r\n\t\r\n\t/**/\r\n\tpublic String getSubscriber_id() {\r\n\t\treturn subscriber_id;\r\n\t}\r\n\r\n\tpublic void setSubscriber_id(String subscriber_id) {\r\n\t\tthis.subscriber_id = subscriber_id;\r\n\t}\r\n\r\n\tpublic String getUnique_key_id() {\r\n\t\treturn unique_key_id;\r\n\t}\r\n\r\n\tpublic void setUnique_key_id(String unique_key_id) {\r\n\t\tthis.unique_key_id = unique_key_id;\r\n\t}\r\n\r\n\tpublic String getParticipant_legal_name() {\r\n\t\treturn participant_legal_name;\r\n\t}\r\n\r\n\tpublic void setParticipant_legal_name(String participant_legal_name) {\r\n\t\tthis.participant_legal_name = participant_legal_name;\r\n\t}\r\n\r\n\tpublic String getParticipant_type() {\r\n\t\treturn participant_type;\r\n\t}\r\n\r\n\tpublic void setParticipant_type(String participant_type) {\r\n\t\tthis.participant_type = participant_type;\r\n\t}\r\n\r\n\tpublic PanDetails getPanDetails() {\r\n\t\treturn panDetails;\r\n\t}\r\n\r\n\tpublic void setPanDetails(PanDetails panDetails) {\r\n\t\tthis.panDetails = panDetails;\r\n\t}\r\n\r\n\tpublic BankAccountDetails getAccountDetails() {\r\n\t\treturn accountDetails;\r\n\t}\r\n\r\n\tpublic void setAccountDetails(BankAccountDetails accountDetails) {\r\n\t\tthis.accountDetails = accountDetails;\r\n\t}\r\n\r\n\tpublic String getCreated_at() {\r\n\t\treturn created_at;\r\n\t}\r\n\r\n\tpublic void setCreated_at(String created_at) {\r\n\t\tthis.created_at = created_at;\r\n\t}\r\n\r\n\tpublic String getUpdated_at() {\r\n\t\treturn updated_at;\r\n\t}\r\n\r\n\tpublic void setUpdated_at(String updated_at) {\r\n\t\tthis.updated_at = updated_at;\r\n\t}\r\n\r\n\tpublic SubscriberAccount(String subscriber_id, String unique_key_id, String participant_legal_name,\r\n\t\t\tString participant_type, PanDetails panDetails, BankAccountDetails accountDetails, String created_at,\r\n\t\t\tString updated_at) {\r\n\t\tsuper();\r\n\t\tthis.subscriber_id = subscriber_id;\r\n\t\tthis.unique_key_id = unique_key_id;\r\n\t\tthis.participant_legal_name = participant_legal_name;\r\n\t\tthis.participant_type = participant_type;\r\n\t\tthis.panDetails = panDetails;\r\n\t\tthis.accountDetails = accountDetails;\r\n\t\tthis.created_at = created_at;\r\n\t\tthis.updated_at = updated_at;\r\n\t}\r\n\r\n\tpublic SubscriberAccount() {\r\n\t\t\r\n\t}\r\n\tpublic List&lt;SubscriberAccount&gt; getSubsAccount() {\r\n\t\treturn subsAccount;\r\n\t}\r\n\tpublic void setSubsAccount(List&lt;SubscriberAccount&gt; subsAccount) {\r\n\t\tthis.subsAccount = subsAccount;\r\n\t}\r\n}\r\n```\r\nController:\r\n\r\n```\r\n@RestController\r\npublic class AccountValidationController {\r\n\t@Autowired\r\n\tFetchRegistrationDetails fetchRegistrationDetailsSerivce;\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate RestTemplate restTemplate;\r\n\t\r\n\t@RequestMapping(value =&quot;/registration&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;SubscriberAccount&gt;&gt; getRegistrationDetails() throws URISyntaxException {\r\n\t\t\r\n\t\tList&lt;SubscriberAccount&gt; subAccountList  = fetchRegistrationDetailsSerivce.fetchRegistrationDetails();\r\n\t\t\r\n\t\t\r\n\t\treturn ResponseEntity.ok(subAccountList);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n```\r\nInterface:\r\n\r\n```\r\npublic interface FetchRegistrationDetails {\r\n\t\r\n\tpublic List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException;\r\n}\r\n```\r\n\r\nServiceImpl:\r\n\r\n```\r\n@Service(&quot;fetchRegistrationDetails&quot;)\r\npublic class FetchRegistrationDetailsImpl implements FetchRegistrationDetails {\r\n\r\n\t@Autowired\r\n\tRestTemplate restTemplate;\r\n\r\n\t@Autowired(required = true)\r\n\tSendToExcel sendToExcel;\r\n\r\n\tpublic List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString url = &quot;http://localhost:8091/api/registrationAPI&quot;;\r\n\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\t\r\n\t\tList&lt;SubscriberAccount&gt; subAccList = (List&lt;SubscriberAccount&gt;) restTemplate.getForObject(url,\r\n\t\t\t\tList.class, headers);\r\n\t\t// List&lt;SubscriberAccount&gt; subcrLi st = subAccList.getBody();\r\n\r\n\t\tfor (SubscriberAccount subscriberAccount : subAccList) {\r\n\t\t\tSystem.out.println(subscriberAccount);\r\n\t\t}\r\n\r\n\t\tsendToExcel.saveDataToExcel(subAccList);\r\n\r\n\t\treturn subAccList;\r\n\t}\r\n\r\n}\r\n```\r\nMS2:\r\n-----\r\nDomain:\r\nSame domain as above\r\n\r\nController:\r\n@RestController\r\n```\r\npublic class SimulatorController {\r\n\t\r\n\tstatic final String url = &quot;http:localhost:8091/api/registrationAPI&quot;;\r\n\t@Autowired\r\n\tprivate  SimulatorService simulatorService;\r\n\t\r\n\t\r\n\t@GetMapping(value =&quot;/registrationAPI&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;SimulatorDTO&gt;&gt; sendRegistrationData() throws Exception {\r\n\t\tList&lt;SimulatorDTO&gt; simulatorEntity = simulatorService.sendRegistrationData();\r\n\t\t\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n\t\t\r\n\t\t\r\n\treturn ResponseEntity.status(HttpStatus.OK).headers(headers).body(simulatorEntity);\r\n\t}\r\n}\r\n```\r\nserviceInterface:\r\n\r\n```\r\n@Component\r\npublic interface SimulatorService {\r\n\r\n\t\r\n\r\n\tpublic List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException;\r\n\r\n\tList&lt;SimulatorDTO&gt; fetchDetailsFromExcel(File file) throws FileNotFoundException, IOException;\r\n}\r\n```\r\nServiceImpl:\r\n\r\n```\r\n@Service\r\npublic class SimulatorServiceImpl implements SimulatorService {\r\n\r\n\t@Override\r\n\tpublic List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException {\r\n\t\t\r\n\t\tFile file = new File(&quot;D:\\\\Workspace\\\\RegistrationData.xlsx&quot;);\r\n\t\t\r\n\t\t\r\n\t\t  List&lt;SimulatorDTO&gt; list = new ArrayList&lt;&gt;(); \r\nPanDTO panDTO = new PanDTO(&quot;AVLPT1847Q&quot;, &quot;DummyName&quot;, &quot;12-12-2011&quot;);\r\n\t\t  \r\n\t\t  BankDTO bankDTO = new BankDTO(&quot;202120211077&quot;, &quot;SBIN000836&quot;, &quot;DummyName&quot;,\r\n\t\t  &quot;Nodal&quot;); \r\n\t\t  list.add(new SimulatorDTO(&quot;ABC.com&quot;, &quot;123456789ABC&quot;, &quot;DUmmyName&quot;,\r\n\t\t  panDTO, bankDTO, &quot;2023-01-23&quot;, &quot;2023-01-23&quot;)); \r\n\t\t  list.add(new SimulatorDTO(&quot;AcC.com&quot;, &quot;1233356789ABC&quot;, &quot;DuummyName&quot;, panDTO, bankDTO,\r\n\t\t  &quot;2023-01-24&quot;, &quot;2023-01-24&quot;));\r\n\t\t \r\n\t\t\r\n\t\tSystem.out.print(list);\r\n\t\treturn list;\r\n\t}\r\n```\r\nPlease let me know what are your thoughts. \r\nNote: I am not using any DB here I am just saving in excel. \r\n\r\n\r\n\r\n\r\nI tried manually setting the headers with Content-Type is Application/json. but no use still it says 415 error code.\r\n\r\nI am expecting a new approach and mostly used approach if avoids these kind of bottlenecks.","title":"Getting HTTP status code 415: Unsupported Media type exception for Get API using Rest Template","body":"<p>I have created two spring boot projects called MS1 and MS2 running on different ports in my local system. MS1.controller has /GetAPI which call the external API end point which is MS2.controller /GetAPI. When I run MS2 it fetches the data in JSON. But when I trigger the API with MS1 then it throws 415 Unsupported Media Type. In spring boot by default data format is JSON. I have even created the headers and added to the restTemplate.getForObject() method. Please refer my code and let me know where it is going wrong.</p>\n<h2>MS1</h2>\n<p>main class:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;ondc_account_validation&quot;)\npublic class OndcAccountValidation {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        SpringApplication.run(OndcAccountValidation.class, args);\n\n    }\n    @Bean\n    public RestTemplate getRestTemplate() {\n        return new RestTemplate();\n    }\n    \n    @Bean\n    public SubscriberAccount getSubscriberAccount() {\n        return new SubscriberAccount();\n    }\n\n}\n\n</code></pre>\n<p>Domain :</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;subscriber_id&quot;,\n    &quot;unique_key_id&quot;,\n    &quot;participant_legal_name&quot;,\n    &quot;participant_type&quot;,\n    &quot;pan&quot;,\n    &quot;bank_details&quot;,\n    &quot;created_at&quot;,\n    &quot;updated_at&quot;\n})\n\npublic class SubscriberAccount {\n\n    @JsonProperty(&quot;subscriber_id&quot;)\n    private String subscriber_id;\n\n    @JsonProperty(&quot;unique_key_id&quot;)\n    private String unique_key_id;\n\n    @JsonProperty(&quot;participant_legal_name&quot;)\n    private String participant_legal_name;\n\n    @JsonProperty(&quot;participant_type&quot;)\n    private String participant_type;\n\n    @JsonProperty(&quot;pan&quot;)\n    private PanDetails panDetails;\n\n    @JsonProperty(&quot;bank_details&quot;)\n    private BankAccountDetails accountDetails;\n\n    @JsonProperty(&quot;created_at&quot;)\n    private String created_at;\n\n    @JsonProperty(&quot;updated_at&quot;)\n    private String updated_at;\n    private List&lt;SubscriberAccount&gt; subsAccount;\n    \n    /**/\n    public String getSubscriber_id() {\n        return subscriber_id;\n    }\n\n    public void setSubscriber_id(String subscriber_id) {\n        this.subscriber_id = subscriber_id;\n    }\n\n    public String getUnique_key_id() {\n        return unique_key_id;\n    }\n\n    public void setUnique_key_id(String unique_key_id) {\n        this.unique_key_id = unique_key_id;\n    }\n\n    public String getParticipant_legal_name() {\n        return participant_legal_name;\n    }\n\n    public void setParticipant_legal_name(String participant_legal_name) {\n        this.participant_legal_name = participant_legal_name;\n    }\n\n    public String getParticipant_type() {\n        return participant_type;\n    }\n\n    public void setParticipant_type(String participant_type) {\n        this.participant_type = participant_type;\n    }\n\n    public PanDetails getPanDetails() {\n        return panDetails;\n    }\n\n    public void setPanDetails(PanDetails panDetails) {\n        this.panDetails = panDetails;\n    }\n\n    public BankAccountDetails getAccountDetails() {\n        return accountDetails;\n    }\n\n    public void setAccountDetails(BankAccountDetails accountDetails) {\n        this.accountDetails = accountDetails;\n    }\n\n    public String getCreated_at() {\n        return created_at;\n    }\n\n    public void setCreated_at(String created_at) {\n        this.created_at = created_at;\n    }\n\n    public String getUpdated_at() {\n        return updated_at;\n    }\n\n    public void setUpdated_at(String updated_at) {\n        this.updated_at = updated_at;\n    }\n\n    public SubscriberAccount(String subscriber_id, String unique_key_id, String participant_legal_name,\n            String participant_type, PanDetails panDetails, BankAccountDetails accountDetails, String created_at,\n            String updated_at) {\n        super();\n        this.subscriber_id = subscriber_id;\n        this.unique_key_id = unique_key_id;\n        this.participant_legal_name = participant_legal_name;\n        this.participant_type = participant_type;\n        this.panDetails = panDetails;\n        this.accountDetails = accountDetails;\n        this.created_at = created_at;\n        this.updated_at = updated_at;\n    }\n\n    public SubscriberAccount() {\n        \n    }\n    public List&lt;SubscriberAccount&gt; getSubsAccount() {\n        return subsAccount;\n    }\n    public void setSubsAccount(List&lt;SubscriberAccount&gt; subsAccount) {\n        this.subsAccount = subsAccount;\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class AccountValidationController {\n    @Autowired\n    FetchRegistrationDetails fetchRegistrationDetailsSerivce;\n    \n    \n    @Autowired\n    private RestTemplate restTemplate;\n    \n    @RequestMapping(value =&quot;/registration&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;SubscriberAccount&gt;&gt; getRegistrationDetails() throws URISyntaxException {\n        \n        List&lt;SubscriberAccount&gt; subAccountList  = fetchRegistrationDetailsSerivce.fetchRegistrationDetails();\n        \n        \n        return ResponseEntity.ok(subAccountList);\n    }\n    \n    \n    \n}\n\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface FetchRegistrationDetails {\n    \n    public List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException;\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service(&quot;fetchRegistrationDetails&quot;)\npublic class FetchRegistrationDetailsImpl implements FetchRegistrationDetails {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    @Autowired(required = true)\n    SendToExcel sendToExcel;\n\n    public List&lt;SubscriberAccount&gt; fetchRegistrationDetails() throws URISyntaxException {\n        // TODO Auto-generated method stub\n        String url = &quot;http://localhost:8091/api/registrationAPI&quot;;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        \n        List&lt;SubscriberAccount&gt; subAccList = (List&lt;SubscriberAccount&gt;) restTemplate.getForObject(url,\n                List.class, headers);\n        // List&lt;SubscriberAccount&gt; subcrLi st = subAccList.getBody();\n\n        for (SubscriberAccount subscriberAccount : subAccList) {\n            System.out.println(subscriberAccount);\n        }\n\n        sendToExcel.saveDataToExcel(subAccList);\n\n        return subAccList;\n    }\n\n}\n</code></pre>\n<h2>MS2:</h2>\n<p>Domain:\nSame domain as above</p>\n<p>Controller:\n@RestController</p>\n<pre><code>public class SimulatorController {\n    \n    static final String url = &quot;http:localhost:8091/api/registrationAPI&quot;;\n    @Autowired\n    private  SimulatorService simulatorService;\n    \n    \n    @GetMapping(value =&quot;/registrationAPI&quot;, consumes =&quot;application/json&quot; , produces=&quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;SimulatorDTO&gt;&gt; sendRegistrationData() throws Exception {\n        List&lt;SimulatorDTO&gt; simulatorEntity = simulatorService.sendRegistrationData();\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        \n        \n    return ResponseEntity.status(HttpStatus.OK).headers(headers).body(simulatorEntity);\n    }\n}\n</code></pre>\n<p>serviceInterface:</p>\n<pre><code>@Component\npublic interface SimulatorService {\n\n    \n\n    public List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException;\n\n    List&lt;SimulatorDTO&gt; fetchDetailsFromExcel(File file) throws FileNotFoundException, IOException;\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service\npublic class SimulatorServiceImpl implements SimulatorService {\n\n    @Override\n    public List&lt;SimulatorDTO&gt; sendRegistrationData() throws FileNotFoundException, IOException {\n        \n        File file = new File(&quot;D:\\\\Workspace\\\\RegistrationData.xlsx&quot;);\n        \n        \n          List&lt;SimulatorDTO&gt; list = new ArrayList&lt;&gt;(); \nPanDTO panDTO = new PanDTO(&quot;AVLPT1847Q&quot;, &quot;DummyName&quot;, &quot;12-12-2011&quot;);\n          \n          BankDTO bankDTO = new BankDTO(&quot;202120211077&quot;, &quot;SBIN000836&quot;, &quot;DummyName&quot;,\n          &quot;Nodal&quot;); \n          list.add(new SimulatorDTO(&quot;ABC.com&quot;, &quot;123456789ABC&quot;, &quot;DUmmyName&quot;,\n          panDTO, bankDTO, &quot;2023-01-23&quot;, &quot;2023-01-23&quot;)); \n          list.add(new SimulatorDTO(&quot;AcC.com&quot;, &quot;1233356789ABC&quot;, &quot;DuummyName&quot;, panDTO, bankDTO,\n          &quot;2023-01-24&quot;, &quot;2023-01-24&quot;));\n         \n        \n        System.out.print(list);\n        return list;\n    }\n</code></pre>\n<p>Please let me know what are your thoughts.\nNote: I am not using any DB here I am just saving in excel.</p>\n<p>I tried manually setting the headers with Content-Type is Application/json. but no use still it says 415 error code.</p>\n<p>I am expecting a new approach and mostly used approach if avoids these kind of bottlenecks.</p>\n"},{"tags":["java","maven","pom.xml","packaging","intellij-13"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676921073,"post_id":75512884,"comment_id":133230738,"body_markdown":"remove the whole stuff about maven-dependency-plugin and go with the answer...","body":"remove the whole stuff about maven-dependency-plugin and go with the answer..."}],"answers":[{"comments":[{"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"score":0,"creation_date":1676923023,"post_id":75512938,"comment_id":133231215,"body_markdown":"As I have multiple projects that depend on this library, there any way for them to copy into their own file structure at compile-time?","body":"As I have multiple projects that depend on this library, there any way for them to copy into their own file structure at compile-time?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1676923169,"post_id":75512938,"comment_id":133231247,"body_markdown":"Are these maven projects?","body":"Are these maven projects?"},{"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"score":0,"creation_date":1676924076,"post_id":75512938,"comment_id":133231432,"body_markdown":"yes.  They are on the same machine and file system","body":"yes.  They are on the same machine and file system"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":1,"creation_date":1676924548,"post_id":75512938,"comment_id":133231529,"body_markdown":"So, you don‚Äôt need to copy anything manually if you add this project to their Pom files. The way to do it is by adding a dependency just like you did with log4j (use your groupId, artifact and version) and maven will take care for the rest.","body":"So, you don‚Äôt need to copy anything manually if you add this project to their Pom files. The way to do it is by adding a dependency just like you did with log4j (use your groupId, artifact and version) and maven will take care for the rest."}],"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676919171,"creation_date":1676917876,"answer_id":75512938,"question_id":75512884,"body_markdown":"If you want to use one dependency in another maven project that is compiled locally, all you need to do is to run `mvn clean install` on the dependency project, this will add the `jar` to your local `m2` repository. Then, you‚Äôll need to add it as a dependency in another pom.\r\nWhen you will build the other maven project, maven will look for that dependency in your local `m2` folder and will fetch it from there.","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>If you want to use one dependency in another maven project that is compiled locally, all you need to do is to run <code>mvn clean install</code> on the dependency project, this will add the <code>jar</code> to your local <code>m2</code> repository. Then, you‚Äôll need to add it as a dependency in another pom.\nWhen you will build the other maven project, maven will look for that dependency in your local <code>m2</code> folder and will fetch it from there.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1677014439,"post_id":75524497,"comment_id":133253011,"body_markdown":"For maven projects this is not a good solution!","body":"For maven projects this is not a good solution!"}],"tags":[],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677003966,"creation_date":1677003966,"answer_id":75524497,"question_id":75512884,"body_markdown":"Thanks for everyone&#39;s help.  It was a lot more obvious than I was thinking:\r\nIn the jar project, I have it building the jar:\r\nfile-&gt;Project Structure-&gt;artifacts (make sure that &quot;Include in build project&quot; is selected.  You may also want to play with the output jar file name.  Build the project.  This should create your &quot;out&quot; folder in your project that contains the jar library.\r\nIn the project you want to include the library, add this jar file to the its libraries:\r\nfile-&gt;Project Structure-&gt;libraries (locate and add the newly built jar file.)\r\n\r\nNow, whenever the jar library is updated, the project will have the latest and greatest.","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>Thanks for everyone's help.  It was a lot more obvious than I was thinking:\nIn the jar project, I have it building the jar:\nfile-&gt;Project Structure-&gt;artifacts (make sure that &quot;Include in build project&quot; is selected.  You may also want to play with the output jar file name.  Build the project.  This should create your &quot;out&quot; folder in your project that contains the jar library.\nIn the project you want to include the library, add this jar file to the its libraries:\nfile-&gt;Project Structure-&gt;libraries (locate and add the newly built jar file.)</p>\n<p>Now, whenever the jar library is updated, the project will have the latest and greatest.</p>\n"}],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677003966,"creation_date":1676917530,"question_id":75512884,"body_markdown":"I have a jar file project that I want to use in other projects.\r\nI want to copy the jar file to the other projects&#39; folder.\r\nIdeally I would like the dependent project to compare the jar file in its folder and copy the library jar if it is newer.\r\nI am willing to accept having the library project copy the jar to the other projects every time it packages.\r\n\r\nI have found many examples, but I am unable to get any of them to work for me.\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SqlPersistance&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-artifact&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n                                        &lt;version&gt;${project.version}&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                        &lt;overWrite&gt;true&lt;/overWrite&gt;\r\n                                        &lt;outputDirectory&gt;../TEST1&lt;/outputDirectory&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe TEST1 folder is never ccreated.\r\n\r\n","title":"Trying to copy a jar file at compile time (or packaging time) using maven and intellij","body":"<p>I have a jar file project that I want to use in other projects.\nI want to copy the jar file to the other projects' folder.\nIdeally I would like the dependent project to compare the jar file in its folder and copy the library jar if it is newer.\nI am willing to accept having the library project copy the jar to the other projects every time it packages.</p>\n<p>I have found many examples, but I am unable to get any of them to work for me.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SqlPersistance&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-artifact&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                    &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n                                    &lt;version&gt;${project.version}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;../TEST1&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The TEST1 folder is never ccreated.</p>\n"},{"tags":["java","selenium-webdriver","web-scraping"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1676931791,"post_id":75509556,"comment_id":133233112,"body_markdown":"The handcrafted HTML makes it more difficult to understand the HTML as well as test our solutions before publishing. Update the question with the text based actual HTML.","body":"The handcrafted HTML makes it more difficult to understand the HTML as well as test our solutions before publishing. Update the question with the text based actual HTML."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676987898,"post_id":75509556,"comment_id":133244676,"body_markdown":"@undetectedSelenium I&#39;ve updated my post with some more of the html, hopefully that&#39;s helpful","body":"@undetectedSelenium I&#39;ve updated my post with some more of the html, hopefully that&#39;s helpful"}],"answers":[{"comments":[{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676903597,"post_id":75509686,"comment_id":133225831,"body_markdown":"I&#39;ve changed it to this but the issue still occurs.","body":"I&#39;ve changed it to this but the issue still occurs."},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1676955100,"post_id":75509686,"comment_id":133236051,"body_markdown":"Can you share the actual `HTML`  as it seems to be written by yourself. OR provide the `URL` if it is public.","body":"Can you share the actual <code>HTML</code>  as it seems to be written by yourself. OR provide the <code>URL</code> if it is public."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676972468,"post_id":75509686,"comment_id":133239910,"body_markdown":"I&#39;ve added more of the html document, it is a private page so I can&#39;t add much more.","body":"I&#39;ve added more of the html document, it is a private page so I can&#39;t add much more."}],"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676898734,"creation_date":1676898734,"answer_id":75509686,"question_id":75509556,"body_markdown":"You should try the below\r\n\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;)));\r\n\r\nInstead of \r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;))","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>You should try the below</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;)));\n</code></pre>\n<p>Instead of</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676972147,"post_id":75517007,"comment_id":133239799,"body_markdown":"When I do this, I get : Expected condition failed: waiting for element to be clickable","body":"When I do this, I get : Expected condition failed: waiting for element to be clickable"},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676973663,"post_id":75517007,"comment_id":133240264,"body_markdown":"//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]//span clicks and then your xpath returns true for isSelected, but it doesn&#39;t always click. Even when it doesn&#39;t, it returns isSelected = true.","body":"//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preced&zwnj;&#8203;ing::td[3]//span clicks and then your xpath returns true for isSelected, but it doesn&#39;t always click. Even when it doesn&#39;t, it returns isSelected = true."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1676975495,"post_id":75517007,"comment_id":133240801,"body_markdown":"I&#39;ve added the full row of html","body":"I&#39;ve added the full row of html"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677003384,"post_id":75517007,"comment_id":133249867,"body_markdown":"Given the HTML you&#39;ve posted, the original XPath I posted should work but it&#39;s not how I would have written it. I&#39;ve updated my answer with another XPath the way I would write it along with an explanation. When you try these, please post the full error message so I can see what the issue might be.","body":"Given the HTML you&#39;ve posted, the original XPath I posted should work but it&#39;s not how I would have written it. I&#39;ve updated my answer with another XPath the way I would write it along with an explanation. When you try these, please post the full error message so I can see what the issue might be."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677003560,"post_id":75517007,"comment_id":133249912,"body_markdown":"NOTE: One danger with using `following::td` and `preceding::td` is that it can jump to another table or row on the page which would obviously be bad and very confusing to debug. The way I&#39;ve written it, all the cells must be within the same TR (in the same table).","body":"NOTE: One danger with using <code>following::td</code> and <code>preceding::td</code> is that it can jump to another table or row on the page which would obviously be bad and very confusing to debug. The way I&#39;ve written it, all the cells must be within the same TR (in the same table)."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1677244188,"post_id":75517007,"comment_id":133304477,"body_markdown":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td[1]//input (tried for 30 second(s) with 2000 milliseconds interval)","body":"org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td&zwnj;&#8203;[1]//input (tried for 30 second(s) with 2000 milliseconds interval)"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1677257514,"post_id":75517007,"comment_id":133308463,"body_markdown":"I&#39;m not sure what&#39;s happening. That locator works on the HTML you posted. Are you sure that the current page you&#39;re looking at matches with what is expected? &quot;Name&quot; in column 2, &quot;8&quot; in column 4, and an INPUT in column 1? I can&#39;t verify anything myself past the HTML you posted without a link to the page itself.","body":"I&#39;m not sure what&#39;s happening. That locator works on the HTML you posted. Are you sure that the current page you&#39;re looking at matches with what is expected? &quot;Name&quot; in column 2, &quot;8&quot; in column 4, and an INPUT in column 1? I can&#39;t verify anything myself past the HTML you posted without a link to the page itself."},{"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"score":0,"creation_date":1677506281,"post_id":75517007,"comment_id":133345355,"body_markdown":"The locator definitely works, but its not clickable for some reason. I can&#39;t post the full html or the link as its a private page. @JeffC","body":"The locator definitely works, but its not clickable for some reason. I can&#39;t post the full html or the link as its a private page. @JeffC"}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677003289,"creation_date":1676961392,"answer_id":75517007,"question_id":75509556,"body_markdown":"I think the issue is that your XPath is returning a TD and not the INPUT \\*inside\\* the TD. That&#39;s likely the reason why\r\n\r\n1. Your clicks aren&#39;t always successful. Selenium clicks the exact middle of the element you specify so it&#39;s possible that sometimes the exact middle of the TD hits the checkbox/label and other times it doesn&#39;t.\r\n\r\n1. `.isSelected()` is never going to return anything but `false` when called on a TD element.\r\n\r\nYou need to update your XPath to return the INPUT. The XPath below is the modified version of your current XPath that works with the HTML provided.\r\n\r\n    //td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]//input\r\n\r\nI would rewrite it to the XPath below.\r\n\r\n    //tr[./td[2]/div[text()=&#39;Name&#39;]][./td[4]/div[text()=&#39;8&#39;]]/td[1]//input\r\n\r\n| XPath | Description |\r\n| --- | --- |\r\n| //tr | From the top of the DOM, find any TR|\r\n| [./td[2]/div[text()=&#39;Name&#39;]] | In that TR, the second column contains a DIV with the text &quot;Name&quot; |\r\n| [./td[4]/div[text()=&#39;8&#39;]]     | In that TR, the fourth column contains a DIV with the text &quot;8&quot; |\r\n| /td[1]//input | The INPUT in the first column |\r\n\r\nThis XPath validates that &quot;Name&quot; is in column 2, &quot;8&quot; is in column 4, and the INPUT is in column 1.","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>I think the issue is that your XPath is returning a TD and not the INPUT *inside* the TD. That's likely the reason why</p>\n<ol>\n<li><p>Your clicks aren't always successful. Selenium clicks the exact middle of the element you specify so it's possible that sometimes the exact middle of the TD hits the checkbox/label and other times it doesn't.</p>\n</li>\n<li><p><code>.isSelected()</code> is never going to return anything but <code>false</code> when called on a TD element.</p>\n</li>\n</ol>\n<p>You need to update your XPath to return the INPUT. The XPath below is the modified version of your current XPath that works with the HTML provided.</p>\n<pre><code>//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]//input\n</code></pre>\n<p>I would rewrite it to the XPath below.</p>\n<pre><code>//tr[./td[2]/div[text()='Name']][./td[4]/div[text()='8']]/td[1]//input\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>XPath</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>//tr</td>\n<td>From the top of the DOM, find any TR</td>\n</tr>\n<tr>\n<td>[./td[2]/div[text()='Name']]</td>\n<td>In that TR, the second column contains a DIV with the text &quot;Name&quot;</td>\n</tr>\n<tr>\n<td>[./td[4]/div[text()='8']]</td>\n<td>In that TR, the fourth column contains a DIV with the text &quot;8&quot;</td>\n</tr>\n<tr>\n<td>/td[1]//input</td>\n<td>The INPUT in the first column</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>This XPath validates that &quot;Name&quot; is in column 2, &quot;8&quot; is in column 4, and the INPUT is in column 1.</p>\n"}],"owner":{"account_id":27156002,"reputation":25,"user_id":20694824,"display_name":"Lemonand09"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677003289,"creation_date":1676897942,"question_id":75509556,"body_markdown":"I am trying to click a check box within a td, using\r\n\r\n    WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()=&#39;Name&#39;]/following::td/div[text()=&#39;8&#39;]/preceding::td[3]&quot;))\r\n\r\nSometimes the checkbox is selected, however when I run `element.isSelected();` it&#39;s always `false`. When the element isn&#39;t selected, I don&#39;t get an error message thrown at all, it just passes but the checkbox hasn&#39;t actually been clicked. I can&#39;t understand why this is, I have tried using javascript and `Actions` however this doesn&#39;t resolve the issue as it only works sometimes.\r\n\r\nI&#39;m using the XPath to click the following TD:\r\n\r\n    &lt;tr class=&quot;MuiTableRow-root jss122 undefined MuiTableRow-hover&quot; data-testid=&quot;MUIDataTableBodyRow-37&quot; id=&quot;MUIDataTableBodyRow-37&quot;&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss91 jss93 MuiTableCell-paddingCheckbox&quot;&gt;\r\n        &lt;div style=&quot;display: flex; align-items: center&quot;&gt;\r\n          &lt;span class=&quot;MuiButtonBase-root MuiIconButton-root jss102 MuiCheckbox-root jss99 MuiCheckbox-colorPrimary MuiIconButton-colorPrimary&quot; aria-disabled=&quot;false&quot; data-description=&quot;row-select&quot; data-index=&quot;37&quot;&gt;\r\n            &lt;span class=&quot;MuiIconButton-label&quot;&gt;\r\n              &lt;input class=&quot;jss98&quot; id=&quot;MUIDataTableSelectCell-37&quot; type=&quot;checkbox&quot; data-indeterminate=&quot;false&quot; value=&quot;&quot; /&gt;\r\n              &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n                &lt;path d=&quot;M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z&quot;&gt;&lt;/path&gt;\r\n              &lt;/svg&gt;\r\n            &lt;/span&gt;\r\n            &lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;\r\n          &lt;/span&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;0&quot; data-testid=&quot;MuiDataTableBodyCell-0-0&quot;&gt;\r\n        &lt;div class=&quot;jss126&quot;&gt;Name&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;1&quot; data-testid=&quot;MuiDataTableBodyCell-1-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;Jenny&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;2&quot; data-testid=&quot;MuiDataTableBodyCell-2-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;8&lt;/div&gt;\r\n      &lt;/td&gt;\r\n      &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;3&quot; data-testid=&quot;MuiDataTableBodyCell-3-0&quot;&gt;\r\n        &lt;div class=&quot;jss120&quot;&gt;\r\n          &lt;div&gt;\r\n            &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n              &lt;path d=&quot;M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z&quot;&gt;&lt;/path&gt;\r\n            &lt;/svg&gt;\r\n            &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\r\n              &lt;path d=&quot;M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z&quot;&gt;&lt;/path&gt;\r\n            &lt;/svg&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nI have tried other possible XPaths, like with INPUT, etc.","title":"Why does clicking a check box within a td not always work using selenium?","body":"<p>I am trying to click a check box within a td, using</p>\n<pre><code>WebElement element = wait.until(ExpectedConditions.presenceOfElementLocated(&quot;//td/div[text()='Name']/following::td/div[text()='8']/preceding::td[3]&quot;))\n</code></pre>\n<p>Sometimes the checkbox is selected, however when I run <code>element.isSelected();</code> it's always <code>false</code>. When the element isn't selected, I don't get an error message thrown at all, it just passes but the checkbox hasn't actually been clicked. I can't understand why this is, I have tried using javascript and <code>Actions</code> however this doesn't resolve the issue as it only works sometimes.</p>\n<p>I'm using the XPath to click the following TD:</p>\n<pre><code>&lt;tr class=&quot;MuiTableRow-root jss122 undefined MuiTableRow-hover&quot; data-testid=&quot;MUIDataTableBodyRow-37&quot; id=&quot;MUIDataTableBodyRow-37&quot;&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss91 jss93 MuiTableCell-paddingCheckbox&quot;&gt;\n    &lt;div style=&quot;display: flex; align-items: center&quot;&gt;\n      &lt;span class=&quot;MuiButtonBase-root MuiIconButton-root jss102 MuiCheckbox-root jss99 MuiCheckbox-colorPrimary MuiIconButton-colorPrimary&quot; aria-disabled=&quot;false&quot; data-description=&quot;row-select&quot; data-index=&quot;37&quot;&gt;\n        &lt;span class=&quot;MuiIconButton-label&quot;&gt;\n          &lt;input class=&quot;jss98&quot; id=&quot;MUIDataTableSelectCell-37&quot; type=&quot;checkbox&quot; data-indeterminate=&quot;false&quot; value=&quot;&quot; /&gt;\n          &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n            &lt;path d=&quot;M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z&quot;&gt;&lt;/path&gt;\n          &lt;/svg&gt;\n        &lt;/span&gt;\n        &lt;span class=&quot;MuiTouchRipple-root&quot;&gt;&lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;0&quot; data-testid=&quot;MuiDataTableBodyCell-0-0&quot;&gt;\n    &lt;div class=&quot;jss126&quot;&gt;Name&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;1&quot; data-testid=&quot;MuiDataTableBodyCell-1-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;Jenny&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;2&quot; data-testid=&quot;MuiDataTableBodyCell-2-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;8&lt;/div&gt;\n  &lt;/td&gt;\n  &lt;td class=&quot;MuiTableCell-root MuiTableCell-body jss126&quot; data-colindex=&quot;3&quot; data-testid=&quot;MuiDataTableBodyCell-3-0&quot;&gt;\n    &lt;div class=&quot;jss120&quot;&gt;\n      &lt;div&gt;\n        &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n          &lt;path d=&quot;M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z&quot;&gt;&lt;/path&gt;\n        &lt;/svg&gt;\n        &lt;svg class=&quot;MuiSvgIcon-root&quot; focusable=&quot;false&quot; viewBox=&quot;0 0 24 24&quot; aria-hidden=&quot;true&quot;&gt;\n          &lt;path d=&quot;M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z&quot;&gt;&lt;/path&gt;\n        &lt;/svg&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>I have tried other possible XPaths, like with INPUT, etc.</p>\n"},{"tags":["java","string","operator-overloading","string-concatenation"],"answers":[{"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":1,"creation_date":1267043726,"post_id":2328494,"comment_id":2299260,"body_markdown":"Impressive answer. Have you considered being a teacher?","body":"Impressive answer. Have you considered being a teacher?"},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1267047289,"post_id":2328494,"comment_id":2299811,"body_markdown":"@Willi Sch&#246;nborn: Well, it is the simple and correct answer. I didn&#39;t have time to write more when I wrote it and when I got back to the computer there were plenty of answers explaining it in more detail. Sorry to say, but I don&#39;t see the point in duplicating the other answers, I recommend reading @Sean&#39;s and @jleedev&#39;s if you need more info (And yes, teaching is on my resume).","body":"@Willi Sch&#246;nborn: Well, it is the simple and correct answer. I didn&#39;t have time to write more when I wrote it and when I got back to the computer there were plenty of answers explaining it in more detail. Sorry to say, but I don&#39;t see the point in duplicating the other answers, I recommend reading @Sean&#39;s and @jleedev&#39;s if you need more info (And yes, teaching is on my resume)."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1267123541,"post_id":2328494,"comment_id":2307583,"body_markdown":"The point is: Your answer is so general, it fits for almost ~75% of all java related questions on SO.","body":"The point is: Your answer is so general, it fits for almost ~75% of all java related questions on SO."},{"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"score":0,"creation_date":1267124332,"post_id":2328494,"comment_id":2307668,"body_markdown":"@Will Sch&#246;nborn 75% of all java issues are not handled by the compiler. In fact, in most cases the compiler just compiles source to byte code. The few exceptions are the + operator on String and a few things where the result is intrinsic function inlining. My answer got in first with the only intention to be a quick answer to point the OP in the right direction while waiting for more complete answers. I had like 30s to spare before a meeting and dedicated them to SO. If you don&#39;t like that, please go visit the hyphen site or something or build some rep yourself instead of complaining.","body":"@Will Sch&#246;nborn 75% of all java issues are not handled by the compiler. In fact, in most cases the compiler just compiles source to byte code. The few exceptions are the + operator on String and a few things where the result is intrinsic function inlining. My answer got in first with the only intention to be a quick answer to point the OP in the right direction while waiting for more complete answers. I had like 30s to spare before a meeting and dedicated them to SO. If you don&#39;t like that, please go visit the hyphen site or something or build some rep yourself instead of complaining."}],"tags":[],"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"comment_count":4,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1267036382,"creation_date":1267036382,"answer_id":2328494,"question_id":2328483,"body_markdown":"It is handled by the compiler.","title":"+ operator for String in Java","body":"<p>It is handled by the compiler.</p>\n"},{"comments":[{"owner":{"account_id":88375,"reputation":12009,"user_id":244473,"display_name":"gpampara"},"score":0,"creation_date":1267075644,"post_id":2328502,"comment_id":2302118,"body_markdown":"`StringBuilder` should be preferred where synchronization is not a concern.","body":"<code>StringBuilder</code> should be preferred where synchronization is not a concern."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":1,"creation_date":1375201018,"post_id":2328502,"comment_id":26236073,"body_markdown":"@gpampara The Compiler knows to use StringBuilder. StringBuffer was used in old releases before the introduction of StringBuilder.","body":"@gpampara The Compiler knows to use StringBuilder. StringBuffer was used in old releases before the introduction of StringBuilder."}],"tags":[],"owner":{"account_id":10450,"reputation":172578,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1267036450,"creation_date":1267036450,"answer_id":2328502,"question_id":2328483,"body_markdown":"From the [Fine Manual](http://java.sun.com/javase/6/docs/api/java/lang/String.html):\r\n\r\n&gt; The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the `StringBuilder`(or `StringBuffer`) class and its `append` method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, *The Java Language Specification*.\r\n\r\nSee [String Concatenation](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1) in the JLS.","title":"+ operator for String in Java","body":"<p>From the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html\" rel=\"noreferrer\">Fine Manual</a>:</p>\n\n<blockquote>\n  <p>The Java language provides special support for the string concatenation operator ( + ), and for conversion of other objects to strings. String concatenation is implemented through the <code>StringBuilder</code>(or <code>StringBuffer</code>) class and its <code>append</code> method. String conversions are implemented through the method toString, defined by Object and inherited by all classes in Java. For additional information on string concatenation and conversion, see Gosling, Joy, and Steele, <em>The Java Language Specification</em>.</p>\n</blockquote>\n\n<p>See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1\" rel=\"noreferrer\">String Concatenation</a> in the JLS.</p>\n"},{"tags":[],"owner":{"account_id":9,"reputation":220303,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267036509,"creation_date":1267036509,"answer_id":2328509,"question_id":2328483,"body_markdown":"It&#39;s done at the language level. The Java Language Specification is [very specific about what string addition must do](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1).","title":"+ operator for String in Java","body":"<p>It's done at the language level. The Java Language Specification is <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.18.1\" rel=\"nofollow noreferrer\">very specific about what string addition must do</a>.</p>\n"},{"tags":[],"owner":{"account_id":33136,"reputation":27684,"user_id":92493,"accept_rate":83,"display_name":"Otto Allmendinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267036547,"creation_date":1267036547,"answer_id":2328516,"question_id":2328483,"body_markdown":"This is special behavior documented in the [language specification](http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990).\r\n\r\n&gt; 15.18.1 String Concatenation Operator +\r\n&gt; \r\n&gt; If only one operand expression is of\r\n&gt; type String, then string conversion is\r\n&gt; performed on the other operand to\r\n&gt; produce a string at run time. The\r\n&gt; result is a reference to a String\r\n&gt; object (newly created, unless the\r\n&gt; expression is a compile-time constant\r\n&gt; expression (&#167;15.28))that is the\r\n&gt; concatenation of the two operand\r\n&gt; strings. The characters of the\r\n&gt; left-hand operand precede the\r\n&gt; characters of the right-hand operand\r\n&gt; in the newly created string. If an\r\n&gt; operand of type String is null, then\r\n&gt; the string &quot;null&quot; is used instead of\r\n&gt; that operand.\r\n\r\n\r\n\r\n ","title":"+ operator for String in Java","body":"<p>This is special behavior documented in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#39990\" rel=\"nofollow noreferrer\">language specification</a>.</p>\n\n<blockquote>\n  <p>15.18.1 String Concatenation Operator +</p>\n  \n  <p>If only one operand expression is of\n  type String, then string conversion is\n  performed on the other operand to\n  produce a string at run time. The\n  result is a reference to a String\n  object (newly created, unless the\n  expression is a compile-time constant\n  expression (¬ß15.28))that is the\n  concatenation of the two operand\n  strings. The characters of the\n  left-hand operand precede the\n  characters of the right-hand operand\n  in the newly created string. If an\n  operand of type String is null, then\n  the string \"null\" is used instead of\n  that operand.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":61267,"reputation":29250,"user_id":182693,"accept_rate":77,"display_name":"Sean"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267040995,"creation_date":1267036548,"answer_id":2328517,"question_id":2328483,"body_markdown":"The compiler treats your code as if you had written something like:\r\n\r\n    String both = new StringBuilder().append(ab).append(cd).toString();\r\n\r\nEdit: Any reference?  Well, if I compile and decompile the OP&#39;s code, I get this:\r\n\r\n    0:  ldc #2; //String ab\r\n    2:  astore_1\r\n    3:  ldc #3; //String cd\r\n    5:  astore_2\r\n    6:  new #4; //class java/lang/StringBuilder\r\n    9:  dup\r\n    10: invokespecial   #5; //Method java/lang/StringBuilder.&quot;&lt;init&gt;&quot;:()V\r\n    13: aload_1\r\n    14: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    17: aload_2\r\n    18: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\r\n    21: invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\r\n    24: astore_3\r\n    25: return\r\n\r\nSo, it&#39;s like I said.\r\n","title":"+ operator for String in Java","body":"<p>The compiler treats your code as if you had written something like:</p>\n\n<pre><code>String both = new StringBuilder().append(ab).append(cd).toString();\n</code></pre>\n\n<p>Edit: Any reference?  Well, if I compile and decompile the OP's code, I get this:</p>\n\n<pre><code>0:  ldc #2; //String ab\n2:  astore_1\n3:  ldc #3; //String cd\n5:  astore_2\n6:  new #4; //class java/lang/StringBuilder\n9:  dup\n10: invokespecial   #5; //Method java/lang/StringBuilder.\"&lt;init&gt;\":()V\n13: aload_1\n14: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n17: aload_2\n18: invokevirtual   #6; //Method java/lang/StringBuilder.append:(Ljava/lang/String;)Ljava/lang/StringBuilder;\n21: invokevirtual   #7; //Method java/lang/StringBuilder.toString:()Ljava/lang/String;\n24: astore_3\n25: return\n</code></pre>\n\n<p>So, it's like I said.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267036857,"creation_date":1267036857,"answer_id":2328547,"question_id":2328483,"body_markdown":"`String` is defined as a standard type just like int, double, float, etc. on compiler level. Essentially, all compilers have operator overloading. Operator overloading is not defined for Developers (unlike in C++).\r\n\r\nInterestingly enough: This question was logged as a bug: https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919","title":"+ operator for String in Java","body":"<p><code>String</code> is defined as a standard type just like int, double, float, etc. on compiler level. Essentially, all compilers have operator overloading. Operator overloading is not defined for Developers (unlike in C++).</p>\n<p>Interestingly enough: This question was logged as a bug: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=4905919</a></p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Pa≈≠lo Ebermann"},"score":3,"creation_date":1375200912,"post_id":2328578,"comment_id":26236005,"body_markdown":"There is no `new String().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)`, but `new StringBuilder().append(&quot;a&quot;).append(&quot;b).append(&quot;c&quot;).toString()`. The *no-stringbuilder* way would be `&quot;a&quot;.concat(&quot;b&quot;).concat(&quot;c&quot;)`, and this is the inefficient way as you described. (But when using + with compile-time constants, all of this is already done by the compiler.)","body":"There is no <code>new String().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)</code>, but <code>new StringBuilder().append(&quot;a&quot;).append(&quot;b).append(&quot;c&quot;).toString(&zwnj;&#8203;)</code>. The <i>no-stringbuilder</i> way would be <code>&quot;a&quot;.concat(&quot;b&quot;).concat(&quot;c&quot;)</code>, and this is the inefficient way as you described. (But when using + with compile-time constants, all of this is already done by the compiler.)"}],"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1677002417,"creation_date":1267037076,"answer_id":2328578,"question_id":2328483,"body_markdown":"Most of the answers here are correct (it&#39;s handled by the compiler, + is converted to .append()...)\r\n\r\nI wanted to add that everyone should take a look at the source code for String and append at some point, it&#39;s pretty impressive.\r\n\r\nI believe it came down to something like:\r\n\r\n    &quot;a&quot;+&quot;b&quot;+&quot;c&quot;\r\n\r\n=\r\n\r\n    new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)\r\n\r\nBut then some magic happens.  This turns into:\r\n\r\n - Create a string array of length 3\r\n - copy a into the first position.\r\n - copy b into the second\r\n - copy c into the third\r\n\r\nWhereas most people believe that it will create a 2 character array with &quot;ab&quot;, and then throw it away when it creates a three character array with &quot;abc&quot;.  It actually understands that it&#39;s being chained and does some manipulation outside what you would assume if these were simple library calls.\r\n\r\n&lt;s&gt;There is also a trick where if  you have the string &quot;abc&quot; and you ask for a substring that turns out to be &quot;bc&quot;, they CAN share the exact same underlying array.  You&#39;ll notice that there is a start position, end position and &quot;shared&quot; flag.&lt;/s&gt;\r\n\r\nIn fact, if it&#39;s not shared, it&#39;s possible for it to extend the length of a string array and copy the new characters in when appending.\r\n\r\nNow I&#39;m just being confusing.  Read the source code--it&#39;s fairly cool.\r\n\r\nVery Late Edit:\r\nThe part about sharing the underlying array isn&#39;t quite true any more.  They had to de-optimize String a little because people were downloading giant strings, taking a tiny sub-string and keeping it.  This was holding the entire underlying array in storage, it couldn&#39;t be GC&#39;d until all sub-references were dropped.","title":"+ operator for String in Java","body":"<p>Most of the answers here are correct (it's handled by the compiler, + is converted to .append()...)</p>\n<p>I wanted to add that everyone should take a look at the source code for String and append at some point, it's pretty impressive.</p>\n<p>I believe it came down to something like:</p>\n<pre><code>&quot;a&quot;+&quot;b&quot;+&quot;c&quot;\n</code></pre>\n<p>=</p>\n<pre><code>new StringBuilder().append(&quot;a&quot;).append(&quot;b&quot;).append(&quot;c&quot;)\n</code></pre>\n<p>But then some magic happens.  This turns into:</p>\n<ul>\n<li>Create a string array of length 3</li>\n<li>copy a into the first position.</li>\n<li>copy b into the second</li>\n<li>copy c into the third</li>\n</ul>\n<p>Whereas most people believe that it will create a 2 character array with &quot;ab&quot;, and then throw it away when it creates a three character array with &quot;abc&quot;.  It actually understands that it's being chained and does some manipulation outside what you would assume if these were simple library calls.</p>\n<p><s>There is also a trick where if  you have the string &quot;abc&quot; and you ask for a substring that turns out to be &quot;bc&quot;, they CAN share the exact same underlying array.  You'll notice that there is a start position, end position and &quot;shared&quot; flag.</s></p>\n<p>In fact, if it's not shared, it's possible for it to extend the length of a string array and copy the new characters in when appending.</p>\n<p>Now I'm just being confusing.  Read the source code--it's fairly cool.</p>\n<p>Very Late Edit:\nThe part about sharing the underlying array isn't quite true any more.  They had to de-optimize String a little because people were downloading giant strings, taking a tiny sub-string and keeping it.  This was holding the entire underlying array in storage, it couldn't be GC'd until all sub-references were dropped.</p>\n"}],"owner":{"account_id":36938,"reputation":17559,"user_id":105486,"accept_rate":62,"display_name":"Samuel Carrijo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19654,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"closed_date":1382445538,"accepted_answer_id":2328502,"answer_count":7,"score":9,"last_activity_date":1677002417,"creation_date":1267036284,"question_id":2328483,"body_markdown":"I saw [this question][1] a few minutes ago, and decided to take a look in the java String class to check if there was some overloading for the `+` operator.\r\n\r\nI couldn&#39;t find anything, but I know I can do this\r\n\r\n    String ab = &quot;ab&quot;;\r\n    String cd = &quot;cd&quot;;\r\n    String both = ab + cd; //both = &quot;abcd&quot;\r\n\r\nWhere&#39;s that implemented?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2327916/operator-in-java","title":"+ operator for String in Java","body":"<p>I saw <a href=\"https://stackoverflow.com/questions/2327916/operator-in-java\">this question</a> a few minutes ago, and decided to take a look in the java String class to check if there was some overloading for the <code>+</code> operator.</p>\n\n<p>I couldn't find anything, but I know I can do this</p>\n\n<pre><code>String ab = \"ab\";\nString cd = \"cd\";\nString both = ab + cd; //both = \"abcd\"\n</code></pre>\n\n<p>Where's that implemented?</p>\n"},{"tags":["java","hibernate","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455223523,"creation_date":1455223523,"answer_id":35349693,"question_id":35336446,"body_markdown":"No this is not possible. The constraint validator just knows that `false` is returned. There is no way to know why `false` is returned. Also, the implementation of `isValidPrice` has no knowledge of the `@AssertTrue` constraints. ","title":"Customize error message depends on condition in JSR 303","body":"<p>No this is not possible. The constraint validator just knows that <code>false</code> is returned. There is no way to know why <code>false</code> is returned. Also, the implementation of <code>isValidPrice</code> has no knowledge of the <code>@AssertTrue</code> constraints. </p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677002347,"creation_date":1455185818,"question_id":35336446,"body_markdown":"I have the following code:\r\n   \r\n\r\n        ....\r\n        @AssertTrue(message = &quot;I want to customize this message&quot;)\r\n        public boolean isValidPrice() {\r\n            if (...) {\r\n                return false; // error message 1\r\n            }\r\n            if (...) {\r\n                return false; // error message 2\r\n            }\r\n             if (...) {\r\n                return false; // error message 3\r\n            }\r\n            return true;\r\n        }\r\n\r\nI need to return different error messages depends on condition\r\n\r\nDoes `JSR 303` allow this?\r\n\r\nP.S.\r\n\r\n`error message 2` should not be shown if `error message 1` have already shown","title":"Customize error message depends on condition in JSR 303","body":"<p>I have the following code:</p>\n\n<pre><code>    ....\n    @AssertTrue(message = \"I want to customize this message\")\n    public boolean isValidPrice() {\n        if (...) {\n            return false; // error message 1\n        }\n        if (...) {\n            return false; // error message 2\n        }\n         if (...) {\n            return false; // error message 3\n        }\n        return true;\n    }\n</code></pre>\n\n<p>I need to return different error messages depends on condition</p>\n\n<p>Does <code>JSR 303</code> allow this?</p>\n\n<p>P.S.</p>\n\n<p><code>error message 2</code> should not be shown if <code>error message 1</code> have already shown</p>\n"},{"tags":["java","eclipse","git","github","git-branch"],"answers":[{"tags":[],"owner":{"account_id":2859784,"reputation":431,"user_id":2455274,"display_name":"LuisGP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1521731758,"creation_date":1521731758,"answer_id":49432296,"question_id":49432154,"body_markdown":"Before a new item is considered attached to a branch in git, you must commit it. Git works with commits. Branches (and Tags) are only &quot;pointers&quot; to that commits (or &quot;named&quot; commits).","title":"Adding a branch in Eclipse","body":"<p>Before a new item is considered attached to a branch in git, you must commit it. Git works with commits. Branches (and Tags) are only \"pointers\" to that commits (or \"named\" commits).</p>\n"},{"tags":[],"owner":{"account_id":7829656,"reputation":11,"user_id":8587825,"display_name":"CoolMandy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521731810,"creation_date":1521731810,"answer_id":49432319,"question_id":49432154,"body_markdown":"It suggest that you did not change the branch. You worked on the master branch only. You need to switch to a specific branch by going to **Git perspective -&gt; Switch To** option. ","title":"Adding a branch in Eclipse","body":"<p>It suggest that you did not change the branch. You worked on the master branch only. You need to switch to a specific branch by going to <strong>Git perspective -> Switch To</strong> option. </p>\n"}],"owner":{"account_id":7922035,"reputation":67,"user_id":5982723,"accept_rate":67,"display_name":"Sportalcraft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49432296,"answer_count":2,"score":0,"last_activity_date":1677002284,"creation_date":1521731387,"question_id":49432154,"body_markdown":"I&#39;m trying to learn how to use GitHub.\r\nI managed to create a repository and update the master,\r\nBut I&#39;m trying to understand how the branching is working.\r\n \r\nI have created a new branch on eclipse by right clicking the master and then &quot;Create branch...&quot; button.\r\nAfter that I double-clicked it to work on this branch, and I added a new class to see if I am working on this branch. \r\n\r\nBut when I&#39;m going back to the master that class is already there, and I did not used the merge command...\r\nIn the project explorer the content on the [...] after the project&#39;s name has change to the new branch&#39;s name, which I will assumed means that I&#39;m working on a different branch.\r\n\r\nSo, what am I doing wrong?\r\nThanks!","title":"Adding a branch in Eclipse","body":"<p>I'm trying to learn how to use GitHub.\nI managed to create a repository and update the master,\nBut I'm trying to understand how the branching is working.</p>\n<p>I have created a new branch on eclipse by right clicking the master and then &quot;Create branch...&quot; button.\nAfter that I double-clicked it to work on this branch, and I added a new class to see if I am working on this branch.</p>\n<p>But when I'm going back to the master that class is already there, and I did not used the merge command...\nIn the project explorer the content on the [...] after the project's name has change to the new branch's name, which I will assumed means that I'm working on a different branch.</p>\n<p>So, what am I doing wrong?\nThanks!</p>\n"},{"tags":["java","java-17","openwebstart"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669393418,"post_id":74575453,"comment_id":131638664,"body_markdown":"Does your project have a `module-info.java`? If so, does it contain `requires java.sql;`?","body":"Does your project have a <code>module-info.java</code>? If so, does it contain <code>requires java.sql;</code>?"},{"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"score":0,"creation_date":1669399642,"post_id":74575453,"comment_id":131640199,"body_markdown":"Yes we did. Here&#39;s the content of the file :requires kernel.remote;\n  requires commons.collections;\n  requires cre.icu4j;\n  requires jasperreports;\n  requires java.datatransfer;\n  requires java.desktop;\n  requires java.logging;\n  requires java.management;\n  requires java.naming;\n  requires java.prefs;\n  requires java.rmi;\n  requires java.sql;\n  requires javafx.base;\n  requires javafx.controls;\n  requires javafx.graphics;\n  requires javafx.swing;\n  requires javafx.web;\n  requires javafx.fxml;\n  requires javafx.media;\n  requires jcs;\n  requires jdk.jsobject;\n  ..","body":"Yes we did. Here&#39;s the content of the file :requires kernel.remote;   requires commons.collections;   requires cre.icu4j;   requires jasperreports;   requires java.datatransfer;   requires java.desktop;   requires java.logging;   requires java.management;   requires java.naming;   requires java.prefs;   requires java.rmi;   requires java.sql;   requires javafx.base;   requires javafx.controls;   requires javafx.graphics;   requires javafx.swing;   requires javafx.web;   requires javafx.fxml;   requires javafx.media;   requires jcs;   requires jdk.jsobject;   .."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669449266,"post_id":74575453,"comment_id":131646898,"body_markdown":"My experience with the Java Module System is limited, but have you tried adding add-opens=java.sql/java.sql=java.rmi","body":"My experience with the Java Module System is limited, but have you tried adding add-opens=java.sql/java.sql=java.rmi"},{"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"score":0,"creation_date":1669633094,"post_id":74575453,"comment_id":131678631,"body_markdown":"Hello, thanks for your reply. We tried this : `&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql/java.sql=java.rmi&quot;/&gt;`and this `&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql/java.sql=ALL-UNNAMED&quot;/&gt;` with no result (same error)","body":"Hello, thanks for your reply. We tried this : <code>&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql&#47;java.sql=java.rmi&quot;&#47;&gt;</code>and this <code>&lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot; java-vm-args=&quot;--add-opens=java.sql&#47;java.sql=ALL-UNNAMED&quot;&#47;&gt;</code> with no result (same error)"}],"owner":{"account_id":27046736,"reputation":1,"user_id":20600813,"display_name":"oslodev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677002207,"creation_date":1669392851,"question_id":74575453,"body_markdown":"We are currently migrating from Java 8 to Java  17 + open web start. We are facing an issue we are not able to solve after quite a lot of research : We get a ClassNotFound error on java.sql.Date when launching the client. The package is present in the module.java file.\r\n\r\nHere is the complete stack\r\n\r\n```none\r\njava.lang.ClassNotFoundException: java.sql.Date\r\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n    at java.rmi/sun.rmi.server.LoaderHandler$Loader.loadClass(LoaderHandler.java:1216)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    at java.base/java.lang.Class.forName0(Native Method)\r\n    at java.base/java.lang.Class.forName(Class.java:467)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClassForName(LoaderHandler.java:1230)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:458)\r\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:188)\r\n    at java.rmi/java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:639)\r\n    at java.rmi/java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:265)\r\n    at java.rmi/sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:199)\r\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2045)\r\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1909)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2235)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\r\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\r\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\r\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\r\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\r\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\r\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\r\n    at java.rmi/sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:328)\r\n    at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:178)\r\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:215)\r\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:160)\r\n    at jdk.proxy2/jdk.proxy2.$Proxy13.exec(Unknown Source)\r\n    at net.sf.extrmi.ClientRMIInterceptorControl.makeRemoteInvocation(ClientRMIInterceptorControl.java:312)\r\n    at net.sf.extrmi.ClientRMIInterceptorControl.invoke(ClientRMIInterceptorControl.java:208)\r\n    at jdk.proxy2/jdk.proxy2.$Proxy13.getVersionStruct(Unknown Source)\r\n    at kim.util.client.entryadm.mvc.LauncherCtrl.checkAppl(LauncherCtrl.java:162)\r\n    at kim.util.client.entryadm.mvc.LauncherCtrl$1.run(LauncherCtrl.java:86)\r\n    at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nand the jnlp file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!-- JNLP File for gsi --&gt; \r\n&lt;jnlp \r\n     spec=&quot;1.0+&quot; \r\n     codebase=&quot;http://vm2022v7st:8060/xxx&quot; \r\n&gt; \r\n  &lt;information&gt; \r\n    &lt;title&gt;xxx&lt;/title&gt; \r\n    &lt;vendor&gt;xxxx&lt;/vendor&gt; \r\n    &lt;homepage href=&quot;http://www.xxxxxx.com&quot;/&gt; \r\n    &lt;description&gt;xxxxx&lt;/description&gt; \r\n    &lt;description kind=&quot;short&quot;&gt;xxxxx&lt;/description&gt;\r\n    &lt;icon href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/kimweb_64x64.png&quot;/&gt;\r\n    &lt;icon kind=&quot;splash&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/splash_screen_kimoce.png&quot;/&gt;\r\n  &lt;/information&gt; \r\n  &lt;security&gt;\r\n   &lt;all-permissions /&gt;\r\n  &lt;/security&gt;  \r\n  &lt;update check=&quot;never&quot; policy=&quot;always&quot;/&gt;  &lt;resources&gt; \r\n    &lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot;/&gt;\r\n    &lt;jar name=&quot;kimweb&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/kimweb.jar&quot;/&gt;\r\n    &lt;jar name=&quot;utilscommons-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/utilscommons-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;extrmi-0.2.4.3.Kim1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/extrmi-0.2.4.3.Kim1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;commons-logging-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-logging-1.1.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;commons-collections-3.2.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-collections-3.2.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jcommon-1.0.23&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcommon-1.0.23.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jfreechart-1.0.19&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jfreechart-1.0.19.jar&quot;/&gt;\r\n    &lt;jar name=&quot;swingx-1.6.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/swingx-1.6.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-entitymanager-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-entitymanager-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-c3p0-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-c3p0-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-core-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-core-5.2.5.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-validator-5.3.4.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-validator-5.3.4.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;hibernate-jpa-2.1-api-1.0.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-jpa-2.1-api-1.0.0.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javassist-3.18.1-GA&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javassist-3.18.1-GA.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jboss-logging-3.3.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jboss-logging-3.3.0.Final.jar&quot;/&gt;\r\n    &lt;jar name=&quot;geronimo-jms_1.1_spec-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-jms_1.1_spec-1.1.1.jar&quot;/&gt;\r\n    &lt;jar name=&quot;activemq-all-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-all-5.17.2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;activemq-jaas-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-jaas-5.17.2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;geronimo-j2ee-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-j2ee-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;twain-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/twain-1.0.jar&quot;/&gt;\r\n    &lt;jar name=&quot;postgresql-42.2.19-2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/postgresql-42.2.19-2.jar&quot;/&gt;\r\n    &lt;jar name=&quot;jcs-1.3&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcs-1.3.jar&quot;/&gt;\r\n    &lt;jar name=&quot;concurrent-1.3.4&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/concurrent-1.3.4.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-base-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-controls-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-fxml-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-graphics-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-media-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-swing-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-web-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-linux.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-base-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-controls-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-fxml-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-graphics-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-media-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-swing-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-win.jar&quot;/&gt;\r\n    &lt;jar name=&quot;javafx-web-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-win.jar&quot;/&gt;\r\n \r\n    &lt;jar name=&quot;pluginsmanager&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/pluginsmanager.jar&quot;/&gt;\r\n    &lt;jar name=&quot;slf4j-api-2.0.0.jar&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/slf4j-api-2.0.0.jar&quot;/&gt;\r\n   &lt;property name=&quot;net.sf.extrmi.RMIInterceptorControlInitInfo.RMIInterceptorClass.kim.rmi.extrmi.interceptor.TransacRmiInterceptor&quot; value=&quot;&quot;/&gt;\r\n  &lt;/resources&gt; \r\n  &lt;application-desc main-class=&quot;kim.appli.frame.entryadm.Launcher&quot;&gt;\r\n    &lt;argument&gt;bundleUrl=http://vm2022v7st:8060/KimWeb/ressources/lib/kimoce-bundles.jar|prism.order=j2d|--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argument&gt;\r\n  &lt;/application-desc&gt;\r\n&lt;/jnlp&gt; \r\n```\r\n\r\nWe checked the the module.java file, added the add-opens=java.base/java.lang=ALL-UNNAMED, but no result\r\n\r\nHas somebody had this issue before?","title":"Open Web Start - java.sql.date ClassNotFound when lauching the client","body":"<p>We are currently migrating from Java 8 to Java  17 + open web start. We are facing an issue we are not able to solve after quite a lot of research : We get a ClassNotFound error on java.sql.Date when launching the client. The package is present in the module.java file.</p>\n<p>Here is the complete stack</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassNotFoundException: java.sql.Date\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n    at java.rmi/sun.rmi.server.LoaderHandler$Loader.loadClass(LoaderHandler.java:1216)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClassForName(LoaderHandler.java:1230)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:458)\n    at java.rmi/sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:188)\n    at java.rmi/java.rmi.server.RMIClassLoader$2.loadClass(RMIClassLoader.java:639)\n    at java.rmi/java.rmi.server.RMIClassLoader.loadClass(RMIClassLoader.java:265)\n    at java.rmi/sun.rmi.server.MarshalInputStream.resolveClass(MarshalInputStream.java:199)\n    at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2045)\n    at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1909)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2235)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream$FieldValues.&lt;init&gt;(ObjectInputStream.java:2617)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2468)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2268)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1744)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:514)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:472)\n    at java.rmi/sun.rmi.server.UnicastRef.unmarshalValue(UnicastRef.java:328)\n    at java.rmi/sun.rmi.server.UnicastRef.invoke(UnicastRef.java:178)\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invokeRemoteMethod(RemoteObjectInvocationHandler.java:215)\n    at java.rmi/java.rmi.server.RemoteObjectInvocationHandler.invoke(RemoteObjectInvocationHandler.java:160)\n    at jdk.proxy2/jdk.proxy2.$Proxy13.exec(Unknown Source)\n    at net.sf.extrmi.ClientRMIInterceptorControl.makeRemoteInvocation(ClientRMIInterceptorControl.java:312)\n    at net.sf.extrmi.ClientRMIInterceptorControl.invoke(ClientRMIInterceptorControl.java:208)\n    at jdk.proxy2/jdk.proxy2.$Proxy13.getVersionStruct(Unknown Source)\n    at kim.util.client.entryadm.mvc.LauncherCtrl.checkAppl(LauncherCtrl.java:162)\n    at kim.util.client.entryadm.mvc.LauncherCtrl$1.run(LauncherCtrl.java:86)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>and the jnlp file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!-- JNLP File for gsi --&gt; \n&lt;jnlp \n     spec=&quot;1.0+&quot; \n     codebase=&quot;http://vm2022v7st:8060/xxx&quot; \n&gt; \n  &lt;information&gt; \n    &lt;title&gt;xxx&lt;/title&gt; \n    &lt;vendor&gt;xxxx&lt;/vendor&gt; \n    &lt;homepage href=&quot;http://www.xxxxxx.com&quot;/&gt; \n    &lt;description&gt;xxxxx&lt;/description&gt; \n    &lt;description kind=&quot;short&quot;&gt;xxxxx&lt;/description&gt;\n    &lt;icon href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/kimweb_64x64.png&quot;/&gt;\n    &lt;icon kind=&quot;splash&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/images/jws/splash_screen_kimoce.png&quot;/&gt;\n  &lt;/information&gt; \n  &lt;security&gt;\n   &lt;all-permissions /&gt;\n  &lt;/security&gt;  \n  &lt;update check=&quot;never&quot; policy=&quot;always&quot;/&gt;  &lt;resources&gt; \n    &lt;j2se version=&quot;17+&quot; max-heap-size=&quot;1024m&quot;/&gt;\n    &lt;jar name=&quot;kimweb&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/kimweb.jar&quot;/&gt;\n    &lt;jar name=&quot;utilscommons-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/utilscommons-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;extrmi-0.2.4.3.Kim1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/extrmi-0.2.4.3.Kim1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;commons-logging-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-logging-1.1.1.jar&quot;/&gt;\n    &lt;jar name=&quot;commons-collections-3.2.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/commons-collections-3.2.1.jar&quot;/&gt;\n    &lt;jar name=&quot;jcommon-1.0.23&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcommon-1.0.23.jar&quot;/&gt;\n    &lt;jar name=&quot;jfreechart-1.0.19&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jfreechart-1.0.19.jar&quot;/&gt;\n    &lt;jar name=&quot;swingx-1.6.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/swingx-1.6.1.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-entitymanager-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-entitymanager-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-c3p0-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-c3p0-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-core-5.2.5.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-core-5.2.5.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-validator-5.3.4.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-validator-5.3.4.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;hibernate-jpa-2.1-api-1.0.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/hibernate-jpa-2.1-api-1.0.0.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;javassist-3.18.1-GA&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javassist-3.18.1-GA.jar&quot;/&gt;\n    &lt;jar name=&quot;jboss-logging-3.3.0.Final&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jboss-logging-3.3.0.Final.jar&quot;/&gt;\n    &lt;jar name=&quot;geronimo-jms_1.1_spec-1.1.1&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-jms_1.1_spec-1.1.1.jar&quot;/&gt;\n    &lt;jar name=&quot;activemq-all-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-all-5.17.2.jar&quot;/&gt;\n    &lt;jar name=&quot;activemq-jaas-5.17.2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/activemq-jaas-5.17.2.jar&quot;/&gt;\n    &lt;jar name=&quot;geronimo-j2ee-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/geronimo-j2ee-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;twain-1.0&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/twain-1.0.jar&quot;/&gt;\n    &lt;jar name=&quot;postgresql-42.2.19-2&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/postgresql-42.2.19-2.jar&quot;/&gt;\n    &lt;jar name=&quot;jcs-1.3&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/jcs-1.3.jar&quot;/&gt;\n    &lt;jar name=&quot;concurrent-1.3.4&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/concurrent-1.3.4.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-base-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-controls-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-fxml-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-graphics-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-media-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-swing-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-web-17.0.2-linux&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-linux.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-base-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-base-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-controls-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-controls-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-fxml-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-fxml-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-graphics-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-graphics-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-media-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-media-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-swing-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-swing-17.0.2-win.jar&quot;/&gt;\n    &lt;jar name=&quot;javafx-web-17.0.2-win&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/javafx-web-17.0.2-win.jar&quot;/&gt;\n \n    &lt;jar name=&quot;pluginsmanager&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/pluginsmanager.jar&quot;/&gt;\n    &lt;jar name=&quot;slf4j-api-2.0.0.jar&quot; href=&quot;http://vm2022v7st:8060/KimWeb/ressources/lib/slf4j-api-2.0.0.jar&quot;/&gt;\n   &lt;property name=&quot;net.sf.extrmi.RMIInterceptorControlInitInfo.RMIInterceptorClass.kim.rmi.extrmi.interceptor.TransacRmiInterceptor&quot; value=&quot;&quot;/&gt;\n  &lt;/resources&gt; \n  &lt;application-desc main-class=&quot;kim.appli.frame.entryadm.Launcher&quot;&gt;\n    &lt;argument&gt;bundleUrl=http://vm2022v7st:8060/KimWeb/ressources/lib/kimoce-bundles.jar|prism.order=j2d|--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argument&gt;\n  &lt;/application-desc&gt;\n&lt;/jnlp&gt; \n</code></pre>\n<p>We checked the the module.java file, added the add-opens=java.base/java.lang=ALL-UNNAMED, but no result</p>\n<p>Has somebody had this issue before?</p>\n"},{"tags":["java","list","class","parameters"],"comments":[{"owner":{"account_id":9551641,"reputation":2137,"user_id":7095601,"display_name":"Elan Hamburger"},"score":0,"creation_date":1521743028,"post_id":49435844,"comment_id":85873697,"body_markdown":"Just clarifying, do you want this method to add the `Age` property of every instance of `Human` to the list?","body":"Just clarifying, do you want this method to add the <code>Age</code> property of every instance of <code>Human</code> to the list?"},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521743215,"post_id":49435844,"comment_id":85873788,"body_markdown":"Let me edit the question and make it clearer","body":"Let me edit the question and make it clearer"}],"answers":[{"comments":[{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521743932,"post_id":49435957,"comment_id":85874182,"body_markdown":"That&#39;s actually, pretty much what I&#39;m looking for! I&#39;ll check how to do it on a generic method!","body":"That&#39;s actually, pretty much what I&#39;m looking for! I&#39;ll check how to do it on a generic method!"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1521747655,"post_id":49435957,"comment_id":85876127,"body_markdown":"There&#39;s no point in using a `ToIntFunction&lt;SomeObjectClass&gt;` instead of just `Function&lt;SomeObjectClass, T&gt;` with `T` being a generic type parameter of the method, as you are storing the `int`s in an `ArrayList&lt;Integer&gt;`, thus boxing the integers.","body":"There&#39;s no point in using a <code>ToIntFunction&lt;SomeObjectClass&gt;</code> instead of just <code>Function&lt;SomeObjectClass, T&gt;</code> with <code>T</code> being a generic type parameter of the method, as you are storing the <code>int</code>s in an <code>ArrayList&lt;Integer&gt;</code>, thus boxing the integers."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1521747858,"post_id":49435957,"comment_id":85876253,"body_markdown":"@Federico Peralta Schaffne You are right. I confess to have hesitated for this same reason. But I finally kept like that as it gives me the feeling that it was more readable. Not really in fact ?","body":"@Federico Peralta Schaffne You are right. I confess to have hesitated for this same reason. But I finally kept like that as it gives me the feeling that it was more readable. Not really in fact ?"},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1521747965,"post_id":49435957,"comment_id":85876314,"body_markdown":"You are right, it is more readable this way. If you introduce a generic type parameter, the code will be less readable. On the other hand, I think the OP really wants a way to *project* a list of `SomeObjectClass` to a list of *any* type.","body":"You are right, it is more readable this way. If you introduce a generic type parameter, the code will be less readable. On the other hand, I think the OP really wants a way to <i>project</i> a list of <code>SomeObjectClass</code> to a list of <i>any</i> type."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":2,"creation_date":1521748511,"post_id":49435957,"comment_id":85876583,"body_markdown":"Alex Coronas and @Federico Peralta Schaffner  I will edit with a generic way for the returned List.","body":"Alex Coronas and @Federico Peralta Schaffner  I will edit with a generic way for the returned List."},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":0,"creation_date":1521748615,"post_id":49435957,"comment_id":85876638,"body_markdown":"@FedericoPeraltaSchaffner In fact, what I wanted was to pass the generic type. The list of objects was just an example.","body":"@FedericoPeraltaSchaffner In fact, what I wanted was to pass the generic type. The list of objects was just an example."},{"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"score":1,"creation_date":1521748684,"post_id":49435957,"comment_id":85876694,"body_markdown":"@davidxxx It&#39;s not necessary that you edit the answer. It&#39;s clear and understandable as it is.","body":"@davidxxx It&#39;s not necessary that you edit the answer. It&#39;s clear and understandable as it is."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1677005805,"post_id":49435957,"comment_id":133250644,"body_markdown":"This answer uses a *method reference*. To use a *field* of some class instance, you could use a *lambda expression*: `getAllPropertyValues(x -&gt; x.age)`.","body":"This answer uses a <i>method reference</i>. To use a <i>field</i> of some class instance, you could use a <i>lambda expression</i>: <code>getAllPropertyValues(x -&gt; x.age)</code>."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521743236,"creation_date":1521743236,"answer_id":49435957,"question_id":49435844,"body_markdown":"I think that you could use a `ToIntFunction` that accepts a SomeObjectClass and returns an `int`.\r\n\r\n     public ArrayList&lt;Integer&gt; getAllPropertyValues(ToIntFunction&lt;SomeObjectClass&gt; function) { \r\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        for (someObject x : someObjectList) {\r\n            temp.add(function.apply(x));\r\n        }\r\n     }\r\n\r\nAnd you could invoke it :\r\n\r\n    ArrayList&lt;Integer&gt; results = getAllPropertyValues(SomeObjectClass::getAge);\r\n\r\nYou could pass `getAge()` or any method of `SomeObjectClass` that returns an `int`.","title":"&quot;Relative&quot; class property referencing","body":"<p>I think that you could use a <code>ToIntFunction</code> that accepts a SomeObjectClass and returns an <code>int</code>.</p>\n\n<pre><code> public ArrayList&lt;Integer&gt; getAllPropertyValues(ToIntFunction&lt;SomeObjectClass&gt; function) { \n    ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    for (someObject x : someObjectList) {\n        temp.add(function.apply(x));\n    }\n }\n</code></pre>\n\n<p>And you could invoke it :</p>\n\n<pre><code>ArrayList&lt;Integer&gt; results = getAllPropertyValues(SomeObjectClass::getAge);\n</code></pre>\n\n<p>You could pass <code>getAge()</code> or any method of <code>SomeObjectClass</code> that returns an <code>int</code>.</p>\n"}],"owner":{"account_id":10705418,"reputation":436,"user_id":7879389,"accept_rate":90,"display_name":"Alex Coronas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49435957,"answer_count":1,"score":2,"last_activity_date":1677002191,"creation_date":1521742748,"question_id":49435844,"body_markdown":"I want to pass a &quot;relative&quot; reference of a class property as a parameter.\r\n\r\nFirst of all, I don&#39;t know if &quot;relative reference&quot; is actually the proper name for this, but what I have in mind is something along these lines:\r\n\r\n    public ArrayList&lt;Integer&gt; getAllPropertyValues(someObjectClass.someInteger) { //someObjectClass.someInteger being the &quot;relative reference&quot;\r\n        ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\r\n        for (someObject x : someObjectList) {\r\n            temp.add(x.someInteger);\r\n        }\r\n    }\r\n\r\nThe idea would be to pass a reference to (for example) `Human.Age` and the method would add to the list each `x.Age`. \r\n\r\nIn other words, given an object `x` if I pass the property `y` i&#39;d be able to call `someDataType recievedProperty = x.y`. Regarldess of which kind object is `x` or what type is `y`.\r\n\r\nIs there a way to do this in Java?","title":"&quot;Relative&quot; class property referencing","body":"<p>I want to pass a &quot;relative&quot; reference of a class property as a parameter.</p>\n<p>First of all, I don't know if &quot;relative reference&quot; is actually the proper name for this, but what I have in mind is something along these lines:</p>\n<pre><code>public ArrayList&lt;Integer&gt; getAllPropertyValues(someObjectClass.someInteger) { //someObjectClass.someInteger being the &quot;relative reference&quot;\n    ArrayList&lt;Integer&gt; temp = new ArrayList&lt;&gt;();\n    for (someObject x : someObjectList) {\n        temp.add(x.someInteger);\n    }\n}\n</code></pre>\n<p>The idea would be to pass a reference to (for example) <code>Human.Age</code> and the method would add to the list each <code>x.Age</code>.</p>\n<p>In other words, given an object <code>x</code> if I pass the property <code>y</code> i'd be able to call <code>someDataType recievedProperty = x.y</code>. Regarldess of which kind object is <code>x</code> or what type is <code>y</code>.</p>\n<p>Is there a way to do this in Java?</p>\n"},{"tags":["java","spring","spring-mvc","jsp"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677038663,"post_id":75524177,"comment_id":133256833,"body_markdown":"`javax.servlet:jstl` ? use `jakarta` do not use `javax`, Tomcat 10,x.","body":"<code>javax.servlet:jstl</code> ? use <code>jakarta</code> do not use <code>javax</code>, Tomcat 10,x."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677163685,"post_id":75524177,"comment_id":133286875,"body_markdown":"What are the details of the 500 error, and what is logged by Spring? What you have looks correct to me.","body":"What are the details of the 500 error, and what is logged by Spring? What you have looks correct to me."}],"owner":{"account_id":27844185,"reputation":21,"user_id":21260030,"display_name":"extrasexq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677002052,"creation_date":1677002052,"question_id":75524177,"body_markdown":"I&#39;m trying to write a web application using Spring MVC and ran into a problem  \r\nWhen passing any collection to jsp catching the exception:    \r\n**java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.pages.films_jsp**  \r\nand HTTP status 500, but if I pass any other object that is not a collection, then everything is fine\r\n\r\n*films.jsp:*\r\n```\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;FILMS&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Films&lt;/h2&gt;\r\n&lt;table&gt;\r\n    &lt;tr&gt;\r\n        &lt;th&gt;id&lt;/th&gt;\r\n        &lt;th&gt;title&lt;/th&gt;\r\n        &lt;th&gt;year&lt;/th&gt;\r\n        &lt;th&gt;genre&lt;/th&gt;\r\n        &lt;th&gt;watched&lt;/th&gt;\r\n        &lt;th&gt;action&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n    &lt;c:forEach var=&quot;film&quot; items=&quot;${filmsList}&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;${film.id}&lt;/td&gt;\r\n            &lt;td&gt;${film.title}&lt;/td&gt;\r\n            &lt;td&gt;${film.year}&lt;/td&gt;\r\n            &lt;td&gt;${film.genre}&lt;/td&gt;\r\n            &lt;td&gt;${film.watched}&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;a href=&quot;/edit/${film.id}&quot;&gt;edit&lt;/a&gt;\r\n                &lt;a href=&quot;/delete/${film.id}&quot;&gt;delete&lt;/a&gt;\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n&lt;/table&gt;\r\n&lt;a href=&quot;/add&quot;&gt;Add new film&lt;/a&gt;&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n*pom.xml:*\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Filmography&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;Filmography&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;6.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n*Controller.java:*\r\n```\r\n...\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView allFilms() {\r\n        List&lt;Film&gt; films = new ArrayList&lt;&gt;();\r\n\r\n        films.add(new Film(0, &quot;Pie&quot;, 1991, &quot;Fantasy&quot;));\r\n        films.add(new Film(1, &quot;Passion&quot;, 2003, &quot;Drama&quot;));\r\n\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;newFilms&quot;);\r\n        modelAndView.addObject(&quot;filmsList&quot;, films);\r\n        return modelAndView;\r\n    }\r\n...\r\n```\r\n\r\nI suspect that the problem is in the Spring or in the versions of the connected dependencies. If it matters i use Tomcat","title":"Spring MVC. Passing Collection to jsp","body":"<p>I'm trying to write a web application using Spring MVC and ran into a problem<br />\nWhen passing any collection to jsp catching the exception:<br />\n<strong>java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.pages.films_jsp</strong><br />\nand HTTP status 500, but if I pass any other object that is not a collection, then everything is fine</p>\n<p><em>films.jsp:</em></p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;FILMS&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Films&lt;/h2&gt;\n&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;id&lt;/th&gt;\n        &lt;th&gt;title&lt;/th&gt;\n        &lt;th&gt;year&lt;/th&gt;\n        &lt;th&gt;genre&lt;/th&gt;\n        &lt;th&gt;watched&lt;/th&gt;\n        &lt;th&gt;action&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach var=&quot;film&quot; items=&quot;${filmsList}&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${film.id}&lt;/td&gt;\n            &lt;td&gt;${film.title}&lt;/td&gt;\n            &lt;td&gt;${film.year}&lt;/td&gt;\n            &lt;td&gt;${film.genre}&lt;/td&gt;\n            &lt;td&gt;${film.watched}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=&quot;/edit/${film.id}&quot;&gt;edit&lt;/a&gt;\n                &lt;a href=&quot;/delete/${film.id}&quot;&gt;delete&lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n&lt;a href=&quot;/add&quot;&gt;Add new film&lt;/a&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><em>pom.xml:</em></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;Filmography&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;Filmography&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;6.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>Controller.java:</em></p>\n<pre><code>...\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public ModelAndView allFilms() {\n        List&lt;Film&gt; films = new ArrayList&lt;&gt;();\n\n        films.add(new Film(0, &quot;Pie&quot;, 1991, &quot;Fantasy&quot;));\n        films.add(new Film(1, &quot;Passion&quot;, 2003, &quot;Drama&quot;));\n\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;newFilms&quot;);\n        modelAndView.addObject(&quot;filmsList&quot;, films);\n        return modelAndView;\n    }\n...\n</code></pre>\n<p>I suspect that the problem is in the Spring or in the versions of the connected dependencies. If it matters i use Tomcat</p>\n"},{"tags":["java","swing","jframe","jpanel","paintcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676920674,"post_id":75512034,"comment_id":133230645,"body_markdown":"I think you meant `while (paint &lt; 255)`.  Swing is single threaded and you can&#39;t paint in a loop like that.  Use a Swing [Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) to redraw your `JPanel` in steps.  You might be interested in the [How to Create a Splash Screen](https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html) section.","body":"I think you meant <code>while (paint &lt; 255)</code>.  Swing is single threaded and you can&#39;t paint in a loop like that.  Use a Swing <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Timer</a> to redraw your <code>JPanel</code> in steps.  You might be interested in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html\" rel=\"nofollow noreferrer\">How to Create a Splash Screen</a> section."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676960329,"post_id":75512034,"comment_id":133236838,"body_markdown":"`Thread.sleep(200);` You shouldn&#39;t call method `sleep` in code that executes in the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) (EDT).","body":"<code>Thread.sleep(200);</code> You shouldn&#39;t call method <code>sleep</code> in code that executes in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a> (EDT)."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1676980108,"post_id":75512034,"comment_id":133242170,"body_markdown":"@Abra the reason I am executing the sleep method is to delay the increase in opacity, this is so I can make a fade-in sort of animation.","body":"@Abra the reason I am executing the sleep method is to delay the increase in opacity, this is so I can make a fade-in sort of animation."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1676982146,"post_id":75512034,"comment_id":133242791,"body_markdown":"@GilbertLeBlanc according to The Java Docs [Swing Timer](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), I need an action to be performed, but this takes place at the start of the game, therefore I am unable or unsure on how I can use Swing Timer, If I use the [SplashScreen](https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html), I need to prepare a GIF, but I am trying not to use many images, it also may take me lot of time.","body":"@GilbertLeBlanc according to The Java Docs <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>, I need an action to be performed, but this takes place at the start of the game, therefore I am unable or unsure on how I can use Swing Timer, If I use the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/splashscreen.html\" rel=\"nofollow noreferrer\">SplashScreen</a>, I need to prepare a GIF, but I am trying not to use many images, it also may take me lot of time."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676994933,"post_id":75512034,"comment_id":133247240,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"comments":[{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1677000619,"post_id":75522498,"comment_id":133249035,"body_markdown":"Here you are using JFrame and the JPanel in one file, but I am using _2 separate files_, so I thought of switching `drawingPanel` with `this`, but it doesn&#39;t work... I will be providing the code of the file containing the JPanel.","body":"Here you are using JFrame and the JPanel in one file, but I am using <i>2 separate files</i>, so I thought of switching <code>drawingPanel</code> with <code>this</code>, but it doesn&#39;t work... I will be providing the code of the file containing the JPanel."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677002771,"post_id":75522498,"comment_id":133249683,"body_markdown":"@BuddyCraft: You can put the `DrawingPanel` in a separate file.  You can also put the `ActionListener` in a separate file.  I put them together so I could post the code as one block.","body":"@BuddyCraft: You can put the <code>DrawingPanel</code> in a separate file.  You can also put the <code>ActionListener</code> in a separate file.  I put them together so I could post the code as one block."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677004311,"post_id":75522498,"comment_id":133250143,"body_markdown":"@BuddyCraft: Your `JPanel` code is a confusing mess.  My `JPanel` code gets repainted properly.","body":"@BuddyCraft: Your <code>JPanel</code> code is a confusing mess.  My <code>JPanel</code> code gets repainted properly."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678032316,"post_id":75522498,"comment_id":133450445,"body_markdown":"Which class exactly is `drawingPanel`?","body":"Which class exactly is <code>drawingPanel</code>?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678041539,"post_id":75522498,"comment_id":133452042,"body_markdown":"@BuddyCraft: `drawingPanel` is a field that holds an instance of the class `DrawingPanel`.  The `DrawingPanel` class is the first inner class that extends `JPanel`.","body":"@BuddyCraft: <code>drawingPanel</code> is a field that holds an instance of the class <code>DrawingPanel</code>.  The <code>DrawingPanel</code> class is the first inner class that extends <code>JPanel</code>."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1678981804,"post_id":75522498,"comment_id":133642074,"body_markdown":"JPanel doesn&#39;t have the method `setOpacity(int opacity);`","body":"JPanel doesn&#39;t have the method <code>setOpacity(int opacity);</code>"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678987504,"post_id":75522498,"comment_id":133643813,"body_markdown":"@BuddyCraft: You&#39;re right.  However, the `DrawingPanel` parent class does have a `setOpacity` method defined.","body":"@BuddyCraft: You&#39;re right.  However, the <code>DrawingPanel</code> parent class does have a <code>setOpacity</code> method defined."},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1694886841,"post_id":75522498,"comment_id":135951634,"body_markdown":"I understand I am really late but thank you!","body":"I understand I am really late but thank you!"}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676993453,"creation_date":1676992952,"answer_id":75522498,"question_id":75512034,"body_markdown":"Here&#39;s an example of a fade-in GUI.\r\n\r\nHere&#39;s the initial GUI:\r\n\r\n[![Initial GUI][1]][1]\r\n\r\nHere&#39;s the GUI after the image is faded in:\r\n\r\n[![Final GUI][2]][2]\r\n\r\nSo, How did I do this?\r\n\r\nI created a `JFrame` and a drawing `JPanel`.  I drew the background and the text using `Color` instances with a specified opacity or alpha component.\r\n\r\nI used a Swing `Timer` to adjust the opacity every 250 milliseconds and repaint the drawing `JPanel`.\r\n\r\nHere&#39;s the complete runnable code.  I made the additional class an inner class so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class FadeInGUI implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new FadeInGUI());\r\n    \t}\r\n    \r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \r\n    \tpublic FadeInGUI() {\r\n    \t\tthis.drawingPanel = new DrawingPanel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Fade In GUI&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \r\n    \t\tTimer timer = new Timer(250, new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\tTimer timer = (Timer) event.getSource();\r\n    \t\t\t\tint opacity = drawingPanel.getOpacity();\r\n    \t\t\t\topacity += 15;\r\n    \t\t\t\tif (opacity &lt; 255) {\r\n    \t\t\t\t\tdrawingPanel.setOpacity(opacity);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\topacity = 255;\r\n    \t\t\t\t\tdrawingPanel.setOpacity(opacity);\r\n    \t\t\t\t\ttimer.stop();\r\n    \t\t\t\t}\r\n    \t\t\t\tdrawingPanel.repaint();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic class DrawingPanel extends JPanel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate int opacity;\r\n    \r\n    \t\tpublic DrawingPanel() {\r\n    \t\t\tthis.opacity = 0;\r\n    \t\t\tthis.setPreferredSize(new Dimension(640, 480));\r\n    \t\t}\r\n    \r\n    \t\tpublic void setOpacity(int opacity) {\r\n    \t\t\tthis.opacity = opacity;\r\n    \t\t}\r\n    \r\n    \t\tpublic int getOpacity() {\r\n    \t\t\treturn opacity;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void paintComponent(Graphics g) {\r\n    \t\t\tsuper.paintComponent(g);\r\n    \r\n    \t\t\tColor backgroundColor = new Color(255, 255, 0, opacity);\r\n    \t\t\tColor textColor = new Color(0, 0, 255, opacity);\r\n    \r\n    \t\t\tg.setColor(backgroundColor);\r\n    \t\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n    \r\n    \t\t\tString text = &quot;Amazing Game&quot;;\r\n    \t\t\tFont titleFont = getFont().deriveFont(Font.BOLD, 48f);\r\n    \t\t\tRectangle r = new Rectangle(0, 0, getWidth(), getHeight() / 3);\r\n    \t\t\tdrawCenteredString(g, text, r, textColor, titleFont);\r\n    \r\n    \t\t\ttext = &quot;by Amazing Company&quot;;\r\n    \t\t\tFont subtitleFont = getFont().deriveFont(Font.BOLD, 32f);\r\n    \t\t\tr = new Rectangle(0, getHeight() * 2 / 3, getWidth(),\r\n    \t\t\t\t\tgetHeight() / 3);\r\n    \t\t\tdrawCenteredString(g, text, r, textColor, subtitleFont);\r\n    \t\t};\r\n    \r\n    \t\t/**\r\n    \t\t * Draw a String centered in the middle of a Rectangle.\r\n    \t\t *\r\n    \t\t * @param g    The Graphics instance.\r\n    \t\t * @param text The String to draw.\r\n    \t\t * @param rect The Rectangle to center the text in.\r\n    \t\t */\r\n    \t\tprivate void drawCenteredString(Graphics g, String text, Rectangle rect,\r\n    \t\t\t\tColor color, Font font) {\r\n    \t\t\tFontMetrics metrics = g.getFontMetrics(font);\r\n    \t\t\tint x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\r\n    \t\t\tint y = rect.y + ((rect.height - metrics.getHeight()) / 2)\r\n    \t\t\t\t\t+ metrics.getAscent();\r\n    \t\t\tg.setFont(font);\r\n    \t\t\tg.setColor(color);\r\n    \t\t\tg.drawString(text, x, y);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3G5L4.png\r\n  [2]: https://i.stack.imgur.com/KXy9i.png\r\n\r\n","title":"Opacity in Color is not being drawn on JPanel","body":"<p>Here's an example of a fade-in GUI.</p>\n<p>Here's the initial GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/3G5L4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3G5L4.png\" alt=\"Initial GUI\" /></a></p>\n<p>Here's the GUI after the image is faded in:</p>\n<p><a href=\"https://i.stack.imgur.com/KXy9i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KXy9i.png\" alt=\"Final GUI\" /></a></p>\n<p>So, How did I do this?</p>\n<p>I created a <code>JFrame</code> and a drawing <code>JPanel</code>.  I drew the background and the text using <code>Color</code> instances with a specified opacity or alpha component.</p>\n<p>I used a Swing <code>Timer</code> to adjust the opacity every 250 milliseconds and repaint the drawing <code>JPanel</code>.</p>\n<p>Here's the complete runnable code.  I made the additional class an inner class so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class FadeInGUI implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new FadeInGUI());\n    }\n\n    private final DrawingPanel drawingPanel;\n\n    public FadeInGUI() {\n        this.drawingPanel = new DrawingPanel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Fade In GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(drawingPanel, BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n\n        Timer timer = new Timer(250, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent event) {\n                Timer timer = (Timer) event.getSource();\n                int opacity = drawingPanel.getOpacity();\n                opacity += 15;\n                if (opacity &lt; 255) {\n                    drawingPanel.setOpacity(opacity);\n                } else {\n                    opacity = 255;\n                    drawingPanel.setOpacity(opacity);\n                    timer.stop();\n                }\n                drawingPanel.repaint();\n            }\n        });\n        timer.start();\n    }\n\n    public class DrawingPanel extends JPanel {\n\n        private static final long serialVersionUID = 1L;\n\n        private int opacity;\n\n        public DrawingPanel() {\n            this.opacity = 0;\n            this.setPreferredSize(new Dimension(640, 480));\n        }\n\n        public void setOpacity(int opacity) {\n            this.opacity = opacity;\n        }\n\n        public int getOpacity() {\n            return opacity;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Color backgroundColor = new Color(255, 255, 0, opacity);\n            Color textColor = new Color(0, 0, 255, opacity);\n\n            g.setColor(backgroundColor);\n            g.fillRect(0, 0, getWidth(), getHeight());\n\n            String text = &quot;Amazing Game&quot;;\n            Font titleFont = getFont().deriveFont(Font.BOLD, 48f);\n            Rectangle r = new Rectangle(0, 0, getWidth(), getHeight() / 3);\n            drawCenteredString(g, text, r, textColor, titleFont);\n\n            text = &quot;by Amazing Company&quot;;\n            Font subtitleFont = getFont().deriveFont(Font.BOLD, 32f);\n            r = new Rectangle(0, getHeight() * 2 / 3, getWidth(),\n                    getHeight() / 3);\n            drawCenteredString(g, text, r, textColor, subtitleFont);\n        };\n\n        /**\n         * Draw a String centered in the middle of a Rectangle.\n         *\n         * @param g    The Graphics instance.\n         * @param text The String to draw.\n         * @param rect The Rectangle to center the text in.\n         */\n        private void drawCenteredString(Graphics g, String text, Rectangle rect,\n                Color color, Font font) {\n            FontMetrics metrics = g.getFontMetrics(font);\n            int x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\n            int y = rect.y + ((rect.height - metrics.getHeight()) / 2)\n                    + metrics.getAscent();\n            g.setFont(font);\n            g.setColor(color);\n            g.drawString(text, x, y);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75522498,"answer_count":1,"score":-1,"last_activity_date":1677001760,"creation_date":1676911598,"question_id":75512034,"body_markdown":"I am using paintComponent to make a fade-in opening. Though I can use transparent images to create this effect, I feel like drawing is both space conservative and efficient, but when I had tried to make code for it which is provided below\r\n\r\n```\r\nGraphics2D painter = (Graphics2D)g;\r\n\t\tint paint = 0;\r\n\t\t\r\n\t\t\r\n\t\tif (paint!=255) {\r\n\t\t\tpainter.setColor(new Color(0, 0, 0, paint));\r\n\t\t\tpaint+=17;\r\n\t\t\tpainter.drawImage(frm1,0,-16,768,576,null);\r\n\t\t\tpainter.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(200);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n```\r\nThe window starts with a white screen, later showing `frm1` (the image that I want the opacity to overlay)\r\n\r\nIn the Frame&#39;s code, I tried typing the constructor (which contains the start to the game loop) after the `frame.setVisible(true);` line of code, this affected the code in no way whatsoever. Even though I can use transparent images, I am trying to make the game more lightweight, therefore I would prefer paintComponent.\r\n\r\nThe code for the panel is provided below\r\n```\r\npackage studios.masterpiece.pts.display;\r\n\r\n//AWT\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\n//IO\r\nimport java.io.IOException;\r\n\r\n//ImageIO\r\nimport javax.imageio.ImageIO;\r\n//Swing\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\npublic class GameScene extends JPanel implements Runnable{\r\n\t\r\n\tprivate static final long serialVersionUID = -1892599432299801189L;\r\n\t\r\n\tTimer timer;\r\n\t\r\n\tGraphics painter;\r\n\tBufferedImage frm1;\r\n\t\r\n\tThread repeat;\r\n\t\r\n\t//References\r\n\tstatic int tileSize = 48;\r\n\t\r\n\tstatic int rows = 16;\r\n\tstatic int columns = 12;\r\n\t\r\n\tpublic static int SCREEN_WIDTH = tileSize*rows; //768  \r\n\tpublic static int SCREEN_HEIGHT = tileSize*columns;\r\n\t\r\n\t//GameScene Properties\r\n\tpublic GameScene() {\r\n\t\tthis.setSize(SCREEN_WIDTH,SCREEN_HEIGHT);\r\n\t\tthis.setBackground(Color.BLACK);\r\n\t\t\r\n\t\tthis.setFocusable(true);\r\n\t\tthis.setDoubleBuffered(true);\r\n\t\t\r\n\t\tstartRepeat();\r\n\t\t\r\n\t\t//Getting the image I want the opacity to overlay\r\n\t\ttry {\r\n\t\t\tfrm1 = ImageIO.read(getClass().getResourceAsStream(&quot;/studios/masterpiece/pts/animations/intro/Intro1.png&quot;));\r\n\t\t} \r\n\t\tcatch (IOException e) {e.printStackTrace();}\r\n\t}\r\n\t\r\n\tpublic void startRepeat() {\r\n\t\trepeat = new Thread(this);\r\n\t\trepeat.start();\r\n\t\t\r\n\t\t//CURRENTLY DOES NOT WORK\r\n\t    timer = new Timer(250, new ActionListener() {\r\n\t    \t\r\n\t        @Override\r\n\t        public void actionPerformed(ActionEvent event) {\r\n\t            Timer timer = (Timer) event.getSource();\r\n\t            int opacity = this.getOpacity();\r\n\t            opacity += 15;\r\n\t            if (opacity &lt; 255) {\r\n\t                this.setOpacity(opacity);\r\n\t            } else {\r\n\t                opacity = 255;\r\n\t                this.setOpacity(opacity);\r\n\t                timer.stop();\r\n\t            }\r\n\t            this.repaint();\r\n\t        }\r\n\t    });\r\n\t    timer.start();\r\n\t    //UNTIL HERE\r\n\t}\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\t\r\n\t\tsuper.paintComponent(g);\r\n\t\t\r\n\t\tGraphics2D painter = (Graphics2D)g;\r\n\t\t\r\n\t\tthis.painter=painter;\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (repeat!=null) {\r\n\t\t\trepaint();\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"Opacity in Color is not being drawn on JPanel","body":"<p>I am using paintComponent to make a fade-in opening. Though I can use transparent images to create this effect, I feel like drawing is both space conservative and efficient, but when I had tried to make code for it which is provided below</p>\n<pre><code>Graphics2D painter = (Graphics2D)g;\n        int paint = 0;\n        \n        \n        if (paint!=255) {\n            painter.setColor(new Color(0, 0, 0, paint));\n            paint+=17;\n            painter.drawImage(frm1,0,-16,768,576,null);\n            painter.fillRect(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);\n            \n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>The window starts with a white screen, later showing <code>frm1</code> (the image that I want the opacity to overlay)</p>\n<p>In the Frame's code, I tried typing the constructor (which contains the start to the game loop) after the <code>frame.setVisible(true);</code> line of code, this affected the code in no way whatsoever. Even though I can use transparent images, I am trying to make the game more lightweight, therefore I would prefer paintComponent.</p>\n<p>The code for the panel is provided below</p>\n<pre><code>package studios.masterpiece.pts.display;\n\n//AWT\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n//IO\nimport java.io.IOException;\n\n//ImageIO\nimport javax.imageio.ImageIO;\n//Swing\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class GameScene extends JPanel implements Runnable{\n    \n    private static final long serialVersionUID = -1892599432299801189L;\n    \n    Timer timer;\n    \n    Graphics painter;\n    BufferedImage frm1;\n    \n    Thread repeat;\n    \n    //References\n    static int tileSize = 48;\n    \n    static int rows = 16;\n    static int columns = 12;\n    \n    public static int SCREEN_WIDTH = tileSize*rows; //768  \n    public static int SCREEN_HEIGHT = tileSize*columns;\n    \n    //GameScene Properties\n    public GameScene() {\n        this.setSize(SCREEN_WIDTH,SCREEN_HEIGHT);\n        this.setBackground(Color.BLACK);\n        \n        this.setFocusable(true);\n        this.setDoubleBuffered(true);\n        \n        startRepeat();\n        \n        //Getting the image I want the opacity to overlay\n        try {\n            frm1 = ImageIO.read(getClass().getResourceAsStream(&quot;/studios/masterpiece/pts/animations/intro/Intro1.png&quot;));\n        } \n        catch (IOException e) {e.printStackTrace();}\n    }\n    \n    public void startRepeat() {\n        repeat = new Thread(this);\n        repeat.start();\n        \n        //CURRENTLY DOES NOT WORK\n        timer = new Timer(250, new ActionListener() {\n            \n            @Override\n            public void actionPerformed(ActionEvent event) {\n                Timer timer = (Timer) event.getSource();\n                int opacity = this.getOpacity();\n                opacity += 15;\n                if (opacity &lt; 255) {\n                    this.setOpacity(opacity);\n                } else {\n                    opacity = 255;\n                    this.setOpacity(opacity);\n                    timer.stop();\n                }\n                this.repaint();\n            }\n        });\n        timer.start();\n        //UNTIL HERE\n    }\n    public void paintComponent(Graphics g) {\n        \n        super.paintComponent(g);\n        \n        Graphics2D painter = (Graphics2D)g;\n        \n        this.painter=painter;       \n    }\n\n    @Override\n    public void run() {\n        while (repeat!=null) {\n            repaint();\n            \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","parquet","avro"],"comments":[{"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"score":0,"creation_date":1677002224,"post_id":75512457,"comment_id":133249510,"body_markdown":"Similar but not the same as https://stackoverflow.com/questions/36852162","body":"Similar but not the same as <a href=\"https://stackoverflow.com/questions/36852162\">stackoverflow.com/questions/36852162</a>"}],"answers":[{"tags":[],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677001521,"creation_date":1677001521,"answer_id":75524094,"question_id":75512457,"body_markdown":"My solution is to read the file as a GenericData record.  This stops the automatic conversion to the model object when you use SpecificData.\r\n\r\nAfter that, I can use reflection to grab the GenericData.Record object from inside the ParquetRecord\r\n\r\n    Field dataField = ParquetRecord.class.getDeclaredField(&quot;data&quot;);\r\n    ReflectionUtils.makeAccessible(field);\r\n    GenericData.Record genericDataRecord = (GenericData.Record) ReflectionUtils.getField(field, parquetRecord);\r\n\r\nHere we can see the schema name to decide which model object we need to create\r\n\r\n    data.getSchema().getName();\r\n\r\nand based on that, map it like so:\r\n\r\n    com.bigcompany.model.Foo modelFoo = new Foo();\r\n    genericDataRecord.getSchema().getFields().stream()\r\n            .forEach(f -&gt; modelFoo.put(f.name(), genericDataRecord.get(f.pos()))));","title":"Using AvroParquetReader to read a file where the model has diverged","body":"<p>My solution is to read the file as a GenericData record.  This stops the automatic conversion to the model object when you use SpecificData.</p>\n<p>After that, I can use reflection to grab the GenericData.Record object from inside the ParquetRecord</p>\n<pre><code>Field dataField = ParquetRecord.class.getDeclaredField(&quot;data&quot;);\nReflectionUtils.makeAccessible(field);\nGenericData.Record genericDataRecord = (GenericData.Record) ReflectionUtils.getField(field, parquetRecord);\n</code></pre>\n<p>Here we can see the schema name to decide which model object we need to create</p>\n<pre><code>data.getSchema().getName();\n</code></pre>\n<p>and based on that, map it like so:</p>\n<pre><code>com.bigcompany.model.Foo modelFoo = new Foo();\ngenericDataRecord.getSchema().getFields().stream()\n        .forEach(f -&gt; modelFoo.put(f.name(), genericDataRecord.get(f.pos()))));\n</code></pre>\n"}],"owner":{"account_id":449372,"reputation":777,"user_id":844123,"accept_rate":83,"display_name":"doc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75524094,"answer_count":1,"score":0,"last_activity_date":1677001521,"creation_date":1676914201,"question_id":75512457,"body_markdown":"I want to read a parquet file with AvroParquetReader in Java.  The file footer specifies the model class, e.g. com.bigcompany.model.Foo, but when the file was written the model object had one less column in it.  The extra column was not added at the end of the model object but in the middle so the error I currently get is that it is trying to put an String value from the file and put it in an integer column in the model object.\r\n\r\nFor sake of argument, I cannot use an old version of the model or modify the file.  I need to work with the existing file and the current model version and I need to read the file into the model object ignoring the additional field.\r\n\r\nAre there options for AvroParquetReader that will allow me to do this?\r\n\r\n","title":"Using AvroParquetReader to read a file where the model has diverged","body":"<p>I want to read a parquet file with AvroParquetReader in Java.  The file footer specifies the model class, e.g. com.bigcompany.model.Foo, but when the file was written the model object had one less column in it.  The extra column was not added at the end of the model object but in the middle so the error I currently get is that it is trying to put an String value from the file and put it in an integer column in the model object.</p>\n<p>For sake of argument, I cannot use an old version of the model or modify the file.  I need to work with the existing file and the current model version and I need to read the file into the model object ignoring the additional field.</p>\n<p>Are there options for AvroParquetReader that will allow me to do this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677001472,"creation_date":1676998137,"answer_id":75523507,"question_id":75523297,"body_markdown":"You can collect the entries into a map, using `Person::getCity`, and then map the entry values and grab the first one.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.AbstractMap.SimpleEntry;\r\nimport java.util.Map.Entry;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; people = Arrays.asList(\r\n                new Person(&quot;New York&quot;, &quot;foo&quot;, &quot;bar&quot;),\r\n                new Person(&quot;New York&quot;, &quot;bar&quot;, &quot;foo&quot;),\r\n                new Person(&quot;New Jersey&quot;, &quot;foo&quot;, &quot;bar&quot;),\r\n                new Person(&quot;New Jersey&quot;, &quot;bar&quot;, &quot;foo&quot;));\r\n\r\n        List&lt;Person&gt; firstByCity = groupBy(people, Person::getCity)\r\n                .entrySet().stream()\r\n                .map(e -&gt; e.getValue().get(0))\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(firstByCity);\r\n    }\r\n\r\n    // Source: https://stackoverflow.com/a/75377044/1762224\r\n    public static &lt;E, K, V&gt; Map&lt;K, List&lt;V&gt;&gt; groupBy(\r\n            Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn, Function&lt;E, V&gt; valueFn) {\r\n        return collection.stream()\r\n                .map(item -&gt; new SimpleEntry&lt;K, V&gt;(keyFn.apply(item), valueFn.apply(item)))\r\n                .collect(Collectors.groupingBy(Entry::getKey,\r\n                        Collectors.mapping(Entry::getValue, Collectors.toList())));\r\n    }\r\n\r\n    public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn) {\r\n        return groupBy(collection, keyFn, Function.identity());\r\n    }\r\n\r\n    public static class Person {\r\n        public String city;\r\n        public String firstName;\r\n        public String lastName;\r\n\r\n        Person(String city, String firstName, String lastName) {\r\n            this.city = city;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n\r\n        public String getCity() {\r\n            return city;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;{ city: %s, firstName: %s, lastName: %s }&quot;,\r\n                city, firstName, lastName);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n[\r\n  { city: New York, firstName: foo, lastName: bar },\r\n  { city: New Jersey, firstName: foo, lastName: bar }\r\n]\r\n```","title":"How do I get one of each objects with a stream?","body":"<p>You can collect the entries into a map, using <code>Person::getCity</code>, and then map the entry values and grab the first one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.AbstractMap.SimpleEntry;\nimport java.util.Map.Entry;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class App {\n    public static void main(String[] args) {\n        List&lt;Person&gt; people = Arrays.asList(\n                new Person(&quot;New York&quot;, &quot;foo&quot;, &quot;bar&quot;),\n                new Person(&quot;New York&quot;, &quot;bar&quot;, &quot;foo&quot;),\n                new Person(&quot;New Jersey&quot;, &quot;foo&quot;, &quot;bar&quot;),\n                new Person(&quot;New Jersey&quot;, &quot;bar&quot;, &quot;foo&quot;));\n\n        List&lt;Person&gt; firstByCity = groupBy(people, Person::getCity)\n                .entrySet().stream()\n                .map(e -&gt; e.getValue().get(0))\n                .collect(Collectors.toList());\n\n        System.out.println(firstByCity);\n    }\n\n    // Source: https://stackoverflow.com/a/75377044/1762224\n    public static &lt;E, K, V&gt; Map&lt;K, List&lt;V&gt;&gt; groupBy(\n            Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn, Function&lt;E, V&gt; valueFn) {\n        return collection.stream()\n                .map(item -&gt; new SimpleEntry&lt;K, V&gt;(keyFn.apply(item), valueFn.apply(item)))\n                .collect(Collectors.groupingBy(Entry::getKey,\n                        Collectors.mapping(Entry::getValue, Collectors.toList())));\n    }\n\n    public static &lt;E, K&gt; Map&lt;K, List&lt;E&gt;&gt; groupBy(Collection&lt;E&gt; collection, Function&lt;E, K&gt; keyFn) {\n        return groupBy(collection, keyFn, Function.identity());\n    }\n\n    public static class Person {\n        public String city;\n        public String firstName;\n        public String lastName;\n\n        Person(String city, String firstName, String lastName) {\n            this.city = city;\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n\n        public String getCity() {\n            return city;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;{ city: %s, firstName: %s, lastName: %s }&quot;,\n                city, firstName, lastName);\n        }\n\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>[\n  { city: New York, firstName: foo, lastName: bar },\n  { city: New Jersey, firstName: foo, lastName: bar }\n]\n</code></pre>\n"}],"owner":{"account_id":21211399,"reputation":337,"user_id":15599916,"display_name":"Gabriel Gavrilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676998054,"accepted_answer_id":75523507,"answer_count":1,"score":0,"last_activity_date":1677001472,"creation_date":1676997074,"question_id":75523297,"body_markdown":"Lets say that I have a document that looks like this:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Person&gt; people = Arrays.asList(\r\n                new Person(&quot;New York&quot;, &quot;foo&quot;, &quot;bar&quot;),\r\n                new Person(&quot;New York&quot;, &quot;bar&quot;, &quot;foo&quot;),\r\n                new Person(&quot;New Jersey&quot;, &quot;foo&quot;, &quot;bar&quot;),\r\n                new Person(&quot;New Jersey&quot;, &quot;bar&quot;, &quot;foo&quot;)\r\n        );\r\n\r\n    }\r\n\r\n    public static class Person {\r\n        public String city;\r\n        public String firstName;\r\n        public String lastName;\r\n\r\n        Person(String city, String firstName, String lastName) {\r\n            this.city = city;\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow would I be able to use streams to only get one person from each city and return it into a list?","title":"How do I get one of each objects with a stream?","body":"<p>Lets say that I have a document that looks like this:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class main {\n\n    public static void main(String[] args) {\n\n        List&lt;Person&gt; people = Arrays.asList(\n                new Person(&quot;New York&quot;, &quot;foo&quot;, &quot;bar&quot;),\n                new Person(&quot;New York&quot;, &quot;bar&quot;, &quot;foo&quot;),\n                new Person(&quot;New Jersey&quot;, &quot;foo&quot;, &quot;bar&quot;),\n                new Person(&quot;New Jersey&quot;, &quot;bar&quot;, &quot;foo&quot;)\n        );\n\n    }\n\n    public static class Person {\n        public String city;\n        public String firstName;\n        public String lastName;\n\n        Person(String city, String firstName, String lastName) {\n            this.city = city;\n            this.firstName = firstName;\n            this.lastName = lastName;\n        }\n    }\n}\n</code></pre>\n<p>How would I be able to use streams to only get one person from each city and return it into a list?</p>\n"},{"tags":["java","maven","aspectj","lombok"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":4,"creation_date":1485613829,"post_id":41910007,"comment_id":71003011,"body_markdown":"https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/","body":"<a href=\"https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"nofollow noreferrer\">palesz.wordpress.com/2011/12/03/&hellip;</a>"},{"owner":{"account_id":7561163,"reputation":1380,"user_id":5738696,"display_name":"korolar"},"score":0,"creation_date":1485656372,"post_id":41910007,"comment_id":71015310,"body_markdown":"http://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj","body":"<a href=\"http://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj\" title=\"lombok does not work with aspectj\">stackoverflow.com/questions/25903686/&hellip;</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1486690300,"post_id":41910007,"comment_id":71466381,"body_markdown":"I would volunteer to take a look if you could share an [SSCCE](http://sscce.org/) including Java + AspectJ code + Maven POM on GitHub.","body":"I would volunteer to take a look if you could share an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> including Java + AspectJ code + Maven POM on GitHub."},{"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"score":0,"creation_date":1498551745,"post_id":41910007,"comment_id":76531330,"body_markdown":"Possible duplicate of [Lombok does not work with AspectJ?](https://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj\">Lombok does not work with AspectJ?</a>"},{"owner":{"account_id":476761,"reputation":24593,"user_id":887836,"accept_rate":96,"display_name":"Alexander Oh"},"score":0,"creation_date":1498551769,"post_id":41910007,"comment_id":76531344,"body_markdown":"vote to close in favor of http://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj","body":"vote to close in favor of <a href=\"http://stackoverflow.com/questions/25903686/lombok-does-not-work-with-aspectj\" title=\"lombok does not work with aspectj\">stackoverflow.com/questions/25903686/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":281433,"reputation":1014,"user_id":577736,"display_name":"Alok P"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1522293137,"creation_date":1511625879,"answer_id":47487910,"question_id":41910007,"body_markdown":"Use delombok to generate normal source code.  And then proceed as you would if Lombok were not being used.\r\n\r\nStore your Lombok-annotated code in main/src/lombok (for example) and then have the delombok plugin convert these annotations into normal code and into the directory &lt;generated-source&gt;/delomboked (for example).","title":"Lombok and AspectJ","body":"<p>Use delombok to generate normal source code.  And then proceed as you would if Lombok were not being used.</p>\n\n<p>Store your Lombok-annotated code in main/src/lombok (for example) and then have the delombok plugin convert these annotations into normal code and into the directory /delomboked (for example).</p>\n"},{"comments":[{"owner":{"account_id":5157870,"reputation":137,"user_id":4130568,"display_name":"Jay Cui"},"score":0,"creation_date":1546291439,"post_id":52869545,"comment_id":94820740,"body_markdown":"I am using IntelliJ. Actually, I need to switch to javac to make this work via IntelliJ. But it works!","body":"I am using IntelliJ. Actually, I need to switch to javac to make this work via IntelliJ. But it works!"},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1551215943,"post_id":52869545,"comment_id":96557640,"body_markdown":"@JayCui I don&#39;t think you are weaving if you switch back to `javac`","body":"@JayCui I don&#39;t think you are weaving if you switch back to <code>javac</code>"},{"owner":{"account_id":5157870,"reputation":137,"user_id":4130568,"display_name":"Jay Cui"},"score":6,"creation_date":1551252993,"post_id":52869545,"comment_id":96568095,"body_markdown":"@Ghilteras I actually found another solution for this without switching to javac. Assume you are using Intellij as well. Go to File &gt; Project Structure &gt; Modules &gt;AspectJ, check the option: Post-compile weave mode. It should work properly.","body":"@Ghilteras I actually found another solution for this without switching to javac. Assume you are using Intellij as well. Go to File &gt; Project Structure &gt; Modules &gt;AspectJ, check the option: Post-compile weave mode. It should work properly."},{"owner":{"account_id":5157870,"reputation":137,"user_id":4130568,"display_name":"Jay Cui"},"score":0,"creation_date":1551253056,"post_id":52869545,"comment_id":96568123,"body_markdown":"@Ghilteras Actually it works with javac and maven build. Did tests on it. But I think the Post-compile weave mode is better.","body":"@Ghilteras Actually it works with javac and maven build. Did tests on it. But I think the Post-compile weave mode is better."},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1552420389,"post_id":52869545,"comment_id":97000880,"body_markdown":"@JayCui I think it still works because you weave at runtime, but some Aspects require you to weave at compile time (like https://github.com/spring-projects/spring-retry). I should probably test what happens with that and Post-compile","body":"@JayCui I think it still works because you weave at runtime, but some Aspects require you to weave at compile time (like <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-retry</a>). I should probably test what happens with that and Post-compile"},{"owner":{"account_id":5791183,"reputation":216,"user_id":4568593,"display_name":"berserk81"},"score":1,"creation_date":1569876187,"post_id":52869545,"comment_id":102730792,"body_markdown":"For anybody coming here later, this seems to be the correct solution. Just see the part &quot;&lt;!-- IMPORTANT--&gt;&quot; and execution configs. If you are having problems only in test compilation it is because you have to make a separate configuration for test-compile because otherwise aspectj will compile your test codes instead of maven-compiler and lombok will not work with those.","body":"For anybody coming here later, this seems to be the correct solution. Just see the part &quot;&lt;!-- IMPORTANT--&gt;&quot; and execution configs. If you are having problems only in test compilation it is because you have to make a separate configuration for test-compile because otherwise aspectj will compile your test codes instead of maven-compiler and lombok will not work with those."},{"owner":{"account_id":56970,"reputation":1143,"user_id":170637,"display_name":"Olivier G&#233;rardin"},"score":0,"creation_date":1590584396,"post_id":52869545,"comment_id":109733899,"body_markdown":"@berserk81 for this to work I have to additionally disable the default execution of aspectj-maven-plugin which normally kicks in during compile phase, as follows:\n`&lt;execution&gt;  \n  &lt;id&gt;default&lt;/id&gt;\n  &lt;phase&gt;none&lt;/phase&gt;\n&lt;/execution&gt;`","body":"@berserk81 for this to work I have to additionally disable the default execution of aspectj-maven-plugin which normally kicks in during compile phase, as follows: <code>&lt;execution&gt;     &lt;id&gt;default&lt;&#47;id&gt;   &lt;phase&gt;none&lt;&#47;phase&gt; &lt;&#47;execution&gt;</code>"},{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":6,"creation_date":1591988383,"post_id":52869545,"comment_id":110273183,"body_markdown":"Most people know `${project.build.directory}` is `target`, but you can use `${project.build.outputDirectory}` and `${project.build.testOutputDirectory}` for `target/classes` and `target/test-classes` :)","body":"Most people know <code>${project.build.directory}</code> is <code>target</code>, but you can use <code>${project.build.outputDirectory}</code> and <code>${project.build.testOutputDirectory}</code> for <code>target&#47;classes</code> and <code>target&#47;test-classes</code> :)"},{"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"score":0,"creation_date":1605645927,"post_id":52869545,"comment_id":114713785,"body_markdown":"For the aspect library, how does this work? I&#39;m just adding this plugin to a submodule POM that has the aspect defined in it.. do I set the aspect-library to my own project somehow? Or should I move the aspects somewhere else and reference as a lib? Thanks for any clarification..","body":"For the aspect library, how does this work? I&#39;m just adding this plugin to a submodule POM that has the aspect defined in it.. do I set the aspect-library to my own project somehow? Or should I move the aspects somewhere else and reference as a lib? Thanks for any clarification.."},{"owner":{"account_id":5384281,"reputation":247,"user_id":4288707,"accept_rate":40,"display_name":"Lakmal"},"score":0,"creation_date":1610865342,"post_id":52869545,"comment_id":116263824,"body_markdown":"I&#39;m getting AJC compiler errors:error no sources specified. Any reason for this error?","body":"I&#39;m getting AJC compiler errors:error no sources specified. Any reason for this error?"},{"owner":{"account_id":5131675,"reputation":368,"user_id":4111643,"accept_rate":100,"display_name":"CodeMonkey"},"score":0,"creation_date":1622238125,"post_id":52869545,"comment_id":119744682,"body_markdown":"@Lakmal because this answer is wrong, it&#39;s specifically excluding all sources from compile time weaving which means, for example your aspects in your source code aren&#39;t being processed.","body":"@Lakmal because this answer is wrong, it&#39;s specifically excluding all sources from compile time weaving which means, for example your aspects in your source code aren&#39;t being processed."}],"tags":[],"owner":{"account_id":6299455,"reputation":281,"user_id":4894525,"display_name":"SoilChang "},"comment_count":11,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1539849876,"creation_date":1539849876,"answer_id":52869545,"question_id":41910007,"body_markdown":"Use ajc to process classes.\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11&lt;/version&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;complianceLevel&gt;8&lt;/complianceLevel&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\r\n\r\n                    &lt;!-- IMPORTANT--&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n                    &lt;sources/&gt;\r\n                    &lt;!-- IMPORTANT--&gt;\r\n\r\n\r\n                    &lt;aspectLibraries&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;you.own.aspect.libary&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;your-library&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                    &lt;/aspectLibraries&gt;\r\n\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;!-- use this goal to weave all your main classes --&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;weaveDirectories&gt;\r\n                                &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n                            &lt;/weaveDirectories&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                        &lt;phase&gt;process-test-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;!-- use this goal to weave all your test classes --&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;weaveDirectories&gt;\r\n                                &lt;weaveDirectory&gt;${project.build.directory}/test-classes&lt;/weaveDirectory&gt;\r\n                            &lt;/weaveDirectories&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Lombok and AspectJ","body":"<p>Use ajc to process classes.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.11&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;complianceLevel&gt;8&lt;/complianceLevel&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;target&gt;8&lt;/target&gt;\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n\n\n                &lt;!-- IMPORTANT--&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                &lt;sources/&gt;\n                &lt;!-- IMPORTANT--&gt;\n\n\n                &lt;aspectLibraries&gt;\n                    &lt;aspectLibrary&gt;\n                        &lt;groupId&gt;you.own.aspect.libary&lt;/groupId&gt;\n                        &lt;artifactId&gt;your-library&lt;/artifactId&gt;\n                    &lt;/aspectLibrary&gt;\n                &lt;/aspectLibraries&gt;\n\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-compile&lt;/id&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;!-- use this goal to weave all your main classes --&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;weaveDirectories&gt;\n                            &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n                        &lt;/weaveDirectories&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-testCompile&lt;/id&gt;\n                    &lt;phase&gt;process-test-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;!-- use this goal to weave all your test classes --&gt;\n                        &lt;goal&gt;test-compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;weaveDirectories&gt;\n                            &lt;weaveDirectory&gt;${project.build.directory}/test-classes&lt;/weaveDirectory&gt;\n                        &lt;/weaveDirectories&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1551215967,"post_id":54393916,"comment_id":96557645,"body_markdown":"I don&#39;t think you are actually weaving if you switch back to `javac`","body":"I don&#39;t think you are actually weaving if you switch back to <code>javac</code>"},{"owner":{"account_id":5157870,"reputation":137,"user_id":4130568,"display_name":"Jay Cui"},"score":2,"creation_date":1551253006,"post_id":54393916,"comment_id":96568101,"body_markdown":"@Ghilteras I actually found another solution for this without switching to javac. Assume you are using Intellij as well. Go to File &gt; Project Structure &gt; Modules &gt;AspectJ, check the option: Post-compile weave mode. It should work properly.","body":"@Ghilteras I actually found another solution for this without switching to javac. Assume you are using Intellij as well. Go to File &gt; Project Structure &gt; Modules &gt;AspectJ, check the option: Post-compile weave mode. It should work properly."}],"tags":[],"owner":{"account_id":3570477,"reputation":631,"user_id":2980916,"accept_rate":20,"display_name":"ernitingoel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548632014,"creation_date":1548632014,"answer_id":54393916,"question_id":41910007,"body_markdown":"I tried various solutions, finally specifying the javac compiler option like the below one worked\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FyZcD.png","title":"Lombok and AspectJ","body":"<p>I tried various solutions, finally specifying the javac compiler option like the below one worked\n<a href=\"https://i.stack.imgur.com/FyZcD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyZcD.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9798839,"reputation":9,"user_id":7260805,"display_name":"Ivan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552968201,"creation_date":1552954602,"answer_id":55231903,"question_id":41910007,"body_markdown":"This works for me with command line `mvn clean install`, but in Eclipse IDE, the problem is not solved, eg. `log` is not correctly recognized for `@Slf4j`.\r\n\r\n    &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.10&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n\t\t\t\t\t&lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;complianceLevel&gt;1.7&lt;/complianceLevel&gt;\r\n\t\t\t\t\t&lt;!-- &lt;encoding&gt;UTF-8&lt;/encoding&gt; --&gt;\r\n\t\t\t\t\t&lt;verbose&gt;false&lt;/verbose&gt;\r\n\t\t\t\t\t&lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n\t\t\t\t\t&lt;outxml&gt;true&lt;/outxml&gt;\r\n\t\t\t\t\t&lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n\t\t\t\t\t&lt;reweavable&gt;false&lt;/reweavable&gt;\r\n\t\t\t\t\t&lt;aspectLibraries&gt;\r\n\t\t\t\t\t\t&lt;aspectLibrary&gt; \r\n\t\t\t\t\t\t\t&lt;groupId&gt;com.aspectj.library.yours&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;your-library&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/aspectLibrary&gt;\r\n\t\t\t\t\t&lt;/aspectLibraries&gt;\r\n                    &lt;!-- this is important: start--&gt;\r\n\t\t\t\t\t&lt;sources/&gt;\r\n                    &lt;weaveDirectories&gt;\r\n                        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n                    &lt;/weaveDirectories&gt;\r\n                    &lt;!-- this is important: end--&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;!-- The right phase is very important! Compile and weave aspects after all classes compiled by javac --&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.8.9&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.8.9&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;","title":"Lombok and AspectJ","body":"<p>This works for me with command line <code>mvn clean install</code>, but in Eclipse IDE, the problem is not solved, eg. <code>log</code> is not correctly recognized for <code>@Slf4j</code>.</p>\n\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;complianceLevel&gt;1.7&lt;/complianceLevel&gt;\n                &lt;!-- &lt;encoding&gt;UTF-8&lt;/encoding&gt; --&gt;\n                &lt;verbose&gt;false&lt;/verbose&gt;\n                &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                &lt;outxml&gt;true&lt;/outxml&gt;\n                &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                &lt;reweavable&gt;false&lt;/reweavable&gt;\n                &lt;aspectLibraries&gt;\n                    &lt;aspectLibrary&gt; \n                        &lt;groupId&gt;com.aspectj.library.yours&lt;/groupId&gt;\n                        &lt;artifactId&gt;your-library&lt;/artifactId&gt;\n                    &lt;/aspectLibrary&gt;\n                &lt;/aspectLibraries&gt;\n                &lt;!-- this is important: start--&gt;\n                &lt;sources/&gt;\n                &lt;weaveDirectories&gt;\n                    &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n                &lt;/weaveDirectories&gt;\n                &lt;!-- this is important: end--&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- The right phase is very important! Compile and weave aspects after all classes compiled by javac --&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;1.8.9&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                    &lt;version&gt;1.8.9&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4910368,"reputation":11,"user_id":3955832,"display_name":"Vivek Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649746336,"creation_date":1649746336,"answer_id":71838287,"question_id":41910007,"body_markdown":"I had a **configuration/excludes/exclude** section with the **spring-boot-maven-plugin** where the &quot;**aspectjweaver**&quot; **dependency** had been declared. The **exclude section** had &quot;**org.projectlombok**&quot; in it, and looks like that&#39;s why none of my lombok annotations were being processed while building using &quot;mvn clean install&quot;\r\n\r\nI initially had this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;configuration&gt;\r\n            &lt;excludes&gt; &lt;!------- THIS IS WHERE my problem started by exluding lombok --&gt;\r\n                &lt;exclude&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n\r\nWhen I removed the excludes part, then the build started taking the lombok annotations and worked. This is my section now:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n\r\n","title":"Lombok and AspectJ","body":"<p>I had a <strong>configuration/excludes/exclude</strong> section with the <strong>spring-boot-maven-plugin</strong> where the &quot;<strong>aspectjweaver</strong>&quot; <strong>dependency</strong> had been declared. The <strong>exclude section</strong> had &quot;<strong>org.projectlombok</strong>&quot; in it, and looks like that's why none of my lombok annotations were being processed while building using &quot;mvn clean install&quot;</p>\n<p>I initially had this:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt; &lt;!------- THIS IS WHERE my problem started by exluding lombok --&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When I removed the excludes part, then the build started taking the lombok annotations and worked. This is my section now:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":1512818,"reputation":1873,"user_id":1414499,"accept_rate":89,"display_name":"Krzysztof"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668856400,"creation_date":1668856400,"answer_id":74499511,"question_id":41910007,"body_markdown":"# SpringBoot AND Java: 16\r\n\r\nAt this moment (19-11-2022) aspectJ plugin not support `17`\r\n\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n   &lt;/parent&gt;\r\n   \r\n   ...\r\n   YOUR GROUP, ARTIFACT NAME, VERSION ETC HERE\r\n   ...\r\n\r\n   &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;kkl.lib.dev.tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lib-dev-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;showWeaveInfo/&gt;\r\n                    &lt;sources/&gt;\r\n                    &lt;weaveDirectories&gt;\r\n                        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\r\n                    &lt;/weaveDirectories&gt;\r\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;proc&gt;none&lt;/proc&gt;\r\n                    &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        \r\n    &lt;/build&gt;\r\n\r\n```","title":"Lombok and AspectJ","body":"<h1>SpringBoot AND Java: 16</h1>\n<p>At this moment (19-11-2022) aspectJ plugin not support <code>17</code></p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n   &lt;/parent&gt;\n   \n   ...\n   YOUR GROUP, ARTIFACT NAME, VERSION ETC HERE\n   ...\n\n   &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;kkl.lib.dev.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;lib-dev-tools&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;showWeaveInfo/&gt;\n                    &lt;sources/&gt;\n                    &lt;weaveDirectories&gt;\n                        &lt;weaveDirectory&gt;${project.build.directory}/classes&lt;/weaveDirectory&gt;\n                    &lt;/weaveDirectories&gt;\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                    &lt;proc&gt;none&lt;/proc&gt;\n                    &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n    &lt;/build&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2319409,"reputation":39,"user_id":2035617,"display_name":"MashiMaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675322739,"creation_date":1675322739,"answer_id":75319874,"question_id":41910007,"body_markdown":"After reseach and testing all day, here is my success build.\r\n\r\nMain idea is using javac to compile code first (compliance with lombok) and after that use aspectj only for weaving class.\r\n\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;unwovenClassesFolder&lt;/id&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;tasks&gt;\r\n                                &lt;delete dir=&quot;${project.build.directory}/unwoven-classes&quot;/&gt;\r\n                                &lt;mkdir dir=&quot;${project.build.directory}/unwoven-classes&quot;/&gt;\r\n                            &lt;/tasks&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Modifying output directory of default compile because non-weaved classes must be stored\r\n                             in separate folder to not confuse ajc by reweaving already woven classes (which leads to\r\n                             to ajc error message like &quot;bad weaverState.Kind: -115&quot;) --&gt;\r\n                        &lt;id&gt;default-compile&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;source&gt;16&lt;/source&gt;\r\n                            &lt;target&gt;16&lt;/target&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/unwoven-classes&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;weaveDirectories&gt;\r\n                        &lt;weaveDirectory&gt;${project.build.directory}/unwoven-classes&lt;/weaveDirectory&gt;\r\n                    &lt;/weaveDirectories&gt;\r\n                    &lt;!-- IMPORTANT--&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\r\n                    &lt;sources/&gt;\r\n                    &lt;!-- IMPORTANT--&gt;\r\n                    &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\r\n                    &lt;source&gt;16&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Compile and weave aspects after all classes compiled by javac --&gt;\r\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"Lombok and AspectJ","body":"<p>After reseach and testing all day, here is my success build.</p>\n<p>Main idea is using javac to compile code first (compliance with lombok) and after that use aspectj only for weaving class.</p>\n<pre><code>&lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.1&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;unwovenClassesFolder&lt;/id&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;tasks&gt;\n                                &lt;delete dir=&quot;${project.build.directory}/unwoven-classes&quot;/&gt;\n                                &lt;mkdir dir=&quot;${project.build.directory}/unwoven-classes&quot;/&gt;\n                            &lt;/tasks&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Modifying output directory of default compile because non-weaved classes must be stored\n                             in separate folder to not confuse ajc by reweaving already woven classes (which leads to\n                             to ajc error message like &quot;bad weaverState.Kind: -115&quot;) --&gt;\n                        &lt;id&gt;default-compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;source&gt;16&lt;/source&gt;\n                            &lt;target&gt;16&lt;/target&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/unwoven-classes&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n                &lt;configuration&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;Xlint&gt;ignore&lt;/Xlint&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                    &lt;weaveDirectories&gt;\n                        &lt;weaveDirectory&gt;${project.build.directory}/unwoven-classes&lt;/weaveDirectory&gt;\n                    &lt;/weaveDirectories&gt;\n                    &lt;!-- IMPORTANT--&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;forceAjcCompile&gt;true&lt;/forceAjcCompile&gt;\n                    &lt;sources/&gt;\n                    &lt;!-- IMPORTANT--&gt;\n                    &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Compile and weave aspects after all classes compiled by javac --&gt;\n                        &lt;phase&gt;process-classes&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;complianceLevel&gt;16&lt;/complianceLevel&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":8446530,"reputation":594,"user_id":6336988,"accept_rate":75,"display_name":"NyxCode"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21107,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":7,"score":34,"last_activity_date":1677001447,"creation_date":1485608035,"question_id":41910007,"body_markdown":"I&#39;m trying to use Lombok in combination with AspectJ and Maven.\r\nSo, what&#39;s the problem?\r\nWhen I use the AspectJ Maven Plugin (www.mojohaus.org/aspectj-maven-plugin/), it takes the sources and compiles them and ignores changes made by Lombok. I followed [this tutorial][4] and came up with [this code][5] and AspectJ works, but Lombok dies with this message:\r\n\r\n    [WARNING] You aren&#39;t using a compiler supported by lombok, so lombok will not work and has been disabled.\r\n    Your processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\r\n    Lombok supports: sun/apple javac 1.6, ECJ\r\n\r\nSo, does anyone know how to get Lombok in combination with AspectJ working?\r\n\r\n\r\n\r\n\r\n  [4]: https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\r\n  [5]: http://pastebin.com/Tq1jC93D","title":"Lombok and AspectJ","body":"<p>I'm trying to use Lombok in combination with AspectJ and Maven.\nSo, what's the problem?\nWhen I use the AspectJ Maven Plugin (<a href=\"http://www.mojohaus.org/aspectj-maven-plugin/\" rel=\"noreferrer\">www.mojohaus.org/aspectj-maven-plugin/</a>), it takes the sources and compiles them and ignores changes made by Lombok. I followed <a href=\"https://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"noreferrer\">this tutorial</a> and came up with <a href=\"http://pastebin.com/Tq1jC93D\" rel=\"noreferrer\">this code</a> and AspectJ works, but Lombok dies with this message:</p>\n<pre><code>[WARNING] You aren't using a compiler supported by lombok, so lombok will not work and has been disabled.\nYour processor is: org.aspectj.org.eclipse.jdt.internal.compiler.apt.dispatch.BatchProcessingEnvImpl\nLombok supports: sun/apple javac 1.6, ECJ\n</code></pre>\n<p>So, does anyone know how to get Lombok in combination with AspectJ working?</p>\n"},{"tags":["java","r","windows","eclipse","h2o"],"answers":[{"tags":[],"owner":{"account_id":9586889,"reputation":51,"user_id":7119300,"display_name":"Hakeem Ojulari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676913214,"creation_date":1676913214,"answer_id":75512316,"question_id":75511989,"body_markdown":"I have finally resolved the issue. I had to convert the dataset again to an h2o object before calling the splitFrame function.\r\n\r\n```\r\ntrans_hf &lt;- as.h2o(atm_trans)\r\nsplits &lt;- h2o.splitFrame(trans_hf, ratios = c(0.4, 0.4), seed = 42)\r\n```\r\n\r\nI don&#39;t know why I had to do that because the trans_hf was not empty nor null but it is ok now. ","title":"ERROR: Unexpected HTTP Status code: 404 Not Found (url = http://localhost:54321/3/Frames/RTMP_sid_afb5_1?row_count=10)","body":"<p>I have finally resolved the issue. I had to convert the dataset again to an h2o object before calling the splitFrame function.</p>\n<pre><code>trans_hf &lt;- as.h2o(atm_trans)\nsplits &lt;- h2o.splitFrame(trans_hf, ratios = c(0.4, 0.4), seed = 42)\n</code></pre>\n<p>I don't know why I had to do that because the trans_hf was not empty nor null but it is ok now.</p>\n"},{"tags":[],"owner":{"account_id":27205034,"reputation":216,"user_id":20736722,"display_name":"Wendy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677000575,"creation_date":1677000575,"answer_id":75523949,"question_id":75511989,"body_markdown":"The function call h2o.splitFrame works only on h2o frame.  That is why you need to convert to an h2o object before calling the splitFrame function.  Thank you for figuring this one out.","title":"ERROR: Unexpected HTTP Status code: 404 Not Found (url = http://localhost:54321/3/Frames/RTMP_sid_afb5_1?row_count=10)","body":"<p>The function call h2o.splitFrame works only on h2o frame.  That is why you need to convert to an h2o object before calling the splitFrame function.  Thank you for figuring this one out.</p>\n"}],"owner":{"account_id":9586889,"reputation":51,"user_id":7119300,"display_name":"Hakeem Ojulari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75512316,"answer_count":2,"score":0,"last_activity_date":1677000575,"creation_date":1676911316,"question_id":75511989,"body_markdown":"I installed H2o (3.4), Java SE SDK (17), and use R (4.1.3). I am working on deep autoencoder. I was able to split my data using SplitFrame and generated autoencoder model and everything was working well. A week later, when I was working with the same data to regenerate my model because I didn&#39;t save my workspace, I had to split again, and then the following error came up. I have been battling with it for 3 days now. See the error below:\r\n\r\n`ERROR: Unexpected HTTP Status code: 404 Not Found (url = http://localhost:54321/3/Frames/RTMP_sid_afb5_1?row_count=10)`\r\n\r\n```\r\nwater.exceptions.H2OKeyNotFoundArgumentException\r\n [1] &quot;water.exceptions.H2OKeyNotFoundArgumentException: Object &#39;RTMP_sid_afb5_1&#39; not found for argument: key&quot;      \r\n [2] &quot;    water.api.FramesHandler.getFromDKV(FramesHandler.java:136)&quot;                                              \r\n [3] &quot;    water.api.FramesHandler.doFetch(FramesHandler.java:226)&quot;                                                 \r\n [4] &quot;    water.api.FramesHandler.doFetch(FramesHandler.java:221)&quot;                                                 \r\n [5] &quot;    water.api.FramesHandler.fetch(FramesHandler.java:200)&quot;                                                   \r\n [6] &quot;    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&quot;                          \r\n [7] &quot;    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)&quot;        \r\n [8] &quot;    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&quot;\r\n [9] &quot;    java.base/java.lang.reflect.Method.invoke(Method.java:568)&quot;                                              \r\n[10] &quot;    water.api.Handler.handle(Handler.java:60)&quot;                                                               \r\n[11] &quot;    water.api.RequestServer.serve(RequestServer.java:472)&quot;                                                   \r\n[12] &quot;    water.api.RequestServer.doGeneric(RequestServer.java:303)&quot;                                               \r\n[13] &quot;    water.api.RequestServer.doGet(RequestServer.java:225)&quot;                                                   \r\n[14] &quot;    javax.servlet.http.HttpServlet.service(HttpServlet.java:687)&quot;                                            \r\n[15] &quot;    javax.servlet.http.HttpServlet.service(HttpServlet.java:790)&quot;                                            \r\n[16] &quot;    org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:865)&quot;                                  \r\n[17] &quot;    org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:535)&quot;                              \r\n[18] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)&quot;                       \r\n[19] &quot;    org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1317)&quot;                      \r\n[20] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)&quot;                        \r\n[21] &quot;    org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)&quot;                               \r\n[22] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)&quot;                        \r\n[23] &quot;    org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1219)&quot;                       \r\n[24] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)&quot;                           \r\n[25] &quot;    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)&quot;                   \r\n[26] &quot;    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)&quot;                         \r\n[27] &quot;    water.webserver.jetty9.Jetty9ServerAdapter$LoginHandler.handle(Jetty9ServerAdapter.java:130)&quot;            \r\n[28] &quot;    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)&quot;                   \r\n[29] &quot;    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)&quot;                         \r\n[30] &quot;    org.eclipse.jetty.server.Server.handle(Server.java:531)&quot;                                                 \r\n[31] &quot;    org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)&quot;                                       \r\n[32] &quot;    org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)&quot;                             \r\n[33] &quot;    org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)&quot;             \r\n[34] &quot;    org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)&quot;                                       \r\n[35] &quot;    org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)&quot;                                    \r\n[36] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)&quot;                  \r\n[37] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)&quot;                \r\n[38] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)&quot;               \r\n[39] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)&quot;                      \r\n[40] &quot;    org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)&quot;\r\n[41] &quot;    org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)&quot;                        \r\n[42] &quot;    org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)&quot;                         \r\n[43] &quot;    java.base/java.lang.Thread.run(Thread.java:833)&quot;                                                         \r\n\r\nError in .h2o.doSafeREST(h2oRestApiVersion = h2oRestApiVersion, urlSuffix = page,  : \r\n  \r\n\r\nERROR MESSAGE:\r\n\r\nObject &#39;RTMP_sid_afb5_1&#39; not found for argument: key```\r\n","title":"ERROR: Unexpected HTTP Status code: 404 Not Found (url = http://localhost:54321/3/Frames/RTMP_sid_afb5_1?row_count=10)","body":"<p>I installed H2o (3.4), Java SE SDK (17), and use R (4.1.3). I am working on deep autoencoder. I was able to split my data using SplitFrame and generated autoencoder model and everything was working well. A week later, when I was working with the same data to regenerate my model because I didn't save my workspace, I had to split again, and then the following error came up. I have been battling with it for 3 days now. See the error below:</p>\n<p><code>ERROR: Unexpected HTTP Status code: 404 Not Found (url = http://localhost:54321/3/Frames/RTMP_sid_afb5_1?row_count=10)</code></p>\n<pre><code>water.exceptions.H2OKeyNotFoundArgumentException\n [1] &quot;water.exceptions.H2OKeyNotFoundArgumentException: Object 'RTMP_sid_afb5_1' not found for argument: key&quot;      \n [2] &quot;    water.api.FramesHandler.getFromDKV(FramesHandler.java:136)&quot;                                              \n [3] &quot;    water.api.FramesHandler.doFetch(FramesHandler.java:226)&quot;                                                 \n [4] &quot;    water.api.FramesHandler.doFetch(FramesHandler.java:221)&quot;                                                 \n [5] &quot;    water.api.FramesHandler.fetch(FramesHandler.java:200)&quot;                                                   \n [6] &quot;    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&quot;                          \n [7] &quot;    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)&quot;        \n [8] &quot;    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&quot;\n [9] &quot;    java.base/java.lang.reflect.Method.invoke(Method.java:568)&quot;                                              \n[10] &quot;    water.api.Handler.handle(Handler.java:60)&quot;                                                               \n[11] &quot;    water.api.RequestServer.serve(RequestServer.java:472)&quot;                                                   \n[12] &quot;    water.api.RequestServer.doGeneric(RequestServer.java:303)&quot;                                               \n[13] &quot;    water.api.RequestServer.doGet(RequestServer.java:225)&quot;                                                   \n[14] &quot;    javax.servlet.http.HttpServlet.service(HttpServlet.java:687)&quot;                                            \n[15] &quot;    javax.servlet.http.HttpServlet.service(HttpServlet.java:790)&quot;                                            \n[16] &quot;    org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:865)&quot;                                  \n[17] &quot;    org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:535)&quot;                              \n[18] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:255)&quot;                       \n[19] &quot;    org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1317)&quot;                      \n[20] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:203)&quot;                        \n[21] &quot;    org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)&quot;                               \n[22] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:201)&quot;                        \n[23] &quot;    org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1219)&quot;                       \n[24] &quot;    org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:144)&quot;                           \n[25] &quot;    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)&quot;                   \n[26] &quot;    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)&quot;                         \n[27] &quot;    water.webserver.jetty9.Jetty9ServerAdapter$LoginHandler.handle(Jetty9ServerAdapter.java:130)&quot;            \n[28] &quot;    org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)&quot;                   \n[29] &quot;    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)&quot;                         \n[30] &quot;    org.eclipse.jetty.server.Server.handle(Server.java:531)&quot;                                                 \n[31] &quot;    org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:352)&quot;                                       \n[32] &quot;    org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:260)&quot;                             \n[33] &quot;    org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:281)&quot;             \n[34] &quot;    org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:102)&quot;                                       \n[35] &quot;    org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:118)&quot;                                    \n[36] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:333)&quot;                  \n[37] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:310)&quot;                \n[38] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:168)&quot;               \n[39] &quot;    org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:126)&quot;                      \n[40] &quot;    org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:366)&quot;\n[41] &quot;    org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:762)&quot;                        \n[42] &quot;    org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:680)&quot;                         \n[43] &quot;    java.base/java.lang.Thread.run(Thread.java:833)&quot;                                                         \n\nError in .h2o.doSafeREST(h2oRestApiVersion = h2oRestApiVersion, urlSuffix = page,  : \n  \n\nERROR MESSAGE:\n\nObject 'RTMP_sid_afb5_1' not found for argument: key```\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1676989384,"post_id":75521649,"comment_id":133245239,"body_markdown":"Your understanding is wrong, maven will not generate a jar with jars in it. Unless you have a plugin that does that for you, but by default this doesn&#39;t happen.","body":"Your understanding is wrong, maven will not generate a jar with jars in it. Unless you have a plugin that does that for you, but by default this doesn&#39;t happen."},{"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"score":0,"creation_date":1676990618,"post_id":75521649,"comment_id":133245717,"body_markdown":"but if it was a war, I will have jar inside the war! if not put &lt;scope&gt;provided&lt;/scope&gt;; where is written on maven doc that ....","body":"but if it was a war, I will have jar inside the war! if not put &lt;scope&gt;provided&lt;/scope&gt;; where is written on maven doc that ...."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676990717,"post_id":75521649,"comment_id":133245759,"body_markdown":"Correct but war is something different from a simple jar. A war has a defined structure and libraries should go in `/WEB-INF/lib` this is what the `maven-war-plugin` takes care of.","body":"Correct but war is something different from a simple jar. A war has a defined structure and libraries should go in <code>&#47;WEB-INF&#47;lib</code> this is what the <code>maven-war-plugin</code> takes care of."},{"owner":{"account_id":9054285,"reputation":136,"user_id":6743192,"display_name":"rellabacode"},"score":0,"creation_date":1676993256,"post_id":75521649,"comment_id":133246683,"body_markdown":"If the project is building sucessfully, there must be something that excludes the artifact. Try to call mvn with -X flag to debug","body":"If the project is building sucessfully, there must be something that excludes the artifact. Try to call mvn with -X flag to debug"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1677019001,"post_id":75521649,"comment_id":133254062,"body_markdown":"@codigocaballer Building is not the same as running.","body":"@codigocaballer Building is not the same as running."}],"answers":[{"tags":[],"owner":{"account_id":6586021,"reputation":564,"user_id":5088764,"display_name":"sbernard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676995995,"creation_date":1676995995,"answer_id":75523079,"question_id":75521649,"body_markdown":"Nope, if you don&#39;t specify `provided`, maven will not put the jar dependency in a jar file.\r\n\r\nBy the way, the default **Java** ClassLoader doesn&#39;t support to load a jar in jar.  \r\nSee [Adding Classes to the JAR File&#39;s Classpath](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html) :\r\n\r\n&gt; **Note:** The `Class-Path` header points to classes or JAR files on the local network, not JAR files within the JAR file or classes accessible over Internet protocols. To load classes in JAR files within a JAR file into the class path, you must write custom code to load those classes. For example, if `MyJar.jar` contains another JAR file called `MyUtils.jar`, you cannot use the `Class-Path` header in `MyJar.jar`&#39;s manifest to load classes in `MyUtils.jar` into the class path.\r\n\r\nIf you want to have all dependency in your jar, a solution could be to use maven [Shade](https://maven.apache.org/plugins/maven-shade-plugin/) plugin to create [Uber Jar](https://stackoverflow.com/a/11947093/5088764).","title":"dependency not included in artifact maven","body":"<p>Nope, if you don't specify <code>provided</code>, maven will not put the jar dependency in a jar file.</p>\n<p>By the way, the default <strong>Java</strong> ClassLoader doesn't support to load a jar in jar.<br />\nSee <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">Adding Classes to the JAR File's Classpath</a> :</p>\n<blockquote>\n<p><strong>Note:</strong> The <code>Class-Path</code> header points to classes or JAR files on the local network, not JAR files within the JAR file or classes accessible over Internet protocols. To load classes in JAR files within a JAR file into the class path, you must write custom code to load those classes. For example, if <code>MyJar.jar</code> contains another JAR file called <code>MyUtils.jar</code>, you cannot use the <code>Class-Path</code> header in <code>MyJar.jar</code>'s manifest to load classes in <code>MyUtils.jar</code> into the class path.</p>\n</blockquote>\n<p>If you want to have all dependency in your jar, a solution could be to use maven <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">Shade</a> plugin to create <a href=\"https://stackoverflow.com/a/11947093/5088764\">Uber Jar</a>.</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677000392,"creation_date":1677000392,"answer_id":75523920,"question_id":75521649,"body_markdown":"JARs do not contain their dependencies unless you explicitly use something like Maven Assembly Plugin or Maven Shade Plugin. \r\n\r\nWARs always contain their dependencies if they are not `provided` or otherwise excluded.","title":"dependency not included in artifact maven","body":"<p>JARs do not contain their dependencies unless you explicitly use something like Maven Assembly Plugin or Maven Shade Plugin.</p>\n<p>WARs always contain their dependencies if they are not <code>provided</code> or otherwise excluded.</p>\n"}],"owner":{"account_id":4544346,"reputation":47,"user_id":3691373,"display_name":"fraaanz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75523079,"answer_count":2,"score":0,"last_activity_date":1677000392,"creation_date":1676988583,"question_id":75521649,"body_markdown":"I have a project multimodule, every module is defined as a jar, and every module, has some dependency like:\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;it.demker.rapdev.be.esb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;CR_RAPDEV_BE_PRODO_DEBICLIENT_V1&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAs you can see there is no:\r\n\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n\r\nSo after \r\n\r\n&gt; mvn clean compile package\r\n\r\nIf I open the jar file produced, i&#39;m going to find the jar CR_RAPDEV_BE_PRODO_DEBICLIENT_V1\r\nbut there isn&#39;t any jar file, (inside my jar)?\r\n\r\nHow is that possible? For what I know if I don&#39;t specify &lt;scope&gt;provided&lt;scope&gt;, maven should be put the dependency inside the jar file.\r\n\r\n\r\n","title":"dependency not included in artifact maven","body":"<p>I have a project multimodule, every module is defined as a jar, and every module, has some dependency like:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;it.demker.rapdev.be.esb&lt;/groupId&gt;\n            &lt;artifactId&gt;CR_RAPDEV_BE_PRODO_DEBICLIENT_V1&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As you can see there is no:</p>\n<pre><code>&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n<p>So after</p>\n<blockquote>\n<p>mvn clean compile package</p>\n</blockquote>\n<p>If I open the jar file produced, i'm going to find the jar CR_RAPDEV_BE_PRODO_DEBICLIENT_V1\nbut there isn't any jar file, (inside my jar)?</p>\n<p>How is that possible? For what I know if I don't specify provided, maven should be put the dependency inside the jar file.</p>\n"},{"tags":["java","spring","spring-boot","maven","log4j2"],"comments":[{"owner":{"account_id":16727238,"reputation":1925,"user_id":12090556,"display_name":"xMayank"},"score":0,"creation_date":1676999699,"post_id":75523669,"comment_id":133248794,"body_markdown":"Tried its not working `logback-spring.xml`","body":"Tried its not working <code>logback-spring.xml</code>"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1677000059,"post_id":75523669,"comment_id":133248899,"body_markdown":"Where did you put the dependencies: in `project/dependencies` or `project/dependencyManagement/dependencies`? Your dependency tree does not take them into consideration.","body":"Where did you put the dependencies: in <code>project&#47;dependencies</code> or <code>project&#47;dependencyManagement&#47;dependencies</code>? Your dependency tree does not take them into consideration."}],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677000259,"creation_date":1677000259,"answer_id":75523904,"question_id":75523669,"body_markdown":"For the logging config try `application.properties` =&gt; `logging.config = classpath:log4j2.xml`\r\n\r\nFor ELK Logging pattern did you tryed `Slf4J` + `LogBack` ? (Slf4J+LogBack is the default Spring setup)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n       &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nConfig \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration debug=&quot;true&quot; scan=&quot;fase&quot;&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appRootLogLevel&quot; source=&quot;logging.level&quot; defaultValue=&quot;TRACE&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;appName&quot; source=&quot;spring.application.name&quot; defaultValue=&quot;-&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;componentName&quot; source=&quot;spring.application.component-name&quot; defaultValue=&quot;-&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;envName&quot; source=&quot;spring.application.env&quot; defaultValue=&quot;-&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;subEnvName&quot; source=&quot;spring.application.sub-env-name&quot; defaultValue=&quot;-&quot; /&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;version&quot; source=&quot;info.app.version&quot; defaultValue=&quot;No Version&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;jsonSTDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;logstashMarkers /&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                                &quot;@t&quot;: &quot;%date{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ}&quot;,\r\n                                &quot;@s&quot;: &quot;%level&quot;,\r\n                                &quot;@m&quot;: &quot;%message&quot;,\r\n                                &quot;@e&quot;: &quot;${envName}&quot;,\r\n                                &quot;@a&quot;: &quot;${appName}&quot;,\r\n                                &quot;@cp&quot;: &quot;${componentName}&quot;,\r\n                                &quot;@scp&quot;: &quot;%logger{40}&quot;,\r\n                                &quot;@co&quot;: &quot;%mdc{correlationId}&quot;,\r\n                                &quot;@v&quot;: &quot;${version}&quot;,\r\n                                &quot;@st&quot;: &quot;%exception{full}&quot;,\r\n                                &quot;@d&quot;: &quot;#asJson{%mdc{dataObject}}&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                    &lt;stackTrace&gt;\r\n                        &lt;fieldName&gt;@st&lt;/fieldName&gt;\r\n                        &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n                            &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\r\n                            &lt;maxLength&gt;4096&lt;/maxLength&gt;\r\n                            &lt;shortenedClassNameLength&gt;20&lt;/shortenedClassNameLength&gt;\r\n                            &lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\r\n                            &lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\r\n                            &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n                        &lt;/throwableConverter&gt;\r\n                    &lt;/stackTrace&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \t&lt;root level=&quot;${appRootLogLevel}&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;jsonSTDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Multiple Slf4j bindings unable to add log4j2 spring boot","body":"<p>For the logging config try <code>application.properties</code> =&gt; <code>logging.config = classpath:log4j2.xml</code></p>\n<p>For ELK Logging pattern did you tryed <code>Slf4J</code> + <code>LogBack</code> ? (Slf4J+LogBack is the default Spring setup)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n   &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Config</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration debug=&quot;true&quot; scan=&quot;fase&quot;&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;appRootLogLevel&quot; source=&quot;logging.level&quot; defaultValue=&quot;TRACE&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;appName&quot; source=&quot;spring.application.name&quot; defaultValue=&quot;-&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;componentName&quot; source=&quot;spring.application.component-name&quot; defaultValue=&quot;-&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;envName&quot; source=&quot;spring.application.env&quot; defaultValue=&quot;-&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;subEnvName&quot; source=&quot;spring.application.sub-env-name&quot; defaultValue=&quot;-&quot; /&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;version&quot; source=&quot;info.app.version&quot; defaultValue=&quot;No Version&quot;/&gt;\n\n    &lt;appender name=&quot;jsonSTDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;logstashMarkers /&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                            &quot;@t&quot;: &quot;%date{yyyy-MM-dd'T'HH:mm:ss.SSSZ}&quot;,\n                            &quot;@s&quot;: &quot;%level&quot;,\n                            &quot;@m&quot;: &quot;%message&quot;,\n                            &quot;@e&quot;: &quot;${envName}&quot;,\n                            &quot;@a&quot;: &quot;${appName}&quot;,\n                            &quot;@cp&quot;: &quot;${componentName}&quot;,\n                            &quot;@scp&quot;: &quot;%logger{40}&quot;,\n                            &quot;@co&quot;: &quot;%mdc{correlationId}&quot;,\n                            &quot;@v&quot;: &quot;${version}&quot;,\n                            &quot;@st&quot;: &quot;%exception{full}&quot;,\n                            &quot;@d&quot;: &quot;#asJson{%mdc{dataObject}}&quot;\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n                &lt;stackTrace&gt;\n                    &lt;fieldName&gt;@st&lt;/fieldName&gt;\n                    &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                        &lt;maxDepthPerThrowable&gt;30&lt;/maxDepthPerThrowable&gt;\n                        &lt;maxLength&gt;4096&lt;/maxLength&gt;\n                        &lt;shortenedClassNameLength&gt;20&lt;/shortenedClassNameLength&gt;\n                        &lt;exclude&gt;^sun\\.reflect\\..*\\.invoke&lt;/exclude&gt;\n                        &lt;exclude&gt;^net\\.sf\\.cglib\\.proxy\\.MethodProxy\\.invoke&lt;/exclude&gt;\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                    &lt;/throwableConverter&gt;\n                &lt;/stackTrace&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;${appRootLogLevel}&quot;&gt;\n        &lt;appender-ref ref=&quot;jsonSTDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":16727238,"reputation":1925,"user_id":12090556,"display_name":"xMayank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677000259,"creation_date":1676998989,"question_id":75523669,"body_markdown":"In my project have multiple slf4j bindings\r\n\r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:runtime\r\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:runtime\r\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\r\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.1:runtime\r\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.0.1:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.4:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.4:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.4:compile\r\n[INFO] |  |  \\- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\r\n[INFO] +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.2:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\r\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] +- software.amazon.awssdk:secretsmanager:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-json-protocol:jar:2.18.6:compile\r\n[INFO] |  |  +- software.amazon.awssdk:third-party-jackson-core:jar:2.18.6:compile\r\n[INFO] |  |  \\- software.amazon.awssdk:json-utils:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.18.6:compile\r\n[INFO] |  |  +- software.amazon.awssdk:endpoints-spi:jar:2.18.6:compile\r\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.18.6:compile\r\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.18.6:compile\r\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\r\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.18.6:compile\r\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.18.6:runtime\r\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:runtime\r\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:runtime\r\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.16:runtime\r\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.18.6:runtime\r\n[INFO] |     +- io.netty:netty-codec-http:jar:4.1.87.Final:compile\r\n[INFO] |     +- io.netty:netty-codec-http2:jar:4.1.87.Final:compile\r\n[INFO] |     +- io.netty:netty-codec:jar:4.1.87.Final:compile\r\n[INFO] |     +- io.netty:netty-buffer:jar:4.1.87.Final:compile\r\n[INFO] |     \\- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.2:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\r\n[INFO] +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\r\n[INFO] +- org.postgresql:postgresql:jar:42.5.1:runtime\r\n[INFO] |  \\- org.checkerframework:checker-qual:jar:3.5.0:runtime\r\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\r\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\r\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.10.3:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\r\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.10.3:compile\r\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\r\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.24:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.2:test\r\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\r\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\r\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\r\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO] |  +- org.springframework:spring-core:jar:6.0.4:compile\r\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\r\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] +- com.google.code.gson:gson:jar:2.9.1:compile\r\n[INFO] +- com.internetitem:logback-elasticsearch-appender:jar:1.6:compile\r\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework:spring-messaging:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:3.0.1:compile\r\n[INFO] |     +- org.springframework.amqp:spring-amqp:jar:3.0.1:compile\r\n[INFO] |     |  \\- org.springframework.retry:spring-retry:jar:2.0.0:compile\r\n[INFO] |     \\- com.rabbitmq:amqp-client:jar:5.16.0:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\r\n[INFO] |  \\- org.springframework:spring-context-support:jar:6.0.4:compile\r\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\r\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\r\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\r\n[INFO] |  \\- org.springframework:spring-aop:jar:6.0.4:compile\r\n[INFO] +- org.json:json:jar:20220924:compile\r\n[INFO] +- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-mongodb:jar:3.0.2:compile\r\n[INFO] |  +- org.mongodb:mongodb-driver-sync:jar:4.8.2:compile\r\n[INFO] |  |  +- org.mongodb:bson:jar:4.8.2:compile\r\n[INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.8.2:compile\r\n[INFO] |  |     \\- org.mongodb:bson-record-codec:jar:4.8.2:runtime\r\n[INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:4.0.1:compile\r\n[INFO] +- org.springframework.mobile:spring-mobile-device:jar:2.0.0.M3:compile\r\n[INFO] +- io.github.resilience4j:resilience4j-spring-boot2:jar:2.0.2:compile\r\n[INFO] |  +- io.github.resilience4j:resilience4j-spring:jar:2.0.2:compile\r\n[INFO] |  |  +- io.github.resilience4j:resilience4j-annotations:jar:2.0.2:compile\r\n[INFO] |  |  +- io.github.resilience4j:resilience4j-consumer:jar:2.0.2:compile\r\n[INFO] |  |  |  +- io.github.resilience4j:resilience4j-core:jar:2.0.2:compile\r\n[INFO] |  |  |  \\- io.github.resilience4j:resilience4j-circularbuffer:jar:2.0.2:runtime\r\n[INFO] |  |  \\- io.github.resilience4j:resilience4j-framework-common:jar:2.0.2:compile\r\n[INFO] |  \\- io.github.resilience4j:resilience4j-micrometer:jar:2.0.2:runtime\r\n[INFO] |     +- io.github.resilience4j:resilience4j-bulkhead:jar:2.0.2:compile\r\n[INFO] |     +- io.github.resilience4j:resilience4j-circuitbreaker:jar:2.0.2:compile\r\n[INFO] |     +- io.github.resilience4j:resilience4j-retry:jar:2.0.2:compile\r\n[INFO] |     +- io.github.resilience4j:resilience4j-ratelimiter:jar:2.0.2:compile\r\n[INFO] |     \\- io.github.resilience4j:resilience4j-timelimiter:jar:2.0.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.0.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.0.2:compile\r\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.2:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.87.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.87.Final:compile\r\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile\r\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile\r\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile\r\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.2:compile\r\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.87.Final:compile\r\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.87.Final:compile\r\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.4:compile\r\n[INFO] +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] +- com.bucket4j:bucket4j-core:jar:8.1.1:compile\r\n[INFO] +- com.bucket4j:bucket4j-redis:jar:8.0.1:compile\r\n[INFO] +- io.lettuce:lettuce-core:jar:6.2.2.RELEASE:compile\r\n[INFO] |  +- io.netty:netty-common:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-handler:jar:4.1.87.Final:compile\r\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:compile\r\n[INFO] |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile\r\n[INFO] |  +- io.netty:netty-transport:jar:4.1.87.Final:compile\r\n[INFO] |  \\- io.projectreactor:reactor-core:jar:3.5.2:compile\r\n[INFO] +- org.springdoc:springdoc-openapi-starter-webmvc-ui:jar:2.0.2:compile\r\n[INFO] |  +- org.springdoc:springdoc-openapi-starter-webmvc-api:jar:2.0.2:compile\r\n[INFO] |  |  \\- org.springdoc:springdoc-openapi-starter-common:jar:2.0.2:compile\r\n[INFO] |  |     \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.2.7:compile\r\n[INFO] |  |        +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.2.7:compile\r\n[INFO] |  |        +- io.swagger.core.v3:swagger-models-jakarta:jar:2.2.7:compile\r\n[INFO] |  |        \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.1:compile\r\n[INFO] |  +- org.webjars:swagger-ui:jar:4.15.5:compile\r\n[INFO] |  +- org.webjars:webjars-locator-core:jar:0.52:compile\r\n[INFO] |  \\- io.github.classgraph:classgraph:jar:4.8.149:compile\r\n[INFO] \\- com.slack.api:slack-api-client:jar:1.27.3:compile\r\n[INFO]    +- com.slack.api:slack-api-model:jar:1.27.3:compile\r\n[INFO]    \\- com.squareup.okhttp3:okhttp:jar:4.10.0:compile\r\n[INFO]       +- com.squareup.okio:okio-jvm:jar:3.0.0:compile\r\n[INFO]       |  +- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.7.22:compile\r\n[INFO]       |  |  \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.7.22:compile\r\n[INFO]       |  \\- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.7.22:compile\r\n[INFO]       \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.22:compile\r\n[INFO]          \\- org.jetbrains:annotations:jar:13.0:compile\r\n```\r\n\r\nI tried to add log4j2 so that I can configure the logging pattern and ELK forwarding.\r\nBut I am unable to do that.\r\n\r\nThis is what I implemented\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nTried adding `log4j2.properties` or `log4j2.xml` none of them are working.\r\n\r\nCan you suggest any way to achieve this?\r\n\r\nThank you","title":"Multiple Slf4j bindings unable to add log4j2 spring boot","body":"<p>In my project have multiple slf4j bindings</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.0.2:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.0.2:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.4:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.6.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.2.Final:runtime\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.12.22:runtime\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.1:runtime\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.1:runtime\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:1.0.0:runtime\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.1:runtime\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.0.1:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.0.1:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.4:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.4:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.4:compile\n[INFO] |  |  \\- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.4:compile\n[INFO] +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-validation:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.2:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.0.2:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.19.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\n[INFO] |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |     \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] +- software.amazon.awssdk:secretsmanager:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:aws-json-protocol:jar:2.18.6:compile\n[INFO] |  |  +- software.amazon.awssdk:third-party-jackson-core:jar:2.18.6:compile\n[INFO] |  |  \\- software.amazon.awssdk:json-utils:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:protocol-core:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:sdk-core:jar:2.18.6:compile\n[INFO] |  |  +- software.amazon.awssdk:endpoints-spi:jar:2.18.6:compile\n[INFO] |  |  +- software.amazon.awssdk:profiles:jar:2.18.6:compile\n[INFO] |  |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  +- software.amazon.awssdk:auth:jar:2.18.6:compile\n[INFO] |  |  \\- software.amazon.eventstream:eventstream:jar:1.0.1:compile\n[INFO] |  +- software.amazon.awssdk:http-client-spi:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:regions:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:annotations:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:utils:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:aws-core:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:metrics-spi:jar:2.18.6:compile\n[INFO] |  +- software.amazon.awssdk:apache-client:jar:2.18.6:runtime\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.14:runtime\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:runtime\n[INFO] |  |  \\- org.apache.httpcomponents:httpcore:jar:4.4.16:runtime\n[INFO] |  \\- software.amazon.awssdk:netty-nio-client:jar:2.18.6:runtime\n[INFO] |     +- io.netty:netty-codec-http:jar:4.1.87.Final:compile\n[INFO] |     +- io.netty:netty-codec-http2:jar:4.1.87.Final:compile\n[INFO] |     +- io.netty:netty-codec:jar:4.1.87.Final:compile\n[INFO] |     +- io.netty:netty-buffer:jar:4.1.87.Final:compile\n[INFO] |     \\- io.netty:netty-transport-classes-epoll:jar:4.1.87.Final:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.0.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.1:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.1:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.1:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.2:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.4:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.4:compile\n[INFO] +- org.springframework.boot:spring-boot-configuration-processor:jar:3.0.2:compile\n[INFO] +- org.postgresql:postgresql:jar:42.5.1:runtime\n[INFO] |  \\- org.checkerframework:checker-qual:jar:3.5.0:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-actuator-autoconfigure:jar:3.0.2:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-actuator:jar:3.0.2:compile\n[INFO] |  +- io.micrometer:micrometer-observation:jar:1.10.3:compile\n[INFO] |  |  \\- io.micrometer:micrometer-commons:jar:1.10.3:compile\n[INFO] |  \\- io.micrometer:micrometer-core:jar:1.10.3:compile\n[INFO] |     +- org.hdrhistogram:HdrHistogram:jar:2.1.12:runtime\n[INFO] |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.24:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.0.2:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.0.2:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.2:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO] |  |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n[INFO] |  +- org.assertj:assertj-core:jar:3.23.1:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO] |  +- org.mockito:mockito-core:jar:4.8.1:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.22:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-core:jar:6.0.4:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-test:jar:6.0.4:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- com.google.code.gson:gson:jar:2.9.1:compile\n[INFO] +- com.internetitem:logback-elasticsearch-appender:jar:1.6:compile\n[INFO] |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:3.0.2:compile\n[INFO] |  +- org.springframework:spring-messaging:jar:6.0.4:compile\n[INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:3.0.1:compile\n[INFO] |     +- org.springframework.amqp:spring-amqp:jar:3.0.1:compile\n[INFO] |     |  \\- org.springframework.retry:spring-retry:jar:2.0.0:compile\n[INFO] |     \\- com.rabbitmq:amqp-client:jar:5.16.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-cache:jar:3.0.2:compile\n[INFO] |  \\- org.springframework:spring-context-support:jar:6.0.4:compile\n[INFO] +- org.springframework.data:spring-data-redis:jar:3.0.1:compile\n[INFO] |  +- org.springframework.data:spring-data-keyvalue:jar:3.0.1:compile\n[INFO] |  +- org.springframework:spring-tx:jar:6.0.4:compile\n[INFO] |  +- org.springframework:spring-oxm:jar:6.0.4:compile\n[INFO] |  \\- org.springframework:spring-aop:jar:6.0.4:compile\n[INFO] +- org.json:json:jar:20220924:compile\n[INFO] +- org.apache.commons:commons-pool2:jar:2.11.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-mongodb:jar:3.0.2:compile\n[INFO] |  +- org.mongodb:mongodb-driver-sync:jar:4.8.2:compile\n[INFO] |  |  +- org.mongodb:bson:jar:4.8.2:compile\n[INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.8.2:compile\n[INFO] |  |     \\- org.mongodb:bson-record-codec:jar:4.8.2:runtime\n[INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:4.0.1:compile\n[INFO] +- org.springframework.mobile:spring-mobile-device:jar:2.0.0.M3:compile\n[INFO] +- io.github.resilience4j:resilience4j-spring-boot2:jar:2.0.2:compile\n[INFO] |  +- io.github.resilience4j:resilience4j-spring:jar:2.0.2:compile\n[INFO] |  |  +- io.github.resilience4j:resilience4j-annotations:jar:2.0.2:compile\n[INFO] |  |  +- io.github.resilience4j:resilience4j-consumer:jar:2.0.2:compile\n[INFO] |  |  |  +- io.github.resilience4j:resilience4j-core:jar:2.0.2:compile\n[INFO] |  |  |  \\- io.github.resilience4j:resilience4j-circularbuffer:jar:2.0.2:runtime\n[INFO] |  |  \\- io.github.resilience4j:resilience4j-framework-common:jar:2.0.2:compile\n[INFO] |  \\- io.github.resilience4j:resilience4j-micrometer:jar:2.0.2:runtime\n[INFO] |     +- io.github.resilience4j:resilience4j-bulkhead:jar:2.0.2:compile\n[INFO] |     +- io.github.resilience4j:resilience4j-circuitbreaker:jar:2.0.2:compile\n[INFO] |     +- io.github.resilience4j:resilience4j-retry:jar:2.0.2:compile\n[INFO] |     +- io.github.resilience4j:resilience4j-ratelimiter:jar:2.0.2:compile\n[INFO] |     \\- io.github.resilience4j:resilience4j-timelimiter:jar:2.0.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-webflux:jar:3.0.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-reactor-netty:jar:3.0.2:compile\n[INFO] |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.1.2:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns:jar:4.1.87.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.87.Final:compile\n[INFO] |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.87.Final:compile\n[INFO] |  |     |  \\- io.netty:netty-resolver-dns-classes-macos:jar:4.1.87.Final:compile\n[INFO] |  |     +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.87.Final:compile\n[INFO] |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.1.2:compile\n[INFO] |  |        \\- io.netty:netty-handler-proxy:jar:4.1.87.Final:compile\n[INFO] |  |           \\- io.netty:netty-codec-socks:jar:4.1.87.Final:compile\n[INFO] |  \\- org.springframework:spring-webflux:jar:6.0.4:compile\n[INFO] +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] +- com.bucket4j:bucket4j-core:jar:8.1.1:compile\n[INFO] +- com.bucket4j:bucket4j-redis:jar:8.0.1:compile\n[INFO] +- io.lettuce:lettuce-core:jar:6.2.2.RELEASE:compile\n[INFO] |  +- io.netty:netty-common:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-handler:jar:4.1.87.Final:compile\n[INFO] |  |  +- io.netty:netty-resolver:jar:4.1.87.Final:compile\n[INFO] |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.87.Final:compile\n[INFO] |  +- io.netty:netty-transport:jar:4.1.87.Final:compile\n[INFO] |  \\- io.projectreactor:reactor-core:jar:3.5.2:compile\n[INFO] +- org.springdoc:springdoc-openapi-starter-webmvc-ui:jar:2.0.2:compile\n[INFO] |  +- org.springdoc:springdoc-openapi-starter-webmvc-api:jar:2.0.2:compile\n[INFO] |  |  \\- org.springdoc:springdoc-openapi-starter-common:jar:2.0.2:compile\n[INFO] |  |     \\- io.swagger.core.v3:swagger-core-jakarta:jar:2.2.7:compile\n[INFO] |  |        +- io.swagger.core.v3:swagger-annotations-jakarta:jar:2.2.7:compile\n[INFO] |  |        +- io.swagger.core.v3:swagger-models-jakarta:jar:2.2.7:compile\n[INFO] |  |        \\- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.14.1:compile\n[INFO] |  +- org.webjars:swagger-ui:jar:4.15.5:compile\n[INFO] |  +- org.webjars:webjars-locator-core:jar:0.52:compile\n[INFO] |  \\- io.github.classgraph:classgraph:jar:4.8.149:compile\n[INFO] \\- com.slack.api:slack-api-client:jar:1.27.3:compile\n[INFO]    +- com.slack.api:slack-api-model:jar:1.27.3:compile\n[INFO]    \\- com.squareup.okhttp3:okhttp:jar:4.10.0:compile\n[INFO]       +- com.squareup.okio:okio-jvm:jar:3.0.0:compile\n[INFO]       |  +- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.7.22:compile\n[INFO]       |  |  \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.7.22:compile\n[INFO]       |  \\- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.7.22:compile\n[INFO]       \\- org.jetbrains.kotlin:kotlin-stdlib:jar:1.7.22:compile\n[INFO]          \\- org.jetbrains:annotations:jar:13.0:compile\n</code></pre>\n<p>I tried to add log4j2 so that I can configure the logging pattern and ELK forwarding.\nBut I am unable to do that.</p>\n<p>This is what I implemented</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Tried adding <code>log4j2.properties</code> or <code>log4j2.xml</code> none of them are working.</p>\n<p>Can you suggest any way to achieve this?</p>\n<p>Thank you</p>\n"},{"tags":["java","css","javafx","fxml","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":8029652,"reputation":168,"user_id":6055185,"accept_rate":75,"display_name":"CorrOrtiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459817286,"creation_date":1459817286,"answer_id":36415291,"question_id":36411881,"body_markdown":"you can try this code \r\n\r\n    .background {\r\n    -fx-background-position: center;\r\n    -fx-background-color: #BDBDBD;\r\n    -fx-background-image: url(&#39;file:src/Background.png&#39;);\r\n    -fx-background-repeat: stretch;\r\n    }","title":"Background Image shows in SceneBuilder but not when App runs","body":"<p>you can try this code </p>\n\n<pre><code>.background {\n-fx-background-position: center;\n-fx-background-color: #BDBDBD;\n-fx-background-image: url('file:src/Background.png');\n-fx-background-repeat: stretch;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14614950,"reputation":27,"user_id":13301597,"display_name":"FahimFBA"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677000101,"creation_date":1676998979,"answer_id":75523667,"question_id":36411881,"body_markdown":"You can use the `Absolute Path` from IntelliJ IDEA. \r\n\r\nFor that simply follow the steps:\r\n\r\n1. Right click on the image from your IntelliJ IDEA directory. \r\n2. Click on `Copy Path/Reference...`\r\n\r\n[![Copy path/reference in IntelliJ IDEA][1]][1]\r\n\r\n\r\n3. Select the `Absolute Path`. Only clicking on that usually copies the link. But you can also `Ctrl` + `Shift` + `C` to copy the path. \r\n[![Select the absolute path from IntelliJ IDEA][2]][2]\r\n\r\n\r\n4. Now simply paste the absolute path to the `FXML` file in the image source.\r\n\r\n[![Use the absolute path in the FXML file][3]][3]\r\n\r\n\r\n5. Make sure to use an additional slash `\\` in the directory slashes as it needs to slash to specify that it is part of that address, not any escaping character.\r\n\r\nPlease keep in mind that these procedures apply only when you have already copied the image file inside the project folder. If you want to use images located in a different directory, then you have to copy the absolute path. If you are using the Windows operating system, you can simply copy the absolute path by right clicking on the image file and going into the properties. The `Location` section contains the path. \r\n\r\nIf the `Location` does not contain the absolute path including the file name then you simply need to add the file name manually. \r\nFor example, check the image below.\r\n\r\n[![Properties of an image from Windows operating system][4]][4]\r\n\r\n\r\nHere, in this file&#39;s properties tab, the file name is not included in the `Location` section. Therefore, I need to add the filename at the end of the location/path manually. \r\n\r\nIn this case, my absolute path would be `C:\\Users\\fahim\\Pictures\\Screenshots\\Screenshot_20230221_110058.png`.\r\n\r\nIf I want to use this path in the `FXML` file, I need to add one more slash there after each slash in the location. Then the path that I will include in my `FXML` file is this: `C:\\\\Users\\\\fahim\\\\Pictures\\\\Screenshots\\\\Screenshot_20230221_110058.png`.\r\n\r\nAlso, if you do not use any extra slashes ( `\\` ), that will also work perfectly!\r\n\r\nFor example, check the following code.\r\n\r\n```\r\n&lt;image&gt;\r\n            &lt;Image url=&quot;C:\\Users\\fahim\\Desktop\\aoop-uiu\\SceneBuilder_01\\FirstApp\\src\\image\\background.jpg&quot; /&gt;\r\n&lt;/image&gt;\r\n```\r\n\r\nI did not use any extra slash ( `\\` ) in the absolute path now, but it still works like earlier.\r\n\r\n[![Absolute path without any extra slash][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jKovM.png\r\n  [2]: https://i.stack.imgur.com/YH8hT.png\r\n  [3]: https://i.stack.imgur.com/dgGf2.png\r\n  [4]: https://i.stack.imgur.com/NasoA.png\r\n  [5]: https://i.stack.imgur.com/rB7C7.png","title":"Background Image shows in SceneBuilder but not when App runs","body":"<p>You can use the <code>Absolute Path</code> from IntelliJ IDEA.</p>\n<p>For that simply follow the steps:</p>\n<ol>\n<li>Right click on the image from your IntelliJ IDEA directory.</li>\n<li>Click on <code>Copy Path/Reference...</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/jKovM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jKovM.png\" alt=\"Copy path/reference in IntelliJ IDEA\" /></a></p>\n<ol start=\"3\">\n<li><p>Select the <code>Absolute Path</code>. Only clicking on that usually copies the link. But you can also <code>Ctrl</code> + <code>Shift</code> + <code>C</code> to copy the path.\n<a href=\"https://i.stack.imgur.com/YH8hT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YH8hT.png\" alt=\"Select the absolute path from IntelliJ IDEA\" /></a></p>\n</li>\n<li><p>Now simply paste the absolute path to the <code>FXML</code> file in the image source.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/dgGf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dgGf2.png\" alt=\"Use the absolute path in the FXML file\" /></a></p>\n<ol start=\"5\">\n<li>Make sure to use an additional slash <code>\\</code> in the directory slashes as it needs to slash to specify that it is part of that address, not any escaping character.</li>\n</ol>\n<p>Please keep in mind that these procedures apply only when you have already copied the image file inside the project folder. If you want to use images located in a different directory, then you have to copy the absolute path. If you are using the Windows operating system, you can simply copy the absolute path by right clicking on the image file and going into the properties. The <code>Location</code> section contains the path.</p>\n<p>If the <code>Location</code> does not contain the absolute path including the file name then you simply need to add the file name manually.\nFor example, check the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/NasoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NasoA.png\" alt=\"Properties of an image from Windows operating system\" /></a></p>\n<p>Here, in this file's properties tab, the file name is not included in the <code>Location</code> section. Therefore, I need to add the filename at the end of the location/path manually.</p>\n<p>In this case, my absolute path would be <code>C:\\Users\\fahim\\Pictures\\Screenshots\\Screenshot_20230221_110058.png</code>.</p>\n<p>If I want to use this path in the <code>FXML</code> file, I need to add one more slash there after each slash in the location. Then the path that I will include in my <code>FXML</code> file is this: <code>C:\\\\Users\\\\fahim\\\\Pictures\\\\Screenshots\\\\Screenshot_20230221_110058.png</code>.</p>\n<p>Also, if you do not use any extra slashes ( <code>\\</code> ), that will also work perfectly!</p>\n<p>For example, check the following code.</p>\n<pre><code>&lt;image&gt;\n            &lt;Image url=&quot;C:\\Users\\fahim\\Desktop\\aoop-uiu\\SceneBuilder_01\\FirstApp\\src\\image\\background.jpg&quot; /&gt;\n&lt;/image&gt;\n</code></pre>\n<p>I did not use any extra slash ( <code>\\</code> ) in the absolute path now, but it still works like earlier.</p>\n<p><a href=\"https://i.stack.imgur.com/rB7C7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rB7C7.png\" alt=\"Absolute path without any extra slash\" /></a></p>\n"}],"owner":{"display_name":"user5446333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36415291,"answer_count":2,"score":1,"last_activity_date":1677000101,"creation_date":1459800232,"question_id":36411881,"body_markdown":"Already searched for an answer for this but the only similar question I could find was here (https://stackoverflow.com/questions/11995958/javafx-background-image-works-in-scenebuilder-and-win-but-not-on-osx) and it hasn&#39;t been answered.\r\n\r\nI&#39;m trying to get a background image to show when my App runs. I&#39;m using Eclipse, JavaFX and SceneBuilder. I have applied the CSS File to my FXML file. At the minute the background image will only show in SceneBuilder.\r\n\r\nCSS Code:\r\n\r\n    #background {\r\n\t-fx-background-position: center;\r\n\t-fx-background-color: #BDBDBD;\r\n\t-fx-background-image: url(&#39;./Background.png&#39;);\r\n\t-fx-background-repeat: stretch;\r\n    }\r\n\r\nAnyone got any idea on why this is?\r\n\r\nP.S. I have already used two different paths to get to the image, both the image file location within my project and the image file location on my laptop.","title":"Background Image shows in SceneBuilder but not when App runs","body":"<p>Already searched for an answer for this but the only similar question I could find was here (<a href=\"https://stackoverflow.com/questions/11995958/javafx-background-image-works-in-scenebuilder-and-win-but-not-on-osx\">JavaFX background-image works in scenebuilder and win but not on osx</a>) and it hasn't been answered.</p>\n\n<p>I'm trying to get a background image to show when my App runs. I'm using Eclipse, JavaFX and SceneBuilder. I have applied the CSS File to my FXML file. At the minute the background image will only show in SceneBuilder.</p>\n\n<p>CSS Code:</p>\n\n<pre><code>#background {\n-fx-background-position: center;\n-fx-background-color: #BDBDBD;\n-fx-background-image: url('./Background.png');\n-fx-background-repeat: stretch;\n}\n</code></pre>\n\n<p>Anyone got any idea on why this is?</p>\n\n<p>P.S. I have already used two different paths to get to the image, both the image file location within my project and the image file location on my laptop.</p>\n"},{"tags":["java","keytool","jks","fips","rhel8"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644659590,"creation_date":1644659590,"answer_id":71090782,"question_id":71078388,"body_markdown":"Although I don&#39;t have RHEL (or anything else enforcing FIPS) this _might_ be due to the fact Java crypto (specifically SunJCE) implements `AlgorithmParameters PBE` as an alias for `PBEwithMD5andDES` (I&#39;m guessing because that&#39;s the only implemented scheme from PKCS5v1/PBES1 where this parameter form was defined, although PKCS12 adopted it) and MD5 is not Approved.\r\n\r\nIf so, you should be able to avoid this by creating the PKCS12 with PBES2 encryption, which uses different parameters. (Any PKCS12 _created_ by 8u301 11.0.12 or 16 up should already use PBES2 by default in all environments; for lower versions the key default was SHA1and3-keyTripleDES which AFAIK is Approved but the cert default was SHA1and40-bitRC2 which isn&#39;t, so I&#39;m not sure what does or should happen under FIPS. To increase the confusion, Java calls them SHA1andDESede and SHA1andRC2_40.) \r\n\r\n**In OpenSSL through 1.1.1** `pkcs12 -export` add `-keypbe aes-256-cbc -certpbe aes-256-cbc` or similar (because those are &#39;plain&#39; ciphers not true PBE schemes, OpenSSL automatically uses PBES2 for them). Or, OpenSSL 3.0.x automatically uses these PBES2 schemes (and presumably higher versions will, when they come along).\r\n\r\nBTW, your `-importkeystore` step doesn&#39;t really accomplish anything; although you use the name `.jks` on the output it actually is PKCS12 just like the input. It may be defaulting to different encryption, but if the input was acceptable to keytool it would be equally acceptable to any sane Java program. And since j9 in 2017 you don&#39;t need `-srcstoretype` for a file-based store because it&#39;s now automatic, and you don&#39;t need `-deststoretype pkcs12` because it&#39;s the default.\r\n","title":"&#39;java.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available&#39; on RHEL 8.3 with FIPS mode enabled","body":"<p>Although I don't have RHEL (or anything else enforcing FIPS) this <em>might</em> be due to the fact Java crypto (specifically SunJCE) implements <code>AlgorithmParameters PBE</code> as an alias for <code>PBEwithMD5andDES</code> (I'm guessing because that's the only implemented scheme from PKCS5v1/PBES1 where this parameter form was defined, although PKCS12 adopted it) and MD5 is not Approved.</p>\n<p>If so, you should be able to avoid this by creating the PKCS12 with PBES2 encryption, which uses different parameters. (Any PKCS12 <em>created</em> by 8u301 11.0.12 or 16 up should already use PBES2 by default in all environments; for lower versions the key default was SHA1and3-keyTripleDES which AFAIK is Approved but the cert default was SHA1and40-bitRC2 which isn't, so I'm not sure what does or should happen under FIPS. To increase the confusion, Java calls them SHA1andDESede and SHA1andRC2_40.)</p>\n<p><strong>In OpenSSL through 1.1.1</strong> <code>pkcs12 -export</code> add <code>-keypbe aes-256-cbc -certpbe aes-256-cbc</code> or similar (because those are 'plain' ciphers not true PBE schemes, OpenSSL automatically uses PBES2 for them). Or, OpenSSL 3.0.x automatically uses these PBES2 schemes (and presumably higher versions will, when they come along).</p>\n<p>BTW, your <code>-importkeystore</code> step doesn't really accomplish anything; although you use the name <code>.jks</code> on the output it actually is PKCS12 just like the input. It may be defaulting to different encryption, but if the input was acceptable to keytool it would be equally acceptable to any sane Java program. And since j9 in 2017 you don't need <code>-srcstoretype</code> for a file-based store because it's now automatic, and you don't need <code>-deststoretype pkcs12</code> because it's the default.</p>\n"},{"comments":[{"owner":{"account_id":407654,"reputation":922,"user_id":1173390,"accept_rate":83,"display_name":"ClydeFrog"},"score":0,"creation_date":1677476341,"post_id":75523840,"comment_id":133338158,"body_markdown":"More of a comment rather than an answer","body":"More of a comment rather than an answer"}],"tags":[],"owner":{"account_id":9056953,"reputation":21,"user_id":6744902,"display_name":"KBye25"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676999952,"creation_date":1676999952,"answer_id":75523840,"question_id":71078388,"body_markdown":"At the end of keytool call, add `-J-Dcom.redhat.fips=false`\r\n\r\nRecent versions of OpenJDK disabled password-based encryption (PBE) in FIPS mode.  This answer will bypass FIPS mode to allow keytool to complete its work.","title":"&#39;java.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available&#39; on RHEL 8.3 with FIPS mode enabled","body":"<p>At the end of keytool call, add <code>-J-Dcom.redhat.fips=false</code></p>\n<p>Recent versions of OpenJDK disabled password-based encryption (PBE) in FIPS mode.  This answer will bypass FIPS mode to allow keytool to complete its work.</p>\n"}],"owner":{"account_id":5689936,"reputation":193,"user_id":4498280,"display_name":"gczarnocki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3062,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676999952,"creation_date":1644574515,"question_id":71078388,"body_markdown":"Recently, I discovered that on one of the servers, Java 11 has been updated:\r\n\r\n    From: java-11-openjdk-headless-1:11.0.13.0.8-1.el8_4.x86_64\r\n    To:   java-11-openjdk-headless-1:11.0.14.0.9-2.el8_5.x86_64\r\n\r\nSo from `11.0.13.0.8-1` to `11.0.14.0.9-2`. Host is running on RHEL 8.3 with FIPS mode enabled. Before, this code snippet was able to create JKS keystore (public certificate and private key, + CA certificate) and truststore (CA certificate) for Kafka:\r\n\r\n    openssl pkcs12 -export -in kafka.cer -inkey kafka.key -out kafka.p12 -name kafka -password pass:(...) \r\n    keytool -importkeystore -srckeystore kafka.p12 -destkeystore kafka.keystore.jks -srcstoretype pkcs12 -alias kafka -deststoretype pkcs12 -srcstorepass (...) -deststorepass (...) -noprompt\r\n    keytool -keystore kafka.keystore.jks -alias CARoot -import -file ca.cer -storepass (...) -keypass (...) -noprompt\r\n    keytool -keystore kafka.truststore.jks -alias CARoot -import -file ca.cer -storepass (...) -keypass (...) -noprompt\r\n\r\nCertificate and private key are obtained from different source, `RSA 2048-bit`. Signature algorithm is: `SHA-256 with RSA`.\r\n\r\nAfter update of OpenJDK 11, I no longer can generate the keystore with above snippet due to the following error:\r\n\r\n```\r\nkeytool error: java.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available\r\njava.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available\r\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:839)\r\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2074)\r\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\r\n        at java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n        at java.base/java.security.KeyStore.getInstance(KeyStore.java:1807)\r\n        at java.base/java.security.KeyStore.getInstance(KeyStore.java:1687)\r\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:928)\r\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:412)\r\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:405)\r\nCaused by: java.security.NoSuchAlgorithmException: PBE AlgorithmParameters not available\r\n        at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\r\n        at java.base/java.security.Security.getImpl(Security.java:730)\r\n        at java.base/java.security.AlgorithmParameters.getInstance(AlgorithmParameters.java:158)\r\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:833)\r\n        ... 8 more\r\n```\r\n\r\nI can confirm that downgrading Java to previous version allows the above snippet to be executed. I am wondering what happened in between versions that right now the keystore cannot be generated?\r\n\r\nDoes anybody have experience with running Kafka with TLS on RHEL with FIPS? Is there any other keystore that can be generated for Kafka to enable TLS on a FIPS-enabled host?\r\n\r\nThanks in advance for your reply.","title":"&#39;java.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available&#39; on RHEL 8.3 with FIPS mode enabled","body":"<p>Recently, I discovered that on one of the servers, Java 11 has been updated:</p>\n<pre><code>From: java-11-openjdk-headless-1:11.0.13.0.8-1.el8_4.x86_64\nTo:   java-11-openjdk-headless-1:11.0.14.0.9-2.el8_5.x86_64\n</code></pre>\n<p>So from <code>11.0.13.0.8-1</code> to <code>11.0.14.0.9-2</code>. Host is running on RHEL 8.3 with FIPS mode enabled. Before, this code snippet was able to create JKS keystore (public certificate and private key, + CA certificate) and truststore (CA certificate) for Kafka:</p>\n<pre><code>openssl pkcs12 -export -in kafka.cer -inkey kafka.key -out kafka.p12 -name kafka -password pass:(...) \nkeytool -importkeystore -srckeystore kafka.p12 -destkeystore kafka.keystore.jks -srcstoretype pkcs12 -alias kafka -deststoretype pkcs12 -srcstorepass (...) -deststorepass (...) -noprompt\nkeytool -keystore kafka.keystore.jks -alias CARoot -import -file ca.cer -storepass (...) -keypass (...) -noprompt\nkeytool -keystore kafka.truststore.jks -alias CARoot -import -file ca.cer -storepass (...) -keypass (...) -noprompt\n</code></pre>\n<p>Certificate and private key are obtained from different source, <code>RSA 2048-bit</code>. Signature algorithm is: <code>SHA-256 with RSA</code>.</p>\n<p>After update of OpenJDK 11, I no longer can generate the keystore with above snippet due to the following error:</p>\n<pre><code>keytool error: java.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available\njava.io.IOException: parseAlgParameters failed: PBE AlgorithmParameters not available\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:839)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2074)\n        at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\n        at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n        at java.base/java.security.KeyStore.getInstance(KeyStore.java:1807)\n        at java.base/java.security.KeyStore.getInstance(KeyStore.java:1687)\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:928)\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:412)\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:405)\nCaused by: java.security.NoSuchAlgorithmException: PBE AlgorithmParameters not available\n        at java.base/sun.security.jca.GetInstance.getInstance(GetInstance.java:159)\n        at java.base/java.security.Security.getImpl(Security.java:730)\n        at java.base/java.security.AlgorithmParameters.getInstance(AlgorithmParameters.java:158)\n        at java.base/sun.security.pkcs12.PKCS12KeyStore.parseAlgParameters(PKCS12KeyStore.java:833)\n        ... 8 more\n</code></pre>\n<p>I can confirm that downgrading Java to previous version allows the above snippet to be executed. I am wondering what happened in between versions that right now the keystore cannot be generated?</p>\n<p>Does anybody have experience with running Kafka with TLS on RHEL with FIPS? Is there any other keystore that can be generated for Kafka to enable TLS on a FIPS-enabled host?</p>\n<p>Thanks in advance for your reply.</p>\n"},{"tags":["java","android","android-studio","google-maps","google-maps-markers"],"comments":[{"owner":{"account_id":7541067,"reputation":763,"user_id":5725622,"display_name":"Parth Lotia"},"score":0,"creation_date":1676978932,"post_id":75515806,"comment_id":133241792,"body_markdown":"Is it opening info window? in built info window?","body":"Is it opening info window? in built info window?"},{"owner":{"account_id":10795621,"reputation":41,"user_id":7941501,"display_name":"Brooksay"},"score":0,"creation_date":1676986221,"post_id":75515806,"comment_id":133244121,"body_markdown":"No info window, absolutely nothing happens when the markers are clicked.","body":"No info window, absolutely nothing happens when the markers are clicked."}],"answers":[{"tags":[],"owner":{"account_id":10795621,"reputation":41,"user_id":7941501,"display_name":"Brooksay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676999254,"creation_date":1676999254,"answer_id":75523714,"question_id":75515806,"body_markdown":"Simple answer - All the code is correct, but android studio and its supporting services were not up to date. This caused an issue which did not allow for the onclicklistener to work. Note to self - make sure everything is always up to date!","title":"Making Map Markers Clickable Android Java","body":"<p>Simple answer - All the code is correct, but android studio and its supporting services were not up to date. This caused an issue which did not allow for the onclicklistener to work. Note to self - make sure everything is always up to date!</p>\n"}],"owner":{"account_id":10795621,"reputation":41,"user_id":7941501,"display_name":"Brooksay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676999254,"creation_date":1676946820,"question_id":75515806,"body_markdown":"I&#39;m working on creating an app which contains various markers on a map. These markers should be clickable, and when clicked a new activity should be started. I can&#39;t for the life of me figure out why nothing happens when they&#39;re clicked. I&#39;ve done hours of research and tried tens of different solutions but can&#39;t seem to get anything to happen when the markers are clicked. Please help!\r\n\r\n```\r\n\r\n\r\npublic class GlobalAlerts extends AppCompatActivity implements Serializable, OnMapReadyCallback, GoogleMap.OnMarkerClickListener {\r\n\r\n\r\n    private ImageView goBack, backgroundColor;\r\n    private TextView disasterType, selectorText;\r\n    private SupportMapFragment mapFragment;\r\n    ArrayList&lt;LatLng&gt; latlngs = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;AlertData&gt; allAlerts = new ArrayList&lt;&gt;();\r\n    private GoogleMap gMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.test);\r\n\r\n        allAlerts = (ArrayList&lt;AlertData&gt;) getIntent().getSerializableExtra(&quot;NAME&quot;);\r\n\r\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\r\n        mapFragment.getMapAsync(this);\r\n\r\n\r\n        for (int i=0;i&lt;allAlerts.size();i++){\r\n            latlngs.add(new LatLng(allAlerts.get(i).getLat(),allAlerts.get(i).getLong()));\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(final GoogleMap googleMap) {\r\n        gMap=googleMap;\r\n\r\n\r\n        for(int i=0;i&lt;latlngs.size();i++){\r\n                gMap.addMarker(new MarkerOptions().position(latlngs.get(i)).title(String.valueOf(allAlerts.get(i).getID())));\r\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(latlngs.get(i)));\r\n        }\r\n\r\n        this.gMap.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n        gMap.setOnMarkerClickListener(this);\r\n  \r\n    }\r\n\r\n    @Override\r\n    public boolean onMarkerClick(@NonNull Marker marker) {\r\n        System.out.println(&quot;I&#39;m finally working&quot;);\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\nEDIT - I&#39;ve now copied the exact code supplied by google at https://developers.google.com/maps/documentation/android-sdk/marker and it is still not working, making me think that it might be an issue with something else??\r\n\r\n","title":"Making Map Markers Clickable Android Java","body":"<p>I'm working on creating an app which contains various markers on a map. These markers should be clickable, and when clicked a new activity should be started. I can't for the life of me figure out why nothing happens when they're clicked. I've done hours of research and tried tens of different solutions but can't seem to get anything to happen when the markers are clicked. Please help!</p>\n<pre><code>\n\npublic class GlobalAlerts extends AppCompatActivity implements Serializable, OnMapReadyCallback, GoogleMap.OnMarkerClickListener {\n\n\n    private ImageView goBack, backgroundColor;\n    private TextView disasterType, selectorText;\n    private SupportMapFragment mapFragment;\n    ArrayList&lt;LatLng&gt; latlngs = new ArrayList&lt;&gt;();\n    ArrayList&lt;AlertData&gt; allAlerts = new ArrayList&lt;&gt;();\n    private GoogleMap gMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.test);\n\n        allAlerts = (ArrayList&lt;AlertData&gt;) getIntent().getSerializableExtra(&quot;NAME&quot;);\n\n        mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.maps);\n        mapFragment.getMapAsync(this);\n\n\n        for (int i=0;i&lt;allAlerts.size();i++){\n            latlngs.add(new LatLng(allAlerts.get(i).getLat(),allAlerts.get(i).getLong()));\n        }\n\n    }\n\n    @Override\n    public void onMapReady(final GoogleMap googleMap) {\n        gMap=googleMap;\n\n\n        for(int i=0;i&lt;latlngs.size();i++){\n                gMap.addMarker(new MarkerOptions().position(latlngs.get(i)).title(String.valueOf(allAlerts.get(i).getID())));\n                gMap.moveCamera(CameraUpdateFactory.newLatLng(latlngs.get(i)));\n        }\n\n        this.gMap.getUiSettings().setZoomControlsEnabled(true);\n\n        gMap.setOnMarkerClickListener(this);\n  \n    }\n\n    @Override\n    public boolean onMarkerClick(@NonNull Marker marker) {\n        System.out.println(&quot;I'm finally working&quot;);\n        return false;\n    }\n}\n\n</code></pre>\n<p>EDIT - I've now copied the exact code supplied by google at <a href=\"https://developers.google.com/maps/documentation/android-sdk/marker\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/android-sdk/marker</a> and it is still not working, making me think that it might be an issue with something else??</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1676997091,"post_id":75523249,"comment_id":133247973,"body_markdown":"`myAccount.checkBalance;` - `checkBalance()` is a method.","body":"<code>myAccount.checkBalance;</code> - <code>checkBalance()</code> is a method."}],"answers":[{"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676998774,"creation_date":1676998774,"answer_id":75523637,"question_id":75523249,"body_markdown":"to call a function you need the name of the function and parentheses following it, with parameters matching the type that the function calls for... \r\n\r\nOn line 36 you called `checkBalance` incorrectly. It should be `myAccount.checkBalance();`\r\n\r\nThe parentheses are empty because the function requires no parameters, but still necessary.  \r\n\r\n-----\r\n\r\nA few other things to note:\r\n\r\nIn line 5, you misspelled\r\n`balance = myBalance;` which will give you an error. \r\n\r\nAlso, this program will not allow user input to withdraw/deposit because you have not created a `Scanner` object. \r\n\r\nHope this will get you started on fixing up this program","title":"Error: Not a statement, how do I resolve this?","body":"<p>to call a function you need the name of the function and parentheses following it, with parameters matching the type that the function calls for...</p>\n<p>On line 36 you called <code>checkBalance</code> incorrectly. It should be <code>myAccount.checkBalance();</code></p>\n<p>The parentheses are empty because the function requires no parameters, but still necessary.</p>\n<hr />\n<p>A few other things to note:</p>\n<p>In line 5, you misspelled\n<code>balance = myBalance;</code> which will give you an error.</p>\n<p>Also, this program will not allow user input to withdraw/deposit because you have not created a <code>Scanner</code> object.</p>\n<p>Hope this will get you started on fixing up this program</p>\n"}],"owner":{"account_id":27843427,"reputation":13,"user_id":21259453,"display_name":"Shadowzero4"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677183511,"accepted_answer_id":75523637,"answer_count":1,"score":-1,"last_activity_date":1676998774,"creation_date":1676996868,"question_id":75523249,"body_markdown":"I&#39;m new to java and I have looked up about this error and I&#39;m certain that it doesn&#39;t have to do with curly brackets and semicolons. I know that the variable is not within the scope of the method and can&#39;t be called but I still can&#39;t figure it out.\r\n\r\nThe error is on line 36.\r\n\r\n\r\n```\r\npublic class Account {\r\n    double balance;\r\n\r\n\tpublic Account(double myBalance) {\r\n\t    balance = myBalanace;\r\n\t}\r\n\t\r\n\tpublic void checkBalance() {\r\n\t    System.out.println(&quot;Your current balance is &quot; + balance);\r\n\t}\r\n\t\r\n\tpublic void deposit(double amountToDeposit) {\r\n\t    double updatedBalance = balance + amountToDeposit;\r\n\t    balance = updatedBalance;\r\n\t    System.out.println(&quot;You have deposited: $&quot; + amountToDeposit);\r\n\t    System.out.println(&quot;Your balance is now: $&quot; + balance);\r\n\t    System.out.println(&quot; &quot;);\r\n\t}\r\n\t\r\n\tpublic void withdraw(double amountToWithdraw) {\r\n\t    double updatedBalance = balance - amountToWithdraw;\r\n\t    balance = updatedBalance;\r\n\t    System.out.println(&quot;You have made a withdrawal of: $&quot; + amountToWithdraw);\r\n\t    System.out.println(&quot;Your balance is now: $&quot; + balance);\r\n\t    System.out.println(&quot; &quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t    Account myAccount = new Account(420.69);\r\n\t    System.out.println(&quot;Thank you for using our ATM. Your current balance is: $&quot; + myAccount.balance);\r\n\t    System.out.println(&quot;Please select one of the following options.&quot;);\r\n\t    System.out.println(&quot; &quot;);\r\n\t    System.out.println(&quot;1) Withdraw&quot;);\r\n\t    System.out.println(&quot;2) Deposit&quot;);\r\n\t    System.out.println(&quot; &quot;);\r\n\t    myAccount.checkBalance;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nIt&#39;s basically supposed to be training to better understand numbers and I used an ATM as the scenario to better grasp it. I know that the variable is not in the scope of the method and can&#39;t be called but I&#39;m not sure how to resolve it. I&#39;m also very sure it has nothing to do with curly brackets nor semicolons since I know that is usually linked with these types of errors.","title":"Error: Not a statement, how do I resolve this?","body":"<p>I'm new to java and I have looked up about this error and I'm certain that it doesn't have to do with curly brackets and semicolons. I know that the variable is not within the scope of the method and can't be called but I still can't figure it out.</p>\n<p>The error is on line 36.</p>\n<pre><code>public class Account {\n    double balance;\n\n    public Account(double myBalance) {\n        balance = myBalanace;\n    }\n    \n    public void checkBalance() {\n        System.out.println(&quot;Your current balance is &quot; + balance);\n    }\n    \n    public void deposit(double amountToDeposit) {\n        double updatedBalance = balance + amountToDeposit;\n        balance = updatedBalance;\n        System.out.println(&quot;You have deposited: $&quot; + amountToDeposit);\n        System.out.println(&quot;Your balance is now: $&quot; + balance);\n        System.out.println(&quot; &quot;);\n    }\n    \n    public void withdraw(double amountToWithdraw) {\n        double updatedBalance = balance - amountToWithdraw;\n        balance = updatedBalance;\n        System.out.println(&quot;You have made a withdrawal of: $&quot; + amountToWithdraw);\n        System.out.println(&quot;Your balance is now: $&quot; + balance);\n        System.out.println(&quot; &quot;);\n    }\n    \n    public static void main(String[] args) {\n        Account myAccount = new Account(420.69);\n        System.out.println(&quot;Thank you for using our ATM. Your current balance is: $&quot; + myAccount.balance);\n        System.out.println(&quot;Please select one of the following options.&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;1) Withdraw&quot;);\n        System.out.println(&quot;2) Deposit&quot;);\n        System.out.println(&quot; &quot;);\n        myAccount.checkBalance;\n    }\n}\n</code></pre>\n<p>It's basically supposed to be training to better understand numbers and I used an ATM as the scenario to better grasp it. I know that the variable is not in the scope of the method and can't be called but I'm not sure how to resolve it. I'm also very sure it has nothing to do with curly brackets nor semicolons since I know that is usually linked with these types of errors.</p>\n"},{"tags":["java","maven","maven-compiler-plugin"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1676999114,"post_id":75523629,"comment_id":133248618,"body_markdown":"Have you tried the first scenario too?","body":"Have you tried the first scenario too?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1677000376,"post_id":75523629,"comment_id":133248976,"body_markdown":"1. Yes. 2. Yes.","body":"1. Yes. 2. Yes."}],"owner":{"account_id":17817181,"reputation":21,"user_id":12940464,"display_name":"BlueInf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676998726,"creation_date":1676998726,"question_id":75523629,"body_markdown":"Can a project compiled with JDK-8 consume a library built with JDK-11, while running on JRE 11? \r\n\r\nFurthermore, can a project compiled with JDK-11, consume a library built with JDK-8, while running on JRE 11?\r\n\r\nI tried the scenario with compiling to JDK-11, consume a library built with JDK-8, while running on JRE 11 and there were no issues ","title":"Can a project that is being built with JDK target=8 consume a library built with JDK target=11 in JRE 11?","body":"<p>Can a project compiled with JDK-8 consume a library built with JDK-11, while running on JRE 11?</p>\n<p>Furthermore, can a project compiled with JDK-11, consume a library built with JDK-8, while running on JRE 11?</p>\n<p>I tried the scenario with compiling to JDK-11, consume a library built with JDK-8, while running on JRE 11 and there were no issues</p>\n"},{"tags":["java","spring","mongodb","spring-boot","junit"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1514713385,"post_id":48040641,"comment_id":83053335,"body_markdown":"When you ask about an exception, always post the exact and complete exception stack trace. You should mock your DAOs to test the services. That&#39;s basically the first reason why DI is useful.","body":"When you ask about an exception, always post the exact and complete exception stack trace. You should mock your DAOs to test the services. That&#39;s basically the first reason why DI is useful."},{"owner":{"account_id":7934480,"reputation":411,"user_id":5991054,"accept_rate":36,"display_name":"BlueStar"},"score":0,"creation_date":1514714314,"post_id":48040641,"comment_id":83053522,"body_markdown":"@JBNizet Hi I have added the stack trace.","body":"@JBNizet Hi I have added the stack trace."}],"answers":[{"comments":[{"owner":{"account_id":7934480,"reputation":411,"user_id":5991054,"accept_rate":36,"display_name":"BlueStar"},"score":0,"creation_date":1514716135,"post_id":48041612,"comment_id":83053936,"body_markdown":"Thank you. I removed the `@DataMongoTest` annotation and it did the trick.","body":"Thank you. I removed the <code>@DataMongoTest</code> annotation and it did the trick."}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514715168,"creation_date":1514715168,"answer_id":48041612,"question_id":48040641,"body_markdown":"From [the documentation][1]:\n\n&gt; Annotation that can be used in combination with `@RunWith(SpringRunner.class)` for a typical MongoDB test. Can be used when a test focuses **only** on MongoDB components.\n&gt;\n&gt; Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MongoDB tests. \n\nSo, this will exclude your service from the spring context (and it should be annotated with `@RunWith(SpringRunner.class)` anyway).\n\nUse that to test your Mongo repositories. To test your services, mock the repository (which is why DI is useful in the first place), and test the business logic inside the service on the mocked repository.\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/data/mongo/DataMongoTest.html","title":"Unsatisfied Dependency Exception in Springboot junit test","body":"<p>From <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/data/mongo/DataMongoTest.html\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p>Annotation that can be used in combination with <code>@RunWith(SpringRunner.class)</code> for a typical MongoDB test. Can be used when a test focuses <strong>only</strong> on MongoDB components.</p>\n<p>Using this annotation will disable full auto-configuration and instead apply only configuration relevant to MongoDB tests.</p>\n</blockquote>\n<p>So, this will exclude your service from the spring context (and it should be annotated with <code>@RunWith(SpringRunner.class)</code> anyway).</p>\n<p>Use that to test your Mongo repositories. To test your services, mock the repository (which is why DI is useful in the first place), and test the business logic inside the service on the mocked repository.</p>\n"}],"owner":{"account_id":7934480,"reputation":411,"user_id":5991054,"accept_rate":36,"display_name":"BlueStar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16054,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48041612,"answer_count":1,"score":8,"last_activity_date":1676998619,"creation_date":1514703763,"question_id":48040641,"body_markdown":"I am using spring-boot 1.5.9. I have created a simple spring-boot application which has the following directory structure.\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n`LibraryService.java` autowires the repository interface and has a method to save a book to the library.\r\n\r\nLibraryService.java\r\n\r\n    @Service\r\n    public class LibraryService  {\r\n\t  private static final Logger logger = LoggerFactory.getLogger(LibraryService.class);\t\t\r\n\r\n\t  @Autowired\r\n\t  BookRepository bookRepository;\r\n\r\n\t  public void save(Book book){\r\n\t\tbookRepository.save(book);\t\r\n\t  }\t\r\n\r\n\t  public long count(){\r\n\t\treturn bookRepository.count();\r\n\t  }\r\n    }\r\n\r\nBelow is the BookRepository interface\r\n\r\n    public interface BookRepository extends MongoRepository&lt;Book, String&gt; { }\r\n\r\nWhen I autowire the `LibraryService` in the test class, I find it is not injecting properly and I get the unsatisfied dependency exception. Following is the LibraryServiceTest class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    @DataMongoTest\r\n    public class LibraryServiceTest {\r\n\t\r\n\t  @Autowired\r\n\t  LibraryService libraryService;\r\n\t\t\r\n\t  @Test\r\n\t  public void testSave(){\r\n\t    Book aBook = new Book(&quot;Harry Potter&quot;, &quot;J. K. Rowling&quot;);\r\n\t    libraryService.save(aBook);\t\r\n\t    assertEquals(1, libraryService.count());;\r\n\t  }\t\r\n    }\r\n\r\nI tried the `@MockBean` instead of `@Autowired` in the test class and had no exception, but the repository instance was evaluated to null which resulted the test to fail. What is the correct way to inject the dependency when using junit? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/25LUi.png\r\n\r\nEDIT\r\n\r\n  Following is the stack trace:\r\n\r\n    2017-12-31 09:48:00.112 ERROR 57648 --- [           main] \r\n    o.s.test.context.TestContextManager      : Caught exception while allowing \r\n    TestExecutionListener\r\n    [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@32464a14] to prepare test instance [com.example.demo.service.LibraryServiceTest@56193c7d]\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.demo.service.LibraryServiceTest&#39;: Unsatisfied dependency expressed through field &#39;libraryService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.demo.service.LibraryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:386) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.demo.service.LibraryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\r\n\t... 29 common frames omitted\r\n\r\n","title":"Unsatisfied Dependency Exception in Springboot junit test","body":"<p>I am using spring-boot 1.5.9. I have created a simple spring-boot application which has the following directory structure.</p>\n<p><a href=\"https://i.stack.imgur.com/25LUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25LUi.png\" alt=\"enter image description here\" /></a></p>\n<p><code>LibraryService.java</code> autowires the repository interface and has a method to save a book to the library.</p>\n<p>LibraryService.java</p>\n<pre><code>@Service\npublic class LibraryService  {\n  private static final Logger logger = LoggerFactory.getLogger(LibraryService.class);       \n\n  @Autowired\n  BookRepository bookRepository;\n\n  public void save(Book book){\n    bookRepository.save(book);  \n  } \n\n  public long count(){\n    return bookRepository.count();\n  }\n}\n</code></pre>\n<p>Below is the BookRepository interface</p>\n<pre><code>public interface BookRepository extends MongoRepository&lt;Book, String&gt; { }\n</code></pre>\n<p>When I autowire the <code>LibraryService</code> in the test class, I find it is not injecting properly and I get the unsatisfied dependency exception. Following is the LibraryServiceTest class</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\n@DataMongoTest\npublic class LibraryServiceTest {\n\n  @Autowired\n  LibraryService libraryService;\n    \n  @Test\n  public void testSave(){\n    Book aBook = new Book(&quot;Harry Potter&quot;, &quot;J. K. Rowling&quot;);\n    libraryService.save(aBook); \n    assertEquals(1, libraryService.count());;\n  } \n}\n</code></pre>\n<p>I tried the <code>@MockBean</code> instead of <code>@Autowired</code> in the test class and had no exception, but the repository instance was evaluated to null which resulted the test to fail. What is the correct way to inject the dependency when using junit?</p>\n<p>EDIT</p>\n<p>Following is the stack trace:</p>\n<pre><code>2017-12-31 09:48:00.112 ERROR 57648 --- [           main] \no.s.test.context.TestContextManager      : Caught exception while allowing \nTestExecutionListener\n[org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@32464a14] to prepare test instance [com.example.demo.service.LibraryServiceTest@56193c7d]\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.demo.service.LibraryServiceTest': Unsatisfied dependency expressed through field 'libraryService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.service.LibraryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:386) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44) ~[spring-boot-test-autoconfigure-1.5.9.RELEASE.jar:1.5.9.RELEASE]\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230) ~[spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191) [spring-test-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459) [.cp/:na]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675) [.cp/:na]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382) [.cp/:na]\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192) [.cp/:na]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.demo.service.LibraryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585) ~[spring-beans-4.3.13.RELEASE.jar:4.3.13.RELEASE]\n... 29 common frames omitted\n</code></pre>\n"},{"tags":["java","docker","dockerfile","containers","file-permissions"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1677065380,"post_id":75523528,"comment_id":133262600,"body_markdown":"The `docker run -v` volume mount runs _after_ the image build, and hides everything in that directory in the image, including its insecure permission setting.  I&#39;d be a little surprised if a permission error caused a NullPointerException, though; what code accesses the file and what is the actual error?","body":"The <code>docker run -v</code> volume mount runs <i>after</i> the image build, and hides everything in that directory in the image, including its insecure permission setting.  I&#39;d be a little surprised if a permission error caused a NullPointerException, though; what code accesses the file and what is the actual error?"}],"owner":{"account_id":24479711,"reputation":1,"user_id":18398297,"display_name":"Manvendra "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676998604,"creation_date":1676998245,"question_id":75523528,"body_markdown":"In my docker file, i am having permission issue while mounting through -v as user in my host server is &quot;abc&quot; and user in container is root.Below is my Docker file\r\n\r\n```\r\nFROM JDK17 base image \r\n\r\nUSER root\r\n\r\nWORKDIR /xyz/pqr\r\n\r\nCOPY mydata.jar /xyz/pqr/mydata.jar\r\n\r\nRUN chmod -R 777  /xyz/pqr\r\nRUN mkdir  /xyz/pqr/ImpFiles\r\n\r\nRUN chmod -R 777 /xyz/pqr/ImpFiles\r\n\r\nUSER abc\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;/xyz/pqr/mydata.jar&quot;]\r\n```\r\n\r\n```\r\ndocker build -t img123 .\r\n\r\n\r\ndocker run -u  $(id -u abc):$(id -g abc) -v /xyz/pqr/ImpFiles:/xyz/pqr/ImpFiles img123 \r\n```\r\n\r\ni get null pointer exception as container cant access /xyz/pqr/ImpFiles path and give the error .\r\n\r\nCould someone please help\r\n\r\nI tried running it using details of user abc as at my host server jar runs with user abc , but still same error","title":"Docker file not able to fetch and write files in folder","body":"<p>In my docker file, i am having permission issue while mounting through -v as user in my host server is &quot;abc&quot; and user in container is root.Below is my Docker file</p>\n<pre><code>FROM JDK17 base image \n\nUSER root\n\nWORKDIR /xyz/pqr\n\nCOPY mydata.jar /xyz/pqr/mydata.jar\n\nRUN chmod -R 777  /xyz/pqr\nRUN mkdir  /xyz/pqr/ImpFiles\n\nRUN chmod -R 777 /xyz/pqr/ImpFiles\n\nUSER abc\n\nENTRYPOINT [&quot;java&quot;, &quot;/xyz/pqr/mydata.jar&quot;]\n</code></pre>\n<pre><code>docker build -t img123 .\n\n\ndocker run -u  $(id -u abc):$(id -g abc) -v /xyz/pqr/ImpFiles:/xyz/pqr/ImpFiles img123 \n</code></pre>\n<p>i get null pointer exception as container cant access /xyz/pqr/ImpFiles path and give the error .</p>\n<p>Could someone please help</p>\n<p>I tried running it using details of user abc as at my host server jar runs with user abc , but still same error</p>\n"},{"tags":["java","spring-boot","openapi","spring-data-rest","springdoc"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665627133,"creation_date":1665627133,"answer_id":74049786,"question_id":74049785,"body_markdown":"This is more in the &quot;hacky workaround&quot; category, but I found that using a customized [`SpringRepositoryRestResourceProvider`](https://javadoc.io/static/org.springdoc/springdoc-openapi-data-rest/1.6.11/org/springdoc/data/rest/SpringRepositoryRestResourceProvider.html) bean which explicitly excludes the given entity type appears to work.  Defining it as a bean overrides the default one in [`SpringDocDataRestConfiguration`](https://javadoc.io/static/org.springdoc/springdoc-openapi-data-rest/1.6.11/org/springdoc/data/rest/SpringDocDataRestConfiguration.html).\r\n\r\n```lang-java\r\n@Configuration\r\npublic class OpenApiConfig {\r\n    @Bean\r\n    public SpringRepositoryRestResourceProvider springRepositoryRestResourceProvider(\r\n            ResourceMappings mappings, ListableBeanFactory listableBeanFactory,\r\n            Associations associations, ApplicationContext applicationContext, \r\n            DataRestRouterOperationService dataRestRouterOperationService,\r\n            PersistentEntities persistentEntities, ObjectMapper mapper, \r\n            SpringDocDataRestUtils springDocDataRestUtils) {\r\n        Repositories filteredRepositories = \r\n                new RepositoriesWithoutExcludeMe(listableBeanFactory);\r\n\r\n        return new SpringRepositoryRestResourceProvider(\r\n                mappings, filteredRepositories, associations, \r\n                applicationContext, dataRestRouterOperationService, \r\n                persistentEntities, mapper, springDocDataRestUtils);\r\n    }\r\n\r\n    private static class RepositoriesWithoutExcludeMe extends Repositories {\r\n        RepositoriesWithoutExcludeMe(ListableBeanFactory factory) {\r\n            super(factory);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasRepositoryFor(Class&lt;?&gt; domainClass) {\r\n            return !isExcludeMe(domainClass) \r\n                   &amp;&amp; super.hasRepositoryFor(domainClass);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;Object&gt; getRepositoryFor(Class&lt;?&gt; domainClass) {\r\n            return optional(domainClass, super::getRepositoryFor);\r\n        }\r\n\r\n        @Override\r\n        public &lt;T, S&gt; EntityInformation&lt;T, S&gt; getEntityInformationFor(\r\n                Class&lt;?&gt; domainClass) {\r\n            return nullable(domainClass, super::getEntityInformationFor);\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;RepositoryInformation&gt; getRepositoryInformationFor(\r\n                Class&lt;?&gt; domainClass) {\r\n            return optional(domainClass, super::getRepositoryInformationFor);\r\n        }\r\n\r\n        @Override\r\n        public RepositoryInformation getRequiredRepositoryInformation(\r\n                Class&lt;?&gt; domainType) {\r\n            if (isExcludeMe(domainType)) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;No required RepositoryInformation found for domain type &quot; \r\n                        + domainType.getName());\r\n            } else {\r\n                return nullable(domainType, \r\n                        super::getRequiredRepositoryInformation);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;RepositoryInformation&gt; getRepositoryInformation(\r\n                Class&lt;?&gt; repositoryInterface) {\r\n            return optional(repositoryInterface, \r\n                    super::getRepositoryInformation);\r\n        }\r\n\r\n        @Override\r\n        public PersistentEntity&lt;?, ?&gt; getPersistentEntity(\r\n                Class&lt;?&gt; domainClass) {\r\n            return nullable(domainClass, super::getPersistentEntity);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;QueryMethod&gt; getQueryMethodsFor(Class&lt;?&gt; domainClass) {\r\n            return isExcludeMe(domainClass) \r\n                    ? List.of() : super.getQueryMethodsFor(domainClass);\r\n        }\r\n\r\n        @Override\r\n        public Iterator&lt;Class&lt;?&gt;&gt; iterator() {\r\n            return Iterators.filter(super.iterator(), c -&gt; !isExcludeMe(c));\r\n        }\r\n\r\n        private static boolean isExcludeMe(Class&lt;?&gt; domainClass) {\r\n            return ExcludeMe.class.isAssignableFrom(domainClass);\r\n        }\r\n\r\n        private &lt;C extends Class&lt;?&gt;, R&gt; Optional&lt;R&gt; optional(\r\n                C domainClass, Function&lt;C, Optional&lt;R&gt;&gt; function) {\r\n            return isExcludeMe(domainClass) \r\n                    ? Optional.empty() : function.apply(domainClass);\r\n        }\r\n\r\n        private &lt;C extends Class&lt;?&gt;, R&gt; R nullable(\r\n                C domainClass, Function&lt;C, R&gt; function) {\r\n            return isExcludeMe(domainClass) \r\n                    ? null : function.apply(domainClass);\r\n        }\r\n    }\r\n}\r\n```","title":"How can I exclude a Spring Data REST controller from the generated OpenAPI documentation","body":"<p>This is more in the &quot;hacky workaround&quot; category, but I found that using a customized <a href=\"https://javadoc.io/static/org.springdoc/springdoc-openapi-data-rest/1.6.11/org/springdoc/data/rest/SpringRepositoryRestResourceProvider.html\" rel=\"nofollow noreferrer\"><code>SpringRepositoryRestResourceProvider</code></a> bean which explicitly excludes the given entity type appears to work.  Defining it as a bean overrides the default one in <a href=\"https://javadoc.io/static/org.springdoc/springdoc-openapi-data-rest/1.6.11/org/springdoc/data/rest/SpringDocDataRestConfiguration.html\" rel=\"nofollow noreferrer\"><code>SpringDocDataRestConfiguration</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class OpenApiConfig {\n    @Bean\n    public SpringRepositoryRestResourceProvider springRepositoryRestResourceProvider(\n            ResourceMappings mappings, ListableBeanFactory listableBeanFactory,\n            Associations associations, ApplicationContext applicationContext, \n            DataRestRouterOperationService dataRestRouterOperationService,\n            PersistentEntities persistentEntities, ObjectMapper mapper, \n            SpringDocDataRestUtils springDocDataRestUtils) {\n        Repositories filteredRepositories = \n                new RepositoriesWithoutExcludeMe(listableBeanFactory);\n\n        return new SpringRepositoryRestResourceProvider(\n                mappings, filteredRepositories, associations, \n                applicationContext, dataRestRouterOperationService, \n                persistentEntities, mapper, springDocDataRestUtils);\n    }\n\n    private static class RepositoriesWithoutExcludeMe extends Repositories {\n        RepositoriesWithoutExcludeMe(ListableBeanFactory factory) {\n            super(factory);\n        }\n\n        @Override\n        public boolean hasRepositoryFor(Class&lt;?&gt; domainClass) {\n            return !isExcludeMe(domainClass) \n                   &amp;&amp; super.hasRepositoryFor(domainClass);\n        }\n\n        @Override\n        public Optional&lt;Object&gt; getRepositoryFor(Class&lt;?&gt; domainClass) {\n            return optional(domainClass, super::getRepositoryFor);\n        }\n\n        @Override\n        public &lt;T, S&gt; EntityInformation&lt;T, S&gt; getEntityInformationFor(\n                Class&lt;?&gt; domainClass) {\n            return nullable(domainClass, super::getEntityInformationFor);\n        }\n\n        @Override\n        public Optional&lt;RepositoryInformation&gt; getRepositoryInformationFor(\n                Class&lt;?&gt; domainClass) {\n            return optional(domainClass, super::getRepositoryInformationFor);\n        }\n\n        @Override\n        public RepositoryInformation getRequiredRepositoryInformation(\n                Class&lt;?&gt; domainType) {\n            if (isExcludeMe(domainType)) {\n                throw new IllegalArgumentException(\n                        &quot;No required RepositoryInformation found for domain type &quot; \n                        + domainType.getName());\n            } else {\n                return nullable(domainType, \n                        super::getRequiredRepositoryInformation);\n            }\n        }\n\n        @Override\n        public Optional&lt;RepositoryInformation&gt; getRepositoryInformation(\n                Class&lt;?&gt; repositoryInterface) {\n            return optional(repositoryInterface, \n                    super::getRepositoryInformation);\n        }\n\n        @Override\n        public PersistentEntity&lt;?, ?&gt; getPersistentEntity(\n                Class&lt;?&gt; domainClass) {\n            return nullable(domainClass, super::getPersistentEntity);\n        }\n\n        @Override\n        public List&lt;QueryMethod&gt; getQueryMethodsFor(Class&lt;?&gt; domainClass) {\n            return isExcludeMe(domainClass) \n                    ? List.of() : super.getQueryMethodsFor(domainClass);\n        }\n\n        @Override\n        public Iterator&lt;Class&lt;?&gt;&gt; iterator() {\n            return Iterators.filter(super.iterator(), c -&gt; !isExcludeMe(c));\n        }\n\n        private static boolean isExcludeMe(Class&lt;?&gt; domainClass) {\n            return ExcludeMe.class.isAssignableFrom(domainClass);\n        }\n\n        private &lt;C extends Class&lt;?&gt;, R&gt; Optional&lt;R&gt; optional(\n                C domainClass, Function&lt;C, Optional&lt;R&gt;&gt; function) {\n            return isExcludeMe(domainClass) \n                    ? Optional.empty() : function.apply(domainClass);\n        }\n\n        private &lt;C extends Class&lt;?&gt;, R&gt; R nullable(\n                C domainClass, Function&lt;C, R&gt; function) {\n            return isExcludeMe(domainClass) \n                    ? null : function.apply(domainClass);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1668011655,"post_id":74371880,"comment_id":131305836,"body_markdown":"This solution makes the resource inaccessible via REST.  This doesn&#39;t meet my need, since I still want the repository to be available via REST; I just don&#39;t want it to appear in the OpenAPI document generated by the application.","body":"This solution makes the resource inaccessible via REST.  This doesn&#39;t meet my need, since I still want the repository to be available via REST; I just don&#39;t want it to appear in the OpenAPI document generated by the application."}],"tags":[],"owner":{"account_id":1097582,"reputation":1,"user_id":9276255,"display_name":"Dusan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667982687,"creation_date":1667982642,"answer_id":74371880,"question_id":74049785,"body_markdown":"Maybe `@RepositoryRestResource(exported = false)` is, what you are looking for.\r\nFor your example, this would look as follows:\r\n\r\n    @Repository\r\n    @RepositoryRestResource(exported = false)\r\n    public interface ExcludeMeRepository extends\r\n            PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\r\n\r\nSee [Spring Data REST Reference Guide - Hiding Certain Repositories, Query Methods, or Fields][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.hiding-repositories","title":"How can I exclude a Spring Data REST controller from the generated OpenAPI documentation","body":"<p>Maybe <code>@RepositoryRestResource(exported = false)</code> is, what you are looking for.\nFor your example, this would look as follows:</p>\n<pre><code>@Repository\n@RepositoryRestResource(exported = false)\npublic interface ExcludeMeRepository extends\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#customizing-sdr.hiding-repositories\" rel=\"nofollow noreferrer\">Spring Data REST Reference Guide - Hiding Certain Repositories, Query Methods, or Fields</a></p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676998467,"creation_date":1668011558,"answer_id":74378329,"question_id":74049785,"body_markdown":"The [`@Hidden`](https://docs.swagger.io/swagger-core/v2.2.2/apidocs/io/swagger/v3/oas/annotations/Hidden.html) annotation is now supported as of the v2.0.0 version of springdoc-openapi.  This change was added per [springdoc-openapi#1881](https://github.com/springdoc/springdoc-openapi/issues/1881).\r\n\r\n```lang-java\r\n@Hidden // Works as of v2.0.0\r\n@Repository\r\npublic interface ExcludeMeRepository extends\r\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\r\n```","title":"How can I exclude a Spring Data REST controller from the generated OpenAPI documentation","body":"<p>The <a href=\"https://docs.swagger.io/swagger-core/v2.2.2/apidocs/io/swagger/v3/oas/annotations/Hidden.html\" rel=\"noreferrer\"><code>@Hidden</code></a> annotation is now supported as of the v2.0.0 version of springdoc-openapi.  This change was added per <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1881\" rel=\"noreferrer\">springdoc-openapi#1881</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Hidden // Works as of v2.0.0\n@Repository\npublic interface ExcludeMeRepository extends\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\n</code></pre>\n"}],"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4940,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74378329,"answer_count":3,"score":6,"last_activity_date":1676998467,"creation_date":1665627133,"question_id":74049785,"body_markdown":"I am working with a Spring Data MongoDB project which exports its endpoints via Spring Data REST.  It uses the `springdoc-openapi-data-rest` module of the [springdoc-openapi](https://springdoc.org) library to generate an [OpenAPI](https://spec.openapis.org/oas/latest.html) interface description for the Spring Data REST endpoints in project.\r\n\r\nI have a repository endpoint that I would like to exclude from the generated OpenAPI document.\r\n\r\n```lang-java\r\n@Repository\r\npublic interface ExcludeMeRepository extends\r\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\r\n```\r\n\r\nIf this were a Spring MVC controller being included via `springdoc-openapi-ui`, I could use the [`@Hidden`](https://docs.swagger.io/swagger-core/v2.2.2/apidocs/io/swagger/v3/oas/annotations/Hidden.html) annotation from the Swagger Annotations library on the controller.  However, this does not appear to work when put on a `@Repository` class.\r\n\r\n```lang-java\r\n@Hidden // Does not appear to have an effect\r\n@Repository\r\npublic interface ExcludeMeRepository extends\r\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\r\n```\r\n\r\nI have tried out a few things, but haven&#39;t found anything that works that doesn&#39;t also feel like a hacky workaround.\r\n\r\nHow can a respository be excluded from the generated OpenAPI document?","title":"How can I exclude a Spring Data REST controller from the generated OpenAPI documentation","body":"<p>I am working with a Spring Data MongoDB project which exports its endpoints via Spring Data REST.  It uses the <code>springdoc-openapi-data-rest</code> module of the <a href=\"https://springdoc.org\" rel=\"noreferrer\">springdoc-openapi</a> library to generate an <a href=\"https://spec.openapis.org/oas/latest.html\" rel=\"noreferrer\">OpenAPI</a> interface description for the Spring Data REST endpoints in project.</p>\n<p>I have a repository endpoint that I would like to exclude from the generated OpenAPI document.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ExcludeMeRepository extends\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\n</code></pre>\n<p>If this were a Spring MVC controller being included via <code>springdoc-openapi-ui</code>, I could use the <a href=\"https://docs.swagger.io/swagger-core/v2.2.2/apidocs/io/swagger/v3/oas/annotations/Hidden.html\" rel=\"noreferrer\"><code>@Hidden</code></a> annotation from the Swagger Annotations library on the controller.  However, this does not appear to work when put on a <code>@Repository</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Hidden // Does not appear to have an effect\n@Repository\npublic interface ExcludeMeRepository extends\n        PagingAndSortingRepository&lt;ExcludeMe, Integer&gt; {}\n</code></pre>\n<p>I have tried out a few things, but haven't found anything that works that doesn't also feel like a hacky workaround.</p>\n<p>How can a respository be excluded from the generated OpenAPI document?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":1628654,"reputation":1870,"user_id":1503646,"accept_rate":75,"display_name":"Paddyd"},"score":2,"creation_date":1378118493,"post_id":18571223,"comment_id":27325047,"body_markdown":"http://stackoverflow.com/questions/5499924/convert-java-string-to-byte-array","body":"<a href=\"http://stackoverflow.com/questions/5499924/convert-java-string-to-byte-array\" title=\"convert java string to byte array\">stackoverflow.com/questions/5499924/&hellip;</a>"},{"owner":{"account_id":2691208,"reputation":6795,"user_id":2324527,"accept_rate":74,"display_name":"Mkl Rjv"},"score":0,"creation_date":1378119243,"post_id":18571223,"comment_id":27325446,"body_markdown":"Sorry, I&#39;m trying to convert a String to bytearray and back and getting a wrong result. I&#39;ll edit it in a while and get back.","body":"Sorry, I&#39;m trying to convert a String to bytearray and back and getting a wrong result. I&#39;ll edit it in a while and get back."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":13,"creation_date":1378153977,"post_id":18571223,"comment_id":27340804,"body_markdown":"Your problem is that `String.getBytes()` does indeed return a byte array, but your belief that the `toString()` of a byte array will return a useful result is incorrect.","body":"Your problem is that <code>String.getBytes()</code> does indeed return a byte array, but your belief that the <code>toString()</code> of a byte array will return a useful result is incorrect."}],"answers":[{"comments":[{"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"score":13,"creation_date":1485119506,"post_id":18571332,"comment_id":70780515,"body_markdown":"Beware: [getBytes()](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes()) is platform dependent. Better choice is to use [getBytes(StandardCharsets.UTF_8)](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes(java.nio.charset.Charset))","body":"Beware: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes()\" rel=\"nofollow noreferrer\">getBytes()</a> is platform dependent. Better choice is to use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#getBytes(java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">getBytes(StandardCharsets.UTF_8)</a>"},{"owner":{"account_id":2520941,"reputation":867,"user_id":2360439,"display_name":"D.A.H"},"score":1,"creation_date":1665572253,"post_id":18571332,"comment_id":130730773,"body_markdown":"Method getBytes is deprecated now.","body":"Method getBytes is deprecated now."}],"tags":[],"owner":{"account_id":905416,"reputation":25876,"user_id":940428,"accept_rate":100,"display_name":"Prabhakaran Ramaswamy"},"comment_count":2,"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1378118721,"creation_date":1378118721,"answer_id":18571332,"question_id":18571223,"body_markdown":"      String example = &quot;Convert Java String&quot;;\r\n      byte[] bytes = example.getBytes();","title":"How to convert Java String into byte[]?","body":"<pre><code>  String example = \"Convert Java String\";\n  byte[] bytes = example.getBytes();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12079,"reputation":464,"user_id":23613,"display_name":"Michael Warner"},"score":28,"creation_date":1414009642,"post_id":18571348,"comment_id":41662811,"body_markdown":"string.getBytes(&quot;UTF-8&quot;) requires handling an UnsupportedEncodingException, while string.getBytes(Charset.forName(&quot;UTF-8&quot;)) does not. Arguing as to which method is &quot;better&quot; I leave as an exercise for the reader.","body":"string.getBytes(&quot;UTF-8&quot;) requires handling an UnsupportedEncodingException, while string.getBytes(Charset.forName(&quot;UTF-8&quot;)) does not. Arguing as to which method is &quot;better&quot; I leave as an exercise for the reader."},{"owner":{"account_id":2713,"reputation":5677,"user_id":3812,"accept_rate":83,"display_name":"Bahadƒ±r Yaƒüan"},"score":20,"creation_date":1416071256,"post_id":18571348,"comment_id":42438507,"body_markdown":"`string.getBytes(StandardCharsets.UTF_8)` can also be used, and it is the same as `string.getBytes(Charset.forName(&quot;UTF-8&quot;))`","body":"<code>string.getBytes(StandardCharsets.UTF_8)</code> can also be used, and it is the same as <code>string.getBytes(Charset.forName(&quot;UTF-8&quot;))</code>"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":3,"creation_date":1420368797,"post_id":18571348,"comment_id":43940154,"body_markdown":"I believe `StandardCharsets` is new with Java 7","body":"I believe <code>StandardCharsets</code> is new with Java 7"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1420368871,"post_id":18571348,"comment_id":43940174,"body_markdown":"See http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java","body":"See <a href=\"http://stackoverflow.com/questions/6698354/where-to-get-utf-8-string-literal-in-java\" title=\"where to get utf 8 string literal in java\">stackoverflow.com/questions/6698354/&hellip;</a>"},{"owner":{"account_id":373762,"reputation":3888,"user_id":723597,"accept_rate":62,"display_name":"LoveMeow"},"score":0,"creation_date":1443804675,"post_id":18571348,"comment_id":53652001,"body_markdown":"I have a problem I use getBytes to convert my string to bytes, but I cannot seems to get back the string from it. I tried .toString()","body":"I have a problem I use getBytes to convert my string to bytes, but I cannot seems to get back the string from it. I tried .toString()"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1443894014,"post_id":18571348,"comment_id":53677527,"body_markdown":"Try the constructor `new String(byte[] bytes, Charset charset) `","body":"Try the constructor <code>new String(byte[] bytes, Charset charset) </code>"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":2,"creation_date":1444769038,"post_id":18571348,"comment_id":54038806,"body_markdown":"I don&#39;t understand why this answer got so many upvotes. It may be right, but it&#39;s not very helpful ... just a couple of lines of code, most of which the OP already had, and not explaining what difference `Charset.forName(&quot;UTF-8&quot;)` makes or why it&#39;s important.","body":"I don&#39;t understand why this answer got so many upvotes. It may be right, but it&#39;s not very helpful ... just a couple of lines of code, most of which the OP already had, and not explaining what difference <code>Charset.forName(&quot;UTF-8&quot;)</code> makes or why it&#39;s important."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":5,"creation_date":1444821226,"post_id":18571348,"comment_id":54060110,"body_markdown":"@LarsH You make a good point. To be honest, I never expected this answer to become so popular. I have now expanded the answer in order to &quot;deserve&quot; the upvotes. Hopefully it&#39;s an improvement.","body":"@LarsH You make a good point. To be honest, I never expected this answer to become so popular. I have now expanded the answer in order to &quot;deserve&quot; the upvotes. Hopefully it&#39;s an improvement."},{"owner":{"account_id":9423002,"reputation":648,"user_id":7008898,"display_name":"Dinith Rukshan Kumara"},"score":0,"creation_date":1633265617,"post_id":18571348,"comment_id":122708601,"body_markdown":"In my case it was getBytes(&quot;ISO-8859-1&quot;);   For ISO Latin Alphabet. Thanks for the answer. This Direct me to the correct path.","body":"In my case it was getBytes(&quot;ISO-8859-1&quot;);   For ISO Latin Alphabet. Thanks for the answer. This Direct me to the correct path."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1633337526,"post_id":18571348,"comment_id":122723281,"body_markdown":"@DinithRukshanKumara  It&#39;s worth looking at this  https://stackoverflow.com/questions/10643694/iso-8859-1-true-false","body":"@DinithRukshanKumara  It&#39;s worth looking at this  <a href=\"https://stackoverflow.com/questions/10643694/iso-8859-1-true-false\" title=\"iso 8859 1 true false\">stackoverflow.com/questions/10643694/iso-8859-1-true-false</a>"}],"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"comment_count":10,"down_vote_count":3,"up_vote_count":1057,"is_accepted":true,"score":1054,"last_activity_date":1459461264,"creation_date":1378118764,"answer_id":18571348,"question_id":18571223,"body_markdown":"The object your method `decompressGZIP()` needs is a `byte[]`.\r\n\r\nSo the basic, technical answer to the question you have asked is:\r\n\r\n    byte[] b = string.getBytes();\r\n    byte[] b = string.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    byte[] b = string.getBytes(StandardCharsets.UTF_8); // Java 7+ only\r\n\r\n----\r\n\r\nHowever the problem you appear to be wrestling with is that this doesn&#39;t display very well. Calling `toString()` will just give you the default `Object.toString()` which is the class name + memory address. In your result `[B@38ee9f13`, the `[B` means `byte[]` and `38ee9f13` is the memory address, separated by an `@`.\r\n\r\nFor display purposes you can use:\r\n\r\n    Arrays.toString(bytes);\r\n\r\nBut this will just display as a sequence of comma-separated integers, which may or may not be what you want.\r\n\r\nTo get a readable `String` back from a `byte[]`, use:\r\n\r\n    String string = new String(byte[] bytes, Charset charset);\r\n\r\n----\r\n\r\nThe reason the `Charset` version is favoured, is that all `String` objects in Java are stored internally as UTF-16. When converting to a `byte[]` you will get a different breakdown of bytes for the given glyphs of that `String`, depending upon the chosen charset.","title":"How to convert Java String into byte[]?","body":"<p>The object your method <code>decompressGZIP()</code> needs is a <code>byte[]</code>.</p>\n\n<p>So the basic, technical answer to the question you have asked is:</p>\n\n<pre><code>byte[] b = string.getBytes();\nbyte[] b = string.getBytes(Charset.forName(\"UTF-8\"));\nbyte[] b = string.getBytes(StandardCharsets.UTF_8); // Java 7+ only\n</code></pre>\n\n<hr>\n\n<p>However the problem you appear to be wrestling with is that this doesn't display very well. Calling <code>toString()</code> will just give you the default <code>Object.toString()</code> which is the class name + memory address. In your result <code>[B@38ee9f13</code>, the <code>[B</code> means <code>byte[]</code> and <code>38ee9f13</code> is the memory address, separated by an <code>@</code>.</p>\n\n<p>For display purposes you can use:</p>\n\n<pre><code>Arrays.toString(bytes);\n</code></pre>\n\n<p>But this will just display as a sequence of comma-separated integers, which may or may not be what you want.</p>\n\n<p>To get a readable <code>String</code> back from a <code>byte[]</code>, use:</p>\n\n<pre><code>String string = new String(byte[] bytes, Charset charset);\n</code></pre>\n\n<hr>\n\n<p>The reason the <code>Charset</code> version is favoured, is that all <code>String</code> objects in Java are stored internally as UTF-16. When converting to a <code>byte[]</code> you will get a different breakdown of bytes for the given glyphs of that <code>String</code>, depending upon the chosen charset.</p>\n"},{"tags":[],"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1378118772,"creation_date":1378118772,"answer_id":18571352,"question_id":18571223,"body_markdown":"You can use `String.getBytes()` which returns the `byte[]` array.","title":"How to convert Java String into byte[]?","body":"<p>You can use <code>String.getBytes()</code> which returns the <code>byte[]</code> array.</p>\n"},{"comments":[{"owner":{"account_id":2520941,"reputation":867,"user_id":2360439,"display_name":"D.A.H"},"score":0,"creation_date":1665572195,"post_id":18571358,"comment_id":130730748,"body_markdown":"Method getBytes is deprecated now.","body":"Method getBytes is deprecated now."}],"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1378118786,"creation_date":1378118786,"answer_id":18571358,"question_id":18571223,"body_markdown":"Try using String.getBytes(). It returns a byte[] representing string data.\r\nExample:\r\n\r\n    String data = &quot;sample data&quot;;\r\n    byte[] byteData = data.getBytes();","title":"How to convert Java String into byte[]?","body":"<p>Try using String.getBytes(). It returns a byte[] representing string data.\nExample:</p>\n\n<pre><code>String data = \"sample data\";\nbyte[] byteData = data.getBytes();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8847049,"reputation":3637,"user_id":6607497,"accept_rate":17,"display_name":"U. Windl"},"score":0,"creation_date":1532523808,"post_id":18571414,"comment_id":90007913,"body_markdown":"What if `abc` contains non US-ASCII characters, like `&quot;greater than 2&#179;&#178; ‚àí 1&quot;` or just binary data (like &quot;ÔøΩAÔøΩÔøΩÔøΩb2&quot;)?","body":"What if <code>abc</code> contains non US-ASCII characters, like <code>&quot;greater than 2&#179;&#178; ‚àí 1&quot;</code> or just binary data (like &quot;ÔøΩAÔøΩÔøΩÔøΩb2&quot;)?"},{"owner":{"account_id":7008272,"reputation":7615,"user_id":5372008,"display_name":"Teocci"},"score":0,"creation_date":1546581215,"post_id":18571414,"comment_id":94903224,"body_markdown":"this does not work for characters like `ÔøΩ  ` this string has only 5 characters. However when I use  `getBytes()` i got 7 characters.","body":"this does not work for characters like <code>ÔøΩ  </code> this string has only 5 characters. However when I use  <code>getBytes()</code> i got 7 characters."},{"owner":{"account_id":2520941,"reputation":867,"user_id":2360439,"display_name":"D.A.H"},"score":0,"creation_date":1665572211,"post_id":18571414,"comment_id":130730754,"body_markdown":"Method getBytes is deprecated now.","body":"Method getBytes is deprecated now."}],"tags":[],"owner":{"account_id":2806336,"reputation":899,"user_id":2413506,"accept_rate":67,"display_name":"Bhavesh"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1396714738,"creation_date":1378118984,"answer_id":18571414,"question_id":18571223,"body_markdown":"Simply:\r\n\r\n    String abc=&quot;abcdefghight&quot;;\r\n\r\n    byte[] b = abc.getBytes();\r\n","title":"How to convert Java String into byte[]?","body":"<p>Simply:</p>\n\n<pre><code>String abc=\"abcdefghight\";\n\nbyte[] b = abc.getBytes();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1198561,"reputation":3841,"user_id":1169741,"accept_rate":48,"display_name":"Trismegistos"},"score":3,"creation_date":1432645031,"post_id":20262456,"comment_id":48999084,"body_markdown":"Thanks for showing other way around from bytes to String.","body":"Thanks for showing other way around from bytes to String."}],"tags":[],"owner":{"account_id":336805,"reputation":1427,"user_id":664676,"accept_rate":64,"display_name":"Lucas Hoepner"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1385631548,"creation_date":1385631548,"answer_id":20262456,"question_id":18571223,"body_markdown":"You might wanna try `return new String(byteout.toByteArray(Charset.forName(&quot;UTF-8&quot;)))`","title":"How to convert Java String into byte[]?","body":"<p>You might wanna try <code>return new String(byteout.toByteArray(Charset.forName(\"UTF-8\")))</code></p>\n"},{"tags":[],"owner":{"account_id":11488292,"reputation":7,"user_id":8420187,"display_name":"Yardack"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1501906998,"creation_date":1501906998,"answer_id":45518172,"question_id":18571223,"body_markdown":"It is not necessary to change java as a String parameter. You have to change the c code to receive a String without a pointer and in its code:\r\n\r\n    Bool DmgrGetVersion (String szVersion);\r\n\r\n    Char NewszVersion [200];\r\n    Strcpy (NewszVersion, szVersion.t_str ());\r\n    .t_str () applies to builder c ++ 2010","title":"How to convert Java String into byte[]?","body":"<p>It is not necessary to change java as a String parameter. You have to change the c code to receive a String without a pointer and in its code:</p>\n\n<pre><code>Bool DmgrGetVersion (String szVersion);\n\nChar NewszVersion [200];\nStrcpy (NewszVersion, szVersion.t_str ());\n.t_str () applies to builder c ++ 2010\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":2,"creation_date":1526134222,"post_id":50259365,"comment_id":87630153,"body_markdown":"This decodes hex-encoded byte array. Something very different from what this question is about.","body":"This decodes hex-encoded byte array. Something very different from what this question is about."}],"tags":[],"owner":{"account_id":13459157,"reputation":37,"user_id":9711823,"display_name":"Favnir Liorenth"},"comment_count":1,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1525888407,"creation_date":1525888407,"answer_id":50259365,"question_id":18571223,"body_markdown":"I know I&#39;m a little late tothe party but thisworks pretty neat (our professor gave it to us)\r\n\r\n    public static byte[] asBytes (String s) {\t\t\t\t\t\r\n    \t       String tmp;\r\n    \t       byte[] b = new byte[s.length() / 2];\r\n    \t       int i;\r\n    \t       for (i = 0; i &lt; s.length() / 2; i++) {\r\n    \t         tmp = s.substring(i * 2, i * 2 + 2);\r\n    \t         b[i] = (byte)(Integer.parseInt(tmp, 16) &amp; 0xff);\r\n    \t       }\r\n    \t       return b;\t\t\t\t\t\t\t\t\t\t\t//return bytes\r\n    \t}","title":"How to convert Java String into byte[]?","body":"<p>I know I'm a little late tothe party but thisworks pretty neat (our professor gave it to us)</p>\n\n<pre><code>public static byte[] asBytes (String s) {                   \n           String tmp;\n           byte[] b = new byte[s.length() / 2];\n           int i;\n           for (i = 0; i &lt; s.length() / 2; i++) {\n             tmp = s.substring(i * 2, i * 2 + 2);\n             b[i] = (byte)(Integer.parseInt(tmp, 16) &amp; 0xff);\n           }\n           return b;                                            //return bytes\n    }\n</code></pre>\n"}],"owner":{"account_id":2691208,"reputation":6795,"user_id":2324527,"accept_rate":74,"display_name":"Mkl Rjv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1165974,"favorite_count":0,"down_vote_count":5,"up_vote_count":607,"accepted_answer_id":18571348,"answer_count":8,"score":602,"last_activity_date":1676998355,"creation_date":1378118420,"question_id":18571223,"body_markdown":"Is there any way to convert Java `String` to a `byte[]` (_not_ the boxed `Byte[]`)?\r\n\r\nIn trying this:\r\n\r\n    System.out.println(response.split(&quot;\\r\\n\\r\\n&quot;)[1]);\r\n    System.out.println(&quot;******&quot;);\r\n    System.out.println(response.split(&quot;\\r\\n\\r\\n&quot;)[1].getBytes().toString());\r\n\r\nand I&#39;m getting separate outputs. Unable to display 1st output as it is a gzip string.\r\n\r\n    &lt;A Gzip String&gt;\r\n    ******\r\n    [B@38ee9f13\r\n\r\nThe second is an address. Is there anything I&#39;m doing wrong? I need the result in a `byte[]` to feed it to gzip decompressor, which is as follows.\r\n\r\n    String decompressGZIP(byte[] gzip) throws IOException {\r\n        java.util.zip.Inflater inf = new java.util.zip.Inflater();\r\n        java.io.ByteArrayInputStream bytein = new java.io.ByteArrayInputStream(gzip);\r\n        java.util.zip.GZIPInputStream gzin = new java.util.zip.GZIPInputStream(bytein);\r\n        java.io.ByteArrayOutputStream byteout = new java.io.ByteArrayOutputStream();\r\n        int res = 0;\r\n        byte buf[] = new byte[1024];\r\n        while (res &gt;= 0) {\r\n            res = gzin.read(buf, 0, buf.length);\r\n            if (res &gt; 0) {\r\n                byteout.write(buf, 0, res);\r\n            }\r\n        }\r\n        byte uncompressed[] = byteout.toByteArray();\r\n        return (uncompressed.toString());\r\n    }","title":"How to convert Java String into byte[]?","body":"<p>Is there any way to convert Java <code>String</code> to a <code>byte[]</code> (<em>not</em> the boxed <code>Byte[]</code>)?</p>\n\n<p>In trying this:</p>\n\n<pre><code>System.out.println(response.split(\"\\r\\n\\r\\n\")[1]);\nSystem.out.println(\"******\");\nSystem.out.println(response.split(\"\\r\\n\\r\\n\")[1].getBytes().toString());\n</code></pre>\n\n<p>and I'm getting separate outputs. Unable to display 1st output as it is a gzip string.</p>\n\n<pre><code>&lt;A Gzip String&gt;\n******\n[B@38ee9f13\n</code></pre>\n\n<p>The second is an address. Is there anything I'm doing wrong? I need the result in a <code>byte[]</code> to feed it to gzip decompressor, which is as follows.</p>\n\n<pre><code>String decompressGZIP(byte[] gzip) throws IOException {\n    java.util.zip.Inflater inf = new java.util.zip.Inflater();\n    java.io.ByteArrayInputStream bytein = new java.io.ByteArrayInputStream(gzip);\n    java.util.zip.GZIPInputStream gzin = new java.util.zip.GZIPInputStream(bytein);\n    java.io.ByteArrayOutputStream byteout = new java.io.ByteArrayOutputStream();\n    int res = 0;\n    byte buf[] = new byte[1024];\n    while (res &gt;= 0) {\n        res = gzin.read(buf, 0, buf.length);\n        if (res &gt; 0) {\n            byteout.write(buf, 0, res);\n        }\n    }\n    byte uncompressed[] = byteout.toByteArray();\n    return (uncompressed.toString());\n}\n</code></pre>\n"},{"tags":["java","kotlin","google-maps"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":1,"creation_date":1677223612,"post_id":75510051,"comment_id":133299042,"body_markdown":"Welcome to Stack Overflow! Can you please put together a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and add it to a git hosting provider (e.g. github, bitbucket, etc)? The easiest way to do this might be to fork the Google Maps Android API Samples Repository and modify one of the existing demo activities: \nhttps://github.com/googlemaps/android-samples \n\nThen you can list steps to reproduce the problem, so that the community might be able to help you better.","body":"Welcome to Stack Overflow! Can you please put together a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and add it to a git hosting provider (e.g. github, bitbucket, etc)? The easiest way to do this might be to fork the Google Maps Android API Samples Repository and modify one of the existing demo activities:  <a href=\"https://github.com/googlemaps/android-samples\" rel=\"nofollow noreferrer\">github.com/googlemaps/android-samples</a>   Then you can list steps to reproduce the problem, so that the community might be able to help you better."}],"owner":{"account_id":27832919,"reputation":21,"user_id":21250989,"display_name":"Sukhwinder Kaur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676998209,"creation_date":1676900862,"question_id":75510051,"body_markdown":"I am trying to remove poly line&#39;s without using for loop. Most of the Solutions  are with for loop. if we are remove using for loop , then it will not removing the poly lines.\r\n\r\n\r\n```\r\nvar polyline: Polyline? = null\r\npolyline = mMap!!.addPolyline((PolylineOptions().addAll(listPolyArray).width(5f).color(requireActivity().getResources().getColor(R.color.green)).geodesic(true)))\r\n\r\npolyline!!.remove()\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Remove the Poly-lines on google map not working in Kotlin","body":"<p>I am trying to remove poly line's without using for loop. Most of the Solutions  are with for loop. if we are remove using for loop , then it will not removing the poly lines.</p>\n<pre><code>var polyline: Polyline? = null\npolyline = mMap!!.addPolyline((PolylineOptions().addAll(listPolyArray).width(5f).color(requireActivity().getResources().getColor(R.color.green)).geodesic(true)))\n\npolyline!!.remove()\n\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot","spring-webflux","reactive-programming"],"owner":{"account_id":15693636,"reputation":25,"user_id":11323872,"display_name":"Natsuki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676998157,"creation_date":1676998157,"question_id":75523510,"body_markdown":"I recently started learning Reactive Programming and Webflux in SpringBoot and decided to create a simple parking lot application with React as my front-end. \r\nProblem is after establishing an EventSource with my SpringBoot endpoint any changes to the repository does not seem to reflect in the Flux of objects being periodically published to my client for eg. the **toggleParkingSpot** endpoint alters the status of a parking spot successfully and is reflected in Postman but not my react app\r\n\r\n\r\nBelow is my FloorController\r\n```@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/floor&quot;)\r\n@Slf4j\r\npublic class FloorController {\r\n    private final FloorRepository floorRepository;\r\n    private final FloorService floorService;\r\n    private final Sinks.Many&lt;Floor&gt; sink;\r\n\r\n    public FloorController(FloorRepository floorRepository, FloorService floorService) {\r\n        this.floorRepository = floorRepository;\r\n        this.floorService = floorService;\r\n        this.sink = Sinks.many().multicast().onBackpressureBuffer();\r\n    }\r\n\r\n\r\n    @GetMapping(value = &quot;/get&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;Floor&gt; getParkingData() {\r\n\r\n        return sink.asFlux().mergeWith(floorRepository.findAll());\r\n\r\n    }\r\n\r\n    @PatchMapping(&quot;/toggleParkingSpot/{floorId}&amp;&amp;{parkingSpotId}&quot;)\r\n    public Mono&lt;Floor&gt; toggleParkingSpot(@PathVariable String floorId, @PathVariable String parkingSpotId) {\r\n        return floorService.toggleParkingSpot(floorId, parkingSpotId).doOnNext(sink::tryEmitNext);\r\n    }\r\n\r\n    @PostMapping(value = &quot;/createFloor&quot;, consumes = &quot;application/json&quot;)\r\n    public Mono&lt;ResponseEntity&lt;Floor&gt;&gt; createFloor(@RequestBody FloorDTO floorDTO) {\r\n        return floorService.saveFloor(floorDTO).doOnNext(sink::tryEmitNext).map(ResponseEntity::ok).onErrorResume(DuplicateKeyException.class, e -&gt; {\r\n            return Mono.just(ResponseEntity.status(HttpStatus.BAD_REQUEST).build());\r\n        });\r\n    }\r\n\r\n    @PatchMapping(&quot;/updateFloor&quot;)\r\n    public Mono&lt;Floor&gt; updateFloor(@ModelAttribute FloorDTO floorDTO) {\r\n        return floorService.saveFloor(floorDTO).doOnNext(sink::tryEmitNext);\r\n\r\n    }\r\n\r\n    @DeleteMapping(&quot;/deleteFloor/{id}&quot;)\r\n    public Mono&lt;Void&gt; deleteFloor(@PathVariable String id) {\r\n        return floorRepository.deleteById(id);\r\n    }\r\n\r\n\r\n}\r\n```\r\nFloor model\r\n```\r\n\r\n@Data\r\npublic class Floor {\r\n    @Id\r\n    String id = UUID.randomUUID().toString();\r\n    @EqualsAndHashCode.Include\r\n    String floor;\r\n    List&lt;ParkingSpot&gt; parkingData = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nParkingSpot model\r\n```\r\n@Data\r\npublic class ParkingSpot {\r\n    @Id\r\n    String id;\r\n    Boolean status;\r\n}\r\n```\r\nReact component creating an EventSource\r\n```function App() {\r\n    const [parkingData, setParkingData] = useState([]);\r\n    let lastEventTime = Date.now()\r\n    useEffect(() =&gt; {\r\n        const source = new EventSource(&quot;http://localhost:8080/floor/get&quot;);\r\n        source.addEventListener(&#39;message&#39;, event =&gt; {\r\n            const data = JSON.parse(event.data);\r\n            const now = Date.now();\r\n            // If 1 seconds have passed since the last event, clear the parkingData array\r\n            if (lastEventTime !== null &amp;&amp; now - lastEventTime &gt;= 3000) {\r\n                setParkingData([data]);\r\n            } else {\r\n                setParkingData((prevData) =&gt; [...prevData, data]);\r\n\r\n            }\r\n            lastEventTime = (now);\r\n\r\n        })\r\n\r\n        return () =&gt; {\r\n            source.close();\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n            &lt;Header/&gt;\r\n            {parkingData.length &gt; 0 &amp;&amp; &lt;DataContainer data={parkingData}/&gt;}\r\n        &lt;/div&gt;\r\n    );\r\n}\r\n\r\nexport default App;\r\n```\r\nI am fairly new to SpringBoot itself and would really appreciate an explaination behind your answers or improvements to my coding standards\r\n\r\nThanks.","title":"Stale data being published to React App in Springboot-Webflux","body":"<p>I recently started learning Reactive Programming and Webflux in SpringBoot and decided to create a simple parking lot application with React as my front-end.\nProblem is after establishing an EventSource with my SpringBoot endpoint any changes to the repository does not seem to reflect in the Flux of objects being periodically published to my client for eg. the <strong>toggleParkingSpot</strong> endpoint alters the status of a parking spot successfully and is reflected in Postman but not my react app</p>\n<p>Below is my FloorController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/floor&quot;)\n@Slf4j\npublic class FloorController {\n    private final FloorRepository floorRepository;\n    private final FloorService floorService;\n    private final Sinks.Many&lt;Floor&gt; sink;\n\n    public FloorController(FloorRepository floorRepository, FloorService floorService) {\n        this.floorRepository = floorRepository;\n        this.floorService = floorService;\n        this.sink = Sinks.many().multicast().onBackpressureBuffer();\n    }\n\n\n    @GetMapping(value = &quot;/get&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;Floor&gt; getParkingData() {\n\n        return sink.asFlux().mergeWith(floorRepository.findAll());\n\n    }\n\n    @PatchMapping(&quot;/toggleParkingSpot/{floorId}&amp;&amp;{parkingSpotId}&quot;)\n    public Mono&lt;Floor&gt; toggleParkingSpot(@PathVariable String floorId, @PathVariable String parkingSpotId) {\n        return floorService.toggleParkingSpot(floorId, parkingSpotId).doOnNext(sink::tryEmitNext);\n    }\n\n    @PostMapping(value = &quot;/createFloor&quot;, consumes = &quot;application/json&quot;)\n    public Mono&lt;ResponseEntity&lt;Floor&gt;&gt; createFloor(@RequestBody FloorDTO floorDTO) {\n        return floorService.saveFloor(floorDTO).doOnNext(sink::tryEmitNext).map(ResponseEntity::ok).onErrorResume(DuplicateKeyException.class, e -&gt; {\n            return Mono.just(ResponseEntity.status(HttpStatus.BAD_REQUEST).build());\n        });\n    }\n\n    @PatchMapping(&quot;/updateFloor&quot;)\n    public Mono&lt;Floor&gt; updateFloor(@ModelAttribute FloorDTO floorDTO) {\n        return floorService.saveFloor(floorDTO).doOnNext(sink::tryEmitNext);\n\n    }\n\n    @DeleteMapping(&quot;/deleteFloor/{id}&quot;)\n    public Mono&lt;Void&gt; deleteFloor(@PathVariable String id) {\n        return floorRepository.deleteById(id);\n    }\n\n\n}\n</code></pre>\n<p>Floor model</p>\n<pre><code>\n@Data\npublic class Floor {\n    @Id\n    String id = UUID.randomUUID().toString();\n    @EqualsAndHashCode.Include\n    String floor;\n    List&lt;ParkingSpot&gt; parkingData = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>ParkingSpot model</p>\n<pre><code>@Data\npublic class ParkingSpot {\n    @Id\n    String id;\n    Boolean status;\n}\n</code></pre>\n<p>React component creating an EventSource</p>\n<pre><code>    const [parkingData, setParkingData] = useState([]);\n    let lastEventTime = Date.now()\n    useEffect(() =&gt; {\n        const source = new EventSource(&quot;http://localhost:8080/floor/get&quot;);\n        source.addEventListener('message', event =&gt; {\n            const data = JSON.parse(event.data);\n            const now = Date.now();\n            // If 1 seconds have passed since the last event, clear the parkingData array\n            if (lastEventTime !== null &amp;&amp; now - lastEventTime &gt;= 3000) {\n                setParkingData([data]);\n            } else {\n                setParkingData((prevData) =&gt; [...prevData, data]);\n\n            }\n            lastEventTime = (now);\n\n        })\n\n        return () =&gt; {\n            source.close();\n        }\n    }, [])\n\n    return (\n        &lt;div className=&quot;App&quot;&gt;\n            &lt;Header/&gt;\n            {parkingData.length &gt; 0 &amp;&amp; &lt;DataContainer data={parkingData}/&gt;}\n        &lt;/div&gt;\n    );\n}\n\nexport default App;\n</code></pre>\n<p>I am fairly new to SpringBoot itself and would really appreciate an explaination behind your answers or improvements to my coding standards</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1676998404,"post_id":75523296,"comment_id":133248401,"body_markdown":"You can look at fail fast and retry https://docs.spring.io/spring-cloud-config/docs/4.0.1/reference/html/#config-client-fail-fast. Otherwise, aside from having local properties as a fallback, there&#39;s not much to do. You can run multiple config servers and specify a list in the clients.","body":"You can look at fail fast and retry <a href=\"https://docs.spring.io/spring-cloud-config/docs/4.0.1/reference/html/#config-client-fail-fast\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-config/docs/4.0.1/reference/html&zwnj;&#8203;/&hellip;</a>. Otherwise, aside from having local properties as a fallback, there&#39;s not much to do. You can run multiple config servers and specify a list in the clients."}],"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676998096,"creation_date":1676997073,"question_id":75523296,"body_markdown":"We are planning to utilize Spring Cloud Config for our service. Our biggest concern is our service should continue to run or there is no downtime of service, even if the config server is down.\r\n\r\nWe are planning to set up Spring Cloud Config on premises.\r\n\r\nIs there any workaround to handle the downtime of the service if the config server is down?","title":"How do I make sure there is no downtime of application when the spring cloud config server is not available?","body":"<p>We are planning to utilize Spring Cloud Config for our service. Our biggest concern is our service should continue to run or there is no downtime of service, even if the config server is down.</p>\n<p>We are planning to set up Spring Cloud Config on premises.</p>\n<p>Is there any workaround to handle the downtime of the service if the config server is down?</p>\n"},{"tags":["java","dictionary","jackson","deserialization","fasterxml"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677009002,"post_id":75523347,"comment_id":133251559,"body_markdown":"Does [this](https://stackoverflow.com/a/39413177/1271785) help?","body":"Does <a href=\"https://stackoverflow.com/a/39413177/1271785\">this</a> help?"},{"owner":{"account_id":2706801,"reputation":1,"user_id":2336230,"display_name":"user2336230"},"score":0,"creation_date":1677055713,"post_id":75523347,"comment_id":133259898,"body_markdown":"@pfurbacher Thanks. But unfortunately it doesn&#39;t not help. First solution with method convertMap(map) can deserialize keys only on first or second level, but not deeper. Second approach make transformation while Serialize process, and of course it is possible to do  deserialisation -&gt; serialisation  -&gt; deserialisation but it&#39;s not ok for perfomance","body":"@pfurbacher Thanks. But unfortunately it doesn&#39;t not help. First solution with method convertMap(map) can deserialize keys only on first or second level, but not deeper. Second approach make transformation while Serialize process, and of course it is possible to do  deserialisation -&gt; serialisation  -&gt; deserialisation but it&#39;s not ok for perfomance"}],"owner":{"account_id":2706801,"reputation":1,"user_id":2336230,"display_name":"user2336230"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676998055,"creation_date":1676997306,"question_id":75523347,"body_markdown":"I have a map with dynamic structure *Map&lt;String, Object&gt;*, where value - Object can be number, string or another *Map&lt;String, Object&gt;*\r\n\r\nI need to transform all keys name strategy from *snake_case* to *camelCase*\r\n\r\n**Example**\r\n\r\n**Input**\r\n\r\n```\r\n{\r\n\t&quot;some_key_level1&quot;: &quot;v1&quot; ,\r\n\t&quot;some_key2_level1&quot;: &quot;v2&quot;,\r\n\t&quot;some_map&quot;: {\r\n\t\t&quot;some_key_level2&quot;: &quot;v1&quot;,\r\n\t    &quot;some_key2_level2&quot;: &quot;v2&quot;,\r\n\t    &quot;other_map&quot;: {...}\r\n\t},\r\n\t&quot;some_key3_level1&quot;: &quot;v3&quot;,\r\n}\r\n```\r\n**Expected result**\r\n```\r\n{\r\n\t&quot;someKeyLevel1&quot;: &quot;v1&quot; ,\r\n\t&quot;someKey2Level1&quot;: &quot;v2&quot;,\r\n\t&quot;someMap&quot;: {\r\n\t\t&quot;someKeyLevel2&quot;: &quot;v1&quot;,\r\n\t    &quot;someKey2Level2&quot;: &quot;v2&quot;,\r\n\t    &quot;otherMap&quot;: {...}\r\n\t},\r\n\t&quot;someKey3Level1&quot;: &quot;v3&quot;,\r\n}\r\n```\r\n\r\nThis code can help with this, but only in the first nesting level. \r\n```\r\nSimpleModule simpleModule = new SimpleModule();\r\nsimpleModule.addKeyDeserializer(String.class, new CamelCaseKeyDeserializer());\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(simpleModule);\r\n\r\n private static class CamelCaseKeyDeserializer extends KeyDeserializer {\r\n        @Override\r\n        public Object deserializeKey(String key, DeserializationContext ctxt) {\r\n            if (key != null) {\r\n                return CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, key);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n How to transform *all* keys for dynamic Map","title":"Java: how to deserialise and transform name strategy for complex Map","body":"<p>I have a map with dynamic structure <em>Map&lt;String, Object&gt;</em>, where value - Object can be number, string or another <em>Map&lt;String, Object&gt;</em></p>\n<p>I need to transform all keys name strategy from <em>snake_case</em> to <em>camelCase</em></p>\n<p><strong>Example</strong></p>\n<p><strong>Input</strong></p>\n<pre><code>{\n    &quot;some_key_level1&quot;: &quot;v1&quot; ,\n    &quot;some_key2_level1&quot;: &quot;v2&quot;,\n    &quot;some_map&quot;: {\n        &quot;some_key_level2&quot;: &quot;v1&quot;,\n        &quot;some_key2_level2&quot;: &quot;v2&quot;,\n        &quot;other_map&quot;: {...}\n    },\n    &quot;some_key3_level1&quot;: &quot;v3&quot;,\n}\n</code></pre>\n<p><strong>Expected result</strong></p>\n<pre><code>{\n    &quot;someKeyLevel1&quot;: &quot;v1&quot; ,\n    &quot;someKey2Level1&quot;: &quot;v2&quot;,\n    &quot;someMap&quot;: {\n        &quot;someKeyLevel2&quot;: &quot;v1&quot;,\n        &quot;someKey2Level2&quot;: &quot;v2&quot;,\n        &quot;otherMap&quot;: {...}\n    },\n    &quot;someKey3Level1&quot;: &quot;v3&quot;,\n}\n</code></pre>\n<p>This code can help with this, but only in the first nesting level.</p>\n<pre><code>SimpleModule simpleModule = new SimpleModule();\nsimpleModule.addKeyDeserializer(String.class, new CamelCaseKeyDeserializer());\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(simpleModule);\n\n private static class CamelCaseKeyDeserializer extends KeyDeserializer {\n        @Override\n        public Object deserializeKey(String key, DeserializationContext ctxt) {\n            if (key != null) {\n                return CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, key);\n            }\n            return null;\n        }\n    }\n\n</code></pre>\n<p>How to transform <em>all</em> keys for dynamic Map</p>\n"},{"tags":["java","singleton","osgi","dao","apache-karaf"],"answers":[{"tags":[],"owner":{"display_name":"user14129465"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676997625,"creation_date":1676997471,"answer_id":75523378,"question_id":75489752,"body_markdown":"#Found out a solution.\r\n\r\nApparently it is possible to track your services (objects) with a class provided by the OSGI framework\r\n\r\nhttps://docs.osgi.org/javadoc/r6/core/org/osgi/util/tracker/ServiceTracker.html\r\n\r\nBy this it is possible to get references  from the different services running in your OSGI environment, like in karaf, by providing the bundleContext \r\n\r\nSo in any deployed .kar (Bunch of deployable .jars but with metadata for the runtime deployer like karaf) it is possible to get the instances of your services in those, as long as you provide the interface implemented in those services.\r\n\r\nBasically in 3 steps:\r\n\r\n````\r\nprivate ServiceTracker tracker = null;\r\n\r\ntracker = new ServiceTracker( \r\nbundleContext, \r\nITheClassUWannaTrack.class.getName(), \r\nnull );\r\n\r\ntracker.open();\r\n\r\nObject[] objectServices = tracker.getServices();\r\n\r\n for ( Object obj : objectServices )\r\n      {\r\n        ITheClassUWannaTrack classTracked = (ITheClassUWannaTrack) obj;\r\n        ITheClassUWannaTrack.helloWorld();\r\n      }\r\n\r\n````\r\n\r\nAnd the service in your blueprint could be something like this&gt;\r\n\r\n\t&lt;bean id=&quot;objectService&quot;\r\n\t\t  class=&quot;com.fictioncompany.coolpackage.TheClassUWannaTrack&quot;\r\n\t\t  init-method=&quot;init&quot;&gt;\r\n\t\t&lt;property name=&quot;bundleContext&quot; ref=&quot;blueprintBundleContext&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;service ref=&quot;objectService&quot; interface=&quot;com.fictioncompany.coolpackage.ITheClassUWannaTrack&quot; /&gt;\r\n\r\nWith this it is exposed, so the service tracker can get the class implemented in the .kar after deplyment\r\n\r\n#In your .KAR\r\n\r\n/*NOTE THAT YOU HAVE TO CREATE THE BLUEPRINT BEAN/SERVICE FOR THIS SO THE SERVICE TRACKER ACTUALLY CAN GET IT AND GET THE REFERENCE LATER*/\r\n````\r\n\r\npublic class TheClassUWannaTrackInKar implements ITheClassUWannaTrack{\r\n\r\n@override\r\npublic void helloWorld(){\r\n\r\n}\r\n\r\n}\r\n````\r\n\r\nWith this, all the Hello Worlds will be executed in the for loop taking the object service references if you have beans implemented in the common interface and exposed in their corresponding bundle blueprint, you can call objects &quot;From the future&quot;","title":"Karaf, get an object instance from a deployed Kar, but prone error because the Kar could be not deployed","body":"<p>#Found out a solution.</p>\n<p>Apparently it is possible to track your services (objects) with a class provided by the OSGI framework</p>\n<p><a href=\"https://docs.osgi.org/javadoc/r6/core/org/osgi/util/tracker/ServiceTracker.html\" rel=\"nofollow noreferrer\">https://docs.osgi.org/javadoc/r6/core/org/osgi/util/tracker/ServiceTracker.html</a></p>\n<p>By this it is possible to get references  from the different services running in your OSGI environment, like in karaf, by providing the bundleContext</p>\n<p>So in any deployed .kar (Bunch of deployable .jars but with metadata for the runtime deployer like karaf) it is possible to get the instances of your services in those, as long as you provide the interface implemented in those services.</p>\n<p>Basically in 3 steps:</p>\n<pre><code>private ServiceTracker tracker = null;\n\ntracker = new ServiceTracker( \nbundleContext, \nITheClassUWannaTrack.class.getName(), \nnull );\n\ntracker.open();\n\nObject[] objectServices = tracker.getServices();\n\n for ( Object obj : objectServices )\n      {\n        ITheClassUWannaTrack classTracked = (ITheClassUWannaTrack) obj;\n        ITheClassUWannaTrack.helloWorld();\n      }\n\n</code></pre>\n<p>And the service in your blueprint could be something like this&gt;</p>\n<pre><code>&lt;bean id=&quot;objectService&quot;\n      class=&quot;com.fictioncompany.coolpackage.TheClassUWannaTrack&quot;\n      init-method=&quot;init&quot;&gt;\n    &lt;property name=&quot;bundleContext&quot; ref=&quot;blueprintBundleContext&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>With this it is exposed, so the service tracker can get the class implemented in the .kar after deplyment</p>\n<p>#In your .KAR</p>\n<p>/<em>NOTE THAT YOU HAVE TO CREATE THE BLUEPRINT BEAN/SERVICE FOR THIS SO THE SERVICE TRACKER ACTUALLY CAN GET IT AND GET THE REFERENCE LATER</em>/</p>\n<pre><code>\npublic class TheClassUWannaTrackInKar implements ITheClassUWannaTrack{\n\n@override\npublic void helloWorld(){\n\n}\n\n}\n</code></pre>\n<p>With this, all the Hello Worlds will be executed in the for loop taking the object service references if you have beans implemented in the common interface and exposed in their corresponding bundle blueprint, you can call objects &quot;From the future&quot;</p>\n"}],"owner":{"display_name":"user14129465"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75523378,"answer_count":1,"score":0,"last_activity_date":1676997625,"creation_date":1676672535,"question_id":75489752,"body_markdown":"# Context:\r\n\r\nI have a Karaf instance running and by bad design, someone decided to include an Hibernate entity into the Jar files loaded by a Kar, now, that Kar knows the objectDao I need in my karaf runtime, and also, the Kar zip has the @entity notation inside of its classes.\r\n\r\nSo the table is not created until you load that Kar, but I need to make use of the objectDao class inside that Kar in my Karaf instance and be prone to errors to know if the Kar is not loaded yet.\r\n\r\n# My question:\r\n\r\nHow could I retrieve an object instance that knows the objectDao from the Kar (jar file) that will be loaded later.\r\n\r\n# My personal thoughts:\r\n\r\nI was thinking on create a Singleton class inside the source code of the Kar file (that knows the objectDao I need), then retrieving the object by calling the getInstance() method by reflection, but I read in some forums that reflection and Singletons can be prone error and dangerous.\r\n\r\n# Code example:\r\n\r\n# On the karaf instance running:\r\n````\r\npublic class myHandler (){\r\n\r\npublic void saveInfo(String info){\r\n\r\nsaveInfoIntoDatabase(info);\r\n\r\n}\r\n\r\nprivate void saveInfoIntoDatabase(String info){\r\n\r\nObject objectProvided;\r\n\r\n/*\r\nSolution I want to implement\r\n~ this converts the objectProvided\r\n~ into the object that is equal\r\n~ to the instance created on the Kar by loading later\r\n*/\r\n\r\nobjectProvided.saveIntoBadDesignedDao(info);\r\n\r\n}\r\n}\r\n````\r\n# On the KAR that can be deployed:\r\n ````\r\npublic class InfoSaver{\r\n\r\nObjectDao objectDao; // The instance is being provided by the bean/service/reference features of OSGI\r\n//this means that we have to provide the object created on the OSGI blueprint\r\n\r\npublic void saveIntoBadDesignedDao(String info){\r\n\r\nobjectDao.methodThatPersistData(info);\r\n\r\n}\r\n}\r\n````\r\n\r\n\r\nThere is already a piece of code that does this job, and is a ServiceTracker from OSGI, the Kar file has a dependency on one interface from the Karaf modules, but, it uses a Publish-suscribe design patter.\r\nThe method that calls the objectDao on the kar file, is private, and either by making accessible with a public method (which is HORRIBLE TO DO) it is giving an OSGI error.\r\n","title":"Karaf, get an object instance from a deployed Kar, but prone error because the Kar could be not deployed","body":"<h1>Context:</h1>\n<p>I have a Karaf instance running and by bad design, someone decided to include an Hibernate entity into the Jar files loaded by a Kar, now, that Kar knows the objectDao I need in my karaf runtime, and also, the Kar zip has the @entity notation inside of its classes.</p>\n<p>So the table is not created until you load that Kar, but I need to make use of the objectDao class inside that Kar in my Karaf instance and be prone to errors to know if the Kar is not loaded yet.</p>\n<h1>My question:</h1>\n<p>How could I retrieve an object instance that knows the objectDao from the Kar (jar file) that will be loaded later.</p>\n<h1>My personal thoughts:</h1>\n<p>I was thinking on create a Singleton class inside the source code of the Kar file (that knows the objectDao I need), then retrieving the object by calling the getInstance() method by reflection, but I read in some forums that reflection and Singletons can be prone error and dangerous.</p>\n<h1>Code example:</h1>\n<h1>On the karaf instance running:</h1>\n<pre><code>public class myHandler (){\n\npublic void saveInfo(String info){\n\nsaveInfoIntoDatabase(info);\n\n}\n\nprivate void saveInfoIntoDatabase(String info){\n\nObject objectProvided;\n\n/*\nSolution I want to implement\n~ this converts the objectProvided\n~ into the object that is equal\n~ to the instance created on the Kar by loading later\n*/\n\nobjectProvided.saveIntoBadDesignedDao(info);\n\n}\n}\n</code></pre>\n<h1>On the KAR that can be deployed:</h1>\n<pre><code>public class InfoSaver{\n\nObjectDao objectDao; // The instance is being provided by the bean/service/reference features of OSGI\n//this means that we have to provide the object created on the OSGI blueprint\n\npublic void saveIntoBadDesignedDao(String info){\n\nobjectDao.methodThatPersistData(info);\n\n}\n}\n</code></pre>\n<p>There is already a piece of code that does this job, and is a ServiceTracker from OSGI, the Kar file has a dependency on one interface from the Karaf modules, but, it uses a Publish-suscribe design patter.\nThe method that calls the objectDao on the kar file, is private, and either by making accessible with a public method (which is HORRIBLE TO DO) it is giving an OSGI error.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677657762,"post_id":75523058,"comment_id":133379113,"body_markdown":"Like discussed on Discourse, it&#39;s fine to change the type of the column: https://discourse.hibernate.org/t/changes-in-hibernate-sequence-table/7315","body":"Like discussed on Discourse, it&#39;s fine to change the type of the column: <a href=\"https://discourse.hibernate.org/t/changes-in-hibernate-sequence-table/7315\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/changes-in-hibernate-sequence-tabl&zwnj;&#8203;e/&hellip;</a>"}],"owner":{"account_id":27843285,"reputation":1,"user_id":21259328,"display_name":"Miskin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676997461,"creation_date":1676995898,"question_id":75523058,"body_markdown":"During hibernate migration from 4 to 5.6.15.Final I encounter a problem.\r\nI get this error when I run the app:\r\n\r\n```\r\nSchema-validation: wrong column type encountered in column [sequence_next_hi_value] in table [hibernate_sequences]; found [integer (Types#INTEGER)], but expecting [numeric(18,0) (Types#BIGINT)]\r\n```\r\n\r\nIt is not problem change data type of field `sequence_next_hi_value` \r\nI am worry about change data type because all my table identifiers are integers.\r\n\r\nIs it safe change it and not worry about generating id that doesn&#39;t fit to integer?\r\n\r\nI use hibernate-validator 6.2.5.Final and here some configuration of hibernate:\r\n```\r\n&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.FirebirdDialect&lt;/prop&gt;\r\n&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop&gt;\r\n&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;\r\n```","title":"Changes in hibernate sequence table","body":"<p>During hibernate migration from 4 to 5.6.15.Final I encounter a problem.\nI get this error when I run the app:</p>\n<pre><code>Schema-validation: wrong column type encountered in column [sequence_next_hi_value] in table [hibernate_sequences]; found [integer (Types#INTEGER)], but expecting [numeric(18,0) (Types#BIGINT)]\n</code></pre>\n<p>It is not problem change data type of field <code>sequence_next_hi_value</code>\nI am worry about change data type because all my table identifiers are integers.</p>\n<p>Is it safe change it and not worry about generating id that doesn't fit to integer?</p>\n<p>I use hibernate-validator 6.2.5.Final and here some configuration of hibernate:</p>\n<pre><code>&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.FirebirdDialect&lt;/prop&gt;\n&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop&gt;\n&lt;prop key=&quot;hibernate.id.new_generator_mappings&quot;&gt;false&lt;/prop&gt;\n</code></pre>\n"},{"tags":["java","concurrency","cluster-computing","isalive"],"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1521998865,"post_id":49478495,"comment_id":85960159,"body_markdown":"ConcurrentMap doesn&#39;t make your code magically thread safe. You need to use atomic methods like `putIfAbsent` or else use another level of locking or synchronization.","body":"ConcurrentMap doesn&#39;t make your code magically thread safe. You need to use atomic methods like <code>putIfAbsent</code> or else use another level of locking or synchronization."},{"owner":{"account_id":12473644,"reputation":155,"user_id":9080835,"accept_rate":0,"display_name":"RoboFlax"},"score":0,"creation_date":1521999826,"post_id":49478495,"comment_id":85960517,"body_markdown":"Can you put an example?","body":"Can you put an example?"},{"owner":{"account_id":12473644,"reputation":155,"user_id":9080835,"accept_rate":0,"display_name":"RoboFlax"},"score":0,"creation_date":1522002757,"post_id":49478495,"comment_id":85961549,"body_markdown":"what do you mean with atomic methods?","body":"what do you mean with atomic methods?"},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1522003391,"post_id":49478495,"comment_id":85961811,"body_markdown":"Given your comments, I get the sense that there&#39;s a lot about concurrency that you don&#39;t understand. It&#39;s hard to know how much to explain, but I suspect it would need to be much more than one answer here could contain. I would recommend the book *Java Concurrency in Practice* by Goetz et al as a good place to start.","body":"Given your comments, I get the sense that there&#39;s a lot about concurrency that you don&#39;t understand. It&#39;s hard to know how much to explain, but I suspect it would need to be much more than one answer here could contain. I would recommend the book <i>Java Concurrency in Practice</i> by Goetz et al as a good place to start."},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":0,"creation_date":1522004068,"post_id":49478495,"comment_id":85962076,"body_markdown":"What is on line 83?","body":"What is on line 83?"},{"owner":{"account_id":12473644,"reputation":155,"user_id":9080835,"accept_rate":0,"display_name":"RoboFlax"},"score":0,"creation_date":1522004353,"post_id":49478495,"comment_id":85962184,"body_markdown":"return ALIVE_PACKETS.get( node ); // in lastAlive() method","body":"return ALIVE_PACKETS.get( node ); // in lastAlive() method"},{"owner":{"account_id":12473644,"reputation":155,"user_id":9080835,"accept_rate":0,"display_name":"RoboFlax"},"score":0,"creation_date":1522073605,"post_id":49478495,"comment_id":85990635,"body_markdown":"Thanks to @DanielPryden pushing me in the right way!\nI&#39;ve found https://dzone.com/articles/concurrenthashmap-isnt-always-enough","body":"Thanks to @DanielPryden pushing me in the right way! I&#39;ve found <a href=\"https://dzone.com/articles/concurrenthashmap-isnt-always-enough\" rel=\"nofollow noreferrer\">dzone.com/articles/concurrenthashmap-isnt-always-enough</a>"}],"owner":{"account_id":12473644,"reputation":155,"user_id":9080835,"accept_rate":0,"display_name":"RoboFlax"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676997355,"creation_date":1521997583,"question_id":49478495,"body_markdown":"I&#39;m trying to have concurrency on a thread in my check-&quot;AliveSystem&quot; which is on every node in the cluster for sending alive-packets and checking if another node sent his alive-packet under the given time with max. 3 fails.\r\n\r\n`gotAlive()` is executed outside when got an alive-packet\r\n\r\n`addNode()` or `removeNode()` are executed when another node logs in/out\r\n\r\nBut when e.g. `removeNode()` is executed, so that `getNodes().isEmpty()` should be true because there are 100%ly no other nodes, then `getNodes().isEmpty()` still false\r\n\r\nMaybe for better understanding, here is an example:\r\n\r\n 1. node1 start\r\n 2. enable AliveSystem (on node1)\r\n 3. node2 start\r\n 4. enable AliveSystem (on node2)\r\n 5. `addNode(node1)` (on node2)\r\n 6. `addNode(node2)` (on node1)\r\n 7. stop node1\r\n 8. `removeNode(node1)` (on node2)\r\n 9. AliveSystem still check for node1 (on node2)\r\n\r\nThe AliveSystem class:\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.google.common.collect.Maps;\r\n    import lombok.extern.log4j.Log4j2;\r\n    import net.mypvp.cloud.cluster.packets.NodeAlivePacket;\r\n    import net.mypvp.core.network.redwork.RedworkManager;\r\n\r\n    import java.io.Closeable;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.function.Consumer;\r\n\r\n    @Log4j2\r\n    public class AliveSystem implements Closeable {\r\n        \r\n        // Period in millis for sending/receiving alive packets\r\n        private static final long DEFAULT_ALIVE_PERIOD = 2000L;\r\n        private static final int DEFAULT_CHECK_ALIVE_FAILS = 3;\r\n        \r\n        \r\n        private final String CHANNEL_TOPIC;\r\n        private final long ALIVE_PERIOD;\r\n        private final int CHECK_ALIVE_FAILS;\r\n        \r\n        private final ScheduledExecutorService SEND_NODE_ALIVE_SCHEDULER;\r\n        private final ScheduledExecutorService CHECK_NODES_ALIVE_SCHEDULER;\r\n        \r\n        // Map&lt;Node, last alive-packet millis&gt;&gt;\r\n        private final Map&lt;Node, Long&gt; ALIVE_PACKETS = Maps.newConcurrentMap();\r\n        // Map&lt;Node, Fails counter&gt;\r\n        private final Map&lt;Node, Integer&gt; FAILS = Maps.newConcurrentMap();\r\n        \r\n        /**\r\n         * Constructor.\r\n         *\r\n         * @param channelTopic      where to send the keep-alive-packets to\r\n         * @param nodeDeathConsumer consumer executed on node death\r\n         */\r\n        AliveSystem( String channelTopic, Consumer&lt;Node&gt; nodeDeathConsumer ) {\r\n            this( channelTopic, DEFAULT_ALIVE_PERIOD, DEFAULT_CHECK_ALIVE_FAILS, nodeDeathConsumer );\r\n        }\r\n        \r\n        /**\r\n         * Constructor.\r\n         *\r\n         * @param channelTopic      where to send the keep-alive-packets to\r\n         * @param alivePeriod       period to send new keep-alive-packet\r\n         * @param checkAliveFails   number of fails before node death\r\n         * @param nodeDeathConsumer consumer executed on node death\r\n         */\r\n        AliveSystem( String channelTopic, long alivePeriod, int checkAliveFails, Consumer&lt;Node&gt; nodeDeathConsumer ) {\r\n            CHANNEL_TOPIC = channelTopic;\r\n            ALIVE_PERIOD = alivePeriod;\r\n            CHECK_ALIVE_FAILS = checkAliveFails;\r\n            \r\n            // Send node alive scheduler.\r\n            SEND_NODE_ALIVE_SCHEDULER = Executors.newScheduledThreadPool( 5 );\r\n            SEND_NODE_ALIVE_SCHEDULER.scheduleAtFixedRate( ( ) -&gt; {\r\n                if ( getClusterManager().isNodeLoggedIn() &amp;&amp; !getNodes().isEmpty() )\r\n                    getRedwork().sendPacketAsync( new NodeAlivePacket(), CHANNEL_TOPIC );\r\n            }, 1L, ALIVE_PERIOD, TimeUnit.MILLISECONDS );\r\n            \r\n            // Receive node alive scheduler.\r\n            CHECK_NODES_ALIVE_SCHEDULER = Executors.newSingleThreadScheduledExecutor();\r\n            CHECK_NODES_ALIVE_SCHEDULER.scheduleAtFixedRate( ( ) -&gt; {\r\n                if ( getNodes().isEmpty() ) return;\r\n                long current = System.currentTimeMillis();\r\n                getNodes().forEach( node -&gt; {\r\n                    try {\r\n                        log.error( &quot;SYS: Check node {}&quot;, node.getNodeId() );\r\n                        \r\n                        // Check if alive packet got in time\r\n                        if ( current - lastAlive( node ) &lt;= ALIVE_PERIOD + 500L ) return;\r\n                        \r\n                        // Fail\r\n                        if ( addFail( node ) &lt; CHECK_ALIVE_FAILS ) return;\r\n                        \r\n                        // Max fails reached &gt; death\r\n                        gotAlive( node ); // reset stats\r\n                        nodeDeathConsumer.accept( node );\r\n                    } catch ( Exception e ) {\r\n                        e.printStackTrace();\r\n                    }\r\n                } );\r\n            }, 1L, ALIVE_PERIOD / 2L, TimeUnit.MILLISECONDS );\r\n        }\r\n        \r\n        void addNode( Node node ) {\r\n            gotAlive( node );\r\n        }\r\n        \r\n        void removeNode( Node node ) {\r\n            log.error( &quot;SYS: Removed node {}&quot;, node.getNodeId() );\r\n            ALIVE_PACKETS.remove( node );\r\n            FAILS.remove( node );\r\n            System.out.println( &quot;1STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\r\n        }\r\n        \r\n        void gotAlive( Node node ) {\r\n            ALIVE_PACKETS.put( node, System.currentTimeMillis() );\r\n            FAILS.put( node, 0 );\r\n        }\r\n        \r\n        private int addFail( Node node ) {\r\n            return FAILS.put( node, FAILS.get( node ) + 1 );\r\n        }\r\n        \r\n        private long lastAlive( Node node ) {\r\n            System.out.println( &quot;2STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\r\n            return ALIVE_PACKETS.get( node );\r\n        }\r\n        \r\n        private Set&lt;Node&gt; getNodes( ) {\r\n            System.out.println( &quot;3STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\r\n            return ALIVE_PACKETS.keySet();\r\n        }\r\n        \r\n        private ClusterManager getClusterManager( ) {\r\n            return ClusterManager.getInstance();\r\n        }\r\n        \r\n        private RedworkManager getRedwork( ) {\r\n            return getClusterManager().getRedwork();\r\n        }\r\n        \r\n        @Override\r\n        public void close( ) {\r\n            SEND_NODE_ALIVE_SCHEDULER.shutdownNow();\r\n            CHECK_NODES_ALIVE_SCHEDULER.shutdownNow();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nException:\r\n\r\n&lt;!-- language: error--&gt;\r\n\r\n\tjava.lang.NullPointerException\r\n\t\tat net.mypvp.cloud.cluster.AliveSystem.lambda$null$1(AliveSystem.java:83)\r\n\t\tat java.util.concurrent.ConcurrentHashMap$KeySetView.forEach(Unknown Source)\r\n\t\tat net.mypvp.cloud.cluster.AliveSystem.lambda$new$2(AliveSystem.java:78)\r\n\t\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\t\tat java.util.concurrent.FutureTask.runAndReset(Unknown Source)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source)\r\n\t\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\t\tat java.lang.Thread.run(Unknown Source)\r\n\tjava.lang.NullPointerException\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"ConcurrentMap is not concurrent? Can&#39;t remove a node from check-alive-system","body":"<p>I'm trying to have concurrency on a thread in my check-&quot;AliveSystem&quot; which is on every node in the cluster for sending alive-packets and checking if another node sent his alive-packet under the given time with max. 3 fails.</p>\n<p><code>gotAlive()</code> is executed outside when got an alive-packet</p>\n<p><code>addNode()</code> or <code>removeNode()</code> are executed when another node logs in/out</p>\n<p>But when e.g. <code>removeNode()</code> is executed, so that <code>getNodes().isEmpty()</code> should be true because there are 100%ly no other nodes, then <code>getNodes().isEmpty()</code> still false</p>\n<p>Maybe for better understanding, here is an example:</p>\n<ol>\n<li>node1 start</li>\n<li>enable AliveSystem (on node1)</li>\n<li>node2 start</li>\n<li>enable AliveSystem (on node2)</li>\n<li><code>addNode(node1)</code> (on node2)</li>\n<li><code>addNode(node2)</code> (on node1)</li>\n<li>stop node1</li>\n<li><code>removeNode(node1)</code> (on node2)</li>\n<li>AliveSystem still check for node1 (on node2)</li>\n</ol>\n<p>The AliveSystem class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.common.collect.Maps;\nimport lombok.extern.log4j.Log4j2;\nimport net.mypvp.cloud.cluster.packets.NodeAlivePacket;\nimport net.mypvp.core.network.redwork.RedworkManager;\n\nimport java.io.Closeable;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\nimport java.util.function.Consumer;\n\n@Log4j2\npublic class AliveSystem implements Closeable {\n    \n    // Period in millis for sending/receiving alive packets\n    private static final long DEFAULT_ALIVE_PERIOD = 2000L;\n    private static final int DEFAULT_CHECK_ALIVE_FAILS = 3;\n    \n    \n    private final String CHANNEL_TOPIC;\n    private final long ALIVE_PERIOD;\n    private final int CHECK_ALIVE_FAILS;\n    \n    private final ScheduledExecutorService SEND_NODE_ALIVE_SCHEDULER;\n    private final ScheduledExecutorService CHECK_NODES_ALIVE_SCHEDULER;\n    \n    // Map&lt;Node, last alive-packet millis&gt;&gt;\n    private final Map&lt;Node, Long&gt; ALIVE_PACKETS = Maps.newConcurrentMap();\n    // Map&lt;Node, Fails counter&gt;\n    private final Map&lt;Node, Integer&gt; FAILS = Maps.newConcurrentMap();\n    \n    /**\n     * Constructor.\n     *\n     * @param channelTopic      where to send the keep-alive-packets to\n     * @param nodeDeathConsumer consumer executed on node death\n     */\n    AliveSystem( String channelTopic, Consumer&lt;Node&gt; nodeDeathConsumer ) {\n        this( channelTopic, DEFAULT_ALIVE_PERIOD, DEFAULT_CHECK_ALIVE_FAILS, nodeDeathConsumer );\n    }\n    \n    /**\n     * Constructor.\n     *\n     * @param channelTopic      where to send the keep-alive-packets to\n     * @param alivePeriod       period to send new keep-alive-packet\n     * @param checkAliveFails   number of fails before node death\n     * @param nodeDeathConsumer consumer executed on node death\n     */\n    AliveSystem( String channelTopic, long alivePeriod, int checkAliveFails, Consumer&lt;Node&gt; nodeDeathConsumer ) {\n        CHANNEL_TOPIC = channelTopic;\n        ALIVE_PERIOD = alivePeriod;\n        CHECK_ALIVE_FAILS = checkAliveFails;\n        \n        // Send node alive scheduler.\n        SEND_NODE_ALIVE_SCHEDULER = Executors.newScheduledThreadPool( 5 );\n        SEND_NODE_ALIVE_SCHEDULER.scheduleAtFixedRate( ( ) -&gt; {\n            if ( getClusterManager().isNodeLoggedIn() &amp;&amp; !getNodes().isEmpty() )\n                getRedwork().sendPacketAsync( new NodeAlivePacket(), CHANNEL_TOPIC );\n        }, 1L, ALIVE_PERIOD, TimeUnit.MILLISECONDS );\n        \n        // Receive node alive scheduler.\n        CHECK_NODES_ALIVE_SCHEDULER = Executors.newSingleThreadScheduledExecutor();\n        CHECK_NODES_ALIVE_SCHEDULER.scheduleAtFixedRate( ( ) -&gt; {\n            if ( getNodes().isEmpty() ) return;\n            long current = System.currentTimeMillis();\n            getNodes().forEach( node -&gt; {\n                try {\n                    log.error( &quot;SYS: Check node {}&quot;, node.getNodeId() );\n                    \n                    // Check if alive packet got in time\n                    if ( current - lastAlive( node ) &lt;= ALIVE_PERIOD + 500L ) return;\n                    \n                    // Fail\n                    if ( addFail( node ) &lt; CHECK_ALIVE_FAILS ) return;\n                    \n                    // Max fails reached &gt; death\n                    gotAlive( node ); // reset stats\n                    nodeDeathConsumer.accept( node );\n                } catch ( Exception e ) {\n                    e.printStackTrace();\n                }\n            } );\n        }, 1L, ALIVE_PERIOD / 2L, TimeUnit.MILLISECONDS );\n    }\n    \n    void addNode( Node node ) {\n        gotAlive( node );\n    }\n    \n    void removeNode( Node node ) {\n        log.error( &quot;SYS: Removed node {}&quot;, node.getNodeId() );\n        ALIVE_PACKETS.remove( node );\n        FAILS.remove( node );\n        System.out.println( &quot;1STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\n    }\n    \n    void gotAlive( Node node ) {\n        ALIVE_PACKETS.put( node, System.currentTimeMillis() );\n        FAILS.put( node, 0 );\n    }\n    \n    private int addFail( Node node ) {\n        return FAILS.put( node, FAILS.get( node ) + 1 );\n    }\n    \n    private long lastAlive( Node node ) {\n        System.out.println( &quot;2STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\n        return ALIVE_PACKETS.get( node );\n    }\n    \n    private Set&lt;Node&gt; getNodes( ) {\n        System.out.println( &quot;3STILL NODES: &quot; + ALIVE_PACKETS.keySet() );\n        return ALIVE_PACKETS.keySet();\n    }\n    \n    private ClusterManager getClusterManager( ) {\n        return ClusterManager.getInstance();\n    }\n    \n    private RedworkManager getRedwork( ) {\n        return getClusterManager().getRedwork();\n    }\n    \n    @Override\n    public void close( ) {\n        SEND_NODE_ALIVE_SCHEDULER.shutdownNow();\n        CHECK_NODES_ALIVE_SCHEDULER.shutdownNow();\n    }\n}\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>java.lang.NullPointerException\n    at net.mypvp.cloud.cluster.AliveSystem.lambda$null$1(AliveSystem.java:83)\n    at java.util.concurrent.ConcurrentHashMap$KeySetView.forEach(Unknown Source)\n    at net.mypvp.cloud.cluster.AliveSystem.lambda$new$2(AliveSystem.java:78)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.runAndReset(Unknown Source)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(Unknown Source)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\njava.lang.NullPointerException\n</code></pre>\n\n"},{"tags":["java","android","checkbox"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643176997,"post_id":68388846,"comment_id":125267578,"body_markdown":"why dont you try using `androidx.appcompat.widget.AppCompatCheckBox`?","body":"why dont you try using <code>androidx.appcompat.widget.AppCompatCheckBox</code>?"},{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":0,"creation_date":1643182506,"post_id":68388846,"comment_id":125268762,"body_markdown":"@SambhavKhandelwal I&#39;m not the author of the question but the bounty-starter. I&#39;ve tried your suggestion, but it makes no difference in speed, unfortunately.","body":"@SambhavKhandelwal I&#39;m not the author of the question but the bounty-starter. I&#39;ve tried your suggestion, but it makes no difference in speed, unfortunately."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643185605,"post_id":68388846,"comment_id":125269717,"body_markdown":"I know.ok I will try other things and let you know","body":"I know.ok I will try other things and let you know"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643192527,"post_id":68388846,"comment_id":125272427,"body_markdown":"what about a `custom layout` with one `ImageView` and one `TextView`?","body":"what about a <code>custom layout</code> with one <code>ImageView</code> and one <code>TextView</code>?"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643192575,"post_id":68388846,"comment_id":125272440,"body_markdown":"how are you measuring the speed ?and what will happen if there is 200-300 mills lag?","body":"how are you measuring the speed ?and what will happen if there is 200-300 mills lag?"},{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":0,"creation_date":1643193241,"post_id":68388846,"comment_id":125272721,"body_markdown":"@SambhavKhandelwal I have a [`ListFragment`](https://developer.android.com/reference/androidx/fragment/app/ListFragment) (Fragment with a ListView) with a custom list item layout: `ConstraintLayout &gt; [Checkbox &lt;-&gt; TextView &lt;-&gt; ImageView]`. If the list gets loaded with a screen full of items (about 12 items) it&#39;s very slow and `I/Choreographer` often complains that it skipped from 50 to about 200 frames. If I replace the `CheckBox` with a `Switch`, the items load almost immediately and it never skips frames.","body":"@SambhavKhandelwal I have a <a href=\"https://developer.android.com/reference/androidx/fragment/app/ListFragment\" rel=\"nofollow noreferrer\"><code>ListFragment</code></a> (Fragment with a ListView) with a custom list item layout: <code>ConstraintLayout &gt; [Checkbox &lt;-&gt; TextView &lt;-&gt; ImageView]</code>. If the list gets loaded with a screen full of items (about 12 items) it&#39;s very slow and <code>I&#47;Choreographer</code> often complains that it skipped from 50 to about 200 frames. If I replace the <code>CheckBox</code> with a <code>Switch</code>, the items load almost immediately and it never skips frames."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643193690,"post_id":68388846,"comment_id":125272901,"body_markdown":"actually the reason is that checkbox has a very very big class.if you open it, you see thousands of lines of code! what about a `custom layout` with one `ImageView` and one `TextView? `‚Äì","body":"actually the reason is that checkbox has a very very big class.if you open it, you see thousands of lines of code! what about a <code>custom layout</code> with one <code>ImageView</code> and one <code>TextView? </code>‚Äì"},{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":0,"creation_date":1643194903,"post_id":68388846,"comment_id":125273377,"body_markdown":"@SambhavKhandelwal Ah, you mean create a custom checkbox by using an `ImageView` (for the box and check mark) and `TextView` (for the label)? If so: yeah, that could work of course, but before rolling my own, I was curious if somebody had some other ideas. Also: I&#39;ve opened the `CheckBox` class and with me it&#39;s only about 20 lines of code (just some constructors). And although it extends `CompoundButton`, so does `Switch`. So I don&#39;t understand why `CheckBox` is so slow. What class file did you look at? I looked at `Sdk/android-28/android/widget/CheckBox.java`.","body":"@SambhavKhandelwal Ah, you mean create a custom checkbox by using an <code>ImageView</code> (for the box and check mark) and <code>TextView</code> (for the label)? If so: yeah, that could work of course, but before rolling my own, I was curious if somebody had some other ideas. Also: I&#39;ve opened the <code>CheckBox</code> class and with me it&#39;s only about 20 lines of code (just some constructors). And although it extends <code>CompoundButton</code>, so does <code>Switch</code>. So I don&#39;t understand why <code>CheckBox</code> is so slow. What class file did you look at? I looked at <code>Sdk&#47;android-28&#47;android&#47;widget&#47;CheckBox.java</code>."},{"owner":{"account_id":7582065,"reputation":643,"user_id":5752473,"display_name":"I.Step"},"score":0,"creation_date":1643300222,"post_id":68388846,"comment_id":125308244,"body_markdown":"I tried to reproduce your situation but can not reproduce it.\nI get arround 40 - 50ms for both cases for switch and for checkbox. I tried with compileSdk 30 and compileSdk 32. On physical device Samsung Galaxy S20.\nCan you put more information with build.gradle and on which device was tested?","body":"I tried to reproduce your situation but can not reproduce it. I get arround 40 - 50ms for both cases for switch and for checkbox. I tried with compileSdk 30 and compileSdk 32. On physical device Samsung Galaxy S20. Can you put more information with build.gradle and on which device was tested?"}],"answers":[{"comments":[{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":0,"creation_date":1643212854,"post_id":70866207,"comment_id":125280708,"body_markdown":"Thanks so much for all your input. Great answer! I will definitively check out the component on GitHub, too. However, I still don&#39;t get why `CheckBox` lags so much and `Switch` does not, since both classes extend `CompoundButton`. Perhaps it has something to do with the layout file of `CheckBox`? Maybe that does some extremely complex stuff behind the scenes.","body":"Thanks so much for all your input. Great answer! I will definitively check out the component on GitHub, too. However, I still don&#39;t get why <code>CheckBox</code> lags so much and <code>Switch</code> does not, since both classes extend <code>CompoundButton</code>. Perhaps it has something to do with the layout file of <code>CheckBox</code>? Maybe that does some extremely complex stuff behind the scenes."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643296251,"post_id":70866207,"comment_id":125306456,"body_markdown":"i have now edited my answer and added why it lags.I guess you were checking the `java` class. But all the code i am talking about is the `xml`.","body":"i have now edited my answer and added why it lags.I guess you were checking the <code>java</code> class. But all the code i am talking about is the <code>xml</code>."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643350646,"post_id":70866207,"comment_id":125321152,"body_markdown":"does this clarify your question?","body":"does this clarify your question?"},{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":0,"creation_date":1643352474,"post_id":70866207,"comment_id":125321524,"body_markdown":"I can&#39;t seem to find the xml file that you are referring to in the SDK. What is the location of the xml file? The biggest files ending with `checkbox.xml` that I could find in the SDKs were only `1.6kB` large. Basically just one or two xml tags with some attributes, nothing more.","body":"I can&#39;t seem to find the xml file that you are referring to in the SDK. What is the location of the xml file? The biggest files ending with <code>checkbox.xml</code> that I could find in the SDKs were only <code>1.6kB</code> large. Basically just one or two xml tags with some attributes, nothing more."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643357382,"post_id":70866207,"comment_id":125322762,"body_markdown":"well.leave it. it took me a lot of time to find it. and now it is missing again.if I find, I will let you know","body":"well.leave it. it took me a lot of time to find it. and now it is missing again.if I find, I will let you know"},{"owner":{"account_id":55170,"reputation":22653,"user_id":165154,"accept_rate":79,"display_name":"Decent Dabbler"},"score":1,"creation_date":1643367950,"post_id":70866207,"comment_id":125326646,"body_markdown":"I decided to create a `CheckableImageView` class, because I didn&#39;t need a text label. It&#39;s based on bits and pieces of your answer and on `androidx.leanback.widget.CheckableImageView` that I accidentally came across while digging through the SDKs. And yeah, it works very smooth.","body":"I decided to create a <code>CheckableImageView</code> class, because I didn&#39;t need a text label. It&#39;s based on bits and pieces of your answer and on <code>androidx.leanback.widget.CheckableImageView</code> that I accidentally came across while digging through the SDKs. And yeah, it works very smooth."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1643374572,"post_id":70866207,"comment_id":125328976,"body_markdown":"glad you found a solution","body":"glad you found a solution"}],"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676997199,"creation_date":1643211893,"answer_id":70866207,"question_id":68388846,"body_markdown":"## Why does it happen ?\r\n---\r\nThis is happening because the `Checkbox` class is very complicated(too much useless code on the main thread).\r\n\r\n## What is the solution ?\r\n---\r\n1. You can create a custom layout.\r\n2. You can use a library.\r\n## How to implement ?\r\n---\r\n### 1.Custom layout\r\n* First create a `LinearLayout` with `horizontal` orientation.\r\n* Add an `ImageView` and a `TextView` in the xml.\r\n* Code reference\r\n```\r\n&lt;LinearLayout\r\n        android:id=&quot;@+id/checkbox&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;7dp&quot;&gt;\r\n        \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/checkImageView&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:src=&quot;@drawable/checked&quot;/&gt;\r\n        \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;This is the text for checkbox.&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginStart=&quot;15dp&quot;/&gt;\r\n        \r\n&lt;/LinearLayout&gt;\r\n```\r\n* Now the code for it to work.\r\n\r\nIn your class add this\r\n```\r\nboolean isChecked = true\r\n```\r\nNow it will function like this\r\n```\r\nLinearLayout checkBox = findViewById( R.id.checkbox );\r\n        ImageView checkBoxImage = findViewById( R.id.checkImageView );\r\n        checkBox.setOnClickListener( v -&gt; {\r\n            final Bitmap bmap = ((BitmapDrawable)checkBoxImage.getDrawable()).getBitmap();\r\n            Drawable myDrawable = getResources().getDrawable(R.drawable.checked);\r\n            final Bitmap myLogo = ((BitmapDrawable) myDrawable).getBitmap();\r\n            if (bmap.sameAs(myLogo)){\r\n                //it is checked\r\n                isChecked = false;\r\n                checkBoxImage.setImageResource( R.drawable.unchecked );\r\n            }else {\r\n                isChecked = true;\r\n                checkBoxImage.setImageResource( R.drawable.checked );\r\n            }\r\n        } );\r\n``` \r\n---\r\n### 2.Using a library\r\n* Use [this](https://github.com/iGenius-Srl/android-custom-checkbox) library.\r\n\r\n![](https://github.com/iGenius-Srl/android-custom-checkbox/blob/master/assets/smoothcb.gif?raw=true)\r\n\r\n### Sample usage\r\n\r\n```\r\nsetChecked(boolean checked); //by default, it&#39;s wthout animation\r\nsetChecked(boolean checked, boolean animate);  //pass true to animate\r\n```\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_sample);\r\n\r\n    final CustomCheckBox scb = (CustomCheckBox) findViewById(R.id.scb);\r\n    scb.setOnCheckedChangeListener(new CustomCheckBox.OnCheckedChangeListener() {\r\n        @Override\r\n        public void onCheckedChanged(CustomCheckBox checkBox, boolean isChecked) {\r\n            Log.d(&quot;CustomCheckBox&quot;, String.valueOf(isChecked));\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n### Attributes\r\n|Attr|Type|Description|\r\n|---|:---|:---:|\r\n|duration|integer|Animation Duration|\r\n|stroke_width|dimension|The border width when unchecked|\r\n|color_tick|color|Tick color (visible only when checked)|\r\n|color_checked|color|Fill color when selected|\r\n|color_unchecked|color|Fill color when unchecked|\r\n|color_unchecked_stroke|color|Border color when unchecked|\r\n\r\n## References\r\n---\r\n[Github](https://github.com/iGenius-Srl/android-custom-checkbox)\r\n\r\n## Edit 1 (27/1/22)\r\n---\r\nBecause of the comment received by `Decent Dabbler` , I now remember what it forgot. I actually forgot to mention that the file that takes too long to load is the `xml` file.This can be proved as we do not always use the class right? Just the view in the `xml`. If you open the `xml` file of the checkbox, you find it too big.\r\n","title":"Why checkbox of android is so slowÔºü","body":"<h2>Why does it happen ?</h2>\n<hr />\n<p>This is happening because the <code>Checkbox</code> class is very complicated(too much useless code on the main thread).</p>\n<h2>What is the solution ?</h2>\n<hr />\n<ol>\n<li>You can create a custom layout.</li>\n<li>You can use a library.</li>\n</ol>\n<h2>How to implement ?</h2>\n<hr />\n<h3>1.Custom layout</h3>\n<ul>\n<li>First create a <code>LinearLayout</code> with <code>horizontal</code> orientation.</li>\n<li>Add an <code>ImageView</code> and a <code>TextView</code> in the xml.</li>\n<li>Code reference</li>\n</ul>\n<pre><code>&lt;LinearLayout\n        android:id=&quot;@+id/checkbox&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;7dp&quot;&gt;\n        \n        &lt;ImageView\n            android:id=&quot;@+id/checkImageView&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:src=&quot;@drawable/checked&quot;/&gt;\n        \n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;This is the text for checkbox.&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;15dp&quot;/&gt;\n        \n&lt;/LinearLayout&gt;\n</code></pre>\n<ul>\n<li>Now the code for it to work.</li>\n</ul>\n<p>In your class add this</p>\n<pre><code>boolean isChecked = true\n</code></pre>\n<p>Now it will function like this</p>\n<pre><code>LinearLayout checkBox = findViewById( R.id.checkbox );\n        ImageView checkBoxImage = findViewById( R.id.checkImageView );\n        checkBox.setOnClickListener( v -&gt; {\n            final Bitmap bmap = ((BitmapDrawable)checkBoxImage.getDrawable()).getBitmap();\n            Drawable myDrawable = getResources().getDrawable(R.drawable.checked);\n            final Bitmap myLogo = ((BitmapDrawable) myDrawable).getBitmap();\n            if (bmap.sameAs(myLogo)){\n                //it is checked\n                isChecked = false;\n                checkBoxImage.setImageResource( R.drawable.unchecked );\n            }else {\n                isChecked = true;\n                checkBoxImage.setImageResource( R.drawable.checked );\n            }\n        } );\n</code></pre>\n<hr />\n<h3>2.Using a library</h3>\n<ul>\n<li>Use <a href=\"https://github.com/iGenius-Srl/android-custom-checkbox\" rel=\"nofollow noreferrer\">this</a> library.</li>\n</ul>\n<p><img src=\"https://github.com/iGenius-Srl/android-custom-checkbox/blob/master/assets/smoothcb.gif?raw=true\" alt=\"\" /></p>\n<h3>Sample usage</h3>\n<pre><code>setChecked(boolean checked); //by default, it's wthout animation\nsetChecked(boolean checked, boolean animate);  //pass true to animate\n</code></pre>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_sample);\n\n    final CustomCheckBox scb = (CustomCheckBox) findViewById(R.id.scb);\n    scb.setOnCheckedChangeListener(new CustomCheckBox.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(CustomCheckBox checkBox, boolean isChecked) {\n            Log.d(&quot;CustomCheckBox&quot;, String.valueOf(isChecked));\n        }\n    });\n}\n</code></pre>\n<h3>Attributes</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Attr</th>\n<th style=\"text-align: left;\">Type</th>\n<th style=\"text-align: center;\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>duration</td>\n<td style=\"text-align: left;\">integer</td>\n<td style=\"text-align: center;\">Animation Duration</td>\n</tr>\n<tr>\n<td>stroke_width</td>\n<td style=\"text-align: left;\">dimension</td>\n<td style=\"text-align: center;\">The border width when unchecked</td>\n</tr>\n<tr>\n<td>color_tick</td>\n<td style=\"text-align: left;\">color</td>\n<td style=\"text-align: center;\">Tick color (visible only when checked)</td>\n</tr>\n<tr>\n<td>color_checked</td>\n<td style=\"text-align: left;\">color</td>\n<td style=\"text-align: center;\">Fill color when selected</td>\n</tr>\n<tr>\n<td>color_unchecked</td>\n<td style=\"text-align: left;\">color</td>\n<td style=\"text-align: center;\">Fill color when unchecked</td>\n</tr>\n<tr>\n<td>color_unchecked_stroke</td>\n<td style=\"text-align: left;\">color</td>\n<td style=\"text-align: center;\">Border color when unchecked</td>\n</tr>\n</tbody>\n</table>\n</div><h2>References</h2>\n<hr />\n<p><a href=\"https://github.com/iGenius-Srl/android-custom-checkbox\" rel=\"nofollow noreferrer\">Github</a></p>\n<h2>Edit 1 (27/1/22)</h2>\n<hr />\n<p>Because of the comment received by <code>Decent Dabbler</code> , I now remember what it forgot. I actually forgot to mention that the file that takes too long to load is the <code>xml</code> file.This can be proved as we do not always use the class right? Just the view in the <code>xml</code>. If you open the <code>xml</code> file of the checkbox, you find it too big.</p>\n"}],"owner":{"account_id":21558803,"reputation":41,"user_id":15893632,"display_name":"zlebhs"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676997199,"creation_date":1626329989,"question_id":68388846,"body_markdown":"Today, I used an Android machine with poor performance. I found the checkbox loading is very slow.\r\nFor example:\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;CheckBox\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n&lt;/LinearLayout&gt;\r\n```\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        long t1 = System.currentTimeMillis();\r\n        setContentView(R.layout.activity_main);\r\n        System.out.println(&quot;main cost: &quot; + (System.currentTimeMillis()  - t1));\r\n    }\r\n}\r\n```\r\nThere is only one Checkbox in the page, this will cost 200ms. If there are 3 or 5 checkbox in activity_main.xml, will cost 1s. What happend?\r\n\r\nI compared Switch to Checkbox. Obviously Switch is very very better than Checkbox. If i want to keep to use Checkbox, what should i do?","title":"Why checkbox of android is so slowÔºü","body":"<p>Today, I used an Android machine with poor performance. I found the checkbox loading is very slow.\nFor example:</p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;CheckBox\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n    \n&lt;/LinearLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        long t1 = System.currentTimeMillis();\n        setContentView(R.layout.activity_main);\n        System.out.println(&quot;main cost: &quot; + (System.currentTimeMillis()  - t1));\n    }\n}\n</code></pre>\n<p>There is only one Checkbox in the page, this will cost 200ms. If there are 3 or 5 checkbox in activity_main.xml, will cost 1s. What happend?</p>\n<p>I compared Switch to Checkbox. Obviously Switch is very very better than Checkbox. If i want to keep to use Checkbox, what should i do?</p>\n"},{"tags":["java","jms","activemq"],"comments":[{"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"score":0,"creation_date":1676994493,"post_id":75522526,"comment_id":133247098,"body_markdown":"@JustinBertram 5.16.1 - limited to this release due to internal repos.","body":"@JustinBertram 5.16.1 - limited to this release due to internal repos."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676999207,"post_id":75522526,"comment_id":133248644,"body_markdown":"Any update here about the code you&#39;re actually using?","body":"Any update here about the code you&#39;re actually using?"},{"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"score":0,"creation_date":1676999491,"post_id":75522526,"comment_id":133248728,"body_markdown":"it still won&#39;t allow me to edit my question.","body":"it still won&#39;t allow me to edit my question."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1677000302,"post_id":75522526,"comment_id":133248961,"body_markdown":"Perhaps just delete this one and create a new one with all the necessary details. For what it&#39;s worth I&#39;ve edited your question several times now without issue. Perhaps you&#39;ve got another window/tab open with an edit underway?","body":"Perhaps just delete this one and create a new one with all the necessary details. For what it&#39;s worth I&#39;ve edited your question several times now without issue. Perhaps you&#39;ve got another window/tab open with an edit underway?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1677555299,"post_id":75522526,"comment_id":133356821,"body_markdown":"Did you ever get this sorted?","body":"Did you ever get this sorted?"},{"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"score":0,"creation_date":1679948990,"post_id":75522526,"comment_id":133809660,"body_markdown":"@JustinBertram Unfortunately I wasn&#39;t able to find a solution to this before leaving the project. I no longer have access to it so I can&#39;t tell you what solution was implemented.","body":"@JustinBertram Unfortunately I wasn&#39;t able to find a solution to this before leaving the project. I no longer have access to it so I can&#39;t tell you what solution was implemented."}],"answers":[{"comments":[{"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"score":0,"creation_date":1676994776,"post_id":75522821,"comment_id":133247199,"body_markdown":"I can&#39;t add anymore code to the post as it is locked due to pending edits. However, I am creating the subscriber before sending the message.","body":"I can&#39;t add anymore code to the post as it is locked due to pending edits. However, I am creating the subscriber before sending the message."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676994959,"post_id":75522821,"comment_id":133247252,"body_markdown":"You should definitely include the code that is using `send` and `receive` to clarify the order of operations.","body":"You should definitely include the code that is using <code>send</code> and <code>receive</code> to clarify the order of operations."},{"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"score":0,"creation_date":1676996263,"post_id":75522821,"comment_id":133247684,"body_markdown":"Is there a good resource for creating an async receive method? I think that may be the issue.","body":"Is there a good resource for creating an async receive method? I think that may be the issue."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1676996364,"post_id":75522821,"comment_id":133247714,"body_markdown":"What do you mean &quot;a good resource&quot;? Do you mean a good resource in the JMS API itself (i.e. `javax.jms.MessageListener`) or a good documentation resource?","body":"What do you mean &quot;a good resource&quot;? Do you mean a good resource in the JMS API itself (i.e. <code>javax.jms.MessageListener</code>) or a good documentation resource?"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676997198,"creation_date":1676994607,"answer_id":75522821,"question_id":75522526,"body_markdown":"I believe the problem is that you&#39;re sending your message to a JMS **topic** and *then* creating a subscriber on the topic to the receive the message you just sent. JMS topics follow normal pub/sub semantics which means that the subscription must exist *before* a message is sent.\r\n\r\nAlso, when the consumer doesn&#39;t receive a message it is simply blocking forever, i.e.:\r\n```java\r\nMessage message = consumer.receive();\r\n```\r\nYou might consider using a timeout and logging an error or throwing an exception, e.g.:\r\n```java\r\nMessage message = consumer.receive(500);\r\nif (message == null) {\r\n   throw new IllegalStateException(&quot;Did not receive message!&quot;);\r\n}\r\n```","title":"ActiveMQ message not being recieved when sent via Java, but does work when using the web console","body":"<p>I believe the problem is that you're sending your message to a JMS <strong>topic</strong> and <em>then</em> creating a subscriber on the topic to the receive the message you just sent. JMS topics follow normal pub/sub semantics which means that the subscription must exist <em>before</em> a message is sent.</p>\n<p>Also, when the consumer doesn't receive a message it is simply blocking forever, i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message message = consumer.receive();\n</code></pre>\n<p>You might consider using a timeout and logging an error or throwing an exception, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message message = consumer.receive(500);\nif (message == null) {\n   throw new IllegalStateException(&quot;Did not receive message!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":7100370,"reputation":597,"user_id":5432208,"accept_rate":62,"display_name":"Remixt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522821,"answer_count":1,"score":0,"last_activity_date":1676997198,"creation_date":1676993087,"question_id":75522526,"body_markdown":"I have a service set up to send and receive messages via ActiveMQ 5.16.1, and I plan on implementing other messaging services later such as Apache Kafka.\r\n\r\nWhen I call the send and receive functions below, the receive function stalls and I have to manually close the program. However, when I use the ActiveMQ web console to send a message the receive function works.\r\n\r\n```java\r\nimport javax.jms.*;\r\nimport org.apache.activemq.ActiveMQConnectionFactory;\r\nimport arc.ipc.IService;\r\n\r\npublic class ActiveMQService&lt;K, V&gt; implements IService&lt;K, V&gt; {\r\n    private String brokerAddress;\r\n    private ConnectionFactory connectionFactory;\r\n    private Connection connection;\r\n    private Session session;\r\n\r\n    public ActiveMQService(String brokerAddress) {\r\n        this.brokerAddress = brokerAddress;\r\n    }\r\n\r\n    @Override\r\n    public void send(String topic,V value) throws JMSException {\r\n        Destination destination = session.createTopic(topic);\r\n        MessageProducer producer = session.createProducer(destination);\r\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n        TextMessage message = session.createTextMessage(value.toString());\r\n        producer.send(message);\r\n    }\r\n\r\n    @Override\r\n    public String receive(String topic) throws JMSException {\r\n        Destination destination = session.createTopic(topic);\r\n        MessageConsumer consumer = session.createConsumer(destination);\r\n        Message message = consumer.receive();\r\n        if (message instanceof TextMessage) {\r\n            TextMessage textMessage = (TextMessage) message;\r\n            return textMessage.getText();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void connect() throws JMSException {\r\n        connectionFactory = new ActiveMQConnectionFactory(brokerAddress);\r\n        connection = connectionFactory.createConnection();\r\n        connection.start();\r\n        session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\r\n    }\r\n\r\n    @Override\r\n    public void disconnect() throws JMSException {\r\n        if (session != null) {\r\n            session.close();\r\n        }\r\n        if (connection != null) {\r\n            connection.close();\r\n        }\r\n    }\r\n}\r\n```","title":"ActiveMQ message not being recieved when sent via Java, but does work when using the web console","body":"<p>I have a service set up to send and receive messages via ActiveMQ 5.16.1, and I plan on implementing other messaging services later such as Apache Kafka.</p>\n<p>When I call the send and receive functions below, the receive function stalls and I have to manually close the program. However, when I use the ActiveMQ web console to send a message the receive function works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.jms.*;\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport arc.ipc.IService;\n\npublic class ActiveMQService&lt;K, V&gt; implements IService&lt;K, V&gt; {\n    private String brokerAddress;\n    private ConnectionFactory connectionFactory;\n    private Connection connection;\n    private Session session;\n\n    public ActiveMQService(String brokerAddress) {\n        this.brokerAddress = brokerAddress;\n    }\n\n    @Override\n    public void send(String topic,V value) throws JMSException {\n        Destination destination = session.createTopic(topic);\n        MessageProducer producer = session.createProducer(destination);\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n        TextMessage message = session.createTextMessage(value.toString());\n        producer.send(message);\n    }\n\n    @Override\n    public String receive(String topic) throws JMSException {\n        Destination destination = session.createTopic(topic);\n        MessageConsumer consumer = session.createConsumer(destination);\n        Message message = consumer.receive();\n        if (message instanceof TextMessage) {\n            TextMessage textMessage = (TextMessage) message;\n            return textMessage.getText();\n        }\n        return null;\n    }\n\n    @Override\n    public void connect() throws JMSException {\n        connectionFactory = new ActiveMQConnectionFactory(brokerAddress);\n        connection = connectionFactory.createConnection();\n        connection.start();\n        session = connection.createSession(true, Session.AUTO_ACKNOWLEDGE);\n    }\n\n    @Override\n    public void disconnect() throws JMSException {\n        if (session != null) {\n            session.close();\n        }\n        if (connection != null) {\n            connection.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","streaming","screen-capture"],"comments":[{"owner":{"account_id":9566246,"reputation":347,"user_id":7105441,"display_name":"Chaitanya Vaishampayan"},"score":0,"creation_date":1573479387,"post_id":49480257,"comment_id":103884798,"body_markdown":"I tried to do the same. Well, you are just trying to reimplement RDP in java and existing RDP clients such as teamviewer and all use their own proprietary methods for compression.\n\nBTW, don&#39;t write the image data to a file, instead, use rasters to access image pixel data and send it over socket. That will be much faster. You can also save the last image into another byte array and send the difference between last value of a pixel to current value of a pixel, that will be faster as the data to send will be less.","body":"I tried to do the same. Well, you are just trying to reimplement RDP in java and existing RDP clients such as teamviewer and all use their own proprietary methods for compression.  BTW, don&#39;t write the image data to a file, instead, use rasters to access image pixel data and send it over socket. That will be much faster. You can also save the last image into another byte array and send the difference between last value of a pixel to current value of a pixel, that will be faster as the data to send will be less."}],"answers":[{"tags":[],"owner":{"account_id":13224021,"reputation":984,"user_id":9549750,"display_name":"jukzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522047467,"creation_date":1522047467,"answer_id":49485598,"question_id":49480257,"body_markdown":"You are trying todo what VNC does. See\r\nhttps://de.wikipedia.org/wiki/Virtual_Network_Computing you may look into a VNC implementation for actual code. The compression is not that easy. Since it needs to be fast (relatime) and offer a good compression ratio over slow networks.","title":"Java screen streaming","body":"<p>You are trying todo what VNC does. See\n<a href=\"https://de.wikipedia.org/wiki/Virtual_Network_Computing\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/Virtual_Network_Computing</a> you may look into a VNC implementation for actual code. The compression is not that easy. Since it needs to be fast (relatime) and offer a good compression ratio over slow networks.</p>\n"}],"owner":{"account_id":13223363,"reputation":1,"user_id":9549340,"display_name":"mein Kanal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676997171,"creation_date":1522007522,"question_id":49480257,"body_markdown":"I&#39;m trying to stream a part of my Screen to another Computer using Java. I&#39;ve already tried to use a robot to make Screenshots in an interval controlled by a timer, which worked well. But the Streaming doesn&#39;t work well with ImageIO and an Image Stream. There&#39;s just a too low Framerate. I&#39;ve already searched around, but all I could find where similar problems. \r\n\r\nMy Questions are:\r\n\r\n- Is there a library to compress the images created from the robot?\r\n\r\n- Has anyone done something like this before?\r\n\r\n- Am I doing this completely wrong and there is a better way?","title":"Java screen streaming","body":"<p>I'm trying to stream a part of my Screen to another Computer using Java. I've already tried to use a robot to make Screenshots in an interval controlled by a timer, which worked well. But the Streaming doesn't work well with ImageIO and an Image Stream. There's just a too low Framerate. I've already searched around, but all I could find where similar problems.</p>\n<p>My Questions are:</p>\n<ul>\n<li><p>Is there a library to compress the images created from the robot?</p>\n</li>\n<li><p>Has anyone done something like this before?</p>\n</li>\n<li><p>Am I doing this completely wrong and there is a better way?</p>\n</li>\n</ul>\n"},{"tags":["java","android","gradle","kotlin","facebook-sdk-4.0"],"comments":[{"owner":{"account_id":6682169,"reputation":1543,"user_id":5154891,"display_name":"Thomas Mary"},"score":1,"creation_date":1522053830,"post_id":49487271,"comment_id":85977113,"body_markdown":"Possible duplicate of [Gradle Error : Duplicate value for resource &#39;attr/font&#39; with config &quot; solutions not working](https://stackoverflow.com/questions/48988489/gradle-error-duplicate-value-for-resource-attr-font-with-config-solutions)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/48988489/gradle-error-duplicate-value-for-resource-attr-font-with-config-solutions\">Gradle Error : Duplicate value for resource &#39;attr/font&#39; with config &quot; solutions not working</a>"},{"owner":{"account_id":11013148,"reputation":5634,"user_id":8089770,"display_name":"Vidhi Dave"},"score":0,"creation_date":1522053847,"post_id":49487271,"comment_id":85977128,"body_markdown":"https://stackoverflow.com/a/47753465/8089770","body":"<a href=\"https://stackoverflow.com/a/47753465/8089770\">stackoverflow.com/a/47753465/8089770</a>"},{"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"score":0,"creation_date":1522054821,"post_id":49487271,"comment_id":85977752,"body_markdown":"I already tried their solution, not working for me","body":"I already tried their solution, not working for me"}],"owner":{"account_id":11299660,"reputation":1493,"user_id":8286029,"accept_rate":0,"display_name":"Mathieu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676997139,"creation_date":1522053727,"question_id":49487271,"body_markdown":"I am trying to use Facebook login API, but when I write the &quot;implementation&quot; in gradle file, I get an error:\r\n\r\n&gt;Error:(252, 5) error: duplicate value for resource &#39;attr/font&#39; with config &#39;&#39;.  \r\n&gt;Error:(252, 5) error: resource previously defined here.\r\n\r\nWhen I click on &quot;Jump to source&quot;, Android Studio brings me in a file &quot;values.xml&quot;, a non-writable file, that looks like this:\r\n\r\n    // More stuff above, the following line is where the error brings me\r\n    &lt;dimen name=&quot;abc_action_bar_content_inset_material&quot;&gt;16dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;abc_action_bar_content_inset_with_nav&quot;&gt;72dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;abc_action_bar_default_height_material&quot;&gt;56dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;abc_action_bar_default_padding_end_material&quot;&gt;0dp&lt;/dimen&gt;\r\n    &lt;dimen name=&quot;abc_action_bar_default_padding_start_material&quot;&gt;0dp&lt;/dimen&gt;\r\n    // More stuff\r\n\r\nHere is my &#39;app&#39; build.gradle:\r\n\r\n```\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;kotlin-android&#39;\r\n    apply plugin: &#39;kotlin-kapt&#39;\r\n\r\n    android {\r\n        compileSdkVersion 27\r\n        buildToolsVersion &#39;26.0.2&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.discodery.android.discoderyapp&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 27\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            buildTypes.each {\r\n                it.buildConfigField &#39;Integer&#39;, &#39;RESTAURANT_ID&#39;, &#39;2&#39;\r\n            }\r\n        }\r\n        /*\r\n        productFlavors {\r\n            dev {\r\n\r\n            }\r\n            prod {\r\n\r\n            }\r\n        }*/\r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n    }\r\n\r\n    kapt {\r\n        generateStubs = true\r\n\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\r\n        compile &#39;com.mikhaellopez:circularimageview:3.0.2&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n\r\n        //Permissions\r\n\r\n        compile &#39;com.beust:klaxon:2.0.11&#39;\r\n        compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n        compile &#39;com.android.support:appcompat-v7:25.3.1&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        compile &#39;io.reactivex:rxandroid:1.2.1&#39;\r\n        compile &#39;io.reactivex:rxjava:1.1.6&#39;\r\n        compile &#39;com.hwangjr.rxbus:rxbus:1.0.5&#39;\r\n        compile &#39;org.parceler:parceler-api:1.1.6&#39;\r\n        compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n        compile &#39;com.squareup.retrofit2:adapter-rxjava:2.1.0&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.4.1&#39;\r\n        compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp-urlconnection:3.4.1&#39;\r\n        compile &#39;com.android.support:design:25.3.1&#39;\r\n        compile &#39;com.android.support:support-v4:25.3.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:25.3.1&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:25.3.1&#39;\r\n        compile &#39;com.google.dagger:dagger:2.7&#39;\r\n        compile &#39;com.facebook.fresco:fresco:1.0.0&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        compile &#39;com.daimajia.slider:library:1.1.5@aar&#39;\r\n        compile &#39;com.karumi:dexter:2.3.1&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        kapt &#39;com.android.databinding:compiler:2.3.0&#39;\r\n        kapt &#39;org.parceler:parceler:1.1.6&#39;\r\n        kapt &#39;com.google.dagger:dagger-compiler:2.7&#39;\r\n\r\n        compile &#39;com.google.android.gms:play-services-vision:11.6.0&#39;\r\n\r\n        // Facebook SDK Core only (Analytics)\r\n        implementation &#39;com.facebook.android:facebook-core:4.+&#39;\r\n        // Facebook Login only\r\n        implementation &#39;com.facebook.android:facebook-login:4.+&#39;\r\n        // Facebook Share only\r\n        implementation &#39;com.facebook.android:facebook-share:4.+&#39;\r\n        // Facebook Places only\r\n        implementation &#39;com.facebook.android:facebook-places:4.+&#39;\r\n        // Facbeook Messenger only\r\n        implementation &#39;com.facebook.android:facebook-messenger:4.+&#39;\r\n        // Facebook App Links only\r\n        implementation &#39;com.facebook.android:facebook-applinks:4.+&#39;\r\n        // Facebook Android SDK (everything)\r\n        implementation &#39;com.facebook.android:facebook-android-sdk:4.+&#39;\r\n        // Audience Network SDK. Only versions 4.6.0 and above are available\r\n        implementation &#39;com.facebook.android:audience-network-sdk:4.+&#39;\r\n        // Account Kit\r\n        implementation &#39;com.facebook.android:account-kit-sdk:4.+&#39;\r\n    }\r\n    repositories {\r\n        jcenter()\r\n        mavenCentral()\r\n    }\r\n\r\n    apply plugin: &#39;kotlin-android-extensions&#39;\r\n```\r\n\r\nDoes someone have an idea about which &quot;implementation&quot; or &quot;compile&quot; line it could be from?\r\nWithout the Facebook SDK implementation lines, the project does compile and works properly.\r\n\r\nAs the logs tell me &quot;duplicate value&quot;, I think that Facebook SKDs create some values like strings, that have exactly the same id or name that an other SDK.\r\n\r\nDoes anyone have a solution for this?\r\n\r\nEDIT\r\n\r\nThe question concern the compatibility errors with Facebook SDK.\r\nIs there a way to see if a dependency is or is not compatible with another one?","title":"Facebook sdk conflict, compatibility error ? - Duplicate value for resource &#39;attr/font&#39; with config &quot;","body":"<p>I am trying to use Facebook login API, but when I write the &quot;implementation&quot; in gradle file, I get an error:</p>\n<blockquote>\n<p>Error:(252, 5) error: duplicate value for resource 'attr/font' with config ''.<br />\nError:(252, 5) error: resource previously defined here.</p>\n</blockquote>\n<p>When I click on &quot;Jump to source&quot;, Android Studio brings me in a file &quot;values.xml&quot;, a non-writable file, that looks like this:</p>\n<pre><code>// More stuff above, the following line is where the error brings me\n&lt;dimen name=&quot;abc_action_bar_content_inset_material&quot;&gt;16dp&lt;/dimen&gt;\n&lt;dimen name=&quot;abc_action_bar_content_inset_with_nav&quot;&gt;72dp&lt;/dimen&gt;\n&lt;dimen name=&quot;abc_action_bar_default_height_material&quot;&gt;56dp&lt;/dimen&gt;\n&lt;dimen name=&quot;abc_action_bar_default_padding_end_material&quot;&gt;0dp&lt;/dimen&gt;\n&lt;dimen name=&quot;abc_action_bar_default_padding_start_material&quot;&gt;0dp&lt;/dimen&gt;\n// More stuff\n</code></pre>\n<p>Here is my 'app' build.gradle:</p>\n<pre><code>    apply plugin: 'com.android.application'\n    apply plugin: 'kotlin-android'\n    apply plugin: 'kotlin-kapt'\n\n    android {\n        compileSdkVersion 27\n        buildToolsVersion '26.0.2'\n        defaultConfig {\n            applicationId &quot;com.discodery.android.discoderyapp&quot;\n            minSdkVersion 16\n            targetSdkVersion 27\n            versionCode 1\n            versionName &quot;1.0&quot;\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n            vectorDrawables.useSupportLibrary = true\n        }\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            }\n            buildTypes.each {\n                it.buildConfigField 'Integer', 'RESTAURANT_ID', '2'\n            }\n        }\n        /*\n        productFlavors {\n            dev {\n\n            }\n            prod {\n\n            }\n        }*/\n        dataBinding {\n            enabled = true\n        }\n    }\n\n    kapt {\n        generateStubs = true\n\n    }\n\n    dependencies {\n        compile fileTree(dir: 'libs', include: ['*.jar'])\n        androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n            exclude group: 'com.android.support', module: 'support-annotations'\n        })\n        compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n        compile 'com.mikhaellopez:circularimageview:3.0.2'\n        compile 'de.hdodenhof:circleimageview:2.2.0'\n\n        //Permissions\n\n        compile 'com.beust:klaxon:2.0.11'\n        compile 'com.android.support:appcompat-v7:25.3.1'\n        compile 'com.android.support:appcompat-v7:25.3.1'\n        compile 'com.android.support.constraint:constraint-layout:1.0.2'\n        compile 'io.reactivex:rxandroid:1.2.1'\n        compile 'io.reactivex:rxjava:1.1.6'\n        compile 'com.hwangjr.rxbus:rxbus:1.0.5'\n        compile 'org.parceler:parceler-api:1.1.6'\n        compile 'com.squareup.retrofit2:retrofit:2.1.0'\n        compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n        compile 'com.squareup.retrofit2:adapter-rxjava:2.1.0'\n        compile 'com.squareup.okhttp3:okhttp:3.4.1'\n        compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n        compile 'com.squareup.okhttp3:okhttp-urlconnection:3.4.1'\n        compile 'com.android.support:design:25.3.1'\n        compile 'com.android.support:support-v4:25.3.1'\n        compile 'com.android.support:cardview-v7:25.3.1'\n        compile 'com.android.support:recyclerview-v7:25.3.1'\n        compile 'com.google.dagger:dagger:2.7'\n        compile 'com.facebook.fresco:fresco:1.0.0'\n        compile 'com.squareup.picasso:picasso:2.5.2'\n        compile 'com.nineoldandroids:library:2.4.0'\n        compile 'com.daimajia.slider:library:1.1.5@aar'\n        compile 'com.karumi:dexter:2.3.1'\n        testCompile 'junit:junit:4.12'\n        kapt 'com.android.databinding:compiler:2.3.0'\n        kapt 'org.parceler:parceler:1.1.6'\n        kapt 'com.google.dagger:dagger-compiler:2.7'\n\n        compile 'com.google.android.gms:play-services-vision:11.6.0'\n\n        // Facebook SDK Core only (Analytics)\n        implementation 'com.facebook.android:facebook-core:4.+'\n        // Facebook Login only\n        implementation 'com.facebook.android:facebook-login:4.+'\n        // Facebook Share only\n        implementation 'com.facebook.android:facebook-share:4.+'\n        // Facebook Places only\n        implementation 'com.facebook.android:facebook-places:4.+'\n        // Facbeook Messenger only\n        implementation 'com.facebook.android:facebook-messenger:4.+'\n        // Facebook App Links only\n        implementation 'com.facebook.android:facebook-applinks:4.+'\n        // Facebook Android SDK (everything)\n        implementation 'com.facebook.android:facebook-android-sdk:4.+'\n        // Audience Network SDK. Only versions 4.6.0 and above are available\n        implementation 'com.facebook.android:audience-network-sdk:4.+'\n        // Account Kit\n        implementation 'com.facebook.android:account-kit-sdk:4.+'\n    }\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    apply plugin: 'kotlin-android-extensions'\n</code></pre>\n<p>Does someone have an idea about which &quot;implementation&quot; or &quot;compile&quot; line it could be from?\nWithout the Facebook SDK implementation lines, the project does compile and works properly.</p>\n<p>As the logs tell me &quot;duplicate value&quot;, I think that Facebook SKDs create some values like strings, that have exactly the same id or name that an other SDK.</p>\n<p>Does anyone have a solution for this?</p>\n<p>EDIT</p>\n<p>The question concern the compatibility errors with Facebook SDK.\nIs there a way to see if a dependency is or is not compatible with another one?</p>\n"},{"tags":["java","object","jpanel","repaint","pong"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1677297049,"post_id":75523200,"comment_id":133315103,"body_markdown":"Welcome to StackOverflow. Please read [ask] and edit your question by shrinking your code to a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Welcome to StackOverflow. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and edit your question by shrinking your code to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676996874,"creation_date":1676996627,"question_id":75523200,"body_markdown":"I am making a pong game and I am trying to repaint the board whenever a key input is taken but I cannot make it work. I have a work around but that way the code won&#39;t work as I want it too(Key event in Board class)\r\n\r\n\r\n\r\n```\r\npublic class Pong {\r\n\r\n\t Board board = new Board();  \r\n\r\n\t\r\n\tpublic void frame() {\r\n\t   \t JFrame b = new JFrame(&quot;Pong&quot;);\r\n     \t b.setSize(905,705);\r\n     \t b.setLocation(300,60);\r\n     \t b.setResizable(false);\r\n       \t b.setVisible(true);\r\n      \t b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \t  \r\n      \t b.add(board);\r\n\t\t\r\n\r\n      \t \r\n\r\n\t}\r\n\r\n\tpublic static  void main(String[] args) {\r\n\t\tPong start = new Pong();\r\n\t\tstart.frame();\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n```\r\nThe board class. essentially trying to make it more or less just a draw things class.\r\n\r\n```\r\npublic class Board extends JPanel{\r\n\tPlayer player = new Player();\r\npublic int x = 45;\r\n\t   public int playerScore = 0;\r\n\t   public int opponentScore = 0;\r\n\t   //Opponent opponent = new Opponent();\r\n\t   int test = 1;\r\n\t   private Timer timer;\r\n\tprivate int snakeDelay = 50;\r\n       public Board(){\r\n\t\taddKeyListener(new Player());\r\n        //addKeyListener(this);\r\n        setFocusable(true);\r\n        //timer = new Timer(snakeDelay, this);\r\n        //timer.start();\r\n\r\n    }\r\n\r\n\r\n\r\n\tpublic void paint(Graphics g) {\r\n\r\n\t\t   board(g);\r\n\t\t   g.setColor(Color.WHITE);\r\n\t\t  // player.playerGenerate();\r\n\t\t   //g2d.fill(opponent.opponent);\r\n\r\n\t\t\r\n\t\t\tg.fillRect(player.playerXpos,player.playerYpos,player.playerWidth,player.playerHeight);\r\n\r\n\t\t  repaint();\r\n\t\t   }\r\n\t\t   \r\n\t   public void board(Graphics g) {\r\n\t\t   Graphics2D g2d = (Graphics2D) g;\r\n\t\t   \r\n\t\t\tg.setColor(Color.black);\r\n\t\t    g.fillRect(0, 0, 900, 900);\r\n\t\t    Stroke stroke1 = new BasicStroke(4f);\r\n\t\t    \r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    g2d.setStroke(stroke1);\r\n\t\t     \r\n\t\t    g2d.drawRect(20, 50, 850, 600);\r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    \r\n\t\t    float[] dashingPattern2 = {10f, 4f};\r\n\t\t    Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n\t\t            BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n\t\t     \r\n\t\t    g2d.setStroke(stroke2);\r\n\t\t    g2d.drawLine(435, 50, 435, 650);\r\n\t\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n\t\t    g.drawString(&quot;&quot;+playerScore, 20, 35);\r\n\t\t    g.drawString(&quot;&quot;+opponentScore, 855, 35);\r\n\t\t  \r\n\r\n\r\n\t   }\r\n          public static void getPlayer(int a, int b,int c, int d){\r\n\t\t\t\t\r\n\t\t  }\r\n  \r\n\r\n      \r\n\r\n}\r\n```\r\nAnd the player class where I wanna have essentially everything that controls the player.\r\n```\r\npublic class Player extends JPanel, Board implements KeyListener{\r\n\t//Board theBoard = new Board();\t   \r\n\r\n\tpublic boolean down = false;\r\n\tpublic boolean up = false;\r\n\tpublic int playerXpos = 45;\r\n\tpublic int playerYpos = 300;\r\n\tpublic int playerWidth = 15;\r\n\tpublic int playerHeight = 80;\r\n\tRectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t/*public Player(){\r\n\t\taddKeyListener(this);\r\n        setFocusable(true);\r\n\t} */\r\n\r\n\r\n\t// Board theBoard = new Board();\r\n\tpublic void playerGenerate() {\r\n\t\tplayerXpos = 45;\r\n\t\tplayerYpos = 300;\r\n\t\tplayerWidth = 15;\r\n\t\tplayerHeight = 80;\r\n\t\t\r\n\t\t\r\n\t//Rectangle\tr = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t}\r\n\r\n \r\n\r\n\t@Override\r\n\tpublic void drawing(Graphics g) {\r\n\r\n\t\tg.setColor(Color.WHITE);\r\n\t   // player.playerGenerate();\r\n\t\t//g2d.fill(opponent.opponent);\r\n\r\n\t\t g.fillRect(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\r\n\t   repaint();\r\n\t\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t //timer.start();\r\n\r\n\t if(e.getKeyCode() == KeyEvent.VK_UP) {\r\n\t\tSystem.out.print(&quot;AAAAAAAAAAAAAAAAAA&quot;);\r\n\t\tBoard.getPlayer();\r\n\t\tplayerYpos = playerYpos - 12;\r\n\t\t//Board.test();\r\n\t\tif (playerYpos &lt;= 50){\r\n\t\t\tplayerYpos = 50;\r\n\t\t\tsuper.repaint();\r\n\t\t}\r\n\r\n\t\t \r\n\t }\r\n\t if(e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\t\tSystem.out.print(&quot;WWWWWWWWWWWWWWWWWWW&quot;);\r\n\t\tplayerYpos = playerYpos + 12;\r\n\t\trepaint();\r\n\t\tif (playerYpos &gt;= 570){\r\n\t\t\tplayerYpos = 570;\r\n\t\t\tsuper.repaint();\r\n\t\t}\r\n\t\t \r\n\t }\r\n\t \r\n }\r\n\r\n\r\n @Override\r\n public void keyReleased(KeyEvent e) {\r\n\t // TODO Auto-generated method stub\r\n\t \r\n }\r\n}\r\n```\r\n\r\n\r\nI tried,Lot&#39;s of things I tried making an object from the Board class to access repaint but it crashed the code and I even tried to override painting and paint things in the player class and I tried to even make a weird while loop that would spam repaint hoping to resolve the issue(of course did nothing)\r\n\r\nLatest idea was to try and over ride the paint class and try to use super.repaint() but it did not work. ","title":"Java how to repaint from another class?","body":"<p>I am making a pong game and I am trying to repaint the board whenever a key input is taken but I cannot make it work. I have a work around but that way the code won't work as I want it too(Key event in Board class)</p>\n<pre><code>public class Pong {\n\n     Board board = new Board();  \n\n    \n    public void frame() {\n         JFrame b = new JFrame(&quot;Pong&quot;);\n         b.setSize(905,705);\n         b.setLocation(300,60);\n         b.setResizable(false);\n         b.setVisible(true);\n         b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        \n         b.add(board);\n        \n\n         \n\n    }\n\n    public static  void main(String[] args) {\n        Pong start = new Pong();\n        start.frame();\n\n\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>The board class. essentially trying to make it more or less just a draw things class.</p>\n<pre><code>public class Board extends JPanel{\n    Player player = new Player();\npublic int x = 45;\n       public int playerScore = 0;\n       public int opponentScore = 0;\n       //Opponent opponent = new Opponent();\n       int test = 1;\n       private Timer timer;\n    private int snakeDelay = 50;\n       public Board(){\n        addKeyListener(new Player());\n        //addKeyListener(this);\n        setFocusable(true);\n        //timer = new Timer(snakeDelay, this);\n        //timer.start();\n\n    }\n\n\n\n    public void paint(Graphics g) {\n\n           board(g);\n           g.setColor(Color.WHITE);\n          // player.playerGenerate();\n           //g2d.fill(opponent.opponent);\n\n        \n            g.fillRect(player.playerXpos,player.playerYpos,player.playerWidth,player.playerHeight);\n\n          repaint();\n           }\n           \n       public void board(Graphics g) {\n           Graphics2D g2d = (Graphics2D) g;\n           \n            g.setColor(Color.black);\n            g.fillRect(0, 0, 900, 900);\n            Stroke stroke1 = new BasicStroke(4f);\n            \n            g2d.setColor(Color.white);\n            g2d.setStroke(stroke1);\n             \n            g2d.drawRect(20, 50, 850, 600);\n            g2d.setColor(Color.white);\n            \n            float[] dashingPattern2 = {10f, 4f};\n            Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n                    BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n             \n            g2d.setStroke(stroke2);\n            g2d.drawLine(435, 50, 435, 650);\n            g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n            g.drawString(&quot;&quot;+playerScore, 20, 35);\n            g.drawString(&quot;&quot;+opponentScore, 855, 35);\n          \n\n\n       }\n          public static void getPlayer(int a, int b,int c, int d){\n                \n          }\n  \n\n      \n\n}\n</code></pre>\n<p>And the player class where I wanna have essentially everything that controls the player.</p>\n<pre><code>public class Player extends JPanel, Board implements KeyListener{\n    //Board theBoard = new Board();    \n\n    public boolean down = false;\n    public boolean up = false;\n    public int playerXpos = 45;\n    public int playerYpos = 300;\n    public int playerWidth = 15;\n    public int playerHeight = 80;\n    Rectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    /*public Player(){\n        addKeyListener(this);\n        setFocusable(true);\n    } */\n\n\n    // Board theBoard = new Board();\n    public void playerGenerate() {\n        playerXpos = 45;\n        playerYpos = 300;\n        playerWidth = 15;\n        playerHeight = 80;\n        \n        \n    //Rectangle r = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    }\n\n \n\n    @Override\n    public void drawing(Graphics g) {\n\n        g.setColor(Color.WHITE);\n       // player.playerGenerate();\n        //g2d.fill(opponent.opponent);\n\n         g.fillRect(playerXpos,playerYpos,playerWidth,playerHeight);\n\n       repaint();\n        }\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n    @Override\n    public void keyPressed(KeyEvent e) {\n     //timer.start();\n\n     if(e.getKeyCode() == KeyEvent.VK_UP) {\n        System.out.print(&quot;AAAAAAAAAAAAAAAAAA&quot;);\n        Board.getPlayer();\n        playerYpos = playerYpos - 12;\n        //Board.test();\n        if (playerYpos &lt;= 50){\n            playerYpos = 50;\n            super.repaint();\n        }\n\n         \n     }\n     if(e.getKeyCode() == KeyEvent.VK_DOWN) {\n        System.out.print(&quot;WWWWWWWWWWWWWWWWWWW&quot;);\n        playerYpos = playerYpos + 12;\n        repaint();\n        if (playerYpos &gt;= 570){\n            playerYpos = 570;\n            super.repaint();\n        }\n         \n     }\n     \n }\n\n\n @Override\n public void keyReleased(KeyEvent e) {\n     // TODO Auto-generated method stub\n     \n }\n}\n</code></pre>\n<p>I tried,Lot's of things I tried making an object from the Board class to access repaint but it crashed the code and I even tried to override painting and paint things in the player class and I tried to even make a weird while loop that would spam repaint hoping to resolve the issue(of course did nothing)</p>\n<p>Latest idea was to try and over ride the paint class and try to use super.repaint() but it did not work.</p>\n"},{"tags":["java","spring","postgresql","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1656440783,"post_id":72791412,"comment_id":128571562,"body_markdown":"I would start by checking the security group of the RDS instance. Also, is your Spring app running locally, or in AWS, in the same VPC as the RDS instance?","body":"I would start by checking the security group of the RDS instance. Also, is your Spring app running locally, or in AWS, in the same VPC as the RDS instance?"},{"owner":{"account_id":3188748,"reputation":109,"user_id":2693632,"display_name":"rens"},"score":0,"creation_date":1656441254,"post_id":72791412,"comment_id":128571706,"body_markdown":"I am running it locally. This is the security info for RDS instance (Connectivity &amp; security): `Security\nVPC security groups: securedappvpc (sg-094f2119af29d6ba0)`, `Publicly accessible: Yes`, `Active`, `Publicly accessible: Yes`","body":"I am running it locally. This is the security info for RDS instance (Connectivity &amp; security): <code>Security VPC security groups: securedappvpc (sg-094f2119af29d6ba0)</code>, <code>Publicly accessible: Yes</code>, <code>Active</code>, <code>Publicly accessible: Yes</code>"},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1656441351,"post_id":72791412,"comment_id":128571741,"body_markdown":"Posting the security group ID does not provide us the &quot;security info&quot;. Please look at the rules in the security group to see if the port is open for the appropriate IP address you are trying to connect from.","body":"Posting the security group ID does not provide us the &quot;security info&quot;. Please look at the rules in the security group to see if the port is open for the appropriate IP address you are trying to connect from."}],"answers":[{"tags":[],"owner":{"account_id":1345877,"reputation":1,"user_id":1286648,"display_name":"preet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676996808,"creation_date":1676996808,"answer_id":75523234,"question_id":72791412,"body_markdown":"For timeout issue, these are the changed in Security Groups you need:[AWS RDS Security Groups screenshot][1]\r\n\r\nAlso, make sure your for the AWS RDS its publicly accessible= Yes &amp; you have given a DB name(its not mandatory while creating, but for connection it causes issues &amp; cannot be updated once DB Instance is created).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cyFKS.png","title":"Connect Spring boot with Amazon RDS PostgreSQL","body":"<p>For timeout issue, these are the changed in Security Groups you need:<a href=\"https://i.stack.imgur.com/cyFKS.png\" rel=\"nofollow noreferrer\">AWS RDS Security Groups screenshot</a></p>\n<p>Also, make sure your for the AWS RDS its publicly accessible= Yes &amp; you have given a DB name(its not mandatory while creating, but for connection it causes issues &amp; cannot be updated once DB Instance is created).</p>\n"}],"owner":{"account_id":3188748,"reputation":109,"user_id":2693632,"display_name":"rens"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676996808,"creation_date":1656440510,"question_id":72791412,"body_markdown":"I am getting `Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource` and `connect timed out` errors while trying to connect to a locally running Spring boot application with PostgreSQL database instance running on Amazon AWS.\r\n&lt;br&gt;&lt;br&gt;\r\nThis is how my `application.properties` file look like: &lt;br&gt;\r\n\r\n    spring.datasource.url=jdbc:postgresql://db_endpoint_here:5432/db_name_here\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.username= db_username_here\r\n    spring.datasource.password= db_password_here\r\n\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nAm I doing it right?&lt;br&gt;\r\nAny suggestions to fix the connection time out error would be greatly appreciated.","title":"Connect Spring boot with Amazon RDS PostgreSQL","body":"<p>I am getting <code>Error creating bean with name 'entityManagerFactory' defined in class path resource</code> and <code>connect timed out</code> errors while trying to connect to a locally running Spring boot application with PostgreSQL database instance running on Amazon AWS.\n<br><br>\nThis is how my <code>application.properties</code> file look like: <br></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://db_endpoint_here:5432/db_name_here\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.username= db_username_here\nspring.datasource.password= db_password_here\n\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>Am I doing it right?<br>\nAny suggestions to fix the connection time out error would be greatly appreciated.</p>\n"},{"tags":["java","initialization","arraylist"],"answers":[{"comments":[{"owner":{"account_id":57484,"reputation":66737,"user_id":172211,"accept_rate":89,"display_name":"Carl Smotricz"},"score":4,"creation_date":1289652555,"post_id":4172490,"comment_id":4506242,"body_markdown":"I object to the word &quot;default&quot; in the first sentence. The *default* number is the size that&#39;s allocated if you *don&#39;t* put a number in the parentheses.","body":"I object to the word &quot;default&quot; in the first sentence. The <i>default</i> number is the size that&#39;s allocated if you <i>don&#39;t</i> put a number in the parentheses."},{"owner":{"account_id":40152,"reputation":17777,"user_id":116249,"accept_rate":82,"display_name":"Patrick"},"score":2,"creation_date":1289652914,"post_id":4172490,"comment_id":4506267,"body_markdown":"@Carl: You are correct. Changed it to *initial capacity*, as to conform to the Java docs.","body":"@Carl: You are correct. Changed it to <i>initial capacity</i>, as to conform to the Java docs."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":5,"creation_date":1289667963,"post_id":4172490,"comment_id":4507638,"body_markdown":"To be precise: &quot;any number of items&quot; is limited to `Integer.MAX` due to the fact that arrays in java are indexed by ints (as of Java 6).","body":"To be precise: &quot;any number of items&quot; is limited to <code>Integer.MAX</code> due to the fact that arrays in java are indexed by ints (as of Java 6)."},{"owner":{"account_id":40152,"reputation":17777,"user_id":116249,"accept_rate":82,"display_name":"Patrick"},"score":0,"creation_date":1289693820,"post_id":4172490,"comment_id":4510254,"body_markdown":"@Willi: Well, if you are going to allocate more than 2^31-1 values I believe you are having a memory problem rather than having `ArrayList` running out of capacity.","body":"@Willi: Well, if you are going to allocate more than 2^31-1 values I believe you are having a memory problem rather than having <code>ArrayList</code> running out of capacity."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1290296934,"post_id":4172490,"comment_id":4585865,"body_markdown":"Integer.MAX is about 2 Billions (not 2^31-1) which takes up to 16GB of RAM (on a 64 Bit Machine) which is not soo big today.","body":"Integer.MAX is about 2 Billions (not 2^31-1) which takes up to 16GB of RAM (on a 64 Bit Machine) which is not soo big today."},{"owner":{"account_id":40152,"reputation":17777,"user_id":116249,"accept_rate":82,"display_name":"Patrick"},"score":0,"creation_date":1290333570,"post_id":4172490,"comment_id":4587983,"body_markdown":"@Willi: Uhm, [2^31-1 is about 2 billions](http://www.java2s.com/Tutorial/Java/0040__Data-Type/IntegerMAXMINVALUE.htm). And you rarely store bitvalues, so that 16GB (of object pointers) will have to be multiplied by the actual size of the objects you store.","body":"@Willi: Uhm, <a href=\"http://www.java2s.com/Tutorial/Java/0040__Data-Type/IntegerMAXMINVALUE.htm\" rel=\"nofollow noreferrer\">2^31-1 is about 2 billions</a>. And you rarely store bitvalues, so that 16GB (of object pointers) will have to be multiplied by the actual size of the objects you store."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1290334745,"post_id":4172490,"comment_id":4588062,"body_markdown":"@Patrick Right about the 2^31-1, screwed that up. Of course you have to consider the size of the objects, but the collection just contains the references, so the memory usage of the collection is just 16 GB.","body":"@Patrick Right about the 2^31-1, screwed that up. Of course you have to consider the size of the objects, but the collection just contains the references, so the memory usage of the collection is just 16 GB."},{"owner":{"account_id":84539,"reputation":9548,"user_id":236247,"accept_rate":86,"display_name":"demongolem"},"score":0,"creation_date":1338148464,"post_id":4172490,"comment_id":14013999,"body_markdown":"This is always a gotcha for me.  Whenever I want to use the capacity instantiation of say an ArrayList, I really want capacity=size instead of size=0.  You know, sort of like `Integer integerArray = new Integer[capacity]`.","body":"This is always a gotcha for me.  Whenever I want to use the capacity instantiation of say an ArrayList, I really want capacity=size instead of size=0.  You know, sort of like <code>Integer integerArray = new Integer[capacity]</code>."}],"tags":[],"owner":{"account_id":40152,"reputation":17777,"user_id":116249,"accept_rate":82,"display_name":"Patrick"},"comment_count":8,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1676996767,"creation_date":1289651245,"answer_id":4172490,"question_id":4172480,"body_markdown":"It&#39;s the initial capacity, i.e. the number of items that `ArrayList` will allocate to begin with as the internal storage of items.\r\n\r\n`ArrayList` can contain &quot;any number of items&quot; (as long you have the memory for it) and when doing large initial insertions you can tell `ArrayList` to allocate a larger storage to begin with as to not waste CPU cycles when it tries to allocate more space for the next item.\r\n\r\nExample:\r\n\r\n    ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(2);\r\n    list.add(10); // size() == 1\r\n    list.add(20); // size() == 2, list is &quot;filled&quot;\r\n    list.add(30); // size() == 3, list is expanded to make room for the third element","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>It's the initial capacity, i.e. the number of items that <code>ArrayList</code> will allocate to begin with as the internal storage of items.</p>\n<p><code>ArrayList</code> can contain &quot;any number of items&quot; (as long you have the memory for it) and when doing large initial insertions you can tell <code>ArrayList</code> to allocate a larger storage to begin with as to not waste CPU cycles when it tries to allocate more space for the next item.</p>\n<p>Example:</p>\n<pre><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;(2);\nlist.add(10); // size() == 1\nlist.add(20); // size() == 2, list is &quot;filled&quot;\nlist.add(30); // size() == 3, list is expanded to make room for the third element\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1289651456,"creation_date":1289651456,"answer_id":4172500,"question_id":4172480,"body_markdown":"Practically speaking, it&#39;s how many elements you can add to the `ArrayList` before it resizes in the background, which can save you some cycles if used correctly.","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>Practically speaking, it's how many elements you can add to the <code>ArrayList</code> before it resizes in the background, which can save you some cycles if used correctly.</p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1513773631,"creation_date":1289651710,"answer_id":4172507,"question_id":4172480,"body_markdown":"Capacity is the size of the internal storage of the objects. The internal storage is always greater than or equal to the size() of the list (so that it can contain all elements).\r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n\r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\r\n            System.out.println(&quot;initial size = &quot; + arr.size()); // 0\r\n            System.out.println(&quot;initial capacity = &quot; + getCapacity(arr));\r\n\r\n            for (int i = 0; i &lt; 11; i++)\r\n                arr.add(i);\r\n\r\n            System.out.println(&quot;size = &quot; + arr.size()); // 11\r\n            System.out.println(&quot;capacity = &quot; + getCapacity(arr));\r\n        }\r\n\r\n        static int getCapacity(ArrayList&lt;?&gt; l) throws Exception {\r\n            Field dataField = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n            dataField.setAccessible(true);\r\n            return ((Object[]) dataField.get(l)).length;\r\n        }\r\n    }\r\n\r\n\r\nRunning this gives:\r\n\r\n    initial size = 0\r\n    initial capacity = 10\r\n    size = 11\r\n    capacity = 16\r\n","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>Capacity is the size of the internal storage of the objects. The internal storage is always greater than or equal to the size() of the list (so that it can contain all elements).</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) throws Exception {\n\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;();\n        System.out.println(\"initial size = \" + arr.size()); // 0\n        System.out.println(\"initial capacity = \" + getCapacity(arr));\n\n        for (int i = 0; i &lt; 11; i++)\n            arr.add(i);\n\n        System.out.println(\"size = \" + arr.size()); // 11\n        System.out.println(\"capacity = \" + getCapacity(arr));\n    }\n\n    static int getCapacity(ArrayList&lt;?&gt; l) throws Exception {\n        Field dataField = ArrayList.class.getDeclaredField(\"elementData\");\n        dataField.setAccessible(true);\n        return ((Object[]) dataField.get(l)).length;\n    }\n}\n</code></pre>\n\n<p>Running this gives:</p>\n\n<pre><code>initial size = 0\ninitial capacity = 10\nsize = 11\ncapacity = 16\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4505052,"reputation":610,"user_id":3662635,"accept_rate":100,"display_name":"Legato"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423117045,"creation_date":1423117045,"answer_id":28337392,"question_id":4172480,"body_markdown":"Under the hood, `ArrayList` is essentially a [dynamic array][1]. Every time you instantiate using `new Arraylist&lt;&gt;()` what&#39;s happening is that an array is created to hold the values you want to store whose default capacity, [not to be confused with size][2], is 10.\r\n\r\nEvery time you add a value that would increase the size beyond capacity a new array is created whose capacity is one more than 150% the previous capacity with the contents of the previous array copied within.\r\n\r\nIf you have a general idea what size the resulting list will be, or are certain but desire the flexibility afforded from using arraylists over arrays you can set the capacity to prevent this repetitive process of creating new arrays, copying the contents of the old array in the new one, and getting rid of the old one -- which will otherwise increase in occurrences proportional to the size of the list.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Dynamic_array\r\n  [2]: https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>Under the hood, <code>ArrayList</code> is essentially a <a href=\"http://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\">dynamic array</a>. Every time you instantiate using <code>new Arraylist&lt;&gt;()</code> what's happening is that an array is created to hold the values you want to store whose default capacity, <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\">not to be confused with size</a>, is 10.</p>\n\n<p>Every time you add a value that would increase the size beyond capacity a new array is created whose capacity is one more than 150% the previous capacity with the contents of the previous array copied within.</p>\n\n<p>If you have a general idea what size the resulting list will be, or are certain but desire the flexibility afforded from using arraylists over arrays you can set the capacity to prevent this repetitive process of creating new arrays, copying the contents of the old array in the new one, and getting rid of the old one -- which will otherwise increase in occurrences proportional to the size of the list.</p>\n"},{"tags":[],"owner":{"account_id":9051650,"reputation":91,"user_id":6741503,"display_name":"CuriosCoder"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611696782,"creation_date":1611696782,"answer_id":65909584,"question_id":4172480,"body_markdown":"Arraylist size and capacity are different.\r\n\r\nFor Example: \r\nIn below arraylist initial capacity = 3, and size of the list = 0 as there is no elements in the list yet. \r\n\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(3);\r\n\r\n","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>Arraylist size and capacity are different.</p>\n<p>For Example:\nIn below arraylist initial capacity = 3, and size of the list = 0 as there is no elements in the list yet.</p>\n<p>ArrayList list = new ArrayList(3);</p>\n"},{"comments":[{"owner":{"account_id":13430029,"reputation":945,"user_id":9690114,"display_name":"RomanMitasov"},"score":1,"creation_date":1640697587,"post_id":70507392,"comment_id":124635698,"body_markdown":"This answer answers nothing. It&#39;s hard to read and what more than that - contains wrong information. Look at the accepted answer for comparison.","body":"This answer answers nothing. It&#39;s hard to read and what more than that - contains wrong information. Look at the accepted answer for comparison."}],"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640696190,"creation_date":1640696190,"answer_id":70507392,"question_id":4172480,"body_markdown":"By default, ArrayList is set to nothing less than 10. However, it may take more than the default capacity based on the fact that it can expand. To be on a safer side, it is reasonable to set the initial capacity to avoid another declaration of ArrayList. Hence, the initial capacity is primitive datatype int. it is meant to take the number of lists we are adding. ","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>By default, ArrayList is set to nothing less than 10. However, it may take more than the default capacity based on the fact that it can expand. To be on a safer side, it is reasonable to set the initial capacity to avoid another declaration of ArrayList. Hence, the initial capacity is primitive datatype int. it is meant to take the number of lists we are adding.</p>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640922151,"creation_date":1640922151,"answer_id":70538798,"question_id":4172480,"body_markdown":"pardon my English. The question asked is &#39;what is the meaning or function of the parameter initial capacity in the ArrayList?&#39; If I&#39;m not wrong. I explained that whenever an array is created the default capacity is 10. And I explained that the array resizes itself when the number added had is more than it&#39;s the bucket. In case of time complexity, I suggested that perfect capacity should be added.\r\nTake a look at this code via Geeks for Geeks:\r\n\r\nimport java.util.*;\r\n\r\nclass Student  {\r\n\r\n\r\n    \r\n        public static void main(String[] arg) throws Exception\r\n        {\r\n            try {\r\n\r\n                \r\n                ArrayList&lt;String&gt; numbers\r\n                        = new ArrayList&lt;String&gt;(3);\r\n\r\n               \r\n                numbers.add(&quot;10&quot;);\r\n                numbers.add(&quot;20&quot;);\r\n                numbers.add(&quot;30&quot;);\r\n\r\n                // Print the ArrayList\r\n                System.out.println(&quot;ArrayList: &quot; + numbers);\r\n\r\n                \r\n                System.out.println(\r\n                        &quot;Increasing the capacity of ArrayList numbers to store up to 500 elements.&quot;);\r\n\r\n                numbers.ensureCapacity(500);\r\n\r\n                System.out.println(\r\n                        &quot;ArrayList numbers can now store upto 500 elements.&quot;);\r\n            }\r\n\r\n            catch (NullPointerException e) {\r\n                System.out.println(&quot;Exception thrown : &quot; + e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  \r\n\r\n","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>pardon my English. The question asked is 'what is the meaning or function of the parameter initial capacity in the ArrayList?' If I'm not wrong. I explained that whenever an array is created the default capacity is 10. And I explained that the array resizes itself when the number added had is more than it's the bucket. In case of time complexity, I suggested that perfect capacity should be added.\nTake a look at this code via Geeks for Geeks:</p>\n<p>import java.util.*;</p>\n<p>class Student  {</p>\n<pre><code>    public static void main(String[] arg) throws Exception\n    {\n        try {\n\n            \n            ArrayList&lt;String&gt; numbers\n                    = new ArrayList&lt;String&gt;(3);\n\n           \n            numbers.add(&quot;10&quot;);\n            numbers.add(&quot;20&quot;);\n            numbers.add(&quot;30&quot;);\n\n            // Print the ArrayList\n            System.out.println(&quot;ArrayList: &quot; + numbers);\n\n            \n            System.out.println(\n                    &quot;Increasing the capacity of ArrayList numbers to store up to 500 elements.&quot;);\n\n            numbers.ensureCapacity(500);\n\n            System.out.println(\n                    &quot;ArrayList numbers can now store upto 500 elements.&quot;);\n        }\n\n        catch (NullPointerException e) {\n            System.out.println(&quot;Exception thrown : &quot; + e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":96931,"reputation":13250,"user_id":263215,"accept_rate":96,"display_name":"Ismail Marmoush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41390,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":4172490,"answer_count":7,"score":30,"last_activity_date":1676996767,"creation_date":1289651081,"question_id":4172480,"body_markdown":"What&#39;s meant by parameter `(int initialCapacity)` in an `ArrayList`, I thought it&#39;s the number of elements but it didn&#39;t work when I did this:\r\n\r\n    public class MyClass {\r\n        private ArrayList&lt;Integer&gt; arr;\r\n        public MyClass(int n_elements) {\r\n            arr = new ArrayList&lt;Integer&gt;(n_elements);\r\n        }\r\n    }","title":"What&#39;s meant by parameter (int initial capacity) in an arraylist","body":"<p>What's meant by parameter <code>(int initialCapacity)</code> in an <code>ArrayList</code>, I thought it's the number of elements but it didn't work when I did this:</p>\n\n<pre><code>public class MyClass {\n    private ArrayList&lt;Integer&gt; arr;\n    public MyClass(int n_elements) {\n        arr = new ArrayList&lt;Integer&gt;(n_elements);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"score":1,"creation_date":1676883390,"post_id":75507073,"comment_id":133220133,"body_markdown":"Seems you could simply start by removing duplicates, then apply the previous algorithm. Since numbers are ordered, removing duplicates has the efficiency of O(n) algorithms.","body":"Seems you could simply start by removing duplicates, then apply the previous algorithm. Since numbers are ordered, removing duplicates has the efficiency of O(n) algorithms."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676883466,"post_id":75507073,"comment_id":133220148,"body_markdown":"How can I do that? without loops? The data is my app needs to  update every 2-3 seconds and so this approach is not good, is it?","body":"How can I do that? without loops? The data is my app needs to  update every 2-3 seconds and so this approach is not good, is it?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1676883502,"post_id":75507073,"comment_id":133220157,"body_markdown":"[How to efficiently remove duplicates from an array without using Set](https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set)","body":"<a href=\"https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\">How to efficiently remove duplicates from an array without using Set</a>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676883545,"post_id":75507073,"comment_id":133220174,"body_markdown":"Sorry, but I missed out something. The duplicates are necessary for proper functioning of the app and cant be eliminated.","body":"Sorry, but I missed out something. The duplicates are necessary for proper functioning of the app and cant be eliminated."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1676883888,"post_id":75507073,"comment_id":133220269,"body_markdown":"You shouldn&#39;t remove the duplicates from your actual payload. You should remove the duplicates from a temporary copy of that data, to make the algorithm work.","body":"You shouldn&#39;t remove the duplicates from your actual payload. You should remove the duplicates from a temporary copy of that data, to make the algorithm work."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1676885587,"post_id":75507073,"comment_id":133220702,"body_markdown":"There‚Äôs no point removing the duplicates (an O(n) operations) just to be able to optimise finding missing numbers. You‚Äôre already iterating through the elements, so you might as well look for the missing number while you do it. I don‚Äôt think there‚Äôs a way to do better than O(n) in this case.","body":"There‚Äôs no point removing the duplicates (an O(n) operations) just to be able to optimise finding missing numbers. You‚Äôre already iterating through the elements, so you might as well look for the missing number while you do it. I don‚Äôt think there‚Äôs a way to do better than O(n) in this case."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1676887274,"post_id":75507073,"comment_id":133221200,"body_markdown":"It really depends on your exact use case. If a few of thousands of numbers are missing, you could store *ranges* instead of each number individually.","body":"It really depends on your exact use case. If a few of thousands of numbers are missing, you could store <i>ranges</i> instead of each number individually."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1676896251,"post_id":75507073,"comment_id":133223654,"body_markdown":"It sounds like you just need to do a binary search but your phrasing makes it unclear what you are really trying to do.  Please include an [mre].","body":"It sounds like you just need to do a binary search but your phrasing makes it unclear what you are really trying to do.  Please include an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676898300,"post_id":75507709,"comment_id":133224223,"body_markdown":"Loop is good for small ranges. But, I have millions of numbers in my array. It isnt efficient","body":"Loop is good for small ranges. But, I have millions of numbers in my array. It isnt efficient"}],"tags":[],"owner":{"account_id":3765857,"reputation":117,"user_id":3129429,"display_name":"Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676886844,"creation_date":1676886844,"answer_id":75507709,"question_id":75507073,"body_markdown":"As far as I know, there is no way to detect a missing number in a list except for looping through.\r\n\r\nIf your array is sorted, it should look like something like this:\r\n\r\n    [1,2,3,3,4,6]\r\n\r\nSo, this code should do the work:\r\n\r\n    int getMissingNumber(int[] numbers){\r\n        for (int i=0; i&lt;numbers.length -1; i++){\r\n            int current = numbers[i];\r\n            int next = numbers[i+1];\r\n            if(next - current &gt; 1){\r\n                return current + 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\nOther than this, there is the option of changing the `Array` to the `Set` and then back to `Array` and then, use the previous approach. Be sure to use `LinkedHashSet` to preserve insertion order. But I don&#39;t know if it would be any faster.\r\n\r\n","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>As far as I know, there is no way to detect a missing number in a list except for looping through.</p>\n<p>If your array is sorted, it should look like something like this:</p>\n<pre><code>[1,2,3,3,4,6]\n</code></pre>\n<p>So, this code should do the work:</p>\n<pre><code>int getMissingNumber(int[] numbers){\n    for (int i=0; i&lt;numbers.length -1; i++){\n        int current = numbers[i];\n        int next = numbers[i+1];\n        if(next - current &gt; 1){\n            return current + 1;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>Other than this, there is the option of changing the <code>Array</code> to the <code>Set</code> and then back to <code>Array</code> and then, use the previous approach. Be sure to use <code>LinkedHashSet</code> to preserve insertion order. But I don't know if it would be any faster.</p>\n"},{"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676908682,"post_id":75510354,"comment_id":133227426,"body_markdown":"Thanks for the answer @experimentunit1998X. I was unable to understand the second approach that you used. Also, I was unable to understand the output. For example `Problem! - 390 390`, the first statement in the output, why are both of the numbers same?","body":"Thanks for the answer @experimentunit1998X. I was unable to understand the second approach that you used. Also, I was unable to understand the output. For example <code>Problem! - 390 390</code>, the first statement in the output, why are both of the numbers same?"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":1,"creation_date":1676912265,"post_id":75510354,"comment_id":133228462,"body_markdown":"Did you read the code?  They created an array of 50 mil elements in the top of main.  `System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);` You can see that the current array element (`390`) is equal to the next array element (`390`).  Or the current array element (`390`) is not equal to 1 less than the next array element (`392`).  therefore, there is a missing number (`391`).\n\nThe point of this code is to show that a loop finished in 60ms, and a Runnable finished in 49ms.  You seem to be of the mindset that a loop is bad.  They are proving it isn&#39;t.","body":"Did you read the code?  They created an array of 50 mil elements in the top of main.  <code>System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);</code> You can see that the current array element (<code>390</code>) is equal to the next array element (<code>390</code>).  Or the current array element (<code>390</code>) is not equal to 1 less than the next array element (<code>392</code>).  therefore, there is a missing number (<code>391</code>).  The point of this code is to show that a loop finished in 60ms, and a Runnable finished in 49ms.  You seem to be of the mindset that a loop is bad.  They are proving it isn&#39;t."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1676941638,"post_id":75510354,"comment_id":133234519,"body_markdown":"I probably messed up with the second approach, but what I really wanted to do was something like using the runnable, split it up into lists of certain length and process each. The problem with the second approach I was not able to resolve is that at the end of the day, it will &quot;merge&quot; back together the broken up parts and will process already processed array elements","body":"I probably messed up with the second approach, but what I really wanted to do was something like using the runnable, split it up into lists of certain length and process each. The problem with the second approach I was not able to resolve is that at the end of the day, it will &quot;merge&quot; back together the broken up parts and will process already processed array elements"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1676941698,"post_id":75510354,"comment_id":133234527,"body_markdown":"the problem is that the current element and the next are duplicates, and on the next iteration, the current element is not 1 less than the next element, so the two errors come one after another","body":"the problem is that the current element and the next are duplicates, and on the next iteration, the current element is not 1 less than the next element, so the two errors come one after another"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676997111,"post_id":75510354,"comment_id":133247983,"body_markdown":"I get it now. Sorry for the confusion. I have upvoted you answer but feel that I cant yet accept it as I find another answer which does the same task in comparatively less time. But, your program uses less memory compared to that one. Thanks for the answer!","body":"I get it now. Sorry for the confusion. I have upvoted you answer but feel that I cant yet accept it as I find another answer which does the same task in comparatively less time. But, your program uses less memory compared to that one. Thanks for the answer!"}],"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676906305,"creation_date":1676902491,"answer_id":75510354,"question_id":75507073,"body_markdown":"I just tried to see if breaking down the tasks as much as I can using Fork Join as a fun exercise to get to know the library better (also because I thought dividing the task down into smaller tasks and processing it parallelly would take less time) and contrasted it with a simple for loop.\r\n\r\n    public class misc {\r\n    \tpublic void getMissingNumbers(int[] numbers){\r\n    \t    for (int i=0; i&lt;numbers.length -1; i++){\r\n    \t        int current = numbers[i];\r\n    \t        int next = numbers[i+1];\r\n    \t        if(current+1 != next){\r\n    \t            System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n         \r\n         public static void main(String []args){\r\n        \t int[] range = IntStream.rangeClosed(1, 50_000_000).toArray();\r\n        \t int index = 50000;\r\n        \t range[index] =  range[index-1];  //duplicate\r\n        \t index = 390;\r\n        \t range[index] =  range[index-1];\r\n        \t index = 500390;\r\n        \t range[index] =  range[index-1];\r\n        \t index = 2500390;\r\n        \t range[index] =  range[index-1];\r\n        \t \r\n        \t ZonedDateTime now = ZonedDateTime.now();\r\n        \t misc m = new misc();\r\n        \t m.getMissingNumbers(range);\r\n        \t System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                     m.getClass().getSimpleName(),\r\n                     ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n        \t \r\n        \t now = ZonedDateTime.now();\r\n        \t ForkJoinPool forkJoinPool = ForkJoinPool.commonPool();\r\n        \t breakDownRecursively bdr = new breakDownRecursively(range);\r\n             forkJoinPool.invoke(bdr);\r\n             System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                     bdr.getClass().getSimpleName(),\r\n                     ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n         }\r\n    }\r\n    \r\n    class breakDownRecursively extends RecursiveAction {\r\n    \tprivate final int[] arr;\r\n    \tprivate final ArrayList&lt;Integer&gt; arrlst = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic breakDownRecursively(int[] arr) {\r\n    \t\tthis.arr = arr;\r\n    \t}\r\n    \t\r\n    \tpublic void compute() {\r\n    \t\tint n = arr.length;\r\n    \t\tif (arr.length &lt; 2) return;\r\n    \t    int mid = arr.length / 2;\r\n    \r\n    \t    int[] left = new int[mid];\r\n    \t    System.arraycopy(arr, 0, left, 0, mid);\r\n    \r\n    \t    int[] right = new int[arr.length - mid];\r\n    \t    System.arraycopy(arr, mid, right, 0, arr.length - mid);\r\n    \r\n    \t    invokeAll(new breakDownRecursively(left), new breakDownRecursively(right));\r\n    \t    compare(left, right);\r\n    \t}\r\n    \t\r\n    \tprivate void compare(int[] left, int[] right) {\r\n\t\t    if (left.length == 1 &amp;&amp; right.length == 1) {\r\n\t\t\t    if (left[0]+1 != right[0]) {\r\n\t\t\t\t    //System.out.println(&quot;Problem! - &quot;+left[0]+&quot; &quot;+right[0]);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nOutput:\r\n\r\n    Problem! - 390 390\r\n    Problem! - 390 392\r\n    Problem! - 50000 50000\r\n    Problem! - 50000 50002\r\n    Problem! - 500390 500390\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500390\r\n    Problem! - 2500390 2500392\r\n    misc exec time: 60ms\r\n    Problem! - 390 392\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500392\r\n    breakDownRecursively exec time: 2435ms\r\n\r\nI suppose I probably made a mistake somewhere during implementation of the fork join, but at the very least you should see that a for loop isn&#39;t THAT bad.\r\n\r\nand when I used Runnable:\r\n\r\n         int mid = range.length/2;\r\n         int[] half1 = new int[mid+1];\r\n         System.arraycopy(range, 0, half1, 0, mid+1);\r\n         int[] half2 = new int[mid];\r\n         System.arraycopy(range, mid, half2, 0, range.length - mid);\r\n         RunnableTask r1 = new RunnableTask(half1);\r\n         RunnableTask r2 = new RunnableTask(half2);\r\n         now = ZonedDateTime.now();\r\n         Thread t1 = new Thread(r1);\r\n         Thread t2 = new Thread(r2);\r\n         \r\n         t1.start();\r\n         t2.start();\r\n         t1.join();\r\n         t2.join();\r\n         \r\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                 r1.getClass().getSimpleName(),\r\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n\r\n    class RunnableTask implements Runnable{\r\n    \tprivate final int[] arr;\r\n    \tpublic RunnableTask(int[] arr) {\r\n    \t\tthis.arr = arr;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tfor (int i=0; i&lt;arr.length -1; i++){\r\n    \t        int current = arr[i];\r\n    \t        int next = arr[i+1];\r\n    \t        if(current+1 != next){\r\n    \t            System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOutput:\r\n\r\n    Problem! - 390 390\r\n    Problem! - 390 392\r\n    Problem! - 50000 50000\r\n    Problem! - 50000 50002\r\n    Problem! - 500390 500390\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500390\r\n    Problem! - 2500390 2500392\r\n    RunnableTask exec time: 49ms\r\n\r\nOnly slightly better than a for loop.","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>I just tried to see if breaking down the tasks as much as I can using Fork Join as a fun exercise to get to know the library better (also because I thought dividing the task down into smaller tasks and processing it parallelly would take less time) and contrasted it with a simple for loop.</p>\n<pre><code>public class misc {\n    public void getMissingNumbers(int[] numbers){\n        for (int i=0; i&lt;numbers.length -1; i++){\n            int current = numbers[i];\n            int next = numbers[i+1];\n            if(current+1 != next){\n                System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\n            }\n        }\n    }\n     \n     public static void main(String []args){\n         int[] range = IntStream.rangeClosed(1, 50_000_000).toArray();\n         int index = 50000;\n         range[index] =  range[index-1];  //duplicate\n         index = 390;\n         range[index] =  range[index-1];\n         index = 500390;\n         range[index] =  range[index-1];\n         index = 2500390;\n         range[index] =  range[index-1];\n         \n         ZonedDateTime now = ZonedDateTime.now();\n         misc m = new misc();\n         m.getMissingNumbers(range);\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n                 m.getClass().getSimpleName(),\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n         \n         now = ZonedDateTime.now();\n         ForkJoinPool forkJoinPool = ForkJoinPool.commonPool();\n         breakDownRecursively bdr = new breakDownRecursively(range);\n         forkJoinPool.invoke(bdr);\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n                 bdr.getClass().getSimpleName(),\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n     }\n}\n\nclass breakDownRecursively extends RecursiveAction {\n    private final int[] arr;\n    private final ArrayList&lt;Integer&gt; arrlst = new ArrayList&lt;&gt;();\n    \n    public breakDownRecursively(int[] arr) {\n        this.arr = arr;\n    }\n    \n    public void compute() {\n        int n = arr.length;\n        if (arr.length &lt; 2) return;\n        int mid = arr.length / 2;\n\n        int[] left = new int[mid];\n        System.arraycopy(arr, 0, left, 0, mid);\n\n        int[] right = new int[arr.length - mid];\n        System.arraycopy(arr, mid, right, 0, arr.length - mid);\n\n        invokeAll(new breakDownRecursively(left), new breakDownRecursively(right));\n        compare(left, right);\n    }\n    \n    private void compare(int[] left, int[] right) {\n        if (left.length == 1 &amp;&amp; right.length == 1) {\n            if (left[0]+1 != right[0]) {\n                //System.out.println(&quot;Problem! - &quot;+left[0]+&quot; &quot;+right[0]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Problem! - 390 390\nProblem! - 390 392\nProblem! - 50000 50000\nProblem! - 50000 50002\nProblem! - 500390 500390\nProblem! - 500390 500392\nProblem! - 2500390 2500390\nProblem! - 2500390 2500392\nmisc exec time: 60ms\nProblem! - 390 392\nProblem! - 500390 500392\nProblem! - 2500390 2500392\nbreakDownRecursively exec time: 2435ms\n</code></pre>\n<p>I suppose I probably made a mistake somewhere during implementation of the fork join, but at the very least you should see that a for loop isn't THAT bad.</p>\n<p>and when I used Runnable:</p>\n<pre><code>     int mid = range.length/2;\n     int[] half1 = new int[mid+1];\n     System.arraycopy(range, 0, half1, 0, mid+1);\n     int[] half2 = new int[mid];\n     System.arraycopy(range, mid, half2, 0, range.length - mid);\n     RunnableTask r1 = new RunnableTask(half1);\n     RunnableTask r2 = new RunnableTask(half2);\n     now = ZonedDateTime.now();\n     Thread t1 = new Thread(r1);\n     Thread t2 = new Thread(r2);\n     \n     t1.start();\n     t2.start();\n     t1.join();\n     t2.join();\n     \n     System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n             r1.getClass().getSimpleName(),\n             ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n\nclass RunnableTask implements Runnable{\n    private final int[] arr;\n    public RunnableTask(int[] arr) {\n        this.arr = arr;\n    }\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        for (int i=0; i&lt;arr.length -1; i++){\n            int current = arr[i];\n            int next = arr[i+1];\n            if(current+1 != next){\n                System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Problem! - 390 390\nProblem! - 390 392\nProblem! - 50000 50000\nProblem! - 50000 50002\nProblem! - 500390 500390\nProblem! - 500390 500392\nProblem! - 2500390 2500390\nProblem! - 2500390 2500392\nRunnableTask exec time: 49ms\n</code></pre>\n<p>Only slightly better than a for loop.</p>\n"},{"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676993003,"post_id":75512654,"comment_id":133246592,"body_markdown":"Thanks for the answer @phatfingers. I run it on a online java compiler and found something fishy. The first statement I find `Placing missing value at position 8534196` which is pointing to index number 85,34,196 but `Missing value = 55`. How can index 8534196 be 55?? I couldnt quite get it. Sorry if its a silly thing to ask but I couldn&#39;t get onto it.","body":"Thanks for the answer @phatfingers. I run it on a online java compiler and found something fishy. The first statement I find <code>Placing missing value at position 8534196</code> which is pointing to index number 85,34,196 but <code>Missing value = 55</code>. How can index 8534196 be 55?? I couldnt quite get it. Sorry if its a silly thing to ask but I couldn&#39;t get onto it."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676996522,"post_id":75512654,"comment_id":133247755,"body_markdown":"You found a bug.  I just fixed it.","body":"You found a bug.  I just fixed it."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676996826,"post_id":75512654,"comment_id":133247868,"body_markdown":"Now it works fine. But, the memory it takes is 73948 kilobytes when running on jdooddle.com. Its speed is good tho going from 2 milliseconds to 29 milliseconds","body":"Now it works fine. But, the memory it takes is 73948 kilobytes when running on jdooddle.com. Its speed is good tho going from 2 milliseconds to 29 milliseconds"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676996912,"post_id":75512654,"comment_id":133247909,"body_markdown":"Can it be made more efficient to the memory?","body":"Can it be made more efficient to the memory?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676997181,"post_id":75512654,"comment_id":133248009,"body_markdown":"If you&#39;re receiving the data as a stream, then yes.  You don&#39;t need the whole dataset all at once just to compare the most recent 2 values.","body":"If you&#39;re receiving the data as a stream, then yes.  You don&#39;t need the whole dataset all at once just to compare the most recent 2 values."}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676996484,"creation_date":1676915631,"answer_id":75512654,"question_id":75507073,"body_markdown":"A binary search benefits from being able to cut a problem space in half, and then eliminating one of the halves.  In this case, any half that contains both a missing value and a duplicate is indistinguishable from one that doesn&#39;t, no matter how many additional duplicates exist, so you&#39;d end up having to process both halves.\r\n\r\nMillions of integer comparisons requires very little compute time.  A linear solution would still be very fast, and in this case, is as efficient as you can be on a worst-case basis.\r\n\r\nI ran the code multiple times below on my desktop, and came up with an average of about 5ms to process an array of 10 million elements, and in all cases, it found the results in under 10ms.\r\n\r\n\tpublic class Millions {\r\n\r\n\t\tpublic static int[] fillArray(int size) {\r\n\t\t\tint[] ar=new int[size];\r\n\t\t\tint randomPos=(int)(Math.random()*size);\r\n\t\t\tSystem.out.println(&quot;Placing missing value at position &quot; + randomPos);\r\n\t\t\tint nextNum=1;\r\n\t\t\tfor (int i=0; i&lt;size; i++) {\r\n\t\t\t\tif (i==randomPos) {\r\n\t\t\t\t\tnextNum+=2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Math.random() &gt; 0.999995) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Placing duplicate value at position &quot; + i);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextNum++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tar[i] = nextNum;\r\n\t\t\t}\r\n\t\t\treturn ar;\r\n\t\t}\r\n\r\n\t\tpublic static int missingValue(int[] ar) {\r\n\t\t\tfor (int i=1; i&lt;ar.length; i++) {\r\n\t\t\t\tif (ar[i]-ar[i-1]==2) return ar[i]-1;\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint SIZE=10000000;\r\n\t\t\tint[] ar=fillArray(SIZE);\r\n\t\t\tlong start=System.currentTimeMillis();\r\n\t\t\tint missing=missingValue(ar);\r\n\t\t\tlong duration=System.currentTimeMillis()-start;\r\n\t\t\tif (missing&lt;0) {\r\n\t\t\t\tSystem.out.println(&quot;No missing value found.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Missing value = &quot; + missing);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Duration : &quot; + duration + &quot; ms&quot;);\r\n\t\t}\r\n\t}","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>A binary search benefits from being able to cut a problem space in half, and then eliminating one of the halves.  In this case, any half that contains both a missing value and a duplicate is indistinguishable from one that doesn't, no matter how many additional duplicates exist, so you'd end up having to process both halves.</p>\n<p>Millions of integer comparisons requires very little compute time.  A linear solution would still be very fast, and in this case, is as efficient as you can be on a worst-case basis.</p>\n<p>I ran the code multiple times below on my desktop, and came up with an average of about 5ms to process an array of 10 million elements, and in all cases, it found the results in under 10ms.</p>\n<pre><code>public class Millions {\n\n    public static int[] fillArray(int size) {\n        int[] ar=new int[size];\n        int randomPos=(int)(Math.random()*size);\n        System.out.println(&quot;Placing missing value at position &quot; + randomPos);\n        int nextNum=1;\n        for (int i=0; i&lt;size; i++) {\n            if (i==randomPos) {\n                nextNum+=2;\n            } else {\n                if (Math.random() &gt; 0.999995) {\n                    System.out.println(&quot;Placing duplicate value at position &quot; + i);\n                } else {\n                    nextNum++;\n                }\n            }\n            ar[i] = nextNum;\n        }\n        return ar;\n    }\n\n    public static int missingValue(int[] ar) {\n        for (int i=1; i&lt;ar.length; i++) {\n            if (ar[i]-ar[i-1]==2) return ar[i]-1;\n        }\n        return -1;\n    }\n\n    public static void main(String[] args) {\n        int SIZE=10000000;\n        int[] ar=fillArray(SIZE);\n        long start=System.currentTimeMillis();\n        int missing=missingValue(ar);\n        long duration=System.currentTimeMillis()-start;\n        if (missing&lt;0) {\n            System.out.println(&quot;No missing value found.&quot;);\n        } else {\n            System.out.println(&quot;Missing value = &quot; + missing);\n        }\n        System.out.println(&quot;Duration : &quot; + duration + &quot; ms&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75512654,"answer_count":3,"score":-1,"last_activity_date":1676996484,"creation_date":1676883164,"question_id":75507073,"body_markdown":"&gt; *Im asking this question in relation to [this](https://stackoverflow.com/questions/74704738/how-to-find-a-missing-number-if-a-range-of-millions-of-numbers-in-an-array) question posted a few months ago*\r\n\r\nCurrently, in the app I am working, I get series of numbers where numbers may be missing and duplicated but are ordered in ascending manner.\r\n\r\nThere were two problems.\r\n\r\n1.  If there were not duplicates, finding the missing number was pretty easy using the method suggested in the accepted answer of the mention question.\r\n\r\n2. But, if there are duplicates, that approach doesnt work anymore.\r\n\r\nHow can I solve the problem? No logic seems to work out. And even if it would(using loop), it wouldn&#39;t be efficient.\r\n\r\n**NOTE:** I also searched for some libraries but couldn&#39;t find any.","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<blockquote>\n<p><em>Im asking this question in relation to <a href=\"https://stackoverflow.com/questions/74704738/how-to-find-a-missing-number-if-a-range-of-millions-of-numbers-in-an-array\">this</a> question posted a few months ago</em></p>\n</blockquote>\n<p>Currently, in the app I am working, I get series of numbers where numbers may be missing and duplicated but are ordered in ascending manner.</p>\n<p>There were two problems.</p>\n<ol>\n<li><p>If there were not duplicates, finding the missing number was pretty easy using the method suggested in the accepted answer of the mention question.</p>\n</li>\n<li><p>But, if there are duplicates, that approach doesnt work anymore.</p>\n</li>\n</ol>\n<p>How can I solve the problem? No logic seems to work out. And even if it would(using loop), it wouldn't be efficient.</p>\n<p><strong>NOTE:</strong> I also searched for some libraries but couldn't find any.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676993860,"post_id":75522577,"comment_id":133246892,"body_markdown":"Not sure what this has to do with Spring or Spring Boot. Seems like more of a general design question. Extract the common part to a method, call that with the needed input.","body":"Not sure what this has to do with Spring or Spring Boot. Seems like more of a general design question. Extract the common part to a method, call that with the needed input."}],"answers":[{"tags":[],"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676993986,"creation_date":1676993986,"answer_id":75522696,"question_id":75522577,"body_markdown":"If I understand your question, I think you are looking for something akin to interfaces. I&#39;m gonna make some assumptions but it looks like you are trying to put all the fields of a class in an `Object[]` array and are looking for a way to do so without having many methods with different input parameters.. \r\n\r\nSo what you could do is create an interface `IMyInterface` (sorry for the unoriginal name):\r\n```\r\npublic interface IMyInterface {\r\n    public Object[] toObjectArray();\r\n}\r\n```\r\n\r\nYour `ClassA` and `ClassB` could then both implement this interface:\r\n```\r\npublic class ClassA implements IMyInterface {\r\n    private String a1;\r\n    private String a2;\r\n\r\n    @Override\r\n    public Object[] toObjectArray() {\r\n        return new Object[]{ getA1(), getA2() };\r\n    }\r\n}\r\n\r\npublic class ClassB implements IMyInterface {\r\n    private String b1;\r\n    private String b2;\r\n    private String b3;\r\n\r\n    @Override\r\n    public Object[] toObjectArray() {\r\n        return new Object[]{ getB1(), getB2(), getB3() };\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis would make the `ClassA` and `ClassB` in control of how the object array is built up.\r\n\r\n\r\nThen, in the rest of your application, you can simply use this `IMyInterface` instance to either accept parameters of type `ClassA` or `ClassB`:\r\n\r\n```\r\npublic void someFunction(IMyInterface item) {\r\n    Object[] obj = item.toObjectArray();\r\n    // Rest of your code..\r\n}\r\n```\r\n\r\nI&#39;m not sure if that&#39;s exactly what you&#39;re looking for.","title":"How to abstract same behavior of different classes","body":"<p>If I understand your question, I think you are looking for something akin to interfaces. I'm gonna make some assumptions but it looks like you are trying to put all the fields of a class in an <code>Object[]</code> array and are looking for a way to do so without having many methods with different input parameters..</p>\n<p>So what you could do is create an interface <code>IMyInterface</code> (sorry for the unoriginal name):</p>\n<pre><code>public interface IMyInterface {\n    public Object[] toObjectArray();\n}\n</code></pre>\n<p>Your <code>ClassA</code> and <code>ClassB</code> could then both implement this interface:</p>\n<pre><code>public class ClassA implements IMyInterface {\n    private String a1;\n    private String a2;\n\n    @Override\n    public Object[] toObjectArray() {\n        return new Object[]{ getA1(), getA2() };\n    }\n}\n\npublic class ClassB implements IMyInterface {\n    private String b1;\n    private String b2;\n    private String b3;\n\n    @Override\n    public Object[] toObjectArray() {\n        return new Object[]{ getB1(), getB2(), getB3() };\n    }\n}\n</code></pre>\n<p>This would make the <code>ClassA</code> and <code>ClassB</code> in control of how the object array is built up.</p>\n<p>Then, in the rest of your application, you can simply use this <code>IMyInterface</code> instance to either accept parameters of type <code>ClassA</code> or <code>ClassB</code>:</p>\n<pre><code>public void someFunction(IMyInterface item) {\n    Object[] obj = item.toObjectArray();\n    // Rest of your code..\n}\n</code></pre>\n<p>I'm not sure if that's exactly what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676994617,"creation_date":1676994063,"answer_id":75522715,"question_id":75522577,"body_markdown":"Create an abstraction to extract common functionality - define an interface.\r\n```\r\npublic interface MyInterface {\r\n\r\n  Object[] getValues();\r\n}\r\n```\r\nHave your classes implement it. Then refactor your handler method to accept `MyInterface`.\r\n```\r\npublic void function(MyInterface myInterface) {\r\n  Object[] values = myInterface.getValues();\r\n  //handle\r\n}\r\n```\r\nI would also suggest to read this question - [What does it mean to &quot;program to an interface&quot;?][1] - it has one of the best explanations on the topic.\r\n\r\n  [1]: https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to abstract same behavior of different classes","body":"<p>Create an abstraction to extract common functionality - define an interface.</p>\n<pre><code>public interface MyInterface {\n\n  Object[] getValues();\n}\n</code></pre>\n<p>Have your classes implement it. Then refactor your handler method to accept <code>MyInterface</code>.</p>\n<pre><code>public void function(MyInterface myInterface) {\n  Object[] values = myInterface.getValues();\n  //handle\n}\n</code></pre>\n<p>I would also suggest to read this question - <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a> - it has one of the best explanations on the topic.</p>\n"}],"owner":{"account_id":20247303,"reputation":1,"user_id":14849404,"display_name":"TriNauD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676996128,"creation_date":1676993375,"question_id":75522577,"body_markdown":"I&#39;m a Java web beginner. Today I came onto the following scenario:\r\n\r\nI have several classes with no inheritance relationship like `ClassA` and `ClassB`\r\n\r\n```lang-java\r\npublic class ClassA {\r\n    private String a1;\r\n    private String a2;\r\n}\r\n\r\npublic class ClassB {\r\n    private String b1;\r\n    private String b2;\r\n    private String b3;\r\n}\r\n```\r\n\r\nFunctions to process them are exactly the same, except for the input parameter type and some get methods.\r\n\r\n```lang-java\r\npublic void function functionA(ClassA a) {\r\n    ...\r\n    Object[] obj = new Object[]{a.getA2()};\r\n    ...\r\n    \r\n}\r\n\r\npublic void function functionB(ClassB b) {\r\n    ...\r\n    Object[] obj = new Object[]{b.getB1(),b.getB2(),b.getB3()};\r\n    ...\r\n    \r\n}\r\n```\r\nApparently, writing in this way causes code duplication and low scalability, I&#39;ve tried to make it tidy, but I have no idea about handling with the input type difference.\r\n\r\nCould any one tell me how to extract the common logic of `functionA` and `functionB`?\r\n\r\n","title":"How to abstract same behavior of different classes","body":"<p>I'm a Java web beginner. Today I came onto the following scenario:</p>\n<p>I have several classes with no inheritance relationship like <code>ClassA</code> and <code>ClassB</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassA {\n    private String a1;\n    private String a2;\n}\n\npublic class ClassB {\n    private String b1;\n    private String b2;\n    private String b3;\n}\n</code></pre>\n<p>Functions to process them are exactly the same, except for the input parameter type and some get methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void function functionA(ClassA a) {\n    ...\n    Object[] obj = new Object[]{a.getA2()};\n    ...\n    \n}\n\npublic void function functionB(ClassB b) {\n    ...\n    Object[] obj = new Object[]{b.getB1(),b.getB2(),b.getB3()};\n    ...\n    \n}\n</code></pre>\n<p>Apparently, writing in this way causes code duplication and low scalability, I've tried to make it tidy, but I have no idea about handling with the input type difference.</p>\n<p>Could any one tell me how to extract the common logic of <code>functionA</code> and <code>functionB</code>?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":0,"creation_date":1677084331,"post_id":75510453,"comment_id":133268913,"body_markdown":"possibly related to: https://bugs.chromium.org/p/chromedriver/issues/detail?id=4330","body":"possibly related to: <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=4330\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromedriver/issues/detail?id=4330</a>"},{"owner":{"account_id":24766365,"reputation":41,"user_id":18650187,"display_name":"Jeetendra Navgikar"},"score":0,"creation_date":1677094086,"post_id":75510453,"comment_id":133271714,"body_markdown":"@MarcGravell Thank you very much that was very informative","body":"@MarcGravell Thank you very much that was very informative"}],"owner":{"account_id":24766365,"reputation":41,"user_id":18650187,"display_name":"Jeetendra Navgikar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676995907,"creation_date":1676903011,"question_id":75510453,"body_markdown":"```\r\n[1676877376.906][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n```\r\n I Have this Warning Error in my console while running Selenium Scripts, Does Anyone came across this and knows how to fix it, Thank you ","title":"I Am Generating listener Error In Console","body":"<pre><code>[1676877376.906][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\n</code></pre>\n<p>I Have this Warning Error in my console while running Selenium Scripts, Does Anyone came across this and knows how to fix it, Thank you</p>\n"},{"tags":["java","mysql","reactjs","spring","spring-boot"],"owner":{"account_id":24493909,"reputation":1,"user_id":18410533,"display_name":"DestinyFcker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676995873,"creation_date":1676994179,"question_id":75522742,"body_markdown":"I am working in a group project. My task is, when user logs in they can add exercise and exerciseTimes. \r\n\r\nMy groupmates have User, UserService, UserController, UserRepository, SecurityConfiguration, JWTService, JWTAuthenticationFilter, UserDetailsService and AccountCredentials classes.\r\n\r\n\r\nI have got FitnessTrackerUser, FitnessTrackerController and FitnessTrackerUser. \r\n\r\nI want when Users log in, when they click fitnessTracker and put their exericise details the exercise information gets stored with their email/username. And when they click show they can see all their exercise information.\r\nI am using JPA repository and they are using CRUD repository.\r\n\r\n\r\n    @RestController\r\n    //@RequestMapping(&quot;/exercises&quot;)\r\n    @CrossOrigin()\r\n    \r\n    public class FitnessTrackerController {\r\n        \t@Autowired\tprivate FitnessTrackerRepository fitnessTrackerRepository;\r\n    \t\t\t\tprivate UserRepository userRepository;\r\n    \t\r\n    \t   @PostMapping(&quot;/create&quot;)\r\n    \t    public ResponseEntity&lt;Void&gt; addExercise(@RequestBody FitnessTrackerUser fitnessTrackerUser, Principal principal) {\r\n    \t        User user = userRepository.findByEmail(principal.getName());\r\n    \r\n    \t        fitnessTrackerUser.setUser(user);\r\n    \t        fitnessTrackerRepository.save(fitnessTrackerUser);\r\n    \r\n    \t        return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    \t    }\r\n    \t\r\n    \t}\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tLong id;\r\n    \t\r\n    \t@NotBlank\r\n    \tString firstname;\r\n    \t\r\n    \t@NotBlank\r\n    \tString lastname;\r\n    \t\r\n    \t@NotBlank\r\n    \tString birthday;\r\n    \t\r\n    \t@NotBlank\r\n    \t@Column(unique=true)\r\n    \tString email;\r\n    \t\r\n    \t@NotBlank\r\n    \tString username;\r\n    \t\r\n    \t@NotBlank\r\n    \tString password;\r\n    \t\r\n    \t@Column(nullable = false, updatable = false)\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@CreatedDate\r\n    \tprivate Date createdAt;\r\n    \r\n    \t@Column(nullable = false)\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@LastModifiedDate\r\n    \tprivate Date updatedAt;\r\n    \t\r\n    \t\r\n    \t public User() {\r\n    \t\t\tsuper();\r\n    \t\t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t\t\r\n    \t \r\n    \t public User(String firstname, String lastname, String birthday, String email, String username, String password) {\r\n    \t\tsuper();\r\n    \t\tthis.firstname = firstname;\r\n    \t\tthis.lastname = lastname;\r\n    \t\tthis.birthday = birthday;\r\n    \t\tthis.email = email;\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setFirstName(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getLastName() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setLastName(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getBirthday() {\r\n    \t\treturn birthday;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setBirthday(String birthday) {\r\n    \t\tthis.birthday = birthday;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [id=&quot; + id + &quot;, firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + \r\n    \t\t\t\t&quot;, birthday=&quot; + birthday + &quot;, email=&quot; + email + &quot;, username=&quot; + username + \r\n    \t\t\t\t&quot;, password=&quot; + password + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    //@Table(name = &quot;student_details&quot;)\r\n    public class FitnessTrackerUser {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t\r\n    \t\r\n    //\t@Column(name = &quot;student_name&quot;)\r\n    \tprivate String dat;\r\n    \t\t\r\n    \t\r\n    \r\n    \tpublic String getDat() {\r\n    \t\treturn dat;\r\n    \t}\r\n    \r\n    \tpublic void setDat(String dat) {\r\n    \t\tthis.dat = dat;\r\n    \t}\r\n    \r\n    \t@OneToMany(cascade=CascadeType.ALL)\r\n    \tprivate List&lt;Exercise&gt; exercise;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Exercise&gt; getExercise() {\r\n    \t\treturn exercise;\r\n    \t}\r\n    \r\n    \tpublic void setExercise(List&lt;Exercise&gt; exercise) {\r\n    \t\tthis.exercise = exercise;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@ManyToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name=&quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \t\r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \t\r\n    }","title":"How do I make user add exercise details when they log in?","body":"<p>I am working in a group project. My task is, when user logs in they can add exercise and exerciseTimes.</p>\n<p>My groupmates have User, UserService, UserController, UserRepository, SecurityConfiguration, JWTService, JWTAuthenticationFilter, UserDetailsService and AccountCredentials classes.</p>\n<p>I have got FitnessTrackerUser, FitnessTrackerController and FitnessTrackerUser.</p>\n<p>I want when Users log in, when they click fitnessTracker and put their exericise details the exercise information gets stored with their email/username. And when they click show they can see all their exercise information.\nI am using JPA repository and they are using CRUD repository.</p>\n<pre><code>@RestController\n//@RequestMapping(&quot;/exercises&quot;)\n@CrossOrigin()\n\npublic class FitnessTrackerController {\n        @Autowired  private FitnessTrackerRepository fitnessTrackerRepository;\n                private UserRepository userRepository;\n    \n       @PostMapping(&quot;/create&quot;)\n        public ResponseEntity&lt;Void&gt; addExercise(@RequestBody FitnessTrackerUser fitnessTrackerUser, Principal principal) {\n            User user = userRepository.findByEmail(principal.getName());\n\n            fitnessTrackerUser.setUser(user);\n            fitnessTrackerRepository.save(fitnessTrackerUser);\n\n            return ResponseEntity.status(HttpStatus.CREATED).build();\n        }\n    \n    }\n\n\n@Entity\n@Table(name = &quot;Users&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n    \n    @NotBlank\n    String firstname;\n    \n    @NotBlank\n    String lastname;\n    \n    @NotBlank\n    String birthday;\n    \n    @NotBlank\n    @Column(unique=true)\n    String email;\n    \n    @NotBlank\n    String username;\n    \n    @NotBlank\n    String password;\n    \n    @Column(nullable = false, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreatedDate\n    private Date createdAt;\n\n    @Column(nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    private Date updatedAt;\n    \n    \n     public User() {\n            super();\n            // TODO Auto-generated constructor stub\n    }\n        \n     \n     public User(String firstname, String lastname, String birthday, String email, String username, String password) {\n        super();\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.birthday = birthday;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n    }\n    \n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n    public String getFirstName() {\n        return firstname;\n    }\n\n\n    public void setFirstName(String firstname) {\n        this.firstname = firstname;\n    }\n    \n    \n    public String getLastName() {\n        return lastname;\n    }\n\n\n    public void setLastName(String lastname) {\n        this.lastname = lastname;\n    }\n    \n    \n    public String getBirthday() {\n        return birthday;\n    }\n\n\n    public void setBirthday(String birthday) {\n        this.birthday = birthday;\n    }\n    \n    \n    public String getUsername() {\n        return username;\n    }\n\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n\n    public String getPassword() {\n        return password;\n    }\n\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + \n                &quot;, birthday=&quot; + birthday + &quot;, email=&quot; + email + &quot;, username=&quot; + username + \n                &quot;, password=&quot; + password + &quot;]&quot;;\n    }\n    \n    \n}\n\n\n\n\n@Entity\n//@Table(name = &quot;student_details&quot;)\npublic class FitnessTrackerUser {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    \n//  @Column(name = &quot;student_name&quot;)\n    private String dat;\n        \n    \n\n    public String getDat() {\n        return dat;\n    }\n\n    public void setDat(String dat) {\n        this.dat = dat;\n    }\n\n    @OneToMany(cascade=CascadeType.ALL)\n    private List&lt;Exercise&gt; exercise;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public List&lt;Exercise&gt; getExercise() {\n        return exercise;\n    }\n\n    public void setExercise(List&lt;Exercise&gt; exercise) {\n        this.exercise = exercise;\n    }\n\n\n\n    @ManyToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;)\n    private User user;\n    \n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    \n}\n</code></pre>\n"},{"tags":["java","api","real-time","dashboard"],"answers":[{"comments":[{"owner":{"account_id":24400981,"reputation":11,"user_id":18329733,"display_name":"Nithish Subramaniyan"},"score":0,"creation_date":1677090537,"post_id":75522724,"comment_id":133270743,"body_markdown":"Thanks for the solution, but I need some other options than web sockets. It will be helpful if you suggest something.","body":"Thanks for the solution, but I need some other options than web sockets. It will be helpful if you suggest something."}],"tags":[],"owner":{"account_id":27683139,"reputation":16,"user_id":21131458,"display_name":"Nepmeister"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676994112,"creation_date":1676994112,"answer_id":75522724,"question_id":75522672,"body_markdown":"A solution to push data realtime from server to client can be done through Webockets. Using WebSockets you can push data from the server to the client without the client having to poll the server for updates. ","title":"Real Time Dashboard - Data refresh issue","body":"<p>A solution to push data realtime from server to client can be done through Webockets. Using WebSockets you can push data from the server to the client without the client having to poll the server for updates.</p>\n"},{"tags":[],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676995725,"creation_date":1676995725,"answer_id":75523030,"question_id":75522672,"body_markdown":"You can use Kafka. Let all databases write to some specific Kafka topic. Your application will read messages from this topic when it needs to. Thus, you will get rid of the need to write different queries for different databases.","title":"Real Time Dashboard - Data refresh issue","body":"<p>You can use Kafka. Let all databases write to some specific Kafka topic. Your application will read messages from this topic when it needs to. Thus, you will get rid of the need to write different queries for different databases.</p>\n"}],"owner":{"account_id":24400981,"reputation":11,"user_id":18329733,"display_name":"Nithish Subramaniyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75522724,"answer_count":2,"score":-1,"last_activity_date":1676995725,"creation_date":1676993835,"question_id":75522672,"body_markdown":"I want to build an dashboard to visualize data from multiple database through an API. I don&#39;t want to pull data at regular interval because each database have individual API so I need to pull from 25 different servers.\r\n\r\nI need some solution to push from server side to the dashboard","title":"Real Time Dashboard - Data refresh issue","body":"<p>I want to build an dashboard to visualize data from multiple database through an API. I don't want to pull data at regular interval because each database have individual API so I need to pull from 25 different servers.</p>\n<p>I need some solution to push from server side to the dashboard</p>\n"},{"tags":["java","spring","multithreading","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1676994041,"post_id":75519335,"comment_id":133246951,"body_markdown":"How are you calling get() here? What annotations are used for Foo1&lt;K&gt; ?","body":"How are you calling get() here? What annotations are used for Foo1&lt;K&gt; ?"},{"owner":{"account_id":12563685,"reputation":2227,"user_id":9140438,"accept_rate":33,"display_name":"Pankaj Sharma"},"score":0,"creation_date":1676995733,"post_id":75519335,"comment_id":133247500,"body_markdown":"@Mukti09 Foo1 is inherited by a class let say `FooImpl`, I am add those details in question","body":"@Mukti09 Foo1 is inherited by a class let say <code>FooImpl</code>, I am add those details in question"}],"owner":{"account_id":12563685,"reputation":2227,"user_id":9140438,"accept_rate":33,"display_name":"Pankaj Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676995724,"creation_date":1676976119,"question_id":75519335,"body_markdown":"I am adding values in ConcurrentHashMap by main thread. While trying to access the ConcurrentHashMap from another thread it&#39;s always returning empty list.\r\n\r\nI am sure the values are updated by main thread.\r\n\r\nHere is my code\r\n\r\n```\r\npublic abstract class Foo1&lt;K&gt; implements Foo {\r\n\r\n    ...\r\n    private final ConcurrentHashMap&lt;K, String&gt; keyToRequestMapping = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    public AttributeSet get(String request) {\r\n\r\n        //Some logic\r\n        ...\r\n\r\n        keyToRequestMapping.put(key, request);\r\n\r\n        ...\r\n    }\r\n\r\n    @Override\r\n    @Async\r\n    @Scheduled(fixedDelay = REFRESH_WINDOW_SECONDS, initialDelay = 0, timeUnit = TimeUnit.SECONDS)\r\n    public synchronized void runPeriodicUpdateForCache() {\r\n\r\n        Set&lt;K&gt; key_set = keyToRequestMapping.keySet();\r\n        Iterator&lt;K&gt; itr = key_set.iterator();\r\n\r\n        log.debug(&quot;ketToRequestMapping keys {}&quot;, key_set); // Logging empty lis\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\nThis Food1 class in extended \r\n\r\n```\r\n\r\n@Component\r\n@EnableAsync\r\n@EnableScheduling\r\npublic class FooImpl extends Foo1&lt;String&gt; {\r\n\r\n\r\n    public static synchronized FooImpl getInstance() {\r\n        return StaticApplicationContext.getContext().getBean(FooImpl.class);\r\n    }\r\n\r\n    public FooImpl() {\r\n        super(configStoreKey, getResponseAttributes());\r\n    }\r\n\r\n    @Override\r\n    public String getCacheKey(AttributeSet request) {\r\n        return request.get(&quot;ABC&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\n// Usage\r\n\r\nFooImpl.getInstance()get(request);\r\n\r\n```\r\n\r\nUnable to understand what&#39;s wrong with this.. also tried to remove `synchronized` from `runPeriodicUpdateForCache` function but no luck.\r\nI also tried to make keyToRequestMapping `volatile` but result was same.\r\nNot able to understand why I am getting the empty list.","title":"ConcurrentHashMap updated values not reflecting in another thread","body":"<p>I am adding values in ConcurrentHashMap by main thread. While trying to access the ConcurrentHashMap from another thread it's always returning empty list.</p>\n<p>I am sure the values are updated by main thread.</p>\n<p>Here is my code</p>\n<pre><code>public abstract class Foo1&lt;K&gt; implements Foo {\n\n    ...\n    private final ConcurrentHashMap&lt;K, String&gt; keyToRequestMapping = new ConcurrentHashMap&lt;&gt;();\n\n\n    @Override\n    public AttributeSet get(String request) {\n\n        //Some logic\n        ...\n\n        keyToRequestMapping.put(key, request);\n\n        ...\n    }\n\n    @Override\n    @Async\n    @Scheduled(fixedDelay = REFRESH_WINDOW_SECONDS, initialDelay = 0, timeUnit = TimeUnit.SECONDS)\n    public synchronized void runPeriodicUpdateForCache() {\n\n        Set&lt;K&gt; key_set = keyToRequestMapping.keySet();\n        Iterator&lt;K&gt; itr = key_set.iterator();\n\n        log.debug(&quot;ketToRequestMapping keys {}&quot;, key_set); // Logging empty lis\n        ....\n    }\n}\n</code></pre>\n<p>This Food1 class in extended</p>\n<pre><code>\n@Component\n@EnableAsync\n@EnableScheduling\npublic class FooImpl extends Foo1&lt;String&gt; {\n\n\n    public static synchronized FooImpl getInstance() {\n        return StaticApplicationContext.getContext().getBean(FooImpl.class);\n    }\n\n    public FooImpl() {\n        super(configStoreKey, getResponseAttributes());\n    }\n\n    @Override\n    public String getCacheKey(AttributeSet request) {\n        return request.get(&quot;ABC&quot;);\n    }\n\n}\n\n\n// Usage\n\nFooImpl.getInstance()get(request);\n\n</code></pre>\n<p>Unable to understand what's wrong with this.. also tried to remove <code>synchronized</code> from <code>runPeriodicUpdateForCache</code> function but no luck.\nI also tried to make keyToRequestMapping <code>volatile</code> but result was same.\nNot able to understand why I am getting the empty list.</p>\n"},{"tags":["java","gremlin","tinkerpop","tinkerpop3"],"answers":[{"comments":[{"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"score":0,"creation_date":1676995885,"post_id":75522958,"comment_id":133247545,"body_markdown":"Yes, there is. The gremlin is generated, and the traversal generation doesn&#39;t know from the get-go which gremlin will end up as the &quot;root traversal&quot; and which ones will be &quot;sub traversals&quot;. Since a gremlin can only be turned into a sub-traversal if it uses the anonymous traversal as starts, we use them for *all* our traversals. Only at the very end, when the traversal generation is done, we bind the traversal which ended up as the root traversal to our actual graph.","body":"Yes, there is. The gremlin is generated, and the traversal generation doesn&#39;t know from the get-go which gremlin will end up as the &quot;root traversal&quot; and which ones will be &quot;sub traversals&quot;. Since a gremlin can only be turned into a sub-traversal if it uses the anonymous traversal as starts, we use them for <i>all</i> our traversals. Only at the very end, when the traversal generation is done, we bind the traversal which ended up as the root traversal to our actual graph."}],"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676995364,"creation_date":1676995364,"answer_id":75522958,"question_id":75522878,"body_markdown":"Is there a reason that you need to build the query using an Anonymous Traversal instead of off of a Graph Traversal Source object?\r\n\r\nIf you have a Graph Traversal Source object, you can do something like:\r\n\r\n```\r\nquery = g.V()\r\n\r\nquery = query.has(&#39;name&#39;,&#39;Bob&#39;)\r\n\r\nquery = query.out(&#39;friendsWith&#39;)\r\n```\r\n\r\nAnd then the query only gets executed when you add the terminal step:\r\n```\r\nresults = query.toList()\r\n```","title":"How can I apply an anonymous traversal to a graph in Gremlin?","body":"<p>Is there a reason that you need to build the query using an Anonymous Traversal instead of off of a Graph Traversal Source object?</p>\n<p>If you have a Graph Traversal Source object, you can do something like:</p>\n<pre><code>query = g.V()\n\nquery = query.has('name','Bob')\n\nquery = query.out('friendsWith')\n</code></pre>\n<p>And then the query only gets executed when you add the terminal step:</p>\n<pre><code>results = query.toList()\n</code></pre>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676995364,"creation_date":1676994930,"question_id":75522878,"body_markdown":"I&#39;ve got a (generated) anonymous gremlin traversal. I know for a fact that:\r\n- it contains start steps (`.V()` / `.E()`)\r\n- it has been created exclusively using anonmous traversal (the `__` class)\r\n\r\nNow, I want to evaluate the traversal on my real graph. How exactly do I do this in the Gremlin 3.x API?\r\n\r\nI already tried:\r\n\r\n```java\r\nanonymousTraversal.asAdmin().setGraph(myGraph);\r\nvar result = anonymousTraversal.toList();\r\n```\r\n\r\n... but that didn&#39;t produce any data. I also tried the traversal union trick:\r\n\r\n```java\r\nmyGraph.traversal().inject(0).union(anonymousTraversal)\r\n```\r\n\r\nThis produced the expected result, but I feel that this is a bit overkill for the task at hand. Is there a better way to do this?","title":"How can I apply an anonymous traversal to a graph in Gremlin?","body":"<p>I've got a (generated) anonymous gremlin traversal. I know for a fact that:</p>\n<ul>\n<li>it contains start steps (<code>.V()</code> / <code>.E()</code>)</li>\n<li>it has been created exclusively using anonmous traversal (the <code>__</code> class)</li>\n</ul>\n<p>Now, I want to evaluate the traversal on my real graph. How exactly do I do this in the Gremlin 3.x API?</p>\n<p>I already tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>anonymousTraversal.asAdmin().setGraph(myGraph);\nvar result = anonymousTraversal.toList();\n</code></pre>\n<p>... but that didn't produce any data. I also tried the traversal union trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myGraph.traversal().inject(0).union(anonymousTraversal)\n</code></pre>\n<p>This produced the expected result, but I feel that this is a bit overkill for the task at hand. Is there a better way to do this?</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676995316,"creation_date":1676995316,"answer_id":75522950,"question_id":75486603,"body_markdown":"Support for Oracle 11g was dropped in [Flyway 5.0.0][1]\r\n\r\n&gt; * Oracle 12.1 is now the new minimum supported by Flyway Community\r\n&gt; Edition\r\n\r\nThe latest community version to support Oracle 11g is Flyway 4.2.0.\r\n\r\n  [1]: https://flywaydb.org/documentation/learnmore/releaseNotes.html#5.0.0","title":"Why even older version of flyway dont let using them with Oracle XE 11g?","body":"<p>Support for Oracle 11g was dropped in <a href=\"https://flywaydb.org/documentation/learnmore/releaseNotes.html#5.0.0\" rel=\"nofollow noreferrer\">Flyway 5.0.0</a></p>\n<blockquote>\n<ul>\n<li>Oracle 12.1 is now the new minimum supported by Flyway Community\nEdition</li>\n</ul>\n</blockquote>\n<p>The latest community version to support Oracle 11g is Flyway 4.2.0.</p>\n"}],"owner":{"account_id":27813095,"reputation":13,"user_id":21235098,"display_name":"RubySpirit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75522950,"answer_count":1,"score":1,"last_activity_date":1676995316,"creation_date":1676649757,"question_id":75486603,"body_markdown":"Is there any old version of flyway that supports Oracle XE 11g. I just got down to 5.7.1 version and still the same error :\r\n` Flyway Enterprise Edition or Oracle upgrade required: Oracle 11.2 is past regular support by Oracle and no longer supported by Flyway Community Edition and Flyway Pro Edition, but still supported by Flyway Enterprise Edition.`\r\n\r\nI have tried downgrading flyway version from 8 to 5 and still the same error. Is there any chances to resolve or only one thing that can help is to update oracle XE?\r\nI have found https://stackoverflow.com/questions/61951224/flyway-with-oracle  and tried downgrading but same error appears\r\n","title":"Why even older version of flyway dont let using them with Oracle XE 11g?","body":"<p>Is there any old version of flyway that supports Oracle XE 11g. I just got down to 5.7.1 version and still the same error :\n<code> Flyway Enterprise Edition or Oracle upgrade required: Oracle 11.2 is past regular support by Oracle and no longer supported by Flyway Community Edition and Flyway Pro Edition, but still supported by Flyway Enterprise Edition.</code></p>\n<p>I have tried downgrading flyway version from 8 to 5 and still the same error. Is there any chances to resolve or only one thing that can help is to update oracle XE?\nI have found <a href=\"https://stackoverflow.com/questions/61951224/flyway-with-oracle\">Flyway With Oracle</a>  and tried downgrading but same error appears</p>\n"},{"tags":["java","datetime","java-8","date-conversion","hour"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1676640301,"post_id":75484763,"comment_id":133183117,"body_markdown":"Unless it is a legacy requirement you would be much better off using `LocalDateTime` from the `java.time` package as `Date` and it&#39;s supporting methods are deprecated and buggy.","body":"Unless it is a legacy requirement you would be much better off using <code>LocalDateTime</code> from the <code>java.time</code> package as <code>Date</code> and it&#39;s supporting methods are deprecated and buggy."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676640655,"post_id":75484763,"comment_id":133183235,"body_markdown":"Please clarify. If you mean `java.util.Date`, then you are right that it prints like `Sun Feb 13 05:30:00 IST 2023`, but not like `12-FEB-23`. Also if it was already a `Date` and you wanted it converted to `Date`, there would be no conversion to do. So what is `oldDate`??","body":"Please clarify. If you mean <code>java.util.Date</code>, then you are right that it prints like <code>Sun Feb 13 05:30:00 IST 2023</code>, but not like <code>12-FEB-23</code>. Also if it was already a <code>Date</code> and you wanted it converted to <code>Date</code>, there would be no conversion to do. So what is <code>oldDate</code>??"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676640813,"post_id":75484763,"comment_id":133183286,"body_markdown":"As @WJS said, avoid the need to a `java.util.Date` if there is any way you can. That class was poorly designed and is long outdated. Depending on your situation and requirements you may want to use `LocalDate`, `ZonedDateTime` and/or other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"As @WJS said, avoid the need to a <code>java.util.Date</code> if there is any way you can. That class was poorly designed and is long outdated. Depending on your situation and requirements you may want to use <code>LocalDate</code>, <code>ZonedDateTime</code> and/or other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676640936,"post_id":75484763,"comment_id":133183312,"body_markdown":"By IST do you mean India Standard Time? Other interpretations exist. And which RFC does your title refer to? They have got numbers. And Java has not got any RFC date time type, so I am worried that you may be asking the impossible.","body":"By IST do you mean India Standard Time? Other interpretations exist. And which RFC does your title refer to? They have got numbers. And Java has not got any RFC date time type, so I am worried that you may be asking the impossible."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676641537,"post_id":75484763,"comment_id":133183528,"body_markdown":"None of the [Java] [date-time types](https://docs.oracle.com/javase/tutorial/datetime/index.html) have a format. The format is used when you want to display a string representation of that type. As mentioned in the other [comment](https://stackoverflow.com/questions/75484763/convert-date-to-rfc-date-time#comment133183235_75484763), the default string representation of a `java.util.Date` object is as shown in your question, i.e. `Sun Feb 13 05:30:00 IST 2023`. So your question doesn&#39;t really make sense.","body":"None of the [Java] <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date-time types</a> have a format. The format is used when you want to display a string representation of that type. As mentioned in the other <a href=\"https://stackoverflow.com/questions/75484763/convert-date-to-rfc-date-time#comment133183235_75484763\">comment</a>, the default string representation of a <code>java.util.Date</code> object is as shown in your question, i.e. <code>Sun Feb 13 05:30:00 IST 2023</code>. So your question doesn&#39;t really make sense."},{"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"score":0,"creation_date":1676644504,"post_id":75484763,"comment_id":133184392,"body_markdown":"Yeah. We dont want to use java.util.Date package.\nDate oldDate = &quot;13-FEB-23&quot;\nDateFormat formatter&#160;&#160;&#160;&#160;&#160;&#160; = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\nDate&#160;&#160;&#160;&#160;&#160;&#160; newDate&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= formatter.parse(oldDate);\nwith this, we are getting Sun Feb 13 00:00:00 IST 2023\nSo, we are setting hours to this as newDate.setHours(5)\nbut this is deprecated. So, we dont want to use it anymore.","body":"Yeah. We dont want to use java.util.Date package. Date oldDate = &quot;13-FEB-23&quot; DateFormat formatter       = new SimpleDateFormat(&quot;dd-MMM-yy&quot;); Date       newDate        = formatter.parse(oldDate); with this, we are getting Sun Feb 13 00:00:00 IST 2023 So, we are setting hours to this as newDate.setHours(5) but this is deprecated. So, we dont want to use it anymore."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676645167,"post_id":75484763,"comment_id":133184572,"body_markdown":"Surely that must be `String oldDate = &quot;13-FEB-23&quot;;`?? Otherwise your code can‚Äôt compile. So `String`, not `Date` here. Please take care and be precise. It‚Äôs not fair that people who are trying to help you should guess and ask you repeatedly before the question gets clear.","body":"Surely that must be <code>String oldDate = &quot;13-FEB-23&quot;;</code>?? Otherwise your code can‚Äôt compile. So <code>String</code>, not <code>Date</code> here. Please take care and be precise. It‚Äôs not fair that people who are trying to help you should guess and ask you repeatedly before the question gets clear."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676645392,"post_id":75484763,"comment_id":133184632,"body_markdown":"I understand you don‚Äôt want a `java.util.Date`. That‚Äôs nice. So will you accept a `LocalDate`?  A `ZonedDateTime`? An `Instant`? What are your requirements? `LocalDate` seems most natural to me. Then you neither need to care about time of day nor time zone nor UTC offset.","body":"I understand you don‚Äôt want a <code>java.util.Date</code>. That‚Äôs nice. So will you accept a <code>LocalDate</code>?  A <code>ZonedDateTime</code>? An <code>Instant</code>? What are your requirements? <code>LocalDate</code> seems most natural to me. Then you neither need to care about time of day nor time zone nor UTC offset."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676695172,"post_id":75484763,"comment_id":133194108,"body_markdown":"I still don‚Äôt get all of what you are trying to do. Some steps of it may be `LocalDate .of(2023, Month.FEBRUARY, 13) .atStartOfDay(ZoneOffset.UTC) .withZoneSameInstant(ZoneId.of(&quot;Asia/Kolkata&quot;))`. Which yields `2023-02-13T05:30+05:30[Asia/Kolkata]`. See also [Java 8 DateTimeFormatter for month in all CAPS not working \\[duplicate\\]](https://stackoverflow.com/questions/33520491/java-8-datetimeformatter-for-month-in-all-caps-not-working).","body":"I still don‚Äôt get all of what you are trying to do. Some steps of it may be <code>LocalDate .of(2023, Month.FEBRUARY, 13) .atStartOfDay(ZoneOffset.UTC) .withZoneSameInstant(ZoneId.of(&quot;Asia&#47;Kolkata&quot;))</code>. Which yields <code>2023-02-13T05:30+05:30[Asia&#47;Kolkata]</code>. See also <a href=\"https://stackoverflow.com/questions/33520491/java-8-datetimeformatter-for-month-in-all-caps-not-working\">Java 8 DateTimeFormatter for month in all CAPS not working &#91;duplicate&#93;</a>."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676896732,"post_id":75498993,"comment_id":133223792,"body_markdown":"Likely the OP meant [`DateTimeFormatter.RFC_1123_DATE_TIME`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME), although their example is missing the comma after the abbreviated day name and the time zone is placed before the year instead of after. As far as I&#39;m aware, there is no RFC with a date format as shown in the question.","body":"Likely the OP meant <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.RFC_1123_DATE_TIME</code></a>, although their example is missing the comma after the abbreviated day name and the time zone is placed before the year instead of after. As far as I&#39;m aware, there is no RFC with a date format as shown in the question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676912669,"post_id":75498993,"comment_id":133228574,"body_markdown":"@MarkRotteveel I added some code for that, in response to your Comment. But RFC 1123 does not include the ‚ÄúIST‚Äù, only an offset.","body":"@MarkRotteveel I added some code for that, in response to your Comment. But RFC 1123 does not include the ‚ÄúIST‚Äù, only an offset."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676985381,"post_id":75498993,"comment_id":133243867,"body_markdown":"The RFC 1123 format includes offsets and a limited number of zone IDs. The Java `RFC_1123_DATE_TIME` only supports GMT and offsets, but the RFC 1123 definition (which modifies the [RFC 822 definition](https://www.rfc-editor.org/rfc/rfc822#section-5) lists a number of zones, but IST is not one of them).","body":"The RFC 1123 format includes offsets and a limited number of zone IDs. The Java <code>RFC_1123_DATE_TIME</code> only supports GMT and offsets, but the RFC 1123 definition (which modifies the <a href=\"https://www.rfc-editor.org/rfc/rfc822#section-5\" rel=\"nofollow noreferrer\">RFC 822 definition</a> lists a number of zones, but IST is not one of them)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676995063,"creation_date":1676796930,"answer_id":75498993,"question_id":75484763,"body_markdown":"Apparently you want to:\r\n\r\n 1. Parse a string representing a date.\r\n 2. Determine the first moment of the day an that date as seen in a particular time zone.\r\n\r\nFirst, parsing.\r\n\r\nThe trick here is that all caps for a month abbreviation does not fit the cultural norms of any locale I know of. So we must build a custom formatter that ignores case.\r\n\r\n```java\r\nDateTimeFormatter f =\r\n        new DateTimeFormatterBuilder()\r\n                .parseCaseInsensitive()\r\n                .appendPattern( &quot;dd-MMM-uu&quot; )\r\n                .toFormatter( Locale.US );\r\n```\r\n\r\nDo the parsing, to produce a `LocalDate` object representing the date alone.\r\n\r\n```java\r\nString input = &quot;12-FEB-23&quot;;\r\nLocalDate localDate = LocalDate.parse( input , f );\r\n```\r\n\r\nSpecify your desired time zone. `IST` is not a [real time zone][1], so I do not know what you meant exactly. I suppose from your example offset of five and half hours ahead of UTC that you meant `Asia/Kolkata` rather than `Europe/Dublin`.\r\n\r\n```java\r\nZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; );\r\n```\r\n\r\nDetermine the first moment of the day on that date in that zone. Never assume the day starts at 00:00. Some dates in same zones may start at another time such as 01:00. Let *java.time* determine the start.\r\n\r\n```java\r\nZonedDateTime zdt = localDate.atStartOfDay( z );\r\n```\r\n\r\n&gt;Sun Feb 13 05:30:00 IST 2023\r\n\r\nIf you mean to generate text in that format, define a formatter to suit your taste. Use the `DateTimeFormatter` class. Search Stack Overflow to learn more as this has been covered many many times already.\r\n\r\n&gt;RFC Date time\r\n\r\nIf you meant a [*Request For Comments*][2], you will need to specify which one. \r\n\r\nIf you meant [RFC 1123][3], your example is incorrect, missing the comma after the day of the week. \r\n\r\n    String output = zdt.format( DateTimeFormatter.RFC_1123_DATE_TIME ) ; \r\n\r\nSee code [run at Ideone.com][4]. \r\n\r\n&gt; Sun, 12 Feb 2023 00:00:00 +0530\r\n\r\n\r\nBy the way, this format is outmoded. Modern protocols adopt [ISO 8601][5] for date-time formats in text. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.wikipedia.org/wiki/Request_for_Comments\r\n  [3]: https://www.rfc-editor.org/rfc/rfc1123\r\n  [4]: https://ideone.com/t7DqgC\r\n  [5]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"convert Date to RFC Date time","body":"<p>Apparently you want to:</p>\n<ol>\n<li>Parse a string representing a date.</li>\n<li>Determine the first moment of the day an that date as seen in a particular time zone.</li>\n</ol>\n<p>First, parsing.</p>\n<p>The trick here is that all caps for a month abbreviation does not fit the cultural norms of any locale I know of. So we must build a custom formatter that ignores case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter f =\n        new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .appendPattern( &quot;dd-MMM-uu&quot; )\n                .toFormatter( Locale.US );\n</code></pre>\n<p>Do the parsing, to produce a <code>LocalDate</code> object representing the date alone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;12-FEB-23&quot;;\nLocalDate localDate = LocalDate.parse( input , f );\n</code></pre>\n<p>Specify your desired time zone. <code>IST</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a>, so I do not know what you meant exactly. I suppose from your example offset of five and half hours ahead of UTC that you meant <code>Asia/Kolkata</code> rather than <code>Europe/Dublin</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; );\n</code></pre>\n<p>Determine the first moment of the day on that date in that zone. Never assume the day starts at 00:00. Some dates in same zones may start at another time such as 01:00. Let <em>java.time</em> determine the start.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt = localDate.atStartOfDay( z );\n</code></pre>\n<blockquote>\n<p>Sun Feb 13 05:30:00 IST 2023</p>\n</blockquote>\n<p>If you mean to generate text in that format, define a formatter to suit your taste. Use the <code>DateTimeFormatter</code> class. Search Stack Overflow to learn more as this has been covered many many times already.</p>\n<blockquote>\n<p>RFC Date time</p>\n</blockquote>\n<p>If you meant a <a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\" rel=\"nofollow noreferrer\"><em>Request For Comments</em></a>, you will need to specify which one.</p>\n<p>If you meant <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a>, your example is incorrect, missing the comma after the day of the week.</p>\n<pre><code>String output = zdt.format( DateTimeFormatter.RFC_1123_DATE_TIME ) ; \n</code></pre>\n<p>See code <a href=\"https://ideone.com/t7DqgC\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>Sun, 12 Feb 2023 00:00:00 +0530</p>\n</blockquote>\n<p>By the way, this format is outmoded. Modern protocols adopt <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> for date-time formats in text.</p>\n"}],"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676896882,"answer_count":1,"score":-1,"last_activity_date":1676995063,"creation_date":1676639543,"question_id":75484763,"body_markdown":"I have a date field in the input as below\r\n```\r\noldDate = 12-FEB-23\r\n```\r\nI want to convert this to \r\n```\r\nnewDate = Sun Feb 13 05:30:00 IST 2023\r\n```\r\nusing java 8 . Please help\r\nBoth oldDate and newDate are of Date type.\r\n\r\nWe dont want to use the `java.util.Date` class.\r\n\r\n```\r\nString oldDate = &quot;13-FEB-23&quot;\r\nDateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\r\nDate newDate = formatter.parse(oldDate);\r\n```\r\n\r\nWith this, we are getting `Sun Feb 13 00:00:00 IST 2023`. So, we are setting hours to this as `newDate.setHours(5)`, but this is deprecated. So, we don‚Äôt want to use it anymore.","title":"convert Date to RFC Date time","body":"<p>I have a date field in the input as below</p>\n<pre><code>oldDate = 12-FEB-23\n</code></pre>\n<p>I want to convert this to</p>\n<pre><code>newDate = Sun Feb 13 05:30:00 IST 2023\n</code></pre>\n<p>using java 8 . Please help\nBoth oldDate and newDate are of Date type.</p>\n<p>We dont want to use the <code>java.util.Date</code> class.</p>\n<pre><code>String oldDate = &quot;13-FEB-23&quot;\nDateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\nDate newDate = formatter.parse(oldDate);\n</code></pre>\n<p>With this, we are getting <code>Sun Feb 13 00:00:00 IST 2023</code>. So, we are setting hours to this as <code>newDate.setHours(5)</code>, but this is deprecated. So, we don‚Äôt want to use it anymore.</p>\n"},{"tags":["java","intellij-idea","apple-silicon"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1676991592,"post_id":75522044,"comment_id":133246087,"body_markdown":"Do you have to use jdk-19? In IntelliJ you can choose a lower jdk version as your project jdk. Curious if you would get passed issues if you used a lower jdk version.","body":"Do you have to use jdk-19? In IntelliJ you can choose a lower jdk version as your project jdk. Curious if you would get passed issues if you used a lower jdk version."},{"owner":{"account_id":27842640,"reputation":13,"user_id":21258819,"display_name":"MatteoCampa"},"score":0,"creation_date":1676992307,"post_id":75522044,"comment_id":133246348,"body_markdown":"@ZackMacomber i tried with jdk-17 and i have the same issue. I tested it also with other computers, and it works with jdk-19, but not on mine.","body":"@ZackMacomber i tried with jdk-17 and i have the same issue. I tested it also with other computers, and it works with jdk-19, but not on mine."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1676993899,"post_id":75522044,"comment_id":133246905,"body_markdown":"Does https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name look like your case? Are there any emojis in the project paths or file names?","body":"Does <a href=\"https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-281300/&hellip;</a> look like your case? Are there any emojis in the project paths or file names?"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676994947,"creation_date":1676994947,"answer_id":75522880,"question_id":75522044,"body_markdown":"This problem can occur when there are special characters in the project paths, like emojis. The solution is to move the project into a different directory without emojis.\r\n\r\n- [Related IntelliJ IDEA issue](https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name).","title":"FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed","body":"<p>This problem can occur when there are special characters in the project paths, like emojis. The solution is to move the project into a different directory without emojis.</p>\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name\" rel=\"nofollow noreferrer\">Related IntelliJ IDEA issue</a>.</li>\n</ul>\n"}],"owner":{"account_id":27842640,"reputation":13,"user_id":21258819,"display_name":"MatteoCampa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75522880,"answer_count":1,"score":1,"last_activity_date":1676994947,"creation_date":1676990592,"question_id":75522044,"body_markdown":"i&#39;m trying to compile my Java project on IntelliJ, but i have this issue:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\r\n\tat java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\r\n\tat java.base/jdk.internal.loader.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1218)\r\n\tat java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:491)\r\n\tat java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:435)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\n(jdk-19, apple silicon)\r\n\r\nThanks\r\n\r\nMaybe is due to my JDK and some configurations about Java","title":"FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed","body":"<p>i'm trying to compile my Java project on IntelliJ, but i have this issue:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\n    at java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\n    at java.base/jdk.internal.loader.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1218)\n    at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:491)\n    at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\n    at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\n    at java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:435)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>(jdk-19, apple silicon)</p>\n<p>Thanks</p>\n<p>Maybe is due to my JDK and some configurations about Java</p>\n"},{"tags":["java","intellij-idea","yaml","intellij-plugin"],"comments":[{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1644161221,"post_id":70999895,"comment_id":125526878,"body_markdown":"Elaborate on your question, please. What is the project type? How it is configured and how do you check what .yaml file is in use? How do you run the application?","body":"Elaborate on your question, please. What is the project type? How it is configured and how do you check what .yaml file is in use? How do you run the application?"},{"owner":{"account_id":11179248,"reputation":11910,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1644161338,"post_id":70999895,"comment_id":125526913,"body_markdown":"If it is Spring application and you run it via IntelliJ IDEA, you may set the active profile using environment variables. See https://stackoverflow.com/a/42461757/8203759","body":"If it is Spring application and you run it via IntelliJ IDEA, you may set the active profile using environment variables. See <a href=\"https://stackoverflow.com/a/42461757/8203759\">stackoverflow.com/a/42461757/8203759</a>"}],"answers":[{"tags":[],"owner":{"account_id":9823844,"reputation":43,"user_id":7277596,"display_name":"user7277596"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676994712,"creation_date":1676994712,"answer_id":75522838,"question_id":70999895,"body_markdown":"Go to the run configuration and add to CLI arguments:\r\n\r\n    --spring.config.additional-location=classpath:application-local.yml --spring.profiles.active=local","title":"How to point to application-local.yml instead of application-dev.yml in IntelliJ?","body":"<p>Go to the run configuration and add to CLI arguments:</p>\n<pre><code>--spring.config.additional-location=classpath:application-local.yml --spring.profiles.active=local\n</code></pre>\n"}],"owner":{"account_id":16094768,"reputation":51,"user_id":11617238,"display_name":"Prudhvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6155,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676994712,"creation_date":1644078535,"question_id":70999895,"body_markdown":"How to point to local application.yml instead of other .yml files. IntelliJ is taking application.yml by default. I want to change configuration to point to local yml, so that I can run  application in my local.","title":"How to point to application-local.yml instead of application-dev.yml in IntelliJ?","body":"<p>How to point to local application.yml instead of other .yml files. IntelliJ is taking application.yml by default. I want to change configuration to point to local yml, so that I can run  application in my local.</p>\n"},{"tags":["java","spring","logging","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676989609,"post_id":75518998,"comment_id":133245322,"body_markdown":"This seems like a log4j / logback config, more than anything to do with Kafka. Or can you use external tooling to obfuscate log patterns","body":"This seems like a log4j / logback config, more than anything to do with Kafka. Or can you use external tooling to obfuscate log patterns"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1676994064,"post_id":75518998,"comment_id":133246958,"body_markdown":"There is a static method on `KafkaUtils` to format producer and consumer records for logging.","body":"There is a static method on <code>KafkaUtils</code> to format producer and consumer records for logging."}],"answers":[{"comments":[{"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"score":0,"creation_date":1677036605,"post_id":75522708,"comment_id":133256571,"body_markdown":"is the formatter will works for Error log only, or other log level will be affected too?","body":"is the formatter will works for Error log only, or other log level will be affected too?"},{"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"score":0,"creation_date":1677036806,"post_id":75522708,"comment_id":133256591,"body_markdown":"what java version and kafka version that provide the `setProducerRecordFormatter` method. I use java 11 and didn&#39;t find it","body":"what java version and kafka version that provide the <code>setProducerRecordFormatter</code> method. I use java 11 and didn&#39;t find it"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1677072955,"post_id":75522708,"comment_id":133264959,"body_markdown":"As you can see from the comment, it was added in version 2.7.12; it was also included in 2.8.4; only 2.9.6 and later are currently supported as OSS; the java version doesn&#39;t matter (8 or later). Yes, in all supported versions, it is used by all logs created by the framework; if there are any that don&#39;t use it, it&#39;s a bug.","body":"As you can see from the comment, it was added in version 2.7.12; it was also included in 2.8.4; only 2.9.6 and later are currently supported as OSS; the java version doesn&#39;t matter (8 or later). Yes, in all supported versions, it is used by all logs created by the framework; if there are any that don&#39;t use it, it&#39;s a bug."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676994037,"creation_date":1676994037,"answer_id":75522708,"question_id":75518998,"body_markdown":"See `KafkaUtils.setProducerRecordFormatter()`.\r\n\r\n```java\r\n/**\r\n * Set a formatter for logging {@link ProducerRecord}s.\r\n * @param formatter a function to format the record as a String\r\n * @since 2.7.12\r\n */\r\npublic static void setProducerRecordFormatter(Function&lt;ProducerRecord&lt;?, ?&gt;, String&gt; formatter) {\r\n```\r\n","title":"Java Kafka Customize Producer Error Logging Format","body":"<p>See <code>KafkaUtils.setProducerRecordFormatter()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set a formatter for logging {@link ProducerRecord}s.\n * @param formatter a function to format the record as a String\n * @since 2.7.12\n */\npublic static void setProducerRecordFormatter(Function&lt;ProducerRecord&lt;?, ?&gt;, String&gt; formatter) {\n</code></pre>\n"}],"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676994037,"creation_date":1676974317,"question_id":75518998,"body_markdown":"I have problem on logging from the kafka error. I am currently integrate our logging to alert program using OpsGenie and our logging is recorded in Loki\r\nWe want to make our log with same data to be grouped in one log only, the OpsGenie that creating the alert is already have mechanism to group the alert by log `message`\r\n\r\nThe problem is in error that logged by kafka error. The `org.springframework.kafka.support.LoggingProducerListener` have logged each message with `key` and `payload` of message inside the `log.message`.\r\n\r\nIs there any way to customize the logging config used in `org.springframework.kafka.support.LoggingProducerListener` or we should surround the kafkaTemplate.send inside a try catch so we can log our own custom logging.\r\n\r\n    @Component\r\n    public class CustomPublisher {\r\n\r\n       @Autowired\r\n       @Qualifier(KafkaProducerConfiguration.DEFAULT_PUBLISHER)\r\n       private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n       @Autowired\r\n       private ObjectMapper objectMapper;\r\n\r\n       @SneakyThrows\r\n       public void sendKafkaObjectDto(ObjectDTO message) {\r\n          final String json = objectMapper.writeValueAsString(message);\r\n          kafkaTemplate.send(&quot;topic_name&quot;, message.getKey(), json);\r\n       }\r\n\r\n    }\r\n\r\nWhen the `kafkaTemplate.send` failed the logger will log it like this\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-02-21T14:02:37.906+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;headers&quot;:{},&quot;host&quot;:&quot;service-prd-000112&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000,&quot;log.file.directory&quot;:&quot;logs&quot;,&quot;logger_name&quot;:&quot;org.springframework.kafka.support.LoggingProducerListener&quot;,&quot;message&quot;:&quot;Exception thrown when sending a message with key=&#39;keys&#39; and payload=&#39;{\\json_payload...&#39; to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;,&quot;message_key&quot;:null,&quot;offset&quot;:158198,&quot;partition&quot;:1,&quot;service_type&quot;:&quot;java&quot;,&quot;source_type&quot;:&quot;kafka&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.TimeoutException: Expiring 7 record(s) for payload.message-0:120000 ms has passed since batch creation\\n&quot;,&quot;thread_name&quot;:&quot;kafka-producer-network-thread | producer-1&quot;,&quot;topic&quot;:&quot;logging_production.service&quot;}\r\n\r\nI want to customize the `&quot;message&quot;` so the log will not logging `key` and `payload` inside the message string. as example the &quot;message&quot; will be like this \r\n\r\n    &quot;message&quot;:&quot;Exception thrown when sending a message with key=&#39;keys&#39; and payload=&#39;{\\json_payload...&#39; to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;\r\n\r\nThis is the configuration of kafkaProducer that we use\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfiguration {\r\n\r\n        public static final String DEFAULT_PUBLISHER = &quot;kafkaTemplate&quot;;\r\n\r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String brokers;\r\n\r\n        @Autowired\r\n        private MeterRegistry meterRegistry;\r\n\r\n        @Bean(name = DEFAULT_PUBLISHER)\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaProperties kafkaProperties) {\r\n            return new KafkaTemplate&lt;&gt;(producerFactory(kafkaProperties));\r\n        }\r\n\r\n        private ProducerFactory&lt;String, String&gt; producerFactory(KafkaProperties kafkaProperties) {\r\n            DefaultKafkaProducerFactory factory = new DefaultKafkaProducerFactory&lt;String, String&gt;(kafkaProperties.buildProducerProperties());\r\n            factory.addListener(new MicrometerProducerListener(meterRegistry));\r\n            return factory;\r\n        }\r\n    \r\n    }\r\n\r\nCan it achieved by changing the kafka producer configuration only?","title":"Java Kafka Customize Producer Error Logging Format","body":"<p>I have problem on logging from the kafka error. I am currently integrate our logging to alert program using OpsGenie and our logging is recorded in Loki\nWe want to make our log with same data to be grouped in one log only, the OpsGenie that creating the alert is already have mechanism to group the alert by log <code>message</code></p>\n<p>The problem is in error that logged by kafka error. The <code>org.springframework.kafka.support.LoggingProducerListener</code> have logged each message with <code>key</code> and <code>payload</code> of message inside the <code>log.message</code>.</p>\n<p>Is there any way to customize the logging config used in <code>org.springframework.kafka.support.LoggingProducerListener</code> or we should surround the kafkaTemplate.send inside a try catch so we can log our own custom logging.</p>\n<pre><code>@Component\npublic class CustomPublisher {\n\n   @Autowired\n   @Qualifier(KafkaProducerConfiguration.DEFAULT_PUBLISHER)\n   private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n   @Autowired\n   private ObjectMapper objectMapper;\n\n   @SneakyThrows\n   public void sendKafkaObjectDto(ObjectDTO message) {\n      final String json = objectMapper.writeValueAsString(message);\n      kafkaTemplate.send(&quot;topic_name&quot;, message.getKey(), json);\n   }\n\n}\n</code></pre>\n<p>When the <code>kafkaTemplate.send</code> failed the logger will log it like this</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-02-21T14:02:37.906+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;headers&quot;:{},&quot;host&quot;:&quot;service-prd-000112&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000,&quot;log.file.directory&quot;:&quot;logs&quot;,&quot;logger_name&quot;:&quot;org.springframework.kafka.support.LoggingProducerListener&quot;,&quot;message&quot;:&quot;Exception thrown when sending a message with key='keys' and payload='{\\json_payload...' to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;,&quot;message_key&quot;:null,&quot;offset&quot;:158198,&quot;partition&quot;:1,&quot;service_type&quot;:&quot;java&quot;,&quot;source_type&quot;:&quot;kafka&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.TimeoutException: Expiring 7 record(s) for payload.message-0:120000 ms has passed since batch creation\\n&quot;,&quot;thread_name&quot;:&quot;kafka-producer-network-thread | producer-1&quot;,&quot;topic&quot;:&quot;logging_production.service&quot;}\n</code></pre>\n<p>I want to customize the <code>&quot;message&quot;</code> so the log will not logging <code>key</code> and <code>payload</code> inside the message string. as example the &quot;message&quot; will be like this</p>\n<pre><code>&quot;message&quot;:&quot;Exception thrown when sending a message with key='keys' and payload='{\\json_payload...' to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;\n</code></pre>\n<p>This is the configuration of kafkaProducer that we use</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfiguration {\n\n    public static final String DEFAULT_PUBLISHER = &quot;kafkaTemplate&quot;;\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String brokers;\n\n    @Autowired\n    private MeterRegistry meterRegistry;\n\n    @Bean(name = DEFAULT_PUBLISHER)\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaProperties kafkaProperties) {\n        return new KafkaTemplate&lt;&gt;(producerFactory(kafkaProperties));\n    }\n\n    private ProducerFactory&lt;String, String&gt; producerFactory(KafkaProperties kafkaProperties) {\n        DefaultKafkaProducerFactory factory = new DefaultKafkaProducerFactory&lt;String, String&gt;(kafkaProperties.buildProducerProperties());\n        factory.addListener(new MicrometerProducerListener(meterRegistry));\n        return factory;\n    }\n\n}\n</code></pre>\n<p>Can it achieved by changing the kafka producer configuration only?</p>\n"},{"tags":["java","spring-security"],"answers":[{"comments":[{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":0,"creation_date":1507045405,"post_id":46548093,"comment_id":80051089,"body_markdown":"But how do I copy the data? The principal object does not provide any methods to read it&#39;s contents.","body":"But how do I copy the data? The principal object does not provide any methods to read it&#39;s contents."},{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":0,"creation_date":1507049645,"post_id":46548093,"comment_id":80053566,"body_markdown":"Sorry but I&#39;m not getting it yet. Do you suggest that I create another class, write a cast to it from Principle, and use it? In that case, how would I access any of those details from Principle, if it is not exposing them? Also, Principle has over 50 implementations, and I don&#39;t know how to figure out which one is being used.","body":"Sorry but I&#39;m not getting it yet. Do you suggest that I create another class, write a cast to it from Principle, and use it? In that case, how would I access any of those details from Principle, if it is not exposing them? Also, Principle has over 50 implementations, and I don&#39;t know how to figure out which one is being used."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1507050489,"post_id":46548093,"comment_id":80054023,"body_markdown":"I was suggesting you cast the Principal object into the implementation that will presumably have accessor methods. As for getting the implementation class, you can either start the server in debug mode or put in a log statement for principal.class.getName()","body":"I was suggesting you cast the Principal object into the implementation that will presumably have accessor methods. As for getting the implementation class, you can either start the server in debug mode or put in a log statement for principal.class.getName()"},{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":0,"creation_date":1507055188,"post_id":46548093,"comment_id":80056532,"body_markdown":"Thanks. I tried casting it into the classes that were found while debugging. Neither of them have any methods to access the data. I think the data is not even stored into seperate variables.\nIs it possible that I could somehow get a JSON similar to the one autogenerated by spring boot above? Then, I could just use some JSON parser library to get whatever elements I want, put them into a class and return it.","body":"Thanks. I tried casting it into the classes that were found while debugging. Neither of them have any methods to access the data. I think the data is not even stored into seperate variables. Is it possible that I could somehow get a JSON similar to the one autogenerated by spring boot above? Then, I could just use some JSON parser library to get whatever elements I want, put them into a class and return it."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":0,"creation_date":1507055821,"post_id":46548093,"comment_id":80056859,"body_markdown":"Hmm well its most likely accessing the attributes via reflection. You could inject the ObjectMapper instance that Spring uses to serialize objects but then you would have to re parse the string to easily manipulate it.","body":"Hmm well its most likely accessing the attributes via reflection. You could inject the ObjectMapper instance that Spring uses to serialize objects but then you would have to re parse the string to easily manipulate it."},{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":0,"creation_date":1507090791,"post_id":46548093,"comment_id":80067745,"body_markdown":"@Thanks it worked! I have made a quick hack by using ObjectMapper to get JSON and then using JSON-simple to get the elements I want.","body":"@Thanks it worked! I have made a quick hack by using ObjectMapper to get JSON and then using JSON-simple to get the elements I want."}],"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507044117,"creation_date":1507044117,"answer_id":46548093,"question_id":46547833,"body_markdown":"Create a new object representing the subset of data you want to be returned from the endpoint. Then copy the data from the principal to the new object and finally return the new object.","title":"Spring Security: How to get details from the principal?","body":"<p>Create a new object representing the subset of data you want to be returned from the endpoint. Then copy the data from the principal to the new object and finally return the new object.</p>\n"},{"tags":[],"owner":{"account_id":276956,"reputation":1353,"user_id":570654,"display_name":"Mario Rojas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1512175405,"creation_date":1512174490,"answer_id":47603322,"question_id":46547833,"body_markdown":"    import org.springframework.security.oauth2.provider.OAuth2Authentication;\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoOAuth2Application {\r\n\r\n        @RequestMapping(&quot;/user&quot;)\r\n        public Authentication user(OAuth2Authentication authentication) {\r\n            LinkedHashMap&lt;String, Object&gt; properties = (LinkedHashMap&lt;String, Object&gt;) authentication.getUserAuthentication().getDetails();\r\n            return properties.get(&quot;email&quot;);\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoOAuth2Application.class, args);\r\n        }\r\n    }","title":"Spring Security: How to get details from the principal?","body":"<pre><code>import org.springframework.security.oauth2.provider.OAuth2Authentication;\n\n@SpringBootApplication\n@RestController\npublic class DemoOAuth2Application {\n\n    @RequestMapping(\"/user\")\n    public Authentication user(OAuth2Authentication authentication) {\n        LinkedHashMap&lt;String, Object&gt; properties = (LinkedHashMap&lt;String, Object&gt;) authentication.getUserAuthentication().getDetails();\n        return properties.get(\"email\");\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOAuth2Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10185931,"reputation":11,"user_id":7520887,"display_name":"Mike Glabay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676993942,"creation_date":1676993942,"answer_id":75522687,"question_id":46547833,"body_markdown":"For the Dev searching a similar thing... I had an issue writing my Discord login feature and I was high and low on Google...\r\n\r\nSo using some of the posts from here I propose my solution to you below.\r\n\r\n```java\r\n@GetMapping(&quot;/profile&quot;)\r\npublic String getProfilePage(Principal principal, Model model) {\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    // If the user requesting this page, is not an anonymous user\r\n    if (!(authentication instanceof AnonymousAuthenticationToken)) {\r\n        // parse the user for some basic information\r\n        parseAuthorizedUser(authentication);\r\n        return &quot;profile&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe parseAuthorizedUser was taken from one of the above answers and utilizing Simple Json\r\n\r\n```maven\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI was able to take the authentication and, in my case, loop over the authorities, and for each of the OAuth2UserAuthority I  make sure I&#39;m checking my user role, and then breaking the authorities into a JSON Object, before then selecting just the attributes of the authority, and mapping it to a JSON Object as well. Then I just assurer it&#39;s not null or empty... and finally just set some atomicRefs I am using elsewhere\r\n\r\n```java\r\nprivate void parseAuthorizedUser(Authentication authentication) {\r\n    // ... some previous code for profile basics\r\n    authentication.getAuthorities().forEach(oAuth2UserAuthority -&gt;  {\r\n        if (Objects.equals(&quot;ROLE_USER&quot;, oAuth2UserAuthority.getAuthority())) {\r\n            try {\r\n                String jsonAttributes = JsonUtil.getObjectAsJson(oAuth2UserAuthority);\r\n                JSONObject jsonObject = (JSONObject) new JSONParser().parse(jsonAttributes);\r\n                if (Objects.nonNull(jsonObject)) {\r\n                    JSONObject userAttributes = (JSONObject) jsonObject.get(&quot;attributes&quot;);\r\n                    if (Objects.nonNull(userAttributes) &amp;&amp; !userAttributes.isEmpty()) {\r\n                        discordId.set(userAttributes.get(&quot;id&quot;).toString());\r\n                        discordAvatar.set(userAttributes.get(&quot;avatar&quot;).toString());\r\n                    }\r\n                }\r\n            } catch (JsonProcessingException | ParseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    });\r\n    // ... continue on with the rest of the method\r\n}\r\n```\r\n\r\nAs for the mention of `JsonUtil.getObjectAsJson(Object)` This is the method I use\r\n\r\n```java\r\npublic static String getObjectAsJson(Object object) throws JsonProcessingException {\r\n    return new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(object);\r\n}\r\n```\r\n\r\nIt&#39;s a vague idea that may point you along the right path. ","title":"Spring Security: How to get details from the principal?","body":"<p>For the Dev searching a similar thing... I had an issue writing my Discord login feature and I was high and low on Google...</p>\n<p>So using some of the posts from here I propose my solution to you below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/profile&quot;)\npublic String getProfilePage(Principal principal, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    // If the user requesting this page, is not an anonymous user\n    if (!(authentication instanceof AnonymousAuthenticationToken)) {\n        // parse the user for some basic information\n        parseAuthorizedUser(authentication);\n        return &quot;profile&quot;;\n    }\n}\n</code></pre>\n<p>The parseAuthorizedUser was taken from one of the above answers and utilizing Simple Json</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I was able to take the authentication and, in my case, loop over the authorities, and for each of the OAuth2UserAuthority I  make sure I'm checking my user role, and then breaking the authorities into a JSON Object, before then selecting just the attributes of the authority, and mapping it to a JSON Object as well. Then I just assurer it's not null or empty... and finally just set some atomicRefs I am using elsewhere</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void parseAuthorizedUser(Authentication authentication) {\n    // ... some previous code for profile basics\n    authentication.getAuthorities().forEach(oAuth2UserAuthority -&gt;  {\n        if (Objects.equals(&quot;ROLE_USER&quot;, oAuth2UserAuthority.getAuthority())) {\n            try {\n                String jsonAttributes = JsonUtil.getObjectAsJson(oAuth2UserAuthority);\n                JSONObject jsonObject = (JSONObject) new JSONParser().parse(jsonAttributes);\n                if (Objects.nonNull(jsonObject)) {\n                    JSONObject userAttributes = (JSONObject) jsonObject.get(&quot;attributes&quot;);\n                    if (Objects.nonNull(userAttributes) &amp;&amp; !userAttributes.isEmpty()) {\n                        discordId.set(userAttributes.get(&quot;id&quot;).toString());\n                        discordAvatar.set(userAttributes.get(&quot;avatar&quot;).toString());\n                    }\n                }\n            } catch (JsonProcessingException | ParseException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n    // ... continue on with the rest of the method\n}\n</code></pre>\n<p>As for the mention of <code>JsonUtil.getObjectAsJson(Object)</code> This is the method I use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getObjectAsJson(Object object) throws JsonProcessingException {\n    return new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(object);\n}\n</code></pre>\n<p>It's a vague idea that may point you along the right path.</p>\n"}],"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7349,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":47603322,"answer_count":3,"score":4,"last_activity_date":1676993942,"creation_date":1507043333,"question_id":46547833,"body_markdown":"Using spring boot and spring security, the details of user are available in principal object. But it has only few methods to retrieve details, like `getName()`.\r\n\r\nHow do I get other details out of it?\r\n\r\nCurrently my class looks like this\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoOAuth2Application {\r\n    \r\n    \t@RequestMapping(&quot;/user&quot;)\r\n    \tpublic Principal user(Principal principal) {\r\n    \t\treturn principal;\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoOAuth2Application.class, args);\r\n    \t}\r\n    }\r\n\r\nIt returns this,\r\n\r\n    {\r\n      &quot;authorities&quot;: [\r\n        {\r\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n        }\r\n      ],\r\n      &quot;details&quot;: {\r\n        &quot;remoteAddress&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\r\n        &quot;sessionId&quot;: &quot;43Fxxxxxx&quot;,\r\n        &quot;tokenValue&quot;: &quot;ya29.xxxxxxxxx&quot;,\r\n        &quot;tokenType&quot;: &quot;Bearer&quot;,\r\n        &quot;decodedDetails&quot;: null\r\n      },\r\n      &quot;authenticated&quot;: true,\r\n      &quot;userAuthentication&quot;: {\r\n        &quot;authorities&quot;: [\r\n          {\r\n            &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n          }\r\n        ],\r\n        &quot;details&quot;: {\r\n          &quot;id&quot;: &quot;106xxxxx&quot;,\r\n          &quot;email&quot;: &quot;xxxxxxxx@gmail.com&quot;,\r\n          &quot;verified_email&quot;: true,\r\n          &quot;name&quot;: &quot;xxxx yyyyyy&quot;,\r\n          &quot;given_name&quot;: &quot;xxxxxx&quot;,\r\n          &quot;family_name&quot;: &quot;yyyyy&quot;,\r\n          &quot;link&quot;: &quot;https://plus.google.com/xxxxxxxxxx&quot;,\r\n          &quot;picture&quot;: &quot;https://lh5.googleusercontent.com/xxxxxx/photo.jpg&quot;,\r\n          &quot;locale&quot;: &quot;en&quot;\r\n        },\r\n        &quot;authenticated&quot;: true,\r\n        &quot;principal&quot;: &quot;106xxxxx&quot;,\r\n        &quot;credentials&quot;: &quot;N/A&quot;,\r\n        &quot;name&quot;: &quot;106xxxxxxx&quot;\r\n      },\r\n      &quot;principal&quot;: &quot;106xxxxxxxxxxx&quot;,\r\n      &quot;clientOnly&quot;: false,\r\n      &quot;credentials&quot;: &quot;&quot;,\r\n      &quot;oauth2Request&quot;: {\r\n        &quot;clientId&quot;: &quot;xxxxxxxxx.apps.googleusercontent.com&quot;,\r\n        &quot;scope&quot;: [],\r\n        &quot;requestParameters&quot;: {},\r\n        &quot;resourceIds&quot;: [],\r\n        &quot;authorities&quot;: [],\r\n        &quot;approved&quot;: true,\r\n        &quot;refresh&quot;: false,\r\n        &quot;redirectUri&quot;: null,\r\n        &quot;responseTypes&quot;: [],\r\n        &quot;extensions&quot;: {},\r\n        &quot;refreshTokenRequest&quot;: null,\r\n        &quot;grantType&quot;: null\r\n      },\r\n      &quot;name&quot;: &quot;106xxxxxxxxxx&quot;\r\n    }\r\n\r\nBut instead of returning all the data, I&#39;d like to return only specific data I need. How do I get that data(specifically email, name, link, picture). ","title":"Spring Security: How to get details from the principal?","body":"<p>Using spring boot and spring security, the details of user are available in principal object. But it has only few methods to retrieve details, like <code>getName()</code>.</p>\n\n<p>How do I get other details out of it?</p>\n\n<p>Currently my class looks like this</p>\n\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoOAuth2Application {\n\n    @RequestMapping(\"/user\")\n    public Principal user(Principal principal) {\n        return principal;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOAuth2Application.class, args);\n    }\n}\n</code></pre>\n\n<p>It returns this,</p>\n\n<pre><code>{\n  \"authorities\": [\n    {\n      \"authority\": \"ROLE_USER\"\n    }\n  ],\n  \"details\": {\n    \"remoteAddress\": \"0:0:0:0:0:0:0:1\",\n    \"sessionId\": \"43Fxxxxxx\",\n    \"tokenValue\": \"ya29.xxxxxxxxx\",\n    \"tokenType\": \"Bearer\",\n    \"decodedDetails\": null\n  },\n  \"authenticated\": true,\n  \"userAuthentication\": {\n    \"authorities\": [\n      {\n        \"authority\": \"ROLE_USER\"\n      }\n    ],\n    \"details\": {\n      \"id\": \"106xxxxx\",\n      \"email\": \"xxxxxxxx@gmail.com\",\n      \"verified_email\": true,\n      \"name\": \"xxxx yyyyyy\",\n      \"given_name\": \"xxxxxx\",\n      \"family_name\": \"yyyyy\",\n      \"link\": \"https://plus.google.com/xxxxxxxxxx\",\n      \"picture\": \"https://lh5.googleusercontent.com/xxxxxx/photo.jpg\",\n      \"locale\": \"en\"\n    },\n    \"authenticated\": true,\n    \"principal\": \"106xxxxx\",\n    \"credentials\": \"N/A\",\n    \"name\": \"106xxxxxxx\"\n  },\n  \"principal\": \"106xxxxxxxxxxx\",\n  \"clientOnly\": false,\n  \"credentials\": \"\",\n  \"oauth2Request\": {\n    \"clientId\": \"xxxxxxxxx.apps.googleusercontent.com\",\n    \"scope\": [],\n    \"requestParameters\": {},\n    \"resourceIds\": [],\n    \"authorities\": [],\n    \"approved\": true,\n    \"refresh\": false,\n    \"redirectUri\": null,\n    \"responseTypes\": [],\n    \"extensions\": {},\n    \"refreshTokenRequest\": null,\n    \"grantType\": null\n  },\n  \"name\": \"106xxxxxxxxxx\"\n}\n</code></pre>\n\n<p>But instead of returning all the data, I'd like to return only specific data I need. How do I get that data(specifically email, name, link, picture). </p>\n"},{"tags":["java","html","spring-boot","tags","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676955615,"creation_date":1676955615,"answer_id":75516451,"question_id":75516396,"body_markdown":"Some characters are reserved in HTML.\r\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.\r\nCharacter entities are used to display reserved characters in HTML.\r\nA character entity looks like this:\r\n&amp;entity_name;\r\nOR\r\n&amp;#entity_number;\r\n&lt;br&gt;To display a less than sign (&lt;) we must write: &amp;lt or &amp;#60","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>Some characters are reserved in HTML.\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.\nCharacter entities are used to display reserved characters in HTML.\nA character entity looks like this:\n&amp;entity_name;\nOR\n&amp;#entity_number;\n<br>To display a less than sign (&lt;) we must write: &amp;lt or &amp;#60</p>\n"},{"comments":[{"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"score":0,"creation_date":1676957500,"post_id":75516506,"comment_id":133236398,"body_markdown":"I want to use this in java, can I check if @ contains inside tag then don&#39;t take that as tag","body":"I want to use this in java, can I check if @ contains inside tag then don&#39;t take that as tag"},{"owner":{"account_id":21339689,"reputation":23,"user_id":15710358,"display_name":"OverpoweredCoding"},"score":1,"creation_date":1677471653,"post_id":75516506,"comment_id":133337702,"body_markdown":"I can&#39;t think of an easy way to load the variable from java into javascript (other than by reading from a file) but once the variable is in the html/js file, then you could use \n if (var.includes(&quot;@&quot;)) {do stuff} on it.","body":"I can&#39;t think of an easy way to load the variable from java into javascript (other than by reading from a file) but once the variable is in the html/js file, then you could use   if (var.includes(&quot;@&quot;)) {do stuff} on it."}],"tags":[],"owner":{"account_id":21339689,"reputation":23,"user_id":15710358,"display_name":"OverpoweredCoding"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676956305,"creation_date":1676956305,"answer_id":75516506,"question_id":75516396,"body_markdown":"The code snippet below is how you&#39;d update the test@gmail.com to some other variable. Simply use javascript to change emailHolderVariable to whatever email address you want it to be. The &quot;&amp;#60&quot; and &quot;&amp;#62&quot; tags (with a semi-colon on the end) mean &quot;&lt;&quot; and &quot;&gt;&quot; when the file is read. For a full list of these codes, please visit https://www.teachucomp.com/special-characters-in-html-tutorial. I hope this answer helps you out.\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;body&gt;\r\n&lt;p id=&quot;content-holder&quot;&gt;random placeholder&lt;/p&gt;\r\n&lt;script&gt;\r\n    var emailHolderVariable = &quot;test@gmail.com&quot;\r\n    var emailInput = &quot;&amp;#60;&quot; + emailHolderVariable + &quot;&amp;#62; Your text here...&quot;;\r\n    var contentHolder = document.getElementById(&#39;content-holder&#39;);\r\n    contentHolder.innerHTML = emailInput;\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n```","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>The code snippet below is how you'd update the test@gmail.com to some other variable. Simply use javascript to change emailHolderVariable to whatever email address you want it to be. The &quot;&amp;#60&quot; and &quot;&amp;#62&quot; tags (with a semi-colon on the end) mean &quot;&lt;&quot; and &quot;&gt;&quot; when the file is read. For a full list of these codes, please visit <a href=\"https://www.teachucomp.com/special-characters-in-html-tutorial\" rel=\"nofollow noreferrer\">https://www.teachucomp.com/special-characters-in-html-tutorial</a>. I hope this answer helps you out.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;body&gt;\n&lt;p id=&quot;content-holder&quot;&gt;random placeholder&lt;/p&gt;\n&lt;script&gt;\n    var emailHolderVariable = &quot;test@gmail.com&quot;\n    var emailInput = &quot;&amp;#60;&quot; + emailHolderVariable + &quot;&amp;#62; Your text here...&quot;;\n    var contentHolder = document.getElementById('content-holder');\n    contentHolder.innerHTML = emailInput;\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676992838,"creation_date":1676992838,"answer_id":75522465,"question_id":75516396,"body_markdown":"As others said, you have to escape some special characters in your text. If you are using a templating engine like Velocity there are usually build-in mechanism for proper escaping (in case of Velocity the [EscapeTool][1].\r\n\r\nIf you use simple string concatenation you should use [Apache Commons Text&#39;s StringEscapeUtils#escapeHtml4‚Äã()][2] method or equivalent **for all** your text content but not for the tags.\r\n\r\nSomething like:\r\n\r\n    String htmlFragment = &quot;&lt;p&gt;&quot; + StringEscapeUtils.escapeHtml4‚Äã(plainText) + &quot;&lt;/p&quot;;\r\n\r\n\r\n  [1]: https://velocity.apache.org/tools/1.4/generic/EscapeTool.html\r\n  [2]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeHtml4(java.lang.String)","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>As others said, you have to escape some special characters in your text. If you are using a templating engine like Velocity there are usually build-in mechanism for proper escaping (in case of Velocity the <a href=\"https://velocity.apache.org/tools/1.4/generic/EscapeTool.html\" rel=\"nofollow noreferrer\">EscapeTool</a>.</p>\n<p>If you use simple string concatenation you should use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeHtml4(java.lang.String)\" rel=\"nofollow noreferrer\">Apache Commons Text's StringEscapeUtils#escapeHtml4‚Äã()</a> method or equivalent <strong>for all</strong> your text content but not for the tags.</p>\n<p>Something like:</p>\n<pre><code>String htmlFragment = &quot;&lt;p&gt;&quot; + StringEscapeUtils.escapeHtml4‚Äã(plainText) + &quot;&lt;/p&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16301748,"reputation":311,"user_id":11772682,"display_name":"Farouk Mhamdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676993468,"creation_date":1676993468,"answer_id":75522598,"question_id":75516396,"body_markdown":"declare this variable \r\n\r\n      adress:string =&#39;&lt;test@gmai.com&gt;&#39;\r\n\r\nthen bind it on your html file :\r\n\r\n    &lt;br&gt; {{adress}}\r\n\r\n\r\nit works for me \r\n\r\n","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>declare this variable</p>\n<pre><code>  adress:string ='&lt;test@gmai.com&gt;'\n</code></pre>\n<p>then bind it on your html file :</p>\n<pre><code>&lt;br&gt; {{adress}}\n</code></pre>\n<p>it works for me</p>\n"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1676993468,"creation_date":1676954932,"question_id":75516396,"body_markdown":"I want to display the email address inside &#39;&lt;test@gmail.com&#39;&gt;&#39; tag in UI, how can I achieve this? How to display email address with tag in UI?\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;br&gt; I&#39;m sorry to have to inform you that your message could not\r\n\t&lt;br&gt; be delivered to one or more recipients. It&#39;s attached below.\r\n\t&lt;br&gt; &lt;test@gmail.com&gt;: host mx.gmail.com[136.143.191.44] said: 550 5.1.1\r\n\t&lt;br&gt;     &lt;test@gmail.com&gt; User unknown (in reply to RCPT TO command)\r\n\t&lt;br&gt; Reporting-MTA: dns; smtp5.to.test.com\r\n\t&lt;br&gt; X-Postfix-Queue-ID: E982A3346F\r\n\t&lt;br&gt; X-Postfix-Sender: rfc822; test1@test.in\r\n\t&lt;br&gt; Arrival-Date: Mon, 20 Feb 2023 17:37:11 +0530 (IST)\r\n\t&lt;br&gt; Final-Recipient: rfc822; test@gmail.com\r\n\t&lt;br&gt; Original-Recipient: rfc822;test@gmail.com\r\n\t&lt;br&gt; Remote-MTA: dns; mx.zoho.com\r\n\t&lt;br&gt; Diagnostic-Code: smtp; 550 5.1.1 &lt;test@gmail.com&gt; User unknown\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**It is display as in below image, not displaying email address with tag**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G4AxA.png","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>I want to display the email address inside '&lt;test@gmail.com'&gt;' tag in UI, how can I achieve this? How to display email address with tag in UI?</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;br&gt; I'm sorry to have to inform you that your message could not\n    &lt;br&gt; be delivered to one or more recipients. It's attached below.\n    &lt;br&gt; &lt;test@gmail.com&gt;: host mx.gmail.com[136.143.191.44] said: 550 5.1.1\n    &lt;br&gt;     &lt;test@gmail.com&gt; User unknown (in reply to RCPT TO command)\n    &lt;br&gt; Reporting-MTA: dns; smtp5.to.test.com\n    &lt;br&gt; X-Postfix-Queue-ID: E982A3346F\n    &lt;br&gt; X-Postfix-Sender: rfc822; test1@test.in\n    &lt;br&gt; Arrival-Date: Mon, 20 Feb 2023 17:37:11 +0530 (IST)\n    &lt;br&gt; Final-Recipient: rfc822; test@gmail.com\n    &lt;br&gt; Original-Recipient: rfc822;test@gmail.com\n    &lt;br&gt; Remote-MTA: dns; mx.zoho.com\n    &lt;br&gt; Diagnostic-Code: smtp; 550 5.1.1 &lt;test@gmail.com&gt; User unknown\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>It is display as in below image, not displaying email address with tag</strong></p>\n<p><a href=\"https://i.stack.imgur.com/G4AxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4AxA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","android-camera"],"answers":[{"comments":[{"owner":{"account_id":4390607,"reputation":128,"user_id":3579130,"display_name":"APIS"},"score":0,"creation_date":1677155471,"post_id":75475498,"comment_id":133284085,"body_markdown":"My issue precisely is that the getSupportedPreviewSizes() is returning only landscape ratios, not portrait. I need to get the best supported portrait size to fit the screen of the user.","body":"My issue precisely is that the getSupportedPreviewSizes() is returning only landscape ratios, not portrait. I need to get the best supported portrait size to fit the screen of the user."}],"tags":[],"owner":{"account_id":27804823,"reputation":1,"user_id":21228480,"display_name":"Danny"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676993373,"creation_date":1676566387,"answer_id":75475498,"question_id":75470964,"body_markdown":"1. Get the supported preview sizes using the `getSupportedPreviewSizes()` method.\r\n\r\n2. Find the preview size that has a height greater than its width. This will be the portrait mode size.\r\n\r\n3. Set the preview size to this portrait mode size and use `setRotation(90)` to rotate the preview.\r\n\r\n4. To make the preview full screen, set the layout parameters of the `SurfaceView` or `TextureView` that you are using to display the camera preview to fill the parent.\r\n\r\nHere is an example:\r\n\r\n    CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n    String cameraId = &quot;0&quot;; // Choose the desired camera ID\r\n    CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n    StreamConfigurationMap configMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n    Size[] sizes = configMap.getOutputSizes(SurfaceTexture.class);\r\n    Size portraitSize = null;\r\n\r\n    for (Size size : sizes) {\r\n     if (size.getHeight() &gt; size.getWidth()) {\r\n        portraitSize = size;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (portraitSize != null) {\r\n      previewSize = portraitSize;\r\n      int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n      int sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\r\n      int deviceRotation = ORIENTATIONS.get(rotation);\r\n      int totalRotation = (sensorOrientation + deviceRotation + 360) % 360;\r\n      previewRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, totalRotation);\r\n    }\r\n    SurfaceView surfaceView = findViewById(R.id.camera_preview);\r\n    surfaceView.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n\r\n\r\n    ","title":"Android - getSupportedPreviewSizes only returns Landscape sizes","body":"<ol>\n<li><p>Get the supported preview sizes using the <code>getSupportedPreviewSizes()</code> method.</p>\n</li>\n<li><p>Find the preview size that has a height greater than its width. This will be the portrait mode size.</p>\n</li>\n<li><p>Set the preview size to this portrait mode size and use <code>setRotation(90)</code> to rotate the preview.</p>\n</li>\n<li><p>To make the preview full screen, set the layout parameters of the <code>SurfaceView</code> or <code>TextureView</code> that you are using to display the camera preview to fill the parent.</p>\n</li>\n</ol>\n<p>Here is an example:</p>\n<pre><code>CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\nString cameraId = &quot;0&quot;; // Choose the desired camera ID\nCameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\nStreamConfigurationMap configMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\nSize[] sizes = configMap.getOutputSizes(SurfaceTexture.class);\nSize portraitSize = null;\n\nfor (Size size : sizes) {\n if (size.getHeight() &gt; size.getWidth()) {\n    portraitSize = size;\n    break;\n  }\n}\n\nif (portraitSize != null) {\n  previewSize = portraitSize;\n  int rotation = getWindowManager().getDefaultDisplay().getRotation();\n  int sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\n  int deviceRotation = ORIENTATIONS.get(rotation);\n  int totalRotation = (sensorOrientation + deviceRotation + 360) % 360;\n  previewRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, totalRotation);\n}\nSurfaceView surfaceView = findViewById(R.id.camera_preview);\nsurfaceView.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n</code></pre>\n"}],"owner":{"account_id":4390607,"reputation":128,"user_id":3579130,"display_name":"APIS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676993373,"creation_date":1676543495,"question_id":75470964,"body_markdown":"I am trying to build a Live feature similar to Instagram Live. And I want to open the camera preview full screen in portrait mode. I am using the below to set the size of the preview of the camera. But I am only getting stretched and distorted scales.\r\n\r\n**Reason being that getSupportedPreviewSizes from which we choose the optimal resolution to be used, is only returning landscape sizes and not portrait ones (Width &gt; Height).** \r\n\r\n**Any idea how to make *getSupportedPreviewSizes()* return Supported Portrait sizes instead ?**   \r\n\r\n     public int[] setPreviewResolution(int width, int height) {                \r\n            mCamera = openCamera();\r\n            \r\n            mPreviewWidth = width;\r\n            mPreviewHeight = height;\r\n            Camera.Size rs = adaptPreviewResolution(mCamera.new Size(width, height));\r\n            if (rs != null) {\r\n                mPreviewWidth = rs.width;\r\n                mPreviewHeight = rs.height;\r\n            }\r\n            \r\n            getHolder().setFixedSize(mPreviewWidth, mPreviewHeight);\r\n            \r\n            mCamera.getParameters().setPreviewSize(mPreviewWidth, mPreviewHeight);\r\n    \r\n            mGLPreviewBuffer = ByteBuffer.allocate(mPreviewWidth  mPreviewHeight  4);\r\n            mInputAspectRatio = mPreviewWidth &gt; mPreviewHeight ?\r\n                (float) mPreviewWidth / mPreviewHeight : (float) mPreviewHeight / mPreviewWidth;\r\n    \r\n            return new int[] { mPreviewWidth, mPreviewHeight };\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private Camera.Size adaptPreviewResolution(Camera.Size resolution) {\r\n                float diff = 100f;\r\n                float xdy = (float) resolution.width / (float) resolution.height;\r\n                Camera.Size best = null;\r\n                for (Camera.Size size : mCamera.getParameters().getSupportedPreviewSizes()) {\r\n                    Log.v(&quot;widthhhhhhhhhhhdddd supported&quot;,&quot;&quot; +&quot; size.width: &quot;+size.width+&quot;   hhhh: &quot;+size.height);\r\n                    if (size.equals(resolution)) {\r\n                        return size;\r\n                    }\r\n                    float tmp = Math.abs(((float) size.height / (float) size.width) - xdy);\r\n                    if (tmp &lt; diff) {\r\n                        diff = tmp;\r\n                        best = size;\r\n                    }\r\n        \r\n                }\r\n        \r\n                return best;\r\n            }\r\n\r\n","title":"Android - getSupportedPreviewSizes only returns Landscape sizes","body":"<p>I am trying to build a Live feature similar to Instagram Live. And I want to open the camera preview full screen in portrait mode. I am using the below to set the size of the preview of the camera. But I am only getting stretched and distorted scales.</p>\n<p><strong>Reason being that getSupportedPreviewSizes from which we choose the optimal resolution to be used, is only returning landscape sizes and not portrait ones (Width &gt; Height).</strong></p>\n<p><strong>Any idea how to make <em>getSupportedPreviewSizes()</em> return Supported Portrait sizes instead ?</strong></p>\n<pre><code> public int[] setPreviewResolution(int width, int height) {                \n        mCamera = openCamera();\n        \n        mPreviewWidth = width;\n        mPreviewHeight = height;\n        Camera.Size rs = adaptPreviewResolution(mCamera.new Size(width, height));\n        if (rs != null) {\n            mPreviewWidth = rs.width;\n            mPreviewHeight = rs.height;\n        }\n        \n        getHolder().setFixedSize(mPreviewWidth, mPreviewHeight);\n        \n        mCamera.getParameters().setPreviewSize(mPreviewWidth, mPreviewHeight);\n\n        mGLPreviewBuffer = ByteBuffer.allocate(mPreviewWidth  mPreviewHeight  4);\n        mInputAspectRatio = mPreviewWidth &gt; mPreviewHeight ?\n            (float) mPreviewWidth / mPreviewHeight : (float) mPreviewHeight / mPreviewWidth;\n\n        return new int[] { mPreviewWidth, mPreviewHeight };\n    }\n\n\n\n\n    private Camera.Size adaptPreviewResolution(Camera.Size resolution) {\n            float diff = 100f;\n            float xdy = (float) resolution.width / (float) resolution.height;\n            Camera.Size best = null;\n            for (Camera.Size size : mCamera.getParameters().getSupportedPreviewSizes()) {\n                Log.v(&quot;widthhhhhhhhhhhdddd supported&quot;,&quot;&quot; +&quot; size.width: &quot;+size.width+&quot;   hhhh: &quot;+size.height);\n                if (size.equals(resolution)) {\n                    return size;\n                }\n                float tmp = Math.abs(((float) size.height / (float) size.width) - xdy);\n                if (tmp &lt; diff) {\n                    diff = tmp;\n                    best = size;\n                }\n    \n            }\n    \n            return best;\n        }\n</code></pre>\n"},{"tags":["java","azure-active-directory","web.xml"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676906754,"post_id":75510910,"comment_id":133226800,"body_markdown":"Is your key vault URL well-formed? It should be something like `https://some-name.vault.azure.net/`","body":"Is your key vault URL well-formed? It should be something like <code>https:&#47;&#47;some-name.vault.azure.net&#47;</code>"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676906843,"post_id":75510910,"comment_id":133226826,"body_markdown":"Yes it is well formed and matches the format which you&#39;ve specified.","body":"Yes it is well formed and matches the format which you&#39;ve specified."}],"answers":[{"tags":[],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676993064,"creation_date":1676993064,"answer_id":75522524,"question_id":75510910,"body_markdown":"The issue is in the repository code. Created an issue for the GIThub repo owners to make the change.\r\n\r\nThe arrowed statement (in the image) should come above the below statement because getKeyVaultClient method is using the variable vaultBaseUrl.\r\n\r\nclient = getKeyVaultClient();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LzGF4.jpg","title":"How to resolve &quot;The Azure Key Vault url is malformed&quot; exception","body":"<p>The issue is in the repository code. Created an issue for the GIThub repo owners to make the change.</p>\n<p>The arrowed statement (in the image) should come above the below statement because getKeyVaultClient method is using the variable vaultBaseUrl.</p>\n<p>client = getKeyVaultClient();</p>\n<p><a href=\"https://i.stack.imgur.com/LzGF4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzGF4.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522524,"answer_count":1,"score":0,"last_activity_date":1676993064,"creation_date":1676905337,"question_id":75510910,"body_markdown":" I have cloned the project - https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault from GIT to my local Eclipse.\r\n\r\nAdded tomcat server and when I run the partnerconsent project, I get this exception\r\n\r\n    SEVERE: Exception starting filter [AuthenticationFilter]\r\n    java.lang.IllegalArgumentException: The Azure Key Vault url is malformed.\r\n    \tat com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:177)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.getKeyVaultClient(KeyVaultProvider.java:68)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.&lt;init&gt;(KeyVaultProvider.java:33)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.AuthenticationFilter.init(AuthenticationFilter.java:236)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:253)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: java.net.MalformedURLException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:708)\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\r\n    \tat com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:175)\r\n    \t... 36 more\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:614)\r\n    \t... 39 more\r\n\r\nI have added the keyvault_base_url value in web.xml and it is well-formed. So, not sure why the exception is still coming.\r\n\r\n\r\n\r\n","title":"How to resolve &quot;The Azure Key Vault url is malformed&quot; exception","body":"<p>I have cloned the project - <a href=\"https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault</a> from GIT to my local Eclipse.</p>\n<p>Added tomcat server and when I run the partnerconsent project, I get this exception</p>\n<pre><code>SEVERE: Exception starting filter [AuthenticationFilter]\njava.lang.IllegalArgumentException: The Azure Key Vault url is malformed.\n    at com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:177)\n    at com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.getKeyVaultClient(KeyVaultProvider.java:68)\n    at com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.&lt;init&gt;(KeyVaultProvider.java:33)\n    at com.microsoft.store.samples.partnerconsent.security.AuthenticationFilter.init(AuthenticationFilter.java:236)\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:253)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.net.MalformedURLException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:708)\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:569)\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:516)\n    at com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:175)\n    ... 36 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:614)\n    ... 39 more\n</code></pre>\n<p>I have added the keyvault_base_url value in web.xml and it is well-formed. So, not sure why the exception is still coming.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1671609162,"post_id":74866403,"comment_id":132133298,"body_markdown":"Trying to create a PR for Camel doc but this needs a Jira ticket in Apache ASF, where I don&#39;t have account; don&#39;t want to apply one Apache.org account for a doc issue so gave up.","body":"Trying to create a PR for Camel doc but this needs a Jira ticket in Apache ASF, where I don&#39;t have account; don&#39;t want to apply one Apache.org account for a doc issue so gave up."}],"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676992751,"creation_date":1671555439,"answer_id":74866403,"question_id":74860028,"body_markdown":"OK I fixed it myself. There are 2 things:\r\n\r\n1. I missed one part in the middle where some validation fails and I do an early return and send, and that bean should set the IN body to be the same POJO to return, the OutboundMessage class, which is not done. So I have to do `exchange.getIn().setBody(xxx)` there, so that when going to the reply route, the message type is the same as the normal, validation OK path. I also have to `.marshal().json(JsonLibrary.Jsonb, OutboundMessage.class)` before sending the reply to make sure the message body is a valid string message.\r\n\r\n2. But then, a similar error happens where it is like `Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: byte[] to the required type: com.example.IncomingMessage with value [Bxxxxxxx`. I notice that it is now a byte array, meaning that it is already marshalled correctly, but Camel continues to try to process it even after sending. So, after trying all possible, I add `.stop()` after sending, and this error is gone. **Notice that `.stop()` also ensures the callback(sending reply to reply queue in `JMSReplyTo` header) is executed**, so you will always want to call `stop()` in request/reply mode.\r\n\r\nSo, make sure you:\r\n\r\n - return the same POJO at the end of each logic path/branch, especially after a short circuit/premature return one\r\n - stop the route at the end, to stop Camel to do further conversion. In my case, this error is only shown in logs, and ActiveMQ side already received the message, i.e. does not affect the business flow, so it&#39;s kind of hard to detect on client side. But it should be stopped.\r\n","title":"Why does Camel expect to deserialize IN message POJO while I want to change response POJO; no destination set, only JMSReplyTo present","body":"<p>OK I fixed it myself. There are 2 things:</p>\n<ol>\n<li><p>I missed one part in the middle where some validation fails and I do an early return and send, and that bean should set the IN body to be the same POJO to return, the OutboundMessage class, which is not done. So I have to do <code>exchange.getIn().setBody(xxx)</code> there, so that when going to the reply route, the message type is the same as the normal, validation OK path. I also have to <code>.marshal().json(JsonLibrary.Jsonb, OutboundMessage.class)</code> before sending the reply to make sure the message body is a valid string message.</p>\n</li>\n<li><p>But then, a similar error happens where it is like <code>Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: byte[] to the required type: com.example.IncomingMessage with value [Bxxxxxxx</code>. I notice that it is now a byte array, meaning that it is already marshalled correctly, but Camel continues to try to process it even after sending. So, after trying all possible, I add <code>.stop()</code> after sending, and this error is gone. <strong>Notice that <code>.stop()</code> also ensures the callback(sending reply to reply queue in <code>JMSReplyTo</code> header) is executed</strong>, so you will always want to call <code>stop()</code> in request/reply mode.</p>\n</li>\n</ol>\n<p>So, make sure you:</p>\n<ul>\n<li>return the same POJO at the end of each logic path/branch, especially after a short circuit/premature return one</li>\n<li>stop the route at the end, to stop Camel to do further conversion. In my case, this error is only shown in logs, and ActiveMQ side already received the message, i.e. does not affect the business flow, so it's kind of hard to detect on client side. But it should be stopped.</li>\n</ul>\n"}],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74866403,"answer_count":1,"score":0,"last_activity_date":1676992751,"creation_date":1671523298,"question_id":74860028,"body_markdown":"I have a Camel route which listens to an ActiveMQ queue, do some processing, and sends the result to a JMSReplyTo header queue as response.\r\n\r\nIn previous version of the app, the destination needs to be explicitly set and it was sending the message with a `ProducerTemplate.sendBody()`; but I read in Camel doc that JMSReplyTo will be respected. So I want to try set no destination; however, seems that Camel expects the body to be the incoming message POJO.\r\n\r\nHow can I send the modified body? \r\n\r\nhttps://camel.apache.org/components/3.19.x/eips/requestReply-eip.html has an illustration, where the request and reply have different color. I suppose they are different message, which makes sense; who wants the original message? \r\n\r\n[![Camel-EIP-request-reply-illustration][1]][1]\r\n\r\nIn the last step of my route I did: `exchange.getIn().setBody(myString);`; also tried `exchange.getMessage().setBody(myString);` but I got error:\r\n\r\n&gt; Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.IncomingMessage with value {&quot;failedEndpointsAndCauses&quot;:{},&quot;message&quot;:&quot;Message does not contain some ID field&quot;,&quot;status&quot;:&quot;ERROR&quot;}\r\n\r\nwhich is exactly what I want to put into the response. `IncomingMessage` is the POJO coming in in the first place from ActiveMQ. **Seems that Camel expects my outgoing response POJO to be the same type as incoming message.**\r\n\r\nI cannot `getOut().setBody()`, as this is deprecated. I don&#39;t know why(maybe I know, that it&#39;s better just to `getIn()` and `setBody()`, because we need to copy everything from IN to OUT; but in the annotation of `@Deprecated` there are no explanations. )\r\n\r\nSimilar question: https://stackoverflow.com/questions/56414437/how-exactly-is-jmsreplyto-handled-by-apache-camel-when-does-camel-implicitly-ut which suggests set `disableReplyTo`. But why Camel is not following the EIP of Request and Reply? I want a different body as response. \r\n\r\n\r\nComplete stacktrace(I am trying to return the POJO to `toD()` and `marshall()` but similar error, just now it&#39;s not string but POJO not matching the expected type):\r\n\r\n```\r\n2022-12-20 14:09:49,293 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Initiating transaction rollback on application exception: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\r\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\r\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\r\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\r\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\r\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\r\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\r\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\r\n    ... 30 more\r\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\r\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\r\n    ... 31 more\r\n2022-12-20 14:09:49,298 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Rolling back transaction because of listener exception thrown: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n2022-12-20 14:09:49,299 WARN  [org.apa.cam.com.jms.EndpointMessageListener] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Execution of JMS message listener failed. Caused by: [org.apache.camel.CamelExecutionException - Exception occurred during execution on the exchange: Exchange[]]: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\r\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\r\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\r\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\r\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\r\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\r\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\r\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\r\n    ... 30 more\r\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\r\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\r\n    ... 31 more\r\n2022-12-20 14:09:49,873 SEVERE [org.ecl.yas.int.Unmarshaller] (awaitility-thread) Unexpected char 111 at (line no=1, column no=2, offset=1), expecting &#39;u&#39;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/yxDJm.png","title":"Why does Camel expect to deserialize IN message POJO while I want to change response POJO; no destination set, only JMSReplyTo present","body":"<p>I have a Camel route which listens to an ActiveMQ queue, do some processing, and sends the result to a JMSReplyTo header queue as response.</p>\n<p>In previous version of the app, the destination needs to be explicitly set and it was sending the message with a <code>ProducerTemplate.sendBody()</code>; but I read in Camel doc that JMSReplyTo will be respected. So I want to try set no destination; however, seems that Camel expects the body to be the incoming message POJO.</p>\n<p>How can I send the modified body?</p>\n<p><a href=\"https://camel.apache.org/components/3.19.x/eips/requestReply-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.19.x/eips/requestReply-eip.html</a> has an illustration, where the request and reply have different color. I suppose they are different message, which makes sense; who wants the original message?</p>\n<p><a href=\"https://i.stack.imgur.com/yxDJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxDJm.png\" alt=\"Camel-EIP-request-reply-illustration\" /></a></p>\n<p>In the last step of my route I did: <code>exchange.getIn().setBody(myString);</code>; also tried <code>exchange.getMessage().setBody(myString);</code> but I got error:</p>\n<blockquote>\n<p>Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.IncomingMessage with value {&quot;failedEndpointsAndCauses&quot;:{},&quot;message&quot;:&quot;Message does not contain some ID field&quot;,&quot;status&quot;:&quot;ERROR&quot;}</p>\n</blockquote>\n<p>which is exactly what I want to put into the response. <code>IncomingMessage</code> is the POJO coming in in the first place from ActiveMQ. <strong>Seems that Camel expects my outgoing response POJO to be the same type as incoming message.</strong></p>\n<p>I cannot <code>getOut().setBody()</code>, as this is deprecated. I don't know why(maybe I know, that it's better just to <code>getIn()</code> and <code>setBody()</code>, because we need to copy everything from IN to OUT; but in the annotation of <code>@Deprecated</code> there are no explanations. )</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/56414437/how-exactly-is-jmsreplyto-handled-by-apache-camel-when-does-camel-implicitly-ut\">How exactly is JMSReplyTo handled by Apache Camel? When does camel implicitly utilises the destination?</a> which suggests set <code>disableReplyTo</code>. But why Camel is not following the EIP of Request and Reply? I want a different body as response.</p>\n<p>Complete stacktrace(I am trying to return the POJO to <code>toD()</code> and <code>marshall()</code> but similar error, just now it's not string but POJO not matching the expected type):</p>\n<pre><code>2022-12-20 14:09:49,293 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Initiating transaction rollback on application exception: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\n    ... 30 more\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\n    ... 31 more\n2022-12-20 14:09:49,298 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Rolling back transaction because of listener exception thrown: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n2022-12-20 14:09:49,299 WARN  [org.apa.cam.com.jms.EndpointMessageListener] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Execution of JMS message listener failed. Caused by: [org.apache.camel.CamelExecutionException - Exception occurred during execution on the exchange: Exchange[]]: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\n    ... 30 more\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\n    ... 31 more\n2022-12-20 14:09:49,873 SEVERE [org.ecl.yas.int.Unmarshaller] (awaitility-thread) Unexpected char 111 at (line no=1, column no=2, offset=1), expecting 'u'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676773570,"post_id":75497509,"comment_id":133204590,"body_markdown":"What prevents the loop from running? That determines a strategy for detecting that it&#39;s not.  You don&#39;t want to add a detection mehanism that&#39;s more likely to get stuck than the loop is...","body":"What prevents the loop from running? That determines a strategy for detecting that it&#39;s not.  You don&#39;t want to add a detection mehanism that&#39;s more likely to get stuck than the loop is..."},{"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"score":0,"creation_date":1676773745,"post_id":75497509,"comment_id":133204600,"body_markdown":"I already have several catch logics and handling as per the exceptions. Still once in couple of days, polling stops with new error. I want to know when polling stopped, so that I quickly read the logs for errors, otherwise the error reasons are lost in tonnes of cloud logs.","body":"I already have several catch logics and handling as per the exceptions. Still once in couple of days, polling stops with new error. I want to know when polling stopped, so that I quickly read the logs for errors, otherwise the error reasons are lost in tonnes of cloud logs."},{"owner":{"account_id":3428850,"reputation":4324,"user_id":2873875,"accept_rate":25,"display_name":"Gokhan Dilek"},"score":0,"creation_date":1676774246,"post_id":75497509,"comment_id":133204633,"body_markdown":"Are you able to provide the rest of the logic inside the for loop try/catch block?","body":"Are you able to provide the rest of the logic inside the for loop try/catch block?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1676774777,"post_id":75497509,"comment_id":133204663,"body_markdown":"Why not alert on an unhandled exception?","body":"Why not alert on an unhandled exception?"}],"answers":[{"comments":[{"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"score":0,"creation_date":1676982661,"post_id":75497732,"comment_id":133242979,"body_markdown":"Thank you very much @meriton. I got several clues from this answer to proceed further.\n\nI implemented it with Scheduler in springboot which runs every 50 seconds interval and check last timestamp that was updated by for-loop logic. \nIf the last updated timestamp is high enough, I will raise an alert.","body":"Thank you very much @meriton. I got several clues from this answer to proceed further.  I implemented it with Scheduler in springboot which runs every 50 seconds interval and check last timestamp that was updated by for-loop logic.  If the last updated timestamp is high enough, I will raise an alert."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676775532,"creation_date":1676775532,"answer_id":75497732,"question_id":75497509,"body_markdown":"There are two different reasons why polling stops making progress, and each needs a different approach:\r\n\r\nIf the logic throws a `Throwable` other than an `Exception`, for instance an `Error`, the catch does not match, and execution will leave the for-loop, and likely reach the thread&#39;s `UncaughtExceptionHandler`, the default implementation of which logs the exception to `System.err` and terminates the thread. To prevent this, you should catch `Throwable` rather than `Exception`.\r\n\r\nThe second possibility is that some step in your logic doesn&#39;t terminate, for instance due to an infinite loop, a deadlock, waiting for I/O operations, or whatever. In this case, you&#39;ll want to take a thread dump to see where the thread is stuck. You can automate this as follows:\r\n\r\n```\r\nclass Watchdog {\r\n\tfinal Duration gracePeriod;\r\n\tfinal Thread watchedThread;\r\n\tvolatile Instant lastProgress;\r\n\r\n\tpublic Watchdog(Duration gracePeriod) {\r\n\t\tthis.gracePeriod = gracePeriod;\r\n\t\twatchedThread = Thread.currentThread();\r\n\t\teverythingIsFine();\r\n\t\t\r\n\t\tvar t = new Thread(this::keepWatch);\r\n\t\tt.setDaemon(true);\r\n\t\tt.start();\r\n\t}\r\n\t\r\n\tpublic void everythingIsFine() {\r\n\t\tlastProgress = Instant.now();\r\n\t}\r\n\t\r\n\tvoid keepWatch() {\r\n\t\twhile (true) {\r\n\t\t\tvar silence = Duration.between(lastProgress, Instant.now());\r\n\t\t\tif (silence.compareTo(gracePeriod) &gt; 0) {\r\n\t\t\t\tSystem.err.println(&quot;Watchdog hasn&#39;t seen any progress for &quot; + silence.toSeconds() + &quot; seconds. The watched thread is currently at:&quot;);\r\n\t\t\t\tfor (var element : watchedThread.getStackTrace()) {\r\n\t\t\t\t\tSystem.err.println(&quot;\\tat &quot; + element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(gracePeriod);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nwhile you can use as follows:\r\n\r\n```\r\npublic class Test {\r\n\tvoid step() throws Exception {\r\n\t\tSystem.in.read();\r\n\t}\r\n\t\r\n\tvoid job() {\r\n\t\tvar snoopy = new Watchdog(Duration.ofSeconds(2));\r\n\t\tfor (;;) {\r\n\t\t\ttry {\r\n\t\t\t\tstep();\r\n\t\t\t\tsnoopy.everythingIsFine();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (Throwable t) {\r\n\t\t\t\tSystem.err.println(t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Test().job();\r\n\t}\r\n}\r\n```\r\n\r\nonce the grace period elapses, the WatchDog will print something like:\r\n\r\n&lt;pre&gt;\r\nWatchdog hasn&#39;t seen any progress for 2 seconds. The watched thread is currently at:\r\n\tat java.base/java.io.FileInputStream.readBytes(Native Method)\r\n\tat java.base/java.io.FileInputStream.read(FileInputStream.java:293)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\r\n\tat java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:289)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:276)\r\n\tat stackoverflow.Test.step(Test.java:48)\r\n\tat stackoverflow.Test.job(Test.java:55)\r\n\tat stackoverflow.Test.main(Test.java:65)\r\n&lt;/pre&gt;","title":"How to check when polling stopped","body":"<p>There are two different reasons why polling stops making progress, and each needs a different approach:</p>\n<p>If the logic throws a <code>Throwable</code> other than an <code>Exception</code>, for instance an <code>Error</code>, the catch does not match, and execution will leave the for-loop, and likely reach the thread's <code>UncaughtExceptionHandler</code>, the default implementation of which logs the exception to <code>System.err</code> and terminates the thread. To prevent this, you should catch <code>Throwable</code> rather than <code>Exception</code>.</p>\n<p>The second possibility is that some step in your logic doesn't terminate, for instance due to an infinite loop, a deadlock, waiting for I/O operations, or whatever. In this case, you'll want to take a thread dump to see where the thread is stuck. You can automate this as follows:</p>\n<pre><code>class Watchdog {\n    final Duration gracePeriod;\n    final Thread watchedThread;\n    volatile Instant lastProgress;\n\n    public Watchdog(Duration gracePeriod) {\n        this.gracePeriod = gracePeriod;\n        watchedThread = Thread.currentThread();\n        everythingIsFine();\n        \n        var t = new Thread(this::keepWatch);\n        t.setDaemon(true);\n        t.start();\n    }\n    \n    public void everythingIsFine() {\n        lastProgress = Instant.now();\n    }\n    \n    void keepWatch() {\n        while (true) {\n            var silence = Duration.between(lastProgress, Instant.now());\n            if (silence.compareTo(gracePeriod) &gt; 0) {\n                System.err.println(&quot;Watchdog hasn't seen any progress for &quot; + silence.toSeconds() + &quot; seconds. The watched thread is currently at:&quot;);\n                for (var element : watchedThread.getStackTrace()) {\n                    System.err.println(&quot;\\tat &quot; + element);\n                }\n            }\n            try {\n                Thread.sleep(gracePeriod);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>while you can use as follows:</p>\n<pre><code>public class Test {\n    void step() throws Exception {\n        System.in.read();\n    }\n    \n    void job() {\n        var snoopy = new Watchdog(Duration.ofSeconds(2));\n        for (;;) {\n            try {\n                step();\n                snoopy.everythingIsFine();\n                Thread.sleep(1000);\n            } catch (Throwable t) {\n                System.err.println(t);\n            }\n        }\n    }\n    \n    public static void main(String[] args) throws Exception {\n        new Test().job();\n    }\n}\n</code></pre>\n<p>once the grace period elapses, the WatchDog will print something like:</p>\n<pre>\nWatchdog hasn't seen any progress for 2 seconds. The watched thread is currently at:\n    at java.base/java.io.FileInputStream.readBytes(Native Method)\n    at java.base/java.io.FileInputStream.read(FileInputStream.java:293)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\n    at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:289)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:276)\n    at stackoverflow.Test.step(Test.java:48)\n    at stackoverflow.Test.job(Test.java:55)\n    at stackoverflow.Test.main(Test.java:65)\n</pre>\n"}],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676992701,"creation_date":1676771251,"question_id":75497509,"body_markdown":"I have a message stream, where messages comes which I need to process and then store them in database. In Java, I&#39;ve written polling code which polls stream and consumes messages every 20 seconds. \r\n\r\nThis is done inside an infinite for-loop, like below:\r\n\r\n    for (;;) {\r\n        try{\r\n            //1. Logic for polling.\r\n            //2. Logic for processing the message.\r\n            //3. Logic for storing the message in database.\r\n            Thread.sleep(20000 - &lt;time taken for above 3 steps &gt;); \r\n        } catch(Exception E){\r\n            //4. Exception handling.\r\n        }\r\n    }\r\n\r\nThis logic runs as expected and the stream is polled, but once in a while it hits an exception or something goes wrong and polling stops.\r\n\r\nI want to have a mechanism, that as soon as polling stopped, let&#39;s say this `for` loop is not running for 60 seconds, I should receive a mail or ping.\r\n\r\nHow can I invoke a method if this for loop is not running for 60 seconds?\r\n\r\nI am thinking like, each for-loop execution will ping a heartbeat, and when that heartbeat pinging not received from for-loop then a mail sending is invoked.\r\n\r\n","title":"How to check when polling stopped","body":"<p>I have a message stream, where messages comes which I need to process and then store them in database. In Java, I've written polling code which polls stream and consumes messages every 20 seconds.</p>\n<p>This is done inside an infinite for-loop, like below:</p>\n<pre><code>for (;;) {\n    try{\n        //1. Logic for polling.\n        //2. Logic for processing the message.\n        //3. Logic for storing the message in database.\n        Thread.sleep(20000 - &lt;time taken for above 3 steps &gt;); \n    } catch(Exception E){\n        //4. Exception handling.\n    }\n}\n</code></pre>\n<p>This logic runs as expected and the stream is polled, but once in a while it hits an exception or something goes wrong and polling stops.</p>\n<p>I want to have a mechanism, that as soon as polling stopped, let's say this <code>for</code> loop is not running for 60 seconds, I should receive a mail or ping.</p>\n<p>How can I invoke a method if this for loop is not running for 60 seconds?</p>\n<p>I am thinking like, each for-loop execution will ping a heartbeat, and when that heartbeat pinging not received from for-loop then a mail sending is invoked.</p>\n"},{"tags":["java","validation","constraints"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676992818,"post_id":75522394,"comment_id":133246519,"body_markdown":"You can have only multiple validators for different types not for the same type. That is also the case in the question you linked.","body":"You can have only multiple validators for different types not for the same type. That is also the case in the question you linked."},{"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"score":0,"creation_date":1676993611,"post_id":75522394,"comment_id":133246805,"body_markdown":"Damn, thank you !! I was banging my head on this one. It makes a bit of sense I guess, but I feel like the error message is not clear; or maybe I just did not understand it correctly.","body":"Damn, thank you !! I was banging my head on this one. It makes a bit of sense I guess, but I feel like the error message is not clear; or maybe I just did not understand it correctly."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676993682,"post_id":75522394,"comment_id":133246835,"body_markdown":"Well the message is clear (at least IMHO). **HV000150: The constraint NirValidator defines multiple validators for the type NirResource** states that the validator contains more then 1 validator for a specific type.","body":"Well the message is clear (at least IMHO). <b>HV000150: The constraint NirValidator defines multiple validators for the type NirResource</b> states that the validator contains more then 1 validator for a specific type."},{"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"score":0,"creation_date":1677145020,"post_id":75522394,"comment_id":133281131,"body_markdown":"Yes it does now i read it knowing what it mean; I guess my brain was just not working when seeing it first time","body":"Yes it does now i read it knowing what it mean; I guess my brain was just not working when seeing it first time"}],"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676992451,"creation_date":1676992451,"question_id":75522394,"body_markdown":"I&#39;m trying to have one validator use multiple constraints withtout success. \r\nThe @Constraint annotations take an array as input; and as described in this post, it should be possible: https://stackoverflow.com/questions/16405765/multiple-validation-options-in-annotation.  \r\n\r\nWhen I try to validate a Resource, I get the following error\r\n\r\n\r\n```log \r\nHV000150: The constraint NirValidator defines multiple validators for the type NirResource: NirCalculCleConstraint, NirBrutLongueurConstraint. Only one is allowed\r\n```\r\n\r\n\r\nHere is my interface:\r\n\r\n``` java\r\n\r\n@Documented\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {NirCalculCleConstraint.class, NirBrutLongueurConstraint.class})\r\npublic @interface NirValidator {\r\n\r\n    String message() default &quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nand those 2 constraints classes:\r\n\r\n``` java \r\npublic class NirBrutLongueurConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\r\n    @Override\r\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\r\n        return value == null || value.toString().length() == LONGUEUR_MIN_NIR || value.toString().length() == LONGUEUR_MAX_NIR;\r\n    }\r\n}\r\n\r\npublic class NirCalculCleConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\r\n \r\n    private int calculerCle(NirResource value) {\r\n        return (int) (CONSTANTE_CALCUL_CLE_NIR - ((Long.parseLong(value.toString(false))) % CONSTANTE_CALCUL_CLE_NIR));\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\r\n        return Integer.parseInt(value.getCleNir()) != calculerCle(value);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAll I could find online concerning thie error code is [this link](https://hibernate.org/validator/faq/) but it&#39;s not relevant in my situation as the lib mentionned is not on my classpath.","title":"Javax validator interface with multiple @Constraint throw error","body":"<p>I'm trying to have one validator use multiple constraints withtout success.\nThe @Constraint annotations take an array as input; and as described in this post, it should be possible: <a href=\"https://stackoverflow.com/questions/16405765/multiple-validation-options-in-annotation\">Multiple validation options in Annotation</a>.</p>\n<p>When I try to validate a Resource, I get the following error</p>\n<pre><code>HV000150: The constraint NirValidator defines multiple validators for the type NirResource: NirCalculCleConstraint, NirBrutLongueurConstraint. Only one is allowed\n</code></pre>\n<p>Here is my interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Documented\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {NirCalculCleConstraint.class, NirBrutLongueurConstraint.class})\npublic @interface NirValidator {\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and those 2 constraints classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NirBrutLongueurConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\n    @Override\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\n        return value == null || value.toString().length() == LONGUEUR_MIN_NIR || value.toString().length() == LONGUEUR_MAX_NIR;\n    }\n}\n\npublic class NirCalculCleConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\n \n    private int calculerCle(NirResource value) {\n        return (int) (CONSTANTE_CALCUL_CLE_NIR - ((Long.parseLong(value.toString(false))) % CONSTANTE_CALCUL_CLE_NIR));\n    }\n\n    @Override\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\n        return Integer.parseInt(value.getCleNir()) != calculerCle(value);\n    }\n}\n\n</code></pre>\n<p>All I could find online concerning thie error code is <a href=\"https://hibernate.org/validator/faq/\" rel=\"nofollow noreferrer\">this link</a> but it's not relevant in my situation as the lib mentionned is not on my classpath.</p>\n"},{"tags":["java","maven","repository","maven-3","nexus"],"comments":[{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":0,"creation_date":1338977288,"post_id":10911287,"comment_id":14229742,"body_markdown":"can you post the whole error?","body":"can you post the whole error?"},{"owner":{"account_id":18964,"reputation":303,"user_id":43968,"display_name":"Ogo Pogo"},"score":0,"creation_date":1357126774,"post_id":10911287,"comment_id":19546020,"body_markdown":"Just got the same error and could not figure it out either. I am using a customized settings.xml which is the same for the whole team.\nI downgraded to 3.0.3 and could not reproduce the same &quot;easonPhrase:Unauthorized.&quot; issue.","body":"Just got the same error and could not figure it out either. I am using a customized settings.xml which is the same for the whole team. I downgraded to 3.0.3 and could not reproduce the same &quot;easonPhrase:Unauthorized.&quot; issue."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1474061937,"post_id":10911287,"comment_id":66394852,"body_markdown":"See also http://stackoverflow.com/a/32119725/32453","body":"See also <a href=\"http://stackoverflow.com/a/32119725/32453\">stackoverflow.com/a/32119725/32453</a>"}],"answers":[{"comments":[{"owner":{"account_id":2371180,"reputation":2428,"user_id":2075782,"accept_rate":62,"display_name":"Paulo Oliveira"},"score":0,"creation_date":1427200413,"post_id":10916116,"comment_id":46671501,"body_markdown":"This will work even If I use a SOCKS proxy on Maven?","body":"This will work even If I use a SOCKS proxy on Maven?"},{"owner":{"account_id":2230094,"reputation":1752,"user_id":1967928,"accept_rate":50,"display_name":"jp093121"},"score":0,"creation_date":1484762349,"post_id":10916116,"comment_id":70647085,"body_markdown":"Note: On Windows, my settings.xml file was located in [ %USER_HOME%/.m2/settings.xml ], after adding the above, I no longer got the Unauthorized","body":"Note: On Windows, my settings.xml file was located in [ %USER_HOME%/.m2/settings.xml ], after adding the above, I no longer got the Unauthorized"},{"owner":{"account_id":19777,"reputation":9944,"user_id":46635,"accept_rate":57,"display_name":"splintor"},"score":0,"creation_date":1506521747,"post_id":10916116,"comment_id":79856089,"body_markdown":"The comment about the `clean` order saved me. After adding a dependency to the repository `mvn install` kept failing, until I realized I need to do `mvn clean install`. Thanks!","body":"The comment about the <code>clean</code> order saved me. After adding a dependency to the repository <code>mvn install</code> kept failing, until I realized I need to do <code>mvn clean install</code>. Thanks!"}],"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"comment_count":3,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1338992389,"creation_date":1338992389,"answer_id":10916116,"question_id":10911287,"body_markdown":"The issue may happen while fetching dependencies from a remote repository. In my case, the repository did not need any authentication and it has been resolved by removing the servers section in the settings.xml file:\r\n\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;SomeRepo&lt;/id&gt;\r\n          &lt;username&gt;SomeUN&lt;/username&gt;\r\n          &lt;password&gt;SomePW&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\nps: I guess your target is *mvn clean install* instead of *maven install clean*","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>The issue may happen while fetching dependencies from a remote repository. In my case, the repository did not need any authentication and it has been resolved by removing the servers section in the settings.xml file:</p>\n\n<pre><code>&lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;SomeRepo&lt;/id&gt;\n      &lt;username&gt;SomeUN&lt;/username&gt;\n      &lt;password&gt;SomePW&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<p>ps: I guess your target is <em>mvn clean install</em> instead of <em>maven install clean</em></p>\n"},{"comments":[{"owner":{"account_id":956759,"reputation":8316,"user_id":981922,"accept_rate":89,"display_name":"dokaspar"},"score":0,"creation_date":1359970012,"post_id":12594758,"comment_id":20529393,"body_markdown":"what was the problem with the characters / letters? and how did you solve it?","body":"what was the problem with the characters / letters? and how did you solve it?"},{"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"score":0,"creation_date":1360046212,"post_id":12594758,"comment_id":20560095,"body_markdown":"The problem was that I had the password with a missing letter. This was because the password was having few letters which were repeating and so it got had to identify the missing letter initially..","body":"The problem was that I had the password with a missing letter. This was because the password was having few letters which were repeating and so it got had to identify the missing letter initially.."},{"owner":{"account_id":1544034,"reputation":866,"user_id":1438004,"accept_rate":89,"display_name":"chapeljuice"},"score":0,"creation_date":1402676160,"post_id":12594758,"comment_id":37380641,"body_markdown":"Couldn&#39;t add an answer anymore, but my problem was I needed to add a server to my settings.xml file that I didn&#39;t have in there yet.","body":"Couldn&#39;t add an answer anymore, but my problem was I needed to add a server to my settings.xml file that I didn&#39;t have in there yet."},{"owner":{"account_id":5610341,"reputation":809,"user_id":4443333,"accept_rate":50,"display_name":"Norbert"},"score":1,"creation_date":1522080701,"post_id":12594758,"comment_id":85995826,"body_markdown":"I resolved this error by adding the correct password to my global settings.xml. Using mvn clean install -X reveals the stack trace an that also helped.","body":"I resolved this error by adding the correct password to my global settings.xml. Using mvn clean install -X reveals the stack trace an that also helped."}],"tags":[],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"comment_count":4,"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1348635181,"creation_date":1348635181,"answer_id":12594758,"question_id":10911287,"body_markdown":"The problem here was a typo error in the password used, which was not easily identified due to the characters / letters used in the password.","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>The problem here was a typo error in the password used, which was not easily identified due to the characters / letters used in the password.</p>\n"},{"comments":[{"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"score":0,"creation_date":1536675998,"post_id":52278199,"comment_id":91504367,"body_markdown":"..\\Maven\\apache-maven-3.5.2\\conf that is the path to your settings.xml","body":"..\\Maven\\apache-maven-3.5.2\\conf that is the path to your settings.xml"}],"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536682818,"creation_date":1536675949,"answer_id":52278199,"question_id":10911287,"body_markdown":"You have an old password in the `settings.xml`. It is trying to connect to the repositories, but is not able to, since the password is not updated. Once you update and re-run the command, you should be good.\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>You have an old password in the <code>settings.xml</code>. It is trying to connect to the repositories, but is not able to, since the password is not updated. Once you update and re-run the command, you should be good.</p>\n"},{"tags":[],"owner":{"account_id":10945705,"reputation":236,"user_id":8043915,"display_name":"huanghao"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1551168711,"creation_date":1551168711,"answer_id":54880963,"question_id":10911287,"body_markdown":"I have recently encountered this problem. Here are the steps to resolve\r\n\r\n1. Check the servers section in the settings.xml file.Is username and password correct?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;servers&gt;\r\n      &lt;server&gt;\r\n        &lt;id&gt;serverId&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;\r\n      &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. Check the repository section in the pom.xml file.**The id of the server tag should be the same as the id of the repository tag.**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t  &lt;id&gt;serverId&lt;/id&gt;  \r\n    \t  &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. If the repository tag is not configured in the pom.xml file, look in the settings.xml file.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t  &lt;repositories&gt;\r\n    \t    &lt;repository&gt;\r\n    \t\t    &lt;id&gt;serverId&lt;/id&gt;\r\n    \t\t    &lt;name&gt;aliyun&lt;/name&gt;\r\n    \t\t    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n    \t    &lt;/repository&gt;\r\n    \t  &lt;/repositories&gt;\r\n    \t&lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote that you should ensure that **the id of the server tag should be the same as the id of the repository tag.**","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I have recently encountered this problem. Here are the steps to resolve</p>\n\n<ol>\n<li>Check the servers section in the settings.xml file.Is username and password correct?</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;servers&gt;\r\n  &lt;server&gt;\r\n    &lt;id&gt;serverId&lt;/id&gt;\r\n    &lt;username&gt;username&lt;/username&gt;\r\n    &lt;password&gt;password&lt;/password&gt;\r\n  &lt;/server&gt;\r\n&lt;/servers&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Check the repository section in the pom.xml file.<strong>The id of the server tag should be the same as the id of the repository tag.</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;repositories&gt;\r\n\t&lt;repository&gt;\r\n\t  &lt;id&gt;serverId&lt;/id&gt;  \r\n\t  &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n&lt;/repositories&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li>If the repository tag is not configured in the pom.xml file, look in the settings.xml file.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;profiles&gt;\r\n\t&lt;profile&gt;\r\n\t  &lt;repositories&gt;\r\n\t    &lt;repository&gt;\r\n\t\t    &lt;id&gt;serverId&lt;/id&gt;\r\n\t\t    &lt;name&gt;aliyun&lt;/name&gt;\r\n\t\t    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n\t    &lt;/repository&gt;\r\n\t  &lt;/repositories&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that you should ensure that <strong>the id of the server tag should be the same as the id of the repository tag.</strong></p>\n"},{"tags":[],"owner":{"account_id":4746883,"reputation":1553,"user_id":3837982,"accept_rate":8,"display_name":"Shek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636822686,"creation_date":1636822345,"answer_id":69956372,"question_id":10911287,"body_markdown":"I also faced similar issue, but for me, my password had `!` in it and to fix that I updated my nexus password without `!` (I changed my password basically, you can also achieve this by escaping `!`, I found this issue when I tried to manually perform this operation from my jenkins node, it didn&#39;t like `!` in my password) and this has resolved my issue, I&#39;m assuming `!` in my password string caused this issue when Jenkins tried to connect to SonaType Nexus from my jenkins node terminal. My issue could be totally unrelated to yours but I wanted to document my experience and solution here as well. ","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I also faced similar issue, but for me, my password had <code>!</code> in it and to fix that I updated my nexus password without <code>!</code> (I changed my password basically, you can also achieve this by escaping <code>!</code>, I found this issue when I tried to manually perform this operation from my jenkins node, it didn't like <code>!</code> in my password) and this has resolved my issue, I'm assuming <code>!</code> in my password string caused this issue when Jenkins tried to connect to SonaType Nexus from my jenkins node terminal. My issue could be totally unrelated to yours but I wanted to document my experience and solution here as well.</p>\n"},{"tags":[],"owner":{"account_id":1899037,"reputation":176,"user_id":1715310,"accept_rate":100,"display_name":"Aur&#233;lio Antonio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637601949,"creation_date":1637601949,"answer_id":70069954,"question_id":10911287,"body_markdown":"In my case the issue was that I was executing the mvn command with &quot;sudo&quot;.\r\n\r\nmvn test looks for credentials here:\r\n/home/aurelio/.m2/settings.xml -&gt; configured with repo credentials\r\n\r\nsudo mvn test looks for credentials here:\r\n/home/root/.m2/settings.xml -&gt; no repo credentials configured.\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>In my case the issue was that I was executing the mvn command with &quot;sudo&quot;.</p>\n<p>mvn test looks for credentials here:\n/home/aurelio/.m2/settings.xml -&gt; configured with repo credentials</p>\n<p>sudo mvn test looks for credentials here:\n/home/root/.m2/settings.xml -&gt; no repo credentials configured.</p>\n"},{"comments":[{"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"score":0,"creation_date":1651243454,"post_id":70298764,"comment_id":127324954,"body_markdown":"That does not seem to be quite the alternative, specially if you care about security at your workplace","body":"That does not seem to be quite the alternative, specially if you care about security at your workplace"}],"tags":[],"owner":{"account_id":5445355,"reputation":660,"user_id":4332110,"accept_rate":20,"display_name":"Siddharth Kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1639100336,"creation_date":1639100336,"answer_id":70298764,"question_id":10911287,"body_markdown":"I commented out/removed this part of the code from the pom.xml. And it worked. So dependencies got downloaded from maven central repos.\r\n\r\n    &lt;repositories&gt;\r\n    \t...\r\n    &lt;/repositories&gt;\r\n\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I commented out/removed this part of the code from the pom.xml. And it worked. So dependencies got downloaded from maven central repos.</p>\n<pre><code>&lt;repositories&gt;\n    ...\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151233,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":12594758,"answer_count":7,"score":52,"last_activity_date":1676992004,"creation_date":1338973908,"question_id":10911287,"body_markdown":"I checked out my code from the Nexus repository repository. I changed the password for my account and set it correctly inside my `settings.xml` file. While executing `mvn install clean` I get the error saying `Not authorized, ReasonPhrase:Unauthorized` when it tries to download files from that repository.\r\n\r\nAny idea how to solve this error? I am using Windows 7 with Maven 3.04\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I checked out my code from the Nexus repository repository. I changed the password for my account and set it correctly inside my <code>settings.xml</code> file. While executing <code>mvn install clean</code> I get the error saying <code>Not authorized, ReasonPhrase:Unauthorized</code> when it tries to download files from that repository.</p>\n\n<p>Any idea how to solve this error? I am using Windows 7 with Maven 3.04</p>\n"},{"tags":["java","logging","methods","quarkus","interceptor"],"answers":[{"comments":[{"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"score":1,"creation_date":1676986433,"post_id":75520998,"comment_id":133244200,"body_markdown":"In fact, CDI interceptors work for `public`, `protected` and package-private (default visibility) methods. But you&#39;re right that an interceptor binding declared on a private method either results in a build failure or is simply ignored.","body":"In fact, CDI interceptors work for <code>public</code>, <code>protected</code> and package-private (default visibility) methods. But you&#39;re right that an interceptor binding declared on a private method either results in a build failure or is simply ignored."},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1676992069,"post_id":75520998,"comment_id":133246269,"body_markdown":"Just edited with @MartinKouba corrections","body":"Just edited with @MartinKouba corrections"}],"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676991941,"creation_date":1676985155,"answer_id":75520998,"question_id":75520339,"body_markdown":"By design interceptors work only for `public`, `protected` and `package-private` (default visibility) methods.&lt;br/&gt;\r\nDuring Quarkus deployment any interceptor on private methods is just ignored but should leads to a a failed build if [this property][1] is setted.&lt;br/&gt;\r\nQuarkus allows [interception of non-private static method][2]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.fail-on-intercepted-private-method\r\n  [2]: https://quarkus.io/guides/cdi-reference#interception-of-static-methods","title":"Quarkus Interceptor on private methods","body":"<p>By design interceptors work only for <code>public</code>, <code>protected</code> and <code>package-private</code> (default visibility) methods.<br/>\nDuring Quarkus deployment any interceptor on private methods is just ignored but should leads to a a failed build if <a href=\"https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.fail-on-intercepted-private-method\" rel=\"nofollow noreferrer\">this property</a> is setted.<br/>\nQuarkus allows <a href=\"https://quarkus.io/guides/cdi-reference#interception-of-static-methods\" rel=\"nofollow noreferrer\">interception of non-private static method</a></p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676991941,"creation_date":1676981412,"question_id":75520339,"body_markdown":"Is it possible to add a quarkus interceptor on a private method? I would like to log the time the method takes and want to use an interceptor i have for this purpose. It works fine on all public methods and doesn&#39;t on the private method. ","title":"Quarkus Interceptor on private methods","body":"<p>Is it possible to add a quarkus interceptor on a private method? I would like to log the time the method takes and want to use an interceptor i have for this purpose. It works fine on all public methods and doesn't on the private method.</p>\n"},{"tags":["java","swagger","jersey-2.0"],"comments":[{"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"score":0,"creation_date":1451870761,"post_id":34543576,"comment_id":56912477,"body_markdown":"Hi, you&#39;ll need to provide a bit more information to this question.  What do your models look like?  Can you please post one in source?","body":"Hi, you&#39;ll need to provide a bit more information to this question.  What do your models look like?  Can you please post one in source?"}],"answers":[{"comments":[{"owner":{"account_id":97482,"reputation":14027,"user_id":264419,"accept_rate":89,"display_name":"Dejell"},"score":0,"creation_date":1451934440,"post_id":34595738,"comment_id":56941604,"body_markdown":"do you plan on supporting it?","body":"do you plan on supporting it?"},{"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"score":1,"creation_date":1452205958,"post_id":34595738,"comment_id":57078575,"body_markdown":"It would be nice, but there may be many, many different paths to consider.  If you can find a general way to do this (there is just one class to hack in swagger-core), please send a PR","body":"It would be nice, but there may be many, many different paths to consider.  If you can find a general way to do this (there is just one class to hack in swagger-core), please send a PR"}],"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451925662,"creation_date":1451925662,"answer_id":34595738,"question_id":34543576,"body_markdown":"OK thank you.  You are correct, the swagger introspector cannot follow the mapping by Jackson in this case.  You can add the `@ApiModelProperty(name = &quot;property_details&quot;)` annotation on each field to change the interpreted name by the swagger introspector.","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>OK thank you.  You are correct, the swagger introspector cannot follow the mapping by Jackson in this case.  You can add the <code>@ApiModelProperty(name = \"property_details\")</code> annotation on each field to change the interpreted name by the swagger introspector.</p>\n"},{"comments":[{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":0,"creation_date":1473657296,"post_id":35685722,"comment_id":66209418,"body_markdown":"This doesn&#39;t solve the issue at all, does it? I&#39;ve tried this in `static` scope, to no avail. This would work if Jackson were serializing objects, but at the point I&#39;m interested in, we&#39;re talking about introspected values that maybe aren&#39;t serialized in the way that `ObjectMapper` would? In other words, it&#39;d make sense if `ObjectMapper` isn&#39;t in play here. Pretty much what&#39;s suggested by @fehguy&#39;s post. For now I&#39;ll have to downvote this.","body":"This doesn&#39;t solve the issue at all, does it? I&#39;ve tried this in <code>static</code> scope, to no avail. This would work if Jackson were serializing objects, but at the point I&#39;m interested in, we&#39;re talking about introspected values that maybe aren&#39;t serialized in the way that <code>ObjectMapper</code> would? In other words, it&#39;d make sense if <code>ObjectMapper</code> isn&#39;t in play here. Pretty much what&#39;s suggested by @fehguy&#39;s post. For now I&#39;ll have to downvote this."},{"owner":{"account_id":927500,"reputation":765,"user_id":957979,"accept_rate":93,"display_name":"cesaregb"},"score":0,"creation_date":1479600164,"post_id":35685722,"comment_id":68627555,"body_markdown":"I think it does solve the issue. Swagger use the Json.mapper to create the documentation, so the question of transforming the camelCase to snake_case its solved if you used as documented in my answer. \nThe swagger.json will have the values as expected.","body":"I think it does solve the issue. Swagger use the Json.mapper to create the documentation, so the question of transforming the camelCase to snake_case its solved if you used as documented in my answer.  The swagger.json will have the values as expected."}],"tags":[],"owner":{"account_id":927500,"reputation":765,"user_id":957979,"accept_rate":93,"display_name":"cesaregb"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479599797,"creation_date":1456680139,"answer_id":35685722,"question_id":34543576,"body_markdown":"Swagger doesnt use the Object Mapper you configure for the service. \r\nYou need to configure the swagger object mapper with something like: \r\n\r\n    ...\r\n    ApplicationConfig.initializeSwaggerConfiguration(); // call from app config\r\n    ...\r\n\r\n    /* Swagger configuratoin */\r\n    \t@PostConstruct\r\n    \tpublic static void initializeSwaggerConfiguration() {\r\n    \t\tBeanConfig beanConfig = new BeanConfig();\r\n    \t\tbeanConfig.setSchemes(new String[] { &quot;http&quot; });\r\n    \t\t\r\n    \t\tString host = PropertyHandler.getInstance().getValue(PARAM_API_HOST) + &quot;:&quot;\r\n    \t\t\t\t+ PropertyHandler.getInstance().getValue(PARAM_PORT);\r\n    \t\tbeanConfig.setHost(host);\r\n    \t\tbeanConfig.setBasePath(PropertyHandler.getInstance().getValue(PARAM_API_BASEPATH));\r\n    \t\tbeanConfig.setVersion(PropertyHandler.getInstance().getValue(PARAM_VERSION) + &quot; Profile: &quot; + App.getProfile());\r\n    \t\tbeanConfig.setTitle(&quot;SOD Services&quot;);\r\n    \t\tbeanConfig.setDescription(&quot;Services for handlign the be&quot;);\r\n    \t\tbeanConfig.setResourcePackage(SERVICES_PACKAGE);\r\n    \t\tbeanConfig.setScan(true);\r\n    \t\tJson.mapper().setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\r\n    \t}\r\n\r\nWhen you configure the swagger, my understanding is that Swagger by default use this singleton to be used on swagger api. \r\n\r\nJust notice that your Swagger-ui make break because the &quot;basePath&quot; property change as well to &quot;lower_case_with_underscores&quot; as notice here: https://github.com/swagger-api/swagger-core/issues/947\r\n\r\n\r\nI hope this helps someone \r\nRegards\r\n","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>Swagger doesnt use the Object Mapper you configure for the service. \nYou need to configure the swagger object mapper with something like: </p>\n\n<pre><code>...\nApplicationConfig.initializeSwaggerConfiguration(); // call from app config\n...\n\n/* Swagger configuratoin */\n    @PostConstruct\n    public static void initializeSwaggerConfiguration() {\n        BeanConfig beanConfig = new BeanConfig();\n        beanConfig.setSchemes(new String[] { \"http\" });\n\n        String host = PropertyHandler.getInstance().getValue(PARAM_API_HOST) + \":\"\n                + PropertyHandler.getInstance().getValue(PARAM_PORT);\n        beanConfig.setHost(host);\n        beanConfig.setBasePath(PropertyHandler.getInstance().getValue(PARAM_API_BASEPATH));\n        beanConfig.setVersion(PropertyHandler.getInstance().getValue(PARAM_VERSION) + \" Profile: \" + App.getProfile());\n        beanConfig.setTitle(\"SOD Services\");\n        beanConfig.setDescription(\"Services for handlign the be\");\n        beanConfig.setResourcePackage(SERVICES_PACKAGE);\n        beanConfig.setScan(true);\n        Json.mapper().setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\n    }\n</code></pre>\n\n<p>When you configure the swagger, my understanding is that Swagger by default use this singleton to be used on swagger api. </p>\n\n<p>Just notice that your Swagger-ui make break because the \"basePath\" property change as well to \"lower_case_with_underscores\" as notice here: <a href=\"https://github.com/swagger-api/swagger-core/issues/947\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/issues/947</a></p>\n\n<p>I hope this helps someone \nRegards</p>\n"},{"tags":[],"owner":{"account_id":27800406,"reputation":1,"user_id":21224964,"display_name":"user21224964"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676991652,"creation_date":1676534345,"answer_id":75469307,"question_id":34543576,"body_markdown":"The annotation on the model helped me.\r\n\r\n```\r\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\n```\r\n\r\n[baeldung.com/jackson-deserialize-snake-to-camel-case](https://www.baeldung.com/jackson-deserialize-snake-to-camel-case)","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>The annotation on the model helped me.</p>\n<pre><code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-deserialize-snake-to-camel-case\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialize-snake-to-camel-case</a></p>\n"}],"owner":{"account_id":7549025,"reputation":41,"user_id":5731138,"display_name":"Tamar Rosen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2237,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1676991652,"creation_date":1451551279,"question_id":34543576,"body_markdown":"I am using Jersey, Jax-rs and swagger (+ Spring for injection). My objects have some members and embedded objects with names that are composed of more than one word, and in code I use camelCase. \r\nI defined a resolver so they are emitted as underscore as per standard convention. The problem is that swagger apparently doesn&#39;t pick up this resolver, so that the objects still appear as camelCase in the swagger json. \r\n\r\nBelow are some details of my specific configuration:\r\n\r\nSnippets of my pom.xml:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;springframework.version&gt;4.2.3.RELEASE&lt;/springframework.version&gt;\r\n    \t\t&lt;glassfish.jersey.version&gt;2.22.1&lt;/glassfish.jersey.version&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n......\r\n\r\n    &lt;!-- Jersey --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- swagger documentation --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n.....\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nI am using annotations only, so my web.xml is empty and I have an AppInitializer class. The Swagger servlet is initialized in the class\r\n\r\n\r\n    public class AppInitializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext container) throws ServletException {\r\n    \r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(MongoDbConfig.class);\r\n    \t\tctx.register(CORSResponseFilter.class);\r\n    \t\tctx.setServletContext(container);\r\n    \t\t\r\n    \t\tcontainer.addListener(new ContextLoaderListener(ctx));\r\n    \t\tcontainer.addListener(new RequestContextListener());\r\n    \t\t\r\n    \t\tServletRegistration.Dynamic servlet = container.addServlet(&quot;jersey-servlet&quot;,\r\n    \t\t\t\tnew org.glassfish.jersey.servlet.ServletContainer());\r\n    \t\tservlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;io.swagger.jaxrs.listing,com.my.server.config,com.my.server.resource&quot;);\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t\tservlet.addMapping(&quot;/api/*&quot;);\r\n    \t\t\r\n    \t\tServletRegistration.Dynamic swagger = container.addServlet(&quot;SwaggerServlet&quot;,\r\n    \t\t\t\tnew io.swagger.jersey.config.JerseyJaxrsConfig());\r\n    \t\tswagger.setInitParameter(&quot;api.version&quot;, &quot;1.0.0&quot;);\r\n    \t\tswagger.setInitParameter(&quot;swagger.api.basepath&quot;, container.getContextPath()+&quot;/api&quot;);\r\n    \t\tswagger.setLoadOnStartup(2);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is my main model:\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    \r\n    import io.swagger.annotations.ApiModel;\r\n    \r\n    \r\n    /**\r\n     * @author Tamar Rosen\r\n     *\r\n     */\r\n    \r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    @ApiModel\r\n    public class Property implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\t\r\n    \t\r\n    \tprivate String id;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String name;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String description;\r\n    \t\r\n    \tprivate PropertyDetails propertyDetails;\r\n    \t\r\n    \tprivate int monthlyTax;\r\n    \t\r\n    \tprivate String schemaUrl;\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic PropertyDetails getPropertyDetails() {\r\n    \t\treturn propertyDetails;\r\n    \t}\r\n    \r\n    \tpublic void setPropertyDetails(PropertyDetails propertyDetails) {\r\n    \t\tthis.propertyDetails = propertyDetails;\r\n    \t}\r\n    \r\n    \tpublic int getMonthlyTax() {\r\n    \t\treturn monthlyTax;\r\n    \t}\r\n    \r\n    \tpublic void setMonthlyTax(int monthlyTax) {\r\n    \t\tthis.monthlyTax = monthlyTax;\r\n    \t}\r\n    \r\n    \tpublic String getSchemaUrl() {\r\n    \t\treturn schemaUrl;\r\n    \t}\r\n    \r\n    \tpublic void setSchemaUrl(String schemaUrl) {\r\n    \t\tthis.schemaUrl = schemaUrl;\r\n    \t}\r\n    \r\n    }\r\n\r\n \r\n\r\nThe CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES in set in a ContextResolver class. This works fine except that its not reflected in the doc generated by swagger. \r\n\r\nBelow is the ContextResolver implementation:\r\n\r\n        import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.PropertyNamingStrategy;\r\n    \r\n    @Provider\r\n    public class ObjectMapperContextResolver implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n        private final ObjectMapper mapper;\r\n    \r\n        public ObjectMapperContextResolver() {\r\n            mapper = new ObjectMapper();\r\n            mapper.setPropertyNamingStrategy(\r\n                PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES\r\n            );\r\n        }\r\n    \r\n        public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n            return mapper;\r\n        }\r\n    }\r\n\r\nI suspect the problem is that the swagger servlet doesn&#39;t see the Context resolver, but I don&#39;t know how to fix this problem \r\n\r\n\r\n\r\n\r\n","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>I am using Jersey, Jax-rs and swagger (+ Spring for injection). My objects have some members and embedded objects with names that are composed of more than one word, and in code I use camelCase. \nI defined a resolver so they are emitted as underscore as per standard convention. The problem is that swagger apparently doesn't pick up this resolver, so that the objects still appear as camelCase in the swagger json. </p>\n\n<p>Below are some details of my specific configuration:</p>\n\n<p>Snippets of my pom.xml:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;springframework.version&gt;4.2.3.RELEASE&lt;/springframework.version&gt;\n        &lt;glassfish.jersey.version&gt;2.22.1&lt;/glassfish.jersey.version&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>......</p>\n\n<pre><code>&lt;!-- Jersey --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- swagger documentation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>&lt;/dependencies&gt;\n</code></pre>\n\n<p>I am using annotations only, so my web.xml is empty and I have an AppInitializer class. The Swagger servlet is initialized in the class</p>\n\n<pre><code>public class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext container) throws ServletException {\n\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(MongoDbConfig.class);\n        ctx.register(CORSResponseFilter.class);\n        ctx.setServletContext(container);\n\n        container.addListener(new ContextLoaderListener(ctx));\n        container.addListener(new RequestContextListener());\n\n        ServletRegistration.Dynamic servlet = container.addServlet(\"jersey-servlet\",\n                new org.glassfish.jersey.servlet.ServletContainer());\n        servlet.setInitParameter(\"jersey.config.server.provider.packages\", \"io.swagger.jaxrs.listing,com.my.server.config,com.my.server.resource\");\n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(\"/api/*\");\n\n        ServletRegistration.Dynamic swagger = container.addServlet(\"SwaggerServlet\",\n                new io.swagger.jersey.config.JerseyJaxrsConfig());\n        swagger.setInitParameter(\"api.version\", \"1.0.0\");\n        swagger.setInitParameter(\"swagger.api.basepath\", container.getContextPath()+\"/api\");\n        swagger.setLoadOnStartup(2);\n    }\n\n}\n</code></pre>\n\n<p>Here is my main model:</p>\n\n<pre><code>import java.io.Serializable;\n\nimport javax.validation.constraints.NotNull;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\nimport io.swagger.annotations.ApiModel;\n\n\n/**\n * @author Tamar Rosen\n *\n */\n\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@ApiModel\npublic class Property implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;    \n\n    private String id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    private String description;\n\n    private PropertyDetails propertyDetails;\n\n    private int monthlyTax;\n\n    private String schemaUrl;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public PropertyDetails getPropertyDetails() {\n        return propertyDetails;\n    }\n\n    public void setPropertyDetails(PropertyDetails propertyDetails) {\n        this.propertyDetails = propertyDetails;\n    }\n\n    public int getMonthlyTax() {\n        return monthlyTax;\n    }\n\n    public void setMonthlyTax(int monthlyTax) {\n        this.monthlyTax = monthlyTax;\n    }\n\n    public String getSchemaUrl() {\n        return schemaUrl;\n    }\n\n    public void setSchemaUrl(String schemaUrl) {\n        this.schemaUrl = schemaUrl;\n    }\n\n}\n</code></pre>\n\n<p>The CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES in set in a ContextResolver class. This works fine except that its not reflected in the doc generated by swagger. </p>\n\n<p>Below is the ContextResolver implementation:</p>\n\n<pre><code>    import javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.PropertyNamingStrategy;\n\n@Provider\npublic class ObjectMapperContextResolver implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private final ObjectMapper mapper;\n\n    public ObjectMapperContextResolver() {\n        mapper = new ObjectMapper();\n        mapper.setPropertyNamingStrategy(\n            PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES\n        );\n    }\n\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\n        return mapper;\n    }\n}\n</code></pre>\n\n<p>I suspect the problem is that the swagger servlet doesn't see the Context resolver, but I don't know how to fix this problem </p>\n"},{"tags":["java","spring-boot","spring-webflux","flux"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1676991763,"post_id":75521728,"comment_id":133246154,"body_markdown":"you should not subscribe in your code unless you are the final consumer of the data. In your case, postman is the subscriber. So remove the subscribe, and instead return a `Mono` or a `Flux` all the way out to postman.","body":"you should not subscribe in your code unless you are the final consumer of the data. In your case, postman is the subscriber. So remove the subscribe, and instead return a <code>Mono</code> or a <code>Flux</code> all the way out to postman."}],"owner":{"account_id":27842176,"reputation":1,"user_id":21258449,"display_name":"Sonu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676991647,"creation_date":1676988971,"question_id":75521728,"body_markdown":"In the below code `responseMono.subscribe` is executing after getting the response in postman.\r\ndue to that response (List) is getting empty.  \r\n\r\n```java\r\npublic Mono&lt;List&lt;Response&gt;&gt; Sample() {\r\n    Mono&lt;List&lt;Response&gt;&gt; response = Mono.just(new ArrayList&lt;Response&gt;()); // webclient call post\r\n    Mono&lt;List&lt;Response&gt;&gt; tempresponse = getAppointment(requestBody);\r\n    response = response.flatMap(firstList -&gt; tempresponse.map(responseList -&gt; {\r\n        List&lt;Response&gt; combinedList = new ArrayList&lt;&gt;(firstList);\r\n        if (StringUtils.equals(responseList.get(0).getStatus(), &quot;inProgress&quot;)) {\r\n            Mono&lt;Response&gt; responseMono = getResponseInProgressStatus(&quot;/searchTimeSlot/00092492&quot;);// webclient getCall\r\n            responseMono.subscribe(response1 -&gt; {\r\n                Boolean b = combinedList.add(response1);\r\n            });\r\n        } else {\r\n            combinedList.addAll(responseList);\r\n        }\r\n        return combinedList;\r\n    }));\r\n    return response;\r\n}\r\n```\r\n\r\nExpectation are `responseMono.subscribe` should execute before getting the response in postman.\r\n ","title":"Getting response before subscribe mono in webclient rest call in java","body":"<p>In the below code <code>responseMono.subscribe</code> is executing after getting the response in postman.\ndue to that response (List) is getting empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;List&lt;Response&gt;&gt; Sample() {\n    Mono&lt;List&lt;Response&gt;&gt; response = Mono.just(new ArrayList&lt;Response&gt;()); // webclient call post\n    Mono&lt;List&lt;Response&gt;&gt; tempresponse = getAppointment(requestBody);\n    response = response.flatMap(firstList -&gt; tempresponse.map(responseList -&gt; {\n        List&lt;Response&gt; combinedList = new ArrayList&lt;&gt;(firstList);\n        if (StringUtils.equals(responseList.get(0).getStatus(), &quot;inProgress&quot;)) {\n            Mono&lt;Response&gt; responseMono = getResponseInProgressStatus(&quot;/searchTimeSlot/00092492&quot;);// webclient getCall\n            responseMono.subscribe(response1 -&gt; {\n                Boolean b = combinedList.add(response1);\n            });\n        } else {\n            combinedList.addAll(responseList);\n        }\n        return combinedList;\n    }));\n    return response;\n}\n</code></pre>\n<p>Expectation are <code>responseMono.subscribe</code> should execute before getting the response in postman.</p>\n"},{"tags":["java","javac","java-9","java-platform-module-system"],"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1501235703,"post_id":45370178,"comment_id":77701260,"body_markdown":"@Tavo That question is about `--add-exports`. My question is about the combination of `--add-exports` and `--release` which makes it completely different.","body":"@Tavo That question is about <code>--add-exports</code>. My question is about the combination of <code>--add-exports</code> and <code>--release</code> which makes it completely different."},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1501657439,"post_id":45370178,"comment_id":77868154,"body_markdown":"As correctly said by Michael Easter, this combination of options have been forbidden in javac, so it is now for IDEA devs to adjust their compiler invocation. I&#39;ve filed https://youtrack.jetbrains.com/issue/IDEA-176994 - hopefully, it will be fixed soon.","body":"As correctly said by Michael Easter, this combination of options have been forbidden in javac, so it is now for IDEA devs to adjust their compiler invocation. I&#39;ve filed <a href=\"https://youtrack.jetbrains.com/issue/IDEA-176994\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-176994</a> - hopefully, it will be fixed soon."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1501669615,"post_id":45370178,"comment_id":77876562,"body_markdown":"@StanislavLukyanov Thank you for the bug report! I wanted to do it but had no chance and time.","body":"@StanislavLukyanov Thank you for the bug report! I wanted to do it but had no chance and time."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1509986187,"post_id":45370178,"comment_id":81233099,"body_markdown":"@StanislavLukyanov I think this is fixed in IDEA. I just tried 2017.2.5 and everything worked.","body":"@StanislavLukyanov I think this is fixed in IDEA. I just tried 2017.2.5 and everything worked."}],"answers":[{"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1501500418,"post_id":45403134,"comment_id":77789738,"body_markdown":"So, Java 10 will not allow exporting of packages from platform modules?","body":"So, Java 10 will not allow exporting of packages from platform modules?"},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1501534922,"post_id":45403134,"comment_id":77811807,"body_markdown":"Java 10 will not allow _the combination_ of `--release` and exporting of packages from platform modules. I&#39;m not sure that we can conclude that only `--add-exports` is not available in Java 10. That is a separate question. Please accept the answer that best answers your original question.","body":"Java 10 will not allow <i>the combination</i> of <code>--release</code> and exporting of packages from platform modules. I&#39;m not sure that we can conclude that only <code>--add-exports</code> is not available in Java 10. That is a separate question. Please accept the answer that best answers your original question."},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":3,"creation_date":1501657837,"post_id":45403134,"comment_id":77868436,"body_markdown":"The answer is correct. The idea of `--release` is to allow to compile against *public* API of a *specific* release, signatures of which are recorded and bundled with javac. On the other hand, `--add-exports` and its friends allow to change *private* (as well as public) API of the *current* release. To allow the combination of these options javac would need to have a record of all packages and classes of all releases.","body":"The answer is correct. The idea of <code>--release</code> is to allow to compile against <i>public</i> API of a <i>specific</i> release, signatures of which are recorded and bundled with javac. On the other hand, <code>--add-exports</code> and its friends allow to change <i>private</i> (as well as public) API of the <i>current</i> release. To allow the combination of these options javac would need to have a record of all packages and classes of all releases."},{"owner":{"account_id":945788,"reputation":2088,"user_id":973070,"display_name":"MeTTeO"},"score":0,"creation_date":1581435122,"post_id":45403134,"comment_id":106427893,"body_markdown":"@StanislavLukyanov I think that&#39;s the case. --release is replacing --source --target and --bootclasspath parameter which was required for cross compilation (e.g. compiling to java6 with jdk9): https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler","body":"@StanislavLukyanov I think that&#39;s the case. --release is replacing --source --target and --bootclasspath parameter which was required for cross compilation (e.g. compiling to java6 with jdk9): <a href=\"https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler\" title=\"what is the release flag in the java 9 compiler\">stackoverflow.com/questions/43102787/&hellip;</a>"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1608470910,"post_id":45403134,"comment_id":115588506,"body_markdown":"@StanislavLukyanov would you be open to considering moving that from a comment to an answer? Please tag me for a bounty to it once you do so.","body":"@StanislavLukyanov would you be open to considering moving that from a comment to an answer? Please tag me for a bounty to it once you do so."}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1676991536,"creation_date":1501438741,"answer_id":45403134,"question_id":45370178,"body_markdown":"Due to [JDK-8178152][1] `--release` cannot be used in combination with `--add-exports`, `--add-reads`, and `--patch-module`. \r\n\r\nQuoting JDK-8178152:\r\n\r\n&gt; The overall proposal here is to get make --release 9 work consistently\r\n&gt; between JDK 9 and the (anticipated) JDK 10, even at the cost of a\r\n&gt; possible different behavior of commands like:  \r\n&gt; `$ &lt;jdk9&gt;/javac Test.java`  \r\n&gt; `$ &lt;jdk9&gt;/javac --release 9 Test.java`\r\n\r\nAlso:\r\n\r\n&gt; Which should be acceptable, given the intents of --release - allow to\r\n&gt; compile code using supported APIs for the given JDK release. \r\n&gt; \r\n&gt; In particular the proposal is to: \r\n&gt;\r\n&gt; [edit]\r\n&gt;\r\n&gt; -prevents use of --add-exports, -add-reads and --patch-module for system modules in combination with --release (any version)\r\n\r\n[Here][2] is the file diff that contains:\r\n\r\n&gt; exporting a package from system module {0} is not allowed with\r\n&gt; --release\r\n\r\nI can&#39;t comment on the rationale but from the above quote, it pertains to allowing JDK 9 to work consistently with JDK 10. \r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8178152\r\n  [2]: http://hg.openjdk.java.net/jdk9/jdk9/langtools/rev/77a2d6c1f321","title":"Exporting a package from system module is not allowed with --release","body":"<p>Due to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8178152\" rel=\"nofollow noreferrer\">JDK-8178152</a> <code>--release</code> cannot be used in combination with <code>--add-exports</code>, <code>--add-reads</code>, and <code>--patch-module</code>.</p>\n<p>Quoting JDK-8178152:</p>\n<blockquote>\n<p>The overall proposal here is to get make --release 9 work consistently\nbetween JDK 9 and the (anticipated) JDK 10, even at the cost of a\npossible different behavior of commands like:<br />\n<code>$ &lt;jdk9&gt;/javac Test.java</code><br />\n<code>$ &lt;jdk9&gt;/javac --release 9 Test.java</code></p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>Which should be acceptable, given the intents of --release - allow to\ncompile code using supported APIs for the given JDK release.</p>\n<p>In particular the proposal is to:</p>\n<p>[edit]</p>\n<p>-prevents use of --add-exports, -add-reads and --patch-module for system modules in combination with --release (any version)</p>\n</blockquote>\n<p><a href=\"http://hg.openjdk.java.net/jdk9/jdk9/langtools/rev/77a2d6c1f321\" rel=\"nofollow noreferrer\">Here</a> is the file diff that contains:</p>\n<blockquote>\n<p>exporting a package from system module {0} is not allowed with\n--release</p>\n</blockquote>\n<p>I can't comment on the rationale but from the above quote, it pertains to allowing JDK 9 to work consistently with JDK 10.</p>\n"},{"comments":[{"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"score":3,"creation_date":1631196394,"post_id":55547128,"comment_id":122162392,"body_markdown":"I cleared the **Use &#39;--release&#39; option**, IDEA doesn&#39;t add this option to the compiler and compilation is successful.","body":"I cleared the <b>Use &#39;--release&#39; option</b>, IDEA doesn&#39;t add this option to the compiler and compilation is successful."}],"tags":[],"owner":{"account_id":4129643,"reputation":133,"user_id":4369547,"display_name":"xoric"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1554538322,"creation_date":1554538322,"answer_id":55547128,"question_id":45370178,"body_markdown":"If you are using IntelliJ idea, try checking your Java compiler settings:\r\n\r\nGo to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler] and check the setting &quot;Project bytecode version&quot;. I got a similar error (&quot;exporting a package from system module java.datatransfer is not allowed with --release&quot;) when using JDK 11 while this value was still set to version 9. Setting it to 11 fixed the problem for me.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P0oiq.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using IntelliJ idea, try checking your Java compiler settings:</p>\n\n<p>Go to the File menu -> [Settings] -> [Build, Execution, Deployment] -> [Java Compiler] and check the setting \"Project bytecode version\". I got a similar error (\"exporting a package from system module java.datatransfer is not allowed with --release\") when using JDK 11 while this value was still set to version 9. Setting it to 11 fixed the problem for me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/P0oiq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P0oiq.png\" alt=\"Screenshot\"></a></p>\n"},{"comments":[{"owner":{"account_id":945788,"reputation":2088,"user_id":973070,"display_name":"MeTTeO"},"score":1,"creation_date":1581435224,"post_id":55853763,"comment_id":106427944,"body_markdown":"This is not a universal solution. --release has special meaning: https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler","body":"This is not a universal solution. --release has special meaning: <a href=\"https://stackoverflow.com/questions/43102787/what-is-the-release-flag-in-the-java-9-compiler\" title=\"what is the release flag in the java 9 compiler\">stackoverflow.com/questions/43102787/&hellip;</a>"}],"tags":[],"owner":{"account_id":2517854,"reputation":91,"user_id":2188840,"display_name":"William Lam"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556212196,"creation_date":1556209520,"answer_id":55853763,"question_id":45370178,"body_markdown":"use `-target` &amp; `-source` instead:\r\n\r\n    -target 11 -source 11","title":"Exporting a package from system module is not allowed with --release","body":"<p>use <code>-target</code> &amp; <code>-source</code> instead:</p>\n\n<pre><code>-target 11 -source 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17421787,"reputation":31,"user_id":12627239,"display_name":"Sabbir Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602840650,"creation_date":1584905291,"answer_id":60803943,"question_id":45370178,"body_markdown":"Go to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler]\r\nand select your JDK version. (Make sure it is higher than JDK 11)\r\n\r\n![See the image below][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oBJZV.jpg","title":"Exporting a package from system module is not allowed with --release","body":"<p>Go to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler]\nand select your JDK version. (Make sure it is higher than JDK 11)</p>\n<p><img src=\"https://i.stack.imgur.com/oBJZV.jpg\" alt=\"See the image below\" /></p>\n"},{"tags":[],"owner":{"account_id":18297926,"reputation":1,"user_id":13323449,"display_name":"ravi kumar sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587026680,"creation_date":1586972727,"answer_id":61235204,"question_id":45370178,"body_markdown":"If you are using InetlliJ Idea do this setting:\r\nGo to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler] and select your JDK version and sometimes this is empty so insert the java version like [if you use 11] and save, \r\nThen compile the program and run.","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using InetlliJ Idea do this setting:\nGo to the File menu -> [Settings] -> [Build, Execution, Deployment] -> [Java Compiler] and select your JDK version and sometimes this is empty so insert the java version like [if you use 11] and save, \nThen compile the program and run.</p>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636430011,"creation_date":1636430011,"answer_id":69892626,"question_id":45370178,"body_markdown":"If you are using IntelliJ, there is a better solution.\r\nJust uncheck the &quot;Use &#39;--release&#39; option&quot; checkbox in the Java compiler settings\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xybXv.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using IntelliJ, there is a better solution.\nJust uncheck the &quot;Use '--release' option&quot; checkbox in the Java compiler settings\n<a href=\"https://i.stack.imgur.com/xybXv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xybXv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2744780,"reputation":785,"user_id":2365426,"display_name":"Mohamed Dernoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674954175,"creation_date":1674954175,"answer_id":75271993,"question_id":45370178,"body_markdown":"In eclipse, uncheck the --release from the **project properties** and not from general settings\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7Swp.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>In eclipse, uncheck the --release from the <strong>project properties</strong> and not from general settings</p>\n<p><a href=\"https://i.stack.imgur.com/I7Swp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7Swp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29954,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":45403134,"answer_count":7,"score":23,"last_activity_date":1676991536,"creation_date":1501235223,"question_id":45370178,"body_markdown":"I have the following program:\r\n\r\n**module-info.java**\r\n\r\n    module a {\r\n    }\r\n\r\n**Main.java**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(sun.nio.ByteBuffered.class);\r\n        }\r\n    }\r\n\r\nThis program successfully compiles with the `--add-exports` option:\r\n\r\n    &gt; javac --add-exports java.base/sun.nio=a module-info.java Main.java\r\n\r\nHowever, when I add the `--release` argument, it fails:\r\n\r\n    &gt; javac --add-exports java.base/sun.nio=a --release 9 module-info.java Main.java\r\n    error: exporting a package from system module java.base is not allowed with --release\r\n    1 error\r\n\r\nBasically, these two commands are equivalent. So why is the latter one forbidden?\r\n\r\nAlso, since IDEA passes the `--release` argument to javac, this makes the development in IDEA impossible if my project needs an internal API.\r\n\r\nI&#39;m using JDK 9+178.","title":"Exporting a package from system module is not allowed with --release","body":"<p>I have the following program:</p>\n\n<p><strong>module-info.java</strong></p>\n\n<pre><code>module a {\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(sun.nio.ByteBuffered.class);\n    }\n}\n</code></pre>\n\n<p>This program successfully compiles with the <code>--add-exports</code> option:</p>\n\n<pre><code>&gt; javac --add-exports java.base/sun.nio=a module-info.java Main.java\n</code></pre>\n\n<p>However, when I add the <code>--release</code> argument, it fails:</p>\n\n<pre><code>&gt; javac --add-exports java.base/sun.nio=a --release 9 module-info.java Main.java\nerror: exporting a package from system module java.base is not allowed with --release\n1 error\n</code></pre>\n\n<p>Basically, these two commands are equivalent. So why is the latter one forbidden?</p>\n\n<p>Also, since IDEA passes the <code>--release</code> argument to javac, this makes the development in IDEA impossible if my project needs an internal API.</p>\n\n<p>I'm using JDK 9+178.</p>\n"},{"tags":["java","windows","windows-10"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1495546577,"post_id":44136342,"comment_id":75291287,"body_markdown":"A bit outdated, but I think those are still valid answers... [https://stackoverflow.com/q/2896610/1759845](https://stackoverflow.com/q/2896610/1759845)","body":"A bit outdated, but I think those are still valid answers... <a href=\"https://stackoverflow.com/q/2896610/1759845\">https://stackoverflow.com/q/2896610/1759845</a>"},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1495546648,"post_id":44136342,"comment_id":75291329,"body_markdown":"I don&#39;t know which registry setting it is, but it&#39;ll be one of them: https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java","body":"I don&#39;t know which registry setting it is, but it&#39;ll be one of them: <a href=\"https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\" title=\"read write to windows registry using java\">stackoverflow.com/questions/62289/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":1,"creation_date":1495549781,"post_id":44136634,"comment_id":75293759,"body_markdown":"Just looking for random keys in the registry is not the best approach; https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973","body":"Just looking for random keys in the registry is not the best approach; <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973</a>"},{"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"score":0,"creation_date":1495551891,"post_id":44136634,"comment_id":75295516,"body_markdown":"How are they random? I searched my computer where the information is stored and wrote it down here. Just because your article says that the keys only exist because of some programs doesn&#180;t mean my answer is wrong. If you think you have a better approach I invite you to join the discussion.","body":"How are they random? I searched my computer where the information is stored and wrote it down here. Just because your article says that the keys only exist because of some programs doesn&#180;t mean my answer is wrong. If you think you have a better approach I invite you to join the discussion."},{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1495555160,"post_id":44136634,"comment_id":75297783,"body_markdown":"Exactly, you searched and assumed. There is another shell key where the real information is stored but you should not be using that either. The only documented way is to call one of the `SHGet*Folder*` functions, it says so right in the blog post written by somebody who works on the Windows shell.","body":"Exactly, you searched and assumed. There is another shell key where the real information is stored but you should not be using that either. The only documented way is to call one of the <code>SHGet*Folder*</code> functions, it says so right in the blog post written by somebody who works on the Windows shell."},{"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"score":0,"creation_date":1495555579,"post_id":44136634,"comment_id":75298040,"body_markdown":"Ok I see (I didn&#180;t read the whole article before). But if he just wants to find out where the music folder is he could take the registry value I mentioned aswell, am I right? BTW May I integrate your posts into my answer?","body":"Ok I see (I didn&#180;t read the whole article before). But if he just wants to find out where the music folder is he could take the registry value I mentioned aswell, am I right? BTW May I integrate your posts into my answer?"},{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":1,"creation_date":1495557016,"post_id":44136634,"comment_id":75298909,"body_markdown":"The music path might not be in that key, the &quot;user shell folders&quot; key is better but there is no excuse not to call the correct function once it has been pointed out to you.","body":"The music path might not be in that key, the &quot;user shell folders&quot; key is better but there is no excuse not to call the correct function once it has been pointed out to you."},{"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"score":0,"creation_date":1495557788,"post_id":44136634,"comment_id":75299395,"body_markdown":"@Anders I asked if I could integrate your comment into my answer? &quot;might not be in that key...&quot; --&gt; But it is. That&#180;s what I&#180;ve looked up in the beginning.","body":"@Anders I asked if I could integrate your comment into my answer? &quot;might not be in that key...&quot; --&gt; But it is. That&#180;s what I&#180;ve looked up in the beginning."},{"owner":{"account_id":2127644,"reputation":48143,"user_id":1889329,"accept_rate":71,"display_name":"IInspectable"},"score":0,"creation_date":1495559282,"post_id":44136634,"comment_id":75300264,"body_markdown":"The registry is not a public programming interface. The real solution is to ask the Shell.","body":"The registry is not a public programming interface. The real solution is to ask the Shell."},{"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"score":0,"creation_date":1495559348,"post_id":44136634,"comment_id":75300300,"body_markdown":"@IInspectable Now I understand the whole point. Thank you guys. I will include this into my answer now.","body":"@IInspectable Now I understand the whole point. Thank you guys. I will include this into my answer now."},{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1495561321,"post_id":44136634,"comment_id":75301322,"body_markdown":"@creyD again, the registry value might be there but only if somebody else asked for it with the API.","body":"@creyD again, the registry value might be there but only if somebody else asked for it with the API."},{"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"score":0,"creation_date":1495561802,"post_id":44136634,"comment_id":75301583,"body_markdown":"@Anders I edited the answer to adjust your point. Is it better now?","body":"@Anders I edited the answer to adjust your point. Is it better now?"},{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1495561915,"post_id":44136634,"comment_id":75301670,"body_markdown":"You should link to one of the functions on MSDN, https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx for example","body":"You should link to one of the functions on MSDN, <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a> for example"},{"owner":{"account_id":3548963,"reputation":301,"user_id":2964696,"display_name":"Jules Kerssemakers"},"score":0,"creation_date":1676986090,"post_id":44136634,"comment_id":133244084,"body_markdown":"@Anders: The Old-New-thing link was broken by microsoft moving their main blog-URL, with only crappy, generic redirects.\nBased on the date-stamp of your old link, the current link is:\n[The long and sad story of the Shell Folders key](https://devblogs.microsoft.com/oldnewthing/20031103-00/?p=41973)","body":"@Anders: The Old-New-thing link was broken by microsoft moving their main blog-URL, with only crappy, generic redirects. Based on the date-stamp of your old link, the current link is: <a href=\"https://devblogs.microsoft.com/oldnewthing/20031103-00/?p=41973\" rel=\"nofollow noreferrer\">The long and sad story of the Shell Folders key</a>"}],"tags":[],"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495561977,"creation_date":1495547144,"answer_id":44136634,"question_id":44136342,"body_markdown":"As pointed out in the discussion beneath, the solution using the registry values isn&#180;t good at all and will most likely not work. You shouldn&#180;t read the registry as it is for storage of those values for windows only. A more programmable interface would be the shell where you can get the same info by typing `SHGet*Folder*`. This function is documented [here][1]\r\n\r\nThanks to @Anders and @IInspectable who mentioned this.\r\n\r\nIn the beginning I got this all wrong because the solution I suggested first worked on my PC, so I thought it would be alright. As it turned out this was only a coincidence.\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx","title":"How do I get the Users Music Directory?","body":"<p>As pointed out in the discussion beneath, the solution using the registry values isn¬¥t good at all and will most likely not work. You shouldn¬¥t read the registry as it is for storage of those values for windows only. A more programmable interface would be the shell where you can get the same info by typing <code>SHGet*Folder*</code>. This function is documented <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Thanks to @Anders and @IInspectable who mentioned this.</p>\n\n<p>In the beginning I got this all wrong because the solution I suggested first worked on my PC, so I thought it would be alright. As it turned out this was only a coincidence.</p>\n"},{"comments":[{"owner":{"account_id":3548963,"reputation":301,"user_id":2964696,"display_name":"Jules Kerssemakers"},"score":0,"creation_date":1676985933,"post_id":44146651,"comment_id":133244026,"body_markdown":"Bonus points for the Raymond Chen link.\nThe current link is dead (a-specific redirect to Raymonds index-page, not the specific article). Current link is: [The long and sad story of the Shell Folders key](https://devblogs.microsoft.com/oldnewthing/20031103-00/?p=41973)","body":"Bonus points for the Raymond Chen link. The current link is dead (a-specific redirect to Raymonds index-page, not the specific article). Current link is: <a href=\"https://devblogs.microsoft.com/oldnewthing/20031103-00/?p=41973\" rel=\"nofollow noreferrer\">The long and sad story of the Shell Folders key</a>"},{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1676992117,"post_id":44146651,"comment_id":133246283,"body_markdown":"@JulesKerssemakers Yes, his blog moves every 3 years or so and MS are unable to keep simple things working. Linking to the original URL on Archive.org is better because it retains the comments.","body":"@JulesKerssemakers Yes, his blog moves every 3 years or so and MS are unable to keep simple things working. Linking to the original URL on Archive.org is better because it retains the comments."}],"tags":[],"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676991493,"creation_date":1495582440,"answer_id":44146651,"question_id":44136342,"body_markdown":"The correct way to get the path to special folders on Windows is to call a shell function like [`SHGetFolderPath`][1] with the `CSIDL_*` constants (`CSIDL_MYMUSIC` in your case). \r\n\r\nYou need to use JNI or JNA in Java to do this. Examples can be found [here][2] and [here][3].\r\n\r\nAnd for completeness, reading from the registry is [not the correct way][4] to do this...\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\r\n  [2]: https://stackoverflow.com/a/586917/3501\r\n  [3]: http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html\r\n  [4]: https://web.archive.org/web/20160802184740/https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973","title":"How do I get the Users Music Directory?","body":"<p>The correct way to get the path to special folders on Windows is to call a shell function like <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SHGetFolderPath</code></a> with the <code>CSIDL_*</code> constants (<code>CSIDL_MYMUSIC</code> in your case).</p>\n<p>You need to use JNI or JNA in Java to do this. Examples can be found <a href=\"https://stackoverflow.com/a/586917/3501\">here</a> and <a href=\"http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And for completeness, reading from the registry is <a href=\"https://web.archive.org/web/20160802184740/https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973\" rel=\"nofollow noreferrer\">not the correct way</a> to do this...</p>\n"}],"owner":{"account_id":5977403,"reputation":38,"user_id":4697764,"display_name":"Georg Grubner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44146651,"answer_count":2,"score":1,"last_activity_date":1676991493,"creation_date":1495546373,"question_id":44136342,"body_markdown":"It is possible to change the Users Music, Pictures etc Directory. For this, go to your Windows Explorer, Right-Click on &quot;Music&quot; and go to Path.\r\n\r\n![German Screenshot][1]\r\n\r\nHere you can see, that I have my Music moved to an other hard disk.\r\n\r\nNow the Question: How can I get this Directory in Java?\r\n\r\nBecause `System.getProperty(&quot;user.home&quot;).concat(&quot;\\\\Music&quot;)` leads to &quot;C:\\Users\\GG\\Music&quot; and not to &quot;D:\\GG\\Music&quot;.\r\n\r\n\r\n**UPDATE:**\r\n\r\nas answered by [Anders][2]:\r\n\r\nThe way that worked for me were the following 3 lines of code:\r\n\r\n    char[] pszPath = new char[WinDef.MAX_PATH];\r\n    Shell32.INSTANCE.SHGetFolderPath(null, ShlObj.CSIDL_MYMUSIC, null, ShlObj.SHGFP_TYPE_CURRENT, pszPath);\r\n    File f = new File(String.valueOf(pszPath).trim());\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fUWyt.png\r\n  [2]: https://stackoverflow.com/a/44146651/4697764","title":"How do I get the Users Music Directory?","body":"<p>It is possible to change the Users Music, Pictures etc Directory. For this, go to your Windows Explorer, Right-Click on \"Music\" and go to Path.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fUWyt.png\" alt=\"German Screenshot\"></p>\n\n<p>Here you can see, that I have my Music moved to an other hard disk.</p>\n\n<p>Now the Question: How can I get this Directory in Java?</p>\n\n<p>Because <code>System.getProperty(\"user.home\").concat(\"\\\\Music\")</code> leads to \"C:\\Users\\GG\\Music\" and not to \"D:\\GG\\Music\".</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>as answered by <a href=\"https://stackoverflow.com/a/44146651/4697764\">Anders</a>:</p>\n\n<p>The way that worked for me were the following 3 lines of code:</p>\n\n<pre><code>char[] pszPath = new char[WinDef.MAX_PATH];\nShell32.INSTANCE.SHGetFolderPath(null, ShlObj.CSIDL_MYMUSIC, null, ShlObj.SHGFP_TYPE_CURRENT, pszPath);\nFile f = new File(String.valueOf(pszPath).trim());\n</code></pre>\n"},{"tags":["java","android","okhttp"],"answers":[{"comments":[{"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"score":1,"creation_date":1487419979,"post_id":42314728,"comment_id":71783667,"body_markdown":"I tried before putting question here but not working for me","body":"I tried before putting question here but not working for me"},{"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"score":0,"creation_date":1487420082,"post_id":42314728,"comment_id":71783708,"body_markdown":"Did you try using a different url?","body":"Did you try using a different url?"},{"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"score":0,"creation_date":1487420352,"post_id":42314728,"comment_id":71783777,"body_markdown":"Alright so that&#39;s it there is a problem with your url","body":"Alright so that&#39;s it there is a problem with your url"},{"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"score":0,"creation_date":1487420749,"post_id":42314728,"comment_id":71783880,"body_markdown":"So another URL is working fine with your code and this one is generating problems right? Did you try adjusting the headers?","body":"So another URL is working fine with your code and this one is generating problems right? Did you try adjusting the headers?"},{"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"score":0,"creation_date":1487421357,"post_id":42314728,"comment_id":71784062,"body_markdown":"any special header do I need to set? like content type","body":"any special header do I need to set? like content type"},{"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"score":0,"creation_date":1487421795,"post_id":42314728,"comment_id":71784202,"body_markdown":"If its a simple POST then no. Try checking the manifest permissions?","body":"If its a simple POST then no. Try checking the manifest permissions?"},{"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"score":0,"creation_date":1487439960,"post_id":42314728,"comment_id":71790412,"body_markdown":"Manifest also has permission thats why other services are working fine.","body":"Manifest also has permission thats why other services are working fine."}],"tags":[],"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487422185,"creation_date":1487418453,"answer_id":42314728,"question_id":42314652,"body_markdown":"Putting a &#39;/&#39; at the end of URL causes the redirect to happen because your server likes urls that end in &#39;/&#39;. POST is fully supported by the URL your server redirects you to, but the client is executing a GET request when it behaves according to your setRedirecting() call (cURL does the same exact thing with the -L switch) The fix is to either put a &#39;/&#39; at the end of URL, or to grab the Location header from the response yourself and then initiate another POST request manually.\r\n\r\nThis can be observed in wireshark. You can test the theory by trying to perform a GET request with your browser to the URL with a slash appended to it. That will cause the browser to get a 405. Here&#39;s the fixed code for Android, this code uses the simple fix of appending a &#39;/&#39; to the URL (not production ready):\r\n\r\nRead more from [here.][1]\r\n\r\nDo let me know if this helps :)\r\n\r\nAdditionally, try using this piece of code:\r\n\r\n    public void postData() {\r\n    // Create a new HttpClient and Post Header\r\n    HttpClient httpclient = new DefaultHttpClient();\r\n    HttpPost httppost = new HttpPost(&quot;https://your URL&quot;);\r\n\r\n    try {\r\n        // Add your data\r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;id&quot;, &quot;12345&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;stringdata&quot;, &quot;Hi&quot;));\r\n        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n\r\n        // Execute HTTP Post Request\r\n        HttpResponse response = httpclient.execute(httppost);\r\n\r\n    } catch (ClientProtocolException e) {\r\n        // TODO Auto-generated catch block\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n    }\r\n    } \r\n\r\n  [1]: https://stackoverflow.com/a/6604491/6715557","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Putting a '/' at the end of URL causes the redirect to happen because your server likes urls that end in '/'. POST is fully supported by the URL your server redirects you to, but the client is executing a GET request when it behaves according to your setRedirecting() call (cURL does the same exact thing with the -L switch) The fix is to either put a '/' at the end of URL, or to grab the Location header from the response yourself and then initiate another POST request manually.</p>\n\n<p>This can be observed in wireshark. You can test the theory by trying to perform a GET request with your browser to the URL with a slash appended to it. That will cause the browser to get a 405. Here's the fixed code for Android, this code uses the simple fix of appending a '/' to the URL (not production ready):</p>\n\n<p>Read more from <a href=\"https://stackoverflow.com/a/6604491/6715557\">here.</a></p>\n\n<p>Do let me know if this helps :)</p>\n\n<p>Additionally, try using this piece of code:</p>\n\n<pre><code>public void postData() {\n// Create a new HttpClient and Post Header\nHttpClient httpclient = new DefaultHttpClient();\nHttpPost httppost = new HttpPost(\"https://your URL\");\n\ntry {\n    // Add your data\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\n    nameValuePairs.add(new BasicNameValuePair(\"id\", \"12345\"));\n    nameValuePairs.add(new BasicNameValuePair(\"stringdata\", \"Hi\"));\n    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n\n    // Execute HTTP Post Request\n    HttpResponse response = httpclient.execute(httppost);\n\n} catch (ClientProtocolException e) {\n    // TODO Auto-generated catch block\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4214752,"reputation":2537,"user_id":3451344,"display_name":"Sangeet Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487423651,"creation_date":1487423651,"answer_id":42315614,"question_id":42314652,"body_markdown":"Your API call is reciveving data in GET parameter. So data should send along with url as given below\r\n\r\n\r\n                String postData = Uri.encode(&quot;key1=valu1&amp;key2=valu2&quot;);\r\n                URL url = new URL(&quot;sample url&quot;+&quot;?+postData);\r\n","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Your API call is reciveving data in GET parameter. So data should send along with url as given below</p>\n\n<pre><code>            String postData = Uri.encode(\"key1=valu1&amp;key2=valu2\");\n            URL url = new URL(\"sample url\"+\"?+postData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247164,"reputation":21,"user_id":1980255,"display_name":"Arjan van IJzendoorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676991387,"creation_date":1676991387,"answer_id":75522196,"question_id":42314652,"body_markdown":"I just had a similar problem with the `HttpClient` in Java. The solution was to specify the HTTP version explicitly:\r\n\r\n    HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_1_1)\r\n                .build();\r\n\r\nNow my requests returns the same result as through Postman.","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>I just had a similar problem with the <code>HttpClient</code> in Java. The solution was to specify the HTTP version explicitly:</p>\n<pre><code>HttpClient.newBuilder()\n            .version(HttpClient.Version.HTTP_1_1)\n            .build();\n</code></pre>\n<p>Now my requests returns the same result as through Postman.</p>\n"}],"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13351,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676991387,"creation_date":1487417980,"question_id":42314652,"body_markdown":"Please I have gone through all the question from stackoverflow, but those are not applicable to my problem.\r\n\r\n[![enter image description here][1]][1]\r\nPlease have look in image request working fine from `POSTMAN`.\r\n\r\n  [1]: https://i.stack.imgur.com/wrrOq.png\r\n\r\nBut When I tried from `android` code it is not working.\r\nMy Sample Android code is here.\r\n\r\n \r\n\r\n    @Override\r\n            protected String doInBackground(Void... params) {\r\n                HttpURLConnection urlConnection = null;\r\n                BufferedReader reader = null;\r\n    \r\n                // Will contain the raw JSON response as a string.\r\n                String forecastJsonStr = null;\r\n    \r\n                try {\r\n                    URL url = new URL(&quot;sample url&quot;);\r\n    \r\n                    String postData = &quot;key1=valu1&amp;key2=valu2&quot;;\r\n    \r\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                    conn.setReadTimeout(55000 /* milliseconds */);\r\n                    conn.setConnectTimeout(55000 /* milliseconds */);\r\n                    conn.setRequestMethod(&quot;POST&quot;);\r\n                    conn.setDoInput(true);\r\n                    conn.setDoOutput(true);\r\n                    OutputStream os = conn.getOutputStream();\r\n                    BufferedWriter writer = new BufferedWriter(\r\n                            new OutputStreamWriter(os));\r\n                    writer.write(postData);\r\n    \r\n                    writer.flush();\r\n                    writer.close();\r\n                    os.close();\r\n    \r\n                    int responseCode=conn.getResponseCode();\r\n    \r\n                    if (responseCode == HttpsURLConnection.HTTP_OK) {\r\n    \r\n                        BufferedReader in=new BufferedReader(\r\n                                new InputStreamReader(\r\n                                        conn.getInputStream()));\r\n                        StringBuffer sb = new StringBuffer(&quot;&quot;);\r\n                        String line=&quot;&quot;;\r\n    \r\n                        while((line = in.readLine()) != null) {\r\n                            Log.e(&quot;response &quot;,line);\r\n                            sb.append(line);\r\n                            break;\r\n                        }\r\n    \r\n                        in.close();\r\n                        return sb.toString();\r\n    \r\n                    }\r\n                    else {\r\n                        return new String(&quot;false : &quot;+responseCode);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;PlaceholderFragment&quot;, &quot;Error &quot;, e);\r\n                    // If the code didn&#39;t successfully get the weather data, there&#39;s no point in attemping\r\n                    // to parse it.\r\n                    return null;\r\n                } finally {\r\n                    if (urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                    if (reader != null) {\r\n                        try {\r\n                            reader.close();\r\n                        } catch (final IOException e) {\r\n                           \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nAbove  java code return 405 error code. I also tried from `OkHttp` also.\r\nPlease help.","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Please I have gone through all the question from stackoverflow, but those are not applicable to my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wrrOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrrOq.png\" alt=\"enter image description here\"></a>\nPlease have look in image request working fine from <code>POSTMAN</code>.</p>\n\n<p>But When I tried from <code>android</code> code it is not working.\nMy Sample Android code is here.</p>\n\n<pre><code>@Override\n        protected String doInBackground(Void... params) {\n            HttpURLConnection urlConnection = null;\n            BufferedReader reader = null;\n\n            // Will contain the raw JSON response as a string.\n            String forecastJsonStr = null;\n\n            try {\n                URL url = new URL(\"sample url\");\n\n                String postData = \"key1=valu1&amp;key2=valu2\";\n\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n                conn.setReadTimeout(55000 /* milliseconds */);\n                conn.setConnectTimeout(55000 /* milliseconds */);\n                conn.setRequestMethod(\"POST\");\n                conn.setDoInput(true);\n                conn.setDoOutput(true);\n                OutputStream os = conn.getOutputStream();\n                BufferedWriter writer = new BufferedWriter(\n                        new OutputStreamWriter(os));\n                writer.write(postData);\n\n                writer.flush();\n                writer.close();\n                os.close();\n\n                int responseCode=conn.getResponseCode();\n\n                if (responseCode == HttpsURLConnection.HTTP_OK) {\n\n                    BufferedReader in=new BufferedReader(\n                            new InputStreamReader(\n                                    conn.getInputStream()));\n                    StringBuffer sb = new StringBuffer(\"\");\n                    String line=\"\";\n\n                    while((line = in.readLine()) != null) {\n                        Log.e(\"response \",line);\n                        sb.append(line);\n                        break;\n                    }\n\n                    in.close();\n                    return sb.toString();\n\n                }\n                else {\n                    return new String(\"false : \"+responseCode);\n                }\n            } catch (Exception e) {\n                Log.e(\"PlaceholderFragment\", \"Error \", e);\n                // If the code didn't successfully get the weather data, there's no point in attemping\n                // to parse it.\n                return null;\n            } finally {\n                if (urlConnection != null) {\n                    urlConnection.disconnect();\n                }\n                if (reader != null) {\n                    try {\n                        reader.close();\n                    } catch (final IOException e) {\n\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Above  java code return 405 error code. I also tried from <code>OkHttp</code> also.\nPlease help.</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1676989821,"post_id":75521849,"comment_id":133245405,"body_markdown":"Considering that the body of `Object::equals` is just `return (this == obj);`, calling `super.equals` instead seems pointless.","body":"Considering that the body of <code>Object::equals</code> is just <code>return (this == obj);</code>, calling <code>super.equals</code> instead seems pointless."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676990018,"post_id":75521849,"comment_id":133245489,"body_markdown":"The default implementation of equals returns pointer equality (meaning either it&#39;s the same instance, or it&#39;s not equal). Usually equals (and hashCode together) are overridden as you show to provide functional equality, meaning for example two different instances that have the same data are considered to be equal, to then leverage such functional equality on data structures like hash tables. Of course the overriden equals is (slightly) less performant but it is functionally completely different from the pointer equality","body":"The default implementation of equals returns pointer equality (meaning either it&#39;s the same instance, or it&#39;s not equal). Usually equals (and hashCode together) are overridden as you show to provide functional equality, meaning for example two different instances that have the same data are considered to be equal, to then leverage such functional equality on data structures like hash tables. Of course the overriden equals is (slightly) less performant but it is functionally completely different from the pointer equality"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676990086,"post_id":75521849,"comment_id":133245519,"body_markdown":"Does this answer your question? [Why do I need to override the equals and hashCode methods in Java?](https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">Why do I need to override the equals and hashCode methods in Java?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676990088,"post_id":75521849,"comment_id":133245522,"body_markdown":"And before you think about performance, think about what other coders expect. My first instinct when reading the version with the call to `super.equals` would be to double check whether the class inherits from another class, wasting *my* time rather than CPU time.","body":"And before you think about performance, think about what other coders expect. My first instinct when reading the version with the call to <code>super.equals</code> would be to double check whether the class inherits from another class, wasting <i>my</i> time rather than CPU time."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1676990264,"post_id":75521849,"comment_id":133245581,"body_markdown":"&quot;if you redefine the equals method in a subclass, use super.equals(other).&quot; This is really bad advice: equals is _hard_ to define correctly across a hierarchy of types. For example, equals needs to be symmetrical; but `parent.equals(child)` is not necessarily equal to `child.equals(parent)`, because the child equals may test additional properties that only exist on the child class. And you can&#39;t say &quot;oh, if you&#39;re comparing a child and parent class, only consider properties of the parent class&quot;, because you then potentially invalidate transitivity.","body":"&quot;if you redefine the equals method in a subclass, use super.equals(other).&quot; This is really bad advice: equals is <i>hard</i> to define correctly across a hierarchy of types. For example, equals needs to be symmetrical; but <code>parent.equals(child)</code> is not necessarily equal to <code>child.equals(parent)</code>, because the child equals may test additional properties that only exist on the child class. And you can&#39;t say &quot;oh, if you&#39;re comparing a child and parent class, only consider properties of the parent class&quot;, because you then potentially invalidate transitivity."}],"answers":[{"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1676990716,"post_id":75521937,"comment_id":133245758,"body_markdown":"it makes sense if the requirement is parent element should also be equal.","body":"it makes sense if the requirement is parent element should also be equal."},{"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"score":0,"creation_date":1676995609,"post_id":75521937,"comment_id":133247459,"body_markdown":"indeed, but in the code sample the superclass is java.lang.Object","body":"indeed, but in the code sample the superclass is java.lang.Object"},{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1676997246,"post_id":75521937,"comment_id":133248031,"body_markdown":"He is learning. So consider all the cases :)","body":"He is learning. So consider all the cases :)"}],"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676990070,"creation_date":1676990070,"answer_id":75521937,"question_id":75521849,"body_markdown":"`if (super.equals(o)) return true;` that doesn&#39;t make much sense, just use the `==` version.\r\n\r\nNote: you can test the correctness of your hashCode() - equals() implementations using the [equalsverifier library][1].\r\n\r\n\r\n  [1]: https://jqno.nl/equalsverifier/","title":"How to properly define method equals()?","body":"<p><code>if (super.equals(o)) return true;</code> that doesn't make much sense, just use the <code>==</code> version.</p>\n<p>Note: you can test the correctness of your hashCode() - equals() implementations using the <a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">equalsverifier library</a>.</p>\n"},{"tags":[],"owner":{"account_id":26646454,"reputation":11,"user_id":20261329,"display_name":"Ma&#235;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990414,"creation_date":1676990414,"answer_id":75522010,"question_id":75521849,"body_markdown":"By default, `equals()` refers to the method from Object class, however your book means that if you work with a child and a parent class which overrides the `equals()` method, you should use `super.equals()` to call the function redefined in the parent element.","title":"How to properly define method equals()?","body":"<p>By default, <code>equals()</code> refers to the method from Object class, however your book means that if you work with a child and a parent class which overrides the <code>equals()</code> method, you should use <code>super.equals()</code> to call the function redefined in the parent element.</p>\n"},{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1676991248,"creation_date":1676990627,"answer_id":75522049,"question_id":75521849,"body_markdown":"It actually depends on the requirement. I&#39;m elaborating. \r\n\r\nSuppose, your requirement is to be equal with another object, parents needed to be equal as well, you should use \r\n\r\n    if (super.equals(o)) return true;\r\n\r\nThe topmost class in the inheritance tree will use \r\n\r\n    if (this == o) return true;\r\n\r\nthen. Though, if you keep the same as its child class, it will call the Object class&#39;s equals() which checks reference, so still same output with another extra calling.\r\n\r\nHere instead of calling parent class equals() you could compare parent class fields directly in the subclass. But think that, in the future, if your business doesn&#39;t need some field from the parent class, and tells you that to remove that field from the parent class, you will need to delete it in subclasses as well. So to reduce that extra coding, better don&#39;t use the parent class field in the subclass&#39;s equals() method to compare equality. \r\n\r\nBut if the requirement is just a specific class needs to be considered to get equality, then you can use \r\n\r\n    if (this == o) return true;\r\nwithout any problem. ","title":"How to properly define method equals()?","body":"<p>It actually depends on the requirement. I'm elaborating.</p>\n<p>Suppose, your requirement is to be equal with another object, parents needed to be equal as well, you should use</p>\n<pre><code>if (super.equals(o)) return true;\n</code></pre>\n<p>The topmost class in the inheritance tree will use</p>\n<pre><code>if (this == o) return true;\n</code></pre>\n<p>then. Though, if you keep the same as its child class, it will call the Object class's equals() which checks reference, so still same output with another extra calling.</p>\n<p>Here instead of calling parent class equals() you could compare parent class fields directly in the subclass. But think that, in the future, if your business doesn't need some field from the parent class, and tells you that to remove that field from the parent class, you will need to delete it in subclasses as well. So to reduce that extra coding, better don't use the parent class field in the subclass's equals() method to compare equality.</p>\n<p>But if the requirement is just a specific class needs to be considered to get equality, then you can use</p>\n<pre><code>if (this == o) return true;\n</code></pre>\n<p>without any problem.</p>\n"}],"owner":{"account_id":27842488,"reputation":15,"user_id":21258697,"display_name":"JavaStudent001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676993187,"accepted_answer_id":75522049,"answer_count":3,"score":0,"last_activity_date":1676991248,"creation_date":1676989614,"question_id":75521849,"body_markdown":"I&#39;m learning Java language and I have one question for you.\r\n\r\nFor example:\r\nI have a class Employee like this:\r\n\r\n\r\n```\r\npublic class Employee {\r\n\r\n    private int id;\r\n    private String name;\r\n\r\n    public Employee(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSo I should write method equals() like:\r\n\r\n```\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Employee employee = (Employee) o;\r\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\r\n    }\r\n```\r\n\r\nor\r\n\r\n```\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (super.equals(o)) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Employee employee = (Employee) o;\r\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\r\n    }\r\n```\r\n\r\nMy book says:\r\n&gt; if you redefine the equals method in a subclass, use super.equals(other).\r\n\r\nbut all classes extends Object class so which version of this method is better? I think that the first option will be faster (CPU). And the first method is the most popular, but why?","title":"How to properly define method equals()?","body":"<p>I'm learning Java language and I have one question for you.</p>\n<p>For example:\nI have a class Employee like this:</p>\n<pre><code>public class Employee {\n\n    private int id;\n    private String name;\n\n    public Employee(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>So I should write method equals() like:</p>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\n    }\n</code></pre>\n<p>or</p>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (super.equals(o)) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\n    }\n</code></pre>\n<p>My book says:</p>\n<blockquote>\n<p>if you redefine the equals method in a subclass, use super.equals(other).</p>\n</blockquote>\n<p>but all classes extends Object class so which version of this method is better? I think that the first option will be faster (CPU). And the first method is the most popular, but why?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-mirrormaker"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676991136,"creation_date":1676991136,"answer_id":75522154,"question_id":75511943,"body_markdown":"To my knowledge, MM2 was written without any Zookeeper API in mind, as there were already talks about removing Zookeeper completely when it was developed, so there was no reason to add functions for it.\r\n\r\nIn fact, I&#39;m not even sure it&#39;ll work on Kafka clusters less than approx 0.10.2, as it uses other metadata to sync topic information using AdminClient API and record timestamps (and possibly headers, added in 0.11)","title":"Does MirrorMaker2 replicates offset that are stored in zookeeper storage?","body":"<p>To my knowledge, MM2 was written without any Zookeeper API in mind, as there were already talks about removing Zookeeper completely when it was developed, so there was no reason to add functions for it.</p>\n<p>In fact, I'm not even sure it'll work on Kafka clusters less than approx 0.10.2, as it uses other metadata to sync topic information using AdminClient API and record timestamps (and possibly headers, added in 0.11)</p>\n"}],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522154,"answer_count":1,"score":0,"last_activity_date":1676991136,"creation_date":1676911013,"question_id":75511943,"body_markdown":"I am having Kafka consumer (zookeeper based) with client version `0.8.1.1` which uses zookeeper as offset storage (consuming from Kafka cluster `1.0.1`). Now, I want to replicate the messages and offsets (that are stored in zookeeper) to a new Kafka cluster `2.8.0` using MirrorMaker2. But I need the replicated offsets to store in Kafka storage instead of zookeeper storage. From my testing, I found that MirrorMaker2 is not replicating the offsets that are stored in zookeeper storage but it does only if it is stored in Kafka storage. \r\n\r\nOne of the options is to upgrade the consumer to `0.8.2.x` and set `dual.commit.enabled` to `True` so that MirrorMaker2 can replicate the offset from Kafka storage to Kafka storage. But for some reason, I would like to avoid this due to technical limitations. \r\n\r\nIs there any config or workaround to achieve the use case to migrate the offset from zookeeper storage to Kafka storage using MirrorMaker2?&#160;","title":"Does MirrorMaker2 replicates offset that are stored in zookeeper storage?","body":"<p>I am having Kafka consumer (zookeeper based) with client version <code>0.8.1.1</code> which uses zookeeper as offset storage (consuming from Kafka cluster <code>1.0.1</code>). Now, I want to replicate the messages and offsets (that are stored in zookeeper) to a new Kafka cluster <code>2.8.0</code> using MirrorMaker2. But I need the replicated offsets to store in Kafka storage instead of zookeeper storage. From my testing, I found that MirrorMaker2 is not replicating the offsets that are stored in zookeeper storage but it does only if it is stored in Kafka storage.</p>\n<p>One of the options is to upgrade the consumer to <code>0.8.2.x</code> and set <code>dual.commit.enabled</code> to <code>True</code> so that MirrorMaker2 can replicate the offset from Kafka storage to Kafka storage. But for some reason, I would like to avoid this due to technical limitations.</p>\n<p>Is there any config or workaround to achieve the use case to migrate the offset from zookeeper storage to Kafka storage using MirrorMaker2?¬†</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676988575,"post_id":75521608,"comment_id":133244930,"body_markdown":"Your query, as your image as well as the error is telling you , returns more then 1 `Order`. Your method signature is returning `Order` which is for 1 row, you have 21 rows, how should that be shoehorned into 1 order? Instead return a `List&lt;Order&gt;` to obtain all the orders for a customer.","body":"Your query, as your image as well as the error is telling you , returns more then 1 <code>Order</code>. Your method signature is returning <code>Order</code> which is for 1 row, you have 21 rows, how should that be shoehorned into 1 order? Instead return a <code>List&lt;Order&gt;</code> to obtain all the orders for a customer."},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1676988836,"post_id":75521608,"comment_id":133245039,"body_markdown":"i tried to make it as List&lt;Order&gt; but it did not work, maybe i wrote it wrong","body":"i tried to make it as List&lt;Order&gt; but it did not work, maybe i wrote it wrong"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676989078,"post_id":75521608,"comment_id":133245126,"body_markdown":"You changed it where? Please update your question, with the modified code and (if any) error (preferably the **full stacktrace**)","body":"You changed it where? Please update your question, with the modified code and (if any) error (preferably the <b>full stacktrace</b>)"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1676989497,"post_id":75521608,"comment_id":133245283,"body_markdown":"i dont know what kind of magic you and stackoverflow did but my code with list works now :D omg i guess i only needed to post :D thank you, now i also understood better diffrence between Order and List&lt;Order&gt;, i missed part where Order only returns one row","body":"i dont know what kind of magic you and stackoverflow did but my code with list works now :D omg i guess i only needed to post :D thank you, now i also understood better diffrence between Order and List&lt;Order&gt;, i missed part where Order only returns one row"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676989683,"post_id":75521608,"comment_id":133245354,"body_markdown":"@M.Deinum your comment should be an Answer, and sarah6 can then accept it. That&#39;s how SO works - questions get answers, one of which is accepted by the question author so that others know what was helpful.","body":"@M.Deinum your comment should be an Answer, and sarah6 can then accept it. That&#39;s how SO works - questions get answers, one of which is accepted by the question author so that others know what was helpful."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990955,"creation_date":1676990955,"answer_id":75522126,"question_id":75521608,"body_markdown":"If you look at your own screenshot you see the query returns 21 rows. This is also what the exception/error is telling you (no unique result). \r\n\r\nYour repository method returns a single `Order` whilst your query returns 21. That isn&#39;t going to fit. Instead you need to return a collection of orders, like `List&lt;Order&gt;`. \r\n\r\n```java\r\nList&lt;Order&gt; getOrdersByCustomerId(Long customerId);\r\n```\r\n\r\nAn `Order` represents a row in the database, so in your case you will get a list with 21 `Order` objects in it. \r\n","title":"query did not return a unique result:","body":"<p>If you look at your own screenshot you see the query returns 21 rows. This is also what the exception/error is telling you (no unique result).</p>\n<p>Your repository method returns a single <code>Order</code> whilst your query returns 21. That isn't going to fit. Instead you need to return a collection of orders, like <code>List&lt;Order&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Order&gt; getOrdersByCustomerId(Long customerId);\n</code></pre>\n<p>An <code>Order</code> represents a row in the database, so in your case you will get a list with 21 <code>Order</code> objects in it.</p>\n"}],"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522126,"answer_count":1,"score":0,"last_activity_date":1676990955,"creation_date":1676988379,"question_id":75521608,"body_markdown":"im new to Spring Jpa and i have problem saying query did not return a unique result:18;\r\n\r\nI have table orders and customer. Order table has a foreing key (customer_id_fk) to customers table. So in order table i can see all customers who have   ordered and what. But i need a query what will return me all  orders by (customer_id_fk). I already looked up this problem and it looks like when i search it, it can return one one uniqu id from customer table. But all i need is just find all those fk without accessing customers table.\r\n\r\nFor example like we are writing in MySQL -\\&gt;select \\* From orders Where customer_id_fk =1; and it could show me only that data. But spring does not seem to understand it, i also tried to write Custom query but it did not work.\r\n\r\nIs there a way i can do this ?\r\n\r\nData from MySQL\r\n\r\n![enter image description here](https://i.stack.imgur.com/8aDMa.png)\r\n\r\n```\r\n@Repository\r\npublic interface OrderRepository extends CrudRepository&lt;Order,Long&gt; {\r\n\r\n    @Override\r\n    Iterable&lt;Order&gt; findAll();\r\n\r\n    Order getOrdersByCustomerId(Long customerId);\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class OrderService {\r\n\r\n    OrderRepository orderRepository;\r\n    @Autowired\r\n    public OrderService(OrderRepository orderRepository) {\r\n        this.orderRepository = orderRepository;\r\n    }\r\n public Order findOrderByCustomerId(Long customerId) throws SQLException{\r\n         return this.orderRepository.getOrdersByCustomerId(customerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n\r\n@Table(name = &quot;orders&quot;)\r\npublic class Order{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Date orderTime;\r\n    private Double productCost;\r\n    private Double subtotal;\r\n\r\n    @ManyToOne\r\n    @JoinColumn (name = &quot;customer_id_fk&quot;,foreignKey = @ForeignKey(name = &quot;customer_id&quot;)) \r\n    private  Customer customer; \r\n\r\n    private String street;\r\n    private String city;\r\n    private String country;\r\n    private String postCode;\r\n\r\n    @Enumerated (EnumType.STRING)\r\n    private PaymentMethod paymentMethod;\r\n\r\n    private Integer quantity;\r\n\r\n    @ManyToOne\r\n    @JoinColumn (name = &quot;foodItem_id&quot;,foreignKey = @ForeignKey(name = &quot;foodItem_id_fk&quot;))\r\n    private FoodItem foodItem;\r\n \r\n}\r\n```\r\n\r\n```\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String dateOfBirth;\r\n    private Integer phoneNumber;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    @OneToOne\r\n    private CustomerAddress customerAddress;\r\n\r\n\r\n}\r\n```\r\n\r\nController class:\r\n\r\n```\r\n@GetMapping(&quot;menu/{customerId}/orderHistory&quot;)\r\npublic String showOrderHistory(Model model, @PathVariable  Long customerId) throws Exception {\r\n    model.addAttribute(&quot;customerId&quot;,customerId);\r\n    Customer customer=customerService.findCustomerById(customerId);\r\n    System.out.println(&quot;ccustomer iss: &quot;+customer);\r\n\r\n   Order order=  orderService.findOrderByCustomerId(customer.getId()); // query did not return a unique result: 18\r\n\r\n    model.addAttribute(&quot;customerName&quot;,customer.getFirstName()+&quot; &quot;+customer.getLastName()); //this works\r\n    // model.addAttribute(&quot;order&quot;,order);\r\n   \r\n\r\n\r\n    return &quot;customer/orderHistory&quot;;\r\n}\r\n```","title":"query did not return a unique result:","body":"<p>im new to Spring Jpa and i have problem saying query did not return a unique result:18;</p>\n<p>I have table orders and customer. Order table has a foreing key (customer_id_fk) to customers table. So in order table i can see all customers who have   ordered and what. But i need a query what will return me all  orders by (customer_id_fk). I already looked up this problem and it looks like when i search it, it can return one one uniqu id from customer table. But all i need is just find all those fk without accessing customers table.</p>\n<p>For example like we are writing in MySQL -&gt;select * From orders Where customer_id_fk =1; and it could show me only that data. But spring does not seem to understand it, i also tried to write Custom query but it did not work.</p>\n<p>Is there a way i can do this ?</p>\n<p>Data from MySQL</p>\n<p><img src=\"https://i.stack.imgur.com/8aDMa.png\" alt=\"enter image description here\" /></p>\n<pre><code>@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order,Long&gt; {\n\n    @Override\n    Iterable&lt;Order&gt; findAll();\n\n    Order getOrdersByCustomerId(Long customerId);\n}\n</code></pre>\n<pre><code>@Service\npublic class OrderService {\n\n    OrderRepository orderRepository;\n    @Autowired\n    public OrderService(OrderRepository orderRepository) {\n        this.orderRepository = orderRepository;\n    }\n public Order findOrderByCustomerId(Long customerId) throws SQLException{\n         return this.orderRepository.getOrdersByCustomerId(customerId);\n    }\n\n}\n</code></pre>\n<pre><code>\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n\n@Table(name = &quot;orders&quot;)\npublic class Order{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Date orderTime;\n    private Double productCost;\n    private Double subtotal;\n\n    @ManyToOne\n    @JoinColumn (name = &quot;customer_id_fk&quot;,foreignKey = @ForeignKey(name = &quot;customer_id&quot;)) \n    private  Customer customer; \n\n    private String street;\n    private String city;\n    private String country;\n    private String postCode;\n\n    @Enumerated (EnumType.STRING)\n    private PaymentMethod paymentMethod;\n\n    private Integer quantity;\n\n    @ManyToOne\n    @JoinColumn (name = &quot;foodItem_id&quot;,foreignKey = @ForeignKey(name = &quot;foodItem_id_fk&quot;))\n    private FoodItem foodItem;\n \n}\n</code></pre>\n<pre><code>\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String dateOfBirth;\n    private Integer phoneNumber;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    @OneToOne\n    private CustomerAddress customerAddress;\n\n\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@GetMapping(&quot;menu/{customerId}/orderHistory&quot;)\npublic String showOrderHistory(Model model, @PathVariable  Long customerId) throws Exception {\n    model.addAttribute(&quot;customerId&quot;,customerId);\n    Customer customer=customerService.findCustomerById(customerId);\n    System.out.println(&quot;ccustomer iss: &quot;+customer);\n\n   Order order=  orderService.findOrderByCustomerId(customer.getId()); // query did not return a unique result: 18\n\n    model.addAttribute(&quot;customerName&quot;,customer.getFirstName()+&quot; &quot;+customer.getLastName()); //this works\n    // model.addAttribute(&quot;order&quot;,order);\n   \n\n\n    return &quot;customer/orderHistory&quot;;\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":2293937,"reputation":90,"user_id":2015923,"display_name":"MD9"},"score":0,"creation_date":1663826463,"post_id":73809930,"comment_id":130331198,"body_markdown":"Could you please add the JSON and POJO class to your question?","body":"Could you please add the JSON and POJO class to your question?"},{"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"score":0,"creation_date":1663827007,"post_id":73809930,"comment_id":130331315,"body_markdown":"Added Json and pojo","body":"Added Json and pojo"},{"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1663829338,"post_id":73809930,"comment_id":130331946,"body_markdown":"Why is this tagged `groovy`?","body":"Why is this tagged <code>groovy</code>?"},{"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"score":0,"creation_date":1663829505,"post_id":73809930,"comment_id":130332005,"body_markdown":"@tim_yates I am also looking if I can get similar solution in groovy as well.","body":"@tim_yates I am also looking if I can get similar solution in groovy as well."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1677168079,"post_id":75521989,"comment_id":133288526,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75521989/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27842686,"reputation":1,"user_id":21258855,"display_name":"Yury"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990493,"creation_date":1676990320,"answer_id":75521989,"question_id":73809930,"body_markdown":"Add this method to `DefaultGenerationConfig`:\r\n\r\n    @Override\r\n    public boolean isIncludeAdditionalProperties() { \r\n        return false;\r\n    }\r\n","title":"Json schema to Pojo generator in Java using library jsonschema2pojo-core","body":"<p>Add this method to <code>DefaultGenerationConfig</code>:</p>\n<pre><code>@Override\npublic boolean isIncludeAdditionalProperties() { \n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676990493,"creation_date":1663826258,"question_id":73809930,"body_markdown":"I am trying to convert json schema to pojo using library jsonschema2pojo-core version 1.0.2 but I am getting error &quot;trying to create the same field twice: additionalProperties&quot;. I am also attaching the code that I am using with Library. Can you guys let me know what I doing wrong here.\r\n```\r\nclass JsonToPojo {\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        JCodeModel codeModel = new JCodeModel();\r\n        URL source = JsonToPojo.class.getResource(&quot;/test.json&quot;);\r\n        GenerationConfig config = new DefaultGenerationConfig() {\r\n            @Override\r\n            public boolean isGenerateBuilders() { // set config option by overriding method\r\n                return true;\r\n            }\r\n            @Override\r\n            public SourceType getSourceType() {\r\n                return SourceType.JSON;\r\n            }\r\n        };\r\n        SchemaMapper mapper = new SchemaMapper(\r\n                new RuleFactory(config, new Jackson2Annotator(config), new SchemaStore()), new SchemaGenerator());\r\n        mapper.generate(codeModel, &quot;JsonToPojo&quot;, &quot;com.controller&quot;, source);\r\n        File file = Files.createTempDirectory(&quot;required&quot;).toFile();\r\n        codeModel.build(file);\r\n        System.out.println(&quot;path is &quot; + file);\r\n    }\r\n\r\n```\r\n\r\nJson -\r\n```\r\n{\r\n  &quot;$id&quot;: &quot;https://example.com/person.schema.json&quot;,\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,\r\n  &quot;title&quot;: &quot;Person&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;firstName&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;description&quot;: &quot;The person&#39;s first name.&quot;\r\n    },\r\n    &quot;lastName&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;description&quot;: &quot;The person&#39;s last name.&quot;\r\n    },\r\n    &quot;age&quot;: {\r\n      &quot;description&quot;: &quot;Age in years which must be equal to or greater than zero.&quot;,\r\n      &quot;type&quot;: &quot;integer&quot;,\r\n      &quot;minimum&quot;: 0\r\n    }\r\n  }\r\n}\r\n```\r\nExpected Pojo-\r\n```\r\n*/\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;firstName&quot;,\r\n&quot;lastName&quot;,\r\n&quot;age&quot;\r\n})\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class Example {\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\n@JsonPropertyDescription(&quot;The person&#39;s first name.&quot;)\r\nprivate String firstName;\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\n@JsonPropertyDescription(&quot;The person&#39;s last name.&quot;)\r\nprivate String lastName;\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\n@JsonPropertyDescription(&quot;Age in years which must be equal to or greater than zero.&quot;)\r\nprivate Integer age;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\npublic String getFirstName() {\r\nreturn firstName;\r\n}\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\npublic void setFirstName(String firstName) {\r\nthis.firstName = firstName;\r\n}\r\n\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\npublic String getLastName() {\r\nreturn lastName;\r\n}\r\n\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\npublic void setLastName(String lastName) {\r\nthis.lastName = lastName;\r\n}\r\n\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\npublic Integer getAge() {\r\nreturn age;\r\n}\r\n\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\npublic void setAge(Integer age) {\r\nthis.age = age;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n```","title":"Json schema to Pojo generator in Java using library jsonschema2pojo-core","body":"<p>I am trying to convert json schema to pojo using library jsonschema2pojo-core version 1.0.2 but I am getting error &quot;trying to create the same field twice: additionalProperties&quot;. I am also attaching the code that I am using with Library. Can you guys let me know what I doing wrong here.</p>\n<pre><code>class JsonToPojo {\n\n\n    public static void main(String[] args) throws IOException {\n        JCodeModel codeModel = new JCodeModel();\n        URL source = JsonToPojo.class.getResource(&quot;/test.json&quot;);\n        GenerationConfig config = new DefaultGenerationConfig() {\n            @Override\n            public boolean isGenerateBuilders() { // set config option by overriding method\n                return true;\n            }\n            @Override\n            public SourceType getSourceType() {\n                return SourceType.JSON;\n            }\n        };\n        SchemaMapper mapper = new SchemaMapper(\n                new RuleFactory(config, new Jackson2Annotator(config), new SchemaStore()), new SchemaGenerator());\n        mapper.generate(codeModel, &quot;JsonToPojo&quot;, &quot;com.controller&quot;, source);\n        File file = Files.createTempDirectory(&quot;required&quot;).toFile();\n        codeModel.build(file);\n        System.out.println(&quot;path is &quot; + file);\n    }\n\n</code></pre>\n<p>Json -</p>\n<pre><code>{\n  &quot;$id&quot;: &quot;https://example.com/person.schema.json&quot;,\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,\n  &quot;title&quot;: &quot;Person&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;firstName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's first name.&quot;\n    },\n    &quot;lastName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's last name.&quot;\n    },\n    &quot;age&quot;: {\n      &quot;description&quot;: &quot;Age in years which must be equal to or greater than zero.&quot;,\n      &quot;type&quot;: &quot;integer&quot;,\n      &quot;minimum&quot;: 0\n    }\n  }\n}\n</code></pre>\n<p>Expected Pojo-</p>\n<pre><code>*/\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;firstName&quot;,\n&quot;lastName&quot;,\n&quot;age&quot;\n})\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class Example {\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\n@JsonPropertyDescription(&quot;The person's first name.&quot;)\nprivate String firstName;\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\n@JsonPropertyDescription(&quot;The person's last name.&quot;)\nprivate String lastName;\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\n@JsonPropertyDescription(&quot;Age in years which must be equal to or greater than zero.&quot;)\nprivate Integer age;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\npublic String getFirstName() {\nreturn firstName;\n}\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\npublic void setFirstName(String firstName) {\nthis.firstName = firstName;\n}\n\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\npublic String getLastName() {\nreturn lastName;\n}\n\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\npublic void setLastName(String lastName) {\nthis.lastName = lastName;\n}\n\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\npublic Integer getAge() {\nreturn age;\n}\n\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\npublic void setAge(Integer age) {\nthis.age = age;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n</code></pre>\n"},{"tags":["java","frameworks","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1676900501,"post_id":75509726,"comment_id":133224848,"body_markdown":"Please provide more context. How did you generate the app? What JDK version your running on? How does your `build.gradle` look like?","body":"Please provide more context. How did you generate the app? What JDK version your running on? How does your <code>build.gradle</code> look like?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1676908519,"post_id":75509726,"comment_id":133227373,"body_markdown":"With which version of Micronaut are you able to produce that error?","body":"With which version of Micronaut are you able to produce that error?"},{"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"score":0,"creation_date":1676939723,"post_id":75509726,"comment_id":133234292,"body_markdown":"I used the launch page (https://micronaut.io/launch), Micronaut version 3.8.5 with JDK 17.  I added the dependencies with the launcher, could some of them still be in conflict with each other? I added the pom.xml in the question as well.","body":"I used the launch page (<a href=\"https://micronaut.io/launch\" rel=\"nofollow noreferrer\">micronaut.io/launch</a>), Micronaut version 3.8.5 with JDK 17.  I added the dependencies with the launcher, could some of them still be in conflict with each other? I added the pom.xml in the question as well."}],"answers":[{"tags":[],"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990346,"creation_date":1676990346,"answer_id":75521994,"question_id":75509726,"body_markdown":"I found a solution, it was indeed a dependency that was causing this, removing micronaut-netflix-hystrix fixed it.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"ReflectionUtils.setFieldIfPossible method not found while running tests with Micronaut framework","body":"<p>I found a solution, it was indeed a dependency that was causing this, removing micronaut-netflix-hystrix fixed it.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676990346,"creation_date":1676898986,"question_id":75509726,"body_markdown":"I am trying to launch a basic test with Micronaut, it&#39;s the one that came with the generated project. The test fails with the following error:\r\n\r\n\r\n```\r\n\r\njava.lang.NoSuchMethodError: &#39;void io.micronaut.core.reflect.ReflectionUtils.setFieldIfPossible(java.lang.Class, java.lang.String, java.lang.Object)&#39;\r\n\r\n\tat io.micronaut.configuration.archaius1.EnvironmentDeploymentContext.close(EnvironmentDeploymentContext.java:210)\r\n\tat io.micronaut.configuration.archaius1.$EnvironmentDeploymentContextDefinition.dispose(Unknown Source)\r\n\tat io.micronaut.inject.DisposableBeanDefinition.dispose(DisposableBeanDefinition.java:44)\r\n\tat io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1148)\r\n\tat io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1119)\r\n\tat io.micronaut.context.DefaultBeanContext.stop(DefaultBeanContext.java:406)\r\n\tat io.micronaut.context.DefaultApplicationContext.stop(DefaultApplicationContext.java:200)\r\n\tat io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:105)\r\n\tat io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:34)\r\n\tat io.micronaut.test.extensions.AbstractMicronautExtension.stopEmbeddedApplication(AbstractMicronautExtension.java:483)\r\n\tat io.micronaut.test.extensions.AbstractMicronautExtension.afterClass(AbstractMicronautExtension.java:397)\r\n\tat io.micronaut.test.extensions.junit5.MicronautJunit5Extension.afterAll(MicronautJunit5Extension.java:209)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$18(ClassBasedTestDescriptor.java:461)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$19(ClassBasedTestDescriptor.java:461)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:461)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:235)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nThis is the test that I&#39;m trying to launch, nothing fancy in there:\r\n\r\n```\r\n@Inject\r\n    EmbeddedApplication&lt;?&gt; application;\r\n\r\n    @Test\r\n    void testItWorks() {\r\n        Assertions.assertTrue(application.isRunning());\r\n    }\r\n```\r\n\r\nFrom what I saw, the ReflectionUtils is not having that method it calls anymore starting with version 3.x, only setFields is exposed now.\r\nAny help would be appreciated.\r\n\r\nEdit, added pom.xml file content:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-session&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-kubernetes-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-kubernetes-informer&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server-tomcat&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-spring-boot&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-spring-web&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;3.9.6&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-boot-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-web-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.group=fr.tas.co2m&lt;/arg&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.module=tradeoff&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;to&gt;\r\n            &lt;image&gt;${jib.docker.image}:${jib.docker.tag}&lt;/image&gt;\r\n          &lt;/to&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```","title":"ReflectionUtils.setFieldIfPossible method not found while running tests with Micronaut framework","body":"<p>I am trying to launch a basic test with Micronaut, it's the one that came with the generated project. The test fails with the following error:</p>\n<pre><code>\njava.lang.NoSuchMethodError: 'void io.micronaut.core.reflect.ReflectionUtils.setFieldIfPossible(java.lang.Class, java.lang.String, java.lang.Object)'\n\n    at io.micronaut.configuration.archaius1.EnvironmentDeploymentContext.close(EnvironmentDeploymentContext.java:210)\n    at io.micronaut.configuration.archaius1.$EnvironmentDeploymentContextDefinition.dispose(Unknown Source)\n    at io.micronaut.inject.DisposableBeanDefinition.dispose(DisposableBeanDefinition.java:44)\n    at io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1148)\n    at io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1119)\n    at io.micronaut.context.DefaultBeanContext.stop(DefaultBeanContext.java:406)\n    at io.micronaut.context.DefaultApplicationContext.stop(DefaultApplicationContext.java:200)\n    at io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:105)\n    at io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:34)\n    at io.micronaut.test.extensions.AbstractMicronautExtension.stopEmbeddedApplication(AbstractMicronautExtension.java:483)\n    at io.micronaut.test.extensions.AbstractMicronautExtension.afterClass(AbstractMicronautExtension.java:397)\n    at io.micronaut.test.extensions.junit5.MicronautJunit5Extension.afterAll(MicronautJunit5Extension.java:209)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$18(ClassBasedTestDescriptor.java:461)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$19(ClassBasedTestDescriptor.java:461)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:461)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:235)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>This is the test that I'm trying to launch, nothing fancy in there:</p>\n<pre><code>@Inject\n    EmbeddedApplication&lt;?&gt; application;\n\n    @Test\n    void testItWorks() {\n        Assertions.assertTrue(application.isRunning());\n    }\n</code></pre>\n<p>From what I saw, the ReflectionUtils is not having that method it calls anymore starting with version 3.x, only setFields is exposed now.\nAny help would be appreciated.</p>\n<p>Edit, added pom.xml file content:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-session&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-kubernetes-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-kubernetes-informer&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-spring-boot&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-spring-web&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n              &lt;version&gt;3.9.6&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-boot-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-web-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=fr.tas.co2m&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=tradeoff&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;to&gt;\n            &lt;image&gt;${jib.docker.image}:${jib.docker.tag}&lt;/image&gt;\n          &lt;/to&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","string","generics","enums"],"comments":[{"owner":{"account_id":6282830,"reputation":12360,"user_id":4883195,"display_name":"Moritz Ringler"},"score":0,"creation_date":1676904112,"post_id":75510025,"comment_id":133226024,"body_markdown":"Is that Java? You should add the language to the tags, otherwise people will not see your question. Also, giving properly formatted code increases people&#39;s willingness to read it...","body":"Is that Java? You should add the language to the tags, otherwise people will not see your question. Also, giving properly formatted code increases people&#39;s willingness to read it..."},{"owner":{"account_id":27832200,"reputation":3,"user_id":21250412,"display_name":"Ivan Ostapenko"},"score":1,"creation_date":1676984907,"post_id":75510025,"comment_id":133243718,"body_markdown":"Thanks, tags added, code formatted - it&#39;s my first question here.","body":"Thanks, tags added, code formatted - it&#39;s my first question here."}],"answers":[{"tags":[],"owner":{"account_id":23632607,"reputation":114,"user_id":17664120,"display_name":"Sri mani789"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990286,"creation_date":1676985892,"answer_id":75521128,"question_id":75510025,"body_markdown":"[`Enum.valueOf(Class, String)`][1] - Returns the enum constant of the specified **enum class** with the specified name.\r\n\r\nSo change getElement method signature into following\r\n\r\n    static protected &lt;E extends Enum&lt;E&gt;&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\r\n        try {\r\n            return Enum.valueOf(enumType, elementName);\r\n        } catch (IllegalArgumentException e) {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)","title":"Trouble to use generic with Enum in Java abstract class","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Enum.valueOf(Class, String)</code></a> - Returns the enum constant of the specified <strong>enum class</strong> with the specified name.</p>\n<p>So change getElement method signature into following</p>\n<pre><code>static protected &lt;E extends Enum&lt;E&gt;&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\n    try {\n        return Enum.valueOf(enumType, elementName);\n    } catch (IllegalArgumentException e) {\n        return null;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27832200,"reputation":3,"user_id":21250412,"display_name":"Ivan Ostapenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521128,"answer_count":1,"score":0,"last_activity_date":1676990286,"creation_date":1676900673,"question_id":75510025,"body_markdown":"I have public abstract class AbstractDevice to extend on some certain Device classes (such as valve, motor, temp sensor etc) which to be controlled by String command, processed as follows: \r\n\r\n```\r\npublic class Valve extends AbstractDevice {\r\n\r\n  protected static enum Mode {OPEN, CLOSE};\r\n\r\n  protected Mode mode;\r\n\r\n  ...\r\n\r\n  protected void processCommand(String command) {\r\n\r\n     mode = Enum.valueOf(Mode.class, command);\r\n\r\n    switch (mode)\r\n\r\n      case OPEN: ...(execute OPEN command)\r\n\r\n}\r\n```\r\n\r\nand it works correctly. \r\n\r\nBut when I try to move the String-to-Enum conversion in abstract class to work with any command set:\r\n\r\n```\r\npublic abstract class AbstractDevice {\r\n\r\nstatic protected &lt;E&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\r\n\r\n  try {\r\n\r\n    return Enum.valueOf(enumType, elementName);\r\n\r\n  } catch (IllegalArgumentException e) {\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI have compilation error `The method valueOf(Class&lt;T&gt;, String) in the type Enum is not applicable for the arguments (Class&lt;E&gt;, String)`\r\n\r\nWhat&#39;s wrong here?","title":"Trouble to use generic with Enum in Java abstract class","body":"<p>I have public abstract class AbstractDevice to extend on some certain Device classes (such as valve, motor, temp sensor etc) which to be controlled by String command, processed as follows:</p>\n<pre><code>public class Valve extends AbstractDevice {\n\n  protected static enum Mode {OPEN, CLOSE};\n\n  protected Mode mode;\n\n  ...\n\n  protected void processCommand(String command) {\n\n     mode = Enum.valueOf(Mode.class, command);\n\n    switch (mode)\n\n      case OPEN: ...(execute OPEN command)\n\n}\n</code></pre>\n<p>and it works correctly.</p>\n<p>But when I try to move the String-to-Enum conversion in abstract class to work with any command set:</p>\n<pre><code>public abstract class AbstractDevice {\n\nstatic protected &lt;E&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\n\n  try {\n\n    return Enum.valueOf(enumType, elementName);\n\n  } catch (IllegalArgumentException e) {\n\n    return null;\n\n  }\n\n}\n</code></pre>\n<p>I have compilation error <code>The method valueOf(Class&lt;T&gt;, String) in the type Enum is not applicable for the arguments (Class&lt;E&gt;, String)</code></p>\n<p>What's wrong here?</p>\n"},{"tags":["java","apache-kafka","avro"],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677011179,"post_id":75521974,"comment_id":133252161,"body_markdown":"Thanks, we are also looking at the schema registry -- apparently a later version of the schema registry (1.4?) has better behaviour under load.","body":"Thanks, we are also looking at the schema registry -- apparently a later version of the schema registry (1.4?) has better behaviour under load."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677025542,"post_id":75521974,"comment_id":133255144,"body_markdown":"Not sure what version that is referring to. The Confluent Schema Registry is up to versions 7.x now, and I am only familiar with versions as low as 3.x","body":"Not sure what version that is referring to. The Confluent Schema Registry is up to versions 7.x now, and I am only familiar with versions as low as 3.x"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677025655,"post_id":75521974,"comment_id":133255165,"body_markdown":"Based on TIBCO docs, you can configure the registry with Nginx as a reverse proxy - https://community.tibco.com/s/article/how-configure-tibco-messaging-apache-kafka-schema-repository-nginx","body":"Based on TIBCO docs, you can configure the registry with Nginx as a reverse proxy - <a href=\"https://community.tibco.com/s/article/how-configure-tibco-messaging-apache-kafka-schema-repository-nginx\" rel=\"nofollow noreferrer\">community.tibco.com/s/article/&hellip;</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677034635,"post_id":75521974,"comment_id":133256309,"body_markdown":"`tibschemad` was the component which we were recommended to upgrade to 1.4 or later.","body":"<code>tibschemad</code> was the component which we were recommended to upgrade to 1.4 or later."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677034756,"post_id":75521974,"comment_id":133256329,"body_markdown":"A complication for us is that we have configured an `org.springframework.kafka.support.serializer.ErrorHandlingDeserializer` which I believe means that Kafka won&#39;t retry errors caused be deserialisation problems.","body":"A complication for us is that we have configured an <code>org.springframework.kafka.support.serializer.ErrorHandlingDe&zwnj;&#8203;serializer</code> which I believe means that Kafka won&#39;t retry errors caused be deserialisation problems."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677099538,"post_id":75521974,"comment_id":133273215,"body_markdown":"If you don&#39;t commit the offsets, then seek backwards to the previous offset, then yes, it will","body":"If you don&#39;t commit the offsets, then seek backwards to the previous offset, then yes, it will"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677628236,"post_id":75521974,"comment_id":133375002,"body_markdown":"Another contributing factor is that the tibco avro serialisation client library uses a thread local cache -- we have a multi threaded application, so requests are made to `tibschemad` for each thread, where you would hope that one request would suffice...","body":"Another contributing factor is that the tibco avro serialisation client library uses a thread local cache -- we have a multi threaded application, so requests are made to <code>tibschemad</code> for each thread, where you would hope that one request would suffice..."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677639700,"post_id":75521974,"comment_id":133376496,"body_markdown":"As mentioned, I haven&#39;t used that. I&#39;m only familiar with the Confluent version. But that uses a concurrent Hashmap... Producers are thread safe, btw, so you wouldn&#39;t need multiple threads of those","body":"As mentioned, I haven&#39;t used that. I&#39;m only familiar with the Confluent version. But that uses a concurrent Hashmap... Producers are thread safe, btw, so you wouldn&#39;t need multiple threads of those"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677640029,"post_id":75521974,"comment_id":133376539,"body_markdown":"Confluent &gt;&gt; Tibco perhaps.","body":"Confluent &gt;&gt; Tibco perhaps."}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990264,"creation_date":1676990264,"answer_id":75521974,"question_id":75515528,"body_markdown":"Kafka producers alone, already have `retries` property for the whole request. \r\n\r\nSo, no, Kafka (or rather, Confluent) serializers have no retry mechanisms, so you will need code such as what you&#39;ve written if you only want to retry serialization. \r\n\r\nAlternatively, I&#39;d recommend tuning your Schema Registry for more high availability (run more instances? Use a load balancer?) ","title":"How to retry transient Avro serialization/deserialisation problems in kafka producers and consumers?","body":"<p>Kafka producers alone, already have <code>retries</code> property for the whole request.</p>\n<p>So, no, Kafka (or rather, Confluent) serializers have no retry mechanisms, so you will need code such as what you've written if you only want to retry serialization.</p>\n<p>Alternatively, I'd recommend tuning your Schema Registry for more high availability (run more instances? Use a load balancer?)</p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521974,"answer_count":1,"score":0,"last_activity_date":1676990264,"creation_date":1676942291,"question_id":75515528,"body_markdown":"Because of infrastructure issues, I occasionally see timeouts getting schemas from our avro schema registry.\r\n\r\nI don&#39;t have a full stack trace, but a typical error message is:\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Could not register new Avro schema: Could not retrieve schema for subject &#39;my-topic-name&#39;: connect timed out\r\n```\r\nThis locates the issue to an `IOException` in `com.tibco.messaging.kafka.avro.AvroSerializer.getSchemaID`.\r\n\r\nI have written a retrying serializer which fixes the issue (and I&#39;ll need to do the same for deserialization), but I&#39;d like to know whether there is any configuration I could have done to avoid writing this code.\r\n\r\n```\r\nimport com.tibco.messaging.kafka.avro.AvroSerializer;\r\nimport com.tibco.messaging.schema.registry.SchemaRegistryCache;\r\nimport org.apache.kafka.common.serialization.Serializer;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.Map;\r\n\r\npublic class RetryingAvroSerializer implements Serializer&lt;Object&gt; {\r\n    private static Logger log = LoggerFactory.getLogger(RetryingAvroSerializer.class);\r\n    private final AvroSerializer avroSerializer = new AvroSerializer();\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        avroSerializer.configure(configs, isKey);\r\n    }\r\n\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey, SchemaRegistryCache sharedCache) {\r\n        avroSerializer.configure(configs, isKey, sharedCache);\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Object data) {\r\n        int retries = 5;\r\n        int delay = 10;\r\n        while (true) {\r\n            try {\r\n                return avroSerializer.serialize(topic, data);\r\n            } catch (org.apache.kafka.common.errors.SerializationException e) {\r\n                if (retries == 0) {\r\n                    throw e;\r\n                }\r\n                log.warn(&quot;Retrying serialization for {}&quot;, topic);\r\n                try {\r\n                    Thread.sleep(delay);\r\n                } catch (InterruptedException ex) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n                retries--;\r\n                delay *= 2;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to retry transient Avro serialization/deserialisation problems in kafka producers and consumers?","body":"<p>Because of infrastructure issues, I occasionally see timeouts getting schemas from our avro schema registry.</p>\n<p>I don't have a full stack trace, but a typical error message is:</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Could not register new Avro schema: Could not retrieve schema for subject 'my-topic-name': connect timed out\n</code></pre>\n<p>This locates the issue to an <code>IOException</code> in <code>com.tibco.messaging.kafka.avro.AvroSerializer.getSchemaID</code>.</p>\n<p>I have written a retrying serializer which fixes the issue (and I'll need to do the same for deserialization), but I'd like to know whether there is any configuration I could have done to avoid writing this code.</p>\n<pre><code>import com.tibco.messaging.kafka.avro.AvroSerializer;\nimport com.tibco.messaging.schema.registry.SchemaRegistryCache;\nimport org.apache.kafka.common.serialization.Serializer;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Map;\n\npublic class RetryingAvroSerializer implements Serializer&lt;Object&gt; {\n    private static Logger log = LoggerFactory.getLogger(RetryingAvroSerializer.class);\n    private final AvroSerializer avroSerializer = new AvroSerializer();\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n        avroSerializer.configure(configs, isKey);\n    }\n\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey, SchemaRegistryCache sharedCache) {\n        avroSerializer.configure(configs, isKey, sharedCache);\n    }\n\n    @Override\n    public byte[] serialize(String topic, Object data) {\n        int retries = 5;\n        int delay = 10;\n        while (true) {\n            try {\n                return avroSerializer.serialize(topic, data);\n            } catch (org.apache.kafka.common.errors.SerializationException e) {\n                if (retries == 0) {\n                    throw e;\n                }\n                log.warn(&quot;Retrying serialization for {}&quot;, topic);\n                try {\n                    Thread.sleep(delay);\n                } catch (InterruptedException ex) {\n                    Thread.currentThread().interrupt();\n                }\n                retries--;\n                delay *= 2;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","optimistic-locking"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676990902,"post_id":75521927,"comment_id":133245820,"body_markdown":"Have you read documentation? That is described in https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html. In short `LockModeType.OPTIMISTIC` prevents *Non-repeatable read* phenomena","body":"Have you read documentation? That is described in <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/&hellip;</a>. In short <code>LockModeType.OPTIMISTIC</code> prevents <i>Non-repeatable read</i> phenomena"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1676995028,"post_id":75521927,"comment_id":133247273,"body_markdown":"The settings in question are for Spring to add a hint to the query. IMO it does nothing that optimistic locking within the entities themselves (a version field of some kind) doesn&#39;t do automatically. The notes for requirements on optimistic locking apply to all entities with it set, so it is fairly redundant to add it to the query. How your provider handles it is undefined - it just has to ensure that  transaction changes are isolated and that the version field value from the original query is used when writing out change so it can throw an exception if it has changed since last read.","body":"The settings in question are for Spring to add a hint to the query. IMO it does nothing that optimistic locking within the entities themselves (a version field of some kind) doesn&#39;t do automatically. The notes for requirements on optimistic locking apply to all entities with it set, so it is fairly redundant to add it to the query. How your provider handles it is undefined - it just has to ensure that  transaction changes are isolated and that the version field value from the original query is used when writing out change so it can throw an exception if it has changed since last read."}],"owner":{"account_id":17843100,"reputation":41,"user_id":12960592,"display_name":"Leelee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676990026,"creation_date":1676990026,"question_id":75521927,"body_markdown":"To implement an Optimistic lock in Spring JPA, declaring only the @Version Long version field in Entity automatically applies the Optimistic lock function, resulting in an ObjectOptimistic LockingFailureException exception upon concurrent requests.\r\n\r\nHowever, examples show that CustomRepository, which inherited the JpaRepository interface, has seen a lot of code setting @Lock(LockModeType.OPTIMISTIC) on the method.\r\n\r\n```java\r\npublic interface CustomRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n    @Lock(LockModeType.OPTIMISTIC)\r\n    Optional&lt;Entity&gt; findByShop(Shop shop);\r\n}\r\n```\r\n\r\nWhat are the benefits of applying these settings?\r\nAlso, you don&#39;t have to apply it, but why do you apply it?","title":"why using @Lock(LockModeType.OPTIMISTIC) in Spring JPA?","body":"<p>To implement an Optimistic lock in Spring JPA, declaring only the @Version Long version field in Entity automatically applies the Optimistic lock function, resulting in an ObjectOptimistic LockingFailureException exception upon concurrent requests.</p>\n<p>However, examples show that CustomRepository, which inherited the JpaRepository interface, has seen a lot of code setting @Lock(LockModeType.OPTIMISTIC) on the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CustomRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n    @Lock(LockModeType.OPTIMISTIC)\n    Optional&lt;Entity&gt; findByShop(Shop shop);\n}\n</code></pre>\n<p>What are the benefits of applying these settings?\nAlso, you don't have to apply it, but why do you apply it?</p>\n"},{"tags":["java","tomcat","heap-memory"],"comments":[{"owner":{"account_id":6447972,"reputation":623,"user_id":4995907,"display_name":"Rahul Agrawal"},"score":0,"creation_date":1582182348,"post_id":60314472,"comment_id":106690844,"body_markdown":"You have declared the maximum heap size to be 28GB. Does your RAM support this much capacity","body":"You have declared the maximum heap size to be 28GB. Does your RAM support this much capacity"},{"owner":{"account_id":6806166,"reputation":5412,"user_id":5237806,"accept_rate":24,"display_name":"chenchuk"},"score":0,"creation_date":1582183604,"post_id":60314472,"comment_id":106691324,"body_markdown":"@Rahul i got 32GB on this machine","body":"@Rahul i got 32GB on this machine"},{"owner":{"account_id":3008034,"reputation":190,"user_id":2552104,"display_name":"stanly"},"score":0,"creation_date":1584952884,"post_id":60314472,"comment_id":107588799,"body_markdown":"do you resolve this problem ? many solution about this is to install an debuginfo rpm with identical version of the jdk. but I have this problem after install an jdk-debuginfo.","body":"do you resolve this problem ? many solution about this is to install an debuginfo rpm with identical version of the jdk. but I have this problem after install an jdk-debuginfo."}],"answers":[{"comments":[{"owner":{"account_id":13946209,"reputation":1093,"user_id":11389917,"display_name":"Kashinath Patekar"},"score":0,"creation_date":1700991426,"post_id":75521917,"comment_id":136717719,"body_markdown":"This should be the accepted answer","body":"This should be the accepted answer"}],"tags":[],"owner":{"account_id":9645355,"reputation":21,"user_id":7158326,"display_name":"Deepak Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676989960,"creation_date":1676989960,"answer_id":75521917,"question_id":60314472,"body_markdown":"You would have to install **openjdk-8-dbg**. This package provides the necessary debugging symbols for the utilities.","title":"jmap -heap {pid} : throws java.lang.reflect.InvocationTargetException","body":"<p>You would have to install <strong>openjdk-8-dbg</strong>. This package provides the necessary debugging symbols for the utilities.</p>\n"}],"owner":{"account_id":6806166,"reputation":5412,"user_id":5237806,"accept_rate":24,"display_name":"chenchuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676989960,"creation_date":1582182199,"question_id":60314472,"body_markdown":"I increased my tomcat Xms and Xms args via setenv.sh :\r\n\r\n    export CATALINA_OPTS=&quot;-Xms1000m -Xmx28000m&quot;\r\n\r\nbut when i verify i got an exception ( NOTE: it has nothing to do with the values, it happen on another machine which i didnt set the Xms/Xmx)\r\n\r\n    $ sudo jmap -heap 17744\r\n    Attaching to process ID 17744, please wait...\r\n    Debugger attached successfully.\r\n    Server compiler detected.\r\n    JVM version is 25.242-b08\r\n    \r\n    using thread-local object allocation.\r\n    Parallel GC with 8 thread(s)\r\n    \r\n    Heap Configuration:\r\n       MinHeapFreeRatio         = 0\r\n       MaxHeapFreeRatio         = 100\r\n       MaxHeapSize              = 29360128000 (28000.0MB)\r\n       NewSize                  = 349175808 (333.0MB)\r\n       MaxNewSize               = 9786359808 (9333.0MB)\r\n       OldSize                  = 699400192 (667.0MB)\r\n       NewRatio                 = 2\r\n       SurvivorRatio            = 8\r\n       MetaspaceSize            = 21807104 (20.796875MB)\r\n       CompressedClassSpaceSize = 1073741824 (1024.0MB)\r\n       MaxMetaspaceSize         = 17592186044415 MB\r\n       G1HeapRegionSize         = 0 (0.0MB)\r\n    \r\n    Heap Usage:\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.tools.jmap.JMap.runTool(JMap.java:201)\r\n    \tat sun.tools.jmap.JMap.main(JMap.java:130)\r\n    Caused by: java.lang.RuntimeException: unknown CollectedHeap type : class sun.jvm.hotspot.gc_interface.CollectedHeap\r\n    \tat sun.jvm.hotspot.tools.HeapSummary.run(HeapSummary.java:144)\r\n    \tat sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:260)\r\n    \tat sun.jvm.hotspot.tools.Tool.start(Tool.java:223)\r\n    \tat sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n    \tat sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:49)\r\n    \t... 6 more\r\n\r\n    $ /usr/bin/java -version\r\n    openjdk version &quot;1.8.0_242&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_242-8u242-b08-0ubuntu3~16.04-b08)\r\n    OpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\r\n\r\n","title":"jmap -heap {pid} : throws java.lang.reflect.InvocationTargetException","body":"<p>I increased my tomcat Xms and Xms args via setenv.sh :</p>\n\n<pre><code>export CATALINA_OPTS=\"-Xms1000m -Xmx28000m\"\n</code></pre>\n\n<p>but when i verify i got an exception ( NOTE: it has nothing to do with the values, it happen on another machine which i didnt set the Xms/Xmx)</p>\n\n<pre><code>$ sudo jmap -heap 17744\nAttaching to process ID 17744, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.242-b08\n\nusing thread-local object allocation.\nParallel GC with 8 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 0\n   MaxHeapFreeRatio         = 100\n   MaxHeapSize              = 29360128000 (28000.0MB)\n   NewSize                  = 349175808 (333.0MB)\n   MaxNewSize               = 9786359808 (9333.0MB)\n   OldSize                  = 699400192 (667.0MB)\n   NewRatio                 = 2\n   SurvivorRatio            = 8\n   MetaspaceSize            = 21807104 (20.796875MB)\n   CompressedClassSpaceSize = 1073741824 (1024.0MB)\n   MaxMetaspaceSize         = 17592186044415 MB\n   G1HeapRegionSize         = 0 (0.0MB)\n\nHeap Usage:\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.tools.jmap.JMap.runTool(JMap.java:201)\n    at sun.tools.jmap.JMap.main(JMap.java:130)\nCaused by: java.lang.RuntimeException: unknown CollectedHeap type : class sun.jvm.hotspot.gc_interface.CollectedHeap\n    at sun.jvm.hotspot.tools.HeapSummary.run(HeapSummary.java:144)\n    at sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:260)\n    at sun.jvm.hotspot.tools.Tool.start(Tool.java:223)\n    at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:49)\n    ... 6 more\n\n$ /usr/bin/java -version\nopenjdk version \"1.8.0_242\"\nOpenJDK Runtime Environment (build 1.8.0_242-8u242-b08-0ubuntu3~16.04-b08)\nOpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\n</code></pre>\n"},{"tags":["java","maven","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12405531,"reputation":321,"user_id":9040672,"display_name":"Rayen Rejeb"},"score":1,"creation_date":1676991745,"post_id":75521908,"comment_id":133246145,"body_markdown":"check springdoc documentation here https://springdoc.org/#getting-started\nno need for any extra configuration. just add the dependency to your pom.xml and go to `http://server:port/context-path/swagger-ui.html`\nif it doesn&#39;t work, check your spring-security configuration and allow swagger path.","body":"check springdoc documentation here <a href=\"https://springdoc.org/#getting-started\" rel=\"nofollow noreferrer\">springdoc.org/#getting-started</a> no need for any extra configuration. just add the dependency to your pom.xml and go to <code>http:&#47;&#47;server:port&#47;context-path&#47;swagger-ui.html</code> if it doesn&#39;t work, check your spring-security configuration and allow swagger path."}],"owner":{"account_id":968842,"reputation":45626,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676989911,"creation_date":1676989911,"question_id":75521908,"body_markdown":"I have the following library referenced in my POM file\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn my code I have the following class defined\r\n\r\n    @EnableWebMvc\r\n    public class SwaggerMVC implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n            registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    }\r\n\r\nI also have this class defined\r\n\r\n    @Configuration\r\n    public class SwaggerConfig {\r\n\r\n       @Bean\r\n       public GroupedOpenApi api() {\r\n          return GroupedOpenApi.builder()\r\n                .group(&quot;my-api&quot;)\r\n                .pathsToMatch(&quot;/**&quot;)\r\n                .pathsToExclude(&quot;/error.*&quot;)\r\n                .pathsToExclude(&quot;/actuator.*&quot;)\r\n                .pathsToExclude(&quot;/test.*&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui.html&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui/**&quot;)\r\n                .pathsToExclude(&quot;/v3/api-docs/**&quot;)\r\n                .pathsToExclude(&quot;/v3/api-docs.yaml&quot;)\r\n                .pathsToExclude(&quot;/api-docs/**&quot;)\r\n                .pathsToExclude(&quot;/api-docs.yaml&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui-custom.html&quot;)\r\n                .pathsToExclude(&quot;/cloudfoundryapplication.*&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\nWhile experimenting with this and trying to get it to work, I added this to my `application.properties` file\r\n\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.path=/swagger-ui-custom.html\r\n\r\nBut, no matter what I try, I always get a 404 when I hit any of the following urls\r\n\r\n    http://localhost:8080/api-docs\r\n    http://localhost:8080/v3/api-docs\r\n    http://localhost:8080/api-docs.yaml\r\n    http://localhost:8080/v3/api-docs.yaml\r\n    http://localhost:8080/swagger-ui.html\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"404 Every Time I Try To Retrieve SpringDocs","body":"<p>I have the following library referenced in my POM file</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.14&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In my code I have the following class defined</p>\n<pre><code>@EnableWebMvc\npublic class SwaggerMVC implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n<p>I also have this class defined</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n\n   @Bean\n   public GroupedOpenApi api() {\n      return GroupedOpenApi.builder()\n            .group(&quot;my-api&quot;)\n            .pathsToMatch(&quot;/**&quot;)\n            .pathsToExclude(&quot;/error.*&quot;)\n            .pathsToExclude(&quot;/actuator.*&quot;)\n            .pathsToExclude(&quot;/test.*&quot;)\n            .pathsToExclude(&quot;/swagger-ui.html&quot;)\n            .pathsToExclude(&quot;/swagger-ui/**&quot;)\n            .pathsToExclude(&quot;/v3/api-docs/**&quot;)\n            .pathsToExclude(&quot;/v3/api-docs.yaml&quot;)\n            .pathsToExclude(&quot;/api-docs/**&quot;)\n            .pathsToExclude(&quot;/api-docs.yaml&quot;)\n            .pathsToExclude(&quot;/swagger-ui-custom.html&quot;)\n            .pathsToExclude(&quot;/cloudfoundryapplication.*&quot;)\n            .build();\n    }\n}\n</code></pre>\n<p>While experimenting with this and trying to get it to work, I added this to my <code>application.properties</code> file</p>\n<pre><code>springdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\n</code></pre>\n<p>But, no matter what I try, I always get a 404 when I hit any of the following urls</p>\n<pre><code>http://localhost:8080/api-docs\nhttp://localhost:8080/v3/api-docs\nhttp://localhost:8080/api-docs.yaml\nhttp://localhost:8080/v3/api-docs.yaml\nhttp://localhost:8080/swagger-ui.html\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":1,"creation_date":1676988811,"post_id":75521673,"comment_id":133245027,"body_markdown":"Then capture the lookbehind pattern (`(?&lt;=(two ))three`) and use `m.start(1)` instead of `m.start()`.","body":"Then capture the lookbehind pattern (<code>(?&lt;=(two ))three</code>) and use <code>m.start(1)</code> instead of <code>m.start()</code>."},{"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"score":0,"creation_date":1676991427,"post_id":75521673,"comment_id":133246022,"body_markdown":"Thank you very much for your answer! That&#39;s really a nice solution! Thanks! Would it be possible to get the same result without any changes in regex?","body":"Thank you very much for your answer! That&#39;s really a nice solution! Thanks! Would it be possible to get the same result without any changes in regex?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1676992488,"post_id":75521673,"comment_id":133246411,"body_markdown":"No, you cannot. Lookbehind patterns are non-consuming patterns.","body":"No, you cannot. Lookbehind patterns are non-consuming patterns."}],"answers":[{"comments":[{"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"score":0,"creation_date":1676990088,"post_id":75521735,"comment_id":133245521,"body_markdown":"Thank you very much for your answer but I have a regex in my code and it would be generally very difficult to replace it. So I need the solution only with regex..","body":"Thank you very much for your answer but I have a regex in my code and it would be generally very difficult to replace it. So I need the solution only with regex.."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1676990319,"post_id":75521735,"comment_id":133245603,"body_markdown":"Doing it your current way seems very roundabout.  Why must you use regular expressions for this?","body":"Doing it your current way seems very roundabout.  Why must you use regular expressions for this?"},{"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"score":0,"creation_date":1676992186,"post_id":75521735,"comment_id":133246301,"body_markdown":"I already have a class where regex is used everywhere and other classes use methods of this class. So it would be too cumbersome to override it, mainly because everything works as intended, only I need to get the position of lookbehind in addition to the start and end indices of my match. I.e. I need 8 - 13 as a result and additionally 4 - 18 (whole match with lookbehind)","body":"I already have a class where regex is used everywhere and other classes use methods of this class. So it would be too cumbersome to override it, mainly because everything works as intended, only I need to get the position of lookbehind in addition to the start and end indices of my match. I.e. I need 8 - 13 as a result and additionally 4 - 18 (whole match with lookbehind)"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676988997,"creation_date":1676988997,"answer_id":75521735,"question_id":75521673,"body_markdown":"There is an easier way to do this which avoids regex and instead uses the base string functions:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String text = &quot;one two three&quot;;\r\n    String sub = &quot;two three&quot;;\r\n    int start = text.indexOf(sub);\r\n    int end = start + sub.length();\r\n    System.out.println(start + &quot; - &quot; + end);  // 4 - 13","title":"How to get Lookahead/Lookbehind position?","body":"<p>There is an easier way to do this which avoids regex and instead uses the base string functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;one two three&quot;;\nString sub = &quot;two three&quot;;\nint start = text.indexOf(sub);\nint end = start + sub.length();\nSystem.out.println(start + &quot; - &quot; + end);  // 4 - 13\n</code></pre>\n"}],"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676989799,"creation_date":1676988703,"question_id":75521673,"body_markdown":"I want to get the Lookahead/Lookbehind position. \r\nExample:\r\n\r\n```\r\nString text = &quot;one two three&quot;;\r\nString pattern = &quot;(?&lt;=two )three&quot;;\r\nMatcher m = pattern.matcher(text);\r\nwhile(m.find()){\r\n System.out.println(m.start() + &quot; - &quot; + m.end())\r\n}\r\n```\r\nOutput is &quot;8 - 13&quot; but I need to get the position where lookbehind (&quot;two&quot;) starts: &quot;4 - 13&quot;.\r\nIs it possible?","title":"How to get Lookahead/Lookbehind position?","body":"<p>I want to get the Lookahead/Lookbehind position.\nExample:</p>\n<pre><code>String text = &quot;one two three&quot;;\nString pattern = &quot;(?&lt;=two )three&quot;;\nMatcher m = pattern.matcher(text);\nwhile(m.find()){\n System.out.println(m.start() + &quot; - &quot; + m.end())\n}\n</code></pre>\n<p>Output is &quot;8 - 13&quot; but I need to get the position where lookbehind (&quot;two&quot;) starts: &quot;4 - 13&quot;.\nIs it possible?</p>\n"},{"tags":["java","image","servlets","file-upload","bufferedimage"],"comments":[{"owner":{"account_id":19469,"reputation":35953,"user_id":45685,"accept_rate":100,"display_name":"AndersK"},"score":0,"creation_date":1289601870,"post_id":4169713,"comment_id":14684703,"body_markdown":"Your best bet is to look at the file extension, there is no 100% method to determine whether a file is an image or not.","body":"Your best bet is to look at the file extension, there is no 100% method to determine whether a file is an image or not."}],"answers":[{"comments":[{"owner":{"account_id":983770,"reputation":5056,"user_id":1002790,"accept_rate":76,"display_name":"Salih Erikci"},"score":0,"creation_date":1417129281,"post_id":4169776,"comment_id":42848137,"body_markdown":"I tried  ImageIO.read(input); but it doesn&#39;t throw any exception when the file is not an image.","body":"I tried  ImageIO.read(input); but it doesn&#39;t throw any exception when the file is not an image."},{"owner":{"account_id":983770,"reputation":5056,"user_id":1002790,"accept_rate":76,"display_name":"Salih Erikci"},"score":3,"creation_date":1417129720,"post_id":4169776,"comment_id":42848228,"body_markdown":"ImageIO.read(input); doesn&#39;t throw any exception if the file is not an image, instead it just returns null.","body":"ImageIO.read(input); doesn&#39;t throw any exception if the file is not an image, instead it just returns null."},{"owner":{"account_id":2299600,"reputation":357,"user_id":2020180,"display_name":"Kyung Hwan  Min"},"score":1,"creation_date":1432601538,"post_id":4169776,"comment_id":48977473,"body_markdown":"Salih is right.  If ImageIO.read(input) == null then it is not image file. else it is image file.","body":"Salih is right.  If ImageIO.read(input) == null then it is not image file. else it is image file."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1432623081,"post_id":4169776,"comment_id":48983928,"body_markdown":"@KyungMin: Non-images will indeed return `null` (and the `toString()` will then throw NPE). Images in unsupported formats like CMYK JPEGs will actually throw `IOException`.","body":"@KyungMin: Non-images will indeed return <code>null</code> (and the <code>toString()</code> will then throw NPE). Images in unsupported formats like CMYK JPEGs will actually throw <code>IOException</code>."},{"owner":{"account_id":3736199,"reputation":498,"user_id":3107088,"display_name":"Masoud Mustamandi"},"score":0,"creation_date":1459753314,"post_id":4169776,"comment_id":60409304,"body_markdown":"i have the same issue, but i need to validate the uploaded file for xlsx format, can you please help me?","body":"i have the same issue, but i need to validate the uploaded file for xlsx format, can you please help me?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1459753574,"post_id":4169776,"comment_id":60409448,"body_markdown":"@Masoud: just do the same way, logically only don&#39;t try to parse it as an image file, but as a XLSX file (with e.g. Apache POI or whatever XLSX parser you like).","body":"@Masoud: just do the same way, logically only don&#39;t try to parse it as an image file, but as a XLSX file (with e.g. Apache POI or whatever XLSX parser you like)."},{"owner":{"account_id":3736199,"reputation":498,"user_id":3107088,"display_name":"Masoud Mustamandi"},"score":0,"creation_date":1459759983,"post_id":4169776,"comment_id":60413067,"body_markdown":"i tried that but doesn&#39;t work, instead i tried this \nmimeType.startsWith(&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;) now it works","body":"i tried that but doesn&#39;t work, instead i tried this  mimeType.startsWith(&quot;application/vnd.openxmlformats-officedo&zwnj;&#8203;cument.spreadsheetml&zwnj;&#8203;.sheet&quot;) now it works"},{"owner":{"account_id":127602,"reputation":940,"user_id":2132069,"accept_rate":56,"display_name":"kodmanyagha"},"score":0,"creation_date":1549159799,"post_id":4169776,"comment_id":95803614,"body_markdown":"This is not working. This is so dangerously. This is looking only extension of file. I can upload a shell file which extension is png or jpg. You have to check content of uploaded file.","body":"This is not working. This is so dangerously. This is looking only extension of file. I can upload a shell file which extension is png or jpg. You have to check content of uploaded file."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1682420368,"post_id":4169776,"comment_id":134208889,"body_markdown":"Perhaps you forgot to read past first part of the answer?","body":"Perhaps you forgot to read past first part of the answer?"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":9,"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1676989769,"creation_date":1289602329,"answer_id":4169776,"question_id":4169713,"body_markdown":"I&#39;m assuming that you&#39;re running this in a servlet context. If it&#39;s affordable to check the content type based on just the file extension, then use [`ServletContext#getMimeType()`][1] to get the mime type (content type). Just check if it starts with `image/`. \r\n\r\n    String fileName = uploadedFile.getFileName();\r\n    String mimeType = getServletContext().getMimeType(fileName);\r\n    if (mimeType.startsWith(&quot;image/&quot;)) {\r\n        // It&#39;s an image.\r\n    } else {\r\n        // It&#39;s not an image.\r\n    }\r\n\r\nThe default mime types are definied in the `web.xml` of the servletcontainer in question. In for example Tomcat, it&#39;s located in `/conf/web.xml`. You can extend/override it in the `/WEB-INF/web.xml` of your webapp as follows:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;mime-mapping&gt;\r\n        &lt;extension&gt;svg&lt;/extension&gt;\r\n        &lt;mime-type&gt;image/svg+xml&lt;/mime-type&gt;\r\n    &lt;/mime-mapping&gt;\r\n\r\nBut this doesn&#39;t prevent you from users who are fooling you by changing the file extension. If you&#39;d like to cover this as well, then you can also determine the mime type based on the *actual* file content. If it&#39;s affordable to check for [only][2] BMP, GIF, JPEG, PNG, TIFF or WBMP types (but not PSD, SVG, etc), then you can just feed it directly to [`ImageIO#read()`][3] and check if it doesn&#39;t throw an exception.\r\n\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        try {\r\n            ImageIO.read(input).toString();\r\n            // It&#39;s an image (only BMP, GIF, JPEG, PNG, TIFF and WBMP are recognized).\r\n        } catch (Exception e) {\r\n            // It&#39;s not an image.\r\n        }\r\n    }\r\n\r\nBut if you&#39;d like to cover more image types as well, then consider using a 3rd party library which does all the work by sniffing the [file signatures][4]. For example [Apache Tika][5] which recognizes on top of `ImageIO` formats also PSD, BPG, WEBP, ICNS and SVG as well:\r\n\r\n    Tika tika = new Tika();\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        String mimeType = tika.detect(input);\r\n        if (mimeType.startsWith(&quot;image/&quot;)) {\r\n            // It&#39;s an image.\r\n        } else {\r\n            // It&#39;s not an image.\r\n        }\r\n    }\r\n\r\nYou could if necessary use combinations and outweigh the one and other.\r\n\r\nThat said, you don&#39;t necessarily need `ImageIO#write()` to save the uploaded image to disk. Just writing the obtained `InputStream` directly to a `Path` or any `OutputStream` like `FileOutputStream` the usual Java IO way is more than sufficient (see also https://stackoverflow.com/questions/18664579/recommended-way-to-save-files-uploaded-to-a-tomcat-servlet):\r\n\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        Files.copy(input, new File(uploadFolder, fileName).toPath());\r\n    }\r\n\r\nUnless you&#39;d like to gather some image information like its dimensions and/or want to manipulate it (crop/resize/rotate/convert/etc) of course.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext#getMimeType(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)\r\n  [4]: https://en.wikipedia.org/wiki/List_of_file_signatures\r\n  [5]: https://tika.apache.org/\r\n","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>I'm assuming that you're running this in a servlet context. If it's affordable to check the content type based on just the file extension, then use <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext#getMimeType(java.lang.String)\" rel=\"noreferrer\"><code>ServletContext#getMimeType()</code></a> to get the mime type (content type). Just check if it starts with <code>image/</code>.</p>\n<pre><code>String fileName = uploadedFile.getFileName();\nString mimeType = getServletContext().getMimeType(fileName);\nif (mimeType.startsWith(&quot;image/&quot;)) {\n    // It's an image.\n} else {\n    // It's not an image.\n}\n</code></pre>\n<p>The default mime types are definied in the <code>web.xml</code> of the servletcontainer in question. In for example Tomcat, it's located in <code>/conf/web.xml</code>. You can extend/override it in the <code>/WEB-INF/web.xml</code> of your webapp as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mime-mapping&gt;\n    &lt;extension&gt;svg&lt;/extension&gt;\n    &lt;mime-type&gt;image/svg+xml&lt;/mime-type&gt;\n&lt;/mime-mapping&gt;\n</code></pre>\n<p>But this doesn't prevent you from users who are fooling you by changing the file extension. If you'd like to cover this as well, then you can also determine the mime type based on the <em>actual</em> file content. If it's affordable to check for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"noreferrer\">only</a> BMP, GIF, JPEG, PNG, TIFF or WBMP types (but not PSD, SVG, etc), then you can just feed it directly to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)\" rel=\"noreferrer\"><code>ImageIO#read()</code></a> and check if it doesn't throw an exception.</p>\n<pre><code>try (InputStream input = uploadedFile.getInputStream()) {\n    try {\n        ImageIO.read(input).toString();\n        // It's an image (only BMP, GIF, JPEG, PNG, TIFF and WBMP are recognized).\n    } catch (Exception e) {\n        // It's not an image.\n    }\n}\n</code></pre>\n<p>But if you'd like to cover more image types as well, then consider using a 3rd party library which does all the work by sniffing the <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"noreferrer\">file signatures</a>. For example <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a> which recognizes on top of <code>ImageIO</code> formats also PSD, BPG, WEBP, ICNS and SVG as well:</p>\n<pre><code>Tika tika = new Tika();\ntry (InputStream input = uploadedFile.getInputStream()) {\n    String mimeType = tika.detect(input);\n    if (mimeType.startsWith(&quot;image/&quot;)) {\n        // It's an image.\n    } else {\n        // It's not an image.\n    }\n}\n</code></pre>\n<p>You could if necessary use combinations and outweigh the one and other.</p>\n<p>That said, you don't necessarily need <code>ImageIO#write()</code> to save the uploaded image to disk. Just writing the obtained <code>InputStream</code> directly to a <code>Path</code> or any <code>OutputStream</code> like <code>FileOutputStream</code> the usual Java IO way is more than sufficient (see also <a href=\"https://stackoverflow.com/questions/18664579/recommended-way-to-save-files-uploaded-to-a-tomcat-servlet\">Recommended way to save uploaded files in a servlet application</a>):</p>\n<pre><code>try (InputStream input = uploadedFile.getInputStream()) {\n    Files.copy(input, new File(uploadFolder, fileName).toPath());\n}\n</code></pre>\n<p>Unless you'd like to gather some image information like its dimensions and/or want to manipulate it (crop/resize/rotate/convert/etc) of course.</p>\n"},{"comments":[{"owner":{"account_id":140341,"reputation":3737,"user_id":346583,"accept_rate":51,"display_name":"George"},"score":2,"creation_date":1496915405,"post_id":35460768,"comment_id":75862064,"body_markdown":"Still - as of June 2017, the lib has no stable version and just snapshots. Could be risky to use in prod","body":"Still - as of June 2017, the lib has no stable version and just snapshots. Could be risky to use in prod"},{"owner":{"account_id":293721,"reputation":591,"user_id":597189,"display_name":"JacquesLeRoux"},"score":0,"creation_date":1604404653,"post_id":35460768,"comment_id":114331994,"body_markdown":"I can also read at https://commons.apache.org/proper/commons-imaging/:\n\n&lt;&lt;Imaging was working and was used by a number of projects in production even before reaching its initial release as an Apache Commons component.&gt;&gt;\n\nI decided to go with it...","body":"I can also read at <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-imaging</a>:  &lt;&lt;Imaging was working and was used by a number of projects in production even before reaching its initial release as an Apache Commons component.&gt;&gt;  I decided to go with it..."}],"tags":[],"owner":{"account_id":5411482,"reputation":81,"user_id":4308088,"display_name":"gagan bopanna"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1455722609,"creation_date":1455722609,"answer_id":35460768,"question_id":4169713,"body_markdown":"I used [org.apache.commons.imaging.Imaging](https://commons.apache.org/proper/commons-imaging/) in my case. Below is a sample piece of code to check if an image is a jpeg image or not. It throws ImageReadException if uploaded file is not an image.\r\n\r\n        try {\r\n            //image is InputStream\r\n            byte[] byteArray = IOUtils.toByteArray(image);\r\n            ImageFormat mimeType = Imaging.guessFormat(byteArray);\r\n            if (mimeType == ImageFormats.JPEG) {\r\n                return;\r\n            } else {\r\n                // handle image of different format. Ex: PNG\r\n            }\r\n        } catch (ImageReadException e) {\r\n            //not an image\r\n        }","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>I used <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"noreferrer\">org.apache.commons.imaging.Imaging</a> in my case. Below is a sample piece of code to check if an image is a jpeg image or not. It throws ImageReadException if uploaded file is not an image.</p>\n\n<pre><code>    try {\n        //image is InputStream\n        byte[] byteArray = IOUtils.toByteArray(image);\n        ImageFormat mimeType = Imaging.guessFormat(byteArray);\n        if (mimeType == ImageFormats.JPEG) {\n            return;\n        } else {\n            // handle image of different format. Ex: PNG\n        }\n    } catch (ImageReadException e) {\n        //not an image\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228010,"reputation":145,"user_id":490048,"accept_rate":100,"display_name":"gcstang"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1662391038,"creation_date":1456777141,"answer_id":35708839,"question_id":4169713,"body_markdown":"This is built into the JDK and simply requires a stream with support for \r\n\r\n    byte[] data = ;\r\n    InputStream is = new BufferedInputStream(new ByteArrayInputStream(data));\r\n    String mimeType = URLConnection.guessContentTypeFromStream(is);\r\n    //...close stream\r\n\r\nSince Java SE 6 https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>This is built into the JDK and simply requires a stream with support for</p>\n<pre><code>byte[] data = ;\nInputStream is = new BufferedInputStream(new ByteArrayInputStream(data));\nString mimeType = URLConnection.guessContentTypeFromStream(is);\n//...close stream\n</code></pre>\n<p>Since Java SE 6 <a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html</a></p>\n"},{"tags":[],"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586705492,"creation_date":1586703727,"answer_id":61173482,"question_id":4169713,"body_markdown":"Try using multipart file instead of `BufferedImage`\r\n\r\n  \r\n\r\n    import org.apache.http.entity.ContentType;\r\n    ...\r\n                \r\n        public void processImage(MultipartFile file) {\r\n                        \r\n           if(!Arrays.asList(ContentType.IMAGE_JPEG.getMimeType(), ContentType.IMAGE_PNG.getMimeType(), ContentType.IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\r\n                throw new IllegalStateException(&quot;File must be an Image&quot;);\r\n                     }\r\n          }","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>Try using multipart file instead of <code>BufferedImage</code></p>\n\n<pre><code>import org.apache.http.entity.ContentType;\n...\n\n    public void processImage(MultipartFile file) {\n\n       if(!Arrays.asList(ContentType.IMAGE_JPEG.getMimeType(), ContentType.IMAGE_PNG.getMimeType(), ContentType.IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\n            throw new IllegalStateException(\"File must be an Image\");\n                 }\n      }\n</code></pre>\n"}],"owner":{"display_name":"user405398"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71893,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":4169776,"answer_count":4,"score":38,"last_activity_date":1676989769,"creation_date":1289601575,"question_id":4169713,"body_markdown":"In my web application I have an image uploading module. I want to check the uploaded file whether it&#39;s an image file or any other file. I am using Java in server side.\r\n\r\nThe image is read as `BufferedImage` in java and then I am writing it to disk with `ImageIO.write()`\r\n\r\nHow shall I check the `BufferedImage`, whether it&#39;s really an image or something else?\r\n\r\n\r\nAny suggestions or links would be appreciated.","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>In my web application I have an image uploading module. I want to check the uploaded file whether it's an image file or any other file. I am using Java in server side.</p>\n\n<p>The image is read as <code>BufferedImage</code> in java and then I am writing it to disk with <code>ImageIO.write()</code></p>\n\n<p>How shall I check the <code>BufferedImage</code>, whether it's really an image or something else?</p>\n\n<p>Any suggestions or links would be appreciated.</p>\n"},{"tags":["java","spring-boot","p-lang"],"comments":[{"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"score":0,"creation_date":1675279916,"post_id":75315022,"comment_id":132896817,"body_markdown":"Can you add an example of your controller class? I don&#39;t understand exactly what you refer to.","body":"Can you add an example of your controller class? I don&#39;t understand exactly what you refer to."},{"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"score":0,"creation_date":1675281084,"post_id":75315022,"comment_id":132897102,"body_markdown":"@Iv&#225;nLarios Added an example. Hope it clarifies the question","body":"@Iv&#225;nLarios Added an example. Hope it clarifies the question"}],"answers":[{"comments":[{"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"score":0,"creation_date":1675314319,"post_id":75316883,"comment_id":132903344,"body_markdown":"This is exactly the direction I was looking for. But instead of receiving String and explicitly creating a objectMapper, I would like to find a way to keep it Product and to somehow tell Spring &quot;use this ObjectMapper bean for this specific controller&quot;. The reasons: I have annotations on controller that auto-generate the Swagger file and also I have several controller for which I want to use such custom ObjectMapper.","body":"This is exactly the direction I was looking for. But instead of receiving String and explicitly creating a objectMapper, I would like to find a way to keep it Product and to somehow tell Spring &quot;use this ObjectMapper bean for this specific controller&quot;. The reasons: I have annotations on controller that auto-generate the Swagger file and also I have several controller for which I want to use such custom ObjectMapper."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675336574,"creation_date":1675290649,"answer_id":75316883,"question_id":75315022,"body_markdown":"You can create a new [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html) instance in your controller explicitly configuring  its [`DeserializationFeature#FAIL_ON_UNKNOWN_PROPERTIES`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_IGNORED_PROPERTIES) to the value `true` that will force the fail in the case of unknown properties inside the json in the post request body like below:\r\n\r\n~~~\r\n@PostMapping(value = &quot;/updateproduct&quot;)\r\npublic Product updateProduct(@RequestBody String productString) throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    //it will fail in case of unknown properties inside the json string\r\n    Product product = objectMapper.readValue(productString, Product.class);\r\n    return product;\r\n}\r\n~~~\r\n\r\nChoosing to convert the request body json to `String` you can configure manually your `ObjectMapper` local instance while you have to decide how to proceed when there is a json processing exception (in my case I simply decided to directly throw the exception but a different behaviour can be adopted) or the `UnrecognizedPropertyException` exception like the case you presented.\r\n\r\n**EDIT:**\r\nanswer the OP comment below\r\n\r\n&gt; But instead of receiving String and explicitly creating a\r\n&gt; objectMapper, I would like to find a way to keep it Product and to\r\n&gt; somehow tell Spring &quot;use this ObjectMapper bean for this specific\r\n&gt; controller&quot;.\r\n\r\nI am not aware if it is possible to do exactly what you want, but you can achieve something pretty similar: you can define a custom `ObjectMapper` bean in your configuration class so having a default primary bean and your custom bean:\r\n\r\n~~~\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return Jackson2ObjectMapperBuilder\r\n                .json()\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;customObjectMapper&quot;)\r\n    public ObjectMapper getCustomObjectMapper() {\r\n        return Jackson2ObjectMapperBuilder\r\n                .json()\r\n                .build()\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    }\r\n}\r\n~~~\r\n\r\nThen in the same controller you can refer both the two beans, so one method will end with success because it works with the default primary bean and the other one will fail:\r\n\r\n~~~\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class ExampleController {\r\n\r\n    //fine, it is using the default primary bean so it ignores\r\n    //unknown properties in the json \r\n    @PostMapping(value = &quot;/updateproduct&quot;)\r\n    public Product updateProduct(@RequestBody Product product) {\r\n        return product;\r\n    }\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;customObjectMapper&quot;)\r\n    private ObjectMapper objectMapper;\r\n\r\n    //it is using the custom bean so it will fail \r\n    //with unknown properties in the json\r\n    @PostMapping(value = &quot;/updateproductfail&quot;)\r\n    public Product updateProductFail(@RequestBody String productString) throws JsonProcessingException {\r\n        Product product = objectMapper.readValue(productString, Product.class);\r\n        return product;\r\n    }\r\n}\r\n~~~\r\n\r\n\r\n","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>You can create a new <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> instance in your controller explicitly configuring  its <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_IGNORED_PROPERTIES\" rel=\"nofollow noreferrer\"><code>DeserializationFeature#FAIL_ON_UNKNOWN_PROPERTIES</code></a> to the value <code>true</code> that will force the fail in the case of unknown properties inside the json in the post request body like below:</p>\n<pre><code>@PostMapping(value = &quot;/updateproduct&quot;)\npublic Product updateProduct(@RequestBody String productString) throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    //it will fail in case of unknown properties inside the json string\n    Product product = objectMapper.readValue(productString, Product.class);\n    return product;\n}\n</code></pre>\n<p>Choosing to convert the request body json to <code>String</code> you can configure manually your <code>ObjectMapper</code> local instance while you have to decide how to proceed when there is a json processing exception (in my case I simply decided to directly throw the exception but a different behaviour can be adopted) or the <code>UnrecognizedPropertyException</code> exception like the case you presented.</p>\n<p><strong>EDIT:</strong>\nanswer the OP comment below</p>\n<blockquote>\n<p>But instead of receiving String and explicitly creating a\nobjectMapper, I would like to find a way to keep it Product and to\nsomehow tell Spring &quot;use this ObjectMapper bean for this specific\ncontroller&quot;.</p>\n</blockquote>\n<p>I am not aware if it is possible to do exactly what you want, but you can achieve something pretty similar: you can define a custom <code>ObjectMapper</code> bean in your configuration class so having a default primary bean and your custom bean:</p>\n<pre><code>@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        return Jackson2ObjectMapperBuilder\n                .json()\n                .build();\n    }\n\n    @Bean(&quot;customObjectMapper&quot;)\n    public ObjectMapper getCustomObjectMapper() {\n        return Jackson2ObjectMapperBuilder\n                .json()\n                .build()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    }\n}\n</code></pre>\n<p>Then in the same controller you can refer both the two beans, so one method will end with success because it works with the default primary bean and the other one will fail:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class ExampleController {\n\n    //fine, it is using the default primary bean so it ignores\n    //unknown properties in the json \n    @PostMapping(value = &quot;/updateproduct&quot;)\n    public Product updateProduct(@RequestBody Product product) {\n        return product;\n    }\n\n    @Autowired\n    @Qualifier(&quot;customObjectMapper&quot;)\n    private ObjectMapper objectMapper;\n\n    //it is using the custom bean so it will fail \n    //with unknown properties in the json\n    @PostMapping(value = &quot;/updateproductfail&quot;)\n    public Product updateProductFail(@RequestBody String productString) throws JsonProcessingException {\n        Product product = objectMapper.readValue(productString, Product.class);\n        return product;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"score":0,"creation_date":1675335712,"post_id":75320448,"comment_id":132908601,"body_markdown":"As I mentioned in my question, this option is not suitable for me as I want it enforced only on specific, customer facing controllers. I don&#39;t want it, for example, for deserialization of responses I get from other services, as it will make my APIs with other services more coupled and less robust.","body":"As I mentioned in my question, this option is not suitable for me as I want it enforced only on specific, customer facing controllers. I don&#39;t want it, for example, for deserialization of responses I get from other services, as it will make my APIs with other services more coupled and less robust."}],"tags":[],"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675326827,"creation_date":1675326827,"answer_id":75320448,"question_id":75315022,"body_markdown":"To change this on project level, you can add on your application.properties the following content:\r\n```\r\nspring.jackson.deserialization.fail-on-unknown-properties=true\r\n```\r\nOr if you are using an application.yaml:\r\n```\r\nspring:\r\n  jackson:\r\n    deserialization:\r\n      fail-on-unknown-properties: true\r\n```\r\nThis configuration will affect on project level, so you can keep using the correct DTO on the @RequestBody object received. This way, you don&#39;t have to do any change on your controller, but may be advisable to control the exception in your @ControllerAdvice.","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>To change this on project level, you can add on your application.properties the following content:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>Or if you are using an application.yaml:</p>\n<pre><code>spring:\n  jackson:\n    deserialization:\n      fail-on-unknown-properties: true\n</code></pre>\n<p>This configuration will affect on project level, so you can keep using the correct DTO on the @RequestBody object received. This way, you don't have to do any change on your controller, but may be advisable to control the exception in your @ControllerAdvice.</p>\n"},{"comments":[{"owner":{"account_id":2995376,"reputation":435,"user_id":2542954,"display_name":"MightGod"},"score":0,"creation_date":1689837285,"post_id":75521858,"comment_id":135270468,"body_markdown":"this is good solution, yet if you have a deserialized object with nested object fields, you would have to copy this behavior to each nested field if you want to avoid unknown attributes at any of them","body":"this is good solution, yet if you have a deserialized object with nested object fields, you would have to copy this behavior to each nested field if you want to avoid unknown attributes at any of them"}],"tags":[],"owner":{"account_id":24243910,"reputation":21,"user_id":18195920,"display_name":"Yaron Holland"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676989662,"creation_date":1676989662,"answer_id":75521858,"question_id":75315022,"body_markdown":"Add to the Product:\r\n\r\n```\r\n@JsonAnySetter\r\npublic Map&lt;String,Object&gt; unknownAttributes = new HashMap&lt;&gt;();\r\n```\r\n\r\nThen in the controller use:\r\n```\r\nif (!product.unknownAttributes.isEmpty()) {\r\n\r\n}\r\n```","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>Add to the Product:</p>\n<pre><code>@JsonAnySetter\npublic Map&lt;String,Object&gt; unknownAttributes = new HashMap&lt;&gt;();\n</code></pre>\n<p>Then in the controller use:</p>\n<pre><code>if (!product.unknownAttributes.isEmpty()) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676989662,"creation_date":1675278352,"question_id":75315022,"body_markdown":"I have SpringBoot application X that has customer facing APIs. Those APIs receive request body as JSON.\r\n\r\nApplication X issues API calls to application Y and receives responses with JSON body.\r\n\r\nI want to prevent application X from receiving unknown fields in the request body on customer-facing controllers.\r\n\r\nI was thinking about `spring.jackson.deserialization.fail-on-unknown-properties=true` but if I understand correctly such configuration will cause a failure also if a call from application X to application Y will return response body with unknown field. Therefore this configuration will make the API between application X and application Y more coupled and less robust.\r\n\r\n**I am looking for a way to enforce &quot;fail-on-unknown-fields&quot; only for deserialization of request body at customer facing controllers of an application while allowing deserialization at other parts of the application to ignore unknown fields**\r\n\r\n\r\nExample: \r\nI have the following customer facing API.\r\n```\r\n@PostMapping\r\npublic Response updateProduct(@RequestBody Product product) {\r\n.....\r\n}\r\n```\r\nWhere\r\n```\r\nclass Product {\r\n    private int id;\r\n    private String name;\r\n    private int price;\r\n}\r\n```\r\nI want to prevent customer from passing the following body to request, because colour is not a know field.\r\n```\r\n{\r\n  &quot;id&quot;: 777,\r\n  &quot;name&quot;: &quot;apple&quot;,\r\n  &quot;price&quot;: 2,\r\n  &quot;colour&quot;: &quot;red&quot;\r\n}\r\n```\r\nBut - \r\nI want it the &quot;fail-unknown-fields&quot; to be enforced on this controller only and not at other places where Jackson is used to deserialized responses received from other applications.","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>I have SpringBoot application X that has customer facing APIs. Those APIs receive request body as JSON.</p>\n<p>Application X issues API calls to application Y and receives responses with JSON body.</p>\n<p>I want to prevent application X from receiving unknown fields in the request body on customer-facing controllers.</p>\n<p>I was thinking about <code>spring.jackson.deserialization.fail-on-unknown-properties=true</code> but if I understand correctly such configuration will cause a failure also if a call from application X to application Y will return response body with unknown field. Therefore this configuration will make the API between application X and application Y more coupled and less robust.</p>\n<p><strong>I am looking for a way to enforce &quot;fail-on-unknown-fields&quot; only for deserialization of request body at customer facing controllers of an application while allowing deserialization at other parts of the application to ignore unknown fields</strong></p>\n<p>Example:\nI have the following customer facing API.</p>\n<pre><code>@PostMapping\npublic Response updateProduct(@RequestBody Product product) {\n.....\n}\n</code></pre>\n<p>Where</p>\n<pre><code>class Product {\n    private int id;\n    private String name;\n    private int price;\n}\n</code></pre>\n<p>I want to prevent customer from passing the following body to request, because colour is not a know field.</p>\n<pre><code>{\n  &quot;id&quot;: 777,\n  &quot;name&quot;: &quot;apple&quot;,\n  &quot;price&quot;: 2,\n  &quot;colour&quot;: &quot;red&quot;\n}\n</code></pre>\n<p>But -\nI want it the &quot;fail-unknown-fields&quot; to be enforced on this controller only and not at other places where Jackson is used to deserialized responses received from other applications.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1676906017,"post_id":75510905,"comment_id":133226603,"body_markdown":"I think I would use enums without values, and a repository to look up a record/object with the levels for a specific platform for that enum value. As an aside, why are these levels defined as strings, and not as double, float or int?","body":"I think I would use enums without values, and a repository to look up a record/object with the levels for a specific platform for that enum value. As an aside, why are these levels defined as strings, and not as double, float or int?"},{"owner":{"account_id":9436505,"reputation":70,"user_id":7018342,"display_name":"Mohit Munjal"},"score":1,"creation_date":1676907357,"post_id":75510905,"comment_id":133227005,"body_markdown":"@MarkRotteveel I have implemented in a similar way where I use a repo to look up.\nThe values specified are default values if there is nothing found during lookup. Perhaps I should define the default values in some other way?","body":"@MarkRotteveel I have implemented in a similar way where I use a repo to look up. The values specified are default values if there is nothing found during lookup. Perhaps I should define the default values in some other way?"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1676907920,"post_id":75510905,"comment_id":133227189,"body_markdown":"The parts that change should be separate from the parts that stay the same, and you should have a separate (single) interface to map to and from as needed.","body":"The parts that change should be separate from the parts that stay the same, and you should have a separate (single) interface to map to and from as needed."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676908570,"post_id":75510905,"comment_id":133227389,"body_markdown":"That sounds like a fallback scenario that also belongs in the platform specific repository.","body":"That sounds like a fallback scenario that also belongs in the platform specific repository."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676989570,"creation_date":1676989570,"answer_id":75521845,"question_id":75510905,"body_markdown":"There can be different possible design, below design aim on:  \r\n\r\n1. Minimise code duplication\r\n2. Reduce effort to add new platform or alert level\r\n3. Missing value will lead to compile error when adding new `Platform` thanks to [switch expression][1].\r\n\r\n```\r\npublic enum Platform {\r\n    AWS, GCP\r\n}\r\npublic enum PlatformDefaultLevel {\r\n    ALERT {\r\n        @Override\r\n        public Level getPlatformLevel(Platform platform) {\r\n            return switch (platform) {\r\n                case AWS -&gt; new Level(&quot;0.0&quot;, &quot;0.0&quot;, null);\r\n                case GCP -&gt; new Level(&quot;1.0&quot;, &quot;1.0&quot;, null);\r\n            };\r\n        }\r\n    },\r\n    HIGH {\r\n        // do similarly\r\n    },\r\n    MEDIUM {\r\n        // do similarly\r\n    },\r\n    LOW {\r\n        // do similarly\r\n    };\r\n\r\n    record Level(String level, String levelAuto, String levelString) {\r\n    }\r\n\r\n    protected abstract Level getPlatformLevel(Platform platform);\r\n\r\n    public String getLevel(Platform platform) {\r\n        return getPlatformLevel(platform).level();\r\n    }\r\n\r\n    public String getLevelAuto(Platform platform) {\r\n        return getPlatformLevel(platform).levelAuto();\r\n    }\r\n\r\n    public String getLevelStr(Platform platform) {\r\n        return getPlatformLevel(platform).levelString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html","title":"How to design an enum common to multiple platforms, but with different configurations per platform","body":"<p>There can be different possible design, below design aim on:</p>\n<ol>\n<li>Minimise code duplication</li>\n<li>Reduce effort to add new platform or alert level</li>\n<li>Missing value will lead to compile error when adding new <code>Platform</code> thanks to <a href=\"https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expression</a>.</li>\n</ol>\n<pre><code>public enum Platform {\n    AWS, GCP\n}\npublic enum PlatformDefaultLevel {\n    ALERT {\n        @Override\n        public Level getPlatformLevel(Platform platform) {\n            return switch (platform) {\n                case AWS -&gt; new Level(&quot;0.0&quot;, &quot;0.0&quot;, null);\n                case GCP -&gt; new Level(&quot;1.0&quot;, &quot;1.0&quot;, null);\n            };\n        }\n    },\n    HIGH {\n        // do similarly\n    },\n    MEDIUM {\n        // do similarly\n    },\n    LOW {\n        // do similarly\n    };\n\n    record Level(String level, String levelAuto, String levelString) {\n    }\n\n    protected abstract Level getPlatformLevel(Platform platform);\n\n    public String getLevel(Platform platform) {\n        return getPlatformLevel(platform).level();\n    }\n\n    public String getLevelAuto(Platform platform) {\n        return getPlatformLevel(platform).levelAuto();\n    }\n\n    public String getLevelStr(Platform platform) {\n        return getPlatformLevel(platform).levelString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9436505,"reputation":70,"user_id":7018342,"display_name":"Mohit Munjal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676989570,"creation_date":1676905324,"question_id":75510905,"body_markdown":"I have the following enum already implemented in my code for AWS Provider:\r\n\r\n```java\r\npublic enum LevelsAWS {\r\n\r\n\tALERT(&quot;0.0&quot;, &quot;0.0&quot;),\r\n\tHIGH(&quot;1e-8&quot;, &quot;1e-7&quot;, &quot;0&quot;),\r\n\tMEDIUM(&quot;1e-6&quot;, &quot;1e-5&quot;, &quot;1&quot;),\r\n\tLOW(&quot;1e-4&quot;, &quot;1e-3&quot;, &quot;2&quot;);\r\n\r\n\tString level;\r\n\tString levelAuto;\r\n\tString levelStr;\r\n\r\n\tHighriskLevels(String level, String levelAuto) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t}\r\n\r\n\tHighriskLevels(String level, String levelAuto,\r\n\t\t\t\t   String levelStr) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t\tthis.levelStr = levelStr;\r\n\t}\r\n\r\n\tpublic String getLevel() {return level;}\r\n\r\n\tpublic String getLevelAuto() {return levelAuto;}\r\n\r\n\tpublic String getLevelStr() {return levelStr;}\r\n\r\n}\r\n```\r\n\r\nNow, I am extending my logic to other providers like Azure and GCP, and I need similar enums for them as well, but the values specified for each enum object will be different. For example, for Azure it could be:\r\n\r\n```java\r\npublic enum LevelsAZURE {\r\n\r\n\tALERT(&quot;1.0&quot;, &quot;1.0&quot;),\r\n\tHIGH(&quot;1e-160&quot;, &quot;1e-175&quot;, &quot;0&quot;),\r\n\tMEDIUM(&quot;1e-110&quot;, &quot;1e-125&quot;, &quot;1&quot;),\r\n\tLOW(&quot;1e-12&quot;, &quot;1e-15&quot;, &quot;2&quot;);\r\n\r\n\tString level;\r\n\tString levelAuto;\r\n\tString levelStr;\r\n\r\n\tHighriskLevels(String level, String levelAuto) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t}\r\n\r\n\tHighriskLevels(String level, String levelAuto,\r\n\t\t\t\t   String levelStr) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t\tthis.levelStr = levelStr;\r\n\t}\r\n\r\n\tpublic String getLevel() {return level;}\r\n\r\n\tpublic String getLevelAuto() {return levelAuto;}\r\n\r\n\tpublic String getLevelStr() {return levelStr;}\r\n\r\n}\r\n```\r\n\r\nThis would obviously work, however repeats a lot of code. What&#39;s a more object oriented way to achieve the same?","title":"How to design an enum common to multiple platforms, but with different configurations per platform","body":"<p>I have the following enum already implemented in my code for AWS Provider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LevelsAWS {\n\n    ALERT(&quot;0.0&quot;, &quot;0.0&quot;),\n    HIGH(&quot;1e-8&quot;, &quot;1e-7&quot;, &quot;0&quot;),\n    MEDIUM(&quot;1e-6&quot;, &quot;1e-5&quot;, &quot;1&quot;),\n    LOW(&quot;1e-4&quot;, &quot;1e-3&quot;, &quot;2&quot;);\n\n    String level;\n    String levelAuto;\n    String levelStr;\n\n    HighriskLevels(String level, String levelAuto) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n    }\n\n    HighriskLevels(String level, String levelAuto,\n                   String levelStr) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n        this.levelStr = levelStr;\n    }\n\n    public String getLevel() {return level;}\n\n    public String getLevelAuto() {return levelAuto;}\n\n    public String getLevelStr() {return levelStr;}\n\n}\n</code></pre>\n<p>Now, I am extending my logic to other providers like Azure and GCP, and I need similar enums for them as well, but the values specified for each enum object will be different. For example, for Azure it could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LevelsAZURE {\n\n    ALERT(&quot;1.0&quot;, &quot;1.0&quot;),\n    HIGH(&quot;1e-160&quot;, &quot;1e-175&quot;, &quot;0&quot;),\n    MEDIUM(&quot;1e-110&quot;, &quot;1e-125&quot;, &quot;1&quot;),\n    LOW(&quot;1e-12&quot;, &quot;1e-15&quot;, &quot;2&quot;);\n\n    String level;\n    String levelAuto;\n    String levelStr;\n\n    HighriskLevels(String level, String levelAuto) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n    }\n\n    HighriskLevels(String level, String levelAuto,\n                   String levelStr) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n        this.levelStr = levelStr;\n    }\n\n    public String getLevel() {return level;}\n\n    public String getLevelAuto() {return levelAuto;}\n\n    public String getLevelStr() {return levelStr;}\n\n}\n</code></pre>\n<p>This would obviously work, however repeats a lot of code. What's a more object oriented way to achieve the same?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"score":0,"creation_date":1676991480,"post_id":75521829,"comment_id":133246039,"body_markdown":"I hope this answer could help you: \nhttps://stackoverflow.com/questions/43518374/mapping-a-dto-in-a-dto-to-entity-in-entity-with-mapstruct","body":"I hope this answer could help you:  <a href=\"https://stackoverflow.com/questions/43518374/mapping-a-dto-in-a-dto-to-entity-in-entity-with-mapstruct\" title=\"mapping a dto in a dto to entity in entity with mapstruct\">stackoverflow.com/questions/43518374/&hellip;</a>"}],"owner":{"account_id":27348862,"reputation":3,"user_id":20858348,"display_name":"8100ming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676989502,"creation_date":1676989502,"question_id":75521829,"body_markdown":"I have an Entity which has another entity in it and I need to convert it to DTO using mapStruct\r\n\r\nthis is my message entity which has user entity\r\n```\r\npublic class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer id;\r\n    @Size(min=2, max=50)\r\n    private String text;\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User author;\r\n\r\n    public Message(String text, User author) {\r\n        this.text = text;\r\n        this.author = author;\r\n    }\r\n}\r\n```\r\ni am trying to convert it to dto,my dto class\r\n\r\n\r\n```\r\n@Data\r\npublic class MessageDto {\r\n    private String text;\r\n    UserDto userDto;\r\n}\r\n```\r\nNext comes the user class Dto\r\n\r\n\r\n```\r\n@Data\r\npublic class UserDto {\r\n    private Long id;\r\n    private String username;\r\n}\r\n\r\n```\r\nmy Message mapper class where I declare a method to convert List&lt;Message&gt; to List&lt;MessageDTO&gt;\r\n\r\n```\r\n    @GetMapping(value = &quot;messageAll&quot;)\r\n    public List&lt;MessageDto&gt; allMesage() {\r\n        messages = new ArrayList&lt;&gt;();\r\n        messageRepository.findAll().forEach(messages::add);\r\n        return messageMapper.INSTANCE.toDTOList(messages);\r\n    }\r\n```\r\nBut it pulls out only the text from the List&lt;message&gt;, and in the UserDto field, throws null\r\n\r\n[enter image description here](https://i.stack.imgur.com/7CaIP.png)\r\n\r\n","title":"Java mapstruct how to convert Entity to DTO","body":"<p>I have an Entity which has another entity in it and I need to convert it to DTO using mapStruct</p>\n<p>this is my message entity which has user entity</p>\n<pre><code>public class Message {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n    @Size(min=2, max=50)\n    private String text;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User author;\n\n    public Message(String text, User author) {\n        this.text = text;\n        this.author = author;\n    }\n}\n</code></pre>\n<p>i am trying to convert it to dto,my dto class</p>\n<pre><code>@Data\npublic class MessageDto {\n    private String text;\n    UserDto userDto;\n}\n</code></pre>\n<p>Next comes the user class Dto</p>\n<pre><code>@Data\npublic class UserDto {\n    private Long id;\n    private String username;\n}\n\n</code></pre>\n<p>my Message mapper class where I declare a method to convert List to List</p>\n<pre><code>    @GetMapping(value = &quot;messageAll&quot;)\n    public List&lt;MessageDto&gt; allMesage() {\n        messages = new ArrayList&lt;&gt;();\n        messageRepository.findAll().forEach(messages::add);\n        return messageMapper.INSTANCE.toDTOList(messages);\n    }\n</code></pre>\n<p>But it pulls out only the text from the List, and in the UserDto field, throws null</p>\n<p><a href=\"https://i.stack.imgur.com/7CaIP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swing","fonts"],"answers":[{"comments":[{"owner":{"account_id":6163784,"reputation":11,"user_id":4804468,"display_name":"Sascha"},"score":0,"creation_date":1429362285,"post_id":29717746,"comment_id":47569900,"body_markdown":"Yea... after I thought about that my self... well... thanks I go criy now a little bit","body":"Yea... after I thought about that my self... well... thanks I go criy now a little bit"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1429362328,"post_id":29717746,"comment_id":47569921,"body_markdown":"@Sascha: no need to cry. You should be proud for figuring this out yourself and without help.","body":"@Sascha: no need to cry. You should be proud for figuring this out yourself and without help."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1429362469,"post_id":29717746,"comment_id":47569970,"body_markdown":"@Sascha Also, if you want to keep the original font and just derive it by changing the style, use Font.deriveFont().","body":"@Sascha Also, if you want to keep the original font and just derive it by changing the style, use Font.deriveFont()."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1429362853,"post_id":29717746,"comment_id":47570109,"body_markdown":"@HovercraftFullOfEels while you&#39;re at it, why use magic numbers 1 and 2 instead of Font.BOLD and Font.ITALIC?","body":"@HovercraftFullOfEels while you&#39;re at it, why use magic numbers 1 and 2 instead of Font.BOLD and Font.ITALIC?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1429362889,"post_id":29717746,"comment_id":47570123,"body_markdown":"@JBNizet: Sigh, I should never try to answer questions in a caffeine deprived state. Thanks yet again.","body":"@JBNizet: Sigh, I should never try to answer questions in a caffeine deprived state. Thanks yet again."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429362922,"creation_date":1429362168,"answer_id":29717746,"question_id":29717666,"body_markdown":"You can use the XOR operator, `^` to flip the desired Font style bit.\r\n\r\nThe mask for italic is 2 and for bold is 1.\r\n\r\nFor example:\r\n\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.*;\r\n    \r\n    public class TestBitFlip extends JPanel {\r\n       private JLabel label = new JLabel(&quot;Fubarlicious!&quot;);\r\n       \r\n       public TestBitFlip() {\r\n          add(label);\r\n          add(new JButton(new FontAction(&quot;Bold&quot;, KeyEvent.VK_B, Font.BOLD)));\r\n          add(new JButton(new FontAction(&quot;Italic&quot;, KeyEvent.VK_I, Font.ITALIC)));\r\n       }\r\n       \r\n       private class FontAction extends AbstractAction {\r\n          private int mask;\r\n    \r\n          public FontAction(String name, int mnemonic, int mask) {\r\n             super(name);\r\n             putValue(MNEMONIC_KEY, mnemonic);\r\n             this.mask = mask;\r\n          }\r\n    \r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n             Font font = label.getFont();\r\n             int style = font.getStyle();\r\n             style ^= mask;\r\n             font = font.deriveFont(style);\r\n             label.setFont(font);\r\n          }\r\n       }\r\n    \r\n       private static void createAndShowGui() {\r\n          TestBitFlip mainPanel = new TestBitFlip();\r\n    \r\n          JFrame frame = new JFrame(&quot;TestBitFlip&quot;);\r\n          frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n          frame.getContentPane().add(mainPanel);\r\n          frame.pack();\r\n          frame.setLocationByPlatform(true);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          SwingUtilities.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowGui();\r\n             }\r\n          });\r\n       }\r\n    }\r\n\r\n","title":"Removing italic or Bold, without removing other formattings","body":"<p>You can use the XOR operator, <code>^</code> to flip the desired Font style bit.</p>\n\n<p>The mask for italic is 2 and for bold is 1.</p>\n\n<p>For example:</p>\n\n<pre><code>import java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\npublic class TestBitFlip extends JPanel {\n   private JLabel label = new JLabel(\"Fubarlicious!\");\n\n   public TestBitFlip() {\n      add(label);\n      add(new JButton(new FontAction(\"Bold\", KeyEvent.VK_B, Font.BOLD)));\n      add(new JButton(new FontAction(\"Italic\", KeyEvent.VK_I, Font.ITALIC)));\n   }\n\n   private class FontAction extends AbstractAction {\n      private int mask;\n\n      public FontAction(String name, int mnemonic, int mask) {\n         super(name);\n         putValue(MNEMONIC_KEY, mnemonic);\n         this.mask = mask;\n      }\n\n      @Override\n      public void actionPerformed(ActionEvent e) {\n         Font font = label.getFont();\n         int style = font.getStyle();\n         style ^= mask;\n         font = font.deriveFont(style);\n         label.setFont(font);\n      }\n   }\n\n   private static void createAndShowGui() {\n      TestBitFlip mainPanel = new TestBitFlip();\n\n      JFrame frame = new JFrame(\"TestBitFlip\");\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      frame.getContentPane().add(mainPanel);\n      frame.pack();\n      frame.setLocationByPlatform(true);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGui();\n         }\n      });\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676989418,"creation_date":1676989075,"answer_id":75521752,"question_id":29717666,"body_markdown":"I was experiencing some odd behavior using [Hovercraft Full Of Eels][1]&#39; bitwise solution in conjunction with HTML labels. I took my own approach using [`Font.deriveFont(Map&lt;? extends Attribute, ?&gt;)`][2]:\r\n\r\n    public class FontUtils {\r\n    \r\n    \tpublic static Font getBold(Font font, boolean bold) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tMap&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\r\n    \t\tfontAttributes.put(TextAttribute.WEIGHT, bold ? TextAttribute.WEIGHT_BOLD : TextAttribute.WEIGHT_REGULAR);\r\n    \t\treturn font.deriveFont(fontAttributes);\r\n    \t}\r\n    \r\n    \tpublic static Font getItalic(Font font, boolean italic) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tMap&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\r\n    \t\tfontAttributes.put(TextAttribute.POSTURE,\r\n    \t\t\t\titalic ? TextAttribute.POSTURE_OBLIQUE : TextAttribute.POSTURE_REGULAR);\r\n    \t\treturn font.deriveFont(fontAttributes);\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/Font.html#deriveFont-java.util.Map-","title":"Removing italic or Bold, without removing other formattings","body":"<p>I was experiencing some odd behavior using <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">Hovercraft Full Of Eels</a>' bitwise solution in conjunction with HTML labels. I took my own approach using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Font.html#deriveFont-java.util.Map-\" rel=\"nofollow noreferrer\"><code>Font.deriveFont(Map&lt;? extends Attribute, ?&gt;)</code></a>:</p>\n<pre><code>public class FontUtils {\n\n    public static Font getBold(Font font, boolean bold) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\n        fontAttributes.put(TextAttribute.WEIGHT, bold ? TextAttribute.WEIGHT_BOLD : TextAttribute.WEIGHT_REGULAR);\n        return font.deriveFont(fontAttributes);\n    }\n\n    public static Font getItalic(Font font, boolean italic) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\n        fontAttributes.put(TextAttribute.POSTURE,\n                italic ? TextAttribute.POSTURE_OBLIQUE : TextAttribute.POSTURE_REGULAR);\n        return font.deriveFont(fontAttributes);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6163784,"reputation":11,"user_id":4804468,"display_name":"Sascha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1976,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676989418,"creation_date":1429361783,"question_id":29717666,"body_markdown":"I&#39;m working on a scaled down Text Editor. There is a JLabel, which should be made italic, Bold, and different Fonts and so on. That already works, but I have a problem, when the text is italic *and* bold to remove just one of them, when the option is clicked again. E.G. when it&#39;s italic and bold and I click on italic again, it also removes the bold formation.\r\n\r\nMy code looks like this (italic example, bold looks the same):\r\n\r\n    italic.addActionListener(\r\n\t\t\t\te -&gt; {\r\n\t\t\t\t\tif(text.getFont().getStyle() != Font.ITALIC) {\r\n\t\t\t\t\t\tFont f = new Font(text.getFont().getName(), text.getFont().getStyle() | Font.ITALIC, text.getFont().getSize());\r\n\t\t\t\t\t\ttext.setFont(f);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tFont f = new Font(text.getFont().getName(), text.getFont().getStyle() - Font.ITALIC, text.getFont().getSize());\r\n\t\t\t\t\t\ttext.setFont(f);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\nThe only solution I came up with is to check every possible case, but I guess there is an easier solution.","title":"Removing italic or Bold, without removing other formattings","body":"<p>I'm working on a scaled down Text Editor. There is a JLabel, which should be made italic, Bold, and different Fonts and so on. That already works, but I have a problem, when the text is italic <em>and</em> bold to remove just one of them, when the option is clicked again. E.G. when it's italic and bold and I click on italic again, it also removes the bold formation.</p>\n\n<p>My code looks like this (italic example, bold looks the same):</p>\n\n<pre><code>italic.addActionListener(\n            e -&gt; {\n                if(text.getFont().getStyle() != Font.ITALIC) {\n                    Font f = new Font(text.getFont().getName(), text.getFont().getStyle() | Font.ITALIC, text.getFont().getSize());\n                    text.setFont(f);\n                } else {\n                    Font f = new Font(text.getFont().getName(), text.getFont().getStyle() - Font.ITALIC, text.getFont().getSize());\n                    text.setFont(f);\n                }\n            }\n        );\n</code></pre>\n\n<p>The only solution I came up with is to check every possible case, but I guess there is an easier solution.</p>\n"},{"tags":["java","concurrency","tree"],"answers":[{"tags":[],"owner":{"account_id":1396503,"reputation":580,"user_id":1326159,"accept_rate":65,"display_name":"giocarmine"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340629496,"creation_date":1340629496,"answer_id":11189947,"question_id":11189784,"body_markdown":"You could use a reader-writer lock in your structure, in a way that multiple threads can read cuncurrently but only one thread at a time can modify it.\r\nIf some thread tries to modify the structure it cannot do it until all of the readers have done their reads.\r\nIf a thread wants to read it can only if a writer isn&#39;t already working, or it is on shedule of doing some modifications.\r\nMaybe a look at this could help:\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Efficient concurrent tree","body":"<p>You could use a reader-writer lock in your structure, in a way that multiple threads can read cuncurrently but only one thread at a time can modify it.\nIf some thread tries to modify the structure it cannot do it until all of the readers have done their reads.\nIf a thread wants to read it can only if a writer isn't already working, or it is on shedule of doing some modifications.\nMaybe a look at this could help:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html</a></p>\n"},{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1340630349,"post_id":11190062,"comment_id":14686015,"body_markdown":"The read-write lock has one disadvantage: You can&#39;t &quot;upgrade&quot; a read to a write lock, so you need to know in advance whether your operation will modify the tree. So that would need two iterators where one might lock way too much.","body":"The read-write lock has one disadvantage: You can&#39;t &quot;upgrade&quot; a read to a write lock, so you need to know in advance whether your operation will modify the tree. So that would need two iterators where one might lock way too much."},{"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"score":0,"creation_date":1340630414,"post_id":11190062,"comment_id":14686048,"body_markdown":"I assume that using trees you know in advance what operations modify your tree, isn&#39;t it?","body":"I assume that using trees you know in advance what operations modify your tree, isn&#39;t it?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1340630456,"post_id":11190062,"comment_id":14686064,"body_markdown":"When I ask the tree for an iterator, the method that creates the iterator can&#39;t know whether I&#39;ll call remove() or not.","body":"When I ask the tree for an iterator, the method that creates the iterator can&#39;t know whether I&#39;ll call remove() or not."},{"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"score":0,"creation_date":1340630536,"post_id":11190062,"comment_id":14686093,"body_markdown":"Is your tree very big? How about returning the copy?","body":"Is your tree very big? How about returning the copy?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1340959928,"post_id":11190062,"comment_id":14799020,"body_markdown":"I&#39;m wondering myself. My trees usually aren&#39;t big but there is no artificial limit to them so customers can make them as big as they want :-/","body":"I&#39;m wondering myself. My trees usually aren&#39;t big but there is no artificial limit to them so customers can make them as big as they want :-/"}],"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340629942,"creation_date":1340629942,"answer_id":11190062,"question_id":11189784,"body_markdown":"Basic idea with Read/Write lock\r\n\r\nFor all write methods use following idiom:\r\n\r\n    someWriteMethod(){\r\n      writeLock.lock();\r\n      // logic\r\n      writeLock.unlock();\r\n    }\r\n\r\nFor all read methods use similar code:\r\n\r\n    someReadMethod(){\r\n      readLock.lock();\r\n      // logic\r\n      readLock.unlock();\r\n    }\r\n\r\n* If at least one method performs writing, no one can obtain read or write lock.\r\n* If at least one method performs reading, any numbers of thread can obtain readlock.\r\n* If at least one method performs reading, no one can obtain write lock.\r\n\r\nNote, if your code (replace logic comment above) can throw exception make sure you release locks before exit from method in finally section.","title":"Efficient concurrent tree","body":"<p>Basic idea with Read/Write lock</p>\n\n<p>For all write methods use following idiom:</p>\n\n<pre><code>someWriteMethod(){\n  writeLock.lock();\n  // logic\n  writeLock.unlock();\n}\n</code></pre>\n\n<p>For all read methods use similar code:</p>\n\n<pre><code>someReadMethod(){\n  readLock.lock();\n  // logic\n  readLock.unlock();\n}\n</code></pre>\n\n<ul>\n<li>If at least one method performs writing, no one can obtain read or write lock.</li>\n<li>If at least one method performs reading, any numbers of thread can obtain readlock.</li>\n<li>If at least one method performs reading, no one can obtain write lock.</li>\n</ul>\n\n<p>Note, if your code (replace logic comment above) can throw exception make sure you release locks before exit from method in finally section.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1340630211,"post_id":11190108,"comment_id":14685961,"body_markdown":"The CSLM is not really close. It is a *sorted map* having little to do with a tree structure. So it only shares a common property with the `TreeMap` in that it is a sorted map -- which is not relevant here.","body":"The CSLM is not really close. It is a <i>sorted map</i> having little to do with a tree structure. So it only shares a common property with the <code>TreeMap</code> in that it is a sorted map -- which is not relevant here."},{"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"score":0,"creation_date":1340630531,"post_id":11190108,"comment_id":14686090,"body_markdown":"That&#39;s why there is a second part of the answer as I don&#39;t know any tree structure included in Java that supports all of these operations. Also, CSLM might be enough for some similar cases.","body":"That&#39;s why there is a second part of the answer as I don&#39;t know any tree structure included in Java that supports all of these operations. Also, CSLM might be enough for some similar cases."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":1,"creation_date":1340630556,"post_id":11190108,"comment_id":14686103,"body_markdown":"Kru is still correct: It&#39;s the only data structure in the official runtime which is closest to my problem. I could build the tree using nested ConcurrentSkipListMaps + locks.","body":"Kru is still correct: It&#39;s the only data structure in the official runtime which is closest to my problem. I could build the tree using nested ConcurrentSkipListMaps + locks."},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1340630573,"post_id":11190108,"comment_id":14686113,"body_markdown":"Is there any reason it must be tree? hmm, a concurrent (lock-free) treemap is a research topic. Ya, we have COW B-Tree, but they are crazy.","body":"Is there any reason it must be tree? hmm, a concurrent (lock-free) treemap is a research topic. Ya, we have COW B-Tree, but they are crazy."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1340630696,"post_id":11190108,"comment_id":14686156,"body_markdown":"@AaronDigulla Wouldn&#39;t a `ConcurrentSkipListSet` be a better tool to implement a single node&#39;s children container?","body":"@AaronDigulla Wouldn&#39;t a <code>ConcurrentSkipListSet</code> be a better tool to implement a single node&#39;s children container?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1340638213,"post_id":11190108,"comment_id":14689429,"body_markdown":"@AaronDigulla I thought about it some more -- wouldn&#39;t the CSLS in fact cover all the necessary locking, so your code would not need any kind of explicit locking mechanism? All insertions and deletions come down to insert/delete in the list of children.","body":"@AaronDigulla I thought about it some more -- wouldn&#39;t the CSLS in fact cover all the necessary locking, so your code would not need any kind of explicit locking mechanism? All insertions and deletions come down to insert/delete in the list of children."}],"tags":[],"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340707529,"creation_date":1340630106,"answer_id":11190108,"question_id":11189784,"body_markdown":"The Java structure that is the closest to what you may need is a [ConcurrentSkipListSet][2] (or maybe [ConcurrentSkipListMap][1]).\r\n\r\n----------\r\nIf you need a more custom approach, you can implement a custom tree structure if you have a hierarchic read-write lock.\r\nHere is an answerto a similar question about how to implement a reentrant read-write lock:\r\nhttps://stackoverflow.com/a/6154873/272388\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListSet.html","title":"Efficient concurrent tree","body":"<p>The Java structure that is the closest to what you may need is a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListSet</a> (or maybe <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListMap</a>).</p>\n\n<hr>\n\n<p>If you need a more custom approach, you can implement a custom tree structure if you have a hierarchic read-write lock.\nHere is an answerto a similar question about how to implement a reentrant read-write lock:\n<a href=\"https://stackoverflow.com/a/6154873/272388\">https://stackoverflow.com/a/6154873/272388</a></p>\n"},{"comments":[{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1341319419,"post_id":11298159,"comment_id":14885004,"body_markdown":"This is interesting but useless in my use case. My trees are real trees (parent-child structures), not key-value maps.","body":"This is interesting but useless in my use case. My trees are real trees (parent-child structures), not key-value maps."},{"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"score":3,"creation_date":1341356194,"post_id":11298159,"comment_id":14900864,"body_markdown":"I&#39;d avoid using words like &quot;useless&quot;. This answer was contributed to help you voluntarily. If you are looking for read-mostly concurrent trees, lock-free algorithms can be a good way to go. A radix tree might not be exactly what you are looking for, but as I mentioned, the atomic patching approach I linked to, can be applied to any type of tree for lock-free reads, even if you are planning to write your own custom tree. Incidentally radix trees are obviously trees, having parent-child structures.","body":"I&#39;d avoid using words like &quot;useless&quot;. This answer was contributed to help you voluntarily. If you are looking for read-mostly concurrent trees, lock-free algorithms can be a good way to go. A radix tree might not be exactly what you are looking for, but as I mentioned, the atomic patching approach I linked to, can be applied to any type of tree for lock-free reads, even if you are planning to write your own custom tree. Incidentally radix trees are obviously trees, having parent-child structures."},{"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"score":0,"creation_date":1341407808,"post_id":11298159,"comment_id":14915674,"body_markdown":"The new wording looks good. I also removed the final paragraph about documentation as I&#39;ve finished adding remaining documentation to the site.","body":"The new wording looks good. I also removed the final paragraph about documentation as I&#39;ve finished adding remaining documentation to the site."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1341570619,"post_id":11298159,"comment_id":14964763,"body_markdown":"This is the solution which we finally used. Major drawbacks: Memory consumption and change operations are pretty expensive since you need to copy the tree every time. But the pros outweight them by far: Simple code structure, no deadlocks, no read locks, it&#39;s very easy to merge several tree changes into one operation (so I need only one copy), implementation doesn&#39;t leak, guaranteed to be thread safe, no corner cases.","body":"This is the solution which we finally used. Major drawbacks: Memory consumption and change operations are pretty expensive since you need to copy the tree every time. But the pros outweight them by far: Simple code structure, no deadlocks, no read locks, it&#39;s very easy to merge several tree changes into one operation (so I need only one copy), implementation doesn&#39;t leak, guaranteed to be thread safe, no corner cases."},{"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"score":0,"creation_date":1341587710,"post_id":11298159,"comment_id":14972340,"body_markdown":"Depending on the type of tree, it might not be necessary to copy the entire (sub-)tree for every modification. Some trees (e.g. radix trees), have locality of reference (LOR), so modifications mid-branch can require only a few nodes to be allocated for the patch, and descendants of nodes being replaced, can usually be attached directly to the patch unmodified. In trees without LOR, writes would be more expensive for sure. Since your tree can be modified by customers, try asking them nicely to observe locality of reference! I&#39;m glad this helped, best of luck with your project.","body":"Depending on the type of tree, it might not be necessary to copy the entire (sub-)tree for every modification. Some trees (e.g. radix trees), have locality of reference (LOR), so modifications mid-branch can require only a few nodes to be allocated for the patch, and descendants of nodes being replaced, can usually be attached directly to the patch unmodified. In trees without LOR, writes would be more expensive for sure. Since your tree can be modified by customers, try asking them nicely to observe locality of reference! I&#39;m glad this helped, best of luck with your project."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1341819940,"post_id":11298159,"comment_id":15015779,"body_markdown":"Optimizations are possible but not necessary - that&#39;s what I like about the approach. If the trees turn out to be too slow, I *can* replace the simple 5-line recursive copy into something more complex - but I don&#39;t *have* to :-)","body":"Optimizations are possible but not necessary - that&#39;s what I like about the approach. If the trees turn out to be too slow, I <i>can</i> replace the simple 5-line recursive copy into something more complex - but I don&#39;t <i>have</i> to :-)"}],"tags":[],"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"comment_count":6,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676989277,"creation_date":1341249186,"answer_id":11298159,"question_id":11189784,"body_markdown":"Take a look at: [Concurrent-Trees](https://github.com/npgall/concurrent-trees) on Google code for a way to modify tree-like structures without locking.\r\n\r\nThe project provides Concurrent Radix and Suffix trees for Java. They supports concurrent reads and writes, and reads are lock-free. It works by applying patches to the tree atomically. While these types of tree might not be exactly what you want, the approach using &quot;patching&quot; as described in [TreeDesign](https://github.com/npgall/concurrent-trees/blob/master/documentation/TreeDesign.md) is useful for any kind of tree-like structure.\r\n\r\nThe trees are intended for high concurrency read-mostly use cases, where (say) a background thread might be inserting or deleting entries from the tree while many foreground threads would continue to traverse it unimpeded by the modifications.\r\n","title":"Efficient concurrent tree","body":"<p>Take a look at: <a href=\"https://github.com/npgall/concurrent-trees\" rel=\"nofollow noreferrer\">Concurrent-Trees</a> on Google code for a way to modify tree-like structures without locking.</p>\n<p>The project provides Concurrent Radix and Suffix trees for Java. They supports concurrent reads and writes, and reads are lock-free. It works by applying patches to the tree atomically. While these types of tree might not be exactly what you want, the approach using &quot;patching&quot; as described in <a href=\"https://github.com/npgall/concurrent-trees/blob/master/documentation/TreeDesign.md\" rel=\"nofollow noreferrer\">TreeDesign</a> is useful for any kind of tree-like structure.</p>\n<p>The trees are intended for high concurrency read-mostly use cases, where (say) a background thread might be inserting or deleting entries from the tree while many foreground threads would continue to traverse it unimpeded by the modifications.</p>\n"}],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8353,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11298159,"answer_count":4,"score":14,"last_activity_date":1676989277,"creation_date":1340628888,"question_id":11189784,"body_markdown":"I&#39;m looking for an efficient way to implement a concurrent tree structure. If that helps, assume that I have a lot more read accesses than changes to the structure.\r\n\r\nThe tree should support these operations:\r\n\r\n- Adding and removing nodes\r\n- Sort branches every time a new node is inserted\r\n- Iterate over all the nodes (without ConcurrentModificationException)\r\n- Look up an element by path","title":"Efficient concurrent tree","body":"<p>I'm looking for an efficient way to implement a concurrent tree structure. If that helps, assume that I have a lot more read accesses than changes to the structure.</p>\n\n<p>The tree should support these operations:</p>\n\n<ul>\n<li>Adding and removing nodes</li>\n<li>Sort branches every time a new node is inserted</li>\n<li>Iterate over all the nodes (without ConcurrentModificationException)</li>\n<li>Look up an element by path</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","json-patch"],"answers":[{"comments":[{"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"score":0,"creation_date":1489860053,"post_id":42830785,"comment_id":72859495,"body_markdown":"So far I&#39;ve gone ahead and implemented a custom method to handle PATCH with the application/json-patch+json content-type.  And that works.","body":"So far I&#39;ve gone ahead and implemented a custom method to handle PATCH with the application/json-patch+json content-type.  And that works."},{"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"score":0,"creation_date":1489860225,"post_id":42830785,"comment_id":72859554,"body_markdown":"I&#39;m unfamiliar with Spring&#39;s support for json-merge PATCH.   Will look at that.","body":"I&#39;m unfamiliar with Spring&#39;s support for json-merge PATCH.   Will look at that."},{"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"score":1,"creation_date":1489860296,"post_id":42830785,"comment_id":72859578,"body_markdown":"There&#39;s no cascading on the association, but the changes are most definitely being persisted.  I don&#39;t think it&#39;s via a cascade mechanism -- in fact the cascading concept doesn&#39;t even apply here.  This is pure path navigation in the object graph via SpEL with the changes to the graph persisted from the Session to the DB.","body":"There&#39;s no cascading on the association, but the changes are most definitely being persisted.  I don&#39;t think it&#39;s via a cascade mechanism -- in fact the cascading concept doesn&#39;t even apply here.  This is pure path navigation in the object graph via SpEL with the changes to the graph persisted from the Session to the DB."},{"owner":{"account_id":1354796,"reputation":1589,"user_id":1293433,"display_name":"aux"},"score":0,"creation_date":1490089837,"post_id":42830785,"comment_id":72944475,"body_markdown":"Good to know, thank you. I would suggest adding an issue to spring-data-rest project. That would be also great if you can share your own patch impl, if applicable. Btw, we ended with disabling json-patch and using only json-merge in our project.","body":"Good to know, thank you. I would suggest adding an issue to spring-data-rest project. That would be also great if you can share your own patch impl, if applicable. Btw, we ended with disabling json-patch and using only json-merge in our project."}],"tags":[],"owner":{"account_id":1354796,"reputation":1589,"user_id":1293433,"display_name":"aux"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1489736620,"creation_date":1489658587,"answer_id":42830785,"question_id":42590027,"body_markdown":"Seems that current implementation on spring-data-rest converts paths to SpEL to apply values directly on beans. See [PatchOperation (v2.5.x)][1].\r\n\r\nConsider these options:\r\n\r\n* Instead of json-patch use **json-merge** PATCH request to send partial updates (with &quot;application/json&quot; or &quot;application/merge-patch+json&quot; content type). This will respect `@JsonIgnore` and other Jackson annotations and also treat associations differently.\r\n* You can **disable &quot;json-patch+json&quot;** completely, for example by adding a security filter\r\n* You can always create your custom json-patch implementation, if you still need it\r\n* Use application-level joining not relying on JPA, i.e. only exposing IDs of the linked entities and providing custom links in your `ResourceProcessor`.\r\n\r\nAdditionally, if you&#39;re using JPA and `Comment.article` is annotated with `@ManyToOne` make sure that there&#39;s no cascading on association. Even if the article object is modified with patch it won&#39;t be saved together with the comment.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-rest/blob/f92169d7fb66026bbb6615bcbc30375002f171d1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java#L146","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>Seems that current implementation on spring-data-rest converts paths to SpEL to apply values directly on beans. See <a href=\"https://github.com/spring-projects/spring-data-rest/blob/f92169d7fb66026bbb6615bcbc30375002f171d1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java#L146\" rel=\"noreferrer\">PatchOperation (v2.5.x)</a>.</p>\n\n<p>Consider these options:</p>\n\n<ul>\n<li>Instead of json-patch use <strong>json-merge</strong> PATCH request to send partial updates (with \"application/json\" or \"application/merge-patch+json\" content type). This will respect <code>@JsonIgnore</code> and other Jackson annotations and also treat associations differently.</li>\n<li>You can <strong>disable \"json-patch+json\"</strong> completely, for example by adding a security filter</li>\n<li>You can always create your custom json-patch implementation, if you still need it</li>\n<li>Use application-level joining not relying on JPA, i.e. only exposing IDs of the linked entities and providing custom links in your <code>ResourceProcessor</code>.</li>\n</ul>\n\n<p>Additionally, if you're using JPA and <code>Comment.article</code> is annotated with <code>@ManyToOne</code> make sure that there's no cascading on association. Even if the article object is modified with patch it won't be saved together with the comment.</p>\n"},{"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676989193,"creation_date":1676988181,"answer_id":75521574,"question_id":42590027,"body_markdown":"There&#39;s been a recent fix in Spring Data Rest: \r\n\r\nhttps://github.com/spring-projects/spring-data-rest/issues/2177\r\n\r\nThe commit that resolves this issue is:\r\n\r\nhttps://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3\r\n\r\nFrom a quick read this seems to be checking that when applying a JSON patch to an entity a check is done with Jackson that the path should be accessible (read/write).\r\n\r\nThis should prevent users from being able to specify paths in the JSON patch that aren&#39;t normally exposed through POST/GET requests that are mapped directly onto entities through Jackson. I think that if you had marked the article as readable from the comment and the title attribute as writeable then the new code should allow it. Or that&#39;s I think what `org.springframework.data.rest.webmvc.json.patch.JsonPointerMapping#verify` is trying to do.\r\n\r\nSo if you marked the article on the comment as not being readable through Jackson (`@JsonIgnore` on the getter) then JSON patch shouldn&#39;t allow the title of the article to be set through a comment. The association would still exist, just not be exposed through JSON serialization, I&#39;m not sure if this would cause problems for your application.\r\n\r\nThe change is released in Spring Data Rest 4.0.0 which is part of Spring Data 2022.0.1 which is in Spring Boot 3.0.2.\r\n\r\nhttps://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0\r\nhttps://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1\r\nhttps://github.com/spring-projects/spring-boot/releases/tag/v3.0.2\r\n\r\n\r\n","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>There's been a recent fix in Spring Data Rest:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/issues/2177\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/issues/2177</a></p>\n<p>The commit that resolves this issue is:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3</a></p>\n<p>From a quick read this seems to be checking that when applying a JSON patch to an entity a check is done with Jackson that the path should be accessible (read/write).</p>\n<p>This should prevent users from being able to specify paths in the JSON patch that aren't normally exposed through POST/GET requests that are mapped directly onto entities through Jackson. I think that if you had marked the article as readable from the comment and the title attribute as writeable then the new code should allow it. Or that's I think what <code>org.springframework.data.rest.webmvc.json.patch.JsonPointerMapping#verify</code> is trying to do.</p>\n<p>So if you marked the article on the comment as not being readable through Jackson (<code>@JsonIgnore</code> on the getter) then JSON patch shouldn't allow the title of the article to be set through a comment. The association would still exist, just not be exposed through JSON serialization, I'm not sure if this would cause problems for your application.</p>\n<p>The change is released in Spring Data Rest 4.0.0 which is part of Spring Data 2022.0.1 which is in Spring Boot 3.0.2.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0</a>\n<a href=\"https://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1</a>\n<a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v3.0.2\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/releases/tag/v3.0.2</a></p>\n"}],"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":42830785,"answer_count":2,"score":13,"last_activity_date":1676989193,"creation_date":1488583068,"question_id":42590027,"body_markdown":"I&#39;m using a pretty vanilla `spring-boot-starter-data-rest` setup and enabled the `PATCH` method.  All is working, but I have a security concern and wonder what&#39;s the recommended way of mitigating it.\r\n\r\nThe problem is that `PATCH` `path`s allow reachable entities to be updated from a different endpoint.  So, suppose I have a `comments` endpoint and an `article` endpoint.  Each comment has a to-one association with its article.  A user that has permission to edit a comment could then do something like this:\r\n\r\n\r\n    PATCH http://some.domain.foo/api/comments/1234\r\n    Content-Type: application/json-patch+json\r\n    \r\n    [\r\n        { &quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/article/title&quot;, &quot;value&quot;: &quot;foobar2&quot; }\r\n    ]\r\n\r\nand thereby change the title of the article !!\r\n\r\nClearly this ain&#39;t good.  \r\n\r\nIn this case, for other parts of the API the association to the &quot;article&quot; needs to be traversable.  But it must be read-only.\r\n\r\nSo... how do I accomplish this in Spring?  \r\n\r\nIntercept the request?\r\nImplement a handler method?\r\nWrite my own Controller from scratch ?\r\n\r\nThanks!","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>I'm using a pretty vanilla <code>spring-boot-starter-data-rest</code> setup and enabled the <code>PATCH</code> method.  All is working, but I have a security concern and wonder what's the recommended way of mitigating it.</p>\n\n<p>The problem is that <code>PATCH</code> <code>path</code>s allow reachable entities to be updated from a different endpoint.  So, suppose I have a <code>comments</code> endpoint and an <code>article</code> endpoint.  Each comment has a to-one association with its article.  A user that has permission to edit a comment could then do something like this:</p>\n\n<pre><code>PATCH http://some.domain.foo/api/comments/1234\nContent-Type: application/json-patch+json\n\n[\n    { \"op\": \"replace\", \"path\": \"/article/title\", \"value\": \"foobar2\" }\n]\n</code></pre>\n\n<p>and thereby change the title of the article !!</p>\n\n<p>Clearly this ain't good.  </p>\n\n<p>In this case, for other parts of the API the association to the \"article\" needs to be traversable.  But it must be read-only.</p>\n\n<p>So... how do I accomplish this in Spring?  </p>\n\n<p>Intercept the request?\nImplement a handler method?\nWrite my own Controller from scratch ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","kubernetes","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988354,"post_id":75518522,"comment_id":133244844,"body_markdown":"can you share the commands you used for raising jenkins and its full (relevant) `values.yaml`","body":"can you share the commands you used for raising jenkins and its full (relevant) <code>values.yaml</code>"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988413,"post_id":75518522,"comment_id":133244867,"body_markdown":"`changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.` this is not needed by default","body":"<code>changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.</code> this is not needed by default"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988540,"post_id":75518522,"comment_id":133244919,"body_markdown":"you see a working example of Jenkins on Kubernetes at my blog where I wrote about how to [Install Jenkins helm chart](https://rokpoto.com/jenkins-docker-in-docker-agent/#install-jenkins-helm-chart)","body":"you see a working example of Jenkins on Kubernetes at my blog where I wrote about how to <a href=\"https://rokpoto.com/jenkins-docker-in-docker-agent/#install-jenkins-helm-chart\" rel=\"nofollow noreferrer\">Install Jenkins helm chart</a>"},{"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"score":0,"creation_date":1676989016,"post_id":75518522,"comment_id":133245108,"body_markdown":"I&#39;ve reverted the websocket and used fixed port of 50000.\nNow I&#39;ve used POD_LABEL and podTemplate inside the job and it works!!!\nBut how can I use my podTemplate settings without inserting inside each job? it seems like it ignores my settings","body":"I&#39;ve reverted the websocket and used fixed port of 50000. Now I&#39;ve used POD_LABEL and podTemplate inside the job and it works!!! But how can I use my podTemplate settings without inserting inside each job? it seems like it ignores my settings"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":0,"creation_date":1678224496,"post_id":75518522,"comment_id":133491295,"body_markdown":"you need to specify agents along with `customJenkinsLabels` in `additionalAgents: ` in charts `values.yaml` . Reference those labels inside the jobs.","body":"you need to specify agents along with <code>customJenkinsLabels</code> in <code>additionalAgents: </code> in charts <code>values.yaml</code> . Reference those labels inside the jobs."}],"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676988958,"creation_date":1676971667,"question_id":75518522,"body_markdown":"I&#39;m using Jenkins as a code and using Kubernetes plugin.\r\nAfter running a job the job hangs with \r\n &#39;XXXX&#39; is offline.\r\n\r\n\r\n```Still waiting to schedule task```\r\n\r\n```jenkins-eks-agent-37rtx is offline```\r\n\r\n    node (&quot;jenkins-eks-agent&quot;) {\r\n    echo &quot;hello&quot;\r\n    println &quot;hello hello&quot;\r\n}\r\n\r\nUPDATE -\r\nWhen I use this config it WORKS! but it seems that it doesn&#39;t use my image or any containers I use in my settings or my code, it only use the template I write in the job.....\r\n```\r\npodTemplate(name: &#39;eks-jenkins-slave&#39;) \r\n    node(POD_LABEL) {\r\n        stage(&#39;Run shell&#39;) {\r\n                println &quot;hi&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnyone has any idea what could cause it? I have the most updated kubernetes plugin. I&#39;ve tried changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.\r\n\r\n\r\nMaster Jenkins Logs -\r\n```\r\n2023-02-21 09:18:13.619+0000 [id=4049]\tWARNING\thudson.security.csrf.CrumbFilter#doFilter: Found invalid crumb 297d7ff4cb091172b92679b0e14a76065f938e102d796d1f217f25dfdeb8450e. If you are calling this URL with a script, please use the API Token instead. More information: https://www.jenkins.io/redirect/crumb-cannot-be-used-for-script\r\n2023-02-21 09:18:13.619+0000 [id=4049]\tWARNING\thudson.security.csrf.CrumbFilter#doFilter: No valid crumb was included in request for /job/test/buildHistory/ajax by eilon. Returning 403.\r\n2023-02-21 09:18:18.556+0000 [id=5410]\tINFO\thudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\r\n2023-02-21 09:18:18.556+0000 [id=5410]\tINFO\thudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 0 ms\r\n2023-02-21 09:18:56.823+0000 [id=5415]\tWARNING\to.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\r\n2023-02-21 09:19:49.528+0000 [id=5472]\tINFO\thudson.slaves.NodeProvisioner#update: jenkins-eks-agent-9mb5k provisioning successfully completed. We have now 2 computer(s)\r\n2023-02-21 09:19:49.631+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-9mb5k\r\n2023-02-21 09:20:56.822+0000 [id=5493]\tWARNING\to.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\r\n2023-02-21 09:21:29.633+0000 [id=5473]\tWARNING\to.c.j.p.k.KubernetesLauncher#launch: Error in provisioning; agent=KubernetesSlave name: jenkins-eks-agent-9mb5k, template=PodTemplate{id=&#39;05395ad55cc56972ee3e4c69c2731189bc03a75c0b51e637dc7f868fa85d07e8&#39;, name=&#39;jenkins-eks-agent&#39;, namespace=&#39;default&#39;, slaveConnectTimeout=100, label=&#39;jenkins-non-prod-eks-global-slave&#39;, serviceAccount=&#39;default&#39;, nodeUsageMode=NORMAL, podRetention=&#39;Never&#39;, containers=[ContainerTemplate{name=&#39;jnlp&#39;, image=&#39;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave:ecs-global-node_master_57&#39;, workingDir=&#39;/home/jenkins/agent&#39;, args=&#39;${computer.jnlpmac} ${computer.name}&#39;, ttyEnabled=true, resourceRequestCpu=&#39;512m&#39;, resourceRequestMemory=&#39;512Mi&#39;, resourceLimitCpu=&#39;512m&#39;, resourceLimitMemory=&#39;512Mi&#39;, envVars=[KeyValueEnvVar [getValue()=http://jenkins-non-prod.default.svc.cluster.local:8080/, getKey()=JENKINS_URL]]}]}\r\nio.fabric8.kubernetes.client.KubernetesClientTimeoutException: Timed out waiting for [100000] milliseconds for [Pod] with name:[jenkins-eks-agent-9mb5k] in namespace [default].\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilCondition(BaseOperation.java:896)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:878)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:93)\r\n\tat org.csanchez.jenkins.plugins.kubernetes.KubernetesLauncher.launch(KubernetesLauncher.java:171)\r\n\tat hudson.slaves.SlaveComputer.lambda$_connect$0(SlaveComputer.java:298)\r\n\tat jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:48)\r\n\tat jenkins.security.ImpersonatingExecutorService$2.call(ImpersonatingExecutorService.java:82)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n2023-02-21 09:21:29.633+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#_terminate: Terminating Kubernetes instance for agent jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:29.704+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent default/jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:29.704+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:39.527+0000 [id=5473]\tINFO\thudson.slaves.NodeProvisioner#update: jenkins-eks-agent-5dwhp provisioning successfully completed. We have now 2 computer(s)\r\n2023-02-21 09:21:39.561+0000 [id=5498]\tINFO\to.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-5dwhp\r\n```\r\n\r\nSlave Pod Logs -\r\n```\r\nINFO: Agent discovery successful\r\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\r\n  Agent port:    50000\r\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Handshaking\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Trying protocol: JNLP4-connect\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connected\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by hudson.remoting.RemoteClassLoader (file:/usr/share/jenkins/slave.jar) to method java.lang.ClassLoader.getClassLoadingLock(java.lang.String)\r\nWARNING: Please consider reporting this to the maintainers of hudson.remoting.RemoteClassLoader\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\n\r\n\r\n```INFO: Agent discovery successful\r\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\r\n  Agent port:    50000\r\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Handshaking\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Trying protocol: JNLP4-connect\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connected\r\nWARNING: An illegal reflective access operation has occurred\r\n\r\n\r\n```\r\nMy agent values -\r\n\r\n```   values:\r\n      agent:\r\n        enabled: true\r\n        kubernetesConnectTimeout: 5\r\n        kubernetesReadTimeout: 15\r\n        maxRequestsPerHostStr: &quot;32&quot;\r\n        namespace: default\r\n        image: &quot;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave&quot;\r\n        tag: &quot;ecs-global-node_master_57&quot;\r\n        workingDir: &quot;/home/jenkins/agent&quot;\r\n        nodeUsageMode: &quot;NORMAL&quot;\r\n        # name of the secret to be used for image pulling\r\n        imagePullSecretName:\r\n        componentName: &quot;eks-global-slave&quot;\r\n        websocket: false\r\n        privileged: false\r\n        runAsUser:\r\n        runAsGroup:\r\n        resources:\r\n          requests:\r\n            cpu: &quot;512m&quot;\r\n            memory: &quot;512Mi&quot;\r\n          limits:\r\n            cpu: &quot;512m&quot;\r\n            memory: &quot;512Mi&quot;\r\n        podRetention: &quot;Never&quot;\r\n        volumes: [ ]\r\n        workspaceVolume: { }\r\n        envVars: [ ]\r\n        # - name: PATH\r\n        #   value: /usr/local/bin\r\n        command:\r\n        args: &quot;${computer.jnlpmac} ${computer.name}&quot;\r\n        # Side container name\r\n        sideContainerName: &quot;jnlp&quot;\r\n        # Doesn&#39;t allocate pseudo TTY by default\r\n        TTYEnabled: true\r\n        # Max number of spawned agent\r\n        containerCap: 10\r\n        # Pod name\r\n        podName: &quot;jenkins-eks-agent&quot;\r\n        # Allows the Pod to remain active for reuse until the configured number of\r\n        # minutes has passed since the last step was executed on it.\r\n        idleMinutes: 0\r\n        # Timeout in seconds for an agent to be online\r\n        connectTimeout: 100\r\n      serviceAccount:\r\n        annotations: {}\r\n      controller:\r\n        additionalExistingSecrets: []\r\n        JCasC:\r\n          securityRealm: |\r\n            local:\r\n                  allowsSignup: false\r\n                  users:\r\n                    - id: &quot;eilon&quot;\r\n                      password: &quot;Aa123456&quot;\r\n#          securityRealm: |\r\n#            saml:\r\n#              binding: &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;\r\n#              displayNameAttributeName: &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;\r\n#              groupsAttributeName: &quot;http://schemas.xmlsoap.org/claims/Group&quot;\r\n#              idpMetadataConfiguration:\r\n#                period: 0\r\n#                url: &quot;https://ironsrc.onelogin.com/saml/metadata/34349e62-799f-4378-9d2a-03b870cbd965&quot;\r\n#              maximumAuthenticationLifetime: 86400\r\n#              usernameCaseConversion: &quot;none&quot;\r\n#          authorizationStrategy: |-\r\n#            roleBased:\r\n#              forceExistingJobs: true\r\n          configScripts:\r\n            credentials: |\r\n              credentials:\r\n                system:\r\n                  domainCredentials:\r\n                    - credentials:\r\n                        - string:\r\n                            scope: GLOBAL\r\n                            id: slack-token\r\n                            description: &quot;Slack access token&quot;\r\n                            secret: &quot;${jenkins-slack-token-non-prod-value}&quot;\r\n                        - usernamePassword:\r\n                            id: &quot;github-credentials&quot;\r\n                            password: &quot;${jenkins-github-token-non-prod-value}&quot;\r\n                            scope: GLOBAL\r\n                            username: &quot;ai-avengers&quot;\r\n            plugin-config: |\r\n              jenkins:\r\n                disabledAdministrativeMonitors:\r\n                  - &quot;hudson.model.UpdateCenter$CoreUpdateMonitor&quot;\r\n                  - &quot;jenkins.diagnostics.ControllerExecutorsNoAgents&quot;\r\n              security:\r\n                updateSiteWarningsConfiguration:\r\n                  ignoredWarnings:\r\n                    - &quot;core-2_263&quot;\r\n                    - &quot;SECURITY-2617-extended-choice-parameter&quot;\r\n                    - &quot;SECURITY-2170&quot;\r\n                    - &quot;SECURITY-2796&quot;\r\n                    - &quot;SECURITY-2169&quot;\r\n                    - &quot;SECURITY-2332&quot;\r\n                    - &quot;SECURITY-2232&quot;\r\n                    - &quot;SECURITY-1351&quot;\r\n                    - &quot;SECURITY-1350&quot;\r\n                    - &quot;SECURITY-2888&quot;\r\n              unclassified:\r\n                slackNotifier:\r\n                  teamDomain: &quot;superops&quot;\r\n                  baseUrl: &quot;https://superops.slack.com/services/hooks/jenkins-ci/&quot;\r\n                  tokenCredentialId: &quot;slack-token&quot;\r\n                globalLibraries:\r\n                  libraries:\r\n                    - defaultVersion: &quot;master&quot;\r\n                      allowVersionOverride: true\r\n                      name: &quot;eilon-jenkins-library&quot;\r\n                      implicit: true\r\n                      retriever:\r\n                        modernSCM:\r\n                          scm:\r\n                            git:\r\n                              credentialsId: &quot;github-credentials&quot;\r\n                              id: &quot;shared-library-creds&quot;\r\n                              remote: &quot;https://github.com/eilon-eilon/eilon-jenkins-library.git&quot;\r\n                              traits:\r\n                                - &quot;gitBranchDiscovery&quot;\r\n                                - &quot;cleanBeforeCheckoutTrait&quot;\r\n                                - &quot;ignoreOnPushNotificationTrait&quot;\r\n        additionalPlugins:\r\n        - junit:1119.1121.vc43d0fc45561\r\n        - prometheus:2.0.11\r\n        - saml:4.352.vb_722786ea_79d\r\n        - role-strategy:546.ve16648865996\r\n        - blueocean-web:1.25.5\r\n        - github-branch-source:1677.v731f745ea_0cf\r\n        - git-changelog:3.23\r\n        - scriptler:3.5\r\n        - sshd:3.249.v2dc2ea_416e33\r\n        - rich-text-publisher-plugin:1.4\r\n        - matrix-project:785.v06b_7f47b_c631\r\n        - build-failure-analyzer:2.3.0\r\n        - testng-plugin:555.va0d5f66521e3\r\n        - allure-jenkins-plugin:2.30.2\r\n        - timestamper:1.18\r\n        - ws-cleanup:0.42\r\n        - build-timeout:1.21\r\n        - slack:616.v03b_1e98d13dd\r\n        - email-ext:2.91\r\n        - docker-commons:1.19\r\n        - docker-workflow:521.v1a_a_dd2073b_2e\r\n        - rundeck:3.6.11\r\n        - parameter-separator:1.3\r\n        - extended-choice-parameter:346.vd87693c5a_86c\r\n        - uno-choice:2.6.3\r\n        adminPassword: &quot;&quot;\r\n        ingress:\r\n          enabled: true\r\n          hostName: jenkins.non-prod.us-west-2.int.isappcloud.com\r\n          ingressClassName: nginx-int\r\n        installPlugins:\r\n        - kubernetes:3883.v4d70a_a_a_df034\r\n        - workflow-aggregator:590.v6a_d052e5a_a_b_5\r\n        - git:5.0.0\r\n        - configuration-as-code:1569.vb_72405b_80249\r\n        jenkinsUrlProtocol: https\r\n        prometheus:\r\n          enabled: true\r\n        resources:\r\n          limits:\r\n            cpu: &quot;4&quot;\r\n            memory: 8Gi\r\n          requests:\r\n            cpu: &quot;2&quot;\r\n            memory: 4Gi\r\n        sidecars:\r\n          configAutoReload:\r\n            resources:\r\n              requests:\r\n                cpu: 128m\r\n                memory: 256Mi\r\n        statefulSetAnnotations:\r\n          pulumi.com/patchForce: &quot;true&quot;\r\n          Name: eks-non-prod-us-west-2-jenkins\r\n          department: eilon\r\n          division: enterprise\r\n          environment: non-prod\r\n          owner: devops\r\n          project: eks-non-prod-us-west-2-jenkins\r\n          team: infra\r\n        tag: 2.362-jdk11\r\n    version: 4.1.13\r\n```","title":"Jenkins - &#39;XXXX&#39; is offline using Kubernetes Plugin","body":"<p>I'm using Jenkins as a code and using Kubernetes plugin.\nAfter running a job the job hangs with\n'XXXX' is offline.</p>\n<p><code>Still waiting to schedule task</code></p>\n<p><code>jenkins-eks-agent-37rtx is offline</code></p>\n<pre><code>node (&quot;jenkins-eks-agent&quot;) {\necho &quot;hello&quot;\nprintln &quot;hello hello&quot;\n</code></pre>\n<p>}</p>\n<p>UPDATE -\nWhen I use this config it WORKS! but it seems that it doesn't use my image or any containers I use in my settings or my code, it only use the template I write in the job.....</p>\n<pre><code>podTemplate(name: 'eks-jenkins-slave') \n    node(POD_LABEL) {\n        stage('Run shell') {\n                println &quot;hi&quot;\n        }\n    }\n}\n</code></pre>\n<p>Anyone has any idea what could cause it? I have the most updated kubernetes plugin. I've tried changing to 'WebSocket' connection and change the port to Random for the agent instead of 50000.</p>\n<p>Master Jenkins Logs -</p>\n<pre><code>2023-02-21 09:18:13.619+0000 [id=4049]  WARNING hudson.security.csrf.CrumbFilter#doFilter: Found invalid crumb 297d7ff4cb091172b92679b0e14a76065f938e102d796d1f217f25dfdeb8450e. If you are calling this URL with a script, please use the API Token instead. More information: https://www.jenkins.io/redirect/crumb-cannot-be-used-for-script\n2023-02-21 09:18:13.619+0000 [id=4049]  WARNING hudson.security.csrf.CrumbFilter#doFilter: No valid crumb was included in request for /job/test/buildHistory/ajax by eilon. Returning 403.\n2023-02-21 09:18:18.556+0000 [id=5410]  INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\n2023-02-21 09:18:18.556+0000 [id=5410]  INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 0 ms\n2023-02-21 09:18:56.823+0000 [id=5415]  WARNING o.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\n2023-02-21 09:19:49.528+0000 [id=5472]  INFO    hudson.slaves.NodeProvisioner#update: jenkins-eks-agent-9mb5k provisioning successfully completed. We have now 2 computer(s)\n2023-02-21 09:19:49.631+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-9mb5k\n2023-02-21 09:20:56.822+0000 [id=5493]  WARNING o.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\n2023-02-21 09:21:29.633+0000 [id=5473]  WARNING o.c.j.p.k.KubernetesLauncher#launch: Error in provisioning; agent=KubernetesSlave name: jenkins-eks-agent-9mb5k, template=PodTemplate{id='05395ad55cc56972ee3e4c69c2731189bc03a75c0b51e637dc7f868fa85d07e8', name='jenkins-eks-agent', namespace='default', slaveConnectTimeout=100, label='jenkins-non-prod-eks-global-slave', serviceAccount='default', nodeUsageMode=NORMAL, podRetention='Never', containers=[ContainerTemplate{name='jnlp', image='805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave:ecs-global-node_master_57', workingDir='/home/jenkins/agent', args='${computer.jnlpmac} ${computer.name}', ttyEnabled=true, resourceRequestCpu='512m', resourceRequestMemory='512Mi', resourceLimitCpu='512m', resourceLimitMemory='512Mi', envVars=[KeyValueEnvVar [getValue()=http://jenkins-non-prod.default.svc.cluster.local:8080/, getKey()=JENKINS_URL]]}]}\nio.fabric8.kubernetes.client.KubernetesClientTimeoutException: Timed out waiting for [100000] milliseconds for [Pod] with name:[jenkins-eks-agent-9mb5k] in namespace [default].\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilCondition(BaseOperation.java:896)\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:878)\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:93)\n    at org.csanchez.jenkins.plugins.kubernetes.KubernetesLauncher.launch(KubernetesLauncher.java:171)\n    at hudson.slaves.SlaveComputer.lambda$_connect$0(SlaveComputer.java:298)\n    at jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:48)\n    at jenkins.security.ImpersonatingExecutorService$2.call(ImpersonatingExecutorService.java:82)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n2023-02-21 09:21:29.633+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#_terminate: Terminating Kubernetes instance for agent jenkins-eks-agent-9mb5k\n2023-02-21 09:21:29.704+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent default/jenkins-eks-agent-9mb5k\n2023-02-21 09:21:29.704+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer jenkins-eks-agent-9mb5k\n2023-02-21 09:21:39.527+0000 [id=5473]  INFO    hudson.slaves.NodeProvisioner#update: jenkins-eks-agent-5dwhp provisioning successfully completed. We have now 2 computer(s)\n2023-02-21 09:21:39.561+0000 [id=5498]  INFO    o.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-5dwhp\n</code></pre>\n<p>Slave Pod Logs -</p>\n<pre><code>INFO: Agent discovery successful\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\n  Agent port:    50000\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Handshaking\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Trying protocol: JNLP4-connect\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connected\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by hudson.remoting.RemoteClassLoader (file:/usr/share/jenkins/slave.jar) to method java.lang.ClassLoader.getClassLoadingLock(java.lang.String)\nWARNING: Please consider reporting this to the maintainers of hudson.remoting.RemoteClassLoader\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<pre><code>  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\n  Agent port:    50000\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Handshaking\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Trying protocol: JNLP4-connect\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connected\nWARNING: An illegal reflective access operation has occurred\n\n\n</code></pre>\n<p>My agent values -</p>\n<pre><code>      agent:\n        enabled: true\n        kubernetesConnectTimeout: 5\n        kubernetesReadTimeout: 15\n        maxRequestsPerHostStr: &quot;32&quot;\n        namespace: default\n        image: &quot;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave&quot;\n        tag: &quot;ecs-global-node_master_57&quot;\n        workingDir: &quot;/home/jenkins/agent&quot;\n        nodeUsageMode: &quot;NORMAL&quot;\n        # name of the secret to be used for image pulling\n        imagePullSecretName:\n        componentName: &quot;eks-global-slave&quot;\n        websocket: false\n        privileged: false\n        runAsUser:\n        runAsGroup:\n        resources:\n          requests:\n            cpu: &quot;512m&quot;\n            memory: &quot;512Mi&quot;\n          limits:\n            cpu: &quot;512m&quot;\n            memory: &quot;512Mi&quot;\n        podRetention: &quot;Never&quot;\n        volumes: [ ]\n        workspaceVolume: { }\n        envVars: [ ]\n        # - name: PATH\n        #   value: /usr/local/bin\n        command:\n        args: &quot;${computer.jnlpmac} ${computer.name}&quot;\n        # Side container name\n        sideContainerName: &quot;jnlp&quot;\n        # Doesn't allocate pseudo TTY by default\n        TTYEnabled: true\n        # Max number of spawned agent\n        containerCap: 10\n        # Pod name\n        podName: &quot;jenkins-eks-agent&quot;\n        # Allows the Pod to remain active for reuse until the configured number of\n        # minutes has passed since the last step was executed on it.\n        idleMinutes: 0\n        # Timeout in seconds for an agent to be online\n        connectTimeout: 100\n      serviceAccount:\n        annotations: {}\n      controller:\n        additionalExistingSecrets: []\n        JCasC:\n          securityRealm: |\n            local:\n                  allowsSignup: false\n                  users:\n                    - id: &quot;eilon&quot;\n                      password: &quot;Aa123456&quot;\n#          securityRealm: |\n#            saml:\n#              binding: &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;\n#              displayNameAttributeName: &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;\n#              groupsAttributeName: &quot;http://schemas.xmlsoap.org/claims/Group&quot;\n#              idpMetadataConfiguration:\n#                period: 0\n#                url: &quot;https://ironsrc.onelogin.com/saml/metadata/34349e62-799f-4378-9d2a-03b870cbd965&quot;\n#              maximumAuthenticationLifetime: 86400\n#              usernameCaseConversion: &quot;none&quot;\n#          authorizationStrategy: |-\n#            roleBased:\n#              forceExistingJobs: true\n          configScripts:\n            credentials: |\n              credentials:\n                system:\n                  domainCredentials:\n                    - credentials:\n                        - string:\n                            scope: GLOBAL\n                            id: slack-token\n                            description: &quot;Slack access token&quot;\n                            secret: &quot;${jenkins-slack-token-non-prod-value}&quot;\n                        - usernamePassword:\n                            id: &quot;github-credentials&quot;\n                            password: &quot;${jenkins-github-token-non-prod-value}&quot;\n                            scope: GLOBAL\n                            username: &quot;ai-avengers&quot;\n            plugin-config: |\n              jenkins:\n                disabledAdministrativeMonitors:\n                  - &quot;hudson.model.UpdateCenter$CoreUpdateMonitor&quot;\n                  - &quot;jenkins.diagnostics.ControllerExecutorsNoAgents&quot;\n              security:\n                updateSiteWarningsConfiguration:\n                  ignoredWarnings:\n                    - &quot;core-2_263&quot;\n                    - &quot;SECURITY-2617-extended-choice-parameter&quot;\n                    - &quot;SECURITY-2170&quot;\n                    - &quot;SECURITY-2796&quot;\n                    - &quot;SECURITY-2169&quot;\n                    - &quot;SECURITY-2332&quot;\n                    - &quot;SECURITY-2232&quot;\n                    - &quot;SECURITY-1351&quot;\n                    - &quot;SECURITY-1350&quot;\n                    - &quot;SECURITY-2888&quot;\n              unclassified:\n                slackNotifier:\n                  teamDomain: &quot;superops&quot;\n                  baseUrl: &quot;https://superops.slack.com/services/hooks/jenkins-ci/&quot;\n                  tokenCredentialId: &quot;slack-token&quot;\n                globalLibraries:\n                  libraries:\n                    - defaultVersion: &quot;master&quot;\n                      allowVersionOverride: true\n                      name: &quot;eilon-jenkins-library&quot;\n                      implicit: true\n                      retriever:\n                        modernSCM:\n                          scm:\n                            git:\n                              credentialsId: &quot;github-credentials&quot;\n                              id: &quot;shared-library-creds&quot;\n                              remote: &quot;https://github.com/eilon-eilon/eilon-jenkins-library.git&quot;\n                              traits:\n                                - &quot;gitBranchDiscovery&quot;\n                                - &quot;cleanBeforeCheckoutTrait&quot;\n                                - &quot;ignoreOnPushNotificationTrait&quot;\n        additionalPlugins:\n        - junit:1119.1121.vc43d0fc45561\n        - prometheus:2.0.11\n        - saml:4.352.vb_722786ea_79d\n        - role-strategy:546.ve16648865996\n        - blueocean-web:1.25.5\n        - github-branch-source:1677.v731f745ea_0cf\n        - git-changelog:3.23\n        - scriptler:3.5\n        - sshd:3.249.v2dc2ea_416e33\n        - rich-text-publisher-plugin:1.4\n        - matrix-project:785.v06b_7f47b_c631\n        - build-failure-analyzer:2.3.0\n        - testng-plugin:555.va0d5f66521e3\n        - allure-jenkins-plugin:2.30.2\n        - timestamper:1.18\n        - ws-cleanup:0.42\n        - build-timeout:1.21\n        - slack:616.v03b_1e98d13dd\n        - email-ext:2.91\n        - docker-commons:1.19\n        - docker-workflow:521.v1a_a_dd2073b_2e\n        - rundeck:3.6.11\n        - parameter-separator:1.3\n        - extended-choice-parameter:346.vd87693c5a_86c\n        - uno-choice:2.6.3\n        adminPassword: &quot;&quot;\n        ingress:\n          enabled: true\n          hostName: jenkins.non-prod.us-west-2.int.isappcloud.com\n          ingressClassName: nginx-int\n        installPlugins:\n        - kubernetes:3883.v4d70a_a_a_df034\n        - workflow-aggregator:590.v6a_d052e5a_a_b_5\n        - git:5.0.0\n        - configuration-as-code:1569.vb_72405b_80249\n        jenkinsUrlProtocol: https\n        prometheus:\n          enabled: true\n        resources:\n          limits:\n            cpu: &quot;4&quot;\n            memory: 8Gi\n          requests:\n            cpu: &quot;2&quot;\n            memory: 4Gi\n        sidecars:\n          configAutoReload:\n            resources:\n              requests:\n                cpu: 128m\n                memory: 256Mi\n        statefulSetAnnotations:\n          pulumi.com/patchForce: &quot;true&quot;\n          Name: eks-non-prod-us-west-2-jenkins\n          department: eilon\n          division: enterprise\n          environment: non-prod\n          owner: devops\n          project: eks-non-prod-us-west-2-jenkins\n          team: infra\n        tag: 2.362-jdk11\n    version: 4.1.13\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"score":0,"creation_date":1676880215,"post_id":75491353,"comment_id":133219317,"body_markdown":"It does a commit even though I am not doing anything with the database? Does that even make sense?","body":"It does a commit even though I am not doing anything with the database? Does that even make sense?"}],"tags":[],"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676697271,"creation_date":1676697271,"answer_id":75491353,"question_id":75484061,"body_markdown":"A commit is made after every chunk. The chunk size of Tasklet(non-chunk based) is always 1. That is reason why commit count is 1 for Tasklet(non-chunk based)","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>A commit is made after every chunk. The chunk size of Tasklet(non-chunk based) is always 1. That is reason why commit count is 1 for Tasklet(non-chunk based)</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676988876,"creation_date":1676988876,"answer_id":75521711,"question_id":75484061,"body_markdown":"Each call to `Tasklet#execute` is executed in a transaction driven by Spring Batch. This is explained in the documentation [here](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep). If the business processing inside the tasklet is not transactional, you can use a `ResourcelessTransactionManager` for that tasklet. But technically speaking, there will be a `ResourcelessTransaction` anyway, hence the commit count is at least equal to 1, which explains what you see in the corresponding step execution.\r\n\r\n&gt; I know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don&#39;t expect it to be included in the commit_count of a step, right?\r\n\r\nI don&#39;t know where you read that, but technically speaking there will be a transaction for each call to `Tasklet#execute`. The transaction manager is a mandatory property for a `TaskletStep`.\r\n\r\nThat said, there are other transactions driven by Spring Batch during the execution flow of the job to check/update meta-data in the job repository.\r\n\r\n","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>Each call to <code>Tasklet#execute</code> is executed in a transaction driven by Spring Batch. This is explained in the documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep\" rel=\"nofollow noreferrer\">here</a>. If the business processing inside the tasklet is not transactional, you can use a <code>ResourcelessTransactionManager</code> for that tasklet. But technically speaking, there will be a <code>ResourcelessTransaction</code> anyway, hence the commit count is at least equal to 1, which explains what you see in the corresponding step execution.</p>\n<blockquote>\n<p>I know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don't expect it to be included in the commit_count of a step, right?</p>\n</blockquote>\n<p>I don't know where you read that, but technically speaking there will be a transaction for each call to <code>Tasklet#execute</code>. The transaction manager is a mandatory property for a <code>TaskletStep</code>.</p>\n<p>That said, there are other transactions driven by Spring Batch during the execution flow of the job to check/update meta-data in the job repository.</p>\n"}],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676988876,"creation_date":1676635431,"question_id":75484061,"body_markdown":"I am currently trying to investigate the total number of transactions of my spring batch job. \r\n\r\nAs I can see, a `StepExecution` has a property `commit_count` that tells how many transactions were commited by the step.\r\n\r\nI have a job that consists of two steps:\r\n\r\n - Read a file and map the content to Java objects ( = should be non-transactional, right?)\r\n - This step uses a Tasklet, which is only called once. So only one transaction is going to be created for this according to my understanding. Basically, the step does some specific processing of the created objects and persists them to the database afterwards ( = should be transactional, right?)\r\n\r\nAfter the execution of my step I can see that both steps have a `commit_count` of 1. &lt;br&gt;\r\nBut I expected only the second step to have a `commit_count` of 1. The other one should have a `commit_count` of 0, right?\r\n&lt;br&gt;\r\nI know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don&#39;t expect it to be included in the `commit_count` of a step, right?\r\n\r\nIn order to see the total number of commited transactions I also have tried to configure `logging.level.org.springframework.transaction.interceptor: TRACE` but this just logs lots of the following log statements\r\n\r\n```\r\nCompleting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.update]\r\nGetting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext]\r\n```\r\n\r\nCompleting transaction sounds to me like a transaction has been commited. I am seeing lots of statements like this in the logs, so does this mean my batch job is creating lots of transactions? Actually I have expected the batch job metadata update would be enclosed in a single transaction..\r\n\r\nCan someone please explain this. Thanks in Advance!","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>I am currently trying to investigate the total number of transactions of my spring batch job.</p>\n<p>As I can see, a <code>StepExecution</code> has a property <code>commit_count</code> that tells how many transactions were commited by the step.</p>\n<p>I have a job that consists of two steps:</p>\n<ul>\n<li>Read a file and map the content to Java objects ( = should be non-transactional, right?)</li>\n<li>This step uses a Tasklet, which is only called once. So only one transaction is going to be created for this according to my understanding. Basically, the step does some specific processing of the created objects and persists them to the database afterwards ( = should be transactional, right?)</li>\n</ul>\n<p>After the execution of my step I can see that both steps have a <code>commit_count</code> of 1. <br>\nBut I expected only the second step to have a <code>commit_count</code> of 1. The other one should have a <code>commit_count</code> of 0, right?\n<br>\nI know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don't expect it to be included in the <code>commit_count</code> of a step, right?</p>\n<p>In order to see the total number of commited transactions I also have tried to configure <code>logging.level.org.springframework.transaction.interceptor: TRACE</code> but this just logs lots of the following log statements</p>\n<pre><code>Completing transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.update]\nGetting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext]\n</code></pre>\n<p>Completing transaction sounds to me like a transaction has been commited. I am seeing lots of statements like this in the logs, so does this mean my batch job is creating lots of transactions? Actually I have expected the batch job metadata update would be enclosed in a single transaction..</p>\n<p>Can someone please explain this. Thanks in Advance!</p>\n"},{"tags":["java","spring-boot","hashmap"],"owner":{"account_id":5675759,"reputation":39,"user_id":9185877,"display_name":"Ekatama Ilham Prayoga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676988875,"creation_date":1676988875,"question_id":75521710,"body_markdown":"i don&#39;t know if my title is understandable to others, but basically i just want to delete/select the latter result instead of the first one found.\r\nthis is my example code:\r\n\r\n    for(Integer s: new ConcurrentHashMap&lt;&gt;(data).keySet()){\r\n        String value = data.get(s).getResult();\r\n        for(Map.Entry&lt;Integer, Data&gt; ss : new ConcurrentHashMap&lt;&gt;(data).entrySet()){\r\n            if(s != ss.getKey()){\r\n                if(value.equals(ss.getValue().getResult())){\r\n                    data.remove(s); //what i&#39;m gonna do\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nwith that example i&#39;m getting some datas with same value, and i was going to delete one of them, and it&#39;s the latter. But it automatically deletes the first one found.","title":"how to remove the latter data of the same value on java of resultset","body":"<p>i don't know if my title is understandable to others, but basically i just want to delete/select the latter result instead of the first one found.\nthis is my example code:</p>\n<pre><code>for(Integer s: new ConcurrentHashMap&lt;&gt;(data).keySet()){\n    String value = data.get(s).getResult();\n    for(Map.Entry&lt;Integer, Data&gt; ss : new ConcurrentHashMap&lt;&gt;(data).entrySet()){\n        if(s != ss.getKey()){\n            if(value.equals(ss.getValue().getResult())){\n                data.remove(s); //what i'm gonna do\n            }\n        }\n    }\n}\n</code></pre>\n<p>with that example i'm getting some datas with same value, and i was going to delete one of them, and it's the latter. But it automatically deletes the first one found.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640921478,"post_id":70538227,"comment_id":124691826,"body_markdown":"https://github.com/mockito/mockito/issues/1604 try mockito-core 2.24.0","body":"<a href=\"https://github.com/mockito/mockito/issues/1604\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/1604</a> try mockito-core 2.24.0"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640974850,"post_id":70538227,"comment_id":124702765,"body_markdown":"Wow, that did get me past that error. But now I get: &quot;Mockito can only mock non-private &amp; non-final classes.&quot; Yet the class I&#39;m mocking is neither.","body":"Wow, that did get me past that error. But now I get: &quot;Mockito can only mock non-private &amp; non-final classes.&quot; Yet the class I&#39;m mocking is neither."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640978535,"post_id":70538227,"comment_id":124703486,"body_markdown":"Interestingly, I then found this answer to a question regarding the &quot;Mockito can only mock non-private &amp; non-final classes&quot;, which includes github that suggests switching to mockito-core-2.23.0. When I do that my mocking seems to work successfully.","body":"Interestingly, I then found this answer to a question regarding the &quot;Mockito can only mock non-private &amp; non-final classes&quot;, which includes github that suggests switching to mockito-core-2.23.0. When I do that my mocking seems to work successfully."}],"answers":[{"tags":[],"owner":{"account_id":330998,"reputation":534,"user_id":655418,"accept_rate":29,"display_name":"Nook"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1640924951,"creation_date":1640924951,"answer_id":70538994,"question_id":70538227,"body_markdown":"If you want to mock a method and test a method in the same class you have to use @Spy instead of @Mock. Then you should remove the @BeforeEach code block. Additionally you have to call the method you want to test.\r\n\r\nPlz share more code, thanks","title":"adding Mockito gives logging error when running a test","body":"<p>If you want to mock a method and test a method in the same class you have to use @Spy instead of @Mock. Then you should remove the @BeforeEach code block. Additionally you have to call the method you want to test.</p>\n<p>Plz share more code, thanks</p>\n"},{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676988868,"creation_date":1676988868,"answer_id":75521708,"question_id":70538227,"body_markdown":"For some reason, switching to mockito-core-2.23.0 seemed to resolve this for me. I took that approach based on advice given [here][1] for a different issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63640379/3368818","title":"adding Mockito gives logging error when running a test","body":"<p>For some reason, switching to mockito-core-2.23.0 seemed to resolve this for me. I took that approach based on advice given <a href=\"https://stackoverflow.com/a/63640379/3368818\">here</a> for a different issue.</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75521708,"answer_count":2,"score":3,"last_activity_date":1676988868,"creation_date":1640914221,"question_id":70538227,"body_markdown":"I&#39;m using JUnit 5 in my Spring project and would like to do some mocking using Mockito. So I&#39;ve I added a couple Mockito dependencies: mockito-core 2.21.0 and mockito-junit-jupiter 4.0.0.\r\n\r\nThen based on some guidance I found somewhere I added this to my very simple test class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nBut when I run the test I get this confounding error:\r\n\r\n    java.lang.NoSuchMethodError: org.mockito.internal.configuration.plugins.Plugins.\r\n        getMockitoLogger()Lorg/mockito/plugins/MockitoLogger;\r\n    ...\r\n\r\nBut I&#39;m not using the MockitoLogger class anywhere, or at least not explicitly. So what could cause this strangeness?","title":"adding Mockito gives logging error when running a test","body":"<p>I'm using JUnit 5 in my Spring project and would like to do some mocking using Mockito. So I've I added a couple Mockito dependencies: mockito-core 2.21.0 and mockito-junit-jupiter 4.0.0.</p>\n<p>Then based on some guidance I found somewhere I added this to my very simple test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>But when I run the test I get this confounding error:</p>\n<pre><code>java.lang.NoSuchMethodError: org.mockito.internal.configuration.plugins.Plugins.\n    getMockitoLogger()Lorg/mockito/plugins/MockitoLogger;\n...\n</code></pre>\n<p>But I'm not using the MockitoLogger class anywhere, or at least not explicitly. So what could cause this strangeness?</p>\n"},{"tags":["java","maven","jenkins","maven-plugin"],"comments":[{"owner":{"account_id":19166589,"reputation":486,"user_id":14001175,"display_name":"Atxulo"},"score":0,"creation_date":1676370916,"post_id":75401208,"comment_id":133119167,"body_markdown":"What are you trying to achieve? Why do you want to compile twice?","body":"What are you trying to achieve? Why do you want to compile twice?"},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676380942,"post_id":75401208,"comment_id":133122128,"body_markdown":"@Atxulo It&#39;s just an example. Instead of `compile` can be any other goal","body":"@Atxulo It&#39;s just an example. Instead of <code>compile</code> can be any other goal"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676664439,"post_id":75401208,"comment_id":133190198,"body_markdown":"First I would ask why do you use a post build action to call `compile` ? The build will run in the primary part ?","body":"First I would ask why do you use a post build action to call <code>compile</code> ? The build will run in the primary part ?"},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676988531,"post_id":75401208,"comment_id":133244916,"body_markdown":"@khmarbaise I&#39;ll try explain with abstract example. Imagine you run some code via Build and your build was aborted and you want to do something like send information about abort to database.\n\nFor this case I use the same repository and have two objects with scripts: `Main` and `BuildWasAborted`","body":"@khmarbaise I&#39;ll try explain with abstract example. Imagine you run some code via Build and your build was aborted and you want to do something like send information about abort to database.  For this case I use the same repository and have two objects with scripts: <code>Main</code> and <code>BuildWasAborted</code>"}],"answers":[{"comments":[{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676987712,"post_id":75473824,"comment_id":133244601,"body_markdown":"I appreciate your answer. And advice about Freestyle job type instead of Maven it&#39;s a really good point. Thanks!","body":"I appreciate your answer. And advice about Freestyle job type instead of Maven it&#39;s a really good point. Thanks!"},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676988618,"post_id":75473824,"comment_id":133244943,"body_markdown":"In the same time, it doesn&#39;t work :( \n\nFortunately I found the way how to resolve this problem - https://stackoverflow.com/a/75521594/7512201","body":"In the same time, it doesn&#39;t work :(   Fortunately I found the way how to resolve this problem - <a href=\"https://stackoverflow.com/a/75521594/7512201\">stackoverflow.com/a/75521594/7512201</a>"}],"tags":[],"owner":{"account_id":11017423,"reputation":1864,"user_id":8092868,"display_name":"Joep Weijers"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676558344,"creation_date":1676558344,"answer_id":75473824,"question_id":75401208,"body_markdown":"One configuration that can cause this, is if you have selected &quot;Use private Maven repository&quot; under the Advanced settings of the Build step:\r\n[![Showing the advanced settings of the Maven build step][1]][1]\r\n\r\nThe build step then makes use of this private repository and downloads all dependencies in there. \r\n\r\nYour post action executes Maven from the command line without all the extra configuration of the Jenkins Maven jobtype. So it uses the default Maven repository instead of the private one, and hence has to download all your dependencies again.\r\n\r\nOne solution can then be to figure out where the repository is (e.g. in your workspace as `.repository/`) and pass that to your Post-action Maven with `mvn compile -Dmaven.repo.local=.repository`.\r\n\r\nA better solution is to NOT use the Maven job type, but a Freestyle job instead, as recommended in [one of the 40 Jenkins tips][2]. The Maven Job type provides convenience, but also hides the complexity and that is exactly what is causing these issues, so consider switching.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmwFQ.png\r\n  [2]: https://www.youtube.com/watch?v=3dYM0XUrXHc&amp;t=657s","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>One configuration that can cause this, is if you have selected &quot;Use private Maven repository&quot; under the Advanced settings of the Build step:\n<a href=\"https://i.stack.imgur.com/OmwFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmwFQ.png\" alt=\"Showing the advanced settings of the Maven build step\" /></a></p>\n<p>The build step then makes use of this private repository and downloads all dependencies in there.</p>\n<p>Your post action executes Maven from the command line without all the extra configuration of the Jenkins Maven jobtype. So it uses the default Maven repository instead of the private one, and hence has to download all your dependencies again.</p>\n<p>One solution can then be to figure out where the repository is (e.g. in your workspace as <code>.repository/</code>) and pass that to your Post-action Maven with <code>mvn compile -Dmaven.repo.local=.repository</code>.</p>\n<p>A better solution is to NOT use the Maven job type, but a Freestyle job instead, as recommended in <a href=\"https://www.youtube.com/watch?v=3dYM0XUrXHc&amp;t=657s\" rel=\"nofollow noreferrer\">one of the 40 Jenkins tips</a>. The Maven Job type provides convenience, but also hides the complexity and that is exactly what is causing these issues, so consider switching.</p>\n"},{"tags":[],"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676988287,"creation_date":1676988287,"answer_id":75521594,"question_id":75401208,"body_markdown":"I found solution!\r\n\r\nAt first you need to know the path to your maven local repository and pass it into maven cli via param `maven.repo.local`:\r\n```bash\r\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\r\n```\r\n\r\nAnd then the most important thing. For avoid download dependencies again you have to delete `*.sha1` and `*.repositories` from your local maven repository. I don&#39;t why... but it how works Maven...\r\n\r\nIt&#39;s an example of full script:\r\n```bash\r\nfind /home/jenkins/maven-repositories/0 -type f \\( -iname &quot;*.repositories&quot; -o -iname &quot;*.sha1&quot; \\) -exec rm -f {} \\;\r\n\r\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\r\n```","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>I found solution!</p>\n<p>At first you need to know the path to your maven local repository and pass it into maven cli via param <code>maven.repo.local</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\n</code></pre>\n<p>And then the most important thing. For avoid download dependencies again you have to delete <code>*.sha1</code> and <code>*.repositories</code> from your local maven repository. I don't why... but it how works Maven...</p>\n<p>It's an example of full script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>find /home/jenkins/maven-repositories/0 -type f \\( -iname &quot;*.repositories&quot; -o -iname &quot;*.sha1&quot; \\) -exec rm -f {} \\;\n\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\n</code></pre>\n"}],"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75521594,"answer_count":2,"score":2,"last_activity_date":1676988287,"creation_date":1675958422,"question_id":75401208,"body_markdown":"I have a Maven job. In `Build`, for example, I use `mvn compile` with my `settings.xml`.\r\n\r\nThis `settings.xml` contains credentials to our Nexus Repository which stores some internal dependencies.\r\n\r\nThe problem is that when build will execute `Post-build Actions` (Post build task - Shell) with the same maven goal `mvn compile` it fails. It depends on build **tries to download all dependencies and plugins again** (but now it&#39;s without .\r\n\r\n\r\nMy question: How to share dependencies from `Build` step to step `Post-build Actions`\r\n***\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pCqyM.png","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>I have a Maven job. In <code>Build</code>, for example, I use <code>mvn compile</code> with my <code>settings.xml</code>.</p>\n<p>This <code>settings.xml</code> contains credentials to our Nexus Repository which stores some internal dependencies.</p>\n<p>The problem is that when build will execute <code>Post-build Actions</code> (Post build task - Shell) with the same maven goal <code>mvn compile</code> it fails. It depends on build <strong>tries to download all dependencies and plugins again</strong> (but now it's without .</p>\n<p>My question: How to share dependencies from <code>Build</code> step to step <code>Post-build Actions</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/pCqyM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCqyM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","kotlin-stateflow"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676988179,"creation_date":1676988179,"answer_id":75521573,"question_id":75521286,"body_markdown":"When you call `collect`, the code in the lambda is run every time the value in the StateFlow changes, forever until the CoroutineScope or your collection Job is cancelled. If you never need to do that, you don&#39;t need a StateFlow at all. \r\n\r\nIf you find that every time you change the value in the StateFlow that you always want to call this restore passwords function, then it makes sense to use `collect()`. If the restore passwords function is just updating another Flow, then you may not even need to expose this flow publicly at all or collect it, but rather simply use it as the basis of your password flow (via `stateIn`).\r\n\r\nIf you&#39;re using a Flow, it is rare to need `value`, except you might use the current value to determine what to do when you&#39;re deciding what new value to put in it. Aside from that, there could be some special cases where you&#39;re using the value for a one-off task *in addition to* whatever you&#39;re doing when you collect it. ","title":"How to correct use of the StateFlow value?","body":"<p>When you call <code>collect</code>, the code in the lambda is run every time the value in the StateFlow changes, forever until the CoroutineScope or your collection Job is cancelled. If you never need to do that, you don't need a StateFlow at all.</p>\n<p>If you find that every time you change the value in the StateFlow that you always want to call this restore passwords function, then it makes sense to use <code>collect()</code>. If the restore passwords function is just updating another Flow, then you may not even need to expose this flow publicly at all or collect it, but rather simply use it as the basis of your password flow (via <code>stateIn</code>).</p>\n<p>If you're using a Flow, it is rare to need <code>value</code>, except you might use the current value to determine what to do when you're deciding what new value to put in it. Aside from that, there could be some special cases where you're using the value for a one-off task <em>in addition to</em> whatever you're doing when you collect it.</p>\n"}],"owner":{"account_id":24288169,"reputation":1,"user_id":18233624,"display_name":"Denis Mirgorod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676988179,"creation_date":1676986680,"question_id":75521286,"body_markdown":"Today I faced the question of how to write the code correctly.\r\n\r\nI have a Fragment in which I call the viewModel function `viewModel.restorePassword()`. \r\n\r\nThere is a variable in viewModel:\r\n\r\n```\r\nprivate var _currentNumberPhone = MutableStateFlow&lt;String&gt;(&quot;&quot;)\r\nval currentNumberPhone: StateFlow&lt;String&gt; = _currentNumberPhone.asStateFlow()\r\n```\r\n\r\n**1) First function**\r\n\r\n```\r\nfun restorePassword() {\r\n        viewModelScope.launch {\r\n            currentNumberPhone.collect { phone -&gt;\r\n                restorePasswordByPhone(phone)\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n**2) Second function** \r\n\r\n```\r\nfun restorePassword() {\r\n    restorePasswordByPhone(currentNumberPhone.value)\r\n}\r\n```\r\n\r\nIn `restorePasswordByPhone()` there is a call to the network, via Coroutine. It&#39;s nothing special. And I have a question, what is the right way to handle StateFlow variable through subscription and collect or regular `currentNumberPhone.value`? The thing is, I don&#39;t need to observe all the time. When I call the restorePassword() method, I need to pass the currentNumberPhone value and that&#39;s it.\r\n\r\nI don&#39;t know what the differences are!","title":"How to correct use of the StateFlow value?","body":"<p>Today I faced the question of how to write the code correctly.</p>\n<p>I have a Fragment in which I call the viewModel function <code>viewModel.restorePassword()</code>.</p>\n<p>There is a variable in viewModel:</p>\n<pre><code>private var _currentNumberPhone = MutableStateFlow&lt;String&gt;(&quot;&quot;)\nval currentNumberPhone: StateFlow&lt;String&gt; = _currentNumberPhone.asStateFlow()\n</code></pre>\n<p><strong>1) First function</strong></p>\n<pre><code>fun restorePassword() {\n        viewModelScope.launch {\n            currentNumberPhone.collect { phone -&gt;\n                restorePasswordByPhone(phone)\n            }\n        }\n}\n</code></pre>\n<p><strong>2) Second function</strong></p>\n<pre><code>fun restorePassword() {\n    restorePasswordByPhone(currentNumberPhone.value)\n}\n</code></pre>\n<p>In <code>restorePasswordByPhone()</code> there is a call to the network, via Coroutine. It's nothing special. And I have a question, what is the right way to handle StateFlow variable through subscription and collect or regular <code>currentNumberPhone.value</code>? The thing is, I don't need to observe all the time. When I call the restorePassword() method, I need to pass the currentNumberPhone value and that's it.</p>\n<p>I don't know what the differences are!</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":27817630,"reputation":1,"user_id":21238691,"display_name":"aPatchyDev"},"score":0,"creation_date":1676728997,"post_id":75492736,"comment_id":133197862,"body_markdown":"Yes, that&#39;s the best I was able to get so far, but I was wondering if there was a different way so that I can concatenate it with the argument given to my custom annotation. Both are compile-time constant string literals so I thought there might be a way","body":"Yes, that&#39;s the best I was able to get so far, but I was wondering if there was a different way so that I can concatenate it with the argument given to my custom annotation. Both are compile-time constant string literals so I thought there might be a way"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676716427,"creation_date":1676716427,"answer_id":75492736,"question_id":75492671,"body_markdown":"In `@APIv1` you defined:\r\n\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n\r\nSo it is working as you told it to.","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>In <code>@APIv1</code> you defined:</p>\n<pre><code>@RequestMapping(&quot;/api/v1&quot;)\n</code></pre>\n<p>So it is working as you told it to.</p>\n"},{"tags":[],"owner":{"account_id":27817630,"reputation":1,"user_id":21238691,"display_name":"aPatchyDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676987762,"creation_date":1676987762,"answer_id":75521480,"question_id":75492671,"body_markdown":"After trying around with different solutions proposed in similar questions, I settled on using my custom annotation to hold the prefix path separately and join them in WebMvcConfigurer\r\n\r\nUsage in controllers:\r\n```\r\n@APIv1(&quot;/users&quot;)\r\npublic class UserController {\r\n    @GetMapping(&quot;/info&quot;)\r\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\r\n\r\n    /* More methods with mappings */\r\n}\r\n```\r\nwhere the custom annotations are defined as follows (in a separate package, ie: com.example.myannotations):\r\n```\r\n@Target(ElementType.ANNOTATION_TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PrefixMapping {\r\n    /**\r\n     * The prefix to prepend to path mappings\r\n     * */\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@RestController\r\n@RequestMapping\r\n@PrefixMapping(&quot;/api/v1&quot;)    // Prefix to add when using this annotation\r\npublic @interface APIv1 {\r\n    /**\r\n     * Alias for {@link RequestMapping#value}.\r\n     */\r\n    @AliasFor(annotation = RequestMapping.class)\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\nAnd define a WebMvcConfigurer that will search for annotations on startup\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void configurePathMatch(PathMatchConfigurer configurer) {\r\n        ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false) {\r\n            @Override\r\n            protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n                return true;\r\n            }\r\n        };\r\n        provider.addIncludeFilter(new AnnotationTypeFilter(PrefixMapping.class));\r\n\r\n        String pkgName = &quot;com.example.myannotations&quot;;    // Package name where the custom annotations are defined in\r\n        provider.findCandidateComponents(pkgName).forEach(bean -&gt; {\r\n            try {\r\n                String className = bean.getBeanClassName();\r\n                Class&lt;? extends Annotation&gt; clz = (Class&lt;? extends Annotation&gt;) Class.forName(className);\r\n\r\n                String prefix = clz.getDeclaredAnnotation(PrefixMapping.class).value();\r\n                configurer.addPathPrefix(prefix, HandlerTypePredicate.forAnnotation(clz));\r\n            } catch (ClassNotFoundException | ClassCastException e) {\r\n                e.printStackTrace(System.err);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow if I want an annotation with different prefix, I can define the annotation without changing anything else.\r\n\r\nOne thing that troubled me when writing the `WebConfig` class was getting the `Class` object for the annotation class from the `BeanDefinition` returned by `findCandidateComponents(pkgName)` even though there were supposed to be functions for getting them available.\r\n\r\n```\r\nFunctions I tried                                       -&gt; resulting Class&lt;?&gt;::getName() or null\r\n\r\n- ClassUtils.getUserClass(bean.getClass())              -&gt; org.springframework.context.annotation.ScannedGenericBeanDefinition\r\n- AopUtils.getTargetClass(bean.getClass())              -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\r\n- AopProxyUtils.ultimateTargetClass(bean.getClass())    -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\r\n- AopProxyUtils.proxiedUserInterfaces(bean.getClass())  -&gt; [java.io.Serializable, java.lang.reflect.GenericDeclaration, java.lang.reflect.Type, java.lang.reflect.AnnotatedElement]    - [org.springframework.beans.factory.annotation.AnnotatedBeanDefinition] if bean instead of bean.getClass()\r\n- bean.getResolvableType().resolve()                    -&gt; null\r\n- bean.getResolvableType().toClass()                    -&gt; java.lang.Object\r\n- bean.getResolvableType().getRawClass()                -&gt; null\r\n```","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>After trying around with different solutions proposed in similar questions, I settled on using my custom annotation to hold the prefix path separately and join them in WebMvcConfigurer</p>\n<p>Usage in controllers:</p>\n<pre><code>@APIv1(&quot;/users&quot;)\npublic class UserController {\n    @GetMapping(&quot;/info&quot;)\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\n\n    /* More methods with mappings */\n}\n</code></pre>\n<p>where the custom annotations are defined as follows (in a separate package, ie: com.example.myannotations):</p>\n<pre><code>@Target(ElementType.ANNOTATION_TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PrefixMapping {\n    /**\n     * The prefix to prepend to path mappings\n     * */\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@RestController\n@RequestMapping\n@PrefixMapping(&quot;/api/v1&quot;)    // Prefix to add when using this annotation\npublic @interface APIv1 {\n    /**\n     * Alias for {@link RequestMapping#value}.\n     */\n    @AliasFor(annotation = RequestMapping.class)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>And define a WebMvcConfigurer that will search for annotations on startup</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false) {\n            @Override\n            protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                return true;\n            }\n        };\n        provider.addIncludeFilter(new AnnotationTypeFilter(PrefixMapping.class));\n\n        String pkgName = &quot;com.example.myannotations&quot;;    // Package name where the custom annotations are defined in\n        provider.findCandidateComponents(pkgName).forEach(bean -&gt; {\n            try {\n                String className = bean.getBeanClassName();\n                Class&lt;? extends Annotation&gt; clz = (Class&lt;? extends Annotation&gt;) Class.forName(className);\n\n                String prefix = clz.getDeclaredAnnotation(PrefixMapping.class).value();\n                configurer.addPathPrefix(prefix, HandlerTypePredicate.forAnnotation(clz));\n            } catch (ClassNotFoundException | ClassCastException e) {\n                e.printStackTrace(System.err);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>Now if I want an annotation with different prefix, I can define the annotation without changing anything else.</p>\n<p>One thing that troubled me when writing the <code>WebConfig</code> class was getting the <code>Class</code> object for the annotation class from the <code>BeanDefinition</code> returned by <code>findCandidateComponents(pkgName)</code> even though there were supposed to be functions for getting them available.</p>\n<pre><code>Functions I tried                                       -&gt; resulting Class&lt;?&gt;::getName() or null\n\n- ClassUtils.getUserClass(bean.getClass())              -&gt; org.springframework.context.annotation.ScannedGenericBeanDefinition\n- AopUtils.getTargetClass(bean.getClass())              -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\n- AopProxyUtils.ultimateTargetClass(bean.getClass())    -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\n- AopProxyUtils.proxiedUserInterfaces(bean.getClass())  -&gt; [java.io.Serializable, java.lang.reflect.GenericDeclaration, java.lang.reflect.Type, java.lang.reflect.AnnotatedElement]    - [org.springframework.beans.factory.annotation.AnnotatedBeanDefinition] if bean instead of bean.getClass()\n- bean.getResolvableType().resolve()                    -&gt; null\n- bean.getResolvableType().toClass()                    -&gt; java.lang.Object\n- bean.getResolvableType().getRawClass()                -&gt; null\n</code></pre>\n"}],"owner":{"account_id":27817630,"reputation":1,"user_id":21238691,"display_name":"aPatchyDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521480,"answer_count":2,"score":0,"last_activity_date":1676987762,"creation_date":1676715706,"question_id":75492671,"body_markdown":"Using spring boot 2 on java 11, I want to make a custom annotation for each REST API version (eg: &quot;/api/v1/&quot;) that can be joined with subsequent URI components as below:\r\n\r\n```java\r\n@APIv1(&quot;/users/&quot;)    // this annotation should prepend &quot;/api/v1/{argument}&quot;\r\npublic class UserController {\r\n    @GetMapping(&quot;/info&quot;)\r\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\r\n\r\n    /* More methods with mappings */\r\n}\r\n```\r\n\r\nThe problem is I don&#39;t know how to define that @APIv1 annotation.\r\nFrom what I&#39;ve searched, I referenced [https://stackoverflow.com/a/51182494/](https://www.stackoverflow.com/) to write the following:\r\n\r\n```java\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@interface APIv1 {\r\n    @AliasFor(annotation = RestController.class)\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nBut this cannot handle arguments. Doing the same as above will route to `/api/v1/info/` whether the argument is given or not. It&#39;s better than nothing since I can switch the method annotation to `@GetMapping(&quot;/users/info&quot;)`, but I was wondering if there was a way to combine the constant with an argument to reduce repetition across method annotations within the same controller class.","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>Using spring boot 2 on java 11, I want to make a custom annotation for each REST API version (eg: &quot;/api/v1/&quot;) that can be joined with subsequent URI components as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@APIv1(&quot;/users/&quot;)    // this annotation should prepend &quot;/api/v1/{argument}&quot;\npublic class UserController {\n    @GetMapping(&quot;/info&quot;)\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\n\n    /* More methods with mappings */\n}\n</code></pre>\n<p>The problem is I don't know how to define that @APIv1 annotation.\nFrom what I've searched, I referenced <a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/a/51182494/</a> to write the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@interface APIv1 {\n    @AliasFor(annotation = RestController.class)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>But this cannot handle arguments. Doing the same as above will route to <code>/api/v1/info/</code> whether the argument is given or not. It's better than nothing since I can switch the method annotation to <code>@GetMapping(&quot;/users/info&quot;)</code>, but I was wondering if there was a way to combine the constant with an argument to reduce repetition across method annotations within the same controller class.</p>\n"},{"tags":["java","ejb","weblogic","cluster-computing","jndi"],"answers":[{"tags":[],"owner":{"account_id":17897048,"reputation":11,"user_id":13002183,"display_name":"QuinnLin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584021901,"creation_date":1584021587,"answer_id":60655678,"question_id":60516289,"body_markdown":"A couple of work arounds that worked for me, doing either one got rid of the exception:\r\n\r\n1. Change the cluster messaging mode from **Multicast** to **Unicast** in the WebLogic admin console.\r\n\r\nNavigate to Environment -&gt; Clusters -&gt; &lt;ejbnodename&gt; -&gt; Configuration tab -&gt; Messaging tab -&gt; Messaging Mode: Multicast, you need to press Lock &amp; Edit and make changes from Multicast to Unicast and save and then release the Lock.\r\n\r\n2. Updating weblogic-ejb-jar.xml to make the bean not clusterable.\r\n\r\n        &lt;wls:weblogic-enterprise-bean&gt;\r\n            &lt;wls:ejb-name&gt;Summary&lt;/wls:ejb-name&gt;\r\n            &lt;wls:stateless-session-descriptor&gt;\r\n                &lt;wls:stateless-clustering&gt;\r\n                    &lt;wls:home-is-clusterable&gt;false&lt;/wls:home-is-clusterable&gt;\r\n                    &lt;wls:stateless-bean-is-clusterable&gt;false&lt;/wls:stateless-bean-is-clusterable&gt;\r\n            &lt;/wls:stateless-clustering&gt;\r\n        &lt;/wls:stateless-session-descriptor&gt;\r\n    &lt;/wls:weblogic-enterprise-bean&gt;","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>A couple of work arounds that worked for me, doing either one got rid of the exception:</p>\n\n<ol>\n<li>Change the cluster messaging mode from <strong>Multicast</strong> to <strong>Unicast</strong> in the WebLogic admin console.</li>\n</ol>\n\n<p>Navigate to Environment -> Clusters ->  -> Configuration tab -> Messaging tab -> Messaging Mode: Multicast, you need to press Lock &amp; Edit and make changes from Multicast to Unicast and save and then release the Lock.</p>\n\n<ol start=\"2\">\n<li><p>Updating weblogic-ejb-jar.xml to make the bean not clusterable.</p>\n\n<pre><code>&lt;wls:weblogic-enterprise-bean&gt;\n    &lt;wls:ejb-name&gt;Summary&lt;/wls:ejb-name&gt;\n    &lt;wls:stateless-session-descriptor&gt;\n        &lt;wls:stateless-clustering&gt;\n            &lt;wls:home-is-clusterable&gt;false&lt;/wls:home-is-clusterable&gt;\n            &lt;wls:stateless-bean-is-clusterable&gt;false&lt;/wls:stateless-bean-is-clusterable&gt;\n    &lt;/wls:stateless-clustering&gt;\n&lt;/wls:stateless-session-descriptor&gt;\n</code></pre>\n\n<p></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27842167,"reputation":1,"user_id":21258440,"display_name":"D Fields"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676987727,"creation_date":1676987133,"answer_id":75521361,"question_id":60516289,"body_markdown":"this might bug 30295025 in weblogic. Had a similar issue and after patch 30295025  was applied the issue went away.\r\n\r\nDoc ID 2689913.1\r\n","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>this might bug 30295025 in weblogic. Had a similar issue and after patch 30295025  was applied the issue went away.</p>\n<p>Doc ID 2689913.1</p>\n"}],"owner":{"account_id":17897048,"reputation":11,"user_id":13002183,"display_name":"QuinnLin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676987727,"creation_date":1583273508,"question_id":60516289,"body_markdown":"I&#39;m updating an application from WebLogic 12.1.3 to 12.2.1.4.  Our web application is on a cluster with 2 nodes. When we start the 2 managed servers, whichever one finishes last throws the following exception:\r\n\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 239.255.0.102:10034.&gt;\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\r\n    &lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000142&gt; &lt;Trying to download cluster JNDI tree from server web-dev01.&gt;\r\n    &lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000140&gt; &lt;Failed to deserialize statedump from server web-dev01 with\r\n    weblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@.\r\n    weblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@\r\n        at weblogic.application.internal.AppClassLoaderManagerImpl.loadApplicationClass(AppClassLoaderManagerImpl.java:229)\r\n        at weblogic.common.internal.ProxyClassResolver.resolveProxyClass(ProxyClassResolver.java:77)\r\n        at weblogic.common.internal.WLObjectInputStream.resolveProxyClass(WLObjectInputStream.java:88)\r\n        at java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1854)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1802)\r\n        Truncated. see log file for complete stacktrace\r\n\r\nThe server that finishes first shows the following with no issues:\r\n\r\n\t&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 123.123.0.102:10034.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to ADMIN.&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to RESUMING.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000162&gt; &lt;Starting &quot;async&quot; replication service with remote cluster address &quot;null&quot;&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000330&gt; &lt;Started the WebLogic Server Managed Server &quot;web-dev01&quot; for domain &quot;domain&quot; running in production mode.&gt;\r\n\r\nSummary.java\r\n\r\n    package com.app.ejb;\r\n\r\n    @Stateless(mappedName = &quot;Summary&quot;)\r\n    public class Summary implements SummaryRemote {\r\n    \t@Inject\r\n    \tprivate SummaryLocal summaryLocalBean;\r\n\r\nSummaryRemote.java\r\n\r\n    package com.app.ejb;\r\n\r\n    @Remote\r\n    public interface SummaryRemote {\r\n\r\nLookup\r\n\r\n    private void getSummaryFacade() throws NamingException {\r\n        Context context = new InitialContext();\r\n        summaryRemote = (SummaryRemote) context\r\n                .lookup(&quot;Summary#com.app.ejb.SummaryRemote&quot;);\r\n    }\r\n\r\nWhy is it throwing the ClassLoaderNotFoundException on the node of the cluster that starts up after the first one? I don&#39;t have weblogic-ejb-jar.xml or ejb-jar.xml set up for my project by the way.\r\n\r\nLooking at the JNDI tree in the weblogic console, I see the same classloader not found exception when I have only one server up.  I think when I bring server 2 up, it&#39;s trying to replicate/download the JNDI tree from server 1 and is unable to because of the error.\r\n[See link for image of the JNDI tree exception][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PnS6n.jpg","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>I'm updating an application from WebLogic 12.1.3 to 12.2.1.4.  Our web application is on a cluster with 2 nodes. When we start the 2 managed servers, whichever one finishes last throws the following exception:</p>\n\n<pre><code>&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 239.255.0.102:10034.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\n&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000142&gt; &lt;Trying to download cluster JNDI tree from server web-dev01.&gt;\n&lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000140&gt; &lt;Failed to deserialize statedump from server web-dev01 with\nweblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@.\nweblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@\n    at weblogic.application.internal.AppClassLoaderManagerImpl.loadApplicationClass(AppClassLoaderManagerImpl.java:229)\n    at weblogic.common.internal.ProxyClassResolver.resolveProxyClass(ProxyClassResolver.java:77)\n    at weblogic.common.internal.WLObjectInputStream.resolveProxyClass(WLObjectInputStream.java:88)\n    at java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1854)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1802)\n    Truncated. see log file for complete stacktrace\n</code></pre>\n\n<p>The server that finishes first shows the following with no issues:</p>\n\n<pre><code>&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 123.123.0.102:10034.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to ADMIN.&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to RESUMING.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000162&gt; &lt;Starting \"async\" replication service with remote cluster address \"null\"&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000330&gt; &lt;Started the WebLogic Server Managed Server \"web-dev01\" for domain \"domain\" running in production mode.&gt;\n</code></pre>\n\n<p>Summary.java</p>\n\n<pre><code>package com.app.ejb;\n\n@Stateless(mappedName = \"Summary\")\npublic class Summary implements SummaryRemote {\n    @Inject\n    private SummaryLocal summaryLocalBean;\n</code></pre>\n\n<p>SummaryRemote.java</p>\n\n<pre><code>package com.app.ejb;\n\n@Remote\npublic interface SummaryRemote {\n</code></pre>\n\n<p>Lookup</p>\n\n<pre><code>private void getSummaryFacade() throws NamingException {\n    Context context = new InitialContext();\n    summaryRemote = (SummaryRemote) context\n            .lookup(\"Summary#com.app.ejb.SummaryRemote\");\n}\n</code></pre>\n\n<p>Why is it throwing the ClassLoaderNotFoundException on the node of the cluster that starts up after the first one? I don't have weblogic-ejb-jar.xml or ejb-jar.xml set up for my project by the way.</p>\n\n<p>Looking at the JNDI tree in the weblogic console, I see the same classloader not found exception when I have only one server up.  I think when I bring server 2 up, it's trying to replicate/download the JNDI tree from server 1 and is unable to because of the error.\n<a href=\"https://i.stack.imgur.com/PnS6n.jpg\" rel=\"nofollow noreferrer\">See link for image of the JNDI tree exception</a></p>\n"},{"tags":["java","spring-mvc","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676987521,"creation_date":1676987521,"answer_id":75521436,"question_id":75519625,"body_markdown":"See what was new for that version back in days: https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml\r\n\r\n&gt; When migrating to this release, if you have id attributes on your `&lt;listener-container/&gt;` elements, remove them and set the id on the child `&lt;listener/&gt;` element instead.\r\n\r\nThe reason behind this that you had to specify both ids in the past to get access to respective listener.\r\n\r\nIt is better to upgrade to the latest version anyway: all those are out of support for years.","title":"Upgrading Sping AMQP from 1.3.4.RELEASE to 1.5.5.RELEASE","body":"<p>See what was new for that version back in days: <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml</a></p>\n<blockquote>\n<p>When migrating to this release, if you have id attributes on your <code>&lt;listener-container/&gt;</code> elements, remove them and set the id on the child <code>&lt;listener/&gt;</code> element instead.</p>\n</blockquote>\n<p>The reason behind this that you had to specify both ids in the past to get access to respective listener.</p>\n<p>It is better to upgrade to the latest version anyway: all those are out of support for years.</p>\n"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521436,"answer_count":1,"score":0,"last_activity_date":1676987521,"creation_date":1676977613,"question_id":75519625,"body_markdown":"When I try to upgrade spring ampq from 1.3.4.RELEASE to 1.5.5.RELEASE I&#39;m facing below error.\r\nIt was working fine but when I try to upgrade its throwing an error.\r\nAny suggestions would be helpful.\r\nHere is my dependency details.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nspring version I&#39;m using is ```4.2.3.RELEASE```\r\n\r\nError details :-\r\n```\r\n21-Feb-2023 16:12:58.148 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;que&#39; defined in class path resource [config/spring/config-amqp.xml]: Cannot resolve reference to bean &#39;test&#39; while setting bean property &#39;listeners&#39; with key [0]; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;test&#39; is defined\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\r\n\r\n```\r\n\r\nhere is my config xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\txmlns:rabbit=&quot;http://www.springframework.org/schema/rabbit&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\r\n        http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd\r\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;beans profile=&quot;info&quot;&gt;\r\n\t\t&lt;!-- Consumers --&gt;\r\n\t\t&lt;rabbit:listener-container id=&quot;test&quot;\r\n\t\t\ttransaction-size=&quot;2&quot; prefetch=&quot;2&quot; error-handler=&quot;handler&quot;\r\n\t\t\tconnection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;\r\n\t\t\tconcurrency=&quot;${t1.consmers}&quot; advice-chain=&quot;valueTester&quot;&gt;\r\n\t\t\t&lt;rabbit:listener queues=&quot;${t2.consumer}, ${t3.tester}&quot;\r\n\t\t\t\tref=&quot;testConsumer&quot; method=&quot;consume&quot; /&gt;\r\n\t\t&lt;/rabbit:listener-container&gt;\r\n\r\n\t\t\r\n\t\t&lt;!-- Consumers manager --&gt;\r\n\t\t&lt;bean id=&quot;someid&quot; class=&quot;java.util.concurrent.ConcurrentLinkedQueue&quot; /&gt;\r\n\t\t&lt;bean id=&quot;queue&quot; class=&quot;com.t1.QueueTester&quot;&gt;\r\n\t\t\t&lt;property name=&quot;listeners&quot;&gt;\r\n\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t&lt;ref bean=&quot;test&quot; /&gt;\r\n\t\t\t\t&lt;/list&gt;\r\n\t\t\t&lt;/property&gt;\r\n\t\t&lt;/bean&gt;\r\n\t&lt;/beans&gt;\r\n\r\n\r\n\t&lt;beans profile=&quot;build&quot;&gt;&lt;/beans&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n","title":"Upgrading Sping AMQP from 1.3.4.RELEASE to 1.5.5.RELEASE","body":"<p>When I try to upgrade spring ampq from 1.3.4.RELEASE to 1.5.5.RELEASE I'm facing below error.\nIt was working fine but when I try to upgrade its throwing an error.\nAny suggestions would be helpful.\nHere is my dependency details.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n                    &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n            &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>spring version I'm using is <code>4.2.3.RELEASE</code></p>\n<p>Error details :-</p>\n<pre><code>21-Feb-2023 16:12:58.148 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'que' defined in class path resource [config/spring/config-amqp.xml]: Cannot resolve reference to bean 'test' while setting bean property 'listeners' with key [0]; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'test' is defined\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\n\n</code></pre>\n<p>here is my config xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n    xmlns:rabbit=&quot;http://www.springframework.org/schema/rabbit&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\n        http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd&quot;&gt;\n\n\n    &lt;beans profile=&quot;info&quot;&gt;\n        &lt;!-- Consumers --&gt;\n        &lt;rabbit:listener-container id=&quot;test&quot;\n            transaction-size=&quot;2&quot; prefetch=&quot;2&quot; error-handler=&quot;handler&quot;\n            connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;\n            concurrency=&quot;${t1.consmers}&quot; advice-chain=&quot;valueTester&quot;&gt;\n            &lt;rabbit:listener queues=&quot;${t2.consumer}, ${t3.tester}&quot;\n                ref=&quot;testConsumer&quot; method=&quot;consume&quot; /&gt;\n        &lt;/rabbit:listener-container&gt;\n\n        \n        &lt;!-- Consumers manager --&gt;\n        &lt;bean id=&quot;someid&quot; class=&quot;java.util.concurrent.ConcurrentLinkedQueue&quot; /&gt;\n        &lt;bean id=&quot;queue&quot; class=&quot;com.t1.QueueTester&quot;&gt;\n            &lt;property name=&quot;listeners&quot;&gt;\n                &lt;list&gt;\n                    &lt;ref bean=&quot;test&quot; /&gt;\n                &lt;/list&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n\n\n    &lt;beans profile=&quot;build&quot;&gt;&lt;/beans&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676987521,"creation_date":1676987521,"answer_id":75521437,"question_id":75517057,"body_markdown":"`Tasklet#execute` is already executed in a transaction driven by Spring Batch. This is explained in the documentation [here](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep). So you don&#39;t need to create another transaction inside that method.","title":"Springbatch failing | Why the transaction was completed automatically","body":"<p><code>Tasklet#execute</code> is already executed in a transaction driven by Spring Batch. This is explained in the documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep\" rel=\"nofollow noreferrer\">here</a>. So you don't need to create another transaction inside that method.</p>\n"}],"owner":{"account_id":25872243,"reputation":7,"user_id":19602922,"display_name":"l4ru3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521437,"answer_count":1,"score":0,"last_activity_date":1676987521,"creation_date":1676961897,"question_id":75517057,"body_markdown":"I have meet some question which i can not understand; \r\nWhy the transaction was completed automatically without any rollback code or commit code\r\n\r\nThis is a sample demo\r\n```\r\n@Component(&quot;sampleDemo&quot;)\r\n@Scope(&quot;step&quot;)\r\npublic class sampleDemo implements Tasklet {\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n        TransactionStatus status = null;\r\n        try {\r\n            while((testDto = dbReader01.read()) != null) {\r\n                if (status == null || status.isCompleted()) {\r\n                    status = transactionManager.getTransaction(definition);\r\n                }\r\n                ....\r\n                if(someCheck) {\r\n                    return RepeatStatus.FINISHED;\r\n                }\r\n                if (status != null &amp;&amp; !status.isCompleted()) {\r\n                    transactionManager.commit(status);\r\n                }\r\n            }\r\n        } catch {\r\n            ...\r\n        } finally {\r\n            dbReader01.close();\r\n        }\r\n        return RepeatStatus.FINISHED;;\r\n    }\r\n}\r\n```\r\nWhen this **someCheck** was true, this jobs was return with an unfinished transaction.so that,it had some errcode like these\r\n\r\n\r\n```\r\norg.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLException: Connection is null.\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:347)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:895)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:767)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n\tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:203)\r\n\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\r\n\tat org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\r\n\tat org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n\tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:313)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:144)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\r\n\tat org.springframework.batch.test.JobLauncherTestUtils.launchJob(JobLauncherTestUtils.java:152)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:156)\r\n\tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:65)\r\n\tat mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:37)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\nCaused by: java.sql.SQLException: Connection is null.\r\n\tat org.apache.commons.dbcp2.DelegatingConnection.checkOpen(DelegatingConnection.java:607)\r\n\tat org.apache.commons.dbcp2.DelegatingConnection.rollback(DelegatingConnection.java:482)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:344)\r\n\t... 61 common frames omitted\r\n```\r\nBUT, if i change the position where the transaction is initialized,such like this demo\r\n\r\n\r\n```\r\n@Component(&quot;sampleDemo&quot;)\r\n@Scope(&quot;step&quot;)\r\npublic class sampleDemo implements Tasklet {\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n        TransactionStatus status = null;\r\n        try {\r\n            if (status == null || status.isCompleted()) {\r\n                status = transactionManager.getTransaction(definition);\r\n            }\r\n            while((testDto = dbReader01.read()) != null) {\r\n                ....\r\n                if(someCheck) {\r\n                    return RepeatStatus.FINISHED;\r\n                }\r\n                if (status != null &amp;&amp; !status.isCompleted()) {\r\n                    transactionManager.commit(status);\r\n                }\r\n            }\r\n        } catch {\r\n            ...\r\n        } finally {\r\n            dbReader01.close();\r\n        }\r\n        return RepeatStatus.FINISHED;;\r\n    }\r\n}\r\n```\r\nIt will be completed without any errorcodes.I don&#39;t understand.why this transaction was closed automatically.","title":"Springbatch failing | Why the transaction was completed automatically","body":"<p>I have meet some question which i can not understand;\nWhy the transaction was completed automatically without any rollback code or commit code</p>\n<p>This is a sample demo</p>\n<pre><code>@Component(&quot;sampleDemo&quot;)\n@Scope(&quot;step&quot;)\npublic class sampleDemo implements Tasklet {\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n        TransactionStatus status = null;\n        try {\n            while((testDto = dbReader01.read()) != null) {\n                if (status == null || status.isCompleted()) {\n                    status = transactionManager.getTransaction(definition);\n                }\n                ....\n                if(someCheck) {\n                    return RepeatStatus.FINISHED;\n                }\n                if (status != null &amp;&amp; !status.isCompleted()) {\n                    transactionManager.commit(status);\n                }\n            }\n        } catch {\n            ...\n        } finally {\n            dbReader01.close();\n        }\n        return RepeatStatus.FINISHED;;\n    }\n}\n</code></pre>\n<p>When this <strong>someCheck</strong> was true, this jobs was return with an unfinished transaction.so that,it had some errcode like these</p>\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLException: Connection is null.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:347)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:895)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:767)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:203)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n    at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\n    at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:313)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:144)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\n    at org.springframework.batch.test.JobLauncherTestUtils.launchJob(JobLauncherTestUtils.java:152)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:156)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:65)\n    at mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:37)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\nCaused by: java.sql.SQLException: Connection is null.\n    at org.apache.commons.dbcp2.DelegatingConnection.checkOpen(DelegatingConnection.java:607)\n    at org.apache.commons.dbcp2.DelegatingConnection.rollback(DelegatingConnection.java:482)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:344)\n    ... 61 common frames omitted\n</code></pre>\n<p>BUT, if i change the position where the transaction is initialized,such like this demo</p>\n<pre><code>@Component(&quot;sampleDemo&quot;)\n@Scope(&quot;step&quot;)\npublic class sampleDemo implements Tasklet {\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n        TransactionStatus status = null;\n        try {\n            if (status == null || status.isCompleted()) {\n                status = transactionManager.getTransaction(definition);\n            }\n            while((testDto = dbReader01.read()) != null) {\n                ....\n                if(someCheck) {\n                    return RepeatStatus.FINISHED;\n                }\n                if (status != null &amp;&amp; !status.isCompleted()) {\n                    transactionManager.commit(status);\n                }\n            }\n        } catch {\n            ...\n        } finally {\n            dbReader01.close();\n        }\n        return RepeatStatus.FINISHED;;\n    }\n}\n</code></pre>\n<p>It will be completed without any errorcodes.I don't understand.why this transaction was closed automatically.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"display_name":"user395760"},"score":19,"creation_date":1317907649,"post_id":7674839,"comment_id":9328154,"body_markdown":"The JVM is a virtual machine. Bytcode goes in, the observable effects of the program happen. Everything else is an implementation detail.","body":"The JVM is a virtual machine. Bytcode goes in, the observable effects of the program happen. Everything else is an implementation detail."},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1317907933,"post_id":7674839,"comment_id":9328232,"body_markdown":"Yes, there is no &quot;the&quot; JVM, there are multiple implementations of the spec.","body":"Yes, there is no &quot;the&quot; JVM, there are multiple implementations of the spec."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1317908165,"post_id":7674839,"comment_id":9328314,"body_markdown":"@delnan, please please write that as an answer. I&#39;d really want to upvote such answer.","body":"@delnan, please please write that as an answer. I&#39;d really want to upvote such answer."},{"owner":{"display_name":"user395760"},"score":0,"creation_date":1317908427,"post_id":7674839,"comment_id":9328400,"body_markdown":"@aioobe: I won&#39;t. I don&#39;t think it answers the question asked here - it&#39;s a very useful perspective, but the question (stated clearly in the title and in the post) explicitly requests these implementation details.","body":"@aioobe: I won&#39;t. I don&#39;t think it answers the question asked here - it&#39;s a very useful perspective, but the question (stated clearly in the title and in the post) explicitly requests these implementation details."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1317908628,"post_id":7674839,"comment_id":9328456,"body_markdown":"Fair enough. I&#39;d say it *is* an answer to the *&quot;If neither, then what exactly is the JVM?&quot;* part though. (As a Java Virtual Machine is more of a specification than an implementation.)","body":"Fair enough. I&#39;d say it <i>is</i> an answer to the <i>&quot;If neither, then what exactly is the JVM?&quot;</i> part though. (As a Java Virtual Machine is more of a specification than an implementation.)"}],"answers":[{"comments":[{"owner":{"account_id":1602979,"reputation":8003,"user_id":1483676,"accept_rate":56,"display_name":"cubuspl42"},"score":0,"creation_date":1559817060,"post_id":7674871,"comment_id":99541688,"body_markdown":"You are probably referring to HotSpot","body":"You are probably referring to HotSpot"}],"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1317907542,"creation_date":1317907542,"answer_id":7674871,"question_id":7674839,"body_markdown":"It is both. It starts by interpreting bytecode and can (should it decide it is worth it) then compile that bytecode to native machine code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It is both. It starts by interpreting bytecode and can (should it decide it is worth it) then compile that bytecode to native machine code.</p>\n"},{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317907555,"creation_date":1317907555,"answer_id":7674874,"question_id":7674839,"body_markdown":"It&#39;s both. It can interpret bytecode, and compile it to native code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It's both. It can interpret bytecode, and compile it to native code.</p>\n"},{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":8,"creation_date":1385657068,"post_id":7674891,"comment_id":30239392,"body_markdown":"@NaeemShah: I&#39;m flattered that you liked this answer enough to copy it almost word-for-word into a blog post under your own name.  And you have the right to do so, but under StackOverflow&#39;s licensing scheme, you are legally required to give attribution back to here, and you must license your blog post under the same license. See the footer of this website, which links to the following license: http://creativecommons.org/licenses/by-sa/3.0/.  See also this blog post: http://blog.stackoverflow.com/2009/06/attribution-required/","body":"@NaeemShah: I&#39;m flattered that you liked this answer enough to copy it almost word-for-word into a blog post under your own name.  And you have the right to do so, but under StackOverflow&#39;s licensing scheme, you are legally required to give attribution back to here, and you must license your blog post under the same license. See the footer of this website, which links to the following license: <a href=\"http://creativecommons.org/licenses/by-sa/3.0/\" rel=\"nofollow noreferrer\">creativecommons.org/licenses/by-sa/3.0</a>.  See also this blog post: <a href=\"http://blog.stackoverflow.com/2009/06/attribution-required/\">blog.stackoverflow.com/2009/06/attribution-required</a>"}],"tags":[],"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"comment_count":1,"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1317907621,"creation_date":1317907621,"answer_id":7674891,"question_id":7674839,"body_markdown":"It is a little of both, but neither in the traditional sense.\r\n\r\nModern JVMs take bytecode and compile it into native code when first needed.  &quot;JIT&quot; in this context stands for &quot;just in time.&quot;  It acts as an interpreter from the outside, but really behind the scenes it is compiling into machine code.\r\n\r\nThe JVM should not be confused with the Java compiler, which compiles source code into bytecode.  So it is not useful to consider it &quot;a compiler&quot; but rather to know that in the background it does do some compilation.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It is a little of both, but neither in the traditional sense.</p>\n\n<p>Modern JVMs take bytecode and compile it into native code when first needed.  \"JIT\" in this context stands for \"just in time.\"  It acts as an interpreter from the outside, but really behind the scenes it is compiling into machine code.</p>\n\n<p>The JVM should not be confused with the Java compiler, which compiles source code into bytecode.  So it is not useful to consider it \"a compiler\" but rather to know that in the background it does do some compilation.</p>\n"},{"comments":[{"owner":{"account_id":418836,"reputation":2697,"user_id":795636,"display_name":"Aleksej Vasinov"},"score":1,"creation_date":1335859123,"post_id":10394997,"comment_id":13405332,"body_markdown":"You&#39;ve forgot to turn off Caps :)","body":"You&#39;ve forgot to turn off Caps :)"},{"owner":{"account_id":10896,"reputation":6992,"user_id":20786,"accept_rate":89,"display_name":"The_Fox"},"score":9,"creation_date":1335861149,"post_id":10394997,"comment_id":13405752,"body_markdown":"Wrong, you first compile the source code to bytecode (has nothing to do with JVM), then the JVM interprets the bytecode and compiles it to native code (but maybe not every part).","body":"Wrong, you first compile the source code to bytecode (has nothing to do with JVM), then the JVM interprets the bytecode and compiles it to native code (but maybe not every part)."}],"tags":[],"owner":{"account_id":1450195,"reputation":1,"user_id":1367368,"display_name":"M SANEDEEP KUMAR"},"comment_count":2,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1335860937,"creation_date":1335858568,"answer_id":10394997,"question_id":7674839,"body_markdown":"JVM have both compiler and interpreter. Because the compiler compiles the code and generates bytecode. After that the interpreter converts bytecode to machine understandable code.\r\n\r\nExample: Write and compile a program and it runs on Windows. Take the .class file to another OS (Unix) and it will run because of interpreter that converts the bytecode to machine understandable code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>JVM have both compiler and interpreter. Because the compiler compiles the code and generates bytecode. After that the interpreter converts bytecode to machine understandable code.</p>\n\n<p>Example: Write and compile a program and it runs on Windows. Take the .class file to another OS (Unix) and it will run because of interpreter that converts the bytecode to machine understandable code.</p>\n"},{"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1421845406,"post_id":14708631,"comment_id":44515339,"body_markdown":"You say JVM translates Bytecode into Native Machine Code. I am not sure if term &quot;translation&quot; is correct here.","body":"You say JVM translates Bytecode into Native Machine Code. I am not sure if term &quot;translation&quot; is correct here."},{"owner":{"account_id":3423000,"reputation":4785,"user_id":3032338,"accept_rate":45,"display_name":"Always_a_learner"},"score":0,"creation_date":1452857866,"post_id":14708631,"comment_id":57362340,"body_markdown":"Highly appreciated. you have almost cleared my doubt of difference between compiling and interpretation, byte code and m/c code. your answer told me that byte code gets converted to machine code by an interpreter and compiler converts source code into bytecode.","body":"Highly appreciated. you have almost cleared my doubt of difference between compiling and interpretation, byte code and m/c code. your answer told me that byte code gets converted to machine code by an interpreter and compiler converts source code into bytecode."},{"owner":{"account_id":3423000,"reputation":4785,"user_id":3032338,"accept_rate":45,"display_name":"Always_a_learner"},"score":3,"creation_date":1452858094,"post_id":14708631,"comment_id":57362458,"body_markdown":"Can you also please tell me that what is native code? Does it mean machine code?  I am trying to learn this whole process of compilation and interpretation but these intermediate terms are very confusing.","body":"Can you also please tell me that what is native code? Does it mean machine code?  I am trying to learn this whole process of compilation and interpretation but these intermediate terms are very confusing."},{"owner":{"account_id":4773407,"reputation":1234,"user_id":3857342,"accept_rate":50,"display_name":"Aditya"},"score":8,"creation_date":1480592972,"post_id":14708631,"comment_id":69032021,"body_markdown":"So both JVM and JIT converts byte code into platform specific machine code So what&#39;s the different between them? can you explain it broadly?","body":"So both JVM and JIT converts byte code into platform specific machine code So what&#39;s the different between them? can you explain it broadly?"},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1499225334,"post_id":14708631,"comment_id":76809184,"body_markdown":"The JVM, as a black-box abstraction, is just a Java bytecode interpreter. An interpreter is just a program that executes the instructions [https://en.wikipedia.org/wiki/Interpreter_(computing) ]. (Granted, the name &quot;interpreter&quot; is somewhat of a misnomer.) How the JVM does so is another question - in this case, to optimize performance, the JVM uses clever designs and tricks. One of its key components is the JIT &quot;compiler&quot;.","body":"The JVM, as a black-box abstraction, is just a Java bytecode interpreter. An interpreter is just a program that executes the instructions [<a href=\"https://en.wikipedia.org/wiki/Interpreter_(computing)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Interpreter_(computing)</a> ]. (Granted, the name &quot;interpreter&quot; is somewhat of a misnomer.) How the JVM does so is another question - in this case, to optimize performance, the JVM uses clever designs and tricks. One of its key components is the JIT &quot;compiler&quot;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":9,"creation_date":1501550187,"post_id":14708631,"comment_id":77816273,"body_markdown":"&#39;Runs/ Interprets/ translates Bytecode into Native Machine Code&#39; is nonsense. It *either* &#39;runs/interprets&#39; *or* &#39;translates Bytecode into Native Machine Code&#39;. Not both at the same time.","body":"&#39;Runs/ Interprets/ translates Bytecode into Native Machine Code&#39; is nonsense. It <i>either</i> &#39;runs/interprets&#39; <i>or</i> &#39;translates Bytecode into Native Machine Code&#39;. Not both at the same time."},{"owner":{"account_id":264744,"reputation":531,"user_id":2168845,"display_name":"apersiankite"},"score":0,"creation_date":1528369095,"post_id":14708631,"comment_id":88486401,"body_markdown":"@EJP how do you think JVM &#39;runs/interprets&#39; bytecode on any machine ?","body":"@EJP how do you think JVM &#39;runs/interprets&#39; bytecode on any machine ?"},{"owner":{"account_id":9759812,"reputation":1724,"user_id":7235253,"accept_rate":33,"display_name":"RyuCoder"},"score":0,"creation_date":1532178318,"post_id":14708631,"comment_id":89882188,"body_markdown":"Why do we need 2 steps? source code to bytecode, then bytecode to machine code? why cant we convert source code to machine code directly?","body":"Why do we need 2 steps? source code to bytecode, then bytecode to machine code? why cant we convert source code to machine code directly?"},{"owner":{"account_id":1554617,"reputation":1775,"user_id":1446139,"accept_rate":86,"display_name":"denis631"},"score":1,"creation_date":1548163252,"post_id":14708631,"comment_id":95437936,"body_markdown":"@RyuCoder VM is a layer of abstraction. This way Java compiler generates the same bytecode on any platform it is compiled since it is running on the same JVM. The JVM is interpreting these instructions and optimizes only the hot sequences, the ones which are executed often. We can convert source code to machine code. GCC/Clang and others do that for many years. This is just another way of building things. For example, this way we can run .jar files compiled on one architecture (like x86) and run it on ARM since it&#39;s decoupled from the native instruction set (it&#39;s coupled to the JVM instead)","body":"@RyuCoder VM is a layer of abstraction. This way Java compiler generates the same bytecode on any platform it is compiled since it is running on the same JVM. The JVM is interpreting these instructions and optimizes only the hot sequences, the ones which are executed often. We can convert source code to machine code. GCC/Clang and others do that for many years. This is just another way of building things. For example, this way we can run .jar files compiled on one architecture (like x86) and run it on ARM since it&#39;s decoupled from the native instruction set (it&#39;s coupled to the JVM instead)"},{"owner":{"account_id":1602979,"reputation":8003,"user_id":1483676,"accept_rate":56,"display_name":"cubuspl42"},"score":1,"creation_date":1559816803,"post_id":14708631,"comment_id":99541553,"body_markdown":"@RyuCoder You can, that&#39;s what GCJ, Multi-OS Engine, Graal native image, and possibly more JVM implementations do. Such implementations are valid JVM implementations. This answer wrongly assumes that interpretation (possibly enhanced with JIT) is the only approach to implementing the JVM.","body":"@RyuCoder You can, that&#39;s what GCJ, Multi-OS Engine, Graal native image, and possibly more JVM implementations do. Such implementations are valid JVM implementations. This answer wrongly assumes that interpretation (possibly enhanced with JIT) is the only approach to implementing the JVM."},{"owner":{"account_id":12543757,"reputation":973,"user_id":9127854,"display_name":"Pran Kumar Sarkar"},"score":0,"creation_date":1568203636,"post_id":14708631,"comment_id":102199225,"body_markdown":"There was a mcq on coding test. Jvm is ------ for byte code. Options were interpreter, compiler, both and none. So what will be the correct answer?","body":"There was a mcq on coding test. Jvm is ------ for byte code. Options were interpreter, compiler, both and none. So what will be the correct answer?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698979892,"post_id":14708631,"comment_id":136476282,"body_markdown":"Unfortunately, this answer has a number of inaccuracies.  Starting with &quot;*JVM: is it a compiler or an interpreter?* - An interpreter&quot;.   The CORRECT answer is **neither**.  A JVM is a Java virtual machine. An abstraction.  A specific JVM implementation *may* contain a bytecode interpreter, a JIT compiler ... or neither.   For example, HotSpot JVMs support both an interpreter and a JIT compiler (though the compiler can be turned off via a command line option).  See https://stackoverflow.com/a/45515524/139985 below.","body":"Unfortunately, this answer has a number of inaccuracies.  Starting with &quot;<i>JVM: is it a compiler or an interpreter?</i> - An interpreter&quot;.   The CORRECT answer is <b>neither</b>.  A JVM is a Java virtual machine. An abstraction.  A specific JVM implementation <i>may</i> contain a bytecode interpreter, a JIT compiler ... or neither.   For example, HotSpot JVMs support both an interpreter and a JIT compiler (though the compiler can be turned off via a command line option).  See <a href=\"https://stackoverflow.com/a/45515524/139985\">stackoverflow.com/a/45515524/139985</a> below."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698980269,"post_id":14708631,"comment_id":136476309,"body_markdown":"@testacccount - You really ought to fix this answer ... or ask the moderators to delete it for you.   You&#39;ve made a lot of statements that are either plain wrong or are only correct for *some* JVM implementations.  Unfortunately your question has accumulated so many (ill-informed) upvotes that it is immune from the &quot;downvote and vote to delete&quot; remedy.","body":"@testacccount - You really ought to fix this answer ... or ask the moderators to delete it for you.   You&#39;ve made a lot of statements that are either plain wrong or are only correct for <i>some</i> JVM implementations.  Unfortunately your question has accumulated so many (ill-informed) upvotes that it is immune from the &quot;downvote and vote to delete&quot; remedy."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698980763,"post_id":14708631,"comment_id":136476347,"body_markdown":"@PranKumarSarkar - The correct answer is &quot;it depends on the implementation&quot;.  Unless the question is about a specific JVM implementation.   If those are the only options you have, and the question is not about a specific JVM, then the MCQ is flawed.  (Where did you find it?  So that we can advise people to avoid that site for being a source of inaccurate information ...)","body":"@PranKumarSarkar - The correct answer is &quot;it depends on the implementation&quot;.  Unless the question is about a specific JVM implementation.   If those are the only options you have, and the question is not about a specific JVM, then the MCQ is flawed.  (Where did you find it?  So that we can advise people to avoid that site for being a source of inaccurate information ...)"}],"tags":[],"owner":{"account_id":2179250,"reputation":2813,"user_id":1929111,"accept_rate":83,"display_name":"Testaccount"},"comment_count":14,"down_vote_count":4,"up_vote_count":197,"is_accepted":true,"score":193,"last_activity_date":1676987174,"creation_date":1360070800,"answer_id":14708631,"question_id":7674839,"body_markdown":"First, let&#39;s have a clear idea of the following terms:\r\n\r\n- **Javac** is Java Compiler -- Compiles your Java code into **Bytecode**\r\n\r\n- **JVM** is Java Virtual Machine -- Runs/ Interprets/ translates Bytecode into **Native Machine Code** \r\n\r\n- **JIT** is Just In Time Compiler -- Compiles the given bytecode instruction sequence to machine code at **runtime** before executing it natively. Its main purpose is to do heavy optimizations in performance. \r\n\r\n**So now, Let&#39;s find answers to your questions:**\r\n\r\n1) *JVM: is it a compiler or an interpreter?* \r\n\r\n   An interpreter\r\n\r\n2) *What about JIT compiler that exist inside the JVM?*\r\n\r\n   If you read this reply completely, you probably know it now.\r\n\r\n3) What exactly is the JVM?  \r\n\r\n   - JVM is a virtual platform that resides on your RAM \r\n   - Its component, **Class loader** loads the `.class` file into the RAM\r\n   - The **Byte code Verifier** component in JVM checks if there are any access restriction violations in your code. (This is one of the principal reasons why java is secure)\r\n   - Next, the **Execution Engine** component converts the Bytecode into executable machine code\r\n","title":"Is the JVM a compiler or an interpreter?","body":"<p>First, let's have a clear idea of the following terms:</p>\n<ul>\n<li><p><strong>Javac</strong> is Java Compiler -- Compiles your Java code into <strong>Bytecode</strong></p>\n</li>\n<li><p><strong>JVM</strong> is Java Virtual Machine -- Runs/ Interprets/ translates Bytecode into <strong>Native Machine Code</strong></p>\n</li>\n<li><p><strong>JIT</strong> is Just In Time Compiler -- Compiles the given bytecode instruction sequence to machine code at <strong>runtime</strong> before executing it natively. Its main purpose is to do heavy optimizations in performance.</p>\n</li>\n</ul>\n<p><strong>So now, Let's find answers to your questions:</strong></p>\n<ol>\n<li><p><em>JVM: is it a compiler or an interpreter?</em></p>\n<p>An interpreter</p>\n</li>\n<li><p><em>What about JIT compiler that exist inside the JVM?</em></p>\n<p>If you read this reply completely, you probably know it now.</p>\n</li>\n<li><p>What exactly is the JVM?</p>\n<ul>\n<li>JVM is a virtual platform that resides on your RAM</li>\n<li>Its component, <strong>Class loader</strong> loads the <code>.class</code> file into the RAM</li>\n<li>The <strong>Byte code Verifier</strong> component in JVM checks if there are any access restriction violations in your code. (This is one of the principal reasons why java is secure)</li>\n<li>Next, the <strong>Execution Engine</strong> component converts the Bytecode into executable machine code</li>\n</ul>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":10775834,"reputation":528,"user_id":9165920,"display_name":"Irfan Latif"},"score":1,"creation_date":1583015925,"post_id":45515524,"comment_id":106976363,"body_markdown":"ART is also an interpreter: *&quot;Android can actually run the `.dex` code directly via interpretation or Just-In-Time (JIT) compilation ...&quot;* (https://source.android.com/devices/tech/ota/ab/ab_faqs#how-did-you-halve-the-size-of-the-system-partition-without-squashfs)","body":"ART is also an interpreter: <i>&quot;Android can actually run the <code>.dex</code> code directly via interpretation or Just-In-Time (JIT) compilation ...&quot;</i> (<a href=\"https://source.android.com/devices/tech/ota/ab/ab_faqs#how-did-you-halve-the-size-of-the-system-partition-without-squashfs\" rel=\"nofollow noreferrer\">source.android.com/devices/tech/ota/ab/&hellip;</a>)"}],"tags":[],"owner":{"account_id":1602979,"reputation":8003,"user_id":1483676,"accept_rate":56,"display_name":"cubuspl42"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1501880835,"creation_date":1501880835,"answer_id":45515524,"question_id":7674839,"body_markdown":"Like [@delnan][1] already stated in the comment section, it&#39;s **neither**.\r\n\r\n[JVM][2] is an abstract machine running [Java bytecode][3].\r\n\r\nJVM has several implementations:\r\n\r\n* [HotSpot][4] (interpreter + [JIT][5] compiler)\r\n* [Dalvik][6] (interpreter + JIT compiler)\r\n* [ART][7] ([AOT][8] compiler + JIT compiler)\r\n* [GCJ][9] (AOT compiler)\r\n* [JamVM][10] (interpreter)\r\n\r\n...and [many others][11].\r\n\r\nMost of the others answers when talking about JVM refer either to HotSpot or\r\nsome mixture of the above approaches to implementing the JVM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/395760/delnan\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.wikipedia.org/wiki/Java_bytecode\r\n  [4]: https://en.wikipedia.org/wiki/HotSpot\r\n  [5]: https://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [6]: https://en.wikipedia.org/wiki/Dalvik_(software)\r\n  [7]: https://en.wikipedia.org/wiki/Android_Runtime\r\n  [8]: https://en.wikipedia.org/wiki/Ahead-of-time_compilation\r\n  [9]: https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\r\n  [10]: https://en.wikipedia.org/wiki/JamVM\r\n  [11]: https://en.wikipedia.org/wiki/List_of_Java_virtual_machines","title":"Is the JVM a compiler or an interpreter?","body":"<p>Like <a href=\"https://stackoverflow.com/users/395760/delnan\">@delnan</a> already stated in the comment section, it's <strong>neither</strong>.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">JVM</a> is an abstract machine running <a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"noreferrer\">Java bytecode</a>.</p>\n\n<p>JVM has several implementations:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\">HotSpot</a> (interpreter + <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">JIT</a> compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Dalvik_(software)\" rel=\"noreferrer\">Dalvik</a> (interpreter + JIT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_Runtime\" rel=\"noreferrer\">ART</a> (<a href=\"https://en.wikipedia.org/wiki/Ahead-of-time_compilation\" rel=\"noreferrer\">AOT</a> compiler + JIT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\" rel=\"noreferrer\">GCJ</a> (AOT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/JamVM\" rel=\"noreferrer\">JamVM</a> (interpreter)</li>\n</ul>\n\n<p>...and <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"noreferrer\">many others</a>.</p>\n\n<p>Most of the others answers when talking about JVM refer either to HotSpot or\nsome mixture of the above approaches to implementing the JVM.</p>\n"},{"tags":[],"owner":{"account_id":12627861,"reputation":266,"user_id":9180620,"display_name":"Sarth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603806672,"creation_date":1603806672,"answer_id":64555946,"question_id":7674839,"body_markdown":"Javac is a compiler but not a traditional compiler.\r\nA compiler typically converts source code to Machine level language for execution and that is done in a single shot i.e. entire code is taken and converted to machine level&#160;language&#160;at ONCE. (more on this below).\r\nWhile, JavaC converts it to Bytecode instead of machine level language.\r\n\r\nJIT is a Java compiler but also acts as an interpreter. A typical compiler will convert all the code at once from source code to machine level language. Instead, JIT goes line by line (line by line execution is a feature of Interpreters) and converts bytecode generated by JavaC&#160; into machine level language and executes it. JVM which has JIT in it has multiple implementations. Hotspot being one of the major ones for Java programming. Hotspot implementation makes JIT optimize the execution by converting chunks of code which are repetitive&#160;into Machine&#160;level language&#160;at once (like a compiler as mentioned above) so that they can be executed faster instead of converting&#160;each line of code 1 by 1.\r\nSo, the answer is not Black and White with respect to the typical definitions of Compiler and Interpreter.\r\n\r\nThis is my understanding after reading several online answers, blogs, etc. If somebody has suggestions to improve this understanding, please feel free to suggest.","title":"Is the JVM a compiler or an interpreter?","body":"<p>Javac is a compiler but not a traditional compiler.\nA compiler typically converts source code to Machine level language for execution and that is done in a single shot i.e. entire code is taken and converted to machine level¬†language¬†at ONCE. (more on this below).\nWhile, JavaC converts it to Bytecode instead of machine level language.</p>\n<p>JIT is a Java compiler but also acts as an interpreter. A typical compiler will convert all the code at once from source code to machine level language. Instead, JIT goes line by line (line by line execution is a feature of Interpreters) and converts bytecode generated by JavaC¬† into machine level language and executes it. JVM which has JIT in it has multiple implementations. Hotspot being one of the major ones for Java programming. Hotspot implementation makes JIT optimize the execution by converting chunks of code which are repetitive¬†into Machine¬†level language¬†at once (like a compiler as mentioned above) so that they can be executed faster instead of converting¬†each line of code 1 by 1.\nSo, the answer is not Black and White with respect to the typical definitions of Compiler and Interpreter.</p>\n<p>This is my understanding after reading several online answers, blogs, etc. If somebody has suggestions to improve this understanding, please feel free to suggest.</p>\n"}],"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98035,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":14708631,"answer_count":7,"score":90,"last_activity_date":1676987174,"creation_date":1317907421,"question_id":7674839,"body_markdown":"I have a very basic question about JVM: is it a compiler or an interpreter?\r\n\r\nIf it is an interpreter, then what about JIT compiler that exist inside the JVM?  \r\nIf neither, then what exactly is the JVM? (I dont want the basic definition of jVM of converting byte code to machine specific code etc.)","title":"Is the JVM a compiler or an interpreter?","body":"<p>I have a very basic question about JVM: is it a compiler or an interpreter?</p>\n\n<p>If it is an interpreter, then what about JIT compiler that exist inside the JVM?<br>\nIf neither, then what exactly is the JVM? (I dont want the basic definition of jVM of converting byte code to machine specific code etc.)</p>\n"},{"tags":["java","spring","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676987161,"creation_date":1676981400,"answer_id":75520333,"question_id":75516623,"body_markdown":"The question is rather unclear:\r\n- &quot;find all annotated **fields**&quot; vs &quot;I want to get annotated **field name**&quot;\r\n- Is there more than one annotation classes involved?\r\n- Are there data classes nested more than one level deep?\r\n- Since you know the classes, why access the annotation of a nested class through a possible parent class?\r\n\r\nStill, to give you an idea on how to get the names of the fields and its annotation names in a Map:\r\n    \r\n    import kotlin.reflect.KClass\r\n    import kotlin.reflect.full.*\r\n    import kotlin.reflect.jvm.jvmErasure\r\n    \r\n    fun KClass&lt;*&gt;.getFieldAndAnnotationNames(): Map&lt;String, List&lt;String&gt;&gt; {\r\n      return declaredMemberProperties\r\n        .filter { it.annotations.isNotEmpty() }\r\n        .associate { kProp -&gt;\r\n          kProp.name to kProp.annotations.map {\r\n            it.toString().substringAfterLast(&quot;$&quot;)\r\n          }\r\n        }\r\n    }\r\n\r\nExample:\r\n\r\n    @Target(AnnotationTarget.PROPERTY)\r\n    annotation class CustomAnnotation\r\n    \r\n    @Target(AnnotationTarget.PROPERTY)\r\n    annotation class CustomAnnotation2\r\n    \r\n    data class Nested(\r\n      @CustomAnnotation val nestedValue1: String,\r\n      val nestedValue2: Double\r\n    )\r\n    \r\n    data class Parent(\r\n      val parentValue1: Nested,\r\n      @CustomAnnotation @CustomAnnotation2 val parentValue2: String\r\n    )\r\n    \r\n    Parent::class.getFieldAndAnnotationNames().forEach(::println)\r\n    // Output: parentValue2=[CustomAnnotation(), CustomAnnotation2()]\r\n\r\n    Nested::class.getFieldAndAnnotationNames().forEach(::println)\r\n    // Output: nestedValue1=[CustomAnnotation()]\r\n\r\nAnd this is another function using above function to get info about all nested data classes and its annotations:\r\n\r\n    fun KClass&lt;*&gt;.getNestedFieldAndAnnotationNames(): Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; {\r\n      return declaredMemberProperties\r\n        .filter { it.returnType.jvmErasure.isData }\r\n        .associate { kProp -&gt;\r\n          kProp.name to kProp.returnType.jvmErasure.getFieldAndAnnotationNames()\r\n        }\r\n    }\r\n    \r\nExample:\r\n        \r\n\r\n    Parent::class.getNestedFieldAndAnnotationNames().forEach(::println)\r\n    // Output: parentValue1={nestedValue1=[CustomAnnotation()]}\r\n\r\n","title":"How can I find all annotated fields in nested DTO?","body":"<p>The question is rather unclear:</p>\n<ul>\n<li>&quot;find all annotated <strong>fields</strong>&quot; vs &quot;I want to get annotated <strong>field name</strong>&quot;</li>\n<li>Is there more than one annotation classes involved?</li>\n<li>Are there data classes nested more than one level deep?</li>\n<li>Since you know the classes, why access the annotation of a nested class through a possible parent class?</li>\n</ul>\n<p>Still, to give you an idea on how to get the names of the fields and its annotation names in a Map:</p>\n<pre><code>import kotlin.reflect.KClass\nimport kotlin.reflect.full.*\nimport kotlin.reflect.jvm.jvmErasure\n\nfun KClass&lt;*&gt;.getFieldAndAnnotationNames(): Map&lt;String, List&lt;String&gt;&gt; {\n  return declaredMemberProperties\n    .filter { it.annotations.isNotEmpty() }\n    .associate { kProp -&gt;\n      kProp.name to kProp.annotations.map {\n        it.toString().substringAfterLast(&quot;$&quot;)\n      }\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>@Target(AnnotationTarget.PROPERTY)\nannotation class CustomAnnotation\n\n@Target(AnnotationTarget.PROPERTY)\nannotation class CustomAnnotation2\n\ndata class Nested(\n  @CustomAnnotation val nestedValue1: String,\n  val nestedValue2: Double\n)\n\ndata class Parent(\n  val parentValue1: Nested,\n  @CustomAnnotation @CustomAnnotation2 val parentValue2: String\n)\n\nParent::class.getFieldAndAnnotationNames().forEach(::println)\n// Output: parentValue2=[CustomAnnotation(), CustomAnnotation2()]\n\nNested::class.getFieldAndAnnotationNames().forEach(::println)\n// Output: nestedValue1=[CustomAnnotation()]\n</code></pre>\n<p>And this is another function using above function to get info about all nested data classes and its annotations:</p>\n<pre><code>fun KClass&lt;*&gt;.getNestedFieldAndAnnotationNames(): Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; {\n  return declaredMemberProperties\n    .filter { it.returnType.jvmErasure.isData }\n    .associate { kProp -&gt;\n      kProp.name to kProp.returnType.jvmErasure.getFieldAndAnnotationNames()\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>Parent::class.getNestedFieldAndAnnotationNames().forEach(::println)\n// Output: parentValue1={nestedValue1=[CustomAnnotation()]}\n</code></pre>\n"}],"owner":{"account_id":22518129,"reputation":161,"user_id":16712098,"display_name":"HongJeongHyeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676987161,"creation_date":1676957517,"question_id":75516623,"body_markdown":"I&#39;m trying to find all annotated fields in Kotlin.  \r\nIs there any neat way to solve this problem?  \r\n&lt;br&gt;\r\nI want to get annotated field name, &quot;value&quot; from Parent class\r\n\r\n``` kotlin\r\ndata class Parent(\r\n    val nested: Nested\r\n)\r\n\r\ndata class Nested(\r\n    @CustomAnnotation\r\n    val value: String\r\n)\r\n```\r\n","title":"How can I find all annotated fields in nested DTO?","body":"<p>I'm trying to find all annotated fields in Kotlin.<br />\nIs there any neat way to solve this problem?<br />\n<br>\nI want to get annotated field name, &quot;value&quot; from Parent class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Parent(\n    val nested: Nested\n)\n\ndata class Nested(\n    @CustomAnnotation\n    val value: String\n)\n</code></pre>\n"},{"tags":["java","spring-boot","optaplanner"],"answers":[{"comments":[{"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"score":0,"creation_date":1676989026,"post_id":75521331,"comment_id":133245112,"body_markdown":"Thanks for the guidance.  I didn&#39;t know we could have a solverConfig.xml in SpringBoot.  I&#39;ll try the move selector.","body":"Thanks for the guidance.  I didn&#39;t know we could have a solverConfig.xml in SpringBoot.  I&#39;ll try the move selector."},{"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"score":0,"creation_date":1676993172,"post_id":75521331,"comment_id":133246649,"body_markdown":"Geoffrey De Smet, in a simple example from the doc 6.4.1. Filtered move selection, this would seem to be what I&#39;m looking for, a simple check.  Why would this not work? public class DifferentCourseSwapMoveFilter implements SelectionFilter&lt;CourseSchedule, SwapMove&gt; {\n\n    @Override\n    public boolean accept(ScoreDirector&lt;CourseSchedule&gt; scoreDirector, SwapMove move) {\n        Lecture leftLecture = (Lecture) move.getLeftEntity();\n        Lecture rightLecture = (Lecture) move.getRightEntity();\n        return !leftLecture.getCourse().equals(rightLecture.getCourse());\n    }\n\n}","body":"Geoffrey De Smet, in a simple example from the doc 6.4.1. Filtered move selection, this would seem to be what I&#39;m looking for, a simple check.  Why would this not work? public class DifferentCourseSwapMoveFilter implements SelectionFilter&lt;CourseSchedule, SwapMove&gt; {      @Override     public boolean accept(ScoreDirector&lt;CourseSchedule&gt; scoreDirector, SwapMove move) {         Lecture leftLecture = (Lecture) move.getLeftEntity();         Lecture rightLecture = (Lecture) move.getRightEntity();         return !leftLecture.getCourse().equals(rightLecture.getCourse());     }  }"},{"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"score":0,"creation_date":1677001824,"post_id":75521331,"comment_id":133249401,"body_markdown":"You need a bulk move that moves both the toddler and parent at the same time. The move selection filter cannot accomplish that, since it just filters move (and neither change moves nor swap moves are bulk moves; change move changes value for one entity, swap moves swap values between two entities). You need a double/triple swap move, a swap move that exchanges values of four or more pair of entities. A filtered move selector (to select only parent/child pairs) would work on the double/triple swap move, but not on the normal swap move.","body":"You need a bulk move that moves both the toddler and parent at the same time. The move selection filter cannot accomplish that, since it just filters move (and neither change moves nor swap moves are bulk moves; change move changes value for one entity, swap moves swap values between two entities). You need a double/triple swap move, a swap move that exchanges values of four or more pair of entities. A filtered move selector (to select only parent/child pairs) would work on the double/triple swap move, but not on the normal swap move."}],"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986974,"creation_date":1676986974,"answer_id":75521331,"question_id":75512720,"body_markdown":"Adding a specific **move selector** can help with this problem. This can be a generic move (such as **pillar swaps**) or a **custom move**. No point in changing the `Acceptor`.\r\n\r\nI presume you have a hard constraint to keep families together (= seated next to each other), especially a toddler with their parent. If you turn on TRACE logging (not just DEBUG), you&#39;ll see that it does evaluate moves that change the toddler&#39;s seat, but it never selects them as the winning step, because of that hard constraint (the parent didn&#39;t change seat in the same move).\r\n\r\nSo the trick is to have a move that moves both the toddler and its parent together.\r\n\r\nAdd a `src/main/resources/solverConfig.xml` file (location can be customized with `optaplanner.solver-config-xml` in `application.properties`. Have it contain something like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\r\n      &lt;constructionHeuristic/&gt;\r\n      &lt;localSearch&gt;\r\n        &lt;unionMoveSelector&gt;\r\n          &lt;changeMoveSelector/&gt;\r\n          &lt;swapMoveSelector/&gt;\r\n          ... &lt;!-- Add your custom move factory/iterator here --&gt;\r\n        &lt;/unionMoveSelector&gt;\r\n      &lt;/localSearch&gt;\r\n    &lt;/solver&gt;\r\n\r\nAlways keep a change and swap move selector in the mix too. Keep an eye on your score calculation speed (last INFO log message) before and after these changes. Read about JUST_IN_TIME selection.","title":"Having a problem with local optima how to write Move or Accpetor with SpringBoot to search wider space","body":"<p>Adding a specific <strong>move selector</strong> can help with this problem. This can be a generic move (such as <strong>pillar swaps</strong>) or a <strong>custom move</strong>. No point in changing the <code>Acceptor</code>.</p>\n<p>I presume you have a hard constraint to keep families together (= seated next to each other), especially a toddler with their parent. If you turn on TRACE logging (not just DEBUG), you'll see that it does evaluate moves that change the toddler's seat, but it never selects them as the winning step, because of that hard constraint (the parent didn't change seat in the same move).</p>\n<p>So the trick is to have a move that moves both the toddler and its parent together.</p>\n<p>Add a <code>src/main/resources/solverConfig.xml</code> file (location can be customized with <code>optaplanner.solver-config-xml</code> in <code>application.properties</code>. Have it contain something like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\n  &lt;constructionHeuristic/&gt;\n  &lt;localSearch&gt;\n    &lt;unionMoveSelector&gt;\n      &lt;changeMoveSelector/&gt;\n      &lt;swapMoveSelector/&gt;\n      ... &lt;!-- Add your custom move factory/iterator here --&gt;\n    &lt;/unionMoveSelector&gt;\n  &lt;/localSearch&gt;\n&lt;/solver&gt;\n</code></pre>\n<p>Always keep a change and swap move selector in the mix too. Keep an eye on your score calculation speed (last INFO log message) before and after these changes. Read about JUST_IN_TIME selection.</p>\n"}],"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676986974,"creation_date":1676916138,"question_id":75512720,"body_markdown":"I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid). I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.  Looking at the logs it looks like the Solver is performing &quot;accepted/selected move&quot; on similar Passengers with similar bids and I want it to select Passengers with different bids.\r\n\r\nI want to accept a move on different Bids for different seats and explore a wider space.\r\n\r\nI couldn&#39;t find any sample about how to write either a Move or Acceptor and then how to have SpringBoot use this new class.  But maybe I&#39;m just missing a setting. Thanks\r\n\r\n\r\n\r\n\r\n","title":"Having a problem with local optima how to write Move or Accpetor with SpringBoot to search wider space","body":"<p>I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid). I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.  Looking at the logs it looks like the Solver is performing &quot;accepted/selected move&quot; on similar Passengers with similar bids and I want it to select Passengers with different bids.</p>\n<p>I want to accept a move on different Bids for different seats and explore a wider space.</p>\n<p>I couldn't find any sample about how to write either a Move or Acceptor and then how to have SpringBoot use this new class.  But maybe I'm just missing a setting. Thanks</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1545057612,"post_id":53817147,"comment_id":94483151,"body_markdown":"Assuming you are running a set, that does not work?","body":"Assuming you are running a set, that does not work?"},{"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"score":0,"creation_date":1545061714,"post_id":53817147,"comment_id":94485576,"body_markdown":"I&#39;m running an application with java and groovy code.  If I exclude the groovy code, I can compile with maven compiler 3.8.0, java 11. Adding the groovy ...it&#39;s another story, as mentioned.","body":"I&#39;m running an application with java and groovy code.  If I exclude the groovy code, I can compile with maven compiler 3.8.0, java 11. Adding the groovy ...it&#39;s another story, as mentioned."},{"owner":{"account_id":49112,"reputation":717,"user_id":146084,"display_name":"Paul King"},"score":0,"creation_date":1545120869,"post_id":53817147,"comment_id":94505969,"body_markdown":"I need to play with the various options a bit more but I know that we have had some success with Micronaut. You can create a Microservices app using Groovy as your language and Maven as your build environment (it has polyglot support) and that works with some known limitations for edge cases. There is work being done for a better experience in particular working better with Spock but that will likely appear in future releases. I am not suggesting that your scenario necessarily involves microservices but the generated builds may prove useful to look at.","body":"I need to play with the various options a bit more but I know that we have had some success with Micronaut. You can create a Microservices app using Groovy as your language and Maven as your build environment (it has polyglot support) and that works with some known limitations for edge cases. There is work being done for a better experience in particular working better with Spock but that will likely appear in future releases. I am not suggesting that your scenario necessarily involves microservices but the generated builds may prove useful to look at."}],"answers":[{"comments":[{"owner":{"account_id":1670483,"reputation":1741,"user_id":1537025,"accept_rate":100,"display_name":"gjoris"},"score":2,"creation_date":1556608706,"post_id":53837329,"comment_id":98485790,"body_markdown":"You have just made my day a lot brighter :-) Works with Groovy 2.5.5 too.","body":"You have just made my day a lot brighter :-) Works with Groovy 2.5.5 too."},{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1674930042,"post_id":53837329,"comment_id":132820665,"body_markdown":"**source** and **target** props were replaced by **release** for maven-compiler-plugin 3.8.0.","body":"<b>source</b> and <b>target</b> props were replaced by <b>release</b> for maven-compiler-plugin 3.8.0."}],"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1561781501,"creation_date":1545150544,"answer_id":53837329,"question_id":53817147,"body_markdown":"In the end this worked: \r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\t\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t&lt;goal&gt;compileTests&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\ngroovy.version: 2.4.12\r\n","title":"compiling Java and groovy with java 11","body":"<p>In the end this worked: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n    &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;goal&gt;compileTests&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>groovy.version: 2.4.12</p>\n"},{"tags":[],"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547329841,"creation_date":1547329841,"answer_id":54164185,"question_id":53817147,"body_markdown":"Here is a typical POM for the `groovy-eclipse-compiler` adapter:\r\n\r\n    &lt;project\r\n     xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                         http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;proj-name&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.whatever&lt;/groupId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.fork&gt;true&lt;/maven.compiler.fork&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;US-ASCII&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;bintray&lt;/id&gt;\r\n          &lt;name&gt;Groovy Bintray&lt;/name&gt;\r\n          &lt;url&gt;https://dl.bintray.com/groovy/maven&lt;/url&gt;\r\n          &lt;releases&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n          &lt;/releases&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.5&lt;/version&gt;\r\n          &lt;classifier&gt;indy&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\r\n              &lt;compilerArguments&gt;\r\n                &lt;indy/&gt;\r\n              &lt;/compilerArguments&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-01&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5-01&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIt assumes you have src/main/groovy, src/main/java, src/test/groovy and src/test/java.  It is possible to have other source folder configurations with some additional XML.  More details here: https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin","title":"compiling Java and groovy with java 11","body":"<p>Here is a typical POM for the <code>groovy-eclipse-compiler</code> adapter:</p>\n\n<pre><code>&lt;project\n xmlns=\"http://maven.apache.org/POM/4.0.0\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                     http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;proj-name&lt;/artifactId&gt;\n  &lt;groupId&gt;org.whatever&lt;/groupId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.fork&gt;true&lt;/maven.compiler.fork&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;US-ASCII&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;bintray&lt;/id&gt;\n      &lt;name&gt;Groovy Bintray&lt;/name&gt;\n      &lt;url&gt;https://dl.bintray.com/groovy/maven&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;2.5.5&lt;/version&gt;\n      &lt;classifier&gt;indy&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\n          &lt;compilerArguments&gt;\n            &lt;indy/&gt;\n          &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-01&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5-01&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>It assumes you have src/main/groovy, src/main/java, src/test/groovy and src/test/java.  It is possible to have other source folder configurations with some additional XML.  More details here: <a href=\"https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin</a></p>\n"},{"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1562957486,"post_id":56837509,"comment_id":100557583,"body_markdown":"Can you give an example comprising of compiling just groovy sources with a `module-info.java` which exports some of the packages? Please and thank you!","body":"Can you give an example comprising of compiling just groovy sources with a <code>module-info.java</code> which exports some of the packages? Please and thank you!"}],"tags":[],"owner":{"account_id":2843093,"reputation":2205,"user_id":2650325,"display_name":"Manuel Perez Heredia"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562009707,"creation_date":1561991435,"answer_id":56837509,"question_id":53817147,"body_markdown":"There is a [sample gradle project][1] in GitHub that compiles Java and Groovy and uses Java from Groovy and viceversa. With a little changes you can make it work in Java 11. Basically use this `build.gradle`:\r\n\r\n    group &#39;de.jonashavers&#39;\r\n    version &#39;1.0.0&#39;\r\n    \r\n    apply plugin: &#39;groovy&#39;\r\n    \r\n    sourceSets {\r\n        main {\r\n            java { srcDirs = [] }\r\n            groovy { srcDirs &lt;&lt; [&#39;src/main/java&#39;] }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;org.codehaus.groovy:groovy-all:2.5.7&#39;\r\n        compile &#39;javax.xml.bind:jaxb-api:2.3.0&#39;\r\n        compile &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;\r\n        compile &#39;com.sun.xml.bind:jaxb-impl:2.3.0.1&#39;\r\n        compile &#39;javax.activation:activation:1.1.1&#39;\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    }\r\n\r\nThis must be the file structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe Groovy class:\r\n\r\n    package de.jonashavers.groovierjavacompilation\r\n\r\n    class PlainGroovy {\r\n        String language = &#39;groovy&#39;\r\n    \r\n        static void main(String[] args) {\r\n            String lang = &quot;Groovy&quot;\r\n            println(lang)\r\n        }\r\n    }\r\n\r\nThe Java Class:\r\n\r\n    package de.jonashavers.groovierjavacompilation;\r\n    \r\n    class JavaExtendingGroovy extends PlainGroovy {\r\n    }\r\n\r\nAnd the tests:\r\n\r\n**Java:**\r\n\r\n    package de.jonashavers.groovierjavacompilation;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertEquals;\r\n    public class JavaTest {\r\n    \r\n        @Test\r\n        public void testAccessToGroovy() {\r\n            PlainGroovy plainGroovy = new PlainGroovy();\r\n            assertEquals(&quot;groovy&quot;, plainGroovy.getLanguage());\r\n        }\r\n    \r\n        @Test\r\n        public void testAccessToGroovyFromJava() {\r\n            JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy();\r\n            assertEquals(&quot;groovy&quot;, groovyFromJava.getLanguage());\r\n        }\r\n    }\r\n\r\n**Groovy:**\r\n\r\n    package de.jonashavers.groovierjavacompilation\r\n    \r\n    class GroovyTest extends GroovyTestCase {\r\n    \r\n        void testAccessToGroovy() {\r\n            PlainGroovy plainGroovy = new PlainGroovy()\r\n            assertEquals &#39;groovy&#39;, plainGroovy.language\r\n        }\r\n    \r\n        void testAccessToGroovyFromJava() {\r\n            JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy()\r\n            assertEquals &#39;groovy&#39;, groovyFromJava.language\r\n        }\r\n    }\r\n\r\nI forked the project and followed the directions in [this link][3] to make it work. Here is [the fork that works in Java11][4], the **java11 branch**. Hope this helps:\r\n\r\n\r\n  [1]: https://github.com/JonasHavers/groovier-java-compilation\r\n  [2]: https://i.stack.imgur.com/8hscn.png\r\n  [3]: https://github.com/apache/groovy/blob/master/subprojects/groovy-jaxb/build.gradle\r\n  [4]: https://github.com/vherasme/groovier-java-compilation\r\n\r\n","title":"compiling Java and groovy with java 11","body":"<p>There is a <a href=\"https://github.com/JonasHavers/groovier-java-compilation\" rel=\"nofollow noreferrer\">sample gradle project</a> in GitHub that compiles Java and Groovy and uses Java from Groovy and viceversa. With a little changes you can make it work in Java 11. Basically use this <code>build.gradle</code>:</p>\n\n<pre><code>group 'de.jonashavers'\nversion '1.0.0'\n\napply plugin: 'groovy'\n\nsourceSets {\n    main {\n        java { srcDirs = [] }\n        groovy { srcDirs &lt;&lt; ['src/main/java'] }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'org.codehaus.groovy:groovy-all:2.5.7'\n    compile 'javax.xml.bind:jaxb-api:2.3.0'\n    compile 'com.sun.xml.bind:jaxb-core:2.3.0.1'\n    compile 'com.sun.xml.bind:jaxb-impl:2.3.0.1'\n    compile 'javax.activation:activation:1.1.1'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>This must be the file structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8hscn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8hscn.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Groovy class:</p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation\n\nclass PlainGroovy {\n    String language = 'groovy'\n\n    static void main(String[] args) {\n        String lang = \"Groovy\"\n        println(lang)\n    }\n}\n</code></pre>\n\n<p>The Java Class:</p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation;\n\nclass JavaExtendingGroovy extends PlainGroovy {\n}\n</code></pre>\n\n<p>And the tests:</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation;\nimport org.junit.Test;\nimport static org.junit.Assert.assertEquals;\npublic class JavaTest {\n\n    @Test\n    public void testAccessToGroovy() {\n        PlainGroovy plainGroovy = new PlainGroovy();\n        assertEquals(\"groovy\", plainGroovy.getLanguage());\n    }\n\n    @Test\n    public void testAccessToGroovyFromJava() {\n        JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy();\n        assertEquals(\"groovy\", groovyFromJava.getLanguage());\n    }\n}\n</code></pre>\n\n<p><strong>Groovy:</strong></p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation\n\nclass GroovyTest extends GroovyTestCase {\n\n    void testAccessToGroovy() {\n        PlainGroovy plainGroovy = new PlainGroovy()\n        assertEquals 'groovy', plainGroovy.language\n    }\n\n    void testAccessToGroovyFromJava() {\n        JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy()\n        assertEquals 'groovy', groovyFromJava.language\n    }\n}\n</code></pre>\n\n<p>I forked the project and followed the directions in <a href=\"https://github.com/apache/groovy/blob/master/subprojects/groovy-jaxb/build.gradle\" rel=\"nofollow noreferrer\">this link</a> to make it work. Here is <a href=\"https://github.com/vherasme/groovier-java-compilation\" rel=\"nofollow noreferrer\">the fork that works in Java11</a>, the <strong>java11 branch</strong>. Hope this helps:</p>\n"},{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986833,"creation_date":1676986833,"answer_id":75521303,"question_id":53817147,"body_markdown":"upgrading `groovy` to version `3.0.15` and `maven-compiler-plugin` to version `3.10.1` solved the issue for me:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"compiling Java and groovy with java 11","body":"<p>upgrading <code>groovy</code> to version <code>3.0.15</code> and <code>maven-compiler-plugin</code> to version <code>3.10.1</code> solved the issue for me:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"}],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15617,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":4,"score":8,"last_activity_date":1676986833,"creation_date":1545056450,"question_id":53817147,"body_markdown":"Does anyone know which compiler/plugin compiles java and groovy code with the java 11 version?\r\n\r\nI&#39;ve tried GMavenPlus, Groovy eclipse compiler, and Maven‚Äôs Ant plugin. So far without success.\r\n","title":"compiling Java and groovy with java 11","body":"<p>Does anyone know which compiler/plugin compiles java and groovy code with the java 11 version?</p>\n\n<p>I've tried GMavenPlus, Groovy eclipse compiler, and Maven‚Äôs Ant plugin. So far without success.</p>\n"},{"tags":["java","android","kotlin","taptargetview"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676982024,"post_id":75519323,"comment_id":133242748,"body_markdown":"If you are trying to highlight something in the dialog, your dialog would need to show the highlight.","body":"If you are trying to highlight something in the dialog, your dialog would need to show the highlight."},{"owner":{"account_id":14845972,"reputation":31,"user_id":10721267,"display_name":"Maciej123m"},"score":0,"creation_date":1676984292,"post_id":75519323,"comment_id":133243504,"body_markdown":"@CommonsWare how can i make it show the backlight? I am passing &#39;dialog&#39; to this object from the TapTargetView library","body":"@CommonsWare how can i make it show the backlight? I am passing &#39;dialog&#39; to this object from the TapTargetView library"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676984509,"post_id":75519323,"comment_id":133243585,"body_markdown":"You might consider editing your question to provide a [mcve].","body":"You might consider editing your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":14845972,"reputation":31,"user_id":10721267,"display_name":"Maciej123m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676986694,"creation_date":1676976080,"question_id":75519323,"body_markdown":"I want to create a tutorial for a user in my application. I use the TapTargetView library for this, when calling it on dialogfragment, the view that is created is displayed in the background of dialogfragment (red circle)\r\n\r\n[![](https://i.stack.imgur.com/XpioW.png)](https://i.stack.imgur.com/XpioW.png)\r\n\r\n```kotlin\r\n override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n\r\n        val tap = TapTarget.forView(\r\n            binding.kosztEditText,\r\n            &quot;tittle&quot;,\r\n            &quot;description&quot;)\r\n            .outerCircleColor(R.color.Red2) // Specify a color for the outer circle\r\n            .outerCircleAlpha(0.96f) // Specify the alpha amount for the outer circle\r\n            .titleTextSize(24) // Specify the size (in sp) of the title text\r\n            .titleTextColor(R.color.white) // Specify the color of the title text\r\n            .descriptionTextSize(16) // Specify the size (in sp) of the description text\r\n            .textColor(R.color.white) // Specify a color for both the title and description text\r\n            .dimColor(R.color.black) // If set, will dim behind the view with 30% opacity of the given color\r\n            .targetCircleColor(R.color.Red2)\r\n            .drawShadow(false) // Whether to draw a drop shadow or not\r\n            .cancelable(true) // Whether tapping outside the outer circle dismisses the view\r\n            .targetRadius(25)\r\n            .transparentTarget(true)\r\n\r\n\r\n        var a = TapTargetView.showFor(dialog,tap,object : TapTargetView.Listener(){\r\n            override fun onTargetClick(view: TapTargetView?) {\r\n                super.onTargetClick(view)\r\n                view!!.dismiss(true)\r\n            }\r\n\r\n            override fun onOuterCircleClick(view: TapTargetView?) {\r\n                super.onOuterCircleClick(view)\r\n                view!!.dismiss(true)\r\n            }\r\n        })\r\n\r\n```\r\n\r\ni tried to change z-index, convert dialog fragment to dialog, add created view to fragment and nothing worked","title":"Displaying a view above dialog fragment","body":"<p>I want to create a tutorial for a user in my application. I use the TapTargetView library for this, when calling it on dialogfragment, the view that is created is displayed in the background of dialogfragment (red circle)</p>\n<p><a href=\"https://i.stack.imgur.com/XpioW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XpioW.png\" alt=\"\" /></a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n\n        val tap = TapTarget.forView(\n            binding.kosztEditText,\n            &quot;tittle&quot;,\n            &quot;description&quot;)\n            .outerCircleColor(R.color.Red2) // Specify a color for the outer circle\n            .outerCircleAlpha(0.96f) // Specify the alpha amount for the outer circle\n            .titleTextSize(24) // Specify the size (in sp) of the title text\n            .titleTextColor(R.color.white) // Specify the color of the title text\n            .descriptionTextSize(16) // Specify the size (in sp) of the description text\n            .textColor(R.color.white) // Specify a color for both the title and description text\n            .dimColor(R.color.black) // If set, will dim behind the view with 30% opacity of the given color\n            .targetCircleColor(R.color.Red2)\n            .drawShadow(false) // Whether to draw a drop shadow or not\n            .cancelable(true) // Whether tapping outside the outer circle dismisses the view\n            .targetRadius(25)\n            .transparentTarget(true)\n\n\n        var a = TapTargetView.showFor(dialog,tap,object : TapTargetView.Listener(){\n            override fun onTargetClick(view: TapTargetView?) {\n                super.onTargetClick(view)\n                view!!.dismiss(true)\n            }\n\n            override fun onOuterCircleClick(view: TapTargetView?) {\n                super.onOuterCircleClick(view)\n                view!!.dismiss(true)\n            }\n        })\n\n</code></pre>\n<p>i tried to change z-index, convert dialog fragment to dialog, add created view to fragment and nothing worked</p>\n"},{"tags":["java","groovy","spock","java-11"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1613065581,"post_id":66158925,"comment_id":116967728,"body_markdown":"https://stackoverflow.com/questions/53817147/compiling-java-and-groovy-with-java-11","body":"<a href=\"https://stackoverflow.com/questions/53817147/compiling-java-and-groovy-with-java-11\" title=\"compiling java and groovy with java 11\">stackoverflow.com/questions/53817147/&hellip;</a>"},{"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"score":0,"creation_date":1613072360,"post_id":66158925,"comment_id":116970783,"body_markdown":"Thanks, I tried it with no luck.","body":"Thanks, I tried it with no luck."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1613080396,"post_id":66158925,"comment_id":116973929,"body_markdown":"why groovy 2.4 with java 11 ? groovy 2.4 is not working correctly even with java 9 :http://groovy-lang.org/releasenotes/groovy-2.5.html","body":"why groovy 2.4 with java 11 ? groovy 2.4 is not working correctly even with java 9 :<a href=\"http://groovy-lang.org/releasenotes/groovy-2.5.html\" rel=\"nofollow noreferrer\">groovy-lang.org/releasenotes/groovy-2.5.html</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1613093821,"post_id":66158925,"comment_id":116977287,"body_markdown":"Besides (and because you also tagged the question with _spock_), the current version Spock 2.0-M4 needs Groovy 2.5 as minimum and the previous stable release 1.3 also supports Groovy 2.5 if you use the right artifact. There is no need to stay on 2.4 because of Spock, if that is what you thought.","body":"Besides (and because you also tagged the question with <i>spock</i>), the current version Spock 2.0-M4 needs Groovy 2.5 as minimum and the previous stable release 1.3 also supports Groovy 2.5 if you use the right artifact. There is no need to stay on 2.4 because of Spock, if that is what you thought."}],"answers":[{"tags":[],"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616116570,"creation_date":1616116570,"answer_id":66701302,"question_id":66158925,"body_markdown":"This message is to warn you that your desired bytecode is not supported by the versions you currently have.\r\n\r\nTargeting Java 11 bytecode requires Groovy 2.5.3/3.0.0-alpha-4 or newer and GMavenPlus 1.6.2 or newer.","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>This message is to warn you that your desired bytecode is not supported by the versions you currently have.</p>\n<p>Targeting Java 11 bytecode requires Groovy 2.5.3/3.0.0-alpha-4 or newer and GMavenPlus 1.6.2 or newer.</p>\n"},{"comments":[{"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"score":0,"creation_date":1677055278,"post_id":75521287,"comment_id":133259804,"body_markdown":"nb. using Groovy ver 3.0.15","body":"nb. using Groovy ver 3.0.15"}],"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986689,"creation_date":1676986689,"answer_id":75521287,"question_id":66158925,"body_markdown":"In my case bumping the version of the `maven-compiler-plugin` from `3.8.1` to `3.10.1` solved the issue, every other approach suggested in similar threads failed :\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>In my case bumping the version of the <code>maven-compiler-plugin</code> from <code>3.8.1</code> to <code>3.10.1</code> solved the issue, every other approach suggested in similar threads failed :</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"}],"owner":{"account_id":13588641,"reputation":4687,"user_id":9802634,"display_name":"danny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676986689,"creation_date":1613061646,"question_id":66158925,"body_markdown":"I saw couple of problems like this but none of the given advice helped me, so I add this.\r\nI have Java app and I migrate it to Java 11. I can run it but when i try to `mvn install` it i get tge error: \r\n\r\n&gt; Failed to execute goal\r\n&gt; org.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests (default)\r\n&gt; on project osa-backend: Execution default of goal\r\n&gt; org.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests failed:\r\n&gt; Unrecognized target bytecode.\r\n\r\nThis is my plugin:\r\n&lt;plugin&gt;\r\n\r\n&gt;             &lt;plugin&gt;\r\n&gt;             &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.6&lt;/version&gt;\r\n&gt;             &lt;executions&gt;\r\n&gt;                 &lt;execution&gt;\r\n&gt;                     &lt;goals&gt;\r\n&gt;                         &lt;goal&gt;compileTests&lt;/goal&gt;\r\n&gt;                     &lt;/goals&gt;\r\n&gt;                 &lt;/execution&gt;\r\n&gt;             &lt;/executions&gt;\r\n&gt;             &lt;dependencies&gt;\r\n&gt;                 &lt;dependency&gt;\r\n&gt;                     &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n&gt;                     &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n&gt;                     &lt;version&gt;2.4.16&lt;/version&gt;\r\n&gt;                 &lt;/dependency&gt;\r\n&gt;             &lt;/dependencies&gt;\r\n&gt;         &lt;/plugin&gt;\r\n\r\nThanks for any suggestions cause I have no idea what can I change now.","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>I saw couple of problems like this but none of the given advice helped me, so I add this.\nI have Java app and I migrate it to Java 11. I can run it but when i try to <code>mvn install</code> it i get tge error:</p>\n<blockquote>\n<p>Failed to execute goal\norg.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests (default)\non project osa-backend: Execution default of goal\norg.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests failed:\nUnrecognized target bytecode.</p>\n</blockquote>\n<p>This is my plugin:\n</p>\n<blockquote>\n<pre><code>        &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compileTests&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n                &lt;version&gt;2.4.16&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n</blockquote>\n<p>Thanks for any suggestions cause I have no idea what can I change now.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"owner":{"account_id":25598068,"reputation":3,"user_id":20142347,"display_name":"gexter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676986497,"creation_date":1676986072,"question_id":75521165,"body_markdown":"I need methods for get lessons by studentId for day and for month. \r\n\r\nIf i convert ZonedDateTime to java.util.Date scripts doesn&#39;t work. Also if i put to the \r\n`List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);` method date with day !=1 (2023.02.02 or another)  it also return nothing, only if i put Date with day = 1 like (2023.02.01).\r\n\r\n**initial database script**\r\n\r\n```\r\ncreate table if not exists faculties\r\n(\r\n    id       serial primary key,\r\n    name     varchar(64) not null unique,\r\n    duration integer\r\n);\r\n\r\ncreate table if not exists groups\r\n(\r\n    id         serial primary key,\r\n    name       varchar(32) not null unique,\r\n    faculty_id int references faculties (id)\r\n);\r\n\r\ncreate table if not exists students\r\n(\r\n    id         serial primary key,\r\n    first_name varchar(32) not null,\r\n    last_name  varchar(32) not null,\r\n    age        smallint,\r\n    group_id   int references groups (id),\r\n    course     smallint,\r\n    email      varchar(64) unique\r\n);\r\n\r\ncreate table if not exists subjects\r\n(\r\n    id          serial primary key,\r\n    name        varchar(64) not null unique,\r\n    description varchar(256)\r\n);\r\n\r\ncreate table if not exists teachers\r\n(\r\n    id         serial primary key,\r\n    first_name varchar(32) not null,\r\n    last_name  varchar(32) not null,\r\n    age        smallint    not null,\r\n    grade      varchar(32),\r\n    experience int,\r\n    email      varchar(64) unique,\r\n    faculty_id int references faculties (id)\r\n);\r\n\r\ncreate table if not exists lessons\r\n(\r\n    id         serial primary key,\r\n    name       varchar(64) not null,\r\n    duration   int,\r\n    start_time timestamptz,\r\n    subject_id int references subjects (id),\r\n    group_id   int references groups (id),\r\n    teacher_id int references teachers (id)\r\n);\r\n\r\n```\r\n\r\n**repository class** \r\n\r\n```package ua.com.foxminded.university.persistance.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\nimport ua.com.foxminded.university.persistance.model.LessonEntity;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface LessonRepository extends JpaRepository&lt;LessonEntity, Long&gt; {\r\n\r\n    @Query(value = &quot;select l from StudentEntity s &quot; +\r\n            &quot;join GroupEntity g on s.group.id = g.id &quot; +\r\n            &quot;join LessonEntity l on g.id = l.group.id &quot; +\r\n            &quot;where s.id = :id &quot; +\r\n            &quot;and date_trunc(&#39;day&#39;, l.startTime) = :date&quot;)\r\n    List&lt;LessonEntity&gt; findAllLessonsForDayByStudentIdAndDate(Long id, Date date);\r\n\r\n    @Query(value = &quot;select l from StudentEntity s &quot; +\r\n            &quot;join fetch GroupEntity g on s.group.id = g.id &quot; +\r\n            &quot;join fetch LessonEntity l on g.id = l.group.id &quot; +\r\n            &quot;where s.id= :id &quot; +\r\n            &quot;and date_trunc(&#39;month&#39;, l.startTime) = :date&quot;)\r\n    List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);```\r\n\r\ni&#39;m take Date from ZonedDateTime using Date.from(ZonedDateTime.toInstant()).","title":"the date_trunc function works strangely with Spring Data JPA","body":"<p>I need methods for get lessons by studentId for day and for month.</p>\n<p>If i convert ZonedDateTime to java.util.Date scripts doesn't work. Also if i put to the\n<code>List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);</code> method date with day !=1 (2023.02.02 or another)  it also return nothing, only if i put Date with day = 1 like (2023.02.01).</p>\n<p><strong>initial database script</strong></p>\n<pre><code>create table if not exists faculties\n(\n    id       serial primary key,\n    name     varchar(64) not null unique,\n    duration integer\n);\n\ncreate table if not exists groups\n(\n    id         serial primary key,\n    name       varchar(32) not null unique,\n    faculty_id int references faculties (id)\n);\n\ncreate table if not exists students\n(\n    id         serial primary key,\n    first_name varchar(32) not null,\n    last_name  varchar(32) not null,\n    age        smallint,\n    group_id   int references groups (id),\n    course     smallint,\n    email      varchar(64) unique\n);\n\ncreate table if not exists subjects\n(\n    id          serial primary key,\n    name        varchar(64) not null unique,\n    description varchar(256)\n);\n\ncreate table if not exists teachers\n(\n    id         serial primary key,\n    first_name varchar(32) not null,\n    last_name  varchar(32) not null,\n    age        smallint    not null,\n    grade      varchar(32),\n    experience int,\n    email      varchar(64) unique,\n    faculty_id int references faculties (id)\n);\n\ncreate table if not exists lessons\n(\n    id         serial primary key,\n    name       varchar(64) not null,\n    duration   int,\n    start_time timestamptz,\n    subject_id int references subjects (id),\n    group_id   int references groups (id),\n    teacher_id int references teachers (id)\n);\n\n</code></pre>\n<p><strong>repository class</strong></p>\n<pre><code>\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport ua.com.foxminded.university.persistance.model.LessonEntity;\n\nimport java.util.Date;\nimport java.util.List;\n\n@Repository\npublic interface LessonRepository extends JpaRepository&lt;LessonEntity, Long&gt; {\n\n    @Query(value = &quot;select l from StudentEntity s &quot; +\n            &quot;join GroupEntity g on s.group.id = g.id &quot; +\n            &quot;join LessonEntity l on g.id = l.group.id &quot; +\n            &quot;where s.id = :id &quot; +\n            &quot;and date_trunc('day', l.startTime) = :date&quot;)\n    List&lt;LessonEntity&gt; findAllLessonsForDayByStudentIdAndDate(Long id, Date date);\n\n    @Query(value = &quot;select l from StudentEntity s &quot; +\n            &quot;join fetch GroupEntity g on s.group.id = g.id &quot; +\n            &quot;join fetch LessonEntity l on g.id = l.group.id &quot; +\n            &quot;where s.id= :id &quot; +\n            &quot;and date_trunc('month', l.startTime) = :date&quot;)\n    List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);```\n\ni'm take Date from ZonedDateTime using Date.from(ZonedDateTime.toInstant()).\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9592,"page":631,"page_size":100}
