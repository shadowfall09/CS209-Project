{"items":[{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":10520627,"reputation":196,"user_id":7753300,"display_name":"bsk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517419012,"creation_date":1517419012,"answer_id":48547850,"question_id":48539936,"body_markdown":"You have got the class name wrong in the xpath.\r\n\r\nIt should be the following based on what I see on uiautomatorviewer\r\n\r\n    By.xpath(&quot;//android.widget.TextView[@text=&#39;&quot;+songname+&quot;&#39;]&quot;);","title":"Appium Android How to tap using the TEXT value","body":"<p>You have got the class name wrong in the xpath.</p>\n\n<p>It should be the following based on what I see on uiautomatorviewer</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[@text='\"+songname+\"']\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4537068,"reputation":548,"user_id":3685973,"display_name":"barbudito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517474695,"creation_date":1517474695,"answer_id":48558543,"question_id":48539936,"body_markdown":"If @bsk answer is not working. It might be because of a new line break...\r\n\r\nCould you try this to verify?\r\n\r\n    By.xpath(&quot;//android.widget.TextView[contains(@text, &#39;Ishq De Fanniyar (Female)&#39;)]&quot;);\r\n\r\nAlso is not a bad practice to use @resource-id too...\r\n\r\n    By.xpath(&quot;//android.widget.TextView[@resource-id=&#39;com.xefyr.ridez:id/tv_song_title&#39; and contains(@text, &#39;Ishq De Fanniyar (Female)&#39;)]&quot;);","title":"Appium Android How to tap using the TEXT value","body":"<p>If @bsk answer is not working. It might be because of a new line break...</p>\n\n<p>Could you try this to verify?</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[contains(@text, 'Ishq De Fanniyar (Female)')]\");\n</code></pre>\n\n<p>Also is not a bad practice to use @resource-id too...</p>\n\n<pre><code>By.xpath(\"//android.widget.TextView[@resource-id='com.xefyr.ridez:id/tv_song_title' and contains(@text, 'Ishq De Fanniyar (Female)')]\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1518419239,"creation_date":1518419239,"answer_id":48741107,"question_id":48539936,"body_markdown":"Found the solution. I had to write the following code in my test:\r\n\r\n    capabilities.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.ANDROID_UIAUTOMATOR2);\r\n\r\nNow I can use the TEXT value by writing that song name in the XPath like this:\r\n\r\n    By.xpath(&quot;//*[@text=&#39;&quot; + element + &quot;&#39;]&quot;);\r\n\r\nHere element is the text value shown in UIAutomatiorViewer.","title":"Appium Android How to tap using the TEXT value","body":"<p>Found the solution. I had to write the following code in my test:</p>\n\n<pre><code>capabilities.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.ANDROID_UIAUTOMATOR2);\n</code></pre>\n\n<p>Now I can use the TEXT value by writing that song name in the XPath like this:</p>\n\n<pre><code>By.xpath(\"//*[@text='\" + element + \"']\");\n</code></pre>\n\n<p>Here element is the text value shown in UIAutomatiorViewer.</p>\n"},{"tags":[],"owner":{"account_id":18470358,"reputation":57,"user_id":13455451,"display_name":"Prajeeth Anand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607088671,"creation_date":1588934155,"answer_id":61677178,"question_id":48539936,"body_markdown":"    There is no need to using custom xpath for this.\r\n    First you have to take all the elements with that resource ID and click on required element if it contains the text on which you want to click.\r\n    You can use the below code.\r\n    \r\n        List&lt;WebElement&gt; elements = driver.findElements(By.id(&quot;resource-id&quot;));\r\n        For(WebElement element:elements)\r\n        {\r\n            if(element.getText().equals(&quot;textProperty&quot;))\r\n            {\r\n                element.click();\r\n                break;\r\n            }\r\n        }","title":"Appium Android How to tap using the TEXT value","body":"<pre><code>There is no need to using custom xpath for this.\nFirst you have to take all the elements with that resource ID and click on required element if it contains the text on which you want to click.\nYou can use the below code.\n\n    List&lt;WebElement&gt; elements = driver.findElements(By.id(&quot;resource-id&quot;));\n    For(WebElement element:elements)\n    {\n        if(element.getText().equals(&quot;textProperty&quot;))\n        {\n            element.click();\n            break;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10542113,"reputation":56,"user_id":7767761,"display_name":"Doğa&#231;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672216167,"creation_date":1672214548,"answer_id":74937714,"question_id":48539936,"body_markdown":"In xPath 2 if you use Appium inspector with python you can use \r\n\r\n    //*[contains(@text, &#39;Song Name&#39;)]\r\n\r\nthat will only search for the text that contains the song name and it doesn&#39;t have to be exact same value.\r\nexample : \r\n\r\n    els1 = driver.find_elements(by=AppiumBy.XPATH, value=&quot;//*[contains(@text, &#39;Song Name&#39; )]&quot;)\r\n\r\nif you want to use for the exact text value you can use \r\n\r\n    //*[@text= &#39;Song Name&#39;]&quot;\r\n\r\n\r\n","title":"Appium Android How to tap using the TEXT value","body":"<p>In xPath 2 if you use Appium inspector with python you can use</p>\n<pre><code>//*[contains(@text, 'Song Name')]\n</code></pre>\n<p>that will only search for the text that contains the song name and it doesn't have to be exact same value.\nexample :</p>\n<pre><code>els1 = driver.find_elements(by=AppiumBy.XPATH, value=&quot;//*[contains(@text, 'Song Name' )]&quot;)\n</code></pre>\n<p>if you want to use for the exact text value you can use</p>\n<pre><code>//*[@text= 'Song Name']&quot;\n</code></pre>\n"}],"owner":{"account_id":6936586,"reputation":133,"user_id":5324295,"accept_rate":67,"display_name":"Varun Bali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19671,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":48741107,"answer_count":5,"score":4,"last_activity_date":1672216167,"creation_date":1517394606,"question_id":48539936,"body_markdown":"I want to play a song by making Appium tap the song name. Is there a code which can allow me to tap any element by using the TEXT field? I cannot use the resource id field here as there will be multiple songs later on. I tried using `By.xpath(&quot;//android.widget.EditText[@text=&#39;&quot;+song name+&quot;&#39;]&quot;);` but that did not work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ej6DI.jpg","title":"Appium Android How to tap using the TEXT value","body":"<p>I want to play a song by making Appium tap the song name. Is there a code which can allow me to tap any element by using the TEXT field? I cannot use the resource id field here as there will be multiple songs later on. I tried using <code>By.xpath(\"//android.widget.EditText[@text='\"+song name+\"']\");</code> but that did not work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ej6DI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ej6DI.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19579860,"reputation":53,"user_id":14329164,"display_name":"mason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672214884,"creation_date":1672214884,"answer_id":74937762,"question_id":74925975,"body_markdown":"I have solved the problem by myself, but still with some confusion.\r\n\r\n## Solution\r\n1. Close the vscode windows.\r\n2. Install openjdk-17-source\r\n```\r\nsudo apt install openjdk-17-source\r\n```\r\n3. Open the vscode windows. Wait vscode to load your java project.\r\n4. Be sure to configure java runtime to openjdk-17\r\n[screenshot][1]\r\n5. Then &quot;Ctrl click&quot; can navigate you to the source code of openjdk-17\r\n\r\nSimilarly, we can install openjdk-11-source and openjdk-8-source to enable Ctrl click to navigate to the source code of JDK 11 and JDK 8 when java runtime is configured to 11 or 8.\r\n```\r\nsudo apt install openjdk-11-source\r\n```\r\n\r\n## Root cause\r\nBefore installing `openjdk-17-source`, `/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip` is a broken symbolic link, which doesn&#39;t point to a valid src.zip. (I didn&#39;t notice it at the first time because when using `ls` command in Ubuntu terminal, archive files will be displayed in red font, and broken links will be displayed in red font with black background. There are nearly impossible to notice the difference when a user have a dark terminal background...)\r\n\r\nAfter installing `openjdk-17-source`, `/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip` is a valid symbolic link, which points to `../../openjdk-17/src.zip`. And `../../openjdk-17/src.zip` point to `lib/src.zip`, which is the real archive file `src.zip`.\r\n\r\n## Some confusion\r\nI found that whether `sources` field exists or not in `settings.json` has nothing to do with source code navigation.\r\nSo we don&#39;t need `sources` field in `settings.json`, like\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true\r\n        }\r\n    ],\r\n```\r\nSo what&#39;s the usage of `sources` field?\r\n\r\n## Reference\r\n- [Attach JDK source code][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6NdbE.png\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/689","title":"Navigate to JDK source code in vscode (Ctrl click)","body":"<p>I have solved the problem by myself, but still with some confusion.</p>\n<h2>Solution</h2>\n<ol>\n<li>Close the vscode windows.</li>\n<li>Install openjdk-17-source</li>\n</ol>\n<pre><code>sudo apt install openjdk-17-source\n</code></pre>\n<ol start=\"3\">\n<li>Open the vscode windows. Wait vscode to load your java project.</li>\n<li>Be sure to configure java runtime to openjdk-17\n<a href=\"https://i.stack.imgur.com/6NdbE.png\" rel=\"nofollow noreferrer\">screenshot</a></li>\n<li>Then &quot;Ctrl click&quot; can navigate you to the source code of openjdk-17</li>\n</ol>\n<p>Similarly, we can install openjdk-11-source and openjdk-8-source to enable Ctrl click to navigate to the source code of JDK 11 and JDK 8 when java runtime is configured to 11 or 8.</p>\n<pre><code>sudo apt install openjdk-11-source\n</code></pre>\n<h2>Root cause</h2>\n<p>Before installing <code>openjdk-17-source</code>, <code>/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip</code> is a broken symbolic link, which doesn't point to a valid src.zip. (I didn't notice it at the first time because when using <code>ls</code> command in Ubuntu terminal, archive files will be displayed in red font, and broken links will be displayed in red font with black background. There are nearly impossible to notice the difference when a user have a dark terminal background...)</p>\n<p>After installing <code>openjdk-17-source</code>, <code>/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip</code> is a valid symbolic link, which points to <code>../../openjdk-17/src.zip</code>. And <code>../../openjdk-17/src.zip</code> point to <code>lib/src.zip</code>, which is the real archive file <code>src.zip</code>.</p>\n<h2>Some confusion</h2>\n<p>I found that whether <code>sources</code> field exists or not in <code>settings.json</code> has nothing to do with source code navigation.\nSo we don't need <code>sources</code> field in <code>settings.json</code>, like</p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;,\n            &quot;default&quot;: true\n        }\n    ],\n</code></pre>\n<p>So what's the usage of <code>sources</code> field?</p>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://github.com/redhat-developer/vscode-java/issues/689\" rel=\"nofollow noreferrer\">Attach JDK source code</a></li>\n</ul>\n"}],"owner":{"account_id":19579860,"reputation":53,"user_id":14329164,"display_name":"mason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74937762,"answer_count":1,"score":2,"last_activity_date":1672214884,"creation_date":1672119162,"question_id":74925975,"body_markdown":"## Problem description\r\n\r\nI write java code in VScode. When I holds Ctrl key and clicks a JDK built-in class or method, it seems that it will navigate to the source code of that class or method. But I found that &quot;source code&quot; is actually generated by Fernflower decompiler (I have no idea what it is), not the real source code.\r\n\r\n(But if I Ctrl click on user class and method, it will actually navigate to the real source code)\r\n\r\nFor example,\r\nwhen I hold the Ctrl key and click on the `ArrayList` in the following screenshot,\r\n\r\n[Java code image](https://i.stack.imgur.com/7XRpBl.png)\r\n\r\nit will navigate to\r\n\r\n[result image](https://i.stack.imgur.com/s4Slwl.png)\r\n\r\nshowing `// Source code is unavailable, and was generated by the Fernflower decompiler.`\r\n\r\nHow can I configure VScode and JDK to make &quot;ctrl click&quot; navigate to the real JDK source code?\r\n\r\n## More information\r\n\r\n- OS: Ubuntu 20.04\r\n- VScode version: 1.74.1\r\n- Installed extension:\r\n  - Extension Pack for Java (v0.25.7)\r\n\r\n  - Gradle for Java (v3.12.6)\r\n- settings.json\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\r\n        }\r\n    ],\r\n```\r\n\r\n## What I have tried\r\n\r\n### See related questions\r\n\r\nI see other questions with similar title\r\n\r\n#### a. [How to debug JDK source code and add comments in vscode](https://stackoverflow.com/questions/66148664/how-to-debug-jdk-source-code-and-add-comments-in-vscode)\r\n\r\nI can&#39;t even understand what OP want to ask. And the answer to that question is on C/C++ level, not on Java level.\r\n\r\n#### b. [VSCode Ctrl + Click](https://stackoverflow.com/questions/48746485/vscode-ctrl-click)\r\n\r\nThe OP cannot use ctrl click to navigate. But I can, just not to the real source code.\r\n\r\n### Add `sources` in settings.json\r\n\r\nI found the VScode document [Configure Runtime for Projects](https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects)\r\n\r\nand the example `setting.json`\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\nAnd I guess the  `sources` might have something to do with the problem (although the document doesn&#39;t mention what `sources` does). So I imitate it and add the `sources` pointing the path to `src.zip`\r\n\r\n```\r\n&quot;java.configuration.runtimes&quot;: [\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\r\n            &quot;default&quot;: true,\r\n            &quot;sources&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\r\n        }\r\n    ],\r\n```\r\n\r\nBut it has no effect.\r\n\r\n### Disable Java Decompiler\r\n\r\nI google &quot;vscode Fernflower decompiler&quot;, and most result has somethings to do with the extension &quot;Java Decompiler&quot;. I have disabled it, and nothing helps.","title":"Navigate to JDK source code in vscode (Ctrl click)","body":"<h2>Problem description</h2>\n<p>I write java code in VScode. When I holds Ctrl key and clicks a JDK built-in class or method, it seems that it will navigate to the source code of that class or method. But I found that &quot;source code&quot; is actually generated by Fernflower decompiler (I have no idea what it is), not the real source code.</p>\n<p>(But if I Ctrl click on user class and method, it will actually navigate to the real source code)</p>\n<p>For example,\nwhen I hold the Ctrl key and click on the <code>ArrayList</code> in the following screenshot,</p>\n<p><a href=\"https://i.stack.imgur.com/7XRpBl.png\" rel=\"nofollow noreferrer\">Java code image</a></p>\n<p>it will navigate to</p>\n<p><a href=\"https://i.stack.imgur.com/s4Slwl.png\" rel=\"nofollow noreferrer\">result image</a></p>\n<p>showing <code>// Source code is unavailable, and was generated by the Fernflower decompiler.</code></p>\n<p>How can I configure VScode and JDK to make &quot;ctrl click&quot; navigate to the real JDK source code?</p>\n<h2>More information</h2>\n<ul>\n<li>OS: Ubuntu 20.04</li>\n<li>VScode version: 1.74.1</li>\n<li>Installed extension:\n<ul>\n<li><p>Extension Pack for Java (v0.25.7)</p>\n</li>\n<li><p>Gradle for Java (v3.12.6)</p>\n</li>\n</ul>\n</li>\n<li>settings.json</li>\n</ul>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n            &quot;default&quot;: true\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\n        }\n    ],\n</code></pre>\n<h2>What I have tried</h2>\n<h3>See related questions</h3>\n<p>I see other questions with similar title</p>\n<h4>a. <a href=\"https://stackoverflow.com/questions/66148664/how-to-debug-jdk-source-code-and-add-comments-in-vscode\">How to debug JDK source code and add comments in vscode</a></h4>\n<p>I can't even understand what OP want to ask. And the answer to that question is on C/C++ level, not on Java level.</p>\n<h4>b. <a href=\"https://stackoverflow.com/questions/48746485/vscode-ctrl-click\">VSCode Ctrl + Click</a></h4>\n<p>The OP cannot use ctrl click to navigate. But I can, just not to the real source code.</p>\n<h3>Add <code>sources</code> in settings.json</h3>\n<p>I found the VScode document <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">Configure Runtime for Projects</a></p>\n<p>and the example <code>setting.json</code></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n<p>And I guess the  <code>sources</code> might have something to do with the problem (although the document doesn't mention what <code>sources</code> does). So I imitate it and add the <code>sources</code> pointing the path to <code>src.zip</code></p>\n<pre><code>&quot;java.configuration.runtimes&quot;: [\n        {\n            &quot;name&quot;: &quot;JavaSE-17&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64&quot;,\n            &quot;default&quot;: true,\n            &quot;sources&quot;: &quot;/usr/lib/jvm/java-17-openjdk-amd64/lib/src.zip&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n        },\n        {\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n            &quot;path&quot;: &quot;/usr/lib/jvm/java-8-openjdk-amd64&quot;\n        }\n    ],\n</code></pre>\n<p>But it has no effect.</p>\n<h3>Disable Java Decompiler</h3>\n<p>I google &quot;vscode Fernflower decompiler&quot;, and most result has somethings to do with the extension &quot;Java Decompiler&quot;. I have disabled it, and nothing helps.</p>\n"},{"tags":["java","php","android","retrofit"],"comments":[{"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"score":0,"creation_date":1672206703,"post_id":74936676,"comment_id":132241117,"body_markdown":"Your response json contains array which doesn&#39;t match your data object class so please make sure that you have created correct data class. Or else try removing array from your json response and just make that to be json object","body":"Your response json contains array which doesn&#39;t match your data object class so please make sure that you have created correct data class. Or else try removing array from your json response and just make that to be json object"},{"owner":{"account_id":27360968,"reputation":3,"user_id":20868586,"display_name":"Farrasta K S"},"score":0,"creation_date":1672207198,"post_id":74936676,"comment_id":132241187,"body_markdown":"Hi bro thanks for your advice. But, would u show me how to do that ? or could u send me a reference to solve my problem ? cauze i get stuck right now.","body":"Hi bro thanks for your advice. But, would u show me how to do that ? or could u send me a reference to solve my problem ? cauze i get stuck right now."}],"answers":[{"tags":[],"owner":{"account_id":13698816,"reputation":1476,"user_id":9884628,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672214517,"creation_date":1672208078,"answer_id":74936857,"question_id":74936676,"body_markdown":"Make this change in your data class :\r\n\r\n        package com.example.crudoracle.Model;\r\n    \r\n    import javax.annotation.Generated;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n    \r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class DataMaster {\r\n    \r\n    @SerializedName(&quot;NAMA&quot;)\r\n    @Expose\r\n    private String nama;\r\n    \r\n    public String getNama() {\r\n    return nama;\r\n    }\r\n    \r\n    public void setNama(String nama) {\r\n    this.nama = nama;\r\n    }\r\n    \r\n    }\r\n\r\n\r\nAlso make this changes in onClick of Get button : \r\n\r\n    btnGet.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            NikKry = etNik.getText().toString();\r\n            getNama();\r\n        }\r\n    });\r\n    private void getNama(){\r\n        APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\r\n        Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\r\n    \r\n        tampilNama.enqueue(new Callback&lt;List&lt;DataMaster&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;DataMaster&gt;&gt; call, Response&lt;List&lt;DataMaster&gt;&gt; response) {\r\n                if (response.isSuccessful()){\r\n                    etNama.setText(response.body()[0].getNAMA());\r\n                }\r\n            }\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;DataMaster&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n**********\r\n\r\nAlso make change in this : \r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;getnama.php&quot;)\r\n    Call&lt;List&lt;DataMaster&gt;&gt; ardGetNama(\r\n            @Field(&quot;NIK&quot;) String NIK\r\n    );","title":"I am newbie in Android Studio. I have a task how to display the name automatically when the id / nik field is filled based on data from the database","body":"<p>Make this change in your data class :</p>\n<pre><code>    package com.example.crudoracle.Model;\n\nimport javax.annotation.Generated;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class DataMaster {\n\n@SerializedName(&quot;NAMA&quot;)\n@Expose\nprivate String nama;\n\npublic String getNama() {\nreturn nama;\n}\n\npublic void setNama(String nama) {\nthis.nama = nama;\n}\n\n}\n</code></pre>\n<p>Also make this changes in onClick of Get button :</p>\n<pre><code>btnGet.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        NikKry = etNik.getText().toString();\n        getNama();\n    }\n});\nprivate void getNama(){\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\n\n    tampilNama.enqueue(new Callback&lt;List&lt;DataMaster&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;DataMaster&gt;&gt; call, Response&lt;List&lt;DataMaster&gt;&gt; response) {\n            if (response.isSuccessful()){\n                etNama.setText(response.body()[0].getNAMA());\n            }\n        }\n        @Override\n        public void onFailure(Call&lt;List&lt;DataMaster&gt;&gt; call, Throwable t) {\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<hr />\n<p>Also make change in this :</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;getnama.php&quot;)\nCall&lt;List&lt;DataMaster&gt;&gt; ardGetNama(\n        @Field(&quot;NIK&quot;) String NIK\n);\n</code></pre>\n"}],"owner":{"account_id":27360968,"reputation":3,"user_id":20868586,"display_name":"Farrasta K S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74936857,"answer_count":1,"score":-1,"last_activity_date":1672214517,"creation_date":1672206472,"question_id":74936676,"body_markdown":"At this time I&#39;m having trouble writing java code. The concept in this program is when I fill in the NIK field and press the get button, the name (FIELD NAME) will appear automatically based on the data from database\r\n\r\nDatabase Structure \r\n\r\n|   NIK    |   NAMA   |\r\n| -------- | -------- |\r\n|  96296   | Farrasta |\r\n|  94878   |  Alfian  |\r\n\r\n[Application View]\r\n(https://i.stack.imgur.com/x06Vy.png)\r\n\r\nError when i click get button\r\n```\r\njava.lang.illegalStateException : Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\r\n```    \r\nGet Button\r\n```\r\nbtnGet.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        NikKry = etNik.getText().toString();\r\n        getNama();\r\n    }\r\n});\r\nprivate void getNama(){\r\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\r\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\r\n\r\n    tampilNama.enqueue(new Callback&lt;DataMaster&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;DataMaster&gt; call, Response&lt;DataMaster&gt; response) {\r\n            if (response.isSuccessful()){\r\n                etNama.setText(response.body().getNAMA());\r\n            }\r\n        }\r\n        @Override\r\n        public void onFailure(Call&lt;DataMaster&gt; call, Throwable t) {\r\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n}\r\n```\r\nData Master\r\n```\r\npackage com.example.crudoracle.Model;\r\npublic class DataMaster {\r\n    private String NIK;\r\n    private String NAMA;\r\n    \r\n    public String getNIK() {\r\n\r\n        return NIK;\r\n    }\r\n    public void setNIK(String NIK) {\r\n\r\n        this.NIK = NIK;\r\n    }\r\n    public String getNAMA() {\r\n\r\n        return NAMA;\r\n    }\r\n    public void setNAMA(String NAMA) {\r\n\r\n        this.NAMA = NAMA;\r\n    }\r\n}\r\n```\r\nAPI request\r\n```\r\n@FormUrlEncoded\r\n@POST(&quot;getnama.php&quot;)\r\nCall&lt;DataMaster&gt; ardGetNama(\r\n        @Field(&quot;NIK&quot;) String NIK\r\n);\r\n\r\n```\r\nPhp file\r\n```\r\n&lt;?php\r\ninclude (&quot;koneksi.php&quot;);\r\n    $NIK = $_POST[&#39;NIK&#39;];\r\n    $query = &quot;SELECT NAMA FROM MASTER_KRY WHERE NIK = &#39;$NIK&#39;&quot;;\r\n    $eksekusi = oci_parse($conn, $query);\r\n    $cek = oci_execute($eksekusi);\r\n        $response = array();\r\n        while($ambil = oci_fetch_object($eksekusi)){\r\n            $F[&quot;NAMA&quot;] = $ambil-&gt;NAMA;\r\n            array_push($response, $F);\r\n        }\r\necho json_encode($response);\r\noci_close($conn);\r\n?&gt;\r\n```\r\nPostman response\r\n```\r\n[{&quot;NAMA&quot;:&quot;Alfian U&quot;}]\r\n","title":"I am newbie in Android Studio. I have a task how to display the name automatically when the id / nik field is filled based on data from the database","body":"<p>At this time I'm having trouble writing java code. The concept in this program is when I fill in the NIK field and press the get button, the name (FIELD NAME) will appear automatically based on the data from database</p>\n<p>Database Structure</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>NIK</th>\n<th>NAMA</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>96296</td>\n<td>Farrasta</td>\n</tr>\n<tr>\n<td>94878</td>\n<td>Alfian</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>[Application View]\n(<a href=\"https://i.stack.imgur.com/x06Vy.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/x06Vy.png</a>)</p>\n<p>Error when i click get button</p>\n<pre><code>java.lang.illegalStateException : Expected BEGIN_OBJECT but was BEGIN_ARRAY at line 1 column 2 path $\n</code></pre>\n<p>Get Button</p>\n<pre><code>btnGet.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        NikKry = etNik.getText().toString();\n        getNama();\n    }\n});\nprivate void getNama(){\n    APIRequestData armNama = RetroMaster.konekRetrofit().create(APIRequestData.class);\n    Call&lt;DataMaster&gt; tampilNama = armNama.ardGetNama(NikKry);\n\n    tampilNama.enqueue(new Callback&lt;DataMaster&gt;() {\n        @Override\n        public void onResponse(Call&lt;DataMaster&gt; call, Response&lt;DataMaster&gt; response) {\n            if (response.isSuccessful()){\n                etNama.setText(response.body().getNAMA());\n            }\n        }\n        @Override\n        public void onFailure(Call&lt;DataMaster&gt; call, Throwable t) {\n            Toast.makeText(TambahActivity.this, &quot;Gagal &quot;+t.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n<p>Data Master</p>\n<pre><code>package com.example.crudoracle.Model;\npublic class DataMaster {\n    private String NIK;\n    private String NAMA;\n    \n    public String getNIK() {\n\n        return NIK;\n    }\n    public void setNIK(String NIK) {\n\n        this.NIK = NIK;\n    }\n    public String getNAMA() {\n\n        return NAMA;\n    }\n    public void setNAMA(String NAMA) {\n\n        this.NAMA = NAMA;\n    }\n}\n</code></pre>\n<p>API request</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;getnama.php&quot;)\nCall&lt;DataMaster&gt; ardGetNama(\n        @Field(&quot;NIK&quot;) String NIK\n);\n\n</code></pre>\n<p>Php file</p>\n<pre><code>&lt;?php\ninclude (&quot;koneksi.php&quot;);\n    $NIK = $_POST['NIK'];\n    $query = &quot;SELECT NAMA FROM MASTER_KRY WHERE NIK = '$NIK'&quot;;\n    $eksekusi = oci_parse($conn, $query);\n    $cek = oci_execute($eksekusi);\n        $response = array();\n        while($ambil = oci_fetch_object($eksekusi)){\n            $F[&quot;NAMA&quot;] = $ambil-&gt;NAMA;\n            array_push($response, $F);\n        }\necho json_encode($response);\noci_close($conn);\n?&gt;\n</code></pre>\n<p>Postman response</p>\n<pre><code>[{&quot;NAMA&quot;:&quot;Alfian U&quot;}]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1672197017,"post_id":74935768,"comment_id":132240038,"body_markdown":"What happens when you switch the order of the two @PropertySource annotations?","body":"What happens when you switch the order of the two @PropertySource annotations?"},{"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"score":1,"creation_date":1672257776,"post_id":74935768,"comment_id":132254327,"body_markdown":"When I changed the order and listed `file1.properties` last, then that definition was used.","body":"When I changed the order and listed <code>file1.properties</code> last, then that definition was used."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672199106,"creation_date":1672199106,"answer_id":74936055,"question_id":74935768,"body_markdown":"Spring will always read the files in the order they were listed. This is because of the nature of `@Repeatable` annotations, and Spring doesn&#39;t mess with this. I.e., multiple of the same annotation is really a repeatable annotation. In this case, [PropertySources](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySources.html).\r\n\r\nSo, in your example, values in `file1.properties` will override `datasource.properties` and values in `file2.properties` will override both `datasource.properties` and `file1.properties`.","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>Spring will always read the files in the order they were listed. This is because of the nature of <code>@Repeatable</code> annotations, and Spring doesn't mess with this. I.e., multiple of the same annotation is really a repeatable annotation. In this case, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySources.html\" rel=\"nofollow noreferrer\">PropertySources</a>.</p>\n<p>So, in your example, values in <code>file1.properties</code> will override <code>datasource.properties</code> and values in <code>file2.properties</code> will override both <code>datasource.properties</code> and <code>file1.properties</code>.</p>\n"},{"tags":[],"owner":{"account_id":16623452,"reputation":902,"user_id":12013107,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672199403,"creation_date":1672199403,"answer_id":74936075,"question_id":74935768,"body_markdown":"You can refer [this][1] Spring boot documentation to know all the possible ways and order to load property. In your case if you use multiple @[PropertySource][2] as mentioned in document \r\n\r\n&gt; In cases where a given property key exists in more than one\r\n&gt; .properties file, the last @PropertySource annotation processed will\r\n&gt; &#39;win&#39; and override any previous key with the same name.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>You can refer <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">this</a> Spring boot documentation to know all the possible ways and order to load property. In your case if you use multiple @<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html\" rel=\"nofollow noreferrer\">PropertySource</a> as mentioned in document</p>\n<blockquote>\n<p>In cases where a given property key exists in more than one\n.properties file, the last @PropertySource annotation processed will\n'win' and override any previous key with the same name.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":20213792,"reputation":71,"user_id":14825255,"display_name":"Anghel Ionut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672214502,"creation_date":1672214502,"answer_id":74937700,"question_id":74935768,"body_markdown":"Spring allows you to define property values in multiple property files and then specify the property files to be loaded via the `spring.config.name` property. By default, Spring will look for property files with the names application.properties and application.yml.\r\n\r\nIf you have defined a property in multiple property files, then Spring will use the value of the property in the property file that was loaded last. This means that property values defined in property files that are loaded later will overwrite property values defined in property files that are loaded earlier.\r\n\r\nFor example, if you have defined the property my.property in both `application.properties` and `application-prod.properties`, and you have specified `spring.config.name=prod` to load the `application-prod.properties` file, then Spring will use the value of my.property as defined in `application-prod.properties`.\r\n\r\nYou can also use the `spring.config.additional-location` property to specify additional directories or files to search for property files. Property values defined in property files in these locations will be loaded after the property files specified by the `spring.config.name property`.","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p>Spring allows you to define property values in multiple property files and then specify the property files to be loaded via the <code>spring.config.name</code> property. By default, Spring will look for property files with the names application.properties and application.yml.</p>\n<p>If you have defined a property in multiple property files, then Spring will use the value of the property in the property file that was loaded last. This means that property values defined in property files that are loaded later will overwrite property values defined in property files that are loaded earlier.</p>\n<p>For example, if you have defined the property my.property in both <code>application.properties</code> and <code>application-prod.properties</code>, and you have specified <code>spring.config.name=prod</code> to load the <code>application-prod.properties</code> file, then Spring will use the value of my.property as defined in <code>application-prod.properties</code>.</p>\n<p>You can also use the <code>spring.config.additional-location</code> property to specify additional directories or files to search for property files. Property values defined in property files in these locations will be loaded after the property files specified by the <code>spring.config.name property</code>.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1672214502,"creation_date":1672194994,"question_id":74935768,"body_markdown":"**If a property is defined in multiple property files how does Spring decide what the value of the variable should be?**\r\n\r\n## My guess\r\nMy belief based on running some code is that the result is indeterministic.\r\nIf multiple property files define the same property name, then it&#39;s seemingly random as to which property file will be used.\r\n\r\n### How Spring Implements this (my guess)\r\nSpring keeps a list of PropertySources and when a property value is needed it walks the PropertySources one by one until it finds the value of a property.  \r\n\r\nThis is based on some testing I did and this answer:\r\nFrom https://stackoverflow.com/a/74934269/3281336\r\nwhich says:\r\n\r\n&gt; If you want to get a property, the get method of the MutablePropertySources is called which iterates over all PropertySources until it finds that property.\r\n\r\nSince by default, you don&#39;t know what order the list will be in, therefore, you don&#39;t know what value you&#39;ll get (when a property is defined in multiple property files).\r\n\r\n## How I proved this to myself\r\nTo prove to myself how this works, I created two property files and defined the same property name `foo.baz`.  See below:\r\n```\r\n// File: src/main/resources/file1.properties\r\nfoo.baz=Defined in file1.properties\r\n\r\n// File: src/main/resources/file2.properties\r\nfoo.baz=Defined in file2.properties\r\n```\r\n\r\nNext, I created a `@Configuration` class `MyConfig` which reads the two property files `file1.properties` and `file2.properties`.\r\n\r\n```\r\n@PropertySource(&quot;classpath:datasource.properties&quot;)\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class MyConfig{\r\n```\r\n\r\nThis class has a bean which will get created when the app starts up, and it will print the value that Spring selected for the property `foo.baz`.\r\nThe code is:\r\n```\r\n    @Bean\r\n    public Object whichProp(@Value(&quot;${foo.bar}&quot;) String fooBar, @Value(&quot;${foo.baz}&quot;) String fooBaz){\r\n        System.out.println(&quot;Looks like foo.bar prop is set to &quot; + fooBar  + &quot;, foo.baz=&quot; + fooBaz);\r\n        return new Object();\r\n    }\r\n```\r\nThe result I got was:\r\n```\r\nLooks like foo.bar prop is set to defined in application.properties, foo.baz=Defined in file2.properties\r\n```\r\n\r\nI also wrote a @Bean to dump/display the Spring Properties List ([based on this answer][1]).\r\n\r\n```\r\n    @Bean\r\n    public Object DisplayPropertiesEnvironment(Environment environment) {\r\n        AbstractEnvironment env = (AbstractEnvironment) environment;\r\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\r\n            if (source instanceof MapPropertySource) {\r\n                MapPropertySource mapPropertySource = (MapPropertySource) source;\r\n                System.out.println(&quot;Prop: &quot; + source.getName() + &quot;=&quot; + mapPropertySource.getSource());\r\n            }\r\n        }\r\n        return new Object();\r\n    }\r\n```\r\n\r\n### In conclusion\r\nI&#39;ve shared my belief and given the reasons.  Please let me know the answer.\r\nAlso if there is a URL to the Spring documentation that explains how works\r\nplease share it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74934269/3281336","title":"How does Spring pick the property value to use if a property is defined in multiple property files?","body":"<p><strong>If a property is defined in multiple property files how does Spring decide what the value of the variable should be?</strong></p>\n<h2>My guess</h2>\n<p>My belief based on running some code is that the result is indeterministic.\nIf multiple property files define the same property name, then it's seemingly random as to which property file will be used.</p>\n<h3>How Spring Implements this (my guess)</h3>\n<p>Spring keeps a list of PropertySources and when a property value is needed it walks the PropertySources one by one until it finds the value of a property.</p>\n<p>This is based on some testing I did and this answer:\nFrom <a href=\"https://stackoverflow.com/a/74934269/3281336\">https://stackoverflow.com/a/74934269/3281336</a>\nwhich says:</p>\n<blockquote>\n<p>If you want to get a property, the get method of the MutablePropertySources is called which iterates over all PropertySources until it finds that property.</p>\n</blockquote>\n<p>Since by default, you don't know what order the list will be in, therefore, you don't know what value you'll get (when a property is defined in multiple property files).</p>\n<h2>How I proved this to myself</h2>\n<p>To prove to myself how this works, I created two property files and defined the same property name <code>foo.baz</code>.  See below:</p>\n<pre><code>// File: src/main/resources/file1.properties\nfoo.baz=Defined in file1.properties\n\n// File: src/main/resources/file2.properties\nfoo.baz=Defined in file2.properties\n</code></pre>\n<p>Next, I created a <code>@Configuration</code> class <code>MyConfig</code> which reads the two property files <code>file1.properties</code> and <code>file2.properties</code>.</p>\n<pre><code>@PropertySource(&quot;classpath:datasource.properties&quot;)\n@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class MyConfig{\n</code></pre>\n<p>This class has a bean which will get created when the app starts up, and it will print the value that Spring selected for the property <code>foo.baz</code>.\nThe code is:</p>\n<pre><code>    @Bean\n    public Object whichProp(@Value(&quot;${foo.bar}&quot;) String fooBar, @Value(&quot;${foo.baz}&quot;) String fooBaz){\n        System.out.println(&quot;Looks like foo.bar prop is set to &quot; + fooBar  + &quot;, foo.baz=&quot; + fooBaz);\n        return new Object();\n    }\n</code></pre>\n<p>The result I got was:</p>\n<pre><code>Looks like foo.bar prop is set to defined in application.properties, foo.baz=Defined in file2.properties\n</code></pre>\n<p>I also wrote a @Bean to dump/display the Spring Properties List (<a href=\"https://stackoverflow.com/a/74934269/3281336\">based on this answer</a>).</p>\n<pre><code>    @Bean\n    public Object DisplayPropertiesEnvironment(Environment environment) {\n        AbstractEnvironment env = (AbstractEnvironment) environment;\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\n            if (source instanceof MapPropertySource) {\n                MapPropertySource mapPropertySource = (MapPropertySource) source;\n                System.out.println(&quot;Prop: &quot; + source.getName() + &quot;=&quot; + mapPropertySource.getSource());\n            }\n        }\n        return new Object();\n    }\n</code></pre>\n<h3>In conclusion</h3>\n<p>I've shared my belief and given the reasons.  Please let me know the answer.\nAlso if there is a URL to the Spring documentation that explains how works\nplease share it.</p>\n"},{"tags":["java","xml","saml-2.0","opensaml"],"owner":{"account_id":4639467,"reputation":133,"user_id":3759750,"accept_rate":0,"display_name":"user3759750"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672214339,"creation_date":1672211754,"question_id":74937302,"body_markdown":"I want to convert following SAML string to Response object. But when I try to unmarshal it, it returns unmarshaller to null. Can anyone help what is wrong here?\r\n\r\nCode:\r\n\r\n    private static XMLObject unmarshallObject(String xmlString) throws Exception {\r\n    \t\t  BasicParserPool parser = new BasicParserPool();\r\n    \t\t  parser.setNamespaceAware(true);\r\n    \t\t  /* Base64URL encoded */\r\n    \t\t  byte bytes[] = xmlString.getBytes(&quot;utf-8&quot;);\r\n    \t\t  if (bytes == null || bytes.length == 0)\r\n    \t\t    throw new Exception(&quot;Invalid assertion encoding&quot;);\r\n    \t\t  Reader reader = new InputStreamReader(new FileInputStream(new File(&quot;assertion.xml&quot;)));\r\n    \t\t  Document doc = parser.parse(reader);\r\n    \t\t  Element samlElement = doc.getDocumentElement();\r\n    \t\t  UnmarshallerFactory unmarshallerFactory = Configuration.getUnmarshallerFactory();\r\n    \t\t  Unmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(samlElement);\r\n    \t\t  if (unmarshaller == null) {\r\n    \t\t    throw new Exception(&quot;Unsuccessful to unmarshal assertion string&quot;);\r\n    \t\t  }\r\n    \t\t  return unmarshaller.unmarshall(samlElement);\r\n    \t\t}\r\n\r\nSAML File\r\n\r\nhttps://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view","title":"SAML 2 Assertion Fail to Unmarshal","body":"<p>I want to convert following SAML string to Response object. But when I try to unmarshal it, it returns unmarshaller to null. Can anyone help what is wrong here?</p>\n<p>Code:</p>\n<pre><code>private static XMLObject unmarshallObject(String xmlString) throws Exception {\n          BasicParserPool parser = new BasicParserPool();\n          parser.setNamespaceAware(true);\n          /* Base64URL encoded */\n          byte bytes[] = xmlString.getBytes(&quot;utf-8&quot;);\n          if (bytes == null || bytes.length == 0)\n            throw new Exception(&quot;Invalid assertion encoding&quot;);\n          Reader reader = new InputStreamReader(new FileInputStream(new File(&quot;assertion.xml&quot;)));\n          Document doc = parser.parse(reader);\n          Element samlElement = doc.getDocumentElement();\n          UnmarshallerFactory unmarshallerFactory = Configuration.getUnmarshallerFactory();\n          Unmarshaller unmarshaller = unmarshallerFactory.getUnmarshaller(samlElement);\n          if (unmarshaller == null) {\n            throw new Exception(&quot;Unsuccessful to unmarshal assertion string&quot;);\n          }\n          return unmarshaller.unmarshall(samlElement);\n        }\n</code></pre>\n<p>SAML File</p>\n<p><a href=\"https://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1IIEsqWSDBt2W35l2Gx2vaNNxZr2zmx2u/view</a></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672173661,"post_id":74933917,"comment_id":132236421,"body_markdown":"I would imagine one overrides the other irretrievably.","body":"I would imagine one overrides the other irretrievably."}],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672214291,"creation_date":1672176719,"answer_id":74934269,"question_id":74933917,"body_markdown":"Spring provides a [`PropertySources`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySources.html) interface which is implemented by the `MutablePropertySources` class. This class basically just holds a list of [`PropertySource`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySource.html) instances (e.g. instances of the `PropertiesPropertySource` class - not to be confused with the `@PropertySource` annotation) and provides methods for iterating over these instances. \r\n\r\nIf you look at the [implementation of `MutablePropertySources`](https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/env/MutablePropertySources.java) you can see that there are multiple methods for adding `PropertySource` instances at different positions and relative to other `PropertySource`s in that list. If you want to get the value of a property, you can call the `get` method of a `MutablePropertySources` instance with the name of that property. The `get` method then iterates over all `PropertySource`s in its list and tries to find a property with the given name.\r\n\r\nThen there is the `Environment` interface that is implemented by the abstract class `AbstractEnvironment`. You can use the latter to access the `PropertySources` instance that is used by that environment. \r\n\r\nFor example, for testing purposes, you can do the following to print out all properties and their values that are managed by [`MapPropertySource`s](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/MapPropertySource.html) - a subtype of `PropertySource`.\r\n\r\n```java\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class ExampleConfig {\r\n\r\n    @Autowired\r\n    public ExampleConfig(Environment environment) {\r\n        AbstractEnvironment env = (AbstractEnvironment) environment;\r\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\r\n            if (source instanceof MapPropertySource mapPropertySource) {\r\n                System.out.println(mapPropertySource.getSource());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nYou can check out the [`org.springframework.core.env`](https://github.com/spring-projects/spring-framework/tree/4f8516e2c3ca420b1608840ab901bf9df7e4d5f1/spring-core/src/main/java/org/springframework/core/env) package which contains all of these classes.\r\n\r\nSo, to answer your first answer more explicitly: No, Spring does not put all properties into a single map. It puts properties from different locations into different `PropertySource`s which are then added to a `PropertySources` instance.","title":"Does Spring store all properties into a single hashmap?","body":"<p>Spring provides a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySources.html\" rel=\"nofollow noreferrer\"><code>PropertySources</code></a> interface which is implemented by the <code>MutablePropertySources</code> class. This class basically just holds a list of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/PropertySource.html\" rel=\"nofollow noreferrer\"><code>PropertySource</code></a> instances (e.g. instances of the <code>PropertiesPropertySource</code> class - not to be confused with the <code>@PropertySource</code> annotation) and provides methods for iterating over these instances.</p>\n<p>If you look at the <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/env/MutablePropertySources.java\" rel=\"nofollow noreferrer\">implementation of <code>MutablePropertySources</code></a> you can see that there are multiple methods for adding <code>PropertySource</code> instances at different positions and relative to other <code>PropertySource</code>s in that list. If you want to get the value of a property, you can call the <code>get</code> method of a <code>MutablePropertySources</code> instance with the name of that property. The <code>get</code> method then iterates over all <code>PropertySource</code>s in its list and tries to find a property with the given name.</p>\n<p>Then there is the <code>Environment</code> interface that is implemented by the abstract class <code>AbstractEnvironment</code>. You can use the latter to access the <code>PropertySources</code> instance that is used by that environment.</p>\n<p>For example, for testing purposes, you can do the following to print out all properties and their values that are managed by <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/MapPropertySource.html\" rel=\"nofollow noreferrer\"><code>MapPropertySource</code>s</a> - a subtype of <code>PropertySource</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class ExampleConfig {\n\n    @Autowired\n    public ExampleConfig(Environment environment) {\n        AbstractEnvironment env = (AbstractEnvironment) environment;\n        for (org.springframework.core.env.PropertySource&lt;?&gt; source : env.getPropertySources()) {\n            if (source instanceof MapPropertySource mapPropertySource) {\n                System.out.println(mapPropertySource.getSource());\n            }\n        }\n    }\n}\n</code></pre>\n<p>You can check out the <a href=\"https://github.com/spring-projects/spring-framework/tree/4f8516e2c3ca420b1608840ab901bf9df7e4d5f1/spring-core/src/main/java/org/springframework/core/env\" rel=\"nofollow noreferrer\"><code>org.springframework.core.env</code></a> package which contains all of these classes.</p>\n<p>So, to answer your first answer more explicitly: No, Spring does not put all properties into a single map. It puts properties from different locations into different <code>PropertySource</code>s which are then added to a <code>PropertySources</code> instance.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74934269,"answer_count":1,"score":0,"last_activity_date":1672214291,"creation_date":1672173358,"question_id":74933917,"body_markdown":"**Does Spring put all properties into the same hashmap/list?**  \r\n**How can I get a list of all of the properties being managed by Spring**\r\n\r\nFor example, if I have two properties files and they define overlapping properties which \r\n```\r\n// FILE: src/main/resources/file1.properties\r\nprop1.color = red\r\nprop1.fill  = green\r\n```\r\n```\r\n// FILE: src/main/resources/file2.properties\r\nprop2.color = purple\r\nprop1.fill  = ORANGE\r\n```\r\n\r\nThe configuration class used to tell Spring to read the two files is something like this:\r\n```\r\n@PropertySource(&quot;classpath:file1.properties&quot;)\r\n@PropertySource(&quot;classpath:file2.properties&quot;)\r\n@Configuration\r\npublic class MyConfig {\r\n}\r\n```\r\n\r\n**My question is Can I get an iterator to access all of the properties defined?** If so how.\r\n\r\n\r\n## Searching for answer\r\nSo far I haven&#39;t found a solution to this question.\r\n\r\nI did an Internet search for &quot;stack overflow Spring properties&quot; and did not found the answer.\r\n\r\nSome SO questions I found are:\r\n- https://stackoverflow.com/questions/63469130/spring-boot-get-all-properties-from-properties-file-and-load-into-hashmap\r\n- https://stackoverflow.com/questions/34080113/spring-boot-application-properties\r\n\r\nBut they didn&#39;t answer my question","title":"Does Spring store all properties into a single hashmap?","body":"<p><strong>Does Spring put all properties into the same hashmap/list?</strong><br />\n<strong>How can I get a list of all of the properties being managed by Spring</strong></p>\n<p>For example, if I have two properties files and they define overlapping properties which</p>\n<pre><code>// FILE: src/main/resources/file1.properties\nprop1.color = red\nprop1.fill  = green\n</code></pre>\n<pre><code>// FILE: src/main/resources/file2.properties\nprop2.color = purple\nprop1.fill  = ORANGE\n</code></pre>\n<p>The configuration class used to tell Spring to read the two files is something like this:</p>\n<pre><code>@PropertySource(&quot;classpath:file1.properties&quot;)\n@PropertySource(&quot;classpath:file2.properties&quot;)\n@Configuration\npublic class MyConfig {\n}\n</code></pre>\n<p><strong>My question is Can I get an iterator to access all of the properties defined?</strong> If so how.</p>\n<h2>Searching for answer</h2>\n<p>So far I haven't found a solution to this question.</p>\n<p>I did an Internet search for &quot;stack overflow Spring properties&quot; and did not found the answer.</p>\n<p>Some SO questions I found are:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/63469130/spring-boot-get-all-properties-from-properties-file-and-load-into-hashmap\">Spring boot get all properties from properties file and load into hashmap</a></li>\n<li><a href=\"https://stackoverflow.com/questions/34080113/spring-boot-application-properties\">Spring Boot application.properties</a></li>\n</ul>\n<p>But they didn't answer my question</p>\n"},{"tags":["java","apache-poi","docx","xwpf"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1672228108,"post_id":74937417,"comment_id":132245835,"body_markdown":"Ask Word to render the Document to a PDF, then query the PDF?","body":"Ask Word to render the Document to a PDF, then query the PDF?"}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672214186,"creation_date":1672214186,"answer_id":74937653,"question_id":74937417,"body_markdown":"To get Page Count from `XWPFDocument` (for your outer loop), you can do something like this:\r\n\r\n    XWPFDocument docx = new XWPFDocument(POIXMLDocument.openPackage(YOUR_FILE_PATH));\r\n    \r\n    int numOfPages = docx.getProperties().getExtendedProperties().getUnderlyingProperties().getPages();\r\n\r\nFor your paragraph text,\r\n\r\n    for (XWPFParagraph p : document.getParagraphs()) {\r\n        System.out.println(p.getParagraphText()); // YOUR PARAGRAPH TEXT\r\n    }","title":"How to get content of a page of a .docx file using Apache Poi?","body":"<p>To get Page Count from <code>XWPFDocument</code> (for your outer loop), you can do something like this:</p>\n<pre><code>XWPFDocument docx = new XWPFDocument(POIXMLDocument.openPackage(YOUR_FILE_PATH));\n\nint numOfPages = docx.getProperties().getExtendedProperties().getUnderlyingProperties().getPages();\n</code></pre>\n<p>For your paragraph text,</p>\n<pre><code>for (XWPFParagraph p : document.getParagraphs()) {\n    System.out.println(p.getParagraphText()); // YOUR PARAGRAPH TEXT\n}\n</code></pre>\n"}],"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672214186,"creation_date":1672212554,"question_id":74937417,"body_markdown":"I&#39;m trying to read .docx files with styling information using Apache Poi which I have done by looping through each XWPFParagraph and working with all the XWPFRun run inside the paragraphs. Now I want to get contents of each pages. So is there a way to get the contents of each pages or is it possible to know in which page a paragraph is currently in?\r\n\r\nThis is a function that takes the absolute path of a docx file and returns an array of strings\r\n```\r\n        FileInputStream fis = new FileInputStream(absolutePath);\r\n\r\n        XWPFDocument document = new XWPFDocument(fis);\r\n\r\n        List&lt;IBodyElement&gt; bodyElements = document.getBodyElements();\r\n\r\n        List&lt;String&gt; textList = new ArrayList&lt;&gt;();\r\n\r\n        /*  I want to add some kind of outer loop here for each page\r\n            and at the end of that loop I want to add a &quot;&lt;hr/&gt;&quot; tag in the textList\r\n        */\r\n        for (IBodyElement bodyElement : bodyElements) {                 // Looping through paragraphs\r\n           if (bodyElement.getElementType() == BodyElementType.PARAGRAPH) {\r\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n                \r\n                String textToAdd = parseParagraph(paragraph); //custom funtion to handle paragraphs\r\n\r\n\r\n                textList.add(textToAdd);\r\n\r\n            } \r\n        }\r\n        document.close();\r\n        return textList.toArray(new String[0]);\r\n```\r\n\r\nAs you can see my goal here is to add a `&lt;hr/&gt;` tag after each page. So, if somehow I can get the page number of a paragraph or loop through pages, I will be able to do that. &lt;br&gt;\r\nPlease kindly mention if you know about any other approach that may help.","title":"How to get content of a page of a .docx file using Apache Poi?","body":"<p>I'm trying to read .docx files with styling information using Apache Poi which I have done by looping through each XWPFParagraph and working with all the XWPFRun run inside the paragraphs. Now I want to get contents of each pages. So is there a way to get the contents of each pages or is it possible to know in which page a paragraph is currently in?</p>\n<p>This is a function that takes the absolute path of a docx file and returns an array of strings</p>\n<pre><code>        FileInputStream fis = new FileInputStream(absolutePath);\n\n        XWPFDocument document = new XWPFDocument(fis);\n\n        List&lt;IBodyElement&gt; bodyElements = document.getBodyElements();\n\n        List&lt;String&gt; textList = new ArrayList&lt;&gt;();\n\n        /*  I want to add some kind of outer loop here for each page\n            and at the end of that loop I want to add a &quot;&lt;hr/&gt;&quot; tag in the textList\n        */\n        for (IBodyElement bodyElement : bodyElements) {                 // Looping through paragraphs\n           if (bodyElement.getElementType() == BodyElementType.PARAGRAPH) {\n                XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n                \n                String textToAdd = parseParagraph(paragraph); //custom funtion to handle paragraphs\n\n\n                textList.add(textToAdd);\n\n            } \n        }\n        document.close();\n        return textList.toArray(new String[0]);\n</code></pre>\n<p>As you can see my goal here is to add a <code>&lt;hr/&gt;</code> tag after each page. So, if somehow I can get the page number of a paragraph or loop through pages, I will be able to do that. <br>\nPlease kindly mention if you know about any other approach that may help.</p>\n"},{"tags":["java","apache-spark","testing","mockito","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672126878,"post_id":74923254,"comment_id":132224714,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve) next time. Because it is Xmas, I did the leg work for you this once. Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> next time. Because it is Xmas, I did the leg work for you this once. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672123279,"creation_date":1672108692,"answer_id":74925326,"question_id":74923254,"body_markdown":"If you don&#39;t really care about the intermediate invocations of a builder pattern, i.e. an object that returns itself. I&#39;d suggest to use a `Stub`, which will return itself, if the method return type matches it&#39;s type, or you can use this [declaration][1] `_ &gt;&gt; _` to achieve the same for `Mocks`.\r\n\r\n```groovy\r\ngiven:\r\nThingBuilder builder = Mock() {\r\n  _ &gt;&gt; _\r\n}\r\n\r\nwhen:\r\nThing thing = builder\r\n  .id(&quot;id-42&quot;)\r\n  .name(&quot;spock&quot;)\r\n  .weight(100)\r\n  .build()\r\n\r\nthen:\r\n1 * builder.build() &gt;&gt; new Thing(id: &#39;id-1337&#39;) // &lt;-- only assert the last call you actually care about\r\nthing.id == &#39;id-1337&#39;\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxVUcFuwjAMvecrrF5I0RbBmDQJqWjaxHEndkdZkqYRbVKlGQUh_n1umsLoIXWc5_ee7ZaLA9cKnNesa504lJ43qnf-wKQTHTM2KM9FMM4SYprW-QARx2puNdu1SpjSCP4A0N6545kFz21XOt-wn19TS-XZnBBR866DjzGxPfGmrdXAAuoUlJUdPFDChRAAqUrIIgeiYkVGc3wC_LQ5KruO4XdlrE7MkCShgC90e4MD7GGzgX28XEn89dUDA4R4FhNFqmNG0szI59eXLJ9SFmdFsziPe7JXRleBLheLWyoy0XyUCze5JcwnkQkymLOqH51QI9cwQ83lavU2y1M1PqAXKIr7Exl6wW7SdMc2hoZ3wQ_h4PN-MxJjXCyMTmPhe5obTX4QyoPSZxzDFhfjLa-n1BPgTj-jUDFK5f91pwVcrn_YxrqM).\r\n\r\nThat being said, the error would probably go away if you just remove the `as String` cast of the second argument of `option`, or fix it to be `as Boolean` as the error suggests.\r\n\r\n  [1]: https://spockframework.org/spock/docs/2.3/all_in_one.html#_returning_a_default_response","title":"Mock Spark DataFrameReader .option","body":"<p>If you don't really care about the intermediate invocations of a builder pattern, i.e. an object that returns itself. I'd suggest to use a <code>Stub</code>, which will return itself, if the method return type matches it's type, or you can use this <a href=\"https://spockframework.org/spock/docs/2.3/all_in_one.html#_returning_a_default_response\" rel=\"nofollow noreferrer\">declaration</a> <code>_ &gt;&gt; _</code> to achieve the same for <code>Mocks</code>.</p>\n<pre><code>given:\nThingBuilder builder = Mock() {\n  _ &gt;&gt; _\n}\n\nwhen:\nThing thing = builder\n  .id(&quot;id-42&quot;)\n  .name(&quot;spock&quot;)\n  .weight(100)\n  .build()\n\nthen:\n1 * builder.build() &gt;&gt; new Thing(id: 'id-1337') // &lt;-- only assert the last call you actually care about\nthing.id == 'id-1337'\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJxVUcFuwjAMvecrrF5I0RbBmDQJqWjaxHEndkdZkqYRbVKlGQUh_n1umsLoIXWc5_ee7ZaLA9cKnNesa504lJ43qnf-wKQTHTM2KM9FMM4SYprW-QARx2puNdu1SpjSCP4A0N6545kFz21XOt-wn19TS-XZnBBR866DjzGxPfGmrdXAAuoUlJUdPFDChRAAqUrIIgeiYkVGc3wC_LQ5KruO4XdlrE7MkCShgC90e4MD7GGzgX28XEn89dUDA4R4FhNFqmNG0szI59eXLJ9SFmdFsziPe7JXRleBLheLWyoy0XyUCze5JcwnkQkymLOqH51QI9cwQ83lavU2y1M1PqAXKIr7Exl6wW7SdMc2hoZ3wQ_h4PN-MxJjXCyMTmPhe5obTX4QyoPSZxzDFhfjLa-n1BPgTj-jUDFK5f91pwVcrn_YxrqM\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>That being said, the error would probably go away if you just remove the <code>as String</code> cast of the second argument of <code>option</code>, or fix it to be <code>as Boolean</code> as the error suggests.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672127270,"creation_date":1672127270,"answer_id":74926818,"question_id":74923254,"body_markdown":"I do not know what your problem is, but my guess is that you create the mocks, but then do not inject them into your class under test. If you do that, both your own version as well as Leonard&#39;s suggested improved version with a default response work:\r\n\r\n**Class under test + helper class:**\r\n\r\n```java\r\nclass UnderTest {\r\n  SparkSession spark\r\n  Parameters params\r\n\r\n  DataFrameReader produce() {\r\n    DataFrameReader dataFrameReader = spark.read()\r\n\r\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\r\n      dataFrameReader\r\n        .option(&quot;sep&quot;, params.getDelimiter())\r\n        .option(&quot;header&quot;, params.isHeader())\r\n      : dataFrameReader\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nclass Parameters {\r\n  String readFileType\r\n  String delimiter\r\n  boolean header\r\n}\r\n```\r\n\r\n**Spock specification:**\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74923254\r\n\r\nimport org.apache.spark.sql.DataFrameReader\r\nimport org.apache.spark.sql.SparkSession\r\nimport org.spockframework.mock.MockUtil\r\nimport spock.lang.Specification\r\n\r\nclass DataFrameReaderTest extends Specification {\r\n  def &#39;read #readFileType data&#39;() {\r\n    given:\r\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\r\n\r\n    SparkSession sparkSession = Mock(SparkSession)\r\n    sparkSession.read() &gt;&gt; dfReaderLoader\r\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\r\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt; dfReaderOptionBoolean\r\n\r\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\r\n\r\n    expect:\r\n    underTest.produce().toString().contains(returnedMockName)\r\n\r\n    where:\r\n    readFileType | parameters                                                               | returnedMockName\r\n    &#39;CSV&#39;        | new Parameters(readFileType: readFileType, delimiter: &#39;;&#39;, header: true) | &#39;dfReaderOptionBoolean&#39;\r\n    &#39;XLS&#39;        | new Parameters(readFileType: readFileType)                               | &#39;dfReaderLoader&#39;\r\n  }\r\n\r\n  def &#39;read #readFileType data (improved)&#39;() {\r\n    given:\r\n    SparkSession sparkSession = Mock() {\r\n      read() &gt;&gt; Mock(DataFrameReader) {\r\n        _ &gt;&gt; _\r\n      }\r\n    }\r\n\r\n    def parameters = new Parameters(readFileType: readFileType, delimiter: &#39;;&#39;, header: true)\r\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\r\n\r\n    expect:\r\n    new MockUtil().isMock(underTest.produce())\r\n\r\n    where:\r\n    readFileType &lt;&lt; [&#39;CSV&#39;, &#39;XLS&#39;]\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJy1VW1P2zAQ_p5fceo-JJU6SxSmaRll00Bsk9iLKEyTpqkyybVEpHGwXco0-O8720nqpIVKY-uH1HYeP3f33EtKnlzxGUKKTCVyMZ_MudIomdL0QtygnOZiya5f7r0a7g5f7AVBNi-F1CDkjPGSJ5d0r-TyiqnrnB1xzY8ln-Mp8hTlo9ixWY1RqUwUPlCVIrmaGpKlIOicduwTPc51ltc4i2E5L2ZEg0k2zRKuDU_w9r3kF1HYtRjb53OyOxmynWG8y3bZTtgPkpwrBR23z1BpwFuNRaqgxQ-_AyClphBKQsIz8zzOcjz7VZKCxBJGfYsBmGU3WMR22aGHdOoWJ8JuR2DCizqo_qNXv5TGnbGWWTF7AsE7IXLkxYMMlsJPFCh_U13zAc6qj2JGJJLl4KATuEW2j5iwbkUT4KS8jW4A3qbF4mvQ4vJfPMxYxb6BsnrjojfZXhR1VYygwCWc1_vIFVcr3gHQhs9V7P6RmklVSuItFZN2RdFwslKKdJFg1GdaOA9pmYhC86xQkUS9kAWmRunPRFdRLS9RomNqFeGdZxWe9ruDrm1rLjwcfwtXGKPH18Zk5DsTt1wbkJR5Ns8IFkP4OhzApdU8Bi0X2CeqcGMaQmf1-8n4b6z2twYZtkvQmLsPtrQ5RDSIJE3HtL-x47e2TH3HZc91x8YWbHBAVUugSbW9D9yzqVEv7aN_lpT_2gGGpx7sVPGZsgJs6IstJb-_Dz9sUQ5clfys9LKJJIXcjG88toquJ4gOV4pVARi73QHaeFVlZm3AdvYjR19NwSpfa5heom56DK8XPFcfZ4WQeMgVRs4NNkN96kVMisCbqg46VE2x1HOvp7Ds1QkxREd1vo2ua2iX_dWFTH2wJytwvMGkJ7OnodXZfaH8fK1Om9Kjo4vqS-QcIL4_ZATBaw).\r\n\r\nThe result should look similar to this in your IDE:\r\n\r\n```none\r\nDataFrameReaderTest ✔\r\n├─ read #readFileType data ✔\r\n│  ├─ read CSV data ✔\r\n│  └─ read XLS data ✔\r\n└─ read #readFileType data (improved) ✔\r\n   ├─ read CSV data (improved) ✔\r\n   └─ read XLS data (improved) ✔\r\n```\r\n","title":"Mock Spark DataFrameReader .option","body":"<p>I do not know what your problem is, but my guess is that you create the mocks, but then do not inject them into your class under test. If you do that, both your own version as well as Leonard's suggested improved version with a default response work:</p>\n<p><strong>Class under test + helper class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>class UnderTest {\n  SparkSession spark\n  Parameters params\n\n  DataFrameReader produce() {\n    DataFrameReader dataFrameReader = spark.read()\n\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\n      dataFrameReader\n        .option(&quot;sep&quot;, params.getDelimiter())\n        .option(&quot;header&quot;, params.isHeader())\n      : dataFrameReader\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class Parameters {\n  String readFileType\n  String delimiter\n  boolean header\n}\n</code></pre>\n<p><strong>Spock specification:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74923254\n\nimport org.apache.spark.sql.DataFrameReader\nimport org.apache.spark.sql.SparkSession\nimport org.spockframework.mock.MockUtil\nimport spock.lang.Specification\n\nclass DataFrameReaderTest extends Specification {\n  def 'read #readFileType data'() {\n    given:\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\n\n    SparkSession sparkSession = Mock(SparkSession)\n    sparkSession.read() &gt;&gt; dfReaderLoader\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt; dfReaderOptionBoolean\n\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\n\n    expect:\n    underTest.produce().toString().contains(returnedMockName)\n\n    where:\n    readFileType | parameters                                                               | returnedMockName\n    'CSV'        | new Parameters(readFileType: readFileType, delimiter: ';', header: true) | 'dfReaderOptionBoolean'\n    'XLS'        | new Parameters(readFileType: readFileType)                               | 'dfReaderLoader'\n  }\n\n  def 'read #readFileType data (improved)'() {\n    given:\n    SparkSession sparkSession = Mock() {\n      read() &gt;&gt; Mock(DataFrameReader) {\n        _ &gt;&gt; _\n      }\n    }\n\n    def parameters = new Parameters(readFileType: readFileType, delimiter: ';', header: true)\n    def underTest = new UnderTest(spark: sparkSession, params: parameters)\n\n    expect:\n    new MockUtil().isMock(underTest.produce())\n\n    where:\n    readFileType &lt;&lt; ['CSV', 'XLS']\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJy1VW1P2zAQ_p5fceo-JJU6SxSmaRll00Bsk9iLKEyTpqkyybVEpHGwXco0-O8720nqpIVKY-uH1HYeP3f33EtKnlzxGUKKTCVyMZ_MudIomdL0QtygnOZiya5f7r0a7g5f7AVBNi-F1CDkjPGSJ5d0r-TyiqnrnB1xzY8ln-Mp8hTlo9ixWY1RqUwUPlCVIrmaGpKlIOicduwTPc51ltc4i2E5L2ZEg0k2zRKuDU_w9r3kF1HYtRjb53OyOxmynWG8y3bZTtgPkpwrBR23z1BpwFuNRaqgxQ-_AyClphBKQsIz8zzOcjz7VZKCxBJGfYsBmGU3WMR22aGHdOoWJ8JuR2DCizqo_qNXv5TGnbGWWTF7AsE7IXLkxYMMlsJPFCh_U13zAc6qj2JGJJLl4KATuEW2j5iwbkUT4KS8jW4A3qbF4mvQ4vJfPMxYxb6BsnrjojfZXhR1VYygwCWc1_vIFVcr3gHQhs9V7P6RmklVSuItFZN2RdFwslKKdJFg1GdaOA9pmYhC86xQkUS9kAWmRunPRFdRLS9RomNqFeGdZxWe9ruDrm1rLjwcfwtXGKPH18Zk5DsTt1wbkJR5Ns8IFkP4OhzApdU8Bi0X2CeqcGMaQmf1-8n4b6z2twYZtkvQmLsPtrQ5RDSIJE3HtL-x47e2TH3HZc91x8YWbHBAVUugSbW9D9yzqVEv7aN_lpT_2gGGpx7sVPGZsgJs6IstJb-_Dz9sUQ5clfys9LKJJIXcjG88toquJ4gOV4pVARi73QHaeFVlZm3AdvYjR19NwSpfa5heom56DK8XPFcfZ4WQeMgVRs4NNkN96kVMisCbqg46VE2x1HOvp7Ds1QkxREd1vo2ua2iX_dWFTH2wJytwvMGkJ7OnodXZfaH8fK1Om9Kjo4vqS-QcIL4_ZATBaw\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>The result should look similar to this in your IDE:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DataFrameReaderTest ✔\n├─ read #readFileType data ✔\n│  ├─ read CSV data ✔\n│  └─ read XLS data ✔\n└─ read #readFileType data (improved) ✔\n   ├─ read CSV data (improved) ✔\n   └─ read XLS data (improved) ✔\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10284245,"reputation":51,"user_id":7588148,"display_name":"Observer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672214171,"creation_date":1672214171,"answer_id":74937651,"question_id":74923254,"body_markdown":"The error was in the params.I was not sending Delimiter or Header so it gave error. ","title":"Mock Spark DataFrameReader .option","body":"<p>The error was in the params.I was not sending Delimiter or Header so it gave error.</p>\n"}],"owner":{"account_id":10284245,"reputation":51,"user_id":7588148,"display_name":"Observer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74937651,"answer_count":3,"score":-1,"last_activity_date":1672214171,"creation_date":1672081318,"question_id":74923254,"body_markdown":"I want to parametrice when i have a header and then separator when I read a csv from Spark. I&#39;ve written this:\r\n\r\n    DataFrameReader dataFrameReader = spark.read();\r\n\r\n\t\tdataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\r\n\t\t\t\t\tdataFrameReader\r\n\t\t\t\t\t\t\t.option(&quot;sep&quot;,params.getDelimiter())\r\n\t\t\t\t\t\t\t.option(&quot;header&quot;,params.isHeader())\r\n\t\t\t\t\t:dataFrameReader;\r\n\r\nI&#39;m new to Groovy and I don&#39;t get dataFrameReader.option corrected mocked.\r\n\r\n    DataFrameReader dfReaderLoader = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionString = Mock(DataFrameReader)\r\n    DataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\r\n\r\n    SparkSession sparkSession = Mock(SparkSession)\r\n    sparkSession.read() &gt;&gt; dfReaderLoader\r\n    dfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\r\n    dfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt;  dfReaderOptionBoolean\r\n\r\nAnd it gives me a null pointer exception.\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke\r\n&gt; &quot;org.apache.spark.sql.DataFrameReader.option(String, boolean)&quot; because\r\n&gt; the return value of\r\n&gt; &quot;org.apache.spark.sql.DataFrameReader.option(String, String)&quot; is null","title":"Mock Spark DataFrameReader .option","body":"<p>I want to parametrice when i have a header and then separator when I read a csv from Spark. I've written this:</p>\n<pre><code>DataFrameReader dataFrameReader = spark.read();\n\n    dataFrameReader = &quot;csv&quot;.equalsIgnoreCase(params.getReadFileType()) ?\n                dataFrameReader\n                        .option(&quot;sep&quot;,params.getDelimiter())\n                        .option(&quot;header&quot;,params.isHeader())\n                :dataFrameReader;\n</code></pre>\n<p>I'm new to Groovy and I don't get dataFrameReader.option corrected mocked.</p>\n<pre><code>DataFrameReader dfReaderLoader = Mock(DataFrameReader)\nDataFrameReader dfReaderOptionString = Mock(DataFrameReader)\nDataFrameReader dfReaderOptionBoolean = Mock(DataFrameReader)\n\nSparkSession sparkSession = Mock(SparkSession)\nsparkSession.read() &gt;&gt; dfReaderLoader\ndfReaderLoader.option(_ as String, _ as String) &gt;&gt; dfReaderOptionString\ndfReaderOptionString.option(_ as String, _ as Boolean) &gt;&gt;  dfReaderOptionBoolean\n</code></pre>\n<p>And it gives me a null pointer exception.</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke\n&quot;org.apache.spark.sql.DataFrameReader.option(String, boolean)&quot; because\nthe return value of\n&quot;org.apache.spark.sql.DataFrameReader.option(String, String)&quot; is null</p>\n</blockquote>\n"},{"tags":["java","visual-studio-code","javafx"],"answers":[{"tags":[],"owner":{"account_id":27301796,"reputation":51,"user_id":20818407,"display_name":"Iwashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672213747,"creation_date":1672213747,"answer_id":74937586,"question_id":74936428,"body_markdown":"It was solved. There is a solution below.\r\n1. Installing eclipse plugin and OpenJFX plugin to gradle.\r\n2. run &quot;gradle eclipse&quot;\r\n\r\nCode intellisense needs classpath as Eclipse, so the solution was effective.","title":"Code intellisense is not working to JavaFX library in VSCode","body":"<p>It was solved. There is a solution below.</p>\n<ol>\n<li>Installing eclipse plugin and OpenJFX plugin to gradle.</li>\n<li>run &quot;gradle eclipse&quot;</li>\n</ol>\n<p>Code intellisense needs classpath as Eclipse, so the solution was effective.</p>\n"}],"owner":{"account_id":27301796,"reputation":51,"user_id":20818407,"display_name":"Iwashi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74937586,"answer_count":1,"score":1,"last_activity_date":1672213747,"creation_date":1672203683,"question_id":74936428,"body_markdown":"Code intellisense is only not working for JavaFX in VSCode.\r\nI developed a JavaFX application once, and intellisense was working then, but it&#39;s not working now.\r\n\r\n\r\nbuild.gradle\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java application project to get you started.\r\n * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html\r\n */\r\n\r\nplugins {\r\n    // Apply the application plugin to add support for building a CLI application in Java.\r\n    id &#39;application&#39;\r\n    id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.13&quot;\r\n}\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n\r\n    // https://mvnrepository.com/artifact/org.openjfx/javafx\r\n\r\n    implementation &quot;com.github.jengelman.gradle.plugins:shadow:5.1.0&quot;\r\n\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass = &#39;nicekeyboard.App&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nI installed Java pack Extension and gradle extension.","title":"Code intellisense is not working to JavaFX library in VSCode","body":"<p>Code intellisense is only not working for JavaFX in VSCode.\nI developed a JavaFX application once, and intellisense was working then, but it's not working now.</p>\n<p>build.gradle</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.3/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n    id &quot;org.openjfx.javafxplugin&quot; version &quot;0.0.13&quot;\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n\n    // https://mvnrepository.com/artifact/org.openjfx/javafx\n\n    implementation &quot;com.github.jengelman.gradle.plugins:shadow:5.1.0&quot;\n\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'nicekeyboard.App'\n}\n\ntasks.named('test') {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>I installed Java pack Extension and gradle extension.</p>\n"},{"tags":["java","vert.x","stress-testing","throughput","vert.x-webclient"],"comments":[{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":0,"creation_date":1672154929,"post_id":74931034,"comment_id":132231414,"body_markdown":"This is probably not the issue with the framework and might be an issue with the incorrect usage or networking limitation. Can you please share a simple reproducer?","body":"This is probably not the issue with the framework and might be an issue with the incorrect usage or networking limitation. Can you please share a simple reproducer?"},{"owner":{"account_id":7674352,"reputation":1,"user_id":5815681,"display_name":"Tal Rosentzweig"},"score":0,"creation_date":1672155204,"post_id":74931034,"comment_id":132231491,"body_markdown":"Hi @Pendula what do you mean by a simple reproducer?","body":"Hi @Pendula what do you mean by a simple reproducer?"},{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":0,"creation_date":1672158958,"post_id":74931034,"comment_id":132232549,"body_markdown":"This means to provide a part of code or easy to deploy project with minimal needed elements/code in order to reproduce the issue you are having so that people can have the same behavior as you and come up with the solution.","body":"This means to provide a part of code or easy to deploy project with minimal needed elements/code in order to reproduce the issue you are having so that people can have the same behavior as you and come up with the solution."},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1672757436,"post_id":74931034,"comment_id":132343453,"body_markdown":"Can you provide the stacktrace of the error?","body":"Can you provide the stacktrace of the error?"}],"owner":{"account_id":7674352,"reputation":1,"user_id":5815681,"display_name":"Tal Rosentzweig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672213577,"creation_date":1672154048,"question_id":74931034,"body_markdown":"I&quot;m doing a stress test on vert.x application and send ~10K RPS.\r\nMy application send an http async request from a dedicated verticle. \r\nI&quot;m using vert.x http client, and see that around 20 seconds my application sent the http requests successfully.\r\nAfter 20 seconds i&quot;m starting to get a lot of &quot;Cannot assign requested address&quot; errors.\r\n\r\n\r\n\r\nI tried to deploy more verticles, to set different values to the http client thread pool and nothing helped to solve the issue.\r\nI guess that the issue related to the high throughput in a short time around 1 minute.\r\n\r\n\r\nMain Class:\r\n\r\n     public static void main(String[] args) {\r\n\r\n    final VertxOptions vertxOptions = new VertxOptions()\r\n      .setMaxEventLoopExecuteTime(1)\r\n      .setMaxEventLoopExecuteTimeUnit(TimeUnit.MILLISECONDS);\r\n\r\n    final Vertx vertx = Vertx.vertx(vertxOptions);\r\n\r\n    final Injector injector = Guice.createInjector(new Dependencies(vertx));\r\n\r\n    CustomCodecRegister.register(vertx.eventBus());\r\n\r\n    final Stream&lt;Future&lt;String&gt;&gt; deploymentFutures = Stream.of(\r\n            deployWorker(vertx, injector, StatsHttpVerticle.class, 10)\r\n    ).flatMap(stream -&gt; stream);\r\n\r\n    CompositeFuture.all(deploymentFutures.collect(Collectors.toList()))\r\n            .onSuccess(successfulCompositeFuture -&gt; { });}\r\n\r\n    private static &lt;T&gt; Stream&lt;Future&lt;String&gt;&gt; deployWorker(Vertx vertx, Injector injector, Class&lt;T&gt; workerVerticleClass, int numVerticles) {\r\n        final String poolName = workerVerticleClass.getSimpleName()\r\n                .toLowerCase()\r\n                .replace(&quot;verticle&quot;, &quot;-worker-pool&quot;);\r\n        final int numberOfThreads = 50;\r\n\r\n        final DeploymentOptions options = new DeploymentOptions()\r\n                .setWorker(true)\r\n                .setWorkerPoolName(poolName)\r\n                .setWorkerPoolSize(numberOfThreads);\r\n\r\n        return IntStream.range(0, numVerticles)\r\n                .mapToObj(ignore -&gt; Future.future((Promise&lt;String&gt; promise) -&gt;\r\n                        vertx.deployVerticle((Verticle) injector.getInstance(workerVerticleClass), options, promise)));\r\n    }\r\n\r\nEventBusAdapter:\r\n\r\n      public void send(Map&lt;String, Object&gt; queryParams, HashMap&lt;String, String&gt; headers, boolean followRedirect, Event eventToFire) {\r\n        StatsRequest statsRequest = new StatsRequest(queryParams, headers, eventToFire, followRedirect);\r\n        eventBus.request(FIRE_GET_METRIC_TO_STATS,statsRequest);\r\n      }\r\n\r\n\r\nWorkerVerticle:\r\n\r\n      @Override\r\n      public void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n        vertx.eventBus().consumer(FIRE_GET_METRIC_TO_STATS, this::fire);\r\n        startPromise.complete();\r\n      }\r\n    \r\n      private void fire(Message&lt;StatsRequest&gt; message) {\r\n        StatsRequest body = message.body();\r\n        MultiMap multimapHeader = MultiMap.caseInsensitiveMultiMap();\r\n    \r\n        WebClientOptions webClientOptions = new WebClientOptions();\r\n        webClientOptions.setMaxPoolSize(1000);\r\n        WebClient httpClient = WebClient.create(vertx, webClientOptions);\r\n    \r\n        httpClient.request(HttpMethod.GET, port, &quot;example.com&quot;, &quot;/1x1.gif&quot; + &quot;?&quot; + &quot;queryParamsString&quot;)\r\n                .followRedirects(false)\r\n                .putHeaders(multimapHeader)\r\n                .timeout(120000)\r\n                .send()\r\n                .onSuccess(response -&gt; {\r\n                  logger.info(&quot;All good&quot;);\r\n                })\r\n                .onFailure(err -&gt; {\r\n                  logger.error(&quot;Exception: &quot; + err.getMessage());\r\n                });\r\n      }\r\n\r\nHow can i solve this issue?  ","title":"Vert.x &quot;Cannot assign requested address&quot; errors caused by high throughput","body":"<p>I&quot;m doing a stress test on vert.x application and send ~10K RPS.\nMy application send an http async request from a dedicated verticle.\nI&quot;m using vert.x http client, and see that around 20 seconds my application sent the http requests successfully.\nAfter 20 seconds i&quot;m starting to get a lot of &quot;Cannot assign requested address&quot; errors.</p>\n<p>I tried to deploy more verticles, to set different values to the http client thread pool and nothing helped to solve the issue.\nI guess that the issue related to the high throughput in a short time around 1 minute.</p>\n<p>Main Class:</p>\n<pre><code> public static void main(String[] args) {\n\nfinal VertxOptions vertxOptions = new VertxOptions()\n  .setMaxEventLoopExecuteTime(1)\n  .setMaxEventLoopExecuteTimeUnit(TimeUnit.MILLISECONDS);\n\nfinal Vertx vertx = Vertx.vertx(vertxOptions);\n\nfinal Injector injector = Guice.createInjector(new Dependencies(vertx));\n\nCustomCodecRegister.register(vertx.eventBus());\n\nfinal Stream&lt;Future&lt;String&gt;&gt; deploymentFutures = Stream.of(\n        deployWorker(vertx, injector, StatsHttpVerticle.class, 10)\n).flatMap(stream -&gt; stream);\n\nCompositeFuture.all(deploymentFutures.collect(Collectors.toList()))\n        .onSuccess(successfulCompositeFuture -&gt; { });}\n\nprivate static &lt;T&gt; Stream&lt;Future&lt;String&gt;&gt; deployWorker(Vertx vertx, Injector injector, Class&lt;T&gt; workerVerticleClass, int numVerticles) {\n    final String poolName = workerVerticleClass.getSimpleName()\n            .toLowerCase()\n            .replace(&quot;verticle&quot;, &quot;-worker-pool&quot;);\n    final int numberOfThreads = 50;\n\n    final DeploymentOptions options = new DeploymentOptions()\n            .setWorker(true)\n            .setWorkerPoolName(poolName)\n            .setWorkerPoolSize(numberOfThreads);\n\n    return IntStream.range(0, numVerticles)\n            .mapToObj(ignore -&gt; Future.future((Promise&lt;String&gt; promise) -&gt;\n                    vertx.deployVerticle((Verticle) injector.getInstance(workerVerticleClass), options, promise)));\n}\n</code></pre>\n<p>EventBusAdapter:</p>\n<pre><code>  public void send(Map&lt;String, Object&gt; queryParams, HashMap&lt;String, String&gt; headers, boolean followRedirect, Event eventToFire) {\n    StatsRequest statsRequest = new StatsRequest(queryParams, headers, eventToFire, followRedirect);\n    eventBus.request(FIRE_GET_METRIC_TO_STATS,statsRequest);\n  }\n</code></pre>\n<p>WorkerVerticle:</p>\n<pre><code>  @Override\n  public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n    vertx.eventBus().consumer(FIRE_GET_METRIC_TO_STATS, this::fire);\n    startPromise.complete();\n  }\n\n  private void fire(Message&lt;StatsRequest&gt; message) {\n    StatsRequest body = message.body();\n    MultiMap multimapHeader = MultiMap.caseInsensitiveMultiMap();\n\n    WebClientOptions webClientOptions = new WebClientOptions();\n    webClientOptions.setMaxPoolSize(1000);\n    WebClient httpClient = WebClient.create(vertx, webClientOptions);\n\n    httpClient.request(HttpMethod.GET, port, &quot;example.com&quot;, &quot;/1x1.gif&quot; + &quot;?&quot; + &quot;queryParamsString&quot;)\n            .followRedirects(false)\n            .putHeaders(multimapHeader)\n            .timeout(120000)\n            .send()\n            .onSuccess(response -&gt; {\n              logger.info(&quot;All good&quot;);\n            })\n            .onFailure(err -&gt; {\n              logger.error(&quot;Exception: &quot; + err.getMessage());\n            });\n  }\n</code></pre>\n<p>How can i solve this issue?</p>\n"},{"tags":["java","jedis"],"answers":[{"tags":[],"owner":{"account_id":5718675,"reputation":1905,"user_id":4517895,"accept_rate":69,"display_name":"Mikhail Chibel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514430239,"creation_date":1514430239,"answer_id":48001126,"question_id":44828304,"body_markdown":"One way to overcome the issue is to use a connection pool. I&#39;m using JedisPool. While I cannot find anywhere in the documentation that JedisPool supports automatic reconnect, in my tests, I&#39;m able to continue to use Redis cache after service restarted. \r\n\r\nAnother option is to use [lettuce client][1] which claims to support auto-reconnect. \r\n\r\n\r\n  [1]: https://github.com/lettuce-io/lettuce-core/commits/master","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>One way to overcome the issue is to use a connection pool. I'm using JedisPool. While I cannot find anywhere in the documentation that JedisPool supports automatic reconnect, in my tests, I'm able to continue to use Redis cache after service restarted. </p>\n\n<p>Another option is to use <a href=\"https://github.com/lettuce-io/lettuce-core/commits/master\" rel=\"noreferrer\">lettuce client</a> which claims to support auto-reconnect. </p>\n"},{"tags":[],"owner":{"account_id":399098,"reputation":10373,"user_id":764206,"display_name":"Nikita Koksharov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1583840176,"creation_date":1583840176,"answer_id":60616816,"question_id":44828304,"body_markdown":"You may use JedisPool. In case of broken connection JedisPool just invalidates broken connections.\r\n\r\nAlso you could use [Redisson](https://redisson.org) Redis Java client which has internal ConnectionWatchDog to avoid broken connections. Redisson exposes few settings to control Redis command retry logic: [retryAttempts](https://github.com/redisson/redisson/wiki/2.-Configuration#retryattempts), [retryInterval](https://github.com/redisson/redisson/wiki/2.-Configuration#retryinterval), [timeout](https://github.com/redisson/redisson/wiki/2.-Configuration#timeout)\r\n","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>You may use JedisPool. In case of broken connection JedisPool just invalidates broken connections.</p>\n\n<p>Also you could use <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> Redis Java client which has internal ConnectionWatchDog to avoid broken connections. Redisson exposes few settings to control Redis command retry logic: <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#retryattempts\" rel=\"nofollow noreferrer\">retryAttempts</a>, <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#retryinterval\" rel=\"nofollow noreferrer\">retryInterval</a>, <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration#timeout\" rel=\"nofollow noreferrer\">timeout</a></p>\n"}],"owner":{"account_id":10137733,"reputation":802,"user_id":7488539,"accept_rate":0,"display_name":"Vigneshwaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8383,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1672213505,"creation_date":1498747373,"question_id":44828304,"body_markdown":"I have an application that stores and reads date in Redis. When Redis goes down and then comes back up, the Jedis connection is not being recreated.\r\n\r\nIs there is a way to create a connection retry in Jedis?","title":"How to enable auto reconnect of redis connection in Jedis client","body":"<p>I have an application that stores and reads date in Redis. When Redis goes down and then comes back up, the Jedis connection is not being recreated.</p>\n\n<p>Is there is a way to create a connection retry in Jedis?</p>\n"},{"tags":["java","api","web-services","soap","backend"],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672213281,"creation_date":1672213281,"question_id":74937513,"body_markdown":"One of my `soapAPI` was giving `HTTP 500 error`. when we searched in log we got the below issue.\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;validator&#39;. Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\r\n\r\nTo remove this issue we put below jar in our pom.xml\r\n\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nand this issue gone. But unfortunately code is creating problem in other places. The functionality which were working earlier now giving `http 500 error`. When we remove the above `jar` the original issues comes but new issue vanished.\r\n\r\nAre we doing some mistake by including above jar files? is there any guess to get it done? I know issue seems somewhat strange but it is coming like this only. We are using `java 8` , `jsp` and `struts`.\r\n\r\nWe did not do any code changes.","title":"Http 500 error in soap API java due to jaxb jar file","body":"<p>One of my <code>soapAPI</code> was giving <code>HTTP 500 error</code>. when we searched in log we got the below issue.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'validator'. Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1628)\n</code></pre>\n<p>To remove this issue we put below jar in our pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and this issue gone. But unfortunately code is creating problem in other places. The functionality which were working earlier now giving <code>http 500 error</code>. When we remove the above <code>jar</code> the original issues comes but new issue vanished.</p>\n<p>Are we doing some mistake by including above jar files? is there any guess to get it done? I know issue seems somewhat strange but it is coming like this only. We are using <code>java 8</code> , <code>jsp</code> and <code>struts</code>.</p>\n<p>We did not do any code changes.</p>\n"},{"tags":["java","spring-boot","spring-security","migration","springdoc-ui"],"comments":[{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1671736308,"post_id":74885458,"comment_id":132167318,"body_markdown":"@dur springdoc.version = 1.6.0","body":"@dur springdoc.version = 1.6.0"},{"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"score":0,"creation_date":1671736468,"post_id":74885458,"comment_id":132167360,"body_markdown":"@dur, ok thanks for your explanation. But before upgrading I didn&#39;t have this problem with the same code.","body":"@dur, ok thanks for your explanation. But before upgrading I didn&#39;t have this problem with the same code."},{"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"score":0,"creation_date":1679129967,"post_id":74885458,"comment_id":133668659,"body_markdown":"Please check my answer on **[How to run Swagger 3 on Spring Boot 3](https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3)**","body":"Please check my answer on <b><a href=\"https://stackoverflow.com/questions/74614369/how-to-run-swagger-3-on-spring-boot-3\">How to run Swagger 3 on Spring Boot 3</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672213059,"creation_date":1672213059,"answer_id":74937481,"question_id":74885458,"body_markdown":"I found the solution : with spring boot 3 it seems to use springdoc-openapi-starter-webmvc-ui ([https://springdoc.org/v2/][1]).\r\nI have added the following dependency and now i can use swagger\r\n\r\n       &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\nThe dependency springdoc-openapi-ui is not applicable to spring boot 3. I remo\r\n\r\n\r\n  [1]: https://springdoc.org/v2/","title":"After upgrade to Spring Boot 3 Swagger UI is not accessable","body":"<p>I found the solution : with spring boot 3 it seems to use springdoc-openapi-starter-webmvc-ui (<a href=\"https://springdoc.org/v2/\" rel=\"noreferrer\">https://springdoc.org/v2/</a>).\nI have added the following dependency and now i can use swagger</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The dependency springdoc-openapi-ui is not applicable to spring boot 3. I remo</p>\n"}],"owner":{"account_id":21446068,"reputation":101,"user_id":15799612,"display_name":"Nicolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74937481,"answer_count":1,"score":3,"last_activity_date":1672213059,"creation_date":1671695032,"question_id":74885458,"body_markdown":"I had a Spring Boot 2.7.6 app with Spring Security 5.7.5 running without problems: authentication works, I navigate through the different pages according to roles, Swagger UI is usable, etc. I don&#39;t have a deprecated warning for your information.\r\n\r\nI migrated to Spring Boot 3.0.0 and therefore Spring Security 6.0.0. I followed the migration guides and the server starts without error. But my URLs no longer work. I have a 401 status.\r\n\r\nIssue #1: `GET http://localhost:8080/swagger-ui/index.html` results in a 401 on client side.\r\n\r\nIn the logs I have a 404:\r\n\r\n```\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/swagger-ui/index.html&quot;, parameters={}\r\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\r\nDEBUG o.s.w.servlet.resource.ResourceHttpRequestHandler  : Resource not found\r\nDEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 404 NOT_FOUND\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n```\r\n\r\n**`pom.xml`**\r\n\r\n```xml\r\n    ...\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t...\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\r\n\t\t&lt;springdoc.version&gt;1.6.0&lt;/springdoc.version&gt;\r\n\t\t&lt;docx4j.version&gt;11.3.2&lt;/docx4j.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jjwt.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&#160;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${docx4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${docx4j.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n&#160;\r\n\t&lt;/dependencies&gt;\r\n&#160;\r\n...\r\n&lt;/project&gt;\r\n```\r\n\r\n**`SecurityConfig` class**\r\n\r\n```java\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\r\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\r\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\r\n&#160;\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\npublic class SecurityConfig {\r\n&#160;\r\n  @Autowired\r\n  UserDetailsService userDetailsService;\r\n&#160;\r\n  @Autowired\r\n  public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    authenticationManagerBuilder.getDefaultUserDetailsService();\r\n  }\r\n&#160;\r\n  // @Override\r\n  // public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n  // authenticationManagerBuilder.userDetailsService(this.userDetailsService)\r\n  // .passwordEncoder(passwordEncoder());\r\n  // }\r\n&#160;\r\n  @Bean\r\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n    return authenticationConfiguration.getAuthenticationManager();\r\n  }\r\n&#160;\r\n  @Bean\r\n  public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n  }\r\n&#160;\r\n  @Bean\r\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    // @formatter:off\r\n    http\r\n        .headers()\r\n            .frameOptions().disable()\r\n            .and()\r\n        .cors()\r\n            .and()\r\n        .csrf().disable()\r\n        .exceptionHandling()\r\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\r\n        .formLogin().disable()\r\n        .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\r\n                                          .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\r\n                                          .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\r\n                                          .requestMatchers(req -&gt; req.getRequestURI()\r\n                                            .contains(&quot;swagger-ui&quot;)).permitAll()\r\n                                          .anyRequest().authenticated());\r\n    // @formatter:on\r\n&#160;\r\n    return http.build();\r\n  }\r\n&#160;\r\n  @Bean\r\n  public WebSecurityCustomizer webSecurityCustomizer() {\r\n    return (web) -&gt; web.ignoring()\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;mail-images&quot;))\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;api-docs&quot;))\r\n      // .requestMatchers(req -&gt; req.getRequestURI()\r\n      // .contains(&quot;swagger-ui&quot;))\r\n      .requestMatchers(req -&gt; req.getRequestURI()\r\n        .contains(&quot;h2-console&quot;));\r\n  }\r\n}\r\n```\r\n\r\n**`WebMvcConfig` class**\r\n\r\n```java\r\nimport java.util.List;\r\n&#160;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n&#160;\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebMvcConfig implements WebMvcConfigurer {\r\n&#160;\r\n  @Value(&quot;#{&#39;${cors.allowedOrigins}&#39;.split(&#39;,&#39;)}&quot;)\r\n  private List&lt;String&gt; allowedOrigins;\r\n&#160;\r\n  @Override\r\n  public void addCorsMappings(CorsRegistry registry) {\r\n    registry.addMapping(&quot;/**&quot;)\r\n      .allowCredentials(true)\r\n      .allowedHeaders(&quot;*&quot;)\r\n      .allowedOriginPatterns(&quot;http://*&quot;, &quot;https://*&quot;)\r\n      .allowedOrigins(this.allowedOrigins.toArray(String[]::new))\r\n      .allowedMethods(HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(), HttpMethod.PATCH.name(), HttpMethod.DELETE.name(), HttpMethod.OPTIONS.name());\r\n  }\r\n&#160;\r\n  private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;classpath:/static/&quot;};\r\n&#160;\r\n  @Override\r\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    registry.addResourceHandler(&quot;/**&quot;)\r\n      .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\r\n  }\r\n&#160;\r\n}\r\n```\r\n\r\nI tried some differents configuration according with\r\n- [https://docs.spring.io/spring-security/reference/5.8/migration/](https://docs.spring.io/spring-security/reference/5.8/migration/)\r\n- [https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide)\r\n\r\nDo you have a search lead because I&#39;m drying up after several attempts?\r\n","title":"After upgrade to Spring Boot 3 Swagger UI is not accessable","body":"<p>I had a Spring Boot 2.7.6 app with Spring Security 5.7.5 running without problems: authentication works, I navigate through the different pages according to roles, Swagger UI is usable, etc. I don't have a deprecated warning for your information.</p>\n<p>I migrated to Spring Boot 3.0.0 and therefore Spring Security 6.0.0. I followed the migration guides and the server starts without error. But my URLs no longer work. I have a 401 status.</p>\n<p>Issue #1: <code>GET http://localhost:8080/swagger-ui/index.html</code> results in a 401 on client side.</p>\n<p>In the logs I have a 404:</p>\n<pre><code>DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG org.springframework.web.servlet.DispatcherServlet  : GET &quot;/swagger-ui/index.html&quot;, parameters={}\nDEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping    : Mapped to ResourceHttpRequestHandler [classpath [static/]]\nDEBUG o.s.w.servlet.resource.ResourceHttpRequestHandler  : Resource not found\nDEBUG org.springframework.web.servlet.DispatcherServlet  : Completed 404 NOT_FOUND\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\nDEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping         : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n</code></pre>\n<p><strong><code>pom.xml</code></strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    ...\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;jjwt.version&gt;0.11.5&lt;/jjwt.version&gt;\n        &lt;springdoc.version&gt;1.6.0&lt;/springdoc.version&gt;\n        &lt;docx4j.version&gt;11.3.2&lt;/docx4j.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jjwt.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-export-fo&lt;/artifactId&gt;\n            &lt;version&gt;${docx4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j-JAXB-ReferenceImpl&lt;/artifactId&gt;\n            &lt;version&gt;${docx4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n \n    &lt;/dependencies&gt;\n \n...\n&lt;/project&gt;\n</code></pre>\n<p><strong><code>SecurityConfig</code> class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.HttpStatusEntryPoint;\nimport org.springframework.security.web.context.RequestAttributeSecurityContextRepository;\nimport org.springframework.security.web.savedrequest.HttpSessionRequestCache;\n \n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\npublic class SecurityConfig {\n \n  @Autowired\n  UserDetailsService userDetailsService;\n \n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.getDefaultUserDetailsService();\n  }\n \n  // @Override\n  // public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n  // authenticationManagerBuilder.userDetailsService(this.userDetailsService)\n  // .passwordEncoder(passwordEncoder());\n  // }\n \n  @Bean\n  public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n  }\n \n  @Bean\n  public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n  }\n \n  @Bean\n  SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    // @formatter:off\n    http\n        .headers()\n            .frameOptions().disable()\n            .and()\n        .cors()\n            .and()\n        .csrf().disable()\n        .exceptionHandling()\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED)).and()\n        .formLogin().disable()\n        .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/api/*/auth/**&quot;).permitAll()\n                                          .requestMatchers(&quot;/api/*/public/**&quot;).permitAll()\n                                          .requestMatchers(&quot;/api/*/catalogs/*/documents/*/file&quot;).permitAll()\n                                          .requestMatchers(req -&gt; req.getRequestURI()\n                                            .contains(&quot;swagger-ui&quot;)).permitAll()\n                                          .anyRequest().authenticated());\n    // @formatter:on\n \n    return http.build();\n  }\n \n  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring()\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;mail-images&quot;))\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;api-docs&quot;))\n      // .requestMatchers(req -&gt; req.getRequestURI()\n      // .contains(&quot;swagger-ui&quot;))\n      .requestMatchers(req -&gt; req.getRequestURI()\n        .contains(&quot;h2-console&quot;));\n  }\n}\n</code></pre>\n<p><strong><code>WebMvcConfig</code> class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n \nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n \n@Configuration\n@EnableWebMvc\npublic class WebMvcConfig implements WebMvcConfigurer {\n \n  @Value(&quot;#{'${cors.allowedOrigins}'.split(',')}&quot;)\n  private List&lt;String&gt; allowedOrigins;\n \n  @Override\n  public void addCorsMappings(CorsRegistry registry) {\n    registry.addMapping(&quot;/**&quot;)\n      .allowCredentials(true)\n      .allowedHeaders(&quot;*&quot;)\n      .allowedOriginPatterns(&quot;http://*&quot;, &quot;https://*&quot;)\n      .allowedOrigins(this.allowedOrigins.toArray(String[]::new))\n      .allowedMethods(HttpMethod.GET.name(), HttpMethod.POST.name(), HttpMethod.PUT.name(), HttpMethod.PATCH.name(), HttpMethod.DELETE.name(), HttpMethod.OPTIONS.name());\n  }\n \n  private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {&quot;classpath:/static/&quot;};\n \n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**&quot;)\n      .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n  }\n \n}\n</code></pre>\n<p>I tried some differents configuration according with</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/5.8/migration/</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide</a></li>\n</ul>\n<p>Do you have a search lead because I'm drying up after several attempts?</p>\n"},{"tags":["java","bouncycastle","signature","pkcs#7","pkcs#1"],"owner":{"account_id":27370933,"reputation":1,"user_id":20876986,"display_name":"Alireza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672212827,"creation_date":1672212827,"question_id":74937449,"body_markdown":"I&#39;m new to PKCS and, I have a PKCS1 signature which it is a signature of a file, I want to do the whole CAdES creation around it in java with the BouncyCastle library(if it&#39;s possible), how i can do this? \r\n\r\nNoting that: the sign process is a remote job, after doing the authentication process with a card, i will send a request to a server to sign a file and as an answer I will receive only a byte[] of signature, which its a pkcs#1 signature.\r\n\r\nim expect to create a pkcs7 and save it in a file","title":"building the CAdES around a PKCS#1 signature in java","body":"<p>I'm new to PKCS and, I have a PKCS1 signature which it is a signature of a file, I want to do the whole CAdES creation around it in java with the BouncyCastle library(if it's possible), how i can do this?</p>\n<p>Noting that: the sign process is a remote job, after doing the authentication process with a card, i will send a request to a server to sign a file and as an answer I will receive only a byte[] of signature, which its a pkcs#1 signature.</p>\n<p>im expect to create a pkcs7 and save it in a file</p>\n"},{"tags":["java","maven","apache-spark","google-cloud-storage","google-cloud-dataproc"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1672211252,"post_id":74936691,"comment_id":132241863,"body_markdown":"I&#39;m not very familiar with this, but it looks like there is a space in that filename (between `2022-12-27` and `12:08:48`). Typically spaces in filenames are not a good idea. Try removing the space character?","body":"I&#39;m not very familiar with this, but it looks like there is a space in that filename (between <code>2022-12-27</code> and <code>12:08:48</code>). Typically spaces in filenames are not a good idea. Try removing the space character?"},{"owner":{"account_id":3221623,"reputation":3136,"user_id":2718939,"display_name":"Ronak Jain"},"score":0,"creation_date":1672211708,"post_id":74936691,"comment_id":132241957,"body_markdown":"Can you add how are you writing the data? i.e. writer code","body":"Can you add how are you writing the data? i.e. writer code"},{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1672322392,"post_id":74936691,"comment_id":132267139,"body_markdown":"Hi @Faisal Khan, can you provide the sample code which you have tried?","body":"Hi @Faisal Khan, can you provide the sample code which you have tried?"},{"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"score":0,"creation_date":1672400473,"post_id":74936691,"comment_id":132282670,"body_markdown":"@ShipraSarkar thanks for your response mam but unfortunately my code base is too large, so i can not show you where does the output came from but at the last it store in a JavaRDD&lt;String&gt; object and then after code is available above here.","body":"@ShipraSarkar thanks for your response mam but unfortunately my code base is too large, so i can not show you where does the output came from but at the last it store in a JavaRDD&lt;String&gt; object and then after code is available above here."}],"owner":{"account_id":24047058,"reputation":85,"user_id":18025959,"display_name":"Faisal Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672212424,"creation_date":1672206606,"question_id":74936691,"body_markdown":"I am trying to use GCP to run spark application, i am using dataproc to trigger application and want to write output in Google Cloud Storage for this i have GCS connector added in my pom.xml\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\nIt help&#39;s me to read CSV from GCS but when i try to write result in GCS it throws a very annoying error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Pathname /user/root/gs/2022-12-27 12:08:48 from hdfs://dm-service-metanome-m/user/root/gs/2022-12-27 12:08:48 is not a valid DFS filename.\r\n\r\nCan anyone help me ?\r\n\r\ni use the following code to write output in GCS.\r\n\r\n    javaRDDString.coalesce(1).saveAsTextFile(location+&quot;/&quot;+(DATE_FORMAT.format(new Date(System.currentTimeMillis())).toString()));\r\n\r\nThanks in Advance :)\r\n \r\n\r\n ","title":"How to write in GCS using spark java in dataproc?","body":"<p>I am trying to use GCP to run spark application, i am using dataproc to trigger application and want to write output in Google Cloud Storage for this i have GCS connector added in my pom.xml</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/com.google.cloud.bigdataoss/gcs-connector --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.bigdataoss&lt;/groupId&gt;\n        &lt;artifactId&gt;gcs-connector&lt;/artifactId&gt;\n        &lt;version&gt;hadoop3-2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>It help's me to read CSV from GCS but when i try to write result in GCS it throws a very annoying error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Pathname /user/root/gs/2022-12-27 12:08:48 from hdfs://dm-service-metanome-m/user/root/gs/2022-12-27 12:08:48 is not a valid DFS filename.\n</code></pre>\n<p>Can anyone help me ?</p>\n<p>i use the following code to write output in GCS.</p>\n<pre><code>javaRDDString.coalesce(1).saveAsTextFile(location+&quot;/&quot;+(DATE_FORMAT.format(new Date(System.currentTimeMillis())).toString()));\n</code></pre>\n<p>Thanks in Advance :)</p>\n"},{"tags":["java","android","hardware","android-bitmap"],"owner":{"account_id":16723758,"reputation":83,"user_id":12087851,"display_name":"NicoTing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672212413,"creation_date":1672211881,"question_id":74937325,"body_markdown":"I am using Pax A920 device. \r\n\r\nI have an issue when printing a bitmap, there is no option to center the bitmap(image) [documentation][1]&lt;br&gt;\r\n\r\nMethods reference: \r\n\r\n[![enter image description here][2]][2]&lt;br&gt;\r\n\r\nThe issue is when the bitmap&#39;s width is short, its left-aligned on the printed receipt.\r\n\r\nI can scale the bitmap using:\r\n\r\n`Bitmap.createScaledBitmap(receiptLogo, 512, receiptLogo.getHeight(), false);`\r\n\r\nBut it looks bad, I&#39;m thinking of creating a new Bitmap with width of 512 &amp; height of receipt.Logo.getHeight() then put the receipt logo in the middle so it wont look stretch. \r\n\r\nIs this doable?\r\n\r\n\r\n  [1]: https://docs.hips.com/docs/pax-a920#neptune-service\r\n  [2]: https://i.stack.imgur.com/hls51.png","title":"How to make bitmap bigger without resizing the actual image","body":"<p>I am using Pax A920 device.</p>\n<p>I have an issue when printing a bitmap, there is no option to center the bitmap(image) <a href=\"https://docs.hips.com/docs/pax-a920#neptune-service\" rel=\"nofollow noreferrer\">documentation</a><br></p>\n<p>Methods reference:</p>\n<p><a href=\"https://i.stack.imgur.com/hls51.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hls51.png\" alt=\"enter image description here\" /></a><br></p>\n<p>The issue is when the bitmap's width is short, its left-aligned on the printed receipt.</p>\n<p>I can scale the bitmap using:</p>\n<p><code>Bitmap.createScaledBitmap(receiptLogo, 512, receiptLogo.getHeight(), false);</code></p>\n<p>But it looks bad, I'm thinking of creating a new Bitmap with width of 512 &amp; height of receipt.Logo.getHeight() then put the receipt logo in the middle so it wont look stretch.</p>\n<p>Is this doable?</p>\n"},{"tags":["java","android","video-streaming","vlc"],"answers":[{"tags":[],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672212238,"creation_date":1672046759,"answer_id":74918944,"question_id":74906657,"body_markdown":"It looks, help is to remove line with component:    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));.    \r\nThen it works as usual on Android 13.Thanks","title":"Android 13 playing video by using VLC Player is not working?","body":"<p>It looks, help is to remove line with component:    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));.<br />\nThen it works as usual on Android 13.Thanks</p>\n"}],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672212238,"creation_date":1671873362,"question_id":74906657,"body_markdown":"I wonder why on previous Android versions playing URL on VLC works well but on Android 13 not.Here is my working code:\r\n\r\n    int vlcRequestCode = 42;\r\n    Uri uri = Uri.parse(myreceivedLink);\r\n    Intent i = new Intent(Intent.ACTION_VIEW);\r\n    i.setPackage(&quot;org.videolan.vlc&quot;);\r\n    i.setDataAndTypeAndNormalize(uri, &quot;video/*&quot;);\r\n    i.putExtra(&quot;title&quot;, title);\r\n    i.putExtra(&quot;from_start&quot;, false);\r\n    i.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));\r\n    startActivityForResult(i, vlcRequestCode);\r\n\r\nAnd Error message is:\r\n\r\n    W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {org.videolan.vlc/org.videolan.vlc.gui.video.VideoPlayerActivity}; have you declared this activity in your AndroidManifest.xml, or does your intent not match its declared &lt;intent-filter&gt;?\r\n\r\nThere is no special implementation in build.graddle.Something was changed in Android 13, do you have any suggestion how to fix ?\r\n","title":"Android 13 playing video by using VLC Player is not working?","body":"<p>I wonder why on previous Android versions playing URL on VLC works well but on Android 13 not.Here is my working code:</p>\n<pre><code>int vlcRequestCode = 42;\nUri uri = Uri.parse(myreceivedLink);\nIntent i = new Intent(Intent.ACTION_VIEW);\ni.setPackage(&quot;org.videolan.vlc&quot;);\ni.setDataAndTypeAndNormalize(uri, &quot;video/*&quot;);\ni.putExtra(&quot;title&quot;, title);\ni.putExtra(&quot;from_start&quot;, false);\ni.setComponent(new ComponentName(&quot;org.videolan.vlc&quot;,&quot;org.videolan.vlc.gui.video.VideoPlayerActivity&quot;));\nstartActivityForResult(i, vlcRequestCode);\n</code></pre>\n<p>And Error message is:</p>\n<pre><code>W/System.err: android.content.ActivityNotFoundException: Unable to find explicit activity class {org.videolan.vlc/org.videolan.vlc.gui.video.VideoPlayerActivity}; have you declared this activity in your AndroidManifest.xml, or does your intent not match its declared &lt;intent-filter&gt;?\n</code></pre>\n<p>There is no special implementation in build.graddle.Something was changed in Android 13, do you have any suggestion how to fix ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1636789645,"post_id":69952398,"comment_id":123655175,"body_markdown":"This very much sounds like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Why do you want to push a `null`/&quot;empty value&quot;?","body":"This very much sounds like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. Why do you want to push a <code>null</code>/&quot;empty value&quot;?"},{"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"score":0,"creation_date":1636789928,"post_id":69952398,"comment_id":123655216,"body_markdown":"Alright, I have edited my questions again. I just wanna push an element which has a particular meaning so I could make some particular operation. @\nTuring85","body":"Alright, I have edited my questions again. I just wanna push an element which has a particular meaning so I could make some particular operation. @ Turing85"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1636789950,"post_id":69952398,"comment_id":123655220,"body_markdown":"Why? What is the use case? Maybe `ArrayDeque` is the wrong data structure. But to be certain, we have to understand the use case.","body":"Why? What is the use case? Maybe <code>ArrayDeque</code> is the wrong data structure. But to be certain, we have to understand the use case."},{"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"score":0,"creation_date":1636790689,"post_id":69952398,"comment_id":123655344,"body_markdown":"Thanks for  reviewing this issue. I have supplemented the case in which I met my question.","body":"Thanks for  reviewing this issue. I have supplemented the case in which I met my question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1636791331,"post_id":69952398,"comment_id":123655439,"body_markdown":"Instead of checking `node != null`, we could check each child individually before inserting them: `final node left = node.left; if (left != null) { queue.offer(left); }`. Not sure of this messes with the overall algorithm though.","body":"Instead of checking <code>node != null</code>, we could check each child individually before inserting them: <code>final node left = node.left; if (left != null) { queue.offer(left); }</code>. Not sure of this messes with the overall algorithm though."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636807967,"creation_date":1636790492,"answer_id":69952531,"question_id":69952398,"body_markdown":"**Simple but not so good solution:**\r\n\r\n - Use `ArrayDeque&lt;Optional&lt;MyClass&gt;&gt;` with `MyClass` being your class. Then you can add an empty Optional.\r\n - You could also use any other wrapper class for this, and set the contained element null.\r\n\r\n**Better solution:**\r\n\r\nBut to solve your problem better, generally I&#39;d suggest you have special elements, defined as constants, like so:\r\n\r\n`static public final MyClass STOP_INDICATOR = new MyClass();`\r\nand MyClass maybe fitted with some special CTOR if it needs more info.\r\n\r\nIf you then retrieve it and check it, you can even use the *identity* check `a == b` and don&#39;t have to use `a.equals(b)`, because it&#39;s a constant.","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p><strong>Simple but not so good solution:</strong></p>\n<ul>\n<li>Use <code>ArrayDeque&lt;Optional&lt;MyClass&gt;&gt;</code> with <code>MyClass</code> being your class. Then you can add an empty Optional.</li>\n<li>You could also use any other wrapper class for this, and set the contained element null.</li>\n</ul>\n<p><strong>Better solution:</strong></p>\n<p>But to solve your problem better, generally I'd suggest you have special elements, defined as constants, like so:</p>\n<p><code>static public final MyClass STOP_INDICATOR = new MyClass();</code>\nand MyClass maybe fitted with some special CTOR if it needs more info.</p>\n<p>If you then retrieve it and check it, you can even use the <em>identity</em> check <code>a == b</code> and don't have to use <code>a.equals(b)</code>, because it's a constant.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636792184,"creation_date":1636792184,"answer_id":69952679,"question_id":69952398,"body_markdown":"I think you should use [Null Object Pattern][1]. You can define any object (it&#39;s better to make it immutable) as `null` value and use it everywhere instead of `null`. E.g. if you use `Jackson`:\r\n```java\r\npublic static final TreeNode NULL = NullNode.getInstance();\r\n\r\nDeque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\nqueue.offer(NULL);\r\n\r\nwhile(!queue.isEmpty()) {\r\n    TreeNode node = queue.poll();\r\n\r\n    if(node == NULL)\r\n        System.err.println(&quot;null object&quot;);\r\n    else\r\n        System.out.println(&quot;not null object&quot;);\r\n}\r\n```\r\n\r\nAnother solution, you can use `Optional` instead of `TreeNode` in the `Deque`:\r\n```java\r\nDeque&lt;Optional&lt;TreeNode&gt;&gt; queue = new ArrayDeque&lt;&gt;();\r\nqueue.offer(Optional.empty());\r\n\r\nwhile (!queue.isEmpty()) {\r\n    Optional&lt;TreeNode&gt; optNode = queue.poll();\r\n\r\n    if (optNode.isEmpty())\r\n        System.err.println(&quot;null object&quot;);\r\n    else\r\n        System.out.println(&quot;not null object&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Null_object_pattern","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>I think you should use <a href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow noreferrer\">Null Object Pattern</a>. You can define any object (it's better to make it immutable) as <code>null</code> value and use it everywhere instead of <code>null</code>. E.g. if you use <code>Jackson</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final TreeNode NULL = NullNode.getInstance();\n\nDeque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\nqueue.offer(NULL);\n\nwhile(!queue.isEmpty()) {\n    TreeNode node = queue.poll();\n\n    if(node == NULL)\n        System.err.println(&quot;null object&quot;);\n    else\n        System.out.println(&quot;not null object&quot;);\n}\n</code></pre>\n<p>Another solution, you can use <code>Optional</code> instead of <code>TreeNode</code> in the <code>Deque</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Deque&lt;Optional&lt;TreeNode&gt;&gt; queue = new ArrayDeque&lt;&gt;();\nqueue.offer(Optional.empty());\n\nwhile (!queue.isEmpty()) {\n    Optional&lt;TreeNode&gt; optNode = queue.poll();\n\n    if (optNode.isEmpty())\n        System.err.println(&quot;null object&quot;);\n    else\n        System.out.println(&quot;not null object&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636966824,"creation_date":1636813740,"answer_id":69955203,"question_id":69952398,"body_markdown":"Thanks for inspiring me! This is my final-version-algorithm:\r\n\r\n```\r\nclass Solution {\r\n    static final TreeNode NULL_TREENODE = new TreeNode(101);\r\n\r\n    public boolean isSymmetric(TreeNode root) {\r\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n        \r\n        if (root != null) {\r\n            queue.offer(root);\r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n                for (int i = 0; i &lt; size; i++) {\r\n                    TreeNode node = queue.poll();\r\n                    if (node != root) {  \r\n                       stack.push(node.val);\r\n                    } \r\n                    if (node != NULL_TREENODE) {\r\n\r\n                        if (node.left != null) {\r\n                            queue.offer(node.left);\r\n                        } \r\n                        if (node.left == null) {  \r\n                            queue.offer(NULL_TREENODE);\r\n                        }\r\n                        if (node.right != null) {\r\n                            queue.offer(node.right);\r\n                        }\r\n                        if (node.right == null) {\r\n                            queue.offer(NULL_TREENODE);\r\n                        }\r\n                   }\r\n                }\r\n          \r\n                while (!stack.isEmpty()) {\r\n                    if (stack.removeFirst() != stack.removeLast()) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nHowever, it&#39;s not a good algorithm for this question, cause it needs much extra memory space by the stack.","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Thanks for inspiring me! This is my final-version-algorithm:</p>\n<pre><code>class Solution {\n    static final TreeNode NULL_TREENODE = new TreeNode(101);\n\n    public boolean isSymmetric(TreeNode root) {\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n        \n        if (root != null) {\n            queue.offer(root);\n            while (!queue.isEmpty()) {\n                int size = queue.size();\n                for (int i = 0; i &lt; size; i++) {\n                    TreeNode node = queue.poll();\n                    if (node != root) {  \n                       stack.push(node.val);\n                    } \n                    if (node != NULL_TREENODE) {\n\n                        if (node.left != null) {\n                            queue.offer(node.left);\n                        } \n                        if (node.left == null) {  \n                            queue.offer(NULL_TREENODE);\n                        }\n                        if (node.right != null) {\n                            queue.offer(node.right);\n                        }\n                        if (node.right == null) {\n                            queue.offer(NULL_TREENODE);\n                        }\n                   }\n                }\n          \n                while (!stack.isEmpty()) {\n                    if (stack.removeFirst() != stack.removeLast()) {\n                        return false;\n                    }\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>However, it's not a good algorithm for this question, cause it needs much extra memory space by the stack.</p>\n"},{"tags":[],"owner":{"account_id":10525374,"reputation":686,"user_id":7756558,"accept_rate":75,"display_name":"jayant mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672212147,"creation_date":1672212147,"answer_id":74937359,"question_id":69952398,"body_markdown":"Instead of ArrayDeque, why not simply use LinkedList addLast Method,\r\n\r\n    public void addLast(E e)\r\n    Appends the specified element to the end of this list.\r\n    This method is equivalent to add(E).\r\n    \r\n    Specified by:\r\n    addLast in interface Deque&lt;E&gt;\r\n    Parameters:\r\n    e - the element to add","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Instead of ArrayDeque, why not simply use LinkedList addLast Method,</p>\n<pre><code>public void addLast(E e)\nAppends the specified element to the end of this list.\nThis method is equivalent to add(E).\n\nSpecified by:\naddLast in interface Deque&lt;E&gt;\nParameters:\ne - the element to add\n</code></pre>\n"}],"owner":{"account_id":23136540,"reputation":17,"user_id":17240698,"display_name":"Sea Bean"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":4,"score":-1,"last_activity_date":1672212147,"creation_date":1636789353,"question_id":69952398,"body_markdown":"Firstly, don&#39;t get me wrong. I know there will be `NullPointerException` if the specified element is null in the `ArrayDeque.offer()`. What I mean is that whether there is a viable alternative that is valid grammatically if I want offer something indicates itself is null into it?\r\nThe case is below:\r\n\r\n&gt; Q: Given the root of a binary tree, check whether it is a mirror of\r\n&gt; itself (i.e., symmetric around its centre).\\\r\nConstraints: \r\n\\\r\n1.The number of nodes in the tree is in the range [1, 1000].\\\r\n2.-100 &lt;= Node.val &lt;= 100\r\n\r\n\r\nA:\r\n\r\n```\r\nclass Solution {\r\n    public boolean isSymmetric(TreeNode root) {\r\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\r\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\r\n        \r\n        if (root != null) {\r\n            queue.offer(root);\r\n            while (!queue.isEmpty()) {\r\n                int size = queue.size();\r\n            \r\n                for (int i = 0; i &lt; size; i++) {\r\n                    TreeNode node = queue.poll();\r\n                  \r\n                    if (stack.isEmpty() || stack.peek() != node.val) {\r\n                        stack.push(node.val);\r\n                    } else { \r\n                        stack.pop();\r\n                    }\r\n                    if (node != null) {                     \r\n                        queue.offer(node.left);\r\n                        queue.offer(node.right);\r\n                    }\r\n                   \r\n                }\r\n                if (!stack.isEmpty()) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nBut there is something wrong in:\r\n\r\n    queue.offer(node.left);  // offer a null is valid\r\n    queue.offer(node.right);  // offer a null is valid\r\n\r\nSo that&#39;s my question.\r\n","title":"If I want to offer a null into an ArrayDeque, how could I do it","body":"<p>Firstly, don't get me wrong. I know there will be <code>NullPointerException</code> if the specified element is null in the <code>ArrayDeque.offer()</code>. What I mean is that whether there is a viable alternative that is valid grammatically if I want offer something indicates itself is null into it?\nThe case is below:</p>\n<blockquote>\n<p>Q: Given the root of a binary tree, check whether it is a mirror of\nitself (i.e., symmetric around its centre).<br />\nConstraints:\n<br />\n1.The number of nodes in the tree is in the range [1, 1000].<br />\n2.-100 &lt;= Node.val &lt;= 100</p>\n</blockquote>\n<p>A:</p>\n<pre><code>class Solution {\n    public boolean isSymmetric(TreeNode root) {\n        Deque&lt;TreeNode&gt; queue = new ArrayDeque&lt;&gt;();\n        Deque&lt;Integer&gt; stack = new ArrayDeque&lt;&gt;();\n        \n        if (root != null) {\n            queue.offer(root);\n            while (!queue.isEmpty()) {\n                int size = queue.size();\n            \n                for (int i = 0; i &lt; size; i++) {\n                    TreeNode node = queue.poll();\n                  \n                    if (stack.isEmpty() || stack.peek() != node.val) {\n                        stack.push(node.val);\n                    } else { \n                        stack.pop();\n                    }\n                    if (node != null) {                     \n                        queue.offer(node.left);\n                        queue.offer(node.right);\n                    }\n                   \n                }\n                if (!stack.isEmpty()) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>But there is something wrong in:</p>\n<pre><code>queue.offer(node.left);  // offer a null is valid\nqueue.offer(node.right);  // offer a null is valid\n</code></pre>\n<p>So that's my question.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1671977134,"post_id":74913552,"comment_id":132203060,"body_markdown":"Can you add Message class to the question?","body":"Can you add Message class to the question?"},{"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"score":0,"creation_date":1671978397,"post_id":74913552,"comment_id":132203233,"body_markdown":"I covert class from Message to EventMessage \nand EventMessage include this field :\n  protected String type;\n    protected long actorId;\n    protected Serializable entity;\n    protected String entityType;","body":"I covert class from Message to EventMessage  and EventMessage include this field :   protected String type;     protected long actorId;     protected Serializable entity;     protected String entityType;"},{"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"score":0,"creation_date":1671978781,"post_id":74913552,"comment_id":132203284,"body_markdown":"@birca123 I don&#39;t Know what I should do . I&#39;ve tried it a lot","body":"@birca123 I don&#39;t Know what I should do . I&#39;ve tried it a lot"},{"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"score":0,"creation_date":1672053546,"post_id":74913552,"comment_id":132213033,"body_markdown":"In Producer Factory you have mentioned String but for value serializer you have configured JsonSerializer and commented StringSerializer, i think you need to change that","body":"In Producer Factory you have mentioned String but for value serializer you have configured JsonSerializer and commented StringSerializer, i think you need to change that"}],"answers":[{"tags":[],"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672159357,"creation_date":1672064158,"answer_id":74921159,"question_id":74913552,"body_markdown":"I solve it by adding this statement on `messageKafkaListenerContainerFactory`:\r\n\r\n```\r\nfactory.setMessageConverter(new StringJsonMessageConverter());\r\n```\r\n\r\nAnd change `@Payload Message message`  to `@Payload String  message`.\r\n","title":"Kafka Listener method could not be invoked with the incoming message Endpoint handler details","body":"<p>I solve it by adding this statement on <code>messageKafkaListenerContainerFactory</code>:</p>\n<pre><code>factory.setMessageConverter(new StringJsonMessageConverter());\n</code></pre>\n<p>And change <code>@Payload Message message</code>  to <code>@Payload String  message</code>.</p>\n"}],"owner":{"account_id":23752061,"reputation":11,"user_id":17768688,"display_name":"Hasan Isleem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672211636,"creation_date":1671975034,"question_id":74913552,"body_markdown":"I&#39;m sending a json object from producer spring boot but when I&#39;m trying to receive the message in consumer\r\nI am getting following error :\r\n\r\n```\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.***.***.kafka.messages.Message] for GenericMessage [payload={&quot;type&quot;:&quot;HHH&quot;,&quot;actorId&quot;:1,&quot;entity&quot;:null,&quot;entityType&quot;:&quot;ssss&quot;}, headers={kafka_offset=45, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@789f2579, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=isomantopictest, kafka_receivedTimestamp=1671973825381, __TypeId__=[B@500ac626, kafka_groupId=isoman5}]\r\n\tat org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.kafka.annotation.KafkaNullAwarePayloadArgumentResolver.resolveArgument(KafkaNullAwarePayloadArgumentResolver.java:46) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.0.2.jar:6.0.2]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:366) ~[spring-kafka-3.0.0.jar:3.0.0]\r\n\t... 15 common frames omitted\r\n```\r\nKafkaConfig :\r\n```\r\n @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                bootstrapAddress);\r\n        configProps.put(\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\r\n                StringSerializer.class);\r\n//        configProps.put(\r\n//                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\r\n//                StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate kafkaTemplate() {\r\n        KafkaTemplate&lt;String, Message&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\r\n        kafkaTemplate.setConsumerFactory(messageConsumerFactory());\r\n        return kafkaTemplate;\r\n    }\r\n\r\n    public ConsumerFactory&lt;String, Message&gt; messageConsumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n                props,\r\n                new StringDeserializer(),\r\n                new JsonDeserializer&lt;&gt;(Message.class));\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; messageKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(messageConsumerFactory());\r\n//        factory.setMessageConverter(new StringJsonMessageConverter());\r\n        return factory;\r\n    }\r\n```\r\n\r\nReceive File :\r\n\r\n```\r\n@KafkaListener(idIsGroup = false, groupId = &quot;${kafka.group-id}&quot;,\r\n        topics=&quot;#{&#39;${kafka.topics}&#39;.split(&#39;,&#39;)}&quot;)\r\nvoid hearing(@Payload  Message message )  {\r\n    if (verbose) {\r\n        log.trace(&quot;New message received : type = {}, payload = {}&quot;, message.getType(), message);\r\n        log.trace(&quot;Calling processMessage()&quot;);\r\n    }\r\n   \r\n}\r\n```","title":"Kafka Listener method could not be invoked with the incoming message Endpoint handler details","body":"<p>I'm sending a json object from producer spring boot but when I'm trying to receive the message in consumer\nI am getting following error :</p>\n<pre><code>Caused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.***.***.kafka.messages.Message] for GenericMessage [payload={&quot;type&quot;:&quot;HHH&quot;,&quot;actorId&quot;:1,&quot;entity&quot;:null,&quot;entityType&quot;:&quot;ssss&quot;}, headers={kafka_offset=45, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@789f2579, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=isomantopictest, kafka_receivedTimestamp=1671973825381, __TypeId__=[B@500ac626, kafka_groupId=isoman5}]\n    at org.springframework.messaging.handler.annotation.support.PayloadMethodArgumentResolver.resolveArgument(PayloadMethodArgumentResolver.java:144) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.kafka.annotation.KafkaNullAwarePayloadArgumentResolver.resolveArgument(KafkaNullAwarePayloadArgumentResolver.java:46) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115) ~[spring-messaging-6.0.2.jar:6.0.2]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-3.0.0.jar:3.0.0]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:366) ~[spring-kafka-3.0.0.jar:3.0.0]\n    ... 15 common frames omitted\n</code></pre>\n<p>KafkaConfig :</p>\n<pre><code> @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                bootstrapAddress);\n        configProps.put(\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,\n                StringSerializer.class);\n//        configProps.put(\n//                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,\n//                StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate kafkaTemplate() {\n        KafkaTemplate&lt;String, Message&gt; kafkaTemplate = new KafkaTemplate(producerFactory());\n        kafkaTemplate.setConsumerFactory(messageConsumerFactory());\n        return kafkaTemplate;\n    }\n\n    public ConsumerFactory&lt;String, Message&gt; messageConsumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\n                props,\n                new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(Message.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; messageKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Message&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(messageConsumerFactory());\n//        factory.setMessageConverter(new StringJsonMessageConverter());\n        return factory;\n    }\n</code></pre>\n<p>Receive File :</p>\n<pre><code>@KafkaListener(idIsGroup = false, groupId = &quot;${kafka.group-id}&quot;,\n        topics=&quot;#{'${kafka.topics}'.split(',')}&quot;)\nvoid hearing(@Payload  Message message )  {\n    if (verbose) {\n        log.trace(&quot;New message received : type = {}, payload = {}&quot;, message.getType(), message);\n        log.trace(&quot;Calling processMessage()&quot;);\n    }\n   \n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672219127,"post_id":74937184,"comment_id":132243688,"body_markdown":"Can you post the complete stacktrace and also application.prop if applicable.","body":"Can you post the complete stacktrace and also application.prop if applicable."}],"owner":{"account_id":3936699,"reputation":345,"user_id":3252887,"accept_rate":44,"display_name":"junsid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210845,"creation_date":1672210845,"question_id":74937184,"body_markdown":"I am trying to setup a third party Java hibernate application. Currently, I am experiencing the following exception. Could anyone help me with this? \r\n\r\n    java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\r\n            at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\r\nI have modified the hibernate config xml file with different options. But still facing the issue.\r\nMySQL Version : 5 \r\nConfig file looks like :\r\n\r\n    &lt;hibernate-configuration&gt;\r\n            &lt;session-factory&gt;\r\n    \r\n                    &lt;!-- Set URL --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3300/testdb1&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set User Name --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.username&quot;&gt;testuser1&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set Password --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.password&quot;&gt;testpassword&lt;/property&gt;\r\n    \r\n                    &lt;!-- Set Driver Name --&gt;\r\n                    &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n    \r\n                    &lt;property name = &quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \r\n                    &lt;!-- property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property --&gt;\r\n                    &lt;property name= &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\r\n    \r\n            &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;","title":"Exception &quot;Cannot get a connection as the driver manager is not properly initialized&quot; while connecting to MySQL from the Java hibernate application","body":"<p>I am trying to setup a third party Java hibernate application. Currently, I am experiencing the following exception. Could anyone help me with this?</p>\n<pre><code>java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized\n        at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:172) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n</code></pre>\n<p>I have modified the hibernate config xml file with different options. But still facing the issue.\nMySQL Version : 5\nConfig file looks like :</p>\n<pre><code>&lt;hibernate-configuration&gt;\n        &lt;session-factory&gt;\n\n                &lt;!-- Set URL --&gt;\n                &lt;property name = &quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3300/testdb1&lt;/property&gt;\n\n                &lt;!-- Set User Name --&gt;\n                &lt;property name = &quot;hibernate.connection.username&quot;&gt;testuser1&lt;/property&gt;\n\n                &lt;!-- Set Password --&gt;\n                &lt;property name = &quot;hibernate.connection.password&quot;&gt;testpassword&lt;/property&gt;\n\n                &lt;!-- Set Driver Name --&gt;\n                &lt;property name = &quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n                &lt;property name = &quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n\n                &lt;!-- property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property --&gt;\n                &lt;property name= &quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\n\n        &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka","websocket","spring-websocket"],"comments":[{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672116930,"post_id":74917472,"comment_id":132223289,"body_markdown":"Do you have any client acknowledgement from frontend or is it auto acknowledgement? How do you receive the message. Can you post that too.","body":"Do you have any client acknowledgement from frontend or is it auto acknowledgement? How do you receive the message. Can you post that too."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672116979,"post_id":74917472,"comment_id":132223296,"body_markdown":"What is the message broker that you are using with websocket?","body":"What is the message broker that you are using with websocket?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672118899,"post_id":74917472,"comment_id":132223478,"body_markdown":"@pacman client doesn&#39;t receive the message at all. But on the Java side, every single line of code is executed without any error.\n\nKafka with Zookeeper as message broker","body":"@pacman client doesn&#39;t receive the message at all. But on the Java side, every single line of code is executed without any error.  Kafka with Zookeeper as message broker"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672119721,"post_id":74917472,"comment_id":132223580,"body_markdown":"Can you try to see if the messages are send to same queue that you are expecting to? How does the subscribed queue name look from frontend and its corresponding name from backend? Also please post the subscription code at frontend","body":"Can you try to see if the messages are send to same queue that you are expecting to? How does the subscribed queue name look from frontend and its corresponding name from backend? Also please post the subscription code at frontend"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672120092,"post_id":74917472,"comment_id":132223639,"body_markdown":"@pacman yes, I have &quot;destination&quot; logged on the front as well as on the java side to make sure I am sending it to correct destination. which is &quot;/user/&lt;userId&gt;/queue/message&quot;... updating my question with the front-end code.","body":"@pacman yes, I have &quot;destination&quot; logged on the front as well as on the java side to make sure I am sending it to correct destination. which is &quot;/user/&lt;userId&gt;/queue/message&quot;... updating my question with the front-end code."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672120225,"post_id":74917472,"comment_id":132223659,"body_markdown":"All the logs work fine, if the device_status is online.... But if device is offline, any message triggered by admin is stored in a postgres table, and when the device comes back online, these messages are picked up and then send to that device. This is where the code fails.","body":"All the logs work fine, if the device_status is online.... But if device is offline, any message triggered by admin is stored in a postgres table, and when the device comes back online, these messages are picked up and then send to that device. This is where the code fails."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672120742,"post_id":74917472,"comment_id":132223717,"body_markdown":"Do you have a custom handshake handler? How do you get `key` in `messagingTemplate.convertAndSendToUser(key, destination, data);`.","body":"Do you have a custom handshake handler? How do you get <code>key</code> in <code>messagingTemplate.convertAndSendToUser(key, destination, data);</code>."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672121544,"post_id":74917472,"comment_id":132223833,"body_markdown":"@pacman I have a channelInterceptor, which gets the destination, and I extract the key from there. Updating that code too in the question.","body":"@pacman I have a channelInterceptor, which gets the destination, and I extract the key from there. Updating that code too in the question."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672122167,"post_id":74917472,"comment_id":132223920,"body_markdown":"So the key remains same at all times? The claims.getId() won&#39;t change during reconnect or after sometime?","body":"So the key remains same at all times? The claims.getId() won&#39;t change during reconnect or after sometime?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672122636,"post_id":74917472,"comment_id":132223999,"body_markdown":"No, it&#39;s the unique device ID, which is sent by the mobile app. Every mobile app is connected to only 1 device at a time. Every device ID is further mapped to a unique Device Serial number. So mobile app doesn&#39;t have access to other device serial UIDs","body":"No, it&#39;s the unique device ID, which is sent by the mobile app. Every mobile app is connected to only 1 device at a time. Every device ID is further mapped to a unique Device Serial number. So mobile app doesn&#39;t have access to other device serial UIDs"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672293874,"post_id":74917472,"comment_id":132260042,"body_markdown":"Can you try one experiment. Can you directly inject the data to queue without using `SimpMessagingTemplate` and see if you get data in the frontend during reconnect?","body":"Can you try one experiment. Can you directly inject the data to queue without using <code>SimpMessagingTemplate</code> and see if you get data in the frontend during reconnect?"},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672306180,"post_id":74917472,"comment_id":132262689,"body_markdown":"@pacman not sure how to inject directly in queue ? Any guideline please ?","body":"@pacman not sure how to inject directly in queue ? Any guideline please ?"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672374063,"post_id":74917472,"comment_id":132277838,"body_markdown":"If you are using rabbitmq then use AmpqTemplate or if with activemq JmsTemplate.","body":"If you are using rabbitmq then use AmpqTemplate or if with activemq JmsTemplate."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672374604,"post_id":74917472,"comment_id":132277899,"body_markdown":"I am using none. There&#39;s  Kafka producer and consumer in the same java web back-end...","body":"I am using none. There&#39;s  Kafka producer and consumer in the same java web back-end..."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1672375614,"post_id":74917472,"comment_id":132278028,"body_markdown":"Kafka is not message broker for stomp websocket. You are using it for different purpose. Currently you are using inbuilt queue in java by default which is not recommended for production. In the `WebsocketConfig` class in the method `configureMessageBroker` you have to configure it. Currently it is `        config.enableSimpleBroker(&quot;/user&quot;)` which is the inbuilt queue. You need to run activemq artemis or rabbitmq or something like that in your local and  configure it here.","body":"Kafka is not message broker for stomp websocket. You are using it for different purpose. Currently you are using inbuilt queue in java by default which is not recommended for production. In the <code>WebsocketConfig</code> class in the method <code>configureMessageBroker</code> you have to configure it. Currently it is `        config.enableSimpleBroker(&quot;/user&quot;)` which is the inbuilt queue. You need to run activemq artemis or rabbitmq or something like that in your local and  configure it here."},{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1672380971,"post_id":74917472,"comment_id":132278760,"body_markdown":"What I did now is configure an outbound channel interceptor and logged every message that&#39;s send. I also have an inbound interceptor. \n\nWhat I noticed that, if a user = 10, is online, and I send a message... it&#39;s delivered. But if user is offline, the message is stored in table. Next time when user 10 comes online, inbound intercetpor calls my method to mark user as online, and then that message takes all the messages for that user and triggers them. These messages are not logged in outbound channel. Same message are logged, if user is online and msg is sent.","body":"What I did now is configure an outbound channel interceptor and logged every message that&#39;s send. I also have an inbound interceptor.   What I noticed that, if a user = 10, is online, and I send a message... it&#39;s delivered. But if user is offline, the message is stored in table. Next time when user 10 comes online, inbound intercetpor calls my method to mark user as online, and then that message takes all the messages for that user and triggers them. These messages are not logged in outbound channel. Same message are logged, if user is online and msg is sent."}],"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210678,"creation_date":1672032234,"question_id":74917472,"body_markdown":"I have a web application that uses Kafka and Spring WebSocket for emitting different events to a mobile app. Events are triggered based on the logic where mobile app is online or offline. \r\n\r\nThe logic works perfectly fine if an event is triggered when mobile app is already online. But if it&#39;s offline, the triggered event is stored in a postgres table and marked with status PENDING. So when the mobile app comes back online, these table searches for the message and then triggers the event. \r\n\r\nIn order to update the mobile status, I am using Socket Sessions, and ChannelInterceptor which updates the mobile app status on SUBSCRIBE and DISCONNECT event. \r\n\r\nI have logs at every possible place, and all the logs are executed when the mobile app comes back online. There&#39;s no error anywhere. The last log is right before :\r\n\r\n````\r\nmessagingTemplate.convertAndSendToUser();\r\n````\r\nLogs :\r\n````\r\nDevice Status in request : true\r\nSend Mode : IMMEDIATE\r\ninside immediate never expire &gt;&gt;&gt;&gt;&gt; \r\nEnter: SocketService.send() with argument[s] = [{Status=200, Response={PayloadId=1415, PayloadExpiryDateTime=0, PayloadPriority=1, EventType=NEW_MESSAGE, TemporaryMessage={Messages={Data=[{Title=Message1, DataToSend={Message=Message1, Data=bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=, ReqNr=9.0000001E7}}]}, Playlists={Data=[{Title=TemporaryPlaylist, DataToSend={Message=Temporary Playlist, Data=G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx, ReqNr=9.0000002E7}}]}, ShowCommands={Data=[{DataToSend={Type=ShowPlaylistRequest, ShowAll=[{CallWord=t2212161322}]}}]}}}, Message=Success}, message, 108]\r\nSending to Producer : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\r\nExit: SocketService.send() with result = null\r\nReceived from Kafka : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\r\nSending to Socket Client.......\r\n\r\n````\r\nBut the front-end never gets the message. \r\n\r\nBelow are some code snippets: \r\n\r\nChannel Interceptor:\r\n````\r\npublic class SocketInterceptor implements ChannelInterceptor {\r\n\r\n    @Autowired\r\n    SocketSessionService socketSessionService;\r\n\r\n    private final Logger log = LoggerFactory.getLogger(SocketInterceptor.class);\r\n\r\n    @Override\r\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\r\n        MessageHeaders headers = message.getHeaders();\r\n        StompHeaderAccessor accessor = StompHeaderAccessor.wrap(message);\r\n\r\n        MultiValueMap&lt;String, String&gt; multiValueMap = headers.get(StompHeaderAccessor.NATIVE_HEADERS,MultiValueMap.class);\r\n\r\n        if (multiValueMap !=null) {\r\n            if (multiValueMap.containsKey(&quot;destination&quot;)) {\r\n                String destination = multiValueMap.get(&quot;destination&quot;).get(0);\r\n                log.info(&quot;Destination in interceptor : &quot; + destination);\r\n            }\r\n        }\r\n\r\n        if (accessor.getCommand()!=null) {\r\n            log.info(&quot;Client Method : &quot; + accessor.getCommand().name());\r\n            if (accessor.getCommand().equals(StompCommand.CONNECT) || accessor.getCommand().equals(StompCommand.SUBSCRIBE) || accessor.getCommand().equals(StompCommand.SEND)) {\r\n                if (!multiValueMap.containsKey(&quot;access-token&quot;)) {\r\n                    log.error(&quot;Token Error &quot; + &quot;No Token was provided in + &quot; + accessor.getCommand().name());\r\n                    throw new MessagingException(&quot;Forbidden: No Token was provided in header for Socket Command: &quot; + accessor.getCommand().name());\r\n                }\r\n                String token = multiValueMap.get(&quot;access-token&quot;).get(0);\r\n                if (JwtTokenUtil.verifyToken(JwtTokenUtil.decrypt(token))) {\r\n                    log.info(&quot;Token Verified Successfully &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\r\n\r\n                    Claims claims = JwtTokenUtil.verifyJwtToken(JwtTokenUtil.decrypt(token));\r\n                    accessor.setHeader(&quot;access-token&quot;, token);\r\n                    Principal principal = new UsernamePasswordAuthenticationToken(claims.getId(), null, null);\r\n\r\n                    accessor.setUser(principal);\r\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                            claims.getId(), null, null);\r\n\r\n\r\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    if (accessor.getCommand().equals(StompCommand.SUBSCRIBE)){\r\n                        log.info(&quot;Storing Socket Session on Socket Command SUBSCRIBE &quot;);\r\n                        SocketSessionModel model=new SocketSessionModel();\r\n                        model.setSessionId(accessor.getSessionId());\r\n                        model.setDeviceId(multiValueMap.get(&quot;destination&quot;).get(0));\r\n                        model.setAccessToken(token);\r\n                        model.setCurrentStatus(SocketSessionStatus.ONLINE);\r\n                        model.setReportedOnlineAt(ZonedDateTime.now().with(ZoneOffset.UTC));\r\n                        model.setReportedOfflineAt(null);\r\n                        socketSessionService.onSubscribe(model);\r\n                    }\r\n                    ObjectMapper objectMapper= new ObjectMapper();\r\n                    try {\r\n                        log.info(&quot;Returning back the frame : &quot; + objectMapper.writeValueAsString(message.getPayload()));\r\n                    } catch (Exception e){\r\n                        e.printStackTrace();\r\n                    }\r\n                    return new GenericMessage&lt;&gt;(message.getPayload(), accessor.getMessageHeaders());\r\n                }\r\n                throw new MessagingException(&quot;Token either Expired or Invalid&quot;);\r\n            }\r\n        }\r\n        return message;\r\n    }\r\n}\r\n````\r\n\r\nWebSocket Config : \r\n\r\n````\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    Logger log= LoggerFactory.getLogger(WebSocketConfig.class);\r\n\r\n    @Autowired\r\n    SocketSessionService socketSessionService;\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\r\n\r\n        stompEndpointRegistry.addEndpoint(&quot;/ws&quot;)\r\n                .setAllowedOrigins(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/user&quot;)\r\n                .setTaskScheduler(customTaskScheduler())\r\n                .setHeartbeatValue(new long[]{25000,10000});\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        config.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(socketInterceptor());\r\n    }\r\n    @Bean\r\n    public SocketInterceptor socketInterceptor() {\r\n        return new SocketInterceptor();\r\n    }\r\n\r\n    @Bean\r\n    public TaskScheduler customTaskScheduler(){\r\n        return new ThreadPoolTaskScheduler();\r\n    }\r\n\r\n    @EventListener(SessionDisconnectEvent.class)\r\n    public void handleWsDisconnectListener(SessionDisconnectEvent event) {\r\n        Optional&lt;String&gt; sessionId= getSessionIdFromEvent(event);\r\n        sessionId.ifPresent(s -&gt; socketSessionService.onDisconnect(s));\r\n    }\r\n    private Optional&lt;String&gt; getSessionIdFromEvent(AbstractSubProtocolEvent event) {\r\n        String sessionId = null;\r\n        System.out.println(&quot;Session Id in event : &quot; + (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;));\r\n        Object sessionIdAsObject = (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;);\r\n        if (nonNull(sessionIdAsObject) &amp;&amp; sessionIdAsObject.getClass().equals(String.class)) {\r\n            sessionId = (String) sessionIdAsObject;\r\n        }\r\n        return Optional.ofNullable(StringUtils.isEmpty(sessionId) ? null : sessionId);\r\n    }\r\n}\r\n````\r\n\r\nKafka Producer Config : \r\n\r\n````\r\n@Service\r\npublic class KafkaProducerConfig {\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n    @Async\r\n    public void send(String data, String kafkaTopic, String key) {\r\n\r\n        kafkaTemplate.send(kafkaTopic, key, data);\r\n    }\r\n\r\n    @Async\r\n    public void send(String topic, String data ){\r\n        kafkaTemplate.send(topic, data);\r\n    }\r\n}\r\n````\r\n\r\nKafkaConsumer Config :\r\n\r\n````\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(String groupId) {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; rawKafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory(&quot;something&quot;));\r\n        return factory;\r\n    }\r\n}\r\n````\r\n\r\nKafka Listener :\r\nThis is the last step where socket emits the messages to clients. The last line of log mentioned here is executed. \r\n\r\n````\r\n@Component\r\npublic class KafkaListenerForSocket {\r\n\r\n    private final Logger log= LoggerFactory.getLogger(KafkaListenerForSocket.class);\r\n\r\n    @Autowired\r\n    SimpMessagingTemplate messagingTemplate;\r\n\r\n    @KafkaListener(topics = KafkaTopicConstants.MESSAGE, containerFactory = &quot;rawKafkaListenerContainerFactory&quot;)\r\n    public void listenToMessages(ConsumerRecord&lt;String, String&gt; consumerRecord) throws IOException {\r\n        ObjectMapper objectMapper=new ObjectMapper();\r\n        String destination=&quot;/queue/message&quot;;\r\n        BaseSocketResponse response=objectMapper.readValue(consumerRecord.value(), BaseSocketResponse.class);\r\n        messagingTemplate.convertAndSendToUser(consumerRecord.key(),destination,response);\r\n\r\n    }\r\n\r\n    public void send(Object data, String key){\r\n        log.info(&quot;Bypassing Kafka and sending directly&quot;);\r\n        String destination=&quot;/queue/message&quot;;\r\n        log.info(&quot;sending to destination : &quot; + &quot;/user/&quot;+key+destination);\r\n        messagingTemplate.convertAndSendToUser(key, destination, data);\r\n    }\r\n}\r\n````\r\nBaseSocketResponse.Java class :\r\n\r\n````\r\npublic class BaseSocketResponse&lt;T&gt; {\r\n\r\n    @JsonProperty(value = &quot;Status&quot;, required = true)\r\n    private Integer status;\r\n\r\n    @JsonProperty(value = &quot;Message&quot;, required = true)\r\n    private String statusMessage = &quot;&quot;;\r\n\r\n    @JsonProperty(value = &quot;Response&quot;, required = true)\r\n    private T response;\r\n\r\n\r\n    public Integer getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(Integer status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getStatusMessage() {\r\n        return statusMessage;\r\n    }\r\n\r\n    public void setStatusMessage(String statusMessage) {\r\n        this.statusMessage = statusMessage;\r\n    }\r\n\r\n    public T getResponse() {\r\n        return response;\r\n    }\r\n\r\n    public void setResponse(T response) {\r\n        this.response = response;\r\n    }\r\n\r\n}\r\n````\r\n\r\nfront-end code : \r\n\r\n````\r\nvar stompClient = null;\r\n\r\nfunction setConnected(connected) {\r\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n    if (connected) {\r\n        $(&quot;#conversation&quot;).show();\r\n    }\r\n    else {\r\n        $(&quot;#conversation&quot;).hide();\r\n    }\r\n    $(&quot;#userinfo&quot;).html(&quot;&quot;);\r\n}\r\n\r\nfunction connect() {\r\n    let header={&quot;access-token&quot; : $(&quot;#token&quot;).val()};\r\n    var socket = new SockJS(&#39;/services/toplight/ws&#39;);\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect(header, function (frame) {\r\n        if(frame.command == &quot;CONNECTED&quot;) {\r\n            console.log(&quot;Inside frame command : &gt;&gt;&gt;&gt;&gt; &quot; + frame);\r\n            setConnected(true);\r\n            subscribe(stompClient)\r\n        }\r\n    }, (error) =&gt; {\r\n        console.log(&quot;Inside Connect error : &quot; + error );\r\n        onConnectError(error);\r\n    });\r\n}\r\n\r\nfunction subscribe(stompClient){\r\n    \r\n    var token=$(&quot;#token&quot;).val();\r\n    var header={&quot;access-token&quot;: token};\r\n\r\nconsole.log(&quot;Subscribing to Destination : &quot; + &#39;/user/&#39;+$(&quot;#name&quot;).val()+&#39;/queue/message&#39;);\r\n    stompClient.subscribe(&#39;/user/&#39;+$(&quot;#name&quot;).val()+&#39;/queue/message&#39; , greeting, header);\r\n\r\n    var greeting=function(message){\r\n        var body=JSON.parse(message.body);\r\n        if(body.Response.EventType==&quot;NEW_MESSAGE&quot;){\r\n            showNewMessage(response);\r\n        }\r\n    \r\n        if(body.Response.EventType==&quot;DEVICE_UPDATE_RESPONSE&quot;){\r\n            showDeviceUpdate(response);\r\n        }\r\n    \r\n        if(body.Response.EventType==&quot;MESSAGE_UPDATE_RESPONSE&quot;){\r\n            showMessageUpdate(response);\r\n        }    \r\n    };\r\n\r\n}\r\n\r\nfunction onConnectError(error){\r\n    console.log(&quot;Error : &gt;&gt;&gt;&gt;&gt; &quot; + error);\r\n    $(&quot;#greetings&quot;).append(&quot;&lt;h3&gt;&lt;tr&gt;&lt;td&gt;&quot; + error + &quot;&lt;/h3&gt;&quot;);\r\n}\r\n````","title":"Issue with SimpMessagingTemplate not sending socket message to client","body":"<p>I have a web application that uses Kafka and Spring WebSocket for emitting different events to a mobile app. Events are triggered based on the logic where mobile app is online or offline.</p>\n<p>The logic works perfectly fine if an event is triggered when mobile app is already online. But if it's offline, the triggered event is stored in a postgres table and marked with status PENDING. So when the mobile app comes back online, these table searches for the message and then triggers the event.</p>\n<p>In order to update the mobile status, I am using Socket Sessions, and ChannelInterceptor which updates the mobile app status on SUBSCRIBE and DISCONNECT event.</p>\n<p>I have logs at every possible place, and all the logs are executed when the mobile app comes back online. There's no error anywhere. The last log is right before :</p>\n<pre><code>messagingTemplate.convertAndSendToUser();\n</code></pre>\n<p>Logs :</p>\n<pre><code>Device Status in request : true\nSend Mode : IMMEDIATE\ninside immediate never expire &gt;&gt;&gt;&gt;&gt; \nEnter: SocketService.send() with argument[s] = [{Status=200, Response={PayloadId=1415, PayloadExpiryDateTime=0, PayloadPriority=1, EventType=NEW_MESSAGE, TemporaryMessage={Messages={Data=[{Title=Message1, DataToSend={Message=Message1, Data=bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=, ReqNr=9.0000001E7}}]}, Playlists={Data=[{Title=TemporaryPlaylist, DataToSend={Message=Temporary Playlist, Data=G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx, ReqNr=9.0000002E7}}]}, ShowCommands={Data=[{DataToSend={Type=ShowPlaylistRequest, ShowAll=[{CallWord=t2212161322}]}}]}}}, Message=Success}, message, 108]\nSending to Producer : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\nExit: SocketService.send() with result = null\nReceived from Kafka : {&quot;Status&quot;:200,&quot;Response&quot;:{&quot;PayloadId&quot;:1415,&quot;PayloadExpiryDateTime&quot;:0,&quot;PayloadPriority&quot;:1,&quot;EventType&quot;:&quot;NEW_MESSAGE&quot;,&quot;TemporaryMessage&quot;:{&quot;Messages&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;Message1&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Message1&quot;,&quot;Data&quot;:&quot;bZijp8pcSKwnbRhnm2khEUkaonv3XpZ6PnS0IRP+ab4p1ub2Cmuuylga6z8RASwPWbTbxbZH5ickk4HcWKeEM1Qq8PHnmAEj/VmnLmhP9UbITDrFbzWaeUcAhdWuFzD1QKfp4lmjsFl6LeswN6x+tgFi+mimURK9EaKuKiQKnP3sZHfw6Bk2o/jH4ik8hoKetO2GRxNOKs/8H9NYUS4hLP/RP3vJttUtHo3fiJd3WwWcxT+w+YZneDFmc28ECjpoJ0ZzgV7NRJlhKBcOMl7V6eV2Rax7yNC2k7zyHH/ylkhkq74heWAtde/S43S6WLTMbtc2+t1MgHNOevsxEyI/ghBE1wJzgBIdvlhFX4M1jam+AYHyXhF7CNC/Hr/i+dpw3/SogNQwIidW8FZ5EWwBJP2nYv0eZ0owK/8zwEs3FZWF9fRUeUGn7VwFNFDsf4P1FUbeWcwHA847iHBuUF2qDVtLNgQtyejGKxhn3+a8yoKyU96cpteOmGmbZPuyU3xRk401gkk4a0noS3SOjWO8B0OKyq782K3gRUoVssPV8Hg=&quot;,&quot;ReqNr&quot;:9.0000001E7}}]},&quot;Playlists&quot;:{&quot;Data&quot;:[{&quot;Title&quot;:&quot;TemporaryPlaylist&quot;,&quot;DataToSend&quot;:{&quot;Message&quot;:&quot;Temporary Playlist&quot;,&quot;Data&quot;:&quot;G7Prf2ZRUh+MSBNTjLH2BT7nNB1o8zXgz/mn9leZ7Q4UoZH1MzMrJj3ISvdkQZNAbVCnYQjh5XhOnUr1kGrZpWJ/lHUyJi1coc7fdMxe0fkgBJk9SySvaFN/TvFQaUlv2wRWIoPVXmLVhukFgzLsDeVWmuzNaWZXTQCemIzrK6SaCJ+FfFAzgxG2Z7QxWkVx&quot;,&quot;ReqNr&quot;:9.0000002E7}}]},&quot;ShowCommands&quot;:{&quot;Data&quot;:[{&quot;DataToSend&quot;:{&quot;Type&quot;:&quot;ShowPlaylistRequest&quot;,&quot;ShowAll&quot;:[{&quot;CallWord&quot;:&quot;t2212161322&quot;}]}}]}}},&quot;Message&quot;:&quot;Success&quot;}\nSending to Socket Client.......\n\n</code></pre>\n<p>But the front-end never gets the message.</p>\n<p>Below are some code snippets:</p>\n<p>Channel Interceptor:</p>\n<pre><code>public class SocketInterceptor implements ChannelInterceptor {\n\n    @Autowired\n    SocketSessionService socketSessionService;\n\n    private final Logger log = LoggerFactory.getLogger(SocketInterceptor.class);\n\n    @Override\n    public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n        MessageHeaders headers = message.getHeaders();\n        StompHeaderAccessor accessor = StompHeaderAccessor.wrap(message);\n\n        MultiValueMap&lt;String, String&gt; multiValueMap = headers.get(StompHeaderAccessor.NATIVE_HEADERS,MultiValueMap.class);\n\n        if (multiValueMap !=null) {\n            if (multiValueMap.containsKey(&quot;destination&quot;)) {\n                String destination = multiValueMap.get(&quot;destination&quot;).get(0);\n                log.info(&quot;Destination in interceptor : &quot; + destination);\n            }\n        }\n\n        if (accessor.getCommand()!=null) {\n            log.info(&quot;Client Method : &quot; + accessor.getCommand().name());\n            if (accessor.getCommand().equals(StompCommand.CONNECT) || accessor.getCommand().equals(StompCommand.SUBSCRIBE) || accessor.getCommand().equals(StompCommand.SEND)) {\n                if (!multiValueMap.containsKey(&quot;access-token&quot;)) {\n                    log.error(&quot;Token Error &quot; + &quot;No Token was provided in + &quot; + accessor.getCommand().name());\n                    throw new MessagingException(&quot;Forbidden: No Token was provided in header for Socket Command: &quot; + accessor.getCommand().name());\n                }\n                String token = multiValueMap.get(&quot;access-token&quot;).get(0);\n                if (JwtTokenUtil.verifyToken(JwtTokenUtil.decrypt(token))) {\n                    log.info(&quot;Token Verified Successfully &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;);\n\n                    Claims claims = JwtTokenUtil.verifyJwtToken(JwtTokenUtil.decrypt(token));\n                    accessor.setHeader(&quot;access-token&quot;, token);\n                    Principal principal = new UsernamePasswordAuthenticationToken(claims.getId(), null, null);\n\n                    accessor.setUser(principal);\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                            claims.getId(), null, null);\n\n\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                    if (accessor.getCommand().equals(StompCommand.SUBSCRIBE)){\n                        log.info(&quot;Storing Socket Session on Socket Command SUBSCRIBE &quot;);\n                        SocketSessionModel model=new SocketSessionModel();\n                        model.setSessionId(accessor.getSessionId());\n                        model.setDeviceId(multiValueMap.get(&quot;destination&quot;).get(0));\n                        model.setAccessToken(token);\n                        model.setCurrentStatus(SocketSessionStatus.ONLINE);\n                        model.setReportedOnlineAt(ZonedDateTime.now().with(ZoneOffset.UTC));\n                        model.setReportedOfflineAt(null);\n                        socketSessionService.onSubscribe(model);\n                    }\n                    ObjectMapper objectMapper= new ObjectMapper();\n                    try {\n                        log.info(&quot;Returning back the frame : &quot; + objectMapper.writeValueAsString(message.getPayload()));\n                    } catch (Exception e){\n                        e.printStackTrace();\n                    }\n                    return new GenericMessage&lt;&gt;(message.getPayload(), accessor.getMessageHeaders());\n                }\n                throw new MessagingException(&quot;Token either Expired or Invalid&quot;);\n            }\n        }\n        return message;\n    }\n}\n</code></pre>\n<p>WebSocket Config :</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    Logger log= LoggerFactory.getLogger(WebSocketConfig.class);\n\n    @Autowired\n    SocketSessionService socketSessionService;\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\n\n        stompEndpointRegistry.addEndpoint(&quot;/ws&quot;)\n                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/user&quot;)\n                .setTaskScheduler(customTaskScheduler())\n                .setHeartbeatValue(new long[]{25000,10000});\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(socketInterceptor());\n    }\n    @Bean\n    public SocketInterceptor socketInterceptor() {\n        return new SocketInterceptor();\n    }\n\n    @Bean\n    public TaskScheduler customTaskScheduler(){\n        return new ThreadPoolTaskScheduler();\n    }\n\n    @EventListener(SessionDisconnectEvent.class)\n    public void handleWsDisconnectListener(SessionDisconnectEvent event) {\n        Optional&lt;String&gt; sessionId= getSessionIdFromEvent(event);\n        sessionId.ifPresent(s -&gt; socketSessionService.onDisconnect(s));\n    }\n    private Optional&lt;String&gt; getSessionIdFromEvent(AbstractSubProtocolEvent event) {\n        String sessionId = null;\n        System.out.println(&quot;Session Id in event : &quot; + (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;));\n        Object sessionIdAsObject = (event.getMessage().getHeaders()).get(&quot;simpSessionId&quot;);\n        if (nonNull(sessionIdAsObject) &amp;&amp; sessionIdAsObject.getClass().equals(String.class)) {\n            sessionId = (String) sessionIdAsObject;\n        }\n        return Optional.ofNullable(StringUtils.isEmpty(sessionId) ? null : sessionId);\n    }\n}\n</code></pre>\n<p>Kafka Producer Config :</p>\n<pre><code>@Service\npublic class KafkaProducerConfig {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Async\n    public void send(String data, String kafkaTopic, String key) {\n\n        kafkaTemplate.send(kafkaTopic, key, data);\n    }\n\n    @Async\n    public void send(String topic, String data ){\n        kafkaTemplate.send(topic, data);\n    }\n}\n</code></pre>\n<p>KafkaConsumer Config :</p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(String groupId) {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; rawKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory(&quot;something&quot;));\n        return factory;\n    }\n}\n</code></pre>\n<p>Kafka Listener :\nThis is the last step where socket emits the messages to clients. The last line of log mentioned here is executed.</p>\n<pre><code>@Component\npublic class KafkaListenerForSocket {\n\n    private final Logger log= LoggerFactory.getLogger(KafkaListenerForSocket.class);\n\n    @Autowired\n    SimpMessagingTemplate messagingTemplate;\n\n    @KafkaListener(topics = KafkaTopicConstants.MESSAGE, containerFactory = &quot;rawKafkaListenerContainerFactory&quot;)\n    public void listenToMessages(ConsumerRecord&lt;String, String&gt; consumerRecord) throws IOException {\n        ObjectMapper objectMapper=new ObjectMapper();\n        String destination=&quot;/queue/message&quot;;\n        BaseSocketResponse response=objectMapper.readValue(consumerRecord.value(), BaseSocketResponse.class);\n        messagingTemplate.convertAndSendToUser(consumerRecord.key(),destination,response);\n\n    }\n\n    public void send(Object data, String key){\n        log.info(&quot;Bypassing Kafka and sending directly&quot;);\n        String destination=&quot;/queue/message&quot;;\n        log.info(&quot;sending to destination : &quot; + &quot;/user/&quot;+key+destination);\n        messagingTemplate.convertAndSendToUser(key, destination, data);\n    }\n}\n</code></pre>\n<p>BaseSocketResponse.Java class :</p>\n<pre><code>public class BaseSocketResponse&lt;T&gt; {\n\n    @JsonProperty(value = &quot;Status&quot;, required = true)\n    private Integer status;\n\n    @JsonProperty(value = &quot;Message&quot;, required = true)\n    private String statusMessage = &quot;&quot;;\n\n    @JsonProperty(value = &quot;Response&quot;, required = true)\n    private T response;\n\n\n    public Integer getStatus() {\n        return status;\n    }\n\n    public void setStatus(Integer status) {\n        this.status = status;\n    }\n\n    public String getStatusMessage() {\n        return statusMessage;\n    }\n\n    public void setStatusMessage(String statusMessage) {\n        this.statusMessage = statusMessage;\n    }\n\n    public T getResponse() {\n        return response;\n    }\n\n    public void setResponse(T response) {\n        this.response = response;\n    }\n\n}\n</code></pre>\n<p>front-end code :</p>\n<pre><code>var stompClient = null;\n\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n    if (connected) {\n        $(&quot;#conversation&quot;).show();\n    }\n    else {\n        $(&quot;#conversation&quot;).hide();\n    }\n    $(&quot;#userinfo&quot;).html(&quot;&quot;);\n}\n\nfunction connect() {\n    let header={&quot;access-token&quot; : $(&quot;#token&quot;).val()};\n    var socket = new SockJS('/services/toplight/ws');\n    stompClient = Stomp.over(socket);\n    stompClient.connect(header, function (frame) {\n        if(frame.command == &quot;CONNECTED&quot;) {\n            console.log(&quot;Inside frame command : &gt;&gt;&gt;&gt;&gt; &quot; + frame);\n            setConnected(true);\n            subscribe(stompClient)\n        }\n    }, (error) =&gt; {\n        console.log(&quot;Inside Connect error : &quot; + error );\n        onConnectError(error);\n    });\n}\n\nfunction subscribe(stompClient){\n    \n    var token=$(&quot;#token&quot;).val();\n    var header={&quot;access-token&quot;: token};\n\nconsole.log(&quot;Subscribing to Destination : &quot; + '/user/'+$(&quot;#name&quot;).val()+'/queue/message');\n    stompClient.subscribe('/user/'+$(&quot;#name&quot;).val()+'/queue/message' , greeting, header);\n\n    var greeting=function(message){\n        var body=JSON.parse(message.body);\n        if(body.Response.EventType==&quot;NEW_MESSAGE&quot;){\n            showNewMessage(response);\n        }\n    \n        if(body.Response.EventType==&quot;DEVICE_UPDATE_RESPONSE&quot;){\n            showDeviceUpdate(response);\n        }\n    \n        if(body.Response.EventType==&quot;MESSAGE_UPDATE_RESPONSE&quot;){\n            showMessageUpdate(response);\n        }    \n    };\n\n}\n\nfunction onConnectError(error){\n    console.log(&quot;Error : &gt;&gt;&gt;&gt;&gt; &quot; + error);\n    $(&quot;#greetings&quot;).append(&quot;&lt;h3&gt;&lt;tr&gt;&lt;td&gt;&quot; + error + &quot;&lt;/h3&gt;&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","shortcut","android-shortcut"],"comments":[{"owner":{"account_id":5445249,"reputation":537,"user_id":4332040,"accept_rate":56,"display_name":"Robotic Vn"},"score":0,"creation_date":1666773413,"post_id":67526138,"comment_id":131013220,"body_markdown":"Do you find a solution?","body":"Do you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620941237,"creation_date":1620941237,"answer_id":67526447,"question_id":67526138,"body_markdown":"&gt; I&#39;m sure that this is possible because it is implemented in x icon changer, where icons are created without these badges.\r\n\r\nThey use app widgets for that. See the &quot;ABOUT THE WATERMARK&quot; in [the Play Store listing that you linked to](https://play.google.com/store/apps/details?id=io.hexman.xiconchanger).\r\n\r\n&gt; Please write all your ideas how to fix it\r\n\r\nWrite an app widget.\r\n","title":"Remove the app icon from the pinned shortcut android","body":"<blockquote>\n<p>I'm sure that this is possible because it is implemented in x icon changer, where icons are created without these badges.</p>\n</blockquote>\n<p>They use app widgets for that. See the &quot;ABOUT THE WATERMARK&quot; in <a href=\"https://play.google.com/store/apps/details?id=io.hexman.xiconchanger\" rel=\"nofollow noreferrer\">the Play Store listing that you linked to</a>.</p>\n<blockquote>\n<p>Please write all your ideas how to fix it</p>\n</blockquote>\n<p>Write an app widget.</p>\n"},{"tags":[],"owner":{"account_id":7630530,"reputation":340,"user_id":5785726,"display_name":"Gary Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645448896,"creation_date":1645448896,"answer_id":71206869,"question_id":67526138,"body_markdown":"Apparently using the recommended `shortcutManager.createShortcutResultIntent()` will cause displaying app icon at the corner of the shortcut it created, but the deprecated `Intent.EXTRA_SHORTCUT_INTENT` way still works and there won&#39;t be an app icon in the created shortcut if you use this way and create your shortcut via the Widgets screen!\r\n\r\nSo the first step is to make your shortcut show on the Widgets screen. To make do this, ensure `&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;` is in your AndroidManifest.xml file, and create an activity that filter `&lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot;/&gt;`. The manifest file will look like this.\r\n\r\n``` xml\r\n&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;\r\n\r\n    &lt;application\r\n        ...&gt;\r\n\r\n        ...\r\n        &lt;activity\r\n            android:name=&quot;.shortcuts.YourShortcut&quot;\r\n            android:label=&quot;@string/shortcut_name&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:exported=&quot;true&quot;\r\n            ...&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    ...\r\n```\r\n\r\nIn your activity, you&#39;ll need to create a shortcut. Normally we use `setResult()` with `RESULT_OK` as result code and the `shortcutManager.createShortcutResultIntent()` to create the intent for the 2nd argument, which will cause the app icon displayed in the corner of the shortcut. To avoid the shortcut icon, we can create the intent manually with the deprecated `Intent.EXTRA_SHORTCUT_INTENT` type. Something like:\r\n\r\n```\r\n    fun onOpen() {\r\n        // things to do when user click the shortcut...\r\n    }\r\n\r\n    private fun setupShortcut() {\r\n        val intent = Intent().putExtra(Intent.EXTRA_SHORTCUT_INTENT, Intent(this, this::class.java)) // we use this::class.java here, then clicking the shortcut will trigger onOpened()\r\n                .putExtra(Intent.EXTRA_SHORTCUT_NAME, shortLabel)\r\n                .putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, Intent.ShortcutIconResource.fromContext(this, iconResource));\r\n\r\n        setResult(\r\n            RESULT_OK,\r\n            intent\r\n        )\r\n\t}\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        if (intent.action == Intent.ACTION_CREATE_SHORTCUT) {\r\n            setupShortcut()\r\n        } else {\r\n            onOpened()\r\n        }\r\n        finish()\r\n    }\r\n```\r\n\r\nOnce we did these, you can see the shortcut appears on the Widgets screen. When the user drags the icon to the launcher, there will also not show the application icon in the corner.\r\n\r\nPlease note that the actual behavior may still be different when using a different launcher (it may not work under some launcher). The above code is tested with Pixel Launcher and Microsoft Launcher under Android 11 and Android 12.\r\n","title":"Remove the app icon from the pinned shortcut android","body":"<p>Apparently using the recommended <code>shortcutManager.createShortcutResultIntent()</code> will cause displaying app icon at the corner of the shortcut it created, but the deprecated <code>Intent.EXTRA_SHORTCUT_INTENT</code> way still works and there won't be an app icon in the created shortcut if you use this way and create your shortcut via the Widgets screen!</p>\n<p>So the first step is to make your shortcut show on the Widgets screen. To make do this, ensure <code>&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;</code> is in your AndroidManifest.xml file, and create an activity that filter <code>&lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot;/&gt;</code>. The manifest file will look like this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;com.android.launcher.permission.INSTALL_SHORTCUT&quot;/&gt;\n\n    &lt;application\n        ...&gt;\n\n        ...\n        &lt;activity\n            android:name=&quot;.shortcuts.YourShortcut&quot;\n            android:label=&quot;@string/shortcut_name&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;\n            android:exported=&quot;true&quot;\n            ...&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.CREATE_SHORTCUT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    ...\n</code></pre>\n<p>In your activity, you'll need to create a shortcut. Normally we use <code>setResult()</code> with <code>RESULT_OK</code> as result code and the <code>shortcutManager.createShortcutResultIntent()</code> to create the intent for the 2nd argument, which will cause the app icon displayed in the corner of the shortcut. To avoid the shortcut icon, we can create the intent manually with the deprecated <code>Intent.EXTRA_SHORTCUT_INTENT</code> type. Something like:</p>\n<pre><code>    fun onOpen() {\n        // things to do when user click the shortcut...\n    }\n\n    private fun setupShortcut() {\n        val intent = Intent().putExtra(Intent.EXTRA_SHORTCUT_INTENT, Intent(this, this::class.java)) // we use this::class.java here, then clicking the shortcut will trigger onOpened()\n                .putExtra(Intent.EXTRA_SHORTCUT_NAME, shortLabel)\n                .putExtra(Intent.EXTRA_SHORTCUT_ICON_RESOURCE, Intent.ShortcutIconResource.fromContext(this, iconResource));\n\n        setResult(\n            RESULT_OK,\n            intent\n        )\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (intent.action == Intent.ACTION_CREATE_SHORTCUT) {\n            setupShortcut()\n        } else {\n            onOpened()\n        }\n        finish()\n    }\n</code></pre>\n<p>Once we did these, you can see the shortcut appears on the Widgets screen. When the user drags the icon to the launcher, there will also not show the application icon in the corner.</p>\n<p>Please note that the actual behavior may still be different when using a different launcher (it may not work under some launcher). The above code is tested with Pixel Launcher and Microsoft Launcher under Android 11 and Android 12.</p>\n"}],"owner":{"account_id":14814202,"reputation":13,"user_id":10698795,"display_name":"Michael2322"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672210119,"creation_date":1620939319,"question_id":67526138,"body_markdown":"After 8 android, my application icon appears on the shortcuts.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI know that this was added specially to informing the user which app has created the shortcut.\r\n\r\n\r\n\r\nHere is the code that is currently being used to create the icon.\r\n\r\n       ShortcutManager shortcutManager = (ShortcutManager) context.getSystemService(Context.SHORTCUT_SERVICE);\r\n        BitmapDrawable bd = (BitmapDrawable) ic;\r\n        if (shortcutManager.isRequestPinShortcutSupported()) {\r\n            Intent shortcutInfoIntent = new Intent(context, MainActivity.class);\r\n            shortcutInfoIntent.setAction(Intent.ACTION_VIEW);\r\n            shortcutInfoIntent.putExtra(&quot;pckg&quot;, pck);\r\n\r\n            ShortcutInfo info = new ShortcutInfo.Builder(context, &quot;iconId&quot;)\r\n                    .setIcon(Icon.createWithBitmap(bd.getBitmap()))\r\n                    .setShortLabel(label)\r\n                    .setIntent(shortcutInfoIntent)\r\n                    .build();\r\n\r\n            PendingIntent shortcutCallbackIntent = PendingIntent.getBroadcast(context, 0, new Intent(context, MyReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n            shortcutManager.requestPinShortcut(info, shortcutCallbackIntent.getIntentSender());\r\n        }\r\n\r\n\r\nI know that this is a fairly popular problem, but no one has provided a normal solution.\r\nBut I need to take it away somehow\r\n\r\nI&#39;m sure that this is possible because it is implemented in [x icon changer][2], where icons are created without these badges.\r\n\r\nPlease write all your ideas how to fix it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/03hye.png\r\n  [2]: https://play.google.com/store/apps/details?id=io.hexman.xiconchanger","title":"Remove the app icon from the pinned shortcut android","body":"<p>After 8 android, my application icon appears on the shortcuts.</p>\n<p><a href=\"https://i.stack.imgur.com/03hye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03hye.png\" alt=\"enter image description here\" /></a></p>\n<p>I know that this was added specially to informing the user which app has created the shortcut.</p>\n<p>Here is the code that is currently being used to create the icon.</p>\n<pre><code>   ShortcutManager shortcutManager = (ShortcutManager) context.getSystemService(Context.SHORTCUT_SERVICE);\n    BitmapDrawable bd = (BitmapDrawable) ic;\n    if (shortcutManager.isRequestPinShortcutSupported()) {\n        Intent shortcutInfoIntent = new Intent(context, MainActivity.class);\n        shortcutInfoIntent.setAction(Intent.ACTION_VIEW);\n        shortcutInfoIntent.putExtra(&quot;pckg&quot;, pck);\n\n        ShortcutInfo info = new ShortcutInfo.Builder(context, &quot;iconId&quot;)\n                .setIcon(Icon.createWithBitmap(bd.getBitmap()))\n                .setShortLabel(label)\n                .setIntent(shortcutInfoIntent)\n                .build();\n\n        PendingIntent shortcutCallbackIntent = PendingIntent.getBroadcast(context, 0, new Intent(context, MyReceiver.class), PendingIntent.FLAG_UPDATE_CURRENT);\n\n        shortcutManager.requestPinShortcut(info, shortcutCallbackIntent.getIntentSender());\n    }\n</code></pre>\n<p>I know that this is a fairly popular problem, but no one has provided a normal solution.\nBut I need to take it away somehow</p>\n<p>I'm sure that this is possible because it is implemented in <a href=\"https://play.google.com/store/apps/details?id=io.hexman.xiconchanger\" rel=\"nofollow noreferrer\">x icon changer</a>, where icons are created without these badges.</p>\n<p>Please write all your ideas how to fix it</p>\n"},{"tags":["java","spring","spring-boot","spring-security","java-security"],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672210065,"creation_date":1672210065,"question_id":74937072,"body_markdown":"Most examples for configuring SpringBoot with TLS store show how to do this with Java store like this:\r\n```\r\nserver.ssl.enabled=true\r\nserver.ssl.protocol=TLS\r\nserver.ssl.key-store-password=my_password\r\nserver.ssl.key-store-type=keystore_type\r\nserver.ssl.key-store=keystore-path\r\n```\r\nHowever, the JVM can also use/delegate to the  Windows&#39;s native certificates store instead, by using a system property at start up, for example:\r\n\r\n```\r\njava -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT -jar my-springboot-app.jar\r\n```\r\nor\r\n```\r\njava -Djavax.net.ssl.trustStoreType=WINDOWS-MY -jar my-springboot-app.jar\r\n```\r\n\r\n**Does anyone know what the SpringBoot config file should look like for using Windows native cert store**? If you just do this:\r\n```\r\nserver.ssl.enabled=true\r\nserver.ssl.protocol=TLS\r\n```\r\nyour SpringBoot will fail to start due to missing config options.\r\n","title":"Configuring SpringBoot 3 apps with Windows TLS native certs trust store","body":"<p>Most examples for configuring SpringBoot with TLS store show how to do this with Java store like this:</p>\n<pre><code>server.ssl.enabled=true\nserver.ssl.protocol=TLS\nserver.ssl.key-store-password=my_password\nserver.ssl.key-store-type=keystore_type\nserver.ssl.key-store=keystore-path\n</code></pre>\n<p>However, the JVM can also use/delegate to the  Windows's native certificates store instead, by using a system property at start up, for example:</p>\n<pre><code>java -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT -jar my-springboot-app.jar\n</code></pre>\n<p>or</p>\n<pre><code>java -Djavax.net.ssl.trustStoreType=WINDOWS-MY -jar my-springboot-app.jar\n</code></pre>\n<p><strong>Does anyone know what the SpringBoot config file should look like for using Windows native cert store</strong>? If you just do this:</p>\n<pre><code>server.ssl.enabled=true\nserver.ssl.protocol=TLS\n</code></pre>\n<p>your SpringBoot will fail to start due to missing config options.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297410540,"creation_date":1297410540,"answer_id":4966729,"question_id":4966710,"body_markdown":"Encapsulation is to protect your member variables or methods from the outside world.\r\n\r\nAbstraction is the way to have specific implementation. that is which implementation to use is unknown to the user.","title":"What is the difference between abstraction and encapsulation?","body":"<p>Encapsulation is to protect your member variables or methods from the outside world.</p>\n\n<p>Abstraction is the way to have specific implementation. that is which implementation to use is unknown to the user.</p>\n"},{"tags":[],"owner":{"account_id":215842,"reputation":2858,"user_id":470714,"accept_rate":94,"display_name":"user470714"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1297412843,"creation_date":1297410860,"answer_id":4966747,"question_id":4966710,"body_markdown":"These two concepts are quite different. \r\n\r\nAbstraction is the practice of making a base class &#39;abstract&#39; and then extending its functionality. An abstract class is something that doesn&#39;t exist in a concrete matter; its only purpose is to be extended. Think of if you were writing classes to represent different species. All of your different species might extend an abstract Animal class because they would all share common attributes as animals. However, you would never instantiate an Animal object, because every animal you see in the world is a squirrel, or a dog, or a fish ... or some kind of concrete implementation of that base, abstract animal class.\r\n\r\nEncapsulation is the practice of making your class variables private, and then allowing access to them from get and set methods. The purpose of this is separate the way your data is accessed and the way it is implemented. For example, if you have some variable that has a requirement, that every time it is changed, it also increments a second variable by 1, then you would encapsulate that functionality; that way your code is more reliable because you don&#39;t have to remember to adhere that rule every time you&#39;d access the original variable.\r\n\r\nIf you want specific code examples, I&#39;d recommend just doing a google search, because there&#39;s a lot of examples like that available. Here&#39;s two:\r\n\r\n[http://www.tutorialspoint.com/java/java_abstraction.htm][1]\r\n[http://www.tutorialspoint.com/java/java_encapsulation.htm][2] \r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/java_abstraction.htm\r\n  [2]: http://www.tutorialspoint.com/java/java_encapsulation.htm","title":"What is the difference between abstraction and encapsulation?","body":"<p>These two concepts are quite different. </p>\n\n<p>Abstraction is the practice of making a base class 'abstract' and then extending its functionality. An abstract class is something that doesn't exist in a concrete matter; its only purpose is to be extended. Think of if you were writing classes to represent different species. All of your different species might extend an abstract Animal class because they would all share common attributes as animals. However, you would never instantiate an Animal object, because every animal you see in the world is a squirrel, or a dog, or a fish ... or some kind of concrete implementation of that base, abstract animal class.</p>\n\n<p>Encapsulation is the practice of making your class variables private, and then allowing access to them from get and set methods. The purpose of this is separate the way your data is accessed and the way it is implemented. For example, if you have some variable that has a requirement, that every time it is changed, it also increments a second variable by 1, then you would encapsulate that functionality; that way your code is more reliable because you don't have to remember to adhere that rule every time you'd access the original variable.</p>\n\n<p>If you want specific code examples, I'd recommend just doing a google search, because there's a lot of examples like that available. Here's two:</p>\n\n<p><a href=\"http://www.tutorialspoint.com/java/java_abstraction.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_abstraction.htm</a>\n<a href=\"http://www.tutorialspoint.com/java/java_encapsulation.htm\" rel=\"nofollow\">http://www.tutorialspoint.com/java/java_encapsulation.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":83357,"reputation":158,"user_id":233765,"display_name":"Joshua Lewis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297414137,"creation_date":1297414137,"answer_id":4967102,"question_id":4966710,"body_markdown":"Encapsulation is part of abstraction. The notion of abstraction is one of creating an object to represent another object. Typically, the original object is more complex than the abstraction. An abstraction is thus a representation, usually as an aid to memory, for terminology/communication etc. Think of it like this: abstract art is a representation of something else. A steering wheel, gearshift and 2/3 pedals is an abstraction of how a car works. \r\n\r\nBasically, the abstraction allows you to represent something complex, with a lot of details, as something a lot simpler. In my opinion, this is related to &#39;chunking&#39; in cognitive science. We&#39;re not able to keep complex things in our head, so we simplify by abstracting, then using the abstraction. Design Patterns are another great example. Instead of talking about details, we can talk about Command, State or Strategy pattern etc.\r\n\r\nEncapsulation is part of forming/creating an abstraction. The smaller an object&#39;s interface, the easier it is to abstract. You don&#39;t need to know how an engine and gearbox work to drive a car, you just need to understand their abstractions (gear shift and accelerator). The details of the engine and gearbox are encapsulated (into the interface) in order to create the abstraction. \r\n\r\nEncapsulation is needed for abstraction because an abstaction can&#39;t deal with all the real details and complexity (otherwise its not an abstraction). So the gearshift is an incomplete representation (or model) of a gearbox, but its complete enough for everyday use. Encapsulation can be thought of as &#39;hiding details&#39;, which is necessary for creating a simpler representation. \r\n\r\nIts also important to discuss the concept of an &#39;interface&#39;. For the most part, the terms &#39;interface&#39; and &#39;abstraction&#39; are more less interchangeable in this instance. An interface is the part of a system with which the user deals or interacts. The interface to a car is the steering wheel, gear shift and pedals etc. The abstraction produces an interface. You don&#39;t deal with the engine/gearbox directly, you deal with their respective interfaces.\r\n\r\nAnother reason for encapsulation is because we&#39;re dealing with an incomplete model/abstraction, we don&#39;t understand the full complexity of the original, and can&#39;t be trusted to deal with all the variables (because we don&#39;t understand the full model). This is important for decoupling, because without abstraction, interacting components would know too much about each other. Think about it, because every car has a steering wheel, pedals and gearshift, you can drive any car, regardless of engine type etc. Also, the gearbox is abstracted from the engine. Otherwise each custom engine would need a custom gearbox.\r\n\r\nSimilarly, a Class is an abstraction. The class represents some complex model, through its interface - the public members of the class. This interface is created through encapsulation. The class presents a simplified interface of its more complex implementation to its collaborators. You can also think of it as a &#39;need to know&#39; situation. The collaborators of the class don&#39;t need to know exactly how it works. Just as you don&#39;t need to know how an engine works to drive a car.\r\n\r\nEncapsulation, interfaces and abstraction play a critical role in cohesion and coupling, and therefore maintenance of your code. If you don&#39;t create good abstractions, and violate the &#39;need to know&#39; principle, then your code becomes entangled, fragile and a nightmare to change, because there is no &#39;buffering&#39;. The OO concept of &#39;tell don&#39;t ask&#39; is also related to this.","title":"What is the difference between abstraction and encapsulation?","body":"<p>Encapsulation is part of abstraction. The notion of abstraction is one of creating an object to represent another object. Typically, the original object is more complex than the abstraction. An abstraction is thus a representation, usually as an aid to memory, for terminology/communication etc. Think of it like this: abstract art is a representation of something else. A steering wheel, gearshift and 2/3 pedals is an abstraction of how a car works. </p>\n\n<p>Basically, the abstraction allows you to represent something complex, with a lot of details, as something a lot simpler. In my opinion, this is related to 'chunking' in cognitive science. We're not able to keep complex things in our head, so we simplify by abstracting, then using the abstraction. Design Patterns are another great example. Instead of talking about details, we can talk about Command, State or Strategy pattern etc.</p>\n\n<p>Encapsulation is part of forming/creating an abstraction. The smaller an object's interface, the easier it is to abstract. You don't need to know how an engine and gearbox work to drive a car, you just need to understand their abstractions (gear shift and accelerator). The details of the engine and gearbox are encapsulated (into the interface) in order to create the abstraction. </p>\n\n<p>Encapsulation is needed for abstraction because an abstaction can't deal with all the real details and complexity (otherwise its not an abstraction). So the gearshift is an incomplete representation (or model) of a gearbox, but its complete enough for everyday use. Encapsulation can be thought of as 'hiding details', which is necessary for creating a simpler representation. </p>\n\n<p>Its also important to discuss the concept of an 'interface'. For the most part, the terms 'interface' and 'abstraction' are more less interchangeable in this instance. An interface is the part of a system with which the user deals or interacts. The interface to a car is the steering wheel, gear shift and pedals etc. The abstraction produces an interface. You don't deal with the engine/gearbox directly, you deal with their respective interfaces.</p>\n\n<p>Another reason for encapsulation is because we're dealing with an incomplete model/abstraction, we don't understand the full complexity of the original, and can't be trusted to deal with all the variables (because we don't understand the full model). This is important for decoupling, because without abstraction, interacting components would know too much about each other. Think about it, because every car has a steering wheel, pedals and gearshift, you can drive any car, regardless of engine type etc. Also, the gearbox is abstracted from the engine. Otherwise each custom engine would need a custom gearbox.</p>\n\n<p>Similarly, a Class is an abstraction. The class represents some complex model, through its interface - the public members of the class. This interface is created through encapsulation. The class presents a simplified interface of its more complex implementation to its collaborators. You can also think of it as a 'need to know' situation. The collaborators of the class don't need to know exactly how it works. Just as you don't need to know how an engine works to drive a car.</p>\n\n<p>Encapsulation, interfaces and abstraction play a critical role in cohesion and coupling, and therefore maintenance of your code. If you don't create good abstractions, and violate the 'need to know' principle, then your code becomes entangled, fragile and a nightmare to change, because there is no 'buffering'. The OO concept of 'tell don't ask' is also related to this.</p>\n"},{"tags":[],"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1297414888,"creation_date":1297414888,"answer_id":4967181,"question_id":4966710,"body_markdown":"Abstraction and encapsulation are two great flavors that taste great together.\r\n\r\n**Encapsulation** is minimizing what you expose to the user of your code.  That &quot;user&quot; may be the rest of your code, or whoever uses the code you publish.\r\n\r\nThere some definite benefits to encapsulation:\r\n\r\n- The user of your code doesn&#39;t depend on parts of your program that are likely to change.  When you change your program, they don&#39;t have to change their code\r\n- You are more in control of exactly how your code and state changes over the lifetime of your program.  You must handle fewer scenarios, and will have fewer unexpected problems to fix\r\n\r\nI don&#39;t know Java, but here is a small example of encapsulation in C#:\r\n\r\n    public class Giraffe\r\n    {\r\n        public Giraffe(int heightInFeet)\r\n        {\r\n            this.heightInFeet = heightInFeet;\r\n            this.numberOfSpots = heightInFeet * 72;\r\n        }\r\n\r\n        public override string ToString()\r\n        {\r\n            return &quot;Height: &quot; + heightInFeet + &quot; feet&quot;\r\n                + &quot; Number of Spots: &quot; + numberOfSpots;\r\n        }\r\n\r\n        private int heightInFeet;\r\n        private int numberOfSpots;\r\n    }\r\n\r\nInstead of exposing `numberOfSpots`, it is encapsulated within the class, and exposed via the `ToString` method.\r\n\r\n**Abstraction** is using extension points to let the choice be deferred to a different part of which exact code is run.  That choice could be made elsewhere in your program, in another program, or dynamically at runtime.\r\n\r\nThere are also strong benefits to abstraction:\r\n\r\n- When you change your code that implements an abstraction, the user of the abstraction doesn&#39;t have to change their code.  As long as the abstraction doesn&#39;t change, the users won&#39;t have to change their code.\r\n- When you write code that uses an abstraction, you can write code once that will be reusable against any new code that implements that abstraction.  You can write less code to do more.\r\n\r\nA highly used abstraction in C# is `IEnumerable`.  Lists, Arrays, Dictionaries, and any other type of collection class all implement `IEnumerable`.  The `foreach` loop structure and the entirety of the LINQ library are based on that abstraction:\r\n\r\n    public IEnumerable&lt;int&gt; GetSomeCollection()\r\n    {\r\n        // This could return any type of int collection.  Here it returns an array\r\n        return new int[] { 5, 12, 7, 14, 2, 3, 7, 99 };\r\n    }\r\n\r\n    IEnumerable&lt;int&gt; someCollectionOfInts = GetSomeCollection();\r\n\r\n    IEnumerable&lt;string&gt; itemsLessThanFive = from i in someCollectionOfInts\r\n                                            where i &lt; 5\r\n                                            select i.ToString();\r\n\r\n    foreach(string item in itemsLessThanFive)\r\n    {\r\n        Console.WriteLine(item);\r\n    }\r\n\r\nYou can easily write your own abstractions, too:\r\n\r\n    public interface IAnimal\r\n    {\r\n        bool IsHealthy { get; }\r\n        void Eat(IAnimal otherAnimal);\r\n    }\r\n\r\n    public class Lion : IAnimal\r\n    {\r\n        public Lion()\r\n        {\r\n            this.isHealthy = true;\r\n        }\r\n\r\n        public bool IsHealthy\r\n        {\r\n            get { return isHealthy; }\r\n        }\r\n\r\n        void Eat(IAnimal otherAnimal)\r\n        {\r\n            if(otherAnimal.IsHealthy &amp;&amp; !(otherAnimal is SlimeMold))\r\n            {\r\n                isHealthy = true;\r\n            }\r\n            else\r\n            {\r\n                isHealthy = false;\r\n            }\r\n        }\r\n\r\n        private bool isHealthy;\r\n    }\r\n\r\n    IAnimal someAnimal = PullAnAnimalOutOfAWoodenCrate();\r\n\r\n    Console.WriteLine(&quot;The animal is healthy?: &quot; + someAnimal.IsHealthy);\r\n\r\nYou can use both together, as I did with `IAnimal`, and `IsHealthy`.  `IAnimal` is an abtraction, and having only a `get` accessor, and no `set` accessor on `IsHealthy` is encapsulation.\r\n","title":"What is the difference between abstraction and encapsulation?","body":"<p>Abstraction and encapsulation are two great flavors that taste great together.</p>\n\n<p><strong>Encapsulation</strong> is minimizing what you expose to the user of your code.  That \"user\" may be the rest of your code, or whoever uses the code you publish.</p>\n\n<p>There some definite benefits to encapsulation:</p>\n\n<ul>\n<li>The user of your code doesn't depend on parts of your program that are likely to change.  When you change your program, they don't have to change their code</li>\n<li>You are more in control of exactly how your code and state changes over the lifetime of your program.  You must handle fewer scenarios, and will have fewer unexpected problems to fix</li>\n</ul>\n\n<p>I don't know Java, but here is a small example of encapsulation in C#:</p>\n\n<pre><code>public class Giraffe\n{\n    public Giraffe(int heightInFeet)\n    {\n        this.heightInFeet = heightInFeet;\n        this.numberOfSpots = heightInFeet * 72;\n    }\n\n    public override string ToString()\n    {\n        return \"Height: \" + heightInFeet + \" feet\"\n            + \" Number of Spots: \" + numberOfSpots;\n    }\n\n    private int heightInFeet;\n    private int numberOfSpots;\n}\n</code></pre>\n\n<p>Instead of exposing <code>numberOfSpots</code>, it is encapsulated within the class, and exposed via the <code>ToString</code> method.</p>\n\n<p><strong>Abstraction</strong> is using extension points to let the choice be deferred to a different part of which exact code is run.  That choice could be made elsewhere in your program, in another program, or dynamically at runtime.</p>\n\n<p>There are also strong benefits to abstraction:</p>\n\n<ul>\n<li>When you change your code that implements an abstraction, the user of the abstraction doesn't have to change their code.  As long as the abstraction doesn't change, the users won't have to change their code.</li>\n<li>When you write code that uses an abstraction, you can write code once that will be reusable against any new code that implements that abstraction.  You can write less code to do more.</li>\n</ul>\n\n<p>A highly used abstraction in C# is <code>IEnumerable</code>.  Lists, Arrays, Dictionaries, and any other type of collection class all implement <code>IEnumerable</code>.  The <code>foreach</code> loop structure and the entirety of the LINQ library are based on that abstraction:</p>\n\n<pre><code>public IEnumerable&lt;int&gt; GetSomeCollection()\n{\n    // This could return any type of int collection.  Here it returns an array\n    return new int[] { 5, 12, 7, 14, 2, 3, 7, 99 };\n}\n\nIEnumerable&lt;int&gt; someCollectionOfInts = GetSomeCollection();\n\nIEnumerable&lt;string&gt; itemsLessThanFive = from i in someCollectionOfInts\n                                        where i &lt; 5\n                                        select i.ToString();\n\nforeach(string item in itemsLessThanFive)\n{\n    Console.WriteLine(item);\n}\n</code></pre>\n\n<p>You can easily write your own abstractions, too:</p>\n\n<pre><code>public interface IAnimal\n{\n    bool IsHealthy { get; }\n    void Eat(IAnimal otherAnimal);\n}\n\npublic class Lion : IAnimal\n{\n    public Lion()\n    {\n        this.isHealthy = true;\n    }\n\n    public bool IsHealthy\n    {\n        get { return isHealthy; }\n    }\n\n    void Eat(IAnimal otherAnimal)\n    {\n        if(otherAnimal.IsHealthy &amp;&amp; !(otherAnimal is SlimeMold))\n        {\n            isHealthy = true;\n        }\n        else\n        {\n            isHealthy = false;\n        }\n    }\n\n    private bool isHealthy;\n}\n\nIAnimal someAnimal = PullAnAnimalOutOfAWoodenCrate();\n\nConsole.WriteLine(\"The animal is healthy?: \" + someAnimal.IsHealthy);\n</code></pre>\n\n<p>You can use both together, as I did with <code>IAnimal</code>, and <code>IsHealthy</code>.  <code>IAnimal</code> is an abtraction, and having only a <code>get</code> accessor, and no <code>set</code> accessor on <code>IsHealthy</code> is encapsulation.</p>\n"}],"owner":{"account_id":165736,"reputation":1675,"user_id":389428,"accept_rate":48,"display_name":"Rakesh Sabbani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39311,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"closed_date":1672209335,"accepted_answer_id":4967181,"answer_count":4,"score":7,"last_activity_date":1672209404,"creation_date":1297410290,"question_id":4966710,"body_markdown":"What exactly is the difference between encapsulation and abstraction in Java? Any brief examples would also be appreciated.","title":"What is the difference between abstraction and encapsulation?","body":"<p>What exactly is the difference between encapsulation and abstraction in Java? Any brief examples would also be appreciated.</p>\n"},{"tags":["java","oop"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1345018246,"creation_date":1345018246,"answer_id":11965960,"question_id":11965929,"body_markdown":"Abstraction is about *identifying commonalities* and reducing features that you have to work with at different levels of your code.\r\n\r\ne.g.  I may have a `Vehicle` class. A `Car` would derive from a `Vehicle`, as would a `Motorbike`. I can ask each `Vehicle` for the number of wheels, passengers etc. and that info has been abstracted and identified as common from `Cars` and `Motorbikes`.\r\n\r\nIn my code I can often just deal with `Vehicles` via common methods `go()`, `stop()` etc. When I add a new Vehicle type later (e.g. `Scooter`) the majority of my code would remain oblivious to this fact, and the implementation of `Scooter` alone worries about `Scooter` particularities.","title":"Abstraction vs Encapsulation in Java","body":"<p>Abstraction is about <em>identifying commonalities</em> and reducing features that you have to work with at different levels of your code.</p>\n\n<p>e.g.  I may have a <code>Vehicle</code> class. A <code>Car</code> would derive from a <code>Vehicle</code>, as would a <code>Motorbike</code>. I can ask each <code>Vehicle</code> for the number of wheels, passengers etc. and that info has been abstracted and identified as common from <code>Cars</code> and <code>Motorbikes</code>.</p>\n\n<p>In my code I can often just deal with <code>Vehicles</code> via common methods <code>go()</code>, <code>stop()</code> etc. When I add a new Vehicle type later (e.g. <code>Scooter</code>) the majority of my code would remain oblivious to this fact, and the implementation of <code>Scooter</code> alone worries about <code>Scooter</code> particularities.</p>\n"},{"tags":[],"owner":{"account_id":121293,"reputation":105197,"user_id":314291,"accept_rate":89,"display_name":"StuartLC"},"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1551870139,"creation_date":1345018858,"answer_id":11966068,"question_id":11965929,"body_markdown":"[**OO Abstraction**](https://en.wikipedia.org/wiki/Abstraction_(computer_science)#Abstraction_in_object_oriented_programming) occurs during class level design, with the objective of **hiding the implementation complexity** of *how* the the features offered by an API / design / system were implemented, in a sense simplifying the &#39;interface&#39; to access the underlying implementation. \r\n\r\nThe process of abstraction can be repeated at increasingly &#39;higher&#39; levels (layers) of classes, which enables large systems to be built without increasing the complexity of code and understanding at each layer.\r\n\r\nFor example, a Java developer can make use of the high level features of [FileInputStream](https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html) without concern for how it works (i.e. file handles, file system security checks, memory allocation and buffering will be managed internally, and are hidden from consumers).  This allows the implementation of `FileInputStream` to be changed, and as long as the API (interface) to `FileInputStream` remains consistent, code built against previous versions will still work.\r\n\r\nSimilarly, when designing your own classes, you will want to hide internal implementation details from others as far as possible.\r\n\r\n***In the Booch definition&lt;sup&gt;1&lt;/sup&gt;***, **OO Encapsulation** is achieved through [Information Hiding](https://en.wikipedia.org/wiki/Information_hiding), and specifically around hiding internal data (fields / members representing the state) owned by a class instance, by enforcing access to the internal data in a controlled manner, and preventing direct, external change to these fields, as well as hiding any internal implementation methods of the class (e.g. by making them private). \r\n\r\nFor example, the fields of a class can be made `private` by default, and only if external access to these was required, would a `get()` and/or `set()` (or `Property`) be exposed from the class. (In modern day OO languages, fields can be marked as `readonly` / `final` / `immutable` which further restricts change, even within the class).\r\n\r\n*Example where NO information hiding has been applied (Bad Practice)*:\r\n\r\n    class Foo {\r\n       // BAD - NOT Encapsulated - code external to the class can change this field directly\r\n       // Class Foo has no control over the range of values which could be set.\r\n       public int notEncapsulated;\r\n    }\r\n\r\n*Example where field encapsulation has been applied*:\r\n\r\n    class Bar {\r\n       // Improvement - access restricted only to this class\r\n       private int encapsulatedPercentageField;\r\n\r\n       // The state of Bar (and its fields) can now be changed in a controlled manner\r\n       public void setEncapsulatedField(int percentageValue) {\r\n          if (percentageValue &gt;= 0 &amp;&amp; percentageValue &lt;= 100) {\r\n              encapsulatedPercentageField = percentageValue;\r\n          }\r\n          // else throw ... out of range\r\n       }\r\n    }\r\n\r\n*Example of immutable / constructor-only initialization of a field*:\r\n\r\n    class Baz {\r\n       private final int immutableField;\r\n\r\n       public void Baz(int onlyValue) {\r\n          // ... As above, can also check that onlyValue is valid\r\n          immutableField = onlyValue;\r\n       }\r\n       // Further change of `immutableField` outside of the constructor is NOT permitted, even within the same class \r\n    }\r\n\r\n**Re : Abstraction vs Abstract Class**\r\n\r\n[Abstract classes](https://en.wikipedia.org/wiki/Abstract_type) are classes which promote reuse of commonality between classes, but which themselves cannot directly be instantiated with `new()` - abstract classes must be subclassed, and only `concrete` (non abstract) subclasses may be instantiated. Possibly one source of confusion between `Abstraction` and an `abstract class` was that in the early days of OO, inheritance was more heavily used to achieve code reuse (e.g. with associated abstract base classes). Nowadays, [composition is generally favoured over inheritance](https://en.wikipedia.org/wiki/Composition_over_inheritance), and there are more tools available to achieve abstraction, such as through Interfaces, events / delegates / functions, traits / mixins etc.\r\n\r\n**Re : Encapsulation vs Information Hiding**\r\n\r\nThe meaning of ***encapsulation*** appears to have evolved over time, and in recent times, [`encapsulation`](https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)) can commonly also used in a more general sense when determining which methods, fields, properties, events etc to **bundle** into a class.\r\n\r\nQuoting Wikipedia:\r\n\r\n&gt; In the more concrete setting of an object-oriented programming language, the notion is used to mean either an information hiding mechanism, a bundling mechanism, or the combination of the two.\r\n\r\nFor example, in the statement \r\n\r\n&gt; I&#39;ve ***encapsulated*** the data access code into its own class\r\n\r\n.. the  interpretation of *encapsulation* is roughly equivalent to the [Separation of Concerns](https://en.wikipedia.org/wiki/Separation_of_concerns) or the [Single Responsibility Principal](https://en.wikipedia.org/wiki/Single_responsibility_principle) (the &quot;S&quot; in SOLID), and could arguably be used as a synonym for refactoring.\r\n\r\n---\r\n\r\n&lt;sup&gt;[1]&lt;sub&gt; Once you&#39;ve seen Booch&#39;s [encapsulation cat picture](https://effectivesoftwaredesign.com/2016/09/28/the-cat-as-a-metaphor-in-object-oriented-software-development/#encapsulation) you&#39;ll never be able to forget encapsulation - p46 of Object Oriented Analysis and Design with Applications,\r\n 2nd Ed&lt;/sub&gt;&lt;/sup&gt;","title":"Abstraction vs Encapsulation in Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/Abstraction_(computer_science)#Abstraction_in_object_oriented_programming\" rel=\"noreferrer\"><strong>OO Abstraction</strong></a> occurs during class level design, with the objective of <strong>hiding the implementation complexity</strong> of <em>how</em> the the features offered by an API / design / system were implemented, in a sense simplifying the 'interface' to access the underlying implementation. </p>\n\n<p>The process of abstraction can be repeated at increasingly 'higher' levels (layers) of classes, which enables large systems to be built without increasing the complexity of code and understanding at each layer.</p>\n\n<p>For example, a Java developer can make use of the high level features of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileInputStream.html\" rel=\"noreferrer\">FileInputStream</a> without concern for how it works (i.e. file handles, file system security checks, memory allocation and buffering will be managed internally, and are hidden from consumers).  This allows the implementation of <code>FileInputStream</code> to be changed, and as long as the API (interface) to <code>FileInputStream</code> remains consistent, code built against previous versions will still work.</p>\n\n<p>Similarly, when designing your own classes, you will want to hide internal implementation details from others as far as possible.</p>\n\n<p><strong><em>In the Booch definition<sup>1</sup></em></strong>, <strong>OO Encapsulation</strong> is achieved through <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"noreferrer\">Information Hiding</a>, and specifically around hiding internal data (fields / members representing the state) owned by a class instance, by enforcing access to the internal data in a controlled manner, and preventing direct, external change to these fields, as well as hiding any internal implementation methods of the class (e.g. by making them private). </p>\n\n<p>For example, the fields of a class can be made <code>private</code> by default, and only if external access to these was required, would a <code>get()</code> and/or <code>set()</code> (or <code>Property</code>) be exposed from the class. (In modern day OO languages, fields can be marked as <code>readonly</code> / <code>final</code> / <code>immutable</code> which further restricts change, even within the class).</p>\n\n<p><em>Example where NO information hiding has been applied (Bad Practice)</em>:</p>\n\n<pre><code>class Foo {\n   // BAD - NOT Encapsulated - code external to the class can change this field directly\n   // Class Foo has no control over the range of values which could be set.\n   public int notEncapsulated;\n}\n</code></pre>\n\n<p><em>Example where field encapsulation has been applied</em>:</p>\n\n<pre><code>class Bar {\n   // Improvement - access restricted only to this class\n   private int encapsulatedPercentageField;\n\n   // The state of Bar (and its fields) can now be changed in a controlled manner\n   public void setEncapsulatedField(int percentageValue) {\n      if (percentageValue &gt;= 0 &amp;&amp; percentageValue &lt;= 100) {\n          encapsulatedPercentageField = percentageValue;\n      }\n      // else throw ... out of range\n   }\n}\n</code></pre>\n\n<p><em>Example of immutable / constructor-only initialization of a field</em>:</p>\n\n<pre><code>class Baz {\n   private final int immutableField;\n\n   public void Baz(int onlyValue) {\n      // ... As above, can also check that onlyValue is valid\n      immutableField = onlyValue;\n   }\n   // Further change of `immutableField` outside of the constructor is NOT permitted, even within the same class \n}\n</code></pre>\n\n<p><strong>Re : Abstraction vs Abstract Class</strong></p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Abstract_type\" rel=\"noreferrer\">Abstract classes</a> are classes which promote reuse of commonality between classes, but which themselves cannot directly be instantiated with <code>new()</code> - abstract classes must be subclassed, and only <code>concrete</code> (non abstract) subclasses may be instantiated. Possibly one source of confusion between <code>Abstraction</code> and an <code>abstract class</code> was that in the early days of OO, inheritance was more heavily used to achieve code reuse (e.g. with associated abstract base classes). Nowadays, <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"noreferrer\">composition is generally favoured over inheritance</a>, and there are more tools available to achieve abstraction, such as through Interfaces, events / delegates / functions, traits / mixins etc.</p>\n\n<p><strong>Re : Encapsulation vs Information Hiding</strong></p>\n\n<p>The meaning of <strong><em>encapsulation</em></strong> appears to have evolved over time, and in recent times, <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"noreferrer\"><code>encapsulation</code></a> can commonly also used in a more general sense when determining which methods, fields, properties, events etc to <strong>bundle</strong> into a class.</p>\n\n<p>Quoting Wikipedia:</p>\n\n<blockquote>\n  <p>In the more concrete setting of an object-oriented programming language, the notion is used to mean either an information hiding mechanism, a bundling mechanism, or the combination of the two.</p>\n</blockquote>\n\n<p>For example, in the statement </p>\n\n<blockquote>\n  <p>I've <strong><em>encapsulated</em></strong> the data access code into its own class</p>\n</blockquote>\n\n<p>.. the  interpretation of <em>encapsulation</em> is roughly equivalent to the <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"noreferrer\">Separation of Concerns</a> or the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"noreferrer\">Single Responsibility Principal</a> (the \"S\" in SOLID), and could arguably be used as a synonym for refactoring.</p>\n\n<hr>\n\n<p><sup>[1]<sub> Once you've seen Booch's <a href=\"https://effectivesoftwaredesign.com/2016/09/28/the-cat-as-a-metaphor-in-object-oriented-software-development/#encapsulation\" rel=\"noreferrer\">encapsulation cat picture</a> you'll never be able to forget encapsulation - p46 of Object Oriented Analysis and Design with Applications,\n 2nd Ed</sub></sup></p>\n"},{"tags":[],"owner":{"account_id":544048,"reputation":945,"user_id":913352,"display_name":"mbm"},"down_vote_count":2,"up_vote_count":56,"is_accepted":false,"score":54,"last_activity_date":1345020435,"creation_date":1345020435,"answer_id":11966409,"question_id":11965929,"body_markdown":"In simple words:\r\nYou do abstraction when deciding what to implement.\r\nYou do encapsulation when hiding something that you have implemented.","title":"Abstraction vs Encapsulation in Java","body":"<p>In simple words:\nYou do abstraction when deciding what to implement.\nYou do encapsulation when hiding something that you have implemented.</p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251952,"favorite_count":0,"down_vote_count":2,"up_vote_count":93,"closed_date":1672209166,"answer_count":3,"score":91,"last_activity_date":1672209386,"creation_date":1345018045,"question_id":11965929,"body_markdown":"Although the Internet is filled with lots of definitions for these concepts, they still all sound the same to me. For example, consider the following definitions:\r\n\r\n**Encapsulation** is a process of binding or wrapping the data and the code that operates on the data into a single entity. This keeps the data safe from outside interface and misuse. One way to think about encapsulation is as a protective wrapper that prevents code and data from being arbitrarily accessed by other code defined outside the wrapper.\r\n\r\nWhat I understood from above definition is that creating variables, mark them private and generate getter-setter for those variables and use object to access those getter and setter. In that way data is hidden inside object and is only accessible through object.\r\n\r\nIs this correct?\r\n\r\n---\r\n\r\n**Abstraction** is the process in Java which is used to hide certain details and only show the essential features of the object. In other words, it deals with the outside view of an object (interface). \r\n\r\nNow this is the part that always confuses me. Whenever I think about abstraction the thing which comes to my mind is Abstract class (maybe because both have Abstract keyword). Above definition says abstraction means hiding data and only showing required details but that is what we are already doing in encapsulation right? then what is the difference. Also I did not get what is outside view of object in &quot;it deals with the outside view of an object&quot;.\r\n\r\nCan someone please explain this more clearly? Real-life and/or programmatic examples would be especially helpful.","title":"Abstraction vs Encapsulation in Java","body":"<p>Although the Internet is filled with lots of definitions for these concepts, they still all sound the same to me. For example, consider the following definitions:</p>\n<p><strong>Encapsulation</strong> is a process of binding or wrapping the data and the code that operates on the data into a single entity. This keeps the data safe from outside interface and misuse. One way to think about encapsulation is as a protective wrapper that prevents code and data from being arbitrarily accessed by other code defined outside the wrapper.</p>\n<p>What I understood from above definition is that creating variables, mark them private and generate getter-setter for those variables and use object to access those getter and setter. In that way data is hidden inside object and is only accessible through object.</p>\n<p>Is this correct?</p>\n<hr />\n<p><strong>Abstraction</strong> is the process in Java which is used to hide certain details and only show the essential features of the object. In other words, it deals with the outside view of an object (interface).</p>\n<p>Now this is the part that always confuses me. Whenever I think about abstraction the thing which comes to my mind is Abstract class (maybe because both have Abstract keyword). Above definition says abstraction means hiding data and only showing required details but that is what we are already doing in encapsulation right? then what is the difference. Also I did not get what is outside view of object in &quot;it deals with the outside view of an object&quot;.</p>\n<p>Can someone please explain this more clearly? Real-life and/or programmatic examples would be especially helpful.</p>\n"},{"tags":["java","derby","importdata"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668078754,"post_id":74387941,"comment_id":131322082,"body_markdown":"You *include* JPA as a dependency, but completely ignore it by your code. It should be sufficient to make spring-boot-starter-data-jdbc a dependency.","body":"You <i>include</i> JPA as a dependency, but completely ignore it by your code. It should be sufficient to make spring-boot-starter-data-jdbc a dependency."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668081713,"creation_date":1668079563,"answer_id":74388235,"question_id":74387941,"body_markdown":"The syntax of the stored procedure according to [documentation](https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj121.html) is\r\n\r\n```sql\r\nSYSCS_UTIL.SYSCS_IMPORT_DATA (IN SCHEMANAME VARCHAR(128),\r\nIN TABLENAME VARCHAR(128), IN INSERTCOLUMNS VARCHAR(32672),\r\nIN COLUMNINDEXES VARCHAR(32672), IN FILENAME VARCHAR(32672),\r\nIN COLUMNDELIMITER CHAR(1), IN CHARACTERDELIMITER CHAR(1),\r\nIN CODESET VARCHAR(128), IN REPLACE SMALLINT)\r\n```\r\n\r\nAssuming the file&#39;s name is &#39;C:\\import.csv&#39;, String `queryCer` resolves to\r\n\r\n```sql\r\nCALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,\r\n&#39;ELECTOR&#39;,&#39;COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5&#39;,\r\nnull,&#39;C:\\import.csv&#39;,\r\n&#39;;&#39;, &#39;\\n&#39;, &#39;UTF-8&#39;, 0)\r\n```\r\n\r\nwhere &quot;;&quot; being the column delimiter (which is correct) and &quot;\\n&quot; being the __character__ delimiter, which is incorrect as there is no character delimiter. So,replace `&#39;\\\\n&#39;` by `null` (without quotes).\r\n\r\n","title":"Bulk Import Derby error SYSCS_IMPORT_DATA CHARACTERDELIMITER must be CHAR(1)","body":"<p>The syntax of the stored procedure according to <a href=\"https://db.apache.org/derby/docs/10.0/manuals/reference/sqlj121.html\" rel=\"nofollow noreferrer\">documentation</a> is</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SYSCS_UTIL.SYSCS_IMPORT_DATA (IN SCHEMANAME VARCHAR(128),\nIN TABLENAME VARCHAR(128), IN INSERTCOLUMNS VARCHAR(32672),\nIN COLUMNINDEXES VARCHAR(32672), IN FILENAME VARCHAR(32672),\nIN COLUMNDELIMITER CHAR(1), IN CHARACTERDELIMITER CHAR(1),\nIN CODESET VARCHAR(128), IN REPLACE SMALLINT)\n</code></pre>\n<p>Assuming the file's name is 'C:\\import.csv', String <code>queryCer</code> resolves to</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT',\n'ELECTOR','COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5',\nnull,'C:\\import.csv',\n';', '\\n', 'UTF-8', 0)\n</code></pre>\n<p>where &quot;;&quot; being the column delimiter (which is correct) and &quot;\\n&quot; being the <strong>character</strong> delimiter, which is incorrect as there is no character delimiter. So,replace <code>'\\\\n'</code> by <code>null</code> (without quotes).</p>\n"}],"owner":{"account_id":5291200,"reputation":1,"user_id":4223746,"display_name":"Jos&#233; Pascual Gimeno Mar&#237;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672209349,"creation_date":1668078135,"question_id":74387941,"body_markdown":"Hi I trying to import txt values file into derby database using CALL SYSCS_UTIL.SYSCS_IMPORT_DATA.\r\n\r\nEach value column is delimited by ; and the line of values is delimited by LF Line Feed.\r\n\r\n111142501;283811110;01111000;28111004;EXPO[LF]\r\n\r\nIn my java method I&#39;m invoking SYSCS_IMPORT_DATA like this\r\n\r\n\r\n```\r\n\t\tString driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\r\n\t\tString protocol = &quot;jdbc:derby:&quot;;\r\n\t\tConnection conexion = null;\r\n\r\n\t\tFile bd = new File(configProperties.getDdbbDir());\r\n\t\tString absolutePathDB = bd.getAbsolutePath();\r\n\t\tClass.forName(driver).newInstance();\r\n\t\tProperties props = new Properties();\r\n\t\tconexion = DriverManager.getConnection(protocol + absolutePathDB, props);\r\n\t\tconexion.setAutoCommit(false);\r\n\t\tStatement s = conexion.createStatement();\r\n\r\n\t\tString queryCer = &quot;CALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,&#39;ELECTOR&#39;,&#39;COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5&#39;,null,&#39;&quot; +\t\t\t\t\t+ StringUtils.replace(file.getAbsolutePath(), &quot;\\\\&quot;, &quot;\\\\\\\\&quot;) + &quot;&#39;,&#39;;&#39;, &#39;\\\\n&#39;, &#39;UTF-8&#39;, 0)&quot;;\r\n\t\t\ts.execute(queryCer);\r\n\r\n```\r\n\r\nWhen my applications goes by statement execute finishes with the following error:\r\n\r\nCaused by: ERROR 22001: A truncation error was encountered trying to shrink CHAR &#39;\\n&#39; to length 1.\r\n\r\nI&#39;ve tried to change CHARACTERDELIMITER for other values , like &quot;, &#39; or null, but other errors appears. Also I&#39;ve tried to import the lines enclosed by &quot;&quot;, but does not working.\r\n\r\n--------\r\n\r\nAs Christoph adviced me, I&#39;ve changed the invocation replacing &#39;\\\\n&#39; by null (the column names are in Spanish)\r\n\r\n    CALL SYSCS_UTIL.SYSCS_IMPORT_DATA(&#39;ROOT&#39;,&#39;ELECTOR&#39;,&#39;CODIGO_CENSO, CODIGO_PROVINCIA, NOMBRE_PROVINCIA, CODIGO_MUNICIPIO, NOMBRE_MUNICIPIO, CODIGO_DISTRITO,\r\n    CODIGO_SECCION, CODIGO_SUB_SECCION, MESA, NUMERO_ORDEN, IDENTIFICADOR, PRIMER_APELLIDO_NORMALIZADO,\r\n    SEGUNDO_APELLIDO_NORMALIZADO, NOMBRE_NORMALIZADO, FECHA_NACIMIENTO, INDICADOR_CORREO, SEXO, GRADO_ESC,\r\n    PRIMER_APELLIDO_SIN_NORMALIZAR, SEGUNDO_APELLIDO_SIN_NORMALIZAR, NOMBRE_SIN_NORMALIZAR, CODIGO_CIERRE, NIE, EATIM, JUNTA_ZONA, PERIODO&#39;\r\n    ,&#39;7,17,54,12,51,9,20,21,47,56,39,63,67,52,36,40,69,37,64,68,55,8,49,33,43,60&#39;,\r\n    &#39;fichero.csv&#39;,&#39;;&#39;, null, &#39;UTF-8&#39;, 0)\r\n\r\n\r\nbut now I have the following error: java.sql.SQLException: The exception &#39;java.sql.SQLSyntaxErrorException: Column &#39;COLUMNXX&#39; is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE statement then &#39;COLUMN54&#39; is not a column in the target table.&#39; was thrown while evaluating an expression.\r\n\r\n\r\n\r\nAs you can see, I&#39;ve included the index of column to import data values, because if it wasn&#39;t indicated the error was the following:\r\nCaused by: java.sql.SQLException: The column ID in table ELECTOR does not allow null values.\r\n\r\nSo, I have to put the index columns.\r\n\r\nHere one register from csv file: \r\n\r\n    1;28;MADRID                   ;903;XXXX XXXXXX                                       ;01;022 ;  ;B;00000466;*****7***;SOMBRERO                         ;ROZAS                            ;PEPITO                           ;200X0404; ;V;3;PISCINAS                         ;ROZAS                            ;PEPITO                           ;000042501;288000000;00000000;20000000;EXPO\r\n\r\nY la data table has the following column names:\r\n\r\n    (&#39;ID&#39;,&#39;APELLIDO_CASADA&#39;,&#39;BLOQUE&#39;,&#39;CALIFICADOR&#39;,&#39;CIAY&#39;,&#39;CIUDAD&#39;,&#39;CODIGO_CENSO&#39;,&#39;CODIGO_CIERRE&#39;,&#39;CODIGO_DISTRITO&#39;,\r\n    &#39;CODIGOEC&#39;,&#39;CODIGOES&#39;,&#39;CODIGO_MUNICIPIO&#39;,&#39;CODIGO_MUNICIPIO_NACIMIENTO&#39;,&#39;CODIGO_NUCLEO&#39;,&#39;CODIGO_PAIS&#39;,\r\n    &#39;CODIGO_POSTAL&#39;,&#39;CODIGO_PROVINCIA&#39;,&#39;CODIGO_PROVINCIA_NACIMIENTO&#39;,&#39;CODIGO_PSEUDOVIA&#39;,&#39;CODIGO_SECCION&#39;,\r\n    &#39;CODIGO_SUB_SECCION&#39;,&#39;CODIGO_TIPO_VIA&#39;,&#39;CODIGO_VIA&#39;,&#39;CONSULADO&#39;,&#39;DESCRIPCIONEC&#39;,&#39;DESCRIPCIONES&#39;,&#39;DESCRIPCION_NUCLEO&#39;,\r\n    &#39;DESCRIPCION_PSEUDOVIA&#39;,&#39;DESCRIPCION_TIPO_VIA&#39;,&#39;DESCRIPCION_VIA&#39;,&#39;DIGITO_CONTROL_NIE&#39;,&#39;DIRECCION_POSTAL&#39;,\r\n    &#39;EATIM&#39;,&#39;ESCALERA&#39;,&#39;FECHA_CARGA&#39;,&#39;FECHA_NACIMIENTO&#39;,&#39;GRADO_ESC&#39;,&#39;HM&#39;,&#39;IDENTIFICADOR&#39;,&#39;INDICADOR_CORREO&#39;,\r\n    &#39;INDICADOR_INHABILITADO&#39;,&#39;IVOTO&#39;,&#39;JUNTA_ZONA&#39;,&#39;KM&#39;,&#39;LETRA_DNI&#39;,&#39;LETRA_EXTRANJERO&#39;,&#39;MESA&#39;,&#39;MUNICIPIO_CERA&#39;,\r\n    &#39;NIE&#39;,&#39;NOMBRE_CONSULADO&#39;,&#39;NOMBRE_MUNICIPIO&#39;,&#39;NOMBRE_NORMALIZADO&#39;,&#39;NOMBRE_PAIS_CERA&#39;,&#39;NOMBRE_PROVINCIA&#39;,\r\n    &#39;NOMBRE_SIN_NORMALIZAR&#39;,&#39;NUMERO_ORDEN&#39;,&#39;NUMERO_VIA&#39;,&#39;PAIS_CERA&#39;,&#39;PAIS_NACION&#39;,&#39;PERIODO&#39;,&#39;PISO&#39;,&#39;PORTAL&#39;,\r\n    &#39;PRIMER_APELLIDO_NORMALIZADO&#39;,&#39;PRIMER_APELLIDO_SIN_NORMALIZAR&#39;,&#39;PROVINCIA_CERA&#39;,&#39;PUERTA&#39;,&#39;SEGUNDO_APELLIDO_NORMALIZADO&#39;,\r\n    &#39;SEGUNDO_APELLIDO_SIN_NORMALIZAR&#39;, &#39;SEXO&#39;, &#39;TIPO_IDENTIFICADOR&#39;)\r\n\r\nAny help will be appreciate.\r\nThanks\r\nRegards, \r\nJose Pascual\r\n\r\n","title":"Bulk Import Derby error SYSCS_IMPORT_DATA CHARACTERDELIMITER must be CHAR(1)","body":"<p>Hi I trying to import txt values file into derby database using CALL SYSCS_UTIL.SYSCS_IMPORT_DATA.</p>\n<p>Each value column is delimited by ; and the line of values is delimited by LF Line Feed.</p>\n<p>111142501;283811110;01111000;28111004;EXPO[LF]</p>\n<p>In my java method I'm invoking SYSCS_IMPORT_DATA like this</p>\n<pre><code>        String driver = &quot;org.apache.derby.jdbc.EmbeddedDriver&quot;;\n        String protocol = &quot;jdbc:derby:&quot;;\n        Connection conexion = null;\n\n        File bd = new File(configProperties.getDdbbDir());\n        String absolutePathDB = bd.getAbsolutePath();\n        Class.forName(driver).newInstance();\n        Properties props = new Properties();\n        conexion = DriverManager.getConnection(protocol + absolutePathDB, props);\n        conexion.setAutoCommit(false);\n        Statement s = conexion.createStatement();\n\n        String queryCer = &quot;CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT','ELECTOR','COLUMN1, COLUMN2, COLUMN3, COLUMN4, COLUMN5',null,'&quot; +                   + StringUtils.replace(file.getAbsolutePath(), &quot;\\\\&quot;, &quot;\\\\\\\\&quot;) + &quot;',';', '\\\\n', 'UTF-8', 0)&quot;;\n            s.execute(queryCer);\n\n</code></pre>\n<p>When my applications goes by statement execute finishes with the following error:</p>\n<p>Caused by: ERROR 22001: A truncation error was encountered trying to shrink CHAR '\\n' to length 1.</p>\n<p>I've tried to change CHARACTERDELIMITER for other values , like &quot;, ' or null, but other errors appears. Also I've tried to import the lines enclosed by &quot;&quot;, but does not working.</p>\n<hr />\n<p>As Christoph adviced me, I've changed the invocation replacing '\\n' by null (the column names are in Spanish)</p>\n<pre><code>CALL SYSCS_UTIL.SYSCS_IMPORT_DATA('ROOT','ELECTOR','CODIGO_CENSO, CODIGO_PROVINCIA, NOMBRE_PROVINCIA, CODIGO_MUNICIPIO, NOMBRE_MUNICIPIO, CODIGO_DISTRITO,\nCODIGO_SECCION, CODIGO_SUB_SECCION, MESA, NUMERO_ORDEN, IDENTIFICADOR, PRIMER_APELLIDO_NORMALIZADO,\nSEGUNDO_APELLIDO_NORMALIZADO, NOMBRE_NORMALIZADO, FECHA_NACIMIENTO, INDICADOR_CORREO, SEXO, GRADO_ESC,\nPRIMER_APELLIDO_SIN_NORMALIZAR, SEGUNDO_APELLIDO_SIN_NORMALIZAR, NOMBRE_SIN_NORMALIZAR, CODIGO_CIERRE, NIE, EATIM, JUNTA_ZONA, PERIODO'\n,'7,17,54,12,51,9,20,21,47,56,39,63,67,52,36,40,69,37,64,68,55,8,49,33,43,60',\n'fichero.csv',';', null, 'UTF-8', 0)\n</code></pre>\n<p>but now I have the following error: java.sql.SQLException: The exception 'java.sql.SQLSyntaxErrorException: Column 'COLUMNXX' is either not in any table in the FROM list or appears within a join specification and is outside the scope of the join specification or appears in a HAVING clause and is not in the GROUP BY list. If this is a CREATE or ALTER TABLE statement then 'COLUMN54' is not a column in the target table.' was thrown while evaluating an expression.</p>\n<p>As you can see, I've included the index of column to import data values, because if it wasn't indicated the error was the following:\nCaused by: java.sql.SQLException: The column ID in table ELECTOR does not allow null values.</p>\n<p>So, I have to put the index columns.</p>\n<p>Here one register from csv file:</p>\n<pre><code>1;28;MADRID                   ;903;XXXX XXXXXX                                       ;01;022 ;  ;B;00000466;*****7***;SOMBRERO                         ;ROZAS                            ;PEPITO                           ;200X0404; ;V;3;PISCINAS                         ;ROZAS                            ;PEPITO                           ;000042501;288000000;00000000;20000000;EXPO\n</code></pre>\n<p>Y la data table has the following column names:</p>\n<pre><code>('ID','APELLIDO_CASADA','BLOQUE','CALIFICADOR','CIAY','CIUDAD','CODIGO_CENSO','CODIGO_CIERRE','CODIGO_DISTRITO',\n'CODIGOEC','CODIGOES','CODIGO_MUNICIPIO','CODIGO_MUNICIPIO_NACIMIENTO','CODIGO_NUCLEO','CODIGO_PAIS',\n'CODIGO_POSTAL','CODIGO_PROVINCIA','CODIGO_PROVINCIA_NACIMIENTO','CODIGO_PSEUDOVIA','CODIGO_SECCION',\n'CODIGO_SUB_SECCION','CODIGO_TIPO_VIA','CODIGO_VIA','CONSULADO','DESCRIPCIONEC','DESCRIPCIONES','DESCRIPCION_NUCLEO',\n'DESCRIPCION_PSEUDOVIA','DESCRIPCION_TIPO_VIA','DESCRIPCION_VIA','DIGITO_CONTROL_NIE','DIRECCION_POSTAL',\n'EATIM','ESCALERA','FECHA_CARGA','FECHA_NACIMIENTO','GRADO_ESC','HM','IDENTIFICADOR','INDICADOR_CORREO',\n'INDICADOR_INHABILITADO','IVOTO','JUNTA_ZONA','KM','LETRA_DNI','LETRA_EXTRANJERO','MESA','MUNICIPIO_CERA',\n'NIE','NOMBRE_CONSULADO','NOMBRE_MUNICIPIO','NOMBRE_NORMALIZADO','NOMBRE_PAIS_CERA','NOMBRE_PROVINCIA',\n'NOMBRE_SIN_NORMALIZAR','NUMERO_ORDEN','NUMERO_VIA','PAIS_CERA','PAIS_NACION','PERIODO','PISO','PORTAL',\n'PRIMER_APELLIDO_NORMALIZADO','PRIMER_APELLIDO_SIN_NORMALIZAR','PROVINCIA_CERA','PUERTA','SEGUNDO_APELLIDO_NORMALIZADO',\n'SEGUNDO_APELLIDO_SIN_NORMALIZAR', 'SEXO', 'TIPO_IDENTIFICADOR')\n</code></pre>\n<p>Any help will be appreciate.\nThanks\nRegards,\nJose Pascual</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":1,"creation_date":1672209640,"post_id":74936943,"comment_id":132241597,"body_markdown":"can you add release SHA-1 or SHA-256 in your firebase","body":"can you add release SHA-1 or SHA-256 in your firebase"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672208914,"creation_date":1672208914,"question_id":74936943,"body_markdown":"Getting data null if creating a signed bundle. after checking in debug shrinkResources=false when I changed it to false same issue I faced \r\n\r\nproguard-rules.pro file\r\n\r\n```\r\n#-renamesourcefileattribute SourceFile\r\n-keepattributes Signature\r\n\r\n# This rule will properly ProGuard all the model classes in\r\n# the package com.yourcompany.models.\r\n# Modify this rule to fit the structure of your app.\r\n-keepclassmembers class com.yourcompany.models.** {\r\n  *;\r\n}\r\n```\r\n\r\nproject build.gradle\r\n\r\n```\r\n buildTypes {\r\n        debug {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            zipAlignEnabled true\r\n            shrinkResources true\r\n        }\r\n        release {\r\n            debuggable false\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            zipAlignEnabled true\r\n            shrinkResources true\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n    }\r\n```\r\n\r\nif shrink resources is &quot;true&quot; the DataSnapshot data not getting null","title":"Firebase realtime database data not get after create signed bundle in android","body":"<p>Getting data null if creating a signed bundle. after checking in debug shrinkResources=false when I changed it to false same issue I faced</p>\n<p>proguard-rules.pro file</p>\n<pre><code>#-renamesourcefileattribute SourceFile\n-keepattributes Signature\n\n# This rule will properly ProGuard all the model classes in\n# the package com.yourcompany.models.\n# Modify this rule to fit the structure of your app.\n-keepclassmembers class com.yourcompany.models.** {\n  *;\n}\n</code></pre>\n<p>project build.gradle</p>\n<pre><code> buildTypes {\n        debug {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            shrinkResources true\n        }\n        release {\n            debuggable false\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            zipAlignEnabled true\n            shrinkResources true\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_11\n            targetCompatibility JavaVersion.VERSION_11\n        }\n    }\n</code></pre>\n<p>if shrink resources is &quot;true&quot; the DataSnapshot data not getting null</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1439301,"reputation":2196,"user_id":1359923,"accept_rate":100,"display_name":"ametren"},"score":13,"creation_date":1340811676,"post_id":11229986,"comment_id":14751444,"body_markdown":"It is?  The answer is pretty straightforward.","body":"It is?  The answer is pretty straightforward."},{"owner":{"account_id":450119,"reputation":2794,"user_id":845279,"accept_rate":88,"display_name":"user845279"},"score":0,"creation_date":1340811780,"post_id":11229986,"comment_id":14751500,"body_markdown":"Did you notice he doesn&#39;t want a `char` value? And he knows how to do `substring()` but just wants a &quot;neater&quot; way. FYI, I can say that `substring()` is the neatest way.","body":"Did you notice he doesn&#39;t want a <code>char</code> value? And he knows how to do <code>substring()</code> but just wants a &quot;neater&quot; way. FYI, I can say that <code>substring()</code> is the neatest way."},{"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"score":3,"creation_date":1340812008,"post_id":11229986,"comment_id":14751639,"body_markdown":"@user845279 `Character.toString` fulfills all the necessary requirements and isn&#39;t messy at all.","body":"@user845279 <code>Character.toString</code> fulfills all the necessary requirements and isn&#39;t messy at all."},{"owner":{"account_id":450119,"reputation":2794,"user_id":845279,"accept_rate":88,"display_name":"user845279"},"score":0,"creation_date":1340812127,"post_id":11229986,"comment_id":14751693,"body_markdown":"@pythonscript I agree, but it isn&#39;t much different from using `substring()` directly.","body":"@pythonscript I agree, but it isn&#39;t much different from using <code>substring()</code> directly."},{"owner":{"account_id":1205526,"reputation":13619,"user_id":1175276,"accept_rate":93,"display_name":"Bluefire"},"score":0,"creation_date":1340812767,"post_id":11229986,"comment_id":14752023,"body_markdown":"@user845279 - substring has the syntax `substring(index, index + 1)`. I&#39;d like to avoid the &quot;index + 1&quot; bit.","body":"@user845279 - substring has the syntax <code>substring(index, index + 1)</code>. I&#39;d like to avoid the &quot;index + 1&quot; bit."},{"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"score":0,"creation_date":1340812916,"post_id":11229986,"comment_id":14752096,"body_markdown":"@Bluefire If that&#39;s what you&#39;re trying to avoid, my answer should solve that. `substring` isn&#39;t ideal because if you want the last letter in the string, you can&#39;t use `index + 1` because it will throw an exception.","body":"@Bluefire If that&#39;s what you&#39;re trying to avoid, my answer should solve that. <code>substring</code> isn&#39;t ideal because if you want the last letter in the string, you can&#39;t use <code>index + 1</code> because it will throw an exception."},{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":1,"creation_date":1431571704,"post_id":11229986,"comment_id":48560456,"body_markdown":"I&#39;m late to this party, but @RicardoAltamirano is a bit mistaken.  The `endIndex` (second parameter) of `String.substring(int, int)` is an **exclusive** index, and it _won&#39;t_ throw an exception for `index + 1` as long as `index &lt; length()` -- which is true even for the last character in the string.","body":"I&#39;m late to this party, but @RicardoAltamirano is a bit mistaken.  The <code>endIndex</code> (second parameter) of <code>String.substring(int, int)</code> is an <b>exclusive</b> index, and it <i>won&#39;t</i> throw an exception for <code>index + 1</code> as long as <code>index &lt; length()</code> -- which is true even for the last character in the string."}],"answers":[{"tags":[],"owner":{"account_id":1439301,"reputation":2196,"user_id":1359923,"accept_rate":100,"display_name":"ametren"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1340812320,"creation_date":1340811564,"answer_id":11230039,"question_id":11229986,"body_markdown":"You want `.charAt()`\r\n\r\n[Here&#39;s a tutorial][1]\r\n\r\n\r\n  [1]: http://www.homeandlearn.co.uk/java/charAt.html\r\n\r\n    &quot;mystring&quot;.charAt(2)\r\n\r\nreturns `s`\r\n\r\nIf you&#39;re hellbent on having a string there are a couple of ways to convert a char to a string:\r\n\r\n    String mychar = Character.toString(&quot;mystring&quot;.charAt(2));\r\n\r\nOr \r\n\r\n    String mychar = &quot;&quot;+&quot;mystring&quot;.charAt(2);\r\n\r\nOr even\r\n\r\n    String mychar = String.valueOf(&quot;mystring&quot;.charAt(2));\r\nFor example.","title":"Get string character by index","body":"<p>You want <code>.charAt()</code></p>\n\n<p><a href=\"http://www.homeandlearn.co.uk/java/charAt.html\" rel=\"noreferrer\">Here's a tutorial</a></p>\n\n<pre><code>\"mystring\".charAt(2)\n</code></pre>\n\n<p>returns <code>s</code></p>\n\n<p>If you're hellbent on having a string there are a couple of ways to convert a char to a string:</p>\n\n<pre><code>String mychar = Character.toString(\"mystring\".charAt(2));\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>String mychar = \"\"+\"mystring\".charAt(2);\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>String mychar = String.valueOf(\"mystring\".charAt(2));\n</code></pre>\n\n<p>For example.</p>\n"},{"tags":[],"owner":{"account_id":465669,"reputation":14770,"user_id":869912,"accept_rate":100,"display_name":"Ricardo Altamirano"},"down_vote_count":1,"up_vote_count":398,"is_accepted":true,"score":397,"last_activity_date":1550675801,"creation_date":1340811570,"answer_id":11230042,"question_id":11229986,"body_markdown":"The method you&#39;re looking for is `charAt`. Here&#39;s an example:\r\n\r\n    String text = &quot;foo&quot;;\r\n    char charAtZero = text.charAt(0);\r\n    System.out.println(charAtZero); // Prints f\r\n\r\nFor more information, see the [Java documentation on `String.charAt`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)). If you want another simple tutorial, [this one](https://www.tutorialspoint.com/java/java_string_charat.htm) or [this one](https://www.homeandlearn.co.uk/java/charAt.html).\r\n\r\nIf you don&#39;t want the result as a `char` data type, but rather as a string, you would use the `Character.toString` method:\r\n\r\n    String text = &quot;foo&quot;;\r\n    String letter = Character.toString(text.charAt(0));\r\n    System.out.println(letter); // Prints f\r\n\r\nIf you want more information on the `Character` class and the `toString` method, I pulled my info from [the documentation on Character.toString](https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#toString%28char%29).\r\n","title":"Get string character by index","body":"<p>The method you're looking for is <code>charAt</code>. Here's an example:</p>\n\n<pre><code>String text = \"foo\";\nchar charAtZero = text.charAt(0);\nSystem.out.println(charAtZero); // Prints f\n</code></pre>\n\n<p>For more information, see the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\" rel=\"noreferrer\">Java documentation on <code>String.charAt</code></a>. If you want another simple tutorial, <a href=\"https://www.tutorialspoint.com/java/java_string_charat.htm\" rel=\"noreferrer\">this one</a> or <a href=\"https://www.homeandlearn.co.uk/java/charAt.html\" rel=\"noreferrer\">this one</a>.</p>\n\n<p>If you don't want the result as a <code>char</code> data type, but rather as a string, you would use the <code>Character.toString</code> method:</p>\n\n<pre><code>String text = \"foo\";\nString letter = Character.toString(text.charAt(0));\nSystem.out.println(letter); // Prints f\n</code></pre>\n\n<p>If you want more information on the <code>Character</code> class and the <code>toString</code> method, I pulled my info from <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html#toString%28char%29\" rel=\"noreferrer\">the documentation on Character.toString</a>.</p>\n"},{"tags":[],"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1340811624,"creation_date":1340811624,"answer_id":11230056,"question_id":11229986,"body_markdown":"You&#39;re pretty stuck with `substring()`, given your requirements.  The standard way would be `charAt()`, but you said you won&#39;t accept a char data type.","title":"Get string character by index","body":"<p>You're pretty stuck with <code>substring()</code>, given your requirements.  The standard way would be <code>charAt()</code>, but you said you won't accept a char data type.</p>\n"},{"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518128451,"creation_date":1340811931,"answer_id":11230169,"question_id":11229986,"body_markdown":"You could use the [`String.charAt(int index)`][1] method result as the parameter for [String.valueOf(char c)][2]. \r\n\r\n    String.valueOf(myString.charAt(3)) // This will return a string of the character on the 3rd position.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#charAt(int)\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#valueOf(char)\r\n","title":"Get string character by index","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#charAt(int)\" rel=\"nofollow noreferrer\"><code>String.charAt(int index)</code></a> method result as the parameter for <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#valueOf(char)\" rel=\"nofollow noreferrer\">String.valueOf(char c)</a>. </p>\n\n<pre><code>String.valueOf(myString.charAt(3)) // This will return a string of the character on the 3rd position.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340811948,"creation_date":1340811948,"answer_id":11230175,"question_id":11229986,"body_markdown":"A hybrid approach combining `charAt` with your requirement of not getting  char could be\r\n\r\n    newstring = String.valueOf(&quot;foo&quot;.charAt(0));\r\n\r\nBut that&#39;s not really &quot;neater&quot; than `substring()` to be honest.\r\n","title":"Get string character by index","body":"<p>A hybrid approach combining <code>charAt</code> with your requirement of not getting  char could be</p>\n\n<pre><code>newstring = String.valueOf(\"foo\".charAt(0));\n</code></pre>\n\n<p>But that's not really \"neater\" than <code>substring()</code> to be honest.</p>\n"},{"tags":[],"owner":{"account_id":286256,"reputation":3511,"user_id":585422,"accept_rate":80,"display_name":"Aqif Hamid"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1518128493,"creation_date":1340812322,"answer_id":11230288,"question_id":11229986,"body_markdown":"It is as simple as:\r\n\r\n    String charIs = string.charAt(index) + &quot;&quot;;\r\n","title":"Get string character by index","body":"<p>It is as simple as:</p>\n\n<pre><code>String charIs = string.charAt(index) + \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6220863,"reputation":9,"user_id":4840537,"display_name":"Kadar Kabouya Kalo"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1431545235,"creation_date":1431542625,"answer_id":30222891,"question_id":11229986,"body_markdown":"Like this:\r\n\r\n    String a =&quot;hh1hhhhhhhh&quot;;\r\n    char s = a.charAt(3);","title":"Get string character by index","body":"<p>Like this:</p>\n\n<pre><code>String a =\"hh1hhhhhhhh\";\nchar s = a.charAt(3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2742496,"reputation":50496,"user_id":2363712,"accept_rate":50,"display_name":"Sylvain Leroux"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1518128694,"creation_date":1446936001,"answer_id":33588633,"question_id":11229986,"body_markdown":"None of the proposed answers works for surrogate pairs used to encode characters outside of the [Unicode Basic Multiligual Plane][1].\r\n\r\nHere is an example using three different techniques to iterate over the &quot;characters&quot; of a string (incl. using Java 8 stream API). Please notice this example includes characters of the Unicode Supplementary Multilingual Plane (SMP). You need a proper font to display this example and the result correctly.\r\n\r\n    // String containing characters of the Unicode \r\n    // Supplementary Multilingual Plane (SMP)\r\n    // In that particular case, hieroglyphs.\r\n    String str = &quot;The quick brown &#78053; jumps over the lazy &#78467;&#78719;&#78163;&#78049;&quot;;\r\n\r\nIterate of chars\r\n================\r\nThe first solution is a simple loop over all `char` of the string:\r\n\r\n    /* 1 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing char iterator (do not work for surrogate pairs !)&quot;);\r\n    for (int pos = 0; pos &lt; str.length(); ++pos) {\r\n        char c = str.charAt(pos);\r\n        System.out.printf(&quot;%s &quot;, Character.toString(c));\r\n        //                       ^^^^^^^^^^^^^^^^^^^^^\r\n        //                   Convert to String as per OP request\r\n    }\r\n\r\nIterate of code points\r\n======================\r\nThe second solution uses an explicit loop too, but accessing individual \r\ncode points with [codePointAt][2] and incrementing the loop index accordingly to [charCount][3]:\r\n\r\n    /* 2 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing Java 1.5 codePointAt(works as expected)&quot;);\r\n    for (int pos = 0; pos &lt; str.length();) {\r\n        int cp = str.codePointAt(pos);\r\n\r\n        char    chars[] = Character.toChars(cp);\r\n        //                ^^^^^^^^^^^^^^^^^^^^^\r\n        //               Convert to a `char[]`\r\n        //               as code points outside the Unicode BMP\r\n        //               will map to more than one Java `char`\r\n        System.out.printf(&quot;%s &quot;, new String(chars));\r\n        //                       ^^^^^^^^^^^^^^^^^\r\n        //               Convert to String as per OP request\r\n        \r\n        pos += Character.charCount(cp);\r\n        //     ^^^^^^^^^^^^^^^^^^^^^^^\r\n        //    Increment pos by 1 of more depending\r\n        //    the number of Java `char` required to\r\n        //    encode that particular codepoint.\r\n    }\r\n\r\nIterate over code points using the Stream API\r\n=============================================\r\nThe third solution is basically the same as the second, but using the [Java 8 Stream API][4]:\r\n\r\n    /* 3 */\r\n    System.out.println(\r\n            &quot;\\n\\nUsing Java 8 stream (works as expected)&quot;);\r\n    str.codePoints().forEach(\r\n        cp -&gt; {\r\n            char    chars[] = Character.toChars(cp);\r\n            //                ^^^^^^^^^^^^^^^^^^^^^\r\n            //               Convert to a `char[]`\r\n            //               as code points outside the Unicode BMP\r\n            //               will map to more than one Java `char`\r\n            System.out.printf(&quot;%s &quot;, new String(chars));\r\n            //                       ^^^^^^^^^^^^^^^^^\r\n            //               Convert to String as per OP request\r\n        });\r\n\r\nResults\r\n=======\r\nWhen you run that test program, you obtain:\r\n\r\n    Using char iterator (do not work for surrogate pairs !)\r\n    T h e   q u i c k   b r o w n   ? ?   j u m p s   o v e r   t h e   l a z y   ? ? ? ? ? ? ? ? \r\n    \r\n    Using Java 1.5 codePointAt(works as expected)\r\n    T h e   q u i c k   b r o w n   &#78053;   j u m p s   o v e r   t h e   l a z y   &#78467; &#78719; &#78163; &#78049; \r\n    \r\n    Using Java 8 stream (works as expected)\r\n    T h e   q u i c k   b r o w n   &#78053;   j u m p s   o v e r   t h e   l a z y   &#78467; &#78719; &#78163; &#78049; \r\n\r\nAs you can see (if you&#39;re able to display hieroglyphs properly), the first solution does not handle properly characters outside of the Unicode BMP. On the other hand, the other two solutions deal well with surrogate pairs.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#charCount-int-\r\n  [4]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\r\n\r\n\r\n","title":"Get string character by index","body":"<p>None of the proposed answers works for surrogate pairs used to encode characters outside of the <a href=\"https://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane\" rel=\"noreferrer\">Unicode Basic Multiligual Plane</a>.</p>\n\n<p>Here is an example using three different techniques to iterate over the \"characters\" of a string (incl. using Java 8 stream API). Please notice this example includes characters of the Unicode Supplementary Multilingual Plane (SMP). You need a proper font to display this example and the result correctly.</p>\n\n<pre><code>// String containing characters of the Unicode \n// Supplementary Multilingual Plane (SMP)\n// In that particular case, hieroglyphs.\nString str = \"The quick brown 𓃥 jumps over the lazy 𓊃𓍿𓅓𓃡\";\n</code></pre>\n\n<h1>Iterate of chars</h1>\n\n<p>The first solution is a simple loop over all <code>char</code> of the string:</p>\n\n<pre><code>/* 1 */\nSystem.out.println(\n        \"\\n\\nUsing char iterator (do not work for surrogate pairs !)\");\nfor (int pos = 0; pos &lt; str.length(); ++pos) {\n    char c = str.charAt(pos);\n    System.out.printf(\"%s \", Character.toString(c));\n    //                       ^^^^^^^^^^^^^^^^^^^^^\n    //                   Convert to String as per OP request\n}\n</code></pre>\n\n<h1>Iterate of code points</h1>\n\n<p>The second solution uses an explicit loop too, but accessing individual \ncode points with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#codePointAt-int-\" rel=\"noreferrer\">codePointAt</a> and incrementing the loop index accordingly to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#charCount-int-\" rel=\"noreferrer\">charCount</a>:</p>\n\n<pre><code>/* 2 */\nSystem.out.println(\n        \"\\n\\nUsing Java 1.5 codePointAt(works as expected)\");\nfor (int pos = 0; pos &lt; str.length();) {\n    int cp = str.codePointAt(pos);\n\n    char    chars[] = Character.toChars(cp);\n    //                ^^^^^^^^^^^^^^^^^^^^^\n    //               Convert to a `char[]`\n    //               as code points outside the Unicode BMP\n    //               will map to more than one Java `char`\n    System.out.printf(\"%s \", new String(chars));\n    //                       ^^^^^^^^^^^^^^^^^\n    //               Convert to String as per OP request\n\n    pos += Character.charCount(cp);\n    //     ^^^^^^^^^^^^^^^^^^^^^^^\n    //    Increment pos by 1 of more depending\n    //    the number of Java `char` required to\n    //    encode that particular codepoint.\n}\n</code></pre>\n\n<h1>Iterate over code points using the Stream API</h1>\n\n<p>The third solution is basically the same as the second, but using the <a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"noreferrer\">Java 8 Stream API</a>:</p>\n\n<pre><code>/* 3 */\nSystem.out.println(\n        \"\\n\\nUsing Java 8 stream (works as expected)\");\nstr.codePoints().forEach(\n    cp -&gt; {\n        char    chars[] = Character.toChars(cp);\n        //                ^^^^^^^^^^^^^^^^^^^^^\n        //               Convert to a `char[]`\n        //               as code points outside the Unicode BMP\n        //               will map to more than one Java `char`\n        System.out.printf(\"%s \", new String(chars));\n        //                       ^^^^^^^^^^^^^^^^^\n        //               Convert to String as per OP request\n    });\n</code></pre>\n\n<h1>Results</h1>\n\n<p>When you run that test program, you obtain:</p>\n\n<pre><code>Using char iterator (do not work for surrogate pairs !)\nT h e   q u i c k   b r o w n   ? ?   j u m p s   o v e r   t h e   l a z y   ? ? ? ? ? ? ? ? \n\nUsing Java 1.5 codePointAt(works as expected)\nT h e   q u i c k   b r o w n   𓃥   j u m p s   o v e r   t h e   l a z y   𓊃 𓍿 𓅓 𓃡 \n\nUsing Java 8 stream (works as expected)\nT h e   q u i c k   b r o w n   𓃥   j u m p s   o v e r   t h e   l a z y   𓊃 𓍿 𓅓 𓃡 \n</code></pre>\n\n<p>As you can see (if you're able to display hieroglyphs properly), the first solution does not handle properly characters outside of the Unicode BMP. On the other hand, the other two solutions deal well with surrogate pairs.</p>\n"},{"tags":[],"owner":{"account_id":7251953,"reputation":91,"user_id":5531893,"accept_rate":25,"display_name":"silversk8terz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1518128786,"creation_date":1448124675,"answer_id":33845989,"question_id":11229986,"body_markdown":"Here&#39;s the correct code. If you&#39;re using zybooks this will answer all the problems.\r\n\r\n    for (int i = 0; i&lt;passCode.length(); i++)\r\n    {\r\n        char letter = passCode.charAt(i);\r\n        if (letter == &#39; &#39; )\r\n        {\r\n            System.out.println(&quot;Space at &quot; + i);\r\n        }\r\n    }\r\n","title":"Get string character by index","body":"<p>Here's the correct code. If you're using zybooks this will answer all the problems.</p>\n\n<pre><code>for (int i = 0; i&lt;passCode.length(); i++)\n{\n    char letter = passCode.charAt(i);\n    if (letter == ' ' )\n    {\n        System.out.println(\"Space at \" + i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12256069,"reputation":710,"user_id":8945078,"display_name":"Thiago Silva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564405979,"creation_date":1564405979,"answer_id":57254660,"question_id":11229986,"body_markdown":"if someone is strugling with kotlin, the code is:\r\n\r\n    var oldStr: String = &quot;kotlin&quot;\r\n    var firstChar: String = oldStr.elementAt(0).toString()\r\n    Log.d(&quot;firstChar&quot;, firstChar.toString())\r\n\r\nthis will return the char in position 1, in this case k\r\nremember, the index starts in position 0, so in this sample:\r\nkotlin would be k=position 0, o=position 1, t=position 2, l=position 3, i=position 4 and n=position 5\r\n\r\n ","title":"Get string character by index","body":"<p>if someone is strugling with kotlin, the code is:</p>\n\n<pre><code>var oldStr: String = \"kotlin\"\nvar firstChar: String = oldStr.elementAt(0).toString()\nLog.d(\"firstChar\", firstChar.toString())\n</code></pre>\n\n<p>this will return the char in position 1, in this case k\nremember, the index starts in position 0, so in this sample:\nkotlin would be k=position 0, o=position 1, t=position 2, l=position 3, i=position 4 and n=position 5</p>\n"},{"tags":[],"owner":{"account_id":973884,"reputation":1114,"user_id":2072202,"accept_rate":50,"display_name":"Ababneh A"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598544313,"creation_date":1598544313,"answer_id":63619990,"question_id":11229986,"body_markdown":"CodePointAt instead of charAt is safer to use. charAt may break when there are emojis in the strtng.","title":"Get string character by index","body":"<p>CodePointAt instead of charAt is safer to use. charAt may break when there are emojis in the strtng.</p>\n"},{"tags":[],"owner":{"account_id":19777185,"reputation":19,"user_id":14482880,"display_name":"uzairshahid901"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642756978,"creation_date":1612878680,"answer_id":66120324,"question_id":11229986,"body_markdown":"CharAt function not working \r\n\r\n    Edittext.setText(YourString.toCharArray(),0,1);\r\n\r\nThis code working fine\r\n","title":"Get string character by index","body":"<p>CharAt function not working</p>\n<pre><code>Edittext.setText(YourString.toCharArray(),0,1);\n</code></pre>\n<p>This code working fine</p>\n"},{"tags":[],"owner":{"account_id":11243626,"reputation":595,"user_id":8282586,"accept_rate":69,"display_name":"Samiksha Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672208793,"creation_date":1672202065,"answer_id":74936277,"question_id":11229986,"body_markdown":"I come across this question yeasterday and I am aware this has accepted answer, just want to add one more solution to this in **javascript** scenario which can help people like me who are looking for this   - \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let name = &#39;Test&#39;\r\n    console.log(name[2])\r\n\r\n    // Here at index 2 we have &#39;s&#39; value and this will simply give the expected output\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Get string character by index","body":"<p>I come across this question yeasterday and I am aware this has accepted answer, just want to add one more solution to this in <strong>javascript</strong> scenario which can help people like me who are looking for this   -</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let name = 'Test'\nconsole.log(name[2])\n\n// Here at index 2 we have 's' value and this will simply give the expected output</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1205526,"reputation":13619,"user_id":1175276,"accept_rate":93,"display_name":"Bluefire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118913,"favorite_count":0,"down_vote_count":0,"up_vote_count":282,"accepted_answer_id":11230042,"answer_count":13,"score":282,"last_activity_date":1672208793,"creation_date":1340811431,"question_id":11229986,"body_markdown":"I know how to work out the index of a certain character or number in a string, but is there any predefined method I can use to give me the character at the *nth* position? So in the string &quot;foo&quot;, if I asked for the character with index 0 it would return &quot;f&quot;.\r\n\r\nNote - in the above question, by &quot;character&quot; I don&#39;t mean the char data type, but a letter or number in a string. The important thing here is that I don&#39;t receive a char when the method is invoked, but a string (of length 1). And I know about the substring() method, but I was wondering if there was a neater way.","title":"Get string character by index","body":"<p>I know how to work out the index of a certain character or number in a string, but is there any predefined method I can use to give me the character at the <em>nth</em> position? So in the string \"foo\", if I asked for the character with index 0 it would return \"f\".</p>\n\n<p>Note - in the above question, by \"character\" I don't mean the char data type, but a letter or number in a string. The important thing here is that I don't receive a char when the method is invoked, but a string (of length 1). And I know about the substring() method, but I was wondering if there was a neater way.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":0,"creation_date":1700689667,"post_id":74936189,"comment_id":136686962,"body_markdown":"Does this answer your question? [Inner classes as spring-data-repositories](https://stackoverflow.com/questions/23243793/inner-classes-as-spring-data-repositories)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23243793/inner-classes-as-spring-data-repositories\">Inner classes as spring-data-repositories</a>"}],"owner":{"account_id":14746282,"reputation":1132,"user_id":10649529,"display_name":"mikenlanggio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672208721,"creation_date":1672200981,"question_id":74936189,"body_markdown":"I&#39;m trying to make `JPA` repository work with a nested class, but it didn&#39;t, even I enabled `considerNestedRepositories` inside the `@EnableJpaRepositories`.  \r\nMy class like this one:\r\n```\r\nclass MyRepository{\r\n    interface RepositioryCustom{\r\n        void test()\r\n    }\r\n    interface DefaultRepository extends JPARepository&lt;..,...&gt;, RepositioryCustom{\r\n\r\n    }\r\n    class RepositioryCustomImpl : RepositoryCustom{\r\n\r\n        public void test(){\r\n            ...\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen I run the project, it throws exception like this:\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;MyRepository.DefaultRepository&#39; defined in MyRepository$DefaultRepository defined in @EnableJpaRepositories declared on MainProjectApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract MyRepository$RepositioryCustom.test(long)! No property test found for type XXX!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:886)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:790)\r\n\t... 34 more\r\n```\r\n\r\nWhat should I do now? Thank you","title":"Nested class doesn&#39;t work for JPA Repositories","body":"<p>I'm trying to make <code>JPA</code> repository work with a nested class, but it didn't, even I enabled <code>considerNestedRepositories</code> inside the <code>@EnableJpaRepositories</code>.<br />\nMy class like this one:</p>\n<pre><code>class MyRepository{\n    interface RepositioryCustom{\n        void test()\n    }\n    interface DefaultRepository extends JPARepository&lt;..,...&gt;, RepositioryCustom{\n\n    }\n    class RepositioryCustomImpl : RepositoryCustom{\n\n        public void test(){\n            ...\n        }\n\n    }\n}\n\n</code></pre>\n<p>When I run the project, it throws exception like this:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'MyRepository.DefaultRepository' defined in MyRepository$DefaultRepository defined in @EnableJpaRepositories declared on MainProjectApplication: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract MyRepository$RepositioryCustom.test(long)! No property test found for type XXX!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:886)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:790)\n    ... 34 more\n</code></pre>\n<p>What should I do now? Thank you</p>\n"},{"tags":["java","regex","spring","security","spring-security"],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":1,"up_vote_count":49,"is_accepted":true,"score":48,"last_activity_date":1419533298,"creation_date":1419533298,"answer_id":27649847,"question_id":27649649,"body_markdown":"This works for me:\r\n\r\n    antMatchers(&quot;/account/{\\\\d+}/download&quot;).access(&quot;hasAnyAuthority(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n\r\nNotice the curly braces around the path variable representing the ID.","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>This works for me:</p>\n\n<pre><code>antMatchers(\"/account/{\\\\d+}/download\").access(\"hasAnyAuthority('ROLE_TOKENSAVED')\")\n</code></pre>\n\n<p>Notice the curly braces around the path variable representing the ID.</p>\n"},{"tags":[],"owner":{"account_id":8123333,"reputation":211,"user_id":6119219,"display_name":"LethalLima"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1586406104,"creation_date":1478200583,"answer_id":40409551,"question_id":27649649,"body_markdown":"Though what Bohuslav suggest works, it is not complete. According to the documentation for AntPathMarcher:\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\r\n\r\nYou need to specify the path variable with the regex:\r\n\r\n```{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;```\r\n\r\nIf you don&#39;t, you may expose other routes. For example:\r\n\r\n```http\r\n    .authorizeRequests()\r\n        .antMatchers(HttpMethod.GET, &quot;/users/{^[\\\\d]$}&quot;).authenticated()\r\n        .antMatchers(&quot;/users/**&quot;).hasAuthority(&quot;admin&quot;)\r\n```\r\n\r\nand these methods on a UserController:\r\n\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/users/{userId}&quot;, method = RequestMethod.GET)\r\n    public User getUser(@PathVariable(&quot;userId&quot;) Object id) {\r\n        return userService.getUserById(userId);\r\n    }\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/users/roles&quot;, method = RequestMethod.GET)\r\n    public List&lt;String&gt; getAllRoles() {\r\n        return userService.getAllRoles();\r\n    }\r\n\r\nBecause you didn&#39;t specify path variable, ```userId```, users will be able to do a GET request on &quot;/users/roles&quot; without having the admin authority. Also other futures routes like &quot;/users/test&quot; will also be exposed even if admin authorization is required. To prevent that:\r\n\r\n```\r\nantMatchers(&quot;/account/{accountId:\\\\d+}/download&quot;)\r\n       .access(&quot;hasAnyAuthority(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n```\r\n\r\nif your path variable&#39;s name was &quot;accountId&quot;\r\n","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>Though what Bohuslav suggest works, it is not complete. According to the documentation for AntPathMarcher:\n<a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html</a></p>\n\n<p>You need to specify the path variable with the regex:</p>\n\n<p><code>{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named \"spring\"</code></p>\n\n<p>If you don't, you may expose other routes. For example:</p>\n\n<pre><code>    .authorizeRequests()\n        .antMatchers(HttpMethod.GET, \"/users/{^[\\\\d]$}\").authenticated()\n        .antMatchers(\"/users/**\").hasAuthority(\"admin\")\n</code></pre>\n\n<p>and these methods on a UserController:</p>\n\n<pre><code>@ResponseBody\n@RequestMapping(value = \"/users/{userId}\", method = RequestMethod.GET)\npublic User getUser(@PathVariable(\"userId\") Object id) {\n    return userService.getUserById(userId);\n}\n\n@ResponseBody\n@RequestMapping(value = \"/users/roles\", method = RequestMethod.GET)\npublic List&lt;String&gt; getAllRoles() {\n    return userService.getAllRoles();\n}\n</code></pre>\n\n<p>Because you didn't specify path variable, <code>userId</code>, users will be able to do a GET request on \"/users/roles\" without having the admin authority. Also other futures routes like \"/users/test\" will also be exposed even if admin authorization is required. To prevent that:</p>\n\n<pre><code>antMatchers(\"/account/{accountId:\\\\d+}/download\")\n       .access(\"hasAnyAuthority('ROLE_TOKENSAVED')\")\n</code></pre>\n\n<p>if your path variable's name was \"accountId\"</p>\n"},{"tags":[],"owner":{"account_id":24832537,"reputation":1,"user_id":18711619,"display_name":"llsnpy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672208552,"creation_date":1672208552,"answer_id":74936906,"question_id":27649649,"body_markdown":"I think i had a similar problem and in ma case something like antMatchers(&quot;/items/{\\\\d+}) didn&#39;t work. But if i read antMatchers(&quot;/items/{d+}) (without //) is working.  ","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>I think i had a similar problem and in ma case something like antMatchers(&quot;/items/{\\d+}) didn't work. But if i read antMatchers(&quot;/items/{d+}) (without //) is working.</p>\n"}],"owner":{"account_id":3810607,"reputation":4104,"user_id":3161589,"accept_rate":50,"display_name":"azalut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60138,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":27649847,"answer_count":3,"score":43,"last_activity_date":1672208552,"creation_date":1419531556,"question_id":27649649,"body_markdown":"I was looking for the answer for a long time but couldnt find anything productive\r\n\r\nIn my rest service I keep some functionality under: /account/{id}/download and I would like to set the acces ROLE in SecurityConfig java file, that only ROLE_TOKENSAVED users can access this url\r\n\r\nHow should the pattern look like, when {id} is changeable? \r\n\r\nI tried some regexp patterns, but nothing worked as I wanted, here are some of my attempts:\r\n\r\n    1. antMatchers(&quot;account/**/download&quot;).access(somerolehere)\r\n    2. antMatchers(&quot;account/\\\\d/download&quot;).access(somerolehere)\r\n    3. antMatchers(&quot;account/[\\\\d]/download&quot;).access(somerolehere)\r\n\r\nthanks in advance for your anserwers :)\r\n\r\n\r\nedit:\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {            \r\n            http.authorizeRequests()\r\n                    .antMatchers(&quot;/admin**&quot;).access(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n                    .antMatchers(&quot;/account*//**&quot;).access(&quot;hasRole(&#39;ROLE_USER&#39;) or hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n                    .antMatchers(&quot;/account/\\\\d+/download&quot;).access(&quot;hasRole(&#39;ROLE_TOKENSAVED&#39;)&quot;)\r\n                    .antMatchers(&quot;/user**&quot;).permitAll()\r\n                    //othercode...\r\n        }","title":"antMatchers Spring Security pattern with changeable URL user ID","body":"<p>I was looking for the answer for a long time but couldnt find anything productive</p>\n\n<p>In my rest service I keep some functionality under: /account/{id}/download and I would like to set the acces ROLE in SecurityConfig java file, that only ROLE_TOKENSAVED users can access this url</p>\n\n<p>How should the pattern look like, when {id} is changeable? </p>\n\n<p>I tried some regexp patterns, but nothing worked as I wanted, here are some of my attempts:</p>\n\n<pre><code>1. antMatchers(\"account/**/download\").access(somerolehere)\n2. antMatchers(\"account/\\\\d/download\").access(somerolehere)\n3. antMatchers(\"account/[\\\\d]/download\").access(somerolehere)\n</code></pre>\n\n<p>thanks in advance for your anserwers :)</p>\n\n<p>edit:</p>\n\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {            \n        http.authorizeRequests()\n                .antMatchers(\"/admin**\").access(\"hasRole('ROLE_ADMIN')\")\n                .antMatchers(\"/account*//**\").access(\"hasRole('ROLE_USER') or hasRole('ROLE_ADMIN')\")\n                .antMatchers(\"/account/\\\\d+/download\").access(\"hasRole('ROLE_TOKENSAVED')\")\n                .antMatchers(\"/user**\").permitAll()\n                //othercode...\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","soap","xml-parsing"],"owner":{"account_id":27370827,"reputation":11,"user_id":20876892,"display_name":"SAURABH NANDY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672206601,"creation_date":1672206601,"question_id":74936690,"body_markdown":"I have a piece of code that is trying to create a new Soap message and adding a fault document in it. \r\n\r\n```\r\npublic static SOAPMessage getMessage() throws SOAPException {\r\n    SOAPMessage message = newSoapMessage((XmlObject) null);\r\n    SOAPBody respBody = message.getSOAPBody();\r\n    respBody.addDocument(newFaultDocument(&quot;soap:Server&quot;,&quot;faultText&quot;));\r\n    message.saveChanges();\r\n    return message;\r\n}\r\n\r\npublic static Document newFaultDocument(String faultCode, String faultString) {\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    factory.setNamespaceAware(true);\r\n    try {\r\n        Document doc = factory.newDocumentBuilder().newDocument();\r\n        Element fault = doc.createElementNS(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, &quot;Fault:abc&quot;);\r\n        doc.appendChild(fault);\r\n\r\n        Element faultCodeElement = doc.createElement(&quot;faultcode&quot;);\r\n        faultCodeElement.setTextContent(StringEscapeUtils.escapeXml(faultCode));\r\n        fault.appendChild(faultCodeElement);\r\n\r\n        Element faultStringElement = doc.createElement(&quot;faultstring&quot;);\r\n        faultStringElement.setTextContent(StringEscapeUtils.escapeXml(faultString));\r\n        fault.appendChild(faultStringElement);\r\n\r\n        return doc;\r\n    } catch (ParserConfigurationException e) {\r\n        throw new IllegalStateException(&quot;Unexpected exception while creating Fault document&quot;, e);\r\n    }\r\n}\r\n\r\npublic static &lt;T extends XmlObject&gt; SOAPMessage newSoapMessage(T soapBody) {\r\n    try {\r\n        MessageFactory mf = MessageFactory.newInstance();\r\n        SOAPMessage message = mf.createMessage();\r\n        SOAPBody respBody = message.getSOAPBody();\r\n\r\n        if (soapBody != null) {\r\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            respBody.addDocument(factory.newDocumentBuilder().parse(soapBody.newInputStream()));\r\n            message.saveChanges();\r\n        }\r\n\r\n        return message;\r\n    } catch (RuntimeException e) {\r\n        throw e;\r\n    } catch (Exception e) {\r\n        throw new IllegalStateException(&quot;Unexpected exception while creating SOAP message&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nI am calling the getMessage() function to get the document but it fails with the following stacktrace\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: local part cannot be &quot;null&quot; when creating a QName\r\n\tat javax.xml.namespace.QName.&lt;init&gt;(QName.java:244)\r\n\tat javax.xml.namespace.QName.&lt;init&gt;(QName.java:188)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.ElementImpl.&lt;init&gt;(ElementImpl.java:156)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.ElementFactory.createElement(ElementFactory.java:119)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:230)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\r\n\tat com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.importNode(SOAPDocumentImpl.java:217)\r\n\tat com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:259)\r\n\tat com.example.demo.Demo1Application.getMessage(Demo1Application.java:29)\r\n\tat com.example.demo.Demo1Application.main(Demo1Application.java:23)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\n\r\nI tried figuring out how the local part is to be set in QName but couldn&#39;t figure out where and how it is to be done. Any help will be highly appreciated. ","title":"Error while creating a SOAP document: IllegalArgumentException saying local part cannot be &quot;null&quot; when creating a QName","body":"<p>I have a piece of code that is trying to create a new Soap message and adding a fault document in it.</p>\n<pre><code>public static SOAPMessage getMessage() throws SOAPException {\n    SOAPMessage message = newSoapMessage((XmlObject) null);\n    SOAPBody respBody = message.getSOAPBody();\n    respBody.addDocument(newFaultDocument(&quot;soap:Server&quot;,&quot;faultText&quot;));\n    message.saveChanges();\n    return message;\n}\n\npublic static Document newFaultDocument(String faultCode, String faultString) {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    try {\n        Document doc = factory.newDocumentBuilder().newDocument();\n        Element fault = doc.createElementNS(&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;, &quot;Fault:abc&quot;);\n        doc.appendChild(fault);\n\n        Element faultCodeElement = doc.createElement(&quot;faultcode&quot;);\n        faultCodeElement.setTextContent(StringEscapeUtils.escapeXml(faultCode));\n        fault.appendChild(faultCodeElement);\n\n        Element faultStringElement = doc.createElement(&quot;faultstring&quot;);\n        faultStringElement.setTextContent(StringEscapeUtils.escapeXml(faultString));\n        fault.appendChild(faultStringElement);\n\n        return doc;\n    } catch (ParserConfigurationException e) {\n        throw new IllegalStateException(&quot;Unexpected exception while creating Fault document&quot;, e);\n    }\n}\n\npublic static &lt;T extends XmlObject&gt; SOAPMessage newSoapMessage(T soapBody) {\n    try {\n        MessageFactory mf = MessageFactory.newInstance();\n        SOAPMessage message = mf.createMessage();\n        SOAPBody respBody = message.getSOAPBody();\n\n        if (soapBody != null) {\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            factory.setNamespaceAware(true);\n            respBody.addDocument(factory.newDocumentBuilder().parse(soapBody.newInputStream()));\n            message.saveChanges();\n        }\n\n        return message;\n    } catch (RuntimeException e) {\n        throw e;\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;Unexpected exception while creating SOAP message&quot;, e);\n    }\n}\n</code></pre>\n<p>I am calling the getMessage() function to get the document but it fails with the following stacktrace</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: local part cannot be &quot;null&quot; when creating a QName\n    at javax.xml.namespace.QName.&lt;init&gt;(QName.java:244)\n    at javax.xml.namespace.QName.&lt;init&gt;(QName.java:188)\n    at com.sun.xml.messaging.saaj.soap.impl.ElementImpl.&lt;init&gt;(ElementImpl.java:156)\n    at com.sun.xml.messaging.saaj.soap.impl.ElementFactory.createElement(ElementFactory.java:119)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:230)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.registerChildNodes(SOAPDocumentImpl.java:251)\n    at com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl.importNode(SOAPDocumentImpl.java:217)\n    at com.sun.xml.messaging.saaj.soap.impl.BodyImpl.addDocument(BodyImpl.java:259)\n    at com.example.demo.Demo1Application.getMessage(Demo1Application.java:29)\n    at com.example.demo.Demo1Application.main(Demo1Application.java:23)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I tried figuring out how the local part is to be set in QName but couldn't figure out where and how it is to be done. Any help will be highly appreciated.</p>\n"},{"tags":["java","arrays","compiler-errors","transpose"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672206723,"post_id":74936675,"comment_id":132241120,"body_markdown":"`long transpose[][] = new long [r][c];` -&gt; `long transpose[][] = new long [c][r];`","body":"<code>long transpose[][] = new long [r][c];</code> -&gt; <code>long transpose[][] = new long [c][r];</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672206809,"post_id":74936675,"comment_id":132241130,"body_markdown":"`transpose[i][j] = a[j][i];` -&gt; `transpose[j][i] = a[i][j];`","body":"<code>transpose[i][j] = a[j][i];</code> -&gt; <code>transpose[j][i] = a[i][j];</code>"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1672207001,"post_id":74936675,"comment_id":132241158,"body_markdown":"There&#39;s no need for the `temp` variable.","body":"There&#39;s no need for the <code>temp</code> variable."},{"owner":{"account_id":27370835,"reputation":1,"user_id":20876900,"display_name":"akshay patel"},"score":0,"creation_date":1672294685,"post_id":74936675,"comment_id":132260186,"body_markdown":"thx bruh you solved my problrm !!","body":"thx bruh you solved my problrm !!"}],"owner":{"account_id":27370835,"reputation":1,"user_id":20876900,"display_name":"akshay patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672206467,"creation_date":1672206467,"question_id":74936675,"body_markdown":"i have written a code to transpose an aray it works when i took small arrays dimensions like 3*3 but when i took array size 4*5 it gives me array out of bound error.i am a beginner.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\npublic class Transpose {\r\n    public static void main(String[] args){\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;enter rows and cols: &quot;);\r\n        int r = sc.nextInt();\r\n        int c = sc.nextInt();\r\n        long a[][] = new long [r][c];\r\n        long transpose[][] = new long [r][c];\r\n\r\n        System.out.print(&quot;enter&quot;+&quot; &quot; +r*c+&quot; &quot;+&quot;elements&quot;);\r\n        for(int i =0; i &lt; a.length; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                a[i][j] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for(int i =0; i &lt; a.length; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                System.out.print(&quot; &quot;+a[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n\r\n        for(int i = 0; i &lt; a.length ; i++){\r\n            for(int j = 0; j &lt; a[i].length; j++){\r\n                long temp = a[i][j];\r\n                transpose[i][j] = a[j][i];\r\n                a[i][j] = temp;\r\n            }\r\n        }\r\n\r\n        System.out.println();\r\n        for(int i =0; i &lt; transpose.length; i++){\r\n            for(int j = 0; j &lt; transpose[i].length; j++){\r\n                System.out.print(&quot; &quot;+transpose[i][j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"getting problem in transposing an 2D array","body":"<p>i have written a code to transpose an aray it works when i took small arrays dimensions like 3<em>3 but when i took array size 4</em>5 it gives me array out of bound error.i am a beginner.</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\npublic class Transpose {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;enter rows and cols: &quot;);\n        int r = sc.nextInt();\n        int c = sc.nextInt();\n        long a[][] = new long [r][c];\n        long transpose[][] = new long [r][c];\n\n        System.out.print(&quot;enter&quot;+&quot; &quot; +r*c+&quot; &quot;+&quot;elements&quot;);\n        for(int i =0; i &lt; a.length; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                a[i][j] = sc.nextInt();\n            }\n        }\n\n        for(int i =0; i &lt; a.length; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                System.out.print(&quot; &quot;+a[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n\n        for(int i = 0; i &lt; a.length ; i++){\n            for(int j = 0; j &lt; a[i].length; j++){\n                long temp = a[i][j];\n                transpose[i][j] = a[j][i];\n                a[i][j] = temp;\n            }\n        }\n\n        System.out.println();\n        for(int i =0; i &lt; transpose.length; i++){\n            for(int j = 0; j &lt; transpose[i].length; j++){\n                System.out.print(&quot; &quot;+transpose[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","junit5","spring-test"],"answers":[{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672205698,"creation_date":1672129711,"answer_id":74927126,"question_id":74925809,"body_markdown":"In your example, you want to mock a method within the same class. But this is not possible in the way you did. You create a real object using `@InjectMocks`. You need to use `Mockito.spy()` to partially mock this.\r\n\r\nIf you want to get the results you expect correctly and really mock your `findSetSize()` method, you should change your test method to follow:\r\n\r\n    @Test\r\n    @DisplayName(&quot;can get Set size&quot;)\r\n    void findSetSizeTest() {\r\n        //given\r\n        ListService spyService = spy(subject);\r\n        when(setRepository.getSize()).thenReturn(40);\r\n        doReturn(30).when(spyService).findSetSize();\r\n\r\n        //when\r\n        subject.saveToSet(100);\r\n\r\n        //then\r\n        System.out.println(setRepository.getSize());  // expected:40, result: 30\r\n        Assertions.assertEquals(30, spyService.findSetSize());\r\n    }\r\n\r\nHere you have to understand that mocking would work only when you call it on the instance of spy object. It&#39;s wrapped by a Mockito proxy which catches your call, and if you have overriden some method, it will call your new implementation instead of the original one. \r\n\r\nAlso the [documentation][1] related to spy says: \r\n\r\n&gt; You can create spies of real objects. When you use the spy then the real methods are called (unless a method was stubbed).\r\n\r\nYou can review the answers [here][2] and [here][3] regarding the differences between `when().thenReturn()` and `doReturn().when()`.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.10.0/org/mockito/Mockito.html#13\r\n  [2]: https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\r\n  [3]: https://stackoverflow.com/questions/11462697/forming-mockito-grammars","title":"Why values ​are overwritten when stubbing in Junit5?","body":"<p>In your example, you want to mock a method within the same class. But this is not possible in the way you did. You create a real object using <code>@InjectMocks</code>. You need to use <code>Mockito.spy()</code> to partially mock this.</p>\n<p>If you want to get the results you expect correctly and really mock your <code>findSetSize()</code> method, you should change your test method to follow:</p>\n<pre><code>@Test\n@DisplayName(&quot;can get Set size&quot;)\nvoid findSetSizeTest() {\n    //given\n    ListService spyService = spy(subject);\n    when(setRepository.getSize()).thenReturn(40);\n    doReturn(30).when(spyService).findSetSize();\n\n    //when\n    subject.saveToSet(100);\n\n    //then\n    System.out.println(setRepository.getSize());  // expected:40, result: 30\n    Assertions.assertEquals(30, spyService.findSetSize());\n}\n</code></pre>\n<p>Here you have to understand that mocking would work only when you call it on the instance of spy object. It's wrapped by a Mockito proxy which catches your call, and if you have overriden some method, it will call your new implementation instead of the original one.</p>\n<p>Also the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.10.0/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">documentation</a> related to spy says:</p>\n<blockquote>\n<p>You can create spies of real objects. When you use the spy then the real methods are called (unless a method was stubbed).</p>\n</blockquote>\n<p>You can review the answers <a href=\"https://stackoverflow.com/questions/20353846/mockito-difference-between-doreturn-and-when\">here</a> and <a href=\"https://stackoverflow.com/questions/11462697/forming-mockito-grammars\">here</a> regarding the differences between <code>when().thenReturn()</code> and <code>doReturn().when()</code>.</p>\n"}],"owner":{"account_id":24523516,"reputation":139,"user_id":18436221,"display_name":"rabong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672205698,"creation_date":1672116797,"question_id":74925809,"body_markdown":"I&#39;m using **Junit5** for test my spring code. \r\n\r\nIn the test code, I mock SetRepository, to make the getSize() method return value 40. Then I stubbed ListService&#39;s findSetSize() method and made it return value 30.\r\n\r\nThen print the getSize() method value. Expected 40, but 30 printed.\r\n\r\nIt looks likegetSize() was overwritten while stubbing, but I&#39;d like to know why.\r\n\r\n\r\n```\r\n// ListService.java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class ListService {\r\n\r\n\tprivate final SetRepository setRepository;\r\n\r\n\tpublic int findSetSize() {\r\n\t\tint size = setRepository.getSize();\r\n\t\tSystem.out.println(size);  // first result: 40, second result: 30\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic void saveToSet(int num) {\r\n\t\tsetRepository.saveNum(num);\r\n\t}\r\n\r\n}\r\n\r\n// SetRepository.java\r\n@Component\r\npublic class SetRepository {\r\n\r\n\tSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n\r\n\tpublic int getSize() {\r\n\t\treturn set.size();\r\n\t}\r\n\r\n\tpublic void saveNum(int num) {\r\n\t\tset.add(num);\r\n\t}\r\n}\r\n\r\n// Test code for ListService\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ListServiceWithMockTest {\r\n\r\n\t@InjectMocks\r\n    @Spy\r\n\tListService subject;\r\n\r\n\r\n\t@Mock\r\n\tSetRepository setRepository;\r\n\r\n\t@Test\r\n\t@DisplayName(&quot;can get Set size&quot;)\r\n\tpublic void findSetSizeTest() {\r\n\t\t//given\r\n\t\twhen(setRepository.getSize()).thenReturn(40);\r\n\t\twhen(subject.findSetSize()).thenReturn(30);\r\n\r\n\t\t//when\r\n\t\tsubject.saveToSet(100);\r\n\r\n\t\t//then\r\n\t\tSystem.out.println(setRepository.getSize());  // expected:40, result: 30\r\n\t\tassertEquals(30, subject.findSetSize());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is my code. I know I shouldn&#39;t do stubbing like this, but I&#39;m curious why the value comes out like this.\r\nThank U!!","title":"Why values ​are overwritten when stubbing in Junit5?","body":"<p>I'm using <strong>Junit5</strong> for test my spring code.</p>\n<p>In the test code, I mock SetRepository, to make the getSize() method return value 40. Then I stubbed ListService's findSetSize() method and made it return value 30.</p>\n<p>Then print the getSize() method value. Expected 40, but 30 printed.</p>\n<p>It looks likegetSize() was overwritten while stubbing, but I'd like to know why.</p>\n<pre><code>// ListService.java\n@Service\n@RequiredArgsConstructor\npublic class ListService {\n\n    private final SetRepository setRepository;\n\n    public int findSetSize() {\n        int size = setRepository.getSize();\n        System.out.println(size);  // first result: 40, second result: 30\n        return size;\n    }\n\n    public void saveToSet(int num) {\n        setRepository.saveNum(num);\n    }\n\n}\n\n// SetRepository.java\n@Component\npublic class SetRepository {\n\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n\n    public int getSize() {\n        return set.size();\n    }\n\n    public void saveNum(int num) {\n        set.add(num);\n    }\n}\n\n// Test code for ListService\n@ExtendWith(MockitoExtension.class)\npublic class ListServiceWithMockTest {\n\n    @InjectMocks\n    @Spy\n    ListService subject;\n\n\n    @Mock\n    SetRepository setRepository;\n\n    @Test\n    @DisplayName(&quot;can get Set size&quot;)\n    public void findSetSizeTest() {\n        //given\n        when(setRepository.getSize()).thenReturn(40);\n        when(subject.findSetSize()).thenReturn(30);\n\n        //when\n        subject.saveToSet(100);\n\n        //then\n        System.out.println(setRepository.getSize());  // expected:40, result: 30\n        assertEquals(30, subject.findSetSize());\n    }\n\n}\n</code></pre>\n<p>Here is my code. I know I shouldn't do stubbing like this, but I'm curious why the value comes out like this.\nThank U!!</p>\n"},{"tags":["java","string","unicode","multilingual","word-count"],"comments":[{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":0,"creation_date":1368985127,"post_id":16637506,"comment_id":23926545,"body_markdown":"In the chinese(?) text is there a separator between the words?","body":"In the chinese(?) text is there a separator between the words?"},{"owner":{"account_id":1092631,"reputation":6930,"user_id":1086930,"accept_rate":80,"display_name":"jaibatrik"},"score":0,"creation_date":1368985203,"post_id":16637506,"comment_id":23926571,"body_markdown":"No there&#39;s no separator. I copied the exact strings.","body":"No there&#39;s no separator. I copied the exact strings."},{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":0,"creation_date":1368985389,"post_id":16637506,"comment_id":23926624,"body_markdown":"In that case I would attempt to find the language based on which unicode runes are used in the string. Then use that information to determine how the string should be parsed.","body":"In that case I would attempt to find the language based on which unicode runes are used in the string. Then use that information to determine how the string should be parsed."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1368987167,"post_id":16637506,"comment_id":23927154,"body_markdown":"You could `.trim()` the original string then count the number of spaces using `Character.isSpaceChar()` while looping over the string&#39;s `.toCharArray()`, unfortunately in the first example there are no spaces.","body":"You could <code>.trim()</code> the original string then count the number of spaces using <code>Character.isSpaceChar()</code> while looping over the string&#39;s <code>.toCharArray()</code>, unfortunately in the first example there are no spaces."},{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":0,"creation_date":1368987878,"post_id":16637506,"comment_id":23927350,"body_markdown":"The problem is that finding words in Chinese cannot be done by syntax.","body":"The problem is that finding words in Chinese cannot be done by syntax."},{"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"score":1,"creation_date":1368996200,"post_id":16637506,"comment_id":23929965,"body_markdown":"There are seven CHARACTERS in your string but I think there are fewer WORDS (see my answer) as some words are made up of several characters. Unless you know Chinese you can&#39;t assume 1 Character = 1 Word","body":"There are seven CHARACTERS in your string but I think there are fewer WORDS (see my answer) as some words are made up of several characters. Unless you know Chinese you can&#39;t assume 1 Character = 1 Word"}],"answers":[{"tags":[],"owner":{"account_id":1260153,"reputation":28291,"user_id":1596545,"accept_rate":99,"display_name":"flavian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368986151,"creation_date":1368985373,"answer_id":16637558,"question_id":16637506,"body_markdown":"**English version**\r\n\r\nFor the English version you can do with a rather simple Regex. I may have missed some custom separators but:\r\n\r\n    public static int getWordCount(String str) {\r\n    \treturn str.split(&quot;[\\\\s,;-]+&quot;).length;\r\n    }\r\n\r\n**Regex explanation:**\r\n\r\nSplit if find any in the group `[]`:\r\n\r\n    [\r\n    \\\\s Any whitespace character or\r\n    , A comma\r\n    ; or a semi-colon\r\n    ]\r\n    + Followed by any patterns in the group any number of times\r\n\r\n**Chinese version**\r\n\r\nFor the Chinese version, you need to identify what the separators are. If you get the Unicode char code of the Chinese separators and add them to the above regex, you will get the desired results.\r\n\r\n**Tests**\r\n\r\n    System.out.println(getWordCount(&quot;This is a sentence&quot;));// 4\r\n    System.out.println(getWordCount(&quot;This is a sentence&quot;)); // 4\r\n    System.out.println(getWordCount(&quot;This is a     ,,sentence&quot;)); // 4","title":"Get word count from a string in Unicode (in any language)","body":"<p><strong>English version</strong></p>\n\n<p>For the English version you can do with a rather simple Regex. I may have missed some custom separators but:</p>\n\n<pre><code>public static int getWordCount(String str) {\n    return str.split(\"[\\\\s,;-]+\").length;\n}\n</code></pre>\n\n<p><strong>Regex explanation:</strong></p>\n\n<p>Split if find any in the group <code>[]</code>:</p>\n\n<pre><code>[\n\\\\s Any whitespace character or\n, A comma\n; or a semi-colon\n]\n+ Followed by any patterns in the group any number of times\n</code></pre>\n\n<p><strong>Chinese version</strong></p>\n\n<p>For the Chinese version, you need to identify what the separators are. If you get the Unicode char code of the Chinese separators and add them to the above regex, you will get the desired results.</p>\n\n<p><strong>Tests</strong></p>\n\n<pre><code>System.out.println(getWordCount(\"This is a sentence\"));// 4\nSystem.out.println(getWordCount(\"This is a sentence\")); // 4\nSystem.out.println(getWordCount(\"This is a     ,,sentence\")); // 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44586,"reputation":37547,"user_id":130964,"accept_rate":95,"display_name":"peter.murray.rust"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1368996111,"creation_date":1368986413,"answer_id":16637742,"question_id":16637506,"body_markdown":"The concept of &quot;word&quot; may be trivial or complex. Here is [Apache Stanbol][1] Toolkit:\r\n\r\n&gt; Word Tokenization: The detection of single words is required by the\r\n&gt; Stanbol Enhancer to process text. While this is trivial for most\r\n&gt; languages it is a rather complex task for some eastern languages, e.g.\r\n&gt; Chinese, Japanese, Korean. If not otherwise configured, Stanbol will\r\n&gt; use whitespaces to tokenize words.\r\n\r\nSo if the concept of word is linguistic, rather than syntactic, you should use a [NLP toolkit][2] \r\n\r\nMy preferred Java solution is [Apache&#39;s Open NLP][3] \r\n\r\nNOTE: \r\nI have used http://www.mdbg.net/chindict/chindict.php?page=worddict \r\nto tokenize your example. It implies there are 4 words not seven. I have cut and pasted (rather fragmented):\r\n\r\nOriginal Text\tSimplified\r\nPīnyīn\r\n\t\tEnglish definition Add a new word to the dictionary \tTraditional\r\nHSK\r\n供应商\t\r\n供应商\r\ngōng​y&#236;ng​shāng​\r\n\t\r\n\t\r\nsupplier\r\n\t\r\n供應商\r\n代\t\r\n代\r\nd&#224;i​\r\n\t\r\n\t\r\nto substitute / to act on behalf of others / to replace / generation / dynasty / age / period / (historical) era / (geological) eon\r\n\t\r\n发\t\r\n发\r\nfā​\r\n\t\r\n\t\r\nto send out / to show (one&#39;s feeling) / to issue / to develop / classifier for gunshots (rounds)\r\n\t\r\n發\r\nHSK 4\r\n\t\r\n \t\r\n发\r\nf&#224;​\r\n\t\r\n\t\r\nhair / Taiwan pr. [fa3]\r\n\t\r\n髮\r\n发货\t\r\n发货\r\nfā​hu&#242;​\r\n\t\r\n\t\r\nto dispatch / to send out goods\r\n\t\r\n發貨\r\n\r\nThese first three characters appear to form a single word.\r\n\r\n  [1]: http://stanbol.apache.org/docs/trunk/components/enhancer/nlp/\r\n  [2]: http://en.wikipedia.org/wiki/Category:Natural_language_processing_toolkits\r\n  [3]: http://opennlp.apache.org/","title":"Get word count from a string in Unicode (in any language)","body":"<p>The concept of \"word\" may be trivial or complex. Here is <a href=\"http://stanbol.apache.org/docs/trunk/components/enhancer/nlp/\" rel=\"nofollow\">Apache Stanbol</a> Toolkit:</p>\n\n<blockquote>\n  <p>Word Tokenization: The detection of single words is required by the\n  Stanbol Enhancer to process text. While this is trivial for most\n  languages it is a rather complex task for some eastern languages, e.g.\n  Chinese, Japanese, Korean. If not otherwise configured, Stanbol will\n  use whitespaces to tokenize words.</p>\n</blockquote>\n\n<p>So if the concept of word is linguistic, rather than syntactic, you should use a <a href=\"http://en.wikipedia.org/wiki/Category%3aNatural_language_processing_toolkits\" rel=\"nofollow\">NLP toolkit</a> </p>\n\n<p>My preferred Java solution is <a href=\"http://opennlp.apache.org/\" rel=\"nofollow\">Apache's Open NLP</a> </p>\n\n<p>NOTE: \nI have used <a href=\"http://www.mdbg.net/chindict/chindict.php?page=worddict\" rel=\"nofollow\">http://www.mdbg.net/chindict/chindict.php?page=worddict</a> \nto tokenize your example. It implies there are 4 words not seven. I have cut and pasted (rather fragmented):</p>\n\n<p>Original Text   Simplified\nPīnyīn\n        English definition Add a new word to the dictionary     Traditional\nHSK\n供应商 \n供应商\ngōng​yìng​shāng​</p>\n\n<p>supplier</p>\n\n<p>供應商\n代<br>\n代\ndài​</p>\n\n<p>to substitute / to act on behalf of others / to replace / generation / dynasty / age / period / (historical) era / (geological) eon</p>\n\n<p>发<br>\n发\nfā​</p>\n\n<p>to send out / to show (one's feeling) / to issue / to develop / classifier for gunshots (rounds)</p>\n\n<p>發\nHSK 4</p>\n\n<p>发\nfà​</p>\n\n<p>hair / Taiwan pr. [fa3]</p>\n\n<p>髮\n发货<br>\n发货\nfā​huò​</p>\n\n<p>to dispatch / to send out goods</p>\n\n<p>發貨</p>\n\n<p>These first three characters appear to form a single word.</p>\n"},{"tags":[],"owner":{"account_id":476312,"reputation":3841,"user_id":887149,"accept_rate":76,"display_name":"Mohayemin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368986840,"creation_date":1368986840,"answer_id":16637818,"question_id":16637506,"body_markdown":"If we assume that every language has one (or more) word separator, and you can build regex for those separator, then the problem can be solved like this:\r\n \r\n\r\n\t\tpublic String separatorForLanguage(char unicodeChar){\r\n\t\t\t// Find out in which language unicodeChar falls  \r\n\t\t\treturn &quot;&quot;; // return regex of separator of that language\r\n\t\t}\r\n\t\t\r\n\t\tpublic int wordCount(String sentance){\r\n\t\t\tchar unicodeChar = sentance.charAt(0);\r\n\t\t\tString separator = separatorForLanguage(unicodeChar);\r\n\t\t\t\r\n\t\t\tint count = sentance.split(separator).length;\r\n\t\t\tif (separator.isEmpty()) {\r\n\t\t\t\tcount--;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn count;\r\n\t\t}\r\n\t","title":"Get word count from a string in Unicode (in any language)","body":"<p>If we assume that every language has one (or more) word separator, and you can build regex for those separator, then the problem can be solved like this:</p>\n\n<pre><code>    public String separatorForLanguage(char unicodeChar){\n        // Find out in which language unicodeChar falls  \n        return \"\"; // return regex of separator of that language\n    }\n\n    public int wordCount(String sentance){\n        char unicodeChar = sentance.charAt(0);\n        String separator = separatorForLanguage(unicodeChar);\n\n        int count = sentance.split(separator).length;\n        if (separator.isEmpty()) {\n            count--;\n        }\n\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672204979,"creation_date":1368987522,"answer_id":16637938,"question_id":16637506,"body_markdown":"The standard API provides the [BreakIterator][1] for this sort of boundary analysis but the Oracle Java 7 locale support doesn&#39;t break the sample string.\r\n\r\nWhen I used the [ICU4J][2] v51.1 [BreakIterator][3] it broke the sample into `[供应, 商代, 发, 发, 货]`.\r\n\r\n    // import com.ibm.icu.text.BreakIterator;\r\n    String sentence = &quot;\\u4f9b\\u5e94\\u5546\\u4ee3\\u53d1\\u53d1\\u8d27&quot;;\r\n    BreakIterator iterator = BreakIterator.getWordInstance(Locale.CHINESE);\r\n    iterator.setText(sentence);\r\n\r\n    List&lt;String&gt; words = new ArrayList&lt;&gt;();\r\n    int start = iterator.first();\r\n    int end = iterator.next();\r\n    while (end != BreakIterator.DONE) {\r\n      words.add(sentence.substring(start, end));\r\n      start = end;\r\n      end = iterator.next();\r\n    }\r\n    System.out.println(words);\r\n\r\n_Note: I used Google Translate to guess that &quot;供应商代发发货&quot; was Chinese. Obviously, I don&#39;t speak the language so can&#39;t comment on the correctness of the output._\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html\r\n  [2]: https://unicode-org.github.io/icu/userguide/icu4j/\r\n  [3]: https://unicode-org.github.io/icu/userguide/boundaryanalysis/#four-types-of-breakiterator\r\n","title":"Get word count from a string in Unicode (in any language)","body":"<p>The standard API provides the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/BreakIterator.html\" rel=\"nofollow noreferrer\">BreakIterator</a> for this sort of boundary analysis but the Oracle Java 7 locale support doesn't break the sample string.</p>\n<p>When I used the <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">ICU4J</a> v51.1 <a href=\"https://unicode-org.github.io/icu/userguide/boundaryanalysis/#four-types-of-breakiterator\" rel=\"nofollow noreferrer\">BreakIterator</a> it broke the sample into <code>[供应, 商代, 发, 发, 货]</code>.</p>\n<pre><code>// import com.ibm.icu.text.BreakIterator;\nString sentence = &quot;\\u4f9b\\u5e94\\u5546\\u4ee3\\u53d1\\u53d1\\u8d27&quot;;\nBreakIterator iterator = BreakIterator.getWordInstance(Locale.CHINESE);\niterator.setText(sentence);\n\nList&lt;String&gt; words = new ArrayList&lt;&gt;();\nint start = iterator.first();\nint end = iterator.next();\nwhile (end != BreakIterator.DONE) {\n  words.add(sentence.substring(start, end));\n  start = end;\n  end = iterator.next();\n}\nSystem.out.println(words);\n</code></pre>\n<p><em>Note: I used Google Translate to guess that &quot;供应商代发发货&quot; was Chinese. Obviously, I don't speak the language so can't comment on the correctness of the output.</em></p>\n"},{"tags":[],"owner":{"account_id":272330,"reputation":1758,"user_id":563353,"display_name":"popcorny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1375356119,"creation_date":1375352645,"answer_id":17991399,"question_id":16637506,"body_markdown":"Here is snippet in java\r\n\r\n    public static int getWordCount(String string)\r\n    {\r\n        Pattern pattern = Pattern.compile(&quot;[\\\\w&#39;]+|[\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC]&quot;);\r\n        Matcher matcher = pattern.matcher(string);\r\n        int count = 0;\r\n        while(matcher.find())\r\n            count++;\r\n        return count;                                   \r\n    }\r\n\r\nExample\r\n\r\n    //count is 5\r\n    int wordCount = getWordCount(&quot;this is popcorny&#39;s 電腦&quot;);\r\n\t","title":"Get word count from a string in Unicode (in any language)","body":"<p>Here is snippet in java</p>\n\n<pre><code>public static int getWordCount(String string)\n{\n    Pattern pattern = Pattern.compile(\"[\\\\w']+|[\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC]\");\n    Matcher matcher = pattern.matcher(string);\n    int count = 0;\n    while(matcher.find())\n        count++;\n    return count;                                   \n}\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>//count is 5\nint wordCount = getWordCount(\"this is popcorny's 電腦\");\n</code></pre>\n"}],"owner":{"account_id":1092631,"reputation":6930,"user_id":1086930,"accept_rate":80,"display_name":"jaibatrik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4795,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16637742,"answer_count":5,"score":7,"last_activity_date":1672204979,"creation_date":1368984987,"question_id":16637506,"body_markdown":"I want to get word count from a String. It&#39;s as simple as that. The catch is that the string can be in an unpredictable language.\r\n\r\nSo, I need a function of signature `int getWordCount(String)` with the following sample output - \r\n\r\n    getWordCount(&quot;供应商代发发货&quot;) =&gt; 7\r\n    getWordCount(&quot;This is a sentence&quot;) =&gt; 4\r\n\r\nAny help on how to proceed would be appreciated :)","title":"Get word count from a string in Unicode (in any language)","body":"<p>I want to get word count from a String. It's as simple as that. The catch is that the string can be in an unpredictable language.</p>\n\n<p>So, I need a function of signature <code>int getWordCount(String)</code> with the following sample output - </p>\n\n<pre><code>getWordCount(\"供应商代发发货\") =&gt; 7\ngetWordCount(\"This is a sentence\") =&gt; 4\n</code></pre>\n\n<p>Any help on how to proceed would be appreciated :)</p>\n"},{"tags":["java","android","android-animation","android-imageview","rippledrawable"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1672274392,"post_id":74936495,"comment_id":132257578,"body_markdown":"How is the image load started? Does the user click the image view? It looks like you want to show the ripple effect on a loop. Is that right?","body":"How is the image load started? Does the user click the image view? It looks like you want to show the ripple effect on a loop. Is that right?"},{"owner":{"account_id":26553075,"reputation":49,"user_id":20182096,"display_name":"coderror"},"score":0,"creation_date":1672293246,"post_id":74936495,"comment_id":132259936,"body_markdown":"@Cheticamp yes I want to show it in loop","body":"@Cheticamp yes I want to show it in loop"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1672324567,"post_id":74936495,"comment_id":132267769,"body_markdown":"_RippleDrawable_ does its own animation. I am not sure how layering another animation on top is going to work. You can get the ripple to work with a touch if you take out the animation and just use the drawable as the background. You will also have to set `android:clickable=&quot;true&quot;` on the _ImageView_. If you want a ripple-like effect, you will most likely need to make your own IMO.","body":"<i>RippleDrawable</i> does its own animation. I am not sure how layering another animation on top is going to work. You can get the ripple to work with a touch if you take out the animation and just use the drawable as the background. You will also have to set <code>android:clickable=&quot;true&quot;</code> on the <i>ImageView</i>. If you want a ripple-like effect, you will most likely need to make your own IMO."}],"owner":{"account_id":26553075,"reputation":49,"user_id":20182096,"display_name":"coderror"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672204527,"creation_date":1672204527,"question_id":74936495,"body_markdown":"I&#39;m trying to show a ripple animation in imageView before loading the image from the server.\r\n\r\nI tried below code:\r\n```\r\n        ImageView imageView = findViewById(R.id.image_view);\r\n\r\n// Create a RippleDrawable with a solid color background and no foreground\r\n        RippleDrawable rippleDrawable = new RippleDrawable(\r\n                ColorStateList.valueOf(Color.BLACK), // Ripple color\r\n                null, // Background drawable\r\n                null // Foreground drawable\r\n        );\r\n\r\n// Create an AnimationDrawable that wraps the RippleDrawable\r\n        AnimationDrawable animationDrawable = new AnimationDrawable();\r\n        animationDrawable.addFrame(rippleDrawable, 1000); // Add the RippleDrawable, with a duration of 1000 ms\r\n        animationDrawable.setOneShot(false); // Set the animation to loop indefinitely\r\n\r\n// Set the AnimationDrawable as the background of the ImageView\r\n        imageView.setBackground(animationDrawable);\r\n\r\n// Start the animation\r\n        \r\n        animationDrawable.start();\r\n```\r\n\r\n```\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/image_view&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n```\r\n**This is not working** ","title":"How to add ripple animation in imageView?","body":"<p>I'm trying to show a ripple animation in imageView before loading the image from the server.</p>\n<p>I tried below code:</p>\n<pre><code>        ImageView imageView = findViewById(R.id.image_view);\n\n// Create a RippleDrawable with a solid color background and no foreground\n        RippleDrawable rippleDrawable = new RippleDrawable(\n                ColorStateList.valueOf(Color.BLACK), // Ripple color\n                null, // Background drawable\n                null // Foreground drawable\n        );\n\n// Create an AnimationDrawable that wraps the RippleDrawable\n        AnimationDrawable animationDrawable = new AnimationDrawable();\n        animationDrawable.addFrame(rippleDrawable, 1000); // Add the RippleDrawable, with a duration of 1000 ms\n        animationDrawable.setOneShot(false); // Set the animation to loop indefinitely\n\n// Set the AnimationDrawable as the background of the ImageView\n        imageView.setBackground(animationDrawable);\n\n// Start the animation\n        \n        animationDrawable.start();\n</code></pre>\n<pre><code>    &lt;ImageView\n        android:id=&quot;@+id/image_view&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n<p><strong>This is not working</strong></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","h2"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1672016101,"post_id":74916553,"comment_id":132208282,"body_markdown":"try @RestController instead of @ Controller","body":"try @RestController instead of @ Controller"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672017364,"post_id":74916553,"comment_id":132208391,"body_markdown":"Hi, that did not solve the issue.","body":"Hi, that did not solve the issue."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672017538,"post_id":74916553,"comment_id":132208412,"body_markdown":"what error do you get after changing to it?","body":"what error do you get after changing to it?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672017539,"post_id":74916553,"comment_id":132208413,"body_markdown":"Add `@RequestMapping` to your admin controller.","body":"Add <code>@RequestMapping</code> to your admin controller."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672017978,"post_id":74916553,"comment_id":132208452,"body_markdown":"seems like you had more extra  stuff you didnt need just do what the answer told you to do and remove the extra stuff from the main and use the @RestController","body":"seems like you had more extra  stuff you didnt need just do what the answer told you to do and remove the extra stuff from the main and use the @RestController"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672089155,"post_id":74916553,"comment_id":132219918,"body_markdown":"@Anon This time, I tried using RestController and RequestMapping(&quot;/api&quot;) in my controller class and SpringBootApplication in my main class, but I still get the following errors: &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;adminController&#39;&quot;, &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;&quot;, &quot;BeanCreationException: Error creating bean with name &#39;categoryRepository&#39;&quot;, and &quot;IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category&quot;.","body":"@Anon This time, I tried using RestController and RequestMapping(&quot;/api&quot;) in my controller class and SpringBootApplication in my main class, but I still get the following errors: &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;adminController&#39;&quot;, &quot;UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;&quot;, &quot;BeanCreationException: Error creating bean with name &#39;categoryRepository&#39;&quot;, and &quot;IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category&quot;."}],"answers":[{"tags":[],"owner":{"account_id":15806948,"reputation":150,"user_id":11405229,"display_name":"Romain Lavabre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672017573,"creation_date":1672017573,"answer_id":74916703,"question_id":74916553,"body_markdown":"Your controllers are simply not scanned by spring because you explicitly asked it to scan only the com.ecommerce.website.service.* package\r\n\r\nHowever, your controllers are in com.ecommerce.website.controller.*\r\n\r\nWhy do you want to tell spring which scanner component?\r\nUnless you have a good reason to do so, you should let it scan all the packages in your project.\r\n\r\nJust put:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class EcommerceWebsiteApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMore information on @ComponentScan : https://www.baeldung.com/spring-component-scanning","title":"Only my http://localhost:8080/ mapping works, but the rest of my Mappings in my Controller class do not","body":"<p>Your controllers are simply not scanned by spring because you explicitly asked it to scan only the com.ecommerce.website.service.* package</p>\n<p>However, your controllers are in com.ecommerce.website.controller.*</p>\n<p>Why do you want to tell spring which scanner component?\nUnless you have a good reason to do so, you should let it scan all the packages in your project.</p>\n<p>Just put:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>More information on @ComponentScan : <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-scanning</a></p>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672202971,"creation_date":1672014241,"question_id":74916553,"body_markdown":"I am creating a project that functions like an ecommerce website, and my base page `http://localhost:8080` opens up, but if I try adding `&quot;/admin&quot;` or any of the other mappings in the controller class, I get the `404` Whitelabel page. \r\n\r\nHow can I make any of the other mappings appear properly?\r\n\r\nI tried changing the `@ComponentScan` in the main class to \r\n\r\n    &quot;@ComponentScan(basePackages = {&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })&quot; \r\n\r\nbut that did not solve the issue. \r\n\r\n\r\nMain class\r\n````\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository.*&quot;)\r\n@ComponentScan(&quot;com.ecommerce.website.service.*&quot;)\r\n@EntityScan(&quot;com.ecommerce.website.model.*&quot;)\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nController class\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n//Category ID still having issues\r\n//Need to add methods for Category delete and update methods \r\n@Controller\r\npublic class AdminController {\r\n\t\r\n\t//Injecting dependency\r\n\t@Autowired\r\n\tCategoryService categoryService;\r\n\t\r\n\t//This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \r\n\t//@return the adminHome page\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\tpublic String adminHome() {\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;adminHome&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\r\n\t//@return the categories page \r\n\t@GetMapping(&quot;/admin/categories&quot;)\r\n\tpublic String getCat(Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categories&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\r\n\t//a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\r\n\t//The method is @GetMapping because you are getting information\r\n\t//@param model will hold the category object so that the form can add information to it \r\n\t//@return the categoriesAdd page \r\n\t@GetMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String getCatAdd(Model model) {\r\n\t\t\r\n\t\t//Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\r\n\t\tmodel.addAttribute(&quot;category&quot;, new Category());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categoriesAdd&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\r\n\t//The method is @PostMapping because you are sending information\r\n\t//@param category gets its value from the ModelAttribute, which gets its value from the form\r\n\t//@return the categories page \r\n\t@PostMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\r\n\t\t\r\n\t\t//Calling categoryService to add the category\r\n\t\tcategoryService.addCategory(category);\r\n\t\t\r\n\t\t//Redirecting to page that shows all categories \r\n\t\treturn &quot;redirect:/admin/categories&quot;;\r\n\t}\r\n\t\r\n\r\n````\r\n\r\nService\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\n\r\n@Service\r\npublic class CategoryService {\r\n\r\n\t//Injecting dependency \r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\t\r\n\t//This method calls categoryRepository to add a category to the database  \r\n\t//@param category is the category that is being added \r\n\tpublic void addCategory(Category category) {\r\n\t\t\r\n\t\t//Saving the category to the database \r\n\t\tcategoryRepository.save(category);\r\n\t}\r\n\t\r\n\t//This method calls categoryRepository to retrieve a list of categories \r\n\t//@return the list of categories  \r\n\tpublic List&lt;Category&gt; getAllCategories() {\r\n\t\treturn categoryRepository.findAll();\r\n\t}\r\n\t\r\n}\r\n\r\n````\r\n\r\nRepository\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.ecommerce.website.model.Category;\r\n\r\n@Repository\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\r\n\r\n\t\r\n\r\n}\r\n````\r\n\r\nPOJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Entity\r\n@Table\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;category_id&quot;)\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t\r\n\tpublic Category() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Category(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t} \r\n\t\r\n\t\r\n}\r\n\r\n````\r\n\r\napplication.properties\r\n````\r\nspring.h2.console.enabled=true\r\n\r\nspring.datasource.url=jdbc:h2:file:./db\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nserver.port=8080\r\n````\r\n\r\npom.xml\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ecommerce-website&lt;/name&gt;\r\n\t&lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n````\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nEDIT\r\nI removed all annotations from the main class, except for @SpringBootApplication and @ComponentScan, so now it looks like this:\r\n\r\n````\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nCurrently what is being shown in my console \r\n````\r\n2022-12-27T22:43:35.202-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Starting EcommerceWebsiteApplication using Java 17.0.2 with PID 5656 (C:\\Users\\sohaib\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2\\target\\classes started by sohaib in C:\\Users\\sohaib**strong text**\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2)\r\n2022-12-27T22:43:35.208-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-12-27T22:43:36.611-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2022-12-27T22:43:36.709-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\r\n2022-12-27T22:43:37.831-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\r\n2022-12-27T22:43:37.989-06:00  INFO 5656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-27T22:43:37.992-06:00  INFO 5656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2658 ms\r\n2022-12-27T22:43:38.033-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2022-12-27T22:43:38.299-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./db user=SA\r\n2022-12-27T22:43:38.301-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2022-12-27T22:43:38.314-06:00  INFO 5656 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:file:./db&#39;\r\n2022-12-27T22:43:38.475-06:00  INFO 5656 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2022-12-27T22:43:38.549-06:00  INFO 5656 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\r\n2022-12-27T22:43:38.770-06:00  WARN 5656 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2022-12-27T22:43:38.926-06:00  INFO 5656 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2022-12-27T22:43:39.774-06:00  INFO 5656 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2022-12-27T22:43:39.782-06:00  INFO 5656 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-27T22:43:39.847-06:00  WARN 5656 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2022-12-27T22:43:40.038-06:00  INFO 5656 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n2022-12-27T22:43:40.576-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-12-27T22:43:40.587-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Started EcommerceWebsiteApplication in 5.879 seconds (process running for 6.41)\r\n2022-12-27T22:47:31.683-06:00  INFO 5656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-12-27T22:47:31.684-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-12-27T22:47:31.685-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n````","title":"Only my http://localhost:8080/ mapping works, but the rest of my Mappings in my Controller class do not","body":"<p>I am creating a project that functions like an ecommerce website, and my base page <code>http://localhost:8080</code> opens up, but if I try adding <code>&quot;/admin&quot;</code> or any of the other mappings in the controller class, I get the <code>404</code> Whitelabel page.</p>\n<p>How can I make any of the other mappings appear properly?</p>\n<p>I tried changing the <code>@ComponentScan</code> in the main class to</p>\n<pre><code>&quot;@ComponentScan(basePackages = {&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })&quot; \n</code></pre>\n<p>but that did not solve the issue.</p>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository.*&quot;)\n@ComponentScan(&quot;com.ecommerce.website.service.*&quot;)\n@EntityScan(&quot;com.ecommerce.website.model.*&quot;)\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.service.CategoryService;\n\n//Category ID still having issues\n//Need to add methods for Category delete and update methods \n@Controller\npublic class AdminController {\n    \n    //Injecting dependency\n    @Autowired\n    CategoryService categoryService;\n    \n    //This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \n    //@return the adminHome page\n    @GetMapping(&quot;/admin&quot;)\n    public String adminHome() {\n        \n        //Display html page\n        return &quot;adminHome&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\n    //@return the categories page \n    @GetMapping(&quot;/admin/categories&quot;)\n    public String getCat(Model model) {\n        \n        model.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\n        \n        //Display html page\n        return &quot;categories&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\n    //a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\n    //The method is @GetMapping because you are getting information\n    //@param model will hold the category object so that the form can add information to it \n    //@return the categoriesAdd page \n    @GetMapping(&quot;/admin/categories/add&quot;)\n    public String getCatAdd(Model model) {\n        \n        //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\n        model.addAttribute(&quot;category&quot;, new Category());\n        \n        //Display html page\n        return &quot;categoriesAdd&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\n    //The method is @PostMapping because you are sending information\n    //@param category gets its value from the ModelAttribute, which gets its value from the form\n    //@return the categories page \n    @PostMapping(&quot;/admin/categories/add&quot;)\n    public String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\n        \n        //Calling categoryService to add the category\n        categoryService.addCategory(category);\n        \n        //Redirecting to page that shows all categories \n        return &quot;redirect:/admin/categories&quot;;\n    }\n    \n\n</code></pre>\n<p>Service</p>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.repository.CategoryRepository;\n\n@Service\npublic class CategoryService {\n\n    //Injecting dependency \n    @Autowired\n    CategoryRepository categoryRepository;\n    \n    //This method calls categoryRepository to add a category to the database  \n    //@param category is the category that is being added \n    public void addCategory(Category category) {\n        \n        //Saving the category to the database \n        categoryRepository.save(category);\n    }\n    \n    //This method calls categoryRepository to retrieve a list of categories \n    //@return the list of categories  \n    public List&lt;Category&gt; getAllCategories() {\n        return categoryRepository.findAll();\n    }\n    \n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.ecommerce.website.model.Category;\n\n@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Integer&gt; {\n\n    \n\n}\n</code></pre>\n<p>POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Table;\n\nimport org.springframework.data.annotation.Id;\n\n@Entity\n@Table\npublic class Category {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;category_id&quot;)\n    private int id;\n    \n    private String name;\n    \n    \n    public Category() {\n        \n    }\n    \n    public Category(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    } \n    \n    \n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.h2.console.enabled=true\n\nspring.datasource.url=jdbc:h2:file:./db\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nserver.port=8080\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-website&lt;/name&gt;\n    &lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>EDIT\nI removed all annotations from the main class, except for @SpringBootApplication and @ComponentScan, so now it looks like this:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.ecommerce.website.service.*&quot;, &quot;com.ecommerce.website.controller.*&quot;, &quot;com.ecommerce.website.repository.*&quot; })\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Currently what is being shown in my console</p>\n<pre><code>2022-12-27T22:43:35.202-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Starting EcommerceWebsiteApplication using Java 17.0.2 with PID 5656 (C:\\Users\\sohaib\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2\\target\\classes started by sohaib in C:\\Users\\sohaib**strong text**\\eclipse-workspace\\mongoDB-spring-boot\\ecommerce-website-h2)\n2022-12-27T22:43:35.208-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-12-27T22:43:36.611-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-12-27T22:43:36.709-06:00  INFO 5656 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 1 JPA repository interfaces.\n2022-12-27T22:43:37.831-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-27T22:43:37.844-06:00  INFO 5656 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]\n2022-12-27T22:43:37.989-06:00  INFO 5656 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-27T22:43:37.992-06:00  INFO 5656 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2658 ms\n2022-12-27T22:43:38.033-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-12-27T22:43:38.299-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:file:./db user=SA\n2022-12-27T22:43:38.301-06:00  INFO 5656 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-12-27T22:43:38.314-06:00  INFO 5656 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:./db'\n2022-12-27T22:43:38.475-06:00  INFO 5656 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-12-27T22:43:38.549-06:00  INFO 5656 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final\n2022-12-27T22:43:38.770-06:00  WARN 5656 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2022-12-27T22:43:38.926-06:00  INFO 5656 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-12-27T22:43:39.774-06:00  INFO 5656 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-12-27T22:43:39.782-06:00  INFO 5656 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-12-27T22:43:39.847-06:00  WARN 5656 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-12-27T22:43:40.038-06:00  INFO 5656 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2022-12-27T22:43:40.576-06:00  INFO 5656 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-12-27T22:43:40.587-06:00  INFO 5656 --- [           main] c.e.website.EcommerceWebsiteApplication  : Started EcommerceWebsiteApplication in 5.879 seconds (process running for 6.41)\n2022-12-27T22:47:31.683-06:00  INFO 5656 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-12-27T22:47:31.684-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-12-27T22:47:31.685-06:00  INFO 5656 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n"},{"tags":["java","android","kotlin","android-spinner","crashlytics"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672203148,"post_id":74936281,"comment_id":132240661,"body_markdown":"Have you check null inside the `modelName` array? It seems that there is null inside the array causing such problem.","body":"Have you check null inside the <code>modelName</code> array? It seems that there is null inside the array causing such problem."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672203178,"post_id":74936281,"comment_id":132240664,"body_markdown":"e.g., `modelName` = {&quot;Model A&quot;, &quot;Model B&quot;, null, &quot;Model C&quot;}","body":"e.g., <code>modelName</code> = {&quot;Model A&quot;, &quot;Model B&quot;, null, &quot;Model C&quot;}"},{"owner":{"account_id":26264663,"reputation":1,"user_id":19935418,"display_name":"Rookie"},"score":0,"creation_date":1672205564,"post_id":74936281,"comment_id":132240971,"body_markdown":"yes one field is null in the API response that could be the issue.","body":"yes one field is null in the API response that could be the issue."},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1672209157,"post_id":74936281,"comment_id":132241508,"body_markdown":"You may give a try to drop the null record first. If the issue resolves, then handle the `null` data gracefully (e.g., drop it with log, replace it with other meaningful field or just drop it if it is not important).","body":"You may give a try to drop the null record first. If the issue resolves, then handle the <code>null</code> data gracefully (e.g., drop it with log, replace it with other meaningful field or just drop it if it is not important)."}],"owner":{"account_id":26264663,"reputation":1,"user_id":19935418,"display_name":"Rookie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672202606,"creation_date":1672202084,"question_id":74936281,"body_markdown":"Here are Crash details from Crashes and ANRs\r\n\r\ncom.$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity\r\n\r\n- java.lang.NullPointerException\r\n\r\n```\r\nException java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String java.lang.Object.toString()&#39; on a null object reference\r\n  at android.widget.ArrayAdapter.createViewFromResource (ArrayAdapter.java:454)\r\n  at android.widget.ArrayAdapter.getDropDownView (ArrayAdapter.java:502)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getDropDownView (AppCompatSpinner.java:756)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getView (AppCompatSpinner.java:750)\r\n  at androidx.appcompat.widget.AppCompatSpinner.compatMeasureContentWidth (AppCompatSpinner.java:590)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.computeContentWidth (AppCompatSpinner.java:1026)\r\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.show (AppCompatSpinner.java:1053)\r\n  at androidx.appcompat.widget.AppCompatSpinner.showPopup (AppCompatSpinner.java:616)\r\n  at androidx.appcompat.widget.AppCompatSpinner.performClick (AppCompatSpinner.java:460)\r\n  at com.$$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity (ProvisioningScreenActivity.java:230)\r\n  at com.$$$$$$$.fieldforce.activity.-$$Lambda$ProvisioningScreenActivity$YnrGP_9DLrME_v-i79em930emIg.onClick\r\n  at android.view.View.performClick (View.java:7558)\r\n  at android.view.View.performClickInternal (View.java:7534)\r\n  at android.view.View.-$$Nest$mperformClickInternal\r\n  at android.view.View$PerformClick.run (View.java:29652)\r\n  at android.os.Handler.handleCallback (Handler.java:942)\r\n  at android.os.Handler.dispatchMessage (Handler.java:99)\r\n  at android.os.Looper.loopOnce (Looper.java:240)\r\n  at android.os.Looper.loop (Looper.java:351)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8355)\r\n  at java.lang.reflect.Method.invoke\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\r\n```\r\n\r\nApp is crashing on clicking the Model spinner.\r\n\r\n[![Form image][1]][1]\r\n\r\nI&#39;m not able to fix it because its working fine on my Samsung\r\n\r\nthis is the function which causing the problem\r\n\r\n```\r\npublic void getAccountDetails() {\r\n\r\n    try {\r\n        binding.tvModel.setOnClickListener(v -&gt; binding.spModel.performClick());\r\n        binding.spModel.setOnItemSelectedListener(this);\r\n        inAnimation = new AlphaAnimation(0f, 1f);\r\n        inAnimation.setDuration(200);\r\n        binding.progressLayout.progressOverlay.setAnimation(inAnimation);\r\n        binding.progressLayout.progressOverlay.setVisibility(View.VISIBLE);\r\n        AccountInfoRequest accountInfoRequest = new AccountInfoRequest();\r\n        accountInfoRequest.setAuthkey(Constants.AUTH_KEY);\r\n        accountInfoRequest.setAction(Constants.GET_ACCOUNT_DETAILS);\r\n        accountInfoRequest.setCanId(strCanId);\r\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\r\n        Call&lt;AccountDetailsResponse&gt; call = apiService.getAccountDetails(accountInfoRequest);\r\n        call.enqueue(new Callback&lt;AccountDetailsResponse&gt;() {\r\n            @Override\r\n            `public void onResponse(Call&lt;AccountDetailsResponse&gt; call,  Response&lt;AccountDetailsResponse&gt; response)` {\r\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\r\n                    outAnimation = new AlphaAnimation(1f, 0f);\r\n                    outAnimation.setDuration(200);\r\n                    binding.progressLayout.progressOverlay.setAnimation(outAnimation);\r\n                    binding.progressLayout.progressOverlay.setVisibility(View.GONE);\r\n\r\n                    if (response.body().getStatus().equals(&quot;Success&quot;)) {\r\n                        try {\r\n                            binding.setResponse(response.body().getResponse().data);\r\n                            `if(response.body().getResponse().data.onuProfile!=null||response.body().getResponse().data.onuProfile.size()!=0) {`\r\n                                `onuProfile = response.body().getResponse().getData().getOnuProfile();`\r\n                            }\r\n                            `if(response.body().getResponse().data.towerDetail!=null||response.body().getResponse().data.towerDetail.size()!=0) {`\r\n                               ` strTowerId = response.body().getResponse().getData().getTowerDetail().get(0).getTowerId();`\r\n                                `strSplitterId = response.body().getResponse().getData().getTowerDetail().get(0).getServingDB();`\r\n                            }\r\n                            modelName = new ArrayList&lt;&gt;();\r\n                            modelId = new ArrayList&lt;&gt;();\r\n                            modelName.add(&quot;Select Model Name&quot;);\r\n                            for (AccountDetailsResponse.OnuProfile onuProfile : onuProfile)\r\n                                modelName.add(onuProfile.getModelName());\r\n                            for (AccountDetailsResponse.OnuProfile id : onuProfile)\r\n                                modelId.add(id.getProfileName());\r\n                            if(modelName!=null) {\r\n                               ` ArrayAdapter&lt;String&gt; adapter1 = new ArrayAdapter&lt;String&gt;(ProvisioningScreenActivity.this, android.R.layout.simple_spinner_item, modelName);`\r\n                                `adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);`\r\n                                binding.spModel.setAdapter(adapter1);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else if (response.body().getStatus().equals(&quot;Failure&quot;)) {\r\n                        `Toast.makeText(ProvisioningScreenActivity.this, response.body().getResponse().getMessage(), Toast.LENGTH_LONG).show();`\r\n                        nextScreen();\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;AccountDetailsResponse&gt; call, Throwable t) {\r\n                binding.progressLayout.progressOverlay.setVisibility(View.GONE);\r\n                Log.e(&quot;RetroError&quot;, t.toString());\r\n            }\r\n        });\r\n    }catch (Exception ex){\r\n        ex.getMessage();\r\n    }\r\n}\r\n```\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        if(parent.getId() == R.id.sp_model){\r\n            binding.tvModel.setText(modelName.get(position));\r\n            if (position != 0) strModel = &quot;&quot; + modelId.get(position - 1);\r\n            else strModel = &quot; &quot;;\r\n            binding.tvProfileName.setText(strModel);\r\n\r\n        }\r\n    }\r\n\r\n\r\nthis screenshot of above code and line 230 is highlighted\r\n[![this screenshot of above code and line 230 is highlighted ][2]][2]\r\n\r\n[1]: https://i.stack.imgur.com/6Xl5u.png\r\n[2]: https://i.stack.imgur.com/5jvzM.png\r\n","title":"APP crashing on realme , oppo and oneplus Phones","body":"<p>Here are Crash details from Crashes and ANRs</p>\n<p>com.$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity</p>\n<ul>\n<li>java.lang.NullPointerException</li>\n</ul>\n<pre><code>Exception java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference\n  at android.widget.ArrayAdapter.createViewFromResource (ArrayAdapter.java:454)\n  at android.widget.ArrayAdapter.getDropDownView (ArrayAdapter.java:502)\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getDropDownView (AppCompatSpinner.java:756)\n  at androidx.appcompat.widget.AppCompatSpinner$DropDownAdapter.getView (AppCompatSpinner.java:750)\n  at androidx.appcompat.widget.AppCompatSpinner.compatMeasureContentWidth (AppCompatSpinner.java:590)\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.computeContentWidth (AppCompatSpinner.java:1026)\n  at androidx.appcompat.widget.AppCompatSpinner$DropdownPopup.show (AppCompatSpinner.java:1053)\n  at androidx.appcompat.widget.AppCompatSpinner.showPopup (AppCompatSpinner.java:616)\n  at androidx.appcompat.widget.AppCompatSpinner.performClick (AppCompatSpinner.java:460)\n  at com.$$$$$$$.fieldforce.activity.ProvisioningScreenActivity.lambda$getAccountDetails$3$ProvisioningScreenActivity (ProvisioningScreenActivity.java:230)\n  at com.$$$$$$$.fieldforce.activity.-$$Lambda$ProvisioningScreenActivity$YnrGP_9DLrME_v-i79em930emIg.onClick\n  at android.view.View.performClick (View.java:7558)\n  at android.view.View.performClickInternal (View.java:7534)\n  at android.view.View.-$$Nest$mperformClickInternal\n  at android.view.View$PerformClick.run (View.java:29652)\n  at android.os.Handler.handleCallback (Handler.java:942)\n  at android.os.Handler.dispatchMessage (Handler.java:99)\n  at android.os.Looper.loopOnce (Looper.java:240)\n  at android.os.Looper.loop (Looper.java:351)\n  at android.app.ActivityThread.main (ActivityThread.java:8355)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:584)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1013)\n</code></pre>\n<p>App is crashing on clicking the Model spinner.</p>\n<p><a href=\"https://i.stack.imgur.com/6Xl5u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Xl5u.png\" alt=\"Form image\" /></a></p>\n<p>I'm not able to fix it because its working fine on my Samsung</p>\n<p>this is the function which causing the problem</p>\n<pre><code>public void getAccountDetails() {\n\n    try {\n        binding.tvModel.setOnClickListener(v -&gt; binding.spModel.performClick());\n        binding.spModel.setOnItemSelectedListener(this);\n        inAnimation = new AlphaAnimation(0f, 1f);\n        inAnimation.setDuration(200);\n        binding.progressLayout.progressOverlay.setAnimation(inAnimation);\n        binding.progressLayout.progressOverlay.setVisibility(View.VISIBLE);\n        AccountInfoRequest accountInfoRequest = new AccountInfoRequest();\n        accountInfoRequest.setAuthkey(Constants.AUTH_KEY);\n        accountInfoRequest.setAction(Constants.GET_ACCOUNT_DETAILS);\n        accountInfoRequest.setCanId(strCanId);\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\n        Call&lt;AccountDetailsResponse&gt; call = apiService.getAccountDetails(accountInfoRequest);\n        call.enqueue(new Callback&lt;AccountDetailsResponse&gt;() {\n            @Override\n            `public void onResponse(Call&lt;AccountDetailsResponse&gt; call,  Response&lt;AccountDetailsResponse&gt; response)` {\n                if (response.isSuccessful() &amp;&amp; response.body() != null) {\n                    outAnimation = new AlphaAnimation(1f, 0f);\n                    outAnimation.setDuration(200);\n                    binding.progressLayout.progressOverlay.setAnimation(outAnimation);\n                    binding.progressLayout.progressOverlay.setVisibility(View.GONE);\n\n                    if (response.body().getStatus().equals(&quot;Success&quot;)) {\n                        try {\n                            binding.setResponse(response.body().getResponse().data);\n                            `if(response.body().getResponse().data.onuProfile!=null||response.body().getResponse().data.onuProfile.size()!=0) {`\n                                `onuProfile = response.body().getResponse().getData().getOnuProfile();`\n                            }\n                            `if(response.body().getResponse().data.towerDetail!=null||response.body().getResponse().data.towerDetail.size()!=0) {`\n                               ` strTowerId = response.body().getResponse().getData().getTowerDetail().get(0).getTowerId();`\n                                `strSplitterId = response.body().getResponse().getData().getTowerDetail().get(0).getServingDB();`\n                            }\n                            modelName = new ArrayList&lt;&gt;();\n                            modelId = new ArrayList&lt;&gt;();\n                            modelName.add(&quot;Select Model Name&quot;);\n                            for (AccountDetailsResponse.OnuProfile onuProfile : onuProfile)\n                                modelName.add(onuProfile.getModelName());\n                            for (AccountDetailsResponse.OnuProfile id : onuProfile)\n                                modelId.add(id.getProfileName());\n                            if(modelName!=null) {\n                               ` ArrayAdapter&lt;String&gt; adapter1 = new ArrayAdapter&lt;String&gt;(ProvisioningScreenActivity.this, android.R.layout.simple_spinner_item, modelName);`\n                                `adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);`\n                                binding.spModel.setAdapter(adapter1);\n                            }\n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                    } else if (response.body().getStatus().equals(&quot;Failure&quot;)) {\n                        `Toast.makeText(ProvisioningScreenActivity.this, response.body().getResponse().getMessage(), Toast.LENGTH_LONG).show();`\n                        nextScreen();\n                    }\n                }\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;AccountDetailsResponse&gt; call, Throwable t) {\n                binding.progressLayout.progressOverlay.setVisibility(View.GONE);\n                Log.e(&quot;RetroError&quot;, t.toString());\n            }\n        });\n    }catch (Exception ex){\n        ex.getMessage();\n    }\n}\n</code></pre>\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n    if(parent.getId() == R.id.sp_model){\n        binding.tvModel.setText(modelName.get(position));\n        if (position != 0) strModel = &quot;&quot; + modelId.get(position - 1);\n        else strModel = &quot; &quot;;\n        binding.tvProfileName.setText(strModel);\n\n    }\n}\n</code></pre>\n<p>this screenshot of above code and line 230 is highlighted\n<a href=\"https://i.stack.imgur.com/5jvzM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5jvzM.png\" alt=\"this screenshot of above code and line 230 is highlighted \" /></a></p>\n"},{"tags":["java","junit","mocking","mockserver"],"answers":[{"tags":[],"owner":{"account_id":7058959,"reputation":83,"user_id":5405103,"display_name":"Ayushi Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591776712,"creation_date":1591776712,"answer_id":62298792,"question_id":60202909,"body_markdown":"You can read the json file contents using \r\n            \r\n    public &lt;T&gt; T conversion(File jsonFile, Class&lt;T&gt; pClass) throws IOException {           \r\n        return objectMapper.readValue(FileUtils.readFileToString(&lt;your file&gt;,&quot;UTF-8&quot;),&lt;your class&gt;);\r\n    }\r\n\r\nHope this helps.","title":"Java org.mockserver load response body from file","body":"<p>You can read the json file contents using </p>\n\n<pre><code>public &lt;T&gt; T conversion(File jsonFile, Class&lt;T&gt; pClass) throws IOException {           \n    return objectMapper.readValue(FileUtils.readFileToString(&lt;your file&gt;,\"UTF-8\"),&lt;your class&gt;);\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":25751477,"reputation":1,"user_id":19503951,"display_name":"vu-pt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672200060,"creation_date":1672200040,"answer_id":74936116,"question_id":60202909,"body_markdown":"You can lookup in this post\r\nhttps://github.com/mock-server/mockserver/issues/554\r\n\r\nThe approach is simply like you return a JSON data but you need to set the body similar this\r\n\r\n    &quot;body&quot;: { &quot;type&quot;: &quot;BINARY&quot;, &quot;base64Bytes&quot;:&quot;XXXXXXXXX.....&quot; } }\r\n\r\nHope this helps.\r\n\r\n ","title":"Java org.mockserver load response body from file","body":"<p>You can lookup in this post\n<a href=\"https://github.com/mock-server/mockserver/issues/554\" rel=\"nofollow noreferrer\">https://github.com/mock-server/mockserver/issues/554</a></p>\n<p>The approach is simply like you return a JSON data but you need to set the body similar this</p>\n<pre><code>&quot;body&quot;: { &quot;type&quot;: &quot;BINARY&quot;, &quot;base64Bytes&quot;:&quot;XXXXXXXXX.....&quot; } }\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":10717979,"reputation":57,"user_id":7887929,"display_name":"TheRadianer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672200060,"creation_date":1581580499,"question_id":60202909,"body_markdown":"is there a easy way to load the content of a file (like a Json file) for the response body from a org.mockserver?\r\n\r\nOr do i have to do it in the usual way?","title":"Java org.mockserver load response body from file","body":"<p>is there a easy way to load the content of a file (like a Json file) for the response body from a org.mockserver?</p>\n\n<p>Or do i have to do it in the usual way?</p>\n"},{"tags":["java","awaitility"],"answers":[{"tags":[],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672199578,"creation_date":1672199578,"answer_id":74936085,"question_id":74897885,"body_markdown":"decided not to use awaitility. And use future.get() with a timeout\r\n\r\n    private List&lt;JournalRecord&gt; waitResult(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords, String message) {\r\n            ExecutorService executor = Executors.newFixedThreadPool(1);\r\n            AtomicReference&lt;List&lt;JournalRecord &gt;&gt; result = new AtomicReference&lt;&gt;(Collections.emptyList());\r\n            Future&lt;?&gt; future = executor.submit(() -&gt; searchJob(findRecords, message, result));\r\n            try {\r\n                future.get(40, TimeUnit.SECONDS);\r\n                executor.shutdown();\r\n            } catch (TimeoutException ignore) {\r\n    \r\n            }\r\n            executor.shutdown();\r\n            return result.get();\r\n        }\r\n\r\n    private void searchJob(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords,\r\n                               String message,\r\n                               AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result) {\r\n            for (int i = 0; i &lt; 40; i++) {\r\n                //do search in database by message and fill AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result\r\n                if(result was found) {\r\n                  return;\r\n                }\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n\r\n\r\nI don&#39;t know if it&#39;s correct, but it works for me.\r\nIn fact, the number of attempts depends on the database load, on average I get 7-12. The main task was to limit the execution time of searching for messages in the database.\r\n\r\n\r\nI would be grateful if someone points out errors or tells me how to improve the solution.","title":"How to check if an event hasn&#39;t happened using awaitility","body":"<p>decided not to use awaitility. And use future.get() with a timeout</p>\n<pre><code>private List&lt;JournalRecord&gt; waitResult(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords, String message) {\n        ExecutorService executor = Executors.newFixedThreadPool(1);\n        AtomicReference&lt;List&lt;JournalRecord &gt;&gt; result = new AtomicReference&lt;&gt;(Collections.emptyList());\n        Future&lt;?&gt; future = executor.submit(() -&gt; searchJob(findRecords, message, result));\n        try {\n            future.get(40, TimeUnit.SECONDS);\n            executor.shutdown();\n        } catch (TimeoutException ignore) {\n\n        }\n        executor.shutdown();\n        return result.get();\n    }\n\nprivate void searchJob(Callable&lt;List&lt;JournalRecord&gt;&gt; findRecords,\n                           String message,\n                           AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result) {\n        for (int i = 0; i &lt; 40; i++) {\n            //do search in database by message and fill AtomicReference&lt;List&lt;JournalRecord&gt;&gt; result\n            if(result was found) {\n              return;\n            }\n            Thread.sleep(1000);\n        }\n    }\n</code></pre>\n<p>I don't know if it's correct, but it works for me.\nIn fact, the number of attempts depends on the database load, on average I get 7-12. The main task was to limit the execution time of searching for messages in the database.</p>\n<p>I would be grateful if someone points out errors or tells me how to improve the solution.</p>\n"}],"owner":{"account_id":16276241,"reputation":17,"user_id":16187547,"display_name":"Aleksey Bakharev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672199578,"creation_date":1671786184,"question_id":74897885,"body_markdown":"I&#39;m trying to make sure that after some actions, no new records have appeared in the database, for this I use the following construction:\r\n\r\n    messages = new String[] {&quot;message1&quot;, &quot;message2&quot;};\r\n    await(&quot;wait&quot;)\r\n            .during(Duration.ofSeconds(15))\r\n            .atMost(Duration.ofSeconds(19))\r\n            .pollInterval(Duration.ofSeconds(1))\r\n            .until(() -&gt; databaseService.getJournalRecords().stream()\r\n                    .map(JournalRecord::getMessage)\r\n                    .filter(Arrays.asList(messages)::contains)\r\n                    .findFirst()\r\n                    .orElse(null), Matchers.nullValue()\r\n            );\r\n\r\nBut I am getting an error:\r\n\r\n    org.awaitility.core.ConditionTimeoutException: Condition with alias &#39;wait&#39; didn&#39;t complete within 19 seconds because lambda expression in my.path.MyClass: expected null but was null.\r\n    \r\n\r\nwhen using the construction \r\n\r\n    .orElse(&quot;some value&quot;), Matchers.equalTo(&quot;some value&quot;)\r\n\r\n\r\n\r\nI get a similar error\r\n\r\n    org.awaitility.core.ConditionTimeoutException: Condition with alias &#39;wait&#39; didn&#39;t complete within 19 seconds because lambda expression in my.path.MyClass: expected &quot;some value&quot; but was &quot;some value&quot;.\r\n\r\nHow to build awaitility correctly, what is my mistake?","title":"How to check if an event hasn&#39;t happened using awaitility","body":"<p>I'm trying to make sure that after some actions, no new records have appeared in the database, for this I use the following construction:</p>\n<pre><code>messages = new String[] {&quot;message1&quot;, &quot;message2&quot;};\nawait(&quot;wait&quot;)\n        .during(Duration.ofSeconds(15))\n        .atMost(Duration.ofSeconds(19))\n        .pollInterval(Duration.ofSeconds(1))\n        .until(() -&gt; databaseService.getJournalRecords().stream()\n                .map(JournalRecord::getMessage)\n                .filter(Arrays.asList(messages)::contains)\n                .findFirst()\n                .orElse(null), Matchers.nullValue()\n        );\n</code></pre>\n<p>But I am getting an error:</p>\n<pre><code>org.awaitility.core.ConditionTimeoutException: Condition with alias 'wait' didn't complete within 19 seconds because lambda expression in my.path.MyClass: expected null but was null.\n</code></pre>\n<p>when using the construction</p>\n<pre><code>.orElse(&quot;some value&quot;), Matchers.equalTo(&quot;some value&quot;)\n</code></pre>\n<p>I get a similar error</p>\n<pre><code>org.awaitility.core.ConditionTimeoutException: Condition with alias 'wait' didn't complete within 19 seconds because lambda expression in my.path.MyClass: expected &quot;some value&quot; but was &quot;some value&quot;.\n</code></pre>\n<p>How to build awaitility correctly, what is my mistake?</p>\n"},{"tags":["java","api","jdbc","resultset"],"comments":[{"owner":{"account_id":940870,"reputation":20212,"user_id":968969,"display_name":"Tony Hopkinson"},"score":0,"creation_date":1370639488,"post_id":16992932,"comment_id":24550653,"body_markdown":"Just take the first character of the string, given it&#39;s not null or empty of course.","body":"Just take the first character of the string, given it&#39;s not null or empty of course."}],"answers":[{"tags":[],"owner":{"display_name":"user1707035"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1370639442,"creation_date":1370639442,"answer_id":16993005,"question_id":16992932,"body_markdown":"Refer to the [link][1] and see the table 3-1 and you will get decent idea that why there does not exists `getChar(String column_name)`.\r\n\r\n\r\n&lt;b&gt;Summary:&lt;/b&gt; Mapping of char is to String. So there exists `getString(String column_name)` for the char data type\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH","title":"How to get the char data type from mysql using resultset","body":"<p>Refer to the <a href=\"http://docs.oracle.com/cd/B19306_01/java.102/b14188/datamap.htm#CHDBJAGH\" rel=\"noreferrer\">link</a> and see the table 3-1 and you will get decent idea that why there does not exists <code>getChar(String column_name)</code>.</p>\n\n<p><b>Summary:</b> Mapping of char is to String. So there exists <code>getString(String column_name)</code> for the char data type</p>\n"},{"tags":[],"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1370639477,"creation_date":1370639477,"answer_id":16993016,"question_id":16992932,"body_markdown":"It is because  a [Char][1] in MySQL doesn&#39;t really mean a singular char value, it really means a array of chars.  In java an array of chars is represented as a String, hence the same method.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.0/en/char.html","title":"How to get the char data type from mysql using resultset","body":"<p>It is because  a <a href=\"http://dev.mysql.com/doc/refman/5.0/en/char.html\" rel=\"noreferrer\">Char</a> in MySQL doesn't really mean a singular char value, it really means a array of chars.  In java an array of chars is represented as a String, hence the same method.</p>\n"},{"tags":[],"owner":{"account_id":48992,"reputation":13236,"user_id":145757,"accept_rate":69,"display_name":"Pragmateek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370639500,"creation_date":1370639500,"answer_id":16993023,"question_id":16992932,"body_markdown":"Databases often have only one type for representing all the strings of characters.\r\n\r\nA char is only a special case: a string with one character, so it would not be really useful to add this type.\r\n\r\nAnd don&#39;t be fooled by their name like CHAR. :)\r\n","title":"How to get the char data type from mysql using resultset","body":"<p>Databases often have only one type for representing all the strings of characters.</p>\n\n<p>A char is only a special case: a string with one character, so it would not be really useful to add this type.</p>\n\n<p>And don't be fooled by their name like CHAR. :)</p>\n"},{"tags":[],"owner":{"account_id":1867908,"reputation":4350,"user_id":1690982,"display_name":"ddmps"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1370639837,"creation_date":1370639837,"answer_id":16993100,"question_id":16992932,"body_markdown":"As MySQL sees it, it&#39;s all `Strings` because it has no type for a single character. Sure, you can set `CHAR` or `VARCHAR` to sizes of max one, but this is a special case and you generally don&#39;t want to make methods for special cases when the functionality is already there.\r\n\r\nJust extract the Java `char` from the resulting `String`, as such:\r\n\r\n    getString(column_name).charAt(0)","title":"How to get the char data type from mysql using resultset","body":"<p>As MySQL sees it, it's all <code>Strings</code> because it has no type for a single character. Sure, you can set <code>CHAR</code> or <code>VARCHAR</code> to sizes of max one, but this is a special case and you generally don't want to make methods for special cases when the functionality is already there.</p>\n\n<p>Just extract the Java <code>char</code> from the resulting <code>String</code>, as such:</p>\n\n<pre><code>getString(column_name).charAt(0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27370250,"reputation":1,"user_id":20876419,"display_name":"Mrs. Wint Sandi Soe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672199539,"creation_date":1672199539,"answer_id":74936081,"question_id":16992932,"body_markdown":"\r\nWhen the data from table is just one character (CHAR type),\r\nI use like this in Java program.\r\n\r\n        String str=rs.getString(&quot;column_name&quot;).toString();\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to get the char data type from mysql using resultset","body":"<p>When the data from table is just one character (CHAR type),\nI use like this in Java program.</p>\n<pre><code>    String str=rs.getString(&quot;column_name&quot;).toString();\n</code></pre>\n"}],"owner":{"account_id":2625952,"reputation":217,"user_id":2272937,"accept_rate":81,"display_name":"Kanishka Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38035,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":16993005,"answer_count":5,"score":10,"last_activity_date":1672199539,"creation_date":1370639077,"question_id":16992932,"body_markdown":"I have been doing CRUD operation on database, but i could not find any direct method for the getting the data type `char` in database.\r\n\r\nThough i achieved the output using the `getString(String column_name)` of the result set, but i wonder why there does not exist any method like `getChar(String column_name)`, since String and Character are two different data types.\r\n\r\n ","title":"How to get the char data type from mysql using resultset","body":"<p>I have been doing CRUD operation on database, but i could not find any direct method for the getting the data type <code>char</code> in database.</p>\n\n<p>Though i achieved the output using the <code>getString(String column_name)</code> of the result set, but i wonder why there does not exist any method like <code>getChar(String column_name)</code>, since String and Character are two different data types.</p>\n"},{"tags":["java","android","wear-os"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672199357,"creation_date":1672199357,"answer_id":74936072,"question_id":74922896,"body_markdown":"androidx.webkit is not supported on Wear OS \r\n\r\nhttps://developer.android.com/training/wearables/data/network-access#network-access\r\n\r\n&gt; However, the android.webkit APIs (including the CookieManager class) are not available. You can use cookies by reading and writing headers on requests and responses. ","title":"Binary XML file line webview wear","body":"<p>androidx.webkit is not supported on Wear OS</p>\n<p><a href=\"https://developer.android.com/training/wearables/data/network-access#network-access\" rel=\"nofollow noreferrer\">https://developer.android.com/training/wearables/data/network-access#network-access</a></p>\n<blockquote>\n<p>However, the android.webkit APIs (including the CookieManager class) are not available. You can use cookies by reading and writing headers on requests and responses.</p>\n</blockquote>\n"}],"owner":{"account_id":27220731,"reputation":19,"user_id":20854857,"display_name":"sounds of nature"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672199357,"creation_date":1672078194,"question_id":74922896,"body_markdown":"When trying to open an application in a webview on a wear emulator, the application crashes with an error `android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView`\r\n\r\nactivity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:padding=&quot;@dimen/box_inset_layout_padding&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:deviceIds=&quot;wear&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;@dimen/inner_frame_layout_padding&quot;\r\n            app:layout_boxedEdges=&quot;all&quot;&gt;\r\n    \r\n            &lt;WebView\r\n                android:id=&quot;@+id/webview&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n        &lt;/FrameLayout&gt;\r\n    &lt;/androidx.wear.widget.BoxInsetLayout&gt;\r\n\r\nlogs\r\n\r\n    2022-12-26 21:02:25.270 3818-3818/com.buratinoapps.wearlinkinstall E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.buratinoapps.wearlinkinstall, PID: 3818\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.buratinoapps.wearlinkinstall/com.buratinoapps.wearlinkinstall.MainActivity}: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7651)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\r\n         Caused by: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n            at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n            at android.view.LayoutInflater.createView(LayoutInflater.java:774)\r\n            at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\r\n            at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\r\n            at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n            at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n            at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n            at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n            at com.buratinoapps.wearlinkinstall.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:44)\r\n            at com.buratinoapps.wearlinkinstall.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:38)\r\n            at com.buratinoapps.wearlinkinstall.MainActivity.onCreate(MainActivity.java:20)\r\n            at android.app.Activity.performCreate(Activity.java:7998)\r\n            at android.app.Activity.performCreate(Activity.java:7978)\r\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:223)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7651)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n    2022-12-26 21:02:25.272 3818-3818/com.buratinoapps.wearlinkinstall E/AndroidRuntime:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n         Caused by: java.lang.UnsupportedOperationException\r\n            at android.webkit.WebViewFactory.getProvider(WebViewFactory.java:242)\r\n            at android.webkit.WebView.getFactory(WebView.java:2576)\r\n            at android.webkit.WebView.ensureProviderCreated(WebView.java:2570)\r\n            at android.webkit.WebView.setOverScrollMode(WebView.java:2638)\r\n            at android.view.View.&lt;init&gt;(View.java:5340)\r\n            at android.view.View.&lt;init&gt;(View.java:5499)\r\n            at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:698)\r\n            at android.widget.AbsoluteLayout.&lt;init&gt;(AbsoluteLayout.java:56)\r\n            at android.webkit.WebView.&lt;init&gt;(WebView.java:413)\r\n            at android.webkit.WebView.&lt;init&gt;(WebView.java:355)\r\n            at android.webkit.WebView.&lt;init&gt;(WebView.java:337)\r\n            at android.webkit.WebView.&lt;init&gt;(WebView.java:324)\r\n\r\n","title":"Binary XML file line webview wear","body":"<p>When trying to open an application in a webview on a wear emulator, the application crashes with an error <code>android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView</code></p>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.wear.widget.BoxInsetLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;@dimen/box_inset_layout_padding&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:deviceIds=&quot;wear&quot;&gt;\n\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;@dimen/inner_frame_layout_padding&quot;\n        app:layout_boxedEdges=&quot;all&quot;&gt;\n\n        &lt;WebView\n            android:id=&quot;@+id/webview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/androidx.wear.widget.BoxInsetLayout&gt;\n</code></pre>\n<p>logs</p>\n<pre><code>2022-12-26 21:02:25.270 3818-3818/com.buratinoapps.wearlinkinstall E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.buratinoapps.wearlinkinstall, PID: 3818\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.buratinoapps.wearlinkinstall/com.buratinoapps.wearlinkinstall.MainActivity}: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7651)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\n     Caused by: android.view.InflateException: Binary XML file line #12 in com.buratinoapps.wearlinkinstall:layout/activity_main: Error inflating class android.webkit.WebView\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:774)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at com.buratinoapps.wearlinkinstall.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:44)\n        at com.buratinoapps.wearlinkinstall.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:38)\n        at com.buratinoapps.wearlinkinstall.MainActivity.onCreate(MainActivity.java:20)\n        at android.app.Activity.performCreate(Activity.java:7998)\n        at android.app.Activity.performCreate(Activity.java:7978)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7651)\n        at java.lang.reflect.Method.invoke(Native Method)\n2022-12-26 21:02:25.272 3818-3818/com.buratinoapps.wearlinkinstall E/AndroidRuntime:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.UnsupportedOperationException\n        at android.webkit.WebViewFactory.getProvider(WebViewFactory.java:242)\n        at android.webkit.WebView.getFactory(WebView.java:2576)\n        at android.webkit.WebView.ensureProviderCreated(WebView.java:2570)\n        at android.webkit.WebView.setOverScrollMode(WebView.java:2638)\n        at android.view.View.&lt;init&gt;(View.java:5340)\n        at android.view.View.&lt;init&gt;(View.java:5499)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:698)\n        at android.widget.AbsoluteLayout.&lt;init&gt;(AbsoluteLayout.java:56)\n        at android.webkit.WebView.&lt;init&gt;(WebView.java:413)\n        at android.webkit.WebView.&lt;init&gt;(WebView.java:355)\n        at android.webkit.WebView.&lt;init&gt;(WebView.java:337)\n        at android.webkit.WebView.&lt;init&gt;(WebView.java:324)\n</code></pre>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672198905,"creation_date":1648839956,"answer_id":71711712,"question_id":71710985,"body_markdown":"Normally, I&#39;m against using multiple layouts to achieve a goal, but in the case, I&#39;ll suggest splitting it up into 2 panels.  Here&#39;s an example:\r\n\r\n[![GUI result][1]][1]\r\n\r\n    public static void main(String[] args) {\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.setLayout(new GridBagLayout());\r\n\t\tInsets insets = new Insets(4, 4, 4, 4);\r\n\t\t\r\n\t\tJPanel top = new JPanel(new GridBagLayout());\r\n\t\ttop.add(new JButton(&quot;Top 1&quot;), new GridBagConstraints(0, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\ttop.add(new JButton(&quot;Top 2&quot;), new GridBagConstraints(1, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\ttop.add(new JButton(&quot;Top 3&quot;), new GridBagConstraints(2, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\ttop.add(new JButton(&quot;Top 4&quot;), new GridBagConstraints(3, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\ttop.add(new JButton(&quot;Top 5&quot;), new GridBagConstraints(4, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\t\r\n\t\tJPanel bottom = new JPanel(new GridBagLayout());\r\n\t\tbottom.add(new JButton(&quot;Mid 1&quot;), new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Mid 2&quot;), new GridBagConstraints(1, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Mid 3&quot;), new GridBagConstraints(2, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Mid 4&quot;), new GridBagConstraints(3, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\t\r\n\t\tbottom.add(new JButton(&quot;Bot 1&quot;), new GridBagConstraints(0, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Bot 2&quot;), new GridBagConstraints(1, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Bot 3&quot;), new GridBagConstraints(2, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\tbottom.add(new JButton(&quot;Bot 4&quot;), new GridBagConstraints(3, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\r\n\t\t\r\n\t\tframe.add(top, new GridBagConstraints(0, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, new Insets(0, 0, 0, 0), 0, 0));\r\n\t\tframe.add(bottom, new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, new Insets(0, 0, 0, 0), 0, 0));\r\n\t\tframe.pack();\r\n\t\tframe.setLocationRelativeTo(null);\r\n\t\tframe.setVisible(true);\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8mqgZ.png","title":"GridBagLayout Adding Space between buttons/stagger/varied columns?","body":"<p>Normally, I'm against using multiple layouts to achieve a goal, but in the case, I'll suggest splitting it up into 2 panels.  Here's an example:</p>\n<p><a href=\"https://i.stack.imgur.com/8mqgZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8mqgZ.png\" alt=\"GUI result\" /></a></p>\n<pre><code>public static void main(String[] args) {\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLayout(new GridBagLayout());\n    Insets insets = new Insets(4, 4, 4, 4);\n    \n    JPanel top = new JPanel(new GridBagLayout());\n    top.add(new JButton(&quot;Top 1&quot;), new GridBagConstraints(0, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    top.add(new JButton(&quot;Top 2&quot;), new GridBagConstraints(1, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    top.add(new JButton(&quot;Top 3&quot;), new GridBagConstraints(2, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    top.add(new JButton(&quot;Top 4&quot;), new GridBagConstraints(3, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    top.add(new JButton(&quot;Top 5&quot;), new GridBagConstraints(4, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    \n    JPanel bottom = new JPanel(new GridBagLayout());\n    bottom.add(new JButton(&quot;Mid 1&quot;), new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Mid 2&quot;), new GridBagConstraints(1, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Mid 3&quot;), new GridBagConstraints(2, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Mid 4&quot;), new GridBagConstraints(3, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    \n    bottom.add(new JButton(&quot;Bot 1&quot;), new GridBagConstraints(0, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Bot 2&quot;), new GridBagConstraints(1, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Bot 3&quot;), new GridBagConstraints(2, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    bottom.add(new JButton(&quot;Bot 4&quot;), new GridBagConstraints(3, 2, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, insets, 0, 0));\n    \n    frame.add(top, new GridBagConstraints(0, 0, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, new Insets(0, 0, 0, 0), 0, 0));\n    frame.add(bottom, new GridBagConstraints(0, 1, 1, 1, 1, 1, GridBagConstraints.CENTER, GridBagConstraints.HORIZONTAL, new Insets(0, 0, 0, 0), 0, 0));\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648842270,"creation_date":1648842270,"answer_id":71712077,"question_id":71710985,"body_markdown":"I&#39;d approach this GUI as one border layout containing two grid layouts.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ikjsk.png\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    public class FiveAndEightLayout {\r\n    \r\n        public FiveAndEightLayout() {\r\n            JPanel gui = new JPanel(new BorderLayout(4,4));\r\n            gui.setBorder(new TitledBorder(&quot;Border Layout&quot;));\r\n    \r\n            JPanel topPanel = new JPanel(new GridLayout(1,0,0,0));\r\n            for (int ii=1; ii&lt;6; ii++) {\r\n                topPanel.add(new JButton(&quot;Button &quot; + ii));\r\n            }\r\n            topPanel.setBorder(new TitledBorder(&quot;Grid Layout&quot;));\r\n            gui.add(topPanel, BorderLayout.PAGE_START);\r\n    \r\n            JPanel centerPanel = new JPanel(new GridLayout(0,4,15,5));\r\n            for (int ii=1; ii&lt;9; ii++) {\r\n                centerPanel.add(new JButton(&quot;Button &quot; + ii));\r\n            }\r\n            centerPanel.setBorder(new TitledBorder(&quot;Grid Layout&quot;));\r\n            gui.add(centerPanel, BorderLayout.CENTER);\r\n    \r\n            JFrame f = new JFrame(&quot;Five And Eight Layout&quot;);\r\n            f.add(gui);\r\n            f.pack();\r\n            f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            f.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Runnable r = new Runnable() {\r\n                public void run() {\r\n                    new FiveAndEightLayout();\r\n                }\r\n            };\r\n            SwingUtilities.invokeLater(r);\r\n        }\r\n    }","title":"GridBagLayout Adding Space between buttons/stagger/varied columns?","body":"<p>I'd approach this GUI as one border layout containing two grid layouts.</p>\n<p><a href=\"https://i.stack.imgur.com/ikjsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikjsk.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.border.*;\n\npublic class FiveAndEightLayout {\n\n    public FiveAndEightLayout() {\n        JPanel gui = new JPanel(new BorderLayout(4,4));\n        gui.setBorder(new TitledBorder(&quot;Border Layout&quot;));\n\n        JPanel topPanel = new JPanel(new GridLayout(1,0,0,0));\n        for (int ii=1; ii&lt;6; ii++) {\n            topPanel.add(new JButton(&quot;Button &quot; + ii));\n        }\n        topPanel.setBorder(new TitledBorder(&quot;Grid Layout&quot;));\n        gui.add(topPanel, BorderLayout.PAGE_START);\n\n        JPanel centerPanel = new JPanel(new GridLayout(0,4,15,5));\n        for (int ii=1; ii&lt;9; ii++) {\n            centerPanel.add(new JButton(&quot;Button &quot; + ii));\n        }\n        centerPanel.setBorder(new TitledBorder(&quot;Grid Layout&quot;));\n        gui.add(centerPanel, BorderLayout.CENTER);\n\n        JFrame f = new JFrame(&quot;Five And Eight Layout&quot;);\n        f.add(gui);\n        f.pack();\n        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        f.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        Runnable r = new Runnable() {\n            public void run() {\n                new FiveAndEightLayout();\n            }\n        };\n        SwingUtilities.invokeLater(r);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21192751,"reputation":329,"user_id":15584917,"display_name":"1288Meow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71712077,"answer_count":2,"score":1,"last_activity_date":1672198905,"creation_date":1648835443,"question_id":71710985,"body_markdown":"I am trying to create a layout with `GridBagLayout` but am having trouble getting the spaces in between the `JButton` controls to be equal. In the first row, there are 5 buttons that have no space in between. The second and third row should have 4 buttons which are smaller which spaces in between. \r\n\r\nThe workaround I tried was to make it a 35x35 grid where the top buttons have width 7 and the other buttons width 5. I cannot figure out how to get the 4 buttons to align evenly (The space in the last column is smaller). \r\n\r\n[![enter image description here][1]][1]\r\n    \r\n  [1]: https://i.stack.imgur.com/RTaN9.png\r\n\r\n\r\nCode below: \r\n\r\n    import java.awt.Color;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.Action;\r\n    import javax.swing.Icon;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JColorChooser;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.colorchooser.AbstractColorChooserPanel;\r\n    import java.awt.Insets;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.GridBagConstraints;\r\n    \r\n    public class MainTwo {\r\n    \tpublic static void main(String[] a) {\r\n    \t\tfinal JColorChooser colorChooser = new JColorChooser();\r\n    \t\tMyChooserPanel newChooser = new MyChooserPanel();\r\n    \t\tcolorChooser.addChooserPanel(newChooser);\r\n    \r\n    \t\tActionListener okActionListener = new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent actionEvent) {\r\n    \t\t\t\tSystem.out.println(colorChooser.getColor());\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tActionListener cancelActionListener = new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent actionEvent) {\r\n    \t\t\t\tSystem.out.println(&quot;Cancel&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tfinal JDialog dialog = JColorChooser.createDialog(null, &quot;Change Button Background&quot;, true, colorChooser,\r\n    \t\t\t\tokActionListener, cancelActionListener);\r\n    \t\tdialog.setVisible(true);\r\n    \t}\r\n    }\r\n    \r\n    class MyChooserPanel extends AbstractColorChooserPanel {\r\n    \tpublic void buildChooser() {\r\n    \t\tsetLayout(new GridBagLayout());\t\r\n    \t\tGridBagConstraints c = new GridBagConstraints();\r\n    \t\tc.fill = GridBagConstraints.NONE;\r\n    \t\tc.ipadx = 21;\r\n    \t\tc.ipady = 15;\r\n    \t\tc.gridwidth = 7;\r\n    \t\tmakeAddButton(&quot;Black&quot;, Color.BLACK, c);\r\n    \t\tmakeAddButton(&quot;Dark Grey&quot;, Color.PINK, c);\r\n    \t\tmakeAddButton(&quot;Custom PathVisio Grey&quot;, Color.YELLOW, c);\r\n    \t\tmakeAddButton(&quot;Grey&quot;, Color.CYAN, c);\r\n    \t\tmakeAddButton(&quot;White&quot;, Color.WHITE, c);\r\n    \t\tc.ipadx = 15;\r\n    \t\tc.gridwidth = 5;\r\n    \t\tc.insets = new Insets(10,0,0,0);\r\n    \t\tc.gridy = 1; // new row\r\n    \t\tmakeAddButton(&quot;Blue&quot;, Color.BLUE, c);\r\n    \t\tc.gridx = 10;\r\n    \t\tmakeAddButton(&quot;Green&quot;, Color.GREEN, c);\r\n    \t\tc.gridx = 20;\r\n    \t\tmakeAddButton(&quot;Purple&quot;, Color.MAGENTA, c);\r\n    \t\tc.gridx = 30;\r\n    \t\tmakeAddButton(&quot;Orange&quot;, Color.ORANGE, c);\r\n    \t\tc.gridy = 2; // new row\r\n    \t\tc.gridx = 0;\r\n    \t\tmakeAddButton(&quot;Dark Blue&quot;, Color.BLUE, c);\r\n    \t\tc.gridx = 10;\r\n    \t\tmakeAddButton(&quot;Dark Green&quot;, Color.GREEN, c);\r\n    \t\tc.gridx = 20;\r\n    \t\tmakeAddButton(&quot;Dark Purple&quot;, Color.MAGENTA, c);\r\n    \t\tc.gridx = 30;\r\n    \t\tmakeAddButton(&quot;Dark Orange&quot;, Color.ORANGE, c);\r\n    \t}\r\n    \r\n    \tpublic void updateChooser() {\r\n    \t}\r\n    \r\n    \tpublic String getDisplayName() {\r\n    \t\treturn &quot;Panel&quot;;\r\n    \t}\r\n    \r\n    \tpublic Icon getSmallDisplayIcon() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic Icon getLargeDisplayIcon() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tprivate void makeAddButton(String name, Color color, GridBagConstraints c) {\r\n    \t\tJButton button = new JButton(name);\r\n    \t\tbutton.setBackground(color);\r\n    \t\tbutton.setBorderPainted(false);\r\n    \t\tbutton.setOpaque(true);\r\n    \t\tbutton.setAction(setColorAction);\r\n    \t\tbutton.setToolTipText(name);\r\n    \t\tadd(button, c);\r\n    \t}\r\n    \r\n    \tAction setColorAction = new AbstractAction() {\r\n    \t\tpublic void actionPerformed(ActionEvent evt) {\r\n    \t\t\tJButton button = (JButton) evt.getSource();\r\n    \t\t\tgetColorSelectionModel().setSelectedColor(button.getBackground());\r\n    \t\t}\r\n    \t};\r\n    }\r\n\r\n","title":"GridBagLayout Adding Space between buttons/stagger/varied columns?","body":"<p>I am trying to create a layout with <code>GridBagLayout</code> but am having trouble getting the spaces in between the <code>JButton</code> controls to be equal. In the first row, there are 5 buttons that have no space in between. The second and third row should have 4 buttons which are smaller which spaces in between.</p>\n<p>The workaround I tried was to make it a 35x35 grid where the top buttons have width 7 and the other buttons width 5. I cannot figure out how to get the 4 buttons to align evenly (The space in the last column is smaller).</p>\n<p><a href=\"https://i.stack.imgur.com/RTaN9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RTaN9.png\" alt=\"enter image description here\" /></a></p>\n<p>Code below:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.Action;\nimport javax.swing.Icon;\n\nimport javax.swing.JButton;\nimport javax.swing.JColorChooser;\nimport javax.swing.JDialog;\nimport javax.swing.colorchooser.AbstractColorChooserPanel;\nimport java.awt.Insets;\nimport java.awt.GridBagLayout;\nimport java.awt.GridBagConstraints;\n\npublic class MainTwo {\n    public static void main(String[] a) {\n        final JColorChooser colorChooser = new JColorChooser();\n        MyChooserPanel newChooser = new MyChooserPanel();\n        colorChooser.addChooserPanel(newChooser);\n\n        ActionListener okActionListener = new ActionListener() {\n            public void actionPerformed(ActionEvent actionEvent) {\n                System.out.println(colorChooser.getColor());\n            }\n        };\n\n        ActionListener cancelActionListener = new ActionListener() {\n            public void actionPerformed(ActionEvent actionEvent) {\n                System.out.println(&quot;Cancel&quot;);\n            }\n        };\n\n        final JDialog dialog = JColorChooser.createDialog(null, &quot;Change Button Background&quot;, true, colorChooser,\n                okActionListener, cancelActionListener);\n        dialog.setVisible(true);\n    }\n}\n\nclass MyChooserPanel extends AbstractColorChooserPanel {\n    public void buildChooser() {\n        setLayout(new GridBagLayout()); \n        GridBagConstraints c = new GridBagConstraints();\n        c.fill = GridBagConstraints.NONE;\n        c.ipadx = 21;\n        c.ipady = 15;\n        c.gridwidth = 7;\n        makeAddButton(&quot;Black&quot;, Color.BLACK, c);\n        makeAddButton(&quot;Dark Grey&quot;, Color.PINK, c);\n        makeAddButton(&quot;Custom PathVisio Grey&quot;, Color.YELLOW, c);\n        makeAddButton(&quot;Grey&quot;, Color.CYAN, c);\n        makeAddButton(&quot;White&quot;, Color.WHITE, c);\n        c.ipadx = 15;\n        c.gridwidth = 5;\n        c.insets = new Insets(10,0,0,0);\n        c.gridy = 1; // new row\n        makeAddButton(&quot;Blue&quot;, Color.BLUE, c);\n        c.gridx = 10;\n        makeAddButton(&quot;Green&quot;, Color.GREEN, c);\n        c.gridx = 20;\n        makeAddButton(&quot;Purple&quot;, Color.MAGENTA, c);\n        c.gridx = 30;\n        makeAddButton(&quot;Orange&quot;, Color.ORANGE, c);\n        c.gridy = 2; // new row\n        c.gridx = 0;\n        makeAddButton(&quot;Dark Blue&quot;, Color.BLUE, c);\n        c.gridx = 10;\n        makeAddButton(&quot;Dark Green&quot;, Color.GREEN, c);\n        c.gridx = 20;\n        makeAddButton(&quot;Dark Purple&quot;, Color.MAGENTA, c);\n        c.gridx = 30;\n        makeAddButton(&quot;Dark Orange&quot;, Color.ORANGE, c);\n    }\n\n    public void updateChooser() {\n    }\n\n    public String getDisplayName() {\n        return &quot;Panel&quot;;\n    }\n\n    public Icon getSmallDisplayIcon() {\n        return null;\n    }\n\n    public Icon getLargeDisplayIcon() {\n        return null;\n    }\n\n    private void makeAddButton(String name, Color color, GridBagConstraints c) {\n        JButton button = new JButton(name);\n        button.setBackground(color);\n        button.setBorderPainted(false);\n        button.setOpaque(true);\n        button.setAction(setColorAction);\n        button.setToolTipText(name);\n        add(button, c);\n    }\n\n    Action setColorAction = new AbstractAction() {\n        public void actionPerformed(ActionEvent evt) {\n            JButton button = (JButton) evt.getSource();\n            getColorSelectionModel().setSelectedColor(button.getBackground());\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","while-loop","jmeter","conditional-statements"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670572622,"creation_date":1670572622,"answer_id":74740260,"question_id":74737879,"body_markdown":"JMeter&#39;s built-in test elements are not flexible enough to implement your criteria, you will need to go for [JSR223 PostProcessor][1] and some [Groovy][2] scripting. \r\n\r\nExample setup:\r\n\r\n 1. Change your While Controller&#39;s condition to the following [__jexl3()][3] function:\r\n\r\n        ${__jexl3(${matches} &lt; 5,)}\r\n 2. Put your request which is in the While Controller under the [If Controller][4] and use the following condition:\r\n\r\n        ${__jexl3(&quot;${__V(MultitrackerId_${counter})}_skip&quot; != &quot;true&quot;,)}\r\n 3. Add JSR223 PostProcessor as a child of the request which might return `SUCCESSFUL` and put the following code there:\r\n\r\n        def matches = vars.getObject(&#39;matches&#39;) ?: 0\r\n        \r\n        if (prev.getResponseData().contains(&#39;SUCCESSFUL&#39;)) {\r\n            vars.putObject(&#39;matches&#39;, matches + 1)\r\n            def variable = &#39;multitrackerIdvalue_&#39; + ((vars.get(&#39;__jm__While Controller__idx&#39;) as int) + 1)\r\n            vars.put(variable + &#39;_skip&#39;, &#39;true&#39;)\r\n        }\r\n\r\n        \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSR223_PostProcessor\r\n  [2]: https://groovy-lang.org/\r\n  [3]: https://jmeter.apache.org/usermanual/functions.html#__jexl3\r\n  [4]: https://www.blazemeter.com/blog/jmeter-if-controller","title":"Jmeter - Stop sending requests after certain condition is met using while controller","body":"<p>JMeter's built-in test elements are not flexible enough to implement your criteria, you will need to go for <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSR223_PostProcessor\" rel=\"nofollow noreferrer\">JSR223 PostProcessor</a> and some <a href=\"https://groovy-lang.org/\" rel=\"nofollow noreferrer\">Groovy</a> scripting.</p>\n<p>Example setup:</p>\n<ol>\n<li><p>Change your While Controller's condition to the following <a href=\"https://jmeter.apache.org/usermanual/functions.html#__jexl3\" rel=\"nofollow noreferrer\">__jexl3()</a> function:</p>\n<pre><code>${__jexl3(${matches} &lt; 5,)}\n</code></pre>\n</li>\n<li><p>Put your request which is in the While Controller under the <a href=\"https://www.blazemeter.com/blog/jmeter-if-controller\" rel=\"nofollow noreferrer\">If Controller</a> and use the following condition:</p>\n<pre><code>${__jexl3(&quot;${__V(MultitrackerId_${counter})}_skip&quot; != &quot;true&quot;,)}\n</code></pre>\n</li>\n<li><p>Add JSR223 PostProcessor as a child of the request which might return <code>SUCCESSFUL</code> and put the following code there:</p>\n<pre><code>def matches = vars.getObject('matches') ?: 0\n\nif (prev.getResponseData().contains('SUCCESSFUL')) {\n    vars.putObject('matches', matches + 1)\n    def variable = 'multitrackerIdvalue_' + ((vars.get('__jm__While Controller__idx') as int) + 1)\n    vars.put(variable + '_skip', 'true')\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":27195540,"reputation":1,"user_id":20728486,"display_name":"Daniel Cata&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672198147,"creation_date":1670547558,"question_id":74737879,"body_markdown":"I am creating a jmeter script that picks a value from a previously captured variable called MultitrackeId which can contains &quot;n&quot; values.\r\n\r\n![MultitrackerId variables](https://i.stack.imgur.com/v3cTF.png)\r\n\r\nIn the screenshot, for example there are 5 values which are expected to be sent over and over again until &quot;SUCCESSFUL&quot; is present in the response body, I am using a single thread, a counter and a WHILE controller for iterating sequentially like this:\r\n\r\n![counter](https://i.stack.imgur.com/Fqtf8.png)\r\n\r\nThe counter takes `${miltitrackedid_matchNr}` as the maximum value and it starts in 1 with a 1 increment.this is how the implementation looks in the request:\r\n\r\n![implementation](https://i.stack.imgur.com/AuIs8.png)\r\n\r\nCurrently, the WHILE controller has no any conditions so it&#39;s being used just for iterate. At this point the thread keeps in a infinite loop sending requests like these:\r\n\r\n```\r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_1 \r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_2 \r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_3 \r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_4 \r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_5\r\n```\r\n\r\nand it starts again\r\n\r\n```\r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_1 \r\n... \r\n... \r\n... \r\ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_5\r\n```\r\n\r\nI need to loop sequentially as shown for all the multitrackerId values until &quot;SUCCESSFUL&quot; value is found and then stop sending that specific request and wait for the others multitrackerId requests to contains the value in the response to finally stop the thread and end the test.\r\n\r\nI have tried to figure out which is the indicated condition, I am currently using\\_\r\n\r\n```\r\n${\\__javaScript(&quot;${VarStatus}&quot;.indexOf(&quot;SUCCESSFUL&quot;) == -1)}\r\n```\r\n\r\nHowever, this is not a proper solution considering that after the first &quot;SUCCESSFUL&quot; occurrence in the response the thread will stop without having the met conditions for the remaining MultitrackerIds. \r\n\r\nDo you have any recommendations or possible approach for solving this ?\r\n","title":"Jmeter - Stop sending requests after certain condition is met using while controller","body":"<p>I am creating a jmeter script that picks a value from a previously captured variable called MultitrackeId which can contains &quot;n&quot; values.</p>\n<p><img src=\"https://i.stack.imgur.com/v3cTF.png\" alt=\"MultitrackerId variables\" /></p>\n<p>In the screenshot, for example there are 5 values which are expected to be sent over and over again until &quot;SUCCESSFUL&quot; is present in the response body, I am using a single thread, a counter and a WHILE controller for iterating sequentially like this:</p>\n<p><img src=\"https://i.stack.imgur.com/Fqtf8.png\" alt=\"counter\" /></p>\n<p>The counter takes <code>${miltitrackedid_matchNr}</code> as the maximum value and it starts in 1 with a 1 increment.this is how the implementation looks in the request:</p>\n<p><img src=\"https://i.stack.imgur.com/AuIs8.png\" alt=\"implementation\" /></p>\n<p>Currently, the WHILE controller has no any conditions so it's being used just for iterate. At this point the thread keeps in a infinite loop sending requests like these:</p>\n<pre><code>domain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_1 \ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_2 \ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_3 \ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_4 \ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_5\n</code></pre>\n<p>and it starts again</p>\n<pre><code>domain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_1 \n... \n... \n... \ndomain/${__V(MultitrackerId_${counter})} --&gt;  /multitrackerIdvalue_5\n</code></pre>\n<p>I need to loop sequentially as shown for all the multitrackerId values until &quot;SUCCESSFUL&quot; value is found and then stop sending that specific request and wait for the others multitrackerId requests to contains the value in the response to finally stop the thread and end the test.</p>\n<p>I have tried to figure out which is the indicated condition, I am currently using_</p>\n<pre><code>${\\__javaScript(&quot;${VarStatus}&quot;.indexOf(&quot;SUCCESSFUL&quot;) == -1)}\n</code></pre>\n<p>However, this is not a proper solution considering that after the first &quot;SUCCESSFUL&quot; occurrence in the response the thread will stop without having the met conditions for the remaining MultitrackerIds.</p>\n<p>Do you have any recommendations or possible approach for solving this ?</p>\n"},{"tags":["java","logging","java.util.logging"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1661719716,"post_id":73522118,"comment_id":129833122,"body_markdown":"Those if-statements are useless by the way. Check the implementation of those methods. They already call `isLoggable` themselves. Adding the condition yourself is worse in 3 ways: verbosity, performance, and susceptibility to typo bugs.","body":"Those if-statements are useless by the way. Check the implementation of those methods. They already call <code>isLoggable</code> themselves. Adding the condition yourself is worse in 3 ways: verbosity, performance, and susceptibility to typo bugs."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1661719825,"post_id":73522118,"comment_id":129833146,"body_markdown":"Thanks. I did not know that, removed. Is that true for other logging frameworks as well, such as Log4J 1/2, Logback and SLF4J, etc?","body":"Thanks. I did not know that, removed. Is that true for other logging frameworks as well, such as Log4J 1/2, Logback and SLF4J, etc?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661720176,"post_id":73522118,"comment_id":129833209,"body_markdown":"Yes. The idea is that the logger is responsible for deciding if the message should be logged based on the message&#39;s level and the configured level of the logger. Application code should not be concerned with that. Pretty much the only time it makes sense to manually check if a logger will log at a certain level is if the message is expensive to compute, but most (if not all) modern frameworks provide an API to specify lazily computed messages.","body":"Yes. The idea is that the logger is responsible for deciding if the message should be logged based on the message&#39;s level and the configured level of the logger. Application code should not be concerned with that. Pretty much the only time it makes sense to manually check if a logger will log at a certain level is if the message is expensive to compute, but most (if not all) modern frameworks provide an API to specify lazily computed messages."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1661720625,"post_id":73522118,"comment_id":129833288,"body_markdown":"It&#39;s true for all those frameworks, yes. There are some exceptions when you might want to include the condition, like `log.debug(&quot;foo {}&quot;, someExpensiveOperation())` but it&#39;s not the norm","body":"It&#39;s true for all those frameworks, yes. There are some exceptions when you might want to include the condition, like <code>log.debug(&quot;foo {}&quot;, someExpensiveOperation())</code> but it&#39;s not the norm"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661720646,"post_id":73522118,"comment_id":129833292,"body_markdown":"With `java.util.logging`, the `Handler`s also have a level that you need to configure. Also, depending on how you got the instance of `logger`, it&#39;s possible it has no handlers, and in fact the output you&#39;re seeing is from one of its ancestors (assuming `useParentHandlers` is not set to `false`).","body":"With <code>java.util.logging</code>, the <code>Handler</code>s also have a level that you need to configure. Also, depending on how you got the instance of <code>logger</code>, it&#39;s possible it has no handlers, and in fact the output you&#39;re seeing is from one of its ancestors (assuming <code>useParentHandlers</code> is not set to <code>false</code>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661720745,"post_id":73522118,"comment_id":129833308,"body_markdown":"@Michael But even then, you could do `log.debug(&quot;foo {}&quot;, () -&gt; someExpensiveOperation())` or something similar, without the manual if-can-log-at-certain-level condition check, at least with Log4j2&#39;s API.","body":"@Michael But even then, you could do <code>log.debug(&quot;foo {}&quot;, () -&gt; someExpensiveOperation())</code> or something similar, without the manual if-can-log-at-certain-level condition check, at least with Log4j2&#39;s API."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661720483,"creation_date":1661720483,"answer_id":73522242,"question_id":73522118,"body_markdown":"You need to additionally set the level on the [Handlers](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html). Handlers are the things which take the actual log events and then push them to stdout, in your case.\r\n\r\n    logger.setLevel(Level.ALL);\r\n    for (Handler handler : logger.getParent().getHandlers()) {\r\n        handler.setLevel(Level.ALL);\r\n    }\r\n\r\n","title":"Why is Java Logging API not displaying FINE messages?","body":"<p>You need to additionally set the level on the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/Handler.html\" rel=\"nofollow noreferrer\">Handlers</a>. Handlers are the things which take the actual log events and then push them to stdout, in your case.</p>\n<pre><code>logger.setLevel(Level.ALL);\nfor (Handler handler : logger.getParent().getHandlers()) {\n    handler.setLevel(Level.ALL);\n}\n</code></pre>\n"}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672198139,"creation_date":1661719242,"question_id":73522118,"body_markdown":"I am wondering why Java Logging API is not displaying fine, finer, and finest messages.\r\n\r\nLet&#39;s look at the following code:\r\n\r\n    logger.setLevel(Level.ALL);\r\n    logger.info(&quot;Level:&quot; + logger.getLevel());\r\n    logger.severe(&quot;Some Fatal message%n&quot;);\r\n    logger.warning(&quot;Some WARN message%n&quot;);\r\n    logger.info(&quot;Some INFO message%n&quot;);\r\n    logger.fine(&quot;Some DEBUG message%n&quot;);\r\n    logger.finer(&quot;Some DEBUG message%n&quot;);\r\n    logger.finest(&quot;Some TRACE message%n&quot;);\r\n\r\nI would expect this to display every log message, since I am specifying LogLevel.ALL in the first line.\r\n\r\nHowever it is omitting the fine messages, this is what I see:   \r\n  \r\n22-08-28 16:37:25.997 INFO    [global] Level:ALL   \r\n22-08-28 16:37:26.025 SEVERE  [global] Some Fatal message   \r\n22-08-28 16:37:26.025 WARNING [global] Some WARN message   \r\n22-08-28 16:37:26.026 INFO    [global] Some INFO message   \r\n\r\nWhy is it skipping the fine, finer, and finest, given that I have the level set to ALL?\r\n","title":"Why is Java Logging API not displaying FINE messages?","body":"<p>I am wondering why Java Logging API is not displaying fine, finer, and finest messages.</p>\n<p>Let's look at the following code:</p>\n<pre><code>logger.setLevel(Level.ALL);\nlogger.info(&quot;Level:&quot; + logger.getLevel());\nlogger.severe(&quot;Some Fatal message%n&quot;);\nlogger.warning(&quot;Some WARN message%n&quot;);\nlogger.info(&quot;Some INFO message%n&quot;);\nlogger.fine(&quot;Some DEBUG message%n&quot;);\nlogger.finer(&quot;Some DEBUG message%n&quot;);\nlogger.finest(&quot;Some TRACE message%n&quot;);\n</code></pre>\n<p>I would expect this to display every log message, since I am specifying LogLevel.ALL in the first line.</p>\n<p>However it is omitting the fine messages, this is what I see:</p>\n<p>22-08-28 16:37:25.997 INFO    [global] Level:ALL<br />\n22-08-28 16:37:26.025 SEVERE  [global] Some Fatal message<br />\n22-08-28 16:37:26.025 WARNING [global] Some WARN message<br />\n22-08-28 16:37:26.026 INFO    [global] Some INFO message</p>\n<p>Why is it skipping the fine, finer, and finest, given that I have the level set to ALL?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1672086157,"post_id":74923294,"comment_id":132219359,"body_markdown":"See https://docs.spring.io/spring-kafka/docs/3.0.x/reference/html/#filtering-messages.","body":"See <a href=\"https://docs.spring.io/spring-kafka/docs/3.0.x/reference/html/#filtering-messages\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/3.0.x/reference/html/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672198047,"creation_date":1672198047,"answer_id":74935988,"question_id":74923294,"body_markdown":"You could use neither and put conditional statements directly in the Listener method.\r\n\r\nBut interceptor would run before Spring gets hold of the record.\r\n\r\nYou could also use Kafka Streams filter/branch operators to optionally process/drop records ","title":"What component work earlier in flow? RecordFilterStrategy or ConsumerInterceptor?","body":"<p>You could use neither and put conditional statements directly in the Listener method.</p>\n<p>But interceptor would run before Spring gets hold of the record.</p>\n<p>You could also use Kafka Streams filter/branch operators to optionally process/drop records</p>\n"}],"owner":{"account_id":16292219,"reputation":123,"user_id":11765438,"display_name":"qwerty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672198047,"creation_date":1672081628,"question_id":74923294,"body_markdown":"I have kafka consumer in my spring-boot application. And I need to filter consumed messages. On filtered messages I wan&#39;t to do some action&#39;s and do not provide to consumer, on the other side I need to continue processing on non filtered messages through my app flow. Can I combine this to approaches like RecordFilterStrategy and ConsumerInterceptor for that peuposes or I can use only something one ? And what the best way for filtering and do some action&#39;s on messages in kafka? ","title":"What component work earlier in flow? RecordFilterStrategy or ConsumerInterceptor?","body":"<p>I have kafka consumer in my spring-boot application. And I need to filter consumed messages. On filtered messages I wan't to do some action's and do not provide to consumer, on the other side I need to continue processing on non filtered messages through my app flow. Can I combine this to approaches like RecordFilterStrategy and ConsumerInterceptor for that peuposes or I can use only something one ? And what the best way for filtering and do some action's on messages in kafka?</p>\n"},{"tags":["java","arrays","loops","matrix"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1672194779,"post_id":74935697,"comment_id":132239791,"body_markdown":"If you just add an `else counter = 0` to your inner `if`, will that give you what you want?","body":"If you just add an <code>else counter = 0</code> to your inner <code>if</code>, will that give you what you want?"},{"owner":{"account_id":16814635,"reputation":1,"user_id":19069286,"display_name":"Pablo pelotazos"},"score":0,"creation_date":1672195107,"post_id":74935697,"comment_id":132239833,"body_markdown":"@CryptoFool Nope, thought so but just stops deleting most of the lines","body":"@CryptoFool Nope, thought so but just stops deleting most of the lines"}],"answers":[{"tags":[],"owner":{"account_id":4790793,"reputation":167,"user_id":3870048,"display_name":"MGM_Squared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672196339,"creation_date":1672196339,"answer_id":74935857,"question_id":74935697,"body_markdown":"So we want to see if there are 3 consecutive elements with the same value, but what it looks like to me is we are simply testing if there are three values in a row of the board that are equal.  This works if we find a section of consecutive equivalent elements, but as soon as we find a space or non-equal element the logic fails.   \r\n\r\nThings we need to consider:\r\n1. If the counter reaches 3 we can break out of your conditional and delete.  This case is covered.  \r\n2. If your counter is updated from its original value (counter &gt; 1) and never reaches 3 we know we must have encountered either a space or a non-equivalent value.  In this case we should reset the counter and continue our test for the rest of the row.\r\n\r\n","title":"How to find a &gt;3 line of consecutive elements in a 2d array","body":"<p>So we want to see if there are 3 consecutive elements with the same value, but what it looks like to me is we are simply testing if there are three values in a row of the board that are equal.  This works if we find a section of consecutive equivalent elements, but as soon as we find a space or non-equal element the logic fails.</p>\n<p>Things we need to consider:</p>\n<ol>\n<li>If the counter reaches 3 we can break out of your conditional and delete.  This case is covered.</li>\n<li>If your counter is updated from its original value (counter &gt; 1) and never reaches 3 we know we must have encountered either a space or a non-equivalent value.  In this case we should reset the counter and continue our test for the rest of the row.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672197123,"creation_date":1672197123,"answer_id":74935916,"question_id":74935697,"body_markdown":"Your problem is that you are not counting consecutive values, but rather pairs of consecutive values.  For `&#39;b&#39;, &#39;b&#39;, &#39;b&#39;`, there are three `b` characters, but only `2` pairs of values, 1) the first and second `b`, and 2) the second and third `b`.  Your counter should start at `1` rather than `0` because every value is by itself a run of `1` &quot;consecutive&quot; values.  This, along with resetting the counter when you see a non-matching letter should give you the result you desire.\r\n\r\nI haven&#39;t tried this as I don&#39;t have your data or the structures that this code uses, but try this:\r\n\r\npublic int[] checkRows() {\r\n        int[] results = new int[BOARD_SIZE];\r\n        \r\n        for (int i = 0; i &lt; BOARD_SIZE; i++) {\r\n            int counter = 1;\r\n            int counterHead = 1;\r\n            int j = 1;\r\n            \r\n            while (j &lt; BOARD_SIZE) {\r\n                if (j+1 &lt; BOARD_SIZE) {\r\n                    if (getBoard()[i][j].getType() == getBoard()[i][j+1].getType() &amp;&amp; getBoard()[i][j].getType() != &#39; &#39;) {\r\n                        counter++;\r\n                    }\r\n                    else {\r\n                        counter = 1;\r\n                    }\r\n\r\n                }\r\n                if (counter &gt;= 3)\r\n                    deleteRows(i, j);\r\n                j++;\r\n            }\r\n            \r\n            results[i] = counter;       \r\n        }\r\n        \r\n        return results;\r\n    }\r\n","title":"How to find a &gt;3 line of consecutive elements in a 2d array","body":"<p>Your problem is that you are not counting consecutive values, but rather pairs of consecutive values.  For <code>'b', 'b', 'b'</code>, there are three <code>b</code> characters, but only <code>2</code> pairs of values, 1) the first and second <code>b</code>, and 2) the second and third <code>b</code>.  Your counter should start at <code>1</code> rather than <code>0</code> because every value is by itself a run of <code>1</code> &quot;consecutive&quot; values.  This, along with resetting the counter when you see a non-matching letter should give you the result you desire.</p>\n<p>I haven't tried this as I don't have your data or the structures that this code uses, but try this:</p>\n<p>public int[] checkRows() {\nint[] results = new int[BOARD_SIZE];</p>\n<pre><code>    for (int i = 0; i &lt; BOARD_SIZE; i++) {\n        int counter = 1;\n        int counterHead = 1;\n        int j = 1;\n        \n        while (j &lt; BOARD_SIZE) {\n            if (j+1 &lt; BOARD_SIZE) {\n                if (getBoard()[i][j].getType() == getBoard()[i][j+1].getType() &amp;&amp; getBoard()[i][j].getType() != ' ') {\n                    counter++;\n                }\n                else {\n                    counter = 1;\n                }\n\n            }\n            if (counter &gt;= 3)\n                deleteRows(i, j);\n            j++;\n        }\n        \n        results[i] = counter;       \n    }\n    \n    return results;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26576243,"reputation":1,"user_id":20201575,"display_name":"ZoroSenpai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672197701,"creation_date":1672197701,"answer_id":74935964,"question_id":74935697,"body_markdown":"First of all, I would suggest that for such complex problems, always try to break your problems and then merge those pieces together.\r\n\r\nBelow is the algorithm for your problem, just for simplicity and ease of explanation I used an Integer array which you can easily replace with a string or character array and change the condition.\r\n\r\nA basic function for performing candyCrush Algorithm.\r\n\r\n    public void candyCrush(){\r\n        int[][] result = new int[][]{{1,2,2,2,2},\r\n                                     {1,2,2,2,1},\r\n                                     {1,2,1,1,1},\r\n                                     {2,1,2,1,1}\r\n        };\r\n\r\n        int count = 0;\r\n\r\n        for (int i = 0; i &lt; result.length; i++) {\r\n            for (int j = 0; j &lt; result[i].length; j++) {\r\n                if(result[i][j]==-1){\r\n                    continue;\r\n                }\r\n                boolean hasRowElements = checkRowForCurrentIndex(result, i, j);\r\n                boolean hasColumnElements = checkColumnForCurrentIndex(result, i, j);\r\n                if(hasRowElements || hasColumnElements){\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(count);\r\n    }\r\n\r\n\r\n\r\n    private boolean checkRowForCurrentIndex(int[][] result, int row, int col) {\r\n        int forTop = row, forBottom = row;\r\n        int topStartingLimit = 0, bottomEndingLimit = 0;\r\n        while(forTop&gt;= 0){\r\n            if(result[row][col] == result[forTop][col] &amp;&amp; result[forTop][col]!=-1){\r\n                topStartingLimit = forTop;\r\n            }else{\r\n                break;\r\n            }\r\n            forTop--;\r\n        }\r\n\r\n        while(forBottom&lt; result.length){\r\n            if(result[row][col] == result[forBottom][col] &amp;&amp; result[forBottom][col]!=-1){\r\n                bottomEndingLimit = forBottom;\r\n            }else{\r\n                break;\r\n            }\r\n            forBottom++;\r\n        }\r\n\r\n        if(topStartingLimit==bottomEndingLimit){\r\n            return false;\r\n        }\r\n\r\n        if(bottomEndingLimit-topStartingLimit&gt;=2 &amp;&amp; bottomEndingLimit-topStartingLimit&lt;= 6) {\r\n            deleteRows(result, topStartingLimit, bottomEndingLimit, row, col);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    private void deleteRows(int[][] result, int topStartingLimit, int bottomEndingLimit, int row, int col) {\r\n        while(topStartingLimit&lt;= bottomEndingLimit){\r\n            result[topStartingLimit][col] = -1;\r\n            topStartingLimit++;\r\n        }\r\n        return;\r\n    }\r\n\r\n\r\n    private boolean checkColumnForCurrentIndex(int[][] result, int row, int col) {\r\n        int forLeft = col, forRight = col;\r\n        int leftStartingLimit = 0, rightEndingLimit = 0;\r\n        while(forLeft&gt;= 0){\r\n            if(result[row][col] == result[row][forLeft] &amp;&amp; result[row][forLeft]!=-1){\r\n                leftStartingLimit = forLeft;\r\n            }else{\r\n                break;\r\n            }\r\n            forLeft--;\r\n        }\r\n\r\n        while(forRight&lt; result[row].length){\r\n            if(result[row][col] == result[row][forRight] &amp;&amp; result[row][forRight]!=-1){\r\n                rightEndingLimit = forRight;\r\n            }else{\r\n                break;\r\n            }\r\n            forRight++;\r\n        }\r\n\r\n        if(leftStartingLimit==rightEndingLimit){\r\n            return false;\r\n        }\r\n        if(rightEndingLimit-leftStartingLimit&gt;=2 &amp;&amp; rightEndingLimit-leftStartingLimit&lt;= 6) {\r\n            deleteCols(result, leftStartingLimit, rightEndingLimit, row, col);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    private void deleteCols(int[][] result, int leftStartingLimit, int rightEndingLimit, int row, int col) {\r\n        while(leftStartingLimit&lt;= rightEndingLimit){\r\n            result[row][leftStartingLimit] = -1;\r\n            leftStartingLimit++;\r\n        }\r\n        return;\r\n    }\r\n\r\n\r\nDefinitely, you can optimize this code better by using the same function again for Rows and Cols, but for sake of simplicity. I tried to break everything so that the solution becomes more clear.\r\n\r\nHope this algorithm would work.","title":"How to find a &gt;3 line of consecutive elements in a 2d array","body":"<p>First of all, I would suggest that for such complex problems, always try to break your problems and then merge those pieces together.</p>\n<p>Below is the algorithm for your problem, just for simplicity and ease of explanation I used an Integer array which you can easily replace with a string or character array and change the condition.</p>\n<p>A basic function for performing candyCrush Algorithm.</p>\n<pre><code>public void candyCrush(){\n    int[][] result = new int[][]{{1,2,2,2,2},\n                                 {1,2,2,2,1},\n                                 {1,2,1,1,1},\n                                 {2,1,2,1,1}\n    };\n\n    int count = 0;\n\n    for (int i = 0; i &lt; result.length; i++) {\n        for (int j = 0; j &lt; result[i].length; j++) {\n            if(result[i][j]==-1){\n                continue;\n            }\n            boolean hasRowElements = checkRowForCurrentIndex(result, i, j);\n            boolean hasColumnElements = checkColumnForCurrentIndex(result, i, j);\n            if(hasRowElements || hasColumnElements){\n                count++;\n            }\n        }\n    }\n\n    System.out.println(count);\n}\n\n\n\nprivate boolean checkRowForCurrentIndex(int[][] result, int row, int col) {\n    int forTop = row, forBottom = row;\n    int topStartingLimit = 0, bottomEndingLimit = 0;\n    while(forTop&gt;= 0){\n        if(result[row][col] == result[forTop][col] &amp;&amp; result[forTop][col]!=-1){\n            topStartingLimit = forTop;\n        }else{\n            break;\n        }\n        forTop--;\n    }\n\n    while(forBottom&lt; result.length){\n        if(result[row][col] == result[forBottom][col] &amp;&amp; result[forBottom][col]!=-1){\n            bottomEndingLimit = forBottom;\n        }else{\n            break;\n        }\n        forBottom++;\n    }\n\n    if(topStartingLimit==bottomEndingLimit){\n        return false;\n    }\n\n    if(bottomEndingLimit-topStartingLimit&gt;=2 &amp;&amp; bottomEndingLimit-topStartingLimit&lt;= 6) {\n        deleteRows(result, topStartingLimit, bottomEndingLimit, row, col);\n        return true;\n    }\n\n    return false;\n}\n\n\nprivate void deleteRows(int[][] result, int topStartingLimit, int bottomEndingLimit, int row, int col) {\n    while(topStartingLimit&lt;= bottomEndingLimit){\n        result[topStartingLimit][col] = -1;\n        topStartingLimit++;\n    }\n    return;\n}\n\n\nprivate boolean checkColumnForCurrentIndex(int[][] result, int row, int col) {\n    int forLeft = col, forRight = col;\n    int leftStartingLimit = 0, rightEndingLimit = 0;\n    while(forLeft&gt;= 0){\n        if(result[row][col] == result[row][forLeft] &amp;&amp; result[row][forLeft]!=-1){\n            leftStartingLimit = forLeft;\n        }else{\n            break;\n        }\n        forLeft--;\n    }\n\n    while(forRight&lt; result[row].length){\n        if(result[row][col] == result[row][forRight] &amp;&amp; result[row][forRight]!=-1){\n            rightEndingLimit = forRight;\n        }else{\n            break;\n        }\n        forRight++;\n    }\n\n    if(leftStartingLimit==rightEndingLimit){\n        return false;\n    }\n    if(rightEndingLimit-leftStartingLimit&gt;=2 &amp;&amp; rightEndingLimit-leftStartingLimit&lt;= 6) {\n        deleteCols(result, leftStartingLimit, rightEndingLimit, row, col);\n        return true;\n    }\n    return false;\n}\n\n\nprivate void deleteCols(int[][] result, int leftStartingLimit, int rightEndingLimit, int row, int col) {\n    while(leftStartingLimit&lt;= rightEndingLimit){\n        result[row][leftStartingLimit] = -1;\n        leftStartingLimit++;\n    }\n    return;\n}\n</code></pre>\n<p>Definitely, you can optimize this code better by using the same function again for Rows and Cols, but for sake of simplicity. I tried to break everything so that the solution becomes more clear.</p>\n<p>Hope this algorithm would work.</p>\n"}],"owner":{"account_id":16814635,"reputation":1,"user_id":19069286,"display_name":"Pablo pelotazos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672197701,"creation_date":1672194241,"question_id":74935697,"body_markdown":"I&#39;m a game where you have to make a line in a row/column of 3 or more (up to 7) consecutive elements in a 2d array. Every time there is one of those lines you add the score and delete those consecutive elements from the row/column (Similar as to candycrash disappearing candies. \r\n\r\nIf you have something like this [&#39;a&#39; &#39;b&#39; &#39;b&#39; &#39;b&#39; &#39;a&#39;] the result should be [&#39;a&#39; &#39;&#39; &#39;&#39; &#39;&#39; &#39;a&#39;]\r\nThe problem comes to more complex cases like [&#39;b&#39; &#39;b&#39; &#39; &#39; &#39;b&#39; &#39;b&#39;], that ends up like this \r\n[&#39;&#39; &#39;&#39; &#39;&#39; &#39;&#39; &#39;&#39;] because its also detected as a &gt;=3 elem. consecutive line.\r\nI know its due to the counter that keeps adding to the value it already has, but I couldnt come to any other solution till now\r\n\r\nThe code I have up to now is this:\r\n**\r\n```\r\npublic int[] checkRows() {\r\n\t\tint[] results = new int[BOARD_SIZE];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; BOARD_SIZE; i++) {\r\n\t\t\tint counter = 1;\r\n\t\t\tint counterHead = 1;\r\n\t\t\tint j = 0;\r\n\t\t\t\r\n\t\t\twhile (j &lt; BOARD_SIZE) {\r\n\t\t\t\tif (j+1 &lt; BOARD_SIZE) {\r\n\t\t\t\t\tif (getBoard()[i][j].getType() == getBoard()[i][j+1].getType() &amp;&amp; getBoard()[i][j].getType() != &#39; &#39;) {\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (counter &gt;= 3)\r\n\t\t\t\t\tdeleteRows(i, j);\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tresults[i] = counter;\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn results;\r\n\t}\r\n```\r\n**","title":"How to find a &gt;3 line of consecutive elements in a 2d array","body":"<p>I'm a game where you have to make a line in a row/column of 3 or more (up to 7) consecutive elements in a 2d array. Every time there is one of those lines you add the score and delete those consecutive elements from the row/column (Similar as to candycrash disappearing candies.</p>\n<p>If you have something like this ['a' 'b' 'b' 'b' 'a'] the result should be ['a' '' '' '' 'a']\nThe problem comes to more complex cases like ['b' 'b' ' ' 'b' 'b'], that ends up like this\n['' '' '' '' ''] because its also detected as a &gt;=3 elem. consecutive line.\nI know its due to the counter that keeps adding to the value it already has, but I couldnt come to any other solution till now</p>\n<p>The code I have up to now is this:\n**</p>\n<pre><code>public int[] checkRows() {\n        int[] results = new int[BOARD_SIZE];\n        \n        for (int i = 0; i &lt; BOARD_SIZE; i++) {\n            int counter = 1;\n            int counterHead = 1;\n            int j = 0;\n            \n            while (j &lt; BOARD_SIZE) {\n                if (j+1 &lt; BOARD_SIZE) {\n                    if (getBoard()[i][j].getType() == getBoard()[i][j+1].getType() &amp;&amp; getBoard()[i][j].getType() != ' ') {\n                        counter++;\n                    }\n                }\n                if (counter &gt;= 3)\n                    deleteRows(i, j);\n                j++;\n            }\n            \n            results[i] = counter;       \n        }\n        \n        return results;\n    }\n</code></pre>\n<p>**</p>\n"},{"tags":["java","jar","dependencies"],"comments":[{"owner":{"display_name":"user719662"},"score":0,"creation_date":1417967568,"post_id":5580221,"comment_id":43144169,"body_markdown":"possible duplicate of [Reduce external jar file size](http://stackoverflow.com/questions/2606424/reduce-external-jar-file-size)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2606424/reduce-external-jar-file-size\">Reduce external jar file size</a>"}],"answers":[{"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1302175414,"creation_date":1302175414,"answer_id":5580241,"question_id":5580221,"body_markdown":"I&#39;d suggest trying out [ProGuard][1]. You can exclude parts of jar files you&#39;re not using.\r\n\r\n\r\n  [1]: http://proguard.sourceforge.net/","title":"Java - How to reduce the size of third-party jars to reduce the size of your application","body":"<p>I'd suggest trying out <a href=\"http://proguard.sourceforge.net/\" rel=\"noreferrer\">ProGuard</a>. You can exclude parts of jar files you're not using.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1302175649,"creation_date":1302175649,"answer_id":5580284,"question_id":5580221,"body_markdown":"A1:\r\n--\r\nYou can create an ant script or use Eclipse or any other IDE to automatically package your applet. But your way is correct, too\r\n\r\nA2:\r\n--\r\nI wouldn&#39;t do these things manually. Finding transitive dependencies is very complex. Maybe **darioo**&#39;s answer is a better way to do this.\r\n\r\nA3:\r\n--\r\nThis is very common indeed. A couple of hints:\r\n\r\nYou can always re-build those third party libraries without debug information. That should slightly decrease the size of those libraries.\r\n\r\nOn the other hand, maybe you shouldn&#39;t have a direct connection from your applet to a database. You could create an RMI interface (or something similar) to transfer your SQL and result data to an application server, which actually executes your SQL. This is an important security aspect for your applet, if you don&#39;t run this in a safe intranet.","title":"Java - How to reduce the size of third-party jars to reduce the size of your application","body":"<h2>A1:</h2>\n\n<p>You can create an ant script or use Eclipse or any other IDE to automatically package your applet. But your way is correct, too</p>\n\n<h2>A2:</h2>\n\n<p>I wouldn't do these things manually. Finding transitive dependencies is very complex. Maybe <strong>darioo</strong>'s answer is a better way to do this.</p>\n\n<h2>A3:</h2>\n\n<p>This is very common indeed. A couple of hints:</p>\n\n<p>You can always re-build those third party libraries without debug information. That should slightly decrease the size of those libraries.</p>\n\n<p>On the other hand, maybe you shouldn't have a direct connection from your applet to a database. You could create an RMI interface (or something similar) to transfer your SQL and result data to an application server, which actually executes your SQL. This is an important security aspect for your applet, if you don't run this in a safe intranet.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1400625144,"creation_date":1302176953,"answer_id":5580543,"question_id":5580221,"body_markdown":"Yes you can save space by creating a JAR containing only the classes that your applet requires.  (I&#39;ve seen this called an uber-JAR.)  \r\n\r\nThere are various tools for doing this; e.g. ProGuard, Zelix ClassMaster, a Maven plugin whose name I forget and so on.\r\n\r\nThere are however a couple of issues, at least in the general case:\r\n\r\n  - If your code uses dynamic loading (e.g. by calling `Class.forName(className)`), these tools generally cannot detect the dependency.  So to avoid dynamically loaded classes being left out of the final JAR, you need to tell the tool the names of all of all classes that your application might explicitly load that way.\r\n\r\n  - You need to take a look at the license of the third party library.  IIRC, some licenses require you to include the library in your distributed artifacts in a way that allows people to substitute a different version of the library.  One could argue that an uber-JAR makes this hard to do, and therefore could be problematic.\r\n\r\nJFreeChart is LGPL, and LGPL is a license that has the requirement above.  However MySQL is GPL, which trumps LGPL, and this means that your applet must be GPL&#39;ed ... if you distribute it.  \r\n\r\n--------\r\n\r\nFinally, if you want to minimize the size of your applet JAR, you should NOT include your source code in the JAR.  Source code should be in a separate JAR (or ZIP, TAR or whatever) file.\r\n\r\n","title":"Java - How to reduce the size of third-party jars to reduce the size of your application","body":"<p>Yes you can save space by creating a JAR containing only the classes that your applet requires.  (I've seen this called an uber-JAR.)  </p>\n\n<p>There are various tools for doing this; e.g. ProGuard, Zelix ClassMaster, a Maven plugin whose name I forget and so on.</p>\n\n<p>There are however a couple of issues, at least in the general case:</p>\n\n<ul>\n<li><p>If your code uses dynamic loading (e.g. by calling <code>Class.forName(className)</code>), these tools generally cannot detect the dependency.  So to avoid dynamically loaded classes being left out of the final JAR, you need to tell the tool the names of all of all classes that your application might explicitly load that way.</p></li>\n<li><p>You need to take a look at the license of the third party library.  IIRC, some licenses require you to include the library in your distributed artifacts in a way that allows people to substitute a different version of the library.  One could argue that an uber-JAR makes this hard to do, and therefore could be problematic.</p></li>\n</ul>\n\n<p>JFreeChart is LGPL, and LGPL is a license that has the requirement above.  However MySQL is GPL, which trumps LGPL, and this means that your applet must be GPL'ed ... if you distribute it.  </p>\n\n<hr>\n\n<p>Finally, if you want to minimize the size of your applet JAR, you should NOT include your source code in the JAR.  Source code should be in a separate JAR (or ZIP, TAR or whatever) file.</p>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6504,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5580284,"answer_count":3,"score":11,"last_activity_date":1672197078,"creation_date":1302175319,"question_id":5580221,"body_markdown":"&gt;I am developing a **java web application** and that includes **an applet**. That applet is \r\n&gt; dependent on two jar files:\r\n&gt; \r\n&gt; - [JFreeChart][1] (for plotting graphs at the client side) - **1.7 mb(size of\r\n&gt; jar file)**\r\n&gt; - MySqlJdbcConnector (for storing data, captured at the client side, to\r\n&gt; a remote database) - **.7 mb (size of\r\n&gt; jar file)**\r\n&gt; \r\n&gt; Now, the problem is the size of above\r\n&gt; two jar files. The total size of my\r\n&gt; applet jar **(myApplet.jar)** is **2.5\r\n&gt; mb** out of which **2.4 mb** is\r\n&gt; because of the above two jar files.\r\n&gt; \r\n&gt; I am not using all the classes in\r\n&gt; those jar files. Specifically, for\r\n&gt; **jfreechart**, I am using a very small number of classes from that\r\n&gt; library.\r\n\r\n## Questions\r\n\r\n**Q1.** For creating **myApplet.jar** file, what I have done is I have unzipped both of the jar files (jfreechart and mySQLJdbcConnector) and then packed the unzipped version of the jar files with the source code of my applet code to create one single jar file (**i.e myApplet.jar).** Is it the correct way of packing third party jar files with your applet code? Is there any way by which I can optimize this?\r\n\r\n**Q2.** I tried to find the dependencies of the classes of jfreechart library which I am using in my application so as to pack only those dependencies in **myApplet.jar.** For that purpose, I used [DependencyAnalyzer][2] to find the dependencies of all the classes. But later I found it difficult to do so manually because every class (class of jfreechart that I am using in my application) has lot of dependencies and I am using some 15 classes of jfreechart so doing this for every class will be very difficult. So any suggestion on this?\r\n\r\n**Q3.** Is this situation very common that developers encounter or I am missing something because of which I have to do this?\r\n\r\n  [1]: http://www.jfree.org/jfreechart/\r\n  [2]: http://www.dependency-analyzer.org/","title":"Java - How to reduce the size of third-party jars to reduce the size of your application","body":"<blockquote>\n<p>I am developing a <strong>java web application</strong> and that includes <strong>an applet</strong>. That applet is\ndependent on two jar files:</p>\n<ul>\n<li><a href=\"http://www.jfree.org/jfreechart/\" rel=\"nofollow noreferrer\">JFreeChart</a> (for plotting graphs at the client side) - <strong>1.7 mb(size of\njar file)</strong></li>\n<li>MySqlJdbcConnector (for storing data, captured at the client side, to\na remote database) - <strong>.7 mb (size of\njar file)</strong></li>\n</ul>\n<p>Now, the problem is the size of above\ntwo jar files. The total size of my\napplet jar <strong>(myApplet.jar)</strong> is <strong>2.5\nmb</strong> out of which <strong>2.4 mb</strong> is\nbecause of the above two jar files.</p>\n<p>I am not using all the classes in\nthose jar files. Specifically, for\n<strong>jfreechart</strong>, I am using a very small number of classes from that\nlibrary.</p>\n</blockquote>\n<h2>Questions</h2>\n<p><strong>Q1.</strong> For creating <strong>myApplet.jar</strong> file, what I have done is I have unzipped both of the jar files (jfreechart and mySQLJdbcConnector) and then packed the unzipped version of the jar files with the source code of my applet code to create one single jar file (<strong>i.e myApplet.jar).</strong> Is it the correct way of packing third party jar files with your applet code? Is there any way by which I can optimize this?</p>\n<p><strong>Q2.</strong> I tried to find the dependencies of the classes of jfreechart library which I am using in my application so as to pack only those dependencies in <strong>myApplet.jar.</strong> For that purpose, I used <a href=\"http://www.dependency-analyzer.org/\" rel=\"nofollow noreferrer\">DependencyAnalyzer</a> to find the dependencies of all the classes. But later I found it difficult to do so manually because every class (class of jfreechart that I am using in my application) has lot of dependencies and I am using some 15 classes of jfreechart so doing this for every class will be very difficult. So any suggestion on this?</p>\n<p><strong>Q3.</strong> Is this situation very common that developers encounter or I am missing something because of which I have to do this?</p>\n"},{"tags":["java","spring","soap","authentication","wss4j"],"answers":[{"tags":[],"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550238072,"creation_date":1550238072,"answer_id":54710611,"question_id":54708244,"body_markdown":"For anyone interested, I solved this thing by first of all removing from the request the content inside the header.\r\n&lt;br&gt;\r\nAfter that, I setted up an Outgoing WSS with the credentials and, just like that, the Wss4j Security Handler converted the Callback to the instance I wanted (that is, WSPasswordCallback).\r\n&lt;br&gt;\r\n**Lesson learned:** if Wss4j detects a some kind of error in handling the SOAP Request, it will generate a CleanupCallback and not an instance of WSPasswordCallback","title":"Wss4jSecurityInterceptor - My Custom Callback is interpreted as a CleanupCallback Object","body":"<p>For anyone interested, I solved this thing by first of all removing from the request the content inside the header.\n<br>\nAfter that, I setted up an Outgoing WSS with the credentials and, just like that, the Wss4j Security Handler converted the Callback to the instance I wanted (that is, WSPasswordCallback).\n<br>\n<strong>Lesson learned:</strong> if Wss4j detects a some kind of error in handling the SOAP Request, it will generate a CleanupCallback and not an instance of WSPasswordCallback</p>\n"}],"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54710611,"answer_count":1,"score":1,"last_activity_date":1672194811,"creation_date":1550229678,"question_id":54708244,"body_markdown":"I&#39;m working in a project, made with Java 8 and Spring Boot, in which I want to add the Wss4jSecurityInterceptor for login purposes.\r\n&lt;br&gt;\r\nSo far, this is what I&#39;ve done in the WebServiceConfig class\r\n\r\n\t\r\n\t@Bean\r\n\tpublic AuthorizationCallBackHandler authorizationCallBackHandler(){\r\n\t\tAuthorizationCallBackHandler callbackHandler = new AuthorizationCallBackHandler();\r\n\t\treturn callbackHandler;\r\n\t}\r\n    @Bean\r\n    public Wss4jSecurityInterceptor securityInterceptor(){\r\n    \tWss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\r\n    \tsecurityInterceptor.setValidationActions(&quot;UsernameToken&quot;);\r\n    \tsecurityInterceptor.setValidationCallbackHandler(authorizationCallBackHandler());\r\n    \treturn securityInterceptor;\r\n    }\r\n    \r\n        @Override\r\n        public void addInterceptors(List interceptors) {\r\n            interceptors.add(securityInterceptor());\r\n        \t//interceptors.add(endPointInterceptor());\r\n        }\r\n\r\nSo, with this, every request that arrives at my Web Service, will be intercepted by the Wss4jSecurityInterceptor and will be handled by my custom callback, defined like this\r\n    \r\n\r\n    \r\n    public class AuthorizationCallBackHandler implements CallbackHandler{\r\n    \t\r\n    \tprivate final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    \t\r\n    \t@Autowired\r\n    \tVnWsCredentialRepository credentialsRepo;\r\n    \t\r\n    \t@Autowired\r\n    \tAuthUtility authUtil;\r\n    \t\r\n    \t@Override\r\n    \tpublic void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n    \r\n    \r\n    \t\tif (callbacks[0] instanceof WSPasswordCallback) {\r\n    \t\t\tWSPasswordCallback pc = (WSPasswordCallback) callbacks[0];\r\n    \t\t\tString username = pc.getIdentifier();\r\n    \t\t\tVnWsCredential credentials = credentialsRepo.findByUsername(username);\r\n    \t\t\tlogger.info(&quot;Request of authentication for username&quot; + username);\r\n    \t\t\tString p =\t\t\t\tpc.getPassword();\r\n    \t\t\t// set the password on the callback. This will be compared to the\r\n    \t\t\t// password which was sent from the client.\r\n    \t\t\tif (credentials == null) {\r\n    \t\t\t\tpc.setPassword(null);\r\n    \t\t\t\t\r\n    \r\n    \t\t\t}else {\r\n    //\t\t\t\tString encodedPsw = authUtil.obtaindMD5Value(credentials.getPassword()); \r\n    //\t\t\t\tpc.setPassword(encodedPsw);\r\n    \t\t\t\tpc.setPassword(credentials.getPassword());\r\n    \t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (callbacks[0] instanceof UsernameTokenPrincipalCallback) {\r\n    \t\t\tUsernameTokenPrincipalCallback pc = (UsernameTokenPrincipalCallback) callbacks[0];\r\n    \t\t\tpc.getPrincipal();\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHere&#39;s my problem: when the Callback gets called, it receives an array that holds just 1 callback with a &quot;CleanupCallback&quot; type and I&#39;m not, of course, able to do anything with it.\r\n&lt;br&gt;\r\nWhat am I missing in the following settings?\r\n\r\nThis is the SOAP call that I&#39;m making with SOAP UI\r\n\r\n    &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:it=&quot;some.fancy.ws&quot;&gt;\r\n       &lt;soapenv:Header&gt;\r\n           &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n           &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-3967AEB46D733EF6E2154990461080350&quot;&gt;\r\n           &lt;wsse:Username&gt;Just a user&lt;/wsse:Username&gt;\r\n           &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;just a password&lt;/wsse:Password&gt;\r\n           &lt;wsse:Nonce EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&gt;pUn8VjdpVaIamSAIwXEeXg==&lt;/wsse:Nonce&gt;\r\n           &lt;wsu:Created&gt;2019-02-16T17:03:30.803Z&lt;/wsu:Created&gt;\r\n           &lt;/wsse:UsernameToken&gt;&lt;/wsse:Security&gt;\r\n      &lt;/soapenv:Header&gt;\r\n       &lt;soapenv:Body&gt;\r\n          &lt;it:getPOrderRequest&gt;\r\n             &lt;it:poNumber&gt;2197111225-F03292&lt;/it:poNumber&gt;\r\n          &lt;/it:getPOrderRequest&gt;\r\n       &lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\n","title":"Wss4jSecurityInterceptor - My Custom Callback is interpreted as a CleanupCallback Object","body":"<p>I'm working in a project, made with Java 8 and Spring Boot, in which I want to add the Wss4jSecurityInterceptor for login purposes.\n<br>\nSo far, this is what I've done in the WebServiceConfig class</p>\n\n<pre><code>@Bean\npublic AuthorizationCallBackHandler authorizationCallBackHandler(){\n    AuthorizationCallBackHandler callbackHandler = new AuthorizationCallBackHandler();\n    return callbackHandler;\n}\n@Bean\npublic Wss4jSecurityInterceptor securityInterceptor(){\n    Wss4jSecurityInterceptor securityInterceptor = new Wss4jSecurityInterceptor();\n    securityInterceptor.setValidationActions(\"UsernameToken\");\n    securityInterceptor.setValidationCallbackHandler(authorizationCallBackHandler());\n    return securityInterceptor;\n}\n\n    @Override\n    public void addInterceptors(List interceptors) {\n        interceptors.add(securityInterceptor());\n        //interceptors.add(endPointInterceptor());\n    }\n</code></pre>\n\n<p>So, with this, every request that arrives at my Web Service, will be intercepted by the Wss4jSecurityInterceptor and will be handled by my custom callback, defined like this</p>\n\n<pre><code>public class AuthorizationCallBackHandler implements CallbackHandler{\n\n    private final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    @Autowired\n    VnWsCredentialRepository credentialsRepo;\n\n    @Autowired\n    AuthUtility authUtil;\n\n    @Override\n    public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n\n\n        if (callbacks[0] instanceof WSPasswordCallback) {\n            WSPasswordCallback pc = (WSPasswordCallback) callbacks[0];\n            String username = pc.getIdentifier();\n            VnWsCredential credentials = credentialsRepo.findByUsername(username);\n            logger.info(\"Request of authentication for username\" + username);\n            String p =              pc.getPassword();\n            // set the password on the callback. This will be compared to the\n            // password which was sent from the client.\n            if (credentials == null) {\n                pc.setPassword(null);\n\n\n            }else {\n//              String encodedPsw = authUtil.obtaindMD5Value(credentials.getPassword()); \n//              pc.setPassword(encodedPsw);\n                pc.setPassword(credentials.getPassword());\n            }\n\n        }\n\n        if (callbacks[0] instanceof UsernameTokenPrincipalCallback) {\n            UsernameTokenPrincipalCallback pc = (UsernameTokenPrincipalCallback) callbacks[0];\n            pc.getPrincipal();\n        }\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here's my problem: when the Callback gets called, it receives an array that holds just 1 callback with a \"CleanupCallback\" type and I'm not, of course, able to do anything with it.\n<br>\nWhat am I missing in the following settings?</p>\n\n<p>This is the SOAP call that I'm making with SOAP UI</p>\n\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:it=\"some.fancy.ws\"&gt;\n   &lt;soapenv:Header&gt;\n       &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n       &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-3967AEB46D733EF6E2154990461080350\"&gt;\n       &lt;wsse:Username&gt;Just a user&lt;/wsse:Username&gt;\n       &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;just a password&lt;/wsse:Password&gt;\n       &lt;wsse:Nonce EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"&gt;pUn8VjdpVaIamSAIwXEeXg==&lt;/wsse:Nonce&gt;\n       &lt;wsu:Created&gt;2019-02-16T17:03:30.803Z&lt;/wsu:Created&gt;\n       &lt;/wsse:UsernameToken&gt;&lt;/wsse:Security&gt;\n  &lt;/soapenv:Header&gt;\n   &lt;soapenv:Body&gt;\n      &lt;it:getPOrderRequest&gt;\n         &lt;it:poNumber&gt;2197111225-F03292&lt;/it:poNumber&gt;\n      &lt;/it:getPOrderRequest&gt;\n   &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":22880041,"reputation":103,"user_id":17021769,"display_name":"Mahes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672159042,"creation_date":1672158710,"answer_id":74931796,"question_id":74931568,"body_markdown":"you are comparing List and Map which are not the same object, thus they are not equal. you can try to convert the POJO into map first:\r\n\r\n    ObjectMapper mapper = new ObjectMapper(); \r\n    Map&lt;String, String&gt; demoResponse = mapper.convertValue(BaseService.getResponse(), new TypeReference&lt;Map&lt;String,String&gt;&gt;() {});\r\n\r\n\r\nthen you can check using this:\r\n\r\n    assertThat(demoResponse).isEqualTo(theNames);","title":"Can a java POJO API response be converted to match a Map&lt;String, String&gt; data type?","body":"<p>you are comparing List and Map which are not the same object, thus they are not equal. you can try to convert the POJO into map first:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper(); \nMap&lt;String, String&gt; demoResponse = mapper.convertValue(BaseService.getResponse(), new TypeReference&lt;Map&lt;String,String&gt;&gt;() {});\n</code></pre>\n<p>then you can check using this:</p>\n<pre><code>assertThat(demoResponse).isEqualTo(theNames);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672158780,"creation_date":1672158780,"answer_id":74931815,"question_id":74931568,"body_markdown":"I have a basic response because you have only 3 fields and equals matching class, you need only to create an DemoResponse with the Map&lt;String, String&gt;, maybe with a constructor.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    \r\n    public class DemoResponse{\r\n    \r\n      private UUID id;\r\n      private String name;\r\n      private String description;\r\n\r\n      public DemoResponse(Map&lt;String, String&gt; theNames){\r\n         this.id = theNames.get(&quot;id&quot;);\r\n         this.name = theNames.get(&quot;name&quot;);\r\n         this.description = theName.get(&quot;description&quot;);\r\n      }\r\n    }\r\n\r\nAnd after you can assert like that\r\n\r\n    assertThat(demoResponse).isEqualTo(new DemoResponse(theName));","title":"Can a java POJO API response be converted to match a Map&lt;String, String&gt; data type?","body":"<p>I have a basic response because you have only 3 fields and equals matching class, you need only to create an DemoResponse with the Map&lt;String, String&gt;, maybe with a constructor.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n\npublic class DemoResponse{\n\n  private UUID id;\n  private String name;\n  private String description;\n\n  public DemoResponse(Map&lt;String, String&gt; theNames){\n     this.id = theNames.get(&quot;id&quot;);\n     this.name = theNames.get(&quot;name&quot;);\n     this.description = theName.get(&quot;description&quot;);\n  }\n}\n</code></pre>\n<p>And after you can assert like that</p>\n<pre><code>assertThat(demoResponse).isEqualTo(new DemoResponse(theName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672159522,"creation_date":1672159522,"answer_id":74931952,"question_id":74931568,"body_markdown":"Change your line \r\n\r\n        TypeReference&lt;List&lt;DemoResponse&gt;&gt; typeReference = new TypeReference&lt;List&lt;DemoResponse&gt;&gt;() {/* */};\r\n    List&lt;DemoResponse&gt; res = mapper.convertValue(demoResponse,  typeReference);\r\n\r\nto \r\n\r\n        TypeReference&lt;DemoResponse&gt; typeReference = new TypeReference&lt;DemoResponse&gt;() {/* */};\r\n    DemoResponse res = mapper.convertValue(demoResponse,  typeReference);\r\nAnd you will get what you want. You are parsing a single value as a List and because of that your value is surrounded by [] which is your difference\r\n\r\n","title":"Can a java POJO API response be converted to match a Map&lt;String, String&gt; data type?","body":"<p>Change your line</p>\n<pre><code>    TypeReference&lt;List&lt;DemoResponse&gt;&gt; typeReference = new TypeReference&lt;List&lt;DemoResponse&gt;&gt;() {/* */};\nList&lt;DemoResponse&gt; res = mapper.convertValue(demoResponse,  typeReference);\n</code></pre>\n<p>to</p>\n<pre><code>    TypeReference&lt;DemoResponse&gt; typeReference = new TypeReference&lt;DemoResponse&gt;() {/* */};\nDemoResponse res = mapper.convertValue(demoResponse,  typeReference);\n</code></pre>\n<p>And you will get what you want. You are parsing a single value as a List and because of that your value is surrounded by [] which is your difference</p>\n"},{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672194715,"creation_date":1672160759,"answer_id":74932169,"question_id":74931568,"body_markdown":"In order to convert any class to a map and vice-versa, you can do as follows:\r\n\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nDemoResponse foo = new DemoResponse(UUID.randomUUID(), &quot;name&quot;, &quot;description&quot;);\r\n\r\n// Convert POJO to Map\r\nMap&lt;String, Object&gt; map =\r\n        mapper.convertValue(foo, new TypeReference&lt;&gt;() {\r\n        });\r\n\r\n// Convert Map to POJO\r\nDemoResponse anotherFoo = mapper.convertValue(map, DemoResponse.class);\r\n```\r\n\r\nJust have in mind that, in the class DemoResponse, you must have a default constructor (no args) and possibly either getters/setters or the fields annotated with\r\n\r\n```java\r\n@JsonProperty\r\n```\r\n\r\nAfter that, you can either convert your POJO to a map or convert the map of values to a POJO and perform the desired assertions.","title":"Can a java POJO API response be converted to match a Map&lt;String, String&gt; data type?","body":"<p>In order to convert any class to a map and vice-versa, you can do as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nDemoResponse foo = new DemoResponse(UUID.randomUUID(), &quot;name&quot;, &quot;description&quot;);\n\n// Convert POJO to Map\nMap&lt;String, Object&gt; map =\n        mapper.convertValue(foo, new TypeReference&lt;&gt;() {\n        });\n\n// Convert Map to POJO\nDemoResponse anotherFoo = mapper.convertValue(map, DemoResponse.class);\n</code></pre>\n<p>Just have in mind that, in the class DemoResponse, you must have a default constructor (no args) and possibly either getters/setters or the fields annotated with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty\n</code></pre>\n<p>After that, you can either convert your POJO to a map or convert the map of values to a POJO and perform the desired assertions.</p>\n"}],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74932169,"answer_count":4,"score":1,"last_activity_date":1672194715,"creation_date":1672157273,"question_id":74931568,"body_markdown":"My assertion is failing because of data type conversion:\r\n\r\n    public void verify(Map&lt;String, String&gt; theNames) {\r\n    List &lt;DemoResponse&gt; DemoResponse = Arrays.asList(BaseService.getResponse().as(DemoResponse.class));\r\n    \r\n    System.out.println(demoResponse);\r\n    System.out.println(theNames);\r\n    \r\n    }\r\n\r\nThe argument `Map&lt;String, String&gt; theNames` is fetching data from a cucumber feature file and returns the expected output:\r\n\r\n    {name=Builder, description=Builder demo, id=ye208bq4-2485-8nd3-10ka-92f4cb91795x}\r\n\r\nDemoResponse POJO class returns the output:\r\n\r\n    DemoResponse(id=ye208bq4-2485-8nd3-10ka-92f4cb91795x, name=Builder, description=Builder demo)\r\n\r\nThe two outputs obviously have the same properties, but different formats, so they are not equal\r\n\r\nAs a result, this assertion comparing inequality passes:\r\n\r\n    assertThat(demoResponse).isNotEqualTo(theNames);\r\n\r\nBut this assertion comparing equality fails:\r\n\r\n    assertThat(demoResponse).isEqualTo(theName);\r\n\r\n\r\n\r\nNow, what I want to achieve is to make the two formats equal so that the failing assertion would pass.\r\n\r\nThis is the POJO class\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    \r\n    public class DemoResponse{\r\n    \r\n      private UUID id;\r\n      private String name;\r\n      private String description;\r\n    \r\n    }\r\n\r\n In a bid to make the outputs match, I tried to convert the POJO response to a `Map` this way:\r\n\r\n    List demoResponse = Arrays.asList( BaseService.getResponse().as(DemoResponse.class));\r\n    ObjectMapper mapper = new ObjectMapper();\r\n        TypeReference&lt;List&lt;DemoResponse&gt;&gt; typeReference = new TypeReference&lt;List&lt;DemoResponse&gt;&gt;() {/* */};\r\n    List&lt;DemoResponse&gt; res = mapper.convertValue(demoResponse,  typeReference);\r\n    \r\n    System.out.println(res);\r\n\r\nOutput:\r\n\r\n    [DemoResponse(id=ye208bq4-2485-8nd3-10ka-92f4cb91795x, name=Builder, description=Builder demo)]\r\n\r\n\r\nThe output changed slightly from the previous approach but still did not match the format output from `Map&lt;String, String&gt; theNames`.\r\n\r\nHow do I get the format of the two outputs to match? I don&#39;t mind changing the data type of any of the two, as long as their outputs match, I would be ecstatic.\r\n\r\n\r\n\r\n\r\n","title":"Can a java POJO API response be converted to match a Map&lt;String, String&gt; data type?","body":"<p>My assertion is failing because of data type conversion:</p>\n<pre><code>public void verify(Map&lt;String, String&gt; theNames) {\nList &lt;DemoResponse&gt; DemoResponse = Arrays.asList(BaseService.getResponse().as(DemoResponse.class));\n\nSystem.out.println(demoResponse);\nSystem.out.println(theNames);\n\n}\n</code></pre>\n<p>The argument <code>Map&lt;String, String&gt; theNames</code> is fetching data from a cucumber feature file and returns the expected output:</p>\n<pre><code>{name=Builder, description=Builder demo, id=ye208bq4-2485-8nd3-10ka-92f4cb91795x}\n</code></pre>\n<p>DemoResponse POJO class returns the output:</p>\n<pre><code>DemoResponse(id=ye208bq4-2485-8nd3-10ka-92f4cb91795x, name=Builder, description=Builder demo)\n</code></pre>\n<p>The two outputs obviously have the same properties, but different formats, so they are not equal</p>\n<p>As a result, this assertion comparing inequality passes:</p>\n<pre><code>assertThat(demoResponse).isNotEqualTo(theNames);\n</code></pre>\n<p>But this assertion comparing equality fails:</p>\n<pre><code>assertThat(demoResponse).isEqualTo(theName);\n</code></pre>\n<p>Now, what I want to achieve is to make the two formats equal so that the failing assertion would pass.</p>\n<p>This is the POJO class</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n\npublic class DemoResponse{\n\n  private UUID id;\n  private String name;\n  private String description;\n\n}\n</code></pre>\n<p>In a bid to make the outputs match, I tried to convert the POJO response to a <code>Map</code> this way:</p>\n<pre><code>List demoResponse = Arrays.asList( BaseService.getResponse().as(DemoResponse.class));\nObjectMapper mapper = new ObjectMapper();\n    TypeReference&lt;List&lt;DemoResponse&gt;&gt; typeReference = new TypeReference&lt;List&lt;DemoResponse&gt;&gt;() {/* */};\nList&lt;DemoResponse&gt; res = mapper.convertValue(demoResponse,  typeReference);\n\nSystem.out.println(res);\n</code></pre>\n<p>Output:</p>\n<pre><code>[DemoResponse(id=ye208bq4-2485-8nd3-10ka-92f4cb91795x, name=Builder, description=Builder demo)]\n</code></pre>\n<p>The output changed slightly from the previous approach but still did not match the format output from <code>Map&lt;String, String&gt; theNames</code>.</p>\n<p>How do I get the format of the two outputs to match? I don't mind changing the data type of any of the two, as long as their outputs match, I would be ecstatic.</p>\n"},{"tags":["java","angular","typescript","spring-boot","angular14"],"comments":[{"owner":{"account_id":13506641,"reputation":1746,"user_id":9987590,"display_name":"nate-kumar"},"score":0,"creation_date":1672209416,"post_id":74935734,"comment_id":132241548,"body_markdown":"This could be an issue with the backend implementation of the DELETE request? i.e. it is reporting a failure but not cancelling/undoing the delete action. What is the endpoint response for the DELETE request in your dev tools? Depending on whether it is a success (2xx/3xx) or an error (4xx/5xx) you would troubleshoot differently","body":"This could be an issue with the backend implementation of the DELETE request? i.e. it is reporting a failure but not cancelling/undoing the delete action. What is the endpoint response for the DELETE request in your dev tools? Depending on whether it is a success (2xx/3xx) or an error (4xx/5xx) you would troubleshoot differently"},{"owner":{"account_id":26254308,"reputation":23,"user_id":19926606,"display_name":"Eveprogram11"},"score":0,"creation_date":1672973100,"post_id":74935734,"comment_id":132399040,"body_markdown":"@nate-kumar I just checked this and the response is success (2xx). I don&#39;t know what&#39;s happening...","body":"@nate-kumar I just checked this and the response is success (2xx). I don&#39;t know what&#39;s happening..."}],"owner":{"account_id":26254308,"reputation":23,"user_id":19926606,"display_name":"Eveprogram11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672194650,"creation_date":1672194650,"question_id":74935734,"body_markdown":"So i&#39;m trying to make a delete button with Angular and Spring boots. The problem is that when I click in &quot;delete&quot; it says &quot;failed to delete component&quot; BUT IT DELETES IT ANYWAY. I have try an &quot;add button&quot; and it does the same thing.\r\n\r\nHere&#39;s the typescript: \r\n\r\n\r\n```\r\n`delete(id:number){\r\n  if(id !=undefined){\r\n    this.sExperiencia.delete(id).subscribe(\r\n      data=&gt;{\r\n        this.cargarExperiencia();\r\n        window.location.reload();\r\n      }, err =&gt; {\r\n        alert (&quot;failed to delete component&quot;)\r\n        window.location.reload();\r\n      }\r\n    )\r\n  }\r\n}`\r\n```\r\n\r\nAngular Version: 14.2.4","title":"Angular 14 always gives &quot;error&quot; even though it&#39;s perfoming the action","body":"<p>So i'm trying to make a delete button with Angular and Spring boots. The problem is that when I click in &quot;delete&quot; it says &quot;failed to delete component&quot; BUT IT DELETES IT ANYWAY. I have try an &quot;add button&quot; and it does the same thing.</p>\n<p>Here's the typescript:</p>\n<pre><code>`delete(id:number){\n  if(id !=undefined){\n    this.sExperiencia.delete(id).subscribe(\n      data=&gt;{\n        this.cargarExperiencia();\n        window.location.reload();\n      }, err =&gt; {\n        alert (&quot;failed to delete component&quot;)\n        window.location.reload();\n      }\n    )\n  }\n}`\n</code></pre>\n<p>Angular Version: 14.2.4</p>\n"},{"tags":["java","methods","interface"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1672167987,"post_id":74933101,"comment_id":132235073,"body_markdown":"It&#39;s not. If it only makes sense in the context of a specific implementation, then hiding the implementation with an interface makes no sense.","body":"It&#39;s not. If it only makes sense in the context of a specific implementation, then hiding the implementation with an interface makes no sense."}],"answers":[{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672182206,"creation_date":1672182206,"answer_id":74934840,"question_id":74933101,"body_markdown":"Did you try your own code?\r\n\r\nYou can&#39;t call a method that belongs to an instance of a class, if you do not instantiate that class. \r\nIn your example, if you call myMethod without instantiating `UrlProvider` you will get a NullPtrException. \r\nIf you want to have access to `getUrlAndAppend` from the interface, you will need to declare that method as `&quot;default&quot;` in the interface itself or as `Static` from the implementation (and that way you do not need to instantiate it to call the method), but I&#39;m having trouble to understand what you want to achieve from this.","title":"How to call a method inside an interface implementation on the interface level","body":"<p>Did you try your own code?</p>\n<p>You can't call a method that belongs to an instance of a class, if you do not instantiate that class.\nIn your example, if you call myMethod without instantiating <code>UrlProvider</code> you will get a NullPtrException.\nIf you want to have access to <code>getUrlAndAppend</code> from the interface, you will need to declare that method as <code>&quot;default&quot;</code> in the interface itself or as <code>Static</code> from the implementation (and that way you do not need to instantiate it to call the method), but I'm having trouble to understand what you want to achieve from this.</p>\n"},{"tags":[],"owner":{"account_id":2064077,"reputation":418,"user_id":1839988,"display_name":"simonsays"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672194515,"creation_date":1672194515,"answer_id":74935721,"question_id":74933101,"body_markdown":"If you know when you want the extra functionality in some places, consider making a new interface, or injecting the specific implementation in the places you know you need the extra functionality. Without reflection (which is a terrible idea; don&#39;t do it), you can&#39;t access that method from the interface.\r\n\r\n```java\r\npublic interface AppendingUrlProvider extends UrlProvider {\r\n    String getUrlAndAppend();\r\n}\r\n\r\npublic class AppendingUrlProviderImpl implements AppendingUrlProvider {\r\n\r\n    @Override\r\n    public String getUrl() {\r\n        // implementation\r\n    }\r\n\r\n    @Override\r\n    public String getUrlAndAppend() {\r\n        // implementation\r\n    }\r\n}\r\n\r\n////\r\n// Or modify your existing ThirdClass\r\n////\r\n\r\npublic class ThirdClass {\r\n\r\n    // inject the implementation, not the interface\r\n    private final UrlProviderImpl urlProvider;\r\n    \r\n    public void myMethod() {\r\n        urlProvider.getUrlAndAppend();\r\n    }\r\n}\r\n```\r\n\r\nSolutions aside, the first thing you should really do is figure out exactly why you need this extra public method on just one of the implementations. Is this something that callers should be doing instead of the implementation? Should this be on the interface? Is this only needed for testing? Only you can answer this, but it&#39;s worth taking a step back to make sure you&#39;ve set up your codebase for success and longterm maintainability.","title":"How to call a method inside an interface implementation on the interface level","body":"<p>If you know when you want the extra functionality in some places, consider making a new interface, or injecting the specific implementation in the places you know you need the extra functionality. Without reflection (which is a terrible idea; don't do it), you can't access that method from the interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AppendingUrlProvider extends UrlProvider {\n    String getUrlAndAppend();\n}\n\npublic class AppendingUrlProviderImpl implements AppendingUrlProvider {\n\n    @Override\n    public String getUrl() {\n        // implementation\n    }\n\n    @Override\n    public String getUrlAndAppend() {\n        // implementation\n    }\n}\n\n////\n// Or modify your existing ThirdClass\n////\n\npublic class ThirdClass {\n\n    // inject the implementation, not the interface\n    private final UrlProviderImpl urlProvider;\n    \n    public void myMethod() {\n        urlProvider.getUrlAndAppend();\n    }\n}\n</code></pre>\n<p>Solutions aside, the first thing you should really do is figure out exactly why you need this extra public method on just one of the implementations. Is this something that callers should be doing instead of the implementation? Should this be on the interface? Is this only needed for testing? Only you can answer this, but it's worth taking a step back to make sure you've set up your codebase for success and longterm maintainability.</p>\n"}],"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672194515,"creation_date":1672166982,"question_id":74933101,"body_markdown":"I have an interface with 1 method signature:\r\n\r\n```\r\npublic interface UrlProvider {\r\n\r\nString getUrl();\r\n\r\n}\r\n```\r\n\r\nThere are 2 implementations of this interface, and one of them has a public method whose signature is not in the interface because it only makes sense to be inside the implementation:\r\n\r\n```\r\npublic class UrlProviderImpl implements UrlProvider {\r\n\r\n    @Override\r\n    public String getUrl() {\r\n        //implementation\r\n    }\r\n\r\n    public String getUrlAndAppend() {\r\n        //implementation\r\n    }\r\n\r\n}\r\n```\r\n\r\nThere&#39;s a third class that&#39;s going to have a UrlProvider field and Spring is going to handle the dependency injection and instantiating the correct beans. Is it possible to call **getUrlAndAppend()** on the interface level without explicitly instantiating the implementation?\r\n\r\nThis is what I am trying to achieve:\r\n\r\n```\r\npublic class ThirdClass {\r\n\r\n    private final UrlProvider urlProvider;\r\n    \r\n    public void myMethod() {\r\n        urlProvider.getUrlAndAppend();\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn terms of design, how this is usually handled?","title":"How to call a method inside an interface implementation on the interface level","body":"<p>I have an interface with 1 method signature:</p>\n<pre><code>public interface UrlProvider {\n\nString getUrl();\n\n}\n</code></pre>\n<p>There are 2 implementations of this interface, and one of them has a public method whose signature is not in the interface because it only makes sense to be inside the implementation:</p>\n<pre><code>public class UrlProviderImpl implements UrlProvider {\n\n    @Override\n    public String getUrl() {\n        //implementation\n    }\n\n    public String getUrlAndAppend() {\n        //implementation\n    }\n\n}\n</code></pre>\n<p>There's a third class that's going to have a UrlProvider field and Spring is going to handle the dependency injection and instantiating the correct beans. Is it possible to call <strong>getUrlAndAppend()</strong> on the interface level without explicitly instantiating the implementation?</p>\n<p>This is what I am trying to achieve:</p>\n<pre><code>public class ThirdClass {\n\n    private final UrlProvider urlProvider;\n    \n    public void myMethod() {\n        urlProvider.getUrlAndAppend();\n    }\n\n}\n</code></pre>\n<p>In terms of design, how this is usually handled?</p>\n"},{"tags":["java","android","kotlin","calllog"],"answers":[{"tags":[],"owner":{"account_id":1527903,"reputation":173,"user_id":1463640,"display_name":"balee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607973287,"creation_date":1607973287,"answer_id":65295091,"question_id":63834168,"body_markdown":"You can get information on SIM cards with `SubscriptionManager.getActiveSubscriptionInfoList()`.\r\n\r\nOn some devices, `Call.PHONE_ACCOUNT_ID` equals `subscriptionInfo.getSubscriptionId()`, however on other devices (your case) `subscriptionInfo.getIccId()` is a substring of it, so you need to check both.\r\n\r\nSee also [SubscriptionManager][1] reference.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/kotlin/android/telephony/SubscriptionManager","title":"Identifying a SIM card slot with PHONE_ACCOUNT_ID in Android CallLogCalls","body":"<p>You can get information on SIM cards with <code>SubscriptionManager.getActiveSubscriptionInfoList()</code>.</p>\n<p>On some devices, <code>Call.PHONE_ACCOUNT_ID</code> equals <code>subscriptionInfo.getSubscriptionId()</code>, however on other devices (your case) <code>subscriptionInfo.getIccId()</code> is a substring of it, so you need to check both.</p>\n<p>See also <a href=\"https://developer.android.com/reference/kotlin/android/telephony/SubscriptionManager\" rel=\"nofollow noreferrer\">SubscriptionManager</a> reference.</p>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672194356,"creation_date":1663569983,"answer_id":73769425,"question_id":63834168,"body_markdown":"The official way is to check the account-id (documentation [**here**][1]), but on some devices it just returns the SIM card slot index, so here&#39;s the code with a workaround (from [Android 6.0][2] (Marshmallow)):\r\n\r\n```\r\nfun getSimSlotIndexFromAccountId(context: Context, accountIdToFind: String): Int {\r\n    // This is actually the official data that should be found, as on the emulator, but sadly not all phones return here a proper value\r\n    val telecomManager = context.getSystemService&lt;TelecomManager&gt;()\r\n    telecomManager.callCapablePhoneAccounts.forEachIndexed { index, account: PhoneAccountHandle -&gt;\r\n        val phoneAccount: PhoneAccount = telecomManager.getPhoneAccount(account)\r\n        val accountId: String = phoneAccount.accountHandle\r\n            .id\r\n        if (accountIdToFind == accountId) {\r\n            return index\r\n        }\r\n    }\r\n    accountIdToFind.toIntOrNull()?.let {\r\n        if (it &gt;= 0)\r\n            return it\r\n    }\r\n    return -1\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nval simIdColumnIndex = callLogCursor.getColumnIndex(CallLog.Calls.PHONE_ACCOUNT_ID)\r\nval accountId: String = callLogCursor.getString(simIdColumnIndex)\r\nval simCardSlotIndex = getSimSlotIndexFromAccountId(applicationContext, accountId)\r\n```\r\n\r\nI&#39;ve reported about this issue (that some devices don&#39;t follow official API) here:\r\n\r\n*[Bug: on some devices, PHONE_ACCOUNT_ID just returns the SIM-card slot index][3]*\r\n\r\n  [1]: https://developer.android.com/reference/android/provider/CallLog.Calls#PHONE_ACCOUNT_ID\r\n  [2]: https://en.wikipedia.org/wiki/Android_Marshmallow\r\n  [3]: https://issuetracker.google.com/issues/247339277\r\n\r\n\r\n","title":"Identifying a SIM card slot with PHONE_ACCOUNT_ID in Android CallLogCalls","body":"<p>The official way is to check the account-id (documentation <a href=\"https://developer.android.com/reference/android/provider/CallLog.Calls#PHONE_ACCOUNT_ID\" rel=\"nofollow noreferrer\"><strong>here</strong></a>), but on some devices it just returns the SIM card slot index, so here's the code with a workaround (from <a href=\"https://en.wikipedia.org/wiki/Android_Marshmallow\" rel=\"nofollow noreferrer\">Android 6.0</a> (Marshmallow)):</p>\n<pre><code>fun getSimSlotIndexFromAccountId(context: Context, accountIdToFind: String): Int {\n    // This is actually the official data that should be found, as on the emulator, but sadly not all phones return here a proper value\n    val telecomManager = context.getSystemService&lt;TelecomManager&gt;()\n    telecomManager.callCapablePhoneAccounts.forEachIndexed { index, account: PhoneAccountHandle -&gt;\n        val phoneAccount: PhoneAccount = telecomManager.getPhoneAccount(account)\n        val accountId: String = phoneAccount.accountHandle\n            .id\n        if (accountIdToFind == accountId) {\n            return index\n        }\n    }\n    accountIdToFind.toIntOrNull()?.let {\n        if (it &gt;= 0)\n            return it\n    }\n    return -1\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val simIdColumnIndex = callLogCursor.getColumnIndex(CallLog.Calls.PHONE_ACCOUNT_ID)\nval accountId: String = callLogCursor.getString(simIdColumnIndex)\nval simCardSlotIndex = getSimSlotIndexFromAccountId(applicationContext, accountId)\n</code></pre>\n<p>I've reported about this issue (that some devices don't follow official API) here:</p>\n<p><em><a href=\"https://issuetracker.google.com/issues/247339277\" rel=\"nofollow noreferrer\">Bug: on some devices, PHONE_ACCOUNT_ID just returns the SIM-card slot index</a></em></p>\n"}],"owner":{"account_id":14218677,"reputation":31,"user_id":10271745,"display_name":"Wrath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672194356,"creation_date":1599756227,"question_id":63834168,"body_markdown":"In dual-SIM card mobiles I manage to differentiate SIM cards in the calllog using the PHONE_ACCOUNT_ID property as shown in the code below. Now I need to know what SIM card actually was use (1 or 2) to make or receive the call. PHONE_ACCOUNT_ID shows something like this 8953011201104578086F for and one SIM card and similar, but no equal to the other. This was tested in a Samsung mobile:\r\n\r\n    fun readCallLog() {\r\n        val cursor = context.contentResolver.query(CallLog.Calls.CONTENT_URI,null, null, null, CallLog.Calls.DATE + &quot; DESC&quot;)\r\n        val number = cursor?.getColumnIndex(CallLog.Calls.NUMBER)\r\n        val date = cursor?.getColumnIndex(CallLog.Calls.DATE)\r\n        val type = cursor?.getColumnIndex(CallLog.Calls.TYPE)\r\n        val account_id = cursor?.getColumnIndex(CallLog.Calls.PHONE_ACCOUNT_ID)\r\n\r\n\r\n        val tmp : MutableList&lt;List&lt;String?&gt;&gt; = mutableListOf()\r\n\r\n        while (cursor?.moveToNext() == true ) {\r\n            val call_number = if (number != null) cursor.getString(number) else &quot;&quot;\r\n            val call_date = if(date != null) cursor.getString(date) else &quot;&quot;\r\n            val call_type = if(type != null) cursor.getInt(type).toString() else &quot;&quot;\r\n            val call_account_id = if(account_id != null) cursor.getString(account_id) else &quot;&quot;\r\n\r\n            tmp.add( listOf(call_number, call_date, call_type, call_account_id))\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Identifying a SIM card slot with PHONE_ACCOUNT_ID in Android CallLogCalls","body":"<p>In dual-SIM card mobiles I manage to differentiate SIM cards in the calllog using the PHONE_ACCOUNT_ID property as shown in the code below. Now I need to know what SIM card actually was use (1 or 2) to make or receive the call. PHONE_ACCOUNT_ID shows something like this 8953011201104578086F for and one SIM card and similar, but no equal to the other. This was tested in a Samsung mobile:</p>\n<pre><code>fun readCallLog() {\n    val cursor = context.contentResolver.query(CallLog.Calls.CONTENT_URI,null, null, null, CallLog.Calls.DATE + &quot; DESC&quot;)\n    val number = cursor?.getColumnIndex(CallLog.Calls.NUMBER)\n    val date = cursor?.getColumnIndex(CallLog.Calls.DATE)\n    val type = cursor?.getColumnIndex(CallLog.Calls.TYPE)\n    val account_id = cursor?.getColumnIndex(CallLog.Calls.PHONE_ACCOUNT_ID)\n\n\n    val tmp : MutableList&lt;List&lt;String?&gt;&gt; = mutableListOf()\n\n    while (cursor?.moveToNext() == true ) {\n        val call_number = if (number != null) cursor.getString(number) else &quot;&quot;\n        val call_date = if(date != null) cursor.getString(date) else &quot;&quot;\n        val call_type = if(type != null) cursor.getInt(type).toString() else &quot;&quot;\n        val call_account_id = if(account_id != null) cursor.getString(account_id) else &quot;&quot;\n\n        tmp.add( listOf(call_number, call_date, call_type, call_account_id))\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","java-record"],"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1656235229,"post_id":72759422,"comment_id":128517961,"body_markdown":"Silly mistake. I had to annotate the argument as @RequestBody Order order","body":"Silly mistake. I had to annotate the argument as @RequestBody Order order"}],"answers":[{"tags":[],"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656305012,"creation_date":1656235964,"answer_id":72760393,"question_id":72759422,"body_markdown":"add default constructor to your class:\r\n\r\n    class Order{\r\n    //some code and field\r\n    \r\n        public Order(){\r\n            this.uuid = null;\r\n            this.items = null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI think the solution will be fixed this exception but the problem remains because the Controller with JSON converter first creates an object and second fill the received fields for the object. but the java record has final fields and can&#39;t set the fields of the java record again.\r\n\r\nfor solving your problem you converter to support converting java records for example if you use the JACKSON converter should use the Jackson 2.12+. read this [link][1] maye be useful.\r\n\r\n\r\n  [1]: https://carloschac.in/2021/03/04/jacksonrecords/","title":"Java record in spring RESTController - No primary or single unique constructor","body":"<p>add default constructor to your class:</p>\n<pre><code>class Order{\n//some code and field\n\n    public Order(){\n        this.uuid = null;\n        this.items = null;\n    }\n\n}\n</code></pre>\n<p>I think the solution will be fixed this exception but the problem remains because the Controller with JSON converter first creates an object and second fill the received fields for the object. but the java record has final fields and can't set the fields of the java record again.</p>\n<p>for solving your problem you converter to support converting java records for example if you use the JACKSON converter should use the Jackson 2.12+. read this <a href=\"https://carloschac.in/2021/03/04/jacksonrecords/\" rel=\"nofollow noreferrer\">link</a> maye be useful.</p>\n"},{"tags":[],"owner":{"account_id":17758573,"reputation":16,"user_id":12895076,"display_name":"Sam Indiazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672193690,"creation_date":1672193690,"answer_id":74935653,"question_id":72759422,"body_markdown":"For anyone who may happen to stumble upon this, I think a better solution may look like this (assuming OrderItem class is serializable):\r\n\r\n    public record Order(UUID uuid, List&lt;OrderItem&gt; items) {\r\n      \r\n      @ConstructorProperties({&quot;uuid&quot;, &quot;items&quot;})\r\n      public Order(String uuid, List&lt;OrderItems&gt; items) {\r\n        this(UUID.fromString(uuid), items);\r\n      }\r\n\r\n    }","title":"Java record in spring RESTController - No primary or single unique constructor","body":"<p>For anyone who may happen to stumble upon this, I think a better solution may look like this (assuming OrderItem class is serializable):</p>\n<pre><code>public record Order(UUID uuid, List&lt;OrderItem&gt; items) {\n  \n  @ConstructorProperties({&quot;uuid&quot;, &quot;items&quot;})\n  public Order(String uuid, List&lt;OrderItems&gt; items) {\n    this(UUID.fromString(uuid), items);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672193690,"creation_date":1656225540,"question_id":72759422,"body_markdown":"I have tried the java records in new code. It looks nice but I face a trouble when deserializing from JSON in Spring REST controller. \r\n\r\nRecord \r\n\r\n    public record Order(UUID uuid, List&lt;OrderItem&gt; items) {}\r\n\r\nController\r\n\r\n    @PostMapping(value = &quot;/allocations&quot;)\r\n    public Allocation allocate(Order order) throws Exception {\r\n        return planningService.allocate(order);\r\n    }\r\n\r\nRequest:\r\n\r\n    {\r\n        &quot;uuid&quot;: &quot;123e4567-e89b-12d3-a456-556642440000&quot;,\r\n        &quot;items&quot;: [\r\n            {  &quot;amount&quot; : 3000 }\r\n        ]\r\n    }\r\n\r\nThis did not work because uuid in the record was null. There was no implicit String to UUID conversion. So I added the non default constructor:\r\n\r\n    public Order(String uuid, List&lt;OrderItem&gt; items) {\r\n        this(UUID.fromString(uuid), items);\r\n    }\r\n\r\nBut Spring does not like it:\r\n\r\n    java.lang.IllegalStateException: No primary or single unique constructor found for class com.example.fueltransport.beans.Order\r\n    \tat org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\r\nAm I supposed to write some unmarshaller for the record or is there some easier way?","title":"Java record in spring RESTController - No primary or single unique constructor","body":"<p>I have tried the java records in new code. It looks nice but I face a trouble when deserializing from JSON in Spring REST controller.</p>\n<p>Record</p>\n<pre><code>public record Order(UUID uuid, List&lt;OrderItem&gt; items) {}\n</code></pre>\n<p>Controller</p>\n<pre><code>@PostMapping(value = &quot;/allocations&quot;)\npublic Allocation allocate(Order order) throws Exception {\n    return planningService.allocate(order);\n}\n</code></pre>\n<p>Request:</p>\n<pre><code>{\n    &quot;uuid&quot;: &quot;123e4567-e89b-12d3-a456-556642440000&quot;,\n    &quot;items&quot;: [\n        {  &quot;amount&quot; : 3000 }\n    ]\n}\n</code></pre>\n<p>This did not work because uuid in the record was null. There was no implicit String to UUID conversion. So I added the non default constructor:</p>\n<pre><code>public Order(String uuid, List&lt;OrderItem&gt; items) {\n    this(UUID.fromString(uuid), items);\n}\n</code></pre>\n<p>But Spring does not like it:</p>\n<pre><code>java.lang.IllegalStateException: No primary or single unique constructor found for class com.example.fueltransport.beans.Order\n    at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:267) ~[spring-beans-5.3.21.jar:5.3.21]\n</code></pre>\n<p>Am I supposed to write some unmarshaller for the record or is there some easier way?</p>\n"},{"tags":["javascript","java","architecture","microservices"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672045384,"post_id":74918550,"comment_id":132211503,"body_markdown":"Put the data in an SQL database.","body":"Put the data in an SQL database."},{"owner":{"account_id":17908270,"reputation":19,"user_id":13010899,"display_name":"Sonali Arya"},"score":0,"creation_date":1672046510,"post_id":74918550,"comment_id":132211759,"body_markdown":"Need the same data across all MS, If I put in SQL database then I need to add that in all SQL as every MS have different SQL. I want to avoid network latency and transaction.","body":"Need the same data across all MS, If I put in SQL database then I need to add that in all SQL as every MS have different SQL. I want to avoid network latency and transaction."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672052038,"post_id":74918550,"comment_id":132212792,"body_markdown":"**Key Value** , **NoSQL , or **Key Value Cache** something. (https://ignite.apache.org/use-cases/in-memory-cache.html)","body":"<b>Key Value</b> , <b>NoSQL , or **Key Value Cache</b> something. (<a href=\"https://ignite.apache.org/use-cases/in-memory-cache.html\" rel=\"nofollow noreferrer\">ignite.apache.org/use-cases/in-memory-cache.html</a>)"}],"answers":[{"tags":[],"owner":{"account_id":2851782,"reputation":9016,"user_id":2448829,"display_name":"Rob Conklin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672193535,"creation_date":1672193535,"answer_id":74935635,"question_id":74918550,"body_markdown":"There are these things called files :-).  In days gone by, we would put data into files and use programs to read them off of disk.\r\n\r\nLater, we decided we needed to distribute them across networks, we would use a web server to send those files to remote programs (browsers).  When we did so, the programs that used the files became slow (networks were lousy then).  And so, we developed caches.  We even put directives in files to say how long the caches were good for.  We could tune the TTL so that some files would last for seconds, others would last for days or weeks.  \r\n\r\nThey even added the ability for servers to tell the programs if the files were changed on the server without sending the whole file again.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control","title":"I Need to implement/have static master data that will be use across 20-30 microservice","body":"<p>There are these things called files :-).  In days gone by, we would put data into files and use programs to read them off of disk.</p>\n<p>Later, we decided we needed to distribute them across networks, we would use a web server to send those files to remote programs (browsers).  When we did so, the programs that used the files became slow (networks were lousy then).  And so, we developed caches.  We even put directives in files to say how long the caches were good for.  We could tune the TTL so that some files would last for seconds, others would last for days or weeks.</p>\n<p>They even added the ability for servers to tell the programs if the files were changed on the server without sending the whole file again.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control</a></p>\n"}],"owner":{"account_id":17908270,"reputation":19,"user_id":13010899,"display_name":"Sonali Arya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672193535,"creation_date":1672043709,"question_id":74918550,"body_markdown":"I have master static data of country,city and xyz. These data don&#39;t change frequently (once in a year). \r\n\r\n\r\n\r\nThese data will be used by multiple Microservice, I want to avoid network latency so decided not to go with another master-data-microservice.\r\n\r\nWhat are the best way to implement this, considering multiple language used in MS (Java, JavaScript). ","title":"I Need to implement/have static master data that will be use across 20-30 microservice","body":"<p>I have master static data of country,city and xyz. These data don't change frequently (once in a year).</p>\n<p>These data will be used by multiple Microservice, I want to avoid network latency so decided not to go with another master-data-microservice.</p>\n<p>What are the best way to implement this, considering multiple language used in MS (Java, JavaScript).</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","microservices"],"answers":[{"tags":[],"owner":{"account_id":19764447,"reputation":149,"user_id":14472806,"display_name":"Mani Movassagh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672188451,"creation_date":1672188451,"answer_id":74935316,"question_id":74932649,"body_markdown":"It depends on your architecture, but in most common cases the architect is as follows:\r\nImagine you have a shop and in your shop you have Order service on port 8081 and inventory service on port 8082 and so on. each service exposes some rest Api&#39;s. Then you will have a discovery server, which brings all of these Rest Api&#39;s to a single address together(Eureka for instance). \r\nThen you have a single GUI that consume these API&#39;s. These days normally you use React or Vue or Angular as Single page application to make the consumer GUI for your app. In production you will deploy each part on different Docker Containers and config the orchestration with some tool like kubernetis. In this case they will be able to speak together.\r\nIn between services sometimes we use KAFKA or rabbit MQ for decoupling the services.\r\nAlso, you can implement the authentication by using some services like keycloack which is a complete open source third party to handle both authentication and authorization.\r\nHopefully this can answer your question.","title":"How does UI (View) and Microservices communicate do I make GUI within per service?","body":"<p>It depends on your architecture, but in most common cases the architect is as follows:\nImagine you have a shop and in your shop you have Order service on port 8081 and inventory service on port 8082 and so on. each service exposes some rest Api's. Then you will have a discovery server, which brings all of these Rest Api's to a single address together(Eureka for instance).\nThen you have a single GUI that consume these API's. These days normally you use React or Vue or Angular as Single page application to make the consumer GUI for your app. In production you will deploy each part on different Docker Containers and config the orchestration with some tool like kubernetis. In this case they will be able to speak together.\nIn between services sometimes we use KAFKA or rabbit MQ for decoupling the services.\nAlso, you can implement the authentication by using some services like keycloack which is a complete open source third party to handle both authentication and authorization.\nHopefully this can answer your question.</p>\n"}],"owner":{"account_id":27207623,"reputation":33,"user_id":20738934,"display_name":"G Route"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74935316,"answer_count":1,"score":-1,"last_activity_date":1672188451,"creation_date":1672163988,"question_id":74932649,"body_markdown":"Ive been understanding Microservices and Monolithic arch type\r\n\r\nWithin a Mono App, Everything from UI (view) from models to controllers and Services are within that one War file or if using springboot embedded tomcat then its within that fat jar file. ETC\r\n\r\nSo when it comes down to microservices, do i keep all the UI files within the main app? So like my main app would only contain the VIew Model and Controller (MVC) etc. Do I just use controllers and models to update UI(view) from the data ive gotten from per service? \r\n\r\nor do i need to create a presentaional layer (GUi) within each service i create to return that page? what im saying is within the micro do i need to make a view(GUI) within that app itself instead of the main application.\r\n\r\nIm still understanding, So lets say our main app runs on port 80 is that where all GUi&#39;s(views) and our Models and Controllers will live? then another port will have the per service and i just make that call to just get the data to display it within our main app UI (View). \r\n\r\nIm just trying to wrap my head around how the UI works with mircoserives thats the only thing stopping me, \r\n\r\nmy main point is that. In a Micro app. Ill have Everything from MVC to within one app which is our main app will deploy then within that main app will make API request to the micro service then update the view with our data.\r\n\r\nHelp me understand this one someone please help me clarify this blockage about how do i implement our UI within a micro arch type. I know this question is all over the place but i was trying to paint a picture. ","title":"How does UI (View) and Microservices communicate do I make GUI within per service?","body":"<p>Ive been understanding Microservices and Monolithic arch type</p>\n<p>Within a Mono App, Everything from UI (view) from models to controllers and Services are within that one War file or if using springboot embedded tomcat then its within that fat jar file. ETC</p>\n<p>So when it comes down to microservices, do i keep all the UI files within the main app? So like my main app would only contain the VIew Model and Controller (MVC) etc. Do I just use controllers and models to update UI(view) from the data ive gotten from per service?</p>\n<p>or do i need to create a presentaional layer (GUi) within each service i create to return that page? what im saying is within the micro do i need to make a view(GUI) within that app itself instead of the main application.</p>\n<p>Im still understanding, So lets say our main app runs on port 80 is that where all GUi's(views) and our Models and Controllers will live? then another port will have the per service and i just make that call to just get the data to display it within our main app UI (View).</p>\n<p>Im just trying to wrap my head around how the UI works with mircoserives thats the only thing stopping me,</p>\n<p>my main point is that. In a Micro app. Ill have Everything from MVC to within one app which is our main app will deploy then within that main app will make API request to the micro service then update the view with our data.</p>\n<p>Help me understand this one someone please help me clarify this blockage about how do i implement our UI within a micro arch type. I know this question is all over the place but i was trying to paint a picture.</p>\n"},{"tags":["java","apache-kafka","spring-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672187599,"creation_date":1672187599,"answer_id":74935254,"question_id":74763344,"body_markdown":"Using a `Processor` you emit downstream record via `context.forward()`. Thus, you can skip a message by not call `forward()` inside `process(...)` method.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class MessageHeaderProcessor implements Processor&lt;String, String, String, String&gt; {\r\n      // ... omitted\r\n\r\n      private ProcessorContext context;\r\n\r\n      @Override\r\n      public void init(ProcessorContext&lt;String, String&gt; context) {\r\n        this.context = context;\r\n      }\r\n\r\n      @Override\r\n      public void process(Record&lt;String, String&gt; record) {\r\n        if (...) { // below threshold\r\n          context.forward(record);\r\n        }\r\n      }  \r\n    }","title":"How to skip the message according to the value in the message header in Kafka Streams?","body":"<p>Using a <code>Processor</code> you emit downstream record via <code>context.forward()</code>. Thus, you can skip a message by not call <code>forward()</code> inside <code>process(...)</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MessageHeaderProcessor implements Processor&lt;String, String, String, String&gt; {\n  // ... omitted\n\n  private ProcessorContext context;\n\n  @Override\n  public void init(ProcessorContext&lt;String, String&gt; context) {\n    this.context = context;\n  }\n\n  @Override\n  public void process(Record&lt;String, String&gt; record) {\n    if (...) { // below threshold\n      context.forward(record);\n    }\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":14608780,"reputation":15,"user_id":10550818,"display_name":"ozdem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74935254,"answer_count":1,"score":1,"last_activity_date":1672187599,"creation_date":1670782636,"question_id":74763344,"body_markdown":"I want to skip messages that exceed the threshold value in the message headers. We can access the message headers in the streams using the KafkaStream#process method. But, I don&#39;t know how to skip messages that exceed the threshold value in the header. I couldn&#39;t use the filter because it couldn&#39;t access the header in the KStream#filter() method. \r\n\r\nI&#39;m trying to write in java using Spring Kafka Stream. Is there a way to do that?\r\n\r\n```\r\npublic class MessageHeaderProcessor implements Processor&lt;String, String, String, String&gt; {\r\n\r\n    String RETRY_COUNT = &quot;RetryCount&quot;;\r\n    Integer threshold;\r\n\r\n    public MessageHeaderProcessor(Integer threshold) {\r\n        this.threshold = threshold;\r\n    }\r\n\r\n    @Override\r\n    public void init(ProcessorContext context) {\r\n        Processor.super.init(context);\r\n    }\r\n\r\n    @SneakyThrows\r\n    @Override\r\n    public void process(Record record) {\r\n        Headers headers = record.headers();\r\n        Iterator&lt;Header&gt; retryCountHeader = headers.headers(RETRY_COUNT).iterator();\r\n        if (!retryCountHeader.hasNext()) {\r\n            headers.add(RETRY_COUNT, &quot;1&quot;.getBytes());\r\n        } else {\r\n            headers.remove(RETRY_COUNT);\r\n            var retryCount = extractRetryCount(retryCountHeader.next().value());\r\n            var newRetryCount = String.valueOf(retryCount + 1).getBytes();\r\n            headers.add(RETRY_COUNT, newRetryCount);\r\n            if (retryCount &gt; this.threshold) {\r\n              //should skip the message                \r\n            }\r\n        }\r\n    }\r\n\r\n    private int extractRetryCount(final byte[] bytes) {\r\n        return Integer.parseInt(new String(bytes));\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        Processor.super.close();\r\n    }\r\n}\r\n\r\n\r\npublic class EventStreamProcessor {\r\n  \r\n  @Autowired\r\n  public void streamTopology(StreamsBuilder streamsBuilder) {\r\n      KStream&lt;String, String&gt; inputStream = streamsBuilder.stream(&quot;inputTopic&quot;);\r\n      inputStream.process(new MessageHeaderProcessorSupplier(10));\r\n      inputStream.to(&quot;outputTopic&quot;);\r\n  }\r\n}\r\n```\r\n","title":"How to skip the message according to the value in the message header in Kafka Streams?","body":"<p>I want to skip messages that exceed the threshold value in the message headers. We can access the message headers in the streams using the KafkaStream#process method. But, I don't know how to skip messages that exceed the threshold value in the header. I couldn't use the filter because it couldn't access the header in the KStream#filter() method.</p>\n<p>I'm trying to write in java using Spring Kafka Stream. Is there a way to do that?</p>\n<pre><code>public class MessageHeaderProcessor implements Processor&lt;String, String, String, String&gt; {\n\n    String RETRY_COUNT = &quot;RetryCount&quot;;\n    Integer threshold;\n\n    public MessageHeaderProcessor(Integer threshold) {\n        this.threshold = threshold;\n    }\n\n    @Override\n    public void init(ProcessorContext context) {\n        Processor.super.init(context);\n    }\n\n    @SneakyThrows\n    @Override\n    public void process(Record record) {\n        Headers headers = record.headers();\n        Iterator&lt;Header&gt; retryCountHeader = headers.headers(RETRY_COUNT).iterator();\n        if (!retryCountHeader.hasNext()) {\n            headers.add(RETRY_COUNT, &quot;1&quot;.getBytes());\n        } else {\n            headers.remove(RETRY_COUNT);\n            var retryCount = extractRetryCount(retryCountHeader.next().value());\n            var newRetryCount = String.valueOf(retryCount + 1).getBytes();\n            headers.add(RETRY_COUNT, newRetryCount);\n            if (retryCount &gt; this.threshold) {\n              //should skip the message                \n            }\n        }\n    }\n\n    private int extractRetryCount(final byte[] bytes) {\n        return Integer.parseInt(new String(bytes));\n    }\n\n    @Override\n    public void close() {\n        Processor.super.close();\n    }\n}\n\n\npublic class EventStreamProcessor {\n  \n  @Autowired\n  public void streamTopology(StreamsBuilder streamsBuilder) {\n      KStream&lt;String, String&gt; inputStream = streamsBuilder.stream(&quot;inputTopic&quot;);\n      inputStream.process(new MessageHeaderProcessorSupplier(10));\n      inputStream.to(&quot;outputTopic&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","security","post"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672091753,"creation_date":1672091424,"answer_id":74924217,"question_id":74924144,"body_markdown":"Spring data jpa has some ability to provide implementation if you name a method in repository interface according to supported naming standards. \r\n\r\nBut the ones you have provided for sure are not supported from spring.\r\n\r\n    List&lt;User&gt; listar();\r\n    User buscar(Long id);\r\n    User salvar(User user);\r\n    void remover (User user)\r\n\r\nSo you can either provide `@Query` and explain to spring what each method should do in database or use some supported namings. Keep in mind English naming is supported from Spring and not other languages! ","title":"Failed with the Post endpoint","body":"<p>Spring data jpa has some ability to provide implementation if you name a method in repository interface according to supported naming standards.</p>\n<p>But the ones you have provided for sure are not supported from spring.</p>\n<pre><code>List&lt;User&gt; listar();\nUser buscar(Long id);\nUser salvar(User user);\nvoid remover (User user)\n</code></pre>\n<p>So you can either provide <code>@Query</code> and explain to spring what each method should do in database or use some supported namings. Keep in mind English naming is supported from Spring and not other languages!</p>\n"},{"tags":[],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672183533,"creation_date":1672183533,"answer_id":74934941,"question_id":74924144,"body_markdown":"first I removed from the repository\r\n  \r\n\r\n    @Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\r\n         public User findByEmail(String email);\r\n    \r\n         List&lt;User&gt; list();\r\n         User fetch(Long id);\r\n         User save(User user);\r\n         void remove(User user);\r\n\r\nthe next step was to refactor my @PostMapping method like this:\r\n  \r\n\r\n     @PostMapping(&quot;/register&quot;)\r\n         @ResponseStatus(HttpStatus.CREATED)\r\n         public void add(@RequestBody User user) {\r\n             userRepo.save(user);\r\n     \r\nI used the save from the JpaRepository interface itself\r\nthen I did the test in postman with the following uri:\r\n\r\n    localhost:8080/register\r\n\r\nand with the body:\r\n\r\n    {\r\n         &quot;email&quot;:&quot;karine@gmail.com&quot;,\r\n         &quot;password&quot;: &quot;123456&quot;,\r\n         &quot;firstName&quot;:&quot;karine&quot;,\r\n         &quot;lastName&quot;:&quot;silver&quot;\r\n    }\r\n\r\nthen I got the following error:\r\n403Forbidden\r\n\r\n    {\r\n         &quot;timestamp&quot;: &quot;2022-12-27T19:51:05.991+00:00&quot;,\r\n         &quot;status&quot;: 403,\r\n         &quot;error&quot;: &quot;Forbidden&quot;,\r\n         &quot;message&quot;: &quot;Forbidden&quot;,\r\n         &quot;path&quot;: &quot;/register&quot;\r\n    }\r\n\r\nthen I added the annotation in application.properties\r\n\r\n    logging.level.org.springframework=DEBUG\r\n\r\nso when I was debugging I found the CSRF problem\r\no.s.security.web.csrf.CsrfFilter: Invalid CSRF token found for \r\n\r\n    http://localhost:8080/register\r\n    o.s.s.w.access.AccessDeniedHandlerImpl : Responding with 403 status code\r\n    \r\n    then I found this topic: https://stackoverflow.com/questions/55303851/why-i-recieve-invalid-csrf-token\r\n\r\nand implemented it in WebSecurityConfig\r\n \r\n\r\n     @Override\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n         http.csrf().disable();\r\n\r\nand it was like this\r\n\r\nWebSecurityConfig\r\n\r\n    import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.CustomUserDetailsService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    \r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\n    import javax.sql.DataSource;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n    \r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n    return new CustomUserDetailsService();\r\n    }\r\n    \r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n    }\r\n    \r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n    authProvider.setUserDetailsService(userDetailsService());\r\n    authProvider.setPasswordEncoder(passwordEncoder());\r\n    \r\n    return authProvider;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.authenticationProvider(authenticationProvider());\r\n    }\r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n    http.authorizeRequests()\r\n    .antMatchers(&quot;/users&quot;).authenticated()\r\n    .anyRequest().permitAll()\r\n    .and()\r\n    .formLogin()\r\n    .usernameParameter(&quot;email&quot;)\r\n    .defaultSuccessUrl(&quot;/users&quot;)\r\n    .permitAll()\r\n    .and()\r\n    .logout().logoutSuccessUrl(&quot;/&quot;).permitAll();\r\n    }\r\n    \r\n    \r\n    }\r\nthen the following error appeared where I am currently in it\r\n\r\n\r\n    \r\n\r\n","title":"Failed with the Post endpoint","body":"<p>first I removed from the repository</p>\n<pre><code>@Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\n     public User findByEmail(String email);\n\n     List&lt;User&gt; list();\n     User fetch(Long id);\n     User save(User user);\n     void remove(User user);\n</code></pre>\n<p>the next step was to refactor my @PostMapping method like this:</p>\n<pre><code> @PostMapping(&quot;/register&quot;)\n     @ResponseStatus(HttpStatus.CREATED)\n     public void add(@RequestBody User user) {\n         userRepo.save(user);\n \n</code></pre>\n<p>I used the save from the JpaRepository interface itself\nthen I did the test in postman with the following uri:</p>\n<pre><code>localhost:8080/register\n</code></pre>\n<p>and with the body:</p>\n<pre><code>{\n     &quot;email&quot;:&quot;karine@gmail.com&quot;,\n     &quot;password&quot;: &quot;123456&quot;,\n     &quot;firstName&quot;:&quot;karine&quot;,\n     &quot;lastName&quot;:&quot;silver&quot;\n}\n</code></pre>\n<p>then I got the following error:\n403Forbidden</p>\n<pre><code>{\n     &quot;timestamp&quot;: &quot;2022-12-27T19:51:05.991+00:00&quot;,\n     &quot;status&quot;: 403,\n     &quot;error&quot;: &quot;Forbidden&quot;,\n     &quot;message&quot;: &quot;Forbidden&quot;,\n     &quot;path&quot;: &quot;/register&quot;\n}\n</code></pre>\n<p>then I added the annotation in application.properties</p>\n<pre><code>logging.level.org.springframework=DEBUG\n</code></pre>\n<p>so when I was debugging I found the CSRF problem\no.s.security.web.csrf.CsrfFilter: Invalid CSRF token found for</p>\n<pre><code>http://localhost:8080/register\no.s.s.w.access.AccessDeniedHandlerImpl : Responding with 403 status code\n\nthen I found this topic: https://stackoverflow.com/questions/55303851/why-i-recieve-invalid-csrf-token\n</code></pre>\n<p>and implemented it in WebSecurityConfig</p>\n<pre><code> @Override\n   protected void configure(HttpSecurity http) throws Exception {\n     http.csrf().disable();\n</code></pre>\n<p>and it was like this</p>\n<p>WebSecurityConfig</p>\n<pre><code>import com.xxxxxxxxxxxxxxxxxxxxxxxxxx.service.CustomUserDetailsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n@Autowired\nprivate DataSource dataSource;\n\n@Bean\npublic UserDetailsService userDetailsService() {\nreturn new CustomUserDetailsService();\n}\n\n@Bean\npublic BCryptPasswordEncoder passwordEncoder() {\nreturn new BCryptPasswordEncoder();\n}\n\n@Bean\npublic DaoAuthenticationProvider authenticationProvider() {\nDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\nauthProvider.setUserDetailsService(userDetailsService());\nauthProvider.setPasswordEncoder(passwordEncoder());\n\nreturn authProvider;\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\nauth.authenticationProvider(authenticationProvider());\n}\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.csrf().disable();\nhttp.authorizeRequests()\n.antMatchers(&quot;/users&quot;).authenticated()\n.anyRequest().permitAll()\n.and()\n.formLogin()\n.usernameParameter(&quot;email&quot;)\n.defaultSuccessUrl(&quot;/users&quot;)\n.permitAll()\n.and()\n.logout().logoutSuccessUrl(&quot;/&quot;).permitAll();\n}\n\n\n}\n</code></pre>\n<p>then the following error appeared where I am currently in it</p>\n"},{"tags":[],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672186493,"creation_date":1672186493,"answer_id":74935162,"question_id":74924144,"body_markdown":"    {\r\n        &quot;timestamp&quot;: &quot;2022-12-27T20:07:13.762+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [id\\&quot; of relation \\&quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy96.save(Unknown Source)\\r\\n\\tat com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.controller.AppController.add(AppController.java:23)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1589)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\\r\\n\\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3196)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3802)\\r\\n\\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\\r\\n\\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)\\r\\n\\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 100 more\\r\\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;id\\&quot; of relation \\&quot;users\\&quot; violates not-null constraint\\n  Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 147 more\\r\\n&quot;,\r\n        &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [id\\&quot; of relation \\&quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\r\n        &quot;path&quot;: &quot;/register&quot;\r\n    }\r\n\r\n\r\n\r\n    2022-12-27 21:09:18.181  INFO 11524 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-12-27 21:09:18.182  INFO 11524 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-12-27 21:09:18.325  INFO 11524 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 143 ms\r\n    2022-12-27 21:09:21.547  WARN 11524 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\r\n    2022-12-27 21:09:21.549 ERROR 11524 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;id&quot; of relation &quot;users&quot; violates not-null constraint\r\n      Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\r\n    2022-12-27 21:09:21.694 ERROR 11524 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [id&quot; of relation &quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\r\n    \r\n    org.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;users&quot; violates not-null constraint\r\n      Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130) ~[postgresql-42.2.24.jar:42.2.24]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3196) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3802) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n\r\n\r\n","title":"Failed with the Post endpoint","body":"<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-12-27T20:07:13.762+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [id\\&quot; of relation \\&quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\\r\\n\\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\\r\\n\\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\\r\\n\\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\\r\\n\\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy96.save(Unknown Source)\\r\\n\\tat com.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.controller.AppController.add(AppController.java:23)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\r\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\r\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\r\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\\r\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\\r\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\r\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\\r\\n\\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\\r\\n\\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\\r\\n\\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\\r\\n\\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\\r\\n\\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\\r\\n\\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\\r\\n\\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\\r\\n\\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\\r\\n\\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\\r\\n\\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\r\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\\r\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\\r\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\r\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\r\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\\r\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\\r\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\r\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\r\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\r\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\\r\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\r\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\\r\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\\r\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\r\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\r\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\r\\n\\tat java.base/java.lang.Thread.run(Thread.java:1589)\\r\\nCaused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\\r\\n\\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\\r\\n\\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\\r\\n\\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\\r\\n\\tat org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)\\r\\n\\tat org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3196)\\r\\n\\tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3802)\\r\\n\\tat org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)\\r\\n\\tat org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)\\r\\n\\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)\\r\\n\\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)\\r\\n\\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\\r\\n\\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)\\r\\n\\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\\r\\n\\tat jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source)\\r\\n\\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597)\\r\\n\\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\\r\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\\r\\n\\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\\r\\n\\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\\r\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\\r\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\\r\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\\r\\n\\t... 100 more\\r\\nCaused by: org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;id\\&quot; of relation \\&quot;users\\&quot; violates not-null constraint\\n  Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297)\\r\\n\\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322)\\r\\n\\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481)\\r\\n\\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164)\\r\\n\\tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130)\\r\\n\\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\\r\\n\\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\\r\\n\\tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\\r\\n\\t... 147 more\\r\\n&quot;,\n    &quot;message&quot;: &quot;could not execute statement; SQL [n/a]; constraint [id\\&quot; of relation \\&quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;,\n    &quot;path&quot;: &quot;/register&quot;\n}\n\n\n\n2022-12-27 21:09:18.181  INFO 11524 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-12-27 21:09:18.182  INFO 11524 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-12-27 21:09:18.325  INFO 11524 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 143 ms\n2022-12-27 21:09:21.547  WARN 11524 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502\n2022-12-27 21:09:21.549 ERROR 11524 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column &quot;id&quot; of relation &quot;users&quot; violates not-null constraint\n  Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\n2022-12-27 21:09:21.694 ERROR 11524 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [id&quot; of relation &quot;users]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause\n\norg.postgresql.util.PSQLException: ERROR: null value in column &quot;id&quot; of relation &quot;users&quot; violates not-null constraint\n  Detalhe: Failing row contains (null, 123456, null, karine@gmail.com, karine, silver).\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2565) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2297) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:322) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:481) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:401) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:164) ~[postgresql-42.2.24.jar:42.2.24]\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:130) ~[postgresql-42.2.24.jar:42.2.24]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3196) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3802) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.13.jar:5.3.13]\n    at jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.13.jar:5.3.13]\n    at jdk.proxy3/jdk.proxy3.$Proxy92.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:597) ~[spring-data-jpa-2.5.7.jar:2.5.7]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:599) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.7.jar:2.5.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.7.jar:2.5.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n</code></pre>\n"}],"owner":{"account_id":26460747,"reputation":63,"user_id":20114912,"display_name":"Paulo Cesar Pereira da costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1672187046,"creation_date":1672090659,"question_id":74924144,"body_markdown":"I&#39;m creating a user registration api but when I start implementing the controller, the errors start\r\nI&#39;m still on spring boot so I don&#39;t have much knowledge about it, this project was a part of another one I found on the internet \r\nTHIS:[https://www.codejava.net/frameworks/spring-boot/user-registration-and-login-tutorial][1]\r\n\r\n which was this one but it uses spring boot&#39;s thymeleaf , so I just left the security part and the security classes users, repository service, websecurity\r\n\r\n**Controller**\r\n\r\n   \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    \r\n    @Controller\r\n    public class AppController {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository userRepo;\r\n    \r\n    \r\n    \t@PostMapping(&quot;/register&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \tpublic void add(@RequestBody User user) {\r\n    \t\tuserRepo.salvar(user);\r\n    \t}\r\n    \r\n    }\r\n\r\n**User**\r\n\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(nullable = false, unique = true, length = 45)\r\n    \tprivate String email;\r\n    \t\r\n    \t@Column(nullable = false, length = 64)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name = &quot;first_name&quot;, nullable = false, length = 20)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@Column(name = &quot;last_name&quot;, nullable = false, length = 20)\r\n    \tprivate String lastName;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n**UserRepository**\r\n\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \t@Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\r\n    \tpublic User findByEmail(String email);\r\n    \r\n    \tList&lt;User&gt; listar();\r\n    \tUser buscar(Long id);\r\n    \tUser salvar(User user);\r\n    \tvoid remover (User user);\r\n    \r\n    }\r\n\r\n**Securyty**\r\n\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    \r\n    import java.util.List;\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    \t@Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\r\n    \tpublic User findByEmail(String email);\r\n    \r\n    \tList&lt;User&gt; listar();\r\n    \tUser buscar(Long id);\r\n    \tUser salvar(User user);\r\n    \tvoid remover (User user);\r\n    \r\n    }\r\n\r\n**Service**\r\n\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    public class CustomUserDetails implements UserDetails {\r\n    \r\n    \tprivate User user;\r\n    \t\r\n    \tpublic CustomUserDetails(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getPassword() {\r\n    \t\treturn user.getPassword();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getUsername() {\r\n    \t\treturn user.getEmail();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isAccountNonLocked() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isCredentialsNonExpired() {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn true;\r\n    \t}\r\n    \t\r\n    \tpublic String getFullName() {\r\n    \t\treturn user.getFirstName() + &quot; &quot; + user.getLastName();\r\n    \t}\r\n    \r\n    }\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    \r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n    \r\n    \t@Autowired\r\n    \tprivate UserRepository userRepo;\r\n    \t\r\n    \t@Override\r\n    \tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \t\tUser user = userRepo.findByEmail(username);\r\n    \t\tif (user == null) {\r\n    \t\t\tthrow new UsernameNotFoundException(&quot;User not found&quot;);\r\n    \t\t}\r\n    \t\treturn new CustomUserDetails(user);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url= jdbc:postgresql://localhost:5432/usuarios\r\n    spring.datasource.username= postgres\r\n    spring.datasource.password= 1234\r\n    spring.jpa.hibernate.ddl-auto= update\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n**Pom.xml**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xxxxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xxxxxxx&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;xxxxx&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**log**\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-12-26 18:05:22.451 ERROR 6400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;appController&#39;: Unsatisfied dependency expressed through field &#39;userRepo&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.xxxxx.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat com.xxxxxxxxxxxxxxxxxxxxxxxxxx.xxxxxxxxxxApplication.main(xxxxxxxxxxApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.2.jar:2.6.2]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 23 common frames omitted\r\n    Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\r\n    \tat org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n    \tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \t... 55 common frames omitted\r\n    Caused by: org.springframework.data.mapping.PropertyReferenceException: No property salvar found for type User!\r\n    \tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n    \tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n    \tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:92) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \t... 59 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\n  \r\n\r\n\r\n  [1]: https://","title":"Failed with the Post endpoint","body":"<p>I'm creating a user registration api but when I start implementing the controller, the errors start\nI'm still on spring boot so I don't have much knowledge about it, this project was a part of another one I found on the internet\nTHIS:https://www.codejava.net/frameworks/spring-boot/user-registration-and-login-tutorial</p>\n<p>which was this one but it uses spring boot's thymeleaf , so I just left the security part and the security classes users, repository service, websecurity</p>\n<p><strong>Controller</strong></p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n\n@Controller\npublic class AppController {\n\n    @Autowired\n    private UserRepository userRepo;\n\n\n    @PostMapping(&quot;/register&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public void add(@RequestBody User user) {\n        userRepo.salvar(user);\n    }\n\n}\n</code></pre>\n<p><strong>User</strong></p>\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Column(nullable = false, unique = true, length = 45)\n    private String email;\n    \n    @Column(nullable = false, length = 64)\n    private String password;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false, length = 20)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;, nullable = false, length = 20)\n    private String lastName;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    \n    \n    \n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\nimport java.util.List;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\n    public User findByEmail(String email);\n\n    List&lt;User&gt; listar();\n    User buscar(Long id);\n    User salvar(User user);\n    void remover (User user);\n\n}\n</code></pre>\n<p><strong>Securyty</strong></p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\nimport java.util.List;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    @Query(&quot;SELECT u FROM User u WHERE u.email = ?1&quot;)\n    public User findByEmail(String email);\n\n    List&lt;User&gt; listar();\n    User buscar(Long id);\n    User salvar(User user);\n    void remover (User user);\n\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>import org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Collection;\n\npublic class CustomUserDetails implements UserDetails {\n\n    private User user;\n    \n    public CustomUserDetails(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n\n    @Override\n    public String getPassword() {\n        return user.getPassword();\n    }\n\n    @Override\n    public String getUsername() {\n        return user.getEmail();\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n    \n    public String getFullName() {\n        return user.getFirstName() + &quot; &quot; + user.getLastName();\n    }\n\n}\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\n\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepo;\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepo.findByEmail(username);\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return new CustomUserDetails(user);\n    }\n\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.url= jdbc:postgresql://localhost:5432/usuarios\nspring.datasource.username= postgres\nspring.datasource.password= 1234\nspring.jpa.hibernate.ddl-auto= update\nspring.jpa.properties.hibernate.format_sql=true\n</code></pre>\n<p><strong>Pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.xxxxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxxxxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;xxxxx&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\n            &lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\n            &lt;version&gt;1.3.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>log</strong></p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-12-26 18:05:22.451 ERROR 6400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'appController': Unsatisfied dependency expressed through field 'userRepo'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.xxxxx.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) ~[spring-boot-2.6.2.jar:2.6.2]\n    at com.xxxxxxxxxxxxxxxxxxxxxxxxxx.xxxxxxxxxxApplication.main(xxxxxxxxxxApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.2.jar:2.6.2]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 23 common frames omitted\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! Reason: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\n    at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 33 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User com.xxxxxxxxxxxxxxxxxxxxxxxxxx.repository.UserRepository.salvar(com.xxxxxxxxxxxxxxxxxxxxxxxxxx.models.User)! No property salvar found for type User!\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:96) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:113) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    ... 55 common frames omitted\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property salvar found for type User!\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1006) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:92) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    ... 59 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","hashmap","minecraft","spigot"],"owner":{"account_id":25865056,"reputation":1,"user_id":19596889,"display_name":"Polarbaer007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672228834,"answer_count":0,"score":0,"last_activity_date":1672187006,"creation_date":1672183904,"question_id":74934973,"body_markdown":"I am making a plugin that when you run a command your Helmet will get saved in a Hashmap and in an other Hashmaps gets saved that you are now wearing that item then your head slot will get replaced with an item, but when I run the command I get a lot of error messages that don&#39;t help me, the only thing I know is that any of the Hashmaps is Null.\r\n\r\nThis is the code:\r\n\r\n\r\n\r\n```\r\npackage de.polarbaerhd.gewei.Commands;\r\n\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\n\r\npublic class GeweiCommand implements CommandExecutor {\r\n\r\n    public HashMap&lt;Player, ItemStack&gt; playershelmet = new HashMap&lt;&gt;();\r\n    public HashMap&lt;Player, Boolean&gt; hasgewei = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        Player player = (Player) sender;\r\n\r\n\r\n        if (hasgewei.get(player) == true) {\r\n            player.getInventory().setHelmet(playershelmet.get(player));\r\n            hasgewei.put(player, false);\r\n        }\r\n\r\n\r\n\r\n        ItemStack gewei = new ItemStack(Material.CARROT);\r\n        ItemMeta meti = gewei.getItemMeta();\r\n        ArrayList&lt;String&gt; lore = new ArrayList&lt;String&gt;();\r\n        lore.add(&quot; &quot;);\r\n        lore.add(&quot;&#167;aDas Gest&#228;nge von dem Rentier.&quot;);\r\n        lore.add(&quot; &quot;);\r\n        meti.setLore(lore);\r\n        meti.setDisplayName(&quot;Gest&#228;nge&quot;);\r\n\r\n        ItemStack spielerhelm = new ItemStack(player.getInventory().getHelmet().getType());\r\n        spielerhelm.setItemMeta(player.getInventory().getHelmet().getItemMeta());\r\n        gewei.setItemMeta(meti);\r\n        playershelmet.put(player, spielerhelm);\r\n        hasgewei.put(player, true);\r\n        player.getInventory().setHelmet(gewei);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nand that&#39;s the error message:\r\n\r\n\r\n```\r\n[23:19:14 ERROR]: null\r\norg.bukkit.command.CommandException: Unhandled exception executing command &#39;gewei&#39; in plugin Gewei v1.0-SNAPSHOT\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:155) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.craftbukkit.v1_19_R1.CraftServer.dispatchCommand(CraftServer.java:916) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at org.bukkit.craftbukkit.v1_19_R1.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:64) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:264) ~[paper-1.19.2.jar:?]\r\n        at net.minecraft.commands.Commands.performCommand(Commands.java:305) ~[?:?]\r\n        at net.minecraft.commands.Commands.performCommand(Commands.java:289) ~[?:?]\r\n        at net.minecraft.server.network.ServerGamePacketListenerImpl.performChatCommand(ServerGamePacketListenerImpl.java:2294) ~[?:?]\r\n        at net.minecraft.server.network.ServerGamePacketListenerImpl.lambda$handleChatCommand$20(ServerGamePacketListenerImpl.java:2248) ~[?:?]\r\n        at net.minecraft.util.thread.BlockableEventLoop.lambda$submitAsync$0(BlockableEventLoop.java:59) ~[?:?]\r\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\r\n        at net.minecraft.server.TickTask.run(TickTask.java:18) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.util.thread.BlockableEventLoop.doRunTask(BlockableEventLoop.java:153) ~[?:?]\r\n        at net.minecraft.util.thread.ReentrantBlockableEventLoop.doRunTask(ReentrantBlockableEventLoop.java:24) ~[?:?]\r\n        at net.minecraft.server.MinecraftServer.doRunTask(MinecraftServer.java:1341) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:185) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.util.thread.BlockableEventLoop.pollTask(BlockableEventLoop.java:126) ~[?:?]\r\n        at net.minecraft.server.MinecraftServer.pollTaskInternal(MinecraftServer.java:1318) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.server.MinecraftServer.pollTask(MinecraftServer.java:1311) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.util.thread.BlockableEventLoop.managedBlock(BlockableEventLoop.java:136) ~[?:?]\r\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1389) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1173) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:305) ~[paper-1.19.2.jar:git-Paper-232]\r\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.HashMap.get(Object)&quot; is null\r\n        at de.polarbaerhd.gewei.Commands.GeweiCommand.onCommand(GeweiCommand.java:25) ~[gewei-1.0-SNAPSHOT.jar:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\r\n        ... 23 more\r\n```\r\n\r\n\r\n\r\nI thought with another Hashmap it could work but the same Errors show up.","title":"I have some problem with Hashmaps in my Spigot Plugin","body":"<p>I am making a plugin that when you run a command your Helmet will get saved in a Hashmap and in an other Hashmaps gets saved that you are now wearing that item then your head slot will get replaced with an item, but when I run the command I get a lot of error messages that don't help me, the only thing I know is that any of the Hashmaps is Null.</p>\n<p>This is the code:</p>\n<pre><code>package de.polarbaerhd.gewei.Commands;\n\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\n\npublic class GeweiCommand implements CommandExecutor {\n\n    public HashMap&lt;Player, ItemStack&gt; playershelmet = new HashMap&lt;&gt;();\n    public HashMap&lt;Player, Boolean&gt; hasgewei = new HashMap&lt;&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        Player player = (Player) sender;\n\n\n        if (hasgewei.get(player) == true) {\n            player.getInventory().setHelmet(playershelmet.get(player));\n            hasgewei.put(player, false);\n        }\n\n\n\n        ItemStack gewei = new ItemStack(Material.CARROT);\n        ItemMeta meti = gewei.getItemMeta();\n        ArrayList&lt;String&gt; lore = new ArrayList&lt;String&gt;();\n        lore.add(&quot; &quot;);\n        lore.add(&quot;§aDas Gestänge von dem Rentier.&quot;);\n        lore.add(&quot; &quot;);\n        meti.setLore(lore);\n        meti.setDisplayName(&quot;Gestänge&quot;);\n\n        ItemStack spielerhelm = new ItemStack(player.getInventory().getHelmet().getType());\n        spielerhelm.setItemMeta(player.getInventory().getHelmet().getItemMeta());\n        gewei.setItemMeta(meti);\n        playershelmet.put(player, spielerhelm);\n        hasgewei.put(player, true);\n        player.getInventory().setHelmet(gewei);\n\n\n\n\n\n\n\n\n        return false;\n    }\n\n\n}\n\n</code></pre>\n<p>and that's the error message:</p>\n<pre><code>[23:19:14 ERROR]: null\norg.bukkit.command.CommandException: Unhandled exception executing command 'gewei' in plugin Gewei v1.0-SNAPSHOT\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:155) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.v1_19_R1.CraftServer.dispatchCommand(CraftServer.java:916) ~[paper-1.19.2.jar:git-Paper-232]\n        at org.bukkit.craftbukkit.v1_19_R1.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:64) ~[paper-1.19.2.jar:git-Paper-232]\n        at com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:264) ~[paper-1.19.2.jar:?]\n        at net.minecraft.commands.Commands.performCommand(Commands.java:305) ~[?:?]\n        at net.minecraft.commands.Commands.performCommand(Commands.java:289) ~[?:?]\n        at net.minecraft.server.network.ServerGamePacketListenerImpl.performChatCommand(ServerGamePacketListenerImpl.java:2294) ~[?:?]\n        at net.minecraft.server.network.ServerGamePacketListenerImpl.lambda$handleChatCommand$20(ServerGamePacketListenerImpl.java:2248) ~[?:?]\n        at net.minecraft.util.thread.BlockableEventLoop.lambda$submitAsync$0(BlockableEventLoop.java:59) ~[?:?]\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\n        at net.minecraft.server.TickTask.run(TickTask.java:18) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.util.thread.BlockableEventLoop.doRunTask(BlockableEventLoop.java:153) ~[?:?]\n        at net.minecraft.util.thread.ReentrantBlockableEventLoop.doRunTask(ReentrantBlockableEventLoop.java:24) ~[?:?]\n        at net.minecraft.server.MinecraftServer.doRunTask(MinecraftServer.java:1341) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:185) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.util.thread.BlockableEventLoop.pollTask(BlockableEventLoop.java:126) ~[?:?]\n        at net.minecraft.server.MinecraftServer.pollTaskInternal(MinecraftServer.java:1318) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.server.MinecraftServer.pollTask(MinecraftServer.java:1311) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.util.thread.BlockableEventLoop.managedBlock(BlockableEventLoop.java:136) ~[?:?]\n        at net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1389) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1173) ~[paper-1.19.2.jar:git-Paper-232]\n        at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:305) ~[paper-1.19.2.jar:git-Paper-232]\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.HashMap.get(Object)&quot; is null\n        at de.polarbaerhd.gewei.Commands.GeweiCommand.onCommand(GeweiCommand.java:25) ~[gewei-1.0-SNAPSHOT.jar:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[paper-api-1.19.2-R0.1-SNAPSHOT.jar:?]\n        ... 23 more\n</code></pre>\n<p>I thought with another Hashmap it could work but the same Errors show up.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672186858,"creation_date":1672186858,"answer_id":74935194,"question_id":74730892,"body_markdown":"&gt; when i define a customTimeExtractor in kafkastreams, does kafka reorder records in an intermediate topic according to the timestamp that i defined?\r\n\r\nNo. Records are still processed in offset order, independent of the records embedded timestamp, or whatever other timestamp your custom extractor might return.\r\n\r\n&gt; for TumblingWindow for example how does it work with the new timestamp that i have defined? window will start when it detect the first timestamp of the record?\r\n\r\nBasically yes. For each processed input record, we check if there is already an open window. If yes, the record is added to this window. If no, a new window is created.\r\n\r\n","title":"kafka streams windowing and records timestamp","body":"<blockquote>\n<p>when i define a customTimeExtractor in kafkastreams, does kafka reorder records in an intermediate topic according to the timestamp that i defined?</p>\n</blockquote>\n<p>No. Records are still processed in offset order, independent of the records embedded timestamp, or whatever other timestamp your custom extractor might return.</p>\n<blockquote>\n<p>for TumblingWindow for example how does it work with the new timestamp that i have defined? window will start when it detect the first timestamp of the record?</p>\n</blockquote>\n<p>Basically yes. For each processed input record, we check if there is already an open window. If yes, the record is added to this window. If no, a new window is created.</p>\n"}],"owner":{"account_id":27189915,"reputation":23,"user_id":20723857,"display_name":"Abdelmouheimen Trabelssi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74935194,"answer_count":1,"score":1,"last_activity_date":1672186858,"creation_date":1670505459,"question_id":74730892,"body_markdown":"I&#39;am new in kafka streams and i have some unclear points that is why i need help to know how things work:\r\n\r\n1. \r\n   when i define a customTimeExtractor in kafkastreams, does kafka reorder records in an intermediate topic according to the timestamp that i defined?\r\n   \r\n2. \r\n   for TumblingWindow for example how does it work with the new timestamp that i have defined? window will start when it detect the first timestamp of the record?\r\n \r\n\r\n   Thank&#39;s!","title":"kafka streams windowing and records timestamp","body":"<p>I'am new in kafka streams and i have some unclear points that is why i need help to know how things work:</p>\n<p>1.\nwhen i define a customTimeExtractor in kafkastreams, does kafka reorder records in an intermediate topic according to the timestamp that i defined?</p>\n<p>2.\nfor TumblingWindow for example how does it work with the new timestamp that i have defined? window will start when it detect the first timestamp of the record?</p>\n<p>Thank's!</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670358102,"post_id":74706500,"comment_id":131857239,"body_markdown":"Try adding `-Dnetworkaddress.cache.ttl=1` as a JVM argument to your app","body":"Try adding <code>-Dnetworkaddress.cache.ttl=1</code> as a JVM argument to your app"},{"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"score":1,"creation_date":1670412109,"post_id":74706500,"comment_id":131869270,"body_markdown":"yip should have mentioned I already have `java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;5&quot;);`","body":"yip should have mentioned I already have <code>java.security.Security.setProperty(&quot;networkaddress.cache.ttl&zwnj;&#8203;&quot; , &quot;5&quot;);</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670453452,"post_id":74706500,"comment_id":131882402,"body_markdown":"Hmm. Why are broker IPs changing at all? Does the broker storage also move to that new server?","body":"Hmm. Why are broker IPs changing at all? Does the broker storage also move to that new server?"},{"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"score":0,"creation_date":1670494515,"post_id":74706500,"comment_id":131890097,"body_markdown":"I&#39;m using Aiven Kafka and as part of the upgrade the Broker get completely new VMs and IPs.\nThe bootstrap url is of the form `public-my-kafka.aivencloud.com:25624`","body":"I&#39;m using Aiven Kafka and as part of the upgrade the Broker get completely new VMs and IPs. The bootstrap url is of the form <code>public-my-kafka.aivencloud.com:25624</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1670519224,"post_id":74706500,"comment_id":131898775,"body_markdown":"I feel like this is a problem that should be discussed with Aiven Support, then. What do they suggest?","body":"I feel like this is a problem that should be discussed with Aiven Support, then. What do they suggest?"}],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672186622,"creation_date":1672186622,"answer_id":74935169,"question_id":74706500,"body_markdown":"It could also be related to DNS caching inside the JVM though, as already mentioned on the comments.\r\n\r\nIf DNS caching is not the issue, you might hit https://issues.apache.org/jira/browse/KAFKA-13467\r\n\r\n","title":"Kafka Streams restore-consumer not updating IPs (DNS)","body":"<p>It could also be related to DNS caching inside the JVM though, as already mentioned on the comments.</p>\n<p>If DNS caching is not the issue, you might hit <a href=\"https://issues.apache.org/jira/browse/KAFKA-13467\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-13467</a></p>\n"}],"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672186622,"creation_date":1670346532,"question_id":74706500,"body_markdown":"I have a Kafka Streams app connecting to bootstrap url via `host.com:port`. \r\n\r\nIf my Kafka Broker IPs change and I then trigger a Kafka Streams rebalance by adding a new KStream instance I can see the KStreams restore-consumer gets stuck trying to connect to old Broker IPs.\r\n\r\nI am not getting any errors logged:\r\n\r\n```\r\nINFO | kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1                                   | org.apache.kafka.clients.NetworkClient\r\n            | [Consumer clientId=kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1-restore-consumer, groupId=null] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25409 ms.\r\n```\r\n\r\nBut I can see it&#39;s stuck in a loop trying to connect to old Broker IPs\r\n\r\n```\r\nWARN | kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1                                   | org.apache.kafka.clients.NetworkClient                       | [Consumer clientId=kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1-restore-consumer, groupId=null] Connection to node 5 (20.56.29.123/20.56.29.123:25624) could not be established. Broker may not be available.\r\n```\r\n\r\nI&#39;ve tried both `use_all_dns_ips` &amp; `resolve_canonical_bootstrap_servers_only`. But neither works. I&#39;ve also tried reduce `metadata.max.age.ms`\r\n\r\n```java\r\nprops.put(StreamsConfig.restoreConsumerPrefix(CommonClientConfigs.CLIENT_DNS_LOOKUP_CONFIG), ClientDnsLookup.RESOLVE_CANONICAL_BOOTSTRAP_SERVERS_ONLY.toString());\r\nprops.put(StreamsConfig.restoreConsumerPrefix(CommonClientConfigs.METADATA_MAX_AGE_CONFIG), 500);\r\n\r\n```\r\n\r\nI&#39;m on `&lt;kafka.version&gt;3.2.3&lt;/kafka.version&gt;`\r\n\r\n\r\nAny advice on how to debug further?\r\nAny pointers as to where in the kafka-client code the DNS lookup should re-trigger for the restore-consumer?\r\n\r\nUPDATE:\r\n- I&#39;ve also tried set JVM TTL\r\n`java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;1&quot;);`\r\n- I&#39;m using Aiven Kafka and as part of the upgrade the Broker get completely new VMs and IPs. The bootstrap url is of the form `public-my-kafka.aivencloud.com:25624`\r\n","title":"Kafka Streams restore-consumer not updating IPs (DNS)","body":"<p>I have a Kafka Streams app connecting to bootstrap url via <code>host.com:port</code>.</p>\n<p>If my Kafka Broker IPs change and I then trigger a Kafka Streams rebalance by adding a new KStream instance I can see the KStreams restore-consumer gets stuck trying to connect to old Broker IPs.</p>\n<p>I am not getting any errors logged:</p>\n<pre><code>INFO | kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1                                   | org.apache.kafka.clients.NetworkClient\n            | [Consumer clientId=kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1-restore-consumer, groupId=null] Disconnecting from node 1 due to socket connection setup timeout. The timeout value is 25409 ms.\n</code></pre>\n<p>But I can see it's stuck in a loop trying to connect to old Broker IPs</p>\n<pre><code>WARN | kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1                                   | org.apache.kafka.clients.NetworkClient                       | [Consumer clientId=kstream-sample-67928ec5-cdc1-416e-a680-a6686c020023-StreamThread-1-restore-consumer, groupId=null] Connection to node 5 (20.56.29.123/20.56.29.123:25624) could not be established. Broker may not be available.\n</code></pre>\n<p>I've tried both <code>use_all_dns_ips</code> &amp; <code>resolve_canonical_bootstrap_servers_only</code>. But neither works. I've also tried reduce <code>metadata.max.age.ms</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>props.put(StreamsConfig.restoreConsumerPrefix(CommonClientConfigs.CLIENT_DNS_LOOKUP_CONFIG), ClientDnsLookup.RESOLVE_CANONICAL_BOOTSTRAP_SERVERS_ONLY.toString());\nprops.put(StreamsConfig.restoreConsumerPrefix(CommonClientConfigs.METADATA_MAX_AGE_CONFIG), 500);\n\n</code></pre>\n<p>I'm on <code>&lt;kafka.version&gt;3.2.3&lt;/kafka.version&gt;</code></p>\n<p>Any advice on how to debug further?\nAny pointers as to where in the kafka-client code the DNS lookup should re-trigger for the restore-consumer?</p>\n<p>UPDATE:</p>\n<ul>\n<li>I've also tried set JVM TTL\n<code>java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot; , &quot;1&quot;);</code></li>\n<li>I'm using Aiven Kafka and as part of the upgrade the Broker get completely new VMs and IPs. The bootstrap url is of the form <code>public-my-kafka.aivencloud.com:25624</code></li>\n</ul>\n"},{"tags":["java","ldap","sslsocketfactory","sslcontext"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1583525949,"creation_date":1583525949,"answer_id":60571050,"question_id":60571012,"body_markdown":"Yes, there is.\r\n\r\n    env.put(&quot;java.naming.ldap.factory.socket&quot;, UnsecuredSSLSocketFactory.class.getName());\r\n\r\n---\r\n\r\n**UnsecuredSSLSocketFactory.java**:\r\n\r\n    public class UnsecuredSSLSocketFactory extends SSLSocketFactory\r\n\t{\r\n\t\tprivate SSLSocketFactory socketFactory;\r\n\t\t\r\n\t\tpublic UnsecuredSSLSocketFactory()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tvar sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\t\t\tsslContext.init(null, new TrustManager[]{new X509TrustManager()\r\n\t\t\t\t{\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void checkClientTrusted(X509Certificate[] xcs, String string){}\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void checkServerTrusted(X509Certificate[] xcs, String string){}\r\n\t\t\t\t\t\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic X509Certificate[] getAcceptedIssuers()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}}, new SecureRandom());\r\n\t\t\t\tsocketFactory = sslContext.getSocketFactory();\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\tpublic static SocketFactory getDefault()\r\n\t\t{\r\n\t\t\treturn new UnsecuredSSLSocketFactory();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String[] getDefaultCipherSuites()\r\n\t\t{\r\n\t\t\treturn socketFactory.getDefaultCipherSuites();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String[] getSupportedCipherSuites()\r\n\t\t{\r\n\t\t\treturn socketFactory.getSupportedCipherSuites();\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket(Socket socket, String string, int i, boolean bln) throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket(socket, string, i, bln);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket(String string, int i) throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket(string, i);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket(String string, int i, InetAddress ia, int i1) throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket(string, i, ia, i1);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket(InetAddress ia, int i) throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket(ia, i);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket(InetAddress ia, int i, InetAddress ia1, int i1) throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket(ia, i, ia1, i1);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic Socket createSocket() throws IOException\r\n\t\t{\r\n\t\t\treturn socketFactory.createSocket();\r\n\t\t}\r\n\t}","title":"SSLSocketFactory in Java, LDAP network connection","body":"<p>Yes, there is.</p>\n\n<pre><code>env.put(\"java.naming.ldap.factory.socket\", UnsecuredSSLSocketFactory.class.getName());\n</code></pre>\n\n<hr>\n\n<p><strong>UnsecuredSSLSocketFactory.java</strong>:</p>\n\n<pre><code>public class UnsecuredSSLSocketFactory extends SSLSocketFactory\n{\n    private SSLSocketFactory socketFactory;\n\n    public UnsecuredSSLSocketFactory()\n    {\n        try\n        {\n            var sslContext = SSLContext.getInstance(\"TLS\");\n            sslContext.init(null, new TrustManager[]{new X509TrustManager()\n            {\n                @Override\n                public void checkClientTrusted(X509Certificate[] xcs, String string){}\n\n                @Override\n                public void checkServerTrusted(X509Certificate[] xcs, String string){}\n\n                @Override\n                public X509Certificate[] getAcceptedIssuers()\n                {\n                    return null;\n                }\n            }}, new SecureRandom());\n            socketFactory = sslContext.getSocketFactory();\n        }\n        catch(Exception e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @SuppressWarnings(\"unused\")\n    public static SocketFactory getDefault()\n    {\n        return new UnsecuredSSLSocketFactory();\n    }\n\n    @Override\n    public String[] getDefaultCipherSuites()\n    {\n        return socketFactory.getDefaultCipherSuites();\n    }\n\n    @Override\n    public String[] getSupportedCipherSuites()\n    {\n        return socketFactory.getSupportedCipherSuites();\n    }\n\n    @Override\n    public Socket createSocket(Socket socket, String string, int i, boolean bln) throws IOException\n    {\n        return socketFactory.createSocket(socket, string, i, bln);\n    }\n\n    @Override\n    public Socket createSocket(String string, int i) throws IOException\n    {\n        return socketFactory.createSocket(string, i);\n    }\n\n    @Override\n    public Socket createSocket(String string, int i, InetAddress ia, int i1) throws IOException\n    {\n        return socketFactory.createSocket(string, i, ia, i1);\n    }\n\n    @Override\n    public Socket createSocket(InetAddress ia, int i) throws IOException\n    {\n        return socketFactory.createSocket(ia, i);\n    }\n\n    @Override\n    public Socket createSocket(InetAddress ia, int i, InetAddress ia1, int i1) throws IOException\n    {\n        return socketFactory.createSocket(ia, i, ia1, i1);\n    }\n\n    @Override\n    public Socket createSocket() throws IOException\n    {\n        return socketFactory.createSocket();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177239,"reputation":81,"user_id":1152930,"display_name":"laoseth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672186540,"creation_date":1672186540,"answer_id":74935163,"question_id":60571012,"body_markdown":"Note, if the issue is just a hostname mismatch (which is super common in clustered Active Directory Environments), you can just set the system property com.sun.jndi.ldap.object.disableEndpointIdentification to true, so as a command line arg `-Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true`  \r\n\r\nNote this will only ignore a hostname mismatch on the certificate, you will still need to have a trust chain from ldap&#39;s cert to something in your truststore, but this seems to be the most common issue people have with SSL, LDAP and Active Directory, as the certificate&#39;s the domain generate for each domain controller don&#39;t include a subject alternate name for the domain itself, so if you follow the standard example of just pointing ldap to `yourcomapanydomain.com`, when it resolves to `domaincontroller1.yourcompanydomain.com` you get a failure.  Note, if you are upgrading from an old java version, this behavior changed in https://www.oracle.com/java/technologies/javase/8u181-relnotes.html","title":"SSLSocketFactory in Java, LDAP network connection","body":"<p>Note, if the issue is just a hostname mismatch (which is super common in clustered Active Directory Environments), you can just set the system property com.sun.jndi.ldap.object.disableEndpointIdentification to true, so as a command line arg <code>-Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true</code></p>\n<p>Note this will only ignore a hostname mismatch on the certificate, you will still need to have a trust chain from ldap's cert to something in your truststore, but this seems to be the most common issue people have with SSL, LDAP and Active Directory, as the certificate's the domain generate for each domain controller don't include a subject alternate name for the domain itself, so if you follow the standard example of just pointing ldap to <code>yourcomapanydomain.com</code>, when it resolves to <code>domaincontroller1.yourcompanydomain.com</code> you get a failure.  Note, if you are upgrading from an old java version, this behavior changed in <a href=\"https://www.oracle.com/java/technologies/javase/8u181-relnotes.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/8u181-relnotes.html</a></p>\n"}],"owner":{"account_id":3415459,"reputation":497,"user_id":2864497,"accept_rate":69,"display_name":"Kenny Cason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60571050,"answer_count":2,"score":1,"last_activity_date":1672186540,"creation_date":1583525802,"question_id":60571012,"body_markdown":"My question is similar to: [https://stackoverflow.com/questions/9921548/sslsocketfactory-in-java][1]\r\n\r\nI need to set a custom SSLSocketFactory...except I do **NOT** have an https connection (it&#39;s LDAPS), so can&#39;t use:\r\n\r\n    HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n...to set the SSLSocketFactory. I have an SSLContext object initialized but when I make the LDAP connection the default SSLContext is called automatically since my custom one is not set:\r\n\r\n    dirContext = new InitialDirContext(env); // &lt;-- reverts to default ssl context\r\n\r\nIs there a non-HTTPS equivalent method to line #3 below:\r\n\r\n 1. SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n       \r\n 2. sc.init(myKeyManagerFactory.getKeyManagers(), myTrustManagerArray, new java.security.SecureRandom());\r\n        \r\n 3. HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n  [1]: https://stackoverflow.com/questions/9921548/sslsocketfactory-in-java","title":"SSLSocketFactory in Java, LDAP network connection","body":"<p>My question is similar to: <a href=\"https://stackoverflow.com/questions/9921548/sslsocketfactory-in-java\">SSLSocketFactory in java</a></p>\n\n<p>I need to set a custom SSLSocketFactory...except I do <strong>NOT</strong> have an https connection (it's LDAPS), so can't use:</p>\n\n<pre><code>HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n</code></pre>\n\n<p>...to set the SSLSocketFactory. I have an SSLContext object initialized but when I make the LDAP connection the default SSLContext is called automatically since my custom one is not set:</p>\n\n<pre><code>dirContext = new InitialDirContext(env); // &lt;-- reverts to default ssl context\n</code></pre>\n\n<p>Is there a non-HTTPS equivalent method to line #3 below:</p>\n\n<ol>\n<li><p>SSLContext sc = SSLContext.getInstance(\"SSL\");</p></li>\n<li><p>sc.init(myKeyManagerFactory.getKeyManagers(), myTrustManagerArray, new java.security.SecureRandom());</p></li>\n<li><p>HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());</p></li>\n</ol>\n"},{"tags":["java","jetty","noclassdeffounderror","shutdown"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1422374585,"post_id":28170244,"comment_id":44718553,"body_markdown":"Run `mvn dependency:tree` and post the results.","body":"Run <code>mvn dependency:tree</code> and post the results."},{"owner":{"account_id":3200737,"reputation":211,"user_id":2702826,"display_name":"Johannes Pfeifer"},"score":0,"creation_date":1422435558,"post_id":28170244,"comment_id":44744490,"body_markdown":"I added them to the post above","body":"I added them to the post above"},{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":1,"creation_date":1422449111,"post_id":28170244,"comment_id":44752227,"body_markdown":"See @Jan&#39;s answer. I&#39;d filed a bug request for this a while ago (https://bugs.eclipse.org/bugs/show_bug.cgi?id=438500) and I can confirm this will go away with an upgrade of Jetty.","body":"See @Jan&#39;s answer. I&#39;d filed a bug request for this a while ago (<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=438500\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=438500</a>) and I can confirm this will go away with an upgrade of Jetty."},{"owner":{"account_id":3200737,"reputation":211,"user_id":2702826,"display_name":"Johannes Pfeifer"},"score":0,"creation_date":1422536779,"post_id":28170244,"comment_id":44794253,"body_markdown":"I updated to 9.2.7.v20150116 but still get the same exception from time to time.","body":"I updated to 9.2.7.v20150116 but still get the same exception from time to time."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1453303145,"post_id":28170244,"comment_id":57543617,"body_markdown":"I reproduced your bug with Jetty 9.3.7.v20160115 by using the configuration files of this official tutorial http://www.eclipse.org/jetty/documentation/current/jetty-maven-plugin.html It occurs when the directory &quot;target/classes&quot; doesn&#39;t exist when I use &quot;mvn jetty:run&quot;, it&#39;s weird.","body":"I reproduced your bug with Jetty 9.3.7.v20160115 by using the configuration files of this official tutorial <a href=\"http://www.eclipse.org/jetty/documentation/current/jetty-maven-plugin.html\" rel=\"nofollow noreferrer\">eclipse.org/jetty/documentation/current/jetty-maven-plugin.h&zwnj;&#8203;tml</a> It occurs when the directory &quot;target/classes&quot; doesn&#39;t exist when I use &quot;mvn jetty:run&quot;, it&#39;s weird."},{"owner":{"account_id":1950389,"reputation":1297,"user_id":1754609,"display_name":"Jan"},"score":1,"creation_date":1471473968,"post_id":28170244,"comment_id":65366480,"body_markdown":"In the jetty-9.3 series, this bug (error if no target/classes) was introduced with the jetty-maven-plugin when we switched to using java nio Path classes. This has been fixed in jetty-9.3.12 (currently still at snapshot only). See bug github.com/eclipse/jetty.project/issues/785.","body":"In the jetty-9.3 series, this bug (error if no target/classes) was introduced with the jetty-maven-plugin when we switched to using java nio Path classes. This has been fixed in jetty-9.3.12 (currently still at snapshot only). See bug github.com/eclipse/jetty.project/issues/785."}],"answers":[{"tags":[],"owner":{"account_id":1950389,"reputation":1297,"user_id":1754609,"display_name":"Jan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1441203213,"creation_date":1422398663,"answer_id":28181432,"question_id":28170244,"body_markdown":"I fixed that in 9.2.3. See the bug report https://bugs.eclipse.org/bugs/show_bug.cgi?id=438500","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>I fixed that in 9.2.3. See the bug report <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=438500\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=438500</a></p>\n"},{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1422449517,"creation_date":1422448377,"answer_id":28192380,"question_id":28170244,"body_markdown":"Looks like you have 2 versions of Jetty in your environment at the same time.\r\n\r\nYour `mvn dependency:tree` shows the following in your `&lt;scope&gt;compile&lt;/scope&gt;` dependencies.\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    [INFO] com.company:our.endpoint.test:jar:1.0.0-SNAPSHOT\r\n    [INFO] +- com.restfuse:com.eclipsesource.restfuse:jar:1.0.0:compile\r\n    [INFO] |  +- org.mortbay.jetty:jetty-j2se6:jar:6.1.26:compile\r\n    [INFO] |  |  \\- org.mortbay.jetty:jetty:jar:6.1.26:compile\r\n    [INFO] |  |     +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile\r\n    [INFO] |  |     \\- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile\r\n\r\nThere are 2 concerns here.\r\n\r\nFirst, is that `restfuse` seems to be old, very old, and wants Jetty 6.1.26.\r\n(This version of Jetty was EOL/End-of-Life back in 2007)\r\n\r\nSecond, is that this version could be affecting the behavior of your application when `jetty-maven-plugin` is running.\r\n\r\nAdd an exclusion for Jetty 6, and it and give it a try.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.restfuse&lt;/groupId&gt;\r\n      &lt;artifactId&gt;com.eclipsesource.restfuse&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jetty-j2se6&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut keep in mind that restfuse 1.0.0 might not work with Jetty 9.  If so, you&#39;ll want to chase down a newer version of restfuse that has been updated for Jetty 9.","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>Looks like you have 2 versions of Jetty in your environment at the same time.</p>\n\n<p>Your <code>mvn dependency:tree</code> shows the following in your <code>&lt;scope&gt;compile&lt;/scope&gt;</code> dependencies.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] com.company:our.endpoint.test:jar:1.0.0-SNAPSHOT\n[INFO] +- com.restfuse:com.eclipsesource.restfuse:jar:1.0.0:compile\n[INFO] |  +- org.mortbay.jetty:jetty-j2se6:jar:6.1.26:compile\n[INFO] |  |  \\- org.mortbay.jetty:jetty:jar:6.1.26:compile\n[INFO] |  |     +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile\n[INFO] |  |     \\- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile\n</code></pre>\n\n<p>There are 2 concerns here.</p>\n\n<p>First, is that <code>restfuse</code> seems to be old, very old, and wants Jetty 6.1.26.\n(This version of Jetty was EOL/End-of-Life back in 2007)</p>\n\n<p>Second, is that this version could be affecting the behavior of your application when <code>jetty-maven-plugin</code> is running.</p>\n\n<p>Add an exclusion for Jetty 6, and it and give it a try.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.restfuse&lt;/groupId&gt;\n  &lt;artifactId&gt;com.eclipsesource.restfuse&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-j2se6&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But keep in mind that restfuse 1.0.0 might not work with Jetty 9.  If so, you'll want to chase down a newer version of restfuse that has been updated for Jetty 9.</p>\n"},{"tags":[],"owner":{"account_id":1352092,"reputation":21242,"user_id":1291428,"accept_rate":82,"display_name":"Sebas"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1447980740,"creation_date":1447980740,"answer_id":33817155,"question_id":28170244,"body_markdown":"Beware as some rest examples will make you add a maven dependency to `jersey-container-jetty-http`, which includes a likely older version of jetty http. Remove that dependency if you already have a `jetty-server` dep. in your pom file.","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>Beware as some rest examples will make you add a maven dependency to <code>jersey-container-jetty-http</code>, which includes a likely older version of jetty http. Remove that dependency if you already have a <code>jetty-server</code> dep. in your pom file.</p>\n"},{"tags":[],"owner":{"account_id":470389,"reputation":5201,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464365155,"creation_date":1464365155,"answer_id":37487966,"question_id":28170244,"body_markdown":"I received this error because the directory &quot;target/classes&quot; didn&#39;t exist.  A quick way to solve this is to simply create a src/main/java folder, and then create any class (even an empty class) there.  ","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>I received this error because the directory \"target/classes\" didn't exist.  A quick way to solve this is to simply create a src/main/java folder, and then create any class (even an empty class) there.  </p>\n"},{"tags":[],"owner":{"account_id":3155471,"reputation":137,"user_id":2667979,"display_name":"Sushil Mahajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466604336,"creation_date":1466604336,"answer_id":37970450,"question_id":28170244,"body_markdown":"I had similar problem using eclipse Jetty plugin. Resolved it by adding proper dependencies. For more details visit - http://eclipse-jetty.github.io/faq.html","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>I had similar problem using eclipse Jetty plugin. Resolved it by adding proper dependencies. For more details visit - <a href=\"http://eclipse-jetty.github.io/faq.html\" rel=\"nofollow\">http://eclipse-jetty.github.io/faq.html</a></p>\n"},{"tags":[],"owner":{"account_id":12945260,"reputation":11,"user_id":9359795,"display_name":"rajat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554966390,"creation_date":1554966390,"answer_id":55626565,"question_id":28170244,"body_markdown":"i faced the same issue and i was using jetty version 9.4.12.v20180830\r\nafter that i change the version to version 9.4.12.RC2 and everything worked fine\r\n\r\n","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>i faced the same issue and i was using jetty version 9.4.12.v20180830\nafter that i change the version to version 9.4.12.RC2 and everything worked fine</p>\n"},{"tags":[],"owner":{"account_id":6683250,"reputation":115,"user_id":5155570,"display_name":"Gayathri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672186150,"creation_date":1672186150,"answer_id":74935131,"question_id":28170244,"body_markdown":"A maven reload on the project fixed it for me.","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>A maven reload on the project fixed it for me.</p>\n"}],"owner":{"account_id":3200737,"reputation":211,"user_id":2702826,"display_name":"Johannes Pfeifer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60795,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1672186150,"creation_date":1422360700,"question_id":28170244,"body_markdown":"Our maven build throws at the end of the build of the shutdown of jetty a NoClassDefFoundError that I do not understand. Does anyone have an idea where this is comming from and how to fix it?\r\n\r\nHere is are the dependencies from the pom file:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.restfuse&lt;/groupId&gt;\r\n          &lt;artifactId&gt;com.eclipsesource.restfuse&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n          &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n          &lt;version&gt;1.7.7&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\r\n          &lt;artifactId&gt;fest-assert&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.pe-international&lt;/groupId&gt;\r\n          &lt;artifactId&gt;bom.model&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nJetty conf:\r\n\r\n    &lt;!-- Start Jetty --&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;9.2.2.v20140723&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;war&gt;${basedir}/target/bla.war&lt;/war&gt;\r\n              &lt;httpConnector&gt;\r\n                &lt;port&gt;8088&lt;/port&gt;\r\n              &lt;/httpConnector&gt;\r\n              &lt;webApp&gt;\r\n                &lt;contextPath&gt;/bla&lt;/contextPath&gt;\r\n              &lt;/webApp&gt;\r\n              &lt;systemProperties&gt;\r\n                &lt;systemProperty&gt;\r\n                  &lt;name&gt;config.dir&lt;/name&gt;\r\n                  &lt;value&gt;${basedir}/target/config.dir&lt;/value&gt;\r\n                &lt;/systemProperty&gt;\r\n              &lt;/systemProperties&gt;\r\n              &lt;stopKey&gt;fooStopBla&lt;/stopKey&gt;\r\n              &lt;stopPort&gt;8089&lt;/stopPort&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;start-jetty&lt;/id&gt;\r\n                &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;deploy-war&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;scanIntervalSeconds&gt;0&lt;/scanIntervalSeconds&gt;\r\n                  &lt;daemon&gt;true&lt;/daemon&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;stop-jetty&lt;/id&gt;\r\n                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;stop&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nHere is mvn dependency:tree\r\n\r\n    [INFO] com.company:our.endpoint.test:jar:1.0.0-SNAPSHOT\r\n    [INFO] +- com.restfuse:com.eclipsesource.restfuse:jar:1.0.0:compile\r\n    [INFO] |  +- org.mortbay.jetty:jetty-j2se6:jar:6.1.26:compile\r\n    [INFO] |  |  \\- org.mortbay.jetty:jetty:jar:6.1.26:compile\r\n    [INFO] |  |     +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile\r\n    [INFO] |  |     \\- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile\r\n    [INFO] |  \\- com.sun.jersey:jersey-bundle:jar:1.9.1:compile\r\n    [INFO] |     \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\r\n    [INFO] +- commons-io:commons-io:jar:2.4:compile\r\n    [INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.7:test\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.7:test\r\n    [INFO] +- org.easytesting:fest-assert:jar:1.4:test\r\n    [INFO] |  \\- org.easytesting:fest-util:jar:1.1.6:test\r\n    [INFO] +- com.company:our.model:jar:1.0.0-SNAPSHOT:test\r\n    [INFO] |  +- org.jscience:jscience:jar:4.3.1:test\r\n    [INFO] |  |  \\- org.javolution:javolution:jar:5.2.3:test\r\n    [INFO] |  +- org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.5:test\r\n    [INFO] |  +- org.springframework:spring-beans:jar:4.1.1.RELEASE:test\r\n    [INFO] |  |  \\- org.springframework:spring-core:jar:4.1.1.RELEASE:test\r\n    [INFO] |  +- org.springframework:spring-context:jar:4.1.1.RELEASE:test\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.1.1.RELEASE:test\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:test\r\n    [INFO] |  |  \\- org.springframework:spring-expression:jar:4.1.1.RELEASE:test\r\n    [INFO] |  \\- com.google.guava:guava:jar:15.0:test\r\n    [INFO] +- com.jayway.restassured:rest-assured:jar:2.3.4:compile\r\n    [INFO] |  +- org.codehaus.groovy:groovy:jar:2.3.6:compile\r\n    [INFO] |  +- org.codehaus.groovy:groovy-xml:jar:2.3.6:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.3.5:compile\r\n    [INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.3.2:compile\r\n    [INFO] |  |  +- commons-logging:commons-logging:jar:1.1.3:compile\r\n    [INFO] |  |  \\- commons-codec:commons-codec:jar:1.6:compile\r\n    [INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.3.5:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:compile\r\n    [INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:compile\r\n    [INFO] |  \\- org.ccil.cowan.tagsoup:tagsoup:jar:1.2.1:compile\r\n    [INFO] +- com.jayway.restassured:json-path:jar:2.3.4:compile\r\n    [INFO] |  +- org.codehaus.groovy:groovy-json:jar:2.3.6:compile\r\n    [INFO] |  \\- com.jayway.restassured:rest-assured-common:jar:2.3.4:compile\r\n    [INFO] +- com.jayway.restassured:xml-path:jar:2.3.4:compile\r\n    [INFO] |  \\- org.apache.commons:commons-lang3:jar:3.3.2:compile\r\n    [INFO] +- junit:junit:jar:4.11:test\r\n    [INFO] \\- org.mockito:mockito-all:jar:1.9.5:test\r\n\r\nHere is our stacktrace:\r\n\r\n    2015-01-27 13:04:57.810:WARN:oejuc.AbstractLifeCycle:Thread-1: FAILED org.eclipse.jetty.maven.plugin.JettyServer@6dd82486: java.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\r\n    java.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\r\n            at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\r\n            at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\r\n            at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\r\n            at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\r\n            at org.eclipse.jetty.server.Server.doStop(Server.java:397)\r\n            at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n            at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\r\n    Caused by:\r\n    java.lang.ClassNotFoundException: org.eclipse.jetty.util.FutureCallback\r\n            at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\r\n            at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\r\n            at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\r\n            at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\r\n            at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\r\n            at org.eclipse.jetty.server.Server.doStop(Server.java:397)\r\n            at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n            at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\r\n    Exception in thread &quot;Thread-1&quot; java.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\r\n            at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\r\n            at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\r\n            at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\r\n            at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\r\n            at org.eclipse.jetty.server.Server.doStop(Server.java:397)\r\n            at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n            at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.FutureCallback\r\n            at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\r\n            at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\r\n            ... 7 more\r\n\r\nAnd sometimes the stacktrace varies and this comes up:\r\n\r\n    2015-01-28 10:12:55.630:WARN:oejuc.AbstractLifeCycle:ShutdownMonitor: FAILED org.eclipse.jetty.servlet.ServletHandler@3accac55: java.lang.NoClassDefFoundError: org/eclipse/jetty/util/LazyList\r\n    java.lang.NoClassDefFoundError: org/eclipse/jetty/util/LazyList\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doStop(ServletHandler.java:266)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.doStop(SecurityHandler.java:411)\r\n    \tat org.eclipse.jetty.security.ConstraintSecurityHandler.doStop(ConstraintSecurityHandler.java:457)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doStop(SessionHandler.java:127)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doStop(ContextHandler.java:835)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.doStop(ServletContextHandler.java:215)\r\n    \tat org.eclipse.jetty.webapp.WebAppContext.doStop(WebAppContext.java:529)\r\n    \tat org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStop(JettyWebAppContext.java:388)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\r\n    \tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\r\n    \tat org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\r\n    \tat org.eclipse.jetty.server.Server.doStop(Server.java:456)\r\n    \tat org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\r\n    \tat org.eclipse.jetty.server.ShutdownMonitor$ShutdownMonitorRunnable.stopLifeCycles(ShutdownMonitor.java:273)\r\n    \tat org.eclipse.jetty.server.ShutdownMonitor$ShutdownMonitorRunnable.run(ShutdownMonitor.java:172)","title":"Jetty throws NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback on shutdown","body":"<p>Our maven build throws at the end of the build of the shutdown of jetty a NoClassDefFoundError that I do not understand. Does anyone have an idea where this is comming from and how to fix it?</p>\n\n<p>Here is are the dependencies from the pom file:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.restfuse&lt;/groupId&gt;\n      &lt;artifactId&gt;com.eclipsesource.restfuse&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-io&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n      &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n      &lt;version&gt;1.7.7&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.easytesting&lt;/groupId&gt;\n      &lt;artifactId&gt;fest-assert&lt;/artifactId&gt;\n      &lt;version&gt;1.4&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.pe-international&lt;/groupId&gt;\n      &lt;artifactId&gt;bom.model&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n      &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n      &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n      &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\n      &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n\n<p>Jetty conf:</p>\n\n<pre><code>&lt;!-- Start Jetty --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;9.2.2.v20140723&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;war&gt;${basedir}/target/bla.war&lt;/war&gt;\n          &lt;httpConnector&gt;\n            &lt;port&gt;8088&lt;/port&gt;\n          &lt;/httpConnector&gt;\n          &lt;webApp&gt;\n            &lt;contextPath&gt;/bla&lt;/contextPath&gt;\n          &lt;/webApp&gt;\n          &lt;systemProperties&gt;\n            &lt;systemProperty&gt;\n              &lt;name&gt;config.dir&lt;/name&gt;\n              &lt;value&gt;${basedir}/target/config.dir&lt;/value&gt;\n            &lt;/systemProperty&gt;\n          &lt;/systemProperties&gt;\n          &lt;stopKey&gt;fooStopBla&lt;/stopKey&gt;\n          &lt;stopPort&gt;8089&lt;/stopPort&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;start-jetty&lt;/id&gt;\n            &lt;phase&gt;process-test-resources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;deploy-war&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;scanIntervalSeconds&gt;0&lt;/scanIntervalSeconds&gt;\n              &lt;daemon&gt;true&lt;/daemon&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;stop-jetty&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;stop&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>Here is mvn dependency:tree</p>\n\n<pre><code>[INFO] com.company:our.endpoint.test:jar:1.0.0-SNAPSHOT\n[INFO] +- com.restfuse:com.eclipsesource.restfuse:jar:1.0.0:compile\n[INFO] |  +- org.mortbay.jetty:jetty-j2se6:jar:6.1.26:compile\n[INFO] |  |  \\- org.mortbay.jetty:jetty:jar:6.1.26:compile\n[INFO] |  |     +- org.mortbay.jetty:jetty-util:jar:6.1.26:compile\n[INFO] |  |     \\- org.mortbay.jetty:servlet-api:jar:2.5-20081211:compile\n[INFO] |  \\- com.sun.jersey:jersey-bundle:jar:1.9.1:compile\n[INFO] |     \\- javax.ws.rs:jsr311-api:jar:1.1.1:compile\n[INFO] +- commons-io:commons-io:jar:2.4:compile\n[INFO] +- org.slf4j:jcl-over-slf4j:jar:1.7.7:test\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.7:test\n[INFO] +- org.easytesting:fest-assert:jar:1.4:test\n[INFO] |  \\- org.easytesting:fest-util:jar:1.1.6:test\n[INFO] +- com.company:our.model:jar:1.0.0-SNAPSHOT:test\n[INFO] |  +- org.jscience:jscience:jar:4.3.1:test\n[INFO] |  |  \\- org.javolution:javolution:jar:5.2.3:test\n[INFO] |  +- org.jvnet.jaxb2_commons:jaxb2-basics-runtime:jar:0.6.5:test\n[INFO] |  +- org.springframework:spring-beans:jar:4.1.1.RELEASE:test\n[INFO] |  |  \\- org.springframework:spring-core:jar:4.1.1.RELEASE:test\n[INFO] |  +- org.springframework:spring-context:jar:4.1.1.RELEASE:test\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.1.1.RELEASE:test\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:test\n[INFO] |  |  \\- org.springframework:spring-expression:jar:4.1.1.RELEASE:test\n[INFO] |  \\- com.google.guava:guava:jar:15.0:test\n[INFO] +- com.jayway.restassured:rest-assured:jar:2.3.4:compile\n[INFO] |  +- org.codehaus.groovy:groovy:jar:2.3.6:compile\n[INFO] |  +- org.codehaus.groovy:groovy-xml:jar:2.3.6:compile\n[INFO] |  +- org.apache.httpcomponents:httpclient:jar:4.3.5:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.3.2:compile\n[INFO] |  |  +- commons-logging:commons-logging:jar:1.1.3:compile\n[INFO] |  |  \\- commons-codec:commons-codec:jar:1.6:compile\n[INFO] |  +- org.apache.httpcomponents:httpmime:jar:4.3.5:compile\n[INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:compile\n[INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:compile\n[INFO] |  \\- org.ccil.cowan.tagsoup:tagsoup:jar:1.2.1:compile\n[INFO] +- com.jayway.restassured:json-path:jar:2.3.4:compile\n[INFO] |  +- org.codehaus.groovy:groovy-json:jar:2.3.6:compile\n[INFO] |  \\- com.jayway.restassured:rest-assured-common:jar:2.3.4:compile\n[INFO] +- com.jayway.restassured:xml-path:jar:2.3.4:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.3.2:compile\n[INFO] +- junit:junit:jar:4.11:test\n[INFO] \\- org.mockito:mockito-all:jar:1.9.5:test\n</code></pre>\n\n<p>Here is our stacktrace:</p>\n\n<pre><code>2015-01-27 13:04:57.810:WARN:oejuc.AbstractLifeCycle:Thread-1: FAILED org.eclipse.jetty.maven.plugin.JettyServer@6dd82486: java.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\njava.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\n        at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\n        at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\n        at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\n        at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\n        at org.eclipse.jetty.server.Server.doStop(Server.java:397)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n        at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\nCaused by:\njava.lang.ClassNotFoundException: org.eclipse.jetty.util.FutureCallback\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\n        at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\n        at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\n        at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\n        at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\n        at org.eclipse.jetty.server.Server.doStop(Server.java:397)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n        at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\nException in thread \"Thread-1\" java.lang.NoClassDefFoundError: org/eclipse/jetty/util/FutureCallback\n        at org.eclipse.jetty.server.AbstractConnector.shutdown(AbstractConnector.java:284)\n        at org.eclipse.jetty.server.AbstractNetworkConnector.shutdown(AbstractNetworkConnector.java:108)\n        at org.eclipse.jetty.server.ServerConnector.shutdown(ServerConnector.java:298)\n        at org.eclipse.jetty.maven.plugin.MavenServerConnector.shutdown(MavenServerConnector.java:140)\n        at org.eclipse.jetty.server.Server.doStop(Server.java:397)\n        at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n        at org.eclipse.jetty.util.thread.ShutdownThread.run(ShutdownThread.java:132)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jetty.util.FutureCallback\n        at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\n        at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\n        ... 7 more\n</code></pre>\n\n<p>And sometimes the stacktrace varies and this comes up:</p>\n\n<pre><code>2015-01-28 10:12:55.630:WARN:oejuc.AbstractLifeCycle:ShutdownMonitor: FAILED org.eclipse.jetty.servlet.ServletHandler@3accac55: java.lang.NoClassDefFoundError: org/eclipse/jetty/util/LazyList\njava.lang.NoClassDefFoundError: org/eclipse/jetty/util/LazyList\n    at org.eclipse.jetty.servlet.ServletHandler.doStop(ServletHandler.java:266)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.security.SecurityHandler.doStop(SecurityHandler.java:411)\n    at org.eclipse.jetty.security.ConstraintSecurityHandler.doStop(ConstraintSecurityHandler.java:457)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.server.session.SessionHandler.doStop(SessionHandler.java:127)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.server.handler.ContextHandler.doStop(ContextHandler.java:835)\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStop(ServletContextHandler.java:215)\n    at org.eclipse.jetty.webapp.WebAppContext.doStop(WebAppContext.java:529)\n    at org.eclipse.jetty.maven.plugin.JettyWebAppContext.doStop(JettyWebAppContext.java:388)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.stop(ContainerLifeCycle.java:143)\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStop(ContainerLifeCycle.java:162)\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStop(AbstractHandler.java:73)\n    at org.eclipse.jetty.server.Server.doStop(Server.java:456)\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:89)\n    at org.eclipse.jetty.server.ShutdownMonitor$ShutdownMonitorRunnable.stopLifeCycles(ShutdownMonitor.java:273)\n    at org.eclipse.jetty.server.ShutdownMonitor$ShutdownMonitorRunnable.run(ShutdownMonitor.java:172)\n</code></pre>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":263091,"reputation":1217,"user_id":548435,"accept_rate":45,"display_name":"Finder"},"score":2,"creation_date":1328503946,"post_id":9153213,"comment_id":11513918,"body_markdown":"Before asking these kind of question just refer the Android Developer side For EditText Link is HERE http://developer.android.com/reference/android/widget/EditText.html","body":"Before asking these kind of question just refer the Android Developer side For EditText Link is HERE <a href=\"http://developer.android.com/reference/android/widget/EditText.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/EditText.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1328477692,"creation_date":1328477692,"answer_id":9153237,"question_id":9153213,"body_markdown":"Call [`setHint()`][1] on the `EditText`.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/TextView.html#setHint%28int%29","title":"How to programmatically set edit text hint in android?","body":"<p>Call <a href=\"http://developer.android.com/reference/android/widget/TextView.html#setHint%28int%29\" rel=\"noreferrer\"><code>setHint()</code></a> on the <code>EditText</code>.</p>\n"},{"tags":[],"owner":{"account_id":230825,"reputation":7028,"user_id":494659,"accept_rate":64,"display_name":"Orkun"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1399986931,"creation_date":1328477748,"answer_id":9153245,"question_id":9153213,"body_markdown":"Did you try the [setHint][1]?\r\n\r\n    myTextView.setHint(&quot;My conditional hint&quot;);\r\n\r\nHope it helps..\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/TextView.html#setHint%28int%29","title":"How to programmatically set edit text hint in android?","body":"<p>Did you try the <a href=\"http://developer.android.com/reference/android/widget/TextView.html#setHint%28int%29\">setHint</a>?</p>\n\n<pre><code>myTextView.setHint(\"My conditional hint\");\n</code></pre>\n\n<p>Hope it helps..</p>\n"},{"tags":[],"owner":{"account_id":974927,"reputation":29470,"user_id":996493,"accept_rate":100,"display_name":"Lucifer"},"down_vote_count":10,"up_vote_count":6,"is_accepted":false,"score":-4,"last_activity_date":1557211358,"creation_date":1328503249,"answer_id":9155641,"question_id":9153213,"body_markdown":"You can try following, \r\n\r\nin Java \r\n\r\n\r\n    yourEditText.setHint(&quot;hint&quot;);\r\n\r\nin Kotlin \r\n\r\n    yourEditText.hint = &quot;Your hint&quot;","title":"How to programmatically set edit text hint in android?","body":"<p>You can try following, </p>\n\n<p>in Java </p>\n\n<pre><code>yourEditText.setHint(\"hint\");\n</code></pre>\n\n<p>in Kotlin </p>\n\n<pre><code>yourEditText.hint = \"Your hint\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":55006,"reputation":9536,"user_id":164683,"accept_rate":44,"display_name":"Naruto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401632126,"creation_date":1401632126,"answer_id":23980766,"question_id":9153213,"body_markdown":"if you are using actionbarsherlock searchview, this is the best way to set string dynamically\r\n\r\n\r\n       AutoCompleteTextView searchTextView =\r\n    \t                (AutoCompleteTextView) mSearchView.findViewById(R.id.abs__search_src_text);\r\n    \r\n    searchTextView.setHint(getResources().getString(R.string.search));","title":"How to programmatically set edit text hint in android?","body":"<p>if you are using actionbarsherlock searchview, this is the best way to set string dynamically</p>\n\n<pre><code>   AutoCompleteTextView searchTextView =\n                    (AutoCompleteTextView) mSearchView.findViewById(R.id.abs__search_src_text);\n\nsearchTextView.setHint(getResources().getString(R.string.search));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543628,"reputation":634,"user_id":4055615,"display_name":"Turako"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1411212622,"creation_date":1411212622,"answer_id":25948276,"question_id":9153213,"body_markdown":"    ((TextView) findViewById(R.id.yourEditTextId)).setHint(&quot;hint text&quot;);","title":"How to programmatically set edit text hint in android?","body":"<pre><code>((TextView) findViewById(R.id.yourEditTextId)).setHint(\"hint text\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5839922,"reputation":2089,"user_id":4601864,"accept_rate":75,"display_name":"M.Usman"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1502957382,"creation_date":1502957382,"answer_id":45729749,"question_id":9153213,"body_markdown":"If you are using simple `Editext` without `TextInputLayout` :\r\n\r\n    EditText etUsername;\r\n    etUsername = (EditText) findViewById(R.id.etUsername);\r\n    etUsername.setHint(&quot;Your Hint&quot;);\r\n\r\nIf you are using `Editext` within `TextInputLayout` then you need to change property of `TextInputLayout` not `Edittext`:\r\n\r\n    TextInputLayout layoutUser;\r\n    layoutUser = (TextInputLayout) findViewById(R.id.inputLayoutUname);\r\n    layoutUser.setHint(getResources().getString(R.string.hintFaculty));\r\n\r\n\r\n\r\n","title":"How to programmatically set edit text hint in android?","body":"<p>If you are using simple <code>Editext</code> without <code>TextInputLayout</code> :</p>\n\n<pre><code>EditText etUsername;\netUsername = (EditText) findViewById(R.id.etUsername);\netUsername.setHint(\"Your Hint\");\n</code></pre>\n\n<p>If you are using <code>Editext</code> within <code>TextInputLayout</code> then you need to change property of <code>TextInputLayout</code> not <code>Edittext</code>:</p>\n\n<pre><code>TextInputLayout layoutUser;\nlayoutUser = (TextInputLayout) findViewById(R.id.inputLayoutUname);\nlayoutUser.setHint(getResources().getString(R.string.hintFaculty));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2431322,"reputation":3649,"user_id":2122149,"display_name":"Đorđe Nilović"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528805119,"creation_date":1528805119,"answer_id":50816779,"question_id":9153213,"body_markdown":"**Kotlin**\r\n\r\n    editText.hint = &quot;Your hint&quot;","title":"How to programmatically set edit text hint in android?","body":"<p><strong>Kotlin</strong></p>\n\n<pre><code>editText.hint = \"Your hint\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13941942,"reputation":392,"user_id":10090030,"display_name":"Ali Doran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532262067,"creation_date":1532262067,"answer_id":51465087,"question_id":9153213,"body_markdown":"for editText.hint you must delete name of your edit.Text from activity_main.xml then set in the MainActivity in java or activity_main.xml because text is preferred to hint. ","title":"How to programmatically set edit text hint in android?","body":"<p>for editText.hint you must delete name of your edit.Text from activity_main.xml then set in the MainActivity in java or activity_main.xml because text is preferred to hint. </p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610048851,"creation_date":1610048851,"answer_id":65618993,"question_id":9153213,"body_markdown":"     &lt;EditText\r\n         android:id=&quot;@+id/text&quot;\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:inputType=&quot;textMultiLine|textLongMessage&quot;\r\n         android:hint=&quot;\\n&quot;/&gt;\r\n\r\nTo be honest I don&#180;t understand why.. but including &quot;\\n&quot; as hint in the xml did the trick!\r\n\r\nNow you can call setHint from Java code:\r\n\r\n    searchEditText.setHint(getString(R.string.search_hint));\r\n\r\nand remove the \\n from strings.xml if you want to allow the text split automatically according to the room\r\n\r\n    &lt;string name=&quot;search_hint&quot;&gt;keyword, location, max price (e.g. 1K, 1M)&lt;/string&gt;\r\n","title":"How to programmatically set edit text hint in android?","body":"<pre><code> &lt;EditText\n     android:id=&quot;@+id/text&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:inputType=&quot;textMultiLine|textLongMessage&quot;\n     android:hint=&quot;\\n&quot;/&gt;\n</code></pre>\n<p>To be honest I don´t understand why.. but including &quot;\\n&quot; as hint in the xml did the trick!</p>\n<p>Now you can call setHint from Java code:</p>\n<pre><code>searchEditText.setHint(getString(R.string.search_hint));\n</code></pre>\n<p>and remove the \\n from strings.xml if you want to allow the text split automatically according to the room</p>\n<pre><code>&lt;string name=&quot;search_hint&quot;&gt;keyword, location, max price (e.g. 1K, 1M)&lt;/string&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12801778,"reputation":589,"user_id":9262853,"display_name":"thevikasnayak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629550223,"creation_date":1629550223,"answer_id":68873178,"question_id":9153213,"body_markdown":"**In Kotlin**\r\n\r\n    val layoutMobile: TextInputLayout = findViewById&lt;View&gt;(R.id.inputLayout_MobileNumber) as TextInputLayout\r\n            layoutMobile.hint = &quot;Your Hint&quot;","title":"How to programmatically set edit text hint in android?","body":"<p><strong>In Kotlin</strong></p>\n<pre><code>val layoutMobile: TextInputLayout = findViewById&lt;View&gt;(R.id.inputLayout_MobileNumber) as TextInputLayout\n        layoutMobile.hint = &quot;Your Hint&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25532395,"reputation":1,"user_id":19320155,"display_name":"Jos&#233; Aparecido"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655120377,"creation_date":1654960873,"answer_id":72585570,"question_id":9153213,"body_markdown":"in Java\r\n```\r\nyourEditTex.setText(&quot;&quot;);//First\r\nyourEditTex.hit(&quot;Your text&quot;);\r\n```\r\nthis for alls cases.\r\n\r\n","title":"How to programmatically set edit text hint in android?","body":"<p>in Java</p>\n<pre><code>yourEditTex.setText(&quot;&quot;);//First\nyourEditTex.hit(&quot;Your text&quot;);\n</code></pre>\n<p>this for alls cases.</p>\n"}],"owner":{"account_id":417288,"reputation":6476,"user_id":793197,"accept_rate":52,"display_name":"Edmund Rojas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89412,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":11,"score":52,"last_activity_date":1672184857,"creation_date":1328477514,"question_id":9153213,"body_markdown":"Is there a way to set the text hint displayed inside of an android edittext with java? I would like for my app to be able to display different things in the edittext at different times.","title":"How to programmatically set edit text hint in android?","body":"<p>Is there a way to set the text hint displayed inside of an android edittext with java? I would like for my app to be able to display different things in the edittext at different times.</p>\n"},{"tags":["java","spring","rabbitmq","mjpeg"],"answers":[{"tags":[],"owner":{"account_id":22849907,"reputation":1,"user_id":16995690,"display_name":"Shenyi Bao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672184695,"creation_date":1672073849,"answer_id":74922376,"question_id":71102930,"body_markdown":"I could not see your whole code and I recommend the following steps:\r\n1. Follow this pattern:\r\n```\r\nvar consumer = new EventingBasicConsumer(channel);\r\nstring consumerTag = channel.BasicConsume(&quot;queuename&quot;, true, consumer);\r\n```\r\n\r\n2. Please also use consumerTag cancel, close cannel and connection in your code, as shown below:\r\n```\r\nchannel.BasicCancel(consumerTag);\r\nchannel.Close();\r\nconnection.Close();\r\n```   ","title":"RabbitMQ pull vs push consume","body":"<p>I could not see your whole code and I recommend the following steps:</p>\n<ol>\n<li>Follow this pattern:</li>\n</ol>\n<pre><code>var consumer = new EventingBasicConsumer(channel);\nstring consumerTag = channel.BasicConsume(&quot;queuename&quot;, true, consumer);\n</code></pre>\n<ol start=\"2\">\n<li>Please also use consumerTag cancel, close cannel and connection in your code, as shown below:</li>\n</ol>\n<pre><code>channel.BasicCancel(consumerTag);\nchannel.Close();\nconnection.Close();\n</code></pre>\n"}],"owner":{"account_id":8752112,"reputation":1459,"user_id":6544942,"accept_rate":92,"display_name":"Anton Hlinisty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672184695,"creation_date":1644771435,"question_id":71102930,"body_markdown":"I&#39;m streaming video (mjpeg) from my RaspberryPi to the browser via cloud proxy. I pass video frame-by-frame to rabbitmq queue, the queue is being listened by the springboot app which displays the video on a web page.\r\n\r\nPull model works (not fine, slow, but works) - I call a &quot;getter&quot; in an infinite loop and write payload bytes to output stream. However, when I&#39;m trying push model - passing a lambda-based callback that is to be invoked every time when a new message appears in the queue, I&#39;m getting troubles to write to outputstream. \r\n\r\nPull model:\r\n\r\n    @SneakyThrows\r\n    @GetMapping(&quot;/stream&quot;)\r\n    protected void stream(HttpServletResponse response) {\r\n        response.setContentType(&quot;multipart/x-mixed-replace; boundary=--BoundaryString&quot;);\r\n        OutputStream outputStream = response.getOutputStream();\r\n\r\n        while(true) {\r\n            GetResponse payload = channel.basicGet(VIDEO_STREAMING_QUEUE_NAME, true);\r\n\r\n            if (payload == null) {\r\n                Thread.sleep(10);\r\n            } else {\r\n                byte[] body = payload.getBody();\r\n                outputStream.write((\r\n                        &quot;--BoundaryString\\r\\n&quot; +\r\n                                &quot;Content-type: image/jpeg\\r\\n&quot; +\r\n                                &quot;Content-Length: &quot; +\r\n                                body.length +\r\n                                &quot;\\r\\n\\r\\n&quot;).getBytes());\r\n                outputStream.write(body);\r\n                outputStream.write(TWO_LINE_BYTES);\r\n                //outputStream.flush();\r\n            }\r\n        }\r\n    }\r\n\r\nPush model:\r\n\r\n    @SneakyThrows\r\n    @GetMapping(&quot;/stream&quot;)\r\n    public void stream(HttpServletResponse response) {\r\n        response.setContentType(&quot;multipart/x-mixed-replace; boundary=--BoundaryString&quot;);\r\n        OutputStream outputStream = response.getOutputStream();\r\n\r\n        DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n            byte[] body = delivery.getBody();\r\n            outputStream.write((\r\n                    &quot;--BoundaryString\\r\\n&quot; +\r\n                            &quot;Content-type: image/jpeg\\r\\n&quot; +\r\n                            &quot;Content-Length: &quot; +\r\n                            body.length +\r\n                            &quot;\\r\\n\\r\\n&quot;).getBytes());\r\n            outputStream.write(body);\r\n            outputStream.write(TWO_LINE_BYTES);\r\n            //outputStream.flush();\r\n        };\r\n\r\n        channel.basicConsume(VIDEO_STREAMING_QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\r\n    }\r\n\r\nException log output:\r\n\r\n```\r\n2022-02-13 19:16:36.931 ERROR 5601 --- [pool-1-thread-4] c.r.c.impl.ForgivingExceptionHandler     : Consumer com.rabbitmq.client.impl.recovery.AutorecoveringChannel$2@56526586 (amq.ctag-xo0rULncjobFFPw1NssU_w) method handleDelivery for channel AMQChannel(amqp://mmkkhpcj@34.252.237.144:5671/mmkkhpcj,1) threw an exception for channel AMQChannel(amqp://mmkkhpcj@34.252.237.144:5671/mmkkhpcj,1)\r\n\r\norg.apache.coyote.CloseNowException: Failed write\r\n\tat org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:549) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.coyote.Response.doWrite(Response.java:615) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:89) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\r\n\tat bobby.remote.controller.VideoController.lambda$stream$0(VideoController.java:66) ~[main/:na]\r\n\tat com.rabbitmq.client.impl.recovery.AutorecoveringChannel$2.handleDelivery(AutorecoveringChannel.java:588) ~[amqp-client-5.14.0.jar:5.14.0]\r\n\tat com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149) ~[amqp-client-5.14.0.jar:5.14.0]\r\n\tat com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104) ~[amqp-client-5.14.0.jar:5.14.0]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\r\n```\r\n\r\nWhere *bobby.remote.controller.VideoController.lambda$stream$0(VideoController.java:66)* points to **outputStream.write(body);** line. It looks like outputStream is not available from DeliverCallback lambda.\r\n\r\nAny ideas why push model doesn&#39;t work? What is missing to make it work?\r\n\r\n**UPD**\r\nBy the way, writing to outputStream works even without flushing it. Are there any reasons to flush or not to flush it?  ","title":"RabbitMQ pull vs push consume","body":"<p>I'm streaming video (mjpeg) from my RaspberryPi to the browser via cloud proxy. I pass video frame-by-frame to rabbitmq queue, the queue is being listened by the springboot app which displays the video on a web page.</p>\n<p>Pull model works (not fine, slow, but works) - I call a &quot;getter&quot; in an infinite loop and write payload bytes to output stream. However, when I'm trying push model - passing a lambda-based callback that is to be invoked every time when a new message appears in the queue, I'm getting troubles to write to outputstream.</p>\n<p>Pull model:</p>\n<pre><code>@SneakyThrows\n@GetMapping(&quot;/stream&quot;)\nprotected void stream(HttpServletResponse response) {\n    response.setContentType(&quot;multipart/x-mixed-replace; boundary=--BoundaryString&quot;);\n    OutputStream outputStream = response.getOutputStream();\n\n    while(true) {\n        GetResponse payload = channel.basicGet(VIDEO_STREAMING_QUEUE_NAME, true);\n\n        if (payload == null) {\n            Thread.sleep(10);\n        } else {\n            byte[] body = payload.getBody();\n            outputStream.write((\n                    &quot;--BoundaryString\\r\\n&quot; +\n                            &quot;Content-type: image/jpeg\\r\\n&quot; +\n                            &quot;Content-Length: &quot; +\n                            body.length +\n                            &quot;\\r\\n\\r\\n&quot;).getBytes());\n            outputStream.write(body);\n            outputStream.write(TWO_LINE_BYTES);\n            //outputStream.flush();\n        }\n    }\n}\n</code></pre>\n<p>Push model:</p>\n<pre><code>@SneakyThrows\n@GetMapping(&quot;/stream&quot;)\npublic void stream(HttpServletResponse response) {\n    response.setContentType(&quot;multipart/x-mixed-replace; boundary=--BoundaryString&quot;);\n    OutputStream outputStream = response.getOutputStream();\n\n    DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n        byte[] body = delivery.getBody();\n        outputStream.write((\n                &quot;--BoundaryString\\r\\n&quot; +\n                        &quot;Content-type: image/jpeg\\r\\n&quot; +\n                        &quot;Content-Length: &quot; +\n                        body.length +\n                        &quot;\\r\\n\\r\\n&quot;).getBytes());\n        outputStream.write(body);\n        outputStream.write(TWO_LINE_BYTES);\n        //outputStream.flush();\n    };\n\n    channel.basicConsume(VIDEO_STREAMING_QUEUE_NAME, true, deliverCallback, consumerTag -&gt; { });\n}\n</code></pre>\n<p>Exception log output:</p>\n<pre><code>2022-02-13 19:16:36.931 ERROR 5601 --- [pool-1-thread-4] c.r.c.impl.ForgivingExceptionHandler     : Consumer com.rabbitmq.client.impl.recovery.AutorecoveringChannel$2@56526586 (amq.ctag-xo0rULncjobFFPw1NssU_w) method handleDelivery for channel AMQChannel(amqp://mmkkhpcj@34.252.237.144:5671/mmkkhpcj,1) threw an exception for channel AMQChannel(amqp://mmkkhpcj@34.252.237.144:5671/mmkkhpcj,1)\n\norg.apache.coyote.CloseNowException: Failed write\n    at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.doWrite(Http11OutputBuffer.java:549) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.http11.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.http11.Http11OutputBuffer.doWrite(Http11OutputBuffer.java:194) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.coyote.Response.doWrite(Response.java:615) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.OutputBuffer.realWriteBytes(OutputBuffer.java:340) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:783) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.OutputBuffer.append(OutputBuffer.java:688) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:388) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:366) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:96) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:89) ~[tomcat-embed-core-9.0.55.jar:9.0.55]\n    at bobby.remote.controller.VideoController.lambda$stream$0(VideoController.java:66) ~[main/:na]\n    at com.rabbitmq.client.impl.recovery.AutorecoveringChannel$2.handleDelivery(AutorecoveringChannel.java:588) ~[amqp-client-5.14.0.jar:5.14.0]\n    at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149) ~[amqp-client-5.14.0.jar:5.14.0]\n    at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104) ~[amqp-client-5.14.0.jar:5.14.0]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:830) ~[na:na]\n</code></pre>\n<p>Where <em>bobby.remote.controller.VideoController.lambda$stream$0(VideoController.java:66)</em> points to <strong>outputStream.write(body);</strong> line. It looks like outputStream is not available from DeliverCallback lambda.</p>\n<p>Any ideas why push model doesn't work? What is missing to make it work?</p>\n<p><strong>UPD</strong>\nBy the way, writing to outputStream works even without flushing it. Are there any reasons to flush or not to flush it?</p>\n"},{"tags":["java","struts","velocity"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":3,"up_vote_count":118,"is_accepted":false,"score":115,"last_activity_date":1281715745,"creation_date":1281715745,"answer_id":3478701,"question_id":3478638,"body_markdown":"To check if a variable is not null simply use #if ($variable)\r\n\r\n&lt;pre&gt;\r\n#if ($variable) \r\n ... do stuff here if the variable is not null\r\n#end\r\n&lt;/pre&gt;\r\n\r\nIf you need to do stuff if the variable is null simply negate the test\r\n\r\n&lt;pre&gt;\r\n#if (!$variable)\r\n ... do stuff here if the variable is null\r\n#end\r\n&lt;/pre&gt;\r\n\r\n","title":"$null check in velocity","body":"<p>To check if a variable is not null simply use #if ($variable)</p>\n\n<pre>\n#if ($variable) \n ... do stuff here if the variable is not null\n#end\n</pre>\n\n<p>If you need to do stuff if the variable is null simply negate the test</p>\n\n<pre>\n#if (!$variable)\n ... do stuff here if the variable is null\n#end\n</pre>\n"},{"tags":[],"owner":{"account_id":4075073,"reputation":2414,"user_id":3346970,"accept_rate":71,"display_name":"ValRob"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621342869,"creation_date":1621342869,"answer_id":67586736,"question_id":3478638,"body_markdown":"Approach 1: Use the fact that null is evaluated as a false conditional. (cf. http://velocity.apache.org/engine/devel/user-guide.html#Conditionals)\r\n\r\n    #if( ! $car.fuel )\r\n\r\n&gt; Note: The conditional will also pass if the result of $car.fuel is the\r\n&gt; boolean false. What this approach is actually checking is whether the\r\n&gt; reference is null or false.\r\n\r\nApproach 2: Use the fact that null is evaluated as an empty string in quiet references. (cf. http://velocity.apache.org/engine/devel/user-guide.html#quietreferencenotation)\r\n\r\n    #if( &quot;$!car.fuel&quot; == &quot;&quot; )\r\n\r\n&gt; Note: The conditional will also pass if the result of $car.fuel is an\r\n&gt; empty String. What this approach is actually checking is whether the\r\n&gt; reference is null or empty. BTW, just checking for empty can be\r\n&gt; achieved by:\r\n\r\n    #if( &quot;$car.fuel&quot; == &quot;&quot; )\r\n\r\nApproach 3: Combine Approach 1 and 2. This will check for null and null only.\r\n\r\n    #if ((! $car.fuel) &amp;&amp; (&quot;$!car.fuel&quot; == &quot;&quot;))\r\n\r\n&gt; Note: The logic underlying here is that: &quot;(null or false) and (null or\r\n&gt; &gt; empty-string)&quot; =&gt; if true, must be null. This is true because &quot;false and empty-string and not null&quot; is never true. IMHO, this makes the\r\n&gt; template too complicated to read.","title":"$null check in velocity","body":"<p>Approach 1: Use the fact that null is evaluated as a false conditional. (cf. <a href=\"http://velocity.apache.org/engine/devel/user-guide.html#Conditionals\" rel=\"nofollow noreferrer\">http://velocity.apache.org/engine/devel/user-guide.html#Conditionals</a>)</p>\n<pre><code>#if( ! $car.fuel )\n</code></pre>\n<blockquote>\n<p>Note: The conditional will also pass if the result of $car.fuel is the\nboolean false. What this approach is actually checking is whether the\nreference is null or false.</p>\n</blockquote>\n<p>Approach 2: Use the fact that null is evaluated as an empty string in quiet references. (cf. <a href=\"http://velocity.apache.org/engine/devel/user-guide.html#quietreferencenotation\" rel=\"nofollow noreferrer\">http://velocity.apache.org/engine/devel/user-guide.html#quietreferencenotation</a>)</p>\n<pre><code>#if( &quot;$!car.fuel&quot; == &quot;&quot; )\n</code></pre>\n<blockquote>\n<p>Note: The conditional will also pass if the result of $car.fuel is an\nempty String. What this approach is actually checking is whether the\nreference is null or empty. BTW, just checking for empty can be\nachieved by:</p>\n</blockquote>\n<pre><code>#if( &quot;$car.fuel&quot; == &quot;&quot; )\n</code></pre>\n<p>Approach 3: Combine Approach 1 and 2. This will check for null and null only.</p>\n<pre><code>#if ((! $car.fuel) &amp;&amp; (&quot;$!car.fuel&quot; == &quot;&quot;))\n</code></pre>\n<blockquote>\n<p>Note: The logic underlying here is that: &quot;(null or false) and (null or</p>\n<blockquote>\n<p>empty-string)&quot; =&gt; if true, must be null. This is true because &quot;false and empty-string and not null&quot; is never true. IMHO, this makes the\ntemplate too complicated to read.</p>\n</blockquote>\n</blockquote>\n"}],"owner":{"account_id":641239,"reputation":571,"user_id":419748,"display_name":"lucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98363,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":2,"score":57,"last_activity_date":1672184461,"creation_date":1281715294,"question_id":3478638,"body_markdown":"I came to know about null check using $null in velocity 1.6 through a resource updated by you.\r\nResource: https://stackoverflow.com/questions/24495/reading-model-objects-mapped-in-velocity-templates\r\nBut I am facing so many challenges that there is no $null for null check in velocity as there is no documentation provided about this.\r\nPlease provide me with documentation stating $null as valid for null check in velocity.","title":"$null check in velocity","body":"<p>I came to know about null check using $null in velocity 1.6 through a resource updated by you.\nResource: <a href=\"https://stackoverflow.com/questions/24495/reading-model-objects-mapped-in-velocity-templates\">Reading model objects mapped in Velocity Templates</a>\nBut I am facing so many challenges that there is no $null for null check in velocity as there is no documentation provided about this.\nPlease provide me with documentation stating $null as valid for null check in velocity.</p>\n"},{"tags":["java","android","flutter","flutter-plugin"],"comments":[{"owner":{"account_id":146938,"reputation":101,"user_id":357716,"display_name":"evaisse"},"score":0,"creation_date":1680525636,"post_id":74935007,"comment_id":133908128,"body_markdown":"Hih Kaki, did you find any way to fix this up ? I&#39;m in the same situation as you are...","body":"Hih Kaki, did you find any way to fix this up ? I&#39;m in the same situation as you are..."},{"owner":{"account_id":5792365,"reputation":1486,"user_id":6641693,"accept_rate":67,"display_name":"Kaki Master Of Time"},"score":0,"creation_date":1680914762,"post_id":74935007,"comment_id":133980236,"body_markdown":"@evaisse i stopped using onDestroy function, and i put eerything in the activity and attachment methods and it worked correctly","body":"@evaisse i stopped using onDestroy function, and i put eerything in the activity and attachment methods and it worked correctly"},{"owner":{"account_id":146938,"reputation":101,"user_id":357716,"display_name":"evaisse"},"score":0,"creation_date":1682294250,"post_id":74935007,"comment_id":134188030,"body_markdown":"Hi @kaki, there is indeed an issue that seems to be fixed in v3.7.10 https://github.com/flutter/flutter/issues/124201#issuecomment-1498495926 anyway I’m curious how do you call the plugin instance from the activity class ?","body":"Hi @kaki, there is indeed an issue that seems to be fixed in v3.7.10 <a href=\"https://github.com/flutter/flutter/issues/124201#issuecomment-1498495926\" rel=\"nofollow noreferrer\">github.com/flutter/flutter/issues/&hellip;</a> anyway I’m curious how do you call the plugin instance from the activity class ?"}],"owner":{"account_id":5792365,"reputation":1486,"user_id":6641693,"accept_rate":67,"display_name":"Kaki Master Of Time"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672184247,"creation_date":1672184247,"question_id":74935007,"body_markdown":"i am creating a plugin with the `onAttachedToEngine` function that i use to assign context and mediaPlayer session to variables, exactly like the docs say so nothing special is being done. The problem is that when my plugin throws an error and it&#39;s time for the `onDestroy` function to be called, the onDestroy function doesn&#39;t seem to see the variables i set during the usage of the current object. \r\n\r\nso if i set a variable X to &quot;hello&quot; in the `onAttachedToEngine`, `onDestroy` will keep seeing it as null and creates nullPointer exceptions which crashes my plugin and app.\r\n\r\nhere is a sample code i am using : \r\n\r\n```\r\npublic class flutterPlugin extends MediaBrowserService implements FlutterPlugin, MethodCallHandler {\r\n  private String randomString = &quot;lowercase&quot;;\r\n\r\n private void initInstance(BinaryMessenger binaryMessenger, Context context) {\r\n    this.channel = new MethodChannel(binaryMessenger, ID);\r\n    this.channel.setMethodCallHandler(this);\r\n    am = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n    mContext=context;\r\n    mNotificationManager = (NotificationManager) mContext\r\n            .getSystemService(Context.NOTIFICATION_SERVICE);\r\n    setupBroadcastReceiver();\r\n    startSession(mContext);\r\n    this.randomStirng = &quot;UPPERCASE&quot;;\r\n\r\n  }\r\n\r\n\r\n  @Override\r\n  public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\r\n    this.initInstance(binding.getBinaryMessenger(), binding.getApplicationContext());\r\n  }\r\n\r\n\r\n  @Override\r\n  public void onDestroy() {\r\n\r\n  this.randomStirng // here the random string i initialized is equal to &quot;lowercase&quot;\r\n  // and the same goes for all the variables initialized in initInstance, they are alll treated an null\r\n  (...)\r\n  }\r\n\r\n(...)\r\n}\r\n``` \r\nwhat could the issue be ? is onDestroy being called from a child process ? when getting the parent of `super` it returns the same class name as the plugin\r\n","title":"FLutter Android Plugin, onDestroy function is not attached to the plugin class","body":"<p>i am creating a plugin with the <code>onAttachedToEngine</code> function that i use to assign context and mediaPlayer session to variables, exactly like the docs say so nothing special is being done. The problem is that when my plugin throws an error and it's time for the <code>onDestroy</code> function to be called, the onDestroy function doesn't seem to see the variables i set during the usage of the current object.</p>\n<p>so if i set a variable X to &quot;hello&quot; in the <code>onAttachedToEngine</code>, <code>onDestroy</code> will keep seeing it as null and creates nullPointer exceptions which crashes my plugin and app.</p>\n<p>here is a sample code i am using :</p>\n<pre><code>public class flutterPlugin extends MediaBrowserService implements FlutterPlugin, MethodCallHandler {\n  private String randomString = &quot;lowercase&quot;;\n\n private void initInstance(BinaryMessenger binaryMessenger, Context context) {\n    this.channel = new MethodChannel(binaryMessenger, ID);\n    this.channel.setMethodCallHandler(this);\n    am = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n    mContext=context;\n    mNotificationManager = (NotificationManager) mContext\n            .getSystemService(Context.NOTIFICATION_SERVICE);\n    setupBroadcastReceiver();\n    startSession(mContext);\n    this.randomStirng = &quot;UPPERCASE&quot;;\n\n  }\n\n\n  @Override\n  public void onAttachedToEngine(@NonNull FlutterPluginBinding binding) {\n    this.initInstance(binding.getBinaryMessenger(), binding.getApplicationContext());\n  }\n\n\n  @Override\n  public void onDestroy() {\n\n  this.randomStirng // here the random string i initialized is equal to &quot;lowercase&quot;\n  // and the same goes for all the variables initialized in initInstance, they are alll treated an null\n  (...)\n  }\n\n(...)\n}\n</code></pre>\n<p>what could the issue be ? is onDestroy being called from a child process ? when getting the parent of <code>super</code> it returns the same class name as the plugin</p>\n"},{"tags":["java","ms-word","apache-poi","xwpf"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1500990337,"creation_date":1394280045,"answer_id":22269035,"question_id":22268898,"body_markdown":"The method you need is [XWPFRun.setText(String)](http://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#setText%28java.lang.String%29). Simply work your way through the file until you find the XWPFRun of interest, work out what you want the new text to be, and replace it. (A run is a sequence of text with the same formatting)\r\n\r\nYou should be able to do something like:\r\n\r\n    XWPFDocument doc = new XWPFDocument(OPCPackage.open(&quot;input.docx&quot;));\r\n    for (XWPFParagraph p : doc.getParagraphs()) {\r\n        List&lt;XWPFRun&gt; runs = p.getRuns();\r\n        if (runs != null) {\r\n            for (XWPFRun r : runs) {\r\n                String text = r.getText(0);\r\n                if (text != null &amp;&amp; text.contains(&quot;needle&quot;)) {\r\n                    text = text.replace(&quot;needle&quot;, &quot;haystack&quot;);\r\n                    r.setText(text, 0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    for (XWPFTable tbl : doc.getTables()) {\r\n       for (XWPFTableRow row : tbl.getRows()) {\r\n          for (XWPFTableCell cell : row.getTableCells()) {\r\n             for (XWPFParagraph p : cell.getParagraphs()) {\r\n                for (XWPFRun r : p.getRuns()) {\r\n                  String text = r.getText(0);\r\n                  if (text != null &amp;&amp; text.contains(&quot;needle&quot;)) {\r\n                    text = text.replace(&quot;needle&quot;, &quot;haystack&quot;);\r\n                    r.setText(text,0);\r\n                  }\r\n                }\r\n             }\r\n          }\r\n       }\r\n    }\r\n    doc.write(new FileOutputStream(&quot;output.docx&quot;));","title":"Replacing a text in Apache POI XWPF","body":"<p>The method you need is <a href=\"http://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFRun.html#setText%28java.lang.String%29\" rel=\"noreferrer\">XWPFRun.setText(String)</a>. Simply work your way through the file until you find the XWPFRun of interest, work out what you want the new text to be, and replace it. (A run is a sequence of text with the same formatting)</p>\n\n<p>You should be able to do something like:</p>\n\n<pre><code>XWPFDocument doc = new XWPFDocument(OPCPackage.open(\"input.docx\"));\nfor (XWPFParagraph p : doc.getParagraphs()) {\n    List&lt;XWPFRun&gt; runs = p.getRuns();\n    if (runs != null) {\n        for (XWPFRun r : runs) {\n            String text = r.getText(0);\n            if (text != null &amp;&amp; text.contains(\"needle\")) {\n                text = text.replace(\"needle\", \"haystack\");\n                r.setText(text, 0);\n            }\n        }\n    }\n}\nfor (XWPFTable tbl : doc.getTables()) {\n   for (XWPFTableRow row : tbl.getRows()) {\n      for (XWPFTableCell cell : row.getTableCells()) {\n         for (XWPFParagraph p : cell.getParagraphs()) {\n            for (XWPFRun r : p.getRuns()) {\n              String text = r.getText(0);\n              if (text != null &amp;&amp; text.contains(\"needle\")) {\n                text = text.replace(\"needle\", \"haystack\");\n                r.setText(text,0);\n              }\n            }\n         }\n      }\n   }\n}\ndoc.write(new FileOutputStream(\"output.docx\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1270321,"reputation":340,"user_id":1226773,"display_name":"birya"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1405678195,"creation_date":1405676469,"answer_id":24821877,"question_id":22268898,"body_markdown":"&gt; The first chunk of code is giing me a NullPointerException, anyone know what is wrong?\r\n\r\nrun.getText(int position) - from documentation:\r\nReturns:\r\n\t the text of this text run or null if not set\r\n\r\nJust check if it is not null before calling contains() on it\r\n\r\nAnd btw if you want to replace the text you need to set it in position from which you get it, in this case r.setText(text, 0);. Otherwise text will be added not replaced","title":"Replacing a text in Apache POI XWPF","body":"<blockquote>\n  <p>The first chunk of code is giing me a NullPointerException, anyone know what is wrong?</p>\n</blockquote>\n\n<p>run.getText(int position) - from documentation:\nReturns:\n     the text of this text run or null if not set</p>\n\n<p>Just check if it is not null before calling contains() on it</p>\n\n<p>And btw if you want to replace the text you need to set it in position from which you get it, in this case r.setText(text, 0);. Otherwise text will be added not replaced</p>\n"},{"tags":[],"owner":{"account_id":2398592,"reputation":310,"user_id":2096877,"display_name":"Kyle Willkomm"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1407426053,"creation_date":1407426053,"answer_id":25186678,"question_id":22268898,"body_markdown":"Here is what we did for text replacement using Apache POI.  We found that it was not worth the hassle and simpler to replace the text of an entire XWPFParagraph instead of a run.  A run can be randomly split in the middle of a word as Microsoft Word is in charge of where runs are created within the paragraph of a document.  Therefore the text you might be searching for could be half in one run and half in another.  Using the full text of a paragraph, removing its existing runs, and adding a new run with the adjusted text seems to solve the problem of text replacement.  \r\n\r\nHowever there is a cost of doing the replacement at the paragraph level; you lose the formatting of the runs in that paragraph.  For example if in the middle of your paragraph you had bolded the word &quot;bits&quot;, and then when parsing the file you replaced the word &quot;bits&quot; with &quot;bytes&quot;, the word &quot;bytes&quot; would no longer be bolded.  Because the bolding was stored with a run that was removed when the paragraph&#39;s entire body of text was replaced.   The attached code has a commented out section that was working for replacement of text at the run level if you need it.  \r\n\r\nIt should also be noted that the below works if the text you are inserting contains \\n return characters.  We could not find a way to insert returns without creating a run for each section prior to the return and marking the run addCarriageReturn().  Cheers\r\n\r\n        package com.healthpartners.hcss.client.external.word.replacement;\r\n    \r\n    import java.util.List;\r\n        \r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;\r\n        \r\n    public class TextReplacer {\r\n    \tprivate String searchValue;\r\n    \tprivate String replacement;\r\n    \r\n    \tpublic TextReplacer(String searchValue, String replacement) {\r\n    \t\tthis.searchValue = searchValue;\r\n    \t\tthis.replacement = replacement;\r\n    \t}\r\n    \r\n    \tpublic void replace(XWPFDocument document) {\r\n    \t\tList&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n\t\t\r\n\t\tfor (XWPFParagraph xwpfParagraph : paragraphs) {\r\n\t\t\treplace(xwpfParagraph);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void replace(XWPFParagraph paragraph) {\r\n\t\tif (hasReplaceableItem(paragraph.getText())) {\r\n\t\t\tString replacedText = StringUtils.replace(paragraph.getText(), searchValue, replacement);\r\n\t\t\t\r\n\t\t\tremoveAllRuns(paragraph);\r\n\t\t\t\r\n\t\t\tinsertReplacementRuns(paragraph, replacedText);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void insertReplacementRuns(XWPFParagraph paragraph, String replacedText) {\r\n\t\tString[] replacementTextSplitOnCarriageReturn = StringUtils.split(replacedText, &quot;\\n&quot;);\r\n\t\t\r\n\t\tfor (int j = 0; j &lt; replacementTextSplitOnCarriageReturn.length; j++) {\r\n\t\t\tString part = replacementTextSplitOnCarriageReturn[j];\r\n\r\n\t\t\tXWPFRun newRun = paragraph.insertNewRun(j);\r\n\t\t\tnewRun.setText(part);\r\n\t\t\t\r\n\t\t\tif (j+1 &lt; replacementTextSplitOnCarriageReturn.length) {\r\n\t\t\t\tnewRun.addCarriageReturn();\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tprivate void removeAllRuns(XWPFParagraph paragraph) {\r\n\t\tint size = paragraph.getRuns().size();\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tparagraph.removeRun(0);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate boolean hasReplaceableItem(String runText) {\r\n\t\treturn StringUtils.contains(runText, searchValue);\r\n\t}\r\n\r\n\t//REVISIT The below can be removed if Michele tests and approved the above less versatile replacement version\r\n\t\r\n    //\tprivate void replace(XWPFParagraph paragraph) {\r\n    //\t\tfor (int i = 0; i &lt; paragraph.getRuns().size()\t; i++) {\r\n    //\t\t\ti = replace(paragraph, i);\r\n    //\t\t}\r\n    //\t}\r\n    \r\n    //\tprivate int replace(XWPFParagraph paragraph, int i) {\r\n    //\t\tXWPFRun run = paragraph.getRuns().get(i);\r\n    //\t\t\r\n    //\t\tString runText = run.getText(0);\r\n    //\t\t\r\n    //\t\tif (hasReplaceableItem(runText)) {\r\n    //\t\t\treturn replace(paragraph, i, run);\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\treturn i;\r\n    //\t}\r\n    \t\r\n    //\tprivate int replace(XWPFParagraph paragraph, int i, XWPFRun run) {\r\n    //\t\tString runText = run.getCTR().getTArray(0).getStringValue();\r\n    //\t\t\r\n    //\t\tString beforeSuperLong = StringUtils.substring(runText, 0, runText.indexOf(searchValue));\r\n    //\t\t\r\n    //\t\tString[] replacementTextSplitOnCarriageReturn = StringUtils.split(replacement, &quot;\\n&quot;);\r\n    //\t\t\r\n    //\t\tString afterSuperLong = StringUtils.substring(runText, runText.indexOf(searchValue) + searchValue.length());\r\n    //\t\t\r\n    //\t\tCounter counter = new Counter(i);\r\n    //\t\t\r\n    //\t\tinsertNewRun(paragraph, run, counter, beforeSuperLong);\r\n    //\t\t\r\n    //\t\tfor (int j = 0; j &lt; replacementTextSplitOnCarriageReturn.length; j++) {\r\n    //\t\t\tString part = replacementTextSplitOnCarriageReturn[j];\r\n    //\r\n    //\t\t\tXWPFRun newRun = insertNewRun(paragraph, run, counter, part);\r\n    //\t\t\t\r\n    //\t\t\tif (j+1 &lt; replacementTextSplitOnCarriageReturn.length) {\r\n    //\t\t\t\tnewRun.addCarriageReturn();\r\n    //\t\t\t}\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\tinsertNewRun(paragraph, run, counter, afterSuperLong);\r\n    //\t\t\r\n    //\t\tparagraph.removeRun(counter.getCount());\r\n    //\t\t\r\n    //\t\treturn counter.getCount();\r\n    //\t}\r\n    \t\r\n    //\tprivate class Counter {\r\n    //\t\tprivate int i;\r\n    //\t\t\r\n    //\t\tpublic Counter(int i) {\r\n    //\t\t\tthis.i = i;\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\tpublic void increment() {\r\n    //\t\t\ti++;\r\n    //\t\t}\r\n    //\t\t\r\n    //\t\tpublic int getCount() {\r\n    //\t\t\treturn i;\r\n    //\t\t}\r\n    //\t}\r\n    \r\n    //\tprivate XWPFRun insertNewRun(XWPFParagraph xwpfParagraph, XWPFRun run, Counter counter, String newText) {\r\n    //\t\tXWPFRun newRun = xwpfParagraph.insertNewRun(counter.i);\r\n    //\t\tnewRun.getCTR().set(run.getCTR());\r\n    //\t\tnewRun.getCTR().getTArray(0).setStringValue(newText);\r\n    //\t\t\r\n    //\t\tcounter.increment();\r\n    //\t\t\r\n    //\t\treturn newRun;\r\n    //\t}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n","title":"Replacing a text in Apache POI XWPF","body":"<p>Here is what we did for text replacement using Apache POI.  We found that it was not worth the hassle and simpler to replace the text of an entire XWPFParagraph instead of a run.  A run can be randomly split in the middle of a word as Microsoft Word is in charge of where runs are created within the paragraph of a document.  Therefore the text you might be searching for could be half in one run and half in another.  Using the full text of a paragraph, removing its existing runs, and adding a new run with the adjusted text seems to solve the problem of text replacement.  </p>\n\n<p>However there is a cost of doing the replacement at the paragraph level; you lose the formatting of the runs in that paragraph.  For example if in the middle of your paragraph you had bolded the word \"bits\", and then when parsing the file you replaced the word \"bits\" with \"bytes\", the word \"bytes\" would no longer be bolded.  Because the bolding was stored with a run that was removed when the paragraph's entire body of text was replaced.   The attached code has a commented out section that was working for replacement of text at the run level if you need it.  </p>\n\n<p>It should also be noted that the below works if the text you are inserting contains \\n return characters.  We could not find a way to insert returns without creating a run for each section prior to the return and marking the run addCarriageReturn().  Cheers</p>\n\n<pre><code>    package com.healthpartners.hcss.client.external.word.replacement;\n\nimport java.util.List;\n\nimport org.apache.commons.lang.StringUtils;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\n\npublic class TextReplacer {\n    private String searchValue;\n    private String replacement;\n\n    public TextReplacer(String searchValue, String replacement) {\n        this.searchValue = searchValue;\n        this.replacement = replacement;\n    }\n\n    public void replace(XWPFDocument document) {\n        List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n\n    for (XWPFParagraph xwpfParagraph : paragraphs) {\n        replace(xwpfParagraph);\n    }\n}\n\nprivate void replace(XWPFParagraph paragraph) {\n    if (hasReplaceableItem(paragraph.getText())) {\n        String replacedText = StringUtils.replace(paragraph.getText(), searchValue, replacement);\n\n        removeAllRuns(paragraph);\n\n        insertReplacementRuns(paragraph, replacedText);\n    }\n}\n\nprivate void insertReplacementRuns(XWPFParagraph paragraph, String replacedText) {\n    String[] replacementTextSplitOnCarriageReturn = StringUtils.split(replacedText, \"\\n\");\n\n    for (int j = 0; j &lt; replacementTextSplitOnCarriageReturn.length; j++) {\n        String part = replacementTextSplitOnCarriageReturn[j];\n\n        XWPFRun newRun = paragraph.insertNewRun(j);\n        newRun.setText(part);\n\n        if (j+1 &lt; replacementTextSplitOnCarriageReturn.length) {\n            newRun.addCarriageReturn();\n        }\n    }       \n}\n\nprivate void removeAllRuns(XWPFParagraph paragraph) {\n    int size = paragraph.getRuns().size();\n    for (int i = 0; i &lt; size; i++) {\n        paragraph.removeRun(0);\n    }\n}\n\nprivate boolean hasReplaceableItem(String runText) {\n    return StringUtils.contains(runText, searchValue);\n}\n\n//REVISIT The below can be removed if Michele tests and approved the above less versatile replacement version\n\n//  private void replace(XWPFParagraph paragraph) {\n//      for (int i = 0; i &lt; paragraph.getRuns().size()  ; i++) {\n//          i = replace(paragraph, i);\n//      }\n//  }\n\n//  private int replace(XWPFParagraph paragraph, int i) {\n//      XWPFRun run = paragraph.getRuns().get(i);\n//      \n//      String runText = run.getText(0);\n//      \n//      if (hasReplaceableItem(runText)) {\n//          return replace(paragraph, i, run);\n//      }\n//      \n//      return i;\n//  }\n\n//  private int replace(XWPFParagraph paragraph, int i, XWPFRun run) {\n//      String runText = run.getCTR().getTArray(0).getStringValue();\n//      \n//      String beforeSuperLong = StringUtils.substring(runText, 0, runText.indexOf(searchValue));\n//      \n//      String[] replacementTextSplitOnCarriageReturn = StringUtils.split(replacement, \"\\n\");\n//      \n//      String afterSuperLong = StringUtils.substring(runText, runText.indexOf(searchValue) + searchValue.length());\n//      \n//      Counter counter = new Counter(i);\n//      \n//      insertNewRun(paragraph, run, counter, beforeSuperLong);\n//      \n//      for (int j = 0; j &lt; replacementTextSplitOnCarriageReturn.length; j++) {\n//          String part = replacementTextSplitOnCarriageReturn[j];\n//\n//          XWPFRun newRun = insertNewRun(paragraph, run, counter, part);\n//          \n//          if (j+1 &lt; replacementTextSplitOnCarriageReturn.length) {\n//              newRun.addCarriageReturn();\n//          }\n//      }\n//      \n//      insertNewRun(paragraph, run, counter, afterSuperLong);\n//      \n//      paragraph.removeRun(counter.getCount());\n//      \n//      return counter.getCount();\n//  }\n\n//  private class Counter {\n//      private int i;\n//      \n//      public Counter(int i) {\n//          this.i = i;\n//      }\n//      \n//      public void increment() {\n//          i++;\n//      }\n//      \n//      public int getCount() {\n//          return i;\n//      }\n//  }\n\n//  private XWPFRun insertNewRun(XWPFParagraph xwpfParagraph, XWPFRun run, Counter counter, String newText) {\n//      XWPFRun newRun = xwpfParagraph.insertNewRun(counter.i);\n//      newRun.getCTR().set(run.getCTR());\n//      newRun.getCTR().getTArray(0).setStringValue(newText);\n//      \n//      counter.increment();\n//      \n//      return newRun;\n//  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6067842,"reputation":349,"user_id":4737580,"accept_rate":60,"display_name":"Sherin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427881725,"creation_date":1427881725,"answer_id":29387604,"question_id":22268898,"body_markdown":"The answer accepted here needs one more update along with Justin Skiles update. \r\nr.setText(text, 0);\r\nReason: If not updating setText with pos variable, the output will be the combination of old string and replace string.","title":"Replacing a text in Apache POI XWPF","body":"<p>The answer accepted here needs one more update along with Justin Skiles update. \nr.setText(text, 0);\nReason: If not updating setText with pos variable, the output will be the combination of old string and replace string.</p>\n"},{"tags":[],"owner":{"account_id":9507132,"reputation":139,"user_id":7066247,"display_name":"Thierry Bodhuin"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1477405990,"creation_date":1477338538,"answer_id":40226361,"question_id":22268898,"body_markdown":"If somebody needs also to keep the formatting of the text, this code works better.\r\n\r\n    private static Map&lt;Integer, XWPFRun&gt; getPosToRuns(XWPFParagraph paragraph) {\r\n        int pos = 0;\r\n        Map&lt;Integer, XWPFRun&gt; map = new HashMap&lt;Integer, XWPFRun&gt;(10);\r\n        for (XWPFRun run : paragraph.getRuns()) {\r\n            String runText = run.text();\r\n            if (runText != null) {\r\n                for (int i = 0; i &lt; runText.length(); i++) {\r\n                    map.put(pos + i, run);\r\n                }\r\n                pos += runText.length();\r\n            }\r\n        }\r\n        return (map);\r\n    }\r\n\r\n    public static &lt;V&gt; void replace(XWPFDocument document, Map&lt;String, V&gt; map) {\r\n        List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n        for (XWPFParagraph paragraph : paragraphs) {\r\n            replace(paragraph, map);\r\n        }\r\n    }\r\n\r\n    public static &lt;V&gt; void replace(XWPFDocument document, String searchText, V replacement) {\r\n        List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n        for (XWPFParagraph paragraph : paragraphs) {\r\n            replace(paragraph, searchText, replacement);\r\n        }\r\n    }\r\n\r\n    private static &lt;V&gt; void replace(XWPFParagraph paragraph, Map&lt;String, V&gt; map) {\r\n        for (Map.Entry&lt;String, V&gt; entry : map.entrySet()) {\r\n            replace(paragraph, entry.getKey(), entry.getValue());\r\n        }\r\n    }\r\n\r\n    public static &lt;V&gt; void replace(XWPFParagraph paragraph, String searchText, V replacement) {\r\n        boolean found = true;\r\n        while (found) {\r\n            found = false;\r\n            int pos = paragraph.getText().indexOf(searchText);\r\n            if (pos &gt;= 0) {\r\n                found = true;\r\n                Map&lt;Integer, XWPFRun&gt; posToRuns = getPosToRuns(paragraph);\r\n                XWPFRun run = posToRuns.get(pos);\r\n                XWPFRun lastRun = posToRuns.get(pos + searchText.length() - 1);\r\n                int runNum = paragraph.getRuns().indexOf(run);\r\n                int lastRunNum = paragraph.getRuns().indexOf(lastRun);\r\n                String texts[] = replacement.toString().split(&quot;\\n&quot;);\r\n                run.setText(texts[0], 0);\r\n                XWPFRun newRun = run;\r\n                for (int i = 1; i &lt; texts.length; i++) {\r\n                    newRun.addCarriageReturn();\r\n                    newRun = paragraph.insertNewRun(runNum + i);\r\n                    /*\r\n                        We should copy all style attributes\r\n                        to the newRun from run\r\n                        also from background color, ...\r\n                        Here we duplicate only the simple attributes...\r\n                     */\r\n                    newRun.setText(texts[i]);\r\n                    newRun.setBold(run.isBold());\r\n                    newRun.setCapitalized(run.isCapitalized());\r\n                    // newRun.setCharacterSpacing(run.getCharacterSpacing());\r\n                    newRun.setColor(run.getColor());\r\n                    newRun.setDoubleStrikethrough(run.isDoubleStrikeThrough());\r\n                    newRun.setEmbossed(run.isEmbossed());\r\n                    newRun.setFontFamily(run.getFontFamily());\r\n                    newRun.setFontSize(run.getFontSize());\r\n                    newRun.setImprinted(run.isImprinted());\r\n                    newRun.setItalic(run.isItalic());\r\n                    newRun.setKerning(run.getKerning());\r\n                    newRun.setShadow(run.isShadowed());\r\n                    newRun.setSmallCaps(run.isSmallCaps());\r\n                    newRun.setStrikeThrough(run.isStrikeThrough());\r\n                    newRun.setSubscript(run.getSubscript());\r\n                    newRun.setUnderline(run.getUnderline());\r\n                }\r\n                for (int i = lastRunNum + texts.length - 1; i &gt; runNum + texts.length - 1; i--) {\r\n                    paragraph.removeRun(i);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Replacing a text in Apache POI XWPF","body":"<p>If somebody needs also to keep the formatting of the text, this code works better.</p>\n\n<pre><code>private static Map&lt;Integer, XWPFRun&gt; getPosToRuns(XWPFParagraph paragraph) {\n    int pos = 0;\n    Map&lt;Integer, XWPFRun&gt; map = new HashMap&lt;Integer, XWPFRun&gt;(10);\n    for (XWPFRun run : paragraph.getRuns()) {\n        String runText = run.text();\n        if (runText != null) {\n            for (int i = 0; i &lt; runText.length(); i++) {\n                map.put(pos + i, run);\n            }\n            pos += runText.length();\n        }\n    }\n    return (map);\n}\n\npublic static &lt;V&gt; void replace(XWPFDocument document, Map&lt;String, V&gt; map) {\n    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n    for (XWPFParagraph paragraph : paragraphs) {\n        replace(paragraph, map);\n    }\n}\n\npublic static &lt;V&gt; void replace(XWPFDocument document, String searchText, V replacement) {\n    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n    for (XWPFParagraph paragraph : paragraphs) {\n        replace(paragraph, searchText, replacement);\n    }\n}\n\nprivate static &lt;V&gt; void replace(XWPFParagraph paragraph, Map&lt;String, V&gt; map) {\n    for (Map.Entry&lt;String, V&gt; entry : map.entrySet()) {\n        replace(paragraph, entry.getKey(), entry.getValue());\n    }\n}\n\npublic static &lt;V&gt; void replace(XWPFParagraph paragraph, String searchText, V replacement) {\n    boolean found = true;\n    while (found) {\n        found = false;\n        int pos = paragraph.getText().indexOf(searchText);\n        if (pos &gt;= 0) {\n            found = true;\n            Map&lt;Integer, XWPFRun&gt; posToRuns = getPosToRuns(paragraph);\n            XWPFRun run = posToRuns.get(pos);\n            XWPFRun lastRun = posToRuns.get(pos + searchText.length() - 1);\n            int runNum = paragraph.getRuns().indexOf(run);\n            int lastRunNum = paragraph.getRuns().indexOf(lastRun);\n            String texts[] = replacement.toString().split(\"\\n\");\n            run.setText(texts[0], 0);\n            XWPFRun newRun = run;\n            for (int i = 1; i &lt; texts.length; i++) {\n                newRun.addCarriageReturn();\n                newRun = paragraph.insertNewRun(runNum + i);\n                /*\n                    We should copy all style attributes\n                    to the newRun from run\n                    also from background color, ...\n                    Here we duplicate only the simple attributes...\n                 */\n                newRun.setText(texts[i]);\n                newRun.setBold(run.isBold());\n                newRun.setCapitalized(run.isCapitalized());\n                // newRun.setCharacterSpacing(run.getCharacterSpacing());\n                newRun.setColor(run.getColor());\n                newRun.setDoubleStrikethrough(run.isDoubleStrikeThrough());\n                newRun.setEmbossed(run.isEmbossed());\n                newRun.setFontFamily(run.getFontFamily());\n                newRun.setFontSize(run.getFontSize());\n                newRun.setImprinted(run.isImprinted());\n                newRun.setItalic(run.isItalic());\n                newRun.setKerning(run.getKerning());\n                newRun.setShadow(run.isShadowed());\n                newRun.setSmallCaps(run.isSmallCaps());\n                newRun.setStrikeThrough(run.isStrikeThrough());\n                newRun.setSubscript(run.getSubscript());\n                newRun.setUnderline(run.getUnderline());\n            }\n            for (int i = lastRunNum + texts.length - 1; i &gt; runNum + texts.length - 1; i--) {\n                paragraph.removeRun(i);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477306,"reputation":428,"user_id":1387399,"display_name":"ron"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1483521923,"creation_date":1483177587,"answer_id":41407196,"question_id":22268898,"body_markdown":"my task was to replace texts of the format ${key} with values of a map within a word docx document.\r\nThe above solutions were a good starting point but did not take into account all cases: ${key} can be spread not only across multiple runs but also across multiple texts within a run. I therefore ended up with the following code:\r\n\r\n    \tprivate void replace(String inFile, Map&lt;String, String&gt; data, OutputStream out) throws Exception, IOException {\r\n\t\tXWPFDocument doc = new XWPFDocument(OPCPackage.open(inFile));\r\n\t\tfor (XWPFParagraph p : doc.getParagraphs()) {\r\n\t\t\treplace2(p, data);\r\n\t\t}\r\n\t\tfor (XWPFTable tbl : doc.getTables()) {\r\n\t\t\tfor (XWPFTableRow row : tbl.getRows()) {\r\n\t\t\t\tfor (XWPFTableCell cell : row.getTableCells()) {\r\n\t\t\t\t\tfor (XWPFParagraph p : cell.getParagraphs()) {\r\n\t\t\t\t\t\treplace2(p, data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdoc.write(out);\r\n\t}\r\n\r\n\tprivate void replace2(XWPFParagraph p, Map&lt;String, String&gt; data) {\r\n\t\tString pText = p.getText(); // complete paragraph as string\r\n\t\tif (pText.contains(&quot;${&quot;)) { // if paragraph does not include our pattern, ignore\r\n\t\t\tTreeMap&lt;Integer, XWPFRun&gt; posRuns = getPosToRuns(p);\r\n\t\t\tPattern pat = Pattern.compile(&quot;\\\\$\\\\{(.+?)\\\\}&quot;);\r\n\t\t\tMatcher m = pat.matcher(pText);\r\n\t\t\twhile (m.find()) { // for all patterns in the paragraph\r\n\t\t\t\tString g = m.group(1);  // extract key start and end pos\r\n\t\t\t\tint s = m.start(1);\r\n\t\t\t\tint e = m.end(1);\r\n\t\t\t\tString key = g;\r\n\t\t\t\tString x = data.get(key);\r\n\t\t\t\tif (x == null)\r\n\t\t\t\t\tx = &quot;&quot;;\r\n\t\t\t\tSortedMap&lt;Integer, XWPFRun&gt; range = posRuns.subMap(s - 2, true, e + 1, true); // get runs which contain the pattern\r\n\t\t\t\tboolean found1 = false; // found $\r\n\t\t\t\tboolean found2 = false; // found {\r\n\t\t\t\tboolean found3 = false; // found }\r\n\t\t\t\tXWPFRun prevRun = null; // previous run handled in the loop\r\n\t\t\t\tXWPFRun found2Run = null; // run in which { was found\r\n\t\t\t\tint found2Pos = -1; // pos of { within above run\r\n\t\t\t\tfor (XWPFRun r : range.values())\r\n\t\t\t\t{\r\n\t\t\t\t\tif (r == prevRun)\r\n\t\t\t\t\t\tcontinue; // this run has already been handled\r\n\t\t\t\t\tif (found3)\r\n\t\t\t\t\t\tbreak; // done working on current key pattern\r\n\t\t\t\t\tprevRun = r;\r\n\t\t\t\t\tfor (int k = 0;; k++) { // iterate over texts of run r\r\n\t\t\t\t\t\tif (found3)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tString txt = null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\ttxt = r.getText(k); // note: should return null, but throws exception if the text does not exist\r\n\t\t\t\t\t\t} catch (Exception ex) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (txt == null)\r\n\t\t\t\t\t\t\tbreak; // no more texts in the run, exit loop\r\n\t\t\t\t\t\tif (txt.contains(&quot;$&quot;) &amp;&amp; !found1) {  // found $, replace it with value from data map\r\n\t\t\t\t\t\t\ttxt = txt.replaceFirst(&quot;\\\\$&quot;, x);\r\n\t\t\t\t\t\t\tfound1 = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (txt.contains(&quot;{&quot;) &amp;&amp; !found2 &amp;&amp; found1) {\r\n\t\t\t\t\t\t\tfound2Run = r; // found { replace it with empty string and remember location\r\n\t\t\t\t\t\t\tfound2Pos = txt.indexOf(&#39;{&#39;);\r\n\t\t\t\t\t\t\ttxt = txt.replaceFirst(&quot;\\\\{&quot;, &quot;&quot;);\r\n\t\t\t\t\t\t\tfound2 = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (found1 &amp;&amp; found2 &amp;&amp; !found3) { // find } and set all chars between { and } to blank\r\n\t\t\t\t\t\t\tif (txt.contains(&quot;}&quot;))\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (r == found2Run)\r\n\t\t\t\t\t\t\t\t{ // complete pattern was within a single run\r\n\t\t\t\t\t\t\t\t\ttxt = txt.substring(0, found2Pos)+txt.substring(txt.indexOf(&#39;}&#39;));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse // pattern spread across multiple runs\r\n\t\t\t\t\t\t\t\t\ttxt = txt.substring(txt.indexOf(&#39;}&#39;));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (r == found2Run) // same run as { but no }, remove all text starting at {\r\n\t\t\t\t\t\t\t\ttxt = txt.substring(0,  found2Pos);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\ttxt = &quot;&quot;; // run between { and }, set text to blank\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (txt.contains(&quot;}&quot;) &amp;&amp; !found3) {\r\n\t\t\t\t\t\t\ttxt = txt.replaceFirst(&quot;\\\\}&quot;, &quot;&quot;);\r\n\t\t\t\t\t\t\tfound3 = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tr.setText(txt, k);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(p.getText());\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate TreeMap&lt;Integer, XWPFRun&gt; getPosToRuns(XWPFParagraph paragraph) {\r\n\t\tint pos = 0;\r\n\t\tTreeMap&lt;Integer, XWPFRun&gt; map = new TreeMap&lt;Integer, XWPFRun&gt;();\r\n\t\tfor (XWPFRun run : paragraph.getRuns()) {\r\n\t\t\tString runText = run.text();\r\n\t\t\tif (runText != null &amp;&amp; runText.length() &gt; 0) {\r\n\t\t\t\tfor (int i = 0; i &lt; runText.length(); i++) {\r\n\t\t\t\t\tmap.put(pos + i, run);\r\n\t\t\t\t}\r\n\t\t\t\tpos += runText.length();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn map;\r\n\t}","title":"Replacing a text in Apache POI XWPF","body":"<p>my task was to replace texts of the format ${key} with values of a map within a word docx document.\nThe above solutions were a good starting point but did not take into account all cases: ${key} can be spread not only across multiple runs but also across multiple texts within a run. I therefore ended up with the following code:</p>\n\n<pre><code>    private void replace(String inFile, Map&lt;String, String&gt; data, OutputStream out) throws Exception, IOException {\n    XWPFDocument doc = new XWPFDocument(OPCPackage.open(inFile));\n    for (XWPFParagraph p : doc.getParagraphs()) {\n        replace2(p, data);\n    }\n    for (XWPFTable tbl : doc.getTables()) {\n        for (XWPFTableRow row : tbl.getRows()) {\n            for (XWPFTableCell cell : row.getTableCells()) {\n                for (XWPFParagraph p : cell.getParagraphs()) {\n                    replace2(p, data);\n                }\n            }\n        }\n    }\n    doc.write(out);\n}\n\nprivate void replace2(XWPFParagraph p, Map&lt;String, String&gt; data) {\n    String pText = p.getText(); // complete paragraph as string\n    if (pText.contains(\"${\")) { // if paragraph does not include our pattern, ignore\n        TreeMap&lt;Integer, XWPFRun&gt; posRuns = getPosToRuns(p);\n        Pattern pat = Pattern.compile(\"\\\\$\\\\{(.+?)\\\\}\");\n        Matcher m = pat.matcher(pText);\n        while (m.find()) { // for all patterns in the paragraph\n            String g = m.group(1);  // extract key start and end pos\n            int s = m.start(1);\n            int e = m.end(1);\n            String key = g;\n            String x = data.get(key);\n            if (x == null)\n                x = \"\";\n            SortedMap&lt;Integer, XWPFRun&gt; range = posRuns.subMap(s - 2, true, e + 1, true); // get runs which contain the pattern\n            boolean found1 = false; // found $\n            boolean found2 = false; // found {\n            boolean found3 = false; // found }\n            XWPFRun prevRun = null; // previous run handled in the loop\n            XWPFRun found2Run = null; // run in which { was found\n            int found2Pos = -1; // pos of { within above run\n            for (XWPFRun r : range.values())\n            {\n                if (r == prevRun)\n                    continue; // this run has already been handled\n                if (found3)\n                    break; // done working on current key pattern\n                prevRun = r;\n                for (int k = 0;; k++) { // iterate over texts of run r\n                    if (found3)\n                        break;\n                    String txt = null;\n                    try {\n                        txt = r.getText(k); // note: should return null, but throws exception if the text does not exist\n                    } catch (Exception ex) {\n\n                    }\n                    if (txt == null)\n                        break; // no more texts in the run, exit loop\n                    if (txt.contains(\"$\") &amp;&amp; !found1) {  // found $, replace it with value from data map\n                        txt = txt.replaceFirst(\"\\\\$\", x);\n                        found1 = true;\n                    }\n                    if (txt.contains(\"{\") &amp;&amp; !found2 &amp;&amp; found1) {\n                        found2Run = r; // found { replace it with empty string and remember location\n                        found2Pos = txt.indexOf('{');\n                        txt = txt.replaceFirst(\"\\\\{\", \"\");\n                        found2 = true;\n                    }\n                    if (found1 &amp;&amp; found2 &amp;&amp; !found3) { // find } and set all chars between { and } to blank\n                        if (txt.contains(\"}\"))\n                        {\n                            if (r == found2Run)\n                            { // complete pattern was within a single run\n                                txt = txt.substring(0, found2Pos)+txt.substring(txt.indexOf('}'));\n                            }\n                            else // pattern spread across multiple runs\n                                txt = txt.substring(txt.indexOf('}'));\n                        }\n                        else if (r == found2Run) // same run as { but no }, remove all text starting at {\n                            txt = txt.substring(0,  found2Pos);\n                        else\n                            txt = \"\"; // run between { and }, set text to blank\n                    }\n                    if (txt.contains(\"}\") &amp;&amp; !found3) {\n                        txt = txt.replaceFirst(\"\\\\}\", \"\");\n                        found3 = true;\n                    }\n                    r.setText(txt, k);\n                }\n            }\n        }\n        System.out.println(p.getText());\n\n    }\n\n}\n\nprivate TreeMap&lt;Integer, XWPFRun&gt; getPosToRuns(XWPFParagraph paragraph) {\n    int pos = 0;\n    TreeMap&lt;Integer, XWPFRun&gt; map = new TreeMap&lt;Integer, XWPFRun&gt;();\n    for (XWPFRun run : paragraph.getRuns()) {\n        String runText = run.text();\n        if (runText != null &amp;&amp; runText.length() &gt; 0) {\n            for (int i = 0; i &lt; runText.length(); i++) {\n                map.put(pos + i, run);\n            }\n            pos += runText.length();\n        }\n\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7530953,"reputation":7364,"user_id":5719185,"display_name":"Optio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507029355,"creation_date":1507029355,"answer_id":46543300,"question_id":22268898,"body_markdown":"I suggest my solution for replacing text between #, for example: *This #bookmark# should be replaced.*\r\nIt is replace in:\r\n\r\n - paragraphs; \r\n - tables; \r\n - footers.\r\n\r\nAlso, it takes into account situations, when symbol # and bookmark are in the separated runs (**replace variable between different runs**).\r\n\r\nHere link to the code: https://gist.github.com/aerobium/bf02e443c079c5caec7568e167849dda","title":"Replacing a text in Apache POI XWPF","body":"<p>I suggest my solution for replacing text between #, for example: <em>This #bookmark# should be replaced.</em>\nIt is replace in:</p>\n\n<ul>\n<li>paragraphs; </li>\n<li>tables; </li>\n<li>footers.</li>\n</ul>\n\n<p>Also, it takes into account situations, when symbol # and bookmark are in the separated runs (<strong>replace variable between different runs</strong>).</p>\n\n<p>Here link to the code: <a href=\"https://gist.github.com/aerobium/bf02e443c079c5caec7568e167849dda\" rel=\"nofollow noreferrer\">https://gist.github.com/aerobium/bf02e443c079c5caec7568e167849dda</a></p>\n"},{"tags":[],"owner":{"account_id":8363748,"reputation":1467,"user_id":6281160,"accept_rate":80,"display_name":"Deividas Strioga"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523862763,"creation_date":1518075183,"answer_id":48679931,"question_id":22268898,"body_markdown":"As of the date of writing, none of the answers replace properly.\r\n \r\nGagravars answer does not include cases where words to replace are split in runs; Thierry Boduins solution sometimes left words to replace blank when they were after other words to replace, also it does not check tables. \r\n\r\nUsing Gagtavars answer as base I have also checked the run before current run if the text of both runs contain the word to replace, adding else block. My addition in kotlin:\r\n\r\n    if (text != null) {\r\n            if (text.contains(findText)) {\r\n                text = text.replace(findText, replaceText)\r\n                r.setText(text, 0)\r\n            } else if (i &gt; 0 &amp;&amp; p.runs[i - 1].getText(0).plus(text).contains(findText)) {\r\n                val pos = p.runs[i - 1].getText(0).indexOf(&#39;$&#39;)\r\n                text = textOfNotFullSecondRun(text, findText)\r\n                r.setText(text, 0)\r\n                val findTextLengthInFirstRun = findTextPartInFirstRun(p.runs[i - 1].getText(0), findText)\r\n                val prevRunText = p.runs[i - 1].getText(0).replaceRange(pos, findTextLengthInFirstRun, replaceText)\r\n                p.runs[i - 1].setText(prevRunText, 0)\r\n            }\r\n        }\r\n\r\n    private fun textOfNotFullSecondRun(text: String, findText: String): String {\r\n        return if (!text.contains(findText)) {\r\n            textOfNotFullSecondRun(text, findText.drop(1))\r\n        } else {\r\n            text.replace(findText, &quot;&quot;)\r\n        }\r\n    }\r\n\r\n    private fun findTextPartInFirstRun(text: String, findText: String): Int {\r\n        return if (text.contains(findText)) {\r\n            findText.length\r\n        } else {\r\n            findTextPartInFirstRun(text, findText.dropLast(1))\r\n        }\r\n    }\r\n\r\nit is the list of runs in a paragraph.\r\nSame with the search block in the table.\r\nWith this solution I did not have any issues yet. All formatting is intact.\r\n\r\nEdit: I made a java lib for replacing, check it out: https://github.com/deividasstr/docx-word-replacer","title":"Replacing a text in Apache POI XWPF","body":"<p>As of the date of writing, none of the answers replace properly.</p>\n\n<p>Gagravars answer does not include cases where words to replace are split in runs; Thierry Boduins solution sometimes left words to replace blank when they were after other words to replace, also it does not check tables. </p>\n\n<p>Using Gagtavars answer as base I have also checked the run before current run if the text of both runs contain the word to replace, adding else block. My addition in kotlin:</p>\n\n<pre><code>if (text != null) {\n        if (text.contains(findText)) {\n            text = text.replace(findText, replaceText)\n            r.setText(text, 0)\n        } else if (i &gt; 0 &amp;&amp; p.runs[i - 1].getText(0).plus(text).contains(findText)) {\n            val pos = p.runs[i - 1].getText(0).indexOf('$')\n            text = textOfNotFullSecondRun(text, findText)\n            r.setText(text, 0)\n            val findTextLengthInFirstRun = findTextPartInFirstRun(p.runs[i - 1].getText(0), findText)\n            val prevRunText = p.runs[i - 1].getText(0).replaceRange(pos, findTextLengthInFirstRun, replaceText)\n            p.runs[i - 1].setText(prevRunText, 0)\n        }\n    }\n\nprivate fun textOfNotFullSecondRun(text: String, findText: String): String {\n    return if (!text.contains(findText)) {\n        textOfNotFullSecondRun(text, findText.drop(1))\n    } else {\n        text.replace(findText, \"\")\n    }\n}\n\nprivate fun findTextPartInFirstRun(text: String, findText: String): Int {\n    return if (text.contains(findText)) {\n        findText.length\n    } else {\n        findTextPartInFirstRun(text, findText.dropLast(1))\n    }\n}\n</code></pre>\n\n<p>it is the list of runs in a paragraph.\nSame with the search block in the table.\nWith this solution I did not have any issues yet. All formatting is intact.</p>\n\n<p>Edit: I made a java lib for replacing, check it out: <a href=\"https://github.com/deividasstr/docx-word-replacer\" rel=\"noreferrer\">https://github.com/deividasstr/docx-word-replacer</a></p>\n"},{"tags":[],"owner":{"account_id":1488253,"reputation":2809,"user_id":1396003,"display_name":"Dmitry Stolbov"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1586436246,"creation_date":1523411284,"answer_id":49765239,"question_id":22268898,"body_markdown":"There is the `replaceParagraph` implementation that replaces `${key}` with `value` (the `fieldsForReport` parameter) and saves format by merging `runs` contents `${key}`.\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n\tprivate void replaceParagraph(XWPFParagraph paragraph, Map&lt;String, String&gt; fieldsForReport) throws POIXMLException {\r\n\t\tString find, text, runsText;\r\n\t\tList&lt;XWPFRun&gt; runs;\r\n\t\tXWPFRun run, nextRun;\r\n\t\tfor (String key : fieldsForReport.keySet()) {\r\n\t\t\ttext = paragraph.getText();\r\n\t\t\tif (!text.contains(&quot;${&quot;))\r\n\t\t\t\treturn;\r\n\t\t\tfind = &quot;${&quot; + key + &quot;}&quot;;\r\n\t\t\tif (!text.contains(find))\r\n\t\t\t\tcontinue;\r\n\t\t\truns = paragraph.getRuns();\r\n\t\t\tfor (int i = 0; i &lt; runs.size(); i++) {\r\n\t\t\t\trun = runs.get(i);\r\n\t\t\t\trunsText = run.getText(0);\r\n\t\t\t\tif (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\r\n\t\t\t\t\t//As the next run may has a closed tag and an open tag at \r\n                    //the same time, we have to be sure that our building string \r\n                    //has a fully completed tags \r\n                    while (!openTagCountIsEqualCloseTagCount(runsText))) {\r\n\t\t\t\t\t\tnextRun = runs.get(i + 1);\r\n\t\t\t\t\t\trunsText = runsText + nextRun.getText(0);\r\n\t\t\t\t\t\tparagraph.removeRun(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\trun.setText(runsText.contains(find) ?\r\n\t\t\t\t\t\t\trunsText.replace(find, fieldsForReport.get(key)) :\r\n\t\t\t\t\t\t\trunsText, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate boolean openTagCountIsEqualCloseTagCount(String runText) {\r\n\t\tint openTagCount = runText.split(&quot;\\\\$\\\\{&quot;, -1).length - 1;\r\n\t\tint closeTagCount = runText.split(&quot;}&quot;, -1).length - 1;\r\n\t\treturn openTagCount == closeTagCount;\r\n    }\r\n\r\n[Implementation replaceParagraph][1]\r\n\r\n[Unit test][2]\r\n\r\n[1]:https://github.com/stolbovd/PoiSamples/blob/master/src/main/java/ru/inkontext/poi/SDPOIDocxView.java\r\n[2]:https://github.com/stolbovd/PoiSamples/blob/master/src/test/java/ru/inkontext/poi/SDPOIDocxViewTest.java","title":"Replacing a text in Apache POI XWPF","body":"<p>There is the <code>replaceParagraph</code> implementation that replaces <code>${key}</code> with <code>value</code> (the <code>fieldsForReport</code> parameter) and saves format by merging <code>runs</code> contents <code>${key}</code>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>private void replaceParagraph(XWPFParagraph paragraph, Map&lt;String, String&gt; fieldsForReport) throws POIXMLException {\n    String find, text, runsText;\n    List&lt;XWPFRun&gt; runs;\n    XWPFRun run, nextRun;\n    for (String key : fieldsForReport.keySet()) {\n        text = paragraph.getText();\n        if (!text.contains(\"${\"))\n            return;\n        find = \"${\" + key + \"}\";\n        if (!text.contains(find))\n            continue;\n        runs = paragraph.getRuns();\n        for (int i = 0; i &lt; runs.size(); i++) {\n            run = runs.get(i);\n            runsText = run.getText(0);\n            if (runsText.contains(\"${\") || (runsText.contains(\"$\") &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(\"{\"))) {\n                //As the next run may has a closed tag and an open tag at \n                //the same time, we have to be sure that our building string \n                //has a fully completed tags \n                while (!openTagCountIsEqualCloseTagCount(runsText))) {\n                    nextRun = runs.get(i + 1);\n                    runsText = runsText + nextRun.getText(0);\n                    paragraph.removeRun(i + 1);\n                }\n                run.setText(runsText.contains(find) ?\n                        runsText.replace(find, fieldsForReport.get(key)) :\n                        runsText, 0);\n            }\n        }\n    }\n}\n\nprivate boolean openTagCountIsEqualCloseTagCount(String runText) {\n    int openTagCount = runText.split(\"\\\\$\\\\{\", -1).length - 1;\n    int closeTagCount = runText.split(\"}\", -1).length - 1;\n    return openTagCount == closeTagCount;\n}\n</code></pre>\n\n<p><a href=\"https://github.com/stolbovd/PoiSamples/blob/master/src/main/java/ru/inkontext/poi/SDPOIDocxView.java\" rel=\"noreferrer\">Implementation replaceParagraph</a></p>\n\n<p><a href=\"https://github.com/stolbovd/PoiSamples/blob/master/src/test/java/ru/inkontext/poi/SDPOIDocxViewTest.java\" rel=\"noreferrer\">Unit test</a></p>\n"},{"tags":[],"owner":{"account_id":4844136,"reputation":51,"user_id":5936443,"display_name":"Miguel Pinto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605183120,"creation_date":1605183120,"answer_id":64803713,"question_id":22268898,"body_markdown":"Based on Dmitry Stolbov answer here and the problems and limitations encountered by it and the rest of the responses I came with the below class, that implements the method generateDocument that searches in paragraphs and tables.  \r\n\r\nHere I solved several problems found in the responses like:\r\n - the .setText(x, 0) to replace and not add \r\n - problems with paragraphs containing &quot;\\t&quot;. When we do run.getText(int position) on a run with this char we get null so we can&#39;t use the .contains() over it. \r\n - merging runs together when the keyTag to replace is splitted across multiple runs\r\n\r\nThis works fine but I need some insights on how to solve a problem I&#39; having. Sometimes the value to replace in the file is larger than the tag to replace, and that ends up screwing up the alignments. For example:\r\n\r\nthe template:\r\n[![enter image description here][1]][1]\r\n\r\nthe output file:\r\n[![enter image description here][2]][2]\r\n\r\nWhat happened is that the {#branch#} and {#insurCompanyCorporateName#} were replaced by larger strings, after the {#branch#} tag there are several &quot;\\t&quot; elements and that, combined to the fact that {#insurCompanyCorporateName#} value is also larger that the tag, pushed the contents forward making it split to the next line. \r\n\r\nI was wondering if anyone has some insights on how I could maybe understand at runtime if the values I&#39;m replacing make the document split lines, or mess up the position of further elements in the page. In this case I would like my program to understand that he should remove some &quot;\\t&quot; after the branch for example. Or maybe split the {#insurCompanyCorporateName#} to a new line, but making the new line starting bellow the original tag or something. \r\n\r\nThoghts?\r\n\r\nThe class:\r\n\r\n    package com.idoine.struts2.action.shared;\r\n\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.openxml4j.opc.OPCPackage;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by migue on 11/11/2020.\r\n     */\r\n    public class DocumentGeneratorAction {\r\n    \r\n        public static ByteArrayInputStream generateDocument(String templatePath, JSONObject fields){\r\n            /** used as reference: https://stackoverflow.com/a/49765239/5936443   [at 11/11/2020]\r\n             This method is responsible for generating a document as a ByteArrayInputStream, using an exisiting word template at templatePath\r\n             It replaces any keyTags in the document by the corresponding value in the JSONObject fields\r\n             it assumes the keyTags come preceeded by the separator &quot;{#&quot; and proceeded by &quot;#}&quot;, in the following form: {#keyTag#}\r\n             */\r\n            try {\r\n                XWPFDocument doc = new XWPFDocument(OPCPackage.open(templatePath));\r\n    \r\n                // search in paragraphs\r\n                for(XWPFParagraph p : doc.getParagraphs()){\r\n                    replaceFieldsParagraph(p, fields);\r\n                }\r\n    \r\n                // search in tables\r\n                for(XWPFTable t : doc.getTables()){\r\n                    replaceFieldsTable(t, fields);\r\n                }\r\n    \r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                doc.write(out);\r\n                ByteArrayInputStream inputStream = new ByteArrayInputStream(out.toByteArray());\r\n                return inputStream;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InvalidFormatException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    \r\n        public static void replaceFieldsParagraph(XWPFParagraph paragraph, JSONObject fields){\r\n            /** this method is responsible for replacing any ocurrences in the paragraph of any of the keyTags\r\n             * present in the JSONObject fields by the corresponding value */\r\n            String text = paragraph.getText(); //all the text from each run concatenated\r\n            String findStr;\r\n            if( !text.contains(&quot;{#&quot;)) //paragraph doesn&#39;t have keys to replace\r\n                return;\r\n    \r\n            // for each field to replace, search it in the curr paragraph\r\n            for( String key : fields.keySet()){\r\n                findStr = &quot;{#&quot; + key + &quot;#}&quot;;\r\n                // if paragraph doesn&#39;t have current key, we skip to next key\r\n                if( text.contains(findStr)) {\r\n                    mergeRunsWithSplittedKeyTags(paragraph);\r\n                    for (XWPFRun run : paragraph.getRuns()) {\r\n                        // check if current run has current key\r\n                        checkAndReplaceFieldRun(run, findStr, String.valueOf(fields.get(key)));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void replaceFieldsTable(XWPFTable table, JSONObject fields){\r\n            /** this method is responsible for replacing any ocurrences in the table of any of the keyTags\r\n             * present in the JSONObject fields by the corresponding value */\r\n    \r\n            if( table.getNumberOfRows() &gt; 0){\r\n                for(XWPFTableRow row : table.getRows()){                                        // iterate over rows\r\n                    for( XWPFTableCell cell : row.getTableCells()){                             // iterate over columns\r\n                        if( cell.getParagraphs() != null &amp;&amp; cell.getParagraphs().size()&gt;0){\r\n                            for(XWPFParagraph paragraph : cell.getParagraphs()){                // get cell paragraphs\r\n                                replaceFieldsParagraph(paragraph, fields);                      // replacing existing keyTags in paragraph\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void checkAndReplaceFieldRun(XWPFRun run, String findStr, String value){\r\n            String runText = run.getText(0);\r\n            if( runText!= null &amp;&amp; runText.contains(findStr)){\r\n                runText = runText.replace(findStr, value);\r\n                run.setText(runText, 0);\r\n            }\r\n        }\r\n    \r\n        public static void mergeRunsWithSplittedKeyTags(XWPFParagraph paragraph){\r\n            /**\r\n             A run is a part of the paragraph that has the same formatting.\r\n             Word separates the text in paragraphs by different runs in a almost &#39;random&#39; way,\r\n             sometimes the tag we are looking for is splitted across multiple runs.\r\n             This method merges the runs that have a keyTag or part of one,\r\n             so that the keyTag starting with &quot;{#&quot; and ending with &quot;#}&quot; is in the same run\r\n            */\r\n            String runText;\r\n            XWPFRun run, nextRun;\r\n    \r\n            List&lt;XWPFRun&gt; runs = paragraph.getRuns();\r\n    \r\n            for( int i=0 ; i&lt;runs.size(); i++){\r\n                run = runs.get(i);\r\n                runText = run.getText(0);\r\n                if( runText != null &amp;&amp;\r\n                        (runText.contains(&quot;{#&quot;) ||  // current run has the complete separator &quot;{#&quot;\r\n                            (runText.contains(&quot;{&quot;) &amp;&amp; (runs.get(i + 1).getText(0)!=null &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;#&quot;))))){   //current run has the first char, next run has the second char\r\n    \r\n                    while( !openTagMatchesCloseTag(runText) ){\r\n                        nextRun = runs.get(i + 1);\r\n                        runText = runText + nextRun.getText(0);\r\n                        paragraph.removeRun(i + 1);\r\n                    }\r\n                    run.setText(runText, 0); // if we don&#39;t set with arg pos=0 it doesn&#39;t replace the contents, it adds to them and repeats chars\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static boolean openTagMatchesCloseTag(String runText){\r\n            /** This method validates if we have a complete run.\r\n             * Either by having no keyTags present, or by having a complete keyTag.\r\n             * If we have parts of a keyTag, but not the complete one, returns false.*/\r\n            int incompleteOpenTagCount = runText.split(&quot;\\\\{&quot;, -1).length - 1;   // &quot;{&quot;\r\n            int completeOpenTagCount = runText.split(&quot;\\\\{#&quot;, -1).length - 1;    // &quot;{#&quot;\r\n            int completeCloseTagCount = runText.split(&quot;#}&quot;, -1).length - 1;     // &quot;#}&quot;\r\n    \r\n            if(completeOpenTagCount&gt;0){  // we already have open and close tags, compare the counts\r\n                return completeOpenTagCount == completeCloseTagCount;\r\n            } else {\r\n                if( incompleteOpenTagCount&gt;0 ){   // we only have a &quot;{&quot; not the whole &quot;{#&quot;\r\n                    return false;\r\n                }\r\n            }\r\n    \r\n            //doesn&#39;t have neither &quot;{&quot; nor &quot;{#&quot;, so there&#39;s no need to close tags\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FOvkU.png\r\n  [2]: https://i.stack.imgur.com/qNAO0.png","title":"Replacing a text in Apache POI XWPF","body":"<p>Based on Dmitry Stolbov answer here and the problems and limitations encountered by it and the rest of the responses I came with the below class, that implements the method generateDocument that searches in paragraphs and tables.</p>\n<p>Here I solved several problems found in the responses like:</p>\n<ul>\n<li>the .setText(x, 0) to replace and not add</li>\n<li>problems with paragraphs containing &quot;\\t&quot;. When we do run.getText(int position) on a run with this char we get null so we can't use the .contains() over it.</li>\n<li>merging runs together when the keyTag to replace is splitted across multiple runs</li>\n</ul>\n<p>This works fine but I need some insights on how to solve a problem I' having. Sometimes the value to replace in the file is larger than the tag to replace, and that ends up screwing up the alignments. For example:</p>\n<p>the template:\n<a href=\"https://i.stack.imgur.com/FOvkU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOvkU.png\" alt=\"enter image description here\" /></a></p>\n<p>the output file:\n<a href=\"https://i.stack.imgur.com/qNAO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qNAO0.png\" alt=\"enter image description here\" /></a></p>\n<p>What happened is that the {#branch#} and {#insurCompanyCorporateName#} were replaced by larger strings, after the {#branch#} tag there are several &quot;\\t&quot; elements and that, combined to the fact that {#insurCompanyCorporateName#} value is also larger that the tag, pushed the contents forward making it split to the next line.</p>\n<p>I was wondering if anyone has some insights on how I could maybe understand at runtime if the values I'm replacing make the document split lines, or mess up the position of further elements in the page. In this case I would like my program to understand that he should remove some &quot;\\t&quot; after the branch for example. Or maybe split the {#insurCompanyCorporateName#} to a new line, but making the new line starting bellow the original tag or something.</p>\n<p>Thoghts?</p>\n<p>The class:</p>\n<pre><code>package com.idoine.struts2.action.shared;\n\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.openxml4j.opc.OPCPackage;\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.json.JSONObject;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.List;\n\n/**\n * Created by migue on 11/11/2020.\n */\npublic class DocumentGeneratorAction {\n\n    public static ByteArrayInputStream generateDocument(String templatePath, JSONObject fields){\n        /** used as reference: https://stackoverflow.com/a/49765239/5936443   [at 11/11/2020]\n         This method is responsible for generating a document as a ByteArrayInputStream, using an exisiting word template at templatePath\n         It replaces any keyTags in the document by the corresponding value in the JSONObject fields\n         it assumes the keyTags come preceeded by the separator &quot;{#&quot; and proceeded by &quot;#}&quot;, in the following form: {#keyTag#}\n         */\n        try {\n            XWPFDocument doc = new XWPFDocument(OPCPackage.open(templatePath));\n\n            // search in paragraphs\n            for(XWPFParagraph p : doc.getParagraphs()){\n                replaceFieldsParagraph(p, fields);\n            }\n\n            // search in tables\n            for(XWPFTable t : doc.getTables()){\n                replaceFieldsTable(t, fields);\n            }\n\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            doc.write(out);\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(out.toByteArray());\n            return inputStream;\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InvalidFormatException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n\n    public static void replaceFieldsParagraph(XWPFParagraph paragraph, JSONObject fields){\n        /** this method is responsible for replacing any ocurrences in the paragraph of any of the keyTags\n         * present in the JSONObject fields by the corresponding value */\n        String text = paragraph.getText(); //all the text from each run concatenated\n        String findStr;\n        if( !text.contains(&quot;{#&quot;)) //paragraph doesn't have keys to replace\n            return;\n\n        // for each field to replace, search it in the curr paragraph\n        for( String key : fields.keySet()){\n            findStr = &quot;{#&quot; + key + &quot;#}&quot;;\n            // if paragraph doesn't have current key, we skip to next key\n            if( text.contains(findStr)) {\n                mergeRunsWithSplittedKeyTags(paragraph);\n                for (XWPFRun run : paragraph.getRuns()) {\n                    // check if current run has current key\n                    checkAndReplaceFieldRun(run, findStr, String.valueOf(fields.get(key)));\n                }\n            }\n        }\n    }\n\n    public static void replaceFieldsTable(XWPFTable table, JSONObject fields){\n        /** this method is responsible for replacing any ocurrences in the table of any of the keyTags\n         * present in the JSONObject fields by the corresponding value */\n\n        if( table.getNumberOfRows() &gt; 0){\n            for(XWPFTableRow row : table.getRows()){                                        // iterate over rows\n                for( XWPFTableCell cell : row.getTableCells()){                             // iterate over columns\n                    if( cell.getParagraphs() != null &amp;&amp; cell.getParagraphs().size()&gt;0){\n                        for(XWPFParagraph paragraph : cell.getParagraphs()){                // get cell paragraphs\n                            replaceFieldsParagraph(paragraph, fields);                      // replacing existing keyTags in paragraph\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public static void checkAndReplaceFieldRun(XWPFRun run, String findStr, String value){\n        String runText = run.getText(0);\n        if( runText!= null &amp;&amp; runText.contains(findStr)){\n            runText = runText.replace(findStr, value);\n            run.setText(runText, 0);\n        }\n    }\n\n    public static void mergeRunsWithSplittedKeyTags(XWPFParagraph paragraph){\n        /**\n         A run is a part of the paragraph that has the same formatting.\n         Word separates the text in paragraphs by different runs in a almost 'random' way,\n         sometimes the tag we are looking for is splitted across multiple runs.\n         This method merges the runs that have a keyTag or part of one,\n         so that the keyTag starting with &quot;{#&quot; and ending with &quot;#}&quot; is in the same run\n        */\n        String runText;\n        XWPFRun run, nextRun;\n\n        List&lt;XWPFRun&gt; runs = paragraph.getRuns();\n\n        for( int i=0 ; i&lt;runs.size(); i++){\n            run = runs.get(i);\n            runText = run.getText(0);\n            if( runText != null &amp;&amp;\n                    (runText.contains(&quot;{#&quot;) ||  // current run has the complete separator &quot;{#&quot;\n                        (runText.contains(&quot;{&quot;) &amp;&amp; (runs.get(i + 1).getText(0)!=null &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;#&quot;))))){   //current run has the first char, next run has the second char\n\n                while( !openTagMatchesCloseTag(runText) ){\n                    nextRun = runs.get(i + 1);\n                    runText = runText + nextRun.getText(0);\n                    paragraph.removeRun(i + 1);\n                }\n                run.setText(runText, 0); // if we don't set with arg pos=0 it doesn't replace the contents, it adds to them and repeats chars\n            }\n        }\n    }\n\n    public static boolean openTagMatchesCloseTag(String runText){\n        /** This method validates if we have a complete run.\n         * Either by having no keyTags present, or by having a complete keyTag.\n         * If we have parts of a keyTag, but not the complete one, returns false.*/\n        int incompleteOpenTagCount = runText.split(&quot;\\\\{&quot;, -1).length - 1;   // &quot;{&quot;\n        int completeOpenTagCount = runText.split(&quot;\\\\{#&quot;, -1).length - 1;    // &quot;{#&quot;\n        int completeCloseTagCount = runText.split(&quot;#}&quot;, -1).length - 1;     // &quot;#}&quot;\n\n        if(completeOpenTagCount&gt;0){  // we already have open and close tags, compare the counts\n            return completeOpenTagCount == completeCloseTagCount;\n        } else {\n            if( incompleteOpenTagCount&gt;0 ){   // we only have a &quot;{&quot; not the whole &quot;{#&quot;\n                return false;\n            }\n        }\n\n        //doesn't have neither &quot;{&quot; nor &quot;{#&quot;, so there's no need to close tags\n        return true;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661415505,"creation_date":1661415505,"answer_id":73484154,"question_id":22268898,"body_markdown":"Based on Dmitry&#39;s answer which helped me a lot, I found a senario where first run finds only the `$` character and this leaves the text unchanged.\r\n\r\nI changed the code a little bit in order to handle these senarios too.\r\n\r\n    if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\r\n      String tempRunsText = runsText;\r\n      if (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).charAt(0) == &#39;{&#39;) {\r\n        nextRun = runs.get(i + 1);\r\n        tempRunsText = runsText + nextRun.getText(0);\r\n      }\r\n      //As the next run may has a closed tag and an open tag at\r\n      //the same time, we have to be sure that our building string\r\n      //has a fully completed tags\r\n      while (!openTagCountIsEqualCloseTagCount(tempRunsText)) {\r\n        nextRun = runs.get(i + 1);\r\n\r\n        if (!nextRun.getText(0).equals(&quot;{&quot;)  || (nextRun.getText(0).equals(&quot;{&quot;) &amp;&amp; !tempRunsText.contains(&quot;{&quot;))) {\r\n          tempRunsText = tempRunsText + nextRun.getText(0);\r\n        }\r\n\r\n        paragraph.removeRun(i + 1);\r\n      }\r\n\r\n      runsText = tempRunsText;\r\n\r\n\t  run.setText(runsText.contains(find) ?\r\n\t    runsText.replace(find, fieldsForReport.get(key)) :\r\n\t    runsText, 0);\r\n    }","title":"Replacing a text in Apache POI XWPF","body":"<p>Based on Dmitry's answer which helped me a lot, I found a senario where first run finds only the <code>$</code> character and this leaves the text unchanged.</p>\n<p>I changed the code a little bit in order to handle these senarios too.</p>\n<pre><code>if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\n  String tempRunsText = runsText;\n  if (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).charAt(0) == '{') {\n    nextRun = runs.get(i + 1);\n    tempRunsText = runsText + nextRun.getText(0);\n  }\n  //As the next run may has a closed tag and an open tag at\n  //the same time, we have to be sure that our building string\n  //has a fully completed tags\n  while (!openTagCountIsEqualCloseTagCount(tempRunsText)) {\n    nextRun = runs.get(i + 1);\n\n    if (!nextRun.getText(0).equals(&quot;{&quot;)  || (nextRun.getText(0).equals(&quot;{&quot;) &amp;&amp; !tempRunsText.contains(&quot;{&quot;))) {\n      tempRunsText = tempRunsText + nextRun.getText(0);\n    }\n\n    paragraph.removeRun(i + 1);\n  }\n\n  runsText = tempRunsText;\n\n  run.setText(runsText.contains(find) ?\n    runsText.replace(find, fieldsForReport.get(key)) :\n    runsText, 0);\n}\n</code></pre>\n"}],"owner":{"account_id":3270338,"reputation":1836,"user_id":2753864,"accept_rate":61,"display_name":"Gagan93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95995,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":22269035,"answer_count":11,"score":56,"last_activity_date":1672184030,"creation_date":1394279185,"question_id":22268898,"body_markdown":"I just found Apache POI library very useful for editing Word files using Java. Specifically, I want to edit a **DOCX** file using Apache POI&#39;s XWPF classes. I found no proper method / documentation following which I could do this. Can somebody please explain in steps, how to replace some text in a DOCX file.\r\n\r\n ** The text may be in a line / paragraph or in a table row/column","title":"Replacing a text in Apache POI XWPF","body":"<p>I just found Apache POI library very useful for editing Word files using Java. Specifically, I want to edit a <strong>DOCX</strong> file using Apache POI's XWPF classes. I found no proper method / documentation following which I could do this. Can somebody please explain in steps, how to replace some text in a DOCX file.</p>\n<p>** The text may be in a line / paragraph or in a table row/column</p>\n"},{"tags":["java","swing","jtextarea","bufferedwriter"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1450965836,"post_id":34452343,"comment_id":56649356,"body_markdown":"See also [`JTextComponent.write(Writer)`](http://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html#write-java.io.Writer-) ..","body":"See also <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/swing/text/JTextComponent.html#write-java.io.Writer-\" rel=\"nofollow noreferrer\"><code>JTextComponent.write(Writer)</code></a> .."}],"answers":[{"tags":[],"owner":{"account_id":7523089,"reputation":31,"user_id":5714314,"display_name":"Frankie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672183665,"creation_date":1451300642,"answer_id":34492336,"question_id":34452343,"body_markdown":"I tried it myself. As I said there was a problem using the split method on strings. I changed this now to use a Scanner. To be correct, I use some ideas from https://stackoverflow.com/questions/3516957/how-do-i-use-system-getpropertyline-separator-tostring\r\n\r\nSo in the end I just changed the multiLineWrite Method to use the Scanner (from the util package). It looks like this:\r\n\r\n    public void multiLineWriter(BufferedWriter out, String areaText) {\r\n\t\tList&lt;String&gt; slines = new ArrayList&lt;String&gt;();\r\n\t\ttry {\r\n\t\t\tScanner sc = new Scanner(areaText);\r\n\t\t\twhile (sc.hasNextLine()) {\r\n\t\t\t\tslines.add(sc.nextLine());\r\n\t\t\t}\r\n\t\t\tint slineCount = slines.size();\r\n\t\t\tout.write(&quot;&quot;+slineCount);\r\n\t\t\tout.newLine();\r\n\t\t\tfor(int i = 0;i&lt;slineCount;i++) {\r\n\t\t\t\tout.write(slines.get(i));\r\n\t\t\t\tout.newLine();\r\n\t\t\t}\r\n\t\t} catch(Exception e) {}\r\n\t}\r\nSo now this seems to be reliable for me. I did a test with parallel writing of the split method and the Scanner method, and the split method had the *wrong* line count and the Scanner was correct.\r\n","title":"Reliable saving JTextArea string in multi entry text file","body":"<p>I tried it myself. As I said there was a problem using the split method on strings. I changed this now to use a Scanner. To be correct, I use some ideas from <a href=\"https://stackoverflow.com/questions/3516957/how-do-i-use-system-getpropertyline-separator-tostring\">How do I use System.getProperty(&quot;line.separator&quot;).toString()?</a></p>\n<p>So in the end I just changed the multiLineWrite Method to use the Scanner (from the util package). It looks like this:</p>\n<pre><code>public void multiLineWriter(BufferedWriter out, String areaText) {\n    List&lt;String&gt; slines = new ArrayList&lt;String&gt;();\n    try {\n        Scanner sc = new Scanner(areaText);\n        while (sc.hasNextLine()) {\n            slines.add(sc.nextLine());\n        }\n        int slineCount = slines.size();\n        out.write(&quot;&quot;+slineCount);\n        out.newLine();\n        for(int i = 0;i&lt;slineCount;i++) {\n            out.write(slines.get(i));\n            out.newLine();\n        }\n    } catch(Exception e) {}\n}\n</code></pre>\n<p>So now this seems to be reliable for me. I did a test with parallel writing of the split method and the Scanner method, and the split method had the <em>wrong</em> line count and the Scanner was correct.</p>\n"}],"owner":{"account_id":7523089,"reputation":31,"user_id":5714314,"display_name":"Frankie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672183910,"creation_date":1450957721,"question_id":34452343,"body_markdown":"I have a software that stores its data in multible nested data objects. On saving this project data, every instance gets an out handle (BufferedWriter) and writes its own data. Most data is single line and no problem, but there are a few multiline strings that come from JTextAreas. For storing them, I wrote a sub method multiLineWriter(), that splits the string in single lines, writes the number of lines and then the single lines. In theory. Because its not always working. Often it writes out the line count as 1 but then writes out two lines. Or it writes out 1, but writes out two lines with text and an empty line. Its not reliable. After loading the project back, often the complete data is destroyed. A typcal object saving block looks like this:\r\n\r\n    \t// *** write data to file\r\n\tpublic void writeDataFile(BufferedWriter out) {\r\n\t\ttry {\r\n\t\t\tout.write(&quot;&quot;+getHeadline() );\r\n\t\t\tout.newLine();\r\n\t\t\tout.write(&quot;&quot;+getStartDateAsString() );\r\n\t\t\tout.newLine();\r\n\t\t\tout.write(&quot;&quot;+getEndDateAsString() );\r\n\t\t\tout.newLine();\r\n\t\t\tout.write(&quot;&quot;+getPlaceIndex() );\r\n\t\t\tout.newLine();\r\n\t\t\tmultiLineWriter(out, getDescription() );\r\n\t\t} catch(Exception e) {}\r\n\t}\r\n\r\n\t// *** read data from File\r\n\tpublic void readDataFile(BufferedReader in) {\r\n\t\ttry {\r\n\t\t\tsetHeadline(in.readLine());\r\n\t\t\tsetStartDateAsString(in.readLine());\r\n\t\t\tsetEndDateAsString(in.readLine());\r\n\t\t\tsetPlaceIndex(in.readLine());\r\n\t\t\tsetDescription(multiLineReader(in));\r\n\t\t} catch(Exception e) {}\r\n\t}\r\nThe multline writer/reader looks like this:\r\n\r\n    public void multiLineWriter(BufferedWriter out, String areaText) {\r\n\t\ttry {\r\n\t\t\tString ls = System.getProperty(&quot;line.separator&quot;);\r\n\t\t\tString[] lines = areaText.split(ls);\r\n\t\t\tint lineCount = lines.length;\r\n\t\t\tout.write(&quot;&quot;+lineCount);\r\n\t\t\tout.newLine();\r\n\t\t\tfor(int i = 0;i&lt;lineCount;i++) {\r\n\t\t\t\tout.write(lines[i]);\r\n\t\t\t\tout.newLine();\r\n\t\t\t}\r\n\t\t} catch(Exception e) {}\r\n\t}\r\n\tpublic String multiLineReader(BufferedReader in) {\r\n\t\tString targetString = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tString ls = System.getProperty(&quot;line.separator&quot;);\r\n\t\t\tint lineCount = Integer.parseInt(in.readLine());\r\n\t\t\tfor(int i = 0;i&lt;lineCount;i++) {\r\n\t\t\t\ttargetString = targetString + in.readLine() + ls;\r\n\t\t\t}\r\n\t\t} catch(Exception e) {}\r\n\t\treturn targetString;\r\n\t}\r\nAs said, lineCount often is 1, but the loop seems to go two or more times because I have sometimes two or three lines after the 1 in a datafile.\r\nThis is not reliable for the project. Do you have an idea how I can change the multiLineWriter/reader to reliably store and read the data? The JTextArea save method does not work in this combined data file format.\r\n\r\n__More info: __\r\n\r\nProperties are a good style for the whole datafile. Since I was allright with the old style seen above most of the times I am sticking to that. Changing the current project to properties is a lot of handwork. \r\n\r\nI reuse the out. I have Project Object, that creates the out. This out is then passed to multiple objects with subobjects, sometimes in loops, and everyone writes it data to this single out. After all data is written the project Object of course flushes and closes the stream. The empty exceptions are no problem in this case, because there are no exceptions (so there is nothing to analyse in a stack trace). Its not an exception problem but a logical problem. \r\n\r\nThe JTextArea read/write is not a good option. At time of saving the file, the data is not in a JTextArea but in a string, that was saved sometime ago during runtime from a JTextArea. To use the write method of JtextArea I would need to restore the string to the area and then use the write method. Because of hundreds of those description objects I would need to do this hundred of times in a save process. Sounds not well. On the other hand I am sure that the read method would not work, because it would read in the datafile up to the end and wouldn&#39;t handle the nested datastructure in the datafile. \r\n\r\nIts not bad to be human readable. Currently this is helping me, to manually correct the values after a save process, so I am not loosing any data (I now this is stupid, but it works:-)\r\n\r\nTo be short: I guess I have a problem with the split method of strings and the content of the strings in the string array.  \r\n\r\nProblem should be made clearer. I have this JTextArea. It is like one field in a display for datasets (its a little private genealogy program that mainly manages hundreds of persons and places). A lot of dataobjects have a description field. Contents of the JTextArea are stored to one single String variable when you change the person in display for example (String personDescription). The writeDataFile() Method you see above is for an event object, that has a description field, too.\r\nSo when I write a File, I write from one String to the file. Since this string is taken from the JTextArea, it contains all new line characters that you can produce in a JTextArea. When storing this with one out.write (data) call you have multiple lines in the resulting data file because of possible new line characters in the String. So you can&#39;t read all this content back with one in.readLine() call. That&#39;s why I created the multiline writers and readers. But they don&#39;t work as expected.\r\nHere I show you an exerpt from the resulting datafile\r\n\r\n    ...\r\n    # +++ FileCollection:\r\n    0\r\n    # +++ ImageCollection:\r\n    0\r\n    58\r\n    true\r\n    Surname\r\n    Arthur\r\n    \r\n    \r\n    \r\n    25.09.1877\r\n    1\r\n    01.01.1950\r\n    6\r\n    https://familysearch.org/\r\n    1\r\n    Bekannt ist, dass er auf dem Friedhof Gro&#223;beerenstr. lag.\r\n    Bekannt ist auch, dass die Trauzeugen bei der Heirat  Dorothea Surname und Hermann Surname waren. Hermann ist vermutlich ein Bruder von Valerie.\r\n    Weitere Informationen gibt es nicht bisher.\r\n    # +++ EventCollection:\r\n    0\r\n    # +++ FileCollection:\r\n    0\r\n    ...\r\nThere is more data before and below, but here is the wrong written data. Its directly below the link to familysearch.org. The first line that follows should have the line count. If there is no text it would have a 0 and the next line would be the info sting &#39;# + EventCollection:&#39;. If there would be one line, it would have a 1 and the next line would be that single line of text for description. Or other numbers depending on the amount of lines from the JTextArea. But as you see, there is written a 1 in this case, but there are 3 (!) Lines of text following.\r\nSo the main problem seems to be the way I work with the split method in the multiLineWriter().\r\n\r\n     String ls = System.getProperty(&quot;line.separator&quot;);\r\n     String[] lines = areaText.split(ls);\r\n     int lineCount = lines.length;\r\n\r\nThis seems to be critical. Since I write the resulting array of the split in a loop, this loop must be done three times? Because I have 3 lines of text in the datafile. But the lineCount is written as a 1? So this seems to be wrong. Could be that this string was not splitted, but still contains line break characters. That would not be what I am looking for. And in the array of splittet Strings there should not be any line break characters anymore (that would destroy the file writing, too).\r\nHope the problem is better described now. And the question is, how should the multiline writer and reader method be designed to store and read this data reliable.\r\n","title":"Reliable saving JTextArea string in multi entry text file","body":"<p>I have a software that stores its data in multible nested data objects. On saving this project data, every instance gets an out handle (BufferedWriter) and writes its own data. Most data is single line and no problem, but there are a few multiline strings that come from JTextAreas. For storing them, I wrote a sub method multiLineWriter(), that splits the string in single lines, writes the number of lines and then the single lines. In theory. Because its not always working. Often it writes out the line count as 1 but then writes out two lines. Or it writes out 1, but writes out two lines with text and an empty line. Its not reliable. After loading the project back, often the complete data is destroyed. A typcal object saving block looks like this:</p>\n<pre><code>    // *** write data to file\npublic void writeDataFile(BufferedWriter out) {\n    try {\n        out.write(&quot;&quot;+getHeadline() );\n        out.newLine();\n        out.write(&quot;&quot;+getStartDateAsString() );\n        out.newLine();\n        out.write(&quot;&quot;+getEndDateAsString() );\n        out.newLine();\n        out.write(&quot;&quot;+getPlaceIndex() );\n        out.newLine();\n        multiLineWriter(out, getDescription() );\n    } catch(Exception e) {}\n}\n\n// *** read data from File\npublic void readDataFile(BufferedReader in) {\n    try {\n        setHeadline(in.readLine());\n        setStartDateAsString(in.readLine());\n        setEndDateAsString(in.readLine());\n        setPlaceIndex(in.readLine());\n        setDescription(multiLineReader(in));\n    } catch(Exception e) {}\n}\n</code></pre>\n<p>The multline writer/reader looks like this:</p>\n<pre><code>public void multiLineWriter(BufferedWriter out, String areaText) {\n    try {\n        String ls = System.getProperty(&quot;line.separator&quot;);\n        String[] lines = areaText.split(ls);\n        int lineCount = lines.length;\n        out.write(&quot;&quot;+lineCount);\n        out.newLine();\n        for(int i = 0;i&lt;lineCount;i++) {\n            out.write(lines[i]);\n            out.newLine();\n        }\n    } catch(Exception e) {}\n}\npublic String multiLineReader(BufferedReader in) {\n    String targetString = &quot;&quot;;\n    try {\n        String ls = System.getProperty(&quot;line.separator&quot;);\n        int lineCount = Integer.parseInt(in.readLine());\n        for(int i = 0;i&lt;lineCount;i++) {\n            targetString = targetString + in.readLine() + ls;\n        }\n    } catch(Exception e) {}\n    return targetString;\n}\n</code></pre>\n<p>As said, lineCount often is 1, but the loop seems to go two or more times because I have sometimes two or three lines after the 1 in a datafile.\nThis is not reliable for the project. Do you have an idea how I can change the multiLineWriter/reader to reliably store and read the data? The JTextArea save method does not work in this combined data file format.</p>\n<p>__More info: __</p>\n<p>Properties are a good style for the whole datafile. Since I was allright with the old style seen above most of the times I am sticking to that. Changing the current project to properties is a lot of handwork.</p>\n<p>I reuse the out. I have Project Object, that creates the out. This out is then passed to multiple objects with subobjects, sometimes in loops, and everyone writes it data to this single out. After all data is written the project Object of course flushes and closes the stream. The empty exceptions are no problem in this case, because there are no exceptions (so there is nothing to analyse in a stack trace). Its not an exception problem but a logical problem.</p>\n<p>The JTextArea read/write is not a good option. At time of saving the file, the data is not in a JTextArea but in a string, that was saved sometime ago during runtime from a JTextArea. To use the write method of JtextArea I would need to restore the string to the area and then use the write method. Because of hundreds of those description objects I would need to do this hundred of times in a save process. Sounds not well. On the other hand I am sure that the read method would not work, because it would read in the datafile up to the end and wouldn't handle the nested datastructure in the datafile.</p>\n<p>Its not bad to be human readable. Currently this is helping me, to manually correct the values after a save process, so I am not loosing any data (I now this is stupid, but it works:-)</p>\n<p>To be short: I guess I have a problem with the split method of strings and the content of the strings in the string array.</p>\n<p>Problem should be made clearer. I have this JTextArea. It is like one field in a display for datasets (its a little private genealogy program that mainly manages hundreds of persons and places). A lot of dataobjects have a description field. Contents of the JTextArea are stored to one single String variable when you change the person in display for example (String personDescription). The writeDataFile() Method you see above is for an event object, that has a description field, too.\nSo when I write a File, I write from one String to the file. Since this string is taken from the JTextArea, it contains all new line characters that you can produce in a JTextArea. When storing this with one out.write (data) call you have multiple lines in the resulting data file because of possible new line characters in the String. So you can't read all this content back with one in.readLine() call. That's why I created the multiline writers and readers. But they don't work as expected.\nHere I show you an exerpt from the resulting datafile</p>\n<pre><code>...\n# +++ FileCollection:\n0\n# +++ ImageCollection:\n0\n58\ntrue\nSurname\nArthur\n\n\n\n25.09.1877\n1\n01.01.1950\n6\nhttps://familysearch.org/\n1\nBekannt ist, dass er auf dem Friedhof Großbeerenstr. lag.\nBekannt ist auch, dass die Trauzeugen bei der Heirat  Dorothea Surname und Hermann Surname waren. Hermann ist vermutlich ein Bruder von Valerie.\nWeitere Informationen gibt es nicht bisher.\n# +++ EventCollection:\n0\n# +++ FileCollection:\n0\n...\n</code></pre>\n<p>There is more data before and below, but here is the wrong written data. Its directly below the link to familysearch.org. The first line that follows should have the line count. If there is no text it would have a 0 and the next line would be the info sting '# + EventCollection:'. If there would be one line, it would have a 1 and the next line would be that single line of text for description. Or other numbers depending on the amount of lines from the JTextArea. But as you see, there is written a 1 in this case, but there are 3 (!) Lines of text following.\nSo the main problem seems to be the way I work with the split method in the multiLineWriter().</p>\n<pre><code> String ls = System.getProperty(&quot;line.separator&quot;);\n String[] lines = areaText.split(ls);\n int lineCount = lines.length;\n</code></pre>\n<p>This seems to be critical. Since I write the resulting array of the split in a loop, this loop must be done three times? Because I have 3 lines of text in the datafile. But the lineCount is written as a 1? So this seems to be wrong. Could be that this string was not splitted, but still contains line break characters. That would not be what I am looking for. And in the array of splittet Strings there should not be any line break characters anymore (that would destroy the file writing, too).\nHope the problem is better described now. And the question is, how should the multiline writer and reader method be designed to store and read this data reliable.</p>\n"},{"tags":["java","spring-boot","modelmapper"],"owner":{"account_id":27368524,"reputation":1,"user_id":20874966,"display_name":"Gvozdoslav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672183355,"creation_date":1672183355,"question_id":74934928,"body_markdown":"I am using ModelMapper to map 3 classes describing Doctor: `DoctorEntity`, `Doctor` and\r\n`DoctorDto`\r\n\r\n```\r\n@Entity\r\npublic class DoctorEntity {\r\n    \r\n    private List&lt;AppointmentEntity&gt; appointmentEntities\r\n    ...\r\n}\r\n```\r\n```\r\npublic class Doctor {\r\n    \r\n    private Map&lt;Long, AppointmentInterface&gt; appointments;\r\n    ...\r\n}\r\n```\r\n```\r\npublic class DoctorDTO {\r\n\r\n    private List&lt;AppointmentDto&gt; appointments;\r\n    ...\r\n}\r\n```\r\n\r\nTo map fields with &#39;List&#39; type to &#39;Map&#39; type I&#39;ve implemented 2 methods:\r\n\r\n```\r\n@Override\r\nprotected void mapSpecificFieldsToModelFromDto(DoctorDto source, Doctor destination) {\r\n\r\n    if (source.getAppointments() != null)\r\n        destination.setAppointments(source.getAppointments()\r\n                .stream()\r\n                .collect(Collectors.toMap(AppointmentDto::getId,\r\n                        elem -&gt; mapper.map(elem, Appointment.class))));\r\n}\r\n```\r\n\r\n\r\n```\r\n@Override\r\nprotected void mapSpecificFieldsToModelFromEntity(DoctorEntity source, Doctor destination) {\r\n\r\n    if (source.getAppointmentEntities() != null)\r\n        destination.setAppointments(source.getAppointmentEntities()\r\n                .stream()\r\n                .collect(Collectors.toMap(AppointmentEntity::getId,\r\n                        elem -&gt; mapper.map(elem, Appointment.class))));\r\n}\r\n```\r\n\r\nThese methods configure DoctorMapper by this method in DoctorMapper class, where I&#39;m setting the TypeMaps and PostConverters:\r\n\r\n```\r\n@PostConstruct\r\npublic void setupMapper() {\r\n    mapper.createTypeMap(DoctorEntity.class, Doctor.class)\r\n            .setPostConverter(toModelFromEntityConverter());\r\n    mapper.createTypeMap(Doctor.class, DoctorEntity.class)\r\n            .setPostConverter(toEntityFromModelConverter());\r\n    mapper.createTypeMap(Doctor.class, DoctorDto.class)\r\n            .setPostConverter(toDtoFromModelConverter());\r\n    mapper.createTypeMap(DoctorDto.class, Doctor.class)\r\n            .setPostConverter(toModelFromDtoConverter());\r\n}\r\n```\r\n\r\nDoctorMapper is inherited from the AbstractMapper class and it also inherit to*From*Converter() methods from an abstract class:\r\n\r\n\r\n```\r\nprotected Converter&lt;E, M&gt; toModelFromEntityConverter() {\r\n    return context -&gt; {\r\n        E source = context.getSource();\r\n        M destination = context.getDestination();\r\n        mapSpecificFieldsToModelFromEntity(source, destination);\r\n        return context.getDestination();\r\n    };\r\n}\r\n\r\nprotected Converter&lt;M, E&gt; toEntityFromModelConverter() {\r\n    return context -&gt; {\r\n        M source = context.getSource();\r\n        E destination = context.getDestination();\r\n        mapSpecificFieldsToEntityFromModel(source, destination);\r\n        return context.getDestination();\r\n    };\r\n}\r\n\r\nprotected Converter&lt;M, D&gt; toDtoFromModelConverter() {\r\n    return context -&gt; {\r\n        M source = context.getSource();\r\n        D destination = context.getDestination();\r\n        mapSpecificFieldsToDtoFromModel(source, destination);\r\n        return context.getDestination();\r\n    };\r\n}\r\n\r\nprotected Converter&lt;D, M&gt; toModelFromDtoConverter() {\r\n    return context -&gt; {\r\n        D source = context.getSource();\r\n        M destination = context.getDestination();\r\n        mapSpecificFieldsToModelFromDto(source, destination);\r\n        return context.getDestination();\r\n    };\r\n}\r\n```\r\n\r\nI&#39;ve written two test to check the mapping proccess works as I expect. But the first one is passing and another one is falling:\r\n\r\n```\r\n@Autowired\r\nprivate Mapper&lt;DoctorEntity, Doctor, DoctorDto&gt; doctorMapper;\r\n\r\n@Test\r\nvoid mapEntityToModel() {\r\n    DoctorEntity doctorEntity = new DoctorEntity(1L,\r\n            ...\r\n            List.of(new AppointmentEntity(1L,\r\n                            LocalDate.now(),\r\n                            AppointmentState.OPEN,\r\n                            null,\r\n                            null,\r\n                            null)\r\n            ));\r\n\r\n    Doctor doctor = doctorMapper.toModelFromEntity(doctorEntity);\r\n\r\n\r\n    doctorEntity.getAppointments().forEach(a -&gt; assertTrue(doctor.getAppointments().containsKey(a.getId())));\r\n}\r\n```\r\n\r\n\r\n```\r\n@Autowired\r\nprivate Mapper&lt;DoctorEntity, Doctor, DoctorDto&gt; doctorMapper;\r\n\r\nvoid mapDtoToModel() {\r\n        DoctorDto doctorDto = new DoctorDto(1L,\r\n                ...\r\n                List.of(new AppointmentDto(1L,\r\n                                LocalDate.now(),\r\n                                AppointmentState.OPEN,\r\n                                null,\r\n                                null,\r\n                                null)\r\n                ));\r\n\r\n        Doctor doctor = doctorMapper.toModelFromDto(doctorDto);\r\n\r\n        doctorDto.getAppointments().forEach(a -&gt; assertTrue(doctor.getAppointments().containsKey(a.getId())));\r\n    }\r\n```\r\n\r\n\r\nSo, the issue occurs when `ModelMapper` tries to map `DoctorDTO` to `Doctor`\r\n\r\n\r\n```\r\n1) Failed to instantiate instance of destination java.util.Map. Ensure that java.util.Map has a non-private no-argument constructor.\r\n```\r\n\r\n\r\nSurprisingly for me, `DoctorMapper` maps `Entity` to `Model` correctly.&lt;br&gt;\r\nSo, after I&#39;ve read an exception, I&#39;ve changed the `Map` type to the `HashMap` in the `Doctor` class and it worked.&lt;br&gt;\r\nBut I have no ideas why it works and why `ModelMapper` can&#39;t use the `HashMap` implementation to construct field with `Map` type in `Doctor` class.\r\nAs I understood from official `ModelMapper`&#39;s repository on GitHub the issues related to this was marked as solved long ago, but I&#39;ve tried to do everything from the solutions of these issues and it didn&#39;t help me.","title":"ModelMapper throws an exception while mapping from List to Map","body":"<p>I am using ModelMapper to map 3 classes describing Doctor: <code>DoctorEntity</code>, <code>Doctor</code> and\n<code>DoctorDto</code></p>\n<pre><code>@Entity\npublic class DoctorEntity {\n    \n    private List&lt;AppointmentEntity&gt; appointmentEntities\n    ...\n}\n</code></pre>\n<pre><code>public class Doctor {\n    \n    private Map&lt;Long, AppointmentInterface&gt; appointments;\n    ...\n}\n</code></pre>\n<pre><code>public class DoctorDTO {\n\n    private List&lt;AppointmentDto&gt; appointments;\n    ...\n}\n</code></pre>\n<p>To map fields with 'List' type to 'Map' type I've implemented 2 methods:</p>\n<pre><code>@Override\nprotected void mapSpecificFieldsToModelFromDto(DoctorDto source, Doctor destination) {\n\n    if (source.getAppointments() != null)\n        destination.setAppointments(source.getAppointments()\n                .stream()\n                .collect(Collectors.toMap(AppointmentDto::getId,\n                        elem -&gt; mapper.map(elem, Appointment.class))));\n}\n</code></pre>\n<pre><code>@Override\nprotected void mapSpecificFieldsToModelFromEntity(DoctorEntity source, Doctor destination) {\n\n    if (source.getAppointmentEntities() != null)\n        destination.setAppointments(source.getAppointmentEntities()\n                .stream()\n                .collect(Collectors.toMap(AppointmentEntity::getId,\n                        elem -&gt; mapper.map(elem, Appointment.class))));\n}\n</code></pre>\n<p>These methods configure DoctorMapper by this method in DoctorMapper class, where I'm setting the TypeMaps and PostConverters:</p>\n<pre><code>@PostConstruct\npublic void setupMapper() {\n    mapper.createTypeMap(DoctorEntity.class, Doctor.class)\n            .setPostConverter(toModelFromEntityConverter());\n    mapper.createTypeMap(Doctor.class, DoctorEntity.class)\n            .setPostConverter(toEntityFromModelConverter());\n    mapper.createTypeMap(Doctor.class, DoctorDto.class)\n            .setPostConverter(toDtoFromModelConverter());\n    mapper.createTypeMap(DoctorDto.class, Doctor.class)\n            .setPostConverter(toModelFromDtoConverter());\n}\n</code></pre>\n<p>DoctorMapper is inherited from the AbstractMapper class and it also inherit to<em>From</em>Converter() methods from an abstract class:</p>\n<pre><code>protected Converter&lt;E, M&gt; toModelFromEntityConverter() {\n    return context -&gt; {\n        E source = context.getSource();\n        M destination = context.getDestination();\n        mapSpecificFieldsToModelFromEntity(source, destination);\n        return context.getDestination();\n    };\n}\n\nprotected Converter&lt;M, E&gt; toEntityFromModelConverter() {\n    return context -&gt; {\n        M source = context.getSource();\n        E destination = context.getDestination();\n        mapSpecificFieldsToEntityFromModel(source, destination);\n        return context.getDestination();\n    };\n}\n\nprotected Converter&lt;M, D&gt; toDtoFromModelConverter() {\n    return context -&gt; {\n        M source = context.getSource();\n        D destination = context.getDestination();\n        mapSpecificFieldsToDtoFromModel(source, destination);\n        return context.getDestination();\n    };\n}\n\nprotected Converter&lt;D, M&gt; toModelFromDtoConverter() {\n    return context -&gt; {\n        D source = context.getSource();\n        M destination = context.getDestination();\n        mapSpecificFieldsToModelFromDto(source, destination);\n        return context.getDestination();\n    };\n}\n</code></pre>\n<p>I've written two test to check the mapping proccess works as I expect. But the first one is passing and another one is falling:</p>\n<pre><code>@Autowired\nprivate Mapper&lt;DoctorEntity, Doctor, DoctorDto&gt; doctorMapper;\n\n@Test\nvoid mapEntityToModel() {\n    DoctorEntity doctorEntity = new DoctorEntity(1L,\n            ...\n            List.of(new AppointmentEntity(1L,\n                            LocalDate.now(),\n                            AppointmentState.OPEN,\n                            null,\n                            null,\n                            null)\n            ));\n\n    Doctor doctor = doctorMapper.toModelFromEntity(doctorEntity);\n\n\n    doctorEntity.getAppointments().forEach(a -&gt; assertTrue(doctor.getAppointments().containsKey(a.getId())));\n}\n</code></pre>\n<pre><code>@Autowired\nprivate Mapper&lt;DoctorEntity, Doctor, DoctorDto&gt; doctorMapper;\n\nvoid mapDtoToModel() {\n        DoctorDto doctorDto = new DoctorDto(1L,\n                ...\n                List.of(new AppointmentDto(1L,\n                                LocalDate.now(),\n                                AppointmentState.OPEN,\n                                null,\n                                null,\n                                null)\n                ));\n\n        Doctor doctor = doctorMapper.toModelFromDto(doctorDto);\n\n        doctorDto.getAppointments().forEach(a -&gt; assertTrue(doctor.getAppointments().containsKey(a.getId())));\n    }\n</code></pre>\n<p>So, the issue occurs when <code>ModelMapper</code> tries to map <code>DoctorDTO</code> to <code>Doctor</code></p>\n<pre><code>1) Failed to instantiate instance of destination java.util.Map. Ensure that java.util.Map has a non-private no-argument constructor.\n</code></pre>\n<p>Surprisingly for me, <code>DoctorMapper</code> maps <code>Entity</code> to <code>Model</code> correctly.<br>\nSo, after I've read an exception, I've changed the <code>Map</code> type to the <code>HashMap</code> in the <code>Doctor</code> class and it worked.<br>\nBut I have no ideas why it works and why <code>ModelMapper</code> can't use the <code>HashMap</code> implementation to construct field with <code>Map</code> type in <code>Doctor</code> class.\nAs I understood from official <code>ModelMapper</code>'s repository on GitHub the issues related to this was marked as solved long ago, but I've tried to do everything from the solutions of these issues and it didn't help me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1296539341,"post_id":4859261,"comment_id":5399420,"body_markdown":"Similar to http://stackoverflow.com/questions/4839915/sorting-a-list-based-on-another-lists-values-java/4839994#4839994 but much more clearly defined.","body":"Similar to <a href=\"http://stackoverflow.com/questions/4839915/sorting-a-list-based-on-another-lists-values-java/4839994#4839994\" title=\"sorting a list based on another lists values java\">stackoverflow.com/questions/4839915/&hellip;</a> but much more clearly defined."},{"owner":{"account_id":2767196,"reputation":129,"user_id":2382626,"display_name":"ievgen.garkusha"},"score":0,"creation_date":1637015927,"post_id":4859261,"comment_id":123707707,"body_markdown":"jfyi, here is how it looks with scala stdlib : input.zipWithIndex.sorted.map( _._2). A bit less efficient(you won&#39;t notice the differeentce in most of mundane cases) but painless.","body":"jfyi, here is how it looks with scala stdlib : input.zipWithIndex.sorted.map( _._2). A bit less efficient(you won&#39;t notice the differeentce in most of mundane cases) but painless."},{"owner":{"account_id":12850700,"reputation":927,"user_id":9295698,"display_name":"Kesava Karri"},"score":0,"creation_date":1700647487,"post_id":4859261,"comment_id":136679340,"body_markdown":"So how do we sort one array &amp; then based on its index, simultaneously move the values of another array of same length to respective indexes?\n\nMaking a pair would be the best option or is there a better alternative?\n\nNote: these 2 arrays will be different int arrays and not indices.","body":"So how do we sort one array &amp; then based on its index, simultaneously move the values of another array of same length to respective indexes?  Making a pair would be the best option or is there a better alternative?  Note: these 2 arrays will be different int arrays and not indices."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":107,"is_accepted":true,"score":106,"last_activity_date":1317820383,"creation_date":1296538430,"answer_id":4859279,"question_id":4859261,"body_markdown":"Don&#39;t sort the array to start with. Sort the index array, passing in a comparator which compares values by using them *as* indexes into the array. So you end up with `newIndex` as the result of the sort, and it&#39;s trivial to go from there to the sorted array of actual items.\r\n\r\nAdmittedly that means sorting an array of integers in a custom way - which either means using an `Integer[]` and the standard Java library, or a 3rd party library which has an &quot;IntComparator&quot; interface which can be used in conjunction with a `sort(int[], IntComparator)` type of method.\r\n\r\nEDIT: Okay, here&#39;s an example comparator. For the sake of simplicity I&#39;ll assume you only want to sort an &quot;original&quot; array of strings... and I won&#39;t bother with nullity testing.\r\n\r\n    public class ArrayIndexComparator implements Comparator&lt;Integer&gt;\r\n    {\r\n        private final String[] array;\r\n\r\n        public ArrayIndexComparator(String[] array)\r\n        {\r\n            this.array = array;\r\n        }\r\n\r\n        public Integer[] createIndexArray()\r\n        {\r\n            Integer[] indexes = new Integer[array.length];\r\n            for (int i = 0; i &lt; array.length; i++)\r\n            {\r\n                indexes[i] = i; // Autoboxing\r\n            }\r\n            return indexes;\r\n        }\r\n\r\n        @Override\r\n        public int compare(Integer index1, Integer index2)\r\n        {\r\n             // Autounbox from Integer to int to use as array indexes\r\n            return array[index1].compareTo(array[index2]);\r\n        }\r\n    }\r\n\r\nYou&#39;d use it like this:\r\n\r\n    String[] countries = { &quot;France&quot;, &quot;Spain&quot;, ... };\r\n    ArrayIndexComparator comparator = new ArrayIndexComparator(countries);\r\n    Integer[] indexes = comparator.createIndexArray();\r\n    Arrays.sort(indexes, comparator);\r\n    // Now the indexes are in appropriate order.","title":"Get the indices of an array after sorting?","body":"<p>Don't sort the array to start with. Sort the index array, passing in a comparator which compares values by using them <em>as</em> indexes into the array. So you end up with <code>newIndex</code> as the result of the sort, and it's trivial to go from there to the sorted array of actual items.</p>\n\n<p>Admittedly that means sorting an array of integers in a custom way - which either means using an <code>Integer[]</code> and the standard Java library, or a 3rd party library which has an \"IntComparator\" interface which can be used in conjunction with a <code>sort(int[], IntComparator)</code> type of method.</p>\n\n<p>EDIT: Okay, here's an example comparator. For the sake of simplicity I'll assume you only want to sort an \"original\" array of strings... and I won't bother with nullity testing.</p>\n\n<pre><code>public class ArrayIndexComparator implements Comparator&lt;Integer&gt;\n{\n    private final String[] array;\n\n    public ArrayIndexComparator(String[] array)\n    {\n        this.array = array;\n    }\n\n    public Integer[] createIndexArray()\n    {\n        Integer[] indexes = new Integer[array.length];\n        for (int i = 0; i &lt; array.length; i++)\n        {\n            indexes[i] = i; // Autoboxing\n        }\n        return indexes;\n    }\n\n    @Override\n    public int compare(Integer index1, Integer index2)\n    {\n         // Autounbox from Integer to int to use as array indexes\n        return array[index1].compareTo(array[index2]);\n    }\n}\n</code></pre>\n\n<p>You'd use it like this:</p>\n\n<pre><code>String[] countries = { \"France\", \"Spain\", ... };\nArrayIndexComparator comparator = new ArrayIndexComparator(countries);\nInteger[] indexes = comparator.createIndexArray();\nArrays.sort(indexes, comparator);\n// Now the indexes are in appropriate order.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128749,"reputation":21660,"user_id":326820,"accept_rate":99,"display_name":"Shamim Hafiz - MSFT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296538524,"creation_date":1296538524,"answer_id":4859284,"question_id":4859261,"body_markdown":"One way you could do this is to Wrap the original index and country name into a separate Class. Then sort the Array based on the names. This way, your original indexes will be preserved. ","title":"Get the indices of an array after sorting?","body":"<p>One way you could do this is to Wrap the original index and country name into a separate Class. Then sort the Array based on the names. This way, your original indexes will be preserved. </p>\n"},{"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1296538633,"creation_date":1296538633,"answer_id":4859295,"question_id":4859261,"body_markdown":"    TreeMap&lt;String,Int&gt; map = new TreeMap&lt;String,Int&gt;();\r\n    for( int i : indexes ) {\r\n        map.put( stringarray[i], i );\r\n    }\r\n\r\nNow iterator over map.values() to retrieve the indexes in sort order, and over map.keySet() to get the strings, or over map.entrySet() to get the String-index-Pairs.","title":"Get the indices of an array after sorting?","body":"<pre><code>TreeMap&lt;String,Int&gt; map = new TreeMap&lt;String,Int&gt;();\nfor( int i : indexes ) {\n    map.put( stringarray[i], i );\n}\n</code></pre>\n\n<p>Now iterator over map.values() to retrieve the indexes in sort order, and over map.keySet() to get the strings, or over map.entrySet() to get the String-index-Pairs.</p>\n"},{"tags":[],"owner":{"display_name":"user467871"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494485702,"creation_date":1296538662,"answer_id":4859299,"question_id":4859261,"body_markdown":"What Comes at first Glance is Map them like that\r\n\r\n    Map &lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\r\n    map.put(0, &quot;France&quot;);\r\n    map.put(1, &quot;Spain&quot;);\r\n    map.put(2, &quot;France&quot;);\r\n\r\nand then sort them by value [like that][1] and then you can know their indexes and values (key, values) just print the map\r\n\r\n    Iterator mapIterator = map.keySet().iterator();  \r\n   \r\n    while (mapIterator .hasNext()) {  \r\n         String key = mapIterator.next().toString();  \r\n         String value = map.get(key).toString();  \r\n   \r\n         System.out.println(key + &quot; &quot; + value);  \r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java","title":"Get the indices of an array after sorting?","body":"<p>What Comes at first Glance is Map them like that</p>\n\n<pre><code>Map &lt;Integer, String&gt; map = new HashMap&lt;Integer, String&gt;();\nmap.put(0, \"France\");\nmap.put(1, \"Spain\");\nmap.put(2, \"France\");\n</code></pre>\n\n<p>and then sort them by value <a href=\"https://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\">like that</a> and then you can know their indexes and values (key, values) just print the map</p>\n\n<pre><code>Iterator mapIterator = map.keySet().iterator();  \n\nwhile (mapIterator .hasNext()) {  \n     String key = mapIterator.next().toString();  \n     String value = map.get(key).toString();  \n\n     System.out.println(key + \" \" + value);  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5547319,"reputation":1577,"user_id":4401569,"display_name":"Pratap Koritala"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1494459446,"creation_date":1456823159,"answer_id":35718576,"question_id":4859261,"body_markdown":"Concise way of achieving this with Java 8 Stream API,\r\n\r\n    final String[] strArr = {&quot;France&quot;, &quot;Spain&quot;, &quot;France&quot;};\r\n    int[] sortedIndices = IntStream.range(0, strArr.length)\r\n                    .boxed().sorted((i, j) -&gt; strArr[i].compareTo(strArr[j]) )\r\n                    .mapToInt(ele -&gt; ele).toArray();","title":"Get the indices of an array after sorting?","body":"<p>Concise way of achieving this with Java 8 Stream API,</p>\n\n<pre><code>final String[] strArr = {\"France\", \"Spain\", \"France\"};\nint[] sortedIndices = IntStream.range(0, strArr.length)\n                .boxed().sorted((i, j) -&gt; strArr[i].compareTo(strArr[j]) )\n                .mapToInt(ele -&gt; ele).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3387247,"reputation":161,"user_id":2842964,"display_name":"Mark Wistrom"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469504903,"creation_date":1469504903,"answer_id":38580718,"question_id":4859261,"body_markdown":"I made the following based on @Skeet&#39;s code. I think it is a little more OOPie. I dunno.\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; List&lt;Integer&gt; sortIndex(List&lt;T&gt; in) {\r\n\t\tArrayList&lt;Integer&gt; index = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; in.size(); i++) {\r\n\t\t\tindex.add(i);\r\n\t\t}\r\n\r\n\t\tCollections.sort(index, new Comparator&lt;Integer&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic int compare(Integer idx1, Integer idx2) {\r\n\t\t\t\treturn in.get(idx1).compareTo(in.get(idx2));\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn index;\r\n\t}\r\nInstead of the class that implements the sorting and indexing having the Comparator code for the different objects coming in, the objects in the original array must implement the Comparable interface. It seems many objects of interest have a natural ordering and have the Comparable interface implemented already.\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tList&lt;Integer&gt; a1 = new ArrayList&lt;&gt;(Arrays.asList(2, 3, 9, 4, 1));\r\n\t\t// Just pass in the list to have its indexes sorted by the natural ordering\r\n\t\tList&lt;Integer&gt; idx = sortIndex(a1);\r\n\t\t\t\t\r\n\t\tList&lt;Double&gt; a2 = new ArrayList&lt;&gt;(Arrays.asList(1.0, 5.3, 5.2, -3.1, 0.3));\r\n\t\tidx = sortIndex(a2);\r\n\t\t\r\n\t\tList&lt;numBits&gt; a3 = new ArrayList&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\ta3.add(new numBits(i));\r\n\t\t}\r\n\r\n\t\t// If you need to sort the indexes of your own object, you must implement\r\n\t\t// the Comparable Interface.\r\n\t\tidx = sortIndex(a3);\r\n\t}\r\n\r\n\tstatic class numBits implements Comparable&lt;numBits&gt; {\r\n\t\tprivate int a;\r\n\r\n\t\tpublic numBits(int i) {\r\n\t\t\ta = i;\r\n\t\t}\r\n\r\n\t\tpublic String toString() {\r\n\t\t\treturn Integer.toString(a);\r\n\t\t}\r\n\r\n\t\t// Sort by the total number of bits in the number.\r\n\t\t@Override\r\n\t\tpublic int compareTo(numBits that) {\r\n\t\t\tif (Integer.bitCount(this.a) &lt; Integer.bitCount(that.a))\r\n\t\t\t\treturn -1;\r\n\t\t\tif (Integer.bitCount(this.a) &gt; Integer.bitCount(that.a))\r\n\t\t\t\treturn 1;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}","title":"Get the indices of an array after sorting?","body":"<p>I made the following based on @Skeet's code. I think it is a little more OOPie. I dunno.</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; List&lt;Integer&gt; sortIndex(List&lt;T&gt; in) {\n    ArrayList&lt;Integer&gt; index = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; in.size(); i++) {\n        index.add(i);\n    }\n\n    Collections.sort(index, new Comparator&lt;Integer&gt;() {\n        @Override\n        public int compare(Integer idx1, Integer idx2) {\n            return in.get(idx1).compareTo(in.get(idx2));\n        }\n    });\n\n    return index;\n}\n</code></pre>\n\n<p>Instead of the class that implements the sorting and indexing having the Comparator code for the different objects coming in, the objects in the original array must implement the Comparable interface. It seems many objects of interest have a natural ordering and have the Comparable interface implemented already.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    List&lt;Integer&gt; a1 = new ArrayList&lt;&gt;(Arrays.asList(2, 3, 9, 4, 1));\n    // Just pass in the list to have its indexes sorted by the natural ordering\n    List&lt;Integer&gt; idx = sortIndex(a1);\n\n    List&lt;Double&gt; a2 = new ArrayList&lt;&gt;(Arrays.asList(1.0, 5.3, 5.2, -3.1, 0.3));\n    idx = sortIndex(a2);\n\n    List&lt;numBits&gt; a3 = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 10; i++) {\n        a3.add(new numBits(i));\n    }\n\n    // If you need to sort the indexes of your own object, you must implement\n    // the Comparable Interface.\n    idx = sortIndex(a3);\n}\n\nstatic class numBits implements Comparable&lt;numBits&gt; {\n    private int a;\n\n    public numBits(int i) {\n        a = i;\n    }\n\n    public String toString() {\n        return Integer.toString(a);\n    }\n\n    // Sort by the total number of bits in the number.\n    @Override\n    public int compareTo(numBits that) {\n        if (Integer.bitCount(this.a) &lt; Integer.bitCount(that.a))\n            return -1;\n        if (Integer.bitCount(this.a) &gt; Integer.bitCount(that.a))\n            return 1;\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961485,"reputation":3248,"user_id":1762932,"accept_rate":84,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482461203,"creation_date":1482461203,"answer_id":41294537,"question_id":4859261,"body_markdown":"If having a scenario of repeatedly sorting primitive float or int arrays with positive values, then a method like below yields much better (x3~x4) speed compared to using any comparators:\r\n\r\n    long time = System.currentTimeMillis();\r\n    for (int i = 0; i &lt; iters; i++) {\t\t\t\r\n    \tfloat[] array = RandomUtils.randomFloatArray(-1,  1, 3000);\r\n    \tlong[] valueKeyPairs = new long[array.length]; \r\n        for (int j = 0; j &lt; array.length; ++j) {\r\n        \tvalueKeyPairs[j] = (((long) Float.floatToIntBits(array[j])) &lt;&lt; 32) | (j &amp; 0xffffffffL);\r\n    \t}\r\n        Arrays.sort(valueKeyPairs);\r\n        /**Then use this to retrieve the original value and index*/\r\n        //long l = valueKeyPairs[j];\r\n        //float value = Float.intBitsToFloat((int) (l &gt;&gt; 32));\r\n        //int index = (int) (l);\r\n    }\r\n    long millis = System.currentTimeMillis() - time;","title":"Get the indices of an array after sorting?","body":"<p>If having a scenario of repeatedly sorting primitive float or int arrays with positive values, then a method like below yields much better (x3~x4) speed compared to using any comparators:</p>\n\n<pre><code>long time = System.currentTimeMillis();\nfor (int i = 0; i &lt; iters; i++) {           \n    float[] array = RandomUtils.randomFloatArray(-1,  1, 3000);\n    long[] valueKeyPairs = new long[array.length]; \n    for (int j = 0; j &lt; array.length; ++j) {\n        valueKeyPairs[j] = (((long) Float.floatToIntBits(array[j])) &lt;&lt; 32) | (j &amp; 0xffffffffL);\n    }\n    Arrays.sort(valueKeyPairs);\n    /**Then use this to retrieve the original value and index*/\n    //long l = valueKeyPairs[j];\n    //float value = Float.intBitsToFloat((int) (l &gt;&gt; 32));\n    //int index = (int) (l);\n}\nlong millis = System.currentTimeMillis() - time;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19258963,"reputation":63,"user_id":14075265,"display_name":"StarCue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618311585,"creation_date":1618311585,"answer_id":67073579,"question_id":4859261,"body_markdown":"i found solution.\r\n\r\n    List&lt;String&gt; a = {b, a, d, c};\r\n    List&lt;Integer&gt; b = {2, 1, 4, 3};\r\n\r\nand if `a` sort\r\n\r\n    private void setsortb() {\r\n    List&lt;String&gt; beforeA = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; beforeB = new ArrayList&lt;&gt;();\r\n    beforeA.addAll(a);\r\n    beforeB.addAll(b);\r\n    a.sort();//change like this {a, b, c, d}\r\n    \r\n    for(int i = 0; i &lt; beforeA.size(); i++) {\r\n    int index = beforeA.indexOf(a.get(i));\r\n    b.set(i, beforeB.get(i));\r\n    }\r\n    }\r\n\r\nlike this\r\n\r\nresult\r\n\r\n    a = {a, b, c, d}\r\n    b = {1, 2, 3, 4}","title":"Get the indices of an array after sorting?","body":"<p>i found solution.</p>\n<pre><code>List&lt;String&gt; a = {b, a, d, c};\nList&lt;Integer&gt; b = {2, 1, 4, 3};\n</code></pre>\n<p>and if <code>a</code> sort</p>\n<pre><code>private void setsortb() {\nList&lt;String&gt; beforeA = new ArrayList&lt;&gt;();\nList&lt;Integer&gt; beforeB = new ArrayList&lt;&gt;();\nbeforeA.addAll(a);\nbeforeB.addAll(b);\na.sort();//change like this {a, b, c, d}\n\nfor(int i = 0; i &lt; beforeA.size(); i++) {\nint index = beforeA.indexOf(a.get(i));\nb.set(i, beforeB.get(i));\n}\n}\n</code></pre>\n<p>like this</p>\n<p>result</p>\n<pre><code>a = {a, b, c, d}\nb = {1, 2, 3, 4}\n</code></pre>\n"}],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87409,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":4859279,"answer_count":8,"score":84,"last_activity_date":1672183309,"creation_date":1296538191,"question_id":4859261,"body_markdown":"Suppose the user enter an array, for example:\r\n\r\n    Array = {France, Spain, France, France, Italy, Spain, Spain, Italy}\r\n\r\nwhich I did know the length of it\r\n\r\nthe `index` array would be:\r\n\r\n    index = {0, 1, 2, 3, 4, 5, 6, 7}\r\n\r\nNow, after sorting it using `Arrays.sort(Array);`\r\n\r\n`newArray` will be like:\r\n\r\n    newArray = {France, France, France, Italy, Italy, Spain, Spain, Spain}\r\n\r\nand the `newIndex` will be:\r\n\r\n    newIndex = {0, 2, 3, 4, 7, 1, 5, 6}\r\n\r\n\r\nThe problem is: how can I find the `newIndex` from the input Array?","title":"Get the indices of an array after sorting?","body":"<p>Suppose the user enter an array, for example:</p>\n<pre><code>Array = {France, Spain, France, France, Italy, Spain, Spain, Italy}\n</code></pre>\n<p>which I did know the length of it</p>\n<p>the <code>index</code> array would be:</p>\n<pre><code>index = {0, 1, 2, 3, 4, 5, 6, 7}\n</code></pre>\n<p>Now, after sorting it using <code>Arrays.sort(Array);</code></p>\n<p><code>newArray</code> will be like:</p>\n<pre><code>newArray = {France, France, France, Italy, Italy, Spain, Spain, Spain}\n</code></pre>\n<p>and the <code>newIndex</code> will be:</p>\n<pre><code>newIndex = {0, 2, 3, 4, 7, 1, 5, 6}\n</code></pre>\n<p>The problem is: how can I find the <code>newIndex</code> from the input Array?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"score":1,"creation_date":1672270145,"post_id":8755812,"comment_id":132256931,"body_markdown":"This question has 1 million views due to the extremely generic title that hasn&#39;t reflected the content of the question well until 2022, but I don&#39;t understand why OP didn&#39;t simply [run the code](https://web.archive.org/web/20170723230450/http://importblogkit.com/2017/02/will-this-work/) to see what the output was, unless I&#39;m misunderstanding the question.","body":"This question has 1 million views due to the extremely generic title that hasn&#39;t reflected the content of the question well until 2022, but I don&#39;t understand why OP didn&#39;t simply <a href=\"https://web.archive.org/web/20170723230450/http://importblogkit.com/2017/02/will-this-work/\" rel=\"nofollow noreferrer\">run the code</a> to see what the output was, unless I&#39;m misunderstanding the question."}],"answers":[{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1524460638,"creation_date":1325842473,"answer_id":8755826,"question_id":8755812,"body_markdown":"It contains the allocated size, `10`. The unassigned indexes will contain the default value which is `0` for `int`.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>It contains the allocated size, <code>10</code>. The unassigned indexes will contain the default value which is <code>0</code> for <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1325842495,"creation_date":1325842495,"answer_id":8755835,"question_id":8755812,"body_markdown":"In Java, your &quot;actual&quot; and &quot;logical&quot; size are the same. The run-time fills all array slots with default values upon allocation. So, your `a` contains 10. ","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>In Java, your \"actual\" and \"logical\" size are the same. The run-time fills all array slots with default values upon allocation. So, your <code>a</code> contains 10. </p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1374606364,"creation_date":1325842551,"answer_id":8755851,"question_id":8755812,"body_markdown":"First of all, `length` is a property, so it would be `arr.length` instead of `arr.length()`.\r\n\r\nAnd it will return 10, the declared size. The elements that you do not declare explicitely are initialized with 0.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>First of all, <code>length</code> is a property, so it would be <code>arr.length</code> instead of <code>arr.length()</code>.</p>\n\n<p>And it will return 10, the declared size. The elements that you do not declare explicitely are initialized with 0.</p>\n"},{"tags":[],"owner":{"account_id":1142111,"reputation":518,"user_id":1125699,"accept_rate":93,"display_name":"Ramon Saraiva"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1325843033,"creation_date":1325843033,"answer_id":8755930,"question_id":8755812,"body_markdown":"Arrays are static memory allocation, so if you initialize an array of integers:\r\n\r\n    int[] intArray = new int[15];\r\n\r\nThe length will be **always** 15, no matter how many indexes are filled.\r\n\r\nAnd another thing, when you intialize an array of integers, *all the indexes will be filled with &quot;0&quot;.*","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>Arrays are static memory allocation, so if you initialize an array of integers:</p>\n\n<pre><code>int[] intArray = new int[15];\n</code></pre>\n\n<p>The length will be <strong>always</strong> 15, no matter how many indexes are filled.</p>\n\n<p>And another thing, when you intialize an array of integers, <em>all the indexes will be filled with \"0\".</em></p>\n"},{"tags":[],"owner":{"account_id":28913,"reputation":1908,"user_id":77643,"accept_rate":100,"display_name":"Tom Elliott"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1325843051,"creation_date":1325843051,"answer_id":8755933,"question_id":8755812,"body_markdown":"In this case, arr.length will return 10, the size of array you allocated. Logical size doesn&#39;t really apply here, as this is a fixed length array.\r\n\r\nWhen you initialize the array:\r\n\r\n    int[] arr = new int[10];\r\n\r\nJava will create an array with 10 elements and initialize all of these to 0. See the [Java language spec][1] for details of initial values for this and other primitive types.\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.12.5","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>In this case, arr.length will return 10, the size of array you allocated. Logical size doesn't really apply here, as this is a fixed length array.</p>\n\n<p>When you initialize the array:</p>\n\n<pre><code>int[] arr = new int[10];\n</code></pre>\n\n<p>Java will create an array with 10 elements and initialize all of these to 0. See the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.12.5\" rel=\"noreferrer\">Java language spec</a> for details of initial values for this and other primitive types.</p>\n"},{"tags":[],"owner":{"account_id":1144913,"reputation":178,"user_id":1127908,"display_name":"Turix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1325843753,"creation_date":1325843753,"answer_id":8756039,"question_id":8755812,"body_markdown":"It will contain the actual size of the array as that is what you initialized the array to be when you declared it. Java has no concept of the &quot;logical&quot; size of an array, as far as it is concerned the default value of 0 is just as logical as the values you have manually set.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>It will contain the actual size of the array as that is what you initialized the array to be when you declared it. Java has no concept of the \"logical\" size of an array, as far as it is concerned the default value of 0 is just as logical as the values you have manually set.</p>\n"},{"tags":[],"owner":{"account_id":2655759,"reputation":9,"user_id":2296512,"display_name":"Godlu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524461212,"creation_date":1366310612,"answer_id":16090755,"question_id":8755812,"body_markdown":"It should be:\r\n\r\n    int a = arr.length;\r\n\r\nParenthesis should be avoided.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>It should be:</p>\n\n<pre><code>int a = arr.length;\n</code></pre>\n\n<p>Parenthesis should be avoided.</p>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429517136,"creation_date":1429517136,"answer_id":29742324,"question_id":8755812,"body_markdown":"It contains the allocated size, 10. The remaining indexes will contain the default value which is 0.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>It contains the allocated size, 10. The remaining indexes will contain the default value which is 0.</p>\n"},{"tags":[],"owner":{"account_id":7266291,"reputation":75,"user_id":5540850,"accept_rate":75,"display_name":"Struse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451687067,"creation_date":1451687067,"answer_id":34560650,"question_id":8755812,"body_markdown":"If you want the logical size of the array, you can traverse all the values in the array and check them against zero. Increment the value if it is not zero and that would be the logical size. Because array size is fixed, you do not have any inbuilt method, may be you should have a look at collections.\r\n","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>If you want the logical size of the array, you can traverse all the values in the array and check them against zero. Increment the value if it is not zero and that would be the logical size. Because array size is fixed, you do not have any inbuilt method, may be you should have a look at collections.</p>\n"},{"tags":[],"owner":{"account_id":4934417,"reputation":31,"user_id":3973056,"display_name":"Ayush Murty A H"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672183102,"creation_date":1452181215,"answer_id":34659214,"question_id":8755812,"body_markdown":"    int array[] = new int[3];\r\n    array.length;\r\n\r\n\r\nHere we have created an array with a memory space of 3.\r\nThis is how it looks actually:\r\n\r\n```none\r\n0th  1st 2nd ...........&gt;  Index\r\n2     4   5  ...........&gt; Number\r\n```\r\n\r\nAs you can see, the size of this array is 3 but the index of array is only up to 2 since any array starts with 0th index.\r\n\r\nThe second statement&#39;s output shall be 3 since the length of the array is 3. Please don&#39;t get confused between the index value and the length of the array.\r\n","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<pre><code>int array[] = new int[3];\narray.length;\n</code></pre>\n<p>Here we have created an array with a memory space of 3.\nThis is how it looks actually:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0th  1st 2nd ...........&gt;  Index\n2     4   5  ...........&gt; Number\n</code></pre>\n<p>As you can see, the size of this array is 3 but the index of array is only up to 2 since any array starts with 0th index.</p>\n<p>The second statement's output shall be 3 since the length of the array is 3. Please don't get confused between the index value and the length of the array.</p>\n"},{"tags":[],"owner":{"account_id":8450974,"reputation":424,"user_id":6339815,"display_name":"Ravi Pandey"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1524461341,"creation_date":1470368080,"answer_id":38780669,"question_id":8755812,"body_markdown":"To find length of an array `A` you should use the `length` property. It is as `A.length`, do not use `A.length()` its mainly used for size of string related objects.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe length property will always show the total allocated space to the array during initialization. \r\n\r\nIf you ever have any of these kind of problems the simple way is to run it. Happy Programming!\r\n\r\n  [1]: http://i.stack.imgur.com/wi6zO.png","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>To find length of an array <code>A</code> you should use the <code>length</code> property. It is as <code>A.length</code>, do not use <code>A.length()</code> its mainly used for size of string related objects.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wi6zO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wi6zO.png\" alt=\"enter image description here\"></a></p>\n\n<p>The length property will always show the total allocated space to the array during initialization. </p>\n\n<p>If you ever have any of these kind of problems the simple way is to run it. Happy Programming!</p>\n"},{"tags":[],"owner":{"account_id":3087775,"reputation":64,"user_id":3425591,"display_name":"draxil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530097507,"creation_date":1530097507,"answer_id":51061181,"question_id":8755812,"body_markdown":"Java arrays are actually fixed in size, and the other answers explain how .length isn&#39;t really doing what you&#39;d expect. I&#39;d just like to add that given your question what you might want to be using is an ArrayList, that is an array that can grow and shrink:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\r\n\r\nHere the .size() method will show you the number of elements in your list, and you can grow this as you add things.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>Java arrays are actually fixed in size, and the other answers explain how .length isn't really doing what you'd expect. I'd just like to add that given your question what you might want to be using is an ArrayList, that is an array that can grow and shrink:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html</a></p>\n\n<p>Here the .size() method will show you the number of elements in your list, and you can grow this as you add things.</p>\n"},{"tags":[],"owner":{"account_id":14487083,"reputation":149,"user_id":10464617,"display_name":"Salah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538803744,"creation_date":1538803744,"answer_id":52676004,"question_id":8755812,"body_markdown":"if you mean by &quot;logical size&quot;, the index of array, then simply\r\n    int arrayLength = arr.length-1;\r\nsince the the array index starts with &quot;0&quot;, so the logical or &quot;array index&quot; will always be less than the actual size by &quot;one&quot;. ","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>if you mean by \"logical size\", the index of array, then simply\n    int arrayLength = arr.length-1;\nsince the the array index starts with \"0\", so the logical or \"array index\" will always be less than the actual size by \"one\". </p>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540270250,"creation_date":1540270250,"answer_id":52941387,"question_id":8755812,"body_markdown":"      int arr[]={4,7,2,21321,657,12321};\r\n      int length =arr.length;\r\n      System.out.println(length); // will return 6\r\n      \r\n      int arr2[] = new int[10];\r\n       arr2[3] = 4;\r\n      int length2 =arr2.length;\r\n      System.out.println(length2); // // will return 10. all other digits will be 0 initialize because staic memory initialization","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<pre><code>  int arr[]={4,7,2,21321,657,12321};\n  int length =arr.length;\n  System.out.println(length); // will return 6\n\n  int arr2[] = new int[10];\n   arr2[3] = 4;\n  int length2 =arr2.length;\n  System.out.println(length2); // // will return 10. all other digits will be 0 initialize because staic memory initialization\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7078531,"reputation":41,"user_id":5417718,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541379147,"creation_date":1541339901,"answer_id":53141597,"question_id":8755812,"body_markdown":"    int[] arr = new int[10];\r\n\r\n`arr` is an `int` type array which has size `10`. It is an array of `10` elements.\r\nIf we don&#39;t initialize an array by default array elements contains default value. In case of int array default value is `0`.\r\n\r\nlength is a property which is applicable for an array.  \r\nhere `arr.length` will give `10`.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<pre><code>int[] arr = new int[10];\n</code></pre>\n\n<p><code>arr</code> is an <code>int</code> type array which has size <code>10</code>. It is an array of <code>10</code> elements.\nIf we don't initialize an array by default array elements contains default value. In case of int array default value is <code>0</code>.</p>\n\n<p>length is a property which is applicable for an array.<br>\nhere <code>arr.length</code> will give <code>10</code>.</p>\n"},{"tags":[],"owner":{"account_id":18407974,"reputation":27,"user_id":13409112,"display_name":"Poobean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594792374,"creation_date":1594792374,"answer_id":62908401,"question_id":8755812,"body_markdown":"Arrays are allocated memory at compile time in java, so they are static, the elements not explicitly set or modified are set with the default values. You could use some code like this, though it is not recommended as it does not count default values, even if you explicitly initialize them that way, it is also likely to cause bugs down the line. As others said, when looking for the actual size, &quot;.length&quot; must be used instead of &quot;.length()&quot;.\r\n\r\n    public int logicalArrayLength(type[] passedArray) {\r\n        int count = 0;\r\n        for (int i = 0; i &lt; passedArray.length; i++) {\r\n            if (passedArray[i] != defaultValue) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>Arrays are allocated memory at compile time in java, so they are static, the elements not explicitly set or modified are set with the default values. You could use some code like this, though it is not recommended as it does not count default values, even if you explicitly initialize them that way, it is also likely to cause bugs down the line. As others said, when looking for the actual size, &quot;.length&quot; must be used instead of &quot;.length()&quot;.</p>\n<pre><code>public int logicalArrayLength(type[] passedArray) {\n    int count = 0;\n    for (int i = 0; i &lt; passedArray.length; i++) {\n        if (passedArray[i] != defaultValue) {\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20893297,"reputation":321,"user_id":15348175,"display_name":"Ayush Choudhary"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632904059,"creation_date":1632904059,"answer_id":69372924,"question_id":8755812,"body_markdown":"Just to add,\r\n\r\nIn **Java** all the arrays are indexed and declared by **int only**. That is the size of an array `must be specified by an int value and not long or short`. All the arrays index beginning from 0 to ends at **2147483646**. You can store elements up to **2147483647**. If you try to store long (big) elements in the array, you will get performance problems. If you overcome performance problems you should go to the java collections framework.","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>Just to add,</p>\n<p>In <strong>Java</strong> all the arrays are indexed and declared by <strong>int only</strong>. That is the size of an array <code>must be specified by an int value and not long or short</code>. All the arrays index beginning from 0 to ends at <strong>2147483646</strong>. You can store elements up to <strong>2147483647</strong>. If you try to store long (big) elements in the array, you will get performance problems. If you overcome performance problems you should go to the java collections framework.</p>\n"}],"owner":{"account_id":1133437,"reputation":3737,"user_id":1118984,"accept_rate":100,"display_name":"Kiran Bhat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028826,"favorite_count":0,"down_vote_count":7,"up_vote_count":115,"accepted_answer_id":8755826,"answer_count":17,"score":108,"last_activity_date":1672183102,"creation_date":1325842392,"question_id":8755812,"body_markdown":"I declared an array as shown below:\r\n\r\n    int[] arr = new int[10];\r\n\r\nThen I assigned following values to the array:\r\n\r\n    arr[0] = 1;\r\n    arr[1] = 2;\r\n    arr[2] = 3;\r\n    arr[3] = 4;\r\n\r\nThen I declared and initialized an integer variable:\r\n       \r\n    int arrayLength = arr.length;\r\n\r\nWill `arrayLength` contain 10, the allocated size of the array or 4, the count of elements that have been explicitly assigned?","title":"Does a primitive array length reflect the allocated size or the number of assigned elements?","body":"<p>I declared an array as shown below:</p>\n<pre><code>int[] arr = new int[10];\n</code></pre>\n<p>Then I assigned following values to the array:</p>\n<pre><code>arr[0] = 1;\narr[1] = 2;\narr[2] = 3;\narr[3] = 4;\n</code></pre>\n<p>Then I declared and initialized an integer variable:</p>\n<pre><code>int arrayLength = arr.length;\n</code></pre>\n<p>Will <code>arrayLength</code> contain 10, the allocated size of the array or 4, the count of elements that have been explicitly assigned?</p>\n"},{"tags":["java","multithreading","queue"],"answers":[{"tags":[],"owner":{"account_id":5335286,"reputation":39826,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1419518002,"creation_date":1419518002,"answer_id":27648105,"question_id":27648010,"body_markdown":"Get rid of the shared queue, and let each thread have its own. Then, when you get an input, just dispatch it to the queue of appropriate thread that is intended to receive it. ","title":"Feeding several threads with data using Java","body":"<p>Get rid of the shared queue, and let each thread have its own. Then, when you get an input, just dispatch it to the queue of appropriate thread that is intended to receive it. </p>\n"},{"tags":[],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672183100,"creation_date":1419527269,"answer_id":27649216,"question_id":27648010,"body_markdown":"     /*\r\n      * To change this license header, choose License Headers in Project Properties.\r\n      * To change this template file, choose Tools | Templates\r\n      * and open the template in the editor.\r\n      */\r\n     package Application;\r\n\r\n     import java.util.ArrayList;\r\n     import java.util.Scanner;\r\n\r\n     /**\r\n     *\r\n      * @author husseyn\r\n     */\r\n     public class producteurConsomateur {\r\n    \r\n     static Scanner clavier;\r\n     static ArrayList&lt;String&gt; queu;\r\n    \r\n     public static void main(String[] args) {\r\n        queu=new ArrayList&lt;&gt;();\r\n        new Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n                clavier=new Scanner(System.in);\r\n                while (true) {                    \r\n                    try {\r\n                        sleep(1000);\r\n                    } catch (Exception e) {\r\n                    }\r\n                    System.out.print(&quot;tape message :&quot;);\r\n                    String nextLine = clavier.nextLine();\r\n                    \r\n                    queu.add(nextLine);\r\n                   // notifyAll();\r\n                    \r\n                    \r\n                    \r\n                }\r\n            }\r\n            \r\n        }.start();\r\n        \r\n        \r\n        new  Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n            \r\n                while (true) {  \r\n                    try {\r\n                        \r\n                    try {\r\n                        wait();\r\n                    } catch (Exception e) {\r\n                    }\r\n                    synchronized(this){\r\n                    String get = queu.get(0);\r\n                    String[] messageFormat = get.split(&quot;:&quot;);\r\n                    String id=messageFormat[0];\r\n                    if (id.toLowerCase().equals(&quot;id1&quot;)) {\r\n                          String message=messageFormat[0];\r\n                          queu.remove(0);\r\n                          System.out.println(&quot;message recived to thread ID1 :&quot;+message);\r\n                    }}\r\n                    } catch (Exception e) {\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            \r\n        }.start();\r\n        \r\n        new  Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n            \r\n                while (true) {  \r\n                    try {\r\n                        \r\n                    try {\r\n                        wait();\r\n                    } catch (Exception e) {\r\n                    }\r\n                    synchronized(this){\r\n                    String get = queu.get(0);\r\n                    String[] messageFormat = get.split(&quot;:&quot;);\r\n                    String id=messageFormat[0];\r\n                    if (id.toLowerCase().equals(&quot;id3&quot;)) {\r\n                          String message=messageFormat[0];\r\n                          queu.remove(0);\r\n                          System.out.println(&quot;message recived to thread ID3 :&quot;+message);\r\n                    }}\r\n                    } catch (Exception e) {\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            \r\n        }.start();\r\n        \r\n        new  Thread(){\r\n\r\n            @Override\r\n            public void run() {\r\n            \r\n                while (true) {  \r\n                    try {\r\n                        \r\n                    try {\r\n                        wait();\r\n                    } catch (Exception e) {\r\n                    }\r\n                    synchronized(this){\r\n                    String get = queu.get(0);\r\n                    String[] messageFormat = get.split(&quot;:&quot;);\r\n                    String id=messageFormat[0];\r\n                    if (id.toLowerCase().equals(&quot;id2&quot;)) {\r\n                          String message=messageFormat[0];\r\n                          queu.remove(0);\r\n                          System.out.println(&quot;message recived to thread ID2 :&quot;+message);\r\n                    }}\r\n                    } catch (Exception e) {\r\n                    }\r\n                    \r\n                }\r\n            }\r\n            \r\n        }.start();\r\n      }\r\n    \r\n     }\r\n\r\nAnd here I use a shared queue but you have to respect the message format is like id1:hello or id2:lol\r\n","title":"Feeding several threads with data using Java","body":"<pre><code> /*\n  * To change this license header, choose License Headers in Project Properties.\n  * To change this template file, choose Tools | Templates\n  * and open the template in the editor.\n  */\n package Application;\n\n import java.util.ArrayList;\n import java.util.Scanner;\n\n /**\n *\n  * @author husseyn\n */\n public class producteurConsomateur {\n\n static Scanner clavier;\n static ArrayList&lt;String&gt; queu;\n\n public static void main(String[] args) {\n    queu=new ArrayList&lt;&gt;();\n    new Thread(){\n\n        @Override\n        public void run() {\n            clavier=new Scanner(System.in);\n            while (true) {                    \n                try {\n                    sleep(1000);\n                } catch (Exception e) {\n                }\n                System.out.print(&quot;tape message :&quot;);\n                String nextLine = clavier.nextLine();\n                \n                queu.add(nextLine);\n               // notifyAll();\n                \n                \n                \n            }\n        }\n        \n    }.start();\n    \n    \n    new  Thread(){\n\n        @Override\n        public void run() {\n        \n            while (true) {  \n                try {\n                    \n                try {\n                    wait();\n                } catch (Exception e) {\n                }\n                synchronized(this){\n                String get = queu.get(0);\n                String[] messageFormat = get.split(&quot;:&quot;);\n                String id=messageFormat[0];\n                if (id.toLowerCase().equals(&quot;id1&quot;)) {\n                      String message=messageFormat[0];\n                      queu.remove(0);\n                      System.out.println(&quot;message recived to thread ID1 :&quot;+message);\n                }}\n                } catch (Exception e) {\n                }\n                \n            }\n        }\n        \n    }.start();\n    \n    new  Thread(){\n\n        @Override\n        public void run() {\n        \n            while (true) {  \n                try {\n                    \n                try {\n                    wait();\n                } catch (Exception e) {\n                }\n                synchronized(this){\n                String get = queu.get(0);\n                String[] messageFormat = get.split(&quot;:&quot;);\n                String id=messageFormat[0];\n                if (id.toLowerCase().equals(&quot;id3&quot;)) {\n                      String message=messageFormat[0];\n                      queu.remove(0);\n                      System.out.println(&quot;message recived to thread ID3 :&quot;+message);\n                }}\n                } catch (Exception e) {\n                }\n                \n            }\n        }\n        \n    }.start();\n    \n    new  Thread(){\n\n        @Override\n        public void run() {\n        \n            while (true) {  \n                try {\n                    \n                try {\n                    wait();\n                } catch (Exception e) {\n                }\n                synchronized(this){\n                String get = queu.get(0);\n                String[] messageFormat = get.split(&quot;:&quot;);\n                String id=messageFormat[0];\n                if (id.toLowerCase().equals(&quot;id2&quot;)) {\n                      String message=messageFormat[0];\n                      queu.remove(0);\n                      System.out.println(&quot;message recived to thread ID2 :&quot;+message);\n                }}\n                } catch (Exception e) {\n                }\n                \n            }\n        }\n        \n    }.start();\n  }\n\n }\n</code></pre>\n<p>And here I use a shared queue but you have to respect the message format is like id1:hello or id2:lol</p>\n"}],"owner":{"account_id":5146708,"reputation":181,"user_id":4122482,"accept_rate":70,"display_name":"Ryan Fold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27648105,"answer_count":2,"score":1,"last_activity_date":1672183100,"creation_date":1419517313,"question_id":27648010,"body_markdown":"I have a problem with a part of my code. My program have a thread that is getting input from the keyboard and have several threads that are waiting for that input.\r\n\r\nThe users selects first to what thread he is going to send that input. So lets says that we have 3 threads (0,1,2) plus the thread that gets the keyboard input. The user will select first what thread he wants to interact with and after that he will send the actual data to that thread.\r\n\r\nI have a piece of code that is taking care of that process. I use &#180;LinkedBlockingQueue&#180; to achieve it.\r\nThe keyboard thread puts data in the Queue and the &quot;workers&quot; (the other 3 threads) get that data from that queue.\r\n\r\nThe problem is that all the threads are listening for that same Queue so I put an ID in that Queue to let the threads know if the data is directed to them or to other thread.\r\n\r\nHere is the code:\r\n\r\n    Thread Thread_OUT = new Thread(new Runnable() {\r\n    \t\r\n    \t            @SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\t\t@Override\r\n    \t            public void run() {\r\n    \t            \t while(true) {\r\n    \t                try {\r\n    \t                \tObject recibido= sharedQueue.take();\r\n    \t                \tsharedQueue.put(recibido);      \t\r\n    \t                \t//System.out.println(&quot;Im the thread &quot;+ clientID+&quot; and I got &quot;+recibido.toString());\r\n    \t                \tif(Integer.parseInt(recibido.toString())==clientID){ // If it is for me I get the data\r\n    \t                \t\tString x = CommandShellServer.data.get(clientID); // just get the data (it is in a hashmap)\r\n    \t                \t\tCommandShellServer.data.clear(); // empty the hashmap\r\n    \t                \t\tsharedQueue.clear();\r\n    \t                \t\t\r\n    \t                \t\tOUT = do_something(x);\r\n                               \r\n    \t                \t}\r\n    \t                \telse{ // If it is not I will forward it to other thread\r\n    \t                \t\tThread.currentThread().wait(100);\r\n    //\t                \t\tsharedQueue.put(recibido);\r\n    //\t                \t\tsharedQueue.clear();\r\n    \t                \t}\r\n\r\nAs you can see in the code what I do is checking if the thread that is handling the information is the one that is directed to If it is, I process it, and if it is no I put that the data again in the queue to let the other threads to check for it.\r\n\r\n\r\nIf I select the thread 0 to interact with it works. If I select others it doesn&#39;t.\r\n\r\n\r\n\r\n","title":"Feeding several threads with data using Java","body":"<p>I have a problem with a part of my code. My program have a thread that is getting input from the keyboard and have several threads that are waiting for that input.</p>\n<p>The users selects first to what thread he is going to send that input. So lets says that we have 3 threads (0,1,2) plus the thread that gets the keyboard input. The user will select first what thread he wants to interact with and after that he will send the actual data to that thread.</p>\n<p>I have a piece of code that is taking care of that process. I use ´LinkedBlockingQueue´ to achieve it.\nThe keyboard thread puts data in the Queue and the &quot;workers&quot; (the other 3 threads) get that data from that queue.</p>\n<p>The problem is that all the threads are listening for that same Queue so I put an ID in that Queue to let the threads know if the data is directed to them or to other thread.</p>\n<p>Here is the code:</p>\n<pre><code>Thread Thread_OUT = new Thread(new Runnable() {\n    \n                @SuppressWarnings(&quot;unchecked&quot;)\n                @Override\n                public void run() {\n                     while(true) {\n                    try {\n                        Object recibido= sharedQueue.take();\n                        sharedQueue.put(recibido);          \n                        //System.out.println(&quot;Im the thread &quot;+ clientID+&quot; and I got &quot;+recibido.toString());\n                        if(Integer.parseInt(recibido.toString())==clientID){ // If it is for me I get the data\n                            String x = CommandShellServer.data.get(clientID); // just get the data (it is in a hashmap)\n                            CommandShellServer.data.clear(); // empty the hashmap\n                            sharedQueue.clear();\n                            \n                            OUT = do_something(x);\n                           \n                        }\n                        else{ // If it is not I will forward it to other thread\n                            Thread.currentThread().wait(100);\n//                          sharedQueue.put(recibido);\n//                          sharedQueue.clear();\n                        }\n</code></pre>\n<p>As you can see in the code what I do is checking if the thread that is handling the information is the one that is directed to If it is, I process it, and if it is no I put that the data again in the queue to let the other threads to check for it.</p>\n<p>If I select the thread 0 to interact with it works. If I select others it doesn't.</p>\n"},{"tags":["java","soap","apache-camel","cxf","saaj"],"answers":[{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640146236,"creation_date":1640146236,"answer_id":70444121,"question_id":70441245,"body_markdown":"In jax-ws, message-level access can be accomplished on the server side using web service Provider-based endpoints, and on the client side using Dispatch clients.\r\n\r\nA web service Provider-based endpoint offers a dynamic alternative to the Java service endpoint interface (SEI)-based endpoint. Unlike the SEI-based endpoint that abstracts the details of converting between Java objects and their XML representation, the Provider interface enables you to access the content directly at the XML message level—without the JAXB binding. web service Provider-based endpoints can be implemented synchronously or asynchronously using the javax.xml.ws.Provider&lt;T&gt; or com.sun.xml.ws.api.server.AsyncProvider&lt;T&gt; interfaces, respectively. \r\n\r\nSee https://cxf.apache.org/docs/provider-services.html for details","title":"How to implement SOAP Endpoints that receive SOAP XML (SAAJ?) Instead of generated objects using CXF","body":"<p>In jax-ws, message-level access can be accomplished on the server side using web service Provider-based endpoints, and on the client side using Dispatch clients.</p>\n<p>A web service Provider-based endpoint offers a dynamic alternative to the Java service endpoint interface (SEI)-based endpoint. Unlike the SEI-based endpoint that abstracts the details of converting between Java objects and their XML representation, the Provider interface enables you to access the content directly at the XML message level—without the JAXB binding. web service Provider-based endpoints can be implemented synchronously or asynchronously using the javax.xml.ws.Provider or com.sun.xml.ws.api.server.AsyncProvider interfaces, respectively.</p>\n<p>See <a href=\"https://cxf.apache.org/docs/provider-services.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/provider-services.html</a> for details</p>\n"}],"owner":{"account_id":51879,"reputation":367,"user_id":155014,"display_name":"Bert Speckels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70444121,"answer_count":1,"score":0,"last_activity_date":1672182825,"creation_date":1640118422,"question_id":70441245,"body_markdown":"We have currently implemented **SOAP endpoints with CXF** (Spring Boot). In accordance with the contract-first approach, we provide a WSDL, generate Java objects, and services from it (cxf-codegen-plugin) and finally implement the service interface.\r\n\r\nThis is all very nice and simple, but **we only need the SOAP XML or the corresponding DOM tree**. Not only is the conversion to Java objects unnecessary, we also have to convert them back to XML and **lose some information from the original XML**.\r\n\r\nAs far as I understand is **SAAJ** (SOAP with Attachments API for Java) exactly right here, or am I missing something? At most all resources about SAAJ are **quite old** and &quot;low level&quot;. I cannot find good resources for that kind of approach.\r\n\r\nIn addition, we want to implement new services as microservices soon and are currently reviewing **Quarkus** and **Apache Camel**. However, I cannot find a (simple) way to create corresponding endpoints from the WSDLs, via which we then receive the SOAP message as plain XML / DOM tree.","title":"How to implement SOAP Endpoints that receive SOAP XML (SAAJ?) Instead of generated objects using CXF","body":"<p>We have currently implemented <strong>SOAP endpoints with CXF</strong> (Spring Boot). In accordance with the contract-first approach, we provide a WSDL, generate Java objects, and services from it (cxf-codegen-plugin) and finally implement the service interface.</p>\n<p>This is all very nice and simple, but <strong>we only need the SOAP XML or the corresponding DOM tree</strong>. Not only is the conversion to Java objects unnecessary, we also have to convert them back to XML and <strong>lose some information from the original XML</strong>.</p>\n<p>As far as I understand is <strong>SAAJ</strong> (SOAP with Attachments API for Java) exactly right here, or am I missing something? At most all resources about SAAJ are <strong>quite old</strong> and &quot;low level&quot;. I cannot find good resources for that kind of approach.</p>\n<p>In addition, we want to implement new services as microservices soon and are currently reviewing <strong>Quarkus</strong> and <strong>Apache Camel</strong>. However, I cannot find a (simple) way to create corresponding endpoints from the WSDLs, via which we then receive the SOAP message as plain XML / DOM tree.</p>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1672149419,"post_id":74929200,"comment_id":132229735,"body_markdown":"Please follow the standard naming conventions (e.g. class names start with a capital case character).","body":"Please follow the standard naming conventions (e.g. class names start with a capital case character)."}],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672149357,"creation_date":1672149357,"answer_id":74930166,"question_id":74929200,"body_markdown":"Both are fine and depend on your use case. With the first approach you still have direct access to the return value. \r\n\r\nIf you don&#39;t need it (e.g. in your assert statement), then the second approach is fine as well.\r\n\r\nSimple Java rules. Nothing special.","title":"Should I need to create mock object by passing mock values and pass that to thenReturn or can i just pass new Class() in Junit?","body":"<p>Both are fine and depend on your use case. With the first approach you still have direct access to the return value.</p>\n<p>If you don't need it (e.g. in your assert statement), then the second approach is fine as well.</p>\n<p>Simple Java rules. Nothing special.</p>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74930166,"answer_count":1,"score":1,"last_activity_date":1672182719,"creation_date":1672143707,"question_id":74929200,"body_markdown":"\r\nWhich is the better way to write junit?\r\n```java\r\nclassName object = new className(&quot;test&quot;);\r\nwhen(className.someMethod()).thenReturn(object);\r\n``` \r\nOR\r\n```java\r\nwhen(className.someMethod()).thenReturn(new className());\r\n```","title":"Should I need to create mock object by passing mock values and pass that to thenReturn or can i just pass new Class() in Junit?","body":"<p>Which is the better way to write junit?</p>\n<pre class=\"lang-java prettyprint-override\"><code>className object = new className(&quot;test&quot;);\nwhen(className.someMethod()).thenReturn(object);\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(className.someMethod()).thenReturn(new className());\n</code></pre>\n"},{"tags":["java","intellij-idea","minecraft","spigot"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1672161413,"post_id":74932255,"comment_id":132233284,"body_markdown":"`String database= &quot;&quot;database&quot;&quot;;` will not compile.","body":"<code>String database= &quot;&quot;database&quot;&quot;;</code> will not compile."},{"owner":{"account_id":12104221,"reputation":937,"user_id":8843585,"display_name":"Ramon Dias"},"score":2,"creation_date":1672161460,"post_id":74932255,"comment_id":132233294,"body_markdown":"you have to escape the quotes https://stackoverflow.com/a/3844602/8843585","body":"you have to escape the quotes <a href=\"https://stackoverflow.com/a/3844602/8843585\">stackoverflow.com/a/3844602/8843585</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672161474,"post_id":74932255,"comment_id":132233297,"body_markdown":"This looks rather about YAML than Java. `&quot;&#39;database&#39;&quot;` or `&#39;&quot;database&quot;&#39;` should work. Why do you need the quotes though?","body":"This looks rather about YAML than Java. <code>&quot;&#39;database&#39;&quot;</code> or <code>&#39;&quot;database&quot;&#39;</code> should work. Why do you need the quotes though?"},{"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"score":0,"creation_date":1672161527,"post_id":74932255,"comment_id":132233308,"body_markdown":"Escape with back-slash `String database= &quot;\\&quot;database\\&quot;&quot;;`","body":"Escape with back-slash <code>String database= &quot;\\&quot;database\\&quot;&quot;;</code>"},{"owner":{"account_id":27366899,"reputation":1,"user_id":20873585,"display_name":"Mxzzy"},"score":0,"creation_date":1672162283,"post_id":74932255,"comment_id":132233520,"body_markdown":"@K-Galalem then i am getting the output database: &#39;&quot;database&quot;&#39;, keep in mind it is outputting to a config.yml file.","body":"@K-Galalem then i am getting the output database: &#39;&quot;database&quot;&#39;, keep in mind it is outputting to a config.yml file."},{"owner":{"account_id":27366899,"reputation":1,"user_id":20873585,"display_name":"Mxzzy"},"score":0,"creation_date":1672162344,"post_id":74932255,"comment_id":132233538,"body_markdown":"@knittl just for personal preference, i would like them there. Although when i escape quotes i get the output database: &#39;&quot;database&quot;&#39;, keep in mind it is outputting to a YAML file but from one of my java classes as it is saving the default for my config.","body":"@knittl just for personal preference, i would like them there. Although when i escape quotes i get the output database: &#39;&quot;database&quot;&#39;, keep in mind it is outputting to a YAML file but from one of my java classes as it is saving the default for my config."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672163071,"post_id":74932255,"comment_id":132233712,"body_markdown":"@Mxzzy I&#39;m not sure I understand: &quot;for personal preference&quot; – does the value require quotes or not? If quotes can&#39;t be there, you can&#39;t put them there – they will break stuff. If they must be there, then it&#39;s not personal preference. How does your YAML and your Java program come together? How are you using the value from the YAML file?","body":"@Mxzzy I&#39;m not sure I understand: &quot;for personal preference&quot; – does the value require quotes or not? If quotes can&#39;t be there, you can&#39;t put them there – they will break stuff. If they must be there, then it&#39;s not personal preference. How does your YAML and your Java program come together? How are you using the value from the YAML file?"},{"owner":{"account_id":27366899,"reputation":1,"user_id":20873585,"display_name":"Mxzzy"},"score":0,"creation_date":1672163740,"post_id":74932255,"comment_id":132233904,"body_markdown":"@knittl i want the &#39;&#39; there to connect the value if there is any spaces, it works because i have manually edited the config and used them, the java program is a minecraft plugin that connects to mysql, the database connection string is in this config and i want to have quotes surrounding the last 3 values as a user has requested that.","body":"@knittl i want the &#39;&#39; there to connect the value if there is any spaces, it works because i have manually edited the config and used them, the java program is a minecraft plugin that connects to mysql, the database connection string is in this config and i want to have quotes surrounding the last 3 values as a user has requested that."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1672164282,"post_id":74932255,"comment_id":132234061,"body_markdown":"`&#39;&quot;database&quot;&#39;` will not work, but use ` as delimiter (as used in phpmyadmin for example) can work too","body":"<code>&#39;&quot;database&quot;&#39;</code> will not work, but use ` as delimiter (as used in phpmyadmin for example) can work too"}],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672169937,"creation_date":1672167405,"answer_id":74933171,"question_id":74932255,"body_markdown":"Is it Java code though? if you want to print quotes in Java, use [escape character][1]: \r\n\r\n    String javaCodePrintQuotes = &quot;\\&quot;database\\&quot;&quot;;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Escape_character","title":"Using quotes in a java string","body":"<p>Is it Java code though? if you want to print quotes in Java, use <a href=\"https://en.wikipedia.org/wiki/Escape_character\" rel=\"nofollow noreferrer\">escape character</a>:</p>\n<pre><code>String javaCodePrintQuotes = &quot;\\&quot;database\\&quot;&quot;;\n</code></pre>\n"}],"owner":{"account_id":27366899,"reputation":1,"user_id":20873585,"display_name":"Mxzzy"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1672169978,"answer_count":1,"score":-3,"last_activity_date":1672182037,"creation_date":1672161266,"question_id":74932255,"body_markdown":"I am using Java 17, Maven, and i am still learning, my question is why does \r\n\r\n```\r\nString database= &quot;&quot;database&quot;&quot;;\r\n```\r\noutput as \r\n```\r\n&#39;&quot;database&quot;&#39;\r\n```\r\n\r\ni want it to output as &quot;database&quot; but when i do \r\n```\r\nString database = &quot;&quot;database&quot;&quot; it wont work.\r\n```\r\n\r\nit just outputs it with extra &quot; or &#39; added. i need the output to just be &#39;database&#39; or &quot;database&quot; with quotes included but i cannot get it to work.\r\n\r\nI have tried to escape the quotes, using methods i have found online, nothing is working. I am doing this for a minecraft plugin config that keeps outputting wrongly, here is an example.\r\n\r\n```\r\ndatabase:\r\n  host: host\r\n  port: 3306\r\n  database: &#39;&quot;database&quot;&#39;\r\n  username: username\r\n  password: password\r\n```\r\n\r\ni need it to be \r\n\r\n\r\n```\r\ndatabase:\r\n  host: host\r\n  port: 3306\r\n  database: &quot;database&quot; or &#39;database&#39;\r\n  username: username\r\n  password: password\r\n```\r\n\r\n\r\n","title":"Using quotes in a java string","body":"<p>I am using Java 17, Maven, and i am still learning, my question is why does</p>\n<pre><code>String database= &quot;&quot;database&quot;&quot;;\n</code></pre>\n<p>output as</p>\n<pre><code>'&quot;database&quot;'\n</code></pre>\n<p>i want it to output as &quot;database&quot; but when i do</p>\n<pre><code>String database = &quot;&quot;database&quot;&quot; it wont work.\n</code></pre>\n<p>it just outputs it with extra &quot; or ' added. i need the output to just be 'database' or &quot;database&quot; with quotes included but i cannot get it to work.</p>\n<p>I have tried to escape the quotes, using methods i have found online, nothing is working. I am doing this for a minecraft plugin config that keeps outputting wrongly, here is an example.</p>\n<pre><code>database:\n  host: host\n  port: 3306\n  database: '&quot;database&quot;'\n  username: username\n  password: password\n</code></pre>\n<p>i need it to be</p>\n<pre><code>database:\n  host: host\n  port: 3306\n  database: &quot;database&quot; or 'database'\n  username: username\n  password: password\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":10448067,"reputation":777,"user_id":7702557,"display_name":"Kwright02"},"score":0,"creation_date":1672179978,"post_id":74934607,"comment_id":132237683,"body_markdown":"I know the IP listed is a local IP for your database, but please redact/remove passwords entirely","body":"I know the IP listed is a local IP for your database, but please redact/remove passwords entirely"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672242728,"post_id":74934607,"comment_id":132250082,"body_markdown":"Hi Marcos, welcome to stack overflow.  How do you expect the database tables to be created for you?  Are you expecting (I assume) hibernate to create them for you?","body":"Hi Marcos, welcome to stack overflow.  How do you expect the database tables to be created for you?  Are you expecting (I assume) hibernate to create them for you?"},{"owner":{"account_id":23848448,"reputation":13,"user_id":17852661,"display_name":"Marcos Venicius"},"score":0,"creation_date":1672243965,"post_id":74934607,"comment_id":132250476,"body_markdown":"Yeah, i expect that. another tests that i have made just works, but now, i don&#39;t seeing what i&#39;m doing wrong","body":"Yeah, i expect that. another tests that i have made just works, but now, i don&#39;t seeing what i&#39;m doing wrong"}],"answers":[{"tags":[],"owner":{"account_id":3224451,"reputation":1606,"user_id":2721119,"display_name":"GerritCap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672181112,"creation_date":1672181112,"answer_id":74934732,"question_id":74934607,"body_markdown":"Just a hunch: might it be that, by default, there is already a table called USER ?\r\n\r\nSecond hunch: there is an issue with the other entity called UserPermission ?\r\n\r\nI would definitely check logging, if the tables are not created than there must be an error being logged.","title":"Spring boot jpa tables is not being created SQL SERVER","body":"<p>Just a hunch: might it be that, by default, there is already a table called USER ?</p>\n<p>Second hunch: there is an issue with the other entity called UserPermission ?</p>\n<p>I would definitely check logging, if the tables are not created than there must be an error being logged.</p>\n"}],"owner":{"account_id":23848448,"reputation":13,"user_id":17852661,"display_name":"Marcos Venicius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672181528,"creation_date":1672179855,"question_id":74934607,"body_markdown":"The application is running without errors but the tables are not being created\r\n\r\n- i&#39;m using docker, here is my docker file\r\n\r\n```yml\r\nservices:\r\n  sqlserver:\r\n    container_name: todo_list_sqlserver\r\n\r\n    image: mcr.microsoft.com/mssql/server:2019-latest\r\n\r\n    volumes:\r\n      - sqlserver:/var/opt/mssql\r\n\r\n    environment:\r\n      MSSQL_SA_PASSWORD: &quot;#DevEnv123&quot;\r\n      ACCEPT_EULA: &quot;Y&quot;\r\n      MSSQL_PID: &quot;Developer&quot;\r\n\r\n    ports:\r\n      - &quot;127.0.0.1:1430:1433&quot;\r\n\r\n    networks:\r\n      - sqlserver\r\n\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  sqlserver:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  sqlserver:\r\n```\r\n\r\n- i have been configured the application.properties\r\n\r\n```properties\r\nspring.name=&quot;Todo List&quot;\r\n\r\nspring.datasource.url=jdbc:sqlserver://localhost:1430;databaseName=todolist\r\nspring.datasource.username=sa\r\nspring.datasource.password=#DevEnv123\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nserver.port=3000\r\n```\r\n\r\n- the database is created\r\n- and i can connect via beekeeper for example\r\n\r\nbut when i run the application, the tables are not created\r\n\r\nsee how my entities look like:\r\n\r\n```java\r\n...\r\n\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String username;\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private Set&lt;UserPermission&gt; userPermissions;\r\n\r\n    private LocalDateTime createdAt;\r\n}\r\n```\r\n\r\n```java\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Permission {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;permission&quot;)\r\n    private Set&lt;UserPermission&gt; userPermissions;\r\n}\r\n```\r\n\r\n```java\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class UserPermission {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;permission_id&quot;, nullable = false)\r\n    private Permission permission;\r\n\r\n    private LocalDateTime createdAt;\r\n}\r\n```\r\n\r\ni&#39;m a backend developer but, not with java i&#39;m so confuse\r\n\r\nI need that the tables to be created i have tried so much other things but never works.\r\n\r\ni&#39;m using java 17 with maven","title":"Spring boot jpa tables is not being created SQL SERVER","body":"<p>The application is running without errors but the tables are not being created</p>\n<ul>\n<li>i'm using docker, here is my docker file</li>\n</ul>\n<pre class=\"lang-yaml prettyprint-override\"><code>services:\n  sqlserver:\n    container_name: todo_list_sqlserver\n\n    image: mcr.microsoft.com/mssql/server:2019-latest\n\n    volumes:\n      - sqlserver:/var/opt/mssql\n\n    environment:\n      MSSQL_SA_PASSWORD: &quot;#DevEnv123&quot;\n      ACCEPT_EULA: &quot;Y&quot;\n      MSSQL_PID: &quot;Developer&quot;\n\n    ports:\n      - &quot;127.0.0.1:1430:1433&quot;\n\n    networks:\n      - sqlserver\n\n    restart: unless-stopped\n\nnetworks:\n  sqlserver:\n    driver: bridge\n\nvolumes:\n  sqlserver:\n</code></pre>\n<ul>\n<li>i have been configured the application.properties</li>\n</ul>\n<pre><code>spring.name=&quot;Todo List&quot;\n\nspring.datasource.url=jdbc:sqlserver://localhost:1430;databaseName=todolist\nspring.datasource.username=sa\nspring.datasource.password=#DevEnv123\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\nspring.jpa.hibernate.ddl-auto=update\nserver.port=3000\n</code></pre>\n<ul>\n<li>the database is created</li>\n<li>and i can connect via beekeeper for example</li>\n</ul>\n<p>but when i run the application, the tables are not created</p>\n<p>see how my entities look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\n@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String username;\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    private Set&lt;UserPermission&gt; userPermissions;\n\n    private LocalDateTime createdAt;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Permission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n    private String name;\n\n    @OneToMany(mappedBy = &quot;permission&quot;)\n    private Set&lt;UserPermission&gt; userPermissions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class UserPermission {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;permission_id&quot;, nullable = false)\n    private Permission permission;\n\n    private LocalDateTime createdAt;\n}\n</code></pre>\n<p>i'm a backend developer but, not with java i'm so confuse</p>\n<p>I need that the tables to be created i have tried so much other things but never works.</p>\n<p>i'm using java 17 with maven</p>\n"},{"tags":["java","lambda","method-reference"],"answers":[{"tags":[],"owner":{"account_id":296031,"reputation":295,"user_id":600756,"display_name":"Morzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521384995,"creation_date":1521384995,"answer_id":49349316,"question_id":49349261,"body_markdown":"I highly recommend you to read the Oracle&#39;s article about method references: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n\r\nThat is the form of a lambda expression:\r\n\r\n    s-&gt;s.toUpperCase()\r\n\r\nAnd that is a method reference:\r\n \r\n    String::toUpperCase\r\n\r\nSemantically, the method reference is the same as the lambda expression, it just has different syntax. \r\n\r\n","title":"Method reference - Difference between &quot;Reference to a static method&quot; and &quot;Reference to an instance method of an arbitrary object of a particular type&quot;","body":"<p>I highly recommend you to read the Oracle's article about method references: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html</a></p>\n\n<p>That is the form of a lambda expression:</p>\n\n<pre><code>s-&gt;s.toUpperCase()\n</code></pre>\n\n<p>And that is a method reference:</p>\n\n<pre><code>String::toUpperCase\n</code></pre>\n\n<p>Semantically, the method reference is the same as the lambda expression, it just has different syntax. </p>\n"},{"tags":[],"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521385966,"creation_date":1521385300,"answer_id":49349378,"question_id":49349261,"body_markdown":"Method reference quite intelligent feature in Java. So, when you use non-static method reference like `String:toUpperCase` Java automatically comes to know that it needs to call `toUpperCase` on the on the first parameter.Suppose there is two parameter a lambda expression expect then the method will `call` on the `first parameter` and the `second parameter` will pass as an `argument` of the method. Let&#39; take an example.\r\n\r\n\tList&lt;String&gt; empNames = Arrays.asList(&quot;Tom&quot;,&quot;Bob&quot;);\r\n\tString s1 = empNames.stream().reduce(&quot;&quot;,String::concat); //line -1\r\n\tString s2 = empNames.stream().reduce(&quot;&quot;,(a,b)-&gt;a.concat(b)); // line -2\r\n\tSystem.out.println(s1);\r\n\tSystem.out.println(s2);\r\n\r\nSo, on above example on line -1, String#concat method will `call` on the first parameter (that is `a` line-2) and a second parameter (that `b` for line -2) will pass as the `argument`.\r\n\r\nIt is possible for the multiple arguments (more than 2) method also but you need to very careful about the which sequence of the parameters. ","title":"Method reference - Difference between &quot;Reference to a static method&quot; and &quot;Reference to an instance method of an arbitrary object of a particular type&quot;","body":"<p>Method reference quite intelligent feature in Java. So, when you use non-static method reference like <code>String:toUpperCase</code> Java automatically comes to know that it needs to call <code>toUpperCase</code> on the on the first parameter.Suppose there is two parameter a lambda expression expect then the method will <code>call</code> on the <code>first parameter</code> and the <code>second parameter</code> will pass as an <code>argument</code> of the method. Let' take an example.</p>\n\n<pre><code>List&lt;String&gt; empNames = Arrays.asList(\"Tom\",\"Bob\");\nString s1 = empNames.stream().reduce(\"\",String::concat); //line -1\nString s2 = empNames.stream().reduce(\"\",(a,b)-&gt;a.concat(b)); // line -2\nSystem.out.println(s1);\nSystem.out.println(s2);\n</code></pre>\n\n<p>So, on above example on line -1, String#concat method will <code>call</code> on the first parameter (that is <code>a</code> line-2) and a second parameter (that <code>b</code> for line -2) will pass as the <code>argument</code>.</p>\n\n<p>It is possible for the multiple arguments (more than 2) method also but you need to very careful about the which sequence of the parameters. </p>\n"},{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672154465,"creation_date":1521386053,"answer_id":49349509,"question_id":49349261,"body_markdown":"## Explanation ##\r\n\r\n&gt;The method `toUpperCase` is **not** a static method... so why can one write in the way above, rather than needing to use it this way:\r\n&gt;\r\n&gt;     weeks.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);\r\n\r\nMethod references **are not limited** to `static` methods. Take a look at\r\n\r\n    .map(String::toUpperCase)\r\n\r\nit is equivalent to\r\n\r\n    .map(s -&gt; s.toUpperCase())\r\n\r\nJava will just call the method you have referenced on the elements in the stream. In fact, this is the whole point of references.\r\n\r\nThe official [Oracle tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html) explains this in more detail.\r\n\r\n----------\r\n## Insights, Examples ##\r\n\r\nThe method `Stream#map` ([documentation](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-)) has the following signature:\r\n\r\n    &lt;R&gt; Stream&lt;R&gt; map​(Function&lt;? super T, ? extends R&gt; mapper)\r\n\r\nSo it expects some `Function`. In your case this is a `Function&lt;String, String&gt;` which takes a `String`, applies some method on it and then returns a `String`.\r\n\r\nNow we take a look at `Function` ([documentation](https://docs.oracle.com/javase/9/docs/api/java/util/function/Function.html)). It has the following method:\r\n\r\n&gt; `R apply​(T t)`\r\n&gt;\r\n&gt; Applies this function to the given argument.\r\n\r\nThis is exactly what you are providing with your method reference. You provide a `Function&lt;String, String&gt;` that applies the given method reference on all objects. Your `apply` would look like:\r\n\r\n    String apply(String t) {\r\n        return t.toUpperCase();\r\n    }\r\n\r\nAnd the Lambda expression\r\n\r\n    .map(s -&gt; s.toUpperCase())\r\n\r\ngenerates the **exact same** `Function` with the same `apply` method.\r\n\r\nSo what you could do is\r\n\r\n    Function&lt;String, String&gt; toUpper1 = String::toUpperCase;\r\n    Function&lt;String, String&gt; toUpper2 = s -&gt; s.toUpperCase();\r\n\r\n    System.out.println(toUpper1.apply(&quot;test&quot;));\r\n    System.out.println(toUpper2.apply(&quot;test&quot;));\r\n\r\nAnd they will both output `&quot;TEST&quot;`, they behave the same.\r\n\r\nMore details on this can be found in the Java Language Specification [JLS&#167;15.13](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13). Especially take a look at the examples in the end of the chapter.\r\n\r\nAnother note, why does Java even know that `String::toUpperCase` should be interpreted as `Function&lt;String, String&gt;`? Well, in general it does not. That&#39;s why we always need to clearly specify the type:\r\n\r\n    // The left side of the statement makes it clear to the compiler\r\n    Function&lt;String, String&gt; toUpper1 = String::toUpperCase;\r\n\r\n    // The signature of the &#39;map&#39; method makes it clear to the compiler\r\n    .map(String::toUpperCase)\r\n\r\nAlso note that we can only do such stuff with **functional interfaces**:\r\n\r\n    @FunctionalInterface\r\n    public interface Function&lt;T, R&gt; { ... }\r\n\r\n----------\r\n## Note on `System.out::println` ##\r\n\r\nFor some reason you are not confused by\r\n\r\n    .forEach(System.out::println);\r\n\r\nThis method **is not** `static` either.\r\n\r\nThe `out` is an ordinary object instance and the `println` is a non `static` method of the `PrintStream` ([documentation](https://docs.oracle.com/javase/9/docs/api/java/io/PrintStream.html)) class. See [System#out](https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#out) for the objects documentation.","title":"Method reference - Difference between &quot;Reference to a static method&quot; and &quot;Reference to an instance method of an arbitrary object of a particular type&quot;","body":"<h2>Explanation</h2>\n<blockquote>\n<p>The method <code>toUpperCase</code> is <strong>not</strong> a static method... so why can one write in the way above, rather than needing to use it this way:</p>\n<pre><code>weeks.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);\n</code></pre>\n</blockquote>\n<p>Method references <strong>are not limited</strong> to <code>static</code> methods. Take a look at</p>\n<pre><code>.map(String::toUpperCase)\n</code></pre>\n<p>it is equivalent to</p>\n<pre><code>.map(s -&gt; s.toUpperCase())\n</code></pre>\n<p>Java will just call the method you have referenced on the elements in the stream. In fact, this is the whole point of references.</p>\n<p>The official <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a> explains this in more detail.</p>\n<hr />\n<h2>Insights, Examples</h2>\n<p>The method <code>Stream#map</code> (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">documentation</a>) has the following signature:</p>\n<pre><code>&lt;R&gt; Stream&lt;R&gt; map​(Function&lt;? super T, ? extends R&gt; mapper)\n</code></pre>\n<p>So it expects some <code>Function</code>. In your case this is a <code>Function&lt;String, String&gt;</code> which takes a <code>String</code>, applies some method on it and then returns a <code>String</code>.</p>\n<p>Now we take a look at <code>Function</code> (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">documentation</a>). It has the following method:</p>\n<blockquote>\n<p><code>R apply​(T t)</code></p>\n<p>Applies this function to the given argument.</p>\n</blockquote>\n<p>This is exactly what you are providing with your method reference. You provide a <code>Function&lt;String, String&gt;</code> that applies the given method reference on all objects. Your <code>apply</code> would look like:</p>\n<pre><code>String apply(String t) {\n    return t.toUpperCase();\n}\n</code></pre>\n<p>And the Lambda expression</p>\n<pre><code>.map(s -&gt; s.toUpperCase())\n</code></pre>\n<p>generates the <strong>exact same</strong> <code>Function</code> with the same <code>apply</code> method.</p>\n<p>So what you could do is</p>\n<pre><code>Function&lt;String, String&gt; toUpper1 = String::toUpperCase;\nFunction&lt;String, String&gt; toUpper2 = s -&gt; s.toUpperCase();\n\nSystem.out.println(toUpper1.apply(&quot;test&quot;));\nSystem.out.println(toUpper2.apply(&quot;test&quot;));\n</code></pre>\n<p>And they will both output <code>&quot;TEST&quot;</code>, they behave the same.</p>\n<p>More details on this can be found in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.13\" rel=\"nofollow noreferrer\">JLS§15.13</a>. Especially take a look at the examples in the end of the chapter.</p>\n<p>Another note, why does Java even know that <code>String::toUpperCase</code> should be interpreted as <code>Function&lt;String, String&gt;</code>? Well, in general it does not. That's why we always need to clearly specify the type:</p>\n<pre><code>// The left side of the statement makes it clear to the compiler\nFunction&lt;String, String&gt; toUpper1 = String::toUpperCase;\n\n// The signature of the 'map' method makes it clear to the compiler\n.map(String::toUpperCase)\n</code></pre>\n<p>Also note that we can only do such stuff with <strong>functional interfaces</strong>:</p>\n<pre><code>@FunctionalInterface\npublic interface Function&lt;T, R&gt; { ... }\n</code></pre>\n<hr />\n<h2>Note on <code>System.out::println</code></h2>\n<p>For some reason you are not confused by</p>\n<pre><code>.forEach(System.out::println);\n</code></pre>\n<p>This method <strong>is not</strong> <code>static</code> either.</p>\n<p>The <code>out</code> is an ordinary object instance and the <code>println</code> is a non <code>static</code> method of the <code>PrintStream</code> (<a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">documentation</a>) class. See <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.html#out\" rel=\"nofollow noreferrer\">System#out</a> for the objects documentation.</p>\n"}],"owner":{"account_id":7556248,"reputation":299,"user_id":5735743,"accept_rate":62,"display_name":"J John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":49349509,"answer_count":3,"score":2,"last_activity_date":1672181317,"creation_date":1521384655,"question_id":49349261,"body_markdown":"I&#39;ve learned that there are 4 kinds of types in method reference. But I don&#39;t understand the difference between &quot;***Reference to a static method***&quot; and &quot;***Reference to an instance method of an arbitrary object of a particular type***&quot;.\r\n\r\nFor example:\r\n\r\n      List&lt;String&gt; weeks = new ArrayList&lt;&gt;();\r\n      weeks.add(&quot;Monday&quot;);\r\n      weeks.add(&quot;Tuesday&quot;);\r\n      weeks.add(&quot;Wednesday&quot;);\r\n      weeks.add(&quot;Thursday&quot;);\r\n      weeks.add(&quot;Friday&quot;);\r\n      weeks.add(&quot;Saturday&quot;);\r\n      weeks.add(&quot;Sunday&quot;);\r\n      weeks.stream().map(String::toUpperCase).forEach(System.out::println);\r\n\r\nThe method `toUpperCase` is **not** a `static` method... so why can one write in the way above, rather than needing to use it this way:\r\n\r\n     weeks.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);","title":"Method reference - Difference between &quot;Reference to a static method&quot; and &quot;Reference to an instance method of an arbitrary object of a particular type&quot;","body":"<p>I've learned that there are 4 kinds of types in method reference. But I don't understand the difference between &quot;<em><strong>Reference to a static method</strong></em>&quot; and &quot;<em><strong>Reference to an instance method of an arbitrary object of a particular type</strong></em>&quot;.</p>\n<p>For example:</p>\n<pre><code>  List&lt;String&gt; weeks = new ArrayList&lt;&gt;();\n  weeks.add(&quot;Monday&quot;);\n  weeks.add(&quot;Tuesday&quot;);\n  weeks.add(&quot;Wednesday&quot;);\n  weeks.add(&quot;Thursday&quot;);\n  weeks.add(&quot;Friday&quot;);\n  weeks.add(&quot;Saturday&quot;);\n  weeks.add(&quot;Sunday&quot;);\n  weeks.stream().map(String::toUpperCase).forEach(System.out::println);\n</code></pre>\n<p>The method <code>toUpperCase</code> is <strong>not</strong> a <code>static</code> method... so why can one write in the way above, rather than needing to use it this way:</p>\n<pre><code> weeks.stream().map(s -&gt; s.toUpperCase()).forEach(System.out::println);\n</code></pre>\n"},{"tags":["java","mongodb","rest","nosql"],"comments":[{"owner":{"account_id":19012387,"reputation":3836,"user_id":13878071,"display_name":"Montgomery Watts"},"score":1,"creation_date":1672198712,"post_id":74934717,"comment_id":132240201,"body_markdown":"`27017` is the port that MongoDB is listening on. Your API connects to MongoDB, and listens for connections on a different port. You should make requests to your API, not MongoDB directly. Do you know what port your API is listening for connections on?","body":"<code>27017</code> is the port that MongoDB is listening on. Your API connects to MongoDB, and listens for connections on a different port. You should make requests to your API, not MongoDB directly. Do you know what port your API is listening for connections on?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1672203733,"post_id":74934717,"comment_id":132240738,"body_markdown":"Probably 8080? https://spark.apache.org/docs/latest/spark-standalone.html#:~:text=By%20default%2C%20you%20can%20access,or%20via%20command%2Dline%20options.","body":"Probably 8080? <a href=\"https://spark.apache.org/docs/latest/spark-standalone.html#:~:text=By%20default%2C%20you%20can%20access,or%20via%20command%2Dline%20options\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/&hellip;</a>."},{"owner":{"account_id":21253320,"reputation":1,"user_id":15635264,"display_name":"Jesper Nyberg"},"score":0,"creation_date":1672226391,"post_id":74934717,"comment_id":132245469,"body_markdown":"Thanks a lot, now I understand what the problem was! Turns out I was listening on port 4567 which was hidden in the output from the logger the whole time!","body":"Thanks a lot, now I understand what the problem was! Turns out I was listening on port 4567 which was hidden in the output from the logger the whole time!"}],"owner":{"account_id":21253320,"reputation":1,"user_id":15635264,"display_name":"Jesper Nyberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672181011,"creation_date":1672180954,"question_id":74934717,"body_markdown":"So I&#39;ve got this school assignment where I&#39;m creating my own web based REST API using Java. I&#39;ve got a database in MongoDB Compass called &quot;mflix&quot; which contains the collection I&#39;m trtying to expose to my REST API. I&#39;ve created a Java application identical to that of my fellow students and my teacher in order to create the connection but everytime I use Postman to check my url i get this return message:\r\n[Return Message in Postman](https://i.stack.imgur.com/zFe0e.png)\r\n&quot;It looks like you are trying to access MongoDB over HTTP on the native driver port.&quot;\r\n\r\nI&#39;ve done some googling on this matter any I see many that claims that this is because port 27017 cant be used for this since the default port cant speak with the http protocol. Then how come port 27017 work for all my course mates and my teacher?\r\n\r\nThis is my connection properties:\r\n[Connection Properties file in Eclipse](https://i.stack.imgur.com/UZabA.png)\r\n\r\nThis is the url I use in Postman:\r\n[Postman url and return message](https://i.stack.imgur.com/2QYhO.png)\r\n\r\nAnd here is my Java code:\r\n```\r\nimport static spark.Spark.get;\r\nimport static spark.Spark.post;\r\nimport static spark.Spark.delete;\r\nimport static spark.Spark.put;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.Properties;\r\n\r\nimport org.apache.commons.text.WordUtils;\r\nimport org.bson.Document;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.mongodb.ConnectionString;\r\nimport com.mongodb.MongoClientSettings;\r\nimport com.mongodb.client.MongoClient;\r\nimport com.mongodb.client.MongoClients;\r\nimport com.mongodb.client.MongoCollection;\r\nimport com.mongodb.client.MongoDatabase;\r\nimport com.mongodb.client.model.Filters;\r\n\r\npublic class RestClient {\r\n\t\r\n\tprivate void runDatabase() {\r\n\t\tString propertyString;\r\n\t\tLogger logger = LoggerFactory.getLogger( RestClient.class );\r\n\t\ttry (InputStream input = new FileInputStream( &quot;connection.properties&quot; ) ) {\r\n\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\tproperties.load( input );\r\n\t\t\tpropertyString = properties.getProperty( &quot;db.connection_string&quot; );\r\n\t\t\tlogger.info( propertyString );\r\n\r\n\t\t\tConnectionString connectionString = new ConnectionString( propertyString );\r\n\t\t\tMongoClientSettings settings = MongoClientSettings.builder().applyConnectionString( connectionString ).build();\r\n\t\t\tMongoClient mongoClient = MongoClients.create( settings );\r\n\t\t\tMongoDatabase database = mongoClient.getDatabase( properties.getProperty( &quot;db.name&quot; ) );\r\n\t\t\tSystem.out.println(&quot;hello&quot;);\r\n\t\t\t\r\n\t\t\tget( &quot;/title/:title&quot;, ( request, response ) -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;hello igen&quot;);\r\n\t\t\t\tMongoCollection&lt;Document&gt; collection = database.getCollection( &quot;movies&quot; );\r\n\t\t\t\tString filter = request.params( &quot;title&quot; ).toLowerCase();\r\n\t\t\t\tfilter = WordUtils.capitalizeFully( filter );\r\n\t\t\t\tlogger.info( &quot;Filtering movies for the title: &quot; + filter );\r\n\t\t\t\tDocument myDocument = collection.findOneAndDelete( Filters.eq( &quot;title&quot;, filter ) );\r\n\t\t\t\t\r\n\t\t\t\tif( myDocument != null ) {\r\n\t\t\t\t\tmyDocument.remove( &quot;_id&quot; );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresponse.status(404);\r\n\t\t\t\t\treturn ( &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Movie not found.&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot; );\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn myDocument.toJson();\r\n\t\t\t} );\t\t\r\n\r\n\t\t} catch ( FileNotFoundException e ) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch ( IOException e ) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main( String[] args ) {\r\n\t\tRestClient restClient = new RestClient();\r\n\t\trestClient.runDatabase();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen I run this in Eclipse this is my console/logger:\r\n[Eclipse console message](https://i.stack.imgur.com/aEEUK.png)\r\n\r\nAs I said I use Compass to connect with my database, Java to create the connection, and Postman to test the url.\r\n\r\nI&#39;ve tried to change my port to 28017 in Compass but then I just get this error message : &quot;connect ECONNREFUSED 127.0.0.1:28017&quot;.","title":"Why do I fail in exposing a collection on MongoDB Compass to a REST API using Java?","body":"<p>So I've got this school assignment where I'm creating my own web based REST API using Java. I've got a database in MongoDB Compass called &quot;mflix&quot; which contains the collection I'm trtying to expose to my REST API. I've created a Java application identical to that of my fellow students and my teacher in order to create the connection but everytime I use Postman to check my url i get this return message:\n<a href=\"https://i.stack.imgur.com/zFe0e.png\" rel=\"nofollow noreferrer\">Return Message in Postman</a>\n&quot;It looks like you are trying to access MongoDB over HTTP on the native driver port.&quot;</p>\n<p>I've done some googling on this matter any I see many that claims that this is because port 27017 cant be used for this since the default port cant speak with the http protocol. Then how come port 27017 work for all my course mates and my teacher?</p>\n<p>This is my connection properties:\n<a href=\"https://i.stack.imgur.com/UZabA.png\" rel=\"nofollow noreferrer\">Connection Properties file in Eclipse</a></p>\n<p>This is the url I use in Postman:\n<a href=\"https://i.stack.imgur.com/2QYhO.png\" rel=\"nofollow noreferrer\">Postman url and return message</a></p>\n<p>And here is my Java code:</p>\n<pre><code>import static spark.Spark.get;\nimport static spark.Spark.post;\nimport static spark.Spark.delete;\nimport static spark.Spark.put;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Properties;\n\nimport org.apache.commons.text.WordUtils;\nimport org.bson.Document;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoCollection;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.model.Filters;\n\npublic class RestClient {\n    \n    private void runDatabase() {\n        String propertyString;\n        Logger logger = LoggerFactory.getLogger( RestClient.class );\n        try (InputStream input = new FileInputStream( &quot;connection.properties&quot; ) ) {\n\n            Properties properties = new Properties();\n            properties.load( input );\n            propertyString = properties.getProperty( &quot;db.connection_string&quot; );\n            logger.info( propertyString );\n\n            ConnectionString connectionString = new ConnectionString( propertyString );\n            MongoClientSettings settings = MongoClientSettings.builder().applyConnectionString( connectionString ).build();\n            MongoClient mongoClient = MongoClients.create( settings );\n            MongoDatabase database = mongoClient.getDatabase( properties.getProperty( &quot;db.name&quot; ) );\n            System.out.println(&quot;hello&quot;);\n            \n            get( &quot;/title/:title&quot;, ( request, response ) -&gt; {\n                System.out.println(&quot;hello igen&quot;);\n                MongoCollection&lt;Document&gt; collection = database.getCollection( &quot;movies&quot; );\n                String filter = request.params( &quot;title&quot; ).toLowerCase();\n                filter = WordUtils.capitalizeFully( filter );\n                logger.info( &quot;Filtering movies for the title: &quot; + filter );\n                Document myDocument = collection.findOneAndDelete( Filters.eq( &quot;title&quot;, filter ) );\n                \n                if( myDocument != null ) {\n                    myDocument.remove( &quot;_id&quot; );\n                } else {\n                    response.status(404);\n                    return ( &quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Movie not found.&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&quot; );\n                }\n                \n                return myDocument.toJson();\n            } );        \n\n        } catch ( FileNotFoundException e ) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch ( IOException e ) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    public static void main( String[] args ) {\n        RestClient restClient = new RestClient();\n        restClient.runDatabase();\n    }\n\n}\n</code></pre>\n<p>When I run this in Eclipse this is my console/logger:\n<a href=\"https://i.stack.imgur.com/aEEUK.png\" rel=\"nofollow noreferrer\">Eclipse console message</a></p>\n<p>As I said I use Compass to connect with my database, Java to create the connection, and Postman to test the url.</p>\n<p>I've tried to change my port to 28017 in Compass but then I just get this error message : &quot;connect ECONNREFUSED 127.0.0.1:28017&quot;.</p>\n"},{"tags":["java","hashmap","hashset"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":7,"creation_date":1265793910,"post_id":2235546,"comment_id":2191507,"body_markdown":"@yuku: the level of waste in the default Java collections is mindboggling. The worst offenders happens when you manipulate primitives.  You think a HashSet&lt;Object&gt; is bad?  No think about this: HashMap&lt;Integer,Integer&gt;.  If you&#39;re after efficient collections you want to look at Trove (for primitives) or Javolution (real time).  They both run around circles the default Java collections, both performance and memory wise.  We&#39;re doing heavy number crunching and collections with millions of elements are common for us. Trove rocks. Javolution rocks. The default Java collections simply don&#39;t cut it.","body":"@yuku: the level of waste in the default Java collections is mindboggling. The worst offenders happens when you manipulate primitives.  You think a HashSet&lt;Object&gt; is bad?  No think about this: HashMap&lt;Integer,Integer&gt;.  If you&#39;re after efficient collections you want to look at Trove (for primitives) or Javolution (real time).  They both run around circles the default Java collections, both performance and memory wise.  We&#39;re doing heavy number crunching and collections with millions of elements are common for us. Trove rocks. Javolution rocks. The default Java collections simply don&#39;t cut it."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1265794065,"post_id":2235546,"comment_id":2191526,"body_markdown":"@yuku: to continue on my comment...  What I mean is: either perfs and memory matter and then you have to find an alternative because the level of waste in the default Java collections is way too high or you don&#39;t need perfs and memory doesn&#39;t matter, because you&#39;ll be using tiny number of elements and then the default Java collections are ok (tough there are probably better alternative like the Google collections etc.)","body":"@yuku: to continue on my comment...  What I mean is: either perfs and memory matter and then you have to find an alternative because the level of waste in the default Java collections is way too high or you don&#39;t need perfs and memory doesn&#39;t matter, because you&#39;ll be using tiny number of elements and then the default Java collections are ok (tough there are probably better alternative like the Google collections etc.)"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":3,"creation_date":1265795486,"post_id":2235546,"comment_id":2191657,"body_markdown":"@WizardOfOdds: that&#39;s a lot of bold statements with little evidence to back them up.","body":"@WizardOfOdds: that&#39;s a lot of bold statements with little evidence to back them up."},{"owner":{"account_id":1852520,"reputation":2797,"user_id":1678760,"accept_rate":85,"display_name":"fatma.ekici"},"score":0,"creation_date":1357074907,"post_id":2235546,"comment_id":19532989,"body_markdown":"HashMap does not allow duplicate keys so using a hashmap to implement a set is a good idea. They might have wanted to reuse the existing code from HashMap.","body":"HashMap does not allow duplicate keys so using a hashmap to implement a set is a good idea. They might have wanted to reuse the existing code from HashMap."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1298276809,"creation_date":1265795344,"answer_id":2235795,"question_id":2235546,"body_markdown":"I am guessing that it has never turned up as a significant problem for real applications or important benchmarks. Why complicate the code for no real benefit?\r\n\r\nAlso note, that object sizes are rounded up in many JVM implementation, so there may not actually be an increase in size (I don&#39;t know for this example). Also the code for `HashMap` is likely to be compiled and in cache. Other things being equal, more code =&gt; more cache misses =&gt; lower performance.","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>I am guessing that it has never turned up as a significant problem for real applications or important benchmarks. Why complicate the code for no real benefit?</p>\n\n<p>Also note, that object sizes are rounded up in many JVM implementation, so there may not actually be an increase in size (I don't know for this example). Also the code for <code>HashMap</code> is likely to be compiled and in cache. Other things being equal, more code => more cache misses => lower performance.</p>\n"},{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265795422,"creation_date":1265795422,"answer_id":2235802,"question_id":2235546,"body_markdown":"Yes you are right, a small amount of wastage is definetley there. Small because, for every entry it uses the same object `PRESENT`(which is declared final). Hence the only wastage is for every entry&#39;s value in the HashMap.\r\n\r\nMostly I think, they took this approach for maintainability and reusability. (The JCF developers would have thought, we have tested HashMap anyway, why not reuse it.)\r\n\r\nBut if you are having huge collections, and you are a memory freak, then you may opt out for better alternatives like [Trove][1] or [Google Collections][2].\r\n\r\n\r\n  [1]: http://trove4j.sourceforge.net/\r\n  [2]: http://code.google.com/p/google-collections/","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>Yes you are right, a small amount of wastage is definetley there. Small because, for every entry it uses the same object <code>PRESENT</code>(which is declared final). Hence the only wastage is for every entry's value in the HashMap.</p>\n\n<p>Mostly I think, they took this approach for maintainability and reusability. (The JCF developers would have thought, we have tested HashMap anyway, why not reuse it.)</p>\n\n<p>But if you are having huge collections, and you are a memory freak, then you may opt out for better alternatives like <a href=\"http://trove4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Trove</a> or <a href=\"http://code.google.com/p/google-collections/\" rel=\"nofollow noreferrer\">Google Collections</a>.</p>\n"},{"tags":[],"owner":{"account_id":93884,"reputation":11967,"user_id":256660,"accept_rate":75,"display_name":"Lombo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1265797612,"creation_date":1265796192,"answer_id":2235891,"question_id":2235546,"body_markdown":"I looked at your question and it took me a while to think about what you said. So here&#39;s my opinion regarding the `HashSet` implementation.\r\n\r\nIt is necessary to have the dummy instance to know if the value is or is not present in the set.\r\n\r\nTake a look at the add method\r\n\r\n    public boolean add(E e) {\r\n\treturn map.put(e, PRESENT)==null;\r\n    }\r\n\r\nAbd now let&#39;s take a look at the put return value\r\n\r\n&gt; @returns the previous value associated with key, or null if there was no mapping for key. (A null return can also indicate that the map previously associated null with key.)\r\n\r\nSo the `PRESENT` object is just used to represent that the set contains the e value. I think you asked why not use `null` instead of `PRESENT`. But the, you would not be able to distinguish if the entry was previously on the map because `map.put(key,value)` would always return `null` and you would not have way to know if the key existed.\r\n\r\n\r\n----------\r\n\r\nThat being said you could argue that they could have used an implementation like this\r\n\r\n \r\n\r\n       public boolean add(E e) {\r\n        \r\n            if( map.containsKey(e) ) {\r\n                return false;\r\n            }\r\n        \r\n            map.put(e, null);\r\n        \r\n            return true;\r\n    \r\n    }\r\n\r\nI guess they waste 4 bytes to avoid computing the hashCode, as it could be expensive, of the key two times (if the key is going to be added).\r\n\r\n\r\n----------\r\n\r\nIf you question referred to why they used a `HashMap` that would waste 8 bytes (because of the `Map.Entry`) instead of some other data structure using a similar Entry of only 4, then yes, I would say they did it for the reasons you mentioned.\r\n","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>I looked at your question and it took me a while to think about what you said. So here's my opinion regarding the <code>HashSet</code> implementation.</p>\n\n<p>It is necessary to have the dummy instance to know if the value is or is not present in the set.</p>\n\n<p>Take a look at the add method</p>\n\n<pre><code>public boolean add(E e) {\nreturn map.put(e, PRESENT)==null;\n}\n</code></pre>\n\n<p>Abd now let's take a look at the put return value</p>\n\n<blockquote>\n  <p>@returns the previous value associated with key, or null if there was no mapping for key. (A null return can also indicate that the map previously associated null with key.)</p>\n</blockquote>\n\n<p>So the <code>PRESENT</code> object is just used to represent that the set contains the e value. I think you asked why not use <code>null</code> instead of <code>PRESENT</code>. But the, you would not be able to distinguish if the entry was previously on the map because <code>map.put(key,value)</code> would always return <code>null</code> and you would not have way to know if the key existed.</p>\n\n<hr>\n\n<p>That being said you could argue that they could have used an implementation like this</p>\n\n<pre><code>   public boolean add(E e) {\n\n        if( map.containsKey(e) ) {\n            return false;\n        }\n\n        map.put(e, null);\n\n        return true;\n\n}\n</code></pre>\n\n<p>I guess they waste 4 bytes to avoid computing the hashCode, as it could be expensive, of the key two times (if the key is going to be added).</p>\n\n<hr>\n\n<p>If you question referred to why they used a <code>HashMap</code> that would waste 8 bytes (because of the <code>Map.Entry</code>) instead of some other data structure using a similar Entry of only 4, then yes, I would say they did it for the reasons you mentioned.</p>\n"},{"tags":[],"owner":{"account_id":8535,"reputation":7283,"user_id":15456,"accept_rate":87,"display_name":"JXG"},"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1451478413,"creation_date":1265796281,"answer_id":2235896,"question_id":2235546,"body_markdown":"Actually, it&#39;s not just `HashSet`.  *All* implementations of the `Set` interface in Java 6 are based on an underlying `Map`.  This is not a requirement; it&#39;s just the way the implementation is.  You can see for yourself by checking out the documentation for the various implementations of [`Set`][1].\r\n\r\nYour main questions are\r\n\r\n&gt; But, why is it still used? Is there\r\n&gt; any reason to use it besides making it\r\n&gt; easier to maintain the codes?\r\n\r\nI assume that code maintenance is a big motivating factor.  So is preventing duplication and bloat.\r\n\r\n`Set` and `Map` are similar interfaces, in that duplicate elements are not allowed.  (I think the only `Set` *not* backed by a `Map` is `CopyOnWriteArraySet`, which is an unusual Collection, because it&#39;s immutable.)\r\n\r\nSpecifically:\r\n\r\nFrom the [documentation of `Set`][2]:\r\n\r\n&gt; A collection that contains no\r\n&gt; duplicate elements. More formally,\r\n&gt; sets contain no pair of elements e1\r\n&gt; and e2 such that e1.equals(e2), and at\r\n&gt; most one null element. As implied by\r\n&gt; its name, this interface models the\r\n&gt; mathematical set abstraction.\r\n&gt; \r\n&gt; The Set interface places additional\r\n&gt; stipulations, beyond those inherited\r\n&gt; from the Collection interface, on the\r\n&gt; contracts of all constructors and on\r\n&gt; the contracts of the add, equals and\r\n&gt; hashCode methods. Declarations for\r\n&gt; other inherited methods are also\r\n&gt; included here for convenience. (The\r\n&gt; specifications accompanying these\r\n&gt; declarations have been tailored to the\r\n&gt; Set interface, but they do not contain\r\n&gt; any additional stipulations.)\r\n&gt; \r\n&gt; The additional stipulation on\r\n&gt; constructors is, not surprisingly,\r\n&gt; that all constructors must create a\r\n&gt; set that contains no duplicate\r\n&gt; elements (as defined above).\r\n\r\nAnd from [`Map`][3]:\r\n\r\n&gt; An object that maps keys to values.\r\n&gt; A map cannot contain duplicate keys; each key can map to at most one value. \r\n\r\nIf you can implement your `Set`s using existing code, any benefit (speed, for example) you can realize from existing code accrues to your `Set` as well.\r\n\r\nIf you choose to implement a `Set` without a `Map` backing, you have to duplicate code designed to prevent duplicate elements.  Ah, the delicious irony.\r\n\r\nThat said, there&#39;s nothing preventing you from implementing your `Set`s differently.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Set.html &quot;Set&quot;\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Set.html &quot;Set doc&quot;\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/util/Map.html &quot;Map doc&quot;","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>Actually, it's not just <code>HashSet</code>.  <em>All</em> implementations of the <code>Set</code> interface in Java 6 are based on an underlying <code>Map</code>.  This is not a requirement; it's just the way the implementation is.  You can see for yourself by checking out the documentation for the various implementations of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\" title=\"Set\"><code>Set</code></a>.</p>\n\n<p>Your main questions are</p>\n\n<blockquote>\n  <p>But, why is it still used? Is there\n  any reason to use it besides making it\n  easier to maintain the codes?</p>\n</blockquote>\n\n<p>I assume that code maintenance is a big motivating factor.  So is preventing duplication and bloat.</p>\n\n<p><code>Set</code> and <code>Map</code> are similar interfaces, in that duplicate elements are not allowed.  (I think the only <code>Set</code> <em>not</em> backed by a <code>Map</code> is <code>CopyOnWriteArraySet</code>, which is an unusual Collection, because it's immutable.)</p>\n\n<p>Specifically:</p>\n\n<p>From the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\" title=\"Set doc\">documentation of <code>Set</code></a>:</p>\n\n<blockquote>\n  <p>A collection that contains no\n  duplicate elements. More formally,\n  sets contain no pair of elements e1\n  and e2 such that e1.equals(e2), and at\n  most one null element. As implied by\n  its name, this interface models the\n  mathematical set abstraction.</p>\n  \n  <p>The Set interface places additional\n  stipulations, beyond those inherited\n  from the Collection interface, on the\n  contracts of all constructors and on\n  the contracts of the add, equals and\n  hashCode methods. Declarations for\n  other inherited methods are also\n  included here for convenience. (The\n  specifications accompanying these\n  declarations have been tailored to the\n  Set interface, but they do not contain\n  any additional stipulations.)</p>\n  \n  <p>The additional stipulation on\n  constructors is, not surprisingly,\n  that all constructors must create a\n  set that contains no duplicate\n  elements (as defined above).</p>\n</blockquote>\n\n<p>And from <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\" title=\"Map doc\"><code>Map</code></a>:</p>\n\n<blockquote>\n  <p>An object that maps keys to values.\n  A map cannot contain duplicate keys; each key can map to at most one value. </p>\n</blockquote>\n\n<p>If you can implement your <code>Set</code>s using existing code, any benefit (speed, for example) you can realize from existing code accrues to your <code>Set</code> as well.</p>\n\n<p>If you choose to implement a <code>Set</code> without a <code>Map</code> backing, you have to duplicate code designed to prevent duplicate elements.  Ah, the delicious irony.</p>\n\n<p>That said, there's nothing preventing you from implementing your <code>Set</code>s differently.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1304786917,"creation_date":1304786917,"answer_id":5922568,"question_id":2235546,"body_markdown":"My guess is that HashSet was originally implemented in terms of HashMap in order to get it done quickly and easily. In terms of lines of code, HashSet is a fraction of HashMap.\r\n\r\nI would guess that the reason it still hasn&#39;t been optimized is fear of change.\r\n\r\nHowever, the waste is much worse than you think. On both 32-bit and 64-bit, HashSet is 4x larger than necessary, and HashMap is 2x larger than necessary. HashMap could be implemented with an array with keys and values in it (plus chains for collisions). That means two pointers per entry, or 16 bytes on a 64-bit VM. In fact, HashMap contains an Entry object per entry, which adds 8 bytes for the pointer to the Entry and 8 bytes for the Entry object header. HashSet also uses 32 bytes per element, but the waste is 4x instead of 2x since it only requires 8 bytes per element.","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>My guess is that HashSet was originally implemented in terms of HashMap in order to get it done quickly and easily. In terms of lines of code, HashSet is a fraction of HashMap.</p>\n\n<p>I would guess that the reason it still hasn't been optimized is fear of change.</p>\n\n<p>However, the waste is much worse than you think. On both 32-bit and 64-bit, HashSet is 4x larger than necessary, and HashMap is 2x larger than necessary. HashMap could be implemented with an array with keys and values in it (plus chains for collisions). That means two pointers per entry, or 16 bytes on a 64-bit VM. In fact, HashMap contains an Entry object per entry, which adds 8 bytes for the pointer to the Entry and 8 bytes for the Entry object header. HashSet also uses 32 bytes per element, but the waste is 4x instead of 2x since it only requires 8 bytes per element.</p>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1353361368,"creation_date":1353361368,"answer_id":13462778,"question_id":2235546,"body_markdown":"Your question:\r\nI think that wastes 4 byte (on 32-bit machines) for the size of the entry itself.\r\n\r\nJust one Object variable is created for the entire datastructure of hashset and doing that would save yourself from re-writing the entire hashMap kind of code again.\r\n\r\n`private static final Object PRESENT = new Object();`\r\n\r\nAll the keys are having one value i.e PRESENT object. \r\n","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>Your question:\nI think that wastes 4 byte (on 32-bit machines) for the size of the entry itself.</p>\n\n<p>Just one Object variable is created for the entire datastructure of hashset and doing that would save yourself from re-writing the entire hashMap kind of code again.</p>\n\n<p><code>private static final Object PRESENT = new Object();</code></p>\n\n<p>All the keys are having one value i.e PRESENT object. </p>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379533471,"creation_date":1379533471,"answer_id":18880996,"question_id":2235546,"body_markdown":"After searching through pages like this wondering why the mildly inefficient standard implementation, found com.carrotsearch.hppc.IntOpenHashSet","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>After searching through pages like this wondering why the mildly inefficient standard implementation, found com.carrotsearch.hppc.IntOpenHashSet</p>\n"}],"owner":{"account_id":6637,"reputation":71931,"user_id":11238,"accept_rate":68,"display_name":"Randy Sugianto &#39;Yuku&#39;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15020,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":2235896,"answer_count":7,"score":49,"last_activity_date":1672180909,"creation_date":1265792806,"question_id":2235546,"body_markdown":"Looking at the source of Java 6, `HashSet&lt;E&gt;` is actually implemented using `HashMap&lt;E,Object&gt;`, using dummy object instance on every entry of the Set. \r\n\r\nI think that wastes 4 byte (on 32-bit machines) for the size of the entry itself. \r\n\r\nBut, why is it still used? Is there any reason to use it besides making it easier to maintain the code?","title":"Why does HashSet implementation in Sun Java use HashMap as its backing?","body":"<p>Looking at the source of Java 6, <code>HashSet&lt;E&gt;</code> is actually implemented using <code>HashMap&lt;E,Object&gt;</code>, using dummy object instance on every entry of the Set.</p>\n<p>I think that wastes 4 byte (on 32-bit machines) for the size of the entry itself.</p>\n<p>But, why is it still used? Is there any reason to use it besides making it easier to maintain the code?</p>\n"},{"tags":["java","android","android-context"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672180197,"creation_date":1672107288,"answer_id":74925248,"question_id":74924543,"body_markdown":"All of three you can use in this case.\r\nContext usually use to get resource or launch some system service, and I found a context explain in this website https://www.jianshu.com/p/94e0f9ab3f1d, here is the picture he explain when each context can be use:\r\n(不推荐 mean not recommended)\r\n[![enter image description here][1]][1]\r\n\r\nMost of case you can use Application, Activity, and Service context, but beside some scene, like show dialog,start activity, and layout inflation.\r\nA dialog need to build base on a activity, so you can&#39;t use other two type context.\r\nThis case seems to be load resource values, so you can use all of three.\r\n\r\nOther information about context: https://stackoverflow.com/questions/4128589/difference-between-activity-context-and-application-context, https://web.archive.org/web/20150329210012/https://possiblemobile.com/2013/06/context/.\r\n\r\n  [1]: https://i.stack.imgur.com/3X1SE.png","title":"What type of context should I use in this case and why?","body":"<p>All of three you can use in this case.\nContext usually use to get resource or launch some system service, and I found a context explain in this website <a href=\"https://www.jianshu.com/p/94e0f9ab3f1d\" rel=\"nofollow noreferrer\">https://www.jianshu.com/p/94e0f9ab3f1d</a>, here is the picture he explain when each context can be use:\n(不推荐 mean not recommended)\n<a href=\"https://i.stack.imgur.com/3X1SE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3X1SE.png\" alt=\"enter image description here\" /></a></p>\n<p>Most of case you can use Application, Activity, and Service context, but beside some scene, like show dialog,start activity, and layout inflation.\nA dialog need to build base on a activity, so you can't use other two type context.\nThis case seems to be load resource values, so you can use all of three.</p>\n<p>Other information about context: <a href=\"https://stackoverflow.com/questions/4128589/difference-between-activity-context-and-application-context\">Difference between Activity Context and Application Context</a>, <a href=\"https://web.archive.org/web/20150329210012/https://possiblemobile.com/2013/06/context/\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20150329210012/https://possiblemobile.com/2013/06/context/</a>.</p>\n"}],"owner":{"account_id":26979302,"reputation":173,"user_id":20543919,"display_name":"sacacorchos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672180197,"creation_date":1672095223,"question_id":74924543,"body_markdown":"I am using the following function in one of my activities of my app:\r\n\r\n    public static float convertDpToPixel(float dp, Context context){\r\n        return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / DisplayMetrics.DENSITY_DEFAULT);\r\n    }\r\n\r\nWhat context should I use?\r\n\r\n**Application Context**: tied to the Lifecycle of an Application\r\n\r\n**Activity Context**: tied to the life cycle of activity\r\n\r\n**Base Context**: the base context as set by the constructor or setBaseContext\r\n\r\n\r\nI have done it like this and it seems to work:\r\n\r\nIn my_activity.java:\r\n\r\n    float conversion = convertDpToPixel(10, this);\r\n\r\nBut also I could do the following:\r\n\r\n    float conversion = convertDpToPixel(10, getApplicationContext());\r\n\r\nAnd also the following:\r\n\r\n    float conversion = convertDpToPixel(10, getBaseContext());\r\n\r\n\r\nI think that in this specific case it doesn&#39;t really matter as it will get the resources of the app and it is included in all the contextes types but I would like to ensure what I am saying. Thanks\r\n\r\n","title":"What type of context should I use in this case and why?","body":"<p>I am using the following function in one of my activities of my app:</p>\n<pre><code>public static float convertDpToPixel(float dp, Context context){\n    return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / DisplayMetrics.DENSITY_DEFAULT);\n}\n</code></pre>\n<p>What context should I use?</p>\n<p><strong>Application Context</strong>: tied to the Lifecycle of an Application</p>\n<p><strong>Activity Context</strong>: tied to the life cycle of activity</p>\n<p><strong>Base Context</strong>: the base context as set by the constructor or setBaseContext</p>\n<p>I have done it like this and it seems to work:</p>\n<p>In my_activity.java:</p>\n<pre><code>float conversion = convertDpToPixel(10, this);\n</code></pre>\n<p>But also I could do the following:</p>\n<pre><code>float conversion = convertDpToPixel(10, getApplicationContext());\n</code></pre>\n<p>And also the following:</p>\n<pre><code>float conversion = convertDpToPixel(10, getBaseContext());\n</code></pre>\n<p>I think that in this specific case it doesn't really matter as it will get the resources of the app and it is included in all the contextes types but I would like to ensure what I am saying. Thanks</p>\n"},{"tags":["java","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1525783776,"post_id":50233984,"comment_id":87485417,"body_markdown":"show me a screenshot of the run configuration as well","body":"show me a screenshot of the run configuration as well"},{"owner":{"account_id":12000951,"reputation":111,"user_id":8780917,"display_name":"Manvydas J Jauga"},"score":0,"creation_date":1525784007,"post_id":50233984,"comment_id":87485542,"body_markdown":"http://prntscr.com/jf9qiv","body":"<a href=\"http://prntscr.com/jf9qiv\" rel=\"nofollow noreferrer\">prntscr.com/jf9qiv</a>"},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1525784202,"post_id":50233984,"comment_id":87485674,"body_markdown":"Shouldnt your working directory be `$MODULE_DIR` instead of `$MAVEN_REPOSITORY`  ?","body":"Shouldnt your working directory be <code>$MODULE_DIR</code> instead of <code>$MAVEN_REPOSITORY</code>  ?"},{"owner":{"account_id":12000951,"reputation":111,"user_id":8780917,"display_name":"Manvydas J Jauga"},"score":0,"creation_date":1525784360,"post_id":50233984,"comment_id":87485773,"body_markdown":"you mean in pom.xml? No, I try to do 2.0.1 project from the beggining","body":"you mean in pom.xml? No, I try to do 2.0.1 project from the beggining"},{"owner":{"account_id":12000951,"reputation":111,"user_id":8780917,"display_name":"Manvydas J Jauga"},"score":0,"creation_date":1525784436,"post_id":50233984,"comment_id":87485825,"body_markdown":"$MODULE_DIR change did nothing. The error occurs when project is building, not running","body":"$MODULE_DIR change did nothing. The error occurs when project is building, not running"},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1525784609,"post_id":50233984,"comment_id":87485937,"body_markdown":"oh shoot. I tried too that doesn&#39;t affect the behaviour.","body":"oh shoot. I tried too that doesn&#39;t affect the behaviour."}],"answers":[{"tags":[],"owner":{"account_id":4189805,"reputation":3365,"user_id":3432678,"accept_rate":100,"display_name":"Lorelorelore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525783730,"creation_date":1525783730,"answer_id":50234055,"question_id":50233984,"body_markdown":"Maybe something is wrong with your IntelliJ configuration. However, you can run your application typing in IntelliJ&#39;s terminal the command `mvn spring-boot:run`.","title":"intellij spring boot build error","body":"<p>Maybe something is wrong with your IntelliJ configuration. However, you can run your application typing in IntelliJ's terminal the command <code>mvn spring-boot:run</code>.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525784426,"creation_date":1525784426,"answer_id":50234270,"question_id":50233984,"body_markdown":"The issue is that your IntelliJ artifact build is not creating the same package that your Maven pom does.\r\n\r\nYou should look at your project artifact to make sure that you end up with precisely the same package, regardless of whether you use IntelliJ or Maven to create it.\r\n","title":"intellij spring boot build error","body":"<p>The issue is that your IntelliJ artifact build is not creating the same package that your Maven pom does.</p>\n\n<p>You should look at your project artifact to make sure that you end up with precisely the same package, regardless of whether you use IntelliJ or Maven to create it.</p>\n"},{"tags":[],"owner":{"account_id":15929856,"reputation":199,"user_id":11494528,"display_name":"jazz64"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622292625,"creation_date":1622292625,"answer_id":67751584,"question_id":50233984,"body_markdown":"Please have in mind that after several (mis-)configuration steps IntelliJ might get in a state where it is not able to recognize Spring anymore. I had this situation sometimes. Then just delete Caches (File-&gt;Invalidate Caches...), just the index option worked for me. In our team, we saw this working several times on different machines (IntelliJ 2021.1, Windows 10).","title":"intellij spring boot build error","body":"<p>Please have in mind that after several (mis-)configuration steps IntelliJ might get in a state where it is not able to recognize Spring anymore. I had this situation sometimes. Then just delete Caches (File-&gt;Invalidate Caches...), just the index option worked for me. In our team, we saw this working several times on different machines (IntelliJ 2021.1, Windows 10).</p>\n"},{"tags":[],"owner":{"account_id":2102061,"reputation":637,"user_id":1869409,"accept_rate":38,"display_name":"aviad cohen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672179476,"creation_date":1672179476,"answer_id":74934573,"question_id":50233984,"body_markdown":"I am having the exact same error.\r\nI created a new project by-the-book of spring boot (with only web-starter). I did not add any code and invoked it as it is, right after its creation. I was successful with mvn clean install (jar runs and is operative), but intellij invocation (that involves the own intellij build step) fails due to missing org.springframework.boot package. (you can see in the image that the package is recognizable by intellij. it&#39;s only a problem of the build step)\r\n\r\nI am after all the attempts of invalidate cache; restarted intellij; I have re-installed intellij completely and upgraded to latest 2022.3 ultimate version. running on java 17 on windows 11 (as much as it matters); I have sent my project to other team mates and it works flawlessly on their machine (as expected). \r\n[![enter image description here][1]][1]\r\n\r\nIt seems that something got hanged and ruined on my intellij configuration, and the step of &#39;build&#39; cannot get aligned with maven&#39;s artifacts\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wSm1c.png","title":"intellij spring boot build error","body":"<p>I am having the exact same error.\nI created a new project by-the-book of spring boot (with only web-starter). I did not add any code and invoked it as it is, right after its creation. I was successful with mvn clean install (jar runs and is operative), but intellij invocation (that involves the own intellij build step) fails due to missing org.springframework.boot package. (you can see in the image that the package is recognizable by intellij. it's only a problem of the build step)</p>\n<p>I am after all the attempts of invalidate cache; restarted intellij; I have re-installed intellij completely and upgraded to latest 2022.3 ultimate version. running on java 17 on windows 11 (as much as it matters); I have sent my project to other team mates and it works flawlessly on their machine (as expected).\n<a href=\"https://i.stack.imgur.com/wSm1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wSm1c.png\" alt=\"enter image description here\" /></a></p>\n<p>It seems that something got hanged and ruined on my intellij configuration, and the step of 'build' cannot get aligned with maven's artifacts</p>\n"}],"owner":{"account_id":12000951,"reputation":111,"user_id":8780917,"display_name":"Manvydas J Jauga"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4088,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1672179476,"creation_date":1525783513,"question_id":50233984,"body_markdown":"I have errors when building spring-boot application with IntelliJ. When I click &#39;Build&#39; on IntelliJ it gives me a list of errors, but if I mvn clean install, then it builds perfectly. Maybe anyone knows if this could be a bug or wrong configurations?\r\n\r\n![IntelliJ screen with errors][1]\r\n\r\n**Main.class**\r\n\r\n    package com.manvydas.bachelor;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Main.class, args);\r\n        }\r\n    }\r\n\r\nmain class has has only run method\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.manvydas&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bachelor&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;manvydas-bachelor-project&lt;/name&gt;\r\n        &lt;description&gt;Manvydas bachelor project&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.nulab-inc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;zxcvbn&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt;\r\n                &lt;artifactId&gt;nekohtml&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ku3Lq.png","title":"intellij spring boot build error","body":"<p>I have errors when building spring-boot application with IntelliJ. When I click 'Build' on IntelliJ it gives me a list of errors, but if I mvn clean install, then it builds perfectly. Maybe anyone knows if this could be a bug or wrong configurations?</p>\n\n<p><img src=\"https://i.stack.imgur.com/ku3Lq.png\" alt=\"IntelliJ screen with errors\"></p>\n\n<p><strong>Main.class</strong></p>\n\n<pre><code>package com.manvydas.bachelor;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n\n<p>main class has has only run method</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.manvydas&lt;/groupId&gt;\n    &lt;artifactId&gt;bachelor&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;manvydas-bachelor-project&lt;/name&gt;\n    &lt;description&gt;Manvydas bachelor project&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.nulab-inc&lt;/groupId&gt;\n            &lt;artifactId&gt;zxcvbn&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt;\n            &lt;artifactId&gt;nekohtml&lt;/artifactId&gt;\n            &lt;version&gt;1.9.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1070763,"reputation":16795,"user_id":1070117,"accept_rate":86,"display_name":"Leandros"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1672179315,"creation_date":1399893784,"answer_id":23607656,"question_id":23607583,"body_markdown":"The correct RegEx for selecting all numbers would be just `[0-9]`, you can skip the `+`, since you use `replaceAll`.\r\n\r\nHowever, your usage of `replaceAll` is wrong, it&#39;s defined as follows: [`replaceAll(String regex, String replacement)`][1]. The correct code in your example would be: `replaceAll(&quot;[0-9]&quot;, &quot;&quot;)`.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)","title":"How to replace all numbers in java string","body":"<p>The correct RegEx for selecting all numbers would be just <code>[0-9]</code>, you can skip the <code>+</code>, since you use <code>replaceAll</code>.</p>\n<p>However, your usage of <code>replaceAll</code> is wrong, it's defined as follows: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>replaceAll(String regex, String replacement)</code></a>. The correct code in your example would be: <code>replaceAll(&quot;[0-9]&quot;, &quot;&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1705744,"reputation":8233,"user_id":1564821,"accept_rate":57,"display_name":"Spring Breaker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399893863,"creation_date":1399893863,"answer_id":23607681,"question_id":23607583,"body_markdown":"To remove the numbers, following code will do the trick.\r\n   \r\n\r\n     stringname.replaceAll(&quot;[0-9]&quot;,&quot;&quot;);","title":"How to replace all numbers in java string","body":"<p>To remove the numbers, following code will do the trick.</p>\n\n<pre><code> stringname.replaceAll(\"[0-9]\",\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3265181,"reputation":1536,"user_id":2749817,"accept_rate":50,"display_name":"Jacky Cheng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399893929,"creation_date":1399893929,"answer_id":23607709,"question_id":23607583,"body_markdown":"i think you missed the second argument of replace all. You need to put a empty string as argument 2 instead of actually leaving it empty.\r\n\r\ntry\r\n\r\n    replaceAll(&lt;your regexp&gt;,&quot;&quot;)","title":"How to replace all numbers in java string","body":"<p>i think you missed the second argument of replace all. You need to put a empty string as argument 2 instead of actually leaving it empty.</p>\n\n<p>try</p>\n\n<pre><code>replaceAll(&lt;your regexp&gt;,\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2271976,"reputation":4136,"user_id":1999125,"accept_rate":82,"display_name":"anirudh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1399893951,"creation_date":1399893951,"answer_id":23607715,"question_id":23607583,"body_markdown":"You can use the following regex: `\\d` for representing numbers. In the regex that you use, you have a `^` which will check for any characters other than the charset `0-9`\r\n\r\n        String s=&quot;ram123&quot;;\r\n        System.out.println(s);\r\n        /* You don&#39;t need the + because you are using the replaceAll method */\r\n        s = s.replaceAll(&quot;\\\\d&quot;, &quot;&quot;);  // or you can also use [0-9]\r\n        System.out.println(s);","title":"How to replace all numbers in java string","body":"<p>You can use the following regex: <code>\\d</code> for representing numbers. In the regex that you use, you have a <code>^</code> which will check for any characters other than the charset <code>0-9</code></p>\n\n<pre><code>    String s=\"ram123\";\n    System.out.println(s);\n    /* You don't need the + because you are using the replaceAll method */\n    s = s.replaceAll(\"\\\\d\", \"\");  // or you can also use [0-9]\n    System.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3422858,"reputation":5242,"user_id":2869772,"accept_rate":63,"display_name":"Jitesh Upadhyay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399894014,"creation_date":1399894014,"answer_id":23607737,"question_id":23607583,"body_markdown":"Please do as follows\r\n\r\n    String name = &quot;ram varma656887&quot;;\r\n        name = name.replaceAll(&quot;[0-9]&quot;,&quot;&quot;);\r\n        System.out.println(name);//ram varma\r\n\r\nalternatively you can do as\r\n\r\n     String name = &quot;ram varma656887&quot;;\r\n             name = name.replaceAll(&quot;\\\\d&quot;,&quot;&quot;);\r\n              System.out.println(name);//ram varma\r\n\r\nalso something like given will work for you\r\n\r\n \r\n\r\n    String given = &quot;ram varma656887&quot;;\r\n    \r\n        String[] arr = given.split(&quot;\\\\d&quot;);\r\n        String data = new String();\r\n        for(String x : arr){\r\n    \r\n            data = data+x;\r\n        }\r\n    \r\n        System.out.println(data);//ram varma","title":"How to replace all numbers in java string","body":"<p>Please do as follows</p>\n\n<pre><code>String name = \"ram varma656887\";\n    name = name.replaceAll(\"[0-9]\",\"\");\n    System.out.println(name);//ram varma\n</code></pre>\n\n<p>alternatively you can do as</p>\n\n<pre><code> String name = \"ram varma656887\";\n         name = name.replaceAll(\"\\\\d\",\"\");\n          System.out.println(name);//ram varma\n</code></pre>\n\n<p>also something like given will work for you</p>\n\n<pre><code>String given = \"ram varma656887\";\n\n    String[] arr = given.split(\"\\\\d\");\n    String data = new String();\n    for(String x : arr){\n\n        data = data+x;\n    }\n\n    System.out.println(data);//ram varma\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3861140,"reputation":808,"user_id":3198857,"display_name":"MadukaJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399894782,"creation_date":1399894782,"answer_id":23608023,"question_id":23607583,"body_markdown":"you can use Java - String replaceAll() Method.\r\nThis method replaces each substring of this string that matches the given regular expression with the given replacement.\r\n\r\n*Here is the syntax of this method:*\r\n\r\n    public String replaceAll(String regex, String replacement)\r\n\r\n*Here is the detail of parameters:*\r\n\r\n**regex** -- the regular expression to which this string is to be matched.\r\n\r\n**replacement** -- the string which would replace found expression.\r\n\r\n*Return Value:*\r\n\r\nThis method returns the resulting String.\r\n\r\nfor your question use this\r\n\r\n        String s = &quot;ram123&quot;, d = &quot;ram varma656887&quot;;\r\n        System.out.println(&quot;s&quot; + s.replaceAll(&quot;[0-9]&quot;, &quot;&quot;));\r\n        System.out.println(&quot;d&quot; + d.replaceAll(&quot;[0-9]&quot;, &quot;&quot;));","title":"How to replace all numbers in java string","body":"<p>you can use Java - String replaceAll() Method.\nThis method replaces each substring of this string that matches the given regular expression with the given replacement.</p>\n\n<p><em>Here is the syntax of this method:</em></p>\n\n<pre><code>public String replaceAll(String regex, String replacement)\n</code></pre>\n\n<p><em>Here is the detail of parameters:</em></p>\n\n<p><strong>regex</strong> -- the regular expression to which this string is to be matched.</p>\n\n<p><strong>replacement</strong> -- the string which would replace found expression.</p>\n\n<p><em>Return Value:</em></p>\n\n<p>This method returns the resulting String.</p>\n\n<p>for your question use this</p>\n\n<pre><code>    String s = \"ram123\", d = \"ram varma656887\";\n    System.out.println(\"s\" + s.replaceAll(\"[0-9]\", \"\"));\n    System.out.println(\"d\" + d.replaceAll(\"[0-9]\", \"\"));\n</code></pre>\n"}],"owner":{"account_id":3583415,"reputation":2786,"user_id":2991069,"accept_rate":57,"display_name":"skyshine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79404,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":23607656,"answer_count":6,"score":12,"last_activity_date":1672179315,"creation_date":1399893567,"question_id":23607583,"body_markdown":"I have string like this String `s=&quot;ram123&quot;,d=&quot;ram varma656887&quot;`\r\nI want string like ram and ram varma so how to seperate string from combined string\r\nI am trying using regex but it is not working\r\n\r\n    PersonName.setText(cursor.getString(cursor.getColumnIndex(cursor\r\n    \t\t\t\t.getColumnName(1))).replaceAll(&quot;[^0-9]+&quot;));","title":"How to replace all numbers in java string","body":"<p>I have string like this String <code>s=\"ram123\",d=\"ram varma656887\"</code>\nI want string like ram and ram varma so how to seperate string from combined string\nI am trying using regex but it is not working</p>\n\n<pre><code>PersonName.setText(cursor.getString(cursor.getColumnIndex(cursor\n                .getColumnName(1))).replaceAll(\"[^0-9]+\"));\n</code></pre>\n"},{"tags":["java","maven","gradle","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672178325,"creation_date":1672178325,"answer_id":74934444,"question_id":74933560,"body_markdown":"Have you checked the Gradle official documentation on how to do this? [Docs][1]\r\n\r\nI have checked your repo and it looks like what Gradle init did was a mess: it created an app folder for you for every module that you have, which is what it does when you select &quot;application&quot; from the Gradle init menu... That does not look like it detected the Maven project correctly. \r\n\r\nMy suggestion is to init an empty new project and then move your code in manually as modules or to delete everything added with your previous Gradle init, check the documentation and try again to migrate.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/migrating_from_maven.html","title":"use &#39;gradle init&#39; to migrate maven to gradle, but it&#39;s ignoring dependencies declared in pom project of parents projects","body":"<p>Have you checked the Gradle official documentation on how to do this? <a href=\"https://docs.gradle.org/current/userguide/migrating_from_maven.html\" rel=\"nofollow noreferrer\">Docs</a></p>\n<p>I have checked your repo and it looks like what Gradle init did was a mess: it created an app folder for you for every module that you have, which is what it does when you select &quot;application&quot; from the Gradle init menu... That does not look like it detected the Maven project correctly.</p>\n<p>My suggestion is to init an empty new project and then move your code in manually as modules or to delete everything added with your previous Gradle init, check the documentation and try again to migrate.</p>\n"}],"owner":{"account_id":27360116,"reputation":11,"user_id":20867862,"display_name":"Zongrong Li"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672178325,"creation_date":1672170501,"question_id":74933560,"body_markdown":"I have a multi project which is construct by maven: https://github.com/tiancai110a/parent-project:\r\n\r\nits struct is like this:\r\n```\r\nparent. \r\n   | \r\n   |--core\r\n   |  |\r\n   |  |\r\n   |------service\r\n   |  |\r\n   |-------webapp\r\n```\r\n`core`, `service`, `webapp` is jar package. \r\n`parent` is a pom package.\r\n dependency relationship  is like the pic:  \r\n\r\nhttps://i.stack.imgur.com/sD4Cl.png\r\n\r\nall the `junit` is come from `parent`.\r\n`service`  and `webapp` also dependent on the `core`\r\n\r\n\r\nthen I run `gradle init` to generate `build.gradle` from pom.xml in the root of the project.\r\n\r\n\r\n\r\nthen I suppose to have depenency of `junit` somewhere in the in the `build.gradle` like:\r\n\r\n```\r\ndependencies {testImplementation &#39;junit:junit-dep:4.11&#39;}\r\n```\r\nwhich if I do the same operation in a single project it will translate from pom.xml configuration:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nbut it din&#39;t, it just ignore the `junit` depenency which is defined in the `parent/pom.xml`,\r\nand then of course I am fail to build because I don&#39;t declare the unit dependency,\r\nwhy, How can I get this depenency transformed into `build.gradle`?\r\n\r\n","title":"use &#39;gradle init&#39; to migrate maven to gradle, but it&#39;s ignoring dependencies declared in pom project of parents projects","body":"<p>I have a multi project which is construct by maven: <a href=\"https://github.com/tiancai110a/parent-project\" rel=\"nofollow noreferrer\">https://github.com/tiancai110a/parent-project</a>:</p>\n<p>its struct is like this:</p>\n<pre><code>parent. \n   | \n   |--core\n   |  |\n   |  |\n   |------service\n   |  |\n   |-------webapp\n</code></pre>\n<p><code>core</code>, <code>service</code>, <code>webapp</code> is jar package.\n<code>parent</code> is a pom package.\ndependency relationship  is like the pic:</p>\n<p><a href=\"https://i.stack.imgur.com/sD4Cl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/sD4Cl.png</a></p>\n<p>all the <code>junit</code> is come from <code>parent</code>.\n<code>service</code>  and <code>webapp</code> also dependent on the <code>core</code></p>\n<p>then I run <code>gradle init</code> to generate <code>build.gradle</code> from pom.xml in the root of the project.</p>\n<p>then I suppose to have depenency of <code>junit</code> somewhere in the in the <code>build.gradle</code> like:</p>\n<pre><code>dependencies {testImplementation 'junit:junit-dep:4.11'}\n</code></pre>\n<p>which if I do the same operation in a single project it will translate from pom.xml configuration:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>but it din't, it just ignore the <code>junit</code> depenency which is defined in the <code>parent/pom.xml</code>,\nand then of course I am fail to build because I don't declare the unit dependency,\nwhy, How can I get this depenency transformed into <code>build.gradle</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","h2"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1671945426,"post_id":74911397,"comment_id":132199691,"body_markdown":"Try `@EntityScan(&quot;com.ecommerce.website.model.*&quot;)`","body":"Try <code>@EntityScan(&quot;com.ecommerce.website.model.*&quot;)</code>"},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672005818,"post_id":74911397,"comment_id":132207172,"body_markdown":"@tgdavies Thank you for your response! If I try using what you said, I still get the same errors.","body":"@tgdavies Thank you for your response! If I try using what you said, I still get the same errors."},{"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"score":0,"creation_date":1672008374,"post_id":74911397,"comment_id":132207535,"body_markdown":"Hi, please disregard my last message. What you said helped me out, but I had to add the &quot;.*&quot; to my other annotations in the main class. Now, my http://localhost:8080 URL works, but if I add /admin, I get a 404 error. Do you know why that is?","body":"Hi, please disregard my last message. What you said helped me out, but I had to add the &quot;.*&quot; to my other annotations in the main class. Now, my <a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">localhost:8080</a> URL works, but if I add /admin, I get a 404 error. Do you know why that is?"}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671992941,"creation_date":1671992941,"answer_id":74915188,"question_id":74911397,"body_markdown":"Please remove this dependency from ```pom.xml``` and try again.\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"UnsatisfiedDependencyException, BeanCreationException, and IllegalArgumentException errors","body":"<p>Please remove this dependency from <code>pom.xml</code> and try again.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26501340,"reputation":1,"user_id":20138234,"display_name":"Lorenzo Cuttitta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672000082,"creation_date":1671998090,"answer_id":74915584,"question_id":74911397,"body_markdown":"keep only this annotation\r\n\r\n    @SpringBootApplication\r\n    public class EcommerceWebsiteApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n    }\r\n     @Autowired\r\n     private CategoryRepository categoryRepository;\r\n\r\n    }\r\nyou nedd to add an interface like this \r\n\r\n    public interface CategoryService2 {\r\n    public void addCategory(Category category);\r\n    public List&lt;Category&gt; getAllCategories();\r\n    }\r\nand modify the classe like this:\r\n\r\n    @Service\r\n    public class CategoryService implements CategoryService2{\r\n\r\n    private CategoryRepository categoryRepository;\r\n    \r\n    public CategoryService(categoryRepository){\r\n    super();\r\n    this.categoryRepository = categoryRepository;\r\n    }\r\n    @Override\r\n    public void addCategory(Category category) {\r\n        \r\n        categoryRepository.save(category);\r\n    }\r\n    @Override  \r\n    public List&lt;Category&gt; getAllCategories() {\r\n        return categoryRepository.findAll();\r\n    }\r\n\r\nand remove the annotation @Repository from CategoryRepository and try to modify String in Long\r\n\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n\r\n     }\r\n\r\nModify the class Category like this.\r\n\r\n    @Entity\r\n    @Table(name = &quot;Ecommerce&quot;)\r\n    public class Category {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;category_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    \r\n    public Category() {\r\n        \r\n    }\r\n    \r\n    public Category(int id, String name) {\r\n        super();\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    } \r\n        \r\n    }\r\n\r\nand try with and without this dependecy:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nmodify the controllore like this:\r\n\r\n    @Controller\r\n    public class AdminController {\r\n    private CategoryService2 categoryService2;\r\n    public AdminController(CategoryService2 categoryService){\r\n    super();\r\n    this.categoryService2 = categoryService2;\r\n    }\r\n    \r\n    //This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \r\n    //@return the adminHome page\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String adminHome() {\r\n        \r\n        //Display html page\r\n        return &quot;adminHome&quot;;\r\n    }\r\n    \r\n    //This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\r\n    //@return the categories page \r\n    @GetMapping(&quot;/admin/categories&quot;)\r\n    public String getCat(Model model) {\r\n        \r\n        model.addAttribute(&quot;categories&quot;, categoryService2.getAllCategories());\r\n        \r\n        //Display html page\r\n        return &quot;categories&quot;;\r\n    }\r\n    \r\n    //This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\r\n    //a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\r\n    //The method is @GetMapping because you are getting information\r\n    //@param model will hold the category object so that the form can add information to it \r\n    //@return the categoriesAdd page \r\n    @GetMapping(&quot;/admin/categories/add&quot;)\r\n    public String getCatAdd(Model model) {\r\n        \r\n        //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\r\n        model.addAttribute(&quot;category&quot;, new Category());\r\n        \r\n        //Display html page\r\n        return &quot;categoriesAdd&quot;;\r\n    }\r\n    \r\n    //This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\r\n    //The method is @PostMapping because you are sending information\r\n    //@param category gets its value from the ModelAttribute, which gets its value from the form\r\n    //@return the categories page \r\n    @PostMapping(&quot;/admin/categories/add&quot;)\r\n    public String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\r\n        \r\n        //Calling categoryService to add the category\r\n        categoryService2.addCategory(category);\r\n        \r\n        //Redirecting to page that shows all categories \r\n        return &quot;redirect:/admin/categories&quot;;\r\n    }\r\n\r\n \r\n\r\n  ","title":"UnsatisfiedDependencyException, BeanCreationException, and IllegalArgumentException errors","body":"<p>keep only this annotation</p>\n<pre><code>@SpringBootApplication\npublic class EcommerceWebsiteApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(EcommerceWebsiteApplication.class, args);\n}\n @Autowired\n private CategoryRepository categoryRepository;\n\n}\n</code></pre>\n<p>you nedd to add an interface like this</p>\n<pre><code>public interface CategoryService2 {\npublic void addCategory(Category category);\npublic List&lt;Category&gt; getAllCategories();\n}\n</code></pre>\n<p>and modify the classe like this:</p>\n<pre><code>@Service\npublic class CategoryService implements CategoryService2{\n\nprivate CategoryRepository categoryRepository;\n\npublic CategoryService(categoryRepository){\nsuper();\nthis.categoryRepository = categoryRepository;\n}\n@Override\npublic void addCategory(Category category) {\n    \n    categoryRepository.save(category);\n}\n@Override  \npublic List&lt;Category&gt; getAllCategories() {\n    return categoryRepository.findAll();\n}\n</code></pre>\n<p>and remove the annotation @Repository from CategoryRepository and try to modify String in Long</p>\n<pre><code>public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n\n }\n</code></pre>\n<p>Modify the class Category like this.</p>\n<pre><code>@Entity\n@Table(name = &quot;Ecommerce&quot;)\npublic class Category {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;category_id&quot;)\nprivate Long id;\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n\npublic Category() {\n    \n}\n\npublic Category(int id, String name) {\n    super();\n    this.id = id;\n    this.name = name;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n} \n    \n}\n</code></pre>\n<p>and try with and without this dependecy:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>modify the controllore like this:</p>\n<pre><code>@Controller\npublic class AdminController {\nprivate CategoryService2 categoryService2;\npublic AdminController(CategoryService2 categoryService){\nsuper();\nthis.categoryService2 = categoryService2;\n}\n\n//This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \n//@return the adminHome page\n@GetMapping(&quot;/admin&quot;)\npublic String adminHome() {\n    \n    //Display html page\n    return &quot;adminHome&quot;;\n}\n\n//This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\n//@return the categories page \n@GetMapping(&quot;/admin/categories&quot;)\npublic String getCat(Model model) {\n    \n    model.addAttribute(&quot;categories&quot;, categoryService2.getAllCategories());\n    \n    //Display html page\n    return &quot;categories&quot;;\n}\n\n//This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\n//a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\n//The method is @GetMapping because you are getting information\n//@param model will hold the category object so that the form can add information to it \n//@return the categoriesAdd page \n@GetMapping(&quot;/admin/categories/add&quot;)\npublic String getCatAdd(Model model) {\n    \n    //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\n    model.addAttribute(&quot;category&quot;, new Category());\n    \n    //Display html page\n    return &quot;categoriesAdd&quot;;\n}\n\n//This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\n//The method is @PostMapping because you are sending information\n//@param category gets its value from the ModelAttribute, which gets its value from the form\n//@return the categories page \n@PostMapping(&quot;/admin/categories/add&quot;)\npublic String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\n    \n    //Calling categoryService to add the category\n    categoryService2.addCategory(category);\n    \n    //Redirecting to page that shows all categories \n    return &quot;redirect:/admin/categories&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74915188,"answer_count":2,"score":0,"last_activity_date":1672178125,"creation_date":1671939655,"question_id":74911397,"body_markdown":"I am creating a project that functions like an ecommerce website, but I keep getting the errors mentioned in the title. I tried looking on other threads, and they talked about adding different annotations to the classes. For example, I added the @EntityScan and @ComponentScan annotations to my main class, but I am still getting the same errors. Here are the exact error messages, and below that is my code:\r\n\r\n````\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;categoryService&#39;: Unsatisfied dependency expressed through field &#39;categoryRepository&#39;: Error creating bean with name &#39;categoryRepository&#39; defined in com.ecommerce.website.repository.CategoryRepository defined in @EnableJpaRepositories declared on EcommerceWebsiteApplication: Not a managed type: class com.ecommerce.website.model.Category\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:19) ~[classes/:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;categoryRepository&#39; defined in com.ecommerce.website.repository.CategoryRepository defined in @EnableJpaRepositories declared on EcommerceWebsiteApplication: Not a managed type: class com.ecommerce.website.model.Category\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category\r\n\tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n\tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 30 common frames omitted\r\n````\r\n\r\nMain class\r\n````\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository&quot;)\r\n@ComponentScan(&quot;com.ecommerce.website.service&quot;)\r\n@EntityScan(&quot;com.ecommerce.website.model&quot;)\r\npublic class EcommerceWebsiteApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EcommerceWebsiteApplication.class, args);\r\n\t}\r\n\r\n}\r\n````\r\n\r\nController class\r\n````\r\npackage com.ecommerce.website.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.service.CategoryService;\r\n\r\n//Category ID still having issues\r\n//Need to add methods for Category delete and update methods \r\n@Controller\r\npublic class AdminController {\r\n\t\r\n\t//Injecting dependency\r\n\t@Autowired\r\n\tCategoryService categoryService;\r\n\t\r\n\t//This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \r\n\t//@return the adminHome page\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\tpublic String adminHome() {\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;adminHome&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\r\n\t//@return the categories page \r\n\t@GetMapping(&quot;/admin/categories&quot;)\r\n\tpublic String getCat(Model model) {\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categories&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\r\n\t//a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\r\n\t//The method is @GetMapping because you are getting information\r\n\t//@param model will hold the category object so that the form can add information to it \r\n\t//@return the categoriesAdd page \r\n\t@GetMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String getCatAdd(Model model) {\r\n\t\t\r\n\t\t//Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\r\n\t\tmodel.addAttribute(&quot;category&quot;, new Category());\r\n\t\t\r\n\t\t//Display html page\r\n\t\treturn &quot;categoriesAdd&quot;;\r\n\t}\r\n\t\r\n\t//This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\r\n\t//The method is @PostMapping because you are sending information\r\n\t//@param category gets its value from the ModelAttribute, which gets its value from the form\r\n\t//@return the categories page \r\n\t@PostMapping(&quot;/admin/categories/add&quot;)\r\n\tpublic String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\r\n\t\t\r\n\t\t//Calling categoryService to add the category\r\n\t\tcategoryService.addCategory(category);\r\n\t\t\r\n\t\t//Redirecting to page that shows all categories \r\n\t\treturn &quot;redirect:/admin/categories&quot;;\r\n\t}\r\n\t\r\n\r\n````\r\n\r\nService\r\n````\r\npackage com.ecommerce.website.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.ecommerce.website.model.Category;\r\nimport com.ecommerce.website.repository.CategoryRepository;\r\n\r\n@Service\r\npublic class CategoryService {\r\n\r\n\t//Injecting dependency \r\n\t@Autowired\r\n\tCategoryRepository categoryRepository;\r\n\t\r\n\t//This method calls categoryRepository to add a category to the database  \r\n\t//@param category is the category that is being added \r\n\tpublic void addCategory(Category category) {\r\n\t\t\r\n\t\t//Saving the category to the database \r\n\t\tcategoryRepository.save(category);\r\n\t}\r\n\t\r\n\t//This method calls categoryRepository to retrieve a list of categories \r\n\t//@return the list of categories  \r\n\tpublic List&lt;Category&gt; getAllCategories() {\r\n\t\treturn categoryRepository.findAll();\r\n\t}\r\n\t\r\n\r\n\t\r\n//\tpublic Optional&lt;Category&gt; findCategoryById(String id) {\r\n//\t\t\r\n//\t\tOptional&lt;Category&gt; category = categoryRepository.findById(id);\r\n//\t\t\r\n//\t\treturn category;\r\n//\t\t\r\n//\t}\r\n}\r\n\r\n````\r\n\r\nRepository\r\n````\r\npackage com.ecommerce.website.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport com.ecommerce.website.model.Category;\r\n\r\n@Repository\r\npublic interface CategoryRepository extends JpaRepository&lt;Category, String&gt; {\r\n\r\n\t\r\n\r\n}\r\n````\r\n\r\nPOJO\r\n````\r\npackage com.ecommerce.website.model;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Table;\r\n\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Entity\r\n@Table\r\npublic class Category {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;category_id&quot;)\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t\r\n\tpublic Category() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Category(int id, String name) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t} \r\n\t\r\n\t\r\n}\r\n\r\n````\r\n\r\napplication.properties\r\n````\r\nspring.h2.console.enabled=true\r\n\r\nspring.datasource.url=jdbc:h2:file:./db\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nserver.port=8080\r\n````\r\n\r\npom.xml\r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ecommerce-website&lt;/name&gt;\r\n\t&lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n````\r\n\r\nFront end\r\n````\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot;\r\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\r\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\r\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\r\n    &lt;div class=&quot;container-fluid&quot;&gt;\r\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\r\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\r\n        &lt;/a&gt;\r\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\r\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\r\n        &lt;/button&gt;\r\n\r\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\r\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\r\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\r\n                &lt;/li&gt;\r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\r\n                &lt;/li&gt;\r\n\r\n            &lt;/ul&gt;\r\n\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/nav&gt;\r\n&lt;div class=&quot;jumbotron text-center&quot;&gt;\r\n    &lt;h1 class=&quot;display-4&quot;&gt;Welcome back, Admin&lt;/h1&gt;\r\n    &lt;p&gt;Easily manage your data from this admin &lt;mark&gt;CMS&lt;/mark&gt;&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;div class=&quot;container-fluid&quot;&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;col-sm-3 pt-3&quot; &gt;\r\n            &lt;div class=&quot;card&quot; style=&quot;background-color:white;&quot;&gt;\r\n                &lt;div class=&quot;card-body&quot;&gt;\r\n                    &lt;h4 class=&quot;card-title&quot;&gt;Categories&lt;/h4&gt;\r\n                    &lt;p class=&quot;card-text&quot;&gt;Manage the categories section here.&lt;/p&gt;\r\n                    &lt;a href=&quot;#&quot; th:href=&quot;@{/admin/categories}&quot; class=&quot;card-link btn btn-primary&quot;&gt;Manage&lt;/a&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col-sm-3 pt-3&quot; &gt;\r\n            &lt;div class=&quot;card&quot; style=&quot;background-color:white;&quot;&gt;\r\n                &lt;div class=&quot;card-body&quot;&gt;\r\n                    &lt;h4 class=&quot;card-title&quot;&gt;Products&lt;/h4&gt;\r\n                    &lt;p class=&quot;card-text&quot;&gt;Manage all the products here.&lt;/p&gt;\r\n                    &lt;a href=&quot;#&quot; th:href=&quot;@{/admin/products}&quot; class=&quot;card-link btn btn-primary&quot;&gt;Manage&lt;/a&gt;\r\n\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n````","title":"UnsatisfiedDependencyException, BeanCreationException, and IllegalArgumentException errors","body":"<p>I am creating a project that functions like an ecommerce website, but I keep getting the errors mentioned in the title. I tried looking on other threads, and they talked about adding different annotations to the classes. For example, I added the @EntityScan and @ComponentScan annotations to my main class, but I am still getting the same errors. Here are the exact error messages, and below that is my code:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'categoryService': Unsatisfied dependency expressed through field 'categoryRepository': Error creating bean with name 'categoryRepository' defined in com.ecommerce.website.repository.CategoryRepository defined in @EnableJpaRepositories declared on EcommerceWebsiteApplication: Not a managed type: class com.ecommerce.website.model.Category\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.ecommerce.website.EcommerceWebsiteApplication.main(EcommerceWebsiteApplication.java:19) ~[classes/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'categoryRepository' defined in com.ecommerce.website.repository.CategoryRepository defined in @EnableJpaRepositories declared on EcommerceWebsiteApplication: Not a managed type: class com.ecommerce.website.model.Category\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:709) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 20 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class com.ecommerce.website.model.Category\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:246) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:211) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:194) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:317) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:229) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 30 common frames omitted\n</code></pre>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;com.ecommerce.website.repository&quot;)\n@ComponentScan(&quot;com.ecommerce.website.service&quot;)\n@EntityScan(&quot;com.ecommerce.website.model&quot;)\npublic class EcommerceWebsiteApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EcommerceWebsiteApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>package com.ecommerce.website.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.service.CategoryService;\n\n//Category ID still having issues\n//Need to add methods for Category delete and update methods \n@Controller\npublic class AdminController {\n    \n    //Injecting dependency\n    @Autowired\n    CategoryService categoryService;\n    \n    //This method maps for /admin endpoint. It shows the adminHome.html page. The method is @GetMapping because you are getting information \n    //@return the adminHome page\n    @GetMapping(&quot;/admin&quot;)\n    public String adminHome() {\n        \n        //Display html page\n        return &quot;adminHome&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categories.html page. The method is @GetMapping because you are getting information\n    //@return the categories page \n    @GetMapping(&quot;/admin/categories&quot;)\n    public String getCat(Model model) {\n        \n        model.addAttribute(&quot;categories&quot;, categoryService.getAllCategories());\n        \n        //Display html page\n        return &quot;categories&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It shows the categoriesAdd.html page, but before that, it creates\n    //a model that is sent to the html file via Thymeleaf. The categoriesAdd.html page is a form for adding a category\n    //The method is @GetMapping because you are getting information\n    //@param model will hold the category object so that the form can add information to it \n    //@return the categoriesAdd page \n    @GetMapping(&quot;/admin/categories/add&quot;)\n    public String getCatAdd(Model model) {\n        \n        //Adding the model name &quot;category&quot;, and creating a new Category object and putting it in the model\n        model.addAttribute(&quot;category&quot;, new Category());\n        \n        //Display html page\n        return &quot;categoriesAdd&quot;;\n    }\n    \n    //This method maps for /admin/categories endpoint. It allows the user to add a category to the list of categories\n    //The method is @PostMapping because you are sending information\n    //@param category gets its value from the ModelAttribute, which gets its value from the form\n    //@return the categories page \n    @PostMapping(&quot;/admin/categories/add&quot;)\n    public String postCatAdd(@ModelAttribute(&quot;category&quot;) Category category) {\n        \n        //Calling categoryService to add the category\n        categoryService.addCategory(category);\n        \n        //Redirecting to page that shows all categories \n        return &quot;redirect:/admin/categories&quot;;\n    }\n    \n\n</code></pre>\n<p>Service</p>\n<pre><code>package com.ecommerce.website.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.ecommerce.website.model.Category;\nimport com.ecommerce.website.repository.CategoryRepository;\n\n@Service\npublic class CategoryService {\n\n    //Injecting dependency \n    @Autowired\n    CategoryRepository categoryRepository;\n    \n    //This method calls categoryRepository to add a category to the database  \n    //@param category is the category that is being added \n    public void addCategory(Category category) {\n        \n        //Saving the category to the database \n        categoryRepository.save(category);\n    }\n    \n    //This method calls categoryRepository to retrieve a list of categories \n    //@return the list of categories  \n    public List&lt;Category&gt; getAllCategories() {\n        return categoryRepository.findAll();\n    }\n    \n\n    \n//  public Optional&lt;Category&gt; findCategoryById(String id) {\n//      \n//      Optional&lt;Category&gt; category = categoryRepository.findById(id);\n//      \n//      return category;\n//      \n//  }\n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.ecommerce.website.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.ecommerce.website.model.Category;\n\n@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, String&gt; {\n\n    \n\n}\n</code></pre>\n<p>POJO</p>\n<pre><code>package com.ecommerce.website.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Table;\n\nimport org.springframework.data.annotation.Id;\n\n@Entity\n@Table\npublic class Category {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;category_id&quot;)\n    private int id;\n    \n    private String name;\n    \n    \n    public Category() {\n        \n    }\n    \n    public Category(int id, String name) {\n        super();\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    } \n    \n    \n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.h2.console.enabled=true\n\nspring.datasource.url=jdbc:h2:file:./db\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nserver.port=8080\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-website&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-website&lt;/name&gt;\n    &lt;description&gt;Ecommerce website using Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-validation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Front end</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot;\n          content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot;\n          integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://use.fontawesome.com/releases/v5.7.0/css/all.css&quot;\n          integrity=&quot;sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;nav class=&quot;navbar navbar-expand-lg navbar-light bg-light&quot; &gt;\n    &lt;div class=&quot;container-fluid&quot;&gt;\n        &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;\n            &lt;img th:src=&quot;@{/images/logo.png}&quot;  src=&quot;../static/images/logo.png&quot; width=&quot;auto&quot; height=&quot;40&quot; class=&quot;d-inline-block align-top&quot; alt=&quot;&quot;/&gt;\n        &lt;/a&gt;\n        &lt;button class=&quot;navbar-toggler&quot; type=&quot;button&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbarSupportedContent&quot; aria-controls=&quot;navbarSupportedContent&quot; aria-expanded=&quot;false&quot; aria-label=&quot;Toggle navigation&quot;&gt;\n            &lt;span class=&quot;navbar-toggler-icon&quot;&gt;&lt;/span&gt;\n        &lt;/button&gt;\n\n        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbarSupportedContent&quot;&gt;\n            &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt;&lt;/ul&gt;\n            &lt;ul class=&quot;navbar-nav&quot;&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/admin}&quot; href=&quot;#&quot;&gt;admin-home&lt;/a&gt;\n                &lt;/li&gt;\n                &lt;li class=&quot;nav-item active&quot;&gt;\n                    &lt;a class=&quot;nav-link&quot; th:href=&quot;@{/logout}&quot; href=&quot;#&quot;&gt;logout&lt;/a&gt;\n                &lt;/li&gt;\n\n            &lt;/ul&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;\n&lt;div class=&quot;jumbotron text-center&quot;&gt;\n    &lt;h1 class=&quot;display-4&quot;&gt;Welcome back, Admin&lt;/h1&gt;\n    &lt;p&gt;Easily manage your data from this admin &lt;mark&gt;CMS&lt;/mark&gt;&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=&quot;container-fluid&quot;&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-sm-3 pt-3&quot; &gt;\n            &lt;div class=&quot;card&quot; style=&quot;background-color:white;&quot;&gt;\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;h4 class=&quot;card-title&quot;&gt;Categories&lt;/h4&gt;\n                    &lt;p class=&quot;card-text&quot;&gt;Manage the categories section here.&lt;/p&gt;\n                    &lt;a href=&quot;#&quot; th:href=&quot;@{/admin/categories}&quot; class=&quot;card-link btn btn-primary&quot;&gt;Manage&lt;/a&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-sm-3 pt-3&quot; &gt;\n            &lt;div class=&quot;card&quot; style=&quot;background-color:white;&quot;&gt;\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;h4 class=&quot;card-title&quot;&gt;Products&lt;/h4&gt;\n                    &lt;p class=&quot;card-text&quot;&gt;Manage all the products here.&lt;/p&gt;\n                    &lt;a href=&quot;#&quot; th:href=&quot;@{/admin/products}&quot; class=&quot;card-link btn btn-primary&quot;&gt;Manage&lt;/a&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface","math","geom"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1672063776,"post_id":74920859,"comment_id":132214989,"body_markdown":"Do some debugging. In the for loop, print out the values held by your array. Are they as expected?","body":"Do some debugging. In the for loop, print out the values held by your array. Are they as expected?"},{"owner":{"account_id":27356642,"reputation":1,"user_id":20864947,"display_name":"Giga"},"score":0,"creation_date":1672064625,"post_id":74920859,"comment_id":132215147,"body_markdown":"@HovercraftFullOfEels it is not letting me debug it , it is showing that the problem lies at line\n      px[i]=x+(r*Math.sin(Math.toRadians(i*360/ne)));","body":"@HovercraftFullOfEels it is not letting me debug it , it is showing that the problem lies at line       px[i]=x+(r*Math.sin(Math.toRadians(i*360/ne)));"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1672065749,"post_id":74920859,"comment_id":132215363,"body_markdown":"What do you mean &quot;it&#39;s saying...&quot;?  does it not compile? If so, your question should show the error message","body":"What do you mean &quot;it&#39;s saying...&quot;?  does it not compile? If so, your question should show the error message"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1672065922,"post_id":74920859,"comment_id":132215399,"body_markdown":"Does your super class have private fields for x and y? If so you&#39;ll need to change them to protected or else call a getter method. Regardless, please ask a more complete question","body":"Does your super class have private fields for x and y? If so you&#39;ll need to change them to protected or else call a getter method. Regardless, please ask a more complete question"},{"owner":{"account_id":27356642,"reputation":1,"user_id":20864947,"display_name":"Giga"},"score":0,"creation_date":1672067958,"post_id":74920859,"comment_id":132215803,"body_markdown":"@HovercraftFullOfEels sorry I meant it is not compiling and showing error, and no the x and y fields are protected and they work with other shapes I coded.","body":"@HovercraftFullOfEels sorry I meant it is not compiling and showing error, and no the x and y fields are protected and they work with other shapes I coded."},{"owner":{"account_id":27356642,"reputation":1,"user_id":20864947,"display_name":"Giga"},"score":0,"creation_date":1672068211,"post_id":74920859,"comment_id":132215856,"body_markdown":"and my question is what can i do to fix it","body":"and my question is what can i do to fix it"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1672069088,"post_id":74920859,"comment_id":132216017,"body_markdown":"Edit your question and show the compiler&#39;s error message. Again, it is very important","body":"Edit your question and show the compiler&#39;s error message. Again, it is very important"},{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":1,"creation_date":1672070046,"post_id":74920859,"comment_id":132216195,"body_markdown":"Is the problem &quot;cannot find symbol&quot; due to not importing Shape? Best not for us to guess though. Please show us the message","body":"Is the problem &quot;cannot find symbol&quot; due to not importing Shape? Best not for us to guess though. Please show us the message"},{"owner":{"account_id":27356642,"reputation":1,"user_id":20864947,"display_name":"Giga"},"score":0,"creation_date":1672073355,"post_id":74920859,"comment_id":132216907,"body_markdown":"@DontKnowMuchButGettingBetter this was the error message(the first 3 lines the error message was very long)\n**Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n\tat Neck.genneck(Neck.java:30)\n\tat Zeichnung.paintComponent(Zeichnung.java:104)**\n\n(Zeichnung is the class where I export the shape to)","body":"@DontKnowMuchButGettingBetter this was the error message(the first 3 lines the error message was very long) <b>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0 \tat Neck.genneck(Neck.java:30) \tat Zeichnung.paintComponent(Zeichnung.java:104)</b>  (Zeichnung is the class where I export the shape to)"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672178235,"post_id":74920859,"comment_id":132237381,"body_markdown":"took me a while but the naming is in German, right? &#39;Neck&#39;  is for n-Eck (a polygon with n sides), &#39;seiten&#39; to set the number of sides. (Not that it makes any difference for the problem, but often helps me to understand the goal and the problems reaching it)","body":"took me a while but the naming is in German, right? &#39;Neck&#39;  is for n-Eck (a polygon with n sides), &#39;seiten&#39; to set the number of sides. (Not that it makes any difference for the problem, but often helps me to understand the goal and the problems reaching it)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672178009,"creation_date":1672072443,"answer_id":74922215,"question_id":74920859,"body_markdown":"To stop the compiler complaining, I had to provide this `Form` class:\r\n\r\n``` lang-java\r\npublic class Form {\r\n\tprotected int x;\r\n\tprotected int y;\r\n\tprotected Form(int x, int y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n}\r\n```\r\n\r\nAlso an import was missing in your code:\r\n\r\n``` lang-java\r\nimport java.awt.Shape;\r\n```\r\n\r\nThe problem with your `ne` variable is that it is not initialized in the constructor, so the default will be `0`, and your `px` and `py` arrays will always be of length 0. Also the method `seiten` is problematic, because you will modify the length for the loop but not recreate the arrays `px` and `py`, so it will for sure raise an `IndexOutOfBoundsException` in the `genneck` method.\r\n\r\nTo solve this you should\r\n\r\n* initialize the field `ne`, either with another constructor parameter like you do it for `x`, `y` and `r` or with a sensible default (maybe `3` for a triangle?). Do the initialization of `ne` _before_ you initialize `px` and `py`.\r\n* re-initialize `px` and `py` whenever you give `ne` another value (so in the method `seiten`)\r\n\r\nIn general I would recommend that you just add a constructor parameter and remove the `seiten` method completely, if possible, it makes things more complicated.\r\n\r\nAdditionally I would recommend that you remove the unnecessary import:\r\n\r\n``` lang-java\r\nimport java.swing.*;\r\n```\r\n\r\nYou also should split the declarations of `px` and `py` for better readability, and make the `360` in the calculations of `px` and `py` into explicit `double` values (`360.0`) to ensure that the division does not result in an integer and is casted then (this will let you loose all digits after the decimal separator):\r\n\r\n``` lang-java\r\npx[i] = x + (r * Math.sin(Math.toRadians(i * 360.0 / ne)));\r\npy[i] = y - (r * Math.sin(Math.toRadians(i * 360.0 / ne)));\r\n```","title":"Creating a multiple sided shape using GeneralPath and lang.Math(GUI) in Java","body":"<p>To stop the compiler complaining, I had to provide this <code>Form</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Form {\n    protected int x;\n    protected int y;\n    protected Form(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n<p>Also an import was missing in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Shape;\n</code></pre>\n<p>The problem with your <code>ne</code> variable is that it is not initialized in the constructor, so the default will be <code>0</code>, and your <code>px</code> and <code>py</code> arrays will always be of length 0. Also the method <code>seiten</code> is problematic, because you will modify the length for the loop but not recreate the arrays <code>px</code> and <code>py</code>, so it will for sure raise an <code>IndexOutOfBoundsException</code> in the <code>genneck</code> method.</p>\n<p>To solve this you should</p>\n<ul>\n<li>initialize the field <code>ne</code>, either with another constructor parameter like you do it for <code>x</code>, <code>y</code> and <code>r</code> or with a sensible default (maybe <code>3</code> for a triangle?). Do the initialization of <code>ne</code> <em>before</em> you initialize <code>px</code> and <code>py</code>.</li>\n<li>re-initialize <code>px</code> and <code>py</code> whenever you give <code>ne</code> another value (so in the method <code>seiten</code>)</li>\n</ul>\n<p>In general I would recommend that you just add a constructor parameter and remove the <code>seiten</code> method completely, if possible, it makes things more complicated.</p>\n<p>Additionally I would recommend that you remove the unnecessary import:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.swing.*;\n</code></pre>\n<p>You also should split the declarations of <code>px</code> and <code>py</code> for better readability, and make the <code>360</code> in the calculations of <code>px</code> and <code>py</code> into explicit <code>double</code> values (<code>360.0</code>) to ensure that the division does not result in an integer and is casted then (this will let you loose all digits after the decimal separator):</p>\n<pre class=\"lang-java prettyprint-override\"><code>px[i] = x + (r * Math.sin(Math.toRadians(i * 360.0 / ne)));\npy[i] = y - (r * Math.sin(Math.toRadians(i * 360.0 / ne)));\n</code></pre>\n"}],"owner":{"account_id":27356642,"reputation":1,"user_id":20864947,"display_name":"Giga"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1672178009,"creation_date":1672061968,"question_id":74920859,"body_markdown":"I want to create a shape with mulitple sides using Lang.Math and GeneralPath in Java GUI. I was able to transfer the value of ne(the number of sides) from Fenster to my class but the code isnt working. ik the code for the shape is right because it was same code i used for hexagon.\r\ni think the problem might be that the number sides is in variable form(because if i change the variable with a number it seems to work) but idk how to fix it.\r\nit is showing the following error \r\nException in thread &quot;AWT-EventQueue-0&quot; &quot;java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat Neck.genneck(Neck.java:30)\r\n\tat Zeichnung.paintComponent(Zeichnung.java:104)&quot;\r\nPlease help me \r\n\r\n**this is the code **\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.geom.GeneralPath;\r\n\r\n    public class Neck extends Form {\r\n        int r;\r\n        private int ne ;\r\n\t    private double[] px, py;\r\n\t    \r\n\t    \r\n\r\n\t    public Neck(int x, int y, int r) {\r\n\t        super(x,y);\r\n\t        this.r=r;\r\n\t        px=new double[ne];\r\n\t        py=new double[ne];\r\n\r\n\r\n\t    }\r\n\t    \r\n\t    public void seiten (int ne) {\r\n\t    \tthis.ne=ne;\r\n\t    }\r\n\t    \r\n\r\n\t    public Shape genneck() {\r\n\t    \tfor(int i = 0; i&lt;ne; i++) {\r\n\t    \t\t \r\n\t    \t\tpx[i]=x+(r*Math.sin(Math.toRadians(i*360/ne)));\r\n\t    \t\tpy[i]=y-(r*Math.sin(Math.toRadians(i*360/ne)));\r\n\t    \t}\r\n\r\n\r\n\t        GeneralPath path = new GeneralPath(GeneralPath.WIND_NON_ZERO);\r\n\t        path.moveTo(px[0],py[0]);\r\n\t        for(int i = 1; i&lt;ne; i++) {\r\n\t        \tpath.lineTo(px[i],py[i]);\r\n\t        }\r\n\t        path.closePath();\r\n\t        return path;\r\n\t    }\r\n\r\n       }\r\n  ","title":"Creating a multiple sided shape using GeneralPath and lang.Math(GUI) in Java","body":"<p>I want to create a shape with mulitple sides using Lang.Math and GeneralPath in Java GUI. I was able to transfer the value of ne(the number of sides) from Fenster to my class but the code isnt working. ik the code for the shape is right because it was same code i used for hexagon.\ni think the problem might be that the number sides is in variable form(because if i change the variable with a number it seems to work) but idk how to fix it.\nit is showing the following error\nException in thread &quot;AWT-EventQueue-0&quot; &quot;java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\nat Neck.genneck(Neck.java:30)\nat Zeichnung.paintComponent(Zeichnung.java:104)&quot;\nPlease help me</p>\n<p>**this is the code **</p>\n<pre><code>import javax.swing.*;\nimport java.awt.geom.GeneralPath;\n\npublic class Neck extends Form {\n    int r;\n    private int ne ;\n    private double[] px, py;\n    \n    \n\n    public Neck(int x, int y, int r) {\n        super(x,y);\n        this.r=r;\n        px=new double[ne];\n        py=new double[ne];\n\n\n    }\n    \n    public void seiten (int ne) {\n        this.ne=ne;\n    }\n    \n\n    public Shape genneck() {\n        for(int i = 0; i&lt;ne; i++) {\n             \n            px[i]=x+(r*Math.sin(Math.toRadians(i*360/ne)));\n            py[i]=y-(r*Math.sin(Math.toRadians(i*360/ne)));\n        }\n\n\n        GeneralPath path = new GeneralPath(GeneralPath.WIND_NON_ZERO);\n        path.moveTo(px[0],py[0]);\n        for(int i = 1; i&lt;ne; i++) {\n            path.lineTo(px[i],py[i]);\n        }\n        path.closePath();\n        return path;\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":7332862,"reputation":2002,"user_id":5585182,"accept_rate":62,"display_name":"Albert Bos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452261693,"creation_date":1452258429,"answer_id":34677866,"question_id":34677680,"body_markdown":"It seems like you need some sort of &quot;pause&quot; moment. One way of doing:\r\n\r\n        AbstractQueue&lt;Object&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n\t\tint size = queue.size();\r\n\r\n\t\tfor (int i = 0; i &lt; size; i++) {\r\n\t\t\tObject object = queue.poll();\r\n\t\t\tif (object == null) {\r\n\t\t\t\t// Collection has shronk break\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t// Do processing here\r\n\t\t} \r\n\r\nBy storing size into a local variable, the size will not change and you can use that amount of elements to process. If during process elements are added it won&#39;t be affected with an endless loop.\r\n\r\n**UPDATE**: The `.iterator()` is probably better to use than my first example:\r\n\r\n&gt; The returned iterator is a &quot;weakly consistent&quot; iterator that will\r\n&gt; **never throw ConcurrentModificationException**, and guarantees to\r\n&gt; traverse elements as they existed upon construction of the iterator,\r\n&gt; and **may (but is not guaranteed to) reflect any modifications**\r\n&gt; subsequent to construction.\r\n\r\n**UPDATE 2**: This is the method that will take all the elements also the deleted once and process it.\r\n\r\n            AbstractQueue&lt;Object&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\r\n    \t\tqueue.add(&quot;Test1&quot;);\r\n    \t\tqueue.add(&quot;Test2&quot;);\r\n    \t\tqueue.add(&quot;Test3&quot;);\r\n    \r\n    \t\tObject[] objList = queue.toArray();\r\n    \r\n    \t\tqueue.remove(&quot;Test2&quot;);\r\n    \r\n    \t\tfor (Object obj : objList) {\r\n    \t\t\t// Make sure you delete it, because we don&#39;t use .poll\r\n    \t\t\t// Put it at top, to reproduce the poll as much as possible\r\n    \t\t\tqueue.remove(obj);\r\n    \r\n    \t\t\t// Do processing\r\n    \t\t}\r\n\r\nThis will output:\r\n\r\n    Test1\r\n    Test2\r\n    Test3 \r\n\r\nBecause of the copy to the new `objList[]` it will also show &quot;Test2&quot;. This example may cause issues with the `.remove()` method if duplicates are added into the list. Because if and element is added is duplicate to the object in `.remove()` then that object is instantly removed. \r\n\r\nAlso note that this approach is slower, because `.remove()` need to loop through elements to find it O(N1), where `.poll` is instant O(1). \r\n","title":"Java - ConcurrentLinkedQueue - poll all","body":"<p>It seems like you need some sort of \"pause\" moment. One way of doing:</p>\n\n<pre><code>    AbstractQueue&lt;Object&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\n    int size = queue.size();\n\n    for (int i = 0; i &lt; size; i++) {\n        Object object = queue.poll();\n        if (object == null) {\n            // Collection has shronk break\n            break;\n        }\n        // Do processing here\n    } \n</code></pre>\n\n<p>By storing size into a local variable, the size will not change and you can use that amount of elements to process. If during process elements are added it won't be affected with an endless loop.</p>\n\n<p><strong>UPDATE</strong>: The <code>.iterator()</code> is probably better to use than my first example:</p>\n\n<blockquote>\n  <p>The returned iterator is a \"weakly consistent\" iterator that will\n  <strong>never throw ConcurrentModificationException</strong>, and guarantees to\n  traverse elements as they existed upon construction of the iterator,\n  and <strong>may (but is not guaranteed to) reflect any modifications</strong>\n  subsequent to construction.</p>\n</blockquote>\n\n<p><strong>UPDATE 2</strong>: This is the method that will take all the elements also the deleted once and process it.</p>\n\n<pre><code>        AbstractQueue&lt;Object&gt; queue = new ConcurrentLinkedQueue&lt;&gt;();\n        queue.add(\"Test1\");\n        queue.add(\"Test2\");\n        queue.add(\"Test3\");\n\n        Object[] objList = queue.toArray();\n\n        queue.remove(\"Test2\");\n\n        for (Object obj : objList) {\n            // Make sure you delete it, because we don't use .poll\n            // Put it at top, to reproduce the poll as much as possible\n            queue.remove(obj);\n\n            // Do processing\n        }\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>Test1\nTest2\nTest3 \n</code></pre>\n\n<p>Because of the copy to the new <code>objList[]</code> it will also show \"Test2\". This example may cause issues with the <code>.remove()</code> method if duplicates are added into the list. Because if and element is added is duplicate to the object in <code>.remove()</code> then that object is instantly removed. </p>\n\n<p>Also note that this approach is slower, because <code>.remove()</code> need to loop through elements to find it O(N1), where <code>.poll</code> is instant O(1). </p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1452272581,"creation_date":1452272581,"answer_id":34682323,"question_id":34677680,"body_markdown":"If you can change your application to use one of the `BlockingQueue` implementations, there is a method [`drainTo`][1] that seems to do exactly what you want. It removes the current contents of the queue and transfers them to a destination collection.\r\n\r\nThere are a variety of `BlockingQueue` implementations; they should all be thread-safe. Oddly, it&#39;s not specified that `drainTo` is atomic, though it is in the implementations I checked (`ArrayBlockingQueue` and `LinkedBlockingQueue`).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html#drainTo-java.util.Collection-","title":"Java - ConcurrentLinkedQueue - poll all","body":"<p>If you can change your application to use one of the <code>BlockingQueue</code> implementations, there is a method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html#drainTo-java.util.Collection-\" rel=\"noreferrer\"><code>drainTo</code></a> that seems to do exactly what you want. It removes the current contents of the queue and transfers them to a destination collection.</p>\n\n<p>There are a variety of <code>BlockingQueue</code> implementations; they should all be thread-safe. Oddly, it's not specified that <code>drainTo</code> is atomic, though it is in the implementations I checked (<code>ArrayBlockingQueue</code> and <code>LinkedBlockingQueue</code>).</p>\n"},{"tags":[],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672177860,"creation_date":1672177860,"answer_id":74934398,"question_id":34677680,"body_markdown":"While I understand that the OP does not want to use the `poll()` method, I would be surprised if async tasks were feeding records to the list faster than the poll() method can drain them.  If such were the case then a different high-throughput, clustered architecture would likely be necessary (Kinesis Firehose or similar).  \r\n\r\nI ran a test on a MacBookPro M1 with Java 11 and found the loop shown below could drain records at a rate 1.5 to 2.0 million per second.\r\n\r\nI propose the following as a simple way to drain:\r\n```\r\n    public List&lt;MyRecord&gt; getRecords(){\r\n        List&lt;MyRecord&gt; result = new ArrayList&lt;&gt;();\r\n        while (!records.isEmpty())\r\n            result.add(records.poll());\r\n        return result;\r\n    }\r\n```","title":"Java - ConcurrentLinkedQueue - poll all","body":"<p>While I understand that the OP does not want to use the <code>poll()</code> method, I would be surprised if async tasks were feeding records to the list faster than the poll() method can drain them.  If such were the case then a different high-throughput, clustered architecture would likely be necessary (Kinesis Firehose or similar).</p>\n<p>I ran a test on a MacBookPro M1 with Java 11 and found the loop shown below could drain records at a rate 1.5 to 2.0 million per second.</p>\n<p>I propose the following as a simple way to drain:</p>\n<pre><code>    public List&lt;MyRecord&gt; getRecords(){\n        List&lt;MyRecord&gt; result = new ArrayList&lt;&gt;();\n        while (!records.isEmpty())\n            result.add(records.poll());\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":7464007,"reputation":3021,"user_id":5674298,"accept_rate":61,"display_name":"coolguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8992,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34682323,"answer_count":3,"score":6,"last_activity_date":1672177860,"creation_date":1452257844,"question_id":34677680,"body_markdown":"Assume I have the class field of `ConcurrentLinkedQueue` type. Some methods of this class are offering the new elements to this queue. And some other methods need to poll for all the elements that are inside queue *at this exact moment*.\r\n\r\nI can&#39;t use `poll()` in loop, because there is a chance that some elements might be offered to this queue while loop is still unfinished. And if the new elements are offered faster than I poll them, I think it can even be an endless loop. So I need some kind of `pollAll()`.\r\n\r\nIs there a way I can achieve this? Maybe there is a collection suitable for this?","title":"Java - ConcurrentLinkedQueue - poll all","body":"<p>Assume I have the class field of <code>ConcurrentLinkedQueue</code> type. Some methods of this class are offering the new elements to this queue. And some other methods need to poll for all the elements that are inside queue <em>at this exact moment</em>.</p>\n\n<p>I can't use <code>poll()</code> in loop, because there is a chance that some elements might be offered to this queue while loop is still unfinished. And if the new elements are offered faster than I poll them, I think it can even be an endless loop. So I need some kind of <code>pollAll()</code>.</p>\n\n<p>Is there a way I can achieve this? Maybe there is a collection suitable for this?</p>\n"},{"tags":["java","image","webcam","capture"],"comments":[{"owner":{"account_id":2543444,"reputation":1,"user_id":2208743,"display_name":"Aman"},"score":2,"creation_date":1364240670,"post_id":276292,"comment_id":22170812,"body_markdown":"Here is your answer-- [Java Swing program to capture images from webcam tutorial](http://www.tricksmode.com/2013/03/How-To-Capture-Webcam-Images-In-Java-Swings.html)\nSlightly modify it and youre done..","body":"Here is your answer-- <a href=\"http://www.tricksmode.com/2013/03/How-To-Capture-Webcam-Images-In-Java-Swings.html\" rel=\"nofollow noreferrer\">Java Swing program to capture images from webcam tutorial</a> Slightly modify it and youre done.."}],"answers":[{"tags":[],"owner":{"account_id":817,"reputation":18536,"user_id":2759376,"accept_rate":64,"display_name":"goldenmean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226277678,"creation_date":1226277678,"answer_id":276775,"question_id":276292,"body_markdown":"I believe the web-cam application software which comes along with the web-cam, or you native windows webcam software can be run in a batch script(windows/dos script) after turning the web cam on(i.e. if it needs an external power supply). In the bacth script , u can add appropriate delay to capture after certain time period. And keep executing the capture command in loop.\r\n\r\nI guess this should be possible\r\n\r\n-AD","title":"Capturing image from webcam in java?","body":"<p>I believe the web-cam application software which comes along with the web-cam, or you native windows webcam software can be run in a batch script(windows/dos script) after turning the web cam on(i.e. if it needs an external power supply). In the bacth script , u can add appropriate delay to capture after certain time period. And keep executing the capture command in loop.</p>\n\n<p>I guess this should be possible</p>\n\n<p>-AD</p>\n"},{"tags":[],"owner":{"account_id":16527,"reputation":8987,"user_id":36093,"accept_rate":100,"display_name":"Karl"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1226339523,"creation_date":1226339523,"answer_id":278636,"question_id":276292,"body_markdown":"Java usually doesn&#39;t like accessing hardware, so you will need a driver program of some sort, as goldenmean said.  I&#39;ve done this on my laptop by finding a command line program that snaps a picture.  Then it&#39;s the same as goldenmean explained; you run the command line program from your java program in the takepicture() routine, and the rest of your code runs the same.\r\n\r\nExcept for the part about reading pixel values into an array, you might be better served by saving the file to BMP, which is nearly that format already, then using the standard java image libraries on it. \r\n\r\nUsing a command line program adds a dependency to your program and makes it less portable, but so was the webcam, right?","title":"Capturing image from webcam in java?","body":"<p>Java usually doesn't like accessing hardware, so you will need a driver program of some sort, as goldenmean said.  I've done this on my laptop by finding a command line program that snaps a picture.  Then it's the same as goldenmean explained; you run the command line program from your java program in the takepicture() routine, and the rest of your code runs the same.</p>\n\n<p>Except for the part about reading pixel values into an array, you might be better served by saving the file to BMP, which is nearly that format already, then using the standard java image libraries on it. </p>\n\n<p>Using a command line program adds a dependency to your program and makes it less portable, but so was the webcam, right?</p>\n"},{"tags":[],"owner":{"account_id":16569,"reputation":31,"user_id":36256,"display_name":"ArnauVP"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1226340895,"creation_date":1226340895,"answer_id":278691,"question_id":276292,"body_markdown":"I have used JMF on a videoconference application and it worked well on two laptops: one with integrated webcam and another with an old USB webcam. It requires JMF being installed and configured before-hand, but once you&#39;re done you can access the hardware via Java code fairly easily.","title":"Capturing image from webcam in java?","body":"<p>I have used JMF on a videoconference application and it worked well on two laptops: one with integrated webcam and another with an old USB webcam. It requires JMF being installed and configured before-hand, but once you're done you can access the hardware via Java code fairly easily.</p>\n"},{"tags":[],"owner":{"account_id":15487,"reputation":9745,"user_id":32771,"accept_rate":78,"display_name":"Dan Monego"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226342380,"creation_date":1226342380,"answer_id":278752,"question_id":276292,"body_markdown":"There&#39;s a pretty nice interface for this in &lt;a href=&quot;http://processing.org&quot;&gt;processing&lt;/a&gt;, which is kind of a &lt;a href=&quot;http://www.flight404.com/_videos/pigeonCam.mov&quot;&gt;pidgin&lt;/a&gt; java designed for graphics. It gets used in some image recognition work, such as that link.\r\n\r\nDepending on what you need out of it, you might be able to load the video library that&#39;s used there in java, or if you&#39;re just playing around with it you might be able to get by using processing itself.","title":"Capturing image from webcam in java?","body":"<p>There's a pretty nice interface for this in <a href=\"http://processing.org\" rel=\"nofollow noreferrer\">processing</a>, which is kind of a <a href=\"http://www.flight404.com/_videos/pigeonCam.mov\" rel=\"nofollow noreferrer\">pidgin</a> java designed for graphics. It gets used in some image recognition work, such as that link.</p>\n\n<p>Depending on what you need out of it, you might be able to load the video library that's used there in java, or if you're just playing around with it you might be able to get by using processing itself.</p>\n"},{"tags":[],"owner":{"account_id":11002,"reputation":5546,"user_id":21047,"accept_rate":67,"display_name":"rics"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1226747985,"creation_date":1226747985,"answer_id":292424,"question_id":276292,"body_markdown":"[Here][1] is a similar question with some - yet unaccepted - answers. One of them mentions [FMJ][2] as a java alternative to JMF.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/115835/what-is-the-best-method-to-capture-images-from-a-live-video-device-for-use-by-a\r\n  [2]: http://fmj-sf.net/","title":"Capturing image from webcam in java?","body":"<p><a href=\"https://stackoverflow.com/questions/115835/what-is-the-best-method-to-capture-images-from-a-live-video-device-for-use-by-a\">Here</a> is a similar question with some - yet unaccepted - answers. One of them mentions <a href=\"http://fmj-sf.net/\" rel=\"nofollow noreferrer\">FMJ</a> as a java alternative to JMF.</p>\n"},{"tags":[],"owner":{"display_name":"Ken Larson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1230389495,"creation_date":1230389495,"answer_id":395059,"question_id":276292,"body_markdown":"FMJ can do this, as can the supporting library it uses, LTI-CIVIL.  Both are on sourceforge.\r\n","title":"Capturing image from webcam in java?","body":"<p>FMJ can do this, as can the supporting library it uses, LTI-CIVIL.  Both are on sourceforge.</p>\n"},{"tags":[],"owner":{"display_name":"Shereif 102"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258294347,"creation_date":1244571565,"answer_id":971686,"question_id":276292,"body_markdown":"http://grack.com/downloads/school/enel619.10/report/java_media_framework.html\r\n\r\nUsing the Player with Swing\r\n\r\nThe Player can be easily used in a Swing application as well.  The following code creates a Swing-based TV capture program with the video output displayed in the entire window:\r\n\r\n    import javax.media.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.net.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.event.*;\r\n     \r\n    public class JMFTest extends JFrame {\r\n        Player _player;\r\n        JMFTest() {\r\n            addWindowListener( new WindowAdapter() {\r\n                public void windowClosing( WindowEvent e ) {\r\n                    _player.stop();\r\n                    _player.deallocate();\r\n                    _player.close();\r\n                    System.exit( 0 );\r\n                }\r\n            });\r\n              setExtent( 0, 0, 320, 260 );\r\n            JPanel panel = (JPanel)getContentPane();\r\n            panel.setLayout( new BorderLayout() );\r\n            String mediaFile = &quot;vfw://1&quot;;\r\n            try {\r\n                MediaLocator mlr = new MediaLocator( mediaFile );\r\n                _player = Manager.createRealizedPlayer( mlr );\r\n                if (_player.getVisualComponent() != null)\r\n                panel.add(&quot;Center&quot;, _player.getVisualComponent());\r\n                if (_player.getControlPanelComponent() != null)\r\n                panel.add(&quot;South&quot;, _player.getControlPanelComponent());\r\n            }\r\n            catch (Exception e) {\r\n                System.err.println( &quot;Got exception &quot; + e );\r\n            }\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            JMFTest jmfTest = new JMFTest();\r\n            jmfTest.show();\r\n        }\r\n    }","title":"Capturing image from webcam in java?","body":"<p><a href=\"http://grack.com/downloads/school/enel619.10/report/java_media_framework.html\" rel=\"nofollow noreferrer\">http://grack.com/downloads/school/enel619.10/report/java_media_framework.html</a></p>\n\n<p>Using the Player with Swing</p>\n\n<p>The Player can be easily used in a Swing application as well.  The following code creates a Swing-based TV capture program with the video output displayed in the entire window:</p>\n\n<pre><code>import javax.media.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.net.*;\nimport java.awt.event.*;\nimport javax.swing.event.*;\n\npublic class JMFTest extends JFrame {\n    Player _player;\n    JMFTest() {\n        addWindowListener( new WindowAdapter() {\n            public void windowClosing( WindowEvent e ) {\n                _player.stop();\n                _player.deallocate();\n                _player.close();\n                System.exit( 0 );\n            }\n        });\n          setExtent( 0, 0, 320, 260 );\n        JPanel panel = (JPanel)getContentPane();\n        panel.setLayout( new BorderLayout() );\n        String mediaFile = \"vfw://1\";\n        try {\n            MediaLocator mlr = new MediaLocator( mediaFile );\n            _player = Manager.createRealizedPlayer( mlr );\n            if (_player.getVisualComponent() != null)\n            panel.add(\"Center\", _player.getVisualComponent());\n            if (_player.getControlPanelComponent() != null)\n            panel.add(\"South\", _player.getControlPanelComponent());\n        }\n        catch (Exception e) {\n            System.err.println( \"Got exception \" + e );\n        }\n    }\n\n    public static void main(String[] args) {\n        JMFTest jmfTest = new JMFTest();\n        jmfTest.show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46883,"reputation":272,"user_id":138684,"display_name":"Rose"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1254750728,"creation_date":1254750728,"answer_id":1520206,"question_id":276292,"body_markdown":"Recommand using FMJ for multimedia relatived java app.","title":"Capturing image from webcam in java?","body":"<p>Recommand using FMJ for multimedia relatived java app.</p>\n"},{"tags":[],"owner":{"account_id":87985,"reputation":386,"user_id":243667,"accept_rate":100,"display_name":"Nile"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1291771936,"creation_date":1291771936,"answer_id":4383406,"question_id":276292,"body_markdown":"JMyron is very simple for use.\r\n[http://webcamxtra.sourceforge.net/][1]\r\n\r\n    myron = new JMyron();\r\n    myron.start(imgw, imgh);\r\n    myron.update();\r\n    int[] img = myron.image();\r\n\r\n  [1]: http://webcamxtra.sourceforge.net/","title":"Capturing image from webcam in java?","body":"<p>JMyron is very simple for use.\n<a href=\"http://webcamxtra.sourceforge.net/\" rel=\"noreferrer\">http://webcamxtra.sourceforge.net/</a></p>\n\n<pre><code>myron = new JMyron();\nmyron.start(imgw, imgh);\nmyron.update();\nint[] img = myron.image();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049948,"reputation":31,"user_id":1054135,"display_name":"Hugo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482404143,"creation_date":1321631305,"answer_id":8185050,"question_id":276292,"body_markdown":"You can try [Marvin Framework][1]. It provides an interface to work with cameras. Moreover, it also provides a set of real-time video processing features, like object tracking and filtering.\r\n\r\nTake a look!\r\n\r\nReal-time Video Processing Demo:&lt;br/&gt;\r\nhttp://www.youtube.com/watch?v=D5mBt0kRYvk\r\n\r\nYou can use the source below. Just save a frame using **MarvinImageIO.saveImage()** every 5 second.\r\n\r\n**Webcam video demo:**\r\n\r\n    public class SimpleVideoTest extends JFrame implements Runnable{\r\n\r\n\t\tprivate MarvinVideoInterface    videoAdapter;\r\n\t\tprivate MarvinImage             image;\r\n\t\tprivate MarvinImagePanel        videoPanel;\r\n\r\n\t\tpublic SimpleVideoTest(){\r\n\t\t\tsuper(&quot;Simple Video Test&quot;);\r\n\t\t\tvideoAdapter = new MarvinJavaCVAdapter();\r\n\t\t\tvideoAdapter.connect(0);\r\n\t\t\tvideoPanel = new MarvinImagePanel();\r\n\t\t\tadd(videoPanel);\r\n\t\t\tnew Thread(this).start();\r\n\t\t\tsetSize(800,600);\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\twhile(true){\r\n\t\t\t\t// Request a video frame and set into the VideoPanel\r\n\t\t\t\timage = videoAdapter.getFrame();\r\n\t\t\t\tvideoPanel.setImage(image);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSimpleVideoTest t = new SimpleVideoTest();\r\n\t\t\tt.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t}\r\n\t}\r\n\r\nFor those who just want to take a single picture:\r\n\r\n**WebcamPicture.java**\r\n\r\n    public class WebcamPicture {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\ttry{\r\n\t\t\t\tMarvinVideoInterface videoAdapter = new MarvinJavaCVAdapter();\r\n\t\t\t\tvideoAdapter.connect(0);\r\n\t\t\t\tMarvinImage image = videoAdapter.getFrame();\r\n\t\t\t\tMarvinImageIO.saveImage(image, &quot;./res/webcam_picture.jpg&quot;);\r\n\t\t\t} catch(MarvinVideoInterfaceException e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n  [1]: http://marvinproject.sourceforge.net","title":"Capturing image from webcam in java?","body":"<p>You can try <a href=\"http://marvinproject.sourceforge.net\" rel=\"nofollow noreferrer\">Marvin Framework</a>. It provides an interface to work with cameras. Moreover, it also provides a set of real-time video processing features, like object tracking and filtering.</p>\n\n<p>Take a look!</p>\n\n<p>Real-time Video Processing Demo:<br/>\n<a href=\"http://www.youtube.com/watch?v=D5mBt0kRYvk\" rel=\"nofollow noreferrer\">http://www.youtube.com/watch?v=D5mBt0kRYvk</a></p>\n\n<p>You can use the source below. Just save a frame using <strong>MarvinImageIO.saveImage()</strong> every 5 second.</p>\n\n<p><strong>Webcam video demo:</strong></p>\n\n<pre><code>public class SimpleVideoTest extends JFrame implements Runnable{\n\n    private MarvinVideoInterface    videoAdapter;\n    private MarvinImage             image;\n    private MarvinImagePanel        videoPanel;\n\n    public SimpleVideoTest(){\n        super(\"Simple Video Test\");\n        videoAdapter = new MarvinJavaCVAdapter();\n        videoAdapter.connect(0);\n        videoPanel = new MarvinImagePanel();\n        add(videoPanel);\n        new Thread(this).start();\n        setSize(800,600);\n        setVisible(true);\n    }\n    @Override\n    public void run() {\n        while(true){\n            // Request a video frame and set into the VideoPanel\n            image = videoAdapter.getFrame();\n            videoPanel.setImage(image);\n        }\n    }\n    public static void main(String[] args) {\n        SimpleVideoTest t = new SimpleVideoTest();\n        t.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n\n<p>For those who just want to take a single picture:</p>\n\n<p><strong>WebcamPicture.java</strong></p>\n\n<pre><code>public class WebcamPicture {\n    public static void main(String[] args) {\n        try{\n            MarvinVideoInterface videoAdapter = new MarvinJavaCVAdapter();\n            videoAdapter.connect(0);\n            MarvinImage image = videoAdapter.getFrame();\n            MarvinImageIO.saveImage(image, \"./res/webcam_picture.jpg\");\n        } catch(MarvinVideoInterfaceException e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300481,"reputation":24692,"user_id":607637,"accept_rate":78,"display_name":"gtiwari333"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1672177762,"creation_date":1327764075,"answer_id":9046345,"question_id":276292,"body_markdown":"This JavaCV implementation works fine.\r\n\r\nCode:\r\n\r\n    import org.bytedeco.javacv.*;\r\n    import org.bytedeco.opencv.opencv_core.IplImage;\r\n    \r\n    import java.io.File;\r\n    \r\n    import static org.bytedeco.opencv.global.opencv_core.cvFlip;\r\n    import static org.bytedeco.opencv.helper.opencv_imgcodecs.cvSaveImage;\r\n    \r\n    public class Test implements Runnable {\r\n        final int INTERVAL = 100;///you may use interval\r\n        CanvasFrame canvas = new CanvasFrame(&quot;Web Cam&quot;);\r\n    \r\n        public Test() {\r\n            canvas.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);\r\n        }\r\n    \r\n        public void run() {\r\n    \r\n            new File(&quot;images&quot;).mkdir();\r\n    \r\n            FrameGrabber grabber = new OpenCVFrameGrabber(0); // 1 for next camera\r\n            OpenCVFrameConverter.ToIplImage converter = new OpenCVFrameConverter.ToIplImage();\r\n            IplImage img;\r\n            int i = 0;\r\n            try {\r\n                grabber.start();\r\n    \r\n                while (true) {\r\n                    Frame frame = grabber.grab();\r\n    \r\n                    img = converter.convert(frame);\r\n    \r\n                    //the grabbed frame will be flipped, re-flip to make it right\r\n                    cvFlip(img, img, 1);// l-r = 90_degrees_steps_anti_clockwise\r\n    \r\n                    //save\r\n                    cvSaveImage(&quot;images&quot; + File.separator + (i++) + &quot;-aa.jpg&quot;, img);\r\n    \r\n                    canvas.showImage(converter.convert(img));\r\n    \r\n                    Thread.sleep(INTERVAL);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Test gs = new Test();\r\n            Thread th = new Thread(gs);\r\n            th.start();\r\n        }\r\n    }\r\n\r\n\r\nThere is also [post on configuration for JavaCV][1]\r\n\r\nYou can modify the code and be able to save the images in regular interval and do rest of the processing you want.\r\n\r\n\r\n  [1]: http://ganeshtiwaridotcomdotnp.blogspot.com/2017/01/javacv-configuration-in-windows.html\r\n\r\n","title":"Capturing image from webcam in java?","body":"<p>This JavaCV implementation works fine.</p>\n<p>Code:</p>\n<pre><code>import org.bytedeco.javacv.*;\nimport org.bytedeco.opencv.opencv_core.IplImage;\n\nimport java.io.File;\n\nimport static org.bytedeco.opencv.global.opencv_core.cvFlip;\nimport static org.bytedeco.opencv.helper.opencv_imgcodecs.cvSaveImage;\n\npublic class Test implements Runnable {\n    final int INTERVAL = 100;///you may use interval\n    CanvasFrame canvas = new CanvasFrame(&quot;Web Cam&quot;);\n\n    public Test() {\n        canvas.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);\n    }\n\n    public void run() {\n\n        new File(&quot;images&quot;).mkdir();\n\n        FrameGrabber grabber = new OpenCVFrameGrabber(0); // 1 for next camera\n        OpenCVFrameConverter.ToIplImage converter = new OpenCVFrameConverter.ToIplImage();\n        IplImage img;\n        int i = 0;\n        try {\n            grabber.start();\n\n            while (true) {\n                Frame frame = grabber.grab();\n\n                img = converter.convert(frame);\n\n                //the grabbed frame will be flipped, re-flip to make it right\n                cvFlip(img, img, 1);// l-r = 90_degrees_steps_anti_clockwise\n\n                //save\n                cvSaveImage(&quot;images&quot; + File.separator + (i++) + &quot;-aa.jpg&quot;, img);\n\n                canvas.showImage(converter.convert(img));\n\n                Thread.sleep(INTERVAL);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        Test gs = new Test();\n        Thread th = new Thread(gs);\n        th.start();\n    }\n}\n</code></pre>\n<p>There is also <a href=\"http://ganeshtiwaridotcomdotnp.blogspot.com/2017/01/javacv-configuration-in-windows.html\" rel=\"nofollow noreferrer\">post on configuration for JavaCV</a></p>\n<p>You can modify the code and be able to save the images in regular interval and do rest of the processing you want.</p>\n"},{"tags":[],"owner":{"account_id":563700,"reputation":126,"user_id":30612,"display_name":"Andrei "},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328531032,"creation_date":1328531032,"answer_id":9160057,"question_id":276292,"body_markdown":"You can try [Java Webcam SDK][1] library also.\r\nSDK demo applet is available at [link][2].\r\n\r\n\r\n  [1]: http://www.smaxe.com/product.jsf?id=juv-webcam-sdk\r\n  [2]: http://demo.smaxe.com/juv-na-demo-webcam.html","title":"Capturing image from webcam in java?","body":"<p>You can try <a href=\"http://www.smaxe.com/product.jsf?id=juv-webcam-sdk\" rel=\"nofollow\">Java Webcam SDK</a> library also.\nSDK demo applet is available at <a href=\"http://demo.smaxe.com/juv-na-demo-webcam.html\" rel=\"nofollow\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":1472345,"reputation":11,"user_id":1383569,"display_name":"extjstutorial.info"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350684642,"creation_date":1336533646,"answer_id":10509410,"question_id":276292,"body_markdown":"Try using JMyron [How To Use Webcam Using Java][1]. I think using JMyron is the easiest way to access a webcam using java. I tried to use it with a 64-bit processor, but it gave me an error. It worked just fine on a 32-bit processor, though.\r\n\r\n\r\n  [1]: http://howto-java.blogspot.com/2012/05/how-to-use-webcam-using-java.html","title":"Capturing image from webcam in java?","body":"<p>Try using JMyron <a href=\"http://howto-java.blogspot.com/2012/05/how-to-use-webcam-using-java.html\" rel=\"nofollow\">How To Use Webcam Using Java</a>. I think using JMyron is the easiest way to access a webcam using java. I tried to use it with a 64-bit processor, but it gave me an error. It worked just fine on a 32-bit processor, though.</p>\n"},{"tags":[],"owner":{"account_id":312316,"reputation":2674,"user_id":626311,"display_name":"Bartosz Firyn"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1434009719,"creation_date":1352739085,"answer_id":13347845,"question_id":276292,"body_markdown":"Some time ago I&#39;ve created generic Java library which can be used to take pictures with a PC webcam. The API is very simple, not overfeatured, can work standalone, but also supports additional webcam drivers like OpenIMAJ, JMF, FMJ, LTI-CIVIL, etc, and some IP cameras.\r\n\r\nLink to the project is https://github.com/sarxos/webcam-capture\r\n\r\nExample code (take picture and save in test.jpg):\r\n\r\n    Webcam webcam = Webcam.getDefault();\r\n    webcam.open();\r\n    BufferedImage image = webcam.getImage();\r\n    ImageIO.write(image, &quot;JPG&quot;, new File(&quot;test.jpg&quot;));\r\n    \r\nIt is also available in Maven Central Repository or as a separate ZIP which includes all required dependencies and 3rd party JARs.","title":"Capturing image from webcam in java?","body":"<p>Some time ago I've created generic Java library which can be used to take pictures with a PC webcam. The API is very simple, not overfeatured, can work standalone, but also supports additional webcam drivers like OpenIMAJ, JMF, FMJ, LTI-CIVIL, etc, and some IP cameras.</p>\n\n<p>Link to the project is <a href=\"https://github.com/sarxos/webcam-capture\" rel=\"noreferrer\">https://github.com/sarxos/webcam-capture</a></p>\n\n<p>Example code (take picture and save in test.jpg):</p>\n\n<pre><code>Webcam webcam = Webcam.getDefault();\nwebcam.open();\nBufferedImage image = webcam.getImage();\nImageIO.write(image, \"JPG\", new File(\"test.jpg\"));\n</code></pre>\n\n<p>It is also available in Maven Central Repository or as a separate ZIP which includes all required dependencies and 3rd party JARs.</p>\n"},{"tags":[],"owner":{"account_id":2189891,"reputation":8117,"user_id":1937270,"accept_rate":91,"display_name":"syb0rg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367684235,"creation_date":1365806803,"answer_id":15982047,"question_id":276292,"body_markdown":"This kind of goes off of gt_ebuddy&#39;s answer using JavaCV, but my video output is at a much higher quality then his answer.  I&#39;ve also added some other random improvements (such as closing down the program when &lt;kbd&gt;ESC&lt;/kbd&gt; and &lt;kbd&gt;CTRL+C&lt;/kbd&gt; are pressed, and making sure to close down the resources the program uses properly).\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.KeyStroke;\r\n    \r\n    import com.googlecode.javacv.CanvasFrame;\r\n    import com.googlecode.javacv.OpenCVFrameGrabber;\r\n    import com.googlecode.javacv.cpp.opencv_core.IplImage;\r\n    \r\n    public class HighRes extends JComponent implements Runnable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \tprivate static CanvasFrame frame = new CanvasFrame(&quot;Web Cam&quot;);\r\n    \tprivate static boolean running = false;\r\n    \tprivate static int frameWidth = 800;\r\n    \tprivate static int frameHeight = 600;\r\n    \tprivate static OpenCVFrameGrabber grabber = new OpenCVFrameGrabber(0);\r\n    \tprivate static BufferedImage bufImg;\r\n    \r\n    \tpublic HighRes()\r\n    \t{\r\n    \t\t// setup key bindings\r\n    \t\tActionMap actionMap = frame.getRootPane().getActionMap();\r\n    \t\tInputMap inputMap = frame.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\r\n    \r\n    \t\tfor (Keys direction : Keys.values())\r\n    \t\t{\r\n    \t\t\tactionMap.put(direction.getText(), new KeyBinding(direction.getText()));\r\n    \t\t\tinputMap.put(direction.getKeyStroke(), direction.getText());\r\n    \t\t}\r\n    \t\t\r\n    \t\tframe.getRootPane().setActionMap(actionMap);\r\n    \t\tframe.getRootPane().setInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);\r\n    \r\n    \t\t// setup window listener for close action\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.addWindowListener(new WindowAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void windowClosing(WindowEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tstop();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static void main(String... args)\r\n    \t{\r\n    \t\tHighRes webcam = new HighRes();\r\n    \t\twebcam.start();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \r\n    \t\t\tgrabber.setImageWidth(frameWidth);\r\n    \t\t\tgrabber.setImageHeight(frameHeight);\r\n    \t\t\tgrabber.start();\r\n    \t\t\twhile (running)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\tfinal IplImage cvimg = grabber.grab();\r\n    \t\t\t\tif (cvimg != null)\r\n    \t\t\t\t{\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// cvFlip(cvimg, cvimg, 1); // mirror\r\n    \r\n    \t\t\t\t\t// show image on window\r\n    \t\t\t\t\tbufImg = cvimg.getBufferedImage();\r\n    \t\t\t\t\tframe.showImage(bufImg);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tgrabber.stop();\r\n    \t\t\tgrabber.release();\r\n    \t\t\tframe.dispose();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void start()\r\n    \t{\r\n    \t\tnew Thread(this).start();\r\n    \t\trunning = true;\r\n    \t}\r\n    \r\n    \tpublic void stop()\r\n    \t{\r\n    \t\trunning = false;\r\n    \t}\r\n    \r\n    \tprivate class KeyBinding extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tpublic KeyBinding(String text)\r\n    \t\t{\r\n    \t\t\tsuper(text);\r\n    \t\t\tputValue(ACTION_COMMAND_KEY, text);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent e)\r\n    \t\t{\r\n    \t\t\tString action = e.getActionCommand();\r\n    \t\t\tif (action.equals(Keys.ESCAPE.toString()) || action.equals(Keys.CTRLC.toString())) stop();\r\n    \t\t\telse System.out.println(&quot;Key Binding: &quot; + action);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    enum Keys\r\n    {\r\n    \tESCAPE(&quot;Escape&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0)),\r\n    \tCTRLC(&quot;Control-C&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_C, KeyEvent.CTRL_DOWN_MASK)),\r\n    \tUP(&quot;Up&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0)),\r\n    \tDOWN(&quot;Down&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0)),\r\n    \tLEFT(&quot;Left&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0)),\r\n    \tRIGHT(&quot;Right&quot;, KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0));\r\n    \r\n    \tprivate String text;\r\n    \tprivate KeyStroke keyStroke;\r\n    \r\n    \tKeys(String text, KeyStroke keyStroke)\r\n    \t{\r\n    \t\tthis.text = text;\r\n    \t\tthis.keyStroke = keyStroke;\r\n    \t}\r\n    \r\n    \tpublic String getText()\r\n    \t{\r\n    \t\treturn text;\r\n    \t}\r\n    \r\n    \tpublic KeyStroke getKeyStroke()\r\n    \t{\r\n    \t\treturn keyStroke;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\treturn text;\r\n    \t}\r\n    }","title":"Capturing image from webcam in java?","body":"<p>This kind of goes off of gt_ebuddy's answer using JavaCV, but my video output is at a much higher quality then his answer.  I've also added some other random improvements (such as closing down the program when <kbd>ESC</kbd> and <kbd>CTRL+C</kbd> are pressed, and making sure to close down the resources the program uses properly).</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.KeyStroke;\n\nimport com.googlecode.javacv.CanvasFrame;\nimport com.googlecode.javacv.OpenCVFrameGrabber;\nimport com.googlecode.javacv.cpp.opencv_core.IplImage;\n\npublic class HighRes extends JComponent implements Runnable {\n    private static final long serialVersionUID = 1L;\n\n    private static CanvasFrame frame = new CanvasFrame(\"Web Cam\");\n    private static boolean running = false;\n    private static int frameWidth = 800;\n    private static int frameHeight = 600;\n    private static OpenCVFrameGrabber grabber = new OpenCVFrameGrabber(0);\n    private static BufferedImage bufImg;\n\n    public HighRes()\n    {\n        // setup key bindings\n        ActionMap actionMap = frame.getRootPane().getActionMap();\n        InputMap inputMap = frame.getRootPane().getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW);\n\n        for (Keys direction : Keys.values())\n        {\n            actionMap.put(direction.getText(), new KeyBinding(direction.getText()));\n            inputMap.put(direction.getKeyStroke(), direction.getText());\n        }\n\n        frame.getRootPane().setActionMap(actionMap);\n        frame.getRootPane().setInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW, inputMap);\n\n        // setup window listener for close action\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.addWindowListener(new WindowAdapter()\n        {\n            public void windowClosing(WindowEvent e)\n            {\n                stop();\n            }\n        });\n    }\n\n    public static void main(String... args)\n    {\n        HighRes webcam = new HighRes();\n        webcam.start();\n    }\n\n    @Override\n    public void run()\n    {\n        try\n        {\n\n            grabber.setImageWidth(frameWidth);\n            grabber.setImageHeight(frameHeight);\n            grabber.start();\n            while (running)\n            {\n\n                final IplImage cvimg = grabber.grab();\n                if (cvimg != null)\n                {\n\n                    // cvFlip(cvimg, cvimg, 1); // mirror\n\n                    // show image on window\n                    bufImg = cvimg.getBufferedImage();\n                    frame.showImage(bufImg);\n                }\n            }\n            grabber.stop();\n            grabber.release();\n            frame.dispose();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public void start()\n    {\n        new Thread(this).start();\n        running = true;\n    }\n\n    public void stop()\n    {\n        running = false;\n    }\n\n    private class KeyBinding extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n\n        public KeyBinding(String text)\n        {\n            super(text);\n            putValue(ACTION_COMMAND_KEY, text);\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e)\n        {\n            String action = e.getActionCommand();\n            if (action.equals(Keys.ESCAPE.toString()) || action.equals(Keys.CTRLC.toString())) stop();\n            else System.out.println(\"Key Binding: \" + action);\n        }\n    }\n}\n\nenum Keys\n{\n    ESCAPE(\"Escape\", KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE, 0)),\n    CTRLC(\"Control-C\", KeyStroke.getKeyStroke(KeyEvent.VK_C, KeyEvent.CTRL_DOWN_MASK)),\n    UP(\"Up\", KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0)),\n    DOWN(\"Down\", KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0)),\n    LEFT(\"Left\", KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0)),\n    RIGHT(\"Right\", KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0));\n\n    private String text;\n    private KeyStroke keyStroke;\n\n    Keys(String text, KeyStroke keyStroke)\n    {\n        this.text = text;\n        this.keyStroke = keyStroke;\n    }\n\n    public String getText()\n    {\n        return text;\n    }\n\n    public KeyStroke getKeyStroke()\n    {\n        return keyStroke;\n    }\n\n    @Override\n    public String toString()\n    {\n        return text;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9958545,"reputation":31,"user_id":7368579,"display_name":"Uddika Dilshan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651635877,"creation_date":1505075899,"answer_id":46145364,"question_id":276292,"body_markdown":"I used Webcam Capture API. You can download it from [here][1]\r\n```\r\nwebcam = Webcam.getDefault();\r\nwebcam.open();\r\n\r\nif (webcam.isOpen()) { //if web cam open \r\n    BufferedImage image = webcam.getImage();\r\n    JLabel imageLbl = new JLabel();\r\n    imageLbl.setSize(640, 480);             //show captured image\r\n    imageLbl.setIcon(new ImageIcon(image));\r\n\r\n    int showConfirmDialog = JOptionPane.showConfirmDialog(null, imageLbl, &quot;Image Viewer&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, new ImageIcon(&quot;&quot;));\r\n\r\n    if (showConfirmDialog == JOptionPane.YES_OPTION) {\r\n        JFileChooser chooser = new JFileChooser();\r\n        chooser.setDialogTitle(&quot;Save Image&quot;);\r\n        chooser.setFileFilter(new FileNameExtensionFilter(&quot;IMAGES ONLY&quot;, &quot;png&quot;, &quot;jpeg&quot;, &quot;jpg&quot;)); //this file extentions are shown\r\n        int showSaveDialog = chooser.showSaveDialog(this);\r\n        if (showSaveDialog == 0) {                  //if pressed &#39;Save&#39; button\r\n            String filePath = chooser.getCurrentDirectory().toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\r\n            String fileName = chooser.getSelectedFile().getName(); //get user entered file name to save\r\n            ImageIO.write(image, &quot;PNG&quot;, new File(filePath + &quot;/&quot; + fileName + &quot;.png&quot;));\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n[1]: http://webcam-capture.sarxos.pl/","title":"Capturing image from webcam in java?","body":"<p>I used Webcam Capture API. You can download it from <a href=\"http://webcam-capture.sarxos.pl/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>webcam = Webcam.getDefault();\nwebcam.open();\n\nif (webcam.isOpen()) { //if web cam open \n    BufferedImage image = webcam.getImage();\n    JLabel imageLbl = new JLabel();\n    imageLbl.setSize(640, 480);             //show captured image\n    imageLbl.setIcon(new ImageIcon(image));\n\n    int showConfirmDialog = JOptionPane.showConfirmDialog(null, imageLbl, &quot;Image Viewer&quot;, JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, new ImageIcon(&quot;&quot;));\n\n    if (showConfirmDialog == JOptionPane.YES_OPTION) {\n        JFileChooser chooser = new JFileChooser();\n        chooser.setDialogTitle(&quot;Save Image&quot;);\n        chooser.setFileFilter(new FileNameExtensionFilter(&quot;IMAGES ONLY&quot;, &quot;png&quot;, &quot;jpeg&quot;, &quot;jpg&quot;)); //this file extentions are shown\n        int showSaveDialog = chooser.showSaveDialog(this);\n        if (showSaveDialog == 0) {                  //if pressed 'Save' button\n            String filePath = chooser.getCurrentDirectory().toString().replace(&quot;\\\\&quot;, &quot;/&quot;);\n            String fileName = chooser.getSelectedFile().getName(); //get user entered file name to save\n            ImageIO.write(image, &quot;PNG&quot;, new File(filePath + &quot;/&quot; + fileName + &quot;.png&quot;));\n\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":16490,"reputation":861,"user_id":35962,"display_name":"Divide By Zero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260404,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"answer_count":16,"score":86,"last_activity_date":1672177762,"creation_date":1226256142,"question_id":276292,"body_markdown":"How can I continuously capture images from a webcam?\r\n\r\nI want to experiment with object recognition (by maybe using java media framework). \r\n\r\nI was thinking of creating two threads\r\n\r\none thread:\r\n\r\n  - Node 1: capture live image\r\n  - Node 2: save image as &quot;1.jpg&quot;\r\n  - Node 3: wait 5 seconds\r\n  - Node 4: repeat...\r\n\r\nother thread:\r\n\r\n  - Node 1: wait until image is captured\r\n  - Node 2: using the &quot;1.jpg&quot; get colors\r\n    from every pixle\r\n  - Node 3: save data in arrays\r\n  - Node 4: repeat...\r\n\r\n","title":"Capturing image from webcam in java?","body":"<p>How can I continuously capture images from a webcam?</p>\n\n<p>I want to experiment with object recognition (by maybe using java media framework). </p>\n\n<p>I was thinking of creating two threads</p>\n\n<p>one thread:</p>\n\n<ul>\n<li>Node 1: capture live image</li>\n<li>Node 2: save image as \"1.jpg\"</li>\n<li>Node 3: wait 5 seconds</li>\n<li>Node 4: repeat...</li>\n</ul>\n\n<p>other thread:</p>\n\n<ul>\n<li>Node 1: wait until image is captured</li>\n<li>Node 2: using the \"1.jpg\" get colors\nfrom every pixle</li>\n<li>Node 3: save data in arrays</li>\n<li>Node 4: repeat...</li>\n</ul>\n"},{"tags":["java","custom-training"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1672169697,"post_id":74933410,"comment_id":132235514,"body_markdown":"If you&#39;re a beginner at Java, then Codewars is *not* studying. It&#39;s not even a substitute for studying. Studying is reading tutorials or books or other actual learning material. Codewars is something you do for fun once you already understand the language and tooling. You will not master Java by solving isolated coding problems that test all of the weird parts of the language. You will master Java by writing real, useful programs that solve real problems.","body":"If you&#39;re a beginner at Java, then Codewars is <i>not</i> studying. It&#39;s not even a substitute for studying. Studying is reading tutorials or books or other actual learning material. Codewars is something you do for fun once you already understand the language and tooling. You will not master Java by solving isolated coding problems that test all of the weird parts of the language. You will master Java by writing real, useful programs that solve real problems."},{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":0,"creation_date":1672170177,"post_id":74933410,"comment_id":132235606,"body_markdown":"@SilvioMayolo I disagree with this advice, solving coding problems will make you better with the language and a better engineer in general. Saying it&#39;s &quot;not studying&quot; is wrong.","body":"@SilvioMayolo I disagree with this advice, solving coding problems will make you better with the language and a better engineer in general. Saying it&#39;s &quot;not studying&quot; is wrong."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1672172239,"post_id":74933410,"comment_id":132236075,"body_markdown":"There are easier sites for beginners, like codingbat.com.","body":"There are easier sites for beginners, like codingbat.com."},{"owner":{"account_id":27367759,"reputation":1,"user_id":20874302,"display_name":"Luis Lopez"},"score":0,"creation_date":1672292490,"post_id":74933410,"comment_id":132259788,"body_markdown":"Thank you for the comments and a really appreciate all the advices here. I went to code wars as is the only reference I have to practice and keep my mind busy. And actually, I was just thinking about to get involved into coding with actual codes instead of readings and other supporting materials. I&#39;ll try to solve this and then go to the other websites that are &quot;easier&quot; for a better start up","body":"Thank you for the comments and a really appreciate all the advices here. I went to code wars as is the only reference I have to practice and keep my mind busy. And actually, I was just thinking about to get involved into coding with actual codes instead of readings and other supporting materials. I&#39;ll try to solve this and then go to the other websites that are &quot;easier&quot; for a better start up"}],"answers":[{"tags":[],"owner":{"account_id":16683494,"reputation":126,"user_id":12058001,"display_name":"Aitsuken"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672171657,"creation_date":1672171657,"answer_id":74933707,"question_id":74933410,"body_markdown":"Did you start your journey the right way. Going straight into codewars is challenging and frustrating for green pals.\r\n\r\nAnd I can see in your code you made quite a mistake. You basically check if next word is acceptable to be joined, if it is, you return true. However, you are supposed to check all words and all possible combinations between them and only then return true or false(one of the possible approaches). \r\n\r\nTry to solve simpler questions and learn through books/tutorials and solving those problems for now are not the key way to learn programming as a beginner. There are many sources that can help you for free: youtube/geek4geeks/tutorialspoint/baeldung and more","title":"Millipede @ Codewars","body":"<p>Did you start your journey the right way. Going straight into codewars is challenging and frustrating for green pals.</p>\n<p>And I can see in your code you made quite a mistake. You basically check if next word is acceptable to be joined, if it is, you return true. However, you are supposed to check all words and all possible combinations between them and only then return true or false(one of the possible approaches).</p>\n<p>Try to solve simpler questions and learn through books/tutorials and solving those problems for now are not the key way to learn programming as a beginner. There are many sources that can help you for free: youtube/geek4geeks/tutorialspoint/baeldung and more</p>\n"}],"owner":{"account_id":27367759,"reputation":1,"user_id":20874302,"display_name":"Luis Lopez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672177158,"creation_date":1672169245,"question_id":74933410,"body_markdown":"I am practicing with codewars and started doing my first challenge that is about the following:\r\n\r\nThe set of words is given. Words are joined if the last letter of one word and the first letter of another word are the same. Return *true* if all words of the set can be combined into one word. Each word can and must be used only once. Otherwise return *false*.\r\n\r\nInput\r\nArray of 3 to 7 words of random length. No capital letters.\r\n\r\nExample true\r\nSet: excavate, endure, desire, screen, theater, excess, night.\r\nMillipede: desirE EndurE ExcavatE ExcesS ScreeN NighT Theater.\r\n\r\nExample false\r\nSet: trade, pole, view, grave, ladder, mushroom, president.\r\nMillipede: presidenT Trade.\r\n\r\nHere is my code :\r\n\r\n```\r\npublic class Millipede {\r\n  public static boolean check(String[] millipede) {\r\n            boolean itCombines = true;\r\n            String setOfWords1 = &quot;&quot;;\r\n            String setOfWords2 = &quot;&quot;;\r\n            for (int i = 0; i &lt; millipede.length - 1; i++) {\r\n\r\n                if (!millipede[i].equals(millipede[i + 1])) {\r\n                    setOfWords1 = millipede[i];\r\n                    setOfWords2 = millipede[i + 1];\r\n                    if (setOfWords1.charAt(setOfWords1.length() - 1) == setOfWords2.charAt(0)) {\r\n                            return itCombines;\r\n                    } else {\r\n                        return !itCombines;\r\n                    }\r\n                    }\r\n                } return itCombines;\r\n            } \r\n  }\r\n```\r\nWhen I click on the TEST button, everything goes fine and all tests pass, but when I click on the ATTEMPT button it is failing 3 but passing 4.\r\n\r\n```none\r\nFAILS:\r\nfiveWords()\r\nscreen, desire, theater, excess, night ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;\r\n\r\nrandomTests()\r\nengine, entertainment, extract, thesis ==&gt; expected: &lt;false&gt; but was: &lt;true&gt;\r\n\r\noneLetterWords()\r\neast, e, e, t, t, e, time ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;\r\n```\r\n\r\nI was trying to use the Random class to get a random index in order to compare Strings in different positions but it was making the test to fail.","title":"Millipede @ Codewars","body":"<p>I am practicing with codewars and started doing my first challenge that is about the following:</p>\n<p>The set of words is given. Words are joined if the last letter of one word and the first letter of another word are the same. Return <em>true</em> if all words of the set can be combined into one word. Each word can and must be used only once. Otherwise return <em>false</em>.</p>\n<p>Input\nArray of 3 to 7 words of random length. No capital letters.</p>\n<p>Example true\nSet: excavate, endure, desire, screen, theater, excess, night.\nMillipede: desirE EndurE ExcavatE ExcesS ScreeN NighT Theater.</p>\n<p>Example false\nSet: trade, pole, view, grave, ladder, mushroom, president.\nMillipede: presidenT Trade.</p>\n<p>Here is my code :</p>\n<pre><code>public class Millipede {\n  public static boolean check(String[] millipede) {\n            boolean itCombines = true;\n            String setOfWords1 = &quot;&quot;;\n            String setOfWords2 = &quot;&quot;;\n            for (int i = 0; i &lt; millipede.length - 1; i++) {\n\n                if (!millipede[i].equals(millipede[i + 1])) {\n                    setOfWords1 = millipede[i];\n                    setOfWords2 = millipede[i + 1];\n                    if (setOfWords1.charAt(setOfWords1.length() - 1) == setOfWords2.charAt(0)) {\n                            return itCombines;\n                    } else {\n                        return !itCombines;\n                    }\n                    }\n                } return itCombines;\n            } \n  }\n</code></pre>\n<p>When I click on the TEST button, everything goes fine and all tests pass, but when I click on the ATTEMPT button it is failing 3 but passing 4.</p>\n<pre class=\"lang-none prettyprint-override\"><code>FAILS:\nfiveWords()\nscreen, desire, theater, excess, night ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;\n\nrandomTests()\nengine, entertainment, extract, thesis ==&gt; expected: &lt;false&gt; but was: &lt;true&gt;\n\noneLetterWords()\neast, e, e, t, t, e, time ==&gt; expected: &lt;true&gt; but was: &lt;false&gt;\n</code></pre>\n<p>I was trying to use the Random class to get a random index in order to compare Strings in different positions but it was making the test to fail.</p>\n"},{"tags":["java","security","constraints"],"owner":{"account_id":27364501,"reputation":1,"user_id":20871583,"display_name":"vidhya sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672177037,"creation_date":1672143349,"question_id":74929145,"body_markdown":"We are using form based authentication in our application and we need to disable security-constraint in runtime in our java web application.\r\n\r\nAs of now we configured the security constraints in web.xml. The requirement is for the same url patterns we need to enable or disable the security contraints in run time.\r\n\r\nWe are expecting to enable or disable the security constraint in runtime.","title":"How to disable the security-constraint in runtime in java web application","body":"<p>We are using form based authentication in our application and we need to disable security-constraint in runtime in our java web application.</p>\n<p>As of now we configured the security constraints in web.xml. The requirement is for the same url patterns we need to enable or disable the security contraints in run time.</p>\n<p>We are expecting to enable or disable the security constraint in runtime.</p>\n"},{"tags":["java","struts2","valuestack"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1671193918,"post_id":74819546,"comment_id":132051818,"body_markdown":"The value stack is local to the action. It seems that you are using objects from different scope. It can&#39;t be figured out because you didn&#39;t post all necessary details.","body":"The value stack is local to the action. It seems that you are using objects from different scope. It can&#39;t be figured out because you didn&#39;t post all necessary details."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1671202197,"post_id":74819546,"comment_id":132054758,"body_markdown":"It&#39;s not clear why you expect this to do what you want. `this` is the action being called; it has its own `casePostFormBean`. The pattern seems incorrect anyway--what problem are you trying to solve?","body":"It&#39;s not clear why you expect this to do what you want. <code>this</code> is the action being called; it has its own <code>casePostFormBean</code>. The pattern seems incorrect anyway--what problem are you trying to solve?"},{"owner":{"account_id":8765800,"reputation":4847,"user_id":6724844,"accept_rate":95,"display_name":"Heisenberg"},"score":0,"creation_date":1671413019,"post_id":74819546,"comment_id":132087708,"body_markdown":"I edited my question, as I am novice to this concept,, I would like to figure out `Object scope`.. `casePostFormBean` has different scopes ? thanks !","body":"I edited my question, as I am novice to this concept,, I would like to figure out <code>Object scope</code>.. <code>casePostFormBean</code> has different scopes ? thanks !"}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672054140,"creation_date":1672054140,"answer_id":74919867,"question_id":74819546,"body_markdown":"If you set some bean to the action object, then it belongs to it until you reference it someare else, i.e. a session map. Since you have to implement a `SessionAware` interface on `CasePostAction`. Then you put `CasePostFormBean` into the session map. In this way the scope of the object will be a session scope until you remove it from the session or invalidate a session map.\r\n\r\nIn the JSP you use EL expression to search for the `CasePostFormBean`. Currently you keep it in the action bean and a scope belongs to the `action` scope.\r\n\r\nThe `action` scope is similar to the `request` if you don&#39;t instantiate other actions in the request like `&lt;s:action&gt;`. Each action has its own `action` scope and therefore a `ValueStack`.\r\n\r\nChange the code \r\n\r\n```\r\npublic class CasePostAction extends ActionSupport implements SessionAware {\r\n\r\n    @Getter @Setter\r\n    private CasePostFormBean casePostFormBean = new CasePostFormBean();\r\n\r\n    @Getter @Setter\r\n    private Map&lt;String, Object&gt; session;\r\n\r\n    @Action(value = &quot;case-create&quot;, results = {\r\n        @Result(location = &quot;case.jsp&quot;)\r\n    })\r\n    public String register() {\r\n        \r\nthis.casePostFormBean.setSubject(&quot;success to send form&quot;);\r\n        session.put(&quot;casePostFormBean&quot;, casePostFormBean);\r\n        return SUCCESS;\r\n    }\r\n}\r\n}\r\n```\r\n\r\nWhen a result is executed you should reference this object directly from the session.\r\n\r\n```xml\r\nbefore action:&lt;s:property value=&quot;%{#session.casePostFormBean.subject}&quot;/&gt;\r\n&lt;s:action var=&quot;ServletHelperAction&quot; name=&quot;login-user-to-bean&quot; namespace=&quot;/servlet-helper&quot;&gt;&lt;/s:action&gt;\r\nafter action:&lt;s:property value=&quot;%{#session.casePostFormBean.subject}&quot;/&gt;\r\n```\r\n","title":"Value of Value stack is changed after execute another action in Struts2","body":"<p>If you set some bean to the action object, then it belongs to it until you reference it someare else, i.e. a session map. Since you have to implement a <code>SessionAware</code> interface on <code>CasePostAction</code>. Then you put <code>CasePostFormBean</code> into the session map. In this way the scope of the object will be a session scope until you remove it from the session or invalidate a session map.</p>\n<p>In the JSP you use EL expression to search for the <code>CasePostFormBean</code>. Currently you keep it in the action bean and a scope belongs to the <code>action</code> scope.</p>\n<p>The <code>action</code> scope is similar to the <code>request</code> if you don't instantiate other actions in the request like <code>&lt;s:action&gt;</code>. Each action has its own <code>action</code> scope and therefore a <code>ValueStack</code>.</p>\n<p>Change the code</p>\n<pre><code>public class CasePostAction extends ActionSupport implements SessionAware {\n\n    @Getter @Setter\n    private CasePostFormBean casePostFormBean = new CasePostFormBean();\n\n    @Getter @Setter\n    private Map&lt;String, Object&gt; session;\n\n    @Action(value = &quot;case-create&quot;, results = {\n        @Result(location = &quot;case.jsp&quot;)\n    })\n    public String register() {\n        \nthis.casePostFormBean.setSubject(&quot;success to send form&quot;);\n        session.put(&quot;casePostFormBean&quot;, casePostFormBean);\n        return SUCCESS;\n    }\n}\n}\n</code></pre>\n<p>When a result is executed you should reference this object directly from the session.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>before action:&lt;s:property value=&quot;%{#session.casePostFormBean.subject}&quot;/&gt;\n&lt;s:action var=&quot;ServletHelperAction&quot; name=&quot;login-user-to-bean&quot; namespace=&quot;/servlet-helper&quot;&gt;&lt;/s:action&gt;\nafter action:&lt;s:property value=&quot;%{#session.casePostFormBean.subject}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":8765800,"reputation":4847,"user_id":6724844,"accept_rate":95,"display_name":"Heisenberg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74919867,"answer_count":1,"score":1,"last_activity_date":1672175883,"creation_date":1671157233,"question_id":74819546,"body_markdown":"I have like following `jsp`.I send some data via form and execute `Action`,\r\n\r\n`case.jsp`\r\n```\r\nbefore action:${CasePostFormBean.subject}\r\n&lt;s:action var=&quot;ServletHelperAction&quot; name=&quot;login-user-to-bean&quot; namespace=&quot;/servlet-helper&quot;&gt;&lt;/s:action&gt;\r\nafter action:${CasePostFormBean.subject}\r\n\r\n&lt;input name=&quot;CasePostFormBean.subject&quot; value=&quot;${CasePostFormBean.getSubject()}&quot; form=&quot;formCasePost&quot;&gt;\r\n\r\n&lt;form method=&quot;post&quot; id=&quot;formCasePost&quot; submit=&quot;case-create&quot;&gt;&lt;/form&gt;\r\n\r\n```\r\n`servlethelper.jsp`\r\n```\r\n&lt;html&gt;&lt;/html&gt;\r\n```\r\n`CasePostAction.java`\r\n\r\n```\r\npublic class CasePostAction extends ActionSupport implements SessionAware {\r\n\r\n    @Getter @Setter\r\n    private CasePostFormBean casePostFormBean = new CasePostFormBean();\r\n\r\n    @Action(value = &quot;case-create&quot;, results = {\r\n        @Result(location = &quot;case.jsp&quot;)\r\n    })\r\n    public String register() {\r\n        this.casePostFormBean.setSubject(&quot;success to send form&quot;);\r\n        return SUCCESS;\r\n    }\r\n}\r\n}\r\n```\r\n\r\n```\r\npublic class ServletHelperAction extends ActionSupport implements SessionAware  {\r\n\r\n    // Beans\r\n    @Getter @Setter\r\n    private UserParamsBean userParamsBean = new UserParamsBean();\r\n\r\n    @Action(value = &quot;login-user-to-bean&quot;, results = {\r\n        @Result(location = &quot;servlethelper.jsp&quot;)\r\n    })\r\n    public String loginUserToBean() {\r\n        final MstUserModel mstUserModel = new MstUserModel(this.dbManager.getSqlSession());\r\n\r\n        if (this.session.get(&quot;userParamsBean.userCode&quot;) != null) {\r\n            this.userParamsBean.setUserCode(this.session.get(&quot;userParamsBean.userCode&quot;).toString());\r\n\r\n            Map&lt;String, Object&gt; loginUser = mstUserModel.selectUserOne(1, this.userParamsBean.getUserCode()).get(0);\r\n            this.userParamsBean.setUserName(loginUser.get(&quot;name&quot;).toString());\r\n        }\r\n        return SUCCESS;\r\n    }\r\n}\r\n\r\n```\r\nAfter input `input value` and after button submitted, like following was shown.\r\n```\r\nbefore action: success to send form\r\nafter action: input value\r\n```\r\nOut put is like follows, When I execute another action via `&lt;s:action&gt;` the value stack seems to be changed.\r\nSeems that after `&lt;s:action&gt;` these sent data was recaptured by value stack.\r\n\r\nMy desired result is like \r\n\r\n```\r\nbefore action: success to send form\r\nafter action: success to send form\r\n```\r\n\r\nWhat is the root cause of this?\r\n\r\n\r\n","title":"Value of Value stack is changed after execute another action in Struts2","body":"<p>I have like following <code>jsp</code>.I send some data via form and execute <code>Action</code>,</p>\n<p><code>case.jsp</code></p>\n<pre><code>before action:${CasePostFormBean.subject}\n&lt;s:action var=&quot;ServletHelperAction&quot; name=&quot;login-user-to-bean&quot; namespace=&quot;/servlet-helper&quot;&gt;&lt;/s:action&gt;\nafter action:${CasePostFormBean.subject}\n\n&lt;input name=&quot;CasePostFormBean.subject&quot; value=&quot;${CasePostFormBean.getSubject()}&quot; form=&quot;formCasePost&quot;&gt;\n\n&lt;form method=&quot;post&quot; id=&quot;formCasePost&quot; submit=&quot;case-create&quot;&gt;&lt;/form&gt;\n\n</code></pre>\n<p><code>servlethelper.jsp</code></p>\n<pre><code>&lt;html&gt;&lt;/html&gt;\n</code></pre>\n<p><code>CasePostAction.java</code></p>\n<pre><code>public class CasePostAction extends ActionSupport implements SessionAware {\n\n    @Getter @Setter\n    private CasePostFormBean casePostFormBean = new CasePostFormBean();\n\n    @Action(value = &quot;case-create&quot;, results = {\n        @Result(location = &quot;case.jsp&quot;)\n    })\n    public String register() {\n        this.casePostFormBean.setSubject(&quot;success to send form&quot;);\n        return SUCCESS;\n    }\n}\n}\n</code></pre>\n<pre><code>public class ServletHelperAction extends ActionSupport implements SessionAware  {\n\n    // Beans\n    @Getter @Setter\n    private UserParamsBean userParamsBean = new UserParamsBean();\n\n    @Action(value = &quot;login-user-to-bean&quot;, results = {\n        @Result(location = &quot;servlethelper.jsp&quot;)\n    })\n    public String loginUserToBean() {\n        final MstUserModel mstUserModel = new MstUserModel(this.dbManager.getSqlSession());\n\n        if (this.session.get(&quot;userParamsBean.userCode&quot;) != null) {\n            this.userParamsBean.setUserCode(this.session.get(&quot;userParamsBean.userCode&quot;).toString());\n\n            Map&lt;String, Object&gt; loginUser = mstUserModel.selectUserOne(1, this.userParamsBean.getUserCode()).get(0);\n            this.userParamsBean.setUserName(loginUser.get(&quot;name&quot;).toString());\n        }\n        return SUCCESS;\n    }\n}\n\n</code></pre>\n<p>After input <code>input value</code> and after button submitted, like following was shown.</p>\n<pre><code>before action: success to send form\nafter action: input value\n</code></pre>\n<p>Out put is like follows, When I execute another action via <code>&lt;s:action&gt;</code> the value stack seems to be changed.\nSeems that after <code>&lt;s:action&gt;</code> these sent data was recaptured by value stack.</p>\n<p>My desired result is like</p>\n<pre><code>before action: success to send form\nafter action: success to send form\n</code></pre>\n<p>What is the root cause of this?</p>\n"},{"tags":["java","java-native-interface","bazel"],"comments":[{"owner":{"display_name":"user10316011"},"score":0,"creation_date":1559293157,"post_id":56391228,"comment_id":99382576,"body_markdown":"I&#39;m pretty sure the error message continues after the colon, what is the entire error message?","body":"I&#39;m pretty sure the error message continues after the colon, what is the entire error message?"},{"owner":{"account_id":1693704,"reputation":1816,"user_id":1555575,"display_name":"macron"},"score":0,"creation_date":1559308351,"post_id":56391228,"comment_id":99390013,"body_markdown":"It does not. Though that&#39;s mostly an artifact of `@bazel_tools//tools/jdk:current_java_runtime` causing many libraries that would be dynamically loaded to already be runtime dependencies of the binary. If you link against `libjvm.so` only (which is sufficient), then what comes after the colon is the first library that fails to load (usually, `&lt;absolutepath&gt;/libjava.so` where `&lt;absolutepath&gt;` points somewhere in the `_solibs` directory of library symlinks).","body":"It does not. Though that&#39;s mostly an artifact of <code>@bazel_tools&#47;&#47;tools&#47;jdk:current_java_runtime</code> causing many libraries that would be dynamically loaded to already be runtime dependencies of the binary. If you link against <code>libjvm.so</code> only (which is sufficient), then what comes after the colon is the first library that fails to load (usually, <code>&lt;absolutepath&gt;&#47;libjava.so</code> where <code>&lt;absolutepath&gt;</code> points somewhere in the <code>_solibs</code> directory of library symlinks)."}],"answers":[{"tags":[],"owner":{"account_id":112747,"reputation":1589,"user_id":297261,"accept_rate":80,"display_name":"Fabian Meumertzheim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672175082,"creation_date":1672175082,"answer_id":74934112,"question_id":56391228,"body_markdown":"[rules_jvm][1] (of which I am the author) offers a target at `@fmeum_rules_jni//jni:libjvm` that you can link against and that behaves just like `libjvm.so`, but automatically finds the library when executed. If you additionally call `rules_jni_init`, it will find the current Java runtime used by Bazel.\r\n\r\n\r\n  [1]: https://github.com/fmeum/rules_jni/blob/main/docs/targets.md#libjvm-libjvm_lite","title":"Bazel: How to build a C++ app that uses the JNI?","body":"<p><a href=\"https://github.com/fmeum/rules_jni/blob/main/docs/targets.md#libjvm-libjvm_lite\" rel=\"nofollow noreferrer\">rules_jvm</a> (of which I am the author) offers a target at <code>@fmeum_rules_jni//jni:libjvm</code> that you can link against and that behaves just like <code>libjvm.so</code>, but automatically finds the library when executed. If you additionally call <code>rules_jni_init</code>, it will find the current Java runtime used by Bazel.</p>\n"}],"owner":{"account_id":1693704,"reputation":1816,"user_id":1555575,"display_name":"macron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672175082,"creation_date":1559290440,"question_id":56391228,"body_markdown":"In [this answer][1], @hlopko shows how to build a Java app that calls native code. But how do I build a native app that calls Java code?\r\n\r\nMy attempt, detailed below, fails with:\r\n\r\n    Error occurred during initialization of VM\r\n    Unable to load native library: \r\n\r\nHe is the code. `BUILD.bazel`:\r\n\r\n    cc_binary(\r\n        name = &quot;main&quot;,\r\n        srcs = [\r\n            &quot;main.cc&quot;,\r\n            &quot;@local_jdk//:jni_header&quot;,\r\n            &quot;@local_jdk//:jni_md_header-linux&quot;,\r\n            &quot;@bazel_tools//tools/jdk:current_java_runtime&quot;,\r\n        ],\r\n        includes = [ &quot;external/local_jdk/include&quot;, \r\n        &quot;external/local_jdk/include/linux&quot;],\r\n    )\r\n\r\n\r\n`main.cc`:\r\n\r\n```\r\n#include &lt;jni.h&gt;\r\n\r\nint main() {\r\n  JNIEnv *env;\r\n  JavaVM *jvm;\r\n  JavaVMInitArgs vm_args;\r\n  JavaVMOption options[0];\r\n  jint res;\r\n\r\n  vm_args.version = JNI_VERSION_1_4;\r\n  vm_args.options = options;\r\n  vm_args.nOptions = 0;\r\n  vm_args.ignoreUnrecognized = JNI_FALSE;\r\n\r\n  /* Create the Java VM */\r\n  res = JNI_CreateJavaVM(&amp;jvm,(void**)&amp;env,&amp;vm_args);\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/46256118/bazel-java-app-with-jni-dependency","title":"Bazel: How to build a C++ app that uses the JNI?","body":"<p>In <a href=\"https://stackoverflow.com/questions/46256118/bazel-java-app-with-jni-dependency\">this answer</a>, @hlopko shows how to build a Java app that calls native code. But how do I build a native app that calls Java code?</p>\n\n<p>My attempt, detailed below, fails with:</p>\n\n<pre><code>Error occurred during initialization of VM\nUnable to load native library: \n</code></pre>\n\n<p>He is the code. <code>BUILD.bazel</code>:</p>\n\n<pre><code>cc_binary(\n    name = \"main\",\n    srcs = [\n        \"main.cc\",\n        \"@local_jdk//:jni_header\",\n        \"@local_jdk//:jni_md_header-linux\",\n        \"@bazel_tools//tools/jdk:current_java_runtime\",\n    ],\n    includes = [ \"external/local_jdk/include\", \n    \"external/local_jdk/include/linux\"],\n)\n</code></pre>\n\n<p><code>main.cc</code>:</p>\n\n<pre><code>#include &lt;jni.h&gt;\n\nint main() {\n  JNIEnv *env;\n  JavaVM *jvm;\n  JavaVMInitArgs vm_args;\n  JavaVMOption options[0];\n  jint res;\n\n  vm_args.version = JNI_VERSION_1_4;\n  vm_args.options = options;\n  vm_args.nOptions = 0;\n  vm_args.ignoreUnrecognized = JNI_FALSE;\n\n  /* Create the Java VM */\n  res = JNI_CreateJavaVM(&amp;jvm,(void**)&amp;env,&amp;vm_args);\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","navigation","bottomnavigationview"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1672173443,"post_id":74933871,"comment_id":132236371,"body_markdown":"There&#39;s no &quot;refresh&quot; happening at all unless you ask for one. Any data you&#39;ve already loaded and cached in a `ViewModel` is already instantly available, without any refresh, etc. required. Show your fragment code and how you load your data for that fragment if you want help with not avoiding reloading data that is already available.","body":"There&#39;s no &quot;refresh&quot; happening at all unless you ask for one. Any data you&#39;ve already loaded and cached in a <code>ViewModel</code> is already instantly available, without any refresh, etc. required. Show your fragment code and how you load your data for that fragment if you want help with not avoiding reloading data that is already available."},{"owner":{"account_id":16699468,"reputation":25,"user_id":12069636,"display_name":"freud"},"score":0,"creation_date":1672174264,"post_id":74933871,"comment_id":132236572,"body_markdown":"I updated the question. In short, I don&#39;t want the views to be recreated again and again when I switch the bottomnavigationview elements like in Instagram. I want it to continue from the item it left in the Recyclerview.","body":"I updated the question. In short, I don&#39;t want the views to be recreated again and again when I switch the bottomnavigationview elements like in Instagram. I want it to continue from the item it left in the Recyclerview."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1672177085,"post_id":74933871,"comment_id":132237169,"body_markdown":"The views being recreated doesn&#39;t have anything to do with [saving your state](https://developer.android.com/guide/fragments/saving-state). RecyclerView already restores its position exactly where you left off, whether the view is recreated or not - there&#39;s a [whole blog post about that](https://medium.com/androiddevelopers/restore-recyclerview-scroll-position-a8fbdc9a9334). You haven&#39;t actually included any of the code for how you load your data or fill in your RecyclerView.","body":"The views being recreated doesn&#39;t have anything to do with <a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">saving your state</a>. RecyclerView already restores its position exactly where you left off, whether the view is recreated or not - there&#39;s a <a href=\"https://medium.com/androiddevelopers/restore-recyclerview-scroll-position-a8fbdc9a9334\" rel=\"nofollow noreferrer\">whole blog post about that</a>. You haven&#39;t actually included any of the code for how you load your data or fill in your RecyclerView."},{"owner":{"account_id":16699468,"reputation":25,"user_id":12069636,"display_name":"freud"},"score":0,"creation_date":1672236529,"post_id":74933871,"comment_id":132248118,"body_markdown":"Thank you.I got it.But there is a pulling data from Firebase database in my OnviewCreated.I don&#39;t want to pull data from firebase again and again. I have to redo everything I do in Onviewcreate. Downloading data, displaying in recyclerview, creating adapter etc. I don&#39;t want this. I can create static data and control it, but I&#39;m wondering if there is a better way to do this.","body":"Thank you.I got it.But there is a pulling data from Firebase database in my OnviewCreated.I don&#39;t want to pull data from firebase again and again. I have to redo everything I do in Onviewcreate. Downloading data, displaying in recyclerview, creating adapter etc. I don&#39;t want this. I can create static data and control it, but I&#39;m wondering if there is a better way to do this."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1672242820,"post_id":74933871,"comment_id":132250111,"body_markdown":"Like I said in the first comment, your data loading should be in a ViewModel, where it is instantly available to your new UI without any waiting at all. Show. Your. Code.","body":"Like I said in the first comment, your data loading should be in a ViewModel, where it is instantly available to your new UI without any waiting at all. Show. Your. Code."}],"owner":{"account_id":16699468,"reputation":25,"user_id":12069636,"display_name":"freud"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672174881,"creation_date":1672173002,"question_id":74933871,"body_markdown":"I am using navigationGraph and bottom navigation.I know that fragments are recreate every time bottomnavigation buttons are clicked in BottomNavigation. If there is already a fragment created  I don&#39;t want the fragment to be refreshed in bottomnavigation passes like in other applications(like twitter,instagram etc.).  When I return to MainFragment again, all views are recreated again and unnecessarily pulls data from the database again. Many questions have been asked about this, but none of them worked as I wanted. Any suggestions?\r\n\r\nI uploaded a photo. When I go back to MainFragment from other fragments, MainFragment is recreated again .[![When I go back to MainFragment from other fragments, MainFragment is recreated again.][1]][1]\r\n\r\nMain Activity code;\r\n\r\n       override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n\r\n        navController=findNavController(R.id.main_fragmentContainerView)\r\n        val appBarConfiguration = AppBarConfiguration(\r\n            setOf(\r\n                R.id.mainFragment,\r\n                R.id.searchFragment,\r\n                R.id.userProfileFragment\r\n            )\r\n        )\r\n\r\n        bottomNavigationView.setupWithNavController(navController)\r\n        setupActionBarWithNavController(navController,appBarConfiguration)\r\n    }\r\n\r\n    override fun onNavigateUp(): Boolean {\r\n        return navController.navigateUp()||super.onSupportNavigateUp()\r\n    }\r\n\r\nMainFragment\r\n\r\n       override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n            readDatabase()\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ASKo.jpg","title":"Stop fragment refresh when using NavGraph in Bottom Navigation","body":"<p>I am using navigationGraph and bottom navigation.I know that fragments are recreate every time bottomnavigation buttons are clicked in BottomNavigation. If there is already a fragment created  I don't want the fragment to be refreshed in bottomnavigation passes like in other applications(like twitter,instagram etc.).  When I return to MainFragment again, all views are recreated again and unnecessarily pulls data from the database again. Many questions have been asked about this, but none of them worked as I wanted. Any suggestions?</p>\n<p>I uploaded a photo. When I go back to MainFragment from other fragments, MainFragment is recreated again .<a href=\"https://i.stack.imgur.com/2ASKo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ASKo.jpg\" alt=\"When I go back to MainFragment from other fragments, MainFragment is recreated again.\" /></a></p>\n<p>Main Activity code;</p>\n<pre><code>   override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    navController=findNavController(R.id.main_fragmentContainerView)\n    val appBarConfiguration = AppBarConfiguration(\n        setOf(\n            R.id.mainFragment,\n            R.id.searchFragment,\n            R.id.userProfileFragment\n        )\n    )\n\n    bottomNavigationView.setupWithNavController(navController)\n    setupActionBarWithNavController(navController,appBarConfiguration)\n}\n\noverride fun onNavigateUp(): Boolean {\n    return navController.navigateUp()||super.onSupportNavigateUp()\n}\n</code></pre>\n<p>MainFragment</p>\n<pre><code>   override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n        readDatabase()\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cassandra-3.0","janusgraph","tinkerpop3"],"answers":[{"tags":[],"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672174153,"creation_date":1672174153,"answer_id":74934014,"question_id":74920367,"body_markdown":"When writing a java application using janusgraph, you can choose between [embedding janusgraph in your application][1]  or [connecting to a janusgraph server][2]. Your code suggests you are attempting the embedded option, so you can start from the example in the provided link.\r\n\r\n\r\n  [1]: https://github.com/JanusGraph/janusgraph/tree/master/janusgraph-examples/example-cql\r\n  [2]: https://docs.janusgraph.org/interactions/connecting/java/","title":"Not able to create a connection to Janus to define the schema","body":"<p>When writing a java application using janusgraph, you can choose between <a href=\"https://github.com/JanusGraph/janusgraph/tree/master/janusgraph-examples/example-cql\" rel=\"nofollow noreferrer\">embedding janusgraph in your application</a>  or <a href=\"https://docs.janusgraph.org/interactions/connecting/java/\" rel=\"nofollow noreferrer\">connecting to a janusgraph server</a>. Your code suggests you are attempting the embedded option, so you can start from the example in the provided link.</p>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672174153,"creation_date":1672058252,"question_id":74920367,"body_markdown":"Not able to create a connection to Janus to define the schema.\r\n\r\n    JanusGraph graph = JanusGraphFactory.build().set(&quot;storage.backend&quot;, &quot;cql&quot;)//.set(&quot;storage.cql.keyspace&quot;, &quot;janusgraph&quot;)\r\n    \t\t\t\t.set(&quot;storage.hostname&quot;, &quot;url&quot;).open();\r\n\r\nError:\r\n\r\n    java.lang.IllegalArgumentException: Could not find implementation class: org.janusgraph.diskstorage.cql.CQLStoreManager\r\n    \tat org.janusgraph.util.system.ConfigurationUtil.instantiate(ConfigurationUtil.java:75)\r\n    \tat org.janusgraph.diskstorage.Backend.getImplementationClass(Backend.java:530)\r\n    \tat org.janusgraph.diskstorage.Backend.getStorageManager(Backend.java:494)\r\n\r\n\r\nAble to do normal tinkerpop gremlin query with the following config\r\n\r\n    @Bean\r\n    public Cluster cluster() {\r\n        return Cluster.build()\r\n                .addContactPoint(dbUrl)\r\n                .port(dbPort)\r\n                .serializer(new GraphBinaryMessageSerializerV1())\r\n                .maxConnectionPoolSize(5)\r\n                .maxInProcessPerConnection(1)\r\n                .maxSimultaneousUsagePerConnection(10)\r\n                .create();\r\n    }\r\n\r\n    @Bean\r\n    public GraphTraversalSource g(Cluster cluster) throws Exception {\r\n        //return traversal().withRemote(DriverRemoteConnection.using(cluster));\r\n    \t return traversal().withRemote(&quot;conf/remote-graph.properties&quot;);\r\n    }\r\n\r\nWant to define the schema during the application start up, Trying to use `openManagement`","title":"Not able to create a connection to Janus to define the schema","body":"<p>Not able to create a connection to Janus to define the schema.</p>\n<pre><code>JanusGraph graph = JanusGraphFactory.build().set(&quot;storage.backend&quot;, &quot;cql&quot;)//.set(&quot;storage.cql.keyspace&quot;, &quot;janusgraph&quot;)\n                .set(&quot;storage.hostname&quot;, &quot;url&quot;).open();\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.IllegalArgumentException: Could not find implementation class: org.janusgraph.diskstorage.cql.CQLStoreManager\n    at org.janusgraph.util.system.ConfigurationUtil.instantiate(ConfigurationUtil.java:75)\n    at org.janusgraph.diskstorage.Backend.getImplementationClass(Backend.java:530)\n    at org.janusgraph.diskstorage.Backend.getStorageManager(Backend.java:494)\n</code></pre>\n<p>Able to do normal tinkerpop gremlin query with the following config</p>\n<pre><code>@Bean\npublic Cluster cluster() {\n    return Cluster.build()\n            .addContactPoint(dbUrl)\n            .port(dbPort)\n            .serializer(new GraphBinaryMessageSerializerV1())\n            .maxConnectionPoolSize(5)\n            .maxInProcessPerConnection(1)\n            .maxSimultaneousUsagePerConnection(10)\n            .create();\n}\n\n@Bean\npublic GraphTraversalSource g(Cluster cluster) throws Exception {\n    //return traversal().withRemote(DriverRemoteConnection.using(cluster));\n     return traversal().withRemote(&quot;conf/remote-graph.properties&quot;);\n}\n</code></pre>\n<p>Want to define the schema during the application start up, Trying to use <code>openManagement</code></p>\n"},{"tags":["java","lombok"],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1632317469,"creation_date":1561495470,"answer_id":56761758,"question_id":56761054,"body_markdown":"Lombok is an annotation processor. Those run on each compilation unit (i.e. Java file) and do not have access to information from other compilation units. That means that Lombok cannot know anything about the contents of class `Parent` when processing `Child`.\r\n\r\nSo when generating the code for `Child`, Lombok does not know what wither methods are inherited from `Parent`. Consequently, it cannot generate an implementation for the abstract `withA()` from `Parent`.\r\n\r\nA second problem is that the wither methods need a constructor that has all fields as parameter, including those from the superclass. That is also impossible to generate for Lombok due to the aforementioned limitation.\r\n\r\nTo make a long story short: `@Wither` does not work well with inheritance. I suggest putting it only on `Parent` and implementing it manually for `Child`.\r\n\r\nAnother option is to put `@SuperBuilder(toBuilder=true)` on both classes and then use `instance.toBuilder().a(&quot;newValue&quot;).build()`.","title":"Lombok @Wither/@With Inheritance (super-/sub-classes)","body":"<p>Lombok is an annotation processor. Those run on each compilation unit (i.e. Java file) and do not have access to information from other compilation units. That means that Lombok cannot know anything about the contents of class <code>Parent</code> when processing <code>Child</code>.</p>\n<p>So when generating the code for <code>Child</code>, Lombok does not know what wither methods are inherited from <code>Parent</code>. Consequently, it cannot generate an implementation for the abstract <code>withA()</code> from <code>Parent</code>.</p>\n<p>A second problem is that the wither methods need a constructor that has all fields as parameter, including those from the superclass. That is also impossible to generate for Lombok due to the aforementioned limitation.</p>\n<p>To make a long story short: <code>@Wither</code> does not work well with inheritance. I suggest putting it only on <code>Parent</code> and implementing it manually for <code>Child</code>.</p>\n<p>Another option is to put <code>@SuperBuilder(toBuilder=true)</code> on both classes and then use <code>instance.toBuilder().a(&quot;newValue&quot;).build()</code>.</p>\n"}],"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2513,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":56761758,"answer_count":1,"score":6,"last_activity_date":1672173766,"creation_date":1561491999,"question_id":56761054,"body_markdown":"Please suggest how to use `@Wither`/`@With` when inheritance applied.  \r\n\r\nI have an abstract class `Parent` and concrete `Child`. `Child` is supposed to be immutable. Putting `@Wither` on both gives me two errors:\r\n\r\n - The constructor Child(String) is undefined\r\n - The type Child must implement the inherited abstract method\r\n   Parent.withA(String)\r\n\r\n```java\r\n@Value\r\n@Wither\r\n@NonFinal\r\n@SuperBuilder\r\nabstract class Parent {\r\n    String a;\r\n}\r\n\r\n@Value\r\n@Wither\r\n@EqualsAndHashCode(callSuper = true)\r\n@SuperBuilder\r\nclass Child extends Parent {\r\n    String b;\r\n}\r\n```\r\n\r\nI&#39;d be happy to just remove `@Wither` and use the builder methods, but I&#39;m refactoring a public library (trying to optimize the model classes) and I don&#39;t want compilation errors on my clients.\r\n\r\nI also found this issue that explains the second error. But the logic of the intention is not clear https://github.com/rzwitserloot/lombok/issues/945\r\n","title":"Lombok @Wither/@With Inheritance (super-/sub-classes)","body":"<p>Please suggest how to use <code>@Wither</code>/<code>@With</code> when inheritance applied.</p>\n<p>I have an abstract class <code>Parent</code> and concrete <code>Child</code>. <code>Child</code> is supposed to be immutable. Putting <code>@Wither</code> on both gives me two errors:</p>\n<ul>\n<li>The constructor Child(String) is undefined</li>\n<li>The type Child must implement the inherited abstract method\nParent.withA(String)</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Wither\n@NonFinal\n@SuperBuilder\nabstract class Parent {\n    String a;\n}\n\n@Value\n@Wither\n@EqualsAndHashCode(callSuper = true)\n@SuperBuilder\nclass Child extends Parent {\n    String b;\n}\n</code></pre>\n<p>I'd be happy to just remove <code>@Wither</code> and use the builder methods, but I'm refactoring a public library (trying to optimize the model classes) and I don't want compilation errors on my clients.</p>\n<p>I also found this issue that explains the second error. But the logic of the intention is not clear <a href=\"https://github.com/rzwitserloot/lombok/issues/945\" rel=\"nofollow noreferrer\">https://github.com/rzwitserloot/lombok/issues/945</a></p>\n"},{"tags":["java","arrays","2d"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":1,"creation_date":1393159791,"post_id":21968401,"comment_id":33287455,"body_markdown":"Why do you think that `in.nextInt()` won&#39;t work? Did you try it?","body":"Why do you think that <code>in.nextInt()</code> won&#39;t work? Did you try it?"},{"owner":{"account_id":3814914,"reputation":1785,"user_id":3164492,"accept_rate":71,"display_name":"Devavrata"},"score":2,"creation_date":1393159916,"post_id":21968401,"comment_id":33287490,"body_markdown":"Show the format in which you want to take the input...","body":"Show the format in which you want to take the input..."}],"answers":[{"tags":[],"owner":{"display_name":"user3130569"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393160546,"creation_date":1393160546,"answer_id":21968568,"question_id":21968401,"body_markdown":"Try this:\r\n\r\n    package Chapter2_Arrays;\r\n    import java.util.*;\r\n    public class Arrays_ExTwo {\r\n    \r\n        static final int numberOfSubjects=2;\r\n        static final int numberOfStudents=4;\r\n        \r\n        // byte is a number from -128 to 127; that&#39;s big enough for 1-6 marks; you can use char for &#39;A&#39;-&#39;F&#39; marks.\r\n        static byte [][] marks=new byte[numberOfSubjects][numberOfStudents];\r\n    \r\n        static Scanner in=new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            // TODO Auto-generated method stub\r\n    \r\n            System.out.println(&quot;Welcome to Cincinnati Elementary&quot;);\r\n            System.out.println(&quot;There are &quot;+ &quot; &quot;+ numberOfSubjects+ &quot; &quot;+ &quot;subjects being taught&quot;);\r\n            System.out.println(&quot;There are &quot;+&quot; &quot;+numberOfStudents+&quot; &quot;+&quot; number of students in the class&quot;);\r\n            \r\n            for(int i=0;i&lt;numberOfSubjects;i++)\r\n            {\r\n                System.out.println(&quot;Enter the marks of students for subject no. &quot;+(i+1)+&quot;:&quot;);\r\n                for(int j=0;j&lt;numberOfStudents;j++)\r\n                {\r\n                    marks[i][j]=in.nextByte();\r\n                    System.out.println(&quot;Mark of student no. &quot; + (j+1) + &quot; for subject no. &quot; + (i+1) + &quot;was set to &quot; + marks[i][j]);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    }  ","title":"Accepting a 2D array as input in Java","body":"<p>Try this:</p>\n\n<pre><code>package Chapter2_Arrays;\nimport java.util.*;\npublic class Arrays_ExTwo {\n\n    static final int numberOfSubjects=2;\n    static final int numberOfStudents=4;\n\n    // byte is a number from -128 to 127; that's big enough for 1-6 marks; you can use char for 'A'-'F' marks.\n    static byte [][] marks=new byte[numberOfSubjects][numberOfStudents];\n\n    static Scanner in=new Scanner(System.in);\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        System.out.println(\"Welcome to Cincinnati Elementary\");\n        System.out.println(\"There are \"+ \" \"+ numberOfSubjects+ \" \"+ \"subjects being taught\");\n        System.out.println(\"There are \"+\" \"+numberOfStudents+\" \"+\" number of students in the class\");\n\n        for(int i=0;i&lt;numberOfSubjects;i++)\n        {\n            System.out.println(\"Enter the marks of students for subject no. \"+(i+1)+\":\");\n            for(int j=0;j&lt;numberOfStudents;j++)\n            {\n                marks[i][j]=in.nextByte();\n                System.out.println(\"Mark of student no. \" + (j+1) + \" for subject no. \" + (i+1) + \"was set to \" + marks[i][j]);\n            }\n        }\n\n    }\n\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20310341,"reputation":1,"user_id":14897581,"display_name":"Aadya C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672172204,"creation_date":1672172204,"answer_id":74933776,"question_id":21968401,"body_markdown":"Try this:\r\n\r\n    import java.util.Scanner;\r\n    public class temp {\r\n    public static void main(String[] args) {\r\n\r\n        int[][] my_array = create2DArray(4, 2);\r\n        takeUserInput(my_array);\r\n        displayElements(my_array);\r\n\r\n    }\r\n\r\n    public static int[][] create2DArray(int numRows, int numCols){\r\n        int[][] arrayInput = new int[numRows][numCols];\r\n        return arrayInput;\r\n    }\r\n\r\n    public static void takeUserInput(int[][] arrayInput){\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        for(int i = 0; i &lt; arrayInput.length; i++){\r\n            for(int x = 0; x &lt; arrayInput[i].length; x++) {\r\n                System.out.print(&quot;Enter number for the Index &quot;+ i + &quot;,&quot; + x + &quot; &quot;);\r\n                arrayInput[i][x] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void displayElements(int[][] arrayInput){\r\n\r\n        for(int i = 0; i &lt; arrayInput.length; i++){\r\n            for(int x = 0; x &lt; arrayInput[i].length; x++) {\r\n                System.out.println(arrayInput[i][x]);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    }\r\n","title":"Accepting a 2D array as input in Java","body":"<p>Try this:</p>\n<pre><code>import java.util.Scanner;\npublic class temp {\npublic static void main(String[] args) {\n\n    int[][] my_array = create2DArray(4, 2);\n    takeUserInput(my_array);\n    displayElements(my_array);\n\n}\n\npublic static int[][] create2DArray(int numRows, int numCols){\n    int[][] arrayInput = new int[numRows][numCols];\n    return arrayInput;\n}\n\npublic static void takeUserInput(int[][] arrayInput){\n\n    Scanner sc = new Scanner(System.in);\n\n    for(int i = 0; i &lt; arrayInput.length; i++){\n        for(int x = 0; x &lt; arrayInput[i].length; x++) {\n            System.out.print(&quot;Enter number for the Index &quot;+ i + &quot;,&quot; + x + &quot; &quot;);\n            arrayInput[i][x] = sc.nextInt();\n        }\n    }\n\n}\n\npublic static void displayElements(int[][] arrayInput){\n\n    for(int i = 0; i &lt; arrayInput.length; i++){\n        for(int x = 0; x &lt; arrayInput[i].length; x++) {\n            System.out.println(arrayInput[i][x]);\n        }\n    }\n\n}\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21968568,"answer_count":2,"score":0,"last_activity_date":1672172204,"creation_date":1393159730,"question_id":21968401,"body_markdown":"I am writing a java program that asks the user to enter the marks(for 2 subjects) of each student(for a total of 4 students). Basically, it is a 2D array operation.\r\n\r\nI am stuck at the point where I need to have the user enter the input. I&#39;m thinking the normal method of input.nextInt() won&#39;t work. Here&#39;s my code so far. Can someone please help?\r\n\r\n    package Chapter2_Arrays;\r\n    import java.util.*;\r\n    public class Arrays_ExTwo {\r\n    \t\r\n    \tstatic final int numberOfSubjects=2;\r\n    \tstatic final int numberOfStudents=4;\r\n    \t\r\n    \tstatic int [][] marks=new int[numberOfSubjects][numberOfStudents];\r\n    \t\r\n    \tstatic Scanner in=new Scanner(System.in);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Welcome to Cincinnati Elementary&quot;);\r\n    \t\tSystem.out.println(&quot;There are &quot;+ &quot; &quot;+ numberOfSubjects+ &quot; &quot;+ &quot;subjects being taught&quot;);\r\n    \t\tSystem.out.println(&quot;There are &quot;+&quot; &quot;+numberOfStudents+&quot; &quot;+&quot; number of students in the class&quot;);\r\n    \t\tSystem.out.println(&quot;Enter the subject number followed by the marks of all the students for the subject&quot;);\r\n    \t\tfor(int i=0;i&lt;numberOfSubjects;i++)\r\n    \t\t{\r\n    \t\t\tfor(int j=0;j&lt;numberOfStudents;j++)\r\n    \t\t\t{\r\n    \t\t\t\tmarks[i][j]=in.\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    } ","title":"Accepting a 2D array as input in Java","body":"<p>I am writing a java program that asks the user to enter the marks(for 2 subjects) of each student(for a total of 4 students). Basically, it is a 2D array operation.</p>\n\n<p>I am stuck at the point where I need to have the user enter the input. I'm thinking the normal method of input.nextInt() won't work. Here's my code so far. Can someone please help?</p>\n\n<pre><code>package Chapter2_Arrays;\nimport java.util.*;\npublic class Arrays_ExTwo {\n\n    static final int numberOfSubjects=2;\n    static final int numberOfStudents=4;\n\n    static int [][] marks=new int[numberOfSubjects][numberOfStudents];\n\n    static Scanner in=new Scanner(System.in);\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        System.out.println(\"Welcome to Cincinnati Elementary\");\n        System.out.println(\"There are \"+ \" \"+ numberOfSubjects+ \" \"+ \"subjects being taught\");\n        System.out.println(\"There are \"+\" \"+numberOfStudents+\" \"+\" number of students in the class\");\n        System.out.println(\"Enter the subject number followed by the marks of all the students for the subject\");\n        for(int i=0;i&lt;numberOfSubjects;i++)\n        {\n            for(int j=0;j&lt;numberOfStudents;j++)\n            {\n                marks[i][j]=in.\n            }\n        }\n\n    }\n\n} \n</code></pre>\n"},{"tags":["java","excel-2007","apache-poi"],"comments":[{"owner":{"account_id":1604367,"reputation":15578,"user_id":1484739,"display_name":"TheWhiteRabbit"},"score":0,"creation_date":1360045599,"post_id":14701322,"comment_id":20559907,"body_markdown":"i dont think beyond `sheet.getSettings()` set() methods, you can do anything.","body":"i dont think beyond <code>sheet.getSettings()</code> set() methods, you can do anything."},{"owner":{"account_id":157985,"reputation":1480,"user_id":376290,"accept_rate":49,"display_name":"John Bautista"},"score":0,"creation_date":1360608510,"post_id":14701322,"comment_id":20758674,"body_markdown":"sheet.getSettings() is from JExcel, not Apache POI, I think.","body":"sheet.getSettings() is from JExcel, not Apache POI, I think."}],"answers":[{"tags":[],"owner":{"account_id":2323423,"reputation":1188,"user_id":2038468,"accept_rate":14,"display_name":"Rohit Sachan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1364890803,"creation_date":1364890803,"answer_id":15759292,"question_id":14701322,"body_markdown":"In Apache POI 3.9 you can use\r\nXSSF Sheet protection by enabling lock functions. even you can leave behind few excel objects unlocked as in case below I left out excel object (i.e text box) unlocked and rest are locked.\r\n\r\n     private static void lockAll(Sheet s, XSSFWorkbook workbookx){\r\n        String password= &quot;abcd&quot;;\r\n        byte[] pwdBytes = null;\r\n        try {\r\n            pwdBytes  = Hex.decodeHex(password.toCharArray());\r\n        } catch (DecoderException e) {\r\n            e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\r\n        }\r\n        XSSFSheet sheet = ((XSSFSheet)s);\r\n        removePivot(s,workbookx);\r\n        sheet.lockDeleteColumns();\r\n        sheet.lockDeleteRows();\r\n        sheet.lockFormatCells();\r\n        sheet.lockFormatColumns();\r\n        sheet.lockFormatRows();\r\n        sheet.lockInsertColumns();\r\n        sheet.lockInsertRows();\r\n        sheet.getCTWorksheet().getSheetProtection().setPassword(pwdBytes);\r\n        for(byte pwdChar :pwdBytes){\r\n            System.out.println(&quot;&gt;&gt;&gt; Sheet protected with &#39;&quot; + pwdChar + &quot;&#39;&quot;);\r\n        }\r\n        sheet.enableLocking();\r\n        \r\n        workbookx.lockStructure();\r\n        \r\n    }","title":"Apache POI - How to protect sheet with options?","body":"<p>In Apache POI 3.9 you can use\nXSSF Sheet protection by enabling lock functions. even you can leave behind few excel objects unlocked as in case below I left out excel object (i.e text box) unlocked and rest are locked.</p>\n\n<pre><code> private static void lockAll(Sheet s, XSSFWorkbook workbookx){\n    String password= \"abcd\";\n    byte[] pwdBytes = null;\n    try {\n        pwdBytes  = Hex.decodeHex(password.toCharArray());\n    } catch (DecoderException e) {\n        e.printStackTrace();  //To change body of catch statement use File | Settings | File Templates.\n    }\n    XSSFSheet sheet = ((XSSFSheet)s);\n    removePivot(s,workbookx);\n    sheet.lockDeleteColumns();\n    sheet.lockDeleteRows();\n    sheet.lockFormatCells();\n    sheet.lockFormatColumns();\n    sheet.lockFormatRows();\n    sheet.lockInsertColumns();\n    sheet.lockInsertRows();\n    sheet.getCTWorksheet().getSheetProtection().setPassword(pwdBytes);\n    for(byte pwdChar :pwdBytes){\n        System.out.println(\"&gt;&gt;&gt; Sheet protected with '\" + pwdChar + \"'\");\n    }\n    sheet.enableLocking();\n\n    workbookx.lockStructure();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397099,"reputation":553,"user_id":761050,"display_name":"Patrigan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1380625997,"creation_date":1380625997,"answer_id":19114710,"question_id":14701322,"body_markdown":"You might encounter that you can&#39;t select which features, it&#39;s either all or nothing. This is currently a known bug in Apache Poi.\r\nSource:\r\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=51483\r\n\r\nYou can fix this by using the following workaround:\r\n\r\n      xssfSheet.enableLocking();\r\n      CTSheetProtection sheetProtection = xssfSheet.getCTWorksheet().getSheetProtection();\r\n      sheetProtection.setSelectLockedCells(true); \r\n      sheetProtection.setSelectUnlockedCells(false); \r\n      sheetProtection.setFormatCells(true); \r\n      sheetProtection.setFormatColumns(true); \r\n      sheetProtection.setFormatRows(true); \r\n      sheetProtection.setInsertColumns(true); \r\n      sheetProtection.setInsertRows(true); \r\n      sheetProtection.setInsertHyperlinks(true); \r\n      sheetProtection.setDeleteColumns(true); \r\n      sheetProtection.setDeleteRows(true); \r\n      sheetProtection.setSort(false); \r\n      sheetProtection.setAutoFilter(false); \r\n      sheetProtection.setPivotTables(true); \r\n      sheetProtection.setObjects(true); \r\n      sheetProtection.setScenarios(true);","title":"Apache POI - How to protect sheet with options?","body":"<p>You might encounter that you can't select which features, it's either all or nothing. This is currently a known bug in Apache Poi.\nSource:\n<a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=51483\">https://issues.apache.org/bugzilla/show_bug.cgi?id=51483</a></p>\n\n<p>You can fix this by using the following workaround:</p>\n\n<pre><code>  xssfSheet.enableLocking();\n  CTSheetProtection sheetProtection = xssfSheet.getCTWorksheet().getSheetProtection();\n  sheetProtection.setSelectLockedCells(true); \n  sheetProtection.setSelectUnlockedCells(false); \n  sheetProtection.setFormatCells(true); \n  sheetProtection.setFormatColumns(true); \n  sheetProtection.setFormatRows(true); \n  sheetProtection.setInsertColumns(true); \n  sheetProtection.setInsertRows(true); \n  sheetProtection.setInsertHyperlinks(true); \n  sheetProtection.setDeleteColumns(true); \n  sheetProtection.setDeleteRows(true); \n  sheetProtection.setSort(false); \n  sheetProtection.setAutoFilter(false); \n  sheetProtection.setPivotTables(true); \n  sheetProtection.setObjects(true); \n  sheetProtection.setScenarios(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3157563,"reputation":94,"user_id":2669606,"display_name":"Marcos Roberto Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672171985,"creation_date":1672171985,"answer_id":74933740,"question_id":14701322,"body_markdown":"Thanks to other answers, specially from @Patrigan, below code snipet that worked for me, using Apache POI version 3.17.\r\n\r\n```\r\nsheet.enableLocking();\r\nCTSheetProtection sheetProtection = sheet.getCTWorksheet().getSheetProtection();\r\nsheetProtection.setSelectLockedCells(true); \r\nsheetProtection.setSelectUnlockedCells(false); \r\nsheetProtection.setFormatCells(true); \r\nsheetProtection.setFormatColumns(true); \r\nsheetProtection.setFormatRows(true); \r\nsheetProtection.setInsertColumns(true); \r\nsheetProtection.setInsertRows(true); \r\nsheetProtection.setInsertHyperlinks(true); \r\nsheetProtection.setDeleteColumns(true); \r\nsheetProtection.setDeleteRows(true); \r\nsheetProtection.setSort(false); \r\nsheetProtection.setAutoFilter(false); \r\nsheetProtection.setPivotTables(true); \r\nsheetProtection.setObjects(true); \r\nsheetProtection.setScenarios(true);\r\nsheet.protectSheet(password);\r\n  \r\nworkbook_car.lockStructure();\r\n```\r\n","title":"Apache POI - How to protect sheet with options?","body":"<p>Thanks to other answers, specially from @Patrigan, below code snipet that worked for me, using Apache POI version 3.17.</p>\n<pre><code>sheet.enableLocking();\nCTSheetProtection sheetProtection = sheet.getCTWorksheet().getSheetProtection();\nsheetProtection.setSelectLockedCells(true); \nsheetProtection.setSelectUnlockedCells(false); \nsheetProtection.setFormatCells(true); \nsheetProtection.setFormatColumns(true); \nsheetProtection.setFormatRows(true); \nsheetProtection.setInsertColumns(true); \nsheetProtection.setInsertRows(true); \nsheetProtection.setInsertHyperlinks(true); \nsheetProtection.setDeleteColumns(true); \nsheetProtection.setDeleteRows(true); \nsheetProtection.setSort(false); \nsheetProtection.setAutoFilter(false); \nsheetProtection.setPivotTables(true); \nsheetProtection.setObjects(true); \nsheetProtection.setScenarios(true);\nsheet.protectSheet(password);\n  \nworkbook_car.lockStructure();\n</code></pre>\n"}],"owner":{"account_id":157985,"reputation":1480,"user_id":376290,"accept_rate":49,"display_name":"John Bautista"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29728,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":15759292,"answer_count":3,"score":18,"last_activity_date":1672171985,"creation_date":1360045025,"question_id":14701322,"body_markdown":"I&#39;m using the Apache POI to generate an Excel File (2007). What I want is to protect the sheet, but with some options enabled. By options I mean the check box list when you try to protect the sheet in the Excel application (under the label &quot;Allow all users of this worksheet to:&quot;). Specifically, I want to enable &quot;Select locked/unlocked cells&quot;, &quot;Format Column&quot;, &quot;Sort&quot;, and &quot;Allow Autofilter&quot;. Thank you very much! :D","title":"Apache POI - How to protect sheet with options?","body":"<p>I'm using the Apache POI to generate an Excel File (2007). What I want is to protect the sheet, but with some options enabled. By options I mean the check box list when you try to protect the sheet in the Excel application (under the label \"Allow all users of this worksheet to:\"). Specifically, I want to enable \"Select locked/unlocked cells\", \"Format Column\", \"Sort\", and \"Allow Autofilter\". Thank you very much! :D</p>\n"},{"tags":["java","datetime","date","temporal"],"comments":[{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":5,"creation_date":1268943137,"post_id":2473034,"comment_id":2463696,"body_markdown":"Not looking for third-party libraries excludes a lot of fanatic answers about Joda Time...","body":"Not looking for third-party libraries excludes a lot of fanatic answers about Joda Time..."},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":1,"creation_date":1268944455,"post_id":2473034,"comment_id":2463860,"body_markdown":"@skaffman \nYes, Joda Time is great, but all I require for now is this one functionality related to time and date.","body":"@skaffman  Yes, Joda Time is great, but all I require for now is this one functionality related to time and date."},{"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"score":0,"creation_date":1405578197,"post_id":2473034,"comment_id":38485931,"body_markdown":"@JuanZe - how do you do it with Jodatime? I have the same requirement and can do it with joda time. I need to find out if a current hour is in between two given hours.","body":"@JuanZe - how do you do it with Jodatime? I have the same requirement and can do it with joda time. I need to find out if a current hour is in between two given hours."}],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1363796945,"creation_date":1268943355,"answer_id":2473075,"question_id":2473034,"body_markdown":"this is all you should need to do, this method is loosely coupled from the input and highly coherent.\r\n\r\n    boolean isNowBetweenDateTime(final Date s, final Date e)\r\n    {\r\n        final Date now = new Date();\r\n        return now.after(s) &amp;&amp; now.before(e);\r\n    }\r\n\r\nhow you get the Date objects for start and end is irrelevant to comparing them. You are making things way more complicated than you need to with passing `String` representations around.\r\n\r\nHere is a better way to get the start and end dates, again loosely coupled and highly coherent.\r\n    \r\n    private Date dateFromHourMinSec(final String hhmmss)\r\n    {\r\n        if (hhmmss.matches(&quot;^[0-2][0-9]:[0-5][0-9]:[0-5][0-9]$&quot;))\r\n        {\r\n            final String[] hms = hhmmss.split(&quot;:&quot;);\r\n            final GregorianCalendar gc = new GregorianCalendar();\r\n            gc.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hms[0]));\r\n            gc.set(Calendar.MINUTE, Integer.parseInt(hms[1]));\r\n            gc.set(Calendar.SECOND, Integer.parseInt(hms[2]));\r\n            gc.set(Calendar.MILLISECOND, 0);\r\n            return gc.getTime();\r\n        }\r\n        else\r\n        {\r\n            throw new IllegalArgumentException(hhmmss + &quot; is not a valid time, expecting HH:MM:SS format&quot;);\r\n        }\r\n    }\r\n\r\nNow you can make two well named method calls that will be pretty self documenting.","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<p>this is all you should need to do, this method is loosely coupled from the input and highly coherent.</p>\n\n<pre><code>boolean isNowBetweenDateTime(final Date s, final Date e)\n{\n    final Date now = new Date();\n    return now.after(s) &amp;&amp; now.before(e);\n}\n</code></pre>\n\n<p>how you get the Date objects for start and end is irrelevant to comparing them. You are making things way more complicated than you need to with passing <code>String</code> representations around.</p>\n\n<p>Here is a better way to get the start and end dates, again loosely coupled and highly coherent.</p>\n\n<pre><code>private Date dateFromHourMinSec(final String hhmmss)\n{\n    if (hhmmss.matches(\"^[0-2][0-9]:[0-5][0-9]:[0-5][0-9]$\"))\n    {\n        final String[] hms = hhmmss.split(\":\");\n        final GregorianCalendar gc = new GregorianCalendar();\n        gc.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hms[0]));\n        gc.set(Calendar.MINUTE, Integer.parseInt(hms[1]));\n        gc.set(Calendar.SECOND, Integer.parseInt(hms[2]));\n        gc.set(Calendar.MILLISECOND, 0);\n        return gc.getTime();\n    }\n    else\n    {\n        throw new IllegalArgumentException(hhmmss + \" is not a valid time, expecting HH:MM:SS format\");\n    }\n}\n</code></pre>\n\n<p>Now you can make two well named method calls that will be pretty self documenting.</p>\n"},{"tags":[],"owner":{"account_id":665999,"reputation":1,"user_id":497134,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1288872876,"creation_date":1288872876,"answer_id":4096512,"question_id":2473034,"body_markdown":"The dateFromHourMinSec method is flawed as written.  It won&#39;t allow any hours where the seconde digit is greater than 3, e.g. 18:00:00.  If you change it to allow [0-2][0-9] it will allow times such as 29:00:00.\r\nHave a fix for that?","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<p>The dateFromHourMinSec method is flawed as written.  It won't allow any hours where the seconde digit is greater than 3, e.g. 18:00:00.  If you change it to allow [0-2][0-9] it will allow times such as 29:00:00.\nHave a fix for that?</p>\n"},{"tags":[],"owner":{"account_id":220924,"reputation":371,"user_id":478621,"display_name":"Pineechio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288876242,"creation_date":1288876242,"answer_id":4096984,"question_id":2473034,"body_markdown":"As pointed out by Kevin, Fuzzy Lollipop&#39;s Regex won&#39;t pick up times between 14:00 and 19:00.\r\n\r\nTo get match a full 24 hour clock, you can use this:\r\n\r\n    if (hhmmss.matches(&quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;))\r\n    {\r\n        // Do stuff here\r\n    }","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<p>As pointed out by Kevin, Fuzzy Lollipop's Regex won't pick up times between 14:00 and 19:00.</p>\n\n<p>To get match a full 24 hour clock, you can use this:</p>\n\n<pre><code>if (hhmmss.matches(\"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\"))\n{\n    // Do stuff here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1394248,"reputation":11,"user_id":1324360,"display_name":"Adam Yocum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334069766,"creation_date":1334069766,"answer_id":10091113,"question_id":2473034,"body_markdown":"The following Class is something I just created out of some of the code from other answers.  It encapsulates the behavior of a &#39;time period&#39; without relating to specific days.  Our system is using this Class to check if the current time is within one of our designated maintenance windows. i.e. 05:00:00 - 07:00:00\r\n\r\n    \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n\r\n    /**\r\n    *\r\n    * @author Adam Yocum\r\n    */\r\n    public class ExclusionTimePeriod {\r\n        private String timeStart;\r\n        private String timeEnd;\r\n\r\n        /**\r\n        * @return the timeStart\r\n        */\r\n        public String getTimeStart() {\r\n            return timeStart;\r\n        }\r\n\r\n        /**\r\n        * @param timeStart the timeStart to set\r\n        */\r\n        public void setTimeStart(String timeStart) {\r\n            if (timeStart.matches(&quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;))\r\n            {\r\n                this.timeStart = timeStart;\r\n            }\r\n            else\r\n            {\r\n                throw new IllegalArgumentException(timeStart + &quot; is not a valid time, expecting HH:MM:SS format&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n        * @return the timeEnd\r\n        */\r\n        public String getTimeEnd() {\r\n            return timeEnd;\r\n        }\r\n\r\n        /**\r\n        * @param timeEnd the timeEnd to set\r\n        */\r\n        public void setTimeEnd(String timeEnd) {\r\n            if (timeEnd.matches(&quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;))\r\n            {\r\n                this.timeEnd = timeEnd;\r\n            }\r\n            else\r\n            {\r\n                throw new IllegalArgumentException(timeEnd + &quot; is not a valid time, expecting HH:MM:SS format&quot;);\r\n            }\r\n        }\r\n\r\n        private Date toDate(String hhmmss){\r\n            final String[] hms = hhmmss.split(&quot;:&quot;);\r\n            final GregorianCalendar gc = new GregorianCalendar();\r\n            gc.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hms[0]));\r\n            gc.set(Calendar.MINUTE, Integer.parseInt(hms[1]));\r\n            gc.set(Calendar.SECOND, Integer.parseInt(hms[2]));\r\n            gc.set(Calendar.MILLISECOND, 0);\r\n            Date date = gc.getTime();\r\n            return date;\r\n        }\r\n\r\n        public boolean isNowInPeriod()\r\n        {\r\n            final Date now = new Date();\r\n            return now.after(toDate(getTimeStart())) &amp;&amp; now.before(toDate(getTimeEnd()));\r\n        }\r\n\r\n        public static void main(String[] args){\r\n\r\n            //Test All possible hours\r\n            for(int hour=0;hour&lt;=23;hour++){\r\n\r\n                String hourStr = &quot;&quot;;\r\n                if(hour&lt;=9){\r\n                    hourStr = &quot;0&quot;+hour;\r\n                }else{\r\n                    hourStr = &quot;&quot;+hour;\r\n                }\r\n\r\n                for(int min=0;min&lt;60;min++){\r\n                    String minStr = &quot;&quot;;\r\n                    if(min&lt;=9){\r\n                        minStr = &quot;0&quot;+min;\r\n                    }else{\r\n                        minStr = &quot;&quot;+min;\r\n                    }\r\n\r\n                    for(int sec=0;sec&lt;60;sec++){\r\n                        String secStr = &quot;&quot;;\r\n                        if(sec&lt;=9){\r\n                            secStr = &quot;0&quot;+sec;\r\n                        }else{\r\n                            secStr = &quot;&quot;+sec;\r\n                        }\r\n\r\n                        String hhmmss = hourStr+&quot;:&quot;+minStr+&quot;:&quot;+secStr;\r\n\r\n                        ExclusionTimePeriod period = new ExclusionTimePeriod();\r\n                        period.setTimeStart(hhmmss);\r\n                        period.setTimeEnd(hhmmss);\r\n\r\n                        System.out.println(hhmmss+&quot; Ok&quot;);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            //Test isInPeriod functionality\r\n            ExclusionTimePeriod isInTest = new ExclusionTimePeriod();\r\n            isInTest.setTimeStart(&quot;10:00:00&quot;);\r\n            isInTest.setTimeEnd(&quot;10:43:00&quot;);\r\n\r\n            System.out.println((new Date())+&quot; is between &quot;+isInTest.getTimeStart()+&quot; and &quot;+isInTest.getTimeEnd()+&quot; = &quot;+isInTest.isNowInPeriod());\r\n\r\n        }\r\n    }\r\n","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<p>The following Class is something I just created out of some of the code from other answers.  It encapsulates the behavior of a 'time period' without relating to specific days.  Our system is using this Class to check if the current time is within one of our designated maintenance windows. i.e. 05:00:00 - 07:00:00</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\n/**\n*\n* @author Adam Yocum\n*/\npublic class ExclusionTimePeriod {\n    private String timeStart;\n    private String timeEnd;\n\n    /**\n    * @return the timeStart\n    */\n    public String getTimeStart() {\n        return timeStart;\n    }\n\n    /**\n    * @param timeStart the timeStart to set\n    */\n    public void setTimeStart(String timeStart) {\n        if (timeStart.matches(\"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\"))\n        {\n            this.timeStart = timeStart;\n        }\n        else\n        {\n            throw new IllegalArgumentException(timeStart + \" is not a valid time, expecting HH:MM:SS format\");\n        }\n\n    }\n\n    /**\n    * @return the timeEnd\n    */\n    public String getTimeEnd() {\n        return timeEnd;\n    }\n\n    /**\n    * @param timeEnd the timeEnd to set\n    */\n    public void setTimeEnd(String timeEnd) {\n        if (timeEnd.matches(\"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\"))\n        {\n            this.timeEnd = timeEnd;\n        }\n        else\n        {\n            throw new IllegalArgumentException(timeEnd + \" is not a valid time, expecting HH:MM:SS format\");\n        }\n    }\n\n    private Date toDate(String hhmmss){\n        final String[] hms = hhmmss.split(\":\");\n        final GregorianCalendar gc = new GregorianCalendar();\n        gc.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hms[0]));\n        gc.set(Calendar.MINUTE, Integer.parseInt(hms[1]));\n        gc.set(Calendar.SECOND, Integer.parseInt(hms[2]));\n        gc.set(Calendar.MILLISECOND, 0);\n        Date date = gc.getTime();\n        return date;\n    }\n\n    public boolean isNowInPeriod()\n    {\n        final Date now = new Date();\n        return now.after(toDate(getTimeStart())) &amp;&amp; now.before(toDate(getTimeEnd()));\n    }\n\n    public static void main(String[] args){\n\n        //Test All possible hours\n        for(int hour=0;hour&lt;=23;hour++){\n\n            String hourStr = \"\";\n            if(hour&lt;=9){\n                hourStr = \"0\"+hour;\n            }else{\n                hourStr = \"\"+hour;\n            }\n\n            for(int min=0;min&lt;60;min++){\n                String minStr = \"\";\n                if(min&lt;=9){\n                    minStr = \"0\"+min;\n                }else{\n                    minStr = \"\"+min;\n                }\n\n                for(int sec=0;sec&lt;60;sec++){\n                    String secStr = \"\";\n                    if(sec&lt;=9){\n                        secStr = \"0\"+sec;\n                    }else{\n                        secStr = \"\"+sec;\n                    }\n\n                    String hhmmss = hourStr+\":\"+minStr+\":\"+secStr;\n\n                    ExclusionTimePeriod period = new ExclusionTimePeriod();\n                    period.setTimeStart(hhmmss);\n                    period.setTimeEnd(hhmmss);\n\n                    System.out.println(hhmmss+\" Ok\");\n                }\n            }\n        }\n\n\n        //Test isInPeriod functionality\n        ExclusionTimePeriod isInTest = new ExclusionTimePeriod();\n        isInTest.setTimeStart(\"10:00:00\");\n        isInTest.setTimeEnd(\"10:43:00\");\n\n        System.out.println((new Date())+\" is between \"+isInTest.getTimeStart()+\" and \"+isInTest.getTimeEnd()+\" = \"+isInTest.isNowInPeriod());\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672171251,"creation_date":1487018178,"answer_id":42213070,"question_id":2473034,"body_markdown":"# tl;dr\r\n\r\n    LocalTime now = \r\n        ZonedDateTime\r\n            .now( ZoneId.of( &quot;America/Montreal&quot; ) )\r\n            .toLocalTime() ;\r\n\r\n    Boolean isBetween = \r\n        ( ! now.isBefore( LocalTime.of( 18 , 0 ) )  // &quot;not before&quot; means &quot;is equal to OR after&quot;.\r\n        &amp;&amp; \r\n        now.isBefore( LocalTime.of( 18 , 30 ) ) ;  // Half-Open, beginning is *inclusive* while ending is *exclusive*.\r\n                 \r\n\r\n# Using java.time\r\n\r\nYou are using old date-time classes that have proven to be poorly designed, confusing, and troublesome. They are now [legacy][1], supplanted by the java.time classes.\r\n\r\n\r\n## `LocalTime`\r\n\r\nDo not pass mere strings representing time-of-day values. We now have a type for that, the `LocalTime` class.\r\n\r\n    LocalTime start = LocalTime.of( 18 , 0 );\r\n    LocalTime stop = LocalTime.of( 18 , 30 );\r\n\r\nPass those instances to your utility method. That method should not have to do any parsing, so no need to throw the parsing exception.\r\n\r\n    public static  boolean isCurrentTimeBetween( LocalTime start , LocalTime stop ) {\r\n    …\r\n\r\n\r\n## `ZonedDateTime`\r\n\r\nA time zone is crucial in determining the current date and time-of-day. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still “yesterday” in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\nSpecify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name) in the format of `continent/region`, such as [`America/Montreal`](https://en.wikipedia.org/wiki/America/Montreal), [`Africa/Casablanca`](https://en.wikipedia.org/wiki/Africa/Casablanca), or `Pacific/Auckland`. Never use the 3-4 letter abbreviation such as `EST` or `IST` as they are *not* true time zones, not standardized, and not even unique(!). \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.now( z );\r\n\r\nTo compare the time-of-day of now, we could simply extract a `LocalTime` from that `ZonedDateTime`. But we have the problem of anomalies, such as Daylight Saving Time (DST) and politicians redefining time zones. There may not be any 6 PM hour on a particular date. The solution to this conundrum depends on your business context and your business rules. You could either ignore the conundrum and stick with literally asking if the current time is between your target start-stop time. Or you could apply the time zone to your start-stop times-of-day of day and let `ZonedDateTime` class make adjustments as it sees fit. Let&#39;s look at both approaches.\r\n\r\n## Ignore anomalies\r\n\r\nFirst, ignore any anomalies. Ask simply and literally if the current time-of-day is between the target start and stop times-of-day.\r\n\r\nWe can extract a time-of-day object from the zoned date-time object.\r\n\r\n    LocalTime localTimeNow = zdt.toLocalTime(); // Extract a time-of-day from the zoned date-time object.\r\n\r\nCompare that to our stop-start times-of-day. Note that we use here the Half-Open approach to defining a span of time. In this approach the beginning is *inclusive* while the ending is *exclusive*. This approach is common in date-time work and generally is the wise way to go.\r\n\r\n    Boolean isNowOnOrAfterStart = ( ! localTimeNow.isBefore( start ) ) ;  // A briefer way of asking &quot;is equal to OR is after&quot; is &quot;is not before&quot;. \r\n    Boolean isNowBeforeStop = localTimeNow.isBefore( stop );\r\n    Boolean isNowInTargetZone = ( isNowOnOrAfterStart &amp;&amp; isNowBeforeStop ); // Half-Open: beginning is inclusive while ending is exclusive.\r\n\r\n\r\n## Consider anomalies\r\n\r\nNext we consider any anomalies. We apply the start and stop times-of-day to the current date within the same time zone. We extract the date-only from the zoned date-time object.\r\n\r\n    LocalDate localDateToday = zdt.toLocalDate();\r\n    ZonedDateTime zdtStart = ZonedDateTime.of( localDateToday , start , z );\r\n    ZonedDateTime zdtStop = ZonedDateTime.of( localDateToday , stop , z );\r\n\r\nStudy the class documentation to understand the behavior of [`ZonedDateTime.of`][2] in resolving invalid time-of-day values. There is no perfect way to resolve nonexistent time-of-day values, so you must decide if this class’ way meets your business rules. \r\n\r\n&gt;**ZonedDateTime.of**\r\n\r\n&gt;`public static ZonedDateTime of(LocalDate date,\r\n                               LocalTime time,\r\n                               ZoneId zone)`\r\n\r\n&gt;Obtains an instance of ZonedDateTime from a local date and time.\r\nThis creates a zoned date-time matching the input local date and time as closely as possible. Time-zone rules, such as daylight savings, mean that not every local date-time is valid for the specified zone, thus the local date-time may be adjusted.\r\n\r\n&gt;The local date time and first combined to form a local date-time. The local date-time is then resolved to a single instant on the time-line. This is achieved by finding a valid offset from UTC/Greenwich for the local date-time as defined by the rules of the zone ID.\r\n\r\n&gt;In most cases, there is only one valid offset for a local date-time. In the case of an overlap, when clocks are set back, there are two valid offsets. This method uses the earlier offset typically corresponding to &quot;summer&quot;.\r\n\r\n&gt;In the case of a gap, when clocks jump forward, there is no valid offset. Instead, the local date-time is adjusted to be later by the length of the gap. For a typical one hour daylight savings change, the local date-time will be moved one hour later into the offset typically corresponding to &quot;summer&quot;.\r\n\r\nApply the same comparison logic as we saw above.\r\n\r\n    Boolean isNowOnOrAfterStart = ( ! zdt.isBefore( zdtStart ) ) ;  // A briefer way of asking &quot;is equal to OR is after&quot; is &quot;is not before&quot;. \r\n    Boolean isNowBeforeStop = zdt.isBefore( zdtStop );\r\n    Boolean isNowInTargetZone = ( isNowOnOrAfterStart &amp;&amp; isNowBeforeStop ); // Half-Open: beginning is inclusive while ending is exclusive.\r\n\r\nAlternative way to make the comparison is to use the handy `Interval` class from the ThreeTen-Extra project. That class takes a pain of `Instant` objects, which you can extract from your `ZonedDateTime` objects. The [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\n    Interval interval = Interval.of( zdtStart.toInstant() , zdtStop.toInstant() );\r\n    Boolean isNowInTargetZone = interval.contains( zdt.toInstant() );\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Legacy_system\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDate-java.time.LocalTime-java.time.ZoneId-","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<h1>tl;dr</h1>\n<pre><code>LocalTime now = \n    ZonedDateTime\n        .now( ZoneId.of( &quot;America/Montreal&quot; ) )\n        .toLocalTime() ;\n\nBoolean isBetween = \n    ( ! now.isBefore( LocalTime.of( 18 , 0 ) )  // &quot;not before&quot; means &quot;is equal to OR after&quot;.\n    &amp;&amp; \n    now.isBefore( LocalTime.of( 18 , 30 ) ) ;  // Half-Open, beginning is *inclusive* while ending is *exclusive*.\n             \n</code></pre>\n<h1>Using java.time</h1>\n<p>You are using old date-time classes that have proven to be poorly designed, confusing, and troublesome. They are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the java.time classes.</p>\n<h2><code>LocalTime</code></h2>\n<p>Do not pass mere strings representing time-of-day values. We now have a type for that, the <code>LocalTime</code> class.</p>\n<pre><code>LocalTime start = LocalTime.of( 18 , 0 );\nLocalTime stop = LocalTime.of( 18 , 30 );\n</code></pre>\n<p>Pass those instances to your utility method. That method should not have to do any parsing, so no need to throw the parsing exception.</p>\n<pre><code>public static  boolean isCurrentTimeBetween( LocalTime start , LocalTime stop ) {\n…\n</code></pre>\n<h2><code>ZonedDateTime</code></h2>\n<p>A time zone is crucial in determining the current date and time-of-day. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"nofollow noreferrer\">Paris France</a> is a new day while still “yesterday” in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\">Montréal Québec</a>.</p>\n<p>Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a> in the format of <code>continent/region</code>, such as <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"nofollow noreferrer\"><code>America/Montreal</code></a>, <a href=\"https://en.wikipedia.org/wiki/Africa/Casablanca\" rel=\"nofollow noreferrer\"><code>Africa/Casablanca</code></a>, or <code>Pacific/Auckland</code>. Never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> as they are <em>not</em> true time zones, not standardized, and not even unique(!).</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.now( z );\n</code></pre>\n<p>To compare the time-of-day of now, we could simply extract a <code>LocalTime</code> from that <code>ZonedDateTime</code>. But we have the problem of anomalies, such as Daylight Saving Time (DST) and politicians redefining time zones. There may not be any 6 PM hour on a particular date. The solution to this conundrum depends on your business context and your business rules. You could either ignore the conundrum and stick with literally asking if the current time is between your target start-stop time. Or you could apply the time zone to your start-stop times-of-day of day and let <code>ZonedDateTime</code> class make adjustments as it sees fit. Let's look at both approaches.</p>\n<h2>Ignore anomalies</h2>\n<p>First, ignore any anomalies. Ask simply and literally if the current time-of-day is between the target start and stop times-of-day.</p>\n<p>We can extract a time-of-day object from the zoned date-time object.</p>\n<pre><code>LocalTime localTimeNow = zdt.toLocalTime(); // Extract a time-of-day from the zoned date-time object.\n</code></pre>\n<p>Compare that to our stop-start times-of-day. Note that we use here the Half-Open approach to defining a span of time. In this approach the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. This approach is common in date-time work and generally is the wise way to go.</p>\n<pre><code>Boolean isNowOnOrAfterStart = ( ! localTimeNow.isBefore( start ) ) ;  // A briefer way of asking &quot;is equal to OR is after&quot; is &quot;is not before&quot;. \nBoolean isNowBeforeStop = localTimeNow.isBefore( stop );\nBoolean isNowInTargetZone = ( isNowOnOrAfterStart &amp;&amp; isNowBeforeStop ); // Half-Open: beginning is inclusive while ending is exclusive.\n</code></pre>\n<h2>Consider anomalies</h2>\n<p>Next we consider any anomalies. We apply the start and stop times-of-day to the current date within the same time zone. We extract the date-only from the zoned date-time object.</p>\n<pre><code>LocalDate localDateToday = zdt.toLocalDate();\nZonedDateTime zdtStart = ZonedDateTime.of( localDateToday , start , z );\nZonedDateTime zdtStop = ZonedDateTime.of( localDateToday , stop , z );\n</code></pre>\n<p>Study the class documentation to understand the behavior of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#of-java.time.LocalDate-java.time.LocalTime-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime.of</code></a> in resolving invalid time-of-day values. There is no perfect way to resolve nonexistent time-of-day values, so you must decide if this class’ way meets your business rules.</p>\n<blockquote>\n<p><strong>ZonedDateTime.of</strong></p>\n</blockquote>\n<blockquote>\n<p><code>public static ZonedDateTime of(LocalDate date, LocalTime time, ZoneId zone)</code></p>\n</blockquote>\n<blockquote>\n<p>Obtains an instance of ZonedDateTime from a local date and time.\nThis creates a zoned date-time matching the input local date and time as closely as possible. Time-zone rules, such as daylight savings, mean that not every local date-time is valid for the specified zone, thus the local date-time may be adjusted.</p>\n</blockquote>\n<blockquote>\n<p>The local date time and first combined to form a local date-time. The local date-time is then resolved to a single instant on the time-line. This is achieved by finding a valid offset from UTC/Greenwich for the local date-time as defined by the rules of the zone ID.</p>\n</blockquote>\n<blockquote>\n<p>In most cases, there is only one valid offset for a local date-time. In the case of an overlap, when clocks are set back, there are two valid offsets. This method uses the earlier offset typically corresponding to &quot;summer&quot;.</p>\n</blockquote>\n<blockquote>\n<p>In the case of a gap, when clocks jump forward, there is no valid offset. Instead, the local date-time is adjusted to be later by the length of the gap. For a typical one hour daylight savings change, the local date-time will be moved one hour later into the offset typically corresponding to &quot;summer&quot;.</p>\n</blockquote>\n<p>Apply the same comparison logic as we saw above.</p>\n<pre><code>Boolean isNowOnOrAfterStart = ( ! zdt.isBefore( zdtStart ) ) ;  // A briefer way of asking &quot;is equal to OR is after&quot; is &quot;is not before&quot;. \nBoolean isNowBeforeStop = zdt.isBefore( zdtStop );\nBoolean isNowInTargetZone = ( isNowOnOrAfterStart &amp;&amp; isNowBeforeStop ); // Half-Open: beginning is inclusive while ending is exclusive.\n</code></pre>\n<p>Alternative way to make the comparison is to use the handy <code>Interval</code> class from the ThreeTen-Extra project. That class takes a pain of <code>Instant</code> objects, which you can extract from your <code>ZonedDateTime</code> objects. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction).</p>\n<pre><code>Interval interval = Interval.of( zdtStart.toInstant() , zdtStop.toInstant() );\nBoolean isNowInTargetZone = interval.contains( zdt.toInstant() );\n</code></pre>\n<hr />\n<h1>About java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":26201,"reputation":24755,"user_id":67945,"accept_rate":87,"display_name":"Frankie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605899252,"creation_date":1605899252,"answer_id":64935458,"question_id":2473034,"body_markdown":"### The Midnight Problem\r\n\r\nOther answers fail to mention it - and the OP doesn&#39;t ask - but you should really consider when **the interval spans across midnight**.\r\n\r\nTime is difficult. I purposely left the &quot;long&quot; version of the code and didn&#39;t abbreviate logical conditions to make it as clear as possible the what&#39;s and the why&#39;s.\r\n\r\n\r\n\r\n    /**\r\n     * Takes into consideration that the interval may span accross midnight\r\n     *\r\n     * @param clock to make unit testing easier, just replace for Clock.systemUTC() in your code \r\n     * @param start the interval start\r\n     * @param end the interval end\r\n     * @return true if &quot;now&quot; is inside the specified interval\r\n     */\r\n    static boolean isNowBetweenLocalTime(Clock clock, final LocalTime start, final LocalTime end) {\r\n        LocalTime now = LocalTime.now(clock);\r\n\r\n        // if interval crosses midnight\r\n        if (end.isBefore(start)) {\r\n            if (now.isAfter(start) &amp;&amp; now.isAfter(end)) {\r\n                return true;\r\n            }\r\n            if (now.isBefore(start) &amp;&amp; now.isBefore(end)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        // if interval does not cross midnight\r\n        if (end.isAfter(start)) {\r\n            if (now.isAfter(start) &amp;&amp; now.isBefore(end)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        return false; // interval is 0 so start and end always outside interval\r\n    }\r\n\r\nVerbosity is not always wrong. This method will be buried in a utility class and two years from now you&#39;ll thank yourself for understanding what it does!","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<h3>The Midnight Problem</h3>\n<p>Other answers fail to mention it - and the OP doesn't ask - but you should really consider when <strong>the interval spans across midnight</strong>.</p>\n<p>Time is difficult. I purposely left the &quot;long&quot; version of the code and didn't abbreviate logical conditions to make it as clear as possible the what's and the why's.</p>\n<pre><code>/**\n * Takes into consideration that the interval may span accross midnight\n *\n * @param clock to make unit testing easier, just replace for Clock.systemUTC() in your code \n * @param start the interval start\n * @param end the interval end\n * @return true if &quot;now&quot; is inside the specified interval\n */\nstatic boolean isNowBetweenLocalTime(Clock clock, final LocalTime start, final LocalTime end) {\n    LocalTime now = LocalTime.now(clock);\n\n    // if interval crosses midnight\n    if (end.isBefore(start)) {\n        if (now.isAfter(start) &amp;&amp; now.isAfter(end)) {\n            return true;\n        }\n        if (now.isBefore(start) &amp;&amp; now.isBefore(end)) {\n            return true;\n        }\n        return false;\n    }\n\n    // if interval does not cross midnight\n    if (end.isAfter(start)) {\n        if (now.isAfter(start) &amp;&amp; now.isBefore(end)) {\n            return true;\n        }\n        return false;\n    }\n\n    return false; // interval is 0 so start and end always outside interval\n}\n</code></pre>\n<p>Verbosity is not always wrong. This method will be buried in a utility class and two years from now you'll thank yourself for understanding what it does!</p>\n"}],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25709,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":2473075,"answer_count":6,"score":12,"last_activity_date":1672171251,"creation_date":1268942950,"question_id":2473034,"body_markdown":"I am sure this was done 1000 times in 1000 different places. The question is I want to know if there is a better/standard/faster way to check if current &quot;time&quot; is between two time values given in `hh:mm:ss` format. For example, my big business logic should not run between `18:00:00 and 18:30:00`. So here is what I had in mind:\r\n\r\n     public static  boolean isCurrentTimeBetween(String starthhmmss, String endhhmmss) throws ParseException{\r\n      DateFormat hhmmssFormat = new SimpleDateFormat(&quot;yyyyMMddhh:mm:ss&quot;);\r\n      Date now = new Date();\r\n      String yyyMMdd = hhmmssFormat.format(now).substring(0, 8);\r\n      \r\n      return(hhmmssFormat.parse(yyyMMdd+starthhmmss).before(now) &amp;&amp;\r\n        hhmmssFormat.parse(yyyMMdd+endhhmmss).after(now));\r\n     }\r\n\r\nExample test case:\r\n\r\n      String doNotRunBetween=&quot;18:00:00,18:30:00&quot;;//read from props file\r\n      String[] hhmmss = downTime.split(&quot;,&quot;);\r\n      if(isCurrentTimeBetween(hhmmss[0], hhmmss[1])){\r\n       System.out.println(&quot;NOT OK TO RUN&quot;);\r\n      }else{\r\n       System.out.println(&quot;OK TO RUN&quot;);\r\n      }\r\n\r\nWhat I am looking for is code that is better\r\n\r\n - in performance\r\n - in looks\r\n - in correctness\r\n\r\nWhat I am not looking for\r\n\r\n - third-party libraries\r\n - Exception handling debate \r\n - variable naming conventions \r\n - method modifier issues\r\n\r\n\r\n","title":"See if the current time falls within a specific range of time in the current day in Java","body":"<p>I am sure this was done 1000 times in 1000 different places. The question is I want to know if there is a better/standard/faster way to check if current \"time\" is between two time values given in <code>hh:mm:ss</code> format. For example, my big business logic should not run between <code>18:00:00 and 18:30:00</code>. So here is what I had in mind:</p>\n\n<pre><code> public static  boolean isCurrentTimeBetween(String starthhmmss, String endhhmmss) throws ParseException{\n  DateFormat hhmmssFormat = new SimpleDateFormat(\"yyyyMMddhh:mm:ss\");\n  Date now = new Date();\n  String yyyMMdd = hhmmssFormat.format(now).substring(0, 8);\n\n  return(hhmmssFormat.parse(yyyMMdd+starthhmmss).before(now) &amp;&amp;\n    hhmmssFormat.parse(yyyMMdd+endhhmmss).after(now));\n }\n</code></pre>\n\n<p>Example test case:</p>\n\n<pre><code>  String doNotRunBetween=\"18:00:00,18:30:00\";//read from props file\n  String[] hhmmss = downTime.split(\",\");\n  if(isCurrentTimeBetween(hhmmss[0], hhmmss[1])){\n   System.out.println(\"NOT OK TO RUN\");\n  }else{\n   System.out.println(\"OK TO RUN\");\n  }\n</code></pre>\n\n<p>What I am looking for is code that is better</p>\n\n<ul>\n<li>in performance</li>\n<li>in looks</li>\n<li>in correctness</li>\n</ul>\n\n<p>What I am not looking for</p>\n\n<ul>\n<li>third-party libraries</li>\n<li>Exception handling debate </li>\n<li>variable naming conventions </li>\n<li>method modifier issues</li>\n</ul>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9653069,"reputation":146,"user_id":7163567,"display_name":"khoshrang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672159372,"creation_date":1672153337,"answer_id":74930911,"question_id":74930127,"body_markdown":"I guess you want to know if the date and time in user&#39;s device is true and present in that case you can use a time API to get time from a web provider and compare it to the devices time.\r\n\r\n    Instant onThisMachine = Instant.now() ;\r\n    Instant remote = Instant.parse( stringFromRemoteService ) ;\r\n    Duration delta = Duration.between ( remote , onThisMachine ) ;\r\n    boolean thisMachineIsBehind = delta.isNegative() ;\r\n    \r\nThese classes are built into Android 26+. For earlier Android, use the latest tooling to access most of the *java.time* functionality via “API desugaring”. \r\n","title":"In Android system, for every change in date and time, is there a way to know if the user has advanced or delayed the device time or date?","body":"<p>I guess you want to know if the date and time in user's device is true and present in that case you can use a time API to get time from a web provider and compare it to the devices time.</p>\n<pre><code>Instant onThisMachine = Instant.now() ;\nInstant remote = Instant.parse( stringFromRemoteService ) ;\nDuration delta = Duration.between ( remote , onThisMachine ) ;\nboolean thisMachineIsBehind = delta.isNegative() ;\n</code></pre>\n<p>These classes are built into Android 26+. For earlier Android, use the latest tooling to access most of the <em>java.time</em> functionality via “API desugaring”.</p>\n"}],"owner":{"account_id":10904949,"reputation":49,"user_id":11798788,"display_name":"Alex Rosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672169872,"creation_date":1672149096,"question_id":74930127,"body_markdown":"The application already receive the system intent ACTION_TIME_CHANGED.\r\nbut I need a way to identify if the user advance or delayed date or time.\r\n\r\nthe scenario is the following:\r\n- user&#39;s device start with the present date Dec/2022\r\n\r\n- So, user change date to Dec/2019. (backward date, based on previous date Dec/2022)\r\n- Then, user change date to Jan/2020. (forward date, based on previous date Dec/2019)\r\n- now, user change date to Jan/2021. (forward date, based on previous date Dec/2020)\r\n- again, user change date to Jan/2020. (backward date, based on previous date Dec/2021)\r\n\r\n ... and so on...\r\n\r\nId like to identify the type of date change (backward or forward) based on the last change, and not from the present date from a web provider.","title":"In Android system, for every change in date and time, is there a way to know if the user has advanced or delayed the device time or date?","body":"<p>The application already receive the system intent ACTION_TIME_CHANGED.\nbut I need a way to identify if the user advance or delayed date or time.</p>\n<p>the scenario is the following:</p>\n<ul>\n<li><p>user's device start with the present date Dec/2022</p>\n</li>\n<li><p>So, user change date to Dec/2019. (backward date, based on previous date Dec/2022)</p>\n</li>\n<li><p>Then, user change date to Jan/2020. (forward date, based on previous date Dec/2019)</p>\n</li>\n<li><p>now, user change date to Jan/2021. (forward date, based on previous date Dec/2020)</p>\n</li>\n<li><p>again, user change date to Jan/2020. (backward date, based on previous date Dec/2021)</p>\n</li>\n</ul>\n<p>... and so on...</p>\n<p>Id like to identify the type of date change (backward or forward) based on the last change, and not from the present date from a web provider.</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":1531623,"reputation":3743,"user_id":1428695,"display_name":"yhyrcanus"},"score":1,"creation_date":1557347614,"post_id":56048512,"comment_id":98738769,"body_markdown":"Here&#39;s a third experiment, try compiling just B in example 2 :)","body":"Here&#39;s a third experiment, try compiling just B in example 2 :)"},{"owner":{"account_id":2650729,"reputation":640,"user_id":2292492,"accept_rate":50,"display_name":"deltamind106"},"score":0,"creation_date":1557347872,"post_id":56048512,"comment_id":98738880,"body_markdown":"@yhyrcanus Then it only recompiles B, as expected.  Attempts to recompile A only, result in B also being recompiled because there is a dependency that javac detects.  Problem is, B doesn&#39;t need to be recompiled because it&#39;s already up to date.  This isn&#39;t a big deal with 2 source files, but when there&#39;s dozens of source files, it matters.","body":"@yhyrcanus Then it only recompiles B, as expected.  Attempts to recompile A only, result in B also being recompiled because there is a dependency that javac detects.  Problem is, B doesn&#39;t need to be recompiled because it&#39;s already up to date.  This isn&#39;t a big deal with 2 source files, but when there&#39;s dozens of source files, it matters."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1557360978,"post_id":56048512,"comment_id":98742360,"body_markdown":"You&#39;re doing it wrong. You should be *in* `..`, that is to say in the directory that contains the head of the package structure, and the command should be `javac example2/A.java` etc.","body":"You&#39;re doing it wrong. You should be <i>in</i> <code>..</code>, that is to say in the directory that contains the head of the package structure, and the command should be <code>javac example2&#47;A.java</code> etc."},{"owner":{"account_id":2650729,"reputation":640,"user_id":2292492,"accept_rate":50,"display_name":"deltamind106"},"score":1,"creation_date":1557405361,"post_id":56048512,"comment_id":98759517,"body_markdown":"@user207421 Then what&#39;s the purpose of the -sourcepath option?  If you &quot;must&quot; be in the root source folder when compiling, why even have a command-line option that allows you to be in a different folder?  Clearly that&#39;s the whole point of -sourcepath, i.e. to allow you to compile from whatever folder you want.","body":"@user207421 Then what&#39;s the purpose of the -sourcepath option?  If you &quot;must&quot; be in the root source folder when compiling, why even have a command-line option that allows you to be in a different folder?  Clearly that&#39;s the whole point of -sourcepath, i.e. to allow you to compile from whatever folder you want."}],"answers":[{"tags":[],"owner":{"account_id":2650729,"reputation":640,"user_id":2292492,"accept_rate":50,"display_name":"deltamind106"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557503178,"creation_date":1557498222,"answer_id":56079609,"question_id":56048512,"body_markdown":"EDIT:  I&#39;ve removed my suggestion that this is a bug, since I&#39;ve accepted another answer as the best explanation.\r\n\r\nAs an aside, there seems to be no sensible way to report this as a bug to the OpenJDK.  I googled and searched around the OpenJDK website and it seems that the bugs.openjdk.java.net is only for trusted developers.  I guess I could throw it up on the OpenJDK mailing list, but that seems like a hack.  So I am not even sure where to report this bug, sadly.","title":"How To Force Java Compiler to ONLY compile the source file I specify?","body":"<p>EDIT:  I've removed my suggestion that this is a bug, since I've accepted another answer as the best explanation.</p>\n\n<p>As an aside, there seems to be no sensible way to report this as a bug to the OpenJDK.  I googled and searched around the OpenJDK website and it seems that the bugs.openjdk.java.net is only for trusted developers.  I guess I could throw it up on the OpenJDK mailing list, but that seems like a hack.  So I am not even sure where to report this bug, sadly.</p>\n"},{"tags":[],"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1557499416,"creation_date":1557499416,"answer_id":56079917,"question_id":56048512,"body_markdown":"This issue occurs because javac compares timestamps between the .java file and the .class file. It uses `-sourcepath` to find the source files, and `-classpath` to find the class files. Therefore, your issue can be fixed by specifying the classpath:\r\n\r\n    javac -sourcepath .. -classpath .. A.java\r\n","title":"How To Force Java Compiler to ONLY compile the source file I specify?","body":"<p>This issue occurs because javac compares timestamps between the .java file and the .class file. It uses <code>-sourcepath</code> to find the source files, and <code>-classpath</code> to find the class files. Therefore, your issue can be fixed by specifying the classpath:</p>\n\n<pre><code>javac -sourcepath .. -classpath .. A.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557502047,"creation_date":1557502047,"answer_id":56080649,"question_id":56048512,"body_markdown":"This seems related to `..`. If you go to the source root, the default package:\r\n\r\n    cd ..\r\n    javac -sourcepath . ex/A.java\r\n\r\neverything works (at my place): no recompile of B.java.\r\n\r\nIt might be due to the `-classpath` too, but I would rather think of some esoteric problem with package paths. \r\n","title":"How To Force Java Compiler to ONLY compile the source file I specify?","body":"<p>This seems related to <code>..</code>. If you go to the source root, the default package:</p>\n\n<pre><code>cd ..\njavac -sourcepath . ex/A.java\n</code></pre>\n\n<p>everything works (at my place): no recompile of B.java.</p>\n\n<p>It might be due to the <code>-classpath</code> too, but I would rather think of some esoteric problem with package paths. </p>\n"}],"owner":{"account_id":2650729,"reputation":640,"user_id":2292492,"accept_rate":50,"display_name":"deltamind106"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":56079917,"answer_count":3,"score":4,"last_activity_date":1672169425,"creation_date":1557346987,"question_id":56048512,"body_markdown":"The java 12.0.1 compiler (my tests here are all run in MS Windows) has some really odd behavior when using the -sourcepath argument, with regards to what it decides to compile.  The easiest way to explain this is to provide two examples and cite the differences in behavior.\r\n\r\n***Example 1:***\r\n\r\nSource file &quot;A.java&quot;\r\n\r\n    public class A {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n            B.myMethod();\r\n        }\r\n    }\r\n\r\nSource file &quot;B.java&quot;\r\n\r\n    public class B {\r\n        public static void myMethod() {\r\n            System.out.println(&quot;Goodbye!&quot;);\r\n        }\r\n    }\r\n\r\nTo compile example 1, we just use the following:\r\n\r\n    javac -sourcepath . A.java\r\n\r\nThis will compile both A.java and B.java and create A.class and B.class.  We expect it to also compile B.java because A depends on it.  Now wait a second or so and without modifying either &quot;.java&quot; source file, simply re-run the compilation command above.  You will find that it re-compiles A.java and a new A.class is created (with updated timestamp), but B.class is not re-compiled.  Ok, this is pretty much what one might expect.  Now let&#39;s compare this to the next example below.\r\n\r\n\r\n***Example 2:***\r\n\r\nSource file &quot;example2/A.java&quot;\r\n\r\n    package example2;\r\n    public class A {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n            B.myMethod();\r\n        }\r\n    }\r\n\r\nSource file &quot;example2/B.java&quot;\r\n\r\n    package example2;\r\n    public class B {\r\n        public static void myMethod() {\r\n            System.out.println(&quot;Goodbye!&quot;);\r\n        }\r\n    }\r\n\r\nThe source files are the same, except everything is moved into a package.  We want to compile the two source files while currently in the &quot;example2&quot; folder.  So we use the following command:\r\n\r\n    javac -sourcepath .. A.java\r\n\r\nThis will again compile both A.java and B.java and create A.class and B.class.  No problems here, same as before.  Note that -sourcepath is now &quot;..&quot; because that is the &quot;root&quot; source folder now that everything is in a package.  Now wait a second or so and without modifying either source file, simply re-run the compilation command above.  You will find that it re-compiles BOTH A.java and B.java and a new A.class and B.class file are created (with updated timestamps).\r\n\r\nNote the difference in compilation behavior when the javac command is run the second time.  When -sourcefile was &quot;.&quot; and the files were not in a package, the second &quot;javac&quot; command only compiles the source file specified on the command line.  But when -sourcefile is &quot;..&quot; and the classes are in a package, the second &quot;javac&quot; command ALWAYS compiles all the dependent source files, regardless if the unspecified source files need to be recompiled or not.\r\n\r\nThe question is why?  What arguments can I pass to the javac command-line to stop example 2 from unconditionally recompiling all the dependent source files, if their class files have a newer timestamp than the source files?","title":"How To Force Java Compiler to ONLY compile the source file I specify?","body":"<p>The java 12.0.1 compiler (my tests here are all run in MS Windows) has some really odd behavior when using the -sourcepath argument, with regards to what it decides to compile.  The easiest way to explain this is to provide two examples and cite the differences in behavior.</p>\n\n<p><strong><em>Example 1:</em></strong></p>\n\n<p>Source file \"A.java\"</p>\n\n<pre><code>public class A {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n        B.myMethod();\n    }\n}\n</code></pre>\n\n<p>Source file \"B.java\"</p>\n\n<pre><code>public class B {\n    public static void myMethod() {\n        System.out.println(\"Goodbye!\");\n    }\n}\n</code></pre>\n\n<p>To compile example 1, we just use the following:</p>\n\n<pre><code>javac -sourcepath . A.java\n</code></pre>\n\n<p>This will compile both A.java and B.java and create A.class and B.class.  We expect it to also compile B.java because A depends on it.  Now wait a second or so and without modifying either \".java\" source file, simply re-run the compilation command above.  You will find that it re-compiles A.java and a new A.class is created (with updated timestamp), but B.class is not re-compiled.  Ok, this is pretty much what one might expect.  Now let's compare this to the next example below.</p>\n\n<p><strong><em>Example 2:</em></strong></p>\n\n<p>Source file \"example2/A.java\"</p>\n\n<pre><code>package example2;\npublic class A {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World\");\n        B.myMethod();\n    }\n}\n</code></pre>\n\n<p>Source file \"example2/B.java\"</p>\n\n<pre><code>package example2;\npublic class B {\n    public static void myMethod() {\n        System.out.println(\"Goodbye!\");\n    }\n}\n</code></pre>\n\n<p>The source files are the same, except everything is moved into a package.  We want to compile the two source files while currently in the \"example2\" folder.  So we use the following command:</p>\n\n<pre><code>javac -sourcepath .. A.java\n</code></pre>\n\n<p>This will again compile both A.java and B.java and create A.class and B.class.  No problems here, same as before.  Note that -sourcepath is now \"..\" because that is the \"root\" source folder now that everything is in a package.  Now wait a second or so and without modifying either source file, simply re-run the compilation command above.  You will find that it re-compiles BOTH A.java and B.java and a new A.class and B.class file are created (with updated timestamps).</p>\n\n<p>Note the difference in compilation behavior when the javac command is run the second time.  When -sourcefile was \".\" and the files were not in a package, the second \"javac\" command only compiles the source file specified on the command line.  But when -sourcefile is \"..\" and the classes are in a package, the second \"javac\" command ALWAYS compiles all the dependent source files, regardless if the unspecified source files need to be recompiled or not.</p>\n\n<p>The question is why?  What arguments can I pass to the javac command-line to stop example 2 from unconditionally recompiling all the dependent source files, if their class files have a newer timestamp than the source files?</p>\n"},{"tags":["java","guava"],"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1396330587,"post_id":22776711,"comment_id":34727218,"body_markdown":"Java 8 has made some strong improvements in type inference, I don&#39;t know if this specific case is better addressed, but I&#39;d suspect it is.","body":"Java 8 has made some strong improvements in type inference, I don&#39;t know if this specific case is better addressed, but I&#39;d suspect it is."},{"owner":{"account_id":4258625,"reputation":121,"user_id":3483554,"display_name":"Rob"},"score":0,"creation_date":1396330986,"post_id":22776711,"comment_id":34727379,"body_markdown":"@dimo414 I compiled this in Java 8 and 7. It doesn&#39;t work in either one.","body":"@dimo414 I compiled this in Java 8 and 7. It doesn&#39;t work in either one."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1672169213,"creation_date":1396326025,"answer_id":22776722,"question_id":22776711,"body_markdown":"No, just provide a type argument\r\n\r\n\tList&lt;String&gt; iList = ImmutableList.&lt;String&gt;builder().add(&quot;One&quot;).add(&quot;Two&quot;).build(); \r\n\r\nThis is in no way a bug in Guava, it is just a feature/limitation of the Java Language. The compiler cannot infer the return type of `build()` from the previous method calls or the declaration of the variable the result is being assigned to.\r\n\r\nAngelika Langer [explains][1] this\r\n\r\n&gt; **Automatic type argument inference.** The method is invoked like regular\r\n&gt; non-generic methods, that is, without specification of the type\r\n&gt; arguments.  In this case the compiler automatically infers the type\r\n&gt; arguments from **the invocation context**.\r\n\r\nShe also gives a similar example in [Why does the type inference for an instance creation expression fail?][2]\r\n\r\n    String s = new ArrayList&lt;&gt;().iterator().next();  // error\r\n\r\nand states\r\n\r\n&gt; In the example above an error message is issued because the new-expression `new ArrayList&lt;&gt;()` does not have constructor arguments and it neither appears on the right-hand side of an assignment nor as\r\n&gt; the argument of a method invocation.  Instead, it appears in a chain\r\n&gt; of method calls.  Such a chain is not a valid type inference context.\r\n\r\n\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#What%20is%20type%20argument%20inference?\r\n  [2]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#Why%20does%20the%20type%20inference%20for%20an%20instance%20creation%20expression%20fail?","title":"ImmutableList.builder() bug?","body":"<p>No, just provide a type argument</p>\n<pre><code>List&lt;String&gt; iList = ImmutableList.&lt;String&gt;builder().add(&quot;One&quot;).add(&quot;Two&quot;).build(); \n</code></pre>\n<p>This is in no way a bug in Guava, it is just a feature/limitation of the Java Language. The compiler cannot infer the return type of <code>build()</code> from the previous method calls or the declaration of the variable the result is being assigned to.</p>\n<p>Angelika Langer <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#What%20is%20type%20argument%20inference?\" rel=\"nofollow noreferrer\">explains</a> this</p>\n<blockquote>\n<p><strong>Automatic type argument inference.</strong> The method is invoked like regular\nnon-generic methods, that is, without specification of the type\narguments.  In this case the compiler automatically infers the type\narguments from <strong>the invocation context</strong>.</p>\n</blockquote>\n<p>She also gives a similar example in <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#Why%20does%20the%20type%20inference%20for%20an%20instance%20creation%20expression%20fail?\" rel=\"nofollow noreferrer\">Why does the type inference for an instance creation expression fail?</a></p>\n<pre><code>String s = new ArrayList&lt;&gt;().iterator().next();  // error\n</code></pre>\n<p>and states</p>\n<blockquote>\n<p>In the example above an error message is issued because the new-expression <code>new ArrayList&lt;&gt;()</code> does not have constructor arguments and it neither appears on the right-hand side of an assignment nor as\nthe argument of a method invocation.  Instead, it appears in a chain\nof method calls.  Such a chain is not a valid type inference context.</p>\n</blockquote>\n"}],"owner":{"account_id":4258625,"reputation":121,"user_id":3483554,"display_name":"Rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9152,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":22776722,"answer_count":1,"score":11,"last_activity_date":1672169213,"creation_date":1396325941,"question_id":22776711,"body_markdown":"I&#39;m just starting out to learn Guava and I notice something peculiar with `ImmutableList.builder()`.\r\n\r\nThis doesn&#39;t compile:\r\n\r\n    List&lt;String&gt; iList = ImmutableList.builder().add(&quot;One&quot;).add(&quot;Two&quot;).build(); \r\n    //Type mismatch: cannot convert from List&lt;Object&gt; to List&lt;String&gt;\r\n\r\nThis works:\r\n\r\n    List&lt;String&gt; iList = new ImmutableList.Builder&lt;String&gt;().add(&quot;One&quot;).add(&quot;Two&quot;).build(); \r\n\r\nI can live with using `new ImmutableList.Builder&lt;String&gt;()` but is this a bug with `ImmutableList.builder()`?","title":"ImmutableList.builder() bug?","body":"<p>I'm just starting out to learn Guava and I notice something peculiar with <code>ImmutableList.builder()</code>.</p>\n\n<p>This doesn't compile:</p>\n\n<pre><code>List&lt;String&gt; iList = ImmutableList.builder().add(\"One\").add(\"Two\").build(); \n//Type mismatch: cannot convert from List&lt;Object&gt; to List&lt;String&gt;\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>List&lt;String&gt; iList = new ImmutableList.Builder&lt;String&gt;().add(\"One\").add(\"Two\").build(); \n</code></pre>\n\n<p>I can live with using <code>new ImmutableList.Builder&lt;String&gt;()</code> but is this a bug with <code>ImmutableList.builder()</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9218,"page":774,"page_size":100}
