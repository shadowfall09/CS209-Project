{"items":[{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672236346,"post_id":74941051,"comment_id":132248058,"body_markdown":"Is your record in the DB updating or adding a new record? I want to know if your problem is UI or API.","body":"Is your record in the DB updating or adding a new record? I want to know if your problem is UI or API."},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672236445,"post_id":74941051,"comment_id":132248088,"body_markdown":"If I using my UI, then word to adding to DB, but if I using postman and send PUT request using only API, everything&#39;s fine and word updating, so I think that problem in UI","body":"If I using my UI, then word to adding to DB, but if I using postman and send PUT request using only API, everything&#39;s fine and word updating, so I think that problem in UI"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672236879,"post_id":74941051,"comment_id":132248239,"body_markdown":"Can you add what&#39;s going on in your `onEditWord()` method?","body":"Can you add what&#39;s going on in your <code>onEditWord()</code> method?"},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672237120,"post_id":74941051,"comment_id":132248328,"body_markdown":"Updated my question and added responses from API using postmain and from UI, also I was adding onEditWord() method","body":"Updated my question and added responses from API using postmain and from UI, also I was adding onEditWord() method"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672238374,"post_id":74941051,"comment_id":132248731,"body_markdown":"Does it include the id value in the word variable that comes as a parameter to your `onEditWord()` method? I mean the values sent as requests, not the response values.","body":"Does it include the id value in the word variable that comes as a parameter to your <code>onEditWord()</code> method? I mean the values sent as requests, not the response values."},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672238508,"post_id":74941051,"comment_id":132248770,"body_markdown":"Yeap, but I can&#39;t delete id value from my Word model because he is necessary for delete method","body":"Yeap, but I can&#39;t delete id value from my Word model because he is necessary for delete method"},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672238612,"post_id":74941051,"comment_id":132248799,"body_markdown":"Perhaps I can somehow ignoring id value while I editing words?","body":"Perhaps I can somehow ignoring id value while I editing words?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672238810,"post_id":74941051,"comment_id":132248849,"body_markdown":"No, you need to send the id value. The API needs the id value to determine which value to update.","body":"No, you need to send the id value. The API needs the id value to determine which value to update."},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672238861,"post_id":74941051,"comment_id":132248865,"body_markdown":"What do you see in the payload tab in your screenshot of the update?","body":"What do you see in the payload tab in your screenshot of the update?"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672239001,"post_id":74941051,"comment_id":132248914,"body_markdown":"Yes, now I understand. In your PUT request, the Id value is not sent in your request.","body":"Yes, now I understand. In your PUT request, the Id value is not sent in your request."},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672239062,"post_id":74941051,"comment_id":132248928,"body_markdown":"Can you help me fix it? I just so bad in TS :D","body":"Can you help me fix it? I just so bad in TS :D"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672239288,"post_id":74941051,"comment_id":132249003,"body_markdown":"Of course I&#39;ll try to help. Can you share the class that belongs to your `Word` object in TS?","body":"Of course I&#39;ll try to help. Can you share the class that belongs to your <code>Word</code> object in TS?"},{"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"score":0,"creation_date":1672239452,"post_id":74941051,"comment_id":132249055,"body_markdown":"I updated my question and added Word interface and Word service","body":"I updated my question and added Word interface and Word service"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672239488,"post_id":74941051,"comment_id":132249068,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250708/discussion-between-fatih-and----ii).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250708/discussion-between-fatih-and----ii\">continue this discussion in chat</a>."}],"owner":{"account_id":22972304,"reputation":105,"user_id":17142074,"display_name":"Константин Николаевич Бояр II"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672239416,"creation_date":1672235341,"question_id":74941051,"body_markdown":"I writing prject on Java using Spring Boot and Angular, and I&#39;ve one question about &quot;Edit&quot; button in my project, fact is that she is working like a &quot;Add&quot; button, I mean she to create a new word in my table, and must edit\r\n\r\nThat&#39;s problem not on back side, &#39;coz I was testing my @Put method by Postman and he is working good and I made a conclusion that this is problem on front side of my program\r\n\r\n**My open Modal method in my component**\r\n```\r\npublic onOpenModal(word: Word | any, mode: string): void {\r\n\r\n    const container = document.getElementById(&#39;main-container&#39;)\r\n\r\n    const button = document.createElement(&#39;button&#39;);\r\n\r\n    button.type = &#39;button&#39;;\r\n    button.style.display = &#39;none&#39;;\r\n    button.setAttribute(&#39;data-toggle&#39;, &#39;modal&#39;);\r\n\r\n    if (mode === &#39;add&#39;) {\r\n      button.setAttribute(&#39;data-target&#39;, &#39;#addWordModal&#39;);\r\n    }\r\n    if (mode === &#39;update&#39;) {\r\n      this.editWord = word;\r\n      button.setAttribute(&#39;data-target&#39;, &#39;#editWordModal&#39;);\r\n    }\r\n    if (mode === &#39;delete&#39;) {\r\n      this.deleteWord = word;\r\n      button.setAttribute(&#39;data-target&#39;, &#39;#deleteWordModal&#39;);\r\n    }\r\n\r\n    container?.appendChild(button);\r\n    button.click();\r\n  }\r\n```\r\n\r\n**My modal windows**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!-- Add Employee Modal --&gt;\r\n    &lt;div class=&quot;modal fade&quot; id=&quot;addWordModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;addWordModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n      &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n          &lt;div class=&quot;modal-header&quot;&gt;\r\n            &lt;h5 class=&quot;modal-title&quot; id=&quot;addWordModalLabel&quot;&gt;Add Word&lt;/h5&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n            &lt;/button&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;modal-body&quot;&gt;\r\n            &lt;form #addForm=&quot;ngForm&quot; (ngSubmit)=&quot;onAddWord(addForm)&quot;&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;english word&quot;&gt;English word&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; ngModel name=&quot;englishWord&quot; class=&quot;form-control&quot; id=&quot;english word&quot; placeholder=&quot;english word&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;transcription&quot;&gt;Transcription&lt;/label&gt;\r\n                &lt;input type=&quot;email&quot; ngModel name=&quot;transcription&quot; class=&quot;form-control&quot; id=&quot;transcription&quot; placeholder=&quot;Transcription&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;translate word&quot;&gt;Translate word&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; ngModel name=&quot;translateWord&quot; class=&quot;form-control&quot; id=&quot;translate word&quot; placeholder=&quot;Translate word&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;modal-footer&quot;&gt;\r\n                &lt;button type=&quot;button&quot; id=&quot;add-word-form&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n                &lt;button [disabled]=&quot;addForm.invalid&quot;  type=&quot;submit&quot; class=&quot;btn btn-primary&quot; &gt;Save changes&lt;/button&gt;\r\n              &lt;/div&gt;\r\n            &lt;/form&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;!-- Edit Employee Modal --&gt;\r\n    &lt;div class=&quot;modal fade&quot; id=&quot;editWordModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;editWordModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n      &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n          &lt;div class=&quot;modal-header&quot;&gt;\r\n            &lt;h5 class=&quot;modal-title&quot; id=&quot;editWordModalLabel&quot;&gt;Edit Word&lt;/h5&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n            &lt;/button&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;modal-body&quot;&gt;\r\n            &lt;form #editForm=&quot;ngForm&quot;&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;englishWord&quot;&gt;English word&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; ngModel=&quot;{{editWord?.englishWord}}&quot; name = &quot;englishWord&quot; class=&quot;form-control&quot; id=&quot;englishWord&quot; placeholder=&quot;english word&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;editTranscription&quot;&gt;Transcription&lt;/label&gt;\r\n                &lt;input type=&quot;email&quot; ngModel=&quot;{{editWord?.transcription}}&quot; name = &quot;transcription&quot; class=&quot;form-control&quot; id=&quot;editTranscription&quot; placeholder=&quot;Transcription&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;form-group&quot;&gt;\r\n                &lt;label for=&quot;translateWord&quot;&gt;Translate word&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; ngModel=&quot;{{editWord?.translateWord}}&quot; name = &quot;translateWord&quot; class=&quot;form-control&quot; id=&quot;translateWord&quot; placeholder=&quot;Translate word&quot; required&gt;\r\n              &lt;/div&gt;\r\n              &lt;div class=&quot;modal-footer&quot;&gt;\r\n                &lt;button type=&quot;button&quot; id=&quot;edit-word-form&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;\r\n                &lt;button (click)=&quot;onEditWord(editForm.value)&quot; type=&quot;submit&quot; class=&quot;btn btn-primary&quot; &gt;Save changes&lt;/button&gt;\r\n              &lt;/div&gt;\r\n            &lt;/form&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNow I try explain my problem one more time using screenshots\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI&#39;ve that&#39;s table where I can add new word in my dictionary\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd when I try to edit a word, the program creates a new word which is the previously edited word\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\nI was trying to edit `word` on `words`\r\n\r\n\r\n*Word service ts*\r\n```\r\n  public addWord(word: Word): Observable&lt;Word&gt;{\r\n    return this.http.post&lt;Word&gt;(`${this.apiServerUrl}/dictionary/add`, word);\r\n  }\r\n  public updateWord(word: Word): Observable&lt;Word&gt;{\r\n    return this.http.put&lt;Word&gt;(`${this.apiServerUrl}/dictionary/update`, word);\r\n  }\r\n```\r\n\r\n\r\n**Put request using Postman**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n**Put request using UI**\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n**Response using UI**\r\n\r\n```\r\n{\r\n&quot;id&quot;:1008,\r\n&quot;englishWord&quot;:&quot;Removed&quot;,\r\n&quot;translateWord&quot;:&quot;Удалять&quot;,\r\n&quot;transcription&quot;:&quot;[transcription]&quot;,\r\n&quot;wordCode&quot;:null\r\n}\r\n```\r\n\r\n**onEditMethod**\r\n\r\n```\r\n  public onEditWord(word: Word): void {\r\n\r\n    this.wordService.updateWord(word).subscribe(\r\n      (response: Word) =&gt; {\r\n        console.log(response);\r\n        this.getWords();\r\n      },\r\n      (error: HttpErrorResponse) =&gt; {\r\n        alert(error.message);\r\n      }\r\n    );\r\n  }\r\n\r\n```\r\n\r\n\r\n[![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4CJ7.png\r\n  [2]: https://i.stack.imgur.com/q4sHd.png\r\n  [3]: https://i.stack.imgur.com/fbanI.png\r\n  [4]: https://i.stack.imgur.com/L63dy.png\r\n  [5]: https://i.stack.imgur.com/bYh2Q.png\r\n  [6]: https://i.stack.imgur.com/W0QXq.png\r\n  [7]: https://i.stack.imgur.com/wVhjw.png\r\n  [8]: https://i.stack.imgur.com/umtng.png\r\n\r\n```\r\nWord.ts\r\n____________________\r\n\r\nexport interface Word{\r\n  id: number;\r\n  englishWord: string;\r\n  translateWord: string;\r\n  transcription: string;\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nWordService.ts\r\n__________________\r\nimport {Observable} from &quot;rxjs&quot;;\r\nimport {Injectable} from &quot;@angular/core&quot;;\r\nimport {HttpClient} from &quot;@angular/common/http&quot;;\r\nimport {Word} from &quot;./word&quot;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\n\r\nexport class WordService{\r\n  private apiServerUrl = &#39;http://localhost:8080&#39;;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public mainPage(): Observable&lt;void&gt;{\r\n    return this.http.get&lt;void&gt;(`${this.apiServerUrl}`)\r\n  }\r\n  public getWords(): Observable&lt;Word[]&gt;{\r\n    return this.http.get&lt;Word[]&gt;(`${this.apiServerUrl}/dictionary/all`);\r\n  }\r\n  public addWord(word: Word): Observable&lt;Word&gt;{\r\n    return this.http.post&lt;Word&gt;(`${this.apiServerUrl}/dictionary/add`, word);\r\n  }\r\n  public updateWord(word: Word): Observable&lt;Word&gt;{\r\n    return this.http.put&lt;Word&gt;(`${this.apiServerUrl}/dictionary/update`, word);\r\n  }\r\n  public deleteWord(wordId: number): Observable&lt;void&gt;{\r\n    return this.http.delete&lt;void&gt;(`${this.apiServerUrl}/dictionary/delete/${wordId}`);\r\n  }\r\n}\r\n```","title":"&quot;Edit&quot; button working like a &quot;Add&quot; on Angular","body":"<p>I writing prject on Java using Spring Boot and Angular, and I've one question about &quot;Edit&quot; button in my project, fact is that she is working like a &quot;Add&quot; button, I mean she to create a new word in my table, and must edit</p>\n<p>That's problem not on back side, 'coz I was testing my @Put method by Postman and he is working good and I made a conclusion that this is problem on front side of my program</p>\n<p><strong>My open Modal method in my component</strong></p>\n<pre><code>public onOpenModal(word: Word | any, mode: string): void {\n\n    const container = document.getElementById('main-container')\n\n    const button = document.createElement('button');\n\n    button.type = 'button';\n    button.style.display = 'none';\n    button.setAttribute('data-toggle', 'modal');\n\n    if (mode === 'add') {\n      button.setAttribute('data-target', '#addWordModal');\n    }\n    if (mode === 'update') {\n      this.editWord = word;\n      button.setAttribute('data-target', '#editWordModal');\n    }\n    if (mode === 'delete') {\n      this.deleteWord = word;\n      button.setAttribute('data-target', '#deleteWordModal');\n    }\n\n    container?.appendChild(button);\n    button.click();\n  }\n</code></pre>\n<p><strong>My modal windows</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- Add Employee Modal --&gt;\n&lt;div class=\"modal fade\" id=\"addWordModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"addWordModalLabel\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;h5 class=\"modal-title\" id=\"addWordModalLabel\"&gt;Add Word&lt;/h5&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;form #addForm=\"ngForm\" (ngSubmit)=\"onAddWord(addForm)\"&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"english word\"&gt;English word&lt;/label&gt;\n            &lt;input type=\"text\" ngModel name=\"englishWord\" class=\"form-control\" id=\"english word\" placeholder=\"english word\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"transcription\"&gt;Transcription&lt;/label&gt;\n            &lt;input type=\"email\" ngModel name=\"transcription\" class=\"form-control\" id=\"transcription\" placeholder=\"Transcription\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"translate word\"&gt;Translate word&lt;/label&gt;\n            &lt;input type=\"text\" ngModel name=\"translateWord\" class=\"form-control\" id=\"translate word\" placeholder=\"Translate word\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" id=\"add-word-form\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;button [disabled]=\"addForm.invalid\"  type=\"submit\" class=\"btn btn-primary\" &gt;Save changes&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;!-- Edit Employee Modal --&gt;\n&lt;div class=\"modal fade\" id=\"editWordModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editWordModalLabel\" aria-hidden=\"true\"&gt;\n  &lt;div class=\"modal-dialog\" role=\"document\"&gt;\n    &lt;div class=\"modal-content\"&gt;\n      &lt;div class=\"modal-header\"&gt;\n        &lt;h5 class=\"modal-title\" id=\"editWordModalLabel\"&gt;Edit Word&lt;/h5&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"&gt;\n          &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n        &lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=\"modal-body\"&gt;\n        &lt;form #editForm=\"ngForm\"&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"englishWord\"&gt;English word&lt;/label&gt;\n            &lt;input type=\"text\" ngModel=\"{{editWord?.englishWord}}\" name = \"englishWord\" class=\"form-control\" id=\"englishWord\" placeholder=\"english word\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"editTranscription\"&gt;Transcription&lt;/label&gt;\n            &lt;input type=\"email\" ngModel=\"{{editWord?.transcription}}\" name = \"transcription\" class=\"form-control\" id=\"editTranscription\" placeholder=\"Transcription\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"form-group\"&gt;\n            &lt;label for=\"translateWord\"&gt;Translate word&lt;/label&gt;\n            &lt;input type=\"text\" ngModel=\"{{editWord?.translateWord}}\" name = \"translateWord\" class=\"form-control\" id=\"translateWord\" placeholder=\"Translate word\" required&gt;\n          &lt;/div&gt;\n          &lt;div class=\"modal-footer\"&gt;\n            &lt;button type=\"button\" id=\"edit-word-form\" class=\"btn btn-secondary\" data-dismiss=\"modal\"&gt;Close&lt;/button&gt;\n            &lt;button (click)=\"onEditWord(editForm.value)\" type=\"submit\" class=\"btn btn-primary\" &gt;Save changes&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Now I try explain my problem one more time using screenshots</p>\n<p><a href=\"https://i.stack.imgur.com/C4CJ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4CJ7.png\" alt=\"enter image description here\" /></a></p>\n<p>I've that's table where I can add new word in my dictionary</p>\n<p><a href=\"https://i.stack.imgur.com/q4sHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4sHd.png\" alt=\"enter image description here\" /></a></p>\n<p>And when I try to edit a word, the program creates a new word which is the previously edited word\n<a href=\"https://i.stack.imgur.com/fbanI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fbanI.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L63dy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L63dy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/bYh2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bYh2Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I was trying to edit <code>word</code> on <code>words</code></p>\n<p><em>Word service ts</em></p>\n<pre><code>  public addWord(word: Word): Observable&lt;Word&gt;{\n    return this.http.post&lt;Word&gt;(`${this.apiServerUrl}/dictionary/add`, word);\n  }\n  public updateWord(word: Word): Observable&lt;Word&gt;{\n    return this.http.put&lt;Word&gt;(`${this.apiServerUrl}/dictionary/update`, word);\n  }\n</code></pre>\n<p><strong>Put request using Postman</strong></p>\n<p><a href=\"https://i.stack.imgur.com/W0QXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W0QXq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Put request using UI</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wVhjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wVhjw.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Response using UI</strong></p>\n<pre><code>{\n&quot;id&quot;:1008,\n&quot;englishWord&quot;:&quot;Removed&quot;,\n&quot;translateWord&quot;:&quot;Удалять&quot;,\n&quot;transcription&quot;:&quot;[transcription]&quot;,\n&quot;wordCode&quot;:null\n}\n</code></pre>\n<p><strong>onEditMethod</strong></p>\n<pre><code>  public onEditWord(word: Word): void {\n\n    this.wordService.updateWord(word).subscribe(\n      (response: Word) =&gt; {\n        console.log(response);\n        this.getWords();\n      },\n      (error: HttpErrorResponse) =&gt; {\n        alert(error.message);\n      }\n    );\n  }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/umtng.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/umtng.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>Word.ts\n____________________\n\nexport interface Word{\n  id: number;\n  englishWord: string;\n  translateWord: string;\n  transcription: string;\n}\n\n</code></pre>\n<pre><code>WordService.ts\n__________________\nimport {Observable} from &quot;rxjs&quot;;\nimport {Injectable} from &quot;@angular/core&quot;;\nimport {HttpClient} from &quot;@angular/common/http&quot;;\nimport {Word} from &quot;./word&quot;;\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class WordService{\n  private apiServerUrl = 'http://localhost:8080';\n\n  constructor(private http: HttpClient) { }\n\n  public mainPage(): Observable&lt;void&gt;{\n    return this.http.get&lt;void&gt;(`${this.apiServerUrl}`)\n  }\n  public getWords(): Observable&lt;Word[]&gt;{\n    return this.http.get&lt;Word[]&gt;(`${this.apiServerUrl}/dictionary/all`);\n  }\n  public addWord(word: Word): Observable&lt;Word&gt;{\n    return this.http.post&lt;Word&gt;(`${this.apiServerUrl}/dictionary/add`, word);\n  }\n  public updateWord(word: Word): Observable&lt;Word&gt;{\n    return this.http.put&lt;Word&gt;(`${this.apiServerUrl}/dictionary/update`, word);\n  }\n  public deleteWord(wordId: number): Observable&lt;void&gt;{\n    return this.http.delete&lt;void&gt;(`${this.apiServerUrl}/dictionary/delete/${wordId}`);\n  }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6483758,"reputation":398,"user_id":5019995,"display_name":"Felipe Palma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672239130,"creation_date":1672239130,"answer_id":74941702,"question_id":74941345,"body_markdown":"you can try this: \r\n\r\nView &gt;&gt; Tool Windows &gt;&gt; Logcat\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/92PBW.png","title":"Lockcat disabled","body":"<p>you can try this:</p>\n<p>View &gt;&gt; Tool Windows &gt;&gt; Logcat\n<a href=\"https://i.stack.imgur.com/92PBW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/92PBW.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27171760,"reputation":3,"user_id":20708316,"display_name":"Lev Yukelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74941702,"answer_count":1,"score":0,"last_activity_date":1672239130,"creation_date":1672237108,"question_id":74941345,"body_markdown":"Lockcat has disabled and I can&#39;t see my application logs. Returns only the label &quot;PROCESS STARTED (28828) for package com.example.myapplication&quot; \r\nHow to restore logcat?\r\n\r\n\r\n\r\nI can not find the right button to return everything back, please help.\r\n\r\n","title":"Lockcat disabled","body":"<p>Lockcat has disabled and I can't see my application logs. Returns only the label &quot;PROCESS STARTED (28828) for package com.example.myapplication&quot;\nHow to restore logcat?</p>\n<p>I can not find the right button to return everything back, please help.</p>\n"},{"tags":["java","android","certificate","keystore","csr"],"comments":[{"owner":{"account_id":6682011,"reputation":490,"user_id":5154785,"accept_rate":65,"display_name":"BekaBot"},"score":0,"creation_date":1486550574,"post_id":25907326,"comment_id":71390531,"body_markdown":"hello! have you found a solution? I would appreciate if you shared materials how to generate CSR without Bouncy/SpongyCastle","body":"hello! have you found a solution? I would appreciate if you shared materials how to generate CSR without Bouncy/SpongyCastle"}],"answers":[{"tags":[],"owner":{"account_id":2983840,"reputation":917,"user_id":2533213,"accept_rate":50,"display_name":"cyberPrivacy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1417960400,"creation_date":1417960400,"answer_id":27343337,"question_id":25907326,"body_markdown":"Regarding generating a CSR (certificate sign request) on the android phone, I think it is rather straightforward to use [Spongycastle][1] instead. It is an android port of Bouncycastle.\r\n\r\n&gt; Suppose I finally get certificate signed by a Certificate Authority.\r\n&gt; What exactly should I do to &quot;replace the certificate at a later time&quot;?\r\n\r\nOnce you have the actual signed certificate which you are supposed to get from the CA (Certificate Authority), you no longer need your CSR; you should just store the signed certificate on the phone. Where to save them - I guess you can get help [here][2].\r\n\r\n\r\n  [1]: http://rtyley.github.io/spongycastle/\r\n  [2]: http://nelenkov.blogspot.jp/2011/11/ics-credential-storage-implementation.html","title":"What is the best way to generate Certificate Signing Request using AndroidKeyStoreProvider?","body":"<p>Regarding generating a CSR (certificate sign request) on the android phone, I think it is rather straightforward to use <a href=\"http://rtyley.github.io/spongycastle/\" rel=\"nofollow\">Spongycastle</a> instead. It is an android port of Bouncycastle.</p>\n\n<blockquote>\n  <p>Suppose I finally get certificate signed by a Certificate Authority.\n  What exactly should I do to \"replace the certificate at a later time\"?</p>\n</blockquote>\n\n<p>Once you have the actual signed certificate which you are supposed to get from the CA (Certificate Authority), you no longer need your CSR; you should just store the signed certificate on the phone. Where to save them - I guess you can get help <a href=\"http://nelenkov.blogspot.jp/2011/11/ics-credential-storage-implementation.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10135735,"reputation":3935,"user_id":7487335,"accept_rate":91,"display_name":"Josh Correia"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1596050451,"creation_date":1596050451,"answer_id":63160989,"question_id":25907326,"body_markdown":"The best way to create a CSR on Android is to use [SpongyCastle][1], which is an implementation of [BouncyCastle][2] for Android. SpongyCastle already does a lot of the heavy-lifting for you so it will make your life much easier.\r\n\r\n----------\r\n\r\nMy implementation is heavily based on the answer found [here][3], but uses the Android KeyStore for security and SpongyCastle&#39;s `JcaContentSignerBuilder()` instead of the custom `ContentSigner`.\r\n\r\nAdd SpongyCastle to your `build.gradle` file:\r\n-------------------------------------------\r\n\r\n```\r\ncompile &#39;com.madgag.spongycastle:core:1.51.0.0&#39;\r\ncompile &#39;com.madgag.spongycastle:pkix:1.51.0.0&#39;\r\n```\r\n\r\nCreate the KeyPair in the [Android KeyStore][4]:\r\n-------------------------------------------------\r\n\r\n```java\r\nKeyPairGenerator keyGen = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_RSA, &quot;AndroidKeyStore&quot;); // store the key in the Android KeyStore for security purposes\r\nkeyGen.initialize(new KeyGenParameterSpec.Builder(\r\n\t\t\t\t  &quot;key1&quot;,\r\n\t\t\t\t  KeyProperties.PURPOSE_SIGN)\r\n\t\t\t\t  .setSignaturePaddings(KeyProperties.SIGNATURE_PADDING_RSA_PKCS1)\r\n\t\t\t\t  .setDigests(KeyProperties.DIGEST_SHA256,\r\n\t\t\t\t\t\t\t\tKeyProperties.DIGEST_SHA384,\r\n\t\t\t\t\t\t\t\tKeyProperties.DIGEST_SHA512)\r\n\t\t\t\t  .build()); // defaults to RSA 2048\r\nKeyPair keyPair = keyGen.generateKeyPair();\r\n```\r\n\r\nCreate the CSR using said KeyPair:\r\n-----------------------------------\r\n\r\n```java\r\nprivate final static String CN_PATTERN = &quot;CN=%s, O=Aralink, OU=OrgUnit&quot;;\r\n\r\n//Create the certificate signing request (CSR) from private and public keys\r\npublic static PKCS10CertificationRequest generateCSR(KeyPair keyPair, String cn) throws IOException, OperatorCreationException {\r\n        String principal = String.format(CN_PATTERN, cn);\r\n\r\n        ContentSigner signer = new JcaContentSignerBuilder(DEFAULT_RSA_SIGNATURE_ALGORITHM).build(keyPair.getPrivate());\r\n\r\n        PKCS10CertificationRequestBuilder csrBuilder = new JcaPKCS10CertificationRequestBuilder(\r\n                new X500Name(principal), keyPair.getPublic());\r\n        ExtensionsGenerator extensionsGenerator = new ExtensionsGenerator();\r\n        extensionsGenerator.addExtension(Extension.basicConstraints, true, new BasicConstraints(\r\n                true));\r\n        csrBuilder.addAttribute(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest,\r\n                extensionsGenerator.generate());\r\n        PKCS10CertificationRequest csr = csrBuilder.build(signer);\r\n\r\n        return csr;\r\n    }\r\n}\r\n```\r\n\r\nAnd that&#39;s it, now you have a `PKCS10CertificationRequest` that you can send to your server.\r\n\r\n\r\n  [1]: https://rtyley.github.io/spongycastle/\r\n  [2]: https://www.bouncycastle.org/\r\n  [3]: https://stackoverflow.com/a/37898553/7487335\r\n  [4]: https://developer.android.com/training/articles/keystore","title":"What is the best way to generate Certificate Signing Request using AndroidKeyStoreProvider?","body":"<p>The best way to create a CSR on Android is to use <a href=\"https://rtyley.github.io/spongycastle/\" rel=\"noreferrer\">SpongyCastle</a>, which is an implementation of <a href=\"https://www.bouncycastle.org/\" rel=\"noreferrer\">BouncyCastle</a> for Android. SpongyCastle already does a lot of the heavy-lifting for you so it will make your life much easier.</p>\n<hr />\n<p>My implementation is heavily based on the answer found <a href=\"https://stackoverflow.com/a/37898553/7487335\">here</a>, but uses the Android KeyStore for security and SpongyCastle's <code>JcaContentSignerBuilder()</code> instead of the custom <code>ContentSigner</code>.</p>\n<h2>Add SpongyCastle to your <code>build.gradle</code> file:</h2>\n<pre><code>compile 'com.madgag.spongycastle:core:1.51.0.0'\ncompile 'com.madgag.spongycastle:pkix:1.51.0.0'\n</code></pre>\n<h2>Create the KeyPair in the <a href=\"https://developer.android.com/training/articles/keystore\" rel=\"noreferrer\">Android KeyStore</a>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(KeyProperties.KEY_ALGORITHM_RSA, &quot;AndroidKeyStore&quot;); // store the key in the Android KeyStore for security purposes\nkeyGen.initialize(new KeyGenParameterSpec.Builder(\n                  &quot;key1&quot;,\n                  KeyProperties.PURPOSE_SIGN)\n                  .setSignaturePaddings(KeyProperties.SIGNATURE_PADDING_RSA_PKCS1)\n                  .setDigests(KeyProperties.DIGEST_SHA256,\n                                KeyProperties.DIGEST_SHA384,\n                                KeyProperties.DIGEST_SHA512)\n                  .build()); // defaults to RSA 2048\nKeyPair keyPair = keyGen.generateKeyPair();\n</code></pre>\n<h2>Create the CSR using said KeyPair:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>private final static String CN_PATTERN = &quot;CN=%s, O=Aralink, OU=OrgUnit&quot;;\n\n//Create the certificate signing request (CSR) from private and public keys\npublic static PKCS10CertificationRequest generateCSR(KeyPair keyPair, String cn) throws IOException, OperatorCreationException {\n        String principal = String.format(CN_PATTERN, cn);\n\n        ContentSigner signer = new JcaContentSignerBuilder(DEFAULT_RSA_SIGNATURE_ALGORITHM).build(keyPair.getPrivate());\n\n        PKCS10CertificationRequestBuilder csrBuilder = new JcaPKCS10CertificationRequestBuilder(\n                new X500Name(principal), keyPair.getPublic());\n        ExtensionsGenerator extensionsGenerator = new ExtensionsGenerator();\n        extensionsGenerator.addExtension(Extension.basicConstraints, true, new BasicConstraints(\n                true));\n        csrBuilder.addAttribute(PKCSObjectIdentifiers.pkcs_9_at_extensionRequest,\n                extensionsGenerator.generate());\n        PKCS10CertificationRequest csr = csrBuilder.build(signer);\n\n        return csr;\n    }\n}\n</code></pre>\n<p>And that's it, now you have a <code>PKCS10CertificationRequest</code> that you can send to your server.</p>\n"}],"owner":{"account_id":1109086,"reputation":2201,"user_id":1099884,"accept_rate":60,"display_name":"Yeung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4467,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1672239130,"creation_date":1411027447,"question_id":25907326,"body_markdown":"I read [this article][1]. \r\n\r\nIt says how to generate a `KeyPair`, however it doesn&#39;t specify how to generate a Certificate Signing Request based on the generated keys.\r\n\r\nFrom my research, to generate a CSR in Java, the samples from the web usually use the package `sun.*` or the BouncyCastle library. It seems like there isn&#39;t a way to generate a CSR with the standard `java.security` API. I read [this][2] and it seems to say the same thing.\r\n\r\nDo I have no choice but to use BouncyCastle? It is hard to imagine that Android Developers don&#39;t consider this kind of usage.\r\n\r\nBy the way, the article also mentions that:\r\n\r\n&gt; Generating a new PrivateKey requires that you also  specify the\r\n&gt; initial X.509 attributes that the self-signed certificate  will have.\r\n&gt; You can replace the certificate at a later time with a certificate\r\n&gt; signed by a Certificate Authority\r\n\r\nSuppose I finally get a certificate signed by a Certificate Authority. What exactly should I do to &quot;replace the certificate at a later time&quot;? \r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/keystore.html\r\n  [2]: https://stackoverflow.com/questions/13639514/possible-to-generate-csr-using-java-security-without-sun-packages-or-external-li","title":"What is the best way to generate Certificate Signing Request using AndroidKeyStoreProvider?","body":"<p>I read <a href=\"https://developer.android.com/training/articles/keystore.html\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>It says how to generate a <code>KeyPair</code>, however it doesn't specify how to generate a Certificate Signing Request based on the generated keys.</p>\n<p>From my research, to generate a CSR in Java, the samples from the web usually use the package <code>sun.*</code> or the BouncyCastle library. It seems like there isn't a way to generate a CSR with the standard <code>java.security</code> API. I read <a href=\"https://stackoverflow.com/questions/13639514/possible-to-generate-csr-using-java-security-without-sun-packages-or-external-li\">this</a> and it seems to say the same thing.</p>\n<p>Do I have no choice but to use BouncyCastle? It is hard to imagine that Android Developers don't consider this kind of usage.</p>\n<p>By the way, the article also mentions that:</p>\n<blockquote>\n<p>Generating a new PrivateKey requires that you also  specify the\ninitial X.509 attributes that the self-signed certificate  will have.\nYou can replace the certificate at a later time with a certificate\nsigned by a Certificate Authority</p>\n</blockquote>\n<p>Suppose I finally get a certificate signed by a Certificate Authority. What exactly should I do to &quot;replace the certificate at a later time&quot;?</p>\n"},{"tags":["java","enums","javadoc"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1672207276,"post_id":74936723,"comment_id":132241198,"body_markdown":"What do you mean by &#39;properties of m specific for A&#39;? A is just an instance of class m so, by definition, has the same fields as every other instance. Do you mean a method that is specific to just one instance? You might need to give a practical example to demonstrate the problem","body":"What do you mean by &#39;properties of m specific for A&#39;? A is just an instance of class m so, by definition, has the same fields as every other instance. Do you mean a method that is specific to just one instance? You might need to give a practical example to demonstrate the problem"}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672239096,"creation_date":1672238754,"answer_id":74941628,"question_id":74936723,"body_markdown":"This is currently **impossible** in Java, and for a very specific reason. In short, `A` and `B` in your example are both an `instance`, and Java does not allow JavaDoc for instances. \r\n\r\nAn `enum` in Java is really meant to be syntactic sugar (plus some ***VERY POWERFUL*** functionality) for a very common design pattern for versions of Java earlier than 1.5.\r\n\r\nThe common design pattern was when we wanted to have a `class` with a very *restricted* and *limited* number of `instances`. Most classes allow you to make as many `instances` of them as memory allows. But an ***enumerated*** type has a known, limited (,and typically small) number of `instances`.\r\n\r\nAnd the most important word here is `instance`. Consider the following code.\r\n\r\n```java\r\n\r\n   public enum E\r\n   {\r\n   \r\n      A,\r\n      B,\r\n      ;\r\n      \r\n   }\r\n\r\n```\r\n\r\nIn the above example, `E` is a class, specifically, an `enum` class. ***However, A and B are merely `INSTANCES` of `E`***. They are not subclasses. They are not any sort of type as far as Java is aware. They are nothing more than if you said the following.\r\n\r\n```java\r\n\r\npublic class E\r\n{\r\n\r\n    public static final A = new E();\r\n    public static final B = new E();\r\n\r\n    //whatever other functionality enums provide for you out of the box\r\n\r\n}\r\n\r\n```\r\n\r\nThat is important, because in Java, javadoc is only ever documented for ***types/fields/etc***, but not for ***anonymous instances of types***. Think about it. To make `m` have a different functionality, you must make an anonymous class for `E`, and then override the implementation fo `::m` for each instance.\r\n\r\nSo this is allowed and will show up on JavaDoc for example.\r\n\r\n```java\r\n\r\n   public enum E\r\n   {\r\n   \r\n      /** This is documentation for A. */A,\r\n      /** This is documentation for B. */B,\r\n      ;\r\n      \r\n   }\r\n\r\n```\r\n\r\n[![An image of the JavaDoc that was generated for the code immediately above this image.][1]][1]\r\n\r\nBut that is as far as Java lets you take it. Anything internal to the enum is considered an anonymous-instance-specific attribute, and thus, does not get any JavaDoc.\r\n\r\n---\r\n\r\nIf you find yourself in a situation where you need that granular level documentation, why not make a sealed hierarchy? Something like this achieves similar functionality to `enum`&#39;s, just not including all of the powerful features that enum&#39;s tend to have out of the box (`EnumSet`, `EnumMap`, `Enum::values`, etc.).\r\n\r\nHere is an example of a sealed hierarchy that has some of the features that an `enum` would.\r\n\r\n```java\r\n\r\n   public sealed class E\r\n   {\r\n   \r\n      /** E&#39;s implementation of m. */\r\n      void m() {}\r\n   \r\n   }\r\n   \r\n   public final class A extends E\r\n   {\r\n   \r\n      /** A&#39;s implementation of m. */\r\n      void m() {}\r\n   \r\n   }\r\n   \r\n   public final class B extends E\r\n   {\r\n   \r\n      @Override\r\n      void m() {}\r\n   \r\n   }\r\n\r\n```\r\n\r\nAnd here is the JavaDoc that is generated from the following class.\r\n\r\n[![JavaDoc for the sealed type E][2]][2]\r\n\r\n[![JavaDoc for the permitted subclass A][3]][3]\r\n\r\n[![JavaDoc for the permitted subclass B][4]][4]\r\n\r\nNow we see that `A::m` has it&#39;s own JavaDoc.\r\n\r\nAnd if you want to limit the instances that can be created, you can just use the singleton design pattern, while making `E` an `abstract class`. Here is what that might look like.\r\n\r\n```java\r\n\r\n   public abstract static sealed class E\r\n   {\r\n   \r\n      /** E&#39;s implementation of m. */\r\n      abstract void m();\r\n   \r\n   }\r\n   \r\n   public static final class A extends E\r\n   {\r\n   \r\n      public static final A SINGLETON = new A();\r\n   \r\n      private A(){}\r\n      \r\n      /** A&#39;s implementation of m. */\r\n      void m() {}\r\n   \r\n   }\r\n   \r\n   public static final class B extends E\r\n   {\r\n   \r\n      public static final B SINGLETON = new B();\r\n   \r\n      private B(){}\r\n      \r\n      @Override\r\n      void m() {}\r\n   \r\n   }\r\n\r\n```\r\n\r\nAnd just like that, you have recreated (only the most basic features of) an enum. You can add an `::ordinal` or `::values` method if you like, amongst other things. But that&#39;s probably as far as you can go.\r\n\r\n  [1]: https://i.stack.imgur.com/TVsDt.png\r\n  [2]: https://i.stack.imgur.com/HR22h.png\r\n  [3]: https://i.stack.imgur.com/zQd5G.png\r\n  [4]: https://i.stack.imgur.com/EU6sw.png","title":"How to reference a method of an element of an enum in java","body":"<p>This is currently <strong>impossible</strong> in Java, and for a very specific reason. In short, <code>A</code> and <code>B</code> in your example are both an <code>instance</code>, and Java does not allow JavaDoc for instances.</p>\n<p>An <code>enum</code> in Java is really meant to be syntactic sugar (plus some <em><strong>VERY POWERFUL</strong></em> functionality) for a very common design pattern for versions of Java earlier than 1.5.</p>\n<p>The common design pattern was when we wanted to have a <code>class</code> with a very <em>restricted</em> and <em>limited</em> number of <code>instances</code>. Most classes allow you to make as many <code>instances</code> of them as memory allows. But an <em><strong>enumerated</strong></em> type has a known, limited (,and typically small) number of <code>instances</code>.</p>\n<p>And the most important word here is <code>instance</code>. Consider the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public enum E\n   {\n   \n      A,\n      B,\n      ;\n      \n   }\n\n</code></pre>\n<p>In the above example, <code>E</code> is a class, specifically, an <code>enum</code> class. <em><strong>However, A and B are merely <code>INSTANCES</code> of <code>E</code></strong></em>. They are not subclasses. They are not any sort of type as far as Java is aware. They are nothing more than if you said the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class E\n{\n\n    public static final A = new E();\n    public static final B = new E();\n\n    //whatever other functionality enums provide for you out of the box\n\n}\n\n</code></pre>\n<p>That is important, because in Java, javadoc is only ever documented for <em><strong>types/fields/etc</strong></em>, but not for <em><strong>anonymous instances of types</strong></em>. Think about it. To make <code>m</code> have a different functionality, you must make an anonymous class for <code>E</code>, and then override the implementation fo <code>::m</code> for each instance.</p>\n<p>So this is allowed and will show up on JavaDoc for example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public enum E\n   {\n   \n      /** This is documentation for A. */A,\n      /** This is documentation for B. */B,\n      ;\n      \n   }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TVsDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TVsDt.png\" alt=\"An image of the JavaDoc that was generated for the code immediately above this image.\" /></a></p>\n<p>But that is as far as Java lets you take it. Anything internal to the enum is considered an anonymous-instance-specific attribute, and thus, does not get any JavaDoc.</p>\n<hr />\n<p>If you find yourself in a situation where you need that granular level documentation, why not make a sealed hierarchy? Something like this achieves similar functionality to <code>enum</code>'s, just not including all of the powerful features that enum's tend to have out of the box (<code>EnumSet</code>, <code>EnumMap</code>, <code>Enum::values</code>, etc.).</p>\n<p>Here is an example of a sealed hierarchy that has some of the features that an <code>enum</code> would.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public sealed class E\n   {\n   \n      /** E's implementation of m. */\n      void m() {}\n   \n   }\n   \n   public final class A extends E\n   {\n   \n      /** A's implementation of m. */\n      void m() {}\n   \n   }\n   \n   public final class B extends E\n   {\n   \n      @Override\n      void m() {}\n   \n   }\n\n</code></pre>\n<p>And here is the JavaDoc that is generated from the following class.</p>\n<p><a href=\"https://i.stack.imgur.com/HR22h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HR22h.png\" alt=\"JavaDoc for the sealed type E\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/zQd5G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQd5G.png\" alt=\"JavaDoc for the permitted subclass A\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EU6sw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EU6sw.png\" alt=\"JavaDoc for the permitted subclass B\" /></a></p>\n<p>Now we see that <code>A::m</code> has it's own JavaDoc.</p>\n<p>And if you want to limit the instances that can be created, you can just use the singleton design pattern, while making <code>E</code> an <code>abstract class</code>. Here is what that might look like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   public abstract static sealed class E\n   {\n   \n      /** E's implementation of m. */\n      abstract void m();\n   \n   }\n   \n   public static final class A extends E\n   {\n   \n      public static final A SINGLETON = new A();\n   \n      private A(){}\n      \n      /** A's implementation of m. */\n      void m() {}\n   \n   }\n   \n   public static final class B extends E\n   {\n   \n      public static final B SINGLETON = new B();\n   \n      private B(){}\n      \n      @Override\n      void m() {}\n   \n   }\n\n</code></pre>\n<p>And just like that, you have recreated (only the most basic features of) an enum. You can add an <code>::ordinal</code> or <code>::values</code> method if you like, amongst other things. But that's probably as far as you can go.</p>\n"}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672239096,"creation_date":1672206932,"question_id":74936723,"body_markdown":"Given an enum class `E` with elements `A` and `B` and method `m`, \r\nhow to reference E.A.m in javadoc? \r\nThis problem occurs if one has to mention properties of `m` specific for `A`. \r\nIn particular, if `E.m` is overwritten for `A` or if `E.m` is abstract \r\nand each element provides its own implementation. ","title":"How to reference a method of an element of an enum in java","body":"<p>Given an enum class <code>E</code> with elements <code>A</code> and <code>B</code> and method <code>m</code>,\nhow to reference E.A.m in javadoc?\nThis problem occurs if one has to mention properties of <code>m</code> specific for <code>A</code>.\nIn particular, if <code>E.m</code> is overwritten for <code>A</code> or if <code>E.m</code> is abstract\nand each element provides its own implementation.</p>\n"},{"tags":["java","soap","axis","wsdl2java","java-calendar"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1672251850,"post_id":74941216,"comment_id":132252742,"body_markdown":"Let me know if you need further help.","body":"Let me know if you need further help."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672239084,"creation_date":1672239084,"answer_id":74941691,"question_id":74941216,"body_markdown":"`xsd:dateTime` expects a value in the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format e.g. `2022-05-22T14:27:00.000` which is in the pattern `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS`. Learn more about it from [this tutorial](https://www.w3schools.com/xml/schema_dtypes_date.asp).\r\n\r\n**Note**: The `java.time` API has a constant, [`DateTimeFormatter.ISO_LOCAL_DATE_TIME`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME) as a pre-defined pattern.","title":"AxisFault NumberFormatException Invalid date/time","body":"<p><code>xsd:dateTime</code> expects a value in the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format e.g. <code>2022-05-22T14:27:00.000</code> which is in the pattern <code>yyyy-MM-dd'T'HH:mm:ss.SSS</code>. Learn more about it from <a href=\"https://www.w3schools.com/xml/schema_dtypes_date.asp\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p><strong>Note</strong>: The <code>java.time</code> API has a constant, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_LOCAL_DATE_TIME\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter.ISO_LOCAL_DATE_TIME</code></a> as a pre-defined pattern.</p>\n"}],"owner":{"account_id":18490037,"reputation":3,"user_id":13469929,"display_name":"Aycan &#214;cal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672239084,"creation_date":1672236295,"question_id":74941216,"body_markdown":"I&#39;m trying to consume a SOAP service with Java. I need to set a date/time element properly.\r\n\r\n`&lt;element maxOccurs=&quot;1&quot; minOccurs=&quot;0&quot; name=&quot;startDate&quot; nillable=&quot;true&quot; type=&quot;xsd:dateTime&quot;/&gt;`\r\n\r\nI generated a client jar with Axis 1.4 wsdl2java\r\n\r\nI need to send a Calendar type object.\r\n\r\n`java.util.Calendar startDate`\r\n\r\nIn SOAPUI, it accepts the format below.\r\n\r\n`&lt;startDate&gt;22/05/2022 14:27:00.000&lt;/startDate&gt;`\r\n\r\nIn code, I tried formatting the date but didn&#39;t work. I get the same error every time while getting response.\r\n\r\n`AxisFault java.lang.NumberFormatException Invalid date/time`\r\n\r\nAny ideas?","title":"AxisFault NumberFormatException Invalid date/time","body":"<p>I'm trying to consume a SOAP service with Java. I need to set a date/time element properly.</p>\n<p><code>&lt;element maxOccurs=&quot;1&quot; minOccurs=&quot;0&quot; name=&quot;startDate&quot; nillable=&quot;true&quot; type=&quot;xsd:dateTime&quot;/&gt;</code></p>\n<p>I generated a client jar with Axis 1.4 wsdl2java</p>\n<p>I need to send a Calendar type object.</p>\n<p><code>java.util.Calendar startDate</code></p>\n<p>In SOAPUI, it accepts the format below.</p>\n<p><code>&lt;startDate&gt;22/05/2022 14:27:00.000&lt;/startDate&gt;</code></p>\n<p>In code, I tried formatting the date but didn't work. I get the same error every time while getting response.</p>\n<p><code>AxisFault java.lang.NumberFormatException Invalid date/time</code></p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","searchview"],"answers":[{"comments":[{"owner":{"account_id":915829,"reputation":2644,"user_id":948645,"accept_rate":23,"display_name":"alexbirkett"},"score":1,"creation_date":1476352577,"post_id":17591520,"comment_id":67312386,"body_markdown":"So you set a touch listener on every view in the hierarchy except the search view? What if they already have touch listeners?","body":"So you set a touch listener on every view in the hierarchy except the search view? What if they already have touch listeners?"}],"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1373540123,"creation_date":1373540123,"answer_id":17591520,"question_id":17590874,"body_markdown":"Well I found out the following solution. I used setOnTouchListener on every view that is not an instance of searchview to collapse the searchview. It worked perfect for me. Following is the code.\r\n\r\n\tpublic void setupUI(View view) {\r\n\r\n\t    if(!(view instanceof SearchView)) {\r\n\r\n\t        view.setOnTouchListener(new OnTouchListener() {\r\n\r\n\t            public boolean onTouch(View v, MotionEvent event) {\r\n\t                searchMenuItem.collapseActionView();\r\n\t                return false;\r\n\t            }\r\n\r\n\t        });\r\n\t    }\r\n\r\n\t    //If a layout container, iterate over children and seed recursion.\r\n\t    if (view instanceof ViewGroup) {\r\n\r\n\t        for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\r\n\r\n\t            View innerView = ((ViewGroup) view).getChildAt(i);\r\n\r\n\t            setupUI(innerView);\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n[This][1] is the answer I referred to.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11656129/820410","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>Well I found out the following solution. I used setOnTouchListener on every view that is not an instance of searchview to collapse the searchview. It worked perfect for me. Following is the code.</p>\n\n<pre><code>public void setupUI(View view) {\n\n    if(!(view instanceof SearchView)) {\n\n        view.setOnTouchListener(new OnTouchListener() {\n\n            public boolean onTouch(View v, MotionEvent event) {\n                searchMenuItem.collapseActionView();\n                return false;\n            }\n\n        });\n    }\n\n    //If a layout container, iterate over children and seed recursion.\n    if (view instanceof ViewGroup) {\n\n        for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\n\n            View innerView = ((ViewGroup) view).getChildAt(i);\n\n            setupUI(innerView);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/11656129/820410\">This</a> is the answer I referred to.</p>\n"},{"tags":[],"owner":{"account_id":237229,"reputation":14274,"user_id":505248,"accept_rate":25,"display_name":"Pascalius"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429908794,"creation_date":1429908794,"answer_id":29857256,"question_id":17590874,"body_markdown":"This works for me, mOptionsMenu is saved in onCreateOptionsMenu:\r\n\r\n    public void setupUI(View view) {\r\n\r\n        //Set up touch listener for non-text box views to hide keyboard.\r\n        if(!(view instanceof EditText)) {\r\n\r\n            view.setOnTouchListener(new View.OnTouchListener() {\r\n\r\n                public boolean onTouch(View v, MotionEvent event) {\r\n                    hideSoftKeyboard(MainActivity.this);\r\n                    if(mOptionsMenu == null) return false;\r\n                    MenuItem searchMenuItem = mOptionsMenu.findItem(R.id.action_search);\r\n                    if(searchMenuItem == null) return false;\r\n                    ((SearchView)searchMenuItem.getActionView()).clearFocus();\r\n                    return false;\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        //If a layout container, iterate over children and seed recursion.\r\n        if (view instanceof ViewGroup) {\r\n\r\n            for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\r\n\r\n                View innerView = ((ViewGroup) view).getChildAt(i);\r\n\r\n                setupUI(innerView);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void hideSoftKeyboard(Activity activity) {\r\n        InputMethodManager inputMethodManager = (InputMethodManager)  activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n        inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\r\n    }","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>This works for me, mOptionsMenu is saved in onCreateOptionsMenu:</p>\n\n<pre><code>public void setupUI(View view) {\n\n    //Set up touch listener for non-text box views to hide keyboard.\n    if(!(view instanceof EditText)) {\n\n        view.setOnTouchListener(new View.OnTouchListener() {\n\n            public boolean onTouch(View v, MotionEvent event) {\n                hideSoftKeyboard(MainActivity.this);\n                if(mOptionsMenu == null) return false;\n                MenuItem searchMenuItem = mOptionsMenu.findItem(R.id.action_search);\n                if(searchMenuItem == null) return false;\n                ((SearchView)searchMenuItem.getActionView()).clearFocus();\n                return false;\n            }\n\n        });\n    }\n\n    //If a layout container, iterate over children and seed recursion.\n    if (view instanceof ViewGroup) {\n\n        for (int i = 0; i &lt; ((ViewGroup) view).getChildCount(); i++) {\n\n            View innerView = ((ViewGroup) view).getChildAt(i);\n\n            setupUI(innerView);\n        }\n    }\n}\n\npublic static void hideSoftKeyboard(Activity activity) {\n    InputMethodManager inputMethodManager = (InputMethodManager)  activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13899264,"reputation":377,"user_id":10035225,"display_name":"Philemon Khor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533182668,"creation_date":1533182668,"answer_id":51645312,"question_id":17590874,"body_markdown":"Well, I have another simpler and tidier way of doing this. If you&#39;re using search widget as an action view in the toolbar (https://developer.android.com/guide/topics/search/search-dialog#UsingSearchWidget), you might want to make the SearchView lose focus and hide the keyboard when user touches anywhere else on the screen.\r\n\r\nInstead of iterating and setting up touch listeners on every view in the hierarchy except the SearhView, you can simply make use of this [solution] since the SearchView has a AutoCompleteTextView in it. \r\n\r\n\r\n**Step 1: Make the parent view(content view of your activity) clickable and focusable by adding the following attribute**\r\n\r\n    android:clickable=&quot;true&quot;   \r\n    android:focusableInTouchMode=&quot;true&quot;\r\n\r\n**Step 2: Set OnFocusChangeListener on the SearchView AutoCompleteTextView**\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n\r\n        final MenuItem search = menu.findItem(R.id.action_search);\r\n        SearchView searchView = (SearchView) search.getActionView();\r\n\r\n        // get a reference of the AutoCompleteTextView from the searchView\r\n        AutoCompleteTextView searchSrcText = searchView.findViewById(android.support.v7.appcompat.R.id.search_src_text);\r\n        searchSrcText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\r\n            @Override\r\n            public void onFocusChange(View v, boolean hasFocus) {\r\n                if (!hasFocus) {\r\n                    InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n                    inputMethodManager.hideSoftInputFromWindow(v.getWindowToken(), 0);\r\n                }\r\n            }\r\n        });\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\nThat&#39;s it! Hopefully this is useful for future readers  :)\r\n[solution]:https://stackoverflow.com/a/19828165/10035225\r\n\r\n\r\n","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>Well, I have another simpler and tidier way of doing this. If you're using search widget as an action view in the toolbar (<a href=\"https://developer.android.com/guide/topics/search/search-dialog#UsingSearchWidget\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/search/search-dialog#UsingSearchWidget</a>), you might want to make the SearchView lose focus and hide the keyboard when user touches anywhere else on the screen.</p>\n\n<p>Instead of iterating and setting up touch listeners on every view in the hierarchy except the SearhView, you can simply make use of this <a href=\"https://stackoverflow.com/a/19828165/10035225\">solution</a> since the SearchView has a AutoCompleteTextView in it. </p>\n\n<p><strong>Step 1: Make the parent view(content view of your activity) clickable and focusable by adding the following attribute</strong></p>\n\n<pre><code>android:clickable=\"true\"   \nandroid:focusableInTouchMode=\"true\"\n</code></pre>\n\n<p><strong>Step 2: Set OnFocusChangeListener on the SearchView AutoCompleteTextView</strong></p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n\n    final MenuItem search = menu.findItem(R.id.action_search);\n    SearchView searchView = (SearchView) search.getActionView();\n\n    // get a reference of the AutoCompleteTextView from the searchView\n    AutoCompleteTextView searchSrcText = searchView.findViewById(android.support.v7.appcompat.R.id.search_src_text);\n    searchSrcText.setOnFocusChangeListener(new View.OnFocusChangeListener() {\n        @Override\n        public void onFocusChange(View v, boolean hasFocus) {\n            if (!hasFocus) {\n                InputMethodManager inputMethodManager = (InputMethodManager) getSystemService(Activity.INPUT_METHOD_SERVICE);\n                inputMethodManager.hideSoftInputFromWindow(v.getWindowToken(), 0);\n            }\n        }\n    });\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n\n<p>That's it! Hopefully this is useful for future readers  :)</p>\n"},{"tags":[],"owner":{"account_id":5562427,"reputation":984,"user_id":4411049,"display_name":"Usama Saeed US"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575651699,"creation_date":1575651699,"answer_id":59217403,"question_id":17590874,"body_markdown":"in my case, i had to stop the search and close the keyboard, whenever user clicks on any other view, this worked for me.\r\n\r\n        public static void hideSoftKeyboard(Activity activity) {\r\n        InputMethodManager inputMethodManager = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\r\n        inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean dispatchTouchEvent(MotionEvent ev) {\r\n        if (ev.getAction() == MotionEvent.ACTION_DOWN) {\r\n            View view = getCurrentFocus();\r\n\r\n            if (view != null &amp;&amp; view instanceof EditText) {\r\n                Rect r = new Rect();\r\n                view.getGlobalVisibleRect(r);\r\n                int rawX = (int) ev.getRawX();\r\n                int rawY = (int) ev.getRawY();\r\n                if (!r.contains(rawX, rawY)) {\r\n                    hideSoftKeyboard(MainActivity.this);\r\n                }\r\n            }\r\n        }\r\n        return super.dispatchTouchEvent(ev);\r\n    }","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>in my case, i had to stop the search and close the keyboard, whenever user clicks on any other view, this worked for me.</p>\n\n<pre><code>    public static void hideSoftKeyboard(Activity activity) {\n    InputMethodManager inputMethodManager = (InputMethodManager) activity.getSystemService(Activity.INPUT_METHOD_SERVICE);\n    inputMethodManager.hideSoftInputFromWindow(activity.getCurrentFocus().getWindowToken(), 0);\n}\n\n\n@Override\npublic boolean dispatchTouchEvent(MotionEvent ev) {\n    if (ev.getAction() == MotionEvent.ACTION_DOWN) {\n        View view = getCurrentFocus();\n\n        if (view != null &amp;&amp; view instanceof EditText) {\n            Rect r = new Rect();\n            view.getGlobalVisibleRect(r);\n            int rawX = (int) ev.getRawX();\n            int rawY = (int) ev.getRawY();\n            if (!r.contains(rawX, rawY)) {\n                hideSoftKeyboard(MainActivity.this);\n            }\n        }\n    }\n    return super.dispatchTouchEvent(ev);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10858383,"reputation":361,"user_id":7983969,"display_name":"Gv Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672239084,"creation_date":1672239084,"answer_id":74941690,"question_id":17590874,"body_markdown":"try this. It will make the searchView collapse when click anywhere on the screen. \r\n\r\n    searchView.isIconified = true","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>try this. It will make the searchView collapse when click anywhere on the screen.</p>\n<pre><code>searchView.isIconified = true\n</code></pre>\n"}],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10467,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":17591520,"answer_count":5,"score":10,"last_activity_date":1672239084,"creation_date":1373538044,"question_id":17590874,"body_markdown":"In my app, I&#39;m making a [search interface][1] in which the `SearchView` collapses and expands when it loses and gains focus respectively. However, the losing focus thing is only happening in two cases:\r\n\r\n1. When the back button is pressed.\r\n\r\n2. When the home icon beside the `SearchView` is pressed.\r\n\r\nI want it to lose focus (and hence collapse) if the user clicks not only on these two things, but anywhere else on the screen (e.g., any button or any blank portion of the screen without a view on it).\r\n\r\n  [1]: http://developer.android.com/training/search/setup.html","title":"How to make SearchView lose focus and collapse when clicking elsewhere on activity","body":"<p>In my app, I'm making a <a href=\"http://developer.android.com/training/search/setup.html\" rel=\"noreferrer\">search interface</a> in which the <code>SearchView</code> collapses and expands when it loses and gains focus respectively. However, the losing focus thing is only happening in two cases:</p>\n\n<ol>\n<li><p>When the back button is pressed.</p></li>\n<li><p>When the home icon beside the <code>SearchView</code> is pressed.</p></li>\n</ol>\n\n<p>I want it to lose focus (and hence collapse) if the user clicks not only on these two things, but anywhere else on the screen (e.g., any button or any blank portion of the screen without a view on it).</p>\n"},{"tags":["java","weblogic","weblogic12c","java-ee-6","java-ee-7"],"comments":[{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":1,"creation_date":1672215535,"post_id":74929691,"comment_id":132242786,"body_markdown":"Did you read this [documentation](https://docs.oracle.com/middleware/1213/wls/DEPGD/wlplangenerator.htm#DEPGD363) and particularly chapter &quot;Required Environment for weblogic.PlanGenerator&quot; ?","body":"Did you read this <a href=\"https://docs.oracle.com/middleware/1213/wls/DEPGD/wlplangenerator.htm#DEPGD363\" rel=\"nofollow noreferrer\">documentation</a> and particularly chapter &quot;Required Environment for weblogic.PlanGenerator&quot; ?"}],"owner":{"account_id":14649842,"reputation":21,"user_id":10580164,"display_name":"Qasimodo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672238691,"creation_date":1672146616,"question_id":74929691,"body_markdown":"Generating deployment plan file for a .war file using the command `&quot;java weblogic.PlanGenerator -all application.war&quot;` is failing with Error: `Could not find or load main class weblogic.PlanGenerator`","title":"weblogic.PlanGenerator utility is failing with &quot;Could not find or load main class weblogic.PlanGenerator&quot;","body":"<p>Generating deployment plan file for a .war file using the command <code>&quot;java weblogic.PlanGenerator -all application.war&quot;</code> is failing with Error: <code>Could not find or load main class weblogic.PlanGenerator</code></p>\n"},{"tags":["java","api","xml-parsing","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1672225188,"post_id":74939060,"comment_id":132245215,"body_markdown":"Pls, show your code, we can&#39;t help with text.","body":"Pls, show your code, we can&#39;t help with text."},{"owner":{"account_id":2182770,"reputation":77,"user_id":3170024,"display_name":"skreutzer"},"score":0,"creation_date":1672226623,"post_id":74939060,"comment_id":132245520,"body_markdown":"So you&#39;re saying you probably can&#39;t use the regular methods because your XML response doesn&#39;t fit into a `String` to hold the response temporarily? If so, to the extend possible, maybe you might be able to obtain a stream from the network response and feed it into a stream-based writer, to never hold much/all of the response in a `String`/memory, and just forward smaller chunks of the response onto disk.","body":"So you&#39;re saying you probably can&#39;t use the regular methods because your XML response doesn&#39;t fit into a <code>String</code> to hold the response temporarily? If so, to the extend possible, maybe you might be able to obtain a stream from the network response and feed it into a stream-based writer, to never hold much/all of the response in a <code>String</code>/memory, and just forward smaller chunks of the response onto disk."}],"answers":[{"tags":[],"owner":{"account_id":26683037,"reputation":25,"user_id":20292757,"display_name":"Maymanaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672238395,"creation_date":1672238395,"answer_id":74941576,"question_id":74939060,"body_markdown":"The issue was with the xml format , I had to use transformer to make it pretty and safe it as xml\r\n\r\n      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\t        Transformer transformer = transformerFactory.newTransformer();\r\n\t        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n\t        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot; );\r\n\t        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\r\n\t        Writer out = new StringWriter();\r\n\t        transformer.transform(new DOMSource(document), new StreamResult(out));\r\n\t        FileWriter fw = new FileWriter(&quot;my-file.xml&quot;);\r\n\t\t\t  fw.write( out.toString());\r\n\t\t\t  fw.close();","title":"Save API Response as XML file","body":"<p>The issue was with the xml format , I had to use transformer to make it pretty and safe it as xml</p>\n<pre><code>  TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer transformer = transformerFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot; );\n        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n\n        Writer out = new StringWriter();\n        transformer.transform(new DOMSource(document), new StreamResult(out));\n        FileWriter fw = new FileWriter(&quot;my-file.xml&quot;);\n          fw.write( out.toString());\n          fw.close();\n</code></pre>\n"}],"owner":{"account_id":26683037,"reputation":25,"user_id":20292757,"display_name":"Maymanaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672238395,"creation_date":1672223205,"question_id":74939060,"body_markdown":"I&#39;m actually working on a test project using &quot;REST Assured&quot; in Java :Using a get API to retrive an xml content ( the content type is &quot;application/atom+xml&quot;) then update this xml and push it using a post API.\r\nMy idea is to save the response body of get API in xml file -&gt; update it -&gt; post it -&gt; delete the xml file\r\nand I&#39;m blocked in the first step to save the response in xml file, I tried many methods but could&#39;nt succeed.\r\n\r\nAny solution for this or any other ideas\r\n\r\nI tried saving the response  as a String then convert it to XML , but the xml content is too big so I get many errors which fixing it will change the format/content\r\nI also tried using the XMLpath to parse the content that I want to change without saving it to a file but couldnt make it work because I save the response to a string then parse it\r\n ","title":"Save API Response as XML file","body":"<p>I'm actually working on a test project using &quot;REST Assured&quot; in Java :Using a get API to retrive an xml content ( the content type is &quot;application/atom+xml&quot;) then update this xml and push it using a post API.\nMy idea is to save the response body of get API in xml file -&gt; update it -&gt; post it -&gt; delete the xml file\nand I'm blocked in the first step to save the response in xml file, I tried many methods but could'nt succeed.</p>\n<p>Any solution for this or any other ideas</p>\n<p>I tried saving the response  as a String then convert it to XML , but the xml content is too big so I get many errors which fixing it will change the format/content\nI also tried using the XMLpath to parse the content that I want to change without saving it to a file but couldnt make it work because I save the response to a string then parse it</p>\n"},{"tags":["java","recursion","methods"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1672234357,"post_id":74940861,"comment_id":132247499,"body_markdown":"This *does* &quot;return an integer value&quot;.","body":"This <i>does</i> &quot;return an integer value&quot;."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1672234462,"post_id":74940861,"comment_id":132247529,"body_markdown":"Your &quot;class details&quot; do not explain what `CountWords` is supposed to do.","body":"Your &quot;class details&quot; do not explain what <code>CountWords</code> is supposed to do."},{"owner":{"account_id":27374296,"reputation":11,"user_id":20879888,"display_name":"Bennett4242"},"score":0,"creation_date":1672234599,"post_id":74940861,"comment_id":132247566,"body_markdown":"I know a different method of doing this task but i need an &quot;int&quot; parameter in the function FindWords()","body":"I know a different method of doing this task but i need an &quot;int&quot; parameter in the function FindWords()"},{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1672237454,"post_id":74940861,"comment_id":132248437,"body_markdown":"According to the question, the parameter has to be an integer and not string","body":"According to the question, the parameter has to be an integer and not string"}],"answers":[{"tags":[],"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672237205,"creation_date":1672237205,"answer_id":74941360,"question_id":74940861,"body_markdown":"In your code, the last return statement is inaccessible. Reason: you have put an if-else block and have put return in both the cases. So the function actually gets returned from the if-else block itself (within else, the condition of if is always true since you assigned the very value i.e. str.indexOf(&quot; &quot;)).\r\n\r\nI have written down the code according to the question you gave above...\r\n\r\n    public int findWords(int i){\r\n        if(i &gt; text.lastIndexOf(&quot; &quot;))\r\n            return 1;\r\n        i = text.substring(i).indexOf(&quot; &quot;) + i;\r\n        if(i &lt; 0)\r\n            return 1;\r\n        if(text.substring(i).equals(null))\r\n            return 0;\r\n        return( findWords(i+1) + 1);\r\n    }\r\n\r\nHope you find it well working.","title":"finding number of words present in the string in java using recursion","body":"<p>In your code, the last return statement is inaccessible. Reason: you have put an if-else block and have put return in both the cases. So the function actually gets returned from the if-else block itself (within else, the condition of if is always true since you assigned the very value i.e. str.indexOf(&quot; &quot;)).</p>\n<p>I have written down the code according to the question you gave above...</p>\n<pre><code>public int findWords(int i){\n    if(i &gt; text.lastIndexOf(&quot; &quot;))\n        return 1;\n    i = text.substring(i).indexOf(&quot; &quot;) + i;\n    if(i &lt; 0)\n        return 1;\n    if(text.substring(i).equals(null))\n        return 0;\n    return( findWords(i+1) + 1);\n}\n</code></pre>\n<p>Hope you find it well working.</p>\n"},{"comments":[{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1672237434,"post_id":74941383,"comment_id":132248432,"body_markdown":"According to the question, he doesn&#39;t have to take a string parameter input. It needs to be int","body":"According to the question, he doesn&#39;t have to take a string parameter input. It needs to be int"},{"owner":{"account_id":17584357,"reputation":1,"user_id":12757441,"display_name":"Jakob-Go"},"score":0,"creation_date":1672238122,"post_id":74941383,"comment_id":132248654,"body_markdown":"Where does it say that? The last line reads &quot;but i need to **return** an integer value and i am confused with that..&quot;\nUnless of course, FindWords and CountWords are meant to be the same function","body":"Where does it say that? The last line reads &quot;but i need to <b>return</b> an integer value and i am confused with that..&quot; Unless of course, FindWords and CountWords are meant to be the same function"},{"owner":{"account_id":21521055,"reputation":409,"user_id":15862198,"display_name":"Utkarsh Sahu"},"score":0,"creation_date":1672289280,"post_id":74941383,"comment_id":132259296,"body_markdown":"Obviously CountWords and FindWords seem to mean the same thing...","body":"Obviously CountWords and FindWords seem to mean the same thing..."}],"tags":[],"owner":{"account_id":17584357,"reputation":1,"user_id":12757441,"display_name":"Jakob-Go"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672238386,"creation_date":1672237348,"answer_id":74941383,"question_id":74940861,"body_markdown":"Your function already is returning a integer, it just happens to always be 0.\r\nThis is due to\r\n```\r\nelse if (i == str.indexOf(&quot; &quot;)) {\r\n  return c++;\r\n}\r\n```\r\nAlways being true and c++ only updating after the return statement was passed. \r\nThis happens because you already set i to be the indexOf(&quot; &quot;) and due to the implementation of incrementation using int++. Also, keep in mind hat you need to increase the number of words by 2 here, since you&#39;re ending the function between two words.\r\n\r\nTherefore, use this instead:\r\n```\r\nelse if (i == str.lastIndexOf(&quot; &quot;)) {\r\n  return c+2;\r\n}\r\n```\r\n\r\nYou should see that now the function is returning the correct amount of words.","title":"finding number of words present in the string in java using recursion","body":"<p>Your function already is returning a integer, it just happens to always be 0.\nThis is due to</p>\n<pre><code>else if (i == str.indexOf(&quot; &quot;)) {\n  return c++;\n}\n</code></pre>\n<p>Always being true and c++ only updating after the return statement was passed.\nThis happens because you already set i to be the indexOf(&quot; &quot;) and due to the implementation of incrementation using int++. Also, keep in mind hat you need to increase the number of words by 2 here, since you're ending the function between two words.</p>\n<p>Therefore, use this instead:</p>\n<pre><code>else if (i == str.lastIndexOf(&quot; &quot;)) {\n  return c+2;\n}\n</code></pre>\n<p>You should see that now the function is returning the correct amount of words.</p>\n"}],"owner":{"account_id":27374296,"reputation":11,"user_id":20879888,"display_name":"Bennett4242"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1672238386,"creation_date":1672234142,"question_id":74940861,"body_markdown":"A class words defines a recursive function to perform string related operations. The class details\r\nare given below:\r\n```\r\nClass name : words\r\nData members/instance variables\r\n text : to store string.\r\n w : integer variable to store total words.\r\nMember functions/methods\r\n words( ) : constructor to store blank to string and 0 to integer data.\r\n void Accept( ) : to read a sentence in text. Note that the sentence may contain more\r\n than one blank space between words.\r\n int FindWords(int) : to count total number of words present in text using Recursive\r\n Technique and store in ‘w’ and return.\r\n void Result( ) : to display the original string. Print total number of words stored in\r\n ‘w’ by invoking the recursive function.\r\n```\r\nI tried this code\r\n\r\n\r\n```\r\npublic static int CountWords(String str) {\r\n    int c = 0;\r\n    int i = str.indexOf(&quot; &quot;);\r\n    if (str.isEmpty()) {\r\n        return 0;\r\n    }else \r\n        if (i == str.indexOf(&quot; &quot;)) {\r\n      return c++;\r\n   }\r\n  //str.substring(0,str.indexOf(&quot; &quot;)-1);\r\n    c++;\r\n    return c + CountWords(str.substring(i + 1));\r\n}\r\n```\r\n\r\n\r\nbut i need to return an integer value and i am confused with that..","title":"finding number of words present in the string in java using recursion","body":"<p>A class words defines a recursive function to perform string related operations. The class details\nare given below:</p>\n<pre><code>Class name : words\nData members/instance variables\n text : to store string.\n w : integer variable to store total words.\nMember functions/methods\n words( ) : constructor to store blank to string and 0 to integer data.\n void Accept( ) : to read a sentence in text. Note that the sentence may contain more\n than one blank space between words.\n int FindWords(int) : to count total number of words present in text using Recursive\n Technique and store in ‘w’ and return.\n void Result( ) : to display the original string. Print total number of words stored in\n ‘w’ by invoking the recursive function.\n</code></pre>\n<p>I tried this code</p>\n<pre><code>public static int CountWords(String str) {\n    int c = 0;\n    int i = str.indexOf(&quot; &quot;);\n    if (str.isEmpty()) {\n        return 0;\n    }else \n        if (i == str.indexOf(&quot; &quot;)) {\n      return c++;\n   }\n  //str.substring(0,str.indexOf(&quot; &quot;)-1);\n    c++;\n    return c + CountWords(str.substring(i + 1));\n}\n</code></pre>\n<p>but i need to return an integer value and i am confused with that..</p>\n"},{"tags":["java","json","parsing"],"answers":[{"tags":[],"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672238313,"creation_date":1672238313,"answer_id":74941558,"question_id":74930373,"body_markdown":"ok `referencesMap` was ok but not `choosegene`, this works for me:\r\n\r\n\tprivate void populateGene_reference() throws IOException, CompoundNotFoundException {\r\n\t\tURL url = getClass().getResource(&quot;/main/genes.json&quot;);\r\n\tif (url != null) {\r\n\t\tFile geneFile = new File(url.getPath());\r\n\t\tReferencesParser parser = new ReferencesParser(geneFile);\r\n\t\tMap&lt;ReferencesEnum, Reference&gt; referencesMap = parser.parseReferenceFile();\r\n\r\n\t\t\tfor (ReferencesEnum key : referencesMap.keySet()) {\r\n\t\t\t\tchoosegene.getItems().add(referencesMap.get(key).getName());\r\n\t\t\t}\r\n\r\nHope it will help those having the same issue!","title":"populate combobox with part of values from json","body":"<p>ok <code>referencesMap</code> was ok but not <code>choosegene</code>, this works for me:</p>\n<pre><code>private void populateGene_reference() throws IOException, CompoundNotFoundException {\n    URL url = getClass().getResource(&quot;/main/genes.json&quot;);\nif (url != null) {\n    File geneFile = new File(url.getPath());\n    ReferencesParser parser = new ReferencesParser(geneFile);\n    Map&lt;ReferencesEnum, Reference&gt; referencesMap = parser.parseReferenceFile();\n\n        for (ReferencesEnum key : referencesMap.keySet()) {\n            choosegene.getItems().add(referencesMap.get(key).getName());\n        }\n</code></pre>\n<p>Hope it will help those having the same issue!</p>\n"}],"owner":{"account_id":12077391,"reputation":331,"user_id":8830342,"display_name":"vmicrobio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74941558,"answer_count":1,"score":0,"last_activity_date":1672238313,"creation_date":1672150374,"question_id":74930373,"body_markdown":"I&#39;m trying to fill a combobox with a specific field (name) from a json file. \r\n\r\nparser file to extract information from json:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class ReferencesParser {\r\n    \r\n        private final File jsonFile;\r\n    \r\n        public ReferencesParser(File jsonFile) {\r\n            this.jsonFile = jsonFile;\r\n        }\r\n    \r\n        public Map&lt;ReferencesEnum, Reference&gt; parseReferenceFile() {\r\n    \r\n            Map&lt;ReferencesEnum, Reference&gt; referencesMap = new HashMap&lt;&gt;();\r\n    \r\n            try {\r\n                String content = new String(Files.readAllBytes(this.jsonFile.toPath()));\r\n                JSONObject json = new JSONObject(content);\r\n                for (Object object : (JSONArray) json.get(&quot;genes&quot;)) {\r\n                    JSONObject geneObject = (JSONObject) object;\r\n    \r\n                    Long id = geneObject.getLong(&quot;id&quot;);\r\n                    String name = geneObject.getString(&quot;name&quot;);\r\n                    String sequence = geneObject.getString(&quot;sequence&quot;);\r\n    \r\n                    Reference reference = new Reference(id, name, sequence);\r\n                    referencesMap.put(ReferencesEnum.valueOf(name), reference);\r\n                }\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            return referencesMap;\r\n        }\r\n    \r\n    }\r\n\r\ngenes.json file containing data to implement:\r\n\r\n    {\r\n      &quot;genes&quot;: [\r\n        { &quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;gene1&quot;, &quot;sequence&quot;: &quot;gcattgtgggcgctatattgt&quot; },\r\n        { &quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;gene2&quot;, &quot;sequence&quot;: &quot;gcattgtgggcgctatattcc&quot; },\r\n        { &quot;id&quot;:&quot;3&quot;,&quot;name&quot;:&quot;gene3&quot;, &quot;sequence&quot;: &quot;gcatcgtgggcgctatatcat&quot; }\r\n      ]\r\n    }\r\n\r\nand I&#39;m trying to populate a combobox with &#39;name&#39; value from json using a controller file:\r\n\r\n    ...\r\n    \t@FXML\r\n    \tprivate ComboBox&lt;String&gt; choosegene;\r\n    \r\n    \t@FXML\r\n    \tpublic void initialize(){\r\n    \r\n    \t\ttry {\r\n    \t\t\tpopulateGene_reference();\r\n    //\t\t\tSystem.out.println(geneFile);\r\n    \t\t\tSystem.out.println(referencesMap);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (CompoundNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tprivate void populateGene_reference() throws IOException, CompoundNotFoundException {\r\n    \t\tURL url = getClass().getResource(&quot;/genes.json&quot;);\r\n    \t\t\tif (url != null) {\r\n    \t\t\t\tFile geneFile = new File(url.getPath());\r\n    //\t\t\t\tString _Path = url.getPath();\r\n    //\t\t\t\tSystem.out.println(&quot;URL = &quot; + url);\r\n    \t\t\t\tReferencesParser parser = new ReferencesParser(geneFile);\r\n    //\t\t\t\tSystem.out.println(&quot;genefile = &quot; + geneFile);\r\n    \t\t\t\tMap&lt;ReferencesEnum, Reference&gt; referencesMap = parser.parseReferenceFile();\r\n    //\t\t\t\tMap&lt;ReferencesEnum, Reference&gt; test parser.parseReferenceFile();\r\n    \t\t\t\tSystem.out.println(&quot;refmap = &quot; + referencesMap);\r\n    \t\t\t\tchoosegene.getItems().add(String.valueOf(referencesMap));\r\n\r\n\r\n\r\nI have tried different ways to get my gene names but &#39;system.out.println&#39; give me this:\r\n\r\n    refmap = {gene2=gene2 gcatcgtgggcgctatatcat}\r\n\r\n    refmap2 = {}\r\n\r\nWhat did I miss?\r\n\r\nThank you for your help","title":"populate combobox with part of values from json","body":"<p>I'm trying to fill a combobox with a specific field (name) from a json file.</p>\n<p>parser file to extract information from json:</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ReferencesParser {\n\n    private final File jsonFile;\n\n    public ReferencesParser(File jsonFile) {\n        this.jsonFile = jsonFile;\n    }\n\n    public Map&lt;ReferencesEnum, Reference&gt; parseReferenceFile() {\n\n        Map&lt;ReferencesEnum, Reference&gt; referencesMap = new HashMap&lt;&gt;();\n\n        try {\n            String content = new String(Files.readAllBytes(this.jsonFile.toPath()));\n            JSONObject json = new JSONObject(content);\n            for (Object object : (JSONArray) json.get(&quot;genes&quot;)) {\n                JSONObject geneObject = (JSONObject) object;\n\n                Long id = geneObject.getLong(&quot;id&quot;);\n                String name = geneObject.getString(&quot;name&quot;);\n                String sequence = geneObject.getString(&quot;sequence&quot;);\n\n                Reference reference = new Reference(id, name, sequence);\n                referencesMap.put(ReferencesEnum.valueOf(name), reference);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        return referencesMap;\n    }\n\n}\n</code></pre>\n<p>genes.json file containing data to implement:</p>\n<pre><code>{\n  &quot;genes&quot;: [\n    { &quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;gene1&quot;, &quot;sequence&quot;: &quot;gcattgtgggcgctatattgt&quot; },\n    { &quot;id&quot;:&quot;2&quot;,&quot;name&quot;:&quot;gene2&quot;, &quot;sequence&quot;: &quot;gcattgtgggcgctatattcc&quot; },\n    { &quot;id&quot;:&quot;3&quot;,&quot;name&quot;:&quot;gene3&quot;, &quot;sequence&quot;: &quot;gcatcgtgggcgctatatcat&quot; }\n  ]\n}\n</code></pre>\n<p>and I'm trying to populate a combobox with 'name' value from json using a controller file:</p>\n<pre><code>...\n    @FXML\n    private ComboBox&lt;String&gt; choosegene;\n\n    @FXML\n    public void initialize(){\n\n        try {\n            populateGene_reference();\n//          System.out.println(geneFile);\n            System.out.println(referencesMap);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (CompoundNotFoundException e) {\n            e.printStackTrace();\n        }\n    };\n\n    private void populateGene_reference() throws IOException, CompoundNotFoundException {\n        URL url = getClass().getResource(&quot;/genes.json&quot;);\n            if (url != null) {\n                File geneFile = new File(url.getPath());\n//              String _Path = url.getPath();\n//              System.out.println(&quot;URL = &quot; + url);\n                ReferencesParser parser = new ReferencesParser(geneFile);\n//              System.out.println(&quot;genefile = &quot; + geneFile);\n                Map&lt;ReferencesEnum, Reference&gt; referencesMap = parser.parseReferenceFile();\n//              Map&lt;ReferencesEnum, Reference&gt; test parser.parseReferenceFile();\n                System.out.println(&quot;refmap = &quot; + referencesMap);\n                choosegene.getItems().add(String.valueOf(referencesMap));\n</code></pre>\n<p>I have tried different ways to get my gene names but 'system.out.println' give me this:</p>\n<pre><code>refmap = {gene2=gene2 gcatcgtgggcgctatatcat}\n\nrefmap2 = {}\n</code></pre>\n<p>What did I miss?</p>\n<p>Thank you for your help</p>\n"},{"tags":["java","selenium","selenium-chromedriver","apache-commons-io","webdrivermanager-java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1671777351,"post_id":74896786,"comment_id":132173820,"body_markdown":"Q: are you including Apache Commons (including, but not limited to, commons.io) in your classpath?  If you&#39;re using Maven (or equivalent) for your build, then it should automatically identify, download and include library dependencies for you.  Otherwise, you&#39;ll need to add the dependencies yourself, manually.","body":"Q: are you including Apache Commons (including, but not limited to, commons.io) in your classpath?  If you&#39;re using Maven (or equivalent) for your build, then it should automatically identify, download and include library dependencies for you.  Otherwise, you&#39;ll need to add the dependencies yourself, manually."},{"owner":{"account_id":14623477,"reputation":1,"user_id":10561414,"display_name":"Sai Krishna"},"score":0,"creation_date":1671777819,"post_id":74896786,"comment_id":132173906,"body_markdown":"No, I haven&#39;t added that in the .classpath file. Do I have to?\nI have already added below code in the pom.xml\n\n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.8.0&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"No, I haven&#39;t added that in the .classpath file. Do I have to? I have already added below code in the pom.xml  &lt;dependency&gt; \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.8.0&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"comments":[{"owner":{"account_id":14623477,"reputation":1,"user_id":10561414,"display_name":"Sai Krishna"},"score":0,"creation_date":1672053721,"post_id":74901795,"comment_id":132213076,"body_markdown":"I tried with commons-io 2.6, but it&#39;s throwing the same error","body":"I tried with commons-io 2.6, but it&#39;s throwing the same error"},{"owner":{"account_id":14623477,"reputation":1,"user_id":10561414,"display_name":"Sai Krishna"},"score":0,"creation_date":1672055632,"post_id":74901795,"comment_id":132213453,"body_markdown":"Even though I am getting same issue if I don&#39;t add commons.io dependency in my pom.xml","body":"Even though I am getting same issue if I don&#39;t add commons.io dependency in my pom.xml"}],"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671812357,"creation_date":1671812357,"answer_id":74901795,"question_id":74896786,"body_markdown":"WebDriverManager 5.3.1 depends transitively on commons-io 2.6. You can try to force that version in your pom.","title":"Getting expection on line &quot;WebDriverManager.chromedriver().setup();","body":"<p>WebDriverManager 5.3.1 depends transitively on commons-io 2.6. You can try to force that version in your pom.</p>\n"}],"owner":{"account_id":14623477,"reputation":1,"user_id":10561414,"display_name":"Sai Krishna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672237726,"creation_date":1671777099,"question_id":74896786,"body_markdown":"I am facing the below issue\r\n**java.lang.NoSuchMethodError: &#39;java.lang.String org.apache.commons.io.IOUtils.toString(java.io.InputStream, java.nio.charset.Charset)&#39;** on line &quot;WebDriverManager.chromedriver().setup();\r\n\r\nI am using the latest WebDriverManager version i.e 5.3.1 and the latest commons.io version i.e 2.11.0","title":"Getting expection on line &quot;WebDriverManager.chromedriver().setup();","body":"<p>I am facing the below issue\n<strong>java.lang.NoSuchMethodError: 'java.lang.String org.apache.commons.io.IOUtils.toString(java.io.InputStream, java.nio.charset.Charset)'</strong> on line &quot;WebDriverManager.chromedriver().setup();</p>\n<p>I am using the latest WebDriverManager version i.e 5.3.1 and the latest commons.io version i.e 2.11.0</p>\n"},{"tags":["java","spring","mongodb","asynchronous","callback"],"owner":{"account_id":10183542,"reputation":21,"user_id":7519427,"display_name":"Subham Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672237718,"creation_date":1672235701,"question_id":74941119,"body_markdown":"The below code is used to insert a document in MongoDB. the issue is with this is that even if it due to some errors the transaction didn&#39;t happen. still, the logger inserted will be printed. \r\n\r\n```\t\r\ncollection.insertOne(insertableDocument, (SingleResultCallback&lt;Void&gt;) new SingleResultCallback&lt;Void&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onResult(final Void result, final Throwable t) {\r\n\t\t\t\tlogger.info(&quot;Inserted!&quot;);\r\n\t\t\t}\r\n\t\t}); \r\n```\r\n\r\nThere is one other way to do make sure to see the error and all this works:\r\n```\r\ncollection.insertOne(insertableDocument, (SingleResultCallback&lt;Void&gt;) new SingleResultCallback&lt;Void&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onResult(final Void result, final Throwable t) {\r\n\r\n             if(throwable!=null){\r\n                    logger.error(&quot;Object not inserted due to error &quot; +t.getMessage());\r\n                    \r\n                }else {\r\n\t                logger.info(&quot;Inserted!&quot;);\r\n                }\r\n\r\n\t\t\t}\r\n\t\t}); \r\n\r\n```\r\n\r\nI want to perform the second example ErrorHandlingResultCallback class in package com.mongodb.internal.async. \r\n","title":"How to use ErrorHandlingResultCallback of mongo in java","body":"<p>The below code is used to insert a document in MongoDB. the issue is with this is that even if it due to some errors the transaction didn't happen. still, the logger inserted will be printed.</p>\n<pre><code>collection.insertOne(insertableDocument, (SingleResultCallback&lt;Void&gt;) new SingleResultCallback&lt;Void&gt;() {\n            @Override\n            public void onResult(final Void result, final Throwable t) {\n                logger.info(&quot;Inserted!&quot;);\n            }\n        }); \n</code></pre>\n<p>There is one other way to do make sure to see the error and all this works:</p>\n<pre><code>collection.insertOne(insertableDocument, (SingleResultCallback&lt;Void&gt;) new SingleResultCallback&lt;Void&gt;() {\n            @Override\n            public void onResult(final Void result, final Throwable t) {\n\n             if(throwable!=null){\n                    logger.error(&quot;Object not inserted due to error &quot; +t.getMessage());\n                    \n                }else {\n                    logger.info(&quot;Inserted!&quot;);\n                }\n\n            }\n        }); \n\n</code></pre>\n<p>I want to perform the second example ErrorHandlingResultCallback class in package com.mongodb.internal.async.</p>\n"},{"tags":["java","arrays","if-statement","linked-list","stack"],"owner":{"account_id":27374752,"reputation":1,"user_id":20880257,"display_name":"Abigor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1672669282,"answer_count":0,"score":-3,"last_activity_date":1672237567,"creation_date":1672237567,"question_id":74941424,"body_markdown":"N people numbered from 1 to N visited Newton&#39;s house on Christmas. Some of them were Santas and some of them were thiefs.\r\n\r\nNewton wants maximum number of santas and minimum number of thiefs.\r\n\r\nTo calculate, he asked all the N people to give some testimonies; in each of which they should tell, according to them, whether a particular person is a santa or a thief.\r\n\r\nIf a person is really a santa, he will never lie in his testimonies, but if he is a thief, he can either tell the truth or lie.\r\n\r\nHelp newton find the maximum number of santas that he can count after hearing all the testimonies.\r\n\r\n**Input**\r\n\r\nThe first line of the input contains a single integer N.\r\n\r\nAfter that, each person i would give Ai testimonies.\r\n\r\nThe first line would contain a single integer Ai representing the count of the testimonies for the ith person. The next Ai lines would contain 2 integers each, Xi, j and Yi, j representing the jth testimony by the ith person. Xi, j would represent a person (from 1 to N) and Yi, j would be either 1 (Xi, j is santa according to ith person) or 0 (Xi, j is thief according to ith person).\r\n\r\nConstraints:\r\n1 ≤ N ≤ 15\r\n0 ≤ Ai ≤ N - 1\r\n1 ≤ Xi, j ≤ N\r\nXi, j ≠ i\r\nYi, j = 0, 1\r\nOutput\r\nOutput the maximum number of santas that newton can get\r\n\r\n**Example**\r\nSample Input 1:\r\n3\r\n1\r\n2 1\r\n1\r\n1 1\r\n1\r\n2 0\r\n\r\nSample Output 1:\r\n2\r\n\r\nSample Explanation 1:\r\nPerson 1 and 2 are santas and Person 3 is a thief.\r\n\r\n\r\n\r\nnothing I cann&#39;t think out the correct way\r\n","title":"santa and thief , count the maximum numbers of santa","body":"<p>N people numbered from 1 to N visited Newton's house on Christmas. Some of them were Santas and some of them were thiefs.</p>\n<p>Newton wants maximum number of santas and minimum number of thiefs.</p>\n<p>To calculate, he asked all the N people to give some testimonies; in each of which they should tell, according to them, whether a particular person is a santa or a thief.</p>\n<p>If a person is really a santa, he will never lie in his testimonies, but if he is a thief, he can either tell the truth or lie.</p>\n<p>Help newton find the maximum number of santas that he can count after hearing all the testimonies.</p>\n<p><strong>Input</strong></p>\n<p>The first line of the input contains a single integer N.</p>\n<p>After that, each person i would give Ai testimonies.</p>\n<p>The first line would contain a single integer Ai representing the count of the testimonies for the ith person. The next Ai lines would contain 2 integers each, Xi, j and Yi, j representing the jth testimony by the ith person. Xi, j would represent a person (from 1 to N) and Yi, j would be either 1 (Xi, j is santa according to ith person) or 0 (Xi, j is thief according to ith person).</p>\n<p>Constraints:\n1 ≤ N ≤ 15\n0 ≤ Ai ≤ N - 1\n1 ≤ Xi, j ≤ N\nXi, j ≠ i\nYi, j = 0, 1\nOutput\nOutput the maximum number of santas that newton can get</p>\n<p><strong>Example</strong>\nSample Input 1:\n3\n1\n2 1\n1\n1 1\n1\n2 0</p>\n<p>Sample Output 1:\n2</p>\n<p>Sample Explanation 1:\nPerson 1 and 2 are santas and Person 3 is a thief.</p>\n<p>nothing I cann't think out the correct way</p>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1672237009,"post_id":74941300,"comment_id":132248291,"body_markdown":"You need to use .equals instead of == to compare the two dates. Using == basically checks if they are pointing to the same object.","body":"You need to use .equals instead of == to compare the two dates. Using == basically checks if they are pointing to the same object."},{"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1672237239,"post_id":74941300,"comment_id":132248366,"body_markdown":"In Java, there is a difference between object equality (`.equals()` method) and object identity (`==` operator). It&#39;s like twins: their appearance might be equal, but they are two individuals, each with their own identity.","body":"In Java, there is a difference between object equality (<code>.equals()</code> method) and object identity (<code>==</code> operator). It&#39;s like twins: their appearance might be equal, but they are two individuals, each with their own identity."},{"owner":{"account_id":27374642,"reputation":5,"user_id":20880173,"display_name":"Hassan"},"score":0,"creation_date":1672237711,"post_id":74941300,"comment_id":132248516,"body_markdown":"Thanks for the explanation it was helpful. However, in my solution I tried it with .equals as well but it still does not match even though both strings appear to be the same &quot;01/01/2022&quot;","body":"Thanks for the explanation it was helpful. However, in my solution I tried it with .equals as well but it still does not match even though both strings appear to be the same &quot;01/01/2022&quot;"}],"answers":[{"comments":[{"owner":{"account_id":27374642,"reputation":5,"user_id":20880173,"display_name":"Hassan"},"score":0,"creation_date":1672237645,"post_id":74941418,"comment_id":132248494,"body_markdown":"Thanks for the answer but I just tried it with .equals() however it still doesn&#39;t work.","body":"Thanks for the answer but I just tried it with .equals() however it still doesn&#39;t work."},{"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"score":0,"creation_date":1672237948,"post_id":74941418,"comment_id":132248599,"body_markdown":"Can you provide the output if you print your Dates? System.out.println(consultationDate) and appointmentList.get(0).getDate()","body":"Can you provide the output if you print your Dates? System.out.println(consultationDate) and appointmentList.get(0).getDate()"},{"owner":{"account_id":27374642,"reputation":5,"user_id":20880173,"display_name":"Hassan"},"score":1,"creation_date":1672238002,"post_id":74941418,"comment_id":132248615,"body_markdown":"Update: it worked I just needed to convert them to strings. Thank you for your solution! I just needed to convert them to strings and use .equals to compare.","body":"Update: it worked I just needed to convert them to strings. Thank you for your solution! I just needed to convert them to strings and use .equals to compare."}],"tags":[],"owner":{"account_id":26608091,"reputation":91,"user_id":20228611,"display_name":"buec95"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672237518,"creation_date":1672237518,"answer_id":74941418,"question_id":74941300,"body_markdown":"You should use **.equlas()** instead of the == operator.\r\n\r\n    int apptDay = 5, apptMonth = 12, apptYear = 2000;\r\n    Date testDate = new Date(apptDay, apptMonth, apptYear);\r\n    Date consultationDate = new Date(apptDay, apptMonth, apptYear);\r\n    \r\n    if (testDate == consultationDate) {\r\n        System.out.println(&quot;Success for ==&quot;);\r\n    } else if (testDate.equals(consultationDate)) {\r\n        System.out.println(&quot;Success for equals&quot;);\r\n    }","title":"Comparing values obtained from combo box to another string fails even though both appear to be the same","body":"<p>You should use <strong>.equlas()</strong> instead of the == operator.</p>\n<pre><code>int apptDay = 5, apptMonth = 12, apptYear = 2000;\nDate testDate = new Date(apptDay, apptMonth, apptYear);\nDate consultationDate = new Date(apptDay, apptMonth, apptYear);\n\nif (testDate == consultationDate) {\n    System.out.println(&quot;Success for ==&quot;);\n} else if (testDate.equals(consultationDate)) {\n    System.out.println(&quot;Success for equals&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27374642,"reputation":5,"user_id":20880173,"display_name":"Hassan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74941418,"answer_count":1,"score":0,"last_activity_date":1672237518,"creation_date":1672236775,"question_id":74941300,"body_markdown":"I am trying to obtain a date from 3 separate combo boxes that I then convert to ints and make a Date object. However, when I compare this date string to an already existing string, it doesnt match even though in the debugger it appears to be the same. I have setup a simple if statement to check what the problem is however I am not sure why it does not match.\r\n\r\n\r\n```\r\nint apptDay, apptMonth, apptYear;\r\napptDay = Integer.parseInt(consultationDay.getSelectedItem().toString());\r\napptMonth = Integer.parseInt(consultationMonth.getSelectedItem().toString());\r\napptYear = Integer.parseInt(consultationYear.getSelectedItem().toString());\r\nconsultationDate = new Date(apptDay, apptMonth, apptYear);\r\n\r\n\r\n\r\nif (appointmentList.get(0).getDate() == consultationDate) {\r\n    sopl(&quot;Working&quot;);\r\n}\r\n```\r\n\r\n\r\nI am quite sure that there is some issue with my code related to combo boxes as that is the only place where I face problems. The if statement is never satisfied so &quot;Working&quot; is never printed.\r\n\r\nAny help would be appreciated.\r\n","title":"Comparing values obtained from combo box to another string fails even though both appear to be the same","body":"<p>I am trying to obtain a date from 3 separate combo boxes that I then convert to ints and make a Date object. However, when I compare this date string to an already existing string, it doesnt match even though in the debugger it appears to be the same. I have setup a simple if statement to check what the problem is however I am not sure why it does not match.</p>\n<pre><code>int apptDay, apptMonth, apptYear;\napptDay = Integer.parseInt(consultationDay.getSelectedItem().toString());\napptMonth = Integer.parseInt(consultationMonth.getSelectedItem().toString());\napptYear = Integer.parseInt(consultationYear.getSelectedItem().toString());\nconsultationDate = new Date(apptDay, apptMonth, apptYear);\n\n\n\nif (appointmentList.get(0).getDate() == consultationDate) {\n    sopl(&quot;Working&quot;);\n}\n</code></pre>\n<p>I am quite sure that there is some issue with my code related to combo boxes as that is the only place where I face problems. The if statement is never satisfied so &quot;Working&quot; is never printed.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","ssl","ssl-certificate","pkcs#10"],"comments":[{"owner":{"account_id":6682011,"reputation":490,"user_id":5154785,"accept_rate":65,"display_name":"BekaBot"},"score":0,"creation_date":1485147842,"post_id":36361218,"comment_id":70787238,"body_markdown":"have you found a solution using BouncyCaslte (without SpongyCastle)?","body":"have you found a solution using BouncyCaslte (without SpongyCastle)?"},{"owner":{"account_id":66030,"reputation":2259,"user_id":193962,"accept_rate":50,"display_name":"Phil"},"score":0,"creation_date":1485181370,"post_id":36361218,"comment_id":70805030,"body_markdown":"Yes, it is possible to use BouncyCastle and java.security.KeyStore together. I had to create the key pair using the Android libraries, then manually build the certificate structure in BouncyCastle. The resulting CSR could be exported and externally signed then the certificate imported back to the Android KeyStore using keyStore.setCertificateEntry()","body":"Yes, it is possible to use BouncyCastle and java.security.KeyStore together. I had to create the key pair using the Android libraries, then manually build the certificate structure in BouncyCastle. The resulting CSR could be exported and externally signed then the certificate imported back to the Android KeyStore using keyStore.setCertificateEntry()"},{"owner":{"account_id":6682011,"reputation":490,"user_id":5154785,"accept_rate":65,"display_name":"BekaBot"},"score":0,"creation_date":1485245715,"post_id":36361218,"comment_id":70833548,"body_markdown":"I am able to construct CSR using SpongyCastle, but I need it to be done without SC library. Can you please share how to build CSR using BouncyCastle? Or how can I contact you with email, if possible?","body":"I am able to construct CSR using SpongyCastle, but I need it to be done without SC library. Can you please share how to build CSR using BouncyCastle? Or how can I contact you with email, if possible?"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1593651013,"post_id":36361218,"comment_id":110857819,"body_markdown":"Does this answer your question? [What is the certificate enrollment process?](https://stackoverflow.com/questions/37850134/what-is-the-certificate-enrollment-process)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37850134/what-is-the-certificate-enrollment-process\">What is the certificate enrollment process?</a>"},{"owner":{"account_id":10135735,"reputation":3935,"user_id":7487335,"accept_rate":91,"display_name":"Josh Correia"},"score":1,"creation_date":1595877922,"post_id":36361218,"comment_id":111621216,"body_markdown":"Does this answer your question? [What is the best way to generate Certificate Signing Request using AndroidKeyStoreProvider?](https://stackoverflow.com/questions/25907326/what-is-the-best-way-to-generate-certificate-signing-request-using-androidkeysto)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25907326/what-is-the-best-way-to-generate-certificate-signing-request-using-androidkeysto\">What is the best way to generate Certificate Signing Request using AndroidKeyStoreProvider?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5218685,"reputation":898,"user_id":4172765,"accept_rate":74,"display_name":"ThanhLam112358"},"score":0,"creation_date":1500371484,"post_id":38195288,"comment_id":77294568,"body_markdown":"Well, I&#39;m also looking for the creation CSR on android. Could you give me the example or link to refer?","body":"Well, I&#39;m also looking for the creation CSR on android. Could you give me the example or link to refer?"},{"owner":{"account_id":10135735,"reputation":3935,"user_id":7487335,"accept_rate":91,"display_name":"Josh Correia"},"score":2,"creation_date":1596050773,"post_id":38195288,"comment_id":111689264,"body_markdown":"The post you linked to doesn&#39;t mention how to use the Android `KeyStore` API at all and instead generates the keys in memory, which is insecure in comparison to the `KeyStore`.","body":"The post you linked to doesn&#39;t mention how to use the Android <code>KeyStore</code> API at all and instead generates the keys in memory, which is insecure in comparison to the <code>KeyStore</code>."},{"owner":{"account_id":2985716,"reputation":1744,"user_id":2534612,"accept_rate":50,"display_name":"Jarvis"},"score":0,"creation_date":1645908658,"post_id":38195288,"comment_id":125995498,"body_markdown":"Hi @JoshCorreia, Have you found any solution to generate CSR using KeyStore","body":"Hi @JoshCorreia, Have you found any solution to generate CSR using KeyStore"}],"tags":[],"owner":{"account_id":5764096,"reputation":221,"user_id":4549556,"display_name":"Dante"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1467693689,"creation_date":1467693689,"answer_id":38195288,"question_id":36361218,"body_markdown":"https://stackoverflow.com/questions/37850134/certificate-enrollment-process\r\n\r\nCheck this link. It generate key pair and CSR.\r\nRegarding generating a CSR (certificate sign request) on the android phone, I think it is rather straightforward to use Spongycastle instead. It is an android port of Bouncycastle.","title":"How do you create a Certificate Signing Request using the KeyStore on Android?","body":"<p><a href=\"https://stackoverflow.com/questions/37850134/certificate-enrollment-process\">Certificate enrollment process</a></p>\n\n<p>Check this link. It generate key pair and CSR.\nRegarding generating a CSR (certificate sign request) on the android phone, I think it is rather straightforward to use Spongycastle instead. It is an android port of Bouncycastle.</p>\n"},{"tags":[],"owner":{"account_id":20965,"reputation":667,"user_id":50568,"display_name":"Steve J"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506458744,"creation_date":1506458744,"answer_id":46435530,"question_id":36361218,"body_markdown":"Since Android apps are built with Java, you can use the Java `keytool` tool to generate a CSR: [Request a Signed Certificate from a CA][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/tools/windows/keytool.html#sthref130","title":"How do you create a Certificate Signing Request using the KeyStore on Android?","body":"<p>Since Android apps are built with Java, you can use the Java <code>keytool</code> tool to generate a CSR: <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/keytool.html#sthref130\" rel=\"nofollow noreferrer\">Request a Signed Certificate from a CA</a>.</p>\n"},{"tags":[],"owner":{"account_id":3617909,"reputation":71,"user_id":7285376,"display_name":"Oleksiy Pavlenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672237154,"creation_date":1672237154,"answer_id":74941352,"question_id":36361218,"body_markdown":"You can use the Bouncy Castle to work with the keys from Android KeyStore.\r\nThis doesn’t mean that you have to set the Bouncy Castle as a security provider. It is enough to include the library:\r\n\r\n    implementation &#39;org.bouncycastle:bcpkix-jdk18on:1.72&#39; \r\n\r\nNote: Spongy Castle is obsolete. Standard Bouncy Castle library has to be included in your Android application.  For details on why see: https://github.com/rtyley/spongycastle/issues/34\r\n\r\n    val keyPairGenerator: KeyPairGenerator = KeyPairGenerator.getInstance(\r\n        KeyProperties.KEY_ALGORITHM_EC,\r\n        &quot;AndroidKeyStore&quot;\r\n    )\r\n    val keySpecBuilder = KeyGenParameterSpec.Builder(\r\n        Constants.clientCertificateKeyAlias,\r\n        KeyProperties.PURPOSE_SIGN or KeyProperties.PURPOSE_VERIFY\r\n    ).setDigests(KeyProperties.DIGEST_NONE, KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\r\n    keyPairGenerator.initialize(keySpecBuilder.build())\r\n    val pair = keyPairGenerator.generateKeyPair()\r\n\r\n    val p10Builder: PKCS10CertificationRequestBuilder = JcaPKCS10CertificationRequestBuilder(\r\n        X500Principal(&quot;CN=My Client Certificate&quot;), pair.public\r\n    )\r\n    val csBuilder = JcaContentSignerBuilder(&quot;SHA256withECDSA&quot;)\r\n    val signer: ContentSigner = csBuilder.build(pair.private)\r\n    val csr: PKCS10CertificationRequest = p10Builder.build(signer)\r\n\r\n    val pemObject = PemObject(&quot;CERTIFICATE REQUEST&quot;, csr.encoded)\r\n    val csrAsString = csrAsStringingWriter()\r\n    val pemWriter = PEMWriter(csrAsString)\r\n    pemWriter.writeObject(pemObject)\r\n    pemWriter.close()\r\n    csrAsString.close()\r\n    Log.v(&quot;CSR&quot;, &quot;CSR: $csrAsString&quot;)\r\n","title":"How do you create a Certificate Signing Request using the KeyStore on Android?","body":"<p>You can use the Bouncy Castle to work with the keys from Android KeyStore.\nThis doesn’t mean that you have to set the Bouncy Castle as a security provider. It is enough to include the library:</p>\n<pre><code>implementation 'org.bouncycastle:bcpkix-jdk18on:1.72' \n</code></pre>\n<p>Note: Spongy Castle is obsolete. Standard Bouncy Castle library has to be included in your Android application.  For details on why see: <a href=\"https://github.com/rtyley/spongycastle/issues/34\" rel=\"nofollow noreferrer\">https://github.com/rtyley/spongycastle/issues/34</a></p>\n<pre><code>val keyPairGenerator: KeyPairGenerator = KeyPairGenerator.getInstance(\n    KeyProperties.KEY_ALGORITHM_EC,\n    &quot;AndroidKeyStore&quot;\n)\nval keySpecBuilder = KeyGenParameterSpec.Builder(\n    Constants.clientCertificateKeyAlias,\n    KeyProperties.PURPOSE_SIGN or KeyProperties.PURPOSE_VERIFY\n).setDigests(KeyProperties.DIGEST_NONE, KeyProperties.DIGEST_SHA256, KeyProperties.DIGEST_SHA512)\nkeyPairGenerator.initialize(keySpecBuilder.build())\nval pair = keyPairGenerator.generateKeyPair()\n\nval p10Builder: PKCS10CertificationRequestBuilder = JcaPKCS10CertificationRequestBuilder(\n    X500Principal(&quot;CN=My Client Certificate&quot;), pair.public\n)\nval csBuilder = JcaContentSignerBuilder(&quot;SHA256withECDSA&quot;)\nval signer: ContentSigner = csBuilder.build(pair.private)\nval csr: PKCS10CertificationRequest = p10Builder.build(signer)\n\nval pemObject = PemObject(&quot;CERTIFICATE REQUEST&quot;, csr.encoded)\nval csrAsString = csrAsStringingWriter()\nval pemWriter = PEMWriter(csrAsString)\npemWriter.writeObject(pemObject)\npemWriter.close()\ncsrAsString.close()\nLog.v(&quot;CSR&quot;, &quot;CSR: $csrAsString&quot;)\n</code></pre>\n"}],"owner":{"account_id":66030,"reputation":2259,"user_id":193962,"accept_rate":50,"display_name":"Phil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10701,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1672237154,"creation_date":1459527776,"question_id":36361218,"body_markdown":"I&#39;m generating a SSL KeyPair in an Android app using the [`KeyStore`][1] API. I want to create a Certificate Signing Request (CSR) from the Public/Private key pair so that it can be sent to an external CA for signing.\r\n\r\nIs this possible?  I&#39;d like to use the builtin Android libraries rather than BouncyCastle if possible, in order to have Android store the keys securely.\r\n\r\n  [1]: https://developer.android.com/training/articles/keystore.html","title":"How do you create a Certificate Signing Request using the KeyStore on Android?","body":"<p>I'm generating a SSL KeyPair in an Android app using the <a href=\"https://developer.android.com/training/articles/keystore.html\" rel=\"nofollow noreferrer\"><code>KeyStore</code></a> API. I want to create a Certificate Signing Request (CSR) from the Public/Private key pair so that it can be sent to an external CA for signing.</p>\n<p>Is this possible?  I'd like to use the builtin Android libraries rather than BouncyCastle if possible, in order to have Android store the keys securely.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1662442792,"post_id":73617060,"comment_id":129999685,"body_markdown":"Does this answer your question? [How to disable accessExternalDTD and entityExpansionLimit warnings with logback](https://stackoverflow.com/questions/25453042/how-to-disable-accessexternaldtd-and-entityexpansionlimit-warnings-with-logback)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25453042/how-to-disable-accessexternaldtd-and-entityexpansionlimit-warnings-with-logback\">How to disable accessExternalDTD and entityExpansionLimit warnings with logback</a>"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1662448035,"post_id":73617060,"comment_id":130000998,"body_markdown":"Install a non-broken XML parser, or otherwise live with the warnings about the security hardening that won&#39;t work?","body":"Install a non-broken XML parser, or otherwise live with the warnings about the security hardening that won&#39;t work?"},{"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"score":0,"creation_date":1662448292,"post_id":73617060,"comment_id":130001082,"body_markdown":"using Jsoup. @Gagravarr","body":"using Jsoup. @Gagravarr"},{"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"score":0,"creation_date":1662448419,"post_id":73617060,"comment_id":130001124,"body_markdown":"Not using  xerces jar anywhere in my project @cyberbrain","body":"Not using  xerces jar anywhere in my project @cyberbrain"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1662454401,"post_id":73617060,"comment_id":130003104,"body_markdown":"Did you check your transitive dependencies as well?","body":"Did you check your transitive dependencies as well?"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":4,"creation_date":1662471290,"post_id":73617060,"comment_id":130009279,"body_markdown":"This is just a warning log message - it shouldn&#39;t stop POI working - that docx4j jar embeds a shaded xalan instance that is causing the issues - docx4j should stop doing that or embed a newer version of xalan","body":"This is just a warning log message - it shouldn&#39;t stop POI working - that docx4j jar embeds a shaded xalan instance that is causing the issues - docx4j should stop doing that or embed a newer version of xalan"},{"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"score":0,"creation_date":1662527415,"post_id":73617060,"comment_id":130022777,"body_markdown":"Yes, You are correct my code is working fine but can you suggest any way to get rid of it? @PJFanning","body":"Yes, You are correct my code is working fine but can you suggest any way to get rid of it? @PJFanning"}],"answers":[{"tags":[],"owner":{"account_id":27374721,"reputation":1,"user_id":20880234,"display_name":"Prabeethsoy Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672237001,"creation_date":1672237001,"answer_id":74941326,"question_id":73617060,"body_markdown":"I also faced same issue. I was able to solve this by using extension as .xls instead of .xlsx  ","title":"getting java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD exception","body":"<p>I also faced same issue. I was able to solve this by using extension as .xls instead of .xlsx</p>\n"}],"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672237001,"creation_date":1662441855,"question_id":73617060,"body_markdown":"I&#39;m working on Apache POI ppt project and getting this exception but not able to figure out what&#39;s wrong here?\r\n\r\n```\r\n10:46:45.903 [main] DEBUG org.apache.poi.openxml4j.opc.ZipPackage - Save content types part\r\n10:46:45.927 [main] WARN org.apache.poi.util.XMLHelper - SAX Feature unsupported [log suppressed for 5 minutes]http://javax.xml.XMLConstants/property/accessExternalDTD\r\njava.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD\r\n\tat org.docx4j.org.apache.xalan.processor.TransformerFactoryImpl.setAttribute(TransformerFactoryImpl.java:571)\r\n\tat org.apache.poi.util.XMLHelper.trySet(XMLHelper.java:284)\r\n\tat org.apache.poi.util.XMLHelper.getTransformerFactory(XMLHelper.java:224)\r\n\tat org.apache.poi.util.XMLHelper.newTransformer(XMLHelper.java:231)\r\n\tat org.apache.poi.openxml4j.opc.StreamHelper.saveXmlInStream(StreamHelper.java:56)\r\n\tat org.apache.poi.openxml4j.opc.internal.ZipContentTypeManager.saveImpl(ZipContentTypeManager.java:68)\r\n\tat org.apache.poi.openxml4j.opc.internal.ContentTypeManager.save(ContentTypeManager.java:450)\r\n\tat org.apache.poi.openxml4j.opc.ZipPackage.saveImpl(ZipPackage.java:554)\r\n\tat org.apache.poi.openxml4j.opc.OPCPackage.save(OPCPackage.java:1487)\r\n\tat org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:227)\r\n\tat com.iep.generator.PptCreater.createPpt(PptCreater.java:526)\r\n\tat com.iep.generator.PptCreater.main(PptCreater.java:94)\r\n10:46:45.970 [main] DEBUG org.apache.poi.openxml4j.opc.ZipPackage - Save package relationships\r\n\r\n```\r\n\r\nNote : My code is working fine, even with this exception.","title":"getting java.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD exception","body":"<p>I'm working on Apache POI ppt project and getting this exception but not able to figure out what's wrong here?</p>\n<pre><code>10:46:45.903 [main] DEBUG org.apache.poi.openxml4j.opc.ZipPackage - Save content types part\n10:46:45.927 [main] WARN org.apache.poi.util.XMLHelper - SAX Feature unsupported [log suppressed for 5 minutes]http://javax.xml.XMLConstants/property/accessExternalDTD\njava.lang.IllegalArgumentException: Not supported: http://javax.xml.XMLConstants/property/accessExternalDTD\n    at org.docx4j.org.apache.xalan.processor.TransformerFactoryImpl.setAttribute(TransformerFactoryImpl.java:571)\n    at org.apache.poi.util.XMLHelper.trySet(XMLHelper.java:284)\n    at org.apache.poi.util.XMLHelper.getTransformerFactory(XMLHelper.java:224)\n    at org.apache.poi.util.XMLHelper.newTransformer(XMLHelper.java:231)\n    at org.apache.poi.openxml4j.opc.StreamHelper.saveXmlInStream(StreamHelper.java:56)\n    at org.apache.poi.openxml4j.opc.internal.ZipContentTypeManager.saveImpl(ZipContentTypeManager.java:68)\n    at org.apache.poi.openxml4j.opc.internal.ContentTypeManager.save(ContentTypeManager.java:450)\n    at org.apache.poi.openxml4j.opc.ZipPackage.saveImpl(ZipPackage.java:554)\n    at org.apache.poi.openxml4j.opc.OPCPackage.save(OPCPackage.java:1487)\n    at org.apache.poi.ooxml.POIXMLDocument.write(POIXMLDocument.java:227)\n    at com.iep.generator.PptCreater.createPpt(PptCreater.java:526)\n    at com.iep.generator.PptCreater.main(PptCreater.java:94)\n10:46:45.970 [main] DEBUG org.apache.poi.openxml4j.opc.ZipPackage - Save package relationships\n\n</code></pre>\n<p>Note : My code is working fine, even with this exception.</p>\n"},{"tags":["java","binaryfiles"],"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":4,"creation_date":1311873713,"post_id":6862855,"comment_id":8163160,"body_markdown":"This is a very unusual spec; with my years of experience in wire comms, I would question whether you have that layout correct.  In particular, your second uint32 and the 32 byte string start midway through a byte - surely not!  It&#39;s not unusual to pack flags into bits in a byte, word or dword for a wire protocol, but to have misaligned full bytes, words, and dwords is patently idiotic.","body":"This is a very unusual spec; with my years of experience in wire comms, I would question whether you have that layout correct.  In particular, your second uint32 and the 32 byte string start midway through a byte - surely not!  It&#39;s not unusual to pack flags into bits in a byte, word or dword for a wire protocol, but to have misaligned full bytes, words, and dwords is patently idiotic."},{"owner":{"account_id":454462,"reputation":397,"user_id":852070,"accept_rate":67,"display_name":"kenen"},"score":0,"creation_date":1311875581,"post_id":6862855,"comment_id":8163701,"body_markdown":"Ack, you are correct. I had a poor image of the message format to go off of and now I see &#39;spare bits&#39; meshed in between bit flags and the next primitive aligning it on a byte boundary. Thanks!","body":"Ack, you are correct. I had a poor image of the message format to go off of and now I see &#39;spare bits&#39; meshed in between bit flags and the next primitive aligning it on a byte boundary. Thanks!"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1311882941,"post_id":6862855,"comment_id":8165863,"body_markdown":"You should update your question with the real spec (and a note so that emboss&#39;s answer does not look out of place).","body":"You should update your question with the real spec (and a note so that emboss&#39;s answer does not look out of place)."},{"owner":{"display_name":"user1306465"},"score":0,"creation_date":1333294082,"post_id":6862855,"comment_id":16784817,"body_markdown":"I am not sur if you would like to try a 3rd part c lib. https://github.com/lonelybug/ddprotocol","body":"I am not sur if you would like to try a 3rd part c lib. <a href=\"https://github.com/lonelybug/ddprotocol\" rel=\"nofollow noreferrer\">github.com/lonelybug/ddprotocol</a>"}],"answers":[{"comments":[{"owner":{"account_id":454462,"reputation":397,"user_id":852070,"accept_rate":67,"display_name":"kenen"},"score":0,"creation_date":1311875143,"post_id":6862898,"comment_id":8163551,"body_markdown":"That works for grabbing the first bit flags at the start of a byte. That would still leave some weird logic to deal with say a uint32 that starts 4 bits into one byte and continues for 3.5 more bytes.","body":"That works for grabbing the first bit flags at the start of a byte. That would still leave some weird logic to deal with say a uint32 that starts 4 bits into one byte and continues for 3.5 more bytes."}],"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311873150,"creation_date":1311873022,"answer_id":6862898,"question_id":6862855,"body_markdown":"You need to apply [bit arithmetics][1] (AND, OR, AND NOT operators) to change or read single bits within a byte in Java. Arithmetic operators are &amp;, | and ~\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"How to parse/encode binary message formats?","body":"<p>You need to apply <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">bit arithmetics</a> (AND, OR, AND NOT operators) to change or read single bits within a byte in Java. Arithmetic operators are &amp;, | and ~</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":1,"creation_date":1311875505,"post_id":6862950,"comment_id":8163676,"body_markdown":"The website seems to be fairly broken; can&#39;t get any of the examples to come up - just displays a blurb and a blank content-body.","body":"The website seems to be fairly broken; can&#39;t get any of the examples to come up - just displays a blurb and a blank content-body."},{"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"score":0,"creation_date":1313736890,"post_id":6862950,"comment_id":8528783,"body_markdown":"Not sure which web site you checked, but to me, http://preon.codehaus.org/ doesn&#39;t seem to be broken. You might want to check http://www.slideshare.net/springerw/oopsla-talk-on-preon for slides on Preon, and http://www.scribd.com/doc/8128172/Preon-Introduction and related for more documentation. (I do agree though that the example code should actually be included in the Maven generated documentation.)","body":"Not sure which web site you checked, but to me, <a href=\"http://preon.codehaus.org/\" rel=\"nofollow noreferrer\">preon.codehaus.org</a> doesn&#39;t seem to be broken. You might want to check <a href=\"http://www.slideshare.net/springerw/oopsla-talk-on-preon\" rel=\"nofollow noreferrer\">slideshare.net/springerw/oopsla-talk-on-preon</a> for slides on Preon, and <a href=\"http://www.scribd.com/doc/8128172/Preon-Introduction\" rel=\"nofollow noreferrer\">scribd.com/doc/8128172/Preon-Introduction</a> and related for more documentation. (I do agree though that the example code should actually be included in the Maven generated documentation.)"}],"tags":[],"owner":{"account_id":351421,"reputation":4917,"user_id":687884,"accept_rate":100,"display_name":"pholser"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311873358,"creation_date":1311873358,"answer_id":6862950,"question_id":6862855,"body_markdown":"I&#39;ve heard nice things about [Preon][1].\r\n\r\n\r\n  [1]: http://preon.codehaus.org/","title":"How to parse/encode binary message formats?","body":"<p>I've heard nice things about <a href=\"http://preon.codehaus.org/\" rel=\"nofollow\">Preon</a>.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1311881876,"post_id":6863404,"comment_id":8165580,"body_markdown":"The uint32 extraction code above is broken for byte values &lt; 0; you need to use `((data[x]&amp;0xFF)&lt;&lt;n)`; otherwise `data[x]` is converted to the signed equivalent int, ***before*** being shifted, causing high-bit padding.  The exception is `&lt;&lt; 24` for a 32 bit, and `&lt;&lt; 56L` for a 64 bit value, both of which will shift away any sign extension.","body":"The uint32 extraction code above is broken for byte values &lt; 0; you need to use <code>((data[x]&amp;0xFF)&lt;&lt;n)</code>; otherwise <code>data[x]</code> is converted to the signed equivalent int, <b><i>before</i></b> being shifted, causing high-bit padding.  The exception is <code>&lt;&lt; 24</code> for a 32 bit, and <code>&lt;&lt; 56L</code> for a 64 bit value, both of which will shift away any sign extension."},{"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"score":0,"creation_date":1311881998,"post_id":6863404,"comment_id":8165614,"body_markdown":"@Software Monkey: You&#39;re right, thanks! I&#39;ll update the post.","body":"@Software Monkey: You&#39;re right, thanks! I&#39;ll update the post."}],"tags":[],"owner":{"account_id":438657,"reputation":39010,"user_id":827060,"accept_rate":100,"display_name":"emboss"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1311882266,"creation_date":1311875508,"answer_id":6863404,"question_id":6862855,"body_markdown":"There is a builtin `byte` type in Java, and you can read into `byte[]` buffers just fine using [InputStream#read(byte[])](http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28byte[]%29) and write to an OutputStream using [OutputStream#write(byte[], int, int)](http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html#write%28byte[],%20int,%20int%29), so there&#39;s no problem in that.\r\n\r\nRegarding your messages - as you noted correctly, the tiniest bit of information you get at a time is a byte, so you will have to decompose your message format into 8 bit chunks first:\r\n\r\nLet&#39;s suppose your message is in a byte[] named data. I also assume little-endianness.\r\n\r\nA uint32 is 32 bits long -&gt; that&#39;s four bytes. (Be careful when parsing this in Java, Java integers and longs are signed, you need to handle that. An easy way to avoid trouble would be taking longs for that. data[0] fills bits 31 - 24, data[1] 23 - 16, data[2] bits 15 - 8 and data[3] bits 7 to 0. So you need to shift them appropriately to the left and glue them together with logical OR: \r\n\r\n    long uint32 = ((data[0]&amp;0xFF) &lt;&lt; 24) | \r\n                  ((data[1]&amp;0xFF) &lt;&lt; 16) | \r\n                  ((data[2]&amp;0xFF) &lt;&lt; 8)  | \r\n                   (data[3]&amp;0xFF);\r\n\r\nNext, there are two single bits. I suppose you have to check whether they are &quot;on&quot; (1) or &quot;off&quot; (0). To do this, you use bit masks and compare your byte with logical AND.\r\n\r\nFirst bit: ( binary mask | 1 0 0 0 0 0 0 0 | = 128 = 0x80 )\r\n\r\n    if ( (data[4] &amp; 0x80 ) == 0x80 ) // on\r\n\r\nSecond bit: ( binary mask | 0 1 0 0 0 0 0 0 | = 64 = 0x40 )\r\n\r\n    if ( (data[4] &amp; 0x40 ) == 0x40 ) // on\r\n\r\nTo compose the next uint32, you will have to compose bytes over byte boundaries of the underlying data. E.g. for the first byte take the remaining 6 bits of data[4], shift them two to the left (they will be bit 8 to 2 of the uint32) and &quot;add&quot; the first (highest) two of data[5] by shifting them 6 bits to the right (they will take the remaining 1 and 0 slot of the uint32). &quot;Adding&quot; means logically OR&#39;ing:\r\n\r\n    byte uint32Byte1 = (byte)( (data[4]&amp;0xFF) &lt;&lt; 2 | (data[5]&amp;&amp;0xFF) &gt;&gt; 6);\r\n\r\nBuilding your uint32 is then the same procedure as in the first example. And so on and so forth.","title":"How to parse/encode binary message formats?","body":"<p>There is a builtin <code>byte</code> type in Java, and you can read into <code>byte[]</code> buffers just fine using <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/InputStream.html#read%28byte[]%29\" rel=\"noreferrer\">InputStream#read(byte[])</a> and write to an OutputStream using <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html#write%28byte[],%20int,%20int%29\" rel=\"noreferrer\">OutputStream#write(byte[], int, int)</a>, so there's no problem in that.</p>\n\n<p>Regarding your messages - as you noted correctly, the tiniest bit of information you get at a time is a byte, so you will have to decompose your message format into 8 bit chunks first:</p>\n\n<p>Let's suppose your message is in a byte[] named data. I also assume little-endianness.</p>\n\n<p>A uint32 is 32 bits long -> that's four bytes. (Be careful when parsing this in Java, Java integers and longs are signed, you need to handle that. An easy way to avoid trouble would be taking longs for that. data[0] fills bits 31 - 24, data[1] 23 - 16, data[2] bits 15 - 8 and data[3] bits 7 to 0. So you need to shift them appropriately to the left and glue them together with logical OR: </p>\n\n<pre><code>long uint32 = ((data[0]&amp;0xFF) &lt;&lt; 24) | \n              ((data[1]&amp;0xFF) &lt;&lt; 16) | \n              ((data[2]&amp;0xFF) &lt;&lt; 8)  | \n               (data[3]&amp;0xFF);\n</code></pre>\n\n<p>Next, there are two single bits. I suppose you have to check whether they are \"on\" (1) or \"off\" (0). To do this, you use bit masks and compare your byte with logical AND.</p>\n\n<p>First bit: ( binary mask | 1 0 0 0 0 0 0 0 | = 128 = 0x80 )</p>\n\n<pre><code>if ( (data[4] &amp; 0x80 ) == 0x80 ) // on\n</code></pre>\n\n<p>Second bit: ( binary mask | 0 1 0 0 0 0 0 0 | = 64 = 0x40 )</p>\n\n<pre><code>if ( (data[4] &amp; 0x40 ) == 0x40 ) // on\n</code></pre>\n\n<p>To compose the next uint32, you will have to compose bytes over byte boundaries of the underlying data. E.g. for the first byte take the remaining 6 bits of data[4], shift them two to the left (they will be bit 8 to 2 of the uint32) and \"add\" the first (highest) two of data[5] by shifting them 6 bits to the right (they will take the remaining 1 and 0 slot of the uint32). \"Adding\" means logically OR'ing:</p>\n\n<pre><code>byte uint32Byte1 = (byte)( (data[4]&amp;0xFF) &lt;&lt; 2 | (data[5]&amp;&amp;0xFF) &gt;&gt; 6);\n</code></pre>\n\n<p>Building your uint32 is then the same procedure as in the first example. And so on and so forth.</p>\n"},{"tags":[],"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1313737398,"creation_date":1313737398,"answer_id":7118053,"question_id":6862855,"body_markdown":"Just to add to pholser&#39;s answer, I think the Preon version would be something like this:\r\n\r\n    class DataStructure {\r\n      @BoundNumber(size=&quot;32&quot;)  long       first; // uint32\r\n      @Bound                   boolean    second; // boolean\r\n      @Bound                   boolean    third; // boolean\r\n      @BoundNumber(size=&quot;32&quot;)  long       fourth; // uint32\r\n      @BoundNumber(size=&quot;4&quot;)   int        fifth; // enum\r\n      @BoundString(size=&quot;32&quot;)  String     sixth; // string\r\n    }\r\n\r\n... but in reality, you can make your life even easier by using Preon&#39;s support [for dealing with enumerations directly][1].\r\n\r\nCreating a `Codec` for it and using it to decode some data would be something like this:\r\n\r\n    Codec&lt;DataStructure&gt; codec = Codecs.create(DataStructure.class)\r\n    DataStructure data = Codecs.decode(codec, ....)\r\n\r\n  [1]: http://blog.flotsam.nl/2009/08/enums-in-preon.html\r\n","title":"How to parse/encode binary message formats?","body":"<p>Just to add to pholser's answer, I think the Preon version would be something like this:</p>\n\n<pre><code>class DataStructure {\n  @BoundNumber(size=\"32\")  long       first; // uint32\n  @Bound                   boolean    second; // boolean\n  @Bound                   boolean    third; // boolean\n  @BoundNumber(size=\"32\")  long       fourth; // uint32\n  @BoundNumber(size=\"4\")   int        fifth; // enum\n  @BoundString(size=\"32\")  String     sixth; // string\n}\n</code></pre>\n\n<p>... but in reality, you can make your life even easier by using Preon's support <a href=\"http://blog.flotsam.nl/2009/08/enums-in-preon.html\" rel=\"nofollow\">for dealing with enumerations directly</a>.</p>\n\n<p>Creating a <code>Codec</code> for it and using it to decode some data would be something like this:</p>\n\n<pre><code>Codec&lt;DataStructure&gt; codec = Codecs.create(DataStructure.class)\nDataStructure data = Codecs.decode(codec, ....)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427651175,"creation_date":1427651175,"answer_id":29332584,"question_id":6862855,"body_markdown":"with [Java Binary Block Parser][1] the script to parse the message will be\r\n\r\n      class Parsed {\r\n        @Bin int field1;\r\n        @Bin (type = BinType.BIT) boolean field2;\r\n        @Bin(type = BinType.BIT) boolean field3;\r\n        @Bin int field4;\r\n        @Bin(type = BinType.BIT) int enums;\r\n        @Bin(type = BinType.UBYTE_ARRAY) String str;\r\n      }\r\n      \r\n      Parsed parsed = JBBPParser.prepare(&quot;int field1; bit field2; bit field3; int field4; bit:4 enums; ubyte [32] str;&quot;).parse(STREAM).mapTo(Parsed.class);\r\n\r\n\r\n    \r\n\r\n \r\n\r\n\r\n  [1]: https://github.com/raydac/java-binary-block-parser","title":"How to parse/encode binary message formats?","body":"<p>with <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"noreferrer\">Java Binary Block Parser</a> the script to parse the message will be</p>\n\n<pre><code>  class Parsed {\n    @Bin int field1;\n    @Bin (type = BinType.BIT) boolean field2;\n    @Bin(type = BinType.BIT) boolean field3;\n    @Bin int field4;\n    @Bin(type = BinType.BIT) int enums;\n    @Bin(type = BinType.UBYTE_ARRAY) String str;\n  }\n\n  Parsed parsed = JBBPParser.prepare(\"int field1; bit field2; bit field3; int field4; bit:4 enums; ubyte [32] str;\").parse(STREAM).mapTo(Parsed.class);\n</code></pre>\n"}],"owner":{"account_id":454462,"reputation":397,"user_id":852070,"accept_rate":67,"display_name":"kenen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9499,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":6863404,"answer_count":5,"score":7,"last_activity_date":1672236739,"creation_date":1311872881,"question_id":6862855,"body_markdown":"I need to parse and encode to a legacy binary message format in Java. I began by using DataOutputStream to read/write primitive types but the problem I&#39;m having is that the message format doesn&#39;t align nicely to byte offsets and includes bit flags.\r\n\r\nFor example I have to deal with messages like this:\r\n\r\n    +----------+---+---+----------+---------+--------------+\r\n    +uint32    +b   +b + uint32   +4bit enum+32 byte string+\r\n    +----------+---+---+----------+---------+--------------+\r\n\r\nWhere (b) is a one bit flag. The problem being that java primitive types don&#39;t align to byte boundaries so I wouldn&#39;t be able to use DataOutputStream to encode this since the lowest level type I can write is a byte.\r\n\r\nAre there any libraries, standard or 3rd party, for dealing with arbitrary bit level message formats?\r\n\r\nEdit:\r\nThanks to @Software Monkey for forcing me to look at my spec more closely. The spec I am using does actually align on byte boundaries so DataOutputStream is appropriate. Given my original question though I would have gone with the solution proposed by @emboss. \r\n\r\nEdit:\r\nAlthough the message format for this question was discovered to be on byte boundaries I&#39;ve come across another message format that is applicable to the original question. This format defines a 6 bit character mapping where each character really only takes up 6 bits, not the full byte, so character strings do not align on byte boundaries. I have discovered several binary output streams that tackle this problem. Like this one: http://introcs.cs.princeton.edu/java/stdlib/BinaryOut.java.html  \r\n","title":"How to parse/encode binary message formats?","body":"<p>I need to parse and encode to a legacy binary message format in Java. I began by using DataOutputStream to read/write primitive types but the problem I'm having is that the message format doesn't align nicely to byte offsets and includes bit flags.</p>\n\n<p>For example I have to deal with messages like this:</p>\n\n<pre><code>+----------+---+---+----------+---------+--------------+\n+uint32    +b   +b + uint32   +4bit enum+32 byte string+\n+----------+---+---+----------+---------+--------------+\n</code></pre>\n\n<p>Where (b) is a one bit flag. The problem being that java primitive types don't align to byte boundaries so I wouldn't be able to use DataOutputStream to encode this since the lowest level type I can write is a byte.</p>\n\n<p>Are there any libraries, standard or 3rd party, for dealing with arbitrary bit level message formats?</p>\n\n<p>Edit:\nThanks to @Software Monkey for forcing me to look at my spec more closely. The spec I am using does actually align on byte boundaries so DataOutputStream is appropriate. Given my original question though I would have gone with the solution proposed by @emboss. </p>\n\n<p>Edit:\nAlthough the message format for this question was discovered to be on byte boundaries I've come across another message format that is applicable to the original question. This format defines a 6 bit character mapping where each character really only takes up 6 bits, not the full byte, so character strings do not align on byte boundaries. I have discovered several binary output streams that tackle this problem. Like this one: <a href=\"http://introcs.cs.princeton.edu/java/stdlib/BinaryOut.java.html\" rel=\"noreferrer\">http://introcs.cs.princeton.edu/java/stdlib/BinaryOut.java.html</a>  </p>\n"},{"tags":["java","spring-security","jwt","keycloak","bearer-token"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672236530,"creation_date":1672232918,"question_id":74940656,"body_markdown":"I created bearer token using keycloak, The token is formed straight.\r\nI am trying to validate using filter, but When I try to validate token, I get an error.\r\n\r\n\r\n\r\n**Token Validation class**\r\n\r\n    @Component\r\n    public class TokenFilter extends OncePerRequestFilter {\r\n    \r\n    \t@Override\r\n    \tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n    \t\t\tthrows ServletException, IOException {\r\n    \r\n    \t\tfinal String token = request.getHeader(&quot;Authorization&quot;).substring(7);\r\n    \t\tString publicKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAj71smzim/iRbR0ggkQmhAVp&quot; +\r\n    \t\t\t\t&quot;LTeIi5lNCCNymj+Qafl5sxWklEG5vnI64566vtfufv9HWT+HQvDQetHBKgwIDAQAB&quot;;\r\n    \t\t\r\n    \t\tClaims claims = Jwts.parserBuilder().setSigningKey(publicKey).build().parseClaimsJws(token).getBody();\r\n    \t\tString tokens = claims.getSubject();\r\n    \t}\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n**Error**\r\n\r\n    java.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance.\r\n    \tat io.jsonwebtoken.lang.Assert.isTrue(Assert.java:35) ~[jjwt-api-0.11.5.jar:0.11.5]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:363) ~[jjwt-impl-0.11.5.jar:0.11.5]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]\r\n    \tat com.framework.security.util.TokenFilter.doFilterInternal(TokenFilter.java:52) ~[security-0.0.1-SNAPSHOT.jar:?]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\r\n\r\nIt gives the error as follows.\r\n\r\n    Claims claims = Jwts.parserBuilder().setSigningKey(publicKey).build().parseClaimsJws(token).getBody();\r\n\r\nI couldnt found the problem\r\nHow can i Solve?\r\n","title":"Spring bearer Jwt Token Validation: Erorr java.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures","body":"<p>I created bearer token using keycloak, The token is formed straight.\nI am trying to validate using filter, but When I try to validate token, I get an error.</p>\n<p><strong>Token Validation class</strong></p>\n<pre><code>@Component\npublic class TokenFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        final String token = request.getHeader(&quot;Authorization&quot;).substring(7);\n        String publicKey = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAj71smzim/iRbR0ggkQmhAVp&quot; +\n                &quot;LTeIi5lNCCNymj+Qafl5sxWklEG5vnI64566vtfufv9HWT+HQvDQetHBKgwIDAQAB&quot;;\n        \n        Claims claims = Jwts.parserBuilder().setSigningKey(publicKey).build().parseClaimsJws(token).getBody();\n        String tokens = claims.getSubject();\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Key bytes can only be specified for HMAC signatures. Please specify a PublicKey or PrivateKey instance.\n    at io.jsonwebtoken.lang.Assert.isTrue(Assert.java:35) ~[jjwt-api-0.11.5.jar:0.11.5]\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:363) ~[jjwt-impl-0.11.5.jar:0.11.5]\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529) ~[jjwt-impl-0.11.5.jar:0.11.5]\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589) ~[jjwt-impl-0.11.5.jar:0.11.5]\n    at com.framework.security.util.TokenFilter.doFilterInternal(TokenFilter.java:52) ~[security-0.0.1-SNAPSHOT.jar:?]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n</code></pre>\n<p>It gives the error as follows.</p>\n<pre><code>Claims claims = Jwts.parserBuilder().setSigningKey(publicKey).build().parseClaimsJws(token).getBody();\n</code></pre>\n<p>I couldnt found the problem\nHow can i Solve?</p>\n"},{"tags":["java","unit-testing","mockito","mapstruct"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1550609505,"post_id":54774679,"comment_id":96329503,"body_markdown":"what version of mapstruct are you using? the latest provides constructor injection for Spring, so you could mock each embedded bean and just create the instance.","body":"what version of mapstruct are you using? the latest provides constructor injection for Spring, so you could mock each embedded bean and just create the instance."},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1550630897,"post_id":54774679,"comment_id":96335451,"body_markdown":"I&#39;m using version 1.2.0. I didn&#39;t see that version 1.3.0 became stable (just last week). I will try to upgrade. Do you have an example on how to do it ? I so in the documentation that I need to add InjectionStrategy.CONSTRUCTOR, but I&#39;m not sure I understand very well. How can I do it with my use case ?","body":"I&#39;m using version 1.2.0. I didn&#39;t see that version 1.3.0 became stable (just last week). I will try to upgrade. Do you have an example on how to do it ? I so in the documentation that I need to add InjectionStrategy.CONSTRUCTOR, but I&#39;m not sure I understand very well. How can I do it with my use case ?"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1550859696,"post_id":54774679,"comment_id":96440876,"body_markdown":"In CDI this means that MapStruct generates a constructor that takes other mappers as an argument.  I&#39;m not too familiar with Spring.. but I guess it works the same. I personally would go for a lib that performs injection for you in the test.. I think we do something similar in MapStruct unites ..","body":"In CDI this means that MapStruct generates a constructor that takes other mappers as an argument.  I&#39;m not too familiar with Spring.. but I guess it works the same. I personally would go for a lib that performs injection for you in the test.. I think we do something similar in MapStruct unites .."}],"answers":[{"comments":[{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1551706218,"post_id":54961003,"comment_id":96726290,"body_markdown":"But here you are doing integration tests, you are loading the spring contxt using @Autowire. From the [spring documentation](https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html) : The Spring Framework provides first-class support for integration testing in the spring-test module. Can you give me an example using constructor injection strategy for my use case. I&#39;m not sure to understand it","body":"But here you are doing integration tests, you are loading the spring contxt using @Autowire. From the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html\" rel=\"nofollow noreferrer\">spring documentation</a> : The Spring Framework provides first-class support for integration testing in the spring-test module. Can you give me an example using constructor injection strategy for my use case. I&#39;m not sure to understand it"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1551808168,"post_id":54961003,"comment_id":96772466,"body_markdown":"It is sometimes a bit unclear were integration tests start in this and unit test ends (matter of taste as well). But I&#39;ll add another answer","body":"It is sometimes a bit unclear were integration tests start in this and unit test ends (matter of taste as well). But I&#39;ll add another answer"}],"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551546959,"creation_date":1551546959,"answer_id":54961003,"question_id":54774679,"body_markdown":"So, try this:\r\n\r\nMaven:\r\n```xml\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```java\r\n@ComponentScan(basePackageClasses = NoteServiceTest.class)\r\n@Configuration\r\npublic class NoteServiceTest {\r\n\r\n    @Autowired\r\n    private SomeClass someClass;\r\n    private ConfigurableApplicationContext context;\r\n\r\n    @Before\r\n    public void springUp() {\r\n        context = new AnnotationConfigApplicationContext( getClass() );\r\n        context.getAutowireCapableBeanFactory().autowireBean( this );\r\n    }\r\n\r\n    @After\r\n    public void springDown() {\r\n        if ( context != null ) {\r\n            context.close();\r\n        }\r\n    }\r\n\r\n    @test\r\n    public void someTest(){\r\n         UserDto userDto = someClass.myMethodToTest();\r\n\r\n         //and here some asserts\r\n    }\r\n\r\n```\r\n\r\nEven better would be use constructor injection all the way... Also in `SomeClass` and by using `@Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)`.. Then you don&#39;t need spring / spring mocking in your test cases.\r\n\r\n","title":"MapStruct : mocking nested mapper","body":"<p>So, try this:</p>\n\n<p>Maven:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan(basePackageClasses = NoteServiceTest.class)\n@Configuration\npublic class NoteServiceTest {\n\n    @Autowired\n    private SomeClass someClass;\n    private ConfigurableApplicationContext context;\n\n    @Before\n    public void springUp() {\n        context = new AnnotationConfigApplicationContext( getClass() );\n        context.getAutowireCapableBeanFactory().autowireBean( this );\n    }\n\n    @After\n    public void springDown() {\n        if ( context != null ) {\n            context.close();\n        }\n    }\n\n    @test\n    public void someTest(){\n         UserDto userDto = someClass.myMethodToTest();\n\n         //and here some asserts\n    }\n\n</code></pre>\n\n<p>Even better would be use constructor injection all the way... Also in <code>SomeClass</code> and by using <code>@Mapper(componentModel = \"spring\", injectionStrategy = InjectionStrategy.CONSTRUCTOR)</code>.. Then you don't need spring / spring mocking in your test cases.</p>\n"},{"comments":[{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1551977659,"post_id":55009482,"comment_id":96848147,"body_markdown":"Thanks. But it would be nice if it was possible to Spy mappingDef instead of mockink it. It prevents me from writing all the when...thenReturn statements","body":"Thanks. But it would be nice if it was possible to Spy mappingDef instead of mockink it. It prevents me from writing all the when...thenReturn statements"},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":1,"creation_date":1551979105,"post_id":55009482,"comment_id":96848927,"body_markdown":"It is possible, but I would not advice it. Have a look at this https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks..","body":"It is possible, but I would not advice it. Have a look at this <a href=\"https://stackoverflow.com/questions/12827580/mocking-vs-spying-in-mocking-frameworks\" title=\"mocking vs spying in mocking frameworks\">stackoverflow.com/questions/12827580/&hellip;</a>.."},{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1551992737,"post_id":55009482,"comment_id":96855397,"body_markdown":"I know that it is not recommended, but I&#39;m nearly always using the default mapping in mapStruct. So It is like I&#39;m im testing the mapStruct library. Spying it will save me too much time.","body":"I know that it is not recommended, but I&#39;m nearly always using the default mapping in mapStruct. So It is like I&#39;m im testing the mapStruct library. Spying it will save me too much time."}],"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1551985749,"creation_date":1551811284,"answer_id":55009482,"question_id":54774679,"body_markdown":"force MapStruct to generate implementations with constructor injection\r\n\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, uses = MappingUtils.class, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\npublic interface MappingDef {\r\n     UserDto userToUserDto(User user)\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\r\npublic interface MappingUtils {\r\n    //.... other mapping methods used by userToUserDto\r\n```\r\n\r\nuse constructor injection, so that you can construct the class under test with a mapper.\r\n\r\n```java\r\n@Service\r\npublic class SomeClass{\r\n\r\n        private final MappingDef mappingDef;\r\n\r\n        @Autowired\r\n        public SomeClass(MappingDef mappingDef) {\r\n            this.mappingDef = mappingDef; \r\n        }\r\n\r\n        public UserDto myMethodToTest(){\r\n\r\n        // doing some business logic here returning a user\r\n        // User user = Some Business Logic\r\n\r\n        return mappingDef.userToUserDto(user)\r\n}\r\n\r\n```\r\n\r\nTest SomeClass. Note: its not the mapper that you test here, so the mapper can be mocked.\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class SomeClassTest {\r\n\r\n    private SomeClass classUnderTest;\r\n\r\n    @Mock\r\n    private MappingDef mappingDef;\r\n\r\n    @Before init() {\r\n        classUnderTest = new SomeClass(mappingDef);\r\n        // defaultMockBehaviour: \r\nwhen(mappingDef.userToUserDto(anyObject(User.class).thenReturn(new UserDto());\r\n    } \r\n\r\n    @test\r\n    public void someTest(){\r\n         UserDto userDto = someClass.myMethodToTest();\r\n\r\n         //and here some asserts\r\n    }\r\n```\r\n\r\nAnd in a true unit test, test the mapper as well.\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MappingDefTest {\r\n\r\n  MappingDef classUnderTest;\r\n\r\n  @Before\r\n  void before() {\r\n       // use some reflection to get an implementation\r\n      Class aClass = Class.forName( MappingDefImpl.class.getCanonicalName() );\r\n      Constructor constructor =\r\n        aClass.getConstructor(new Class[]{MappingUtils.class});\r\n      classUnderTest = (MappingDef)constructor.newInstance( Mappers.getMapper( MappingUtils.class ));\r\n  }\r\n\r\n  @Test\r\n  void test() {\r\n     // test all your mappings (null&#39;s in source, etc).. \r\n  }\r\n\r\n  \r\n```","title":"MapStruct : mocking nested mapper","body":"<p>force MapStruct to generate implementations with constructor injection</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = \"spring\", uses = MappingUtils.class, injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface MappingDef {\n     UserDto userToUserDto(User user)\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = \"spring\", injectionStrategy = InjectionStrategy.CONSTRUCTOR)\npublic interface MappingUtils {\n    //.... other mapping methods used by userToUserDto\n</code></pre>\n\n<p>use constructor injection, so that you can construct the class under test with a mapper.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SomeClass{\n\n        private final MappingDef mappingDef;\n\n        @Autowired\n        public SomeClass(MappingDef mappingDef) {\n            this.mappingDef = mappingDef; \n        }\n\n        public UserDto myMethodToTest(){\n\n        // doing some business logic here returning a user\n        // User user = Some Business Logic\n\n        return mappingDef.userToUserDto(user)\n}\n\n</code></pre>\n\n<p>Test SomeClass. Note: its not the mapper that you test here, so the mapper can be mocked.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class SomeClassTest {\n\n    private SomeClass classUnderTest;\n\n    @Mock\n    private MappingDef mappingDef;\n\n    @Before init() {\n        classUnderTest = new SomeClass(mappingDef);\n        // defaultMockBehaviour: \nwhen(mappingDef.userToUserDto(anyObject(User.class).thenReturn(new UserDto());\n    } \n\n    @test\n    public void someTest(){\n         UserDto userDto = someClass.myMethodToTest();\n\n         //and here some asserts\n    }\n</code></pre>\n\n<p>And in a true unit test, test the mapper as well.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class MappingDefTest {\n\n  MappingDef classUnderTest;\n\n  @Before\n  void before() {\n       // use some reflection to get an implementation\n      Class aClass = Class.forName( MappingDefImpl.class.getCanonicalName() );\n      Constructor constructor =\n        aClass.getConstructor(new Class[]{MappingUtils.class});\n      classUnderTest = (MappingDef)constructor.newInstance( Mappers.getMapper( MappingUtils.class ));\n  }\n\n  @Test\n  void test() {\n     // test all your mappings (null's in source, etc).. \n  }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5381905,"reputation":2401,"user_id":4286919,"accept_rate":87,"display_name":"Lee Han Kyeol"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1614057115,"creation_date":1614057115,"answer_id":66327399,"question_id":54774679,"body_markdown":"If you are willing to use Spring test util, it&#39;s fairly easy with `org.springframework.test.util.ReflectionTestUtils`.\r\n\r\n```\r\nMappingDef mappingDef = Mappers.getMapper(MappingDef.class);\r\nMappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\r\n\r\n...\r\n\r\n// Somewhere appropriate\r\n@Before\r\nvoid before() {\r\n    ReflectionTestUtils.setField(\r\n        mappingDef,\r\n        &quot;mappingUtils&quot;,\r\n        mappingUtils\r\n    )\r\n}\r\n```","title":"MapStruct : mocking nested mapper","body":"<p>If you are willing to use Spring test util, it's fairly easy with <code>org.springframework.test.util.ReflectionTestUtils</code>.</p>\n<pre><code>MappingDef mappingDef = Mappers.getMapper(MappingDef.class);\nMappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\n\n...\n\n// Somewhere appropriate\n@Before\nvoid before() {\n    ReflectionTestUtils.setField(\n        mappingDef,\n        &quot;mappingUtils&quot;,\n        mappingUtils\n    )\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"score":0,"creation_date":1652453275,"post_id":72229850,"comment_id":127617361,"body_markdown":"Nice one! When you say, it is now possible, you mean that this is a new feature added to Mapstruct ?","body":"Nice one! When you say, it is now possible, you mean that this is a new feature added to Mapstruct ?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1652651365,"post_id":72229850,"comment_id":127651686,"body_markdown":"`getMapperClass()` was added in MapStruct 1.3, I didn’t actually check the release dates vs. other answers’ time","body":"<code>getMapperClass()</code> was added in MapStruct 1.3, I didn’t actually check the release dates vs. other answers’ time"}],"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652445991,"creation_date":1652445991,"answer_id":72229850,"question_id":54774679,"body_markdown":"As a variant on [Sjaak’s answer](https://stackoverflow.com/a/55009482/525036), it is now possible to rely on MapStruct itself to retrieve the implementation class while also avoiding casts by properly using generics:\r\n\r\n\tClass&lt;? extends MappingDef&gt; mapperClass = Mappers.getMapperClass(MappingDef.class);\r\n\tConstructor&lt;? extends MappingDef&gt; constructor = mapperClass.getConstructor(MappingUtils.class);\r\n\tMappingDef mappingDef = constructor.newInstance(Mappers.getMapper(MappingUtils.class));\r\n\r\nThis could probably even be made completely generic by inspecting the constructor, finding all mappers it requires as arguments and recursively resolving those mappers.","title":"MapStruct : mocking nested mapper","body":"<p>As a variant on <a href=\"https://stackoverflow.com/a/55009482/525036\">Sjaak’s answer</a>, it is now possible to rely on MapStruct itself to retrieve the implementation class while also avoiding casts by properly using generics:</p>\n<pre><code>Class&lt;? extends MappingDef&gt; mapperClass = Mappers.getMapperClass(MappingDef.class);\nConstructor&lt;? extends MappingDef&gt; constructor = mapperClass.getConstructor(MappingUtils.class);\nMappingDef mappingDef = constructor.newInstance(Mappers.getMapper(MappingUtils.class));\n</code></pre>\n<p>This could probably even be made completely generic by inspecting the constructor, finding all mappers it requires as arguments and recursively resolving those mappers.</p>\n"},{"tags":[],"owner":{"account_id":943783,"reputation":1571,"user_id":971436,"accept_rate":33,"display_name":"Andrzej Sawoniewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661438410,"creation_date":1661438410,"answer_id":73489500,"question_id":54774679,"body_markdown":"As mentioned you can use the `injectionStrategy = InjectionStrategy.CONSTRUCTOR` for mappers using other mappers (in this case for the `MappingDef`).\r\n\r\nAnd than in the test simply:\r\n\r\n    @Spy\r\n    MappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\r\n\r\n    @Spy\r\n    MappingDef mappingDef = new MappingDefImpl(mappingUtils);\r\n\r\nMaybe not the most elegant but it works.","title":"MapStruct : mocking nested mapper","body":"<p>As mentioned you can use the <code>injectionStrategy = InjectionStrategy.CONSTRUCTOR</code> for mappers using other mappers (in this case for the <code>MappingDef</code>).</p>\n<p>And than in the test simply:</p>\n<pre><code>@Spy\nMappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\n\n@Spy\nMappingDef mappingDef = new MappingDefImpl(mappingUtils);\n</code></pre>\n<p>Maybe not the most elegant but it works.</p>\n"},{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672236509,"creation_date":1672233775,"answer_id":74940805,"question_id":54774679,"body_markdown":"There is no need to use reflections. The simplest way for me was the following:\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class NoteServiceTest {\r\n\r\n    @InjectMocks\r\n    private SomeClass someClass;\r\n\r\n    @Spy\r\n    @InjectMocks\r\n    MappingDef mappingDef = Mappers.getMapper(MappingDef.class);\r\n    @Spy\r\n    MappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\r\n\r\nthis however only works on the first level of nested Mappers. If you have a Mapper that uses a Mapper which uses a thrid Mapper than you need to use `ReflectionTestUtils` to Inject the third Mapper into the second Mapper.","title":"MapStruct : mocking nested mapper","body":"<p>There is no need to use reflections. The simplest way for me was the following:</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class NoteServiceTest {\n\n@InjectMocks\nprivate SomeClass someClass;\n\n@Spy\n@InjectMocks\nMappingDef mappingDef = Mappers.getMapper(MappingDef.class);\n@Spy\nMappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\n</code></pre>\n<p>this however only works on the first level of nested Mappers. If you have a Mapper that uses a Mapper which uses a thrid Mapper than you need to use <code>ReflectionTestUtils</code> to Inject the third Mapper into the second Mapper.</p>\n"}],"owner":{"account_id":1682106,"reputation":3953,"user_id":1546137,"accept_rate":67,"display_name":"ihebiheb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26392,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":66327399,"answer_count":6,"score":19,"last_activity_date":1672236509,"creation_date":1550609355,"question_id":54774679,"body_markdown":"I using MapStruct to map my entities, and I&#39;m mocking my objects using Mockito.\r\n\r\nI want to test a method that contains a mapping with mapStruct.\r\nThe problem is the nested mapper is always null in my unit tests (works well in the application)\r\n\r\nthis is my mapper declaration :\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = MappingUtils.class)\r\n    public interface MappingDef {\r\n         UserDto userToUserDto(User user)\r\n    }\r\n\r\nthis is my nested mapper\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface MappingUtils {\r\n        //.... other mapping methods used by userToUserDto\r\n\r\nthis is the method that I want to test :\r\n\r\n    @Service\r\n    public class SomeClass{\r\n            @Autowired\r\n            private MappingDef mappingDef;\r\n        \r\n            public UserDto myMethodToTest(){\r\n            \r\n            // doing some business logic here returning a user\r\n            // User user = Some Business Logic\r\n\r\n            return mappingDef.userToUserDto(user)\r\n    }\r\n\r\nand this is my unit test :\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class NoteServiceTest {\r\n    \r\n        @InjectMocks\r\n        private SomeClass someClass;\r\n        @Spy\r\n        MappingDef mappingDef = Mappers.getMapper(MappingDef.class);\r\n        @Spy\r\n        MappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\r\n\r\n        //initMocks is omitted for brevity\r\n\r\n        @test\r\n        public void someTest(){\r\n             UserDto userDto = someClass.myMethodToTest();\r\n\r\n             //and here some asserts\r\n        }\r\n\r\n\r\n\r\n`mappingDef` is injected correctly, but `mappingUtils` is always null\r\n\r\n\r\n**Disclamer** : this is not a duplicate of [this question][1]. He is using @Autowire so he is loading the spring context so he is doing integration tests. I&#39;m doing unit tests, so I dont to use @Autowired\r\n\r\nI dont want to make `mappingDef` and `mappingUtils` `@Mock` so I don&#39;t need to do `when(mappingDef.userToUserDto(user)).thenReturn(userDto)` in each use case\r\n\r\n  [1]: https://stackoverflow.com/questions/53155556/junit-how-to-mock-mapstruct-nested-mapper","title":"MapStruct : mocking nested mapper","body":"<p>I using MapStruct to map my entities, and I'm mocking my objects using Mockito.</p>\n\n<p>I want to test a method that contains a mapping with mapStruct.\nThe problem is the nested mapper is always null in my unit tests (works well in the application)</p>\n\n<p>this is my mapper declaration :</p>\n\n<pre><code>@Mapper(componentModel = \"spring\", uses = MappingUtils.class)\npublic interface MappingDef {\n     UserDto userToUserDto(User user)\n}\n</code></pre>\n\n<p>this is my nested mapper</p>\n\n<pre><code>@Mapper(componentModel = \"spring\")\npublic interface MappingUtils {\n    //.... other mapping methods used by userToUserDto\n</code></pre>\n\n<p>this is the method that I want to test :</p>\n\n<pre><code>@Service\npublic class SomeClass{\n        @Autowired\n        private MappingDef mappingDef;\n\n        public UserDto myMethodToTest(){\n\n        // doing some business logic here returning a user\n        // User user = Some Business Logic\n\n        return mappingDef.userToUserDto(user)\n}\n</code></pre>\n\n<p>and this is my unit test :</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class NoteServiceTest {\n\n    @InjectMocks\n    private SomeClass someClass;\n    @Spy\n    MappingDef mappingDef = Mappers.getMapper(MappingDef.class);\n    @Spy\n    MappingUtils mappingUtils = Mappers.getMapper(MappingUtils.class);\n\n    //initMocks is omitted for brevity\n\n    @test\n    public void someTest(){\n         UserDto userDto = someClass.myMethodToTest();\n\n         //and here some asserts\n    }\n</code></pre>\n\n<p><code>mappingDef</code> is injected correctly, but <code>mappingUtils</code> is always null</p>\n\n<p><strong>Disclamer</strong> : this is not a duplicate of <a href=\"https://stackoverflow.com/questions/53155556/junit-how-to-mock-mapstruct-nested-mapper\">this question</a>. He is using @Autowire so he is loading the spring context so he is doing integration tests. I'm doing unit tests, so I dont to use @Autowired</p>\n\n<p>I dont want to make <code>mappingDef</code> and <code>mappingUtils</code> <code>@Mock</code> so I don't need to do <code>when(mappingDef.userToUserDto(user)).thenReturn(userDto)</code> in each use case</p>\n"},{"tags":["java","parsing","stream","byte"],"answers":[{"comments":[{"owner":{"account_id":170703,"reputation":113,"user_id":2076953,"display_name":"t-my"},"score":0,"creation_date":1379075687,"post_id":18786094,"comment_id":27699772,"body_markdown":"The stream is quite short. From few bytes to couple hundred max. The protocol defines 30 different actions, so a rather small amount. There are no linking between these objects so it should be pretty straightforward to parse these. They can be in arbitary order. This visitor-like approach sounds legitimate. Do you have any implementations which where I could study this pattern?","body":"The stream is quite short. From few bytes to couple hundred max. The protocol defines 30 different actions, so a rather small amount. There are no linking between these objects so it should be pretty straightforward to parse these. They can be in arbitary order. This visitor-like approach sounds legitimate. Do you have any implementations which where I could study this pattern?"},{"owner":{"account_id":170703,"reputation":113,"user_id":2076953,"display_name":"t-my"},"score":0,"creation_date":1379075875,"post_id":18786094,"comment_id":27699876,"body_markdown":"I&#39;m also little concerned of the final performance beacause this library (which I&#39;m developing here) is used in mobile context. In Dalvik JVM to be accurate. Is there simply too much overhead when I&#39;m creating dozens of objects which consists only simple primitive data?","body":"I&#39;m also little concerned of the final performance beacause this library (which I&#39;m developing here) is used in mobile context. In Dalvik JVM to be accurate. Is there simply too much overhead when I&#39;m creating dozens of objects which consists only simple primitive data?"},{"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"score":2,"creation_date":1379076487,"post_id":18786094,"comment_id":27700268,"body_markdown":"Unfortunately I cannot publish the source code because its closed source. But I can try to explain you the basic principle of what I did :\n1) Create a Java class for each of your commands types.\n2) Read your first byte, then read the second (size)\n3) Read the whole buffer (one command) with the given size\n4) With a case, match your type with the corresponding class\n5) With a factory initialize a parser for this particular class (use a cache if possible to ease reuse) (This is the trickier part)\n6) Unserialize !","body":"Unfortunately I cannot publish the source code because its closed source. But I can try to explain you the basic principle of what I did : 1) Create a Java class for each of your commands types. 2) Read your first byte, then read the second (size) 3) Read the whole buffer (one command) with the given size 4) With a case, match your type with the corresponding class 5) With a factory initialize a parser for this particular class (use a cache if possible to ease reuse) (This is the trickier part) 6) Unserialize !"},{"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"score":1,"creation_date":1379076890,"post_id":18786094,"comment_id":27700487,"body_markdown":"The key part is the java class that defines the commands.\nIn my case its a POJO with simple types.\nThe parser factory does some reflection on the class to detect its properties and match each different property type with a dedicated type parser (int/long/String). I use a visitor like logic to enable types nesting (sub classes)","body":"The key part is the java class that defines the commands. In my case its a POJO with simple types. The parser factory does some reflection on the class to detect its properties and match each different property type with a dedicated type parser (int/long/String). I use a visitor like logic to enable types nesting (sub classes)"}],"tags":[],"owner":{"account_id":3299383,"reputation":1628,"user_id":2775900,"display_name":"superbob"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379074555,"creation_date":1379074555,"answer_id":18786094,"question_id":18785702,"body_markdown":"This is a huge and complex subject.\r\n\r\nIt depends on the type of the data that you will read.\r\n\r\n * Is it a looooong stream ?\r\n * Is it a lot of small independent structures/objects ?\r\n * Do you have some references between structures/objects of your flow ?\r\n\r\nI recently wrote a byte serialization/deserialization library for a proprietary software.\r\n\r\nI took a visitor-like approach with type conversion, the same way JAXB works.\r\n\r\nI define my object as a Java class. Initialize the parser on the class, and then pass it the bytes to unserialize or the Java object to serialize.\r\n\r\nThe type detection (based on the first byte of your flow) is done forward with a simple case matching mechanism (1 =&gt; ClassA, 15 =&gt; ClassF, ...).\r\n\r\nEDIT: It may be complex or overloaded with code (embedding objects) but keep in mind that nowadays, java optimize this well, it keeps code clear and understandable.","title":"How to parse byte stream in Java properly","body":"<p>This is a huge and complex subject.</p>\n\n<p>It depends on the type of the data that you will read.</p>\n\n<ul>\n<li>Is it a looooong stream ?</li>\n<li>Is it a lot of small independent structures/objects ?</li>\n<li>Do you have some references between structures/objects of your flow ?</li>\n</ul>\n\n<p>I recently wrote a byte serialization/deserialization library for a proprietary software.</p>\n\n<p>I took a visitor-like approach with type conversion, the same way JAXB works.</p>\n\n<p>I define my object as a Java class. Initialize the parser on the class, and then pass it the bytes to unserialize or the Java object to serialize.</p>\n\n<p>The type detection (based on the first byte of your flow) is done forward with a simple case matching mechanism (1 => ClassA, 15 => ClassF, ...).</p>\n\n<p>EDIT: It may be complex or overloaded with code (embedding objects) but keep in mind that nowadays, java optimize this well, it keeps code clear and understandable.</p>\n"},{"comments":[{"owner":{"account_id":170703,"reputation":113,"user_id":2076953,"display_name":"t-my"},"score":1,"creation_date":1379490771,"post_id":18789205,"comment_id":27841064,"body_markdown":"This seems simple and legitimate pattern to use. I&#39;ll use this one.","body":"This seems simple and legitimate pattern to use. I&#39;ll use this one."}],"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1379083644,"creation_date":1379083644,"answer_id":18789205,"question_id":18785702,"body_markdown":"When parsing byte streams like this the best Design Pattern to use is the Command Pattern.  Each of the different Commands will act as handlers to process the next several bytes in the stream.\r\n\r\n\r\n    interface Command{\r\n\r\n        //depending on your situation, \r\n        //either use InputStream if you don&#39;t know\r\n        //how many bytes each Command will use\r\n        // or the the commands will use an unknown number of bytes\r\n        //or a large number of bytes that performance\r\n        //would be affected by copying everything.\r\n        void execute(InputStream in);\r\n        \r\n        //or you can use an array if the\r\n        //if the number of bytes is known and small.\r\n        void execute( byte[] data);\r\n\r\n    }\r\n\r\nThen you can have a map containing each Command object for each of the byte &quot;opcodes&quot;.\r\n\r\n\r\n    Map&lt;Byte, Command&gt; commands = ...\r\n\r\n    commands.put(Byte.parseByte(&quot;0x0e&quot;, 16), new SetCursorCommand() );\r\n    ...\r\n\r\n\r\nThen you can parse the message and act on the Commands:\r\n\r\n    InputStream in = ... //our byte array as inputstream\r\n    byte header = (byte)in.read();\r\n    int length = in.read();\r\n    byte commandKey = (byte)in.read();   \r\n    byte[] data = new byte[length]\r\n    in.read(data);\r\n\r\n    Command command = commands.get(commandKey);\r\n    command.execute(data);\r\n\r\nCan you have multiple Commands in the same byte message?  If so you could then easily wrap the Command fetching and parsing in a loop until the EOF.","title":"How to parse byte stream in Java properly","body":"<p>When parsing byte streams like this the best Design Pattern to use is the Command Pattern.  Each of the different Commands will act as handlers to process the next several bytes in the stream.</p>\n\n<pre><code>interface Command{\n\n    //depending on your situation, \n    //either use InputStream if you don't know\n    //how many bytes each Command will use\n    // or the the commands will use an unknown number of bytes\n    //or a large number of bytes that performance\n    //would be affected by copying everything.\n    void execute(InputStream in);\n\n    //or you can use an array if the\n    //if the number of bytes is known and small.\n    void execute( byte[] data);\n\n}\n</code></pre>\n\n<p>Then you can have a map containing each Command object for each of the byte \"opcodes\".</p>\n\n<pre><code>Map&lt;Byte, Command&gt; commands = ...\n\ncommands.put(Byte.parseByte(\"0x0e\", 16), new SetCursorCommand() );\n...\n</code></pre>\n\n<p>Then you can parse the message and act on the Commands:</p>\n\n<pre><code>InputStream in = ... //our byte array as inputstream\nbyte header = (byte)in.read();\nint length = in.read();\nbyte commandKey = (byte)in.read();   \nbyte[] data = new byte[length]\nin.read(data);\n\nCommand command = commands.get(commandKey);\ncommand.execute(data);\n</code></pre>\n\n<p>Can you have multiple Commands in the same byte message?  If so you could then easily wrap the Command fetching and parsing in a loop until the EOF.</p>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436212777,"creation_date":1407737634,"answer_id":25236859,"question_id":18785702,"body_markdown":"you can try JBBP library for that https://github.com/raydac/java-binary-block-parser\r\n\r\n    @Bin class Parsed { byte header; byte command; byte [] data; int checksum;}\r\n    Parsed parsed = JBBPParser.prepare(&quot;byte header; ubyte len; byte command; byte [len] data; int checksum;&quot;).parse(theArray).mapTo(Parsed.class);","title":"How to parse byte stream in Java properly","body":"<p>you can try JBBP library for that <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"nofollow\">https://github.com/raydac/java-binary-block-parser</a></p>\n\n<pre><code>@Bin class Parsed { byte header; byte command; byte [] data; int checksum;}\nParsed parsed = JBBPParser.prepare(\"byte header; ubyte len; byte command; byte [len] data; int checksum;\").parse(theArray).mapTo(Parsed.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473234924,"creation_date":1472645645,"answer_id":39249365,"question_id":18785702,"body_markdown":"`ByteBuffer` can be used for parsing byte stream - https://stackoverflow.com/questions/4841340/what-is-the-use-of-bytebuffer-in-java:\r\n\r\n    byte[] bytesArray = {4, 2, 6, 5, 3, 2, 1};\r\n    ByteBuffer bb = ByteBuffer.wrap(bytesArray);\r\n    int intFromBB = bb.order(ByteOrder.LITTLE_ENDIAN).getInt(); \r\n    byte byteFromBB = bb.get(); \r\n    short shortFromBB = bb.getShort(); \r\n\r\n","title":"How to parse byte stream in Java properly","body":"<p><code>ByteBuffer</code> can be used for parsing byte stream - <a href=\"https://stackoverflow.com/questions/4841340/what-is-the-use-of-bytebuffer-in-java\">What is the use of ByteBuffer in Java?</a>:</p>\n\n<pre><code>byte[] bytesArray = {4, 2, 6, 5, 3, 2, 1};\nByteBuffer bb = ByteBuffer.wrap(bytesArray);\nint intFromBB = bb.order(ByteOrder.LITTLE_ENDIAN).getInt(); \nbyte byteFromBB = bb.get(); \nshort shortFromBB = bb.getShort(); \n</code></pre>\n"}],"owner":{"account_id":170703,"reputation":113,"user_id":2076953,"display_name":"t-my"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9178,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18789205,"answer_count":4,"score":3,"last_activity_date":1672236436,"creation_date":1379073271,"question_id":18785702,"body_markdown":"Hello boys and girls. \r\n\r\nI&#39;m developing a terminal based client application which communicates over TCP/IP to server and sends and receives an arbitary number of raw bytes. Each byte represents a command which I need to parse to Java classes representing these commands, for further use. \r\n\r\nMy question how I should parse these bytes efficiently. I don&#39;t want to end up with bunch of nested ifs and switch-cases.\r\n\r\nI have the data classes for these commands ready to go. I just need to figure out the proper way of doing the parsing. \r\n\r\nHere&#39;s some sample specifications:\r\n\r\n&gt; Byte stream can be for example in\r\n&gt; integers:[1,24,2,65,26,18,3,0,239,19,0,14,0,42,65,110,110,97,32,109,121,121,106,228,42,15,20,5,149,45,87]\r\n&gt; \r\n&gt; First byte is 0x01 which is start of header containing only one byte. \r\n&gt; \r\n&gt; Second one is the length which is the number of bytes in certain\r\n&gt; commands, only one byte here also.\r\n&gt; \r\n&gt; The next can be any command where the first byte is the command, 0x02\r\n&gt; in this case, and it follows n number of bytes which are included in\r\n&gt; the command.\r\n&gt; \r\n&gt; So on. In the end there are checksum related bytes.\r\n\r\nSample class representing the set_cursor command:\r\n\r\n\r\n    /**\r\n     * Sets the cursor position.\r\n     * Syntax: 0x0E | position\r\n     */\r\n    public class SET_CURSOR {\r\n\t\r\n\tprivate final int hexCommand = 0x0e;\r\n\tprivate int position;\r\n\t\r\n\tpublic SET_CURSOR(int position) {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic int getPosition() {\r\n\t\treturn position;\r\n\t}\r\n\t\r\n\tpublic int getHexCommnad() {\r\n\t\treturn hexCommand;\r\n\t}\r\n\t\r\n    }\r\n\r\n","title":"How to parse byte stream in Java properly","body":"<p>Hello boys and girls. </p>\n\n<p>I'm developing a terminal based client application which communicates over TCP/IP to server and sends and receives an arbitary number of raw bytes. Each byte represents a command which I need to parse to Java classes representing these commands, for further use. </p>\n\n<p>My question how I should parse these bytes efficiently. I don't want to end up with bunch of nested ifs and switch-cases.</p>\n\n<p>I have the data classes for these commands ready to go. I just need to figure out the proper way of doing the parsing. </p>\n\n<p>Here's some sample specifications:</p>\n\n<blockquote>\n  <p>Byte stream can be for example in\n  integers:[1,24,2,65,26,18,3,0,239,19,0,14,0,42,65,110,110,97,32,109,121,121,106,228,42,15,20,5,149,45,87]</p>\n  \n  <p>First byte is 0x01 which is start of header containing only one byte. </p>\n  \n  <p>Second one is the length which is the number of bytes in certain\n  commands, only one byte here also.</p>\n  \n  <p>The next can be any command where the first byte is the command, 0x02\n  in this case, and it follows n number of bytes which are included in\n  the command.</p>\n  \n  <p>So on. In the end there are checksum related bytes.</p>\n</blockquote>\n\n<p>Sample class representing the set_cursor command:</p>\n\n<pre><code>/**\n * Sets the cursor position.\n * Syntax: 0x0E | position\n */\npublic class SET_CURSOR {\n\nprivate final int hexCommand = 0x0e;\nprivate int position;\n\npublic SET_CURSOR(int position) {\n\n}\n\npublic int getPosition() {\n    return position;\n}\n\npublic int getHexCommnad() {\n    return hexCommand;\n}\n\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api","microsoft-graph-mail"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1672245546,"post_id":74941232,"comment_id":132251003,"body_markdown":"This is not really a programming question as your code does send the email. That said, it can depend on many things: the content and headers of your emails, receiving server&#39;s policies, and the reputation of the sender IP address or domain (which explains why you&#39;d get different treatment). Check your emails with spamassassin or such. Get on the recipient server&#39;s postmaster mailing lists and read their postmaster hints. If nothing helps, get professional help, look for email deliverability consulting.","body":"This is not really a programming question as your code does send the email. That said, it can depend on many things: the content and headers of your emails, receiving server&#39;s policies, and the reputation of the sender IP address or domain (which explains why you&#39;d get different treatment). Check your emails with spamassassin or such. Get on the recipient server&#39;s postmaster mailing lists and read their postmaster hints. If nothing helps, get professional help, look for email deliverability consulting."},{"owner":{"account_id":6701697,"reputation":197,"user_id":5167964,"accept_rate":100,"display_name":"Vivek Buddhadev"},"score":0,"creation_date":1672295641,"post_id":74941232,"comment_id":132260368,"body_markdown":"Yes @Robert, Initially I&#39;ve also the same doubt that the issue can not be resolved by any code change. Due to the same reason we&#39;ve already asked for microsoft support to check the issue (https://learn.microsoft.com/en-us/answers/questions/1039530/email-goes-into-spam.html). And they have suggested to check DKIM configuration. Which we are also checking in parallel.\nApart from this I don&#39;t think its the issue of the content and the sender&#39;s IP as I&#39;m able to send same content using outlook from the same device.","body":"Yes @Robert, Initially I&#39;ve also the same doubt that the issue can not be resolved by any code change. Due to the same reason we&#39;ve already asked for microsoft support to check the issue (<a href=\"https://learn.microsoft.com/en-us/answers/questions/1039530/email-goes-into-spam.html\" rel=\"nofollow noreferrer\" title=\"email goes into spam.html\">learn.microsoft.com/en-us/answers/questions/1039530/&hellip;</a>). And they have suggested to check DKIM configuration. Which we are also checking in parallel. Apart from this I don&#39;t think its the issue of the content and the sender&#39;s IP as I&#39;m able to send same content using outlook from the same device."},{"owner":{"account_id":6486542,"reputation":1117,"user_id":5021945,"accept_rate":0,"display_name":"Irish Redneck"},"score":0,"creation_date":1701318151,"post_id":74941232,"comment_id":136761715,"body_markdown":"Did you ever get this resolved? I am using azure ms graph api to send emails and they go to spam as you said however our domain is already verified in azure portal so we can use outlook from that same email account and send from outlook interface and it will go to the inbox. Makes no sense as I thought ms graph api email sending used same protocols and would by default use headers which include a signed dkim.","body":"Did you ever get this resolved? I am using azure ms graph api to send emails and they go to spam as you said however our domain is already verified in azure portal so we can use outlook from that same email account and send from outlook interface and it will go to the inbox. Makes no sense as I thought ms graph api email sending used same protocols and would by default use headers which include a signed dkim."}],"owner":{"account_id":6701697,"reputation":197,"user_id":5167964,"accept_rate":100,"display_name":"Vivek Buddhadev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672236400,"creation_date":1672236400,"question_id":74941232,"body_markdown":"I&#39;m trying to send an email using Microsoft Graph API using following code spinet. It always end up in recipient&#39;s SPAM/JUNK folder.\r\n\r\n    try {\r\n        val usernamePasswordCredential: UsernamePasswordCredential = UsernamePasswordCredentialBuilder()\r\n                .clientId(clientId).username(username).password(password).build()\r\n    \r\n        val tokenCredentialAuthProvider = TokenCredentialAuthProvider(usernamePasswordCredential)\r\n        val graphClient = GraphServiceClient.builder().authenticationProvider(tokenCredentialAuthProvider).buildClient()\r\n    \r\n        val bundle = ResourceBundle.getBundle(&quot;messages&quot;)\r\n        val pattern = bundle.getString(&quot;email.body&quot;)\r\n    \r\n        val message = Message()\r\n        message.subject = bundle.getString(&quot;email.subject&quot;)\r\n    \r\n        val body = ItemBody()\r\n        body.contentType = BodyType.HTML\r\n    \r\n        val content = MessageFormat.format(pattern, voornamen, demoLink, USERNAME, pwd)\r\n        body.content = content\r\n        message.body = body\r\n    \r\n        val toEmail = EmailAddress()\r\n        toEmail.address = email\r\n        val recipient = Recipient()\r\n        recipient.emailAddress = toEmail\r\n        message.toRecipients = listOf(recipient)\r\n    \r\n        graphClient.me().sendMail(\r\n                UserSendMailParameterSet\r\n                        .newBuilder()\r\n                        .withMessage(message)\r\n                        .build()\r\n        ).buildRequest().post()\r\n    } catch (e: Exception) {\r\n        logger.error(e) {&quot;Exception in sending email&quot;}\r\n        throw TenantCreationException(&quot;Email&quot;, &quot;Failed with error message : ${e.localizedMessage}&quot;)\r\n    }\r\n    \r\nWhen I&#39;m trying to send same email content with same account using outlook.office365.com. It goes into inbox only.\r\nCan anyone please suggest what am I missing here?","title":"Send mail using GraphClient always goes to junk folder","body":"<p>I'm trying to send an email using Microsoft Graph API using following code spinet. It always end up in recipient's SPAM/JUNK folder.</p>\n<pre><code>try {\n    val usernamePasswordCredential: UsernamePasswordCredential = UsernamePasswordCredentialBuilder()\n            .clientId(clientId).username(username).password(password).build()\n\n    val tokenCredentialAuthProvider = TokenCredentialAuthProvider(usernamePasswordCredential)\n    val graphClient = GraphServiceClient.builder().authenticationProvider(tokenCredentialAuthProvider).buildClient()\n\n    val bundle = ResourceBundle.getBundle(&quot;messages&quot;)\n    val pattern = bundle.getString(&quot;email.body&quot;)\n\n    val message = Message()\n    message.subject = bundle.getString(&quot;email.subject&quot;)\n\n    val body = ItemBody()\n    body.contentType = BodyType.HTML\n\n    val content = MessageFormat.format(pattern, voornamen, demoLink, USERNAME, pwd)\n    body.content = content\n    message.body = body\n\n    val toEmail = EmailAddress()\n    toEmail.address = email\n    val recipient = Recipient()\n    recipient.emailAddress = toEmail\n    message.toRecipients = listOf(recipient)\n\n    graphClient.me().sendMail(\n            UserSendMailParameterSet\n                    .newBuilder()\n                    .withMessage(message)\n                    .build()\n    ).buildRequest().post()\n} catch (e: Exception) {\n    logger.error(e) {&quot;Exception in sending email&quot;}\n    throw TenantCreationException(&quot;Email&quot;, &quot;Failed with error message : ${e.localizedMessage}&quot;)\n}\n</code></pre>\n<p>When I'm trying to send same email content with same account using outlook.office365.com. It goes into inbox only.\nCan anyone please suggest what am I missing here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1397760608,"post_id":23140958,"comment_id":35383038,"body_markdown":"What&#39;s your approach to reading the data from the file, read it fully to memory? If you are going to do that, why not convert the records into objects while you read?","body":"What&#39;s your approach to reading the data from the file, read it fully to memory? If you are going to do that, why not convert the records into objects while you read?"},{"owner":{"account_id":1578001,"reputation":73,"user_id":1464003,"accept_rate":50,"display_name":"ginou"},"score":0,"creation_date":1397760973,"post_id":23140958,"comment_id":35383248,"body_markdown":"I want to read part of the file in memory, do some changes and write it back. The C-equivalent would be a series of memread-memcpy-memwrite. The approach that you propose, how could it be implemented?","body":"I want to read part of the file in memory, do some changes and write it back. The C-equivalent would be a series of memread-memcpy-memwrite. The approach that you propose, how could it be implemented?"},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1397761094,"post_id":23140958,"comment_id":35383302,"body_markdown":"What are memread and memwrite? Do you mean fread?","body":"What are memread and memwrite? Do you mean fread?"},{"owner":{"account_id":1578001,"reputation":73,"user_id":1464003,"accept_rate":50,"display_name":"ginou"},"score":0,"creation_date":1397762090,"post_id":23140958,"comment_id":35383940,"body_markdown":"Yes sorry, I meant these functions http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.14.html#memcpy for handling bytes.","body":"Yes sorry, I meant these functions <a href=\"http://www.acm.uiuc.edu/webmonkeys/book/c_guide/2.14.html#memcpy\" rel=\"nofollow noreferrer\">acm.uiuc.edu/webmonkeys/book/c_guide/2.14.html#memcpy</a> for handling bytes."}],"owner":{"account_id":1578001,"reputation":73,"user_id":1464003,"accept_rate":50,"display_name":"ginou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672236356,"creation_date":1397760112,"question_id":23140958,"body_markdown":"I have a file stored in disk and its structure is blocks with records of fixed size. \r\nEach record consists of two integers and one double (with precision: ##.##). \r\nI want to read a specific block in memory, find a specific record and store its data in a class Rec instance. \r\n\r\nSo far I am reading the block like this: \r\n\r\n    public void read(int blockNumber, byte buffer[]) {\r\n        System.arraycopy(data, blockNumber * BLOCK_SIZE,buffer, 0,BLOCK_SIZE);\r\n        // block is stored in buffer\r\n    }\r\n\r\nWhile I have worked in C with byte handling, I am very confused in java.\r\nIf I want to retrieve the 3rd record for example, I know that it starts \r\nat buffer[2*RECORD_SIZE]. But, how do I retrieve the first int (of size: Integer.SIZE)?\r\nProbably noob question but I am completely stuck.. ","title":"Reading and parsing binary data","body":"<p>I have a file stored in disk and its structure is blocks with records of fixed size. \nEach record consists of two integers and one double (with precision: ##.##). \nI want to read a specific block in memory, find a specific record and store its data in a class Rec instance. </p>\n\n<p>So far I am reading the block like this: </p>\n\n<pre><code>public void read(int blockNumber, byte buffer[]) {\n    System.arraycopy(data, blockNumber * BLOCK_SIZE,buffer, 0,BLOCK_SIZE);\n    // block is stored in buffer\n}\n</code></pre>\n\n<p>While I have worked in C with byte handling, I am very confused in java.\nIf I want to retrieve the 3rd record for example, I know that it starts \nat buffer[2*RECORD_SIZE]. But, how do I retrieve the first int (of size: Integer.SIZE)?\nProbably noob question but I am completely stuck.. </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1631001773,"post_id":69084338,"comment_id":122098984,"body_markdown":"Show your stacktrace, at what line the exception is occurring etc\nShowcase your folder structure as well.  Where does your repository exist? Where does your main application file exist?","body":"Show your stacktrace, at what line the exception is occurring etc Showcase your folder structure as well.  Where does your repository exist? Where does your main application file exist?"},{"owner":{"account_id":22677660,"reputation":21,"user_id":16848403,"display_name":"swarnapriyanayak"},"score":3,"creation_date":1631002094,"post_id":69084338,"comment_id":122099100,"body_markdown":"got the solution ... instead of &quot;findByUsername()&quot; i gave &quot;findByName()&quot; in repository interface","body":"got the solution ... instead of &quot;findByUsername()&quot; i gave &quot;findByName()&quot; in repository interface"}],"answers":[{"tags":[],"owner":{"account_id":6570594,"reputation":5006,"user_id":5078763,"accept_rate":74,"display_name":"Sujay U N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672235976,"creation_date":1672235976,"answer_id":74941167,"question_id":69084338,"body_markdown":"Changing this\r\n\r\nUse for Spring Version 2.x :\r\n\r\n    import javax.persistence.*;\r\nto\r\n\r\nUse for Spring Version 3.x :\r\n\r\n    import jakarta.persistence.*;\r\n\r\nWorked for me","title":"Error creating bean with name &#39;userRepository&#39; defined in com.user.Repository.UserRepository defined in @EnableJpaRepositories declared on JpaRe","body":"<p>Changing this</p>\n<p>Use for Spring Version 2.x :</p>\n<pre><code>import javax.persistence.*;\n</code></pre>\n<p>to</p>\n<p>Use for Spring Version 3.x :</p>\n<pre><code>import jakarta.persistence.*;\n</code></pre>\n<p>Worked for me</p>\n"}],"owner":{"account_id":22677660,"reputation":21,"user_id":16848403,"display_name":"swarnapriyanayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2372,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672235976,"creation_date":1631001160,"question_id":69084338,"body_markdown":"**Repository**\r\n*As I am trying to enter details of user but i am getting bean Exception i don&#39;t what i have missed\r\nfrom repository interface i have implements JPA and i triad with crud as well . I dint mention any controller class yet \r\n  \r\n\r\n    public interface UserRepository extends JpaRepository&lt;User,Long&gt; {\r\n    \r\n        public User findByName(String username);\r\n    }\r\n\r\n**UserModel**\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String username;\r\n        private String email;\r\n        private Date DOB;\r\n        private String Address;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public User(Long id, String username, String email, Date DOB, String address) {\r\n            this.id = id;\r\n            this.username = username;\r\n            this.email = email;\r\n            this.DOB = DOB;\r\n            Address = address;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public Date getDOB() {\r\n            return DOB;\r\n        }\r\n    \r\n        public void setDOB(Date DOB) {\r\n            this.DOB = DOB;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return Address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            Address = address;\r\n        }\r\n    }\r\n\r\n**UserService**\r\n*Userservice i have given*\r\n    \r\n    public interface UserService {\r\n    \r\n        //Creating User\r\n        public User CreateUser(User user) throws Exception;\r\n    }\r\n\r\n**ServiceImp**\r\n    \r\n    public class UserServiceImp implements UserService {\r\n    \r\n        @Autowired\r\n        private UserRepository userData;\r\n    \r\n        //Creating user\r\n        @Override\r\n        public User CreateUser(User user) throws Exception {\r\n            User local=this.userData.findByName(user.getUsername());\r\n            if(local!=null)\r\n            {\r\n                System.out.println(&quot;User is already present!!&quot;);\r\n                throw new Exception(&quot;User is already there&quot;);\r\n            }\r\n            else {\r\n                local=this.userData.save(user);\r\n            }\r\n            return local;\r\n        }\r\n    }\r\n\r\n**Main Class**\r\nThis is the main class\r\n    \r\n    @SpringBootApplication\r\n    public class UserInformationApplication implements CommandLineRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(UserInformationApplication.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \t\tSystem.out.println(&quot;starting Application&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Error creating bean with name &#39;userRepository&#39; defined in com.user.Repository.UserRepository defined in @EnableJpaRepositories declared on JpaRe","body":"<p><strong>Repository</strong>\n*As I am trying to enter details of user but i am getting bean Exception i don't what i have missed\nfrom repository interface i have implements JPA and i triad with crud as well . I dint mention any controller class yet</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User,Long&gt; {\n\n    public User findByName(String username);\n}\n</code></pre>\n<p><strong>UserModel</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String username;\n    private String email;\n    private Date DOB;\n    private String Address;\n\n    public User() {\n    }\n\n    public User(Long id, String username, String email, Date DOB, String address) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.DOB = DOB;\n        Address = address;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public Date getDOB() {\n        return DOB;\n    }\n\n    public void setDOB(Date DOB) {\n        this.DOB = DOB;\n    }\n\n    public String getAddress() {\n        return Address;\n    }\n\n    public void setAddress(String address) {\n        Address = address;\n    }\n}\n</code></pre>\n<p><strong>UserService</strong>\n<em>Userservice i have given</em></p>\n<pre><code>public interface UserService {\n\n    //Creating User\n    public User CreateUser(User user) throws Exception;\n}\n</code></pre>\n<p><strong>ServiceImp</strong></p>\n<pre><code>public class UserServiceImp implements UserService {\n\n    @Autowired\n    private UserRepository userData;\n\n    //Creating user\n    @Override\n    public User CreateUser(User user) throws Exception {\n        User local=this.userData.findByName(user.getUsername());\n        if(local!=null)\n        {\n            System.out.println(&quot;User is already present!!&quot;);\n            throw new Exception(&quot;User is already there&quot;);\n        }\n        else {\n            local=this.userData.save(user);\n        }\n        return local;\n    }\n}\n</code></pre>\n<p><strong>Main Class</strong>\nThis is the main class</p>\n<pre><code>@SpringBootApplication\npublic class UserInformationApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(UserInformationApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(&quot;starting Application&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1672236010,"post_id":74940270,"comment_id":132247950,"body_markdown":"even if you get it to run (probably with the 1.8 library), you won&#39;t be happy and here&#39;s why:  https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F","body":"even if you get it to run (probably with the 1.8 library), you won&#39;t be happy and here&#39;s why:  <a href=\"https://pdfbox.apache.org/2.0/migration.html#why-was-the-replacetext-example-removed%3F\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/&hellip;</a>"}],"owner":{"account_id":15175976,"reputation":1,"user_id":10950713,"display_name":"Jan943"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672235786,"creation_date":1672230580,"question_id":74940270,"body_markdown":"I am struggling with the problem of replacement of text in PDF file. I found library from Apache: PDFBox. I try to run example code which is on GitHub: https://github.com/chadilukito/Apache-PdfBox-2-Examples/blob/master/ReplaceText.java\r\n\r\nCould you tell me how can I run it in IntelliJ IDE ? \r\n\r\nI have the project in Maven because I should use necessary dependencies. I tried to run in terminal typing &quot;java org.example.ReplaceText Lorem ipsum input_dok output_dok&quot; because I have input_dok file in PDF. I want to get output_dok file and replace text &quot;Lorem&quot; with &quot;ipsum&quot;","title":"Replacing text in PDF file","body":"<p>I am struggling with the problem of replacement of text in PDF file. I found library from Apache: PDFBox. I try to run example code which is on GitHub: <a href=\"https://github.com/chadilukito/Apache-PdfBox-2-Examples/blob/master/ReplaceText.java\" rel=\"nofollow noreferrer\">https://github.com/chadilukito/Apache-PdfBox-2-Examples/blob/master/ReplaceText.java</a></p>\n<p>Could you tell me how can I run it in IntelliJ IDE ?</p>\n<p>I have the project in Maven because I should use necessary dependencies. I tried to run in terminal typing &quot;java org.example.ReplaceText Lorem ipsum input_dok output_dok&quot; because I have input_dok file in PDF. I want to get output_dok file and replace text &quot;Lorem&quot; with &quot;ipsum&quot;</p>\n"},{"tags":["java","windows","batch-file","jar","scheduler"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":1,"creation_date":1672196305,"post_id":74935835,"comment_id":132239965,"body_markdown":"Run the Scheduled Task as a specific user, only when they are logged in, and certainly not with highest privileges.","body":"Run the Scheduled Task as a specific user, only when they are logged in, and certainly not with highest privileges."},{"owner":{"account_id":9447142,"reputation":21,"user_id":7025429,"display_name":"User"},"score":0,"creation_date":1672196988,"post_id":74935835,"comment_id":132240036,"body_markdown":"It&#39;s a top priority job that needs to run regardless.  Need it run whether logged in or not. Pseudo mission critical type. Please clarify.  Thanks.","body":"It&#39;s a top priority job that needs to run regardless.  Need it run whether logged in or not. Pseudo mission critical type. Please clarify.  Thanks."},{"owner":{"account_id":3692224,"reputation":46725,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1672218403,"post_id":74935835,"comment_id":132243494,"body_markdown":"A batch file processed by `%SystemRoot%\\System32\\cmd.exe` started by `explorer.exe` on double clicking the batch file or by the __Task Scheduler__ using the Windows kernel library function [CreateProcess](https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw) with option `/c` and the batch file name appended as command to execute and then close `cmd.exe` just to use its internal command `start` resulting in using once again `CreateProcess` to run `java.exe` after having found it in current directory or in a folder in `PATH` is not needed.","body":"A batch file processed by <code>%SystemRoot%\\System32\\cmd.exe</code> started by <code>explorer.exe</code> on double clicking the batch file or by the <b>Task Scheduler</b> using the Windows kernel library function <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessw\" rel=\"nofollow noreferrer\">CreateProcess</a> with option <code>&#47;c</code> and the batch file name appended as command to execute and then close <code>cmd.exe</code> just to use its internal command <code>start</code> resulting in using once again <code>CreateProcess</code> to run <code>java.exe</code> after having found it in current directory or in a folder in <code>PATH</code> is not needed."},{"owner":{"account_id":3692224,"reputation":46725,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1672218654,"post_id":74935835,"comment_id":132243562,"body_markdown":"By default if not something other configured a scheduled task is run with the built-in __SYSTEM__ account in an environment with no graphical user interface available at all. For that reason no console window can be opened by `CreateProcess` on starting `cmd.exe` to process the batch file. There must be change in properties of the scheduled task to use your user account and run the batch file every hour only when you are logged in to have an execution environment on which a graphical user interface exists at all. In other words the Windows shell must be loaded on task execution.","body":"By default if not something other configured a scheduled task is run with the built-in <b>SYSTEM</b> account in an environment with no graphical user interface available at all. For that reason no console window can be opened by <code>CreateProcess</code> on starting <code>cmd.exe</code> to process the batch file. There must be change in properties of the scheduled task to use your user account and run the batch file every hour only when you are logged in to have an execution environment on which a graphical user interface exists at all. In other words the Windows shell must be loaded on task execution."},{"owner":{"account_id":3692224,"reputation":46725,"user_id":3074564,"display_name":"Mofi"},"score":0,"creation_date":1672218915,"post_id":74935835,"comment_id":132243643,"body_markdown":"The Windows shell is by default `explorer.exe` started after a user signs in/logs in with Windows desktop, Windows Start menu and Windows taskbar with system tray as visible graphical user interface. The __Action__ of the scheduled task should be configured to run the __program__ `&quot;C:\\Program Files\\Java\\bin\\java.exe&quot;` (or whatever is the correct fully qualified file name on your PC) with __optional arguments__ being `-cp java -jar &quot;C:\\folder\\sweep.jar&quot; main.sweep` and __Start in__ being the full path of the folder without `&quot;` to use as current directory on starting `java.exe`.","body":"The Windows shell is by default <code>explorer.exe</code> started after a user signs in/logs in with Windows desktop, Windows Start menu and Windows taskbar with system tray as visible graphical user interface. The <b>Action</b> of the scheduled task should be configured to run the <b>program</b> <code>&quot;C:\\Program Files\\Java\\bin\\java.exe&quot;</code> (or whatever is the correct fully qualified file name on your PC) with <b>optional arguments</b> being <code>-cp java -jar &quot;C:\\folder\\sweep.jar&quot; main.sweep</code> and <b>Start in</b> being the full path of the folder without <code>&quot;</code> to use as current directory on starting <code>java.exe</code>."}],"answers":[{"tags":[],"owner":{"account_id":32308,"reputation":845,"user_id":89516,"accept_rate":71,"display_name":"John Vottero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672235705,"creation_date":1672235705,"answer_id":74941120,"question_id":74935835,"body_markdown":"Compo gave you the only reasonable answer: &quot;Run the Scheduled Task as a specific user, only when they are logged in, and certainly not with highest privileges.&quot;\r\n\r\nAllowing services to interact with the desktop opens a pandora&#39;s box of security holes. That box used to be open and Microsoft has been trying to close it for years. \r\n\r\nThese articles help explain why these restrictions are in place:\r\n\r\nhttps://serverfault.com/questions/576144/allow-service-to-interact-with-desktop\r\n\r\nhttps://www.coretechnologies.com/blog/windows-services/interact-with-desktop/","title":"Script to add to BAT file so output could show from a jar that sweeps web","body":"<p>Compo gave you the only reasonable answer: &quot;Run the Scheduled Task as a specific user, only when they are logged in, and certainly not with highest privileges.&quot;</p>\n<p>Allowing services to interact with the desktop opens a pandora's box of security holes. That box used to be open and Microsoft has been trying to close it for years.</p>\n<p>These articles help explain why these restrictions are in place:</p>\n<p><a href=\"https://serverfault.com/questions/576144/allow-service-to-interact-with-desktop\">https://serverfault.com/questions/576144/allow-service-to-interact-with-desktop</a></p>\n<p><a href=\"https://www.coretechnologies.com/blog/windows-services/interact-with-desktop/\" rel=\"nofollow noreferrer\">https://www.coretechnologies.com/blog/windows-services/interact-with-desktop/</a></p>\n"}],"owner":{"account_id":9447142,"reputation":21,"user_id":7025429,"display_name":"User"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672235705,"creation_date":1672195983,"question_id":74935835,"body_markdown":"Let’s say I have a java jar file called sweep.jar that I run every hour using Windows Task Scheduler to collect data from websites and save to text file. \r\n \r\nIn order to run it—the script is saved in a Windows Batch File named start.bat\r\n\r\nstart java -cp java -jar &quot;C:\\folder\\sweep.jar&quot; main.sweep\r\n\r\nHere’s my dilemma:\r\n\r\nOption 1:  \r\nIf I simply manually click on the start.bat file using the cursor, a black screen CMD window opens and shows the output of the sweep.jar file as it goes to select websites and sweeps data saves to text file.\r\n\r\nOption 2:\r\nIf the sweep.jar file is run via the Task Scheduler on schedule, it runs fine except no black screen CMD window opens; but the jar runs in the background and still saves the results to text files.  \r\nHow can I have it both ways?  Run the jar via Task Scheduler and still have the output show simultaneously as it run in the black screen CMD window.  What specific script am I needing to add onto the BAT file? Thanks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/XWpFQ.png","title":"Script to add to BAT file so output could show from a jar that sweeps web","body":"<p>Let’s say I have a java jar file called sweep.jar that I run every hour using Windows Task Scheduler to collect data from websites and save to text file.</p>\n<p>In order to run it—the script is saved in a Windows Batch File named start.bat</p>\n<p>start java -cp java -jar &quot;C:\\folder\\sweep.jar&quot; main.sweep</p>\n<p>Here’s my dilemma:</p>\n<p>Option 1:<br />\nIf I simply manually click on the start.bat file using the cursor, a black screen CMD window opens and shows the output of the sweep.jar file as it goes to select websites and sweeps data saves to text file.</p>\n<p>Option 2:\nIf the sweep.jar file is run via the Task Scheduler on schedule, it runs fine except no black screen CMD window opens; but the jar runs in the background and still saves the results to text files.<br />\nHow can I have it both ways?  Run the jar via Task Scheduler and still have the output show simultaneously as it run in the black screen CMD window.  What specific script am I needing to add onto the BAT file? Thanks.</p>\n<p><a href=\"https://i.stack.imgur.com/XWpFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWpFQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","decimal","bigdecimal"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1378802869,"post_id":18714360,"comment_id":27574923,"body_markdown":"Please post your actual code and the &quot;dump&quot;.","body":"Please post your actual code and the &quot;dump&quot;."},{"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"score":2,"creation_date":1378804302,"post_id":18714360,"comment_id":27575680,"body_markdown":"The javadocs of `BigDecimal` are pretty clear on what format is allowed; http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#BigDecimal(java.lang.String)","body":"The javadocs of <code>BigDecimal</code> are pretty clear on what format is allowed; <a href=\"http://docs.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#BigDecimal(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/math/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1378804536,"post_id":18714360,"comment_id":27575795,"body_markdown":"BigDecimal doesn&#39;t have a dot or a comma.  You can parse a String which contains a comma and you can produce a string which contains a comma from a BigDecimal, but that doesn&#39;t mean the BigDecimal contains it.","body":"BigDecimal doesn&#39;t have a dot or a comma.  You can parse a String which contains a comma and you can produce a string which contains a comma from a BigDecimal, but that doesn&#39;t mean the BigDecimal contains it."}],"answers":[{"comments":[{"owner":{"account_id":471365,"reputation":6432,"user_id":879114,"accept_rate":89,"display_name":"Zavior"},"score":7,"creation_date":1378803084,"post_id":18714422,"comment_id":27575027,"body_markdown":"&quot;,&quot; is commonly used instead of &quot;.&quot; in some parts of the world","body":"&quot;,&quot; is commonly used instead of &quot;.&quot; in some parts of the world"},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":0,"creation_date":1378803149,"post_id":18714422,"comment_id":27575061,"body_markdown":"@Zavior as i edited and gave an example. but still most common languages don&#39;t accept comma in a simple parse or assignment","body":"@Zavior as i edited and gave an example. but still most common languages don&#39;t accept comma in a simple parse or assignment"},{"owner":{"account_id":1409200,"reputation":3976,"user_id":1336158,"accept_rate":100,"display_name":"Mzzl"},"score":3,"creation_date":1435676970,"post_id":18714422,"comment_id":50294623,"body_markdown":"You should not use float or double unless you&#39;re sure it&#39;s appropriate. Try System.out.println(new BigDecimal(100.23d)); - You can and sometimes will get off-by-one-cent rounding errors.","body":"You should not use float or double unless you&#39;re sure it&#39;s appropriate. Try System.out.println(new BigDecimal(100.23d)); - You can and sometimes will get off-by-one-cent rounding errors."},{"owner":{"account_id":78924,"reputation":4734,"user_id":224239,"accept_rate":71,"display_name":"Jaroslav Z&#225;ruba"},"score":1,"creation_date":1511336769,"post_id":18714422,"comment_id":81812884,"body_markdown":"...the particular reason being &quot;you want to be sure about the value&quot; :)","body":"...the particular reason being &quot;you want to be sure about the value&quot; :)"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1564473753,"post_id":18714422,"comment_id":101032420,"body_markdown":"`BigDecimal` is designed to represent float numbers precisely. You should always use `BigDecimal` over double or float if you want to unambiguously represent a float number.","body":"<code>BigDecimal</code> is designed to represent float numbers precisely. You should always use <code>BigDecimal</code> over double or float if you want to unambiguously represent a float number."}],"tags":[],"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"comment_count":5,"down_vote_count":4,"up_vote_count":23,"is_accepted":true,"score":19,"last_activity_date":1378802947,"creation_date":1378802947,"answer_id":18714422,"question_id":18714360,"body_markdown":"because you tried to put a &quot;,&quot; in a number.\r\n\r\nyou can use this code to parse a number with comma:\r\n\r\n    NumberFormat.getNumberInstance(Locale.FRANCE).parse(&quot;265,858&quot;)\r\n\r\nyou should also use float or double if there is no particular reason you use decimal.","title":"Java BigDecimal can have comma instead dot?","body":"<p>because you tried to put a \",\" in a number.</p>\n\n<p>you can use this code to parse a number with comma:</p>\n\n<pre><code>NumberFormat.getNumberInstance(Locale.FRANCE).parse(\"265,858\")\n</code></pre>\n\n<p>you should also use float or double if there is no particular reason you use decimal.</p>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"comment_count":0,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1672235578,"creation_date":1378803305,"answer_id":18714535,"question_id":18714360,"body_markdown":"The `BigDecimal(String)` constructor [documentation][1] lists all valid formats and characters.  Notice that the `,` is not included within this list.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)","title":"Java BigDecimal can have comma instead dot?","body":"<p>The <code>BigDecimal(String)</code> constructor <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">documentation</a> lists all valid formats and characters.  Notice that the <code>,</code> is not included within this list.</p>\n"},{"comments":[{"owner":{"account_id":49616,"reputation":4025,"user_id":147806,"display_name":"L&#225;szl&#243; van den Hoek"},"score":9,"creation_date":1384935704,"post_id":18714572,"comment_id":29932465,"body_markdown":"That won&#39;t work if your String has BOTH commas and points, and you don&#39;t know which one is the grouping character and which one is the decimal separator.","body":"That won&#39;t work if your String has BOTH commas and points, and you don&#39;t know which one is the grouping character and which one is the decimal separator."},{"owner":{"account_id":2660364,"reputation":637,"user_id":2300217,"display_name":"Kayz"},"score":1,"creation_date":1385383535,"post_id":18714572,"comment_id":30105835,"body_markdown":"Right, in this solution you have to know which symbol is used as decimal separator.","body":"Right, in this solution you have to know which symbol is used as decimal separator."}],"tags":[],"owner":{"account_id":2660364,"reputation":637,"user_id":2300217,"display_name":"Kayz"},"comment_count":2,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1378803410,"creation_date":1378803410,"answer_id":18714572,"question_id":18714360,"body_markdown":"If you can&#39;t be sure if your String has commas or points, you can use `replace(char, char)` from the String class. For example `myString.replace(&#39;,&#39;, &#39;.&#39;)`. ","title":"Java BigDecimal can have comma instead dot?","body":"<p>If you can't be sure if your String has commas or points, you can use <code>replace(char, char)</code> from the String class. For example <code>myString.replace(',', '.')</code>. </p>\n"}],"owner":{"account_id":3280692,"reputation":1267,"user_id":2761375,"accept_rate":89,"display_name":"Jean Tehhe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61830,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":18714422,"answer_count":3,"score":32,"last_activity_date":1672235578,"creation_date":1378802793,"question_id":18714360,"body_markdown":"I have a string value that I want to assign to a BigDecimal. When I update the decimal value with a number like `100.23`, it works fine but when I update it with a number like `100,23` the code throws an exception. Why is that?","title":"Java BigDecimal can have comma instead dot?","body":"<p>I have a string value that I want to assign to a BigDecimal. When I update the decimal value with a number like <code>100.23</code>, it works fine but when I update it with a number like <code>100,23</code> the code throws an exception. Why is that?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1667944440,"post_id":74364528,"comment_id":131288292,"body_markdown":"Maybe I don&#39;t understand what you are trying to do. Doesn&#39;t it defeat the purpose of having tests if you don&#39;t run them but just say &quot;passed last time, so let&#39;s say it passed again&quot;? What if the code under test changes? You may have a test that would catch a bug but you disable the tests? And honestly, tests depending on each other sounds like a terrible test setup to me. Each test should be independent. Are you struggling with a lot of slow tests, like having too many integration tests and not enough unit tests? You could look into test avoidance, but I&#39;d rather clean up my tests.","body":"Maybe I don&#39;t understand what you are trying to do. Doesn&#39;t it defeat the purpose of having tests if you don&#39;t run them but just say &quot;passed last time, so let&#39;s say it passed again&quot;? What if the code under test changes? You may have a test that would catch a bug but you disable the tests? And honestly, tests depending on each other sounds like a terrible test setup to me. Each test should be independent. Are you struggling with a lot of slow tests, like having too many integration tests and not enough unit tests? You could look into test avoidance, but I&#39;d rather clean up my tests."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1667977236,"post_id":74364528,"comment_id":131293636,"body_markdown":"Forcing a test to &quot;pass&quot; if it fails defeats the purpose of the test itself indeed, just as Robert says. Either delete the test, ignore it, or make sure your code is in such shape the test never fails.","body":"Forcing a test to &quot;pass&quot; if it fails defeats the purpose of the test itself indeed, just as Robert says. Either delete the test, ignore it, or make sure your code is in such shape the test never fails."},{"owner":{"account_id":4248254,"reputation":11,"user_id":3476221,"display_name":"itgr"},"score":0,"creation_date":1667983800,"post_id":74364528,"comment_id":131295447,"body_markdown":"Off course I don&#39;t want not to test every test that passed once, I want to use this option only on the same deployment and after fixing tests which failed but didn&#39;t supposed to.\nThe dependencies are important because if the basic functionality of a feature is failing, the more complex tests will surely fail and I don&#39;t want to waste time on checking them. @Robert","body":"Off course I don&#39;t want not to test every test that passed once, I want to use this option only on the same deployment and after fixing tests which failed but didn&#39;t supposed to. The dependencies are important because if the basic functionality of a feature is failing, the more complex tests will surely fail and I don&#39;t want to waste time on checking them. @Robert"},{"owner":{"account_id":4248254,"reputation":11,"user_id":3476221,"display_name":"itgr"},"score":0,"creation_date":1672065884,"post_id":74364528,"comment_id":132215388,"body_markdown":"Yes, I just added it as an answer.\nThanks @kissu","body":"Yes, I just added it as an answer. Thanks @kissu"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672073058,"post_id":74364528,"comment_id":132216841,"body_markdown":"It&#39;s really not a good idea to just run the tests that failed before the fix - changes to your code could actually make different tests fail (because a fix in one place could break another place in your code).  If your tests take to long, that&#39;s a topic to work on.","body":"It&#39;s really not a good idea to just run the tests that failed before the fix - changes to your code could actually make different tests fail (because a fix in one place could break another place in your code).  If your tests take to long, that&#39;s a topic to work on."}],"owner":{"account_id":4248254,"reputation":11,"user_id":3476221,"display_name":"itgr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1672235494,"answer_count":0,"score":1,"last_activity_date":1672235465,"creation_date":1667926939,"question_id":74364528,"body_markdown":"I&#39;m using an external place to document which test has passed and which has failed (TestRail) and I want to to make test which documented as passed (in TestRail) to pass in the running without actually run them.\r\n\r\nI don&#39;t want to skip them because there are other test which depends on these tests.\r\nI know I can check if they passed in every test and make the whole test inside a big **if** but I want to find a way to make it simple in the @BeforeMethod.\r\n\r\n```\r\n@BeforeMethod(alwaysRun = true)\r\npublic synchronized void beforeMethod(Method method) {\r\n     method.pass();\r\n}\r\n\r\n@BeforeTest(alwaysRun = true)\r\npublic synchronized void beforeMethod(ITestContext context) {\r\n     TestRunner runner = (TestRunner) context;\r\n     runner.addPassedTest(testNGMethod,((TestRunner) context).addPassedTest();\r\n}\r\n```\r\n\r\n","title":"How can I force TestNG test result to pass?","body":"<p>I'm using an external place to document which test has passed and which has failed (TestRail) and I want to to make test which documented as passed (in TestRail) to pass in the running without actually run them.</p>\n<p>I don't want to skip them because there are other test which depends on these tests.\nI know I can check if they passed in every test and make the whole test inside a big <strong>if</strong> but I want to find a way to make it simple in the @BeforeMethod.</p>\n<pre><code>@BeforeMethod(alwaysRun = true)\npublic synchronized void beforeMethod(Method method) {\n     method.pass();\n}\n\n@BeforeTest(alwaysRun = true)\npublic synchronized void beforeMethod(ITestContext context) {\n     TestRunner runner = (TestRunner) context;\n     runner.addPassedTest(testNGMethod,((TestRunner) context).addPassedTest();\n}\n</code></pre>\n"},{"tags":["java","google-my-business-api","google-my-business","google-business-profile-api","google-business-profile"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1672142181,"post_id":74928882,"comment_id":132227909,"body_markdown":"please share code of businessProfilePerformance instance?","body":"please share code of businessProfilePerformance instance?"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1672142451,"post_id":74928882,"comment_id":132227971,"body_markdown":"@RaushanKumar, thanks for the reply, I cannot share the complete code since it includes my client secretkey. anyway, the initialisation is \nBusinessProfilePerformance businessProfilePerformance= new BusinessProfilePerformance.Builder(httpTransport, JSON_FACTORY,\n\t\t\t\tcredential).setApplicationName(APPLICATION_NAME).build();","body":"@RaushanKumar, thanks for the reply, I cannot share the complete code since it includes my client secretkey. anyway, the initialisation is  BusinessProfilePerformance businessProfilePerformance= new BusinessProfilePerformance.Builder(httpTransport, JSON_FACTORY, \t\t\t\tcredential).setApplicationName(APPLICATION_NAME).build()&zwnj;&#8203;;"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1672143361,"post_id":74928882,"comment_id":132228158,"body_markdown":"as per error , it looks like you are not passing a valid locationName to this method","body":"as per error , it looks like you are not passing a valid locationName to this method"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1672143852,"post_id":74928882,"comment_id":132228288,"body_markdown":"@RaushanKumar, no it is correct I am reading it from DB.","body":"@RaushanKumar, no it is correct I am reading it from DB."}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672225078,"creation_date":1672225078,"answer_id":74939379,"question_id":74928882,"body_markdown":"I found the answer. I put it here in case might serve at anyone:\r\nsupposing that the variable business_profile_performance is the initialiser global parameters via its Builder and also takes care of authentication.\r\n\r\n    try {\r\n\r\n                BusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\r\n                        business_profile_perfomance.locations().\r\n                        getDailyMetricsTimeSeries(&quot;My locationID&quot; ).\r\n                        setDailyMetric(dailyMetric).\r\n                        setDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\r\n                        setDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\r\n                        setDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\r\n\r\n                        setDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\r\n                        setDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\r\n                        setDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\r\n\r\n                GetDailyMetricsTimeSeriesResponse response = metricReport.execute();\r\n                if (!response.isEmpty()) {\r\n                    System.out.println(dailyMetric + &quot; Response == &quot; + response);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(e);\r\n            }\r\n\r\nthe variable *dailyMetric* can be one of the metrics written in the photo below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4chO.png","title":"How to send request to Business Profile Performance API in Java?","body":"<p>I found the answer. I put it here in case might serve at anyone:\nsupposing that the variable business_profile_performance is the initialiser global parameters via its Builder and also takes care of authentication.</p>\n<pre><code>try {\n\n            BusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport =\n                    business_profile_perfomance.locations().\n                    getDailyMetricsTimeSeries(&quot;My locationID&quot; ).\n                    setDailyMetric(dailyMetric).\n                    setDailyRangeStartDateYear(Integer.valueOf(&quot;the desired start Year&quot;)).\n                    setDailyRangeStartDateMonth(Integer.valueOf(&quot; the desired start Month&quot; )).\n                    setDailyRangeStartDateDay(Integer.valueOf(&quot; the desired start Day &quot;)).\n\n                    setDailyRangeEndDateYear(Integer.valueOf(&quot;the desired End Year&quot; )).\n                    setDailyRangeEndDateMonth(Integer.valueOf(&quot; the desired End Month&quot;)).\n                    setDailyRangeEndDateDay(Integer.valueOf(&quot;the desired End Day&quot;));\n\n            GetDailyMetricsTimeSeriesResponse response = metricReport.execute();\n            if (!response.isEmpty()) {\n                System.out.println(dailyMetric + &quot; Response == &quot; + response);\n            }\n\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n</code></pre>\n<p>the variable <em>dailyMetric</em> can be one of the metrics written in the photo below:</p>\n<p><a href=\"https://i.stack.imgur.com/R4chO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R4chO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939379,"answer_count":1,"score":0,"last_activity_date":1672235444,"creation_date":1672141691,"question_id":74928882,"body_markdown":"Does anyone know how I can send request to this API using Java? The link is\r\n[Business Profile Performance API][1] but there is no code example. The code I tried is not correct:\r\n supposing businessProfilePerformance is a variable of type  `BusinessProfilePerformance` to initialise global parameters via its Builder and also takes care of authorisation. \r\n \r\n    try {\r\n\r\n    BusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport = businessProfilePerformance.locations()\r\n    \t\t\t\t\t\t\t\t.getDailyMetricsTimeSeries(locationName);\r\n    \t\t\t\t\t\tGetDailyMetricsTimeSeriesResponse response = metricReport.execute();\r\n    \t\t\t\t\t\tif (!response.isEmpty()) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Response== &quot; + response);\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t\tSystem.out.println(e);\r\n    \t\t\t\t\t}\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries\r\n \r\nThe error is \r\n\r\n&gt; com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n&gt; \r\n\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;details&quot; : [ {\r\n        &quot;@type&quot; : &quot;type.googleapis.com/google.rpc.BadRequest&quot;\r\n      } ],\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\r\n        &quot;reason&quot; : &quot;badRequest&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\r\n      &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\r\n    }\r\n\r\n\r\nThanks\r\n","title":"How to send request to Business Profile Performance API in Java?","body":"<p>Does anyone know how I can send request to this API using Java? The link is\n<a href=\"https://developers.google.com/my-business/reference/performance/rest/v1/locations/getDailyMetricsTimeSeries\" rel=\"nofollow noreferrer\">Business Profile Performance API</a> but there is no code example. The code I tried is not correct:\nsupposing businessProfilePerformance is a variable of type  <code>BusinessProfilePerformance</code> to initialise global parameters via its Builder and also takes care of authorisation.</p>\n<pre><code>try {\n\nBusinessProfilePerformance.Locations.GetDailyMetricsTimeSeries metricReport = businessProfilePerformance.locations()\n                                .getDailyMetricsTimeSeries(locationName);\n                        GetDailyMetricsTimeSeriesResponse response = metricReport.execute();\n                        if (!response.isEmpty()) {\n                            System.out.println(&quot;Response== &quot; + response);\n                        }\n\n                    } catch (Exception e) {\n                        System.out.println(e);\n                    }\n</code></pre>\n<p>The error is</p>\n<blockquote>\n<p>com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request</p>\n</blockquote>\n<pre><code>{\n  &quot;code&quot; : 400,\n  &quot;details&quot; : [ {\n    &quot;@type&quot; : &quot;type.googleapis.com/google.rpc.BadRequest&quot;\n  } ],\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\n    &quot;reason&quot; : &quot;badRequest&quot;\n  } ],\n  &quot;message&quot; : &quot;Request contains an invalid argument.&quot;,\n  &quot;status&quot; : &quot;INVALID_ARGUMENT&quot;\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","selenium","maven","cucumber","maven-archetype"],"owner":{"account_id":27374346,"reputation":1,"user_id":20879929,"display_name":"Kalyani_gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672234877,"creation_date":1672234877,"question_id":74940977,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/F2r2a.png)](https://i.stack.imgur.com/JD21a.png)\r\n\r\n\r\nI am not able to create  new maven project. previously I added remote catalogue in  maven archetype preferences because I was not getting the maven-archetype in the suggestion. after adding remote catalogue , the box is empty now. not showing the original one\r\n ","title":"there is no next step after I click create new maven project. and in preferences , maven archetype is empty. cant create new maven project","body":"<p>[<a href=\"https://i.stack.imgur.com/F2r2a.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/JD21a.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JD21a.png</a>)</p>\n<p>I am not able to create  new maven project. previously I added remote catalogue in  maven archetype preferences because I was not getting the maven-archetype in the suggestion. after adding remote catalogue , the box is empty now. not showing the original one</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","netty"],"comments":[{"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"score":0,"creation_date":1672165753,"post_id":74932510,"comment_id":132234470,"body_markdown":"It&#39;s better to add also how you use your WebSocketHandler with netty","body":"It&#39;s better to add also how you use your WebSocketHandler with netty"},{"owner":{"account_id":27367043,"reputation":31,"user_id":20873701,"display_name":"TNYCL"},"score":0,"creation_date":1672169722,"post_id":74932510,"comment_id":132235523,"body_markdown":"Sure, let i edit question.","body":"Sure, let i edit question."}],"answers":[{"comments":[{"owner":{"account_id":27367043,"reputation":31,"user_id":20873701,"display_name":"TNYCL"},"score":0,"creation_date":1672167359,"post_id":74932911,"comment_id":132234904,"body_markdown":"by `@PostConstruct`, do you mean `@Bean`?","body":"by <code>@PostConstruct</code>, do you mean <code>@Bean</code>?"},{"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"score":0,"creation_date":1672221484,"post_id":74932911,"comment_id":132244257,"body_markdown":"@TNYCL no I mean `@PostConstruct`. Classes annotated with `@Configuration` are always managed/istantiated by spring, so using `@PostConstruct` you can do something after construction knowing that all autowired beans will be in place. Another (more OOP) way is to provide a constructor where you receive the WebSocketHandler instance as argument of the coonstructor and then you can initialize netty with that instance --- see https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-constructor-injection","body":"@TNYCL no I mean <code>@PostConstruct</code>. Classes annotated with <code>@Configuration</code> are always managed/istantiated by spring, so using <code>@PostConstruct</code> you can do something after construction knowing that all autowired beans will be in place. Another (more OOP) way is to provide a constructor where you receive the WebSocketHandler instance as argument of the coonstructor and then you can initialize netty with that instance --- see <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-constructor-injection\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"}],"tags":[],"owner":{"account_id":279146,"reputation":5158,"user_id":574147,"display_name":"Fabio Bonfante"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672234315,"creation_date":1672165682,"answer_id":74932911,"question_id":74932510,"body_markdown":"Spring can do autowire, and all other &quot;magic stuff&quot;, IF and only if it&#39;s spring itself that build the instance of the class.\r\n\r\nThe problem is in your `NettyListener` class where *you* build the instance with `new WebSocketHandler()`. In this way, Spring doesn&#39;t know anything about that, and can&#39;t initialize it properly.\r\n\r\nMy advice is to build your netty configuration passing the WebSocketHandler instance returned by spring in this way:\r\n\r\n```\r\n@Configuration\r\npublic MyAppConfiguration {\r\n\r\n  @Autowire\r\n  WebSocketHandler webSocketHandler\r\n\r\n  @PostConstruct\r\n  public void configureNetty() {\r\n    //...netty-things I don&#39;t know...\r\n    //netty.useHandler(webSocketHandler)\r\n  }\r\n\r\n}\r\n```\r\n\r\nOT: I saw `UtilConsole.log()` and as a general advice, never reinvent the wheel, and logging frameworks are more complex than they appears. A look to &#39;logback&#39; (the most beloved by spring-framework) could help you. \r\n","title":"Spring @Autowired repository not working in @Override Netty method","body":"<p>Spring can do autowire, and all other &quot;magic stuff&quot;, IF and only if it's spring itself that build the instance of the class.</p>\n<p>The problem is in your <code>NettyListener</code> class where <em>you</em> build the instance with <code>new WebSocketHandler()</code>. In this way, Spring doesn't know anything about that, and can't initialize it properly.</p>\n<p>My advice is to build your netty configuration passing the WebSocketHandler instance returned by spring in this way:</p>\n<pre><code>@Configuration\npublic MyAppConfiguration {\n\n  @Autowire\n  WebSocketHandler webSocketHandler\n\n  @PostConstruct\n  public void configureNetty() {\n    //...netty-things I don't know...\n    //netty.useHandler(webSocketHandler)\n  }\n\n}\n</code></pre>\n<p>OT: I saw <code>UtilConsole.log()</code> and as a general advice, never reinvent the wheel, and logging frameworks are more complex than they appears. A look to 'logback' (the most beloved by spring-framework) could help you.</p>\n"}],"owner":{"account_id":27367043,"reputation":31,"user_id":20873701,"display_name":"TNYCL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1672234315,"creation_date":1672162951,"question_id":74932510,"body_markdown":"I was developing a Netty Socket project with Spring Data but I&#39;m definitely can&#39;t use Spring&#39;s repository class in `@Override` method. It works in any method other than the `@Override` method, I tried calling it with `@PostConstruct`.\r\n\r\n```\r\n@Repository\r\npublic interface AccountRepository extends CassandraRepository&lt;Account, UUID&gt; {}\r\n```\r\n\r\n```\r\n@Service\r\npublic class WebSocketHandler extends ChannelInboundHandlerAdapter {\r\n\r\n    public static List&lt;String&gt; requiredData = Arrays.asList(\r\n            &quot;request_type&quot;\r\n    );\r\n\r\n    @Autowired\r\n    private AccountRepository accountRepository;\r\n\r\n    @Override\r\n    public void channelRead(ChannelHandlerContext ctx, Object msg) {\r\n        if(!(msg instanceof TextWebSocketFrame)) return;\r\n        \r\n        System.out.println(accountRepository);//problems there, accountRepository always return null;\r\n\r\n        JSONObject data;\r\n        try {\r\n            data = new JSONObject(((TextWebSocketFrame) msg).text());\r\n        } catch (Exception ex) {\r\n            return;\r\n        }\r\n\r\n        for(String required : requiredData) {\r\n            try {\r\n                data.get(required);\r\n            } catch (Exception ex) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        RequestModule requestModule = RequestAdapter.getModule(data.get(&quot;request_type&quot;).toString());\r\n        if(requestModule == null) return;\r\n\r\n        requestModule.onAction(ctx, data);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Netty {\r\n    private UnorderedThreadPoolEventExecutor executorGroup;\r\n\r\n    public Netty() {\r\n        UtilConsole.log(&quot;Netty sunucusu aktifleşiyor...&quot;);\r\n        try {\r\n            enable();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void enable() throws Exception {\r\n        ResourceLeakDetector.setLevel( ResourceLeakDetector.Level.DISABLED ); // Eats performance\r\n\r\n        EventLoopGroup producer = new NioEventLoopGroup(32);\r\n        EventLoopGroup consumer = new NioEventLoopGroup(32);\r\n\r\n        try{\r\n            executorGroup = new UnorderedThreadPoolEventExecutor(32);\r\n\r\n            ServerBootstrap bootstrap = new ServerBootstrap()\r\n                    .option(ChannelOption.SO_BACKLOG, 1024)\r\n                    .group(producer, consumer)\r\n                    .channel(NioServerSocketChannel.class)\r\n                    .handler(new LoggingHandler(LogLevel.INFO))\r\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                        @Override\r\n                        protected void initChannel(SocketChannel channel) throws Exception {\r\n                            ChannelPipeline pipeline = channel.pipeline();\r\n\r\n                            pipeline.addLast(&quot;httpServerCodec&quot;, new HttpServerCodec());\r\n                            pipeline.addLast(new HttpObjectAggregator(Short.MAX_VALUE));\r\n\r\n                            pipeline.addLast(executorGroup, &quot;httpHandler&quot;, new NettyListener());\r\n                        }\r\n                    })\r\n                    .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\r\n                    .option(ChannelOption.SO_RCVBUF, Integer.MAX_VALUE);\r\n\r\n            UtilConsole.log(&quot;Netty sunucusu aktif edildi!&quot;);\r\n            bootstrap.bind(Configuration.NETTY_PORT).sync().channel().closeFuture().sync();\r\n        }catch(Exception ex){\r\n            ex.printStackTrace();\r\n            UtilConsole.log(&quot;Netty sunucusu aktif edilemedi.&quot;);\r\n            throw ex;\r\n        }finally{\r\n            producer.shutdownGracefully();\r\n            consumer.shutdownGracefully();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class NettyListener extends ChannelInboundHandlerAdapter {\r\n\r\n    private WebSocketServerHandshaker handshaker;\r\n\r\n    @Override\r\n    public void channelRead(ChannelHandlerContext ctx, Object msg){\r\n        if(msg instanceof HttpRequest){\r\n            HttpRequest httpRequest = (HttpRequest) msg;\r\n\r\n            HttpHeaders headers = httpRequest.headers();\r\n\r\n            if(&quot;Upgrade&quot;.equalsIgnoreCase(headers.get(HttpHeaderNames.CONNECTION)) &amp;&amp; &quot;WebSocket&quot;.equalsIgnoreCase(headers.get(HttpHeaderNames.UPGRADE))){\r\n                ctx.pipeline().replace(this, &quot;websocketHandler&quot;, new WebSocketHandler());\r\n                handleHandshake(ctx, httpRequest);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThis definitely doesn&#39;t work and `accountRepository` always returning `null`.\r\n\r\nI want to be able to use a `@Autowired` variable in the `@Override channelRead` method, but it doesn&#39;t work.","title":"Spring @Autowired repository not working in @Override Netty method","body":"<p>I was developing a Netty Socket project with Spring Data but I'm definitely can't use Spring's repository class in <code>@Override</code> method. It works in any method other than the <code>@Override</code> method, I tried calling it with <code>@PostConstruct</code>.</p>\n<pre><code>@Repository\npublic interface AccountRepository extends CassandraRepository&lt;Account, UUID&gt; {}\n</code></pre>\n<pre><code>@Service\npublic class WebSocketHandler extends ChannelInboundHandlerAdapter {\n\n    public static List&lt;String&gt; requiredData = Arrays.asList(\n            &quot;request_type&quot;\n    );\n\n    @Autowired\n    private AccountRepository accountRepository;\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg) {\n        if(!(msg instanceof TextWebSocketFrame)) return;\n        \n        System.out.println(accountRepository);//problems there, accountRepository always return null;\n\n        JSONObject data;\n        try {\n            data = new JSONObject(((TextWebSocketFrame) msg).text());\n        } catch (Exception ex) {\n            return;\n        }\n\n        for(String required : requiredData) {\n            try {\n                data.get(required);\n            } catch (Exception ex) {\n                return;\n            }\n        }\n\n        RequestModule requestModule = RequestAdapter.getModule(data.get(&quot;request_type&quot;).toString());\n        if(requestModule == null) return;\n\n        requestModule.onAction(ctx, data);\n    }\n}\n</code></pre>\n<pre><code>public class Netty {\n    private UnorderedThreadPoolEventExecutor executorGroup;\n\n    public Netty() {\n        UtilConsole.log(&quot;Netty sunucusu aktifleşiyor...&quot;);\n        try {\n            enable();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    private void enable() throws Exception {\n        ResourceLeakDetector.setLevel( ResourceLeakDetector.Level.DISABLED ); // Eats performance\n\n        EventLoopGroup producer = new NioEventLoopGroup(32);\n        EventLoopGroup consumer = new NioEventLoopGroup(32);\n\n        try{\n            executorGroup = new UnorderedThreadPoolEventExecutor(32);\n\n            ServerBootstrap bootstrap = new ServerBootstrap()\n                    .option(ChannelOption.SO_BACKLOG, 1024)\n                    .group(producer, consumer)\n                    .channel(NioServerSocketChannel.class)\n                    .handler(new LoggingHandler(LogLevel.INFO))\n                    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                        @Override\n                        protected void initChannel(SocketChannel channel) throws Exception {\n                            ChannelPipeline pipeline = channel.pipeline();\n\n                            pipeline.addLast(&quot;httpServerCodec&quot;, new HttpServerCodec());\n                            pipeline.addLast(new HttpObjectAggregator(Short.MAX_VALUE));\n\n                            pipeline.addLast(executorGroup, &quot;httpHandler&quot;, new NettyListener());\n                        }\n                    })\n                    .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\n                    .option(ChannelOption.SO_RCVBUF, Integer.MAX_VALUE);\n\n            UtilConsole.log(&quot;Netty sunucusu aktif edildi!&quot;);\n            bootstrap.bind(Configuration.NETTY_PORT).sync().channel().closeFuture().sync();\n        }catch(Exception ex){\n            ex.printStackTrace();\n            UtilConsole.log(&quot;Netty sunucusu aktif edilemedi.&quot;);\n            throw ex;\n        }finally{\n            producer.shutdownGracefully();\n            consumer.shutdownGracefully();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>public class NettyListener extends ChannelInboundHandlerAdapter {\n\n    private WebSocketServerHandshaker handshaker;\n\n    @Override\n    public void channelRead(ChannelHandlerContext ctx, Object msg){\n        if(msg instanceof HttpRequest){\n            HttpRequest httpRequest = (HttpRequest) msg;\n\n            HttpHeaders headers = httpRequest.headers();\n\n            if(&quot;Upgrade&quot;.equalsIgnoreCase(headers.get(HttpHeaderNames.CONNECTION)) &amp;&amp; &quot;WebSocket&quot;.equalsIgnoreCase(headers.get(HttpHeaderNames.UPGRADE))){\n                ctx.pipeline().replace(this, &quot;websocketHandler&quot;, new WebSocketHandler());\n                handleHandshake(ctx, httpRequest);\n            }\n        }\n    }\n</code></pre>\n<p>This definitely doesn't work and <code>accountRepository</code> always returning <code>null</code>.</p>\n<p>I want to be able to use a <code>@Autowired</code> variable in the <code>@Override channelRead</code> method, but it doesn't work.</p>\n"},{"tags":["java","sql","postgresql","criteriaquery"],"owner":{"account_id":27374212,"reputation":1,"user_id":20879812,"display_name":"Amit Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672234236,"creation_date":1672234236,"question_id":74940874,"body_markdown":"I am tring to write a query to get few columns of a table along with total sum of a particular column. I am able to do so using sum(&lt;column&gt;) with over().\r\nExample:\r\n```\r\nselect id , amount, sum(amount) over ()\r\nfrom orders\r\nwhere status =0\r\n```\r\n\r\nHowever if I remove over(), I get the following error;\r\n```\r\nERROR:  column &quot;orders.id&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\nLINE 3: select id , amount, sum(amount)\r\n```\r\n\r\n\r\nThe Java code using CriteriaQuery is like;\r\n\r\n```\r\nCriteriaBuilder cb = em.getCriteriaBuilder();\r\nCriteriaQuery&lt;Object[]&gt; cq = cb.createQuery(Object[].class);\r\nRoot&lt;Orders&gt; root = cq.from(Orders.class);\r\n\r\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\npredicates.add(cb.equal(root.get(&quot;status&quot;), 0));\r\n\r\ncq.multiselect(root.get(&quot;id&quot;), root.get(&quot;amount&quot;), cb.sum(root.get(&quot;amount&quot;))\r\n.where(cb.and(predicates.toArray(new Predicate[predicates.size()])));\r\n\r\n```\r\nI am not able to find anything equivalent to over() to use in multiselect query. and getting same error;\r\nERROR:  column &quot;orders.id&quot; must appear in the GROUP BY clause or be used in an aggregate function\r\nLINE 3: select id , amount, sum(amount).\r\n\r\nPlease suggest how to fix this error and write CriteriaQuery with multiselect and aggregate functions.\r\n","title":"how to write Java CriteriaQuery equivalent to postgresql/sql for aggregate function like sum, avg with over()","body":"<p>I am tring to write a query to get few columns of a table along with total sum of a particular column. I am able to do so using sum() with over().\nExample:</p>\n<pre><code>select id , amount, sum(amount) over ()\nfrom orders\nwhere status =0\n</code></pre>\n<p>However if I remove over(), I get the following error;</p>\n<pre><code>ERROR:  column &quot;orders.id&quot; must appear in the GROUP BY clause or be used in an aggregate function\nLINE 3: select id , amount, sum(amount)\n</code></pre>\n<p>The Java code using CriteriaQuery is like;</p>\n<pre><code>CriteriaBuilder cb = em.getCriteriaBuilder();\nCriteriaQuery&lt;Object[]&gt; cq = cb.createQuery(Object[].class);\nRoot&lt;Orders&gt; root = cq.from(Orders.class);\n\nList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\npredicates.add(cb.equal(root.get(&quot;status&quot;), 0));\n\ncq.multiselect(root.get(&quot;id&quot;), root.get(&quot;amount&quot;), cb.sum(root.get(&quot;amount&quot;))\n.where(cb.and(predicates.toArray(new Predicate[predicates.size()])));\n\n</code></pre>\n<p>I am not able to find anything equivalent to over() to use in multiselect query. and getting same error;\nERROR:  column &quot;orders.id&quot; must appear in the GROUP BY clause or be used in an aggregate function\nLINE 3: select id , amount, sum(amount).</p>\n<p>Please suggest how to fix this error and write CriteriaQuery with multiselect and aggregate functions.</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-config","spring-cloud-config-server"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672233992,"creation_date":1672233992,"question_id":74940835,"body_markdown":"I am working on a microservice project and implementing the Config Server using GitHub.\r\nI created following files on GitHub-\r\n[![enter image description here][1]][1]\r\nEach file has the same configuration code (the common configuration for microservices) with different names-\r\n```\r\nspring:\r\n    application:\r\n        name: Config-default\r\neureka:\r\n    instance:\r\n        prefer-ip-address: true\r\n    client:\r\n        fetch-registry: true #true by default\r\n        register-with-eureka: true #true by default\r\n        service-url:\r\n            defaultZone: http://localhost:8761/eureka #url of the eureka server, registers with this url\r\n```\r\nI use the **@EnableConfigServer** annotation for the configuration server.\r\nIn the application.yml for the Configuration Server Microservice I add-\r\n```\r\nserver:\r\n  port: 8089\r\nspring:\r\n  application:\r\n    name: CONFIG-SERVER\r\n\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri: &lt;github repository url&gt;\r\n          clone-on-start: true\r\n```\r\nFor the client microservices I added following dependency to pom.xml-\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn the application.yml for the clients I add the configuration-\r\n```\r\nspring:\r\n    application:\r\n        name: USER-SERVICE #changes the name of application from UNKNOWN to UserService\r\n    config:\r\n        import: optional:configserver:http://localhost:8089   \r\n    profiles:\r\n        active: prod\r\n```\r\n\r\n**Problem-** When I try to run my configuration server microservice I get the following error message-\r\n```\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nInvalid config server configuration.\r\n\r\nAction:\r\n\r\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\r\n```\r\nCan somebody please help me find out the problem, why the URL is not detected.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SNBUs.png","title":"Config Server URI not detected in Spring Boot Microservice Project","body":"<p>I am working on a microservice project and implementing the Config Server using GitHub.\nI created following files on GitHub-\n<a href=\"https://i.stack.imgur.com/SNBUs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNBUs.png\" alt=\"enter image description here\" /></a>\nEach file has the same configuration code (the common configuration for microservices) with different names-</p>\n<pre><code>spring:\n    application:\n        name: Config-default\neureka:\n    instance:\n        prefer-ip-address: true\n    client:\n        fetch-registry: true #true by default\n        register-with-eureka: true #true by default\n        service-url:\n            defaultZone: http://localhost:8761/eureka #url of the eureka server, registers with this url\n</code></pre>\n<p>I use the <strong>@EnableConfigServer</strong> annotation for the configuration server.\nIn the application.yml for the Configuration Server Microservice I add-</p>\n<pre><code>server:\n  port: 8089\nspring:\n  application:\n    name: CONFIG-SERVER\n\n  cloud:\n    config:\n      server:\n        git:\n          uri: &lt;github repository url&gt;\n          clone-on-start: true\n</code></pre>\n<p>For the client microservices I added following dependency to pom.xml-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In the application.yml for the clients I add the configuration-</p>\n<pre><code>spring:\n    application:\n        name: USER-SERVICE #changes the name of application from UNKNOWN to UserService\n    config:\n        import: optional:configserver:http://localhost:8089   \n    profiles:\n        active: prod\n</code></pre>\n<p><strong>Problem-</strong> When I try to run my configuration server microservice I get the following error message-</p>\n<pre><code>\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nInvalid config server configuration.\n\nAction:\n\nIf you are using the git profile, you need to set a Git URI in your configuration.  If you have set spring.cloud.config.server.bootstrap=true, you need to use a composite configuration.\n</code></pre>\n<p>Can somebody please help me find out the problem, why the URL is not detected.</p>\n"},{"tags":["java","annotations","annotation-processing"],"owner":{"account_id":6861039,"reputation":3,"user_id":5275010,"display_name":"Mahim Arib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672233907,"creation_date":1672233734,"question_id":74940795,"body_markdown":"I am trying to capture all the enum constants inside the `@AxesSource` element and turn in into a `Map&lt;String,IAxis&gt;` using annotation processing.\r\n\r\nThe annotation processing round environment provides me with `javax.lang.model.element.Element` representing the element annotated with `@AxesSource` and I can get all the child elements with `getEnclosedElements()` but I don&#39;t know how I can get the enum constant value names like `xAxis`, `yAxis` into a String, or cast it to `IAxis` so I can call on its methods later. Would that be possible? or should I just try to get that information from the enum constants? \r\n\r\n```java\r\n@Controller(name = &quot;DriveStick&quot;)\r\n@HasDPad\r\npublic static class DriveTemp {\r\n  @ButtonsSource\r\n  public enum Button implements Mappable {\r\n    button1(1),\r\n    button2(2),\r\n    button3(3),\r\n    button4(4),\r\n    button5(5),\r\n    button6(6),\r\n    button7(7),\r\n    button8(8),\r\n    button9(9),\r\n    button10(10),\r\n    button11(11),\r\n    button12(12);\r\n\r\n    private final int id;\r\n\r\n    Button(int id) {\r\n      this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public int getID() {\r\n      return id;\r\n    }\r\n  }\r\n\r\n  @AxesSource\r\n  @Separate\r\n  public enum Axis implements IAxis {\r\n    xAxis(0),\r\n    yAxis(1, true),\r\n    zAxis(2),\r\n    Slider(3);\r\n\r\n    private final int number;\r\n    private final boolean inverted;\r\n\r\n    Axis(int number, boolean inverted) {\r\n      this.number = number;\r\n      this.inverted = inverted;\r\n    }\r\n\r\n    Axis(int number) {\r\n      this.number = number;\r\n      this.inverted = false;\r\n    }\r\n\r\n    @Override\r\n    public boolean isInverted() {\r\n      return inverted;\r\n    }\r\n\r\n    @Override\r\n    public int getNumber() {\r\n      return number;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nso far I have \r\n\r\n```java\r\n\r\naxes =\r\n        element.getEnclosedElements().stream()\r\n            .filter(e -&gt; e.getKind() == ElementKind.ENUM_CONSTANT)\r\n            .collect(\r\n                Collectors.toMap(\r\n                    e -&gt; e.toString(),\r\n                    e -&gt; {\r\n                      if (e instanceof IAxis) {\r\n                        return (IAxis) e;\r\n                      }\r\n                      return null;\r\n                    }));\r\n```\r\nI am unable to simply cast it like that","title":"How can I get all enclosed elements from annotation and cast it to its super type?","body":"<p>I am trying to capture all the enum constants inside the <code>@AxesSource</code> element and turn in into a <code>Map&lt;String,IAxis&gt;</code> using annotation processing.</p>\n<p>The annotation processing round environment provides me with <code>javax.lang.model.element.Element</code> representing the element annotated with <code>@AxesSource</code> and I can get all the child elements with <code>getEnclosedElements()</code> but I don't know how I can get the enum constant value names like <code>xAxis</code>, <code>yAxis</code> into a String, or cast it to <code>IAxis</code> so I can call on its methods later. Would that be possible? or should I just try to get that information from the enum constants?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller(name = &quot;DriveStick&quot;)\n@HasDPad\npublic static class DriveTemp {\n  @ButtonsSource\n  public enum Button implements Mappable {\n    button1(1),\n    button2(2),\n    button3(3),\n    button4(4),\n    button5(5),\n    button6(6),\n    button7(7),\n    button8(8),\n    button9(9),\n    button10(10),\n    button11(11),\n    button12(12);\n\n    private final int id;\n\n    Button(int id) {\n      this.id = id;\n    }\n\n    @Override\n    public int getID() {\n      return id;\n    }\n  }\n\n  @AxesSource\n  @Separate\n  public enum Axis implements IAxis {\n    xAxis(0),\n    yAxis(1, true),\n    zAxis(2),\n    Slider(3);\n\n    private final int number;\n    private final boolean inverted;\n\n    Axis(int number, boolean inverted) {\n      this.number = number;\n      this.inverted = inverted;\n    }\n\n    Axis(int number) {\n      this.number = number;\n      this.inverted = false;\n    }\n\n    @Override\n    public boolean isInverted() {\n      return inverted;\n    }\n\n    @Override\n    public int getNumber() {\n      return number;\n    }\n  }\n}\n</code></pre>\n<p>so far I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>\naxes =\n        element.getEnclosedElements().stream()\n            .filter(e -&gt; e.getKind() == ElementKind.ENUM_CONSTANT)\n            .collect(\n                Collectors.toMap(\n                    e -&gt; e.toString(),\n                    e -&gt; {\n                      if (e instanceof IAxis) {\n                        return (IAxis) e;\n                      }\n                      return null;\n                    }));\n</code></pre>\n<p>I am unable to simply cast it like that</p>\n"},{"tags":["java","class","integer","int"],"comments":[{"owner":{"account_id":126393,"reputation":2246,"user_id":322866,"accept_rate":87,"display_name":"amara"},"score":7,"creation_date":1285699981,"post_id":3815173,"comment_id":4048677,"body_markdown":"Why are you using Integers instead of ints?","body":"Why are you using Integers instead of ints?"},{"owner":{"account_id":127457,"reputation":5934,"user_id":324625,"accept_rate":80,"display_name":"Steve Blackwell"},"score":6,"creation_date":1448939476,"post_id":3815173,"comment_id":55779625,"body_markdown":"@naiad For me it&#39;s usually because you can&#39;t use primitive types as generic arguments in Java.","body":"@naiad For me it&#39;s usually because you can&#39;t use primitive types as generic arguments in Java."}],"answers":[{"comments":[{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":4,"creation_date":1285693434,"post_id":3815194,"comment_id":4047613,"body_markdown":"If you must use a non-primitive int, and you want mutability, you can try commons MutableInt http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/mutable/MutableInt.html","body":"If you must use a non-primitive int, and you want mutability, you can try commons MutableInt <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/mutable/MutableInt.html\" rel=\"nofollow noreferrer\">commons.apache.org/lang/api-2.4/org/apache/commons/lang/muta&zwnj;&#8203;ble/&hellip;</a>"},{"owner":{"account_id":24433,"reputation":8680,"user_id":62122,"accept_rate":79,"display_name":"William"},"score":0,"creation_date":1285693462,"post_id":3815194,"comment_id":4047618,"body_markdown":"thanks, but for some reason it&#39;s still not incrementing. Maybe it&#39;s a bug in my code...","body":"thanks, but for some reason it&#39;s still not incrementing. Maybe it&#39;s a bug in my code..."},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":2,"creation_date":1285693684,"post_id":3815194,"comment_id":4047650,"body_markdown":"@William : As i know, it will be incremented only in method that increment it.","body":"@William : As i know, it will be incremented only in method that increment it."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":13,"creation_date":1285694068,"post_id":3815194,"comment_id":4047708,"body_markdown":"Don&#39;t use Integer&#39;s constructor.","body":"Don&#39;t use Integer&#39;s constructor."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":0,"creation_date":1285695886,"post_id":3815194,"comment_id":4047978,"body_markdown":"@ColinD: I believe that spelling it out like this makes it easier to see what is actually going on.","body":"@ColinD: I believe that spelling it out like this makes it easier to see what is actually going on."},{"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"score":2,"creation_date":1285696364,"post_id":3815194,"comment_id":4048059,"body_markdown":"@Grodriguez: Perhaps, though even then I&#39;d suggest `Integer.valueOf(int)`... I don&#39;t like the idea of using bad practices in answers at all, it can lead to people thinking they&#39;re ok to do. I also think it&#39;s useful for the OP to realize that he can use operations he&#39;d use with an `int` with an `Integer` in the same manner.","body":"@Grodriguez: Perhaps, though even then I&#39;d suggest <code>Integer.valueOf(int)</code>... I don&#39;t like the idea of using bad practices in answers at all, it can lead to people thinking they&#39;re ok to do. I also think it&#39;s useful for the OP to realize that he can use operations he&#39;d use with an <code>int</code> with an <code>Integer</code> in the same manner."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":0,"creation_date":1285708482,"post_id":3815194,"comment_id":4049998,"body_markdown":"@ColinD: &quot;can lead to people thinking they&#39;re ok to do so&quot;? I&#39;m sorry, but it **is** OK to use the constructor, even though `Integer.valueOf(int)` is better. The fact that there are better alternatives (where available -- please note that some people is still stuck on pre-1.5 environments for different reasons) does not mean that using the constructor is &quot;bad practice&quot;. And I still believe that my answer was clearer the way I wrote it.","body":"@ColinD: &quot;can lead to people thinking they&#39;re ok to do so&quot;? I&#39;m sorry, but it <b>is</b> OK to use the constructor, even though <code>Integer.valueOf(int)</code> is better. The fact that there are better alternatives (where available -- please note that some people is still stuck on pre-1.5 environments for different reasons) does not mean that using the constructor is &quot;bad practice&quot;. And I still believe that my answer was clearer the way I wrote it."}],"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"comment_count":7,"down_vote_count":6,"up_vote_count":112,"is_accepted":true,"score":106,"last_activity_date":1285693205,"creation_date":1285693205,"answer_id":3815194,"question_id":3815173,"body_markdown":"`Integer` objects are immutable, so you cannot modify the value once they have been created. You will need to create a new `Integer` and replace the existing one.\r\n\r\n    playerID = new Integer(playerID.intValue() + 1);\r\n","title":"Increment a Integer&#39;s int value?","body":"<p><code>Integer</code> objects are immutable, so you cannot modify the value once they have been created. You will need to create a new <code>Integer</code> and replace the existing one.</p>\n\n<pre><code>playerID = new Integer(playerID.intValue() + 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13372,"reputation":16082,"user_id":26816,"accept_rate":69,"display_name":"RHSeeger"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1285693388,"creation_date":1285693388,"answer_id":3815223,"question_id":3815173,"body_markdown":"Integer objects are immutable. You can&#39;t change the value of the integer held by the object itself, but you can just create a new Integer object to hold the result:\r\n\r\n    Integer start = new Integer(5);\r\n    Integer end = start + 5; // end == 10;","title":"Increment a Integer&#39;s int value?","body":"<p>Integer objects are immutable. You can't change the value of the integer held by the object itself, but you can just create a new Integer object to hold the result:</p>\n\n<pre><code>Integer start = new Integer(5);\nInteger end = start + 5; // end == 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1285693557,"creation_date":1285693557,"answer_id":3815244,"question_id":3815173,"body_markdown":"You can use IntHolder as mutable alternative to Integer. But does it worth? ","title":"Increment a Integer&#39;s int value?","body":"<p>You can use IntHolder as mutable alternative to Integer. But does it worth? </p>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"comment_count":0,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1285693583,"creation_date":1285693583,"answer_id":3815247,"question_id":3815173,"body_markdown":"As Grodriguez says, `Integer` objects are immutable. The problem here is that you&#39;re trying to increment the `int` value of the player ID rather than the ID itself. In Java 5+, you can just write `playerID++`.\r\n\r\nAs a side note, never ever call `Integer`&#39;s constructor. Take advantage of autoboxing by just assigning `int`s to `Integer`s directly, like `Integer foo = 5`. This will use `Integer.valueOf(int)` transparently, which is superior to the constructor because it doesn&#39;t always have to create a new object.","title":"Increment a Integer&#39;s int value?","body":"<p>As Grodriguez says, <code>Integer</code> objects are immutable. The problem here is that you're trying to increment the <code>int</code> value of the player ID rather than the ID itself. In Java 5+, you can just write <code>playerID++</code>.</p>\n\n<p>As a side note, never ever call <code>Integer</code>'s constructor. Take advantage of autoboxing by just assigning <code>int</code>s to <code>Integer</code>s directly, like <code>Integer foo = 5</code>. This will use <code>Integer.valueOf(int)</code> transparently, which is superior to the constructor because it doesn't always have to create a new object.</p>\n"},{"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":4,"creation_date":1452853160,"post_id":29069471,"comment_id":57359804,"body_markdown":"But be aware that other references to `i = new Integer(12)` will still refer to `12`, not `13`... easy to get tripped up on this one","body":"But be aware that other references to <code>i = new Integer(12)</code> will still refer to <code>12</code>, not <code>13</code>... easy to get tripped up on this one"},{"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"score":1,"creation_date":1452860053,"post_id":29069471,"comment_id":57363519,"body_markdown":"yeah thats why you have to reassign the value to the integer object: i = i++","body":"yeah thats why you have to reassign the value to the integer object: i = i++"},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":2,"creation_date":1494765076,"post_id":29069471,"comment_id":74957937,"body_markdown":"`i = i++` is not the same as `i++`. Technically, the `++` doesn&#39;t really work on integers I&#39;d say as you can&#39;t use it by itself without assigning the result to something.","body":"<code>i = i++</code> is not the same as <code>i++</code>. Technically, the <code>++</code> doesn&#39;t really work on integers I&#39;d say as you can&#39;t use it by itself without assigning the result to something."},{"owner":{"account_id":4438872,"reputation":124,"user_id":3613945,"accept_rate":80,"display_name":"clemep"},"score":2,"creation_date":1518466048,"post_id":29069471,"comment_id":84510100,"body_markdown":"you don&#39;t have to reassign! look:     \n\n        Integer foo = 5;\n        Integer bar = foo;\n        foo++;      \n        System.out.println(&quot;foo: &quot; + foo + &quot; bar: &quot; + bar);\n\noutputs:\n\nfoo: 6 bar: 5","body":"you don&#39;t have to reassign! look:               Integer foo = 5;         Integer bar = foo;         foo++;               System.out.println(&quot;foo: &quot; + foo + &quot; bar: &quot; + bar);  outputs:  foo: 6 bar: 5"}],"tags":[],"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"comment_count":4,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1426478567,"creation_date":1426478567,"answer_id":29069471,"question_id":3815173,"body_markdown":"For Java 7, increment operator &#39;++&#39; works on Integers. Below is a tested example\r\n\r\n\t\tInteger i = new Integer( 12 );\r\n\t\tSystem.out.println(i); //12\r\n\t\ti = i++;\r\n\t\tSystem.out.println(i); //13","title":"Increment a Integer&#39;s int value?","body":"<p>For Java 7, increment operator '++' works on Integers. Below is a tested example</p>\n\n<pre><code>    Integer i = new Integer( 12 );\n    System.out.println(i); //12\n    i = i++;\n    System.out.println(i); //13\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6717216,"reputation":373,"user_id":5178671,"accept_rate":50,"display_name":"Tejesh Raut"},"score":0,"creation_date":1640612844,"post_id":35479958,"comment_id":124615924,"body_markdown":"That&#39;s what I was looking for! This is very useful for calling integer by reference.","body":"That&#39;s what I was looking for! This is very useful for calling integer by reference."}],"tags":[],"owner":{"account_id":3444525,"reputation":3069,"user_id":2885656,"accept_rate":94,"display_name":"Software Craftsman"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1571038182,"creation_date":1455794276,"answer_id":35479958,"question_id":3815173,"body_markdown":"# `AtomicInteger`\r\n\r\nMaybe this is of some worth also: there is a Java class called [`AtomicInteger`][1].\r\n\r\nThis class has some useful methods like [`addAndGet(int delta)`][2] or [`incrementAndGet()`][3] (and their counterparts) which allow you to increment/decrement the value of the same instance. Though the class is designed to be used in the context of [concurrency][4], it&#39;s also quite useful in other scenarios and probably fits your need.\r\n\r\n    final AtomicInteger count = new AtomicInteger( 0 ) ;\r\n    …\r\n    count.incrementAndGet();  // Ignoring the return value. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#addAndGet(int)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#incrementAndGet()\r\n  [4]: https://en.wikipedia.org/wiki/Concurrency_(computer_science)","title":"Increment a Integer&#39;s int value?","body":"<h1><code>AtomicInteger</code></h1>\n\n<p>Maybe this is of some worth also: there is a Java class called <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"noreferrer\"><code>AtomicInteger</code></a>.</p>\n\n<p>This class has some useful methods like <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#addAndGet(int)\" rel=\"noreferrer\"><code>addAndGet(int delta)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/atomic/AtomicInteger.html#incrementAndGet()\" rel=\"noreferrer\"><code>incrementAndGet()</code></a> (and their counterparts) which allow you to increment/decrement the value of the same instance. Though the class is designed to be used in the context of <a href=\"https://en.wikipedia.org/wiki/Concurrency_(computer_science)\" rel=\"noreferrer\">concurrency</a>, it's also quite useful in other scenarios and probably fits your need.</p>\n\n<pre><code>final AtomicInteger count = new AtomicInteger( 0 ) ;\n…\ncount.incrementAndGet();  // Ignoring the return value. \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1792337,"reputation":1159,"user_id":1632448,"display_name":"fantouch"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499740388,"creation_date":1499740388,"answer_id":45024419,"question_id":3815173,"body_markdown":"Maybe you can try:\r\n\r\n    final AtomicInteger i = new AtomicInteger(0);\r\n    i.set(1);\r\n    i.get();\r\n","title":"Increment a Integer&#39;s int value?","body":"<p>Maybe you can try:</p>\n\n<pre><code>final AtomicInteger i = new AtomicInteger(0);\ni.set(1);\ni.get();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":1,"creation_date":1522586937,"post_id":48496545,"comment_id":86203572,"body_markdown":"This is IMHO the best answer as it demonstrates the `++i` function (on variable `i`; note that you could have wrote `i++` as well) and the `Integer` class immutability (on variable `iOrig`). Most other answers demonstrate only one of the two notions.","body":"This is IMHO the best answer as it demonstrates the <code>++i</code> function (on variable <code>i</code>; note that you could have wrote <code>i++</code> as well) and the <code>Integer</code> class immutability (on variable <code>iOrig</code>). Most other answers demonstrate only one of the two notions."}],"tags":[],"owner":{"account_id":1827880,"reputation":822,"user_id":1660127,"display_name":"vitvlkv"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1518468693,"creation_date":1517211737,"answer_id":48496545,"question_id":3815173,"body_markdown":"Java 7 and 8. Increment DOES change the reference, so it references to another Integer object. Look:\r\n\r\n    @Test\r\n    public void incInteger()\r\n    {\r\n        Integer i = 5;\r\n        Integer iOrig = i;\r\n        ++i; // Same as i = i + 1;\r\n        Assert.assertEquals(6, i.intValue());\r\n        Assert.assertNotEquals(iOrig, i);\r\n    }\r\n\r\nInteger by itself is still immutable.","title":"Increment a Integer&#39;s int value?","body":"<p>Java 7 and 8. Increment DOES change the reference, so it references to another Integer object. Look:</p>\n\n<pre><code>@Test\npublic void incInteger()\n{\n    Integer i = 5;\n    Integer iOrig = i;\n    ++i; // Same as i = i + 1;\n    Assert.assertEquals(6, i.intValue());\n    Assert.assertNotEquals(iOrig, i);\n}\n</code></pre>\n\n<p>Integer by itself is still immutable.</p>\n"},{"comments":[{"owner":{"account_id":1816391,"reputation":508,"user_id":2324063,"display_name":"gary"},"score":1,"creation_date":1573750294,"post_id":57563808,"comment_id":103994735,"body_markdown":"playerID = Integer.valueOf(playerID.intValue() + 1);\n\nA new Integer object is *not* always created.\n\nThe autoboxing spec: https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\n\nIf the value p being boxed is true, false, a byte, or a char in the range \\u0000 to \\u007f, or an int or short number between -128 and 127 (inclusive), then let r1 and r2 be the results of any two boxing conversions of p. It is always the case that r1 == r2.\n\nSince Java 7, https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.15.1 also applies to the ++ operator","body":"playerID = Integer.valueOf(playerID.intValue() + 1);  A new Integer object is <i>not</i> always created.  The autoboxing spec: <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1&zwnj;&#8203;.7</a>  If the value p being boxed is true, false, a byte, or a char in the range \\u0000 to \\u007f, or an int or short number between -128 and 127 (inclusive), then let r1 and r2 be the results of any two boxing conversions of p. It is always the case that r1 == r2.  Since Java 7, <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.15.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a> also applies to the ++ operator"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1573771452,"post_id":57563808,"comment_id":104004583,"body_markdown":"Got it, answer edited. Incrementing the Integer object `playerID++` results in something like `playerID = Integer.valueOf( playerID.intValue() + 1)` and according to the method&#39;s docs: This method will always cache values in the range -128 to 127, inclusive.","body":"Got it, answer edited. Incrementing the Integer object <code>playerID++</code> results in something like <code>playerID = Integer.valueOf( playerID.intValue() + 1)</code> and according to the method&#39;s docs: This method will always cache values in the range -128 to 127, inclusive."}],"tags":[],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573771438,"creation_date":1566247934,"answer_id":57563808,"question_id":3815173,"body_markdown":"All the primitive wrapper objects are immutable.\r\n\r\nI&#39;m maybe late to the question but I want to add and clarify that when you do `playerID++`, what really happens is something like this:\r\n\r\n    playerID = Integer.valueOf( playerID.intValue() + 1);\r\n\r\n\r\n[Integer.valueOf(int)][1] will always cache values in the range -128 to 127, inclusive, and **may** cache other values outside of this range.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#valueOf(int)","title":"Increment a Integer&#39;s int value?","body":"<p>All the primitive wrapper objects are immutable.</p>\n\n<p>I'm maybe late to the question but I want to add and clarify that when you do <code>playerID++</code>, what really happens is something like this:</p>\n\n<pre><code>playerID = Integer.valueOf( playerID.intValue() + 1);\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\">Integer.valueOf(int)</a> will always cache values in the range -128 to 127, inclusive, and <strong>may</strong> cache other values outside of this range.</p>\n"},{"tags":[],"owner":{"account_id":18271816,"reputation":537,"user_id":13302453,"display_name":"Harisudha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672233703,"creation_date":1672233703,"answer_id":74940791,"question_id":3815173,"body_markdown":"After Java 8, we can use as below\r\n\r\n    import java.lang.Math;\r\n    Math.incrementExact(playerID);\r\n    //it increment the integer value to + 1. It is also available for long\r\n\r\n","title":"Increment a Integer&#39;s int value?","body":"<p>After Java 8, we can use as below</p>\n<pre><code>import java.lang.Math;\nMath.incrementExact(playerID);\n//it increment the integer value to + 1. It is also available for long\n</code></pre>\n"}],"owner":{"account_id":24433,"reputation":8680,"user_id":62122,"accept_rate":79,"display_name":"William"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279140,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":3815194,"answer_count":10,"score":91,"last_activity_date":1672233703,"creation_date":1285693078,"question_id":3815173,"body_markdown":"How do I increment a Integer&#39;s value in Java? I know I can get the value with intValue, and I can set it with new Integer(int i).\r\n\r\n    playerID.intValue()++;\r\n\r\ndoes not seem to work.\r\n\r\nNote: PlayerID is a Integer that has been created with:\r\n\r\n    Integer playerID = new Integer(1);","title":"Increment a Integer&#39;s int value?","body":"<p>How do I increment a Integer's value in Java? I know I can get the value with intValue, and I can set it with new Integer(int i).</p>\n\n<pre><code>playerID.intValue()++;\n</code></pre>\n\n<p>does not seem to work.</p>\n\n<p>Note: PlayerID is a Integer that has been created with:</p>\n\n<pre><code>Integer playerID = new Integer(1);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-test","spring-micrometer"],"owner":{"account_id":1018719,"reputation":1232,"user_id":1029684,"accept_rate":52,"display_name":"ishan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672233691,"creation_date":1672233691,"question_id":74940788,"body_markdown":"I have a spring boot application and dependency added for io.micrometer.\r\n\r\nI started seeing the error messages in integration tests related to not being able to send metrices during the shutdown of the context:\r\n\r\n```ERROR i.m.influx.InfluxMeterRegistry@createDatabaseIfNecessary:117  - unable to create database &#39;mydb&#39;\r\njava.net.UnknownHostException: telegraf.system\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\r\n\tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\r\n\tat io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\r\n\tat io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\r\n\tat io.micrometer.influx.InfluxMeterRegistry.createDatabaseIfNecessary(InfluxMeterRegistry.java:111)\r\n\tat io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:123)\r\n\tat io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\r\n\tat io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:96)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:319)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)\r\n\tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[influx-metrics-publisher] ERROR i.m.influx.InfluxMeterRegistry@createDatabaseIfNecessary:117  - unable to create database &#39;mydb&#39;\r\njava.net.UnknownHostException: telegraf.system\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\r\n\tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\r\n\tat io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\r\n\tat io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\r\n\tat io.micrometer.influx.InfluxMeterRegistry.createDatabaseIfNecessary(InfluxMeterRegistry.java:111)\r\n\tat io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:123)\r\n\tat io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n[SpringApplicationShutdownHook] ERROR i.m.influx.InfluxMeterRegistry@publish:161  - failed to send metrics to influx\r\njava.net.UnknownHostException: telegraf.system\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\r\n\tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\r\n\tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\r\n\tat io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\r\n\tat io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\r\n\tat io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:147)\r\n\tat io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\r\n\tat io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:96)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:319)\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)\r\n\tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nDisconnected from the target VM, address: &#39;127.0.0.1:58220&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n\r\nI am trying to switch these annoying errors which are everywhere during test case execution.\r\n\r\nSo, while having `@ActiveProfiles(&quot;test&quot;)` on the test cases, I tried using these application properties in `application-test.yml` to try and switch off metrices.\r\n\r\n```\r\nserver:\r\n  port: 9090\r\n\r\nmanagement:\r\n  metrics:\r\n    export:\r\n      influx:\r\n        enabled: false\r\n  endpoint:\r\n    metrics:\r\n      enabled: false\r\n\r\nspring:\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n  cloud:\r\n    vault:\r\n      enabled: false\r\n    consul:\r\n      enabled: false\r\n  liquibase:\r\n    enabled: false\r\n  metrics:\r\n    influx:\r\n      enabled: false\r\n```\r\n\r\nBut this doesn&#39;t seem to work and I am still getting the error.\r\nWhat am I missing here ? How can ensure things related to metrices are switched off during test case execution ?","title":"Not sure why I am getting errors from micrometer influx in integration tests even after disabling metrices","body":"<p>I have a spring boot application and dependency added for io.micrometer.</p>\n<p>I started seeing the error messages in integration tests related to not being able to send metrices during the shutdown of the context:</p>\n<pre><code>java.net.UnknownHostException: telegraf.system\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\n    at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\n    at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\n    at io.micrometer.influx.InfluxMeterRegistry.createDatabaseIfNecessary(InfluxMeterRegistry.java:111)\n    at io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:123)\n    at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\n    at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:96)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:319)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)\n    at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n[influx-metrics-publisher] ERROR i.m.influx.InfluxMeterRegistry@createDatabaseIfNecessary:117  - unable to create database 'mydb'\njava.net.UnknownHostException: telegraf.system\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\n    at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\n    at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\n    at io.micrometer.influx.InfluxMeterRegistry.createDatabaseIfNecessary(InfluxMeterRegistry.java:111)\n    at io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:123)\n    at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.runAndReset$$$capture(FutureTask.java:305)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n[SpringApplicationShutdownHook] ERROR i.m.influx.InfluxMeterRegistry@publish:161  - failed to send metrics to influx\njava.net.UnknownHostException: telegraf.system\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:532)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:637)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:280)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:385)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:407)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)\n    at io.micrometer.core.ipc.http.HttpUrlConnectionSender.send(HttpUrlConnectionSender.java:98)\n    at io.micrometer.core.ipc.http.HttpSender$Request$Builder.send(HttpSender.java:305)\n    at io.micrometer.influx.InfluxMeterRegistry.publish(InfluxMeterRegistry.java:147)\n    at io.micrometer.core.instrument.push.PushMeterRegistry.publishSafely(PushMeterRegistry.java:54)\n    at io.micrometer.core.instrument.push.PushMeterRegistry.close(PushMeterRegistry.java:96)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.invokeCustomDestroyMethod(DisposableBeanAdapter.java:319)\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156)\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106)\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1075)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:174)\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021)\n    at org.springframework.boot.SpringApplicationShutdownHook.closeAndWait(SpringApplicationShutdownHook.java:145)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.boot.SpringApplicationShutdownHook.run(SpringApplicationShutdownHook.java:114)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nDisconnected from the target VM, address: '127.0.0.1:58220', transport: 'socket'\n\nProcess finished with exit code 0\n</code></pre>\n<p>I am trying to switch these annoying errors which are everywhere during test case execution.</p>\n<p>So, while having <code>@ActiveProfiles(&quot;test&quot;)</code> on the test cases, I tried using these application properties in <code>application-test.yml</code> to try and switch off metrices.</p>\n<pre><code>server:\n  port: 9090\n\nmanagement:\n  metrics:\n    export:\n      influx:\n        enabled: false\n  endpoint:\n    metrics:\n      enabled: false\n\nspring:\n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n  cloud:\n    vault:\n      enabled: false\n    consul:\n      enabled: false\n  liquibase:\n    enabled: false\n  metrics:\n    influx:\n      enabled: false\n</code></pre>\n<p>But this doesn't seem to work and I am still getting the error.\nWhat am I missing here ? How can ensure things related to metrices are switched off during test case execution ?</p>\n"},{"tags":["java","swing","awt","mouselistener"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672248072,"post_id":74940738,"comment_id":132251771,"body_markdown":"Generally, the solution is to create the largest image (maximum zoom-in) and reduce the size of the image for all the zoom-out steps.  This means your image size will change at each zoom level.  Keep the `JScrollPane` viewport the same size.","body":"Generally, the solution is to create the largest image (maximum zoom-in) and reduce the size of the image for all the zoom-out steps.  This means your image size will change at each zoom level.  Keep the <code>JScrollPane</code> viewport the same size."}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672233410,"creation_date":1672233410,"question_id":74940738,"body_markdown":"Below is a minimal reproducible code example in which you can zoom in and out with the scroll wheel and the size of the panel is auto adjusted.  \r\n\r\n\r\n```\r\npackage testpane;\r\nimport java.awt.event.MouseAdapter;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class TestPane \r\n{\r\n    public static Drawing d;\r\n    public static double zoomFactor = 1;\r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        JFrame f = new JFrame(&quot;Tree Diagram&quot;);\r\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        f.getContentPane().add(new TestPane().makeDiagram());\r\n        f.setSize(1600, 800);\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n    \r\n    public JComponent makeDiagram()\r\n    {\r\n        d = new Drawing();\r\n\r\n        MouseAdapter mouseAdapter = new TestPaneMouseListener();\r\n        d.addMouseListener(mouseAdapter);\r\n        d.addMouseMotionListener(mouseAdapter);\r\n        d.addMouseWheelListener(mouseAdapter);\r\n\r\n        return new JScrollPane(d);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage testpane;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.Rectangle;\r\nimport java.awt.geom.AffineTransform;\r\nimport javax.swing.JPanel;\r\nimport static testpane.TestPane.zoomFactor;\r\n\r\npublic class Drawing extends JPanel\r\n{\r\n    private final AffineTransform zoomTransform = new AffineTransform();\r\n    private final Rectangle rect = new Rectangle(1600, 800);\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n    private double prevZoomFactor = 1;\r\n    \r\n    public Drawing()\r\n    {\r\n        Font currentFont = getFont();\r\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 25F);\r\n        setFont(newFont);\r\n        setBackground(Color.WHITE);\r\n    }\r\n    \r\n    public void setZoomFactor(double zoomFactor) \r\n    {\r\n        zoomTransform.scale(zoomFactor, zoomFactor);\r\n        revalidate();\r\n        repaint();\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) \r\n    {\r\n        super.paintComponent(g);\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        AffineTransform scrollTransform = g2d.getTransform();\r\n        \r\n        double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\r\n        double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\r\n        \r\n        double zoomDiv = zoomFactor / prevZoomFactor;\r\n\r\n        xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\r\n        yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\r\n        \r\n        prevZoomFactor = zoomFactor;\r\n\r\n        scrollTransform.translate((int)xOffset, (int)yOffset);\r\n\r\n        scrollTransform.concatenate(zoomTransform);\r\n        \r\n        g2d.setTransform(scrollTransform);\r\n\r\n        g2d.drawString(&quot;Example&quot;, 300, 400);\r\n            \r\n        g2d.dispose();\r\n    }\r\n    \r\n    @Override\r\n        public Dimension getPreferredSize() \r\n        {\r\n            Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\r\n            return new Dimension(r.width, r.height);\r\n        }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage testpane;\r\nimport java.awt.Component;\r\nimport java.awt.Container;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseWheelEvent;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JViewport;\r\nimport javax.swing.SwingUtilities;\r\nimport static testpane.TestPane.d;\r\nimport static testpane.TestPane.zoomFactor;\r\n\r\npublic class TestPaneMouseListener extends MouseAdapter\r\n{ \r\n    private final Point origin = new Point();\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent e) \r\n    {\r\n        Component c = e.getComponent();\r\n        Container p = SwingUtilities.getUnwrappedParent(c);\r\n        if (p instanceof JViewport) \r\n        {\r\n            JViewport viewport = (JViewport) p;\r\n            Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n            Point vp = viewport.getViewPosition();\r\n            vp.translate(origin.x - cp.x, origin.y - cp.y);\r\n            ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\r\n            origin.setLocation(cp);\r\n        }\r\n    }\r\n\r\n   @Override\r\n   public void mousePressed(MouseEvent e) \r\n   {\r\n       Component c = e.getComponent();\r\n       Container p = SwingUtilities.getUnwrappedParent(c);\r\n       if(p instanceof JViewport) \r\n       {\r\n           JViewport viewport = (JViewport) p;\r\n           Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n           origin.setLocation(cp);\r\n       }\r\n   }\r\n   \r\n   @Override\r\n    public void mouseWheelMoved(MouseWheelEvent e) \r\n    {\r\n        if(e.getWheelRotation()&lt;0)\r\n        {\r\n            d.setZoomFactor(1.05);\r\n            zoomFactor*=1.05;\r\n        }\r\n        \r\n        if(e.getWheelRotation()&gt;0)\r\n        {\r\n            d.setZoomFactor(1/1.05);\r\n            zoomFactor/=1.05;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am aware that there are others who have asked the same exact question, but I&#39;m having troubles implementing their solution into my code. I actually have no issues with the zooming itself, but what occurs after the zooming is a problem. As I zoom in more and more, I eventually lose part of the &quot;Example&quot; text which is written on the scroll panel. I realized that I need to translate the Panel in the opposite direction after the initial offset translation and zooming, but even after putting in the code for translating with the negatives of &quot;xOffset&quot; and &quot;yOffset&quot;, I still lose part of the &quot;Example&quot; text I&#39;ve written. Is an additional translation what I need to fix this problem, or would it be better to use a Viewport to specify the position of the Scroll panel that I want to see after the transformation is done? ","title":"Zooming in/out relative to the position of the mouse","body":"<p>Below is a minimal reproducible code example in which you can zoom in and out with the scroll wheel and the size of the panel is auto adjusted.</p>\n<pre><code>package testpane;\nimport java.awt.event.MouseAdapter;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.WindowConstants;\n\npublic class TestPane \n{\n    public static Drawing d;\n    public static double zoomFactor = 1;\n    \n    public static void main(String[] args) \n    {\n        JFrame f = new JFrame(&quot;Tree Diagram&quot;);\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        f.getContentPane().add(new TestPane().makeDiagram());\n        f.setSize(1600, 800);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n    \n    public JComponent makeDiagram()\n    {\n        d = new Drawing();\n\n        MouseAdapter mouseAdapter = new TestPaneMouseListener();\n        d.addMouseListener(mouseAdapter);\n        d.addMouseMotionListener(mouseAdapter);\n        d.addMouseWheelListener(mouseAdapter);\n\n        return new JScrollPane(d);\n    }\n}\n</code></pre>\n<pre><code>package testpane;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.MouseInfo;\nimport java.awt.Rectangle;\nimport java.awt.geom.AffineTransform;\nimport javax.swing.JPanel;\nimport static testpane.TestPane.zoomFactor;\n\npublic class Drawing extends JPanel\n{\n    private final AffineTransform zoomTransform = new AffineTransform();\n    private final Rectangle rect = new Rectangle(1600, 800);\n    private double xOffset = 0;\n    private double yOffset = 0;\n    private double prevZoomFactor = 1;\n    \n    public Drawing()\n    {\n        Font currentFont = getFont();\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 25F);\n        setFont(newFont);\n        setBackground(Color.WHITE);\n    }\n    \n    public void setZoomFactor(double zoomFactor) \n    {\n        zoomTransform.scale(zoomFactor, zoomFactor);\n        revalidate();\n        repaint();\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) \n    {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        AffineTransform scrollTransform = g2d.getTransform();\n        \n        double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\n        double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\n        \n        double zoomDiv = zoomFactor / prevZoomFactor;\n\n        xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\n        yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\n        \n        prevZoomFactor = zoomFactor;\n\n        scrollTransform.translate((int)xOffset, (int)yOffset);\n\n        scrollTransform.concatenate(zoomTransform);\n        \n        g2d.setTransform(scrollTransform);\n\n        g2d.drawString(&quot;Example&quot;, 300, 400);\n            \n        g2d.dispose();\n    }\n    \n    @Override\n        public Dimension getPreferredSize() \n        {\n            Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\n            return new Dimension(r.width, r.height);\n        }\n}\n\n</code></pre>\n<pre><code>package testpane;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport javax.swing.JComponent;\nimport javax.swing.JViewport;\nimport javax.swing.SwingUtilities;\nimport static testpane.TestPane.d;\nimport static testpane.TestPane.zoomFactor;\n\npublic class TestPaneMouseListener extends MouseAdapter\n{ \n    private final Point origin = new Point();\n\n    @Override\n    public void mouseDragged(MouseEvent e) \n    {\n        Component c = e.getComponent();\n        Container p = SwingUtilities.getUnwrappedParent(c);\n        if (p instanceof JViewport) \n        {\n            JViewport viewport = (JViewport) p;\n            Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n            Point vp = viewport.getViewPosition();\n            vp.translate(origin.x - cp.x, origin.y - cp.y);\n            ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\n            origin.setLocation(cp);\n        }\n    }\n\n   @Override\n   public void mousePressed(MouseEvent e) \n   {\n       Component c = e.getComponent();\n       Container p = SwingUtilities.getUnwrappedParent(c);\n       if(p instanceof JViewport) \n       {\n           JViewport viewport = (JViewport) p;\n           Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n           origin.setLocation(cp);\n       }\n   }\n   \n   @Override\n    public void mouseWheelMoved(MouseWheelEvent e) \n    {\n        if(e.getWheelRotation()&lt;0)\n        {\n            d.setZoomFactor(1.05);\n            zoomFactor*=1.05;\n        }\n        \n        if(e.getWheelRotation()&gt;0)\n        {\n            d.setZoomFactor(1/1.05);\n            zoomFactor/=1.05;\n        }\n    }\n}\n</code></pre>\n<p>I am aware that there are others who have asked the same exact question, but I'm having troubles implementing their solution into my code. I actually have no issues with the zooming itself, but what occurs after the zooming is a problem. As I zoom in more and more, I eventually lose part of the &quot;Example&quot; text which is written on the scroll panel. I realized that I need to translate the Panel in the opposite direction after the initial offset translation and zooming, but even after putting in the code for translating with the negatives of &quot;xOffset&quot; and &quot;yOffset&quot;, I still lose part of the &quot;Example&quot; text I've written. Is an additional translation what I need to fix this problem, or would it be better to use a Viewport to specify the position of the Scroll panel that I want to see after the transformation is done?</p>\n"},{"tags":["java","casting","kotlin"],"comments":[{"owner":{"account_id":3786966,"reputation":32456,"user_id":3144601,"accept_rate":75,"display_name":"voddan"},"score":1,"creation_date":1482146279,"post_id":41219748,"comment_id":69641314,"body_markdown":"You need to use kotlin reflection for this somehow. Java reflection won&#39;t work","body":"You need to use kotlin reflection for this somehow. Java reflection won&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":3186638,"reputation":1975,"user_id":2692102,"accept_rate":93,"display_name":"Hanzala"},"score":0,"creation_date":1602139185,"post_id":41222239,"comment_id":113626647,"body_markdown":"what about `inline fun &lt;reified T:Any&gt; Any.cast() = this as? T`","body":"what about <code>inline fun &lt;reified T:Any&gt; Any.cast() = this as? T</code>"}],"tags":[],"owner":{"account_id":305249,"reputation":42705,"user_id":615306,"accept_rate":51,"display_name":"Kirill Rakhman"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1511398091,"creation_date":1482149211,"answer_id":41222239,"question_id":41219748,"body_markdown":"Try to change your code to\r\n\r\n    fun &lt;T: Any&gt; cast(any: Any, clazz: KClass&lt;out T&gt;): T = clazz.javaObjectType.cast(any) \r\n\r\n## Explanation\r\n\r\nBecause the type of the parameter `any` is `Any`, it&#39;s always a reference type and primitives will be boxed. For the second parameter, it seems that Kotlin reflection will prefer primitive types to reference types, which is why `Int::class.java` will default to `&#236;nt`, not `Integer`. By using `javaObjectType` we force the usage of the boxed reference type.\r\n\r\n## Alternative\r\n\r\nYou could also use the following function definition:\r\n\r\n    inline fun &lt;reified T: Any&gt; cast(any: Any): T = T::class.javaObjectType.cast(any) \r\n    \r\n    // usage\r\n    \r\n    cast&lt;Int&gt;(0)\r\n","title":"Dynamic cast in Kotlin","body":"<p>Try to change your code to</p>\n\n<pre><code>fun &lt;T: Any&gt; cast(any: Any, clazz: KClass&lt;out T&gt;): T = clazz.javaObjectType.cast(any) \n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>Because the type of the parameter <code>any</code> is <code>Any</code>, it's always a reference type and primitives will be boxed. For the second parameter, it seems that Kotlin reflection will prefer primitive types to reference types, which is why <code>Int::class.java</code> will default to <code>ìnt</code>, not <code>Integer</code>. By using <code>javaObjectType</code> we force the usage of the boxed reference type.</p>\n\n<h2>Alternative</h2>\n\n<p>You could also use the following function definition:</p>\n\n<pre><code>inline fun &lt;reified T: Any&gt; cast(any: Any): T = T::class.javaObjectType.cast(any) \n\n// usage\n\ncast&lt;Int&gt;(0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4509047,"reputation":3905,"user_id":3665698,"display_name":"mcoolive"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1672233229,"creation_date":1584212227,"answer_id":60686284,"question_id":41219748,"body_markdown":"As pointed by @voddan, Java reflection does not work here. It&#39;s because, from Java point of view, there is no relation between `java.lang.Integer` and `kotlin.Int`. \r\n\r\n\r\nKirill Rakhman &#39;s answer works very well for non-nullable type. But we cannot have T::class if T is nullable. So I suggest the following to deal with nullable type (I am not sure why the question say any solution except `as`...)\r\n\r\n\r\n    inline fun &lt;reified T&gt; cast(any: Any?): T = any as T\r\n\r\nUsage\r\n\r\n    val l32: Number = cast(32L)\r\n    val ln1: Number? = cast(null) // works\r\n    val ln2: Number = cast(null) // fails at runtime\r\n\r\n","title":"Dynamic cast in Kotlin","body":"<p>As pointed by @voddan, Java reflection does not work here. It's because, from Java point of view, there is no relation between <code>java.lang.Integer</code> and <code>kotlin.Int</code>.</p>\n<p>Kirill Rakhman 's answer works very well for non-nullable type. But we cannot have T::class if T is nullable. So I suggest the following to deal with nullable type (I am not sure why the question say any solution except <code>as</code>...)</p>\n<pre><code>inline fun &lt;reified T&gt; cast(any: Any?): T = any as T\n</code></pre>\n<p>Usage</p>\n<pre><code>val l32: Number = cast(32L)\nval ln1: Number? = cast(null) // works\nval ln2: Number = cast(null) // fails at runtime\n</code></pre>\n"}],"owner":{"account_id":9570476,"reputation":857,"user_id":7108266,"accept_rate":100,"display_name":"mmorihiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10791,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41222239,"answer_count":2,"score":12,"last_activity_date":1672233229,"creation_date":1482140851,"question_id":41219748,"body_markdown":"I want to cast `Any` to `Int` by using `KClass&lt;Int&gt;`, having a `KClass&lt;Int&gt;` and a `Any` which is actually `Int`.\r\n\r\n    fun &lt;T&gt; cast(any: Any, clazz: KClass&lt;*&gt;): T = clazz.java.cast(any) \r\n\r\n    cast(0, Int::class)\r\n\r\nHowever, I got this error.\r\n&gt; java.lang.ClassCastException: Cannot cast java.lang.Integer to int\r\n\r\nDo you know any solution except `any as Int`?\r\n","title":"Dynamic cast in Kotlin","body":"<p>I want to cast <code>Any</code> to <code>Int</code> by using <code>KClass&lt;Int&gt;</code>, having a <code>KClass&lt;Int&gt;</code> and a <code>Any</code> which is actually <code>Int</code>.</p>\n\n<pre><code>fun &lt;T&gt; cast(any: Any, clazz: KClass&lt;*&gt;): T = clazz.java.cast(any) \n\ncast(0, Int::class)\n</code></pre>\n\n<p>However, I got this error.</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: Cannot cast java.lang.Integer to int</p>\n</blockquote>\n\n<p>Do you know any solution except <code>any as Int</code>?</p>\n"},{"tags":["java","class","hashmap"],"comments":[{"owner":{"account_id":17849762,"reputation":104,"user_id":12965752,"display_name":"Bhushan"},"score":0,"creation_date":1672232193,"post_id":74940489,"comment_id":132246898,"body_markdown":"Declare your  HashMap&lt;String, Integer&gt; as static and try to use with class name.","body":"Declare your  HashMap&lt;String, Integer&gt; as static and try to use with class name."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1672232564,"post_id":74940489,"comment_id":132246993,"body_markdown":"*&quot;I need to use the method `listSupplies()`&quot;* - this method in not present in the code you&#39;ve shared.","body":"<i>&quot;I need to use the method <code>listSupplies()</code>&quot;</i> - this method in not present in the code you&#39;ve shared."},{"owner":{"account_id":23908428,"reputation":51,"user_id":17905701,"display_name":"emcosokic"},"score":0,"creation_date":1672232599,"post_id":74940489,"comment_id":132246999,"body_markdown":"@AlexanderIvanchenko my bad, meant viewSupplies()","body":"@AlexanderIvanchenko my bad, meant viewSupplies()"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1672233679,"post_id":74940489,"comment_id":132247290,"body_markdown":"It&#39;s not clear, why would you need two Maps with the same information to begin with? (besides the fact that the Map of the newly created `Stock` would be empty)","body":"It&#39;s not clear, why would you need two Maps with the same information to begin with? (besides the fact that the Map of the newly created <code>Stock</code> would be empty)"}],"answers":[{"comments":[{"owner":{"account_id":23908428,"reputation":51,"user_id":17905701,"display_name":"emcosokic"},"score":0,"creation_date":1672233063,"post_id":74940612,"comment_id":132247120,"body_markdown":"That code worked. And yes, now I can remove the HashMap. What I did to make this work is I changed the constructor of Employee to public Employee(int id, String n, String pho, String pa, Stock sId){...}. This way I can access the information stored with an instance of Stock. Thank you very much","body":"That code worked. And yes, now I can remove the HashMap. What I did to make this work is I changed the constructor of Employee to public Employee(int id, String n, String pho, String pa, Stock sId){...}. This way I can access the information stored with an instance of Stock. Thank you very much"}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672233227,"creation_date":1672232637,"answer_id":74940612,"question_id":74940489,"body_markdown":"You already have the reference to the `stock` instance in the `Employee` class. You can get the stock&#39;s `product` and use it.\r\n\r\n\r\n```\r\npublic void viewSupplies() {\r\n    Map&lt;String, Integer&gt; products = stock.getProducts();\r\n    for (String key : products.keySet()){\r\n        System.out.println(key + &quot;: &quot; + products.get(key));\r\n    }\r\n}\r\n```\r\n\r\nWith this, I don&#39;t think you would have the need to maintain a HashMap in the Employee class. Also, it is recommended to make the `products` field `private` in the `Stock` class.","title":"How do I use HashMap values from other class?","body":"<p>You already have the reference to the <code>stock</code> instance in the <code>Employee</code> class. You can get the stock's <code>product</code> and use it.</p>\n<pre><code>public void viewSupplies() {\n    Map&lt;String, Integer&gt; products = stock.getProducts();\n    for (String key : products.keySet()){\n        System.out.println(key + &quot;: &quot; + products.get(key));\n    }\n}\n</code></pre>\n<p>With this, I don't think you would have the need to maintain a HashMap in the Employee class. Also, it is recommended to make the <code>products</code> field <code>private</code> in the <code>Stock</code> class.</p>\n"}],"owner":{"account_id":23908428,"reputation":51,"user_id":17905701,"display_name":"emcosokic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74940612,"answer_count":1,"score":-1,"last_activity_date":1672233227,"creation_date":1672231917,"question_id":74940489,"body_markdown":"I need to access the values from one class within another class. In this example, I need to use the method .viewSupplies(); to list out all the values from the HashMap from the other class, Stock.java. Here&#39;s the code so far: \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class Employee {\r\n        private int ID;\r\n        private String name;\r\n        private String phoneNumber;\r\n        private String username;\r\n        private String password;\r\n        private Stock stock;\r\n        HashMap&lt;String, Integer&gt; pro;\r\n\r\n    public Employee(int id, String n, String pho, String u, String pa, int sId){\r\n        this.ID=id;\r\n        this.name = n;\r\n        this.phoneNumber=pho;\r\n        this.username=u;\r\n        this.password=pa;\r\n        this.stock = new Stock(sId);\r\n        this.pro =  stock.products;\r\n        for(String k : stock.getProducts().keySet()){\r\n            pro.put(k, stock.getProducts().get(k));\r\n        }\r\n    }\r\n\r\n\r\n    public void viewSupplies(){\r\n        for (String key : pro.keySet()){\r\n            System.out.println(key + &quot;: &quot; + pro.get(key));\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nAnd here&#39;s Stock.java: \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class Stock {\r\n    private int id;\r\n    public HashMap&lt;String, Integer&gt; products;\r\n\r\n    public Stock(int i){\r\n        this.id = i;\r\n        this.products = new HashMap&lt;String, Integer&gt;();\r\n    }\r\n\r\n    public void addProduct(String pName, int quantity){\r\n        if(!products.containsKey(pName)){\r\n            System.out.println(&quot;Error! Product not found.&quot;);\r\n        }\r\n        else{\r\n            products.put(pName, quantity );\r\n        }\r\n    }\r\n\r\n    public void deleteProduct(String pName) {\r\n        if (!products.containsKey(pName)) {\r\n            System.out.println(&quot;Error! Product not found.&quot;);\r\n        } else {\r\n            products.remove(pName);\r\n        }\r\n    }\r\n\r\n    public void regProduct(String pName){\r\n        products.put(pName, 0);\r\n    }\r\n\r\n    public void takeProduct(String pName, int quantity) {\r\n        if(!products.containsKey(pName)){\r\n            System.out.println(&quot;Error! Product not found.&quot;);\r\n        }\r\n        else {\r\n            products.put(pName, products.get(pName) - quantity);\r\n        }\r\n    }\r\n\r\n    public void listProducts(){\r\n        for (Map.Entry&lt;String, Integer&gt; p : products.entrySet()){\r\n            System.out.println(p.getKey() + &quot;: &quot; + p.getValue());\r\n        }\r\n    }\r\n\r\n    public void findProduct(String pName){\r\n        if(products.containsKey(pName)){\r\n            System.out.println(pName + &quot;: &quot; + products.get(pName));\r\n        }\r\n        else{\r\n            System.out.println(&quot;Error! Product not found.&quot;);\r\n        }\r\n    }\r\n\r\n    public HashMap&lt;String, Integer&gt; getProducts(){\r\n        return products;\r\n    }\r\n\r\n  \r\n\r\nAs you can see, I do not know how to get keys and values from the public HashMap products from Stock in Employee.\r\n","title":"How do I use HashMap values from other class?","body":"<p>I need to access the values from one class within another class. In this example, I need to use the method .viewSupplies(); to list out all the values from the HashMap from the other class, Stock.java. Here's the code so far:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Employee {\n    private int ID;\n    private String name;\n    private String phoneNumber;\n    private String username;\n    private String password;\n    private Stock stock;\n    HashMap&lt;String, Integer&gt; pro;\n\npublic Employee(int id, String n, String pho, String u, String pa, int sId){\n    this.ID=id;\n    this.name = n;\n    this.phoneNumber=pho;\n    this.username=u;\n    this.password=pa;\n    this.stock = new Stock(sId);\n    this.pro =  stock.products;\n    for(String k : stock.getProducts().keySet()){\n        pro.put(k, stock.getProducts().get(k));\n    }\n}\n\n\npublic void viewSupplies(){\n    for (String key : pro.keySet()){\n        System.out.println(key + &quot;: &quot; + pro.get(key));\n    }\n}\n</code></pre>\n<p>}</p>\n<p>And here's Stock.java:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Stock {\nprivate int id;\npublic HashMap&lt;String, Integer&gt; products;\n\npublic Stock(int i){\n    this.id = i;\n    this.products = new HashMap&lt;String, Integer&gt;();\n}\n\npublic void addProduct(String pName, int quantity){\n    if(!products.containsKey(pName)){\n        System.out.println(&quot;Error! Product not found.&quot;);\n    }\n    else{\n        products.put(pName, quantity );\n    }\n}\n\npublic void deleteProduct(String pName) {\n    if (!products.containsKey(pName)) {\n        System.out.println(&quot;Error! Product not found.&quot;);\n    } else {\n        products.remove(pName);\n    }\n}\n\npublic void regProduct(String pName){\n    products.put(pName, 0);\n}\n\npublic void takeProduct(String pName, int quantity) {\n    if(!products.containsKey(pName)){\n        System.out.println(&quot;Error! Product not found.&quot;);\n    }\n    else {\n        products.put(pName, products.get(pName) - quantity);\n    }\n}\n\npublic void listProducts(){\n    for (Map.Entry&lt;String, Integer&gt; p : products.entrySet()){\n        System.out.println(p.getKey() + &quot;: &quot; + p.getValue());\n    }\n}\n\npublic void findProduct(String pName){\n    if(products.containsKey(pName)){\n        System.out.println(pName + &quot;: &quot; + products.get(pName));\n    }\n    else{\n        System.out.println(&quot;Error! Product not found.&quot;);\n    }\n}\n\npublic HashMap&lt;String, Integer&gt; getProducts(){\n    return products;\n}\n</code></pre>\n<p>As you can see, I do not know how to get keys and values from the public HashMap products from Stock in Employee.</p>\n"},{"tags":["java","maven-3","jndi","websphere-9"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672234843,"post_id":74940707,"comment_id":132247622,"body_markdown":"Why is the datasource accessed while creating the ear? Show the error being thrown. I suspect you are calling `getConnection(username, password)` somewhere instead of `getConnection()` leading to this.","body":"Why is the datasource accessed while creating the ear? Show the error being thrown. I suspect you are calling <code>getConnection(username, password)</code> somewhere instead of <code>getConnection()</code> leading to this."}],"owner":{"account_id":18023459,"reputation":21,"user_id":13100066,"display_name":"Varun Choudhry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672233183,"creation_date":1672233183,"question_id":74940707,"body_markdown":"I am trying to use JNDI lookup to access a Datasource defined in WebSphere 9. The datasource is being accessed while the EAR file is being generated using maven. Initially it was using Basic DataSource however I want to remove the datasource credentials from the Java Code. The Datasource in WebSphere has authentication alias setup. Is there a way to do the lookup without specifying the username/password for the DataSource? \r\n\r\n\r\n\r\nI was trying to use JNDI lookup as shown in the attached code however it was giving the error **Null userid is not supported.** \r\n\r\n```\r\npublic DataSource getDataSource() throws NamingException\r\n\t{\t\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\r\n\t\tproperties.put(Context.PROVIDER_URL, &quot;iiop://myip:2809&quot;);\r\n\t\tContext initContext = new InitialContext(properties);\r\n\t\treturn dataSource = (DataSource)initContext.lookup(&quot;jdbc/myDataSource&quot;); \r\n\t\t\r\n\t}\r\n```\r\n","title":"How to setup WebSphere JNDI Lookup without Datasource Credentials in Java","body":"<p>I am trying to use JNDI lookup to access a Datasource defined in WebSphere 9. The datasource is being accessed while the EAR file is being generated using maven. Initially it was using Basic DataSource however I want to remove the datasource credentials from the Java Code. The Datasource in WebSphere has authentication alias setup. Is there a way to do the lookup without specifying the username/password for the DataSource?</p>\n<p>I was trying to use JNDI lookup as shown in the attached code however it was giving the error <strong>Null userid is not supported.</strong></p>\n<pre><code>public DataSource getDataSource() throws NamingException\n    {   \n        Properties properties = new Properties();\n        properties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.ibm.websphere.naming.WsnInitialContextFactory&quot;);\n        properties.put(Context.PROVIDER_URL, &quot;iiop://myip:2809&quot;);\n        Context initContext = new InitialContext(properties);\n        return dataSource = (DataSource)initContext.lookup(&quot;jdbc/myDataSource&quot;); \n        \n    }\n</code></pre>\n"},{"tags":["java","swi-prolog","jpl"],"owner":{"account_id":27374023,"reputation":11,"user_id":20879647,"display_name":"sandika dassanayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672232025,"creation_date":1672232025,"question_id":74940500,"body_markdown":"When I use JPL (from JavaSE 1.8), Prolog (SWI-Prolog version 8.2.4) it return an error message . E.g. when using consult and the file has errors:\r\n\r\n```\r\nERROR: c:/program files/swipl/library/jpl.pl:5428:\r\nERROR:    &#39;$open_shared_object&#39;/3: The specified module could not be found.\r\n\r\nERROR: c:/program files/swipl/library/jpl.pl:5428:\r\nERROR:    c:/program files/swipl/library/jpl.pl:5428: Initialization goal raised exception:\r\nERROR:    jpl:jpl_get_default_jvm_opts/1: Unknown procedure: jpl:jni_get_default_jvm_opts/1\r\nERROR: c:/users/kt356/onedrive/desktop/system/medical expert system.pl:4:\r\nERROR:    Exported procedure jpl:jpl_c_lib_version/1 is not defined\r\n```\r\n\r\n\r\nWhat can I do so that to resolve this error?","title":"Retrieving Error messages from SWI-Prolog using java and jpl","body":"<p>When I use JPL (from JavaSE 1.8), Prolog (SWI-Prolog version 8.2.4) it return an error message . E.g. when using consult and the file has errors:</p>\n<pre><code>ERROR: c:/program files/swipl/library/jpl.pl:5428:\nERROR:    '$open_shared_object'/3: The specified module could not be found.\n\nERROR: c:/program files/swipl/library/jpl.pl:5428:\nERROR:    c:/program files/swipl/library/jpl.pl:5428: Initialization goal raised exception:\nERROR:    jpl:jpl_get_default_jvm_opts/1: Unknown procedure: jpl:jni_get_default_jvm_opts/1\nERROR: c:/users/kt356/onedrive/desktop/system/medical expert system.pl:4:\nERROR:    Exported procedure jpl:jpl_c_lib_version/1 is not defined\n</code></pre>\n<p>What can I do so that to resolve this error?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1501845327,"post_id":45505384,"comment_id":77971386,"body_markdown":"Is there something wrong with just iterating though the file?","body":"Is there something wrong with just iterating though the file?"},{"owner":{"account_id":3076776,"reputation":1444,"user_id":2605902,"accept_rate":62,"display_name":"Stimpson Cat"},"score":0,"creation_date":1501845452,"post_id":45505384,"comment_id":77971486,"body_markdown":"You must code that. openCSV has everything you need. Read it row by row and test the value of the column like this value.equalsIgnoreCase(&quot;23456&quot;)","body":"You must code that. openCSV has everything you need. Read it row by row and test the value of the column like this value.equalsIgnoreCase(&quot;23456&quot;)"},{"owner":{"account_id":2458107,"reputation":1484,"user_id":2142786,"accept_rate":29,"display_name":"user2142786"},"score":0,"creation_date":1501845574,"post_id":45505384,"comment_id":77971555,"body_markdown":"Thing is i don&#39;t want to iterate. Because if my file has 1000 records then to get a row which is on 999th position i have to iterate 998 records which is not a performent solution.","body":"Thing is i don&#39;t want to iterate. Because if my file has 1000 records then to get a row which is on 999th position i have to iterate 998 records which is not a performent solution."},{"owner":{"account_id":2399020,"reputation":856,"user_id":2097191,"accept_rate":71,"display_name":"Obenland"},"score":0,"creation_date":1501845830,"post_id":45505384,"comment_id":77971712,"body_markdown":"Is your CSV sorted by ProductID? Then you can do some kind of binary search. If not you have to iterate because how do you know this row is on 999th row? Only when you check all 998 rows before.","body":"Is your CSV sorted by ProductID? Then you can do some kind of binary search. If not you have to iterate because how do you know this row is on 999th row? Only when you check all 998 rows before."},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":2,"creation_date":1501846124,"post_id":45505384,"comment_id":77971895,"body_markdown":"CSV isn&#39;t a database, you&#39;ll need to iterate through it.","body":"CSV isn&#39;t a database, you&#39;ll need to iterate through it."}],"answers":[{"comments":[{"owner":{"account_id":2458107,"reputation":1484,"user_id":2142786,"accept_rate":29,"display_name":"user2142786"},"score":1,"creation_date":1501847501,"post_id":45505622,"comment_id":77972808,"body_markdown":"The method Iterator() is undefined for the type CsvReader. I&#39;m using below library import com.csvreader.CsvReader;\nimport com.csvreader.CsvWriter;","body":"The method Iterator() is undefined for the type CsvReader. I&#39;m using below library import com.csvreader.CsvReader; import com.csvreader.CsvWriter;"},{"owner":{"account_id":11253707,"reputation":396,"user_id":8254149,"accept_rate":75,"display_name":"Alexander Kr&#228;mer"},"score":0,"creation_date":1501847606,"post_id":45505622,"comment_id":77972879,"body_markdown":"Google CsvReader, youll find the Java Documentation on it, there you find the method iterator whivh should give you String arrays.","body":"Google CsvReader, youll find the Java Documentation on it, there you find the method iterator whivh should give you String arrays."},{"owner":{"account_id":11253707,"reputation":396,"user_id":8254149,"accept_rate":75,"display_name":"Alexander Kr&#228;mer"},"score":0,"creation_date":1501847677,"post_id":45505622,"comment_id":77972924,"body_markdown":"The code was thrown together just as something to show you for understanding, not for exact copy pasting","body":"The code was thrown together just as something to show you for understanding, not for exact copy pasting"},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1501853114,"post_id":45505622,"comment_id":77976770,"body_markdown":"There seems to be multiple Java &quot;implementations&quot; of CsvReader; maybe your answer should specify which one you are using?","body":"There seems to be multiple Java &quot;implementations&quot; of CsvReader; maybe your answer should specify which one you are using?"}],"tags":[],"owner":{"account_id":11253707,"reputation":396,"user_id":8254149,"accept_rate":75,"display_name":"Alexander Kr&#228;mer"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501845964,"creation_date":1501845964,"answer_id":45505622,"question_id":45505384,"body_markdown":"    Iterator iterator = CsvReader(&quot;D:\\\\products.csv&quot;).Iterator();\r\n    while(iterator.hasNext()){\r\n        if((String[] string = (iterator.next))[0] == 23456)\r\n            sout(&quot;Found the row: &quot; + string[0] + &quot;, &quot; + string[1] + &quot;, &quot; + string[2] + &quot;, &quot; + string[3] + &quot;, &quot; + string[4]);\r\n    }\r\n    \r\nAnd regarding your concern about performance:\r\n\r\n\r\n1. with 1.000 elements this will still be way faster than you need it to be, worry when you get to 1.000.000 elements\r\n\r\n2. If you want the reading of the Csv to be performant you gotta use a performant way of storing your IDs. If you are just incrementing your IDs everytime a new one is made and never delete an ID you can use the ID as an index to directly  get the correct line.","title":"Read specific row in csv","body":"<pre><code>Iterator iterator = CsvReader(\"D:\\\\products.csv\").Iterator();\nwhile(iterator.hasNext()){\n    if((String[] string = (iterator.next))[0] == 23456)\n        sout(\"Found the row: \" + string[0] + \", \" + string[1] + \", \" + string[2] + \", \" + string[3] + \", \" + string[4]);\n}\n</code></pre>\n\n<p>And regarding your concern about performance:</p>\n\n<ol>\n<li><p>with 1.000 elements this will still be way faster than you need it to be, worry when you get to 1.000.000 elements</p></li>\n<li><p>If you want the reading of the Csv to be performant you gotta use a performant way of storing your IDs. If you are just incrementing your IDs everytime a new one is made and never delete an ID you can use the ID as an index to directly  get the correct line.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19831947,"reputation":21,"user_id":14526303,"display_name":"Prashant Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672231812,"creation_date":1672231812,"answer_id":74940470,"question_id":45505384,"body_markdown":"        public static ArrayList&lt;String&gt; getSpecificRowData(String s) throws IOException \r\n        \t{\r\n        \t\tString csvFile = s;\r\n        \t\tBufferedReader br = null;\r\n        \t\tString line = &quot;&quot;;\r\n        \t\tArrayList&lt;String&gt; arr=new ArrayList&lt;&gt;();\r\n        \t\ttry {\r\n        \t\t\tbr = new BufferedReader(new FileReader(csvFile));\r\n        \r\n        \t\t\twhile ((line = br.readLine()) != null) {\r\n        \r\n                        //write your row name in the given csv file\r\n        \t\t\t\tif(line.contains(&quot;write your row name&quot;))\r\n        \t\t\t\t{\r\n        \t\t\t\t\tarr.add(line);\r\n        \t\t\t\t}     \r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tcatch (FileNotFoundException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\tcatch (IOException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\treturn arr;  \r\n        \t}\r\n    \r\n    //return the row in the form of ArrayList\r\n    \r\n    ArrayList&lt;String&gt; li=getSpecificRowData(&quot;FileName12.csv&quot;);\r\n    \t\tSystem.out.println(li);","title":"Read specific row in csv","body":"<pre><code>    public static ArrayList&lt;String&gt; getSpecificRowData(String s) throws IOException \n        {\n            String csvFile = s;\n            BufferedReader br = null;\n            String line = &quot;&quot;;\n            ArrayList&lt;String&gt; arr=new ArrayList&lt;&gt;();\n            try {\n                br = new BufferedReader(new FileReader(csvFile));\n    \n                while ((line = br.readLine()) != null) {\n    \n                    //write your row name in the given csv file\n                    if(line.contains(&quot;write your row name&quot;))\n                    {\n                        arr.add(line);\n                    }     \n                }\n            }\n            catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            catch (IOException e) {\n                e.printStackTrace();\n            }\n            return arr;  \n        }\n\n//return the row in the form of ArrayList\n\nArrayList&lt;String&gt; li=getSpecificRowData(&quot;FileName12.csv&quot;);\n        System.out.println(li);\n</code></pre>\n"}],"owner":{"account_id":2458107,"reputation":1484,"user_id":2142786,"accept_rate":29,"display_name":"user2142786"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672231812,"creation_date":1501845255,"question_id":45505384,"body_markdown":"Is there any way through which we can read specific row record on the basis of value. For example my csv file is:\r\n\r\n    ProductID,ProductName,price,availability,type\r\n    12345,Anaox,300,yes,medicine\r\n    23456,Chekmeter,400,yes,testing\r\n\r\nI want to get the row whose ProductID is ‘23456’. i was checking the `new CsvReader(“D:\\products.csv”).getRawRecord()` method, but it doesn’t have any method parameters.","title":"Read specific row in csv","body":"<p>Is there any way through which we can read specific row record on the basis of value. For example my csv file is:</p>\n\n<pre><code>ProductID,ProductName,price,availability,type\n12345,Anaox,300,yes,medicine\n23456,Chekmeter,400,yes,testing\n</code></pre>\n\n<p>I want to get the row whose ProductID is ‘23456’. i was checking the <code>new CsvReader(“D:\\products.csv”).getRawRecord()</code> method, but it doesn’t have any method parameters.</p>\n"},{"tags":["java","kotlin","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1144386,"reputation":28762,"user_id":1127485,"accept_rate":83,"display_name":"sschuberth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672231777,"creation_date":1672231777,"answer_id":74940464,"question_id":68191820,"body_markdown":"I was able to make a breakpoint in the plugin&#39;s source code being hit when runnning the inspector app by adding `-Dorg.gradle.debug=true` to `withArguments` *and* reducing the Gradle daemon&#39;s idle timeout to 1 second to effectively disable it. In total, [this](https://github.com/melix/gradle-tapi-demo-artifacts/compare/master...sschuberth:gradle-tapi-demo-artifacts:debug) works for me.","title":"Debugging a custom Gradle plugin started from the tooling API","body":"<p>I was able to make a breakpoint in the plugin's source code being hit when runnning the inspector app by adding <code>-Dorg.gradle.debug=true</code> to <code>withArguments</code> <em>and</em> reducing the Gradle daemon's idle timeout to 1 second to effectively disable it. In total, <a href=\"https://github.com/melix/gradle-tapi-demo-artifacts/compare/master...sschuberth:gradle-tapi-demo-artifacts:debug\" rel=\"nofollow noreferrer\">this</a> works for me.</p>\n"}],"owner":{"account_id":106045,"reputation":12258,"user_id":282677,"accept_rate":88,"display_name":"jlengrand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672231777,"creation_date":1625044317,"question_id":68191820,"body_markdown":"I am implementing a custom plugin, which I want to run via the Gradle tooling API. [We can take this project as exact baseline](https://github.com/melix/gradle-tapi-demo-artifacts) for my problem.\r\n\r\nI essentially want to be able to put a breakpoint inside of the plugin code (in that case the [https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/plugin/src/main/java/org/gradle/demo/plugin/OutgoingArtifactsModelBuilder.java](https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/plugin/src/main/java/org/gradle/demo/plugin/OutgoingArtifactsModelBuilder.java).) \r\n\r\nThe actual Gradle plugin is called from a Java file located in another Gradle module. In that case [App.java](https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/inspector/src/main/java/org/gradle/demo/tapi/App.java).\r\n\r\n    public class App {\r\n        public static void main(String... args) throws Exception {\r\n            GradleConnector connector = GradleConnector.newConnector();\r\n            connector.forProjectDirectory(findProjectPath(args));\r\n            ProjectConnection connection = null;\r\n            try {\r\n                connection = connector.connect();\r\n                ModelBuilder&lt;OutgoingArtifactsModel&gt; customModelBuilder = connection.model(OutgoingArtifactsModel.class);\r\n                customModelBuilder.withArguments(&quot;--init-script&quot;, copyInitScript().getAbsolutePath());\r\n                OutgoingArtifactsModel model = customModelBuilder.get();\r\n                for (File artifact : model.getArtifacts()) {\r\n                    System.out.println(&quot;artifact = &quot; + artifact);\r\n                }\r\n            } finally {\r\n                if (connection != null) {\r\n                    connection.close();\r\n                }\r\n            }\r\n        }\r\n\r\nI cannot find a way to run that Java file and have the breakpoint be hit in the plugin. I understand that I somehow should be launching a remote debug session against the created Gradle deamon but no luck so far.\r\n\r\nThe `-Dorg.gradle.debug=true` is not supported when running the Java file directly. I also tried to set those flags inside my `~/.gradle/gradle.properties` but without success either (The gradle daemon then refuses to run). \r\n\r\nThe project is a composite build, I am not sure whether that is relevant. \r\n\r\nThere are a few too many moving pieces over here for me apparently, if someone has some pointers that would be great! \r\n","title":"Debugging a custom Gradle plugin started from the tooling API","body":"<p>I am implementing a custom plugin, which I want to run via the Gradle tooling API. <a href=\"https://github.com/melix/gradle-tapi-demo-artifacts\" rel=\"nofollow noreferrer\">We can take this project as exact baseline</a> for my problem.</p>\n<p>I essentially want to be able to put a breakpoint inside of the plugin code (in that case the <a href=\"https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/plugin/src/main/java/org/gradle/demo/plugin/OutgoingArtifactsModelBuilder.java\" rel=\"nofollow noreferrer\">https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/plugin/src/main/java/org/gradle/demo/plugin/OutgoingArtifactsModelBuilder.java</a>.)</p>\n<p>The actual Gradle plugin is called from a Java file located in another Gradle module. In that case <a href=\"https://github.com/melix/gradle-tapi-demo-artifacts/blob/master/inspector/src/main/java/org/gradle/demo/tapi/App.java\" rel=\"nofollow noreferrer\">App.java</a>.</p>\n<pre><code>public class App {\n    public static void main(String... args) throws Exception {\n        GradleConnector connector = GradleConnector.newConnector();\n        connector.forProjectDirectory(findProjectPath(args));\n        ProjectConnection connection = null;\n        try {\n            connection = connector.connect();\n            ModelBuilder&lt;OutgoingArtifactsModel&gt; customModelBuilder = connection.model(OutgoingArtifactsModel.class);\n            customModelBuilder.withArguments(&quot;--init-script&quot;, copyInitScript().getAbsolutePath());\n            OutgoingArtifactsModel model = customModelBuilder.get();\n            for (File artifact : model.getArtifacts()) {\n                System.out.println(&quot;artifact = &quot; + artifact);\n            }\n        } finally {\n            if (connection != null) {\n                connection.close();\n            }\n        }\n    }\n</code></pre>\n<p>I cannot find a way to run that Java file and have the breakpoint be hit in the plugin. I understand that I somehow should be launching a remote debug session against the created Gradle deamon but no luck so far.</p>\n<p>The <code>-Dorg.gradle.debug=true</code> is not supported when running the Java file directly. I also tried to set those flags inside my <code>~/.gradle/gradle.properties</code> but without success either (The gradle daemon then refuses to run).</p>\n<p>The project is a composite build, I am not sure whether that is relevant.</p>\n<p>There are a few too many moving pieces over here for me apparently, if someone has some pointers that would be great!</p>\n"},{"tags":["java","docker","dockerfile","sh","minecraft"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1672191130,"post_id":74935344,"comment_id":132239346,"body_markdown":"[This question](https://unix.stackexchange.com/questions/45781/shell-script-fails-syntax-error-unexpected) may be helpful. You might need to add `#!/bin/sh` as the first line in your `start` script. Or try running it with `bash` instead of `sh`.","body":"<a href=\"https://unix.stackexchange.com/questions/45781/shell-script-fails-syntax-error-unexpected\">This question</a> may be helpful. You might need to add <code>#!&#47;bin&#47;sh</code> as the first line in your <code>start</code> script. Or try running it with <code>bash</code> instead of <code>sh</code>."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1672191472,"post_id":74935344,"comment_id":132239385,"body_markdown":"Usually this message means you&#39;re running a script written with bash-only syntax like `&gt;()` with sh, which doesn&#39;t support those extensions. There are none of those constructs shown here, but for all I know papermc itself starts a shell.","body":"Usually this message means you&#39;re running a script written with bash-only syntax like <code>&gt;()</code> with sh, which doesn&#39;t support those extensions. There are none of those constructs shown here, but for all I know papermc itself starts a shell."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":3,"creation_date":1672191612,"post_id":74935344,"comment_id":132239402,"body_markdown":"@KsBs, btw, using `screen` inside a Docker container is generally a bad idea, and completely unnecessary. Docker itself can take care of running processes detached from the terminal, storing logs for later retrieval, etc. The normal/conventional way to run a JVM in Docker is just to have Docker itself run that JVM, without `screen` or `tmux` or anything else in between.","body":"@KsBs, btw, using <code>screen</code> inside a Docker container is generally a bad idea, and completely unnecessary. Docker itself can take care of running processes detached from the terminal, storing logs for later retrieval, etc. The normal/conventional way to run a JVM in Docker is just to have Docker itself run that JVM, without <code>screen</code> or <code>tmux</code> or anything else in between."}],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672231750,"creation_date":1672231750,"answer_id":74940457,"question_id":74935344,"body_markdown":"Your `ENTRYPOINT`/`CMD` setup is wrong.  You should simplify the end of the file to\r\n\r\n```sh\r\n# ...do the installation steps...\r\nENV TYPE=VANILLA VERSION=1.19.3 EULA=&quot;&quot; UID=1000 GID=1000 RCON_PASSWORD=paper\r\nCMD java -Xms1024M -Xmx1024M -jar /srv/mcvanilla/paper-1.19.2-220.jar nogui\r\n```\r\n\r\nand then `docker run papermc` will start the server without requiring you to log in, start a screen session, or anything else.\r\n\r\nAs @CharlesDuffy hints in a comment, if you&#39;re just wrapping a single process, Docker and Screen have some similarities and it&#39;s unusual to use Screen in a container.  You can view the `docker logs` of the container and, in the unusual event you need to interact with the process&#39;s stdin, `docker attach` to it.\r\n\r\nWhat&#39;s actually happening in your case deals with the way string-form `CMD` is converted to an actual command-word array and then combined with `ENTRYPOINT`.  The [documentation on Dockerfile `ENTRYPOINT`](https://docs.docker.com/engine/reference/builder/#entrypoint) has details on these mechanics.  As you&#39;ve written it, the single command the container runs is\r\n\r\n```sh\r\n/bin/sh /bin/sh -c &#39;start&#39;\r\n```\r\n\r\nwhich in turn causes the shell to try to execute the `/bin/sh` binary as a shell script, passing it arguments `-c` and `start` as the positional variables `$1` and `$2`.  When `/bin/sh` is an ELF binary and not itself a shell script, you get a parse error like this.","title":"Syntax error: &quot;(&quot; unexpected when running Docker container","body":"<p>Your <code>ENTRYPOINT</code>/<code>CMD</code> setup is wrong.  You should simplify the end of the file to</p>\n<pre class=\"lang-bash prettyprint-override\"><code># ...do the installation steps...\nENV TYPE=VANILLA VERSION=1.19.3 EULA=&quot;&quot; UID=1000 GID=1000 RCON_PASSWORD=paper\nCMD java -Xms1024M -Xmx1024M -jar /srv/mcvanilla/paper-1.19.2-220.jar nogui\n</code></pre>\n<p>and then <code>docker run papermc</code> will start the server without requiring you to log in, start a screen session, or anything else.</p>\n<p>As @CharlesDuffy hints in a comment, if you're just wrapping a single process, Docker and Screen have some similarities and it's unusual to use Screen in a container.  You can view the <code>docker logs</code> of the container and, in the unusual event you need to interact with the process's stdin, <code>docker attach</code> to it.</p>\n<p>What's actually happening in your case deals with the way string-form <code>CMD</code> is converted to an actual command-word array and then combined with <code>ENTRYPOINT</code>.  The <a href=\"https://docs.docker.com/engine/reference/builder/#entrypoint\" rel=\"nofollow noreferrer\">documentation on Dockerfile <code>ENTRYPOINT</code></a> has details on these mechanics.  As you've written it, the single command the container runs is</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/bin/sh /bin/sh -c 'start'\n</code></pre>\n<p>which in turn causes the shell to try to execute the <code>/bin/sh</code> binary as a shell script, passing it arguments <code>-c</code> and <code>start</code> as the positional variables <code>$1</code> and <code>$2</code>.  When <code>/bin/sh</code> is an ELF binary and not itself a shell script, you get a parse error like this.</p>\n"}],"owner":{"account_id":17550883,"reputation":31,"user_id":12731311,"display_name":"KsBs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672231750,"creation_date":1672188951,"question_id":74935344,"body_markdown":"This is my Dockerfile:\r\n\r\n```dockerfile\r\n# Setup Inst\r\nFROM ubuntu:latest\r\nMAINTAINER test\r\nLABEL maintainer=&quot;test&quot;\r\n\r\nRUN mkdir /srv/papermc\r\nWORKDIR /srv/papermc\r\n\r\n# Install OpenJDK-17\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install -y openjdk-17-jre-headless &amp;&amp; \\\r\n    apt-get install -y ant &amp;&amp; \\\r\n    apt-get install -y screen &amp;&amp; \\\r\n    apt-get install -y wget &amp;&amp; \\\r\n    apt-get clean;\r\n\r\n# Fix certificate issues\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install ca-certificates-java &amp;&amp; \\\r\n    apt-get clean &amp;&amp; \\\r\n    update-ca-certificates -f;\r\n\r\n# Setup JAVA_HOME -- useful for docker commandline\r\nENV JAVA_HOME /usr/lib/jvm/java-17-openjdk-amd64/\r\nRUN export JAVA_HOME\r\n\r\n# Download PAPERMINECRAFT\r\nRUN wget https://api.papermc.io/v2/projects/paper/versions/1.19.3/builds/363/downloads/paper-1.19.3-363.jar\r\n\r\n# STOP\r\nSTOPSIGNAL SIGTERM\r\n\r\n# ENV\r\nENV TYPE=VANILLA VERSION=1.19.3 EULA=&quot;&quot; UID=1000 GID=1000 RCON_PASSWORD=paper\r\n\r\n# Prepare RUN\r\nEXPOSE 25565 25575\r\nVOLUME /srv/papermc\r\nRUN echo &quot;screen -AmdS minecraft java -Xms1024M -Xmx1024M -jar /srv/mcvanilla/paper-1.19.2-220.jar nogui&quot; &gt; start\r\nRUN chmod -R 775 /srv/papermc\r\nENTRYPOINT [&quot;/bin/sh&quot;]\r\nCMD start\r\nHEALTHCHECK none\r\n```\r\n\r\nIt is building without errors, but if I try to start the container, I get the following error:\r\n\r\n```\r\nSuccessfully tagged papermc:latest\r\nroot@docker3:~# docker run papermc\r\n/bin/sh: 2: Syntax error: &quot;(&quot; unexpected\r\n````\r\n\r\nI was expecting a Java error because of not accepting the EULA, but not this one. What could be wrong?","title":"Syntax error: &quot;(&quot; unexpected when running Docker container","body":"<p>This is my Dockerfile:</p>\n<pre><code># Setup Inst\nFROM ubuntu:latest\nMAINTAINER test\nLABEL maintainer=&quot;test&quot;\n\nRUN mkdir /srv/papermc\nWORKDIR /srv/papermc\n\n# Install OpenJDK-17\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y openjdk-17-jre-headless &amp;&amp; \\\n    apt-get install -y ant &amp;&amp; \\\n    apt-get install -y screen &amp;&amp; \\\n    apt-get install -y wget &amp;&amp; \\\n    apt-get clean;\n\n# Fix certificate issues\nRUN apt-get update &amp;&amp; \\\n    apt-get install ca-certificates-java &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    update-ca-certificates -f;\n\n# Setup JAVA_HOME -- useful for docker commandline\nENV JAVA_HOME /usr/lib/jvm/java-17-openjdk-amd64/\nRUN export JAVA_HOME\n\n# Download PAPERMINECRAFT\nRUN wget https://api.papermc.io/v2/projects/paper/versions/1.19.3/builds/363/downloads/paper-1.19.3-363.jar\n\n# STOP\nSTOPSIGNAL SIGTERM\n\n# ENV\nENV TYPE=VANILLA VERSION=1.19.3 EULA=&quot;&quot; UID=1000 GID=1000 RCON_PASSWORD=paper\n\n# Prepare RUN\nEXPOSE 25565 25575\nVOLUME /srv/papermc\nRUN echo &quot;screen -AmdS minecraft java -Xms1024M -Xmx1024M -jar /srv/mcvanilla/paper-1.19.2-220.jar nogui&quot; &gt; start\nRUN chmod -R 775 /srv/papermc\nENTRYPOINT [&quot;/bin/sh&quot;]\nCMD start\nHEALTHCHECK none\n</code></pre>\n<p>It is building without errors, but if I try to start the container, I get the following error:</p>\n<pre><code>Successfully tagged papermc:latest\nroot@docker3:~# docker run papermc\n/bin/sh: 2: Syntax error: &quot;(&quot; unexpected\n</code></pre>\n<p>I was expecting a Java error because of not accepting the EULA, but not this one. What could be wrong?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1506644100,"creation_date":1506644100,"answer_id":46480007,"question_id":46479889,"body_markdown":"As a general rule of thumb, I would say that business logic of this sort should be in the service. Controllers should be light-weight and pass on requests. Further, there may be other clients of your service, not just controllers, so this allows you to keep validation in one place.","title":"Validation in controller or service?","body":"<p>As a general rule of thumb, I would say that business logic of this sort should be in the service. Controllers should be light-weight and pass on requests. Further, there may be other clients of your service, not just controllers, so this allows you to keep validation in one place.</p>\n"},{"tags":[],"owner":{"account_id":4388479,"reputation":576,"user_id":3577765,"accept_rate":42,"display_name":"Amir_Af"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672231334,"creation_date":1506658685,"answer_id":46481748,"question_id":46479889,"body_markdown":" \r\n\r\n 1. Don&#39;t put this validation in the controller - controllers part is only be entry points for coming requests and exposing API&#39;s.\r\n\r\n 2. I would suggest you to create additional service which responsible of doing the validation and injecting this service in your\r\n    messageSearchService service. This way you can use the validation\r\n    service in other services as well which required same validation. In\r\n    Addition , this why you follow the principle of each class has only\r\n    one its own responsibility.\r\n\r\n\r\n","title":"Validation in controller or service?","body":"<ol>\n<li><p>Don't put this validation in the controller - controllers part is only be entry points for coming requests and exposing API's.</p>\n</li>\n<li><p>I would suggest you to create additional service which responsible of doing the validation and injecting this service in your\nmessageSearchService service. This way you can use the validation\nservice in other services as well which required same validation. In\nAddition , this why you follow the principle of each class has only\none its own responsibility.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":11757499,"reputation":1067,"user_id":8604720,"accept_rate":23,"display_name":"sdfsd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12928,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":2,"score":18,"last_activity_date":1672231334,"creation_date":1506642995,"question_id":46479889,"body_markdown":"I have a method of downloading messages in the controller\r\n\r\n   \r\n    @GetMapping(value = &quot;/sent/{id}&quot;)\r\n    public\r\n    HttpEntity&lt;MessageSent&gt; getMessageSent(\r\n            @ApiParam(value = &quot;The message ID&quot;, required = true) @PathVariable Long id\r\n    ) {\r\n        return ResponseEntity.ok().body(messageSearchService.getMessageSent(id, authorizationService.getUserId()));\r\n    }\r\nHowever, I have forgotten to verify if the message about the given ID belongs to the user. It does not do this either in the service.\r\n\r\n    @Override\r\n    public MessageSent getMessageSent(\r\n            @Min(1) Long messageId,\r\n            @Min(1) Long userId\r\n    ) throws ResourceNotFoundException {\r\n        Optional&lt;UserEntity&gt; user = this.userRepository.findByIdAndEnabledTrue(userId);\r\n        user.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;No user found with id &quot; + userId));\r\n\r\n        return this.messageRepository.findByIdAndSenderAndIsVisibleForSenderTrue(messageId, user.get())\r\n                .map(MessageEntity::getSentDTO)\r\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;No message found with id &quot; + messageId));\r\n    }\r\nAnd now my question is whether it should be done in the controller or service? I would prefer to do this in the service, but I don&#39;t know if it is appropriate.","title":"Validation in controller or service?","body":"<p>I have a method of downloading messages in the controller</p>\n\n<pre><code>@GetMapping(value = \"/sent/{id}\")\npublic\nHttpEntity&lt;MessageSent&gt; getMessageSent(\n        @ApiParam(value = \"The message ID\", required = true) @PathVariable Long id\n) {\n    return ResponseEntity.ok().body(messageSearchService.getMessageSent(id, authorizationService.getUserId()));\n}\n</code></pre>\n\n<p>However, I have forgotten to verify if the message about the given ID belongs to the user. It does not do this either in the service.</p>\n\n<pre><code>@Override\npublic MessageSent getMessageSent(\n        @Min(1) Long messageId,\n        @Min(1) Long userId\n) throws ResourceNotFoundException {\n    Optional&lt;UserEntity&gt; user = this.userRepository.findByIdAndEnabledTrue(userId);\n    user.orElseThrow(() -&gt; new ResourceNotFoundException(\"No user found with id \" + userId));\n\n    return this.messageRepository.findByIdAndSenderAndIsVisibleForSenderTrue(messageId, user.get())\n            .map(MessageEntity::getSentDTO)\n            .orElseThrow(() -&gt; new ResourceNotFoundException(\"No message found with id \" + messageId));\n}\n</code></pre>\n\n<p>And now my question is whether it should be done in the controller or service? I would prefer to do this in the service, but I don't know if it is appropriate.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1672186832,"post_id":74935170,"comment_id":132238743,"body_markdown":"Resources in java can be closed and those are marked by implementing the Closeable interface. Normal classes/objects like ArrayList don&#39;t. An ArrayList is never &quot;open&quot; or &quot;closed&quot;. That doesn&#39;t make much sense in that context.","body":"Resources in java can be closed and those are marked by implementing the Closeable interface. Normal classes/objects like ArrayList don&#39;t. An ArrayList is never &quot;open&quot; or &quot;closed&quot;. That doesn&#39;t make much sense in that context."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1672187535,"post_id":74935170,"comment_id":132238841,"body_markdown":"&quot;it is bad practice to leave an object open once it is no longer in use&quot; Maybe for something like a file resource, but it is absolutely normal just to leave ArrayLists lying around when done.","body":"&quot;it is bad practice to leave an object open once it is no longer in use&quot; Maybe for something like a file resource, but it is absolutely normal just to leave ArrayLists lying around when done."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672228204,"post_id":74935170,"comment_id":132245860,"body_markdown":"As an aside, it is generally a bad idea to close a scanner which wraps `System.in`, as it will close the standard input of your application, which means you can not accept any more input for the remainder of your program run.","body":"As an aside, it is generally a bad idea to close a scanner which wraps <code>System.in</code>, as it will close the standard input of your application, which means you can not accept any more input for the remainder of your program run."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672189011,"post_id":74935204,"comment_id":132239052,"body_markdown":"Of course there&#39;s `System.gc()` but of course you should never use it.","body":"Of course there&#39;s <code>System.gc()</code> but of course you should never use it."}],"tags":[],"owner":{"account_id":23669257,"reputation":62,"user_id":17696276,"display_name":"2Amateurs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672187000,"creation_date":1672187000,"answer_id":74935204,"question_id":74935170,"body_markdown":"Using ```.clear()``` will remove all items from the list, but it looks like you want to tell the garbage collector to delete the object.  As far I know, there is no way to do this.  However, there is also no need to worry about deleting objects.  If your code stops using them, the garbage collector will simply delete them from memory automatically.","title":"How to clear an ArrayList object java","body":"<p>Using <code>.clear()</code> will remove all items from the list, but it looks like you want to tell the garbage collector to delete the object.  As far I know, there is no way to do this.  However, there is also no need to worry about deleting objects.  If your code stops using them, the garbage collector will simply delete them from memory automatically.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672231136,"creation_date":1672195488,"answer_id":74935796,"question_id":74935170,"body_markdown":"&gt; I am aware that it is bad practice to leave an object open once it is no longer in use, however I cannot find an example of this for an ArrayList ...\r\n\r\nIt is NOT **in general** (a) &quot;bad practice&quot; to leave objects &quot;open&quot;.\r\n\r\nFailing to close certain kinds of objects can cause problems, but these are all objects that are associated with external or non-heap resources.  The most common examples are:\r\n\r\n  - Objects that have an associated file descriptor; e.g. `Socket`, `FileInputStream` and `FileOuputStream`.\r\n  - Objects that have an associated &quot;connection&quot; to an external service; e.g. JDBC `Connection`, `Statement` and `ResultSet` objects.\r\n  - Objects that have associated off-heap storage; e.g. `BufferedImage`.\r\n  \r\nHowever, most Java objects *don&#39;t* have this problem, and you *don&#39;t* need to &quot;close&quot; them.  Indeed, most objects don&#39;t have a `close()` or `dispose()` method.\r\n\r\n`ArrayList` is typical.  It is not necessary to &quot;close&quot; or &quot;clean&quot; an `ArrayList`.  Just leave it for the garbage collector to clean up.  \r\n\r\nIn exception circumstances, it *might* be advisable to clean a `List` object; e.g.  so that you can reuse it.   If you need to do that, call the `clear()` method. \r\n\r\nHowever, that is generally a bad idea.  In the case of `ArrayList`, calling `clear()` can lead to first and second order performance issues:\r\n\r\n  1.  Clearing a list entails touching all of the list cells.  That consumes CPU time.\r\n\r\n  2.  The `clear()` method does not resize the `ArrayList` backing array.  So a recycled list that becomes large will continue to have a large backing array ... for ever ... if you keep recycling it.\r\n\r\n  3.  With most Java GC&#39;s, a Java object that survives a number of GC cycles will be promoted to the &quot;old&quot; generation.  When that happens, the associate GC costs increase.  For example, when you assign a reference to a new object to an old object (say our list) that causes the new object (and possibly nearby objects) to NOT be collected in the next new space collection; i.e. it extends its lifetime.\r\n\r\nIn short, `clear()` can be bad for performance.\r\n\r\n---------------------------\r\n\r\n&gt; But that doesn&#39;t [`List.clear()`] remove the object?\r\n\r\nNo.  It doesn&#39;t remove it.  It &quot;empties&quot; the list, but the list object still exists, and can still be used.\r\n\r\n---------------------------\r\n\r\nBeware of good / best / bad practice advice.  A lot of it is &quot;snake oil&quot;.  And even at the best of times, most such advice doesn&#39;t apply universally.  People who like to rely on so-called &quot;best practice&quot; advice (or offer it!) should read this:\r\n\r\n  - [No Best Practices](https://www.satisfice.com/blog/archives/5164)","title":"How to clear an ArrayList object java","body":"<blockquote>\n<p>I am aware that it is bad practice to leave an object open once it is no longer in use, however I cannot find an example of this for an ArrayList ...</p>\n</blockquote>\n<p>It is NOT <strong>in general</strong> (a) &quot;bad practice&quot; to leave objects &quot;open&quot;.</p>\n<p>Failing to close certain kinds of objects can cause problems, but these are all objects that are associated with external or non-heap resources.  The most common examples are:</p>\n<ul>\n<li>Objects that have an associated file descriptor; e.g. <code>Socket</code>, <code>FileInputStream</code> and <code>FileOuputStream</code>.</li>\n<li>Objects that have an associated &quot;connection&quot; to an external service; e.g. JDBC <code>Connection</code>, <code>Statement</code> and <code>ResultSet</code> objects.</li>\n<li>Objects that have associated off-heap storage; e.g. <code>BufferedImage</code>.</li>\n</ul>\n<p>However, most Java objects <em>don't</em> have this problem, and you <em>don't</em> need to &quot;close&quot; them.  Indeed, most objects don't have a <code>close()</code> or <code>dispose()</code> method.</p>\n<p><code>ArrayList</code> is typical.  It is not necessary to &quot;close&quot; or &quot;clean&quot; an <code>ArrayList</code>.  Just leave it for the garbage collector to clean up.</p>\n<p>In exception circumstances, it <em>might</em> be advisable to clean a <code>List</code> object; e.g.  so that you can reuse it.   If you need to do that, call the <code>clear()</code> method.</p>\n<p>However, that is generally a bad idea.  In the case of <code>ArrayList</code>, calling <code>clear()</code> can lead to first and second order performance issues:</p>\n<ol>\n<li><p>Clearing a list entails touching all of the list cells.  That consumes CPU time.</p>\n</li>\n<li><p>The <code>clear()</code> method does not resize the <code>ArrayList</code> backing array.  So a recycled list that becomes large will continue to have a large backing array ... for ever ... if you keep recycling it.</p>\n</li>\n<li><p>With most Java GC's, a Java object that survives a number of GC cycles will be promoted to the &quot;old&quot; generation.  When that happens, the associate GC costs increase.  For example, when you assign a reference to a new object to an old object (say our list) that causes the new object (and possibly nearby objects) to NOT be collected in the next new space collection; i.e. it extends its lifetime.</p>\n</li>\n</ol>\n<p>In short, <code>clear()</code> can be bad for performance.</p>\n<hr />\n<blockquote>\n<p>But that doesn't [<code>List.clear()</code>] remove the object?</p>\n</blockquote>\n<p>No.  It doesn't remove it.  It &quot;empties&quot; the list, but the list object still exists, and can still be used.</p>\n<hr />\n<p>Beware of good / best / bad practice advice.  A lot of it is &quot;snake oil&quot;.  And even at the best of times, most such advice doesn't apply universally.  People who like to rely on so-called &quot;best practice&quot; advice (or offer it!) should read this:</p>\n<ul>\n<li><a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">No Best Practices</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672228318,"post_id":74936609,"comment_id":132245896,"body_markdown":"_&quot;In general, ArrayList can be left open&quot;_, you don&#39;t even have a choice in that, as there is nothing to close with an array list (it doesn&#39;t even have a concept of being &quot;open&quot;, so using that terminology is even confusing).","body":"<i>&quot;In general, ArrayList can be left open&quot;</i>, you don&#39;t even have a choice in that, as there is nothing to close with an array list (it doesn&#39;t even have a concept of being &quot;open&quot;, so using that terminology is even confusing)."},{"owner":{"account_id":15415633,"reputation":31,"user_id":14148366,"display_name":" helloworld"},"score":0,"creation_date":1672290111,"post_id":74936609,"comment_id":132259418,"body_markdown":"yes Right Mark, There is no concept like being open. This opening closing concept doesn&#39;t exist in List. I meant ArrayLists can be left as it is. Thanks for clearing out the confusion.","body":"yes Right Mark, There is no concept like being open. This opening closing concept doesn&#39;t exist in List. I meant ArrayLists can be left as it is. Thanks for clearing out the confusion."}],"tags":[],"owner":{"account_id":15415633,"reputation":31,"user_id":14148366,"display_name":" helloworld"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672228266,"creation_date":1672205891,"answer_id":74936609,"question_id":74935170,"body_markdown":"In general, ArrayList can be left open and if you want to remove all the objects from the List you can use **.clear** function. Generally streams implement the closable interface and needed to be closed. Reason we try to write the efficient code by reducing the space complexity because the lists remain in the code as it is.","title":"How to clear an ArrayList object java","body":"<p>In general, ArrayList can be left open and if you want to remove all the objects from the List you can use <strong>.clear</strong> function. Generally streams implement the closable interface and needed to be closed. Reason we try to write the efficient code by reducing the space complexity because the lists remain in the code as it is.</p>\n"}],"owner":{"account_id":21584444,"reputation":21,"user_id":15915151,"display_name":"FoamyBear"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1672236998,"answer_count":3,"score":0,"last_activity_date":1672231136,"creation_date":1672186629,"question_id":74935170,"body_markdown":"I am new to Java, so this has come across in a beginner java problem.\r\n\r\nI am aware that it is bad practice to leave an object open once it is no longer in use, however I cannot find an example of this for an ArrayList: the tutorials I have looked at leave it open and I can&#39;t find anything other than clearing it to remove all items in it.\r\n\r\nI am looking for the equivalent to this:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nScanner sc = new Scanner(System.in);\r\nString userInput = sc.nextLine();\r\nsc.close();\r\n```\r\nbut for the ArrayList object:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\nArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt;();\r\ncountries.add(&quot;Spain&quot;);\r\ncountries.add(&quot;China&quot;);\r\nSystem.out.println(countries);\r\n//And then something like\r\ncountries.close();\r\n```\r\n\r\nIs it just ```ArrayList&lt;Object&gt;.clear()```? but that doesn&#39;t remove the object?\r\n","title":"How to clear an ArrayList object java","body":"<p>I am new to Java, so this has come across in a beginner java problem.</p>\n<p>I am aware that it is bad practice to leave an object open once it is no longer in use, however I cannot find an example of this for an ArrayList: the tutorials I have looked at leave it open and I can't find anything other than clearing it to remove all items in it.</p>\n<p>I am looking for the equivalent to this:</p>\n<pre><code>import java.util.Scanner;\n\nScanner sc = new Scanner(System.in);\nString userInput = sc.nextLine();\nsc.close();\n</code></pre>\n<p>but for the ArrayList object:</p>\n<pre><code>import java.util.ArrayList;\n\nArrayList&lt;String&gt; countries = new ArrayList&lt;String&gt;();\ncountries.add(&quot;Spain&quot;);\ncountries.add(&quot;China&quot;);\nSystem.out.println(countries);\n//And then something like\ncountries.close();\n</code></pre>\n<p>Is it just <code>ArrayList&lt;Object&gt;.clear()</code>? but that doesn't remove the object?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","junit"],"owner":{"account_id":26490503,"reputation":1,"user_id":20128658,"display_name":"dayIKS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672231022,"creation_date":1672231022,"question_id":74940335,"body_markdown":"I am currently working on a project and have to deal with some test cases. We implementented cryptographie in our database to learn how it is build but now we have to update the tests. The crypto should be hidden or someway. \r\n\r\nThis is the converter we used and added @Convert in the entity classes like so\r\n\r\n```\r\n@Column(name =&quot;name&quot;, nullable = false)\r\n   @Convert(converter = DBEncryptedStringConverter.class)\r\n   public EncryptedString getName() {\r\n       return this.name;\r\n   }\r\n\r\n   public void setName(EncryptedString name) {\r\n       this.name = name;\r\n   }\r\n```\r\n\r\n```\r\n@Converter\r\n@Slf4j\r\npublic class DBEncryptedStringConverter implements AttributeConverter&lt;EncryptedString, String&gt; {\r\n    private static final String ENC = &quot;ENC__##__&quot;, RAW = &quot;RAW__##__&quot;;\r\n    @Override\r\n    public String convertToDatabaseColumn(EncryptedString attribute) {\r\n        if(attribute == null) return null;\r\n        return (attribute.isEncrypted() ? ENC : RAW) + attribute.getString();\r\n    }\r\n    \r\n    @Override\r\n    public EncryptedString convertToEntityAttribute(String dbData) {\r\n        if(dbData == null) return null;\r\n        if(dbData.startsWith(ENC)) {\r\n            return new EncryptedString(dbData.substring(ENC.length()), true);\r\n        } else if(dbData.startsWith(RAW)) {\r\n            return new EncryptedString(dbData.substring(RAW.length()), false);\r\n        } else {\r\n            log.warn(&quot;DB Entry without prefix found&quot;);\r\n            log.warn(&quot;Treating as RAW&quot;);\r\n            return new EncryptedString(dbData, false);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI would like to use this class for testing\r\n \r\n```\r\n@Converter\r\npublic class MockDBEncryptedStringConverter implements AttributeConverter&lt;EncryptedString, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(EncryptedString attribute) {\r\n        return attribute.getString();\r\n    }\r\n\r\n    @Override\r\n    public EncryptedString convertToEntityAttribute(String dbData) {\r\n        return new EncryptedString(dbData, false);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI think mokcing with mokito would be a way to go, but I dont quiet understand how to use it","title":"How can I change a converter for testing purpose?","body":"<p>I am currently working on a project and have to deal with some test cases. We implementented cryptographie in our database to learn how it is build but now we have to update the tests. The crypto should be hidden or someway.</p>\n<p>This is the converter we used and added @Convert in the entity classes like so</p>\n<pre><code>@Column(name =&quot;name&quot;, nullable = false)\n   @Convert(converter = DBEncryptedStringConverter.class)\n   public EncryptedString getName() {\n       return this.name;\n   }\n\n   public void setName(EncryptedString name) {\n       this.name = name;\n   }\n</code></pre>\n<pre><code>@Converter\n@Slf4j\npublic class DBEncryptedStringConverter implements AttributeConverter&lt;EncryptedString, String&gt; {\n    private static final String ENC = &quot;ENC__##__&quot;, RAW = &quot;RAW__##__&quot;;\n    @Override\n    public String convertToDatabaseColumn(EncryptedString attribute) {\n        if(attribute == null) return null;\n        return (attribute.isEncrypted() ? ENC : RAW) + attribute.getString();\n    }\n    \n    @Override\n    public EncryptedString convertToEntityAttribute(String dbData) {\n        if(dbData == null) return null;\n        if(dbData.startsWith(ENC)) {\n            return new EncryptedString(dbData.substring(ENC.length()), true);\n        } else if(dbData.startsWith(RAW)) {\n            return new EncryptedString(dbData.substring(RAW.length()), false);\n        } else {\n            log.warn(&quot;DB Entry without prefix found&quot;);\n            log.warn(&quot;Treating as RAW&quot;);\n            return new EncryptedString(dbData, false);\n        }\n    }\n}\n</code></pre>\n<p>I would like to use this class for testing</p>\n<pre><code>@Converter\npublic class MockDBEncryptedStringConverter implements AttributeConverter&lt;EncryptedString, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(EncryptedString attribute) {\n        return attribute.getString();\n    }\n\n    @Override\n    public EncryptedString convertToEntityAttribute(String dbData) {\n        return new EncryptedString(dbData, false);\n    }\n}\n</code></pre>\n<p>I think mokcing with mokito would be a way to go, but I dont quiet understand how to use it</p>\n"},{"tags":["java","printing","graphics","measurement"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672153809,"post_id":74930607,"comment_id":132231075,"body_markdown":"That would be (i.getWidth() + imageableX, i.getHeight() + imageableY)","body":"That would be (i.getWidth() + imageableX, i.getHeight() + imageableY)"},{"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"score":0,"creation_date":1672156871,"post_id":74930607,"comment_id":132231927,"body_markdown":"Thanks for your help.. Alas, I meant to ask how to get the boundaries in points, not pixels. The question has been edited.","body":"Thanks for your help.. Alas, I meant to ask how to get the boundaries in points, not pixels. The question has been edited."}],"answers":[{"comments":[{"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"score":0,"creation_date":1672170843,"post_id":74932427,"comment_id":132235752,"body_markdown":"I can see how this works for the screen. But how does it work for a printer?","body":"I can see how this works for the screen. But how does it work for a printer?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672184113,"post_id":74932427,"comment_id":132238385,"body_markdown":"Sorry - I was forgetting the graphics context was a printer. With a printer, afaik the situation is that *you* specify the resolution, choosing from a range [supported by the printer](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/print/attribute/standard/PrinterResolution.html)","body":"Sorry - I was forgetting the graphics context was a printer. With a printer, afaik the situation is that <i>you</i> specify the resolution, choosing from a range <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/print/attribute/standard/PrinterResolution.html\" rel=\"nofollow noreferrer\">supported by the printer</a>"},{"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"score":0,"creation_date":1672218675,"post_id":74932427,"comment_id":132243567,"body_markdown":"Thanks. Of course, best of all for my situation would be if I could determine what the resolution happens to be (in the print method would be good) rather than imposing one.","body":"Thanks. Of course, best of all for my situation would be if I could determine what the resolution happens to be (in the print method would be good) rather than imposing one."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672230634,"post_id":74932427,"comment_id":132246534,"body_markdown":"`PrinterResolution res = (PrinterResolution) def.getDefaultAttributeValue(PrinterResolution.class);` from [this](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/print/PrintService.html#getDefaultAttributeValue(java.lang.Class)) could do it","body":"<code>PrinterResolution res = (PrinterResolution) def.getDefaultAttributeValue(PrinterResolution.class);</code> from <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/print/PrintService.html#getDefaultAttributeValue(java.lang.Class)\" rel=\"nofollow noreferrer\">this</a> could do it"},{"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"score":0,"creation_date":1672322771,"post_id":74932427,"comment_id":132267237,"body_markdown":"Thanks. But what&#39;s &quot;def&quot; and how do I get ahold of it?","body":"Thanks. But what&#39;s &quot;def&quot; and how do I get ahold of it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672323215,"post_id":74932427,"comment_id":132267358,"body_markdown":"&#39;def&#39; would be the default `PrintService`","body":"&#39;def&#39; would be the default <code>PrintService</code>"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672162354,"creation_date":1672162354,"answer_id":74932427,"question_id":74930607,"body_markdown":"I think this should work. You can of course get rid of the explanatory sysouts:\r\n\r\n    public static double pixelsToPoints(int pixels) {\r\n        Toolkit tk = Toolkit.getDefaultToolkit();\r\n        int res = tk.getScreenResolution();\r\n        System.out.printf(&quot;Screen resolution in DPI is %d%n&quot;, res);\r\n        // Pixels to inches\r\n        double inches = pixels / (1.0 * res);\r\n        // One point is one seventy-second of an inch\r\n        System.out.printf(&quot;Number of points taken up by %d pixels is %.2f%n&quot;, pixels, inches * 72.0);\r\n        return inches * 72.0;\r\n    }\r\n\r\n","title":"Calculating points from pixels in Java printer graphics","body":"<p>I think this should work. You can of course get rid of the explanatory sysouts:</p>\n<pre><code>public static double pixelsToPoints(int pixels) {\n    Toolkit tk = Toolkit.getDefaultToolkit();\n    int res = tk.getScreenResolution();\n    System.out.printf(&quot;Screen resolution in DPI is %d%n&quot;, res);\n    // Pixels to inches\n    double inches = pixels / (1.0 * res);\n    // One point is one seventy-second of an inch\n    System.out.printf(&quot;Number of points taken up by %d pixels is %.2f%n&quot;, pixels, inches * 72.0);\n    return inches * 72.0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672230939,"creation_date":1672230939,"answer_id":74940323,"question_id":74930607,"body_markdown":"I don&#39;t know if this is the &quot;official&quot; solution, but it seems to work acceptably for both Microsoft Print to PDF and for my HP 6475 printer. In this method, Axis is an enumeration, X or Y, telling which dimension the calculation is for.\r\n\r\n    // Convert pixels to points.\r\n    private int pixelsToPoints(Axis axis, int pixels, Graphics2D g2d, PageFormat pageFormat) {\r\n        AffineTransform xform = g2d.getTransform();\r\n\r\n        double scale;\r\n        if (pageFormat.getOrientation() == PageFormat.PORTRAIT) {\r\n            if (axis == Axis.X) {\r\n                scale = xform.getScaleX();\r\n            } else {\r\n                scale = xform.getScaleY();\r\n            }\r\n        } else {\r\n            if (axis == Axis.X) {\r\n                scale = xform.getShearX();\r\n            } else {\r\n                scale = xform.getShearY();\r\n            }\r\n        }\r\n\r\n        Double points = scale / 7.2 * pixels;\r\n        return points.intValue();\r\n    }","title":"Calculating points from pixels in Java printer graphics","body":"<p>I don't know if this is the &quot;official&quot; solution, but it seems to work acceptably for both Microsoft Print to PDF and for my HP 6475 printer. In this method, Axis is an enumeration, X or Y, telling which dimension the calculation is for.</p>\n<pre><code>// Convert pixels to points.\nprivate int pixelsToPoints(Axis axis, int pixels, Graphics2D g2d, PageFormat pageFormat) {\n    AffineTransform xform = g2d.getTransform();\n\n    double scale;\n    if (pageFormat.getOrientation() == PageFormat.PORTRAIT) {\n        if (axis == Axis.X) {\n            scale = xform.getScaleX();\n        } else {\n            scale = xform.getScaleY();\n        }\n    } else {\n        if (axis == Axis.X) {\n            scale = xform.getShearX();\n        } else {\n            scale = xform.getShearY();\n        }\n    }\n\n    Double points = scale / 7.2 * pixels;\n    return points.intValue();\n}\n</code></pre>\n"}],"owner":{"account_id":1480823,"reputation":63,"user_id":1390275,"display_name":"Elly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672230939,"creation_date":1672151662,"question_id":74930607,"body_markdown":"I&#39;ve drawn a BufferedImage on the Graphics2D object being used by a PrinterJob.\r\n\r\nNow I&#39;d like to know the boundaries of that image in points so I can avoid writing text over it. How can I calculate or discover that?\r\n\r\n        @Override\r\n        public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\r\n        ...\r\n            Graphics2D g2d = (Graphics2D) graphics;\r\n            g2d.drawImage(crossword.getImage(), null, imageableX, imageableY);\r\n       }\r\n\r\n","title":"Calculating points from pixels in Java printer graphics","body":"<p>I've drawn a BufferedImage on the Graphics2D object being used by a PrinterJob.</p>\n<p>Now I'd like to know the boundaries of that image in points so I can avoid writing text over it. How can I calculate or discover that?</p>\n<pre><code>    @Override\n    public int print(Graphics graphics, PageFormat pageFormat, int pageIndex) throws PrinterException {\n    ...\n        Graphics2D g2d = (Graphics2D) graphics;\n        g2d.drawImage(crossword.getImage(), null, imageableX, imageableY);\n   }\n</code></pre>\n"},{"tags":["java","logstash","kibana","elk"],"owner":{"account_id":22491235,"reputation":3,"user_id":16688926,"display_name":"Ahmet Tarık Bostan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672230752,"creation_date":1672230708,"question_id":74940290,"body_markdown":"I&#39;m trying to add custom json field into my logstash xml . I&#39;m do this because trying to parse this fields and expecting to see kibana dashboard. So you can see my xml files below , globalSessionId field is my custom field. I&#39;m new at ELK and so confused. I&#39;m loggin somewhere this globalsessionId into my project but the project didn&#39;t even build and throw error. It&#39;s make sense globalSessionId is not a valid word but how can I do this valid ?\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;APP_NAME&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n            &lt;providers&gt;\r\n                &lt;timestamp/&gt;\r\n                &lt;version/&gt;\r\n                &lt;pattern&gt;\r\n                    &lt;pattern&gt;\r\n                        {\r\n                        &quot;logtime&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS,${TZ}}&quot;,\r\n                        &quot;thread&quot;: &quot;%thread&quot;,\r\n                        &quot;level&quot;: &quot;%level&quot;,\r\n                        &quot;APP_NAME&quot;: &quot;${APP_NAME}&quot;,\r\n                        &quot;msg&quot;: &quot;%message&quot;,\r\n                        &quot;stackTrace&quot;: &quot;%rEx{full}&quot;,\r\n                        &quot;globalSessionId&quot; : &quot;%globalSessionId&quot;\r\n                        }\r\n                    &lt;/pattern&gt;\r\n                &lt;/pattern&gt;\r\n            &lt;/providers&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAny suggestion would be appreaciated","title":"Logstash Custom JSON Pattern from xml","body":"<p>I'm trying to add custom json field into my logstash xml . I'm do this because trying to parse this fields and expecting to see kibana dashboard. So you can see my xml files below , globalSessionId field is my custom field. I'm new at ELK and so confused. I'm loggin somewhere this globalsessionId into my project but the project didn't even build and throw error. It's make sense globalSessionId is not a valid word but how can I do this valid ?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;shutdownHook class=&quot;ch.qos.logback.core.hook.DelayingShutdownHook&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;APP_NAME&quot; source=&quot;spring.application.name&quot;/&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                &lt;timestamp/&gt;\n                &lt;version/&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        &quot;logtime&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS,${TZ}}&quot;,\n                        &quot;thread&quot;: &quot;%thread&quot;,\n                        &quot;level&quot;: &quot;%level&quot;,\n                        &quot;APP_NAME&quot;: &quot;${APP_NAME}&quot;,\n                        &quot;msg&quot;: &quot;%message&quot;,\n                        &quot;stackTrace&quot;: &quot;%rEx{full}&quot;,\n                        &quot;globalSessionId&quot; : &quot;%globalSessionId&quot;\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Any suggestion would be appreaciated</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1430116433,"post_id":29888592,"comment_id":47901076,"body_markdown":"That doesn&#39;t look like an error from &quot;pure Intellij&quot;; aren&#39;t you using an ant buildscript or something?","body":"That doesn&#39;t look like an error from &quot;pure Intellij&quot;; aren&#39;t you using an ant buildscript or something?"},{"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":6,"creation_date":1440614509,"post_id":29888592,"comment_id":52350960,"body_markdown":"possible duplicate of [IDEA: javac: source release 1.7 requires target release 1.7](http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7\">IDEA: javac: source release 1.7 requires target release 1.7</a>"},{"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"score":0,"creation_date":1503393697,"post_id":29888592,"comment_id":78584806,"body_markdown":"https://stackoverflow.com/a/42993827/2685581","body":"<a href=\"https://stackoverflow.com/a/42993827/2685581\">stackoverflow.com/a/42993827/2685581</a>"}],"answers":[{"comments":[{"owner":{"account_id":1273484,"reputation":2271,"user_id":1229237,"accept_rate":91,"display_name":"DJH"},"score":10,"creation_date":1438940302,"post_id":29889811,"comment_id":51666826,"body_markdown":"For other Maven newbies like myself, this should be under `project`, `build`, and then `plugins`.","body":"For other Maven newbies like myself, this should be under <code>project</code>, <code>build</code>, and then <code>plugins</code>."},{"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"score":5,"creation_date":1440614413,"post_id":29889811,"comment_id":52350894,"body_markdown":"Also if `&lt;source&gt;1.8&lt;/source&gt;` and `&lt;target&gt;1.8&lt;/target&gt;` is configured, the above error can occur.","body":"Also if <code>&lt;source&gt;1.8&lt;&#47;source&gt;</code> and <code>&lt;target&gt;1.8&lt;&#47;target&gt;</code> is configured, the above error can occur."},{"owner":{"account_id":4956497,"reputation":576,"user_id":3988931,"accept_rate":80,"display_name":"Boris"},"score":1,"creation_date":1451863381,"post_id":29889811,"comment_id":56910826,"body_markdown":"This worked for me, thank you! The version tag did not resolve (I changed it to match my version of Maven) so I commented it out. I believe Maven should automatically fetch the correct latest version in that case, based on this thread: https://stackoverflow.com/questions/17239394/maven-plugin-version-not-specified.","body":"This worked for me, thank you! The version tag did not resolve (I changed it to match my version of Maven) so I commented it out. I believe Maven should automatically fetch the correct latest version in that case, based on this thread: <a href=\"https://stackoverflow.com/questions/17239394/maven-plugin-version-not-specified\" title=\"maven plugin version not specified\">stackoverflow.com/questions/17239394/&hellip;</a>."}],"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"comment_count":3,"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1475735587,"creation_date":1430120188,"answer_id":29889811,"question_id":29888592,"body_markdown":"This looks like the kind of error that Maven generates when you don&#39;t have the compiler plugin configured correctly.  Here&#39;s an example of a Java 8 compiler config.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n\r\n    &lt;/project&gt;","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>This looks like the kind of error that Maven generates when you don't have the compiler plugin configured correctly.  Here's an example of a Java 8 compiler config.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n&lt;!-- ... --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;!-- ... --&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3148552,"reputation":162,"user_id":2662503,"accept_rate":67,"display_name":"DtechNet"},"score":0,"creation_date":1439747195,"post_id":30524848,"comment_id":51977052,"body_markdown":"Works in IntelliJ 14 Ultimate.","body":"Works in IntelliJ 14 Ultimate."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1442998338,"post_id":30524848,"comment_id":53310924,"body_markdown":"On older IDEA versions, try: Settings -&gt; Compiler -&gt; Java Compiler -&gt; Per-module bytecode version","body":"On older IDEA versions, try: Settings -&gt; Compiler -&gt; Java Compiler -&gt; Per-module bytecode version"},{"owner":{"account_id":454750,"reputation":836,"user_id":852523,"accept_rate":88,"display_name":"J.P. Armstrong"},"score":91,"creation_date":1443276490,"post_id":30524848,"comment_id":53433724,"body_markdown":"If you&#39;re on a Mac, it&#39;s under Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler","body":"If you&#39;re on a Mac, it&#39;s under Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler"},{"owner":{"account_id":454252,"reputation":12552,"user_id":851699,"accept_rate":41,"display_name":"Peter"},"score":0,"creation_date":1455117757,"post_id":30524848,"comment_id":58346893,"body_markdown":"In IntelliJ v14 it&#39;s File --&gt; Other Settings --&gt; Default Settings --&gt; Build, Execution, Deployment --&gt; Java Compiler.","body":"In IntelliJ v14 it&#39;s File --&gt; Other Settings --&gt; Default Settings --&gt; Build, Execution, Deployment --&gt; Java Compiler."},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":5,"creation_date":1472193668,"post_id":30524848,"comment_id":65663042,"body_markdown":"For Intellij newer than 2016.2, there&#39;s one more place to check: `Project Structure -&gt; Project Settings -&gt; Modules -&gt; Denpendencies -&gt; Module SDK`.","body":"For Intellij newer than 2016.2, there&#39;s one more place to check: <code>Project Structure -&gt; Project Settings -&gt; Modules -&gt; Denpendencies -&gt; Module SDK</code>."},{"owner":{"account_id":2970960,"reputation":1759,"user_id":2523007,"accept_rate":55,"display_name":"vanomart"},"score":0,"creation_date":1473600113,"post_id":30524848,"comment_id":66195439,"body_markdown":"if you are building with gradle, add sourceCompatibility = 1.8 to your project build.gradle file","body":"if you are building with gradle, add sourceCompatibility = 1.8 to your project build.gradle file"},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":2,"creation_date":1474830346,"post_id":30524848,"comment_id":66680648,"body_markdown":"When you have a POM hierarchy with more than two levels and your compiler plugin is defined in the parent POM, IntelliJ might not recognize it at the deepest level. I say might not, because for some other modules it does, even when they extend the same parent POM.","body":"When you have a POM hierarchy with more than two levels and your compiler plugin is defined in the parent POM, IntelliJ might not recognize it at the deepest level. I say might not, because for some other modules it does, even when they extend the same parent POM."},{"owner":{"account_id":1063694,"reputation":398,"user_id":1064765,"display_name":"PHPGuru"},"score":0,"creation_date":1487276274,"post_id":30524848,"comment_id":71724186,"body_markdown":"For IntelliJ 2016.3 it is a little different path. Change it at: Build, Execution, Deployment &gt; Compiler &gt; Java Compiler","body":"For IntelliJ 2016.3 it is a little different path. Change it at: Build, Execution, Deployment &gt; Compiler &gt; Java Compiler"},{"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"score":0,"creation_date":1499866869,"post_id":30524848,"comment_id":77092076,"body_markdown":"Add &lt;version&gt;3.6.1&lt;/version&gt; after &lt;artifactId&gt;&lt;/artifactId&gt; becose Maven &gt;=3.0 will have warning.","body":"Add &lt;version&gt;3.6.1&lt;/version&gt; after &lt;artifactId&gt;&lt;/artifactId&gt; becose Maven &gt;=3.0 will have warning."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1526933126,"post_id":30524848,"comment_id":87925201,"body_markdown":"Why the IDE has 1.5 as default: &quot;Also note that at present the default source setting is 1.5 and the default target setting is 1.5, independently of the JDK you run Maven with.&quot; https://maven.apache.org/plugins/maven-compiler-plugin/","body":"Why the IDE has 1.5 as default: &quot;Also note that at present the default source setting is 1.5 and the default target setting is 1.5, independently of the JDK you run Maven with.&quot; <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin</a>"},{"owner":{"account_id":3675231,"reputation":1984,"user_id":3061473,"accept_rate":83,"display_name":"Ido"},"score":0,"creation_date":1605830140,"post_id":30524848,"comment_id":114780149,"body_markdown":"Tested on Android Studio 4.1.1 is inside: `File -&gt; Project Structure -&gt; Modules`","body":"Tested on Android Studio 4.1.1 is inside: <code>File -&gt; Project Structure -&gt; Modules</code>"}],"tags":[],"owner":{"account_id":5172654,"reputation":22240,"user_id":4140711,"accept_rate":100,"display_name":"Weslor"},"comment_count":11,"down_vote_count":5,"up_vote_count":2059,"is_accepted":true,"score":2054,"last_activity_date":1636155581,"creation_date":1432888307,"answer_id":30524848,"question_id":29888592,"body_markdown":"1. Go to **File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler** If on a Mac, it&#39;s under **Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler**\r\n2. Change **Target bytecode version** to **1.8** of the module that you are working for.\r\n\r\n**If you are using Maven**\r\n\r\nAdd the compiler plugin to `pom.xml` under the top-level `project` node:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n(Hoisted from the comments.)\r\n\r\nNote: If you don&#39;t mind reimporting your project, then the only thing you really need to do is change the pom and reimport the project, then IntelliJ will pick up the correct settings and you don&#39;t have to manually change them.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<ol>\n<li>Go to <strong>File &gt; Settings &gt; Build, Execution, Deployment &gt; Compiler &gt; Java Compiler</strong> If on a Mac, it's under <strong>Intellij IDEA &gt; Preferences... &gt; Build, Execution, Deployment &gt; Java Compiler</strong></li>\n<li>Change <strong>Target bytecode version</strong> to <strong>1.8</strong> of the module that you are working for.</li>\n</ol>\n<p><strong>If you are using Maven</strong></p>\n<p>Add the compiler plugin to <code>pom.xml</code> under the top-level <code>project</code> node:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>(Hoisted from the comments.)</p>\n<p>Note: If you don't mind reimporting your project, then the only thing you really need to do is change the pom and reimport the project, then IntelliJ will pick up the correct settings and you don't have to manually change them.</p>\n"},{"tags":[],"owner":{"account_id":5795236,"reputation":2438,"user_id":4708560,"accept_rate":90,"display_name":"Gregory Mazur"},"comment_count":0,"down_vote_count":1,"up_vote_count":217,"is_accepted":false,"score":216,"last_activity_date":1440165763,"creation_date":1440162325,"answer_id":32141090,"question_id":29888592,"body_markdown":"You need to go to Settings and set under the Java compiler the following:\r\n[![enter image description here][1]][1]\r\n\r\nalso check the Project Settings\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OW3jL.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>You need to go to Settings and set under the Java compiler the following:\n<a href=\"https://i.stack.imgur.com/OW3jL.png\"><img src=\"https://i.stack.imgur.com/OW3jL.png\" alt=\"enter image description here\"></a></p>\n\n<p>also check the Project Settings</p>\n"},{"tags":[],"owner":{"account_id":5629922,"reputation":1670,"user_id":4457155,"display_name":"Lord Nighton"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1447700469,"creation_date":1447700469,"answer_id":33742637,"question_id":29888592,"body_markdown":"There are two ways to solve this problem:\r\n\r\n 1. Set settings `(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)`:\r\n[![enter image description here][1]][1]\r\n 2. Add a build section to your `pom.xml`:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4b9of.png\r\n  [2]: http://i.stack.imgur.com/T7B1Z.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>There are two ways to solve this problem:</p>\n\n<ol>\n<li>Set settings <code>(File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Java Compiler)</code>:\n<a href=\"https://i.stack.imgur.com/4b9of.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4b9of.png\" alt=\"enter image description here\"></a></li>\n<li>Add a build section to your <code>pom.xml</code>:\n<a href=\"https://i.stack.imgur.com/T7B1Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/T7B1Z.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":475721,"reputation":309,"user_id":886217,"display_name":"Adam Lehenbauer"},"score":4,"creation_date":1484249291,"post_id":33827082,"comment_id":70444069,"body_markdown":"This absolutely worked for me (thanks!) but I don&#39;t understand why this is different than what&#39;s in the pom.xml, module settings, etc...","body":"This absolutely worked for me (thanks!) but I don&#39;t understand why this is different than what&#39;s in the pom.xml, module settings, etc..."},{"owner":{"account_id":9170474,"reputation":993,"user_id":6818209,"accept_rate":67,"display_name":"X. Wang"},"score":1,"creation_date":1546840746,"post_id":33827082,"comment_id":94971332,"body_markdown":"press ⌘,  to get preference.","body":"press ⌘,  to get preference."}],"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":2,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1586805572,"creation_date":1448023531,"answer_id":33827082,"question_id":29888592,"body_markdown":"### The quickest way I found:\r\n - press:&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt; (For Mac &lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;SHIFT&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt;)\r\n - type: `java compiler`\r\n - press: &lt;kbd&gt;ENTER&lt;/kbd&gt;\r\n\r\nIn the Settings window, set the Target bytecode to **1.8**\r\n\r\n(or **9** for java9)","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<h3>The quickest way I found:</h3>\n\n<ul>\n<li>press:<kbd>CTRL</kbd> + <kbd>SHIFT</kbd> + <kbd>A</kbd> (For Mac <kbd>⌘</kbd> + <kbd>SHIFT</kbd> + <kbd>A</kbd>)</li>\n<li>type: <code>java compiler</code></li>\n<li>press: <kbd>ENTER</kbd></li>\n</ul>\n\n<p>In the Settings window, set the Target bytecode to <strong>1.8</strong></p>\n\n<p>(or <strong>9</strong> for java9)</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450311603,"creation_date":1450311603,"answer_id":34324604,"question_id":29888592,"body_markdown":"I fixed this by going to **Project Structure** -&gt; **Modules**, find the module in question, click on **Dependencies** tab, change `Module SDK` to `Project SDK`.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed this by going to <strong>Project Structure</strong> -> <strong>Modules</strong>, find the module in question, click on <strong>Dependencies</strong> tab, change <code>Module SDK</code> to <code>Project SDK</code>.</p>\n"},{"tags":[],"owner":{"account_id":6285065,"reputation":41,"user_id":4884640,"display_name":"user4884640"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452155278,"creation_date":1452155278,"answer_id":34650407,"question_id":29888592,"body_markdown":"I fixed it by modify my POM file. Notice the last comment under the highest voted answer.\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThe source must matches the target.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed it by modify my POM file. Notice the last comment under the highest voted answer.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The source must matches the target.</p>\n"},{"comments":[{"owner":{"account_id":936963,"reputation":5575,"user_id":965730,"accept_rate":82,"display_name":"Hendrik Jander"},"score":2,"creation_date":1454858774,"post_id":35061064,"comment_id":58223037,"body_markdown":"It seems sometimes Intellij does not update the config files even when you configured all menus. *Invalidate caches and restart* (after editing the config files), did the trick for me. Strange.","body":"It seems sometimes Intellij does not update the config files even when you configured all menus. <i>Invalidate caches and restart</i> (after editing the config files), did the trick for me. Strange."},{"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"score":1,"creation_date":1474309260,"post_id":35061064,"comment_id":66469227,"body_markdown":"Thanks so much. Finally after trying and failing every other solution specified above, this worked.","body":"Thanks so much. Finally after trying and failing every other solution specified above, this worked."}],"tags":[],"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453982791,"creation_date":1453982791,"answer_id":35061064,"question_id":29888592,"body_markdown":"In my case I fixed this issue by opening **.iml file** of project (it is located in project root folder and have name same as the name of project) and changing line `&lt;orderEntry type=&quot;jdk&quot; jdkName=&quot;1.7&quot; jdkType=&quot;JavaSDK&quot; /&gt;` to `&lt;orderEntry type=&quot;jdk&quot; jdkName=&quot;1.8&quot; jdkType=&quot;JavaSDK&quot; /&gt;` \r\n\r\n\r\nI had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>In my case I fixed this issue by opening <strong>.iml file</strong> of project (it is located in project root folder and have name same as the name of project) and changing line <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.7\" jdkType=\"JavaSDK\" /&gt;</code> to <code>&lt;orderEntry type=\"jdk\" jdkName=\"1.8\" jdkType=\"JavaSDK\" /&gt;</code> </p>\n\n<p>I had everything configured as in others answers here but by some reason Idea updated .iml file incorrectly.</p>\n"},{"comments":[{"owner":{"account_id":428306,"reputation":1151,"user_id":810546,"accept_rate":0,"display_name":"WebComer"},"score":1,"creation_date":1465824451,"post_id":36558227,"comment_id":63048159,"body_markdown":"Thanks, Vishal.\nWe have to specify project bytecode version, or at least per-module bytecode version with Intellij Idea. Just setting it in pom.xml for maven-compiler-plugin didn&#39;t solve the problem for me.","body":"Thanks, Vishal. We have to specify project bytecode version, or at least per-module bytecode version with Intellij Idea. Just setting it in pom.xml for maven-compiler-plugin didn&#39;t solve the problem for me."}],"tags":[],"owner":{"account_id":7738376,"reputation":2013,"user_id":5859173,"accept_rate":56,"display_name":"Vishal"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460405063,"creation_date":1460405063,"answer_id":36558227,"question_id":29888592,"body_markdown":"I fixed it just by changing target compile version to 1.8. Its in:\r\n\r\nFile &gt;&gt; Settings &gt;&gt; Build, Execution, Deployment &gt;&gt; Compiler &gt;&gt; Java Compiler\r\n\r\n","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I fixed it just by changing target compile version to 1.8. Its in:</p>\n\n<p>File >> Settings >> Build, Execution, Deployment >> Compiler >> Java Compiler</p>\n"},{"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":1,"creation_date":1482507362,"post_id":41056432,"comment_id":69810648,"body_markdown":"@ Marvin Richter I tried your solution but it does not work with IntelliJ - My guess is that it&#39;s correct in pure maven build (command-line), but IntelliJ just ignore these properties. I had to configure the plugin as mentioned in other solutions.","body":"@ Marvin Richter I tried your solution but it does not work with IntelliJ - My guess is that it&#39;s correct in pure maven build (command-line), but IntelliJ just ignore these properties. I had to configure the plugin as mentioned in other solutions."},{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":1,"creation_date":1483950141,"post_id":41056432,"comment_id":70291954,"body_markdown":"No I did not, because the other solutions worked. And now I migrated my project to gradle.","body":"No I did not, because the other solutions worked. And now I migrated my project to gradle."},{"owner":{"account_id":264140,"reputation":2122,"user_id":550208,"accept_rate":75,"display_name":"ptkvsk"},"score":6,"creation_date":1484303008,"post_id":41056432,"comment_id":70464345,"body_markdown":"Works like a charm after you do Right click on pom.xml -&gt; Maven -&gt; Reimport.\n\nThis should be the accepted answer for Maven users.","body":"Works like a charm after you do Right click on pom.xml -&gt; Maven -&gt; Reimport.  This should be the accepted answer for Maven users."},{"owner":{"account_id":3906953,"reputation":11659,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"score":0,"creation_date":1508398157,"post_id":41056432,"comment_id":80596848,"body_markdown":"You actually need the plugin `org.apache.maven.plugins:maven-compiler-plugin` in your pom or gradle file, what in the documentation intented to say is that having that property set in the pom properties will be enough, basically because they set the defaults values of the plugin, e.g. &lt;source&gt;${maven.compiler.source}&lt;/source&gt;","body":"You actually need the plugin <code>org.apache.maven.plugins:maven-compiler-plugin</code> in your pom or gradle file, what in the documentation intented to say is that having that property set in the pom properties will be enough, basically because they set the defaults values of the plugin, e.g. &lt;source&gt;${maven.compiler.source}&lt;/source&gt;"},{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":0,"creation_date":1531169693,"post_id":41056432,"comment_id":89486695,"body_markdown":"This should be the accepted answer. Worked for me on IntelliJ 2018.2 on mac os 10.13.5","body":"This should be the accepted answer. Worked for me on IntelliJ 2018.2 on mac os 10.13.5"},{"owner":{"account_id":8454594,"reputation":638,"user_id":6342442,"display_name":"Tim"},"score":0,"creation_date":1531243702,"post_id":41056432,"comment_id":89520297,"body_markdown":"This was the only thing that fixed it for me after hours of searching. All other settings were right (and worked fine for years) and then suddenly one day not having this changed everything and my maven couldn&#39;t compile Java 8 anymore.","body":"This was the only thing that fixed it for me after hours of searching. All other settings were right (and worked fine for years) and then suddenly one day not having this changed everything and my maven couldn&#39;t compile Java 8 anymore."},{"owner":{"account_id":201997,"reputation":1987,"user_id":448779,"accept_rate":100,"display_name":"foo"},"score":0,"creation_date":1579977448,"post_id":41056432,"comment_id":105949560,"body_markdown":"It&#39;s the correct solution; just that IntelliJ has a bug (still!) ignoring this may cause some inconvenience...","body":"It&#39;s the correct solution; just that IntelliJ has a bug (still!) ignoring this may cause some inconvenience..."}],"tags":[],"owner":{"account_id":2256199,"reputation":591,"user_id":1987338,"display_name":"Marvin Richter"},"comment_count":7,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1481273297,"creation_date":1481273297,"answer_id":41056432,"question_id":29888592,"body_markdown":"Many answers regarding Maven are right but you don&#39;t have to configure the plugin directly.\r\n\r\nLike described on the [wiki page][1] of the Apache Maven Compiler Plugin you can just set the 2 properties used by the plugin.\r\n\r\n    &lt;project&gt;\r\n      [...]\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      [...]\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Many answers regarding Maven are right but you don't have to configure the plugin directly.</p>\n\n<p>Like described on the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"noreferrer\">wiki page</a> of the Apache Maven Compiler Plugin you can just set the 2 properties used by the plugin.</p>\n\n<pre><code>&lt;project&gt;\n  [...]\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494340726,"creation_date":1494340726,"answer_id":43872794,"question_id":29888592,"body_markdown":"For me, the problem was about Maven not able to find proper configurations, since these items were specified in parent pom.\r\n\r\nChanging File -&gt; Settings -&gt; Build, Excecution, Deployment -&gt; Maven -&gt; User Settings file to point to my custom settings with proper repositories fixed the problem that was otherwise hiding.\r\n\r\nFound out about the problem through Help -&gt; Show log in explorer -&gt; clicking the log file, when previously only got the error in the title and &quot;java.lang.NullPointerException&quot; in the console.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>For me, the problem was about Maven not able to find proper configurations, since these items were specified in parent pom.</p>\n\n<p>Changing File -> Settings -> Build, Excecution, Deployment -> Maven -> User Settings file to point to my custom settings with proper repositories fixed the problem that was otherwise hiding.</p>\n\n<p>Found out about the problem through Help -> Show log in explorer -> clicking the log file, when previously only got the error in the title and \"java.lang.NullPointerException\" in the console.</p>\n"},{"tags":[],"owner":{"account_id":4852136,"reputation":2494,"user_id":3914166,"accept_rate":25,"display_name":"Bachiri Taoufiq Abderrahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497054975,"creation_date":1497054975,"answer_id":44468378,"question_id":29888592,"body_markdown":"Under compiler.xml  file you will find :\r\n\r\n    &lt;bytecodeTargetLevel&gt;\r\n      &lt;module name=&quot;your_project_name_main&quot; target=&quot;1.8&quot; /&gt;\r\n      &lt;module name=&quot;your_project_name_test&quot; target=&quot;1.8&quot; /&gt;\r\n    &lt;/bytecodeTargetLevel&gt;\r\n\r\nand you can change the target value from your old to the new for me i needed to change it from 1.5 to 1.8 ","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Under compiler.xml  file you will find :</p>\n\n<pre><code>&lt;bytecodeTargetLevel&gt;\n  &lt;module name=\"your_project_name_main\" target=\"1.8\" /&gt;\n  &lt;module name=\"your_project_name_test\" target=\"1.8\" /&gt;\n&lt;/bytecodeTargetLevel&gt;\n</code></pre>\n\n<p>and you can change the target value from your old to the new for me i needed to change it from 1.5 to 1.8 </p>\n"},{"tags":[],"owner":{"account_id":8100982,"reputation":1,"user_id":6104006,"display_name":"Axmedbek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1497439082,"creation_date":1497439082,"answer_id":44543258,"question_id":29888592,"body_markdown":"**Solution of the problem is very simple**.You have to open **.idea/compiler.xml** file on your İdea Project and \r\n\r\n**You should write appropriate target version**\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmiOu.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p><strong>Solution of the problem is very simple</strong>.You have to open <strong>.idea/compiler.xml</strong> file on your İdea Project and </p>\n\n<p><strong>You should write appropriate target version</strong></p>\n"},{"tags":[],"owner":{"account_id":940893,"reputation":6928,"user_id":968988,"accept_rate":79,"display_name":"Nicolas Zozol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499937782,"creation_date":1499937782,"answer_id":45076494,"question_id":29888592,"body_markdown":"With **Intellij**, using **Maven**, you must check that Intellij has auto-imported your project. \r\nYou can check by clicking on the Maven tab on the right of your Editor.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf your Project is not here, then add the `pom.xml` file by clicking on `+`.\r\n\r\nObviously, the project must also have the relevant `&lt;build/&gt;` :\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/yA1Zf.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>With <strong>Intellij</strong>, using <strong>Maven</strong>, you must check that Intellij has auto-imported your project. \nYou can check by clicking on the Maven tab on the right of your Editor.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yA1Zf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA1Zf.png\" alt=\"enter image description here\"></a></p>\n\n<p>If your Project is not here, then add the <code>pom.xml</code> file by clicking on <code>+</code>.</p>\n\n<p>Obviously, the project must also have the relevant <code>&lt;build/&gt;</code> :</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8044424,"reputation":1599,"user_id":6065032,"accept_rate":60,"display_name":"B.shruti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510040395,"creation_date":1510035801,"answer_id":47151247,"question_id":29888592,"body_markdown":"If you are working with Android-studio 1.3, Follow the below steps -\r\n\r\nGo to **File** - **Project Structure**\r\n\r\nUnder **modules**- **app**-**Properties** tab, choose\r\n**Source Compatibility** -**1.8**  and\r\n\r\n**Target Compatibility** - **1.8**.\r\n\r\nAnd you  are good to go.\r\n","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>If you are working with Android-studio 1.3, Follow the below steps -</p>\n\n<p>Go to <strong>File</strong> - <strong>Project Structure</strong></p>\n\n<p>Under <strong>modules</strong>- <strong>app</strong>-<strong>Properties</strong> tab, choose\n<strong>Source Compatibility</strong> -<strong>1.8</strong>  and</p>\n\n<p><strong>Target Compatibility</strong> - <strong>1.8</strong>.</p>\n\n<p>And you  are good to go.</p>\n"},{"tags":[],"owner":{"account_id":7507798,"reputation":883,"user_id":5703813,"accept_rate":62,"display_name":"Muhammad Usman"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1563453495,"creation_date":1510808153,"answer_id":47321896,"question_id":29888592,"body_markdown":"You need to go to the `/.idea/compiler.xml` and change `target` to required `jdk` level.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNe7s.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>You need to go to the <code>/.idea/compiler.xml</code> and change <code>target</code> to required <code>jdk</code> level.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WNe7s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNe7s.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":440674,"reputation":555,"user_id":830374,"accept_rate":88,"display_name":"dzimney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514135826,"creation_date":1514135826,"answer_id":47962585,"question_id":29888592,"body_markdown":"**If none of the other answers work, check your Module SDK**.\r\n\r\nI had this error pop up for me after I had updated the project SDK to 1.8, the Javac compiler to 1.8, etc. The setting that was the problem for me was the &quot;Module SDK&quot;.\r\n\r\n(on Linux) Go to `File &gt; Project Structure...` then in the window that opens, select `Modules` under `Project Settings`. Select the module in question from the list and then the `Dependencies` tab and make sure that `Module SDK` is set appropriately.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p><strong>If none of the other answers work, check your Module SDK</strong>.</p>\n\n<p>I had this error pop up for me after I had updated the project SDK to 1.8, the Javac compiler to 1.8, etc. The setting that was the problem for me was the \"Module SDK\".</p>\n\n<p>(on Linux) Go to <code>File &gt; Project Structure...</code> then in the window that opens, select <code>Modules</code> under <code>Project Settings</code>. Select the module in question from the list and then the <code>Dependencies</code> tab and make sure that <code>Module SDK</code> is set appropriately.</p>\n"},{"tags":[],"owner":{"account_id":11719268,"reputation":1687,"user_id":8578684,"display_name":"snap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525336775,"creation_date":1525336775,"answer_id":50150575,"question_id":29888592,"body_markdown":"I have checked all of the above but the error still occurs.\r\n\r\nBut reimport all maven Projects (reload button inside Maven Projects panel) works in my case.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I have checked all of the above but the error still occurs.</p>\n\n<p>But reimport all maven Projects (reload button inside Maven Projects panel) works in my case.</p>\n"},{"tags":[],"owner":{"account_id":4197695,"reputation":501,"user_id":3438692,"display_name":"thunder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526572486,"creation_date":1526572486,"answer_id":50395781,"question_id":29888592,"body_markdown":"I&#39;ve just spent a while struggling with the same problem. \r\nThe only thing that worked for me was not using the built mvn (3.3.9) but pointing it to an external downloaded version (3.5.0). Finally the project opened and everything was good. ","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I've just spent a while struggling with the same problem. \nThe only thing that worked for me was not using the built mvn (3.3.9) but pointing it to an external downloaded version (3.5.0). Finally the project opened and everything was good. </p>\n"},{"tags":[],"owner":{"account_id":1057900,"reputation":3185,"user_id":1060208,"display_name":"Hieu Vo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528877717,"creation_date":1528877717,"answer_id":50832270,"question_id":29888592,"body_markdown":"Don&#39;t forget to set dependencies for your module:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UHjwL.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Don't forget to set dependencies for your module:\n<a href=\"https://i.stack.imgur.com/UHjwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHjwL.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1749094,"reputation":377,"user_id":1598617,"accept_rate":60,"display_name":"Veilchen4ever"},"score":0,"creation_date":1533661133,"post_id":51412814,"comment_id":90424670,"body_markdown":"Thanks. That hint made it","body":"Thanks. That hint made it"}],"tags":[],"owner":{"account_id":10533928,"reputation":43,"user_id":7762429,"display_name":"Pham Hung"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531975256,"creation_date":1531961339,"answer_id":51412814,"question_id":29888592,"body_markdown":"I just re-import maven button, then the error disappeared.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Or08.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>I just re-import maven button, then the error disappeared.</p>\n\n<p><a href=\"https://i.stack.imgur.com/9Or08.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Or08.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2731050,"reputation":2041,"user_id":2354845,"display_name":"Badr"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544462468,"creation_date":1544462468,"answer_id":53710586,"question_id":29888592,"body_markdown":"In your Gradle app level file  &gt;&gt; compileOptions add this two lines\r\n\r\n    android {\r\n      compileOptions {\r\n        ...\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n        ...\r\n       }\r\n    }","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>In your Gradle app level file  >> compileOptions add this two lines</p>\n\n<pre><code>android {\n  compileOptions {\n    ...\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n    ...\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7802687,"reputation":422,"user_id":5901503,"display_name":"Gani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556516245,"creation_date":1556516245,"answer_id":55897526,"question_id":29888592,"body_markdown":"This issue occurs if your module is configured with Annotation processor and other module is not.Set the same configuration for all the modules as it wold be cyclic dependency.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>This issue occurs if your module is configured with Annotation processor and other module is not.Set the same configuration for all the modules as it wold be cyclic dependency.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646254168,"creation_date":1646254168,"answer_id":71328962,"question_id":29888592,"body_markdown":"the below code working fine by my side. I just add it in the **`pom.xml`** file. \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>the below code working fine by my side. I just add it in the <strong><code>pom.xml</code></strong> file.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11807439,"reputation":83,"user_id":8639595,"display_name":"c4da"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672230669,"creation_date":1672230669,"answer_id":74940277,"question_id":29888592,"body_markdown":"The only thing that helped me was to delete .idea/compiler.xml file.","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>The only thing that helped me was to delete .idea/compiler.xml file.</p>\n"}],"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512967,"favorite_count":0,"down_vote_count":1,"up_vote_count":964,"accepted_answer_id":30524848,"answer_count":25,"score":963,"last_activity_date":1672230669,"creation_date":1430115868,"question_id":29888592,"body_markdown":"Using IntelliJ IDE can&#39;t compile any projects. Screenshots of settings below:\r\n\r\nUsed JDK:\r\n\r\n[![http://gyazo.com/b6e32119af7b04090d890cad04db6373][1]][1]\r\n\r\nProject SDK and Language level:\r\n\r\n[![http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab][2]][2]\r\n\r\nLanguage Level:\r\n\r\n[![http://gyazo.com/143bffad63fd89cafc231298729df2fc][3]][3]\r\n\r\nAnybody have any ideas?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cpggk.png\r\n  [2]: http://i.stack.imgur.com/0gEQl.png\r\n  [3]: http://i.stack.imgur.com/8z6A4.png","title":"Error:java: javacTask: source release 8 requires target release 1.8","body":"<p>Using IntelliJ IDE can't compile any projects. Screenshots of settings below:</p>\n\n<p>Used JDK:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cpggk.png\"><img src=\"https://i.stack.imgur.com/cpggk.png\" alt=\"http://gyazo.com/b6e32119af7b04090d890cad04db6373\"></a></p>\n\n<p>Project SDK and Language level:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0gEQl.png\"><img src=\"https://i.stack.imgur.com/0gEQl.png\" alt=\"http://gyazo.com/55a5fc9f7f2bb721a04780ce9d74eeab\"></a></p>\n\n<p>Language Level:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8z6A4.png\"><img src=\"https://i.stack.imgur.com/8z6A4.png\" alt=\"http://gyazo.com/143bffad63fd89cafc231298729df2fc\"></a></p>\n\n<p>Anybody have any ideas?</p>\n"},{"tags":["java","volatile"],"comments":[{"owner":{"account_id":20167003,"reputation":344,"user_id":14790684,"display_name":"Al-Anazi"},"score":1,"creation_date":1672135240,"post_id":74927498,"comment_id":132226355,"body_markdown":"short answer yes, since this assignment is an [atomic access](https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html).","body":"short answer yes, since this assignment is an <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">atomic access</a>."},{"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"score":0,"creation_date":1672227174,"post_id":74927498,"comment_id":132245623,"body_markdown":"@Mr.Typo Thank you for the comment. Your short comment with a link deserves a whole answer.","body":"@Mr.Typo Thank you for the comment. Your short comment with a link deserves a whole answer."}],"answers":[{"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":2,"creation_date":1672210079,"post_id":74929032,"comment_id":132241675,"body_markdown":"Caches on modern CPUs are always coherent. No matter if you are using volatile or not.","body":"Caches on modern CPUs are always coherent. No matter if you are using volatile or not."}],"tags":[],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672230393,"creation_date":1672142647,"answer_id":74929032,"question_id":74927498,"body_markdown":"When a variable is created and used, it also exists in a cache. This cache isn&#39;t always in sync especially when you are using multiple threads.  When you mark a variable as `volatile`, you are telling the system that the cache has to be updated immediately so that anyone else using it will have the updated value.\r\n\r\nI’m addition the keyword volatile is still valid in modern programming languages and is used to indicate that a variable may be modified by multiple threads or processes concurrently. This is especially important in programs that use shared memory or memory-mapped I/O.\r\n\r\nWhen a variable is declared as volatile, the compiler and processor are instructed to treat it with a higher level of caution and to avoid certain optimizations that might interfere with the correct operation of the program. For example, the compiler might be prevented from caching the value of the variable in a register or from reordering instructions that access the variable.\r\n\r\nOne reason why the volatile keyword is still important today is that modern processors often use techniques such as out-of-order execution and speculative execution to improve performance. These techniques can cause the processor to execute instructions in a different order than the order in which they appear in the code, which can lead to unexpected behavior if the programmer is not careful. The volatile keyword can be used to prevent such optimizations from occurring on a particular variable, ensuring that the variable is accessed in a predictable way.\r\n\r\nIn summary, the volatile keyword is still relevant today because it allows programmers to control how variables are accessed and modified in multithreaded or concurrent programs, which is an important consideration when writing high-performance code that executes on modern processors.","title":"Can I update other object&#39;s volatile variable directly?","body":"<p>When a variable is created and used, it also exists in a cache. This cache isn't always in sync especially when you are using multiple threads.  When you mark a variable as <code>volatile</code>, you are telling the system that the cache has to be updated immediately so that anyone else using it will have the updated value.</p>\n<p>I’m addition the keyword volatile is still valid in modern programming languages and is used to indicate that a variable may be modified by multiple threads or processes concurrently. This is especially important in programs that use shared memory or memory-mapped I/O.</p>\n<p>When a variable is declared as volatile, the compiler and processor are instructed to treat it with a higher level of caution and to avoid certain optimizations that might interfere with the correct operation of the program. For example, the compiler might be prevented from caching the value of the variable in a register or from reordering instructions that access the variable.</p>\n<p>One reason why the volatile keyword is still important today is that modern processors often use techniques such as out-of-order execution and speculative execution to improve performance. These techniques can cause the processor to execute instructions in a different order than the order in which they appear in the code, which can lead to unexpected behavior if the programmer is not careful. The volatile keyword can be used to prevent such optimizations from occurring on a particular variable, ensuring that the variable is accessed in a predictable way.</p>\n<p>In summary, the volatile keyword is still relevant today because it allows programmers to control how variables are accessed and modified in multithreaded or concurrent programs, which is an important consideration when writing high-performance code that executes on modern processors.</p>\n"}],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74929032,"answer_count":1,"score":0,"last_activity_date":1672230393,"creation_date":1672132492,"question_id":74927498,"body_markdown":"Say I have an object looks like this.\r\n\r\n```java\r\nclass Some {\r\n\r\n    synchronized void some() {\r\n        // do some with canceled\r\n    }\r\n\r\n    synchronized void setAsCanceled() {\r\n        canceled = true;\r\n    }\r\n\r\n    volatile boolean canceled = false; // package-private\r\n}\r\n```\r\n\r\nNow another object may update the `canceled`.\r\n\r\n```java\r\nclass Other {\r\n\r\n    void setSomeAsCanceled() {\r\n        some.canceled = true; // Not calling the setAsCanceled()\r\n    }\r\n\r\n    private Some some = new Some();\r\n}\r\n```\r\n\r\nIs it safe to update the `canceled` **volatile** variable directly? Or should I call the `setAsCanceled()` method?","title":"Can I update other object&#39;s volatile variable directly?","body":"<p>Say I have an object looks like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Some {\n\n    synchronized void some() {\n        // do some with canceled\n    }\n\n    synchronized void setAsCanceled() {\n        canceled = true;\n    }\n\n    volatile boolean canceled = false; // package-private\n}\n</code></pre>\n<p>Now another object may update the <code>canceled</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Other {\n\n    void setSomeAsCanceled() {\n        some.canceled = true; // Not calling the setAsCanceled()\n    }\n\n    private Some some = new Some();\n}\n</code></pre>\n<p>Is it safe to update the <code>canceled</code> <strong>volatile</strong> variable directly? Or should I call the <code>setAsCanceled()</code> method?</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672229999,"creation_date":1672229999,"answer_id":74940183,"question_id":74939842,"body_markdown":"You can use [`Mono.zip`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-) to aggreate the results of multiple `Mono`s into a single one that will be fulfilled when all of the given Monos have produced an item.\r\n\r\n```java\r\npublic final class OrderResponse {\r\n    private final Book book;\r\n    private final Container container;\r\n\r\n    public OrderResponse(Book book, Container container) {\r\n        this.book = book;\r\n        this.container = container;\r\n    }\r\n\r\n    // ...\r\n}\r\n\r\npublic Mono&lt;OrderResponse&gt; getProductById(Integer id) {\r\n    // replace these lines with your actual calls\r\n    Mono&lt;Book&gt; bookMono = Mono.just(new Book(1, &quot;Book 1&quot;, 1L));\r\n    Mono&lt;Container&gt; containerMono = Mono.just(new Container(&quot;A&quot;, &quot;B&quot;));\r\n\r\n    return Mono.zip(bookMono, containerMono)\r\n            .map(tuple -&gt; new OrderResponse(tuple.getT1(), tuple.getT2()));\r\n}\r\n```\r\n\r\nIf you want to return a `OrderResponse` object directly instead of it being wrapped in a `Mono`, you can check out the [`Mono#block`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--) method.","title":"How to merge two different Mono to produce final response in java reactive","body":"<p>You can use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#zip-reactor.core.publisher.Mono-reactor.core.publisher.Mono-\" rel=\"nofollow noreferrer\"><code>Mono.zip</code></a> to aggreate the results of multiple <code>Mono</code>s into a single one that will be fulfilled when all of the given Monos have produced an item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class OrderResponse {\n    private final Book book;\n    private final Container container;\n\n    public OrderResponse(Book book, Container container) {\n        this.book = book;\n        this.container = container;\n    }\n\n    // ...\n}\n\npublic Mono&lt;OrderResponse&gt; getProductById(Integer id) {\n    // replace these lines with your actual calls\n    Mono&lt;Book&gt; bookMono = Mono.just(new Book(1, &quot;Book 1&quot;, 1L));\n    Mono&lt;Container&gt; containerMono = Mono.just(new Container(&quot;A&quot;, &quot;B&quot;));\n\n    return Mono.zip(bookMono, containerMono)\n            .map(tuple -&gt; new OrderResponse(tuple.getT1(), tuple.getT2()));\n}\n</code></pre>\n<p>If you want to return a <code>OrderResponse</code> object directly instead of it being wrapped in a <code>Mono</code>, you can check out the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#block--\" rel=\"nofollow noreferrer\"><code>Mono#block</code></a> method.</p>\n"}],"owner":{"account_id":16500264,"reputation":289,"user_id":11921751,"display_name":"Abdullah Imran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229999,"creation_date":1672227861,"question_id":74939842,"body_markdown":"\r\nIn getProductById method I am trying to construct ```Mono&lt;OrderResponse&gt;``` from\r\n```Mono&lt;Book&gt;``` and ```Mono&lt;Container&gt;``` like shown below. The issue is response structure what this method is returning different from what I should get.  \r\n\r\n```\r\n public Mono&lt;OrderResponse&gt; getProductById(Integer id) {\r\n\r\n        Mono&lt;Book&gt; monoBook=Mono.just(id).\r\n            flatMap(ops.service(BookingDomainService.class)::getProductById);\r\n\r\n        Mono&lt;Container&gt; monoCon=Mono.just(id).\r\n            flatMap(ops.service(BookingDomainService.class)::getContainerById);\r\n\r\n        OrderResponse or=new OrderResponse(monoBook,monoCon);\r\n        return Mono.just(or);\r\n    }\r\n\r\n```\r\nStructure of BOOK, Container and Response class are below.\r\n\r\n```\r\nMy Book Class :\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\n@NoArgsConstructor\r\npublic class Book implements Serializable {\r\n\t@Id\r\n\tprivate Integer id;\r\n\r\n\t@Column\r\n\tprivate String name;\r\n\r\n\t@Column\r\n\tprivate Long price;\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nContainer Class:\r\n\r\n\r\npublic class Container {\r\n  private String containerName;\r\n  private String description;\r\n\r\n  public String getContainerName() {\r\n    return containerName;\r\n  }\r\n\r\n  public void setContainerName(String containerName) {\r\n    this.containerName = containerName;\r\n  }\r\n\r\n  public String getDescription() {\r\n    return description;\r\n  }\r\n\r\n  public void setDescription(String description) {\r\n    this.description = description;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n\r\nMy Response class:\r\n\r\n\r\npublic class OrderResponse {\r\n  private Mono&lt;Book&gt; orderMono;\r\n  private Mono&lt;Container&gt; orderContainerMono;\r\n\r\n  public Mono&lt;Book&gt; getOrderMono() {\r\n    return orderMono;\r\n  }\r\n\r\n  public void setOrderMono(Mono&lt;Book&gt; orderMono) {\r\n    this.orderMono = orderMono;\r\n  }\r\n\r\n  public Mono&lt;Container&gt; getOrderContainerMono() {\r\n    return orderContainerMono;\r\n  }\r\n\r\n  public void setOrderContainerMono(\r\n      Mono&lt;Container&gt; orderContainerMono) {\r\n    this.orderContainerMono = orderContainerMono;\r\n  }\r\n\r\n  public OrderResponse(Mono&lt;Book&gt; orderMono, Mono&lt;Container&gt; orderContainerMono) {\r\n    this.orderMono = orderMono;\r\n    this.orderContainerMono = orderContainerMono;\r\n  }\r\n}\r\n```\r\n\r\nFinal response that is being formed from method ```getProductById(Integer id)``` is\r\n\r\n```\r\n{\r\n    &quot;orderMono&quot;: {\r\n        &quot;scanAvailable&quot;: true\r\n    },\r\n    &quot;orderContainerMono&quot;: {\r\n        &quot;scanAvailable&quot;: true\r\n    }\r\n}\r\n\r\n```\r\n\r\nbut I need final response as:\r\n\r\nI need final response as below json. How to achieve it.\r\n\r\n```\r\nResponse:\r\n{\r\n  &quot;Book&quot;: {\r\n    &quot;id&quot;: 12,\r\n    &quot;name&quot;: &quot;pn&quot;,\r\n    &quot;price&quot;: 128\r\n  },\r\n  &quot;Container&quot;: {\r\n    &quot;containerName&quot;: &quot; Cname&quot;,\r\n    &quot;description&quot;: &quot;diesc&quot;\r\n  }\r\n}\r\n```","title":"How to merge two different Mono to produce final response in java reactive","body":"<p>In getProductById method I am trying to construct <code>Mono&lt;OrderResponse&gt;</code> from\n<code>Mono&lt;Book&gt;</code> and <code>Mono&lt;Container&gt;</code> like shown below. The issue is response structure what this method is returning different from what I should get.</p>\n<pre><code> public Mono&lt;OrderResponse&gt; getProductById(Integer id) {\n\n        Mono&lt;Book&gt; monoBook=Mono.just(id).\n            flatMap(ops.service(BookingDomainService.class)::getProductById);\n\n        Mono&lt;Container&gt; monoCon=Mono.just(id).\n            flatMap(ops.service(BookingDomainService.class)::getContainerById);\n\n        OrderResponse or=new OrderResponse(monoBook,monoCon);\n        return Mono.just(or);\n    }\n\n</code></pre>\n<p>Structure of BOOK, Container and Response class are below.</p>\n<pre><code>My Book Class :\n\n\n@Data\n@AllArgsConstructor\n@Builder\n@NoArgsConstructor\npublic class Book implements Serializable {\n    @Id\n    private Integer id;\n\n    @Column\n    private String name;\n\n    @Column\n    private Long price;\n}\n\n</code></pre>\n<pre><code>Container Class:\n\n\npublic class Container {\n  private String containerName;\n  private String description;\n\n  public String getContainerName() {\n    return containerName;\n  }\n\n  public void setContainerName(String containerName) {\n    this.containerName = containerName;\n  }\n\n  public String getDescription() {\n    return description;\n  }\n\n  public void setDescription(String description) {\n    this.description = description;\n  }\n}\n</code></pre>\n<pre><code>\nMy Response class:\n\n\npublic class OrderResponse {\n  private Mono&lt;Book&gt; orderMono;\n  private Mono&lt;Container&gt; orderContainerMono;\n\n  public Mono&lt;Book&gt; getOrderMono() {\n    return orderMono;\n  }\n\n  public void setOrderMono(Mono&lt;Book&gt; orderMono) {\n    this.orderMono = orderMono;\n  }\n\n  public Mono&lt;Container&gt; getOrderContainerMono() {\n    return orderContainerMono;\n  }\n\n  public void setOrderContainerMono(\n      Mono&lt;Container&gt; orderContainerMono) {\n    this.orderContainerMono = orderContainerMono;\n  }\n\n  public OrderResponse(Mono&lt;Book&gt; orderMono, Mono&lt;Container&gt; orderContainerMono) {\n    this.orderMono = orderMono;\n    this.orderContainerMono = orderContainerMono;\n  }\n}\n</code></pre>\n<p>Final response that is being formed from method <code>getProductById(Integer id)</code> is</p>\n<pre><code>{\n    &quot;orderMono&quot;: {\n        &quot;scanAvailable&quot;: true\n    },\n    &quot;orderContainerMono&quot;: {\n        &quot;scanAvailable&quot;: true\n    }\n}\n\n</code></pre>\n<p>but I need final response as:</p>\n<p>I need final response as below json. How to achieve it.</p>\n<pre><code>Response:\n{\n  &quot;Book&quot;: {\n    &quot;id&quot;: 12,\n    &quot;name&quot;: &quot;pn&quot;,\n    &quot;price&quot;: 128\n  },\n  &quot;Container&quot;: {\n    &quot;containerName&quot;: &quot; Cname&quot;,\n    &quot;description&quot;: &quot;diesc&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","websocket","proxy","mqtt"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672043503,"post_id":74911816,"comment_id":132211148,"body_markdown":"nginx reverse proxy or github ( https://github.com/topics/websocket-proxy)","body":"nginx reverse proxy or github ( <a href=\"https://github.com/topics/websocket-proxy\" rel=\"nofollow noreferrer\">github.com/topics/websocket-proxy</a>)"}],"answers":[{"tags":[],"owner":{"account_id":9483965,"reputation":48,"user_id":7050876,"display_name":"msl12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229993,"creation_date":1672063355,"answer_id":74921052,"question_id":74911816,"body_markdown":"By using io.netty.bootstrap.Bootstrap and io.netty.bootstrap.ServerBootstrap, it seems that it can meet my needs.\r\n\r\nI would continue to work on it.\r\n\r\n---\r\n\r\nAnother solution is this: https://stackoverflow.com/questions/74933226","title":"How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?","body":"<p>By using io.netty.bootstrap.Bootstrap and io.netty.bootstrap.ServerBootstrap, it seems that it can meet my needs.</p>\n<p>I would continue to work on it.</p>\n<hr />\n<p>Another solution is this: <a href=\"https://stackoverflow.com/questions/74933226\">How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?</a></p>\n"}],"owner":{"account_id":9483965,"reputation":48,"user_id":7050876,"display_name":"msl12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672229993,"creation_date":1671949595,"question_id":74911816,"body_markdown":"Let&#39;s suppose we have a Java Spring Boot application called **A**. And we have another MQTT Broker and its 8083 port supports MQTT WebSocket.\r\n\r\nPreviously, the device directly connected to the MQTT Broker&#39;s 8083 port to obtain MQTT WebSocket service. Now, I want the device to connect to the **A** application&#39;s 8083 port (not MQTT Broker anymore) to obtain the MQTT WebSocket service.\r\n\r\nI think **A** application should only be a program that implements TCP proxy, it does not really implement MQTT WebSocket. Which means any TCP packet that device send to **A** application 8083 port, should be sent to MQTT Broker 8083 port. And any TCP packet that MQTT Broker sends, should be sent to the device through **A** application.\r\n\r\nIn other words, I want the device connect to `ws://A_Application_host:8083/mqtt` should just work the same as connecting to `ws://MQTT_Broker_host:8083/mqtt`.\r\n\r\nDo you know any solution or Java code that help me implements this? Any framework or Java code is OK. \r\n\r\n","title":"How to make my Java SpringBoot application to proxy MQTT Broker WebSocket 8083 port?","body":"<p>Let's suppose we have a Java Spring Boot application called <strong>A</strong>. And we have another MQTT Broker and its 8083 port supports MQTT WebSocket.</p>\n<p>Previously, the device directly connected to the MQTT Broker's 8083 port to obtain MQTT WebSocket service. Now, I want the device to connect to the <strong>A</strong> application's 8083 port (not MQTT Broker anymore) to obtain the MQTT WebSocket service.</p>\n<p>I think <strong>A</strong> application should only be a program that implements TCP proxy, it does not really implement MQTT WebSocket. Which means any TCP packet that device send to <strong>A</strong> application 8083 port, should be sent to MQTT Broker 8083 port. And any TCP packet that MQTT Broker sends, should be sent to the device through <strong>A</strong> application.</p>\n<p>In other words, I want the device connect to <code>ws://A_Application_host:8083/mqtt</code> should just work the same as connecting to <code>ws://MQTT_Broker_host:8083/mqtt</code>.</p>\n<p>Do you know any solution or Java code that help me implements this? Any framework or Java code is OK.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"score":0,"creation_date":1672108080,"post_id":74924804,"comment_id":132222381,"body_markdown":"Can you upload your sources to github and send a link?","body":"Can you upload your sources to github and send a link?"},{"owner":{"account_id":1548452,"reputation":115,"user_id":1441391,"display_name":"goooooooo"},"score":0,"creation_date":1672112323,"post_id":74924804,"comment_id":132222805,"body_markdown":"Can you check: in productRepository, is there any property named &#39;entityManagerFactory&#39; and annotated with Autowired? The class of entityManagerFactory is annotated with a corrective annotation by which Spring can understand and instant the class successfully?","body":"Can you check: in productRepository, is there any property named &#39;entityManagerFactory&#39; and annotated with Autowired? The class of entityManagerFactory is annotated with a corrective annotation by which Spring can understand and instant the class successfully?"},{"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"score":0,"creation_date":1672137637,"post_id":74924804,"comment_id":132226881,"body_markdown":"@EvgenyCheryomushkin Sure:\nhttps://github.com/turw41th/mhd_tracker_backend/tree/stackoverflow_question","body":"@EvgenyCheryomushkin Sure: <a href=\"https://github.com/turw41th/mhd_tracker_backend/tree/stackoverflow_question\" rel=\"nofollow noreferrer\">github.com/turw41th/mhd_tracker_backend/tree/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"score":0,"creation_date":1672268740,"post_id":74940126,"comment_id":132256715,"body_markdown":"It still does not work unfortunately. I guess I will just download a sample project that works for sure from the internet and change it to my needs (in terms of tables and data classes). This is literally the only thing that seems to solve the issue I&#39;m having.","body":"It still does not work unfortunately. I guess I will just download a sample project that works for sure from the internet and change it to my needs (in terms of tables and data classes). This is literally the only thing that seems to solve the issue I&#39;m having."},{"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"score":0,"creation_date":1672312691,"post_id":74940126,"comment_id":132264513,"body_markdown":"Your code looks strange. I cant do anything with it to make it work. So I&#39;d suggest to go through tutorial on spring boot. So you will learn how to build spring boot projects. Data classes looks ok. Only problem I see is in structure.","body":"Your code looks strange. I cant do anything with it to make it work. So I&#39;d suggest to go through tutorial on spring boot. So you will learn how to build spring boot projects. Data classes looks ok. Only problem I see is in structure."}],"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229655,"creation_date":1672229655,"answer_id":74940126,"question_id":74924804,"body_markdown":"Please try to recreate your project using spring initializr:\r\n* add web dependency\r\n* add jpa dependency\r\n* add validation dependency\r\n* add mysql driver\r\n2. pom.xml dependencies will look like this:\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```","title":"How do I resolve this Java Spring: entityManagerFactory Error?","body":"<p>Please try to recreate your project using spring initializr:</p>\n<ul>\n<li>add web dependency</li>\n<li>add jpa dependency</li>\n<li>add validation dependency</li>\n<li>add mysql driver</li>\n</ul>\n<ol start=\"2\">\n<li>pom.xml dependencies will look like this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229655,"creation_date":1672099264,"question_id":74924804,"body_markdown":"I&#39;m trying to get my java spring app running, but upon buildung I encounter the following error:\r\n\r\n    Description:\r\n    \r\n    Field productRepository in ch.turwaith.mhd_tracker_backend.ProductController required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nThe database connection is configured correctly in the application.properties file.\r\nI don&#39;t know any further, how can I resolve this? Please tell me what files you need to see in order to understand what the issue is.","title":"How do I resolve this Java Spring: entityManagerFactory Error?","body":"<p>I'm trying to get my java spring app running, but upon buildung I encounter the following error:</p>\n<pre><code>Description:\n\nField productRepository in ch.turwaith.mhd_tracker_backend.ProductController required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n</code></pre>\n<p>The database connection is configured correctly in the application.properties file.\nI don't know any further, how can I resolve this? Please tell me what files you need to see in order to understand what the issue is.</p>\n"},{"tags":["java","hibernate","rest"],"answers":[{"tags":[],"owner":{"account_id":12508484,"reputation":5,"user_id":9104575,"display_name":"Hawwaru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672229520,"creation_date":1672229520,"answer_id":74940102,"question_id":74938803,"body_markdown":"Why not just create a bidirectional relationship between those entities and use classB to cascade the creation of classA? This way you get the creation/update at once and don&#39;t have to retrieve and set the relations manually.\r\n\r\nAs in your example, you get the id of classA to be created but also class_b_id that you can use to fetch classB instance and proceed with classA creation, that will be attached to classB.","title":"Add Hibernate entity with foreign key","body":"<p>Why not just create a bidirectional relationship between those entities and use classB to cascade the creation of classA? This way you get the creation/update at once and don't have to retrieve and set the relations manually.</p>\n<p>As in your example, you get the id of classA to be created but also class_b_id that you can use to fetch classB instance and proceed with classA creation, that will be attached to classB.</p>\n"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672229520,"creation_date":1672221640,"question_id":74938803,"body_markdown":"I am building a (spring boot) rest service and I seem to have some fundamental misunderstanding of Hibernate and foreign keys or whatever.\r\n\r\nI have two entities:\r\n```\r\n@Entity\r\npublic class ClassA {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;class_b&quot;, nullable = false)\r\n    private ClassB classB;\r\n\r\n  // more properties and getters/setters left out for brevity\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;class_b&quot;)\r\npublic class ClassB {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\r\n    private String name;\r\n\r\n  // more properties and getters/setters left out for brevity\r\n}\r\n```\r\n\r\nClassA has a foreign key to ClassB. I want my user to be able to give me an instance of classA, e.g.\r\n\r\n```\r\n{ //instance of class A, e.g. via POST\r\n  id: 19,\r\n  class_b_id: 17\r\n}\r\n```\r\n\r\nThat means, I get an id for class A and the id from class B. If I wanted to create an entity of class A and save it in the database I have to retrieve the corresponding instance of class B first, call setClassB(...) and then save the instance to the database.  \r\n\r\nAnd my entity might even have more foreign keys to more entities which I have to retrieve first, including their properties etc. just to save my new entity.  \r\n\r\nIs that the way it is supposed to be? Or do I miss something here? Is there a way to define the entity in a way that I can use the foreign keys the way I get them? (And I don&#39;t mean: &quot;Don&#39;t use hibernate&quot;) Without retrieving other objects first?  \r\n\r\nIt just feels wrong and unnessecary. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Add Hibernate entity with foreign key","body":"<p>I am building a (spring boot) rest service and I seem to have some fundamental misunderstanding of Hibernate and foreign keys or whatever.</p>\n<p>I have two entities:</p>\n<pre><code>@Entity\npublic class ClassA {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;class_b&quot;, nullable = false)\n    private ClassB classB;\n\n  // more properties and getters/setters left out for brevity\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;class_b&quot;)\npublic class ClassB {\n\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @Column(name = &quot;name&quot;, nullable = false, length = 100)\n    private String name;\n\n  // more properties and getters/setters left out for brevity\n}\n</code></pre>\n<p>ClassA has a foreign key to ClassB. I want my user to be able to give me an instance of classA, e.g.</p>\n<pre><code>{ //instance of class A, e.g. via POST\n  id: 19,\n  class_b_id: 17\n}\n</code></pre>\n<p>That means, I get an id for class A and the id from class B. If I wanted to create an entity of class A and save it in the database I have to retrieve the corresponding instance of class B first, call setClassB(...) and then save the instance to the database.</p>\n<p>And my entity might even have more foreign keys to more entities which I have to retrieve first, including their properties etc. just to save my new entity.</p>\n<p>Is that the way it is supposed to be? Or do I miss something here? Is there a way to define the entity in a way that I can use the foreign keys the way I get them? (And I don't mean: &quot;Don't use hibernate&quot;) Without retrieving other objects first?</p>\n<p>It just feels wrong and unnessecary.</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1672175283,"post_id":74934053,"comment_id":132236763,"body_markdown":"Micrometer, Grafana, Prometheus, Datadog, New Relic, etc...","body":"Micrometer, Grafana, Prometheus, Datadog, New Relic, etc..."}],"answers":[{"comments":[{"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"score":0,"creation_date":1672175792,"post_id":74934136,"comment_id":132236867,"body_markdown":"Good answer, however my main issue is how do i limit ram, cpu, cores, etc. I cannot find the answer anywhere","body":"Good answer, however my main issue is how do i limit ram, cpu, cores, etc. I cannot find the answer anywhere"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1672176769,"post_id":74934136,"comment_id":132237095,"body_markdown":"@FikiCar I see you&#39;re trying to limit ram, cpu, etc...Docker could help with that","body":"@FikiCar I see you&#39;re trying to limit ram, cpu, etc...Docker could help with that"},{"owner":{"account_id":21608305,"reputation":45,"user_id":19835471,"display_name":"Vlad1791"},"score":0,"creation_date":1672177909,"post_id":74934136,"comment_id":132237322,"body_markdown":"@FikiCar as said above, Docker or a VM should help limiting RAM, CPU and other stuff. I don&#39;t think you can do that from a tracking app though(not sure about it).","body":"@FikiCar as said above, Docker or a VM should help limiting RAM, CPU and other stuff. I don&#39;t think you can do that from a tracking app though(not sure about it)."},{"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"score":0,"creation_date":1672226630,"post_id":74934136,"comment_id":132245522,"body_markdown":"@Vlad1791 yes, i guess its not possible. I was hoping i could automate testing process but it seems like I will have to do it all almost manually. Add to you answer that using docker and vm should help with limiting, so that i can accept it.","body":"@Vlad1791 yes, i guess its not possible. I was hoping i could automate testing process but it seems like I will have to do it all almost manually. Add to you answer that using docker and vm should help with limiting, so that i can accept it."},{"owner":{"account_id":21608305,"reputation":45,"user_id":19835471,"display_name":"Vlad1791"},"score":0,"creation_date":1672229010,"post_id":74934136,"comment_id":132246063,"body_markdown":"Got it. I modified the answer","body":"Got it. I modified the answer"}],"tags":[],"owner":{"account_id":21608305,"reputation":45,"user_id":19835471,"display_name":"Vlad1791"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1672228971,"creation_date":1672175293,"answer_id":74934136,"question_id":74934053,"body_markdown":"Maybe you can use Spring metrics and tracing? https://spring.io/guides/tutorials/metrics-and-tracing/\r\n\r\nAlso might wanna look at Grafana k6 \r\n\r\nhttps://circleci.com/blog/api-performance-testing-with-k6/\r\n\r\nand Micrometer\r\n\r\nhttps://micrometer.io/\r\n\r\nUsing Docker and VM should help you limiting your hardware.","title":"How do you measure performance of spring boot api with limited resources?","body":"<p>Maybe you can use Spring metrics and tracing? <a href=\"https://spring.io/guides/tutorials/metrics-and-tracing/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/metrics-and-tracing/</a></p>\n<p>Also might wanna look at Grafana k6</p>\n<p><a href=\"https://circleci.com/blog/api-performance-testing-with-k6/\" rel=\"nofollow noreferrer\">https://circleci.com/blog/api-performance-testing-with-k6/</a></p>\n<p>and Micrometer</p>\n<p><a href=\"https://micrometer.io/\" rel=\"nofollow noreferrer\">https://micrometer.io/</a></p>\n<p>Using Docker and VM should help you limiting your hardware.</p>\n"}],"owner":{"account_id":14906661,"reputation":425,"user_id":10763638,"display_name":"FikiCar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672228480,"accepted_answer_id":74934136,"answer_count":1,"score":0,"last_activity_date":1672228971,"creation_date":1672174570,"question_id":74934053,"body_markdown":"Let&#39;s say we have a monolithic rest API written in Java with Spring Boot. And we want to do some performance analysis on it, how would we go about it?\r\n\r\nThe problem is measuring its performance with custom maximum usage requirements, for example, maximum ram, CPU cores, CPU clock speed, etc.\r\n\r\nKnowing this can be useful, such as predicting cloud and other hosting fees, what is the best way of doing it?\r\n\r\n","title":"How do you measure performance of spring boot api with limited resources?","body":"<p>Let's say we have a monolithic rest API written in Java with Spring Boot. And we want to do some performance analysis on it, how would we go about it?</p>\n<p>The problem is measuring its performance with custom maximum usage requirements, for example, maximum ram, CPU cores, CPU clock speed, etc.</p>\n<p>Knowing this can be useful, such as predicting cloud and other hosting fees, what is the best way of doing it?</p>\n"},{"tags":["java","performance","integer","java.util.scanner","user-input"],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1511200966,"post_id":26586629,"comment_id":81749703,"body_markdown":"Worth mentioning that `nextInt()` won&#39;t consume the next token if it fails to parse.","body":"Worth mentioning that <code>nextInt()</code> won&#39;t consume the next token if it fails to parse."},{"owner":{"account_id":2231308,"reputation":349,"user_id":1968788,"accept_rate":39,"display_name":"MrNeilP"},"score":1,"creation_date":1515694881,"post_id":26586629,"comment_id":83408627,"body_markdown":"I found some exactly opposite behavior about this when I was solving below problem. https://www.hackerrank.com/challenges/maximum-element/problem, when I used nextLine() with parseInt() few test cases got timeout error, but when I used scanner.nextInt() those test cases passed. Any comments on this to clear the idea ?","body":"I found some exactly opposite behavior about this when I was solving below problem. <a href=\"https://www.hackerrank.com/challenges/maximum-element/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/maximum-element/problem</a>, when I used nextLine() with parseInt() few test cases got timeout error, but when I used scanner.nextInt() those test cases passed. Any comments on this to clear the idea ?"},{"owner":{"account_id":15033946,"reputation":4143,"user_id":10851011,"display_name":"koo"},"score":0,"creation_date":1572178484,"post_id":26586629,"comment_id":103473466,"body_markdown":"nice and clean explanation.","body":"nice and clean explanation."},{"owner":{"account_id":1861986,"reputation":1003,"user_id":1686407,"display_name":"min"},"score":0,"creation_date":1693387280,"post_id":26586629,"comment_id":135752723,"body_markdown":"@MrNeilP Maybe it just some glitch, I ran both next/nextInt multiple time, it seems fail randomly.","body":"@MrNeilP Maybe it just some glitch, I ran both next/nextInt multiple time, it seems fail randomly."}],"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1597334188,"creation_date":1414409525,"answer_id":26586629,"question_id":26586489,"body_markdown":"There are 2 observations : \r\n\r\n1. Using `myScannerInstance.nextInt()` leaves behind a new line character. So, if you call `nextLine()` after `nextInt()`, the `nextLine()` will read the new line character instead of the actual data. Consequently, you will have to add another `nextLine()` after the `nextInt()` to gobble up that *dangling* new-line character. `nextLine()` doesn&#39;t leave behind a new line character. \r\n\r\ncode :\r\n\r\n    int age=myScannerInstance.nextInt();\r\n    String name = myScannerInstance.nextLine();// here the actual name will not be read. The new line character will be read.\r\n\r\n2. `nextInt()` will again go back to the underlying stream and read. IO calls take time (expensive). It will do lot of checks to get the next integer. `nextLine()` will do those checks only once. So, if you call `nextLine()` once and read 5 integers (as a single line String), split them and parse them as integers (using `Integer.parseInt()`), it will be faster and more efficient than reading each int individually. \r\n\r\nUsing `nextLine()` + `parseInt()` will give you enormous performance benefit when you are running a very large loop.\r\n\r\nUsage :\r\n\r\nUsing `nextInt()` gives you an additional advantage wherein you will get an exception if the input text is not an integer. example `123` is accepted.. `123sdsa` will throw an `InputMismatchException`. So, you can catch it and handle it appropriately.\r\n\r\nUsing `nextLine()` will read the entire line, so, it will read the entire String `sada1231` and then fail with `NumberFormatException` if it cannot parse the String as a number. You will have to handle that exception.\r\n\r\nGenerally, one `nextLine()` / `nextInt()` call won&#39;t make much of a difference. If you have a loop or if you are reading lot of data, then using `readLine()` with `parseInt()` will be very efficient.\r\n\r\n","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>There are 2 observations :</p>\n<ol>\n<li>Using <code>myScannerInstance.nextInt()</code> leaves behind a new line character. So, if you call <code>nextLine()</code> after <code>nextInt()</code>, the <code>nextLine()</code> will read the new line character instead of the actual data. Consequently, you will have to add another <code>nextLine()</code> after the <code>nextInt()</code> to gobble up that <em>dangling</em> new-line character. <code>nextLine()</code> doesn't leave behind a new line character.</li>\n</ol>\n<p>code :</p>\n<pre><code>int age=myScannerInstance.nextInt();\nString name = myScannerInstance.nextLine();// here the actual name will not be read. The new line character will be read.\n</code></pre>\n<ol start=\"2\">\n<li><code>nextInt()</code> will again go back to the underlying stream and read. IO calls take time (expensive). It will do lot of checks to get the next integer. <code>nextLine()</code> will do those checks only once. So, if you call <code>nextLine()</code> once and read 5 integers (as a single line String), split them and parse them as integers (using <code>Integer.parseInt()</code>), it will be faster and more efficient than reading each int individually.</li>\n</ol>\n<p>Using <code>nextLine()</code> + <code>parseInt()</code> will give you enormous performance benefit when you are running a very large loop.</p>\n<p>Usage :</p>\n<p>Using <code>nextInt()</code> gives you an additional advantage wherein you will get an exception if the input text is not an integer. example <code>123</code> is accepted.. <code>123sdsa</code> will throw an <code>InputMismatchException</code>. So, you can catch it and handle it appropriately.</p>\n<p>Using <code>nextLine()</code> will read the entire line, so, it will read the entire String <code>sada1231</code> and then fail with <code>NumberFormatException</code> if it cannot parse the String as a number. You will have to handle that exception.</p>\n<p>Generally, one <code>nextLine()</code> / <code>nextInt()</code> call won't make much of a difference. If you have a loop or if you are reading lot of data, then using <code>readLine()</code> with <code>parseInt()</code> will be very efficient.</p>\n"},{"tags":[],"owner":{"account_id":2819513,"reputation":479,"user_id":2423578,"accept_rate":75,"display_name":"Payam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414409753,"creation_date":1414409753,"answer_id":26586689,"question_id":26586489,"body_markdown":"nextInt() reads a number, but doesn’t consume line separator. While nextLine() reads the String and consumes the new-line character. According to [Java Docs](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()):\r\n\r\n&gt; … This method returns the rest of the current line, excluding any line\r\n&gt; separator at the end. The position is set to the beginning of the next\r\n&gt; line.\r\n\r\nIn other words when you enter a number then press Enter, input.nextInt() consumes only the number, not the &quot;end of line&quot;, primitive data types like int, double etc does not consume &quot;end of line&quot;, due which this &quot;end of line&quot; remain in buffer ane When input.next() executes, it consumes the &quot;end of line&quot; from buffer from the first input. So you professor is trying to get to the next line after he reads the user input. You have to look at the logic of his codes only then you can understand it.","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>nextInt() reads a number, but doesn’t consume line separator. While nextLine() reads the String and consumes the new-line character. According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextLine()\" rel=\"nofollow\">Java Docs</a>:</p>\n\n<blockquote>\n  <p>… This method returns the rest of the current line, excluding any line\n  separator at the end. The position is set to the beginning of the next\n  line.</p>\n</blockquote>\n\n<p>In other words when you enter a number then press Enter, input.nextInt() consumes only the number, not the \"end of line\", primitive data types like int, double etc does not consume \"end of line\", due which this \"end of line\" remain in buffer ane When input.next() executes, it consumes the \"end of line\" from buffer from the first input. So you professor is trying to get to the next line after he reads the user input. You have to look at the logic of his codes only then you can understand it.</p>\n"},{"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1496853701,"post_id":44418075,"comment_id":75835493,"body_markdown":"Adding a `nextLine` only to consume the new line character might make the code seem confusing or incorrect. `nextLine` is a function that **returns** the current line, using it purely to advance the position in the scanner seems counter-intuitive.","body":"Adding a <code>nextLine</code> only to consume the new line character might make the code seem confusing or incorrect. <code>nextLine</code> is a function that <b>returns</b> the current line, using it purely to advance the position in the scanner seems counter-intuitive."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1496853757,"post_id":44418075,"comment_id":75835522,"body_markdown":"The accepted answer posted 3 years earlier already mentions this, I&#39;m not sure what this answer adds beyond that.","body":"The accepted answer posted 3 years earlier already mentions this, I&#39;m not sure what this answer adds beyond that."}],"tags":[],"owner":{"account_id":6149803,"reputation":21,"user_id":6580262,"display_name":"Sanoaf"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496852558,"creation_date":1496852558,"answer_id":44418075,"question_id":26586489,"body_markdown":"I also used to face this problem often. So i use to code like this..\r\n\r\n    public static void main(String[] args) {\r\n\t\tScanner key= new Scanner(System.in);\r\n    \tString name;\r\n    \tint    age;\r\n    \tage = key.nextInt();\r\n    \tkey.nextLine();\r\n    \tname = key.nextLine();  //to carry the new line character left behind nextInt()\r\n    \tSystem.out.println(&quot;Age : &quot;+age);\r\n\t    System.out.println(&quot;Name: &quot;+name);\r\n\t}\r\n\r\nhere as the `key.nextInt()` leaves a new line character we are using `key.nextLine()` to carry the new Line character and then move to the nextline where the actual data is present. As we discussed above using `Integer.parseInt()` will be more efficient than using `nextInt()`. But this is also one of the way to code to overcome the problem.","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>I also used to face this problem often. So i use to code like this..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner key= new Scanner(System.in);\n    String name;\n    int    age;\n    age = key.nextInt();\n    key.nextLine();\n    name = key.nextLine();  //to carry the new line character left behind nextInt()\n    System.out.println(\"Age : \"+age);\n    System.out.println(\"Name: \"+name);\n}\n</code></pre>\n\n<p>here as the <code>key.nextInt()</code> leaves a new line character we are using <code>key.nextLine()</code> to carry the new Line character and then move to the nextline where the actual data is present. As we discussed above using <code>Integer.parseInt()</code> will be more efficient than using <code>nextInt()</code>. But this is also one of the way to code to overcome the problem.</p>\n"},{"tags":[],"owner":{"account_id":17251809,"reputation":11,"user_id":12491841,"display_name":"joinmac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672228799,"creation_date":1672228625,"answer_id":74939978,"question_id":26586489,"body_markdown":"`nextInt()` leaves behind a new line character. So, if you call `nextLine()` after `nextInt()` , the `nextLine()` will read the new line character instead of the actual data. Consequently, you will have to add another `nextLine()` after the `nextInt()` to gobble up that dangling new-line character.\r\n\r\n```\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int i = scan.nextInt();\r\n        double d = scan.nextDouble();\r\n        scan.nextLine();\r\n        String s = scan.nextLine();\r\n    \r\n        scan.close();\r\n\r\n\r\n        System.out.println(&quot;String: &quot; + s);\r\n        System.out.println(&quot;Double: &quot; + d);\r\n        System.out.println(&quot;Int: &quot; + i);\r\n    }\r\n}\r\n\r\n```","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p><code>nextInt()</code> leaves behind a new line character. So, if you call <code>nextLine()</code> after <code>nextInt()</code> , the <code>nextLine()</code> will read the new line character instead of the actual data. Consequently, you will have to add another <code>nextLine()</code> after the <code>nextInt()</code> to gobble up that dangling new-line character.</p>\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d = scan.nextDouble();\n        scan.nextLine();\n        String s = scan.nextLine();\n    \n        scan.close();\n\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":2181574,"reputation":2045,"user_id":1930935,"accept_rate":83,"display_name":"Olavi Mustanoja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61246,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26586629,"answer_count":4,"score":10,"last_activity_date":1672228799,"creation_date":1414409067,"question_id":26586489,"body_markdown":"My professor tends to do the following to get a number from the user:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Integer.parseInt(scanner.nextLine());\r\n\r\nWhat are the benefits as opposed to simply doing `scanner.nextInt()` ?\r\n\r\n`java.util.Scanner.java` has the following in it:\r\n\r\n    public int nextInt() {\r\n        return nextInt(defaultRadix);\r\n    }\r\n\r\n    public int nextInt(int radix) {\r\n        // Check cached result\r\n        if ((typeCache != null) &amp;&amp; (typeCache instanceof Integer)\r\n            &amp;&amp; this.radix == radix) {\r\n            int val = ((Integer)typeCache).intValue();\r\n            useTypeCache();\r\n            return val;\r\n        }\r\n        setRadix(radix);\r\n        clearCaches();\r\n        // Search for next int\r\n        try {\r\n            String s = next(integerPattern());\r\n            if (matcher.group(SIMPLE_GROUP_INDEX) == null)\r\n                s = processIntegerToken(s);\r\n            return Integer.parseInt(s, radix);\r\n        } catch (NumberFormatException nfe) {\r\n            position = matcher.start(); // don&#39;t skip bad token\r\n            throw new InputMismatchException(nfe.getMessage());\r\n        }\r\n    }\r\n\r\nAs I see it, `Scanner` calls Integer.parseInt() itself as well, on top of additional hocus pocus. Are there significant performance gains in doing simply `Integer.parseInt(scanner.nextLine())` ? Are there on the other hand any drawbacks?\r\n\r\nHow about when scanning through a file with significant amount of data, and not a user input?","title":"Integer.parseInt(scanner.nextLine()) vs scanner.nextInt()","body":"<p>My professor tends to do the following to get a number from the user:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nInteger.parseInt(scanner.nextLine());\n</code></pre>\n\n<p>What are the benefits as opposed to simply doing <code>scanner.nextInt()</code> ?</p>\n\n<p><code>java.util.Scanner.java</code> has the following in it:</p>\n\n<pre><code>public int nextInt() {\n    return nextInt(defaultRadix);\n}\n\npublic int nextInt(int radix) {\n    // Check cached result\n    if ((typeCache != null) &amp;&amp; (typeCache instanceof Integer)\n        &amp;&amp; this.radix == radix) {\n        int val = ((Integer)typeCache).intValue();\n        useTypeCache();\n        return val;\n    }\n    setRadix(radix);\n    clearCaches();\n    // Search for next int\n    try {\n        String s = next(integerPattern());\n        if (matcher.group(SIMPLE_GROUP_INDEX) == null)\n            s = processIntegerToken(s);\n        return Integer.parseInt(s, radix);\n    } catch (NumberFormatException nfe) {\n        position = matcher.start(); // don't skip bad token\n        throw new InputMismatchException(nfe.getMessage());\n    }\n}\n</code></pre>\n\n<p>As I see it, <code>Scanner</code> calls Integer.parseInt() itself as well, on top of additional hocus pocus. Are there significant performance gains in doing simply <code>Integer.parseInt(scanner.nextLine())</code> ? Are there on the other hand any drawbacks?</p>\n\n<p>How about when scanning through a file with significant amount of data, and not a user input?</p>\n"},{"tags":["java","if-statement","arraylist"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":3,"creation_date":1672216859,"post_id":74937945,"comment_id":132243118,"body_markdown":"&quot;it seems to be giving me some error&quot; could you add the error ?","body":"&quot;it seems to be giving me some error&quot; could you add the error ?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1672216967,"post_id":74937945,"comment_id":132243140,"body_markdown":"a `java.util.Date` is a lie; it does not represent a date at all (it represents an instant in time, which is particularly problematic, given that the &#39;date&#39; at which some instant in time occurs, is not an answerable question unless you add a timezone into the mix). The correct data type is `LocalDateTime`, or possibly `ZonedDateTime`, which replaces both `String time;` and `Date date;`. Separate from that, as jhamon said, we can&#39;t answer your specific issue unless you include the error.","body":"a <code>java.util.Date</code> is a lie; it does not represent a date at all (it represents an instant in time, which is particularly problematic, given that the &#39;date&#39; at which some instant in time occurs, is not an answerable question unless you add a timezone into the mix). The correct data type is <code>LocalDateTime</code>, or possibly <code>ZonedDateTime</code>, which replaces both <code>String time;</code> and <code>Date date;</code>. Separate from that, as jhamon said, we can&#39;t answer your specific issue unless you include the error."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1672217215,"post_id":74937945,"comment_id":132243202,"body_markdown":"Unrelated but, regarding your cases, is it necessay to check the appointment time if you already know the date is different (case 3 and 4)?\nAnd don&#39;t forget to update the label in case the doctor has no appointment at all.\nAlso, you are settting the valuie of the label for **each** iteration of the loop which could get you a wrong result in the end","body":"Unrelated but, regarding your cases, is it necessay to check the appointment time if you already know the date is different (case 3 and 4)? And don&#39;t forget to update the label in case the doctor has no appointment at all. Also, you are settting the valuie of the label for <b>each</b> iteration of the loop which could get you a wrong result in the end"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1672217331,"post_id":74937945,"comment_id":132243232,"body_markdown":"Another point of view it looks like youre i..else statements gives the same result even the first. So in the first else statement you need only check licenceNo. .. and what if licenceNo does not equals?","body":"Another point of view it looks like youre i..else statements gives the same result even the first. So in the first else statement you need only check licenceNo. .. and what if licenceNo does not equals?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1672267102,"post_id":74937945,"comment_id":132256449,"body_markdown":"Please try to solve your homework problem on your own first, and include these attempts in your question. As is, it looks a lot like you expect us to do your homework for you.","body":"Please try to solve your homework problem on your own first, and include these attempts in your question. As is, it looks a lot like you expect us to do your homework for you."}],"answers":[{"tags":[],"owner":{"account_id":7513142,"reputation":334,"user_id":5707475,"display_name":"Christophe Broeckx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672218452,"creation_date":1672218452,"answer_id":74938290,"question_id":74937945,"body_markdown":"As said in the comments, I suppose you find it not working because the for-loop is erasing the label each time.\r\n\r\nAlso, this code is overly complicated. You can do something like:\r\n\r\n    boolean isDoctorBooked = list.stream()\r\n        .filter(a -&gt; a.getDoctorLicenseNo() == licenseNo)\r\n        .anyMatch(a -&gt; a.getDateTime() == dateTime);\r\n\r\nAssuming you replaced the date and time with the proper object, as per @rzwitserloot comment.","title":"Comparing multiple object attributes in an arraylist of objects","body":"<p>As said in the comments, I suppose you find it not working because the for-loop is erasing the label each time.</p>\n<p>Also, this code is overly complicated. You can do something like:</p>\n<pre><code>boolean isDoctorBooked = list.stream()\n    .filter(a -&gt; a.getDoctorLicenseNo() == licenseNo)\n    .anyMatch(a -&gt; a.getDateTime() == dateTime);\n</code></pre>\n<p>Assuming you replaced the date and time with the proper object, as per @rzwitserloot comment.</p>\n"}],"owner":{"account_id":27220716,"reputation":15,"user_id":20750037,"display_name":"Jesse"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74938290,"answer_count":1,"score":-2,"last_activity_date":1672228753,"creation_date":1672216119,"question_id":74937945,"body_markdown":"I need help coming up with an if-else condition statement to compare multiple object attributes in an arraylist of objects.\r\n\r\nFor example, say I have an arraylist of appointments\r\n\r\n```java\r\nArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Appointment(1,101,new Date(),&quot;9 AM - 10 AM&quot;),\r\n        new Appointment(2,200,new Date(),&quot;9 AM - 10 Am&quot;),\r\n        new Appointment(3,200,new Date(),&quot;11 AM - 1 PM&quot;)\r\n));\r\n```\r\nThis is the `Appointment` class:\r\n\r\n```java\r\npublic class Appointment {\r\n\r\n    private long id;\r\n    private long doctorLicenseNo;\r\n    private Date date;\r\n    private String time;\r\n\r\n//constructor + getters and setters\r\n\r\n}\r\n```\r\nI want to check if a doctor with a particular license number is booked on a specific date and time. Here the doctor license number, date and time are given.\r\n","title":"Comparing multiple object attributes in an arraylist of objects","body":"<p>I need help coming up with an if-else condition statement to compare multiple object attributes in an arraylist of objects.</p>\n<p>For example, say I have an arraylist of appointments</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Appointment&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\n        new Appointment(1,101,new Date(),&quot;9 AM - 10 AM&quot;),\n        new Appointment(2,200,new Date(),&quot;9 AM - 10 Am&quot;),\n        new Appointment(3,200,new Date(),&quot;11 AM - 1 PM&quot;)\n));\n</code></pre>\n<p>This is the <code>Appointment</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Appointment {\n\n    private long id;\n    private long doctorLicenseNo;\n    private Date date;\n    private String time;\n\n//constructor + getters and setters\n\n}\n</code></pre>\n<p>I want to check if a doctor with a particular license number is booked on a specific date and time. Here the doctor license number, date and time are given.</p>\n"},{"tags":["java","jar","jvm","classloader"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672176298,"post_id":74934218,"comment_id":132236980,"body_markdown":"`Does it cache anything` I assume it caches the list of classes found in all Jars and all directories.  That would be the smart way of doing it.  But I&#39;m not sure I can answer 100% how this works.  Mostly though I don&#39;t worry about it, I&#39;ve yet to have a serious problem that looked like it was caused by long class loading.","body":"<code>Does it cache anything</code> I assume it caches the list of classes found in all Jars and all directories.  That would be the smart way of doing it.  But I&#39;m not sure I can answer 100% how this works.  Mostly though I don&#39;t worry about it, I&#39;ve yet to have a serious problem that looked like it was caused by long class loading."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672178448,"post_id":74934218,"comment_id":132237427,"body_markdown":"If you want to know the implementation, then you can always look at the source code. [OpenJDK is on GitHub](https://github.com/openjdk/jdk). Start with `java.lang.ClassLoader` and then look at the various subclasses, such as those in the [jdk.internal.loader](https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/jdk/internal/loader) package. Note it would be easier to navigate the source code with an IDE compared to online.","body":"If you want to know the implementation, then you can always look at the source code. <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">OpenJDK is on GitHub</a>. Start with <code>java.lang.ClassLoader</code> and then look at the various subclasses, such as those in the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/jdk/internal/loader\" rel=\"nofollow noreferrer\">jdk.internal.loader</a> package. Note it would be easier to navigate the source code with an IDE compared to online."},{"owner":{"account_id":27368446,"reputation":23,"user_id":20874895,"display_name":"duomiduorou"},"score":0,"creation_date":1672428832,"post_id":74934218,"comment_id":132289791,"body_markdown":"Thank you all for the comments. I&#39;ll take a look at the reference and source code mentioned. I asked this question because we got a weird too many open files exception, and some people suggested it could be due to large number of jar files as dependencies (1000+), which may be opened at the same time when JVM loads classes. Hence I wanted to get a better understanding of the class loading process.","body":"Thank you all for the comments. I&#39;ll take a look at the reference and source code mentioned. I asked this question because we got a weird too many open files exception, and some people suggested it could be due to large number of jar files as dependencies (1000+), which may be opened at the same time when JVM loads classes. Hence I wanted to get a better understanding of the class loading process."}],"answers":[{"comments":[{"owner":{"account_id":27368446,"reputation":23,"user_id":20874895,"display_name":"duomiduorou"},"score":0,"creation_date":1672429044,"post_id":74934940,"comment_id":132289835,"body_markdown":"Thanks a lot. This is really helpful. I have a follow up question. When 2 classes need to be loaded, are they loaded concurrently or sequentially, e.g. if class A and class B need to be loaded, would JVM find file for class A first, load it and then find file for class B, or otherwise?","body":"Thanks a lot. This is really helpful. I have a follow up question. When 2 classes need to be loaded, are they loaded concurrently or sequentially, e.g. if class A and class B need to be loaded, would JVM find file for class A first, load it and then find file for class B, or otherwise?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1672668015,"post_id":74934940,"comment_id":132323133,"body_markdown":"Class unloading is only possible when a class loader (and all of its defined classes) is unreachable. Further, class loading with modules works differently. Since within one module layer, package names must belong to a single module without ambiguity, it’s possible to derive the correct module from the qualified class name alone, even before the class has been loaded. Therefore, a requested class belonging to a module can be loaded from the module’s source directly, without going through a search path.","body":"Class unloading is only possible when a class loader (and all of its defined classes) is unreachable. Further, class loading with modules works differently. Since within one module layer, package names must belong to a single module without ambiguity, it’s possible to derive the correct module from the qualified class name alone, even before the class has been loaded. Therefore, a requested class belonging to a module can be loaded from the module’s source directly, without going through a search path."}],"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672183529,"creation_date":1672183529,"answer_id":74934940,"question_id":74934218,"body_markdown":"This is rough answer, sorry for that. But it might be better than nothing, so here we go.\r\n\r\nSo when you&#39;re referring some class that JVM did not load yet, JVM indeed starts looking through class path, iterating over its items, one by one. If you&#39;re referring a.b.C, JVM looks for an entry a/b/C.class.\r\n\r\nClasspath could consist of many different things. It&#39;s abstracted by classloader actually which can do anything, e.g. download classfile over the Internet or select it from the database. But usually it just looks inside JAR files (or inside directories which are valid classpath entries as well).\r\n\r\nJAR files are ZIP files and ZIP files have header which allows for relatively quick lookup. It&#39;s not super performant, so if your classpath is huge, you might get some performance boost with combining it into one uberjar. Also you might get some performance boost if you would replace jars with extracted folders. But don&#39;t take it as advice, most likely boost will be negligible.\r\n\r\nAfter ClassLoader located .class file, it reads its content and &quot;sends&quot; its bytes it to the JVM. It can also alter those bytes before &quot;sending&quot; them to the JVM. So you might achieve some magic things with those magic classloaders. But ordinary classloaders don&#39;t do that.\r\n\r\nAfter JVM got those bytes, it parses them, verifies, may be compiles and in the end this class becomes loaded inside JVM address space in some very optimized for execution form. From now on this class will be looked up &quot;instantly&quot;.\r\n\r\nI think that JVM can also unload unused class if it&#39;s not referenced in the program, so I suppose that this process could repeat for the same class. But it&#39;s not something you should worry about.\r\n\r\nAnother thing to keep in mind is that classpath is Java 8 thing. It still could be used in modern Java, but since Java 9 module path appears which could be used with class path in parallel (or as a replacement). It&#39;s my understanding that those are similar when it comes down to low level details like I described above, but it&#39;s worth to remind, I guess. I think that most programs didn&#39;t embrace modules yet, but I don&#39;t have statistics.","title":"How does JVM find a class file among a list of JARs?","body":"<p>This is rough answer, sorry for that. But it might be better than nothing, so here we go.</p>\n<p>So when you're referring some class that JVM did not load yet, JVM indeed starts looking through class path, iterating over its items, one by one. If you're referring a.b.C, JVM looks for an entry a/b/C.class.</p>\n<p>Classpath could consist of many different things. It's abstracted by classloader actually which can do anything, e.g. download classfile over the Internet or select it from the database. But usually it just looks inside JAR files (or inside directories which are valid classpath entries as well).</p>\n<p>JAR files are ZIP files and ZIP files have header which allows for relatively quick lookup. It's not super performant, so if your classpath is huge, you might get some performance boost with combining it into one uberjar. Also you might get some performance boost if you would replace jars with extracted folders. But don't take it as advice, most likely boost will be negligible.</p>\n<p>After ClassLoader located .class file, it reads its content and &quot;sends&quot; its bytes it to the JVM. It can also alter those bytes before &quot;sending&quot; them to the JVM. So you might achieve some magic things with those magic classloaders. But ordinary classloaders don't do that.</p>\n<p>After JVM got those bytes, it parses them, verifies, may be compiles and in the end this class becomes loaded inside JVM address space in some very optimized for execution form. From now on this class will be looked up &quot;instantly&quot;.</p>\n<p>I think that JVM can also unload unused class if it's not referenced in the program, so I suppose that this process could repeat for the same class. But it's not something you should worry about.</p>\n<p>Another thing to keep in mind is that classpath is Java 8 thing. It still could be used in modern Java, but since Java 9 module path appears which could be used with class path in parallel (or as a replacement). It's my understanding that those are similar when it comes down to low level details like I described above, but it's worth to remind, I guess. I think that most programs didn't embrace modules yet, but I don't have statistics.</p>\n"}],"owner":{"account_id":27368446,"reputation":23,"user_id":20874895,"display_name":"duomiduorou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74934940,"answer_count":1,"score":1,"last_activity_date":1672228571,"creation_date":1672176120,"question_id":74934218,"body_markdown":"Based on my understanding, Java launcher finds a class file by searching through classpath, which can include a list of JARs (ref https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html). My question is that given a list of JARs and a class to look for, does Java search each JAR one by one sequentially, or if not, how does it find the right class file? Does it cache anything in the process, e.g. directory structure from JARs? If the list of JARs is very long, could that cause issue in performance or memory?\r\n\r\nI did saw this post: https://stackoverflow.com/questions/2020800/how-does-java-efficiently-search-jar-files-for-classes, but there were no references on the default behavior or what optimization is/can be done. \r\n\r\n","title":"How does JVM find a class file among a list of JARs?","body":"<p>Based on my understanding, Java launcher finds a class file by searching through classpath, which can include a list of JARs (ref <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/findingclasses.html</a>). My question is that given a list of JARs and a class to look for, does Java search each JAR one by one sequentially, or if not, how does it find the right class file? Does it cache anything in the process, e.g. directory structure from JARs? If the list of JARs is very long, could that cause issue in performance or memory?</p>\n<p>I did saw this post: <a href=\"https://stackoverflow.com/questions/2020800/how-does-java-efficiently-search-jar-files-for-classes\">How does Java efficiently search jar files for classes?</a>, but there were no references on the default behavior or what optimization is/can be done.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1672150271,"post_id":74909075,"comment_id":132229989,"body_markdown":"The error in the output mentions that the file does not exist: `/home/runner/.m2/settings-security.xml`. Maybe you need to create that file, see for example https://stackoverflow.com/a/61238065/641955","body":"The error in the output mentions that the file does not exist: <code>&#47;home&#47;runner&#47;.m2&#47;settings-security.xml</code>. Maybe you need to create that file, see for example <a href=\"https://stackoverflow.com/a/61238065/641955\">stackoverflow.com/a/61238065/641955</a>"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672127415,"creation_date":1672127415,"answer_id":74926837,"question_id":74909075,"body_markdown":"Check if this is similar to [`actions/setup-java` issue 91][1]\r\n\r\n&gt; `gpgPassphrase` should be the name of the env var that is going to contain the GPG passphrase\r\n&gt; and in the release/deploy stages you need to include that formerly mentioned env var in the env section, and set its value (in your case the `secrets.MAVEN_GPG_PASSPHRASE`).\r\n&gt;\r\n&gt; This is indeed a confusing way to configure this action\r\n\r\nNote: the [same thread][2] includes:\r\n\r\n```yaml\r\n            &lt;configuration&gt;\r\n              &lt;!-- Prevent gpg from using pinentry programs --&gt;\r\n              &lt;gpgArguments&gt;\r\n                &lt;arg&gt;--pinentry-mode&lt;/arg&gt;\r\n                &lt;arg&gt;loopback&lt;/arg&gt;\r\n              &lt;/gpgArguments&gt;\r\n            &lt;/configuration&gt;\r\n```\r\n\r\n&gt; This configuration seems no longer necessary on maven-gpg-plugin 3.0.1. (https://issues.apache.org/jira/browse/MGPG-59)\r\n\r\nDouble-check your gpg version.\r\n\r\n  [1]: https://github.com/actions/setup-java/issues/91#issuecomment-747269146\r\n  [2]: https://github.com/actions/setup-java/issues/91#issuecomment-837016715","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<p>Check if this is similar to <a href=\"https://github.com/actions/setup-java/issues/91#issuecomment-747269146\" rel=\"nofollow noreferrer\"><code>actions/setup-java</code> issue 91</a></p>\n<blockquote>\n<p><code>gpgPassphrase</code> should be the name of the env var that is going to contain the GPG passphrase\nand in the release/deploy stages you need to include that formerly mentioned env var in the env section, and set its value (in your case the <code>secrets.MAVEN_GPG_PASSPHRASE</code>).</p>\n<p>This is indeed a confusing way to configure this action</p>\n</blockquote>\n<p>Note: the <a href=\"https://github.com/actions/setup-java/issues/91#issuecomment-837016715\" rel=\"nofollow noreferrer\">same thread</a> includes:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>            &lt;configuration&gt;\n              &lt;!-- Prevent gpg from using pinentry programs --&gt;\n              &lt;gpgArguments&gt;\n                &lt;arg&gt;--pinentry-mode&lt;/arg&gt;\n                &lt;arg&gt;loopback&lt;/arg&gt;\n              &lt;/gpgArguments&gt;\n            &lt;/configuration&gt;\n</code></pre>\n<blockquote>\n<p>This configuration seems no longer necessary on maven-gpg-plugin 3.0.1. (<a href=\"https://issues.apache.org/jira/browse/MGPG-59\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MGPG-59</a>)</p>\n</blockquote>\n<p>Double-check your gpg version.</p>\n"},{"tags":[],"owner":{"account_id":24111781,"reputation":251,"user_id":18082282,"display_name":"Rasbypy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672228486,"creation_date":1672228486,"answer_id":74939945,"question_id":74909075,"body_markdown":"## Problem\r\n\r\nYour problem is due to the fact that you have not use your env var for your gpg password, Maven password and maven username in your *setup-jave*.\r\n\r\n## Solution to your problem\r\n\r\n\r\nTo fix your problem you to fix your *setup-java* configuration like that :\r\n```yaml\r\n    - name: Set up JDK 17 for deploy to OSSRH\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: ossrh\r\n        server-username: MAVEN_USERNAME\r\n        server-password: MAVEN_PASSWORD\r\n        gpg-private-key: ${{ inputs.gpg-private-key }}\r\n        gpg-passphrase: MAVEN_GPG_PASSPHRASE\r\n```","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<h2>Problem</h2>\n<p>Your problem is due to the fact that you have not use your env var for your gpg password, Maven password and maven username in your <em>setup-jave</em>.</p>\n<h2>Solution to your problem</h2>\n<p>To fix your problem you to fix your <em>setup-java</em> configuration like that :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    - name: Set up JDK 17 for deploy to OSSRH\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: ossrh\n        server-username: MAVEN_USERNAME\n        server-password: MAVEN_PASSWORD\n        gpg-private-key: ${{ inputs.gpg-private-key }}\n        gpg-passphrase: MAVEN_GPG_PASSPHRASE\n</code></pre>\n"}],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74939945,"answer_count":2,"score":3,"last_activity_date":1672228486,"creation_date":1671900926,"question_id":74909075,"body_markdown":"## Introduction\r\n\r\nCurrently, I&#39;m trying to contribute on a GitHub Action that automatically publishes a java library.\r\nThe branch where I&#39;m developing: https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\r\n\r\n**The yaml code of the Action** :\r\n```yaml\r\nname: Java maven library publisher\r\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\r\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\r\nbranding:\r\n  icon: &quot;package&quot;\r\n  color: &quot;gray-dark&quot;\r\n\r\ninputs:\r\n  nexus-username:\r\n    description: &quot;Nexus username&quot;\r\n    required: true\r\n  nexus-password:\r\n    description: &quot;Nexus password&quot;\r\n    required: true\r\n  gpg-private-key:\r\n    description: &quot;GPG private key&quot;\r\n    required: true\r\n  gpg-passphrase:\r\n    description: &quot;GPG passphrase&quot;\r\n    required: true\r\n  github-token:\r\n    description: &quot;GitHub token&quot;\r\n    required: true\r\n  # Java version to use\r\n  java-version:\r\n    description: &quot;Java version to use&quot;\r\n    required: true\r\n    default: &quot;17&quot;\r\n  # Library version\r\n  library-version:\r\n    description: &quot;Library version&quot;\r\n    required: false\r\n    default: &quot;&quot;\r\n\r\nruns:\r\n  using: &quot;composite&quot;\r\n\r\n  steps:\r\n    - name: Checkout\r\n      uses: actions/checkout@v3\r\n\r\n    - name: Set up JDK 17 for deploy to OSSRH\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: ossrh\r\n        server-username: ${{ inputs.nexus-username }}\r\n        server-password: ${{ inputs.nexus-password }}\r\n        gpg-private-key: ${{ inputs.gpg-private-key }}\r\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Build with Maven\r\n      run: mvn -B package --file pom.xml\r\n      shell: bash\r\n\r\n    - name: Update package version\r\n      if: ${{ inputs.library-version != &#39;&#39; }}\r\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\r\n      shell: bash\r\n\r\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\r\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\r\n      shell: bash\r\n\r\n    - name: Publish to Apache Maven Central\r\n      run: mvn deploy -PossrhDeploy\r\n      shell: bash\r\n      env:\r\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\r\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\r\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\r\n\r\n    - name: Set up JDK 17 for deploy to github packages\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        distribution: &quot;adopt&quot;\r\n        java-version: ${{ inputs.java-version }}\r\n        server-id: github\r\n\r\n    - name: Publish to GitHub Packages Apache Maven\r\n      run: mvn deploy -PgithubDeploy\r\n      shell: bash\r\n      env:\r\n        GITHUB_TOKEN: ${{ inputs.github-token }}\r\n```\r\n*link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml*\r\n\r\n**The workflow that execute the Action**:\r\n```yaml\r\nname: Test Actions\r\n\r\non: [push]\r\n\r\njobs:\r\n  test:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n\r\n      - name: Maven Library build and publish\r\n        uses: ./\r\n        with:\r\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\r\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\r\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\r\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\r\n          library-version: $GITHUB_RUN_NUMBER\r\n          github-token: ${{ secrets.GITHUB_TOKEN }}\r\n          java-version: 17\r\n```\r\n*Link to the code: https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml*\r\n\r\n\r\n## Problem\r\n\r\nWhen i&#39;m trying to execute the action I obtain this error:\r\n\r\n```log\r\n[INFO] Building jar: /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher/target/template-6-javadoc.jar\r\n[INFO] \r\n[INFO] --- maven-gpg-plugin:3.0.1:sign (sign-artifacts) @ template ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.831 s\r\n[INFO] Finished at: 2022-12-24T15:58:31Z\r\n[INFO] ------------------------------------------------------------------------\r\nError:  Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign (sign-artifacts) on project template: Unable to decrypt gpg passphrase: org.sonatype.plexus.components.sec.dispatcher.SecDispatcherException: java.io.FileNotFoundException: /home/runner/.m2/settings-security.xml (No such file or directory) -&gt; [Help 1]\r\nError:  \r\nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nError:  Re-run Maven using the -X switch to enable full debug logging.\r\nError:  \r\nError:  For more information about the errors and possible solutions, please read the following articles:\r\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\nError: Process completed with exit code 1.\r\n```\r\n\r\n## Question\r\n\r\nSomeone know how we can fix this `Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign` for *actions/setup-java@v3* ?\r\n\r\n\r\n\r\n","title":"Unable to decrypt gpg passphrase with org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign","body":"<h2>Introduction</h2>\n<p>Currently, I'm trying to contribute on a GitHub Action that automatically publishes a java library.\nThe branch where I'm developing: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/tree/2-add-automated-tests</a></p>\n<p><strong>The yaml code of the Action</strong> :</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Java maven library publisher\nauthor: &quot;Mathieu Soysal (@MathieuSoysal)&quot;\ndescription: &quot;Build automatically Java Maven library and publish it to GitHub Packages and Maven Central.&quot;\nbranding:\n  icon: &quot;package&quot;\n  color: &quot;gray-dark&quot;\n\ninputs:\n  nexus-username:\n    description: &quot;Nexus username&quot;\n    required: true\n  nexus-password:\n    description: &quot;Nexus password&quot;\n    required: true\n  gpg-private-key:\n    description: &quot;GPG private key&quot;\n    required: true\n  gpg-passphrase:\n    description: &quot;GPG passphrase&quot;\n    required: true\n  github-token:\n    description: &quot;GitHub token&quot;\n    required: true\n  # Java version to use\n  java-version:\n    description: &quot;Java version to use&quot;\n    required: true\n    default: &quot;17&quot;\n  # Library version\n  library-version:\n    description: &quot;Library version&quot;\n    required: false\n    default: &quot;&quot;\n\nruns:\n  using: &quot;composite&quot;\n\n  steps:\n    - name: Checkout\n      uses: actions/checkout@v3\n\n    - name: Set up JDK 17 for deploy to OSSRH\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: ossrh\n        server-username: ${{ inputs.nexus-username }}\n        server-password: ${{ inputs.nexus-password }}\n        gpg-private-key: ${{ inputs.gpg-private-key }}\n        gpg-passphrase: ${{ inputs.gpg-passphrase }}\n\n    - name: Build with Maven\n      run: mvn -B package --file pom.xml\n      shell: bash\n\n    - name: Update package version\n      if: ${{ inputs.library-version != '' }}\n      run: mvn versions:set -DnewVersion=${{ inputs.library-version }}\n      shell: bash\n\n    - name: Prepare Maven environnement with Java 17 for deployment to OSSRH\n      run: export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\n      shell: bash\n\n    - name: Publish to Apache Maven Central\n      run: mvn deploy -PossrhDeploy\n      shell: bash\n      env:\n        MAVEN_USERNAME: ${{ inputs.nexus-username }}\n        MAVEN_CENTRAL_TOKEN: ${{ inputs.nexus-password }}\n        MAVEN_GPG_PASSPHRASE: ${{ inputs.gpg-passphrase }}\n\n    - name: Set up JDK 17 for deploy to github packages\n      uses: actions/setup-java@v3\n      with:\n        distribution: &quot;adopt&quot;\n        java-version: ${{ inputs.java-version }}\n        server-id: github\n\n    - name: Publish to GitHub Packages Apache Maven\n      run: mvn deploy -PgithubDeploy\n      shell: bash\n      env:\n        GITHUB_TOKEN: ${{ inputs.github-token }}\n</code></pre>\n<p><em>link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/action.yaml</a></em></p>\n<p><strong>The workflow that execute the Action</strong>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Test Actions\n\non: [push]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n\n      - name: Maven Library build and publish\n        uses: ./\n        with:\n          nexus-username: ${{ secrets.NEXUS_USERNAME }}\n          nexus-password: ${{ secrets.NEXUS_PASSWORD }}\n          gpg-private-key: ${{ secrets.GPG_PRIVATE_KEY }}\n          gpg-passphrase: ${{ secrets.GPG_PASSPHRASE }}\n          library-version: $GITHUB_RUN_NUMBER\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          java-version: 17\n</code></pre>\n<p><em>Link to the code: <a href=\"https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml\" rel=\"nofollow noreferrer\">https://github.com/MathieuSoysal/Java-maven-library-publisher/blob/2-add-automated-tests/.github/workflows/test-action.yml</a></em></p>\n<h2>Problem</h2>\n<p>When i'm trying to execute the action I obtain this error:</p>\n<pre><code>[INFO] Building jar: /home/runner/work/Java-maven-library-publisher/Java-maven-library-publisher/target/template-6-javadoc.jar\n[INFO] \n[INFO] --- maven-gpg-plugin:3.0.1:sign (sign-artifacts) @ template ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.831 s\n[INFO] Finished at: 2022-12-24T15:58:31Z\n[INFO] ------------------------------------------------------------------------\nError:  Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign (sign-artifacts) on project template: Unable to decrypt gpg passphrase: org.sonatype.plexus.components.sec.dispatcher.SecDispatcherException: java.io.FileNotFoundException: /home/runner/.m2/settings-security.xml (No such file or directory) -&gt; [Help 1]\nError:  \nError:  To see the full stack trace of the errors, re-run Maven with the -e switch.\nError:  Re-run Maven using the -X switch to enable full debug logging.\nError:  \nError:  For more information about the errors and possible solutions, please read the following articles:\nError:  [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\nError: Process completed with exit code 1.\n</code></pre>\n<h2>Question</h2>\n<p>Someone know how we can fix this <code>Failed to execute goal org.apache.maven.plugins:maven-gpg-plugin:3.0.1:sign</code> for <em>actions/setup-java@v3</em> ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672172757,"creation_date":1672172757,"answer_id":74933838,"question_id":74932325,"body_markdown":"I use Keycloak to federate other identities: the only issuers that clients and resource-servers trust are Keycloak instances or realms. Other identity sources are hidden behind it. \r\n\r\nWith that config, roles are put into tokens by Keycloak, just as any other claims (for the last project I worked on, roles referential is LDAP but it could be a custom database table or Keycloak default one).\r\n\r\nIt&#39;s pretty easy to connect Keycloak to your user database and it comes with many features that I don&#39;t want to code and maintain (multi-factor authentication, social login, users, clients and resource-servers management screens,...) ","title":"Multiple ways of authentication with spring oauth2 and keycloak","body":"<p>I use Keycloak to federate other identities: the only issuers that clients and resource-servers trust are Keycloak instances or realms. Other identity sources are hidden behind it.</p>\n<p>With that config, roles are put into tokens by Keycloak, just as any other claims (for the last project I worked on, roles referential is LDAP but it could be a custom database table or Keycloak default one).</p>\n<p>It's pretty easy to connect Keycloak to your user database and it comes with many features that I don't want to code and maintain (multi-factor authentication, social login, users, clients and resource-servers management screens,...)</p>\n"}],"owner":{"account_id":10663246,"reputation":39,"user_id":7850598,"display_name":"Brucebayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672228325,"creation_date":1672161714,"question_id":74932325,"body_markdown":"I have a Spring boot project which runs authentication with spring oauth2 token provider.\r\nNow there is a idea to support a autentication with Keycloak, so that username and password will be stored in Keycloak and it will provide the access token.\r\nIdea is to keep the oauth token store and provider, and as well to have a keycloak one, but to keep the roles and acces right part in spring. Keycloak will only be used for some users as a token provider instead of Spring one and to have a refresh token. So all the user data and access rights and roles are still be done by spring, from database, only the part where it authenticates username and password will be in Keycloak which provides a token.\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tprivate ClientDetailsService clientDetailsService;\r\n\r\n\tprivate AccessDecisionManager accessDecisionManager;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().accessDecisionManager(accessDecisionManager)\r\n\t\t\t\t.antMatchers(&quot;/service/*&quot;).fullyAuthenticated()\r\n\t\t\t\t.anyRequest().permitAll().and().httpBasic().and().csrf().disable();\r\n\t}\r\n\r\n\t@Override\r\n\t@Bean(name = &quot;authenticationManagerBean&quot;)\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n    \r\n\t@Bean\r\n\t@Autowired\r\n\tpublic TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore) {\r\n\t\tTokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\r\n\t\thandler.setTokenStore(tokenStore);\r\n\t\thandler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\r\n\t\thandler.setClientDetailsService(clientDetailsService);\r\n\t\treturn handler;\r\n\t}\r\n\r\n\t@Bean\r\n\t@Autowired\r\n\tpublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n\t\tTokenApprovalStore store = new TokenApprovalStore();\r\n\t\tstore.setTokenStore(tokenStore);\r\n\t\treturn store;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic AffirmativeBased accessDecisionManager() {\r\n\t\tList&lt;AccessDecisionVoter&lt;?&gt;&gt; accessDecisionVoters = new ArrayList&lt;&gt;();\r\n\t\taccessDecisionVoters.add(new ScopeVoter());\r\n\t\taccessDecisionVoters.add(new RoleVoter());\r\n\t\taccessDecisionVoters.add(new AuthenticatedVoter());\r\n\r\n\t\tAffirmativeBased accessDecisionManager = new AffirmativeBased(accessDecisionVoters);\r\n\t\treturn accessDecisionManager;\r\n\t}\r\n```\r\n\r\nAnd there is a Custom client service which grants access rights:\r\n\r\n```\r\n\r\n@Component\r\npublic class CustomClientService implements ClientDetailsService {\r\n\r\n\tprivate static Map&lt;String, BaseClientDetails&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\t\r\n\t@Autowired\r\n\tUserService userService;\r\n\t\r\n\t@Autowired\r\n\tAccessRightsService accessRightsService;\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic ClientDetails loadClientByClientId(String paramString) throws ClientRegistrationException {\r\n\t\t...\r\n```\r\n\r\nAlso there is a custom TokenStore class:\r\n\r\n```\r\n\r\npublic class MyTokenServices extends DefaultTokenServices {\r\n\t\r\n\tprivate static Logger log = LoggerFactory.getLogger(MyTokenServices.class);\r\n\t\r\n\tpublic UserService userService;\r\n\t\r\n\tpublic AccessRightsService accessRightService;\r\n\r\n\tprivate TokenStore my_tokenStore;\r\n\t\r\n\t@Override\r\n\tpublic void setTokenStore(TokenStore tokenStore) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tsuper.setTokenStore(tokenStore);\r\n\t\tmy_tokenStore = tokenStore;\r\n\t}\r\n\t\r\n\t@Override\r\n\t@Transactional\r\n\tpublic OAuth2AccessToken createAccessToken(OAuth2Authentication authentication) throws AuthenticationException {\r\n\t\tOAuth2AccessToken retVal= super.createAccessToken(authentication);\r\n\t\tif(retVal instanceof DefaultOAuth2AccessToken) {\r\n\t\t\tDefaultOAuth2AccessToken defRetVal =  (DefaultOAuth2AccessToken)retVal;\r\n\t\t\tlog.info(&quot;New loging request&quot;+ defRetVal.toString());\r\n//\t\t\tdefRetVal.setExpiration( Date.from(LocalDateTime.now().plus(8,ChronoUnit.HOURS).atZone(ZoneId.systemDefault()).toInstant()));\r\n\t\t\tmy_tokenStore.storeAccessToken(defRetVal, authentication);\r\n\t\t}\r\n\t\treturn retVal;\r\n\t\t \r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic OAuth2Authentication loadAuthentication(String accessTokenValue)\r\n\t\t\tthrows AuthenticationException, InvalidTokenException {\r\n\t\tOAuth2Authentication retVal = super.loadAuthentication(accessTokenValue);\r\n\t\tOAuth2Request oldRequest = retVal.getOAuth2Request();\r\n\t\t\r\n\t\tUser user = userService.getUserByUsername(oldRequest.getClientId());\r\n\t\tif(changeAutheticator(retVal, user)) {\r\n\t\t\tHashSet&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n\t\t\tuser.getRoles().forEach(a-&gt;authorities.add(new SimpleGrantedAuthority(a.getRoleName())));\r\n\t\t\t\r\n\t\t\tSet&lt;String&gt; accessRights = accessRightService.getUserAccessRights(user);\r\n\t\t\tif(accessRights != null) {\r\n\t\t\t\taccessRights.forEach(rihgt-&gt;{\r\n\t\t\t\t\tauthorities.add(new SimpleGrantedAuthority(rihgt));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tOAuth2Request newRequest  = new OAuth2Request(retVal.getOAuth2Request().getRequestParameters(),\r\n\t\t\t\toldRequest.getClientId(), authorities, oldRequest.isApproved(), oldRequest.getScope(), \r\n\t\t\t\toldRequest.getResourceIds(), oldRequest.getRedirectUri(), oldRequest.getResponseTypes(), oldRequest.getExtensions());\r\n\t\t\r\n\t\t\tretVal = new OAuth2Authentication(newRequest, retVal.getUserAuthentication());\r\n\t\t}\r\n\t\treturn retVal;\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Method that check do we need to change authenticator\r\n\t * @param retVal\r\n\t * @param user\r\n\t * @return\r\n\t */\r\n\tprivate boolean changeAutheticator(OAuth2Authentication auth, User user) {\r\n\t\tif(user == null) return false;\r\n\t\tif(user != null ) {\r\n\t\t\tif(user.getRoles() != null) {\r\n\t\t\t\tif(auth.getOAuth2Request()!=null &amp;&amp; auth.getOAuth2Request().getAuthorities() != null){\r\n\t\t\t\t\tfor(Role role:user.getRoles()){\r\n\t\t\t\t\t\tif(!auth.getOAuth2Request().getAuthorities().stream().anyMatch(a-&gt;a.getAuthority().equals(role.getRoleName()))){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(GrantedAuthority ga : auth.getOAuth2Request().getAuthorities()) {\r\n\t\t\t\t\t\tif(!user.getRoles().stream().anyMatch(a-&gt;a.getRoleName().equals(ga.getAuthority()))){\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n```\r\n\r\nI was trying to implement a multiple authentiaction like the one from other stackoverflow but that was not a solution. Thinking that I should provide a custom authentication provider with Keycloak or still like not having a solution in head.","title":"Multiple ways of authentication with spring oauth2 and keycloak","body":"<p>I have a Spring boot project which runs authentication with spring oauth2 token provider.\nNow there is a idea to support a autentication with Keycloak, so that username and password will be stored in Keycloak and it will provide the access token.\nIdea is to keep the oauth token store and provider, and as well to have a keycloak one, but to keep the roles and acces right part in spring. Keycloak will only be used for some users as a token provider instead of Spring one and to have a refresh token. So all the user data and access rights and roles are still be done by spring, from database, only the part where it authenticates username and password will be in Keycloak which provides a token.</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private ClientDetailsService clientDetailsService;\n\n    private AccessDecisionManager accessDecisionManager;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().accessDecisionManager(accessDecisionManager)\n                .antMatchers(&quot;/service/*&quot;).fullyAuthenticated()\n                .anyRequest().permitAll().and().httpBasic().and().csrf().disable();\n    }\n\n    @Override\n    @Bean(name = &quot;authenticationManagerBean&quot;)\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n    \n    @Bean\n    @Autowired\n    public TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore) {\n        TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\n        handler.setTokenStore(tokenStore);\n        handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\n        handler.setClientDetailsService(clientDetailsService);\n        return handler;\n    }\n\n    @Bean\n    @Autowired\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n        TokenApprovalStore store = new TokenApprovalStore();\n        store.setTokenStore(tokenStore);\n        return store;\n    }\n\n    @Bean\n    public AffirmativeBased accessDecisionManager() {\n        List&lt;AccessDecisionVoter&lt;?&gt;&gt; accessDecisionVoters = new ArrayList&lt;&gt;();\n        accessDecisionVoters.add(new ScopeVoter());\n        accessDecisionVoters.add(new RoleVoter());\n        accessDecisionVoters.add(new AuthenticatedVoter());\n\n        AffirmativeBased accessDecisionManager = new AffirmativeBased(accessDecisionVoters);\n        return accessDecisionManager;\n    }\n</code></pre>\n<p>And there is a Custom client service which grants access rights:</p>\n<pre><code>\n@Component\npublic class CustomClientService implements ClientDetailsService {\n\n    private static Map&lt;String, BaseClientDetails&gt; cache = new ConcurrentHashMap&lt;&gt;();\n    \n    @Autowired\n    UserService userService;\n    \n    @Autowired\n    AccessRightsService accessRightsService;\n    \n    \n    @Override\n    public ClientDetails loadClientByClientId(String paramString) throws ClientRegistrationException {\n        ...\n</code></pre>\n<p>Also there is a custom TokenStore class:</p>\n<pre><code>\npublic class MyTokenServices extends DefaultTokenServices {\n    \n    private static Logger log = LoggerFactory.getLogger(MyTokenServices.class);\n    \n    public UserService userService;\n    \n    public AccessRightsService accessRightService;\n\n    private TokenStore my_tokenStore;\n    \n    @Override\n    public void setTokenStore(TokenStore tokenStore) {\n        // TODO Auto-generated method stub\n        super.setTokenStore(tokenStore);\n        my_tokenStore = tokenStore;\n    }\n    \n    @Override\n    @Transactional\n    public OAuth2AccessToken createAccessToken(OAuth2Authentication authentication) throws AuthenticationException {\n        OAuth2AccessToken retVal= super.createAccessToken(authentication);\n        if(retVal instanceof DefaultOAuth2AccessToken) {\n            DefaultOAuth2AccessToken defRetVal =  (DefaultOAuth2AccessToken)retVal;\n            log.info(&quot;New loging request&quot;+ defRetVal.toString());\n//          defRetVal.setExpiration( Date.from(LocalDateTime.now().plus(8,ChronoUnit.HOURS).atZone(ZoneId.systemDefault()).toInstant()));\n            my_tokenStore.storeAccessToken(defRetVal, authentication);\n        }\n        return retVal;\n         \n    }\n    \n    @Override\n    public OAuth2Authentication loadAuthentication(String accessTokenValue)\n            throws AuthenticationException, InvalidTokenException {\n        OAuth2Authentication retVal = super.loadAuthentication(accessTokenValue);\n        OAuth2Request oldRequest = retVal.getOAuth2Request();\n        \n        User user = userService.getUserByUsername(oldRequest.getClientId());\n        if(changeAutheticator(retVal, user)) {\n            HashSet&lt;GrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n            user.getRoles().forEach(a-&gt;authorities.add(new SimpleGrantedAuthority(a.getRoleName())));\n            \n            Set&lt;String&gt; accessRights = accessRightService.getUserAccessRights(user);\n            if(accessRights != null) {\n                accessRights.forEach(rihgt-&gt;{\n                    authorities.add(new SimpleGrantedAuthority(rihgt));\n                });\n            }\n            OAuth2Request newRequest  = new OAuth2Request(retVal.getOAuth2Request().getRequestParameters(),\n                oldRequest.getClientId(), authorities, oldRequest.isApproved(), oldRequest.getScope(), \n                oldRequest.getResourceIds(), oldRequest.getRedirectUri(), oldRequest.getResponseTypes(), oldRequest.getExtensions());\n        \n            retVal = new OAuth2Authentication(newRequest, retVal.getUserAuthentication());\n        }\n        return retVal;\n        \n    }\n    \n    /**\n     * Method that check do we need to change authenticator\n     * @param retVal\n     * @param user\n     * @return\n     */\n    private boolean changeAutheticator(OAuth2Authentication auth, User user) {\n        if(user == null) return false;\n        if(user != null ) {\n            if(user.getRoles() != null) {\n                if(auth.getOAuth2Request()!=null &amp;&amp; auth.getOAuth2Request().getAuthorities() != null){\n                    for(Role role:user.getRoles()){\n                        if(!auth.getOAuth2Request().getAuthorities().stream().anyMatch(a-&gt;a.getAuthority().equals(role.getRoleName()))){\n                            return true;\n                        }\n                    }\n                    for(GrantedAuthority ga : auth.getOAuth2Request().getAuthorities()) {\n                        if(!user.getRoles().stream().anyMatch(a-&gt;a.getRoleName().equals(ga.getAuthority()))){\n                            return true;\n                        }\n                    }\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p>I was trying to implement a multiple authentiaction like the one from other stackoverflow but that was not a solution. Thinking that I should provide a custom authentication provider with Keycloak or still like not having a solution in head.</p>\n"},{"tags":["java","sql","postgresql","web"],"answers":[{"tags":[],"owner":{"account_id":9606741,"reputation":32531,"user_id":7132550,"accept_rate":75,"display_name":"Michał Turczyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672228236,"creation_date":1672227922,"answer_id":74939854,"question_id":74939795,"body_markdown":"I think it should look like below.\r\n\r\nAlternatively, you could only `SELECT isRight` column from DB.\r\n\r\nAlso, if you have answerId - this should suffice to identify answer uniquely, so no need for additional parameter for question ID.\r\n\r\n```Java\r\npublic Boolean isAnswerRight(Long answerId) {\r\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\r\n        .setParameter(&quot;answerId&quot;, answerId)\r\n        .getSingleResult()\r\n\t\t// assuming you have getter getIsRight for isRight field\r\n\t\t.getIsRight();\r\n}\r\n```\r\nor\r\n```Java\r\npublic Answer getAnswerById(Long answerId) {\r\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\r\n        .setParameter(&quot;answerId&quot;, answerId)\r\n        .getSingleResult();\r\n}\r\n\r\nAnswer answer = getAnswerById(answerId);\r\n// assuming you have getter for isRight field\r\nBoolean isAnswerRight = answer.getIsRight();\r\n```","title":"how to get object field from database","body":"<p>I think it should look like below.</p>\n<p>Alternatively, you could only <code>SELECT isRight</code> column from DB.</p>\n<p>Also, if you have answerId - this should suffice to identify answer uniquely, so no need for additional parameter for question ID.</p>\n<pre><code>public Boolean isAnswerRight(Long answerId) {\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\n        .setParameter(&quot;answerId&quot;, answerId)\n        .getSingleResult()\n        // assuming you have getter getIsRight for isRight field\n        .getIsRight();\n}\n</code></pre>\n<p>or</p>\n<pre><code>public Answer getAnswerById(Long answerId) {\n    return entityManager.createQuery(&quot;select * from Answer a where a.id = :answerId&quot;, Answer.class)\n        .setParameter(&quot;answerId&quot;, answerId)\n        .getSingleResult();\n}\n\nAnswer answer = getAnswerById(answerId);\n// assuming you have getter for isRight field\nBoolean isAnswerRight = answer.getIsRight();\n</code></pre>\n"}],"owner":{"account_id":27252357,"reputation":1,"user_id":20804171,"display_name":"zeeetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672228236,"creation_date":1672227536,"question_id":74939795,"body_markdown":"I have entity:\r\n\r\n```\r\npublic class Answer {\r\nprivate Long id;\r\nprivate Question question;\r\nprivate String answer;\r\nprivate boolean isRight;\r\n}\r\n```\r\nHow can I get the &quot;isRight&quot; field from the database?\r\n\r\n\r\nin the DaoImpl i tried this:\r\n\r\n```\r\npublic Boolean isAnswerRight(Long questionId, Long answerId) {\r\n    return entityManager.createQuery(&quot;select a from Answer where a.question.id = :questionId AND a.id = :answerId&quot;, Answer.class)\r\n            .setParameter(&quot;questionId&quot;, questionId)\r\n            .setParameter(&quot;answerId&quot;, answerId)\r\n            .getSingleResult()\r\n            .isRight();\r\n}\r\n```\r\nbut teamlead said: &quot;you get the whole object from the database, get the field right away&quot;","title":"how to get object field from database","body":"<p>I have entity:</p>\n<pre><code>public class Answer {\nprivate Long id;\nprivate Question question;\nprivate String answer;\nprivate boolean isRight;\n}\n</code></pre>\n<p>How can I get the &quot;isRight&quot; field from the database?</p>\n<p>in the DaoImpl i tried this:</p>\n<pre><code>public Boolean isAnswerRight(Long questionId, Long answerId) {\n    return entityManager.createQuery(&quot;select a from Answer where a.question.id = :questionId AND a.id = :answerId&quot;, Answer.class)\n            .setParameter(&quot;questionId&quot;, questionId)\n            .setParameter(&quot;answerId&quot;, answerId)\n            .getSingleResult()\n            .isRight();\n}\n</code></pre>\n<p>but teamlead said: &quot;you get the whole object from the database, get the field right away&quot;</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672239702,"post_id":74939789,"comment_id":132249143,"body_markdown":"Start a new Android Studio project with one empty activity  Then copy your .java files to the folder where the .java file of the new activity resides. Copy xml files to their respective res subfolders.","body":"Start a new Android Studio project with one empty activity  Then copy your .java files to the folder where the .java file of the new activity resides. Copy xml files to their respective res subfolders."}],"answers":[{"comments":[{"owner":{"display_name":"user20794994"},"score":0,"creation_date":1672235165,"post_id":74939875,"comment_id":132247714,"body_markdown":"Thank you I have also used java swing and 2dgraphics code . is this a problem if i want to implement it?","body":"Thank you I have also used java swing and 2dgraphics code . is this a problem if i want to implement it?"},{"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"score":0,"creation_date":1672236672,"post_id":74939875,"comment_id":132248161,"body_markdown":"Unfortunately yes, all should be re-done. Fortunately Android Studio provides a layout editor to help you create UI faster, also in android, UI layouts are described in XML files, so its like html, not that hard","body":"Unfortunately yes, all should be re-done. Fortunately Android Studio provides a layout editor to help you create UI faster, also in android, UI layouts are described in XML files, so its like html, not that hard"},{"owner":{"display_name":"user20794994"},"score":0,"creation_date":1672238139,"post_id":74939875,"comment_id":132248661,"body_markdown":"Thank you, the so i have to delete the hole code which is in combination with swing? And change it with xml?","body":"Thank you, the so i have to delete the hole code which is in combination with swing? And change it with xml?"},{"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"score":0,"creation_date":1672245743,"post_id":74939875,"comment_id":132251077,"body_markdown":"I would recommend keeping it as a reference (outside the android project) until everything is done, just in case","body":"I would recommend keeping it as a reference (outside the android project) until everything is done, just in case"}],"tags":[],"owner":{"account_id":21267548,"reputation":310,"user_id":15647563,"display_name":"K-Galalem"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672228066,"creation_date":1672228066,"answer_id":74939875,"question_id":74939789,"body_markdown":"The ***android JAVA*** is kinda tricky. It violates the Java principle of **Write Once Run Anywhere**\r\n\r\nTo transfer any java project to android, it is best to:\r\n1. Separate your Java code that handle UI from the one that handles the logique (its even better to wisely organize the project into packages\r\n2. create a new blank android project\r\n3. copy the *logique* Java code/classes to java resource folder\r\n4. Convert the *UI* Java code/classes into android activities","title":"Can I transfer Java code from Eclipse to Andriodstudio?","body":"<p>The <em><strong>android JAVA</strong></em> is kinda tricky. It violates the Java principle of <strong>Write Once Run Anywhere</strong></p>\n<p>To transfer any java project to android, it is best to:</p>\n<ol>\n<li>Separate your Java code that handle UI from the one that handles the logique (its even better to wisely organize the project into packages</li>\n<li>create a new blank android project</li>\n<li>copy the <em>logique</em> Java code/classes to java resource folder</li>\n<li>Convert the <em>UI</em> Java code/classes into android activities</li>\n</ol>\n"}],"owner":{"display_name":"user20794994"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672251394,"accepted_answer_id":74939875,"answer_count":1,"score":0,"last_activity_date":1672228066,"creation_date":1672227474,"question_id":74939789,"body_markdown":"I have developed a game with Java in Eclipse, I would now like to take this 1 to 1 and make it into an app, how can I do this? Is that possible? Can I transfer this to Andriod Studio?\r\n\r\nI don&#180;t know how i could make this. Do you know a video or an intruduction?","title":"Can I transfer Java code from Eclipse to Andriodstudio?","body":"<p>I have developed a game with Java in Eclipse, I would now like to take this 1 to 1 and make it into an app, how can I do this? Is that possible? Can I transfer this to Andriod Studio?</p>\n<p>I don´t know how i could make this. Do you know a video or an intruduction?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1671943891,"post_id":74911345,"comment_id":132199612,"body_markdown":"*I get a error: java.sql.SQLException: Parameter index out of range (0 &lt; 1 )* - so this has nothing to do with the JTable. This is an SQL problem. The way to solve an SQL problem is to first test the SQL statement by hardcoding the data. Once this works, then you attempt to provide dynamic data from the JTable. I would start by looking at your SQ:L statement: 1) why do you have the &quot;row&quot; variable as part of the SQL? The point of using a PreparedStatment is that all the variable data is passed by parameters. 2) Why do you only have 2 &quot;?&quot; but attempt to set 5 parameters for the statement.","body":"<i>I get a error: java.sql.SQLException: Parameter index out of range (0 &lt; 1 )</i> - so this has nothing to do with the JTable. This is an SQL problem. The way to solve an SQL problem is to first test the SQL statement by hardcoding the data. Once this works, then you attempt to provide dynamic data from the JTable. I would start by looking at your SQ:L statement: 1) why do you have the &quot;row&quot; variable as part of the SQL? The point of using a PreparedStatment is that all the variable data is passed by parameters. 2) Why do you only have 2 &quot;?&quot; but attempt to set 5 parameters for the statement."},{"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"score":0,"creation_date":1672004976,"post_id":74911345,"comment_id":132207069,"body_markdown":"Okay, thanks for the help. I removed the &quot;row&quot; variable, and also fixed my mistake of only having 2 &quot;?&quot; I now have one for each of my parameters but I still am getting the error.                                                                                                                                      This is my current sql statement now:                                                                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?, SET Address = ?, SET Email = ?, SET Tel = ?, SET FAX = ? &quot;);","body":"Okay, thanks for the help. I removed the &quot;row&quot; variable, and also fixed my mistake of only having 2 &quot;?&quot; I now have one for each of my parameters but I still am getting the error.                                                                                                                                      This is my current sql statement now:                                                                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?, SET Address = ?, SET Email = ?, SET Tel = ?, SET FAX = ? &quot;);"}],"owner":{"account_id":20312707,"reputation":1,"user_id":14899335,"display_name":"Uzair "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672227766,"creation_date":1671937772,"question_id":74911345,"body_markdown":"I want to be able to update my MySQL database through user insertion in a JTable where I display my database, but based off my code right now I get a error: \r\n\r\n&gt; java.sql.SQLException: Parameter index out of range (0 &lt; 1 )\r\n\r\nThis error occurs when I click my button to update the database.\r\n\r\nThis is my main class:\r\n    \r\n```\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        new MyFrame();\r\n    }\r\n}\r\n```\r\n\r\nThis is my class for my main menu:\r\n    \r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class MyFrame extends JFrame{\r\n\r\n    JLabel label;\r\n    JMenu Add;\r\n    JMenu remove;\r\n    JMenu items;\r\n    JMenu vendors;\r\n    JMenuBar menuBar;\r\n    JMenuItem addCustomer;\r\n    JMenuItem addVendors;\r\n    JMenuItem addProducts;\r\n    JMenuItem removeCustomer;\r\n    JMenuItem removeProduct;\r\n    JMenuItem removeVendor;\r\n\r\n    MyFrame(){\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLayout(new FlowLayout());\r\n\r\n        label = new JLabel(&quot;Inventory Software&quot;);\r\n        label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\r\n\r\n        menuBar = new JMenuBar();\r\n\r\n        Add = new JMenu(&quot;Add&quot;);\r\n        remove = new JMenu(&quot;Edit&quot;);\r\n        items = new JMenu(&quot;Items&quot;);\r\n        vendors = new JMenu(&quot;Vendors&quot;);\r\n\r\n        addCustomer = new JMenuItem(&quot;Add Customers&quot;);\r\n        addVendors = new JMenuItem(&quot;Add Vendors&quot;);\r\n        addProducts = new JMenuItem(&quot;Add Products&quot;);\r\n\r\n        removeCustomer = new JMenuItem(&quot;Edit Customer&quot;);\r\n        removeProduct = new JMenuItem(&quot;Edit Product&quot;);\r\n        removeVendor = new JMenuItem(&quot;Edit Vendor&quot;);\r\n\r\n        remove.add(removeCustomer);\r\n        remove.add(removeProduct);\r\n        remove.add(removeVendor);\r\n\r\n        Add.add(addCustomer);\r\n        Add.add(addProducts);\r\n        Add.add(addVendors);\r\n\r\n        menuBar.add(Add);\r\n        menuBar.add(remove);\r\n        menuBar.add(items);\r\n        menuBar.add(vendors);\r\n\r\n        addCustomer.addActionListener(new WindowAC());\r\n        addVendors.addActionListener(new WindowAV());\r\n        addProducts.addActionListener(new WindowAP());\r\n        removeCustomer.addActionListener(new WindowRC());\r\n        removeVendor.addActionListener(new WindowRV());\r\n        removeProduct.addActionListener(new WindowRP());\r\n\r\n        this.setPreferredSize(new Dimension(550, 300));\r\n        this.setJMenuBar(menuBar);\r\n        this.add(label);\r\n        this.pack();\r\n        this.setVisible(true);\r\n        this.getContentPane().setBackground(Color.WHITE);\r\n        this.setLocationRelativeTo(null);\r\n        this.setTitle(&quot;Intact Communications Inventory Software&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis is my code to edit my customers in my JTable and update them in my database:\r\n    \r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.*;\r\n\r\npublic class WindowRC implements ActionListener {\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (&quot;Edit Customer&quot;.equals(e.getActionCommand())) {\r\n            JFrame windowRC = new JFrame();\r\n            JTable table = new JTable();\r\n            JButton button = new JButton(&quot;Update Database&quot;);\r\n\r\n            table.setBounds(268, 52, 283, 198);\r\n            button.setBounds(350, 180, 100, 60);\r\n            button.setFocusable(false);\r\n\r\n            windowRC.add(button);\r\n            windowRC.add(new JScrollPane(table));\r\n\r\n            windowRC.setSize(750, 750);\r\n            windowRC.getContentPane().setBackground(Color.WHITE);\r\n            windowRC.setTitle(&quot;Remove Product Data&quot;);\r\n            windowRC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            windowRC.setVisible(true);\r\n            windowRC.setLocationRelativeTo(null);\r\n\r\n            try {\r\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\r\n                Statement st = con.createStatement();\r\n                String query = &quot;SELECT * from addcustomer&quot;;\r\n                ResultSet rs = st.executeQuery(query);\r\n                ResultSetMetaData rsmd = rs.getMetaData();\r\n                DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n\r\n                int cols = rsmd.getColumnCount();\r\n                String[] colName = new String[cols];\r\n                for (int i = 0; i &lt; cols; i++)\r\n                    colName[i] = rsmd.getColumnName(i + 1);\r\n                model.setColumnIdentifiers(colName);\r\n\r\n                String name, address, email, tel, fax;\r\n\r\n                while (rs.next()) {\r\n                    name = rs.getString(1);\r\n                    address = rs.getString(2);\r\n                    email = rs.getString(3);\r\n                    tel = rs.getString(4);\r\n                    fax = rs.getString(5);\r\n\r\n                    String[] row = {name, address, email, tel, fax};\r\n                    model.addRow(row);\r\n                }\r\n            } catch (ClassNotFoundException | SQLException classNotFoundException) {\r\n                classNotFoundException.printStackTrace();\r\n            }\r\n\r\n            if (&quot;Update Database&quot;.equals(e.getActionCommand()))\r\n                System.out.println(&quot;Update happening!!!&quot;);\r\n                button.addActionListener(new ActionListener() {\r\n                    private Object Component;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e1) {\r\n                        try {\r\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\r\n                            Statement st = con.createStatement();\r\n                            DefaultTableModel model = (DefaultTableModel) table.getModel();\r\n                            int row = table.getSelectedRow();\r\n\r\n                            for (int i = 0; i &lt; model.getRowCount(); i++) {\r\n                                String name = (model.getValueAt(i, 0).toString());\r\n                                String address = model.getValueAt(i, 1).toString();\r\n                                String email = model.getValueAt(i, 2).toString();\r\n                                String tel = model.getValueAt(i, 3).toString();\r\n                                String fax = model.getValueAt(i, 4).toString();\r\n\r\n                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?&quot; + &quot;WHERE Name = ? &quot;+ row);\r\n\r\n                                updateQuery.setString(0,name);\r\n                                updateQuery.setString(1,address);\r\n                                updateQuery.setString(2,email);\r\n                                updateQuery.setString(3,tel);\r\n                                updateQuery.setString(4,fax);\r\n\r\n                                updateQuery.executeUpdate();\r\n\r\n                                st.close();\r\n                                con.close();\r\n\r\n                       JOptionPane.showMessageDialog((java.awt.Component) Component, &quot;Data Edited&quot;);\r\n                            }\r\n                        } catch (ClassNotFoundException | SQLException classNotFoundException) {\r\n                            classNotFoundException.printStackTrace();\r\n                        }\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried multiple different UPDATE statements, but each time I would get an error or it won&#39;t update my database that I connected to.\r\n\r\n ","title":"Update Mysql database using data inserted into Jtable","body":"<p>I want to be able to update my MySQL database through user insertion in a JTable where I display my database, but based off my code right now I get a error:</p>\n<blockquote>\n<p>java.sql.SQLException: Parameter index out of range (0 &lt; 1 )</p>\n</blockquote>\n<p>This error occurs when I click my button to update the database.</p>\n<p>This is my main class:</p>\n<pre><code>public class Main{\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n}\n</code></pre>\n<p>This is my class for my main menu:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class MyFrame extends JFrame{\n\n    JLabel label;\n    JMenu Add;\n    JMenu remove;\n    JMenu items;\n    JMenu vendors;\n    JMenuBar menuBar;\n    JMenuItem addCustomer;\n    JMenuItem addVendors;\n    JMenuItem addProducts;\n    JMenuItem removeCustomer;\n    JMenuItem removeProduct;\n    JMenuItem removeVendor;\n\n    MyFrame(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(new FlowLayout());\n\n        label = new JLabel(&quot;Inventory Software&quot;);\n        label.setFont(new Font(&quot;Comic Sans MS&quot;, Font.BOLD, 30));\n\n        menuBar = new JMenuBar();\n\n        Add = new JMenu(&quot;Add&quot;);\n        remove = new JMenu(&quot;Edit&quot;);\n        items = new JMenu(&quot;Items&quot;);\n        vendors = new JMenu(&quot;Vendors&quot;);\n\n        addCustomer = new JMenuItem(&quot;Add Customers&quot;);\n        addVendors = new JMenuItem(&quot;Add Vendors&quot;);\n        addProducts = new JMenuItem(&quot;Add Products&quot;);\n\n        removeCustomer = new JMenuItem(&quot;Edit Customer&quot;);\n        removeProduct = new JMenuItem(&quot;Edit Product&quot;);\n        removeVendor = new JMenuItem(&quot;Edit Vendor&quot;);\n\n        remove.add(removeCustomer);\n        remove.add(removeProduct);\n        remove.add(removeVendor);\n\n        Add.add(addCustomer);\n        Add.add(addProducts);\n        Add.add(addVendors);\n\n        menuBar.add(Add);\n        menuBar.add(remove);\n        menuBar.add(items);\n        menuBar.add(vendors);\n\n        addCustomer.addActionListener(new WindowAC());\n        addVendors.addActionListener(new WindowAV());\n        addProducts.addActionListener(new WindowAP());\n        removeCustomer.addActionListener(new WindowRC());\n        removeVendor.addActionListener(new WindowRV());\n        removeProduct.addActionListener(new WindowRP());\n\n        this.setPreferredSize(new Dimension(550, 300));\n        this.setJMenuBar(menuBar);\n        this.add(label);\n        this.pack();\n        this.setVisible(true);\n        this.getContentPane().setBackground(Color.WHITE);\n        this.setLocationRelativeTo(null);\n        this.setTitle(&quot;Intact Communications Inventory Software&quot;);\n    }\n}\n</code></pre>\n<p>This is my code to edit my customers in my JTable and update them in my database:</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\n\npublic class WindowRC implements ActionListener {\n    public void actionPerformed(ActionEvent e) {\n        if (&quot;Edit Customer&quot;.equals(e.getActionCommand())) {\n            JFrame windowRC = new JFrame();\n            JTable table = new JTable();\n            JButton button = new JButton(&quot;Update Database&quot;);\n\n            table.setBounds(268, 52, 283, 198);\n            button.setBounds(350, 180, 100, 60);\n            button.setFocusable(false);\n\n            windowRC.add(button);\n            windowRC.add(new JScrollPane(table));\n\n            windowRC.setSize(750, 750);\n            windowRC.getContentPane().setBackground(Color.WHITE);\n            windowRC.setTitle(&quot;Remove Product Data&quot;);\n            windowRC.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            windowRC.setVisible(true);\n            windowRC.setLocationRelativeTo(null);\n\n            try {\n                Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\n                Statement st = con.createStatement();\n                String query = &quot;SELECT * from addcustomer&quot;;\n                ResultSet rs = st.executeQuery(query);\n                ResultSetMetaData rsmd = rs.getMetaData();\n                DefaultTableModel model = (DefaultTableModel) table.getModel();\n\n                int cols = rsmd.getColumnCount();\n                String[] colName = new String[cols];\n                for (int i = 0; i &lt; cols; i++)\n                    colName[i] = rsmd.getColumnName(i + 1);\n                model.setColumnIdentifiers(colName);\n\n                String name, address, email, tel, fax;\n\n                while (rs.next()) {\n                    name = rs.getString(1);\n                    address = rs.getString(2);\n                    email = rs.getString(3);\n                    tel = rs.getString(4);\n                    fax = rs.getString(5);\n\n                    String[] row = {name, address, email, tel, fax};\n                    model.addRow(row);\n                }\n            } catch (ClassNotFoundException | SQLException classNotFoundException) {\n                classNotFoundException.printStackTrace();\n            }\n\n            if (&quot;Update Database&quot;.equals(e.getActionCommand()))\n                System.out.println(&quot;Update happening!!!&quot;);\n                button.addActionListener(new ActionListener() {\n                    private Object Component;\n\n                    @Override\n                    public void actionPerformed(ActionEvent e1) {\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/inventoryapp&quot;, &quot;root&quot;, &quot;P@kist@n1&quot;);\n                            Statement st = con.createStatement();\n                            DefaultTableModel model = (DefaultTableModel) table.getModel();\n                            int row = table.getSelectedRow();\n\n                            for (int i = 0; i &lt; model.getRowCount(); i++) {\n                                String name = (model.getValueAt(i, 0).toString());\n                                String address = model.getValueAt(i, 1).toString();\n                                String email = model.getValueAt(i, 2).toString();\n                                String tel = model.getValueAt(i, 3).toString();\n                                String fax = model.getValueAt(i, 4).toString();\n\n                                PreparedStatement updateQuery = con.prepareStatement(&quot;UPDATE addcustomer&quot; + &quot;SET Name = ?&quot; + &quot;WHERE Name = ? &quot;+ row);\n\n                                updateQuery.setString(0,name);\n                                updateQuery.setString(1,address);\n                                updateQuery.setString(2,email);\n                                updateQuery.setString(3,tel);\n                                updateQuery.setString(4,fax);\n\n                                updateQuery.executeUpdate();\n\n                                st.close();\n                                con.close();\n\n                       JOptionPane.showMessageDialog((java.awt.Component) Component, &quot;Data Edited&quot;);\n                            }\n                        } catch (ClassNotFoundException | SQLException classNotFoundException) {\n                            classNotFoundException.printStackTrace();\n                        }\n                    }\n                });\n        }\n    }\n}\n</code></pre>\n<p>I tried multiple different UPDATE statements, but each time I would get an error or it won't update my database that I connected to.</p>\n"},{"tags":["java","eclipse","ide","editor"],"comments":[{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572099389,"post_id":58570511,"comment_id":103459884,"body_markdown":"One downvote and one vote to close this question, *without giving any reasons*","body":"One downvote and one vote to close this question, <i>without giving any reasons</i>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1572133897,"post_id":58570511,"comment_id":103467136,"body_markdown":"Do you have additional plug-ins installed?","body":"Do you have additional plug-ins installed?"},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572166501,"post_id":58570511,"comment_id":103470944,"body_markdown":"@howlger only Vrapper, but the problem existed even before its installation.","body":"@howlger only Vrapper, but the problem existed even before its installation."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1572184818,"post_id":58570511,"comment_id":103474746,"body_markdown":"Which GTK version do you have exactly? Sounds like [Eclipse bug 495220](https://bugs.eclipse.org/bugs/show_bug.cgi?id=495220), but that was fixed quite some time ago.","body":"Which GTK version do you have exactly? Sounds like <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=495220\" rel=\"nofollow noreferrer\">Eclipse bug 495220</a>, but that was fixed quite some time ago."},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572189079,"post_id":58570511,"comment_id":103475734,"body_markdown":"@howlger `About -&gt; Installation details -&gt; Configuration` reports these lines: `org.eclipse.swt.internal.gtk.theme=Adwaita\norg.eclipse.swt.internal.gtk.version=3.24.5\norg.eclipse.swt.internal.webkitgtk.version=2.24.4` from which I understand that I&#39;m using GTK 3.24.5. Perhaps I should try to switch to GTK2. I&#39;ll give it a try and see if it works correctly. Thanks.","body":"@howlger <code>About -&gt; Installation details -&gt; Configuration</code> reports these lines: <code>org.eclipse.swt.internal.gtk.theme=Adwaita org.eclipse.swt.internal.gtk.version=3.24.5 org.eclipse.swt.internal.webkitgtk.version=2.24.4</code> from which I understand that I&#39;m using GTK 3.24.5. Perhaps I should try to switch to GTK2. I&#39;ll give it a try and see if it works correctly. Thanks."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1572189720,"post_id":58570511,"comment_id":103475872,"body_markdown":"Unfortunately, [GTK2 support has been dropped](https://www.eclipse.org/eclipse/news/4.10/platform.php#gtk2-removal). Maybe you can try to update GTK3.","body":"Unfortunately, <a href=\"https://www.eclipse.org/eclipse/news/4.10/platform.php#gtk2-removal\" rel=\"nofollow noreferrer\">GTK2 support has been dropped</a>. Maybe you can try to update GTK3."},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572190119,"post_id":58570511,"comment_id":103475974,"body_markdown":"I tried to run `apt install libgtk3-0 libgtk3-bin libgtk3-common`, but it says that they&#39;re all updated at the newest version","body":"I tried to run <code>apt install libgtk3-0 libgtk3-bin libgtk3-common</code>, but it says that they&#39;re all updated at the newest version"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1572263876,"post_id":58570511,"comment_id":103494034,"body_markdown":"Any ideas where the focus is going? Have you tried a different window manager?","body":"Any ideas where the focus is going? Have you tried a different window manager?"},{"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"score":0,"creation_date":1572286221,"post_id":58570511,"comment_id":103505254,"body_markdown":"@nitind no, I have not tried any other window managers, but the cursor writes code even when I cannot see it, so I guess that the focus is on the control which displays and edits the code.","body":"@nitind no, I have not tried any other window managers, but the cursor writes code even when I cannot see it, so I guess that the focus is on the control which displays and edits the code."},{"owner":{"account_id":18915822,"reputation":356,"user_id":13800918,"display_name":"Antoni"},"score":0,"creation_date":1632688994,"post_id":58570511,"comment_id":122554307,"body_markdown":"extremely annoying, and still not fixed (eclipse 2021-09)","body":"extremely annoying, and still not fixed (eclipse 2021-09)"}],"answers":[{"comments":[{"owner":{"account_id":1689218,"reputation":365,"user_id":1551920,"display_name":"Guy G"},"score":2,"creation_date":1584616606,"post_id":59460024,"comment_id":107493649,"body_markdown":"I&#39;m getting this issue when using i3.  If I switch to another workspace and back, the cursor returns.","body":"I&#39;m getting this issue when using i3.  If I switch to another workspace and back, the cursor returns."},{"owner":{"account_id":7882901,"reputation":358,"user_id":5956161,"display_name":"Alex"},"score":0,"creation_date":1619688461,"post_id":59460024,"comment_id":118982632,"body_markdown":"@GuyG did you maybe find any solution to this? It happens also to me when using i3.","body":"@GuyG did you maybe find any solution to this? It happens also to me when using i3."},{"owner":{"account_id":1689218,"reputation":365,"user_id":1551920,"display_name":"Guy G"},"score":0,"creation_date":1619779329,"post_id":59460024,"comment_id":119013545,"body_markdown":"@Alex- No, sorry, nothing beyond quickly switching to another workspace and back.  That and moving to more frontend development, thus switching to VS Code.","body":"@Alex- No, sorry, nothing beyond quickly switching to another workspace and back.  That and moving to more frontend development, thus switching to VS Code."},{"owner":{"account_id":174435,"reputation":410,"user_id":403800,"display_name":"Micha&#235;l"},"score":1,"creation_date":1632004293,"post_id":59460024,"comment_id":122377404,"body_markdown":"This also happens in Awesome.","body":"This also happens in Awesome."},{"owner":{"account_id":18915822,"reputation":356,"user_id":13800918,"display_name":"Antoni"},"score":1,"creation_date":1632317784,"post_id":59460024,"comment_id":122459568,"body_markdown":"still happens (eclipse 2021-06) with awesome (4.3). i made a workaround keybind that sets it minimized for a 1/1000 of a second. i press it everytime this happens","body":"still happens (eclipse 2021-06) with awesome (4.3). i made a workaround keybind that sets it minimized for a 1/1000 of a second. i press it everytime this happens"},{"owner":{"account_id":18915822,"reputation":356,"user_id":13800918,"display_name":"Antoni"},"score":0,"creation_date":1632688900,"post_id":59460024,"comment_id":122554291,"body_markdown":"and also on eclipse 2021-09","body":"and also on eclipse 2021-09"},{"owner":{"account_id":217517,"reputation":1317,"user_id":473359,"display_name":"Mykola Bohdiuk"},"score":0,"creation_date":1642864801,"post_id":59460024,"comment_id":125188496,"body_markdown":"For me, F10-F10 works, or clicking any top menu item with a mouse (i3).","body":"For me, F10-F10 works, or clicking any top menu item with a mouse (i3)."}],"tags":[],"owner":{"account_id":14172345,"reputation":43,"user_id":10238591,"display_name":"jkan5855"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578310999,"creation_date":1577127037,"answer_id":59460024,"question_id":58570511,"body_markdown":"Dead place, but I&#39;m currently dealing with the same. The weird thing is that it happens on a per-file basis. Eclipse also treats that file as if it was not open, i.e. I can only save it through the &#39;Save all&#39; method, not &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;S&lt;/kbd&gt; (&#39;Save&#39;) as I usually do. It&#39;s hellishly annoying, but **it usually is fixed by reopening the file in question, and editing other files between the closing and reopening of other files.**\r\n\r\nIf you have a better answer than this that you&#39;ve found since, please, please post it here. It&#39;s annoying as all hell.","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>Dead place, but I'm currently dealing with the same. The weird thing is that it happens on a per-file basis. Eclipse also treats that file as if it was not open, i.e. I can only save it through the 'Save all' method, not <kbd>Ctrl</kbd>-<kbd>S</kbd> ('Save') as I usually do. It's hellishly annoying, but <strong>it usually is fixed by reopening the file in question, and editing other files between the closing and reopening of other files.</strong></p>\n\n<p>If you have a better answer than this that you've found since, please, please post it here. It's annoying as all hell.</p>\n"},{"comments":[{"owner":{"account_id":1695765,"reputation":914,"user_id":1557174,"accept_rate":19,"display_name":"mvera"},"score":0,"creation_date":1682184966,"post_id":74939813,"comment_id":134176883,"body_markdown":"switch to another application and come back to eclipse also solves the problem","body":"switch to another application and come back to eclipse also solves the problem"}],"tags":[],"owner":{"account_id":39197,"reputation":1432,"user_id":112937,"accept_rate":67,"display_name":"thedrs"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672227664,"creation_date":1672227664,"answer_id":74939813,"question_id":58570511,"body_markdown":"Minimize eclipse and maximize again.\r\nHappened to me on Eclipse 2022-09 (4.25.0).\r\n","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>Minimize eclipse and maximize again.\nHappened to me on Eclipse 2022-09 (4.25.0).</p>\n"}],"owner":{"account_id":4108490,"reputation":631,"user_id":3371749,"accept_rate":100,"display_name":"LuxGiammi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3658,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1672227664,"creation_date":1572090789,"question_id":58570511,"body_markdown":"I have a very annoying problem with Eclipse 2019-09 (4.13.0) version: while I&#39;m editing code (often when I copy and paste things or after accepting a code completion suggestion) the cursor (I&#39;m talking about the text cursor: `|`) disappears completely! I cannot see it anymore, so I&#39;m not able to detect on which part of the line I am! This is very annoying. I found a partial fix by installing the extension &#39;Vrapper&#39;: enabling and disabling it makes the cursor appear again.\r\n\r\nAnother problem I experience every time I press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; to ask for code completion suggestions, the cursor stops writing. After doing random things like switching tabs or opening new files the cursor starts to write again, but then the keyboard shortcuts stop working and I have to restart the entire IDE.\r\n\r\nThis behavior is intolerable, so I was wondering whether somebody else has had the same problem and how they have dealt with it.\r\n\r\nThe configuration of my system is:\r\nOS: Debian, using i3wm+compton as a window manager on Xserver. \r\n\r\nThanks in advance.","title":"The cursor randomly disappears in Eclipse 2019-09 and sometimes stops writing","body":"<p>I have a very annoying problem with Eclipse 2019-09 (4.13.0) version: while I'm editing code (often when I copy and paste things or after accepting a code completion suggestion) the cursor (I'm talking about the text cursor: <code>|</code>) disappears completely! I cannot see it anymore, so I'm not able to detect on which part of the line I am! This is very annoying. I found a partial fix by installing the extension 'Vrapper': enabling and disabling it makes the cursor appear again.</p>\n\n<p>Another problem I experience every time I press <kbd>Ctrl</kbd>+<kbd>Space</kbd> to ask for code completion suggestions, the cursor stops writing. After doing random things like switching tabs or opening new files the cursor starts to write again, but then the keyboard shortcuts stop working and I have to restart the entire IDE.</p>\n\n<p>This behavior is intolerable, so I was wondering whether somebody else has had the same problem and how they have dealt with it.</p>\n\n<p>The configuration of my system is:\nOS: Debian, using i3wm+compton as a window manager on Xserver. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","kotlin","apache-kafka","spring-webflux"],"owner":{"account_id":6106288,"reputation":505,"user_id":4763929,"accept_rate":0,"display_name":"Lukas S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672227459,"creation_date":1672227459,"question_id":74939787,"body_markdown":"I am trying to setup the Kafka reactive Consumer the way it retries processing of a message when it is not acknowledged. The issue is the message is never retried and processed only once. Here are parts of code invoked by my automated test...\r\nMy ReactiveKafkaConsumerTemplate looks like this:\r\n```\r\n    @Bean\r\n    fun testKafkaConsumerTemplate(kafkaProperties: KafkaProperties): ReactiveKafkaConsumerTemplate&lt;String, TestDto&gt; {\r\n        val props = kafkaProperties.buildConsumerProperties()\r\n        val basicReceiverOptions: ReceiverOptions&lt;String, TestDto&gt; = ReceiverOptions.create(props)\r\n        val kafkaReceiverOptions = basicReceiverOptions.commitInterval(Duration.ZERO)\r\n                .commitBatchSize(1)\r\n                .pollTimeout(Duration.ofSeconds(2))\r\n                .subscription(Collections.singletonList(&quot;TestTopic&quot;))\r\n        return ReactiveKafkaConsumerTemplate(kafkaReceiverOptions)\r\n    }\r\n```\r\n\r\nadditional config from application.yml\r\n```\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: localhost:9092\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n    consumer:\r\n      group-id: messaging-java\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n      auto-offset-reset: earliest\r\n      enable-auto-commit: false\r\n```\r\n\r\nHere you can see in my test consumer I am just throwing an exeption when a message is processed for the first time so it is ton acknowledged. But the retry never happens (My automated test is waiting 20 seconds for the retry), the consumer runs the message processing just once\r\n```\r\n @EventListener(ApplicationReadyEvent::class)\r\n    fun consume() {\r\n        testKafkaConsumerTemplate.receive()\r\n                .doOnCancel {\r\n                    coroutineScope.cancel()\r\n                }\r\n                .doOnNext { record -&gt;\r\n                    coroutineScope.launch {\r\n                        log.info(&quot;Received a confirmation in the TestTopic&quot;)\r\n                        try {\r\n                            counter++\r\n                            if (counter == 1L) {\r\n                                throw RuntimeException(&quot;Controlled testing exception&quot;)\r\n                            }\r\n                            record.receiverOffset().acknowledge()\r\n                        } catch (ex: Exception) {\r\n\r\n                            log.info(&quot;Error in processing TestDto&quot;)\r\n                        }\r\n                    }\r\n                }.subscribe()\r\n    }\r\n```\r\n\r\nAny idea what am I missing?\r\n","title":"Retry of failed message in Kafka Spring Webflux using Kotlin","body":"<p>I am trying to setup the Kafka reactive Consumer the way it retries processing of a message when it is not acknowledged. The issue is the message is never retried and processed only once. Here are parts of code invoked by my automated test...\nMy ReactiveKafkaConsumerTemplate looks like this:</p>\n<pre><code>    @Bean\n    fun testKafkaConsumerTemplate(kafkaProperties: KafkaProperties): ReactiveKafkaConsumerTemplate&lt;String, TestDto&gt; {\n        val props = kafkaProperties.buildConsumerProperties()\n        val basicReceiverOptions: ReceiverOptions&lt;String, TestDto&gt; = ReceiverOptions.create(props)\n        val kafkaReceiverOptions = basicReceiverOptions.commitInterval(Duration.ZERO)\n                .commitBatchSize(1)\n                .pollTimeout(Duration.ofSeconds(2))\n                .subscription(Collections.singletonList(&quot;TestTopic&quot;))\n        return ReactiveKafkaConsumerTemplate(kafkaReceiverOptions)\n    }\n</code></pre>\n<p>additional config from application.yml</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: localhost:9092\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n    consumer:\n      group-id: messaging-java\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      auto-offset-reset: earliest\n      enable-auto-commit: false\n</code></pre>\n<p>Here you can see in my test consumer I am just throwing an exeption when a message is processed for the first time so it is ton acknowledged. But the retry never happens (My automated test is waiting 20 seconds for the retry), the consumer runs the message processing just once</p>\n<pre><code> @EventListener(ApplicationReadyEvent::class)\n    fun consume() {\n        testKafkaConsumerTemplate.receive()\n                .doOnCancel {\n                    coroutineScope.cancel()\n                }\n                .doOnNext { record -&gt;\n                    coroutineScope.launch {\n                        log.info(&quot;Received a confirmation in the TestTopic&quot;)\n                        try {\n                            counter++\n                            if (counter == 1L) {\n                                throw RuntimeException(&quot;Controlled testing exception&quot;)\n                            }\n                            record.receiverOffset().acknowledge()\n                        } catch (ex: Exception) {\n\n                            log.info(&quot;Error in processing TestDto&quot;)\n                        }\n                    }\n                }.subscribe()\n    }\n</code></pre>\n<p>Any idea what am I missing?</p>\n"},{"tags":["javascript","java","jsp","servlets"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672221699,"post_id":74938701,"comment_id":132244304,"body_markdown":"Right-click the web page and click view-source and paste relevant parts of that instead of JSP","body":"Right-click the web page and click view-source and paste relevant parts of that instead of JSP"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672221829,"post_id":74938701,"comment_id":132244333,"body_markdown":"I recommend you give the button an ID and do `window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; { const jso = &quot;&lt;%=resp%&gt;&quot;; document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;, (e) =&gt; { alert(jso); }); })` and remove the inline event handler","body":"I recommend you give the button an ID and do <code>window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; { const jso = &quot;&lt;%=resp%&gt;&quot;; document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;&zwnj;&#8203;, (e) =&gt; { alert(jso); }); })</code> and remove the inline event handler"},{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672223131,"post_id":74938701,"comment_id":132244679,"body_markdown":"mplungjan it shows nothing in console now.","body":"mplungjan it shows nothing in console now."},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1672223967,"post_id":74938701,"comment_id":132244895,"body_markdown":"What console? You alert things. If you want it in the console, use console.log and if it does not work, then there will likely be an error instead","body":"What console? You alert things. If you want it in the console, use console.log and if it does not work, then there will likely be an error instead"},{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672224445,"post_id":74938701,"comment_id":132245023,"body_markdown":"mplungjan it shows nothing not alert and not error in the console.","body":"mplungjan it shows nothing not alert and not error in the console."}],"answers":[{"tags":[],"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224793,"creation_date":1672224793,"answer_id":74939333,"question_id":74938701,"body_markdown":"This must work. If not, then there is something else going on\r\n\r\nHere I do not add the \r\n\r\n    &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\r\n\r\nfor obvious reasons\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\r\n      const jso = &quot;&lt;%=resp%&gt;&quot;;\r\n      document.getElementById(&quot;myButton&quot;).addEventListener(&quot;click&quot;, (e) =&gt; {\r\n        alert(jso);\r\n      });\r\n    })\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;input type=&quot;button&quot; id=&quot;myButton&quot; class=&quot;btn&quot; value=&quot;Place Order&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Uncaught Reference Error my() is not defined","body":"<p>This must work. If not, then there is something else going on</p>\n<p>Here I do not add the</p>\n<pre><code>&lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\n</code></pre>\n<p>for obvious reasons</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener(\"DOMContentLoaded\", () =&gt; {\n  const jso = \"&lt;%=resp%&gt;\";\n  document.getElementById(\"myButton\").addEventListener(\"click\", (e) =&gt; {\n    alert(jso);\n  });\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"button\" id=\"myButton\" class=\"btn\" value=\"Place Order\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672237340,"post_id":74939783,"comment_id":132248404,"body_markdown":"It work like a charm thank you so much. I want a small help from you how can i convert again this jso to JSON","body":"It work like a charm thank you so much. I want a small help from you how can i convert again this jso to JSON"},{"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"score":0,"creation_date":1672237921,"post_id":74939783,"comment_id":132248590,"body_markdown":"var response=JSON.parse(resp) // This Work fine\n    console.log(response)\n    response.json().then(data =&gt; {\n        //order is generated successfully\n        console.log(data)\n\n\n        initiateClientModule(data)\n\n\n    }).catch(error =&gt; {\n        console.log(error)\n        alert(&quot;error in initiating payment&quot;)\n    })\nbut this give error responses.jsp:19 Uncaught TypeError: response.json is not a function\n    at my (responses.jsp:19:14)\n    at HTMLInputElement.onclick (responses.jsp:10:83) what should i do?","body":"var response=JSON.parse(resp) // This Work fine     console.log(response)     response.json().then(data =&gt; {         //order is generated successfully         console.log(data)           initiateClientModule(data)       }).catch(error =&gt; {         console.log(error)         alert(&quot;error in initiating payment&quot;)     }) but this give error responses.jsp:19 Uncaught TypeError: response.json is not a function     at my (responses.jsp:19:14)     at HTMLInputElement.onclick (responses.jsp:10:83) what should i do?"}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672227446,"creation_date":1672227446,"answer_id":74939783,"question_id":74938701,"body_markdown":"You probably have a JavaScript error in this line:\r\n`const jso=&quot;&lt;%=resp%&gt;&quot;`\r\n\r\n`resp` comes from an attribute called `jsonData`, and therefore I assume that it contains JSON. Properties and string values in JSON are enclosed in double quotes. The following little example already shows the error I expect you&#39;re getting:\r\n```\r\nconst jso=&quot;{&quot;key&quot;: &quot;value&quot;}&quot;\r\n```\r\nThe opening `&quot;` isn&#39;t closed by the last `&quot;`, but by the first one in your JSON. In other words - you&#39;re outputting invalid JavaScript.\r\n\r\nThe best solution is to properly escape the JSON. I recommend using [Apache Commons Text 1.10.0][1]. With the proper import:\r\n```\r\nconst jso=&quot;&lt;%=StringEscapeUtils.escapeJson(resp)%&gt;&quot;\r\n```\r\nThis will properly escape any unsafe characters, including `&quot;`, in `resp` before outputting it.\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.10.0","title":"Uncaught Reference Error my() is not defined","body":"<p>You probably have a JavaScript error in this line:\n<code>const jso=&quot;&lt;%=resp%&gt;&quot;</code></p>\n<p><code>resp</code> comes from an attribute called <code>jsonData</code>, and therefore I assume that it contains JSON. Properties and string values in JSON are enclosed in double quotes. The following little example already shows the error I expect you're getting:</p>\n<pre><code>const jso=&quot;{&quot;key&quot;: &quot;value&quot;}&quot;\n</code></pre>\n<p>The opening <code>&quot;</code> isn't closed by the last <code>&quot;</code>, but by the first one in your JSON. In other words - you're outputting invalid JavaScript.</p>\n<p>The best solution is to properly escape the JSON. I recommend using <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-text/1.10.0\" rel=\"nofollow noreferrer\">Apache Commons Text 1.10.0</a>. With the proper import:</p>\n<pre><code>const jso=&quot;&lt;%=StringEscapeUtils.escapeJson(resp)%&gt;&quot;\n</code></pre>\n<p>This will properly escape any unsafe characters, including <code>&quot;</code>, in <code>resp</code> before outputting it.</p>\n"}],"owner":{"account_id":27372559,"reputation":11,"user_id":20878386,"display_name":"Naved Ahmed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74939783,"answer_count":2,"score":0,"last_activity_date":1672227446,"creation_date":1672220981,"question_id":74938701,"body_markdown":"```\r\n&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;Place Order&quot; onclick=&quot;my()&quot;&gt;\r\n\r\n\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\r\n  &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\r\n  const jso=&quot;&lt;%=resp%&gt;&quot;\r\nfunction my(){\r\n\r\n    alert(jso);\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n&lt;/script&gt;\r\n\r\n```\r\nI want to get JSP variable and store in javascript and show in alert but when i di this my onclick function return function my is not defined.","title":"Uncaught Reference Error my() is not defined","body":"<pre><code>&lt;input type=&quot;button&quot; class=&quot;btn&quot; value=&quot;Place Order&quot; onclick=&quot;my()&quot;&gt;\n\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n\n  &lt;% String resp= session.getAttribute(&quot;jsonData&quot;).toString();%&gt;\n  const jso=&quot;&lt;%=resp%&gt;&quot;\nfunction my(){\n\n    alert(jso);\n\n\n  }\n\n\n\n\n&lt;/script&gt;\n\n</code></pre>\n<p>I want to get JSP variable and store in javascript and show in alert but when i di this my onclick function return function my is not defined.</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672078090,"post_id":74922673,"comment_id":132217867,"body_markdown":"shouldn&#39;t `in-sync replicas &lt;= replication factor` be in reverse?","body":"shouldn&#39;t <code>in-sync replicas &lt;= replication factor</code> be in reverse?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672173087,"post_id":74922673,"comment_id":132236270,"body_markdown":"No. I said, if it&#39;s setup that way, you cannot lose brokers. Also replication factor can never be less than replicas","body":"No. I said, if it&#39;s setup that way, you cannot lose brokers. Also replication factor can never be less than replicas"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672207926,"post_id":74922673,"comment_id":132241299,"body_markdown":"The verbiage here is miss-leading, imo. &quot;If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers&quot;. You are using `&lt;=`, which is &quot;less or equal&quot; in pure math, which means you are saying &quot;If ISR &lt; RF, you cannot lose any brokers&quot;, only to later say : &quot;Therefore, replication factor should always be greater&quot;, which is already the exact same condition outlined in the previous statement: &quot;ISR &lt; RF&quot;. So maybe you meant `=` instead of `&lt;=`?","body":"The verbiage here is miss-leading, imo. &quot;If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers&quot;. You are using <code>&lt;=</code>, which is &quot;less or equal&quot; in pure math, which means you are saying &quot;If ISR &lt; RF, you cannot lose any brokers&quot;, only to later say : &quot;Therefore, replication factor should always be greater&quot;, which is already the exact same condition outlined in the previous statement: &quot;ISR &lt; RF&quot;. So maybe you meant <code>=</code> instead of <code>&lt;=</code>?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672212885,"post_id":74922673,"comment_id":132242191,"body_markdown":"No. I mean less than or equal to. You don&#39;t need to explain what I typed. I edited to clarify my statement","body":"No. I mean less than or equal to. You don&#39;t need to explain what I typed. I edited to clarify my statement"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672212945,"creation_date":1672076284,"answer_id":74922673,"question_id":74921436,"body_markdown":"Yes, one replica is made in the background.\r\n\r\nYes, the broker will catch up all out of sync replicas upon restarts.\r\n\r\nIf you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values (due to maintenance or failure). Therefore, replication factor should always be greater ","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>Yes, one replica is made in the background.</p>\n<p>Yes, the broker will catch up all out of sync replicas upon restarts.</p>\n<p>If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values (due to maintenance or failure). Therefore, replication factor should always be greater</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672227311,"creation_date":1672227311,"answer_id":74939751,"question_id":74921436,"body_markdown":"The other answer is absolutely correct, but it took me quite a while to figure out. imho, this is somehow subtle and though my understanding might be a little incorrect here and there, it helped to build a mental model of what is going on.\r\n\r\nSuppose I have a cluster of 3 brokers :\r\n\r\n    [a, b, c]  -&gt;  brokers\r\n    [a, b]     -&gt; ISR\r\n    [a, b, c]  -&gt; RF\r\n\r\nHow many brokers can I tolerate to be down? The answer is 1. \r\n\r\n- If lose broker &quot;c&quot;, ISR can still be satisfied and the cluster will work just fine.\r\n\r\n- If I lose broker &quot;a&quot; (the explanation is the same if I lost &quot;b&quot;), a rebalance has to happen. zookeeper will ask what brokers were in-sync (who satisfied RF) _before_ I lost one from the ISR. Well, there were 3 of them part of RF = a, b, c. Since I lost &quot;a&quot;, there are two left now that are in sync: &quot;b&quot; and &quot;c&quot;. A leader election has to happen and the ISR will be satisfied with &quot;b&quot; and &quot;c&quot;.\r\n\r\n- This means that I can lose _any_ one broker from the cluster and still work fine. It might be trivial here, but the next example is not so much, imho.\r\n\r\n----\r\n\r\nSuppose I have a (artificial example) cluster with 5 brokers:\r\n\r\n    [a, b, c, d, e]  -&gt; brokers\r\n    [a, b]           -&gt; ISR\r\n    [a, b, c]        -&gt; RF\r\n\r\nHow many brokers can I tolerate as being down now? Initially I thought 2, but that can&#39;t be correct.  \r\n\r\n- If I lose &quot;d&quot; and &quot;e&quot;, it&#39;s simple, the cluster will continue to work just fine.\r\n\r\n- If lose &quot;a&quot; and &quot;b&quot;, in theory a rebalance has to happen. But what brokers were part of RF before I lost &quot;a&quot; and &quot;b&quot; or which brokers were in-sync? [a, b, c]. There is no way to satisfy ISR if two of those brokers are down.\r\n\r\n- This means that I can&#39;t tolerate _any_ two brokers being down, which means this set-up is not really fault tolerant with _any_ 2 brokers down.\r\n\r\n- It can only be tolerant with two brokers down if my set-up is different:\r\n\r\n      5 -&gt; brokers\r\n      3 -&gt; ISR\r\n      5 -&gt; RF\r\n\r\n----\r\n\r\nAnd this is where the other answer is correct and makes total sense:\r\n\r\n&gt; If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>The other answer is absolutely correct, but it took me quite a while to figure out. imho, this is somehow subtle and though my understanding might be a little incorrect here and there, it helped to build a mental model of what is going on.</p>\n<p>Suppose I have a cluster of 3 brokers :</p>\n<pre><code>[a, b, c]  -&gt;  brokers\n[a, b]     -&gt; ISR\n[a, b, c]  -&gt; RF\n</code></pre>\n<p>How many brokers can I tolerate to be down? The answer is 1.</p>\n<ul>\n<li><p>If lose broker &quot;c&quot;, ISR can still be satisfied and the cluster will work just fine.</p>\n</li>\n<li><p>If I lose broker &quot;a&quot; (the explanation is the same if I lost &quot;b&quot;), a rebalance has to happen. zookeeper will ask what brokers were in-sync (who satisfied RF) <em>before</em> I lost one from the ISR. Well, there were 3 of them part of RF = a, b, c. Since I lost &quot;a&quot;, there are two left now that are in sync: &quot;b&quot; and &quot;c&quot;. A leader election has to happen and the ISR will be satisfied with &quot;b&quot; and &quot;c&quot;.</p>\n</li>\n<li><p>This means that I can lose <em>any</em> one broker from the cluster and still work fine. It might be trivial here, but the next example is not so much, imho.</p>\n</li>\n</ul>\n<hr />\n<p>Suppose I have a (artificial example) cluster with 5 brokers:</p>\n<pre><code>[a, b, c, d, e]  -&gt; brokers\n[a, b]           -&gt; ISR\n[a, b, c]        -&gt; RF\n</code></pre>\n<p>How many brokers can I tolerate as being down now? Initially I thought 2, but that can't be correct.</p>\n<ul>\n<li><p>If I lose &quot;d&quot; and &quot;e&quot;, it's simple, the cluster will continue to work just fine.</p>\n</li>\n<li><p>If lose &quot;a&quot; and &quot;b&quot;, in theory a rebalance has to happen. But what brokers were part of RF before I lost &quot;a&quot; and &quot;b&quot; or which brokers were in-sync? [a, b, c]. There is no way to satisfy ISR if two of those brokers are down.</p>\n</li>\n<li><p>This means that I can't tolerate <em>any</em> two brokers being down, which means this set-up is not really fault tolerant with <em>any</em> 2 brokers down.</p>\n</li>\n<li><p>It can only be tolerant with two brokers down if my set-up is different:</p>\n<pre><code>5 -&gt; brokers\n3 -&gt; ISR\n5 -&gt; RF\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>And this is where the other answer is correct and makes total sense:</p>\n<blockquote>\n<p>If you ever have in-sync replicas &lt;= replication factor, then you cannot lose any brokers more than the difference between the values</p>\n</blockquote>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74922673,"answer_count":2,"score":1,"last_activity_date":1672227311,"creation_date":1672066355,"question_id":74921436,"body_markdown":"Suppose I have a cluster with 3 kafka brokers. I set:\r\n\r\n    min.insync.replicas=2\r\n    default.replication.factor=3\r\n\r\n\r\n - All brokers are up, ISR is fine, I get a message where `ack=all`. Since `ISR=2`, two copies of the message are for sure stored. 1) Will one more copy (because replication=3) be made in the background? 2) If it fails - it does not matter, correct? Cluster health is just fine. \r\n\r\n- One broker is down, `ISR=2` can be maintained and the message is saved to two brokers. After some time that broker that was down comes up again. 3) Since replication=3, will it try to catch up with the others in the back-ground? \r\n\r\n\r\nI am trying to figure out of a _practical_ example where setting replication factor to be bigger than ISR would make sense. A real example I could &quot;touch&quot; and understand. If this is a duplicate, please refer me to it. Thank you. ","title":"Kafka min.insync.replicas &lt; replication.factor","body":"<p>Suppose I have a cluster with 3 kafka brokers. I set:</p>\n<pre><code>min.insync.replicas=2\ndefault.replication.factor=3\n</code></pre>\n<ul>\n<li><p>All brokers are up, ISR is fine, I get a message where <code>ack=all</code>. Since <code>ISR=2</code>, two copies of the message are for sure stored. 1) Will one more copy (because replication=3) be made in the background? 2) If it fails - it does not matter, correct? Cluster health is just fine.</p>\n</li>\n<li><p>One broker is down, <code>ISR=2</code> can be maintained and the message is saved to two brokers. After some time that broker that was down comes up again. 3) Since replication=3, will it try to catch up with the others in the back-ground?</p>\n</li>\n</ul>\n<p>I am trying to figure out of a <em>practical</em> example where setting replication factor to be bigger than ISR would make sense. A real example I could &quot;touch&quot; and understand. If this is a duplicate, please refer me to it. Thank you.</p>\n"},{"tags":["java","kotlin","reflection","kotlin-coroutines"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1672154745,"post_id":74925521,"comment_id":132231360,"body_markdown":"Generally, what you did seems fine to me. Only one question: why do you use `KCallable` and other parts of Kotlin reflection API from Java? If it makes more sense for you to use `Method` then I can prepare an example for you.","body":"Generally, what you did seems fine to me. Only one question: why do you use <code>KCallable</code> and other parts of Kotlin reflection API from Java? If it makes more sense for you to use <code>Method</code> then I can prepare an example for you."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1672169880,"post_id":74925521,"comment_id":132235555,"body_markdown":"@broot I was following Spring&#39;s code, and figured using Kotlin reflection would be easier (I realized I missed posting the line where a `Method` gets turned into a `KFunction`, updated now). But if I can get away without even depending on Kotlin reflection, I&#39;d be very grateful for an example :)","body":"@broot I was following Spring&#39;s code, and figured using Kotlin reflection would be easier (I realized I missed posting the line where a <code>Method</code> gets turned into a <code>KFunction</code>, updated now). But if I can get away without even depending on Kotlin reflection, I&#39;d be very grateful for an example :)"}],"answers":[{"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1672266648,"post_id":74939561,"comment_id":132256359,"body_markdown":"Wonderful answer! Much appreciated!","body":"Wonderful answer! Much appreciated!"}],"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672227221,"creation_date":1672226178,"answer_id":74939561,"question_id":74925521,"body_markdown":"First of all, suspendable code is not easily callable from Java and this is by design. We can do it, but as you already noticed, this is not straightforward and requires some internal knowledge about coroutines.\r\n\r\nUsually, it is a good idea to create an adaptation layer to translate suspendable code into something Java understands: `CompletableFuture` using [future()](https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-guava/kotlinx.coroutines.guava/future.html) or blocking code using [runBlocking()](https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/run-blocking.html). It is easier to write this in the Kotlin itself, so even if you consume Kotlin library from Java and the library doesn&#39;t provide such adapters to futures, you can consider adding a very thin Kotlin wrapper on the consumer side to do the translation.\r\n\r\nIf this is not possible, we can still use the same `future()` utility from Java, which you already do. This approach is a little more awkward as we need to e.g. provide values for all optional parameters.\r\n\r\n`future()` is generally pretty easy to use. We need to provide a lambda that will invoke our suspendable function, passing a continuation we received in the lambda. That&#39;s it. However, there are multiple parameters to control the process and they complicate things. Also, we don&#39;t have to use `ReflectJvmMapping.getKotlinFunction()`, `KCallables.callSuspend()` and `getSuspendedFunctionArgs()` if we don&#39;t want to. Again, all we need to do is to invoke the function in the lambda and we can do this &quot;the Java way&quot;.\r\n\r\nSimple example:\r\n\r\n```kotlin\r\nobject Database {\r\n    @JvmStatic\r\n    suspend fun loadUsername(userId: Int): String {\r\n        delay(5000)\r\n        return &quot;User$userId&quot;\r\n    }\r\n}\r\n```\r\n```java\r\n// Note the method receives additional `Continuation` parameter - it is always the last param.\r\nMethod method = Database.class.getMethod(&quot;loadUsername&quot;, int.class, Continuation.class);\r\nCompletableFuture&lt;String&gt; future = FutureKt.future(\r\n        GlobalScope.INSTANCE, EmptyCoroutineContext.INSTANCE, CoroutineStart.DEFAULT, (scope, continuation) -&gt; {\r\n            try {\r\n                // We invoke the method passing its own arguments and the continuation.\r\n                return method.invoke(null, 5, continuation);\r\n            } catch (IllegalAccessException | InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n\r\nSystem.out.println(&quot;Launched, waiting...&quot;);\r\nvar result = future.get();\r\n// Result: User5\r\nSystem.out.println(&quot;Result: &quot; + result);\r\n```\r\nWe don&#39;t have to use Java reflection here, we can invoke `Database.loadUsername(5, continuation)` directly, but the question was specifically about the reflection.\r\n\r\nFew words about params:\r\n\r\n - `GlobalScope.INSTANCE` - this is related to the concept of [structured concurrency](https://elizarov.medium.com/structured-concurrency-722d765aa952) and using `GlobalScope` means the background operation doesn&#39;t have any &quot;owner&quot; to control it. In Java we don&#39;t have structured concurrency, so in most cases it is fine to simply use `GlobalScope`.\r\n- `EmptyCoroutineContext.INSTANCE` - I think it is safer to use `EmptyCoroutineContext` than `Dispatchers.getUnconfined()`. The difference is that unconfined dispatcher runs a coroutine inside the thread which launched or resumed it; and the empty context in this case uses a special global thread pool. Unconfined is better for performance, but it is a more advanced feature and we should use it only if we know the suspendable code and can decide it will be safe to use unconfined. It doesn&#39;t sound good for a generic adaptation layer. I&#39;m not sure what was the reason Spring team decided to use unconfined, maybe they had a more specific use case.\r\n\r\nBTW, I also observe `Dispatchers.getUnconfined()` can&#39;t be used as the coroutine context, but I can&#39;t explain why. Seems like some kind of a bug in IntelliJ (?). `CoroutineDispatcher` extends `AbstractCoroutineContextElement` which implements `CoroutineContext.Element` which extends `CoroutineContext`. Therefore, `CoroutineDispatcher` is a subtype of `CoroutineContext`. As a matter of fact, we can compile this code and it runs just fine, even if IntelliJ says it is wrong.","title":"Can I invoke a Kotlin coroutine from Java reflectively and wrap it in CompletableFuture?","body":"<p>First of all, suspendable code is not easily callable from Java and this is by design. We can do it, but as you already noticed, this is not straightforward and requires some internal knowledge about coroutines.</p>\n<p>Usually, it is a good idea to create an adaptation layer to translate suspendable code into something Java understands: <code>CompletableFuture</code> using <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-guava/kotlinx.coroutines.guava/future.html\" rel=\"nofollow noreferrer\">future()</a> or blocking code using <a href=\"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/run-blocking.html\" rel=\"nofollow noreferrer\">runBlocking()</a>. It is easier to write this in the Kotlin itself, so even if you consume Kotlin library from Java and the library doesn't provide such adapters to futures, you can consider adding a very thin Kotlin wrapper on the consumer side to do the translation.</p>\n<p>If this is not possible, we can still use the same <code>future()</code> utility from Java, which you already do. This approach is a little more awkward as we need to e.g. provide values for all optional parameters.</p>\n<p><code>future()</code> is generally pretty easy to use. We need to provide a lambda that will invoke our suspendable function, passing a continuation we received in the lambda. That's it. However, there are multiple parameters to control the process and they complicate things. Also, we don't have to use <code>ReflectJvmMapping.getKotlinFunction()</code>, <code>KCallables.callSuspend()</code> and <code>getSuspendedFunctionArgs()</code> if we don't want to. Again, all we need to do is to invoke the function in the lambda and we can do this &quot;the Java way&quot;.</p>\n<p>Simple example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object Database {\n    @JvmStatic\n    suspend fun loadUsername(userId: Int): String {\n        delay(5000)\n        return &quot;User$userId&quot;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Note the method receives additional `Continuation` parameter - it is always the last param.\nMethod method = Database.class.getMethod(&quot;loadUsername&quot;, int.class, Continuation.class);\nCompletableFuture&lt;String&gt; future = FutureKt.future(\n        GlobalScope.INSTANCE, EmptyCoroutineContext.INSTANCE, CoroutineStart.DEFAULT, (scope, continuation) -&gt; {\n            try {\n                // We invoke the method passing its own arguments and the continuation.\n                return method.invoke(null, 5, continuation);\n            } catch (IllegalAccessException | InvocationTargetException e) {\n                throw new RuntimeException(e);\n            }\n        });\n\nSystem.out.println(&quot;Launched, waiting...&quot;);\nvar result = future.get();\n// Result: User5\nSystem.out.println(&quot;Result: &quot; + result);\n</code></pre>\n<p>We don't have to use Java reflection here, we can invoke <code>Database.loadUsername(5, continuation)</code> directly, but the question was specifically about the reflection.</p>\n<p>Few words about params:</p>\n<ul>\n<li><code>GlobalScope.INSTANCE</code> - this is related to the concept of <a href=\"https://elizarov.medium.com/structured-concurrency-722d765aa952\" rel=\"nofollow noreferrer\">structured concurrency</a> and using <code>GlobalScope</code> means the background operation doesn't have any &quot;owner&quot; to control it. In Java we don't have structured concurrency, so in most cases it is fine to simply use <code>GlobalScope</code>.</li>\n<li><code>EmptyCoroutineContext.INSTANCE</code> - I think it is safer to use <code>EmptyCoroutineContext</code> than <code>Dispatchers.getUnconfined()</code>. The difference is that unconfined dispatcher runs a coroutine inside the thread which launched or resumed it; and the empty context in this case uses a special global thread pool. Unconfined is better for performance, but it is a more advanced feature and we should use it only if we know the suspendable code and can decide it will be safe to use unconfined. It doesn't sound good for a generic adaptation layer. I'm not sure what was the reason Spring team decided to use unconfined, maybe they had a more specific use case.</li>\n</ul>\n<p>BTW, I also observe <code>Dispatchers.getUnconfined()</code> can't be used as the coroutine context, but I can't explain why. Seems like some kind of a bug in IntelliJ (?). <code>CoroutineDispatcher</code> extends <code>AbstractCoroutineContextElement</code> which implements <code>CoroutineContext.Element</code> which extends <code>CoroutineContext</code>. Therefore, <code>CoroutineDispatcher</code> is a subtype of <code>CoroutineContext</code>. As a matter of fact, we can compile this code and it runs just fine, even if IntelliJ says it is wrong.</p>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74939561,"answer_count":1,"score":1,"last_activity_date":1672227221,"creation_date":1672112404,"question_id":74925521,"body_markdown":"I&#39;m reflectively accessing a Kotlin class and trying to invoke a coroutine, wrapping it in a `CompletableFuture`.\r\nLooking at an example from Spring, they manage to wrap such a reflective call in a `Mono` using [`kotlinx-coroutines-reactor`](https://github.com/Kotlin/kotlinx.coroutines/tree/540d862afeccd72f338334e67402a974ddb150a9/reactive/kotlinx-coroutines-reactor):\r\n\r\n    KFunction&lt;?&gt; function = ReflectJvmMapping.getKotlinFunction(method);\r\n    Mono&lt;Object&gt; mono = MonoKt.mono(Dispatchers.getUnconfined(), (scope, continuation) -&gt;\r\n                            KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\r\n\r\nI could easily just call `Mono#toFuture()` but I&#39;m trying to avoid dragging in a dependency to Reactor. Can I achieve the same without going through `Mono`?\r\n\r\nLooking at [kotlinx-coroutines-jdk8](https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-jdk8), there seems to exist something similar to the above, but I can&#39;t figure out how to use it. Perhaps:\r\n\r\n    CompletableFuture&lt;Object&gt; future = FutureKt.future(\r\n             GlobalScope.INSTANCE, Dispatchers.getUnconfined(), CoroutineStart.DEFAULT, (scope, continuation) -&gt;\r\n                    KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\r\n\r\nBut this is just a blind guess, as I have next to 0 Kotlin knowledge. Are `CoroutineStart.DEFAULT` or `GlobalScope.INSTANCE` even ok here?\r\n\r\nBtw, how is Spring getting away with passing a `CoroutineDispatcher` (`Dispatchers.getUnconfined()`) where a `CoroutineContext` is expected? Should I be using `EmptyCoroutineContext` instead?","title":"Can I invoke a Kotlin coroutine from Java reflectively and wrap it in CompletableFuture?","body":"<p>I'm reflectively accessing a Kotlin class and trying to invoke a coroutine, wrapping it in a <code>CompletableFuture</code>.\nLooking at an example from Spring, they manage to wrap such a reflective call in a <code>Mono</code> using <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/540d862afeccd72f338334e67402a974ddb150a9/reactive/kotlinx-coroutines-reactor\" rel=\"nofollow noreferrer\"><code>kotlinx-coroutines-reactor</code></a>:</p>\n<pre><code>KFunction&lt;?&gt; function = ReflectJvmMapping.getKotlinFunction(method);\nMono&lt;Object&gt; mono = MonoKt.mono(Dispatchers.getUnconfined(), (scope, continuation) -&gt;\n                        KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\n</code></pre>\n<p>I could easily just call <code>Mono#toFuture()</code> but I'm trying to avoid dragging in a dependency to Reactor. Can I achieve the same without going through <code>Mono</code>?</p>\n<p>Looking at <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-jdk8\" rel=\"nofollow noreferrer\">kotlinx-coroutines-jdk8</a>, there seems to exist something similar to the above, but I can't figure out how to use it. Perhaps:</p>\n<pre><code>CompletableFuture&lt;Object&gt; future = FutureKt.future(\n         GlobalScope.INSTANCE, Dispatchers.getUnconfined(), CoroutineStart.DEFAULT, (scope, continuation) -&gt;\n                KCallables.callSuspend(function, getSuspendedFunctionArgs(target, args), continuation));\n</code></pre>\n<p>But this is just a blind guess, as I have next to 0 Kotlin knowledge. Are <code>CoroutineStart.DEFAULT</code> or <code>GlobalScope.INSTANCE</code> even ok here?</p>\n<p>Btw, how is Spring getting away with passing a <code>CoroutineDispatcher</code> (<code>Dispatchers.getUnconfined()</code>) where a <code>CoroutineContext</code> is expected? Should I be using <code>EmptyCoroutineContext</code> instead?</p>\n"},{"tags":["java","random","uuid"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":5,"creation_date":1368435487,"post_id":16518165,"comment_id":23716201,"body_markdown":"*&quot;every couple of seconds .. might be problematic in performance&quot;*  That is hardly &#39;CPU busting&#39; performance.  A couple of thousand times a second might count.","body":"<i>&quot;every couple of seconds .. might be problematic in performance&quot;</i>  That is hardly &#39;CPU busting&#39; performance.  A couple of thousand times a second might count."},{"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"score":0,"creation_date":1368435775,"post_id":16518165,"comment_id":23716351,"body_markdown":"`...will be good enough to my needs` what&#39;s your exact needs? how many users you expect? what is your server specifications?","body":"<code>...will be good enough to my needs</code> what&#39;s your exact needs? how many users you expect? what is your server specifications?"},{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368436146,"post_id":16518165,"comment_id":23716528,"body_markdown":"@AndrewThompson, your are right, I updated my question.","body":"@AndrewThompson, your are right, I updated my question."},{"owner":{"account_id":1197482,"reputation":4952,"user_id":1168884,"accept_rate":79,"display_name":"matt freake"},"score":0,"creation_date":1368436714,"post_id":16518165,"comment_id":23716831,"body_markdown":"A change from &quot;every couple of seconds&quot; to &quot;hundreds-thousand of time per second&quot; is very big. Do you have any evidence that says how often the id will be required, or are you just guessing/thinking of worst case scenarios?","body":"A change from &quot;every couple of seconds&quot; to &quot;hundreds-thousand of time per second&quot; is very big. Do you have any evidence that says how often the id will be required, or are you just guessing/thinking of worst case scenarios?"},{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368437913,"post_id":16518165,"comment_id":23717462,"body_markdown":"Hi @Disco3, trust me, I&#39;m not making this up. My application runs as java-agent on users application, then, the frequency is up to the number of users that use the user application.","body":"Hi @Disco3, trust me, I&#39;m not making this up. My application runs as java-agent on users application, then, the frequency is up to the number of users that use the user application."}],"answers":[{"tags":[],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368436607,"creation_date":1368436607,"answer_id":16518542,"question_id":16518165,"body_markdown":"To prevent possible collisions I would suggest you to somehow integrate users&#39; unique ids into the generated id. You can do this either adding user id to directly to  the generated id\r\n\r\n    System.currentTimeMillis() + &quot;;&quot; + Long.toString(_random.nextLong()) + userId\r\n\r\nor you can use separate `_random` for each user that uses the user&#39;s id as its [seed][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#setSeed%28long%29","title":"Generate ID fast and with high probability of uniqueness","body":"<p>To prevent possible collisions I would suggest you to somehow integrate users' unique ids into the generated id. You can do this either adding user id to directly to  the generated id</p>\n\n<pre><code>System.currentTimeMillis() + \";\" + Long.toString(_random.nextLong()) + userId\n</code></pre>\n\n<p>or you can use separate <code>_random</code> for each user that uses the user's id as its <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html#setSeed%28long%29\" rel=\"nofollow\">seed</a>.</p>\n"},{"comments":[{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368438289,"post_id":16518586,"comment_id":23717635,"body_markdown":"UUID use SecureRandom, which might be evil... http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html","body":"UUID use SecureRandom, which might be evil... <a href=\"http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html\" rel=\"nofollow noreferrer\">tech.top21.de/techblog/&hellip;</a>"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1368439719,"post_id":16518586,"comment_id":23718440,"body_markdown":"The first sentence doesn&#39;t really make sense to me. Why is &quot;8 times slower&quot; a &quot;positive argument for UUID&quot;?","body":"The first sentence doesn&#39;t really make sense to me. Why is &quot;8 times slower&quot; a &quot;positive argument for UUID&quot;?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1368440421,"post_id":16518586,"comment_id":23718802,"body_markdown":"Because 15 &#181;s is [tiny](http://architects.dzone.com/articles/every-programmer-should-know). Arguable.","body":"Because 15 &#181;s is <a href=\"http://architects.dzone.com/articles/every-programmer-should-know\" rel=\"nofollow noreferrer\">tiny</a>. Arguable."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1368447946,"post_id":16518586,"comment_id":23722823,"body_markdown":"@JoopEggen: How about: &quot;On my PC, `randomUUID()` needs 0.015 ms. This is still 8 times slower than your code (0.0021 ms after warmup) but is fast enough to generate 66&#39;000 keys/s.&quot;?","body":"@JoopEggen: How about: &quot;On my PC, <code>randomUUID()</code> needs 0.015 ms. This is still 8 times slower than your code (0.0021 ms after warmup) but is fast enough to generate 66&#39;000 keys/s.&quot;?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1368451084,"post_id":16518586,"comment_id":23724621,"body_markdown":"Right, UUID is too slow for that throughput. @PeterLawrey&#39;s answer seems more appropiate.","body":"Right, UUID is too slow for that throughput. @PeterLawrey&#39;s answer seems more appropiate."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1555573102,"post_id":16518586,"comment_id":98159582,"body_markdown":"@AaronDigulla still thanks; missed reading your comment; no need to change the answer text _now_.","body":"@AaronDigulla still thanks; missed reading your comment; no need to change the answer text <i>now</i>."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368436778,"creation_date":1368436778,"answer_id":16518586,"question_id":16518165,"body_markdown":"`UUID uuid = UUID.randomUUID();` is less than 8 times slower, after warming up, 0.015 ms versus 0.0021 ms on my PC. That would be a positive argument for UUID - for me.\r\n\r\n1. One could shift the random long a bit to the right, so time is more normative, sequencing.\r\n2. No, there is a pseudo random distribution involved.\r\n","title":"Generate ID fast and with high probability of uniqueness","body":"<p><code>UUID uuid = UUID.randomUUID();</code> is less than 8 times slower, after warming up, 0.015 ms versus 0.0021 ms on my PC. That would be a positive argument for UUID - for me.</p>\n\n<ol>\n<li>One could shift the random long a bit to the right, so time is more normative, sequencing.</li>\n<li>No, there is a pseudo random distribution involved.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"score":0,"creation_date":1368440755,"post_id":16518607,"comment_id":23718967,"body_markdown":"UUID use SecureRandom, which might be evil... http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html","body":"UUID use SecureRandom, which might be evil... <a href=\"http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html\" rel=\"nofollow noreferrer\">tech.top21.de/techblog/&hellip;</a>"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1368447744,"post_id":16518607,"comment_id":23722699,"body_markdown":"I know that but that still doesn&#39;t mean it will affect you. Linux has become better at generating random numbers in huge amounts. And you can configure Java to use `/dev/urandom` for less secure but non-blocking randomness.","body":"I know that but that still doesn&#39;t mean it will affect you. Linux has become better at generating random numbers in huge amounts. And you can configure Java to use <code>&#47;dev&#47;urandom</code> for less secure but non-blocking randomness."},{"owner":{"account_id":939116,"reputation":1009,"user_id":967522,"accept_rate":80,"display_name":"Diego Ramos"},"score":0,"creation_date":1611614928,"post_id":16518607,"comment_id":116504584,"body_markdown":"I work for a Messaging System which handles lots of lots of concurrency and I found a performance issue in a place where UUID.randomUUID() is being called, it seems that it doesn&#39;t work well in applications where super performance is a must.","body":"I work for a Messaging System which handles lots of lots of concurrency and I found a performance issue in a place where UUID.randomUUID() is being called, it seems that it doesn&#39;t work well in applications where super performance is a must."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614847608,"creation_date":1368436835,"answer_id":16518607,"question_id":16518165,"body_markdown":"&gt; I can&#39;t afford using UUID.randomUUID() because it might be problematic\r\n\r\nAnd it might not. Currently, you&#39;re solving a problem that might not exist. I suggest to use an interface so you can easily swap out the generated ID but stick to this generator on which many smart people have spent a lot of time to make it right.\r\n\r\nYour own solution might work in many cases but the corner cases are important and you will only see those after a few years of experience.\r\n\r\nThat said, combining the current time + `Random` should give pretty unique IDs. But they are easy to guess and insecure.","title":"Generate ID fast and with high probability of uniqueness","body":"<blockquote>\n<p>I can't afford using UUID.randomUUID() because it might be problematic</p>\n</blockquote>\n<p>And it might not. Currently, you're solving a problem that might not exist. I suggest to use an interface so you can easily swap out the generated ID but stick to this generator on which many smart people have spent a lot of time to make it right.</p>\n<p>Your own solution might work in many cases but the corner cases are important and you will only see those after a few years of experience.</p>\n<p>That said, combining the current time + <code>Random</code> should give pretty unique IDs. But they are easy to guess and insecure.</p>\n"},{"comments":[{"owner":{"account_id":102665,"reputation":11323,"user_id":275455,"accept_rate":88,"display_name":"frankc"},"score":0,"creation_date":1368462532,"post_id":16518915,"comment_id":23731669,"body_markdown":"I think &quot;average&quot; is not as relevant as what he is bounded at.","body":"I think &quot;average&quot; is not as relevant as what he is bounded at."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1368462603,"post_id":16518915,"comment_id":23731709,"body_markdown":"@frankc Which bound were you thinking of?","body":"@frankc Which bound were you thinking of?"},{"owner":{"account_id":102665,"reputation":11323,"user_id":275455,"accept_rate":88,"display_name":"frankc"},"score":0,"creation_date":1368463023,"post_id":16518915,"comment_id":23731929,"body_markdown":"I mean that if he averages only 100,000 per second but his distrubution of arrivals is skewed such that he has several million plus spikes, it could be problematic.","body":"I mean that if he averages only 100,000 per second but his distrubution of arrivals is skewed such that he has several million plus spikes, it could be problematic."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1368463243,"post_id":16518915,"comment_id":23732045,"body_markdown":"He could have very high spikes, but as long as the average for the period the application stayed up was below one million/second, it doesn&#39;t matter. e.g. say it is one billion spike and then nothing to 1000 seconds, he is still ok.  If this is a real worry, he could multiple by 10,000 and the id will clock over in the year 31,197 instead.","body":"He could have very high spikes, but as long as the average for the period the application stayed up was below one million/second, it doesn&#39;t matter. e.g. say it is one billion spike and then nothing to 1000 seconds, he is still ok.  If this is a real worry, he could multiple by 10,000 and the id will clock over in the year 31,197 instead."},{"owner":{"account_id":1834912,"reputation":61,"user_id":1665484,"display_name":"Ketan Dhamasana"},"score":0,"creation_date":1615550755,"post_id":16518915,"comment_id":117731870,"body_markdown":"This one doesn&#39;t guarantee uniqueness in distributed environments.","body":"This one doesn&#39;t guarantee uniqueness in distributed environments."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1615566935,"post_id":16518915,"comment_id":117739477,"body_markdown":"@KetanDhamasana It doesn&#39;t guarantee uniqueness across processes in the same machine.","body":"@KetanDhamasana It doesn&#39;t guarantee uniqueness across processes in the same machine."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615567084,"creation_date":1368437805,"answer_id":16518915,"question_id":16518165,"body_markdown":"I would use the following.\r\n\r\n\r\n    final AtomicLong counter = new AtomicLong(System.currentTimeMillis() * 1000);\r\n\r\nand\r\n\r\n    long l = counter.getAndIncrement(); // takes less than 10 nano-seconds most of the time.\r\n\r\nThis will be unique within your system and across restarts provided you average less than one million per second.\r\n\r\nEven at this rate, the number will not overflow for some time.\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(new java.util.Date(Long.MAX_VALUE/1000));\r\n        }\r\n    }\r\n\r\nprints\r\n\r\n    Sun Jan 10 04:00:54 GMT 294247\r\n\r\nEDIT: In the last 8 years I have switched to using nanosecond wall clock and memory-mapped files to ensure uniqueness across processes on the same machine. The code is available here. https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I would use the following.</p>\n<pre><code>final AtomicLong counter = new AtomicLong(System.currentTimeMillis() * 1000);\n</code></pre>\n<p>and</p>\n<pre><code>long l = counter.getAndIncrement(); // takes less than 10 nano-seconds most of the time.\n</code></pre>\n<p>This will be unique within your system and across restarts provided you average less than one million per second.</p>\n<p>Even at this rate, the number will not overflow for some time.</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(new java.util.Date(Long.MAX_VALUE/1000));\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>Sun Jan 10 04:00:54 GMT 294247\n</code></pre>\n<p>EDIT: In the last 8 years I have switched to using nanosecond wall clock and memory-mapped files to ensure uniqueness across processes on the same machine. The code is available here. <a href=\"https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Bytes/blob/ea/src/main/java/net/openhft/chronicle/bytes/MappedUniqueTimeProvider.java</a></p>\n"},{"tags":[],"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672227144,"creation_date":1672227144,"answer_id":74939726,"question_id":16518165,"body_markdown":"I would use a library to avoid reinventing the wheel.\r\n\r\nFor example, JUG (https://github.com/cowtowncoder/java-uuid-generator) can generate 5 millions time-based UUIDs per second (https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ) :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\r\n      &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    UUID uuid = Generators.timeBasedGenerator().generate();\r\n","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I would use a library to avoid reinventing the wheel.</p>\n<p>For example, JUG (<a href=\"https://github.com/cowtowncoder/java-uuid-generator\" rel=\"nofollow noreferrer\">https://github.com/cowtowncoder/java-uuid-generator</a>) can generate 5 millions time-based UUIDs per second (<a href=\"https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ\" rel=\"nofollow noreferrer\">https://github.com/cowtowncoder/java-uuid-generator/blob/master/release-notes/FAQ</a>) :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.uuid&lt;/groupId&gt;\n  &lt;artifactId&gt;java-uuid-generator&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\nUUID uuid = Generators.timeBasedGenerator().generate();\n</code></pre>\n"}],"owner":{"account_id":1088196,"reputation":4845,"user_id":1083423,"accept_rate":73,"display_name":"danieln"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4772,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1672227144,"creation_date":1368435334,"question_id":16518165,"body_markdown":"I want to generate ID to event that occur in my application.\r\n\r\nThe event frequency is up to the user load, so it might occur hundreds-thousand of time per second.\r\n\r\nI can&#39;t afford using `UUID.randomUUID()` because it might be problematic in performance matters - Take a look at [this][1].\r\n\r\nI thought of generating ID as follows:\r\n\r\n    System.currentTimeMillis() + &quot;;&quot; + Long.toString(_random.nextLong())\r\n\r\nWhen `_random` is a static `java.util.Random` my class is holding. \r\n\r\nMy questions are:\r\n\r\n1. Do you think the distribution of this combination will be good enough to my needs? \r\n2. Does Java&#39;s Random implementation related to the current time and therefore the fact I&#39;m combining the two is dangerous? \r\n\r\n\r\n  [1]: http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html","title":"Generate ID fast and with high probability of uniqueness","body":"<p>I want to generate ID to event that occur in my application.</p>\n\n<p>The event frequency is up to the user load, so it might occur hundreds-thousand of time per second.</p>\n\n<p>I can't afford using <code>UUID.randomUUID()</code> because it might be problematic in performance matters - Take a look at <a href=\"http://tech.top21.de/techblog/20100317-why-java-s-random-number-generation-might-block-my-application-under-linux.html\" rel=\"noreferrer\">this</a>.</p>\n\n<p>I thought of generating ID as follows:</p>\n\n<pre><code>System.currentTimeMillis() + \";\" + Long.toString(_random.nextLong())\n</code></pre>\n\n<p>When <code>_random</code> is a static <code>java.util.Random</code> my class is holding. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Do you think the distribution of this combination will be good enough to my needs? </li>\n<li>Does Java's Random implementation related to the current time and therefore the fact I'm combining the two is dangerous? </li>\n</ol>\n"},{"tags":["java","jmeter"],"answers":[{"comments":[{"owner":{"account_id":3618713,"reputation":129,"user_id":3018014,"accept_rate":25,"display_name":"bbx402"},"score":0,"creation_date":1672228078,"post_id":74939724,"comment_id":132245826,"body_markdown":"Yes, you are right.\nBut due to sensitive data I cannot upload my har file, I have to implement something &quot;in house&quot;","body":"Yes, you are right. But due to sensitive data I cannot upload my har file, I have to implement something &quot;in house&quot;"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672227127,"creation_date":1672227127,"answer_id":74939724,"question_id":74939602,"body_markdown":"Looking into [HashTree JavaDoc][1] it derives from [Map][2] and the Map doesn&#39;t preserve insertion order hence your &quot;expectation&quot; is wrong. \r\n\r\nThe easiest way of converting a .har file into JMeter test script is using [BlazeMeter Converter][3] \r\n\r\n\r\n  [1]: https://jmeter.apache.org/api/org/apache/jorphan/collections/HashTree.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [3]: https://converter.blazemeter.com/","title":"JMeter HashTree not sorted correct after loading project in JMeter","body":"<p>Looking into <a href=\"https://jmeter.apache.org/api/org/apache/jorphan/collections/HashTree.html\" rel=\"nofollow noreferrer\">HashTree JavaDoc</a> it derives from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> and the Map doesn't preserve insertion order hence your &quot;expectation&quot; is wrong.</p>\n<p>The easiest way of converting a .har file into JMeter test script is using <a href=\"https://converter.blazemeter.com/\" rel=\"nofollow noreferrer\">BlazeMeter Converter</a></p>\n"}],"owner":{"account_id":3618713,"reputation":129,"user_id":3018014,"accept_rate":25,"display_name":"bbx402"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672227127,"creation_date":1672226390,"question_id":74939602,"body_markdown":"I do have a har file that I need to parse with JMeter StandardJMeterEngine...\r\nand produce a jmx file.\r\n\r\nI&#39;m creating the TestPlan, threadGroup, loopController and for each page a TransactionController.\r\nAfter loading the file in JMeter, the elements are not in the correct order.\r\nI expect them to appear in the order parsed and added in the threadGroup HashTree.\r\n\r\nParsing them in the following order:\r\n\r\n    page_6 \r\n    page_7 \r\n    page_8 \r\n    page_9 \r\n    page_10 \r\n    page_11 \r\n    page_12 \r\n    page_13 \r\n    page_14\r\n\r\nFinally, I get this in JMeter:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WzVI2.png\r\n\r\nAny ideas? \r\n\r\nthank you in advance","title":"JMeter HashTree not sorted correct after loading project in JMeter","body":"<p>I do have a har file that I need to parse with JMeter StandardJMeterEngine...\nand produce a jmx file.</p>\n<p>I'm creating the TestPlan, threadGroup, loopController and for each page a TransactionController.\nAfter loading the file in JMeter, the elements are not in the correct order.\nI expect them to appear in the order parsed and added in the threadGroup HashTree.</p>\n<p>Parsing them in the following order:</p>\n<pre><code>page_6 \npage_7 \npage_8 \npage_9 \npage_10 \npage_11 \npage_12 \npage_13 \npage_14\n</code></pre>\n<p>Finally, I get this in JMeter:</p>\n<p><a href=\"https://i.stack.imgur.com/WzVI2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WzVI2.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas?</p>\n<p>thank you in advance</p>\n"},{"tags":["java","tomcat","web-applications","dispatcher"],"owner":{"account_id":17324638,"reputation":21,"user_id":12549136,"display_name":"7575 mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672226788,"creation_date":1672226788,"question_id":74939662,"body_markdown":"i have web app with below HttpHeaderSecurityFilter configuration in conf/web.xml\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\r\n        &lt;async-supported&gt;true&lt;/async-supported&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\r\n            &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\r\n            &lt;param-value&gt;60&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nwith FORWARD dispatcher configuration application throws below issue for all requests\r\n\r\n    javax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\r\n\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\r\n\r\nbut when i remove FORWARD dispatcher configuration no issue occurs.  i have searched everywhere i could not found reason can someone help me with this why this issue occurs ?\r\n\r\nThanks in Advance ","title":"Configuring FORWARD dispatcher for tomcat&#39;s HttpHeaderSecurityFilter throws exception","body":"<p>i have web app with below HttpHeaderSecurityFilter configuration in conf/web.xml</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.catalina.filters.HttpHeaderSecurityFilter&lt;/filter-class&gt;\n    &lt;async-supported&gt;true&lt;/async-supported&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;blockContentTypeSniffingEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;antiClickJackingEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;antiClickJackingOption&lt;/param-name&gt;\n        &lt;param-value&gt;SAMEORIGIN&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;xssProtectionEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;hstsEnabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;hstsMaxAgeSeconds&lt;/param-name&gt;\n        &lt;param-value&gt;60&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;httpHeaderSecurity&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>with FORWARD dispatcher configuration application throws below issue for all requests</p>\n<pre><code>javax.servlet.ServletException: Unable to add HTTP headers since response is already committed on entry to the HTTP header security Filter\nat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:101)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n</code></pre>\n<p>but when i remove FORWARD dispatcher configuration no issue occurs.  i have searched everywhere i could not found reason can someone help me with this why this issue occurs ?</p>\n<p>Thanks in Advance</p>\n"},{"tags":["java","unit-testing","multithreading","junit"],"answers":[{"comments":[{"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"score":0,"creation_date":1273864987,"post_id":2836900,"comment_id":2878489,"body_markdown":"Actually I&#39;d would avoid this solution, instead i was looking for a better way to run this kind of tests and force the main thread to wait for the end of its childs.","body":"Actually I&#39;d would avoid this solution, instead i was looking for a better way to run this kind of tests and force the main thread to wait for the end of its childs."},{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":0,"creation_date":1273865190,"post_id":2836900,"comment_id":2878517,"body_markdown":"@Marco: can you please elaborate? what is wrong with Chris&#39; solution?","body":"@Marco: can you please elaborate? what is wrong with Chris&#39; solution?"},{"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"score":0,"creation_date":1273865415,"post_id":2836900,"comment_id":2878545,"body_markdown":"I&#39;m testing a method doSomething() that internally starts some threads that update some db tables. What I&#39;d like to do is to run this method inside my JUnit test and then check if all the edits on the database have been saved successfully. It&#39;s important for the method doSomething() to not join the threads when they&#39;re created, and so i can&#39;t adopt the join() solution.","body":"I&#39;m testing a method doSomething() that internally starts some threads that update some db tables. What I&#39;d like to do is to run this method inside my JUnit test and then check if all the edits on the database have been saved successfully. It&#39;s important for the method doSomething() to not join the threads when they&#39;re created, and so i can&#39;t adopt the join() solution."},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":0,"creation_date":1273865577,"post_id":2836900,"comment_id":2878570,"body_markdown":"I&#39;d recommend creating a thread group, creating a new thread attaching it to that group and creating your new threads in that. After that, joining the created ThreadGroup, but ThreadGroup doesn&#39;t seem to have the join() method. Argh :)","body":"I&#39;d recommend creating a thread group, creating a new thread attaching it to that group and creating your new threads in that. After that, joining the created ThreadGroup, but ThreadGroup doesn&#39;t seem to have the join() method. Argh :)"},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":0,"creation_date":1273865639,"post_id":2836900,"comment_id":2878578,"body_markdown":"You could always spin on activeCount() &gt; 0 inside the test on that ThreadGroup (but would that capture child thread groups?).","body":"You could always spin on activeCount() &gt; 0 inside the test on that ThreadGroup (but would that capture child thread groups?)."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":0,"creation_date":1273878937,"post_id":2836900,"comment_id":2879941,"body_markdown":"Something a little strange here. How do you know when to test the database for created objects if you don&#39;t know when doSomething() has actually done something? Calling doSomething() and checking the results should be part of the same test, since unit tests are meant to be independent. To do this, you need some kind of synchronization - you have to wait for the work to be done before you can verify the results. It&#39;s not the test runner&#39;s job to wait, but your test code&#39;s responsibility.","body":"Something a little strange here. How do you know when to test the database for created objects if you don&#39;t know when doSomething() has actually done something? Calling doSomething() and checking the results should be part of the same test, since unit tests are meant to be independent. To do this, you need some kind of synchronization - you have to wait for the work to be done before you can verify the results. It&#39;s not the test runner&#39;s job to wait, but your test code&#39;s responsibility."}],"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507237319,"creation_date":1273864338,"answer_id":2836900,"question_id":2836885,"body_markdown":"Try using [thread.join()][1] on the created thread. This will wait for that thread to die.\r\n\r\nEdit: to avoid this, try `Thread.getThreadGroup().setDaemon(true);` in the test, or perhaps in the `setUp()` method. I haven&#39;t tested this though.\r\n\r\n&gt; A daemon thread group is automatically destroyed when its last thread is stopped or its last thread group is destroyed.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\r\n\r\nI wonder if JUnit is calling `System.exit()` or something as soon as the test finishes, however.","title":"JUnit terminates child threads","body":"<p>Try using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#join()\" rel=\"nofollow noreferrer\">thread.join()</a> on the created thread. This will wait for that thread to die.</p>\n\n<p>Edit: to avoid this, try <code>Thread.getThreadGroup().setDaemon(true);</code> in the test, or perhaps in the <code>setUp()</code> method. I haven't tested this though.</p>\n\n<blockquote>\n  <p>A daemon thread group is automatically destroyed when its last thread is stopped or its last thread group is destroyed.</p>\n</blockquote>\n\n<p>I wonder if JUnit is calling <code>System.exit()</code> or something as soon as the test finishes, however.</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":1,"creation_date":1423162605,"post_id":2837188,"comment_id":45047434,"body_markdown":"JUnit doesn&#39;t wait for ExecutorService to finish.","body":"JUnit doesn&#39;t wait for ExecutorService to finish."}],"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1273866916,"creation_date":1273866916,"answer_id":2837188,"question_id":2836885,"body_markdown":"Perhaps group your threads with an **ExecutorService**, then use **shutdown** and [awaitTermination][1] method ?\r\n\r\nThe condition is to use Runnable or Future, not Threads themselves.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29","title":"JUnit terminates child threads","body":"<p>Perhaps group your threads with an <strong>ExecutorService</strong>, then use <strong>shutdown</strong> and <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html#awaitTermination%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"nofollow noreferrer\">awaitTermination</a> method ?</p>\n\n<p>The condition is to use Runnable or Future, not Threads themselves.</p>\n"},{"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1598771095,"creation_date":1273877601,"answer_id":2838142,"question_id":2836885,"body_markdown":"After reading the question and some comments, it seems that what you need is **a technique for unit testing asynchronous operations**. doSomething() returns immediately, but you want the test code to wait for its completion, and then do some validations.\r\n\r\nThe problem is that the test is not aware of the threads being spawned by the call, so apparently it has no means of waiting for them. One can think of many sophisticated (and probably flawed) ways to solve this, but in my opinion there is a design problem here. A unit test should simulate a client of some API, and it should not assume anything about the implementation; It should only test functionality, as reflected by the API and its documentation. Therefore, I would avoid trying to detect and track the threads created by the async call. Instead, I would improve the API of the tested class, if needed. The class where the async call belongs to should provide some mechanism for detecting termination. I can think of 3 ways, but there are probably more:\r\n\r\n1. Allow registering a listener that gets notified once the operation is completed\r\n\r\n2. Providing a synchronous version of the operation. The implementation can call the async version, and then block until completion. If the class should not be exposing such a method, its visibility can be reduced to package protected, so that the test can access it.\r\n\r\n3. Using the wait-notify pattern, on some visible object.\r\n\r\n\r\nIf the class provides no such mechanism, then it is not really testable, and worse, it is probably not very reusable either.\r\n","title":"JUnit terminates child threads","body":"<p>After reading the question and some comments, it seems that what you need is <strong>a technique for unit testing asynchronous operations</strong>. doSomething() returns immediately, but you want the test code to wait for its completion, and then do some validations.</p>\n<p>The problem is that the test is not aware of the threads being spawned by the call, so apparently it has no means of waiting for them. One can think of many sophisticated (and probably flawed) ways to solve this, but in my opinion there is a design problem here. A unit test should simulate a client of some API, and it should not assume anything about the implementation; It should only test functionality, as reflected by the API and its documentation. Therefore, I would avoid trying to detect and track the threads created by the async call. Instead, I would improve the API of the tested class, if needed. The class where the async call belongs to should provide some mechanism for detecting termination. I can think of 3 ways, but there are probably more:</p>\n<ol>\n<li><p>Allow registering a listener that gets notified once the operation is completed</p>\n</li>\n<li><p>Providing a synchronous version of the operation. The implementation can call the async version, and then block until completion. If the class should not be exposing such a method, its visibility can be reduced to package protected, so that the test can access it.</p>\n</li>\n<li><p>Using the wait-notify pattern, on some visible object.</p>\n</li>\n</ol>\n<p>If the class provides no such mechanism, then it is not really testable, and worse, it is probably not very reusable either.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672226722,"creation_date":1308606923,"answer_id":6418031,"question_id":2836885,"body_markdown":"The basic technique that [Eyal Schneider outlined in his answer](https://stackoverflow.com/a/2838142) is what my [ConcurrentUnit][1] library is intended to accomplish. The general usage is:\r\n\r\n 1. Spawn some threads\r\n 2. Have the main thread wait or sleep\r\n 3. Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)\r\n 4. Resume the main thread from one of the worker threads once all assertions are complete\r\n\r\nSee [the README on GitHub](https://github.com/jhalterman/concurrentunit#readme) for more info.\r\n\r\n  [1]: https://github.com/jhalterman/concurrentunit","title":"JUnit terminates child threads","body":"<p>The basic technique that <a href=\"https://stackoverflow.com/a/2838142\">Eyal Schneider outlined in his answer</a> is what my <a href=\"https://github.com/jhalterman/concurrentunit\" rel=\"nofollow noreferrer\">ConcurrentUnit</a> library is intended to accomplish. The general usage is:</p>\n<ol>\n<li>Spawn some threads</li>\n<li>Have the main thread wait or sleep</li>\n<li>Perform assertions from within the worker threads (which via ConcurrentUnit, are reported back to the main thread)</li>\n<li>Resume the main thread from one of the worker threads once all assertions are complete</li>\n</ol>\n<p>See <a href=\"https://github.com/jhalterman/concurrentunit#readme\" rel=\"nofollow noreferrer\">the README on GitHub</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":3689690,"reputation":1,"user_id":3072585,"display_name":"Fred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386292514,"creation_date":1386291025,"answer_id":20413918,"question_id":2836885,"body_markdown":"    \t\twhile (s.isRunning()) {\r\n\t\t\t    try {\r\n\t\t\t\t    Thread.sleep(SLEEP_TIME);\r\n\t\t\t    } catch (InterruptedException e) {\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t    }\r\n\t\t    }\r\nYou could try to block the JUnit thread and have it wait for your thread to complete. The `Thread.sleep()` is needed so that your thread does not hog CPU. In this example s would be your thread you will need to have an `isRunning()` method so you can check if the thread is still running every `SLEEP_TIME` milliseconds. I know this isn&#39;t the greatest solution but if you only have 2 threads and you dont want JUnit killing your thread this works. The while loop with cause this JUnit thread to stay alive and wait for your other thread to finish.","title":"JUnit terminates child threads","body":"<pre><code>        while (s.isRunning()) {\n            try {\n                Thread.sleep(SLEEP_TIME);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n\n<p>You could try to block the JUnit thread and have it wait for your thread to complete. The <code>Thread.sleep()</code> is needed so that your thread does not hog CPU. In this example s would be your thread you will need to have an <code>isRunning()</code> method so you can check if the thread is still running every <code>SLEEP_TIME</code> milliseconds. I know this isn't the greatest solution but if you only have 2 threads and you dont want JUnit killing your thread this works. The while loop with cause this JUnit thread to stay alive and wait for your other thread to finish.</p>\n"},{"tags":[],"owner":{"account_id":8997554,"reputation":33,"user_id":6707342,"display_name":"YellowStar5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552006714,"creation_date":1552006714,"answer_id":55055238,"question_id":2836885,"body_markdown":"In java, try use CountDownLatch to make the main thread wait until the child thread completed.\r\n\r\n        @Test\r\n        public void myTest() {\r\n            CountDownLatch countDownLatch = new CountDownLatch(1);\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //write your logic here\r\n                    countDownLatch.countDown();\r\n                }\r\n            }).start();\r\n            //wait until the child thread completed.\r\n            countDownLatch.await();\r\n        }","title":"JUnit terminates child threads","body":"<p>In java, try use CountDownLatch to make the main thread wait until the child thread completed.</p>\n\n<pre><code>    @Test\n    public void myTest() {\n        CountDownLatch countDownLatch = new CountDownLatch(1);\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                //write your logic here\n                countDownLatch.countDown();\n            }\n        }).start();\n        //wait until the child thread completed.\n        countDownLatch.await();\n    }\n</code></pre>\n"}],"owner":{"account_id":113272,"reputation":67818,"user_id":298406,"accept_rate":79,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11186,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":2838142,"answer_count":6,"score":18,"last_activity_date":1672226722,"creation_date":1273864231,"question_id":2836885,"body_markdown":"When I test the execution of a method that creates a child thread, the JUnit test ends before the child thread and kills it.\r\n\r\nHow do I force JUnit to wait for the child thread to complete its execution?","title":"JUnit terminates child threads","body":"<p>When I test the execution of a method that creates a child thread, the JUnit test ends before the child thread and kills it.</p>\n<p>How do I force JUnit to wait for the child thread to complete its execution?</p>\n"},{"tags":["java","reflection","sun-codemodel","jcodemodel"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1374609387,"post_id":17819803,"comment_id":26005019,"body_markdown":"It appears to be type String, because that&#39;s what you extended.","body":"It appears to be type String, because that&#39;s what you extended."},{"owner":{"account_id":28117,"reputation":105582,"user_id":74757,"accept_rate":79,"display_name":"Cᴏʀʏ"},"score":0,"creation_date":1374609520,"post_id":17819803,"comment_id":26005091,"body_markdown":"possible duplicate of [Get generic type of java.util.List](http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">Get generic type of java.util.List</a>"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1374609688,"post_id":17819803,"comment_id":26005186,"body_markdown":"No, not a duplicate ... I have &quot;List&lt;T&gt;&quot; where T is specified by the implementing class. Added Sample code what I am trying to do.","body":"No, not a duplicate ... I have &quot;List&lt;T&gt;&quot; where T is specified by the implementing class. Added Sample code what I am trying to do."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1374610861,"post_id":17819803,"comment_id":26005837,"body_markdown":"Where is that code sample?  In the `Child` class?  Can you add a `List&lt;T&gt; getValues()` method that in `Child` should give you a `List&lt;String&gt;`?  Does that help?","body":"Where is that code sample?  In the <code>Child</code> class?  Can you add a <code>List&lt;T&gt; getValues()</code> method that in <code>Child</code> should give you a <code>List&lt;String&gt;</code>?  Does that help?"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1374612465,"post_id":17819803,"comment_id":26006747,"body_markdown":"Sorry, it seems this is a bit hard to described. I added a few lines on top. I am writing a code generator for existing classes. I picked a random example (Parent, Child), to describe my concrete problem: when I get the genericParameterTypes of Child#setValues(), I get &quot;List&lt;T&gt;&quot;, not &quot;List&lt;String&gt;&quot;. But I need List&lt;String&gt; for my generated method.","body":"Sorry, it seems this is a bit hard to described. I added a few lines on top. I am writing a code generator for existing classes. I picked a random example (Parent, Child), to describe my concrete problem: when I get the genericParameterTypes of Child#setValues(), I get &quot;List&lt;T&gt;&quot;, not &quot;List&lt;String&gt;&quot;. But I need List&lt;String&gt; for my generated method."},{"owner":{"account_id":330208,"reputation":11005,"user_id":654187,"accept_rate":100,"display_name":"John Ericksen"},"score":0,"creation_date":1401373656,"post_id":17819803,"comment_id":36866191,"body_markdown":"What does your `getTypeVariable()` method look like?  Where are you getting `type` from?","body":"What does your <code>getTypeVariable()</code> method look like?  Where are you getting <code>type</code> from?"},{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1401436015,"post_id":17819803,"comment_id":36892544,"body_markdown":"Hi John, I edited the code sample. getTypeVariable() basically delegated to &quot;codeModel.parseType(typeVariable.getName()&quot; and handled the exception. Would be great if you have an idea to solve this ...","body":"Hi John, I edited the code sample. getTypeVariable() basically delegated to &quot;codeModel.parseType(typeVariable.getName()&quot; and handled the exception. Would be great if you have an idea to solve this ..."}],"answers":[{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672226562,"creation_date":1376078658,"answer_id":18154775,"question_id":17819803,"body_markdown":"If you are using my [TypeTools](https://github.com/jhalterman/typetools) library, this becomes pretty simple:\r\n\r\n    Class&lt;?&gt; t = TypeResolver.resolveRawArgument(Parent.class, Child.class);\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>If you are using my <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> library, this becomes pretty simple:</p>\n<pre><code>Class&lt;?&gt; t = TypeResolver.resolveRawArgument(Parent.class, Child.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1300215,"reputation":7638,"user_id":1250303,"display_name":"Java42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400349483,"creation_date":1400349159,"answer_id":23714423,"question_id":17819803,"body_markdown":"Try this...tweak as necessary, add error checking etc...\r\n\r\n    private Class&lt;T&gt; getType(int index) {\r\n        final ParameterizedType parameterizedType = (ParameterizedType) getClass().getGenericSuperclass();\r\n        return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[index];\r\n    }\r\n\r\nUsage: \r\n\r\n    Foo42&lt;JFrame,String&gt; foo = new Foo42&lt;&gt;();\r\n\r\n    if (getType(0).isAssignableFrom(JFrame.class)) {\r\n        // is a JFrame\r\n    }\r\n\r\n    if (getType(1).isAssignableFrom(String.class)) {\r\n        // is a String\r\n    }\r\n\r\n    \r\n\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>Try this...tweak as necessary, add error checking etc...</p>\n\n<pre><code>private Class&lt;T&gt; getType(int index) {\n    final ParameterizedType parameterizedType = (ParameterizedType) getClass().getGenericSuperclass();\n    return (Class&lt;T&gt;) parameterizedType.getActualTypeArguments()[index];\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>Foo42&lt;JFrame,String&gt; foo = new Foo42&lt;&gt;();\n\nif (getType(0).isAssignableFrom(JFrame.class)) {\n    // is a JFrame\n}\n\nif (getType(1).isAssignableFrom(String.class)) {\n    // is a String\n}\n</code></pre>\n"}],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1672226562,"creation_date":1374609257,"question_id":17819803,"body_markdown":"I am building a code generator for Fluent API. I want to create a new class for every existing (POJO)-class. I dont have the existing classes under my control. I parse the existing methods via reflection and if I encounter a setter or an &quot;add&quot; method, I create a method for this in my Fluent-Wrapper class, so I can say child().values(....).get().\r\n\r\nThis is working fine with simple parameters. It took me a while to figure out how to deal with ParameterizedTypes, but I can manage this now. What I dont get is how to create a concrete method for a generic parameter which type is not defined on the method itself but on the containing class.\r\n\r\n\r\nI have something like this:\r\n\r\n    abstract class Parent&lt;T&gt; {\r\n       void setValues(List&lt;T&gt; values) {...};\r\n    }\r\n\r\n    class Child extends Parent&lt;String&gt; {}\r\n\r\nNow I try to generate code via JCodeModel and need to parse the type of the parameter &quot;values&quot;. Problem: I get a ParameterizedType that contains List and a TypeVariable &quot;T&quot;. But I cannot map &quot;T&quot; back to String. But I cannot figure out how to get the concrete Type &quot;T&quot; got by implementing &quot;Child&quot;. Anyone?\r\n\r\nClarify: I do this, and need not &quot;T&quot; but &quot;String&quot; when it comes to the case &quot;TypeVariable&quot;\r\n\r\n    JType result = codeModel._ref(typeToClass.apply(type));\r\n    if (isParameterizedType(type)) {\r\n      for (Type typeArgument : ((ParameterizedType) type).getActualTypeArguments()) {\r\n        if (typeArgument instanceof WildcardType) {\r\n          result = narrow(result, codeModel.wildcard());\r\n        } else if (typeArgument instanceof Class) {\r\n          result = narrow(result, typeToClass.asJType(codeModel, typeArgument));\r\n        } else if (typeArgument instanceof TypeVariable&lt;?&gt;) {\r\n          TypeVariable&lt;?&gt; typeVariable = (TypeVariable&lt;?&gt;) typeArgument;\r\n          // this is where I only get &quot;T&quot; but need &quot;String&quot;\r\n          result = ((JClass) result).narrow(getTypeVariable(codeModel.parseType(typeVariable.getName()));\r\n        }\r\n\r\n      }\r\n    }\r\n","title":"How to get generic type &quot;T&quot; of class when reused in method","body":"<p>I am building a code generator for Fluent API. I want to create a new class for every existing (POJO)-class. I dont have the existing classes under my control. I parse the existing methods via reflection and if I encounter a setter or an \"add\" method, I create a method for this in my Fluent-Wrapper class, so I can say child().values(....).get().</p>\n\n<p>This is working fine with simple parameters. It took me a while to figure out how to deal with ParameterizedTypes, but I can manage this now. What I dont get is how to create a concrete method for a generic parameter which type is not defined on the method itself but on the containing class.</p>\n\n<p>I have something like this:</p>\n\n<pre><code>abstract class Parent&lt;T&gt; {\n   void setValues(List&lt;T&gt; values) {...};\n}\n\nclass Child extends Parent&lt;String&gt; {}\n</code></pre>\n\n<p>Now I try to generate code via JCodeModel and need to parse the type of the parameter \"values\". Problem: I get a ParameterizedType that contains List and a TypeVariable \"T\". But I cannot map \"T\" back to String. But I cannot figure out how to get the concrete Type \"T\" got by implementing \"Child\". Anyone?</p>\n\n<p>Clarify: I do this, and need not \"T\" but \"String\" when it comes to the case \"TypeVariable\"</p>\n\n<pre><code>JType result = codeModel._ref(typeToClass.apply(type));\nif (isParameterizedType(type)) {\n  for (Type typeArgument : ((ParameterizedType) type).getActualTypeArguments()) {\n    if (typeArgument instanceof WildcardType) {\n      result = narrow(result, codeModel.wildcard());\n    } else if (typeArgument instanceof Class) {\n      result = narrow(result, typeToClass.asJType(codeModel, typeArgument));\n    } else if (typeArgument instanceof TypeVariable&lt;?&gt;) {\n      TypeVariable&lt;?&gt; typeVariable = (TypeVariable&lt;?&gt;) typeArgument;\n      // this is where I only get \"T\" but need \"String\"\n      result = ((JClass) result).narrow(getTypeVariable(codeModel.parseType(typeVariable.getName()));\n    }\n\n  }\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1425672507,"post_id":28906730,"comment_id":46073005,"body_markdown":"From what it sounds like you&#39;re doing, that&#39;s going to be impossible; you can&#39;t reconstruct the generic parameters associated with an arbitrary object.","body":"From what it sounds like you&#39;re doing, that&#39;s going to be impossible; you can&#39;t reconstruct the generic parameters associated with an arbitrary object."},{"owner":{"account_id":1714643,"reputation":5898,"user_id":1571997,"display_name":"chancea"},"score":1,"creation_date":1425673049,"post_id":28906730,"comment_id":46073271,"body_markdown":"You cannot pass in a `DummyInterface&lt;T&gt;` into `setDummyInterface` if `T` does not equal DummyClass&#39;s `T`.  You will get a compile error.","body":"You cannot pass in a <code>DummyInterface&lt;T&gt;</code> into <code>setDummyInterface</code> if <code>T</code> does not equal DummyClass&#39;s <code>T</code>.  You will get a compile error."}],"answers":[{"tags":[],"owner":{"account_id":227393,"reputation":28024,"user_id":489041,"accept_rate":53,"display_name":"user489041"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425672936,"creation_date":1425672936,"answer_id":28906892,"question_id":28906730,"body_markdown":"Not entirely sure I understand your question, but this code will allow you to get the Generic types for an object. They allow you to perform reflection on the generic parameters of an object.\r\n\r\n    import java.lang.reflect.ParameterizedType;\r\n    import java.lang.reflect.Type;\r\n    \r\n    public class GenericClassUtils {\r\n    \r\n        public static &lt;T&gt; Class&lt;T&gt; getClassFromGeneric(\r\n                Object parentObj,\r\n                int oridnalParamterizedTypeIndex) throws Exception{\r\n              Type[] typeArray = getParameterizedTypeListAsArray(parentObj);\r\n              return (Class&lt;T&gt;)typeArray[oridnalParamterizedTypeIndex];\r\n        }\r\n        \r\n        public static &lt;T&gt; Type[] getParameterizedTypeListAsArray(Object parentObj){\r\n            return  ((ParameterizedType) parentObj.getClass()\r\n                        .getGenericSuperclass())\r\n                        .getActualTypeArguments();\r\n        }\r\n    }\r\n\r\nPerhaps by calling something like this:\r\n\r\n    Class clazz = getClassFromGeneric(dummyClass, 0);\r\n    if (clazz.isInstance(SomeTypeIKnow.class)){\r\n         dummyClass.setDummyInterface(dummyInterface);\r\n    }","title":"How to check does interface with generic fit to class","body":"<p>Not entirely sure I understand your question, but this code will allow you to get the Generic types for an object. They allow you to perform reflection on the generic parameters of an object.</p>\n\n<pre><code>import java.lang.reflect.ParameterizedType;\nimport java.lang.reflect.Type;\n\npublic class GenericClassUtils {\n\n    public static &lt;T&gt; Class&lt;T&gt; getClassFromGeneric(\n            Object parentObj,\n            int oridnalParamterizedTypeIndex) throws Exception{\n          Type[] typeArray = getParameterizedTypeListAsArray(parentObj);\n          return (Class&lt;T&gt;)typeArray[oridnalParamterizedTypeIndex];\n    }\n\n    public static &lt;T&gt; Type[] getParameterizedTypeListAsArray(Object parentObj){\n        return  ((ParameterizedType) parentObj.getClass()\n                    .getGenericSuperclass())\n                    .getActualTypeArguments();\n    }\n}\n</code></pre>\n\n<p>Perhaps by calling something like this:</p>\n\n<pre><code>Class clazz = getClassFromGeneric(dummyClass, 0);\nif (clazz.isInstance(SomeTypeIKnow.class)){\n     dummyClass.setDummyInterface(dummyInterface);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672226486,"creation_date":1425681217,"answer_id":28908821,"question_id":28906730,"body_markdown":"You can use something like [TypeTools](https://github.com/jhalterman/typetools) (a library that I authored) to resolve type arguments so long as the argument is captured in a type definition. For example:\r\n\r\n    interface DummyStringInterface extends DummyInterface&lt;String&gt; {}\r\n\r\n    Class&lt;?&gt; t = TypeResolver.resolveRawArgument(DummyInterface.class, DummyStringInterface.class);\r\n    assert t == String.class;","title":"How to check does interface with generic fit to class","body":"<p>You can use something like <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">TypeTools</a> (a library that I authored) to resolve type arguments so long as the argument is captured in a type definition. For example:</p>\n<pre><code>interface DummyStringInterface extends DummyInterface&lt;String&gt; {}\n\nClass&lt;?&gt; t = TypeResolver.resolveRawArgument(DummyInterface.class, DummyStringInterface.class);\nassert t == String.class;\n</code></pre>\n"}],"owner":{"account_id":3326175,"reputation":999,"user_id":2796220,"accept_rate":59,"display_name":"dooplaye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28908821,"answer_count":2,"score":0,"last_activity_date":1672226486,"creation_date":1425672279,"question_id":28906730,"body_markdown":"I have some interface with generic type `interface DummyInterface&lt;T&gt;` and i have class to which i have to set interface \r\n\r\n     class DummyClass&lt;T&gt;{\r\n            public void setDummyInterface(DummyInterface&lt;T&gt; dummyInterface){\r\n                //set interface\r\n            }\r\n        } \r\nImagine the situation where i store `DummyClass` with different generics in `ArrayList`. When i get class from list i don&#39;t know the generic of class, and i want to check if interface has the same generic or not;\r\nFor example i want to check like this\r\n\r\n    if(dummyInterface&lt;SomeTypeIKnow&gt;.getGenericType() == dummyClass.getGenericType()){\r\n          dummyClass.setDummyInterface(dummyInterface);\r\n    }","title":"How to check does interface with generic fit to class","body":"<p>I have some interface with generic type <code>interface DummyInterface&lt;T&gt;</code> and i have class to which i have to set interface </p>\n\n<pre><code> class DummyClass&lt;T&gt;{\n        public void setDummyInterface(DummyInterface&lt;T&gt; dummyInterface){\n            //set interface\n        }\n    } \n</code></pre>\n\n<p>Imagine the situation where i store <code>DummyClass</code> with different generics in <code>ArrayList</code>. When i get class from list i don't know the generic of class, and i want to check if interface has the same generic or not;\nFor example i want to check like this</p>\n\n<pre><code>if(dummyInterface&lt;SomeTypeIKnow&gt;.getGenericType() == dummyClass.getGenericType()){\n      dummyClass.setDummyInterface(dummyInterface);\n}\n</code></pre>\n"},{"tags":["java","long-integer","division","divide-by-zero","euclidean-algorithm"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1672221000,"post_id":74938690,"comment_id":132244163,"body_markdown":"Your question is incomplete: Which inputs are you provided that causes divide-by-zero, and on which line does the divide-by-zero occur?","body":"Your question is incomplete: Which inputs are you provided that causes divide-by-zero, and on which line does the divide-by-zero occur?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672221065,"post_id":74938690,"comment_id":132244175,"body_markdown":"note also that almost all your lines don&#39;t do anything (from `if (a[0] &lt; 0` all the way to `a[0] = c/a[0]` - you set `c` __first__, then do a lot of work on `a[0]` and `a[1]`, then toss all that out and use `c`.","body":"note also that almost all your lines don&#39;t do anything (from <code>if (a[0] &lt; 0</code> all the way to <code>a[0] = c&#47;a[0]</code> - you set <code>c</code> <b>first</b>, then do a lot of work on <code>a[0]</code> and <code>a[1]</code>, then toss all that out and use <code>c</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672222016,"post_id":74938690,"comment_id":132244378,"body_markdown":"I cannot reproduce by passing positive values to your method. When I pass an array containing a 0 and a non-negative value, I do get the division by 0 error. Easy solution: document in your JavaDoc comment that your method will throw an `ArithmeticException` in this case: Finer solution: Validate your argument. If it is anything other than an array of length 2 containing two strictly positive numbers, throw an `IllegalArgumenttException` with an error message that is clear to understand.","body":"I cannot reproduce by passing positive values to your method. When I pass an array containing a 0 and a non-negative value, I do get the division by 0 error. Easy solution: document in your JavaDoc comment that your method will throw an <code>ArithmeticException</code> in this case: Finer solution: Validate your argument. If it is anything other than an array of length 2 containing two strictly positive numbers, throw an <code>IllegalArgumenttException</code> with an error message that is clear to understand."}],"answers":[{"comments":[{"owner":{"account_id":27372537,"reputation":3,"user_id":20878365,"display_name":"Bryan Griffin"},"score":0,"creation_date":1672225346,"post_id":74939291,"comment_id":132245250,"body_markdown":"I missed it. Perfect, thanks a lot","body":"I missed it. Perfect, thanks a lot"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672234049,"post_id":74939291,"comment_id":132247397,"body_markdown":"It’s not precisely what happens. If `a[0]` was already 0 from the outset, the first statement will be 0 / 0, which will throw the exception. If `a[0]` was not 0, then `c`will not be either, and none of the statements needs to give any problems.","body":"It’s not precisely what happens. If <code>a[0]</code> was already 0 from the outset, the first statement will be 0 / 0, which will throw the exception. If <code>a[0]</code> was not 0, then <code>c</code>will not be either, and none of the statements needs to give any problems."}],"tags":[],"owner":{"account_id":21604821,"reputation":46,"user_id":17613841,"display_name":"Sriram"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672224523,"creation_date":1672224523,"answer_id":74939291,"question_id":74938690,"body_markdown":"The problem is with the below two lines.\r\n\r\n    a[0] = c/a[0];\r\n    a[1] = d/a[0];\r\n\r\nFirst statement will make a[0] as 0 since c is 0.\r\nNext statement will be 1/0.","title":"Divide by zero, can&#39;t find the problem in this program which runs Euclid&#39;s algorithm to find the greatest common divisor","body":"<p>The problem is with the below two lines.</p>\n<pre><code>a[0] = c/a[0];\na[1] = d/a[0];\n</code></pre>\n<p>First statement will make a[0] as 0 since c is 0.\nNext statement will be 1/0.</p>\n"}],"owner":{"account_id":27372537,"reputation":3,"user_id":20878365,"display_name":"Bryan Griffin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939291,"answer_count":1,"score":0,"last_activity_date":1672226369,"creation_date":1672220938,"question_id":74938690,"body_markdown":"```\r\npublic static long[] simp (long [] a) {\r\n\tlong c = a[0];\r\n\tlong d = a[1];\r\n\tif ( a[0]&lt;0 ) {\r\n\t\ta[0] = -1*a[0];\r\n\t}\r\n\tif (a[1]&gt;a[0]) {\r\n\t\tlong v = a[0];\r\n\t\ta[0]=a[1];\r\n\t\ta[1]=v;\r\n\t}\r\n\twhile (a[1] &gt; 0) {\r\n\t\tlong t = a[0];\r\n\t\ta[0] = a[1];\r\n\t\ta[1] = t%a[1];\r\n\t\tSystem.out.println(a[0]+&quot;/&quot;+a[1]);\r\n\t}\r\n\ta[0] = c/a[0];\r\n\ta[1] = d/a[0];\r\n\tSystem.out.println(a[0]+&quot;/&quot;+a[1]);\r\n\treturn a;\r\n}\r\n```\r\n\r\nI followed the steps of Euclid&#39;s algorithm but I was stunned when a divide by zero problem appeared. I don&#39;t know how it can happen.","title":"Divide by zero, can&#39;t find the problem in this program which runs Euclid&#39;s algorithm to find the greatest common divisor","body":"<pre><code>public static long[] simp (long [] a) {\n    long c = a[0];\n    long d = a[1];\n    if ( a[0]&lt;0 ) {\n        a[0] = -1*a[0];\n    }\n    if (a[1]&gt;a[0]) {\n        long v = a[0];\n        a[0]=a[1];\n        a[1]=v;\n    }\n    while (a[1] &gt; 0) {\n        long t = a[0];\n        a[0] = a[1];\n        a[1] = t%a[1];\n        System.out.println(a[0]+&quot;/&quot;+a[1]);\n    }\n    a[0] = c/a[0];\n    a[1] = d/a[0];\n    System.out.println(a[0]+&quot;/&quot;+a[1]);\n    return a;\n}\n</code></pre>\n<p>I followed the steps of Euclid's algorithm but I was stunned when a divide by zero problem appeared. I don't know how it can happen.</p>\n"},{"tags":["java","spring-boot","resthighlevelclient"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590571990,"post_id":62039091,"comment_id":109727165,"body_markdown":"_connection refused_ means that there is no cluster/server at the configured address","body":"<i>connection refused</i> means that there is no cluster/server at the configured address"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590573094,"post_id":62039091,"comment_id":109727831,"body_markdown":"I added a response of the configured address please check @P.J.Meisch","body":"I added a response of the configured address please check @P.J.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590603563,"post_id":62039091,"comment_id":109745109,"body_markdown":"the question is: what are the values that effectively used in `RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));`","body":"the question is: what are the values that effectively used in <code>RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));</code>"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590641532,"post_id":62039091,"comment_id":109757310,"body_markdown":"from what host did you issue the query that gave you the response? And where is your application running that tries to connect to Elasticsearch? It seems you have Elasticsearch running in docker, does your application run in docker as well?","body":"from what host did you issue the query that gave you the response? And where is your application running that tries to connect to Elasticsearch? It seems you have Elasticsearch running in docker, does your application run in docker as well?"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590641624,"post_id":62039091,"comment_id":109757338,"body_markdown":"yes @P.J.Meisch","body":"yes @P.J.Meisch"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590642967,"post_id":62039091,"comment_id":109757673,"body_markdown":"so this is a networking problem between docker containers. Elasticsearch normally runs on port 9200, as you specify 9100, I support that you map that when starting your dockerized Elasticsearch instance. But within the docker network it would probably still be 9200. I 10.1.3.2 the IP address of the machine you are running docker on and from where you issue the direct connect to ES? Then this can&#39;t work for your dockerized Spring Boot application","body":"so this is a networking problem between docker containers. Elasticsearch normally runs on port 9200, as you specify 9100, I support that you map that when starting your dockerized Elasticsearch instance. But within the docker network it would probably still be 9200. I 10.1.3.2 the IP address of the machine you are running docker on and from where you issue the direct connect to ES? Then this can&#39;t work for your dockerized Spring Boot application"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590645368,"post_id":62039091,"comment_id":109758375,"body_markdown":"We have two elastic search in docker that&#39;s why I specified 9100 because 9200 have another version of elastic search.","body":"We have two elastic search in docker that&#39;s why I specified 9100 because 9200 have another version of elastic search."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1590646043,"post_id":62039091,"comment_id":109758604,"body_markdown":"BUt which machine is 10.1.3.2? Is this the IP of the machine running docker, then this wil not be reachable from a different docker container","body":"BUt which machine is 10.1.3.2? Is this the IP of the machine running docker, then this wil not be reachable from a different docker container"},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590655761,"post_id":62039091,"comment_id":109763242,"body_markdown":"Thank you @P.J.Meisch I researched a lot and finally, I get rid of this and I wrote an answer because if anyone wants to apply this concept or facing the same issue then it will be helpful for them.","body":"Thank you @P.J.Meisch I researched a lot and finally, I get rid of this and I wrote an answer because if anyone wants to apply this concept or facing the same issue then it will be helpful for them."},{"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"score":0,"creation_date":1590753562,"post_id":62039091,"comment_id":109807072,"body_markdown":"Thanks for the downvote @P.J.Meisch but I got my answer by research from [here](https://stackoverflow.com/questions/46166955/how-to-properly-close-raw-restclient-when-using-elastic-search-5-5-0-for-optimal) and [here](https://stackoverflow.com/questions/57109948/sockettimeoutexception-while-retrieving-or-inserting-data-into-elastic-search-by) also I understand both questions and answers and do my thing as I want and I got my answer.","body":"Thanks for the downvote @P.J.Meisch but I got my answer by research from <a href=\"https://stackoverflow.com/questions/46166955/how-to-properly-close-raw-restclient-when-using-elastic-search-5-5-0-for-optimal\">here</a> and <a href=\"https://stackoverflow.com/questions/57109948/sockettimeoutexception-while-retrieving-or-inserting-data-into-elastic-search-by\">here</a> also I understand both questions and answers and do my thing as I want and I got my answer."}],"answers":[{"tags":[],"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590656872,"creation_date":1590655434,"answer_id":62060497,"question_id":62039091,"body_markdown":" - I researched a lot that how to get rid of this and I tried many solutions after that finally I&#39;ll get the solution all things are working as I want.  \r\n - I am trying to implement an elastic pool that one client used by the\r\n   the whole project for any query or aggregation and when bean will destroy\r\n   the will close and my whole query is done by using only by one\r\n   connection.\r\n - I changed my **Elastic configuration** like this:\r\n```java\r\n    @Configuration\r\n    public class ElasticConfig {\r\n    \r\n    \t@Autowired\r\n    \tEnvironment environment;\r\n    \r\n    \tprivate RestHighLevelClient client;\r\n    \r\n    \t@Bean\r\n    \tpublic RestHighLevelClient prepareConnection() {\r\n    \t\tRestClientBuilder restBuilder = RestClient\r\n    \t\t\t\t.builder(new HttpHost(environment.getProperty(&quot;zselastic.host&quot;).toString(),\r\n    \t\t\t\t\t\tInteger.valueOf(environment.getProperty(&quot;zselastic.port&quot;).toString()),\r\n    \t\t\t\t\t\tenvironment.getProperty(&quot;zselastic.protocol&quot;).toString()));\r\n    \t\tString username = new String(environment.getProperty(&quot;zselastic.username&quot;).toString());\r\n    \t\tString password = new String(environment.getProperty(&quot;zselastic.password&quot;).toString());\r\n    \t\tif (username != null &amp; password != null) {\r\n    \t\t\tfinal CredentialsProvider creadential = new BasicCredentialsProvider();\r\n    \t\t\tcreadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n    \t\t\trestBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \r\n    \t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(creadential)\r\n    \t\t\t\t\t\t\t.setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\trestBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \r\n    \t\t\trequestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\r\n    \t\t\t\t\t.setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\r\n    \t\t\t\t\t.setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\r\n    \r\n    \t\t\tclient = new RestHighLevelClient(restBuilder);\r\n    \t\t\treturn client;\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * it gets called when bean instance is getting removed from the context if\r\n    \t * scope is not a prototype\r\n    \t */\r\n    \t/*\r\n    \t * If there is a method named shutdown or close then spring container will try\r\n    \t * to automatically configure them as callback methods when bean is being\r\n    \t * destroyed\r\n    \t */\r\n    \t@PreDestroy\r\n    \tpublic void clientClose() {\r\n    \t\ttry {\r\n    \t\t\tthis.client.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n```  \r\n - So now my bean return the `RestHighLevelClient` and it will be use by\r\n   whole project and I got every API repsponse instead of\r\n   `java.net.ConnectException: Connection refused`.\r\n - Also, I check node stats by using this\r\n   `http://host:port/_nodes/stats/http`.   When my Spring boot\r\n   application starts it will initiate one connection to the\r\n   elasticsearch and one entry will be added into `current_open`. After\r\n   that, no connection will increase until my application is running all\r\n   the queries, and aggregation is being performed by using this\r\n   connection only. When my application will shutdown or stop connection\r\n   will be close and entry removed from the `current_open`.\r\n - So now I can conclude that I applied **elastic pool** by using this configuration.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<ul>\n<li>I researched a lot that how to get rid of this and I tried many solutions after that finally I'll get the solution all things are working as I want.  </li>\n<li>I am trying to implement an elastic pool that one client used by the\nthe whole project for any query or aggregation and when bean will destroy\nthe will close and my whole query is done by using only by one\nconnection.</li>\n<li>I changed my <strong>Elastic configuration</strong> like this:</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class ElasticConfig {\n\n        @Autowired\n        Environment environment;\n\n        private RestHighLevelClient client;\n\n        @Bean\n        public RestHighLevelClient prepareConnection() {\n            RestClientBuilder restBuilder = RestClient\n                    .builder(new HttpHost(environment.getProperty(\"zselastic.host\").toString(),\n                            Integer.valueOf(environment.getProperty(\"zselastic.port\").toString()),\n                            environment.getProperty(\"zselastic.protocol\").toString()));\n            String username = new String(environment.getProperty(\"zselastic.username\").toString());\n            String password = new String(environment.getProperty(\"zselastic.password\").toString());\n            if (username != null &amp; password != null) {\n                final CredentialsProvider creadential = new BasicCredentialsProvider();\n                creadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n                restBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n\n                        return httpClientBuilder.setDefaultCredentialsProvider(creadential)\n                                .setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\n                    }\n                });\n\n                restBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \n                requestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\n                        .setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\n                        .setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\n\n                client = new RestHighLevelClient(restBuilder);\n                return client;\n            }\n            return null;\n        }\n\n        /*\n         * it gets called when bean instance is getting removed from the context if\n         * scope is not a prototype\n         */\n        /*\n         * If there is a method named shutdown or close then spring container will try\n         * to automatically configure them as callback methods when bean is being\n         * destroyed\n         */\n        @PreDestroy\n        public void clientClose() {\n            try {\n                this.client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n\n<ul>\n<li>So now my bean return the <code>RestHighLevelClient</code> and it will be use by\nwhole project and I got every API repsponse instead of\n<code>java.net.ConnectException: Connection refused</code>.</li>\n<li>Also, I check node stats by using this\n<code>http://host:port/_nodes/stats/http</code>.   When my Spring boot\napplication starts it will initiate one connection to the\nelasticsearch and one entry will be added into <code>current_open</code>. After\nthat, no connection will increase until my application is running all\nthe queries, and aggregation is being performed by using this\nconnection only. When my application will shutdown or stop connection\nwill be close and entry removed from the <code>current_open</code>.</li>\n<li>So now I can conclude that I applied <strong>elastic pool</strong> by using this configuration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2063502,"reputation":543,"user_id":1839558,"display_name":"lauksas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617282179,"creation_date":1617282179,"answer_id":66905064,"question_id":62039091,"body_markdown":"In my case, I forgot to add the `@Bean` annotation at the method which created the Bean.\r\nFollow an implementation class of the `AbstractElasticsearchConfiguration`.\r\n\r\n```java\r\npackage org.lauksas.elasticsearch.configuration;\r\n\r\nimport java.time.Duration;\r\n\r\nimport org.elasticsearch.client.RestClient;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.convert.support.DefaultConversionService;\r\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\r\nimport org.springframework.data.elasticsearch.client.RestClients;\r\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchEntityMapper;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\r\nimport org.springframework.data.elasticsearch.core.EntityMapper;\r\nimport org.springframework.http.HttpHeaders;\r\n\r\n@Configuration\r\npublic class RestClientConfig extends AbstractElasticsearchConfiguration {\r\n\r\n  @Value(&quot;${elasticsearch.host}&quot;)\r\n  private String host;\r\n  @Value(&quot;${elasticsearch.port}&quot;)\r\n  private int port;\r\n  @Value(&quot;${elasticsearch.username}&quot;)\r\n  private String username;\r\n  @Value(&quot;${elasticsearch.password}&quot;)\r\n  private String password;\r\n\r\n  Logger log = LoggerFactory.getLogger(getClass());\r\n\r\n  @Bean\r\n  @Override\r\n  public EntityMapper entityMapper() {\r\n    ElasticsearchEntityMapper entityMapper = new ElasticsearchEntityMapper(elasticsearchMappingContext(),\r\n        new DefaultConversionService());\r\n    entityMapper.setConversions(elasticsearchCustomConversions());\r\n\r\n    return entityMapper;\r\n  }\r\n\r\n  @Override\r\n  @Bean\r\n  public RestHighLevelClient elasticsearchClient() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(username, password);\r\n\r\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\r\n        .usingSsl().withBasicAuth(username, password).withSocketTimeout(Duration.ofMinutes(10))\r\n        .build();\r\n\r\n    return RestClients.create(clientConfiguration).rest();\r\n  }\r\n\r\n  @Bean\r\n  public RestClient restClient() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBasicAuth(username, password);\r\n\r\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\r\n        .usingSsl().withBasicAuth(username, password).build();\r\n\r\n    return RestClients.create(clientConfiguration).lowLevelRest();\r\n  }\r\n\r\n  @Bean\r\n  @Primary\r\n  public ElasticsearchOperations elasticsearchTemplate() {\r\n    return elasticsearchOperations();\r\n  }\r\n}\r\n```","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>In my case, I forgot to add the <code>@Bean</code> annotation at the method which created the Bean.\nFollow an implementation class of the <code>AbstractElasticsearchConfiguration</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.lauksas.elasticsearch.configuration;\n\nimport java.time.Duration;\n\nimport org.elasticsearch.client.RestClient;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.convert.support.DefaultConversionService;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.RestClients;\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\nimport org.springframework.data.elasticsearch.core.ElasticsearchEntityMapper;\nimport org.springframework.data.elasticsearch.core.ElasticsearchOperations;\nimport org.springframework.data.elasticsearch.core.EntityMapper;\nimport org.springframework.http.HttpHeaders;\n\n@Configuration\npublic class RestClientConfig extends AbstractElasticsearchConfiguration {\n\n  @Value(&quot;${elasticsearch.host}&quot;)\n  private String host;\n  @Value(&quot;${elasticsearch.port}&quot;)\n  private int port;\n  @Value(&quot;${elasticsearch.username}&quot;)\n  private String username;\n  @Value(&quot;${elasticsearch.password}&quot;)\n  private String password;\n\n  Logger log = LoggerFactory.getLogger(getClass());\n\n  @Bean\n  @Override\n  public EntityMapper entityMapper() {\n    ElasticsearchEntityMapper entityMapper = new ElasticsearchEntityMapper(elasticsearchMappingContext(),\n        new DefaultConversionService());\n    entityMapper.setConversions(elasticsearchCustomConversions());\n\n    return entityMapper;\n  }\n\n  @Override\n  @Bean\n  public RestHighLevelClient elasticsearchClient() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(username, password);\n\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\n        .usingSsl().withBasicAuth(username, password).withSocketTimeout(Duration.ofMinutes(10))\n        .build();\n\n    return RestClients.create(clientConfiguration).rest();\n  }\n\n  @Bean\n  public RestClient restClient() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(username, password);\n\n    final ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(host + &quot;:&quot; + port)\n        .usingSsl().withBasicAuth(username, password).build();\n\n    return RestClients.create(clientConfiguration).lowLevelRest();\n  }\n\n  @Bean\n  @Primary\n  public ElasticsearchOperations elasticsearchTemplate() {\n    return elasticsearchOperations();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4902051,"reputation":87,"user_id":3949939,"accept_rate":25,"display_name":"rj4u"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672225968,"creation_date":1672225968,"answer_id":74939520,"question_id":62039091,"body_markdown":"For me, earlier I was using **RestClientBuilder** and later I started using **RestHighLevelClient** which helped me get rid off the timeout issue.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>For me, earlier I was using <strong>RestClientBuilder</strong> and later I started using <strong>RestHighLevelClient</strong> which helped me get rid off the timeout issue.</p>\n"}],"owner":{"account_id":18334008,"reputation":385,"user_id":13351822,"display_name":"Deep Dalsania"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11679,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":62060497,"answer_count":3,"score":0,"last_activity_date":1672226118,"creation_date":1590569574,"question_id":62039091,"body_markdown":"I am implementing an elastic pool for my spring boot project also I am using spring boot 2.1.4 and elastic search 7.3.0. I am stuck at this. When any API trying to query it gives `java.net.ConnectException: Connection refused`. I want to use configuration with `customizeHttpClient` with a setting thread count. So It makes only one connection when application will start and querying to the database using that one connection only till bean will destroy.  \r\nI tried with this **Elastic Configuration**:  \r\n```java\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.apache.http.impl.nio.reactor.IOReactorConfig;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Scope;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ElasticConfig{\r\n    \r\n    \tpublic static String host;\r\n    \r\n    \tprivate static String port;\r\n    \r\n    \tprivate static String protocol;\r\n    \r\n    \tprivate static String username;\r\n    \r\n    \tprivate static String password;\r\n    \r\n    \tprivate RestHighLevelClient client;\r\n    \r\n    \t@Value(&quot;${dselastic.host}&quot;)\r\n    \tpublic void setHost(String value) {\r\n    \t\thost = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.port}&quot;)\r\n    \tpublic void setPort(String value) {\r\n    \t\tport = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.protocol}&quot;)\r\n    \tpublic void setProtocol(String value) {\r\n    \t\tprotocol = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.username}&quot;)\r\n    \tpublic void setUsername(String value) {\r\n    \t\tusername = value;\r\n    \t}\r\n    \r\n    \t@Value(&quot;${dselastic.password}&quot;)\r\n    \tpublic void setPassword(String value) {\r\n    \t\tpassword = value;\r\n    \t}\r\n    \r\n    \t@Bean(destroyMethod = &quot;cleanUp&quot;)\r\n    \t@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON)\r\n    \tpublic void prepareConnection() {\r\n    \t\tRestClientBuilder restBuilder = RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));\r\n    \t\tif (username != null &amp; password != null) {\r\n    \t\t\tfinal CredentialsProvider creadential = new BasicCredentialsProvider();\r\n    \t\t\tcreadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\r\n    \t\t\trestBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\r\n    \r\n    \t\t\t\t\treturn httpClientBuilder.setDefaultCredentialsProvider(creadential)\r\n    \t\t\t\t\t\t\t.setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\trestBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \r\n    \t\t\trequestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\r\n    \t\t\t\t\t.setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\r\n    \t\t\t\t\t.setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\r\n    \t\t\tclient = new RestHighLevelClient(restBuilder);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void cleanUp() {\r\n    \t\ttry {\r\n    \t\t\tclient.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n```\r\nI also tried by implementing `DisposableBean` interface and its `destroy` method but I got same exception.  \r\nThis is my API where I am trying to querying a document:\r\n```java\r\n    public class IndexNameController {\r\n    \r\n    \t@Autowired\r\n    \tRestHighLevelClient client;\r\n    \r\n    \t@GetMapping(value = &quot;/listAllNames&quot;)\r\n    \tpublic ArrayList&lt;Object&gt; listAllNames(HttpSession session) {\r\n    \t\tArrayList&lt;Object&gt; results = new ArrayList&lt;&gt;();\r\n    \t\ttry {\r\n    \t\t\tSearchRequest searchRequest = new SearchRequest();\r\n    \t\t\tSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    \t\t\tsearchRequest.indices(&quot;indexname&quot;);\r\n    \t\t\tString[] fields = { &quot;name&quot;, &quot;id&quot; };\r\n    \t\t\tsearchSourceBuilder.fetchSource(fields, new String[] {});\r\n    \t\t\tsearchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(10000);\r\n    \t\t\tsearchSourceBuilder = searchSourceBuilder.sort(new FieldSortBuilder(&quot;createdTime&quot;).order(SortOrder.DESC));\r\n    \t\t\tsearchRequest.source(searchSourceBuilder);\r\n    \t\t\tSearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n    \t\t\tSearchHit[] searchHits = searchResponse.getHits().getHits();\r\n    \t\t\tfor (SearchHit searchHit : searchHits) {\r\n    \t\t\t\tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    \t\t\t\tmap.put(&quot;value&quot;, searchHit.getSourceAsMap().get(&quot;id&quot;));\r\n    \t\t\t\tmap.put(&quot;name&quot;, searchHit.getSourceAsMap().get(&quot;name&quot;));\r\n    \t\t\t\tresults.add(map);\r\n    \t\t\t}\r\n    \t\t\treturn results;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn new ArrayList&lt;&gt;();\r\n    \t}\r\n    }   \r\n```\r\nWhen it&#39;s trying to query it gives exception at `client.search()`. This is the **Stack Trace**:  \r\n```java\r\n    java.net.ConnectException: Connection refused\r\n    \tat org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:788)\r\n    \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\r\n    \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:205)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1454)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\r\n    \tat org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\r\n    \tat com.incident.response.controller.IncidentController.listAllIncidents(IncidentController.java:569)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n    \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\r\n    \tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:171)\r\n    \tat org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:145)\r\n    \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\r\n    \tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\r\n    \tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n    \t... 1 more\r\n```\r\nPlease help me to get rid from this. All help and suggestions will be appriciate.","title":"Spring Boot + Elastic Search : Connection Refused with Java RestHighLevelClient","body":"<p>I am implementing an elastic pool for my spring boot project also I am using spring boot 2.1.4 and elastic search 7.3.0. I am stuck at this. When any API trying to query it gives <code>java.net.ConnectException: Connection refused</code>. I want to use configuration with <code>customizeHttpClient</code> with a setting thread count. So It makes only one connection when application will start and querying to the database using that one connection only till bean will destroy.<br />\nI tried with this <strong>Elastic Configuration</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.io.IOException;\n    \n    import org.apache.http.HttpHost;\n    import org.apache.http.auth.AuthScope;\n    import org.apache.http.auth.UsernamePasswordCredentials;\n    import org.apache.http.client.CredentialsProvider;\n    import org.apache.http.impl.client.BasicCredentialsProvider;\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\n    import org.apache.http.impl.nio.reactor.IOReactorConfig;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestClientBuilder;\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\n    import org.elasticsearch.client.RestHighLevelClient;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.beans.factory.config.ConfigurableBeanFactory;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Scope;\n    import org.springframework.stereotype.Component;\n    \n    @Component\n    public class ElasticConfig{\n    \n        public static String host;\n    \n        private static String port;\n    \n        private static String protocol;\n    \n        private static String username;\n    \n        private static String password;\n    \n        private RestHighLevelClient client;\n    \n        @Value(&quot;${dselastic.host}&quot;)\n        public void setHost(String value) {\n            host = value;\n        }\n    \n        @Value(&quot;${dselastic.port}&quot;)\n        public void setPort(String value) {\n            port = value;\n        }\n    \n        @Value(&quot;${dselastic.protocol}&quot;)\n        public void setProtocol(String value) {\n            protocol = value;\n        }\n    \n        @Value(&quot;${dselastic.username}&quot;)\n        public void setUsername(String value) {\n            username = value;\n        }\n    \n        @Value(&quot;${dselastic.password}&quot;)\n        public void setPassword(String value) {\n            password = value;\n        }\n    \n        @Bean(destroyMethod = &quot;cleanUp&quot;)\n        @Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON)\n        public void prepareConnection() {\n            RestClientBuilder restBuilder = RestClient.builder(new HttpHost(host, Integer.valueOf(port), protocol));\n            if (username != null &amp; password != null) {\n                final CredentialsProvider creadential = new BasicCredentialsProvider();\n                creadential.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username, password));\n                restBuilder.setHttpClientConfigCallback(new HttpClientConfigCallback() {\n                    @Override\n                    public HttpAsyncClientBuilder customizeHttpClient(HttpAsyncClientBuilder httpClientBuilder) {\n    \n                        return httpClientBuilder.setDefaultCredentialsProvider(creadential)\n                                .setDefaultIOReactorConfig(IOReactorConfig.custom().setIoThreadCount(1).build());\n                    }\n                });\n                restBuilder.setRequestConfigCallback(requestConfigBuilder -&gt; \n                requestConfigBuilder.setConnectTimeout(10000) // time until a connection with the server is established.\n                        .setSocketTimeout(60000) // time of inactivity to wait for packets[data] to receive.\n                        .setConnectionRequestTimeout(0)); // time to fetch a connection from the connection pool 0 for infinite.\n                client = new RestHighLevelClient(restBuilder);\n            }\n        }\n    \n        public void cleanUp() {\n            try {\n                client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I also tried by implementing <code>DisposableBean</code> interface and its <code>destroy</code> method but I got same exception.<br />\nThis is my API where I am trying to querying a document:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class IndexNameController {\n    \n        @Autowired\n        RestHighLevelClient client;\n    \n        @GetMapping(value = &quot;/listAllNames&quot;)\n        public ArrayList&lt;Object&gt; listAllNames(HttpSession session) {\n            ArrayList&lt;Object&gt; results = new ArrayList&lt;&gt;();\n            try {\n                SearchRequest searchRequest = new SearchRequest();\n                SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n                searchRequest.indices(&quot;indexname&quot;);\n                String[] fields = { &quot;name&quot;, &quot;id&quot; };\n                searchSourceBuilder.fetchSource(fields, new String[] {});\n                searchSourceBuilder.query(QueryBuilders.matchAllQuery()).size(10000);\n                searchSourceBuilder = searchSourceBuilder.sort(new FieldSortBuilder(&quot;createdTime&quot;).order(SortOrder.DESC));\n                searchRequest.source(searchSourceBuilder);\n                SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n                SearchHit[] searchHits = searchResponse.getHits().getHits();\n                for (SearchHit searchHit : searchHits) {\n                    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n                    map.put(&quot;value&quot;, searchHit.getSourceAsMap().get(&quot;id&quot;));\n                    map.put(&quot;name&quot;, searchHit.getSourceAsMap().get(&quot;name&quot;));\n                    results.add(map);\n                }\n                return results;\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return new ArrayList&lt;&gt;();\n        }\n    }   \n</code></pre>\n<p>When it's trying to query it gives exception at <code>client.search()</code>. This is the <strong>Stack Trace</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    java.net.ConnectException: Connection refused\n        at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:788)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:218)\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:205)\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1454)\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1424)\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1394)\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:930)\n        at com.incident.response.controller.IncidentController.listAllIncidents(IncidentController.java:569)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: java.net.ConnectException: Connection refused\n        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:171)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:145)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\n        at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\n        at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n        ... 1 more\n</code></pre>\n<p>Please help me to get rid from this. All help and suggestions will be appriciate.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":1,"creation_date":1672220138,"post_id":74938195,"comment_id":132243945,"body_markdown":"You use spring-boot-starter-security in version 2.7.7 and spring-boot-starter-validation in 2.6.6 . I&#39;m really not sure if that is the source of your trouble. But I think two different spring-boot versions are not optimal.","body":"You use spring-boot-starter-security in version 2.7.7 and spring-boot-starter-validation in 2.6.6 . I&#39;m really not sure if that is the source of your trouble. But I think two different spring-boot versions are not optimal."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1672223269,"post_id":74938195,"comment_id":132244706,"body_markdown":"Unfortunately it doesn&#39;t change.","body":"Unfortunately it doesn&#39;t change."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1672226660,"post_id":74938195,"comment_id":132245531,"body_markdown":"The problem was not the boot version, but the spring-core, thanks for the tip.","body":"The problem was not the boot version, but the spring-core, thanks for the tip."},{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":1,"creation_date":1672227471,"post_id":74938195,"comment_id":132245681,"body_markdown":"Normally i dont specify any spring or spring boot version except for my spring-boot-starter as parent. Every other Version is managed by the spring team and everything works fine.","body":"Normally i dont specify any spring or spring boot version except for my spring-boot-starter as parent. Every other Version is managed by the spring team and everything works fine."}],"answers":[{"tags":[],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672226038,"creation_date":1672226038,"answer_id":74939538,"question_id":74938195,"body_markdown":"I had to align spring-core version of my POM with spring version of spring-boot dependency.\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.24&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"Error creating bean with name &#39;conversionServicePostProcessor&#39;","body":"<p>I had to align spring-core version of my POM with spring version of spring-boot dependency.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.24&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672226038,"creation_date":1672217763,"question_id":74938195,"body_markdown":"I&#39;m trying to add spring security to my spring project, but I&#39;m facing this issue:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;conversionServicePostProcessor&#39; defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.beans.factory.config.BeanFactoryPostProcessor]: Factory method &#39;conversionServicePostProcessor&#39; threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.convert.converter.Converter.andThen(Lorg/springframework/core/convert/converter/Converter;)Lorg/springframework/core/convert/converter/Converter;\r\n\r\nThis is my POM\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t....\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.16.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.38&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.2b&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.16.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI&#39;m using **annotated configuration** of Spring.\r\nI tried to create application.properties file in src folder, adding this content as suggested in some other questions:\r\n\r\n    spring.main.allow-bean-definition-overriding=true\r\n\r\nBut it did not help.","title":"Error creating bean with name &#39;conversionServicePostProcessor&#39;","body":"<p>I'm trying to add spring security to my spring project, but I'm facing this issue:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'conversionServicePostProcessor' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.beans.factory.config.BeanFactoryPostProcessor]: Factory method 'conversionServicePostProcessor' threw exception; nested exception is java.lang.NoSuchMethodError: org.springframework.core.convert.converter.Converter.andThen(Lorg/springframework/core/convert/converter/Converter;)Lorg/springframework/core/convert/converter/Converter;\n</code></pre>\n<p>This is my POM</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    ....\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-net&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n            &lt;version&gt;3.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.20.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.5.38&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.adrianwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;multiline-string&lt;/artifactId&gt;\n            &lt;version&gt;0.1.2b&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.16.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm using <strong>annotated configuration</strong> of Spring.\nI tried to create application.properties file in src folder, adding this content as suggested in some other questions:</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>But it did not help.</p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":1,"creation_date":1481051712,"post_id":3931696,"comment_id":69214916,"body_markdown":"Possible duplicate of [Validating URL in Java](http://stackoverflow.com/questions/1600291/validating-url-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1600291/validating-url-in-java\">Validating URL in Java</a>"},{"owner":{"account_id":3855620,"reputation":342,"user_id":3194646,"accept_rate":56,"display_name":"Saiful Islam"},"score":0,"creation_date":1536996700,"post_id":3931696,"comment_id":91631541,"body_markdown":"I also looking for this solution. Thanks a lot for this question.","body":"I also looking for this solution. Thanks a lot for this question."}],"answers":[{"comments":[{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":6,"creation_date":1287053069,"post_id":3931701,"comment_id":4195963,"body_markdown":"Just to be clear, it would only throw a MalformedURLException `if no protocol is specified, or an unknown protocol is found`. Unlike, Apache&#39;s UrlValidator, no additional validation is performed.","body":"Just to be clear, it would only throw a MalformedURLException <code>if no protocol is specified, or an unknown protocol is found</code>. Unlike, Apache&#39;s UrlValidator, no additional validation is performed."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":1,"creation_date":1287053599,"post_id":3931701,"comment_id":4196046,"body_markdown":"It actually performs other checks too, e.g. port numbers.","body":"It actually performs other checks too, e.g. port numbers."},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":1,"creation_date":1287054352,"post_id":3931701,"comment_id":4196152,"body_markdown":"I quoted that from the javadocs http://download.oracle.com/javase/6/docs/api/java/net/URL.html. They don&#39;t state any other checks.","body":"I quoted that from the javadocs <a href=\"http://download.oracle.com/javase/6/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/net/URL.html</a>. They don&#39;t state any other checks."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":2,"creation_date":1287054771,"post_id":3931701,"comment_id":4196217,"body_markdown":"That&#39;s what the Javadocs say, however the checks are performed (you can try it yourself, or have a look at the source code if you wish)","body":"That&#39;s what the Javadocs say, however the checks are performed (you can try it yourself, or have a look at the source code if you wish)"},{"owner":{"account_id":297740,"reputation":1945,"user_id":603397,"accept_rate":90,"display_name":"Tommie"},"score":0,"creation_date":1426625564,"post_id":3931701,"comment_id":46448439,"body_markdown":"Just keep in mind that this will throw a false positive if the url is numerical, such as 192.168.0.1 (without the http://).","body":"Just keep in mind that this will throw a false positive if the url is numerical, such as 192.168.0.1 (without the http://)."},{"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"score":1,"creation_date":1427098404,"post_id":3931701,"comment_id":46622097,"body_markdown":"@Tommie &quot;192.168.0.1&quot; (without the http://) is not a valid URL. Creating a `java.net.URL` passing this as parameter fails with `java.net.MalformedURLException: no protocol`. This is the expected behaviour and is documented as such. No false positive here.","body":"@Tommie &quot;192.168.0.1&quot; (without the http://) is not a valid URL. Creating a <code>java.net.URL</code> passing this as parameter fails with <code>java.net.MalformedURLException: no protocol</code>. This is the expected behaviour and is documented as such. No false positive here."},{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":0,"creation_date":1548564973,"post_id":3931701,"comment_id":95582970,"body_markdown":"This test fails for the URL `public static void main(String[] argv) throws MalformedURLException {\n\t\tURL url = new URL(&quot;http://ProductDetail/2Thumbz, Inc.?source=Admin&quot;);\n\t}` because it **doesn&#39;t** throw an exception, despite the comma and space and period.","body":"This test fails for the URL <code>public static void main(String[] argv) throws MalformedURLException { \t\tURL url = new URL(&quot;http:&#47;&#47;ProductDetail&#47;2Thumbz, Inc.?source=Admin&quot;); \t}</code> because it <b>doesn&#39;t</b> throw an exception, despite the comma and space and period."},{"owner":{"account_id":204423,"reputation":173,"user_id":452632,"accept_rate":50,"display_name":"Neikius"},"score":0,"creation_date":1555341847,"post_id":3931701,"comment_id":98067688,"body_markdown":"The simplest solution seems to be just using URI class for validation. Also commas/dots in this example (after the auth part) should be valid, only the space is not.","body":"The simplest solution seems to be just using URI class for validation. Also commas/dots in this example (after the auth part) should be valid, only the space is not."},{"owner":{"account_id":2162564,"reputation":996,"user_id":1916413,"accept_rate":75,"display_name":"Danilo Pianini"},"score":1,"creation_date":1562575801,"post_id":3931701,"comment_id":100403477,"body_markdown":"This is an example of using exceptions as flow control and it&#39;s generally considered bad, and for good reasons. Suggested reading: http://archive.fo/erYDY","body":"This is an example of using exceptions as flow control and it&#39;s generally considered bad, and for good reasons. Suggested reading: <a href=\"http://archive.fo/erYDY\" rel=\"nofollow noreferrer\">archive.fo/erYDY</a>"}],"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"comment_count":9,"down_vote_count":4,"up_vote_count":78,"is_accepted":true,"score":74,"last_activity_date":1672226012,"creation_date":1287047606,"answer_id":3931701,"question_id":3931696,"body_markdown":"You can try to create a [`java.net.URL`][1] object out of it. If it is not a proper URL, a [`MalformedURLException`][2] will be thrown.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html","title":"How to verify if a String in Java is a valid URL?","body":"<p>You can try to create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URL.html\" rel=\"nofollow noreferrer\"><code>java.net.URL</code></a> object out of it. If it is not a proper URL, a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/MalformedURLException.html\" rel=\"nofollow noreferrer\"><code>MalformedURLException</code></a> will be thrown.</p>\n"},{"comments":[{"owner":{"account_id":3100879,"reputation":654,"user_id":2625027,"accept_rate":0,"display_name":"Udit Kumawat"},"score":1,"creation_date":1520580317,"post_id":3931722,"comment_id":85382311,"body_markdown":"it won&#39;t allow underscores in hostname","body":"it won&#39;t allow underscores in hostname"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1621365912,"creation_date":1287047801,"answer_id":3931722,"question_id":3931696,"body_markdown":"You can use [`UrlValidator`][1] from [commons-validator][2]. It will save you from writing code where the logic flow is guided by catching an exception, which is generally considered a bad practice. In this case, however, I think it&#39;s fine to do as others suggested, if you move this functionality to an utility method called `isValidUrl(..)`\r\n\r\n\r\n  [1]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\r\n  [2]: http://commons.apache.org/validator/","title":"How to verify if a String in Java is a valid URL?","body":"<p>You can use <a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\" rel=\"noreferrer\"><code>UrlValidator</code></a> from <a href=\"http://commons.apache.org/validator/\" rel=\"noreferrer\">commons-validator</a>. It will save you from writing code where the logic flow is guided by catching an exception, which is generally considered a bad practice. In this case, however, I think it's fine to do as others suggested, if you move this functionality to an utility method called <code>isValidUrl(..)</code></p>\n"},{"tags":[],"owner":{"account_id":1104043,"reputation":753,"user_id":1095835,"display_name":"Esteban Cacavelos"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1370510521,"creation_date":1353589350,"answer_id":13513325,"question_id":3931696,"body_markdown":"Complementing Bozho answer, to go more practical:\r\n\r\n1. Download apache commons [package][1] and uncompress it. \r\n![binaries][2]\r\n2. Include commons-validator-1.4.0.jar in your java build path. \r\n3. Test it with this sample code ([reference][3]): \r\n\r\n        //...your imports\r\n    \r\n        import org.apache.commons.validator.routines.*; // Import routines package!\r\n    \r\n        public static void main(String[] args){\r\n    \r\n        // Get an UrlValidator\r\n        UrlValidator defaultValidator = new UrlValidator(); // default schemes\r\n        if (defaultValidator.isValid(&quot;http://www.apache.org&quot;)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n        if (!defaultValidator.isValid(&quot;http//www.oops.com&quot;)) {\r\n            System.out.println(&quot;INvalid&quot;);\r\n        }\r\n    \r\n        // Get an UrlValidator with custom schemes\r\n        String[] customSchemes = { &quot;sftp&quot;, &quot;scp&quot;, &quot;https&quot; };\r\n        UrlValidator customValidator = new UrlValidator(customSchemes);\r\n        if (!customValidator.isValid(&quot;http://www.apache.org&quot;)) {\r\n            System.out.println(&quot;valid&quot;);\r\n        }\r\n    \r\n        // Get an UrlValidator that allows double slashes in the path\r\n        UrlValidator doubleSlashValidator = new UrlValidator(UrlValidator.ALLOW_2_SLASHES);\r\n        if (doubleSlashValidator.isValid(&quot;http://www.apache.org//projects&quot;)) {\r\n            System.out.println(&quot;INvalid&quot;);\r\n        }\r\n\r\n4. Run/Debug\r\n\r\n\r\n  [1]: http://commons.apache.org/validator/download_validator.cgi\r\n  [2]: http://i.stack.imgur.com/RzJM3.png\r\n  [3]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/package-summary.html#other.url","title":"How to verify if a String in Java is a valid URL?","body":"<p>Complementing Bozho answer, to go more practical:</p>\n\n<ol>\n<li>Download apache commons <a href=\"http://commons.apache.org/validator/download_validator.cgi\" rel=\"noreferrer\">package</a> and uncompress it. \n<img src=\"https://i.stack.imgur.com/RzJM3.png\" alt=\"binaries\"></li>\n<li>Include commons-validator-1.4.0.jar in your java build path. </li>\n<li><p>Test it with this sample code (<a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/package-summary.html#other.url\" rel=\"noreferrer\">reference</a>): </p>\n\n<pre><code>//...your imports\n\nimport org.apache.commons.validator.routines.*; // Import routines package!\n\npublic static void main(String[] args){\n\n// Get an UrlValidator\nUrlValidator defaultValidator = new UrlValidator(); // default schemes\nif (defaultValidator.isValid(\"http://www.apache.org\")) {\n    System.out.println(\"valid\");\n}\nif (!defaultValidator.isValid(\"http//www.oops.com\")) {\n    System.out.println(\"INvalid\");\n}\n\n// Get an UrlValidator with custom schemes\nString[] customSchemes = { \"sftp\", \"scp\", \"https\" };\nUrlValidator customValidator = new UrlValidator(customSchemes);\nif (!customValidator.isValid(\"http://www.apache.org\")) {\n    System.out.println(\"valid\");\n}\n\n// Get an UrlValidator that allows double slashes in the path\nUrlValidator doubleSlashValidator = new UrlValidator(UrlValidator.ALLOW_2_SLASHES);\nif (doubleSlashValidator.isValid(\"http://www.apache.org//projects\")) {\n    System.out.println(\"INvalid\");\n}\n</code></pre></li>\n<li><p>Run/Debug</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5292912,"reputation":3395,"user_id":4224901,"accept_rate":65,"display_name":"Amr El Aswar"},"score":12,"creation_date":1448670853,"post_id":33515131,"comment_id":55690463,"body_markdown":"This doesnt actually check if its a url it only checks if there is http:// in the beginning, what you need with that is URLUtil.isValidUrl(url)","body":"This doesnt actually check if its a url it only checks if there is http:// in the beginning, what you need with that is URLUtil.isValidUrl(url)"},{"owner":{"account_id":297740,"reputation":1945,"user_id":603397,"accept_rate":90,"display_name":"Tommie"},"score":1,"creation_date":1449412200,"post_id":33515131,"comment_id":55985939,"body_markdown":"Quick heads up that it&#39;s called URLUtil ... not URLUtil*S*.","body":"Quick heads up that it&#39;s called URLUtil ... not URLUtil<i>S</i>."}],"tags":[],"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1548236604,"creation_date":1446618664,"answer_id":33515131,"question_id":3931696,"body_markdown":"If you program in **Android**, you could use `android.webkit.URLUtil` to test.\r\n\r\n    URLUtil.isHttpUrl(url)\r\n    URLUtil.isHttpsUrl(url)\r\n\r\nHope it would be helpful.","title":"How to verify if a String in Java is a valid URL?","body":"<p>If you program in <strong>Android</strong>, you could use <code>android.webkit.URLUtil</code> to test.</p>\n\n<pre><code>URLUtil.isHttpUrl(url)\nURLUtil.isHttpsUrl(url)\n</code></pre>\n\n<p>Hope it would be helpful.</p>\n"},{"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":3,"creation_date":1548565066,"post_id":40815974,"comment_id":95582978,"body_markdown":"Doesn&#39;t fail for `http://ProductDetail/2Thumbz, Inc.?source=Admin` when it should (comma, space, period).","body":"Doesn&#39;t fail for <code>http:&#47;&#47;ProductDetail&#47;2Thumbz, Inc.?source=Admin</code> when it should (comma, space, period)."}],"tags":[],"owner":{"account_id":4526333,"reputation":1103,"user_id":3678023,"accept_rate":86,"display_name":"Aaron Esau"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1480144865,"creation_date":1480144865,"answer_id":40815974,"question_id":3931696,"body_markdown":"This function validates a URL, and returns true (valid URL) or false (invalid URL).\r\n\r\n    public static boolean isURL(String url) {\r\n        try {\r\n            new URL(url);\r\n            return true;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nBe sure to `import java.net.URL;`","title":"How to verify if a String in Java is a valid URL?","body":"<p>This function validates a URL, and returns true (valid URL) or false (invalid URL).</p>\n\n<pre><code>public static boolean isURL(String url) {\n    try {\n        new URL(url);\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Be sure to <code>import java.net.URL;</code></p>\n"},{"comments":[{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1584456209,"post_id":41199880,"comment_id":107438488,"body_markdown":"This doesn&#39;t work if the scheme/prefix (e.g. &quot;http&quot;) is missing (e.g. &quot;stackoverflow.com&quot;) and it also doesn&#39;t work with the &quot;ftp&quot; scheme/prefix (e.g. &quot;ftp://127.0.0.1&quot;).","body":"This doesn&#39;t work if the scheme/prefix (e.g. &quot;http&quot;) is missing (e.g. &quot;stackoverflow.com&quot;) and it also doesn&#39;t work with the &quot;ftp&quot; scheme/prefix (e.g. &quot;<a href=\"ftp://127.0.0.1&quot;\" rel=\"nofollow noreferrer\">127.0.0.1&quot;</a>)."},{"owner":{"account_id":6022939,"reputation":1743,"user_id":4729523,"display_name":"Rafa0809"},"score":0,"creation_date":1584486239,"post_id":41199880,"comment_id":107450479,"body_markdown":"Hence the difference between URL and URI","body":"Hence the difference between URL and URI"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":1,"creation_date":1584524068,"post_id":41199880,"comment_id":107459702,"body_markdown":"I also tried the other suggestions (`new URL`/`new URI`) but `URL` doesn&#39;t like URLs without scheme (plus it feels like it only checks for the scheme, nothing else) and `URI` seems to return &quot;true&quot;, no matter what you throw at it (even &quot;---&quot;). So far I&#39;ve not found a way to do what op asked that works properly 99.9% of the time.","body":"I also tried the other suggestions (<code>new URL</code>/<code>new URI</code>) but <code>URL</code> doesn&#39;t like URLs without scheme (plus it feels like it only checks for the scheme, nothing else) and <code>URI</code> seems to return &quot;true&quot;, no matter what you throw at it (even &quot;---&quot;). So far I&#39;ve not found a way to do what op asked that works properly 99.9% of the time."}],"tags":[],"owner":{"account_id":6022939,"reputation":1743,"user_id":4729523,"display_name":"Rafa0809"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1548236567,"creation_date":1481986806,"answer_id":41199880,"question_id":3931696,"body_markdown":"For **Android** just add this line:\r\n\r\n    boolean isValid = URLUtil.isValidUrl( &quot;your.uri&quot; );","title":"How to verify if a String in Java is a valid URL?","body":"<p>For <strong>Android</strong> just add this line:</p>\n\n<pre><code>boolean isValid = URLUtil.isValidUrl( \"your.uri\" );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":1,"creation_date":1555013468,"post_id":41268655,"comment_id":97971518,"body_markdown":"Why not just `new URI(urlString)`?","body":"Why not just <code>new URI(urlString)</code>?"}],"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1659694725,"creation_date":1482341655,"answer_id":41268655,"question_id":3931696,"body_markdown":"\r\n    public static boolean isValidURL(String urlString) {\r\n    \ttry {\r\n    \t\tURL url = new URL(urlString);\r\n    \t\turl.toURI();\r\n    \t\treturn true;\r\n    \t} catch (Exception e) {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nThis checks according to [RFC2396][1], like `&lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;#&lt;fragment&gt;`, but `scheme` must be known by `URL` source code.\r\nThese are **not** valid:\r\n - `telnet://melvyl.ucop.edu`\r\n - `news:comp.infosystems.www.servers.unix`\r\n - `www.google.com`\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2396.html","title":"How to verify if a String in Java is a valid URL?","body":"<pre><code>public static boolean isValidURL(String urlString) {\n    try {\n        URL url = new URL(urlString);\n        url.toURI();\n        return true;\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>This checks according to <a href=\"https://www.rfc-editor.org/rfc/rfc2396.html\" rel=\"nofollow noreferrer\">RFC2396</a>, like <code>&lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;#&lt;fragment&gt;</code>, but <code>scheme</code> must be known by <code>URL</code> source code.\nThese are <strong>not</strong> valid:</p>\n<ul>\n<li><code>telnet://melvyl.ucop.edu</code></li>\n<li><code>news:comp.infosystems.www.servers.unix</code></li>\n<li><code>www.google.com</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7192384,"reputation":19,"user_id":5492223,"display_name":"Saurabh Tamrakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590513323,"creation_date":1590513160,"answer_id":62027720,"question_id":3931696,"body_markdown":"```\r\n^(https://|http://|ftp://|ftps://)(?!-.)[^\\\\s/\\$.?#].[^\\\\s]*$\r\n```\r\n\r\nThis is a regex to validate URL for protocols http, https, ftp and ftps.","title":"How to verify if a String in Java is a valid URL?","body":"<pre><code>^(https://|http://|ftp://|ftps://)(?!-.)[^\\\\s/\\$.?#].[^\\\\s]*$\n</code></pre>\n\n<p>This is a regex to validate URL for protocols http, https, ftp and ftps.</p>\n"}],"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97406,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":3931701,"answer_count":8,"score":65,"last_activity_date":1672226012,"creation_date":1287047550,"question_id":3931696,"body_markdown":"How to verify if a String in Java is a valid URL?","title":"How to verify if a String in Java is a valid URL?","body":"<p>How to verify if a String in Java is a valid URL?</p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672224223,"post_id":74939202,"comment_id":132244968,"body_markdown":"Possible duplicate: https://stackoverflow.com/a/39037196/9192223","body":"Possible duplicate: <a href=\"https://stackoverflow.com/a/39037196/9192223\">stackoverflow.com/a/39037196/9192223</a>"},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225014,"post_id":74939202,"comment_id":132245164,"body_markdown":"@hiren it&#39;s not a duplicate.  The json in your example is in form-data (with key) and not in body (without key).  \n\nMy API specification is such that the json is in body.  Can this actually be done?","body":"@hiren it&#39;s not a duplicate.  The json in your example is in form-data (with key) and not in body (without key).    My API specification is such that the json is in body.  Can this actually be done?"},{"owner":{"account_id":26315128,"reputation":79,"user_id":19978035,"display_name":"Sachin Mishra"},"score":1,"creation_date":1672225063,"post_id":74939202,"comment_id":132245179,"body_markdown":"You can refer [here](https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman) for your question.","body":"You can refer <a href=\"https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman\">here</a> for your question."},{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":1,"creation_date":1672225264,"post_id":74939202,"comment_id":132245229,"body_markdown":"So instead of form-data, you can select raw and add your json there.","body":"So instead of form-data, you can select raw and add your json there."},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225401,"post_id":74939202,"comment_id":132245265,"body_markdown":"yeah @hiren , agree.  But how to select raw and add my json+multipart files?  Can point me to a resource?","body":"yeah @hiren , agree.  But how to select raw and add my json+multipart files?  Can point me to a resource?"},{"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"score":0,"creation_date":1672225746,"post_id":74939202,"comment_id":132245338,"body_markdown":"@SachinMishra , like what hiren has posted, I want the json to be in the body and not some form-data with key.","body":"@SachinMishra , like what hiren has posted, I want the json to be in the body and not some form-data with key."}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672225994,"creation_date":1672225994,"answer_id":74939528,"question_id":74939202,"body_markdown":"In postman, set method type to **POST**.\r\n\r\nThen select Body -&gt; form-data -&gt; Enter your parameter name (**file** according to your code)\r\n\r\nOn the right side of the Key field, while hovering your mouse over it, there is a **dropdown menu** to select between **Text/File**. Select File, then a &quot;Select Files&quot; button will appear in the Value field.\r\n\r\nFor rest of **JSON data**, you can click on raw and enter your JSON data there.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kAysz.png","title":"Postman with &quot;body&quot; (json) and files (multipart) together in 1 restful request","body":"<p>In postman, set method type to <strong>POST</strong>.</p>\n<p>Then select Body -&gt; form-data -&gt; Enter your parameter name (<strong>file</strong> according to your code)</p>\n<p>On the right side of the Key field, while hovering your mouse over it, there is a <strong>dropdown menu</strong> to select between <strong>Text/File</strong>. Select File, then a &quot;Select Files&quot; button will appear in the Value field.</p>\n<p>For rest of <strong>JSON data</strong>, you can click on raw and enter your JSON data there.</p>\n<p><a href=\"https://i.stack.imgur.com/kAysz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kAysz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13843965,"reputation":47,"user_id":9993525,"display_name":"Tan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939528,"answer_count":1,"score":0,"last_activity_date":1672225994,"creation_date":1672224050,"question_id":74939202,"body_markdown":"How do I use Postman to send queries with body (in json format) and files (in multipart) format at the same time?\r\n\r\nI think I should use Postman-&gt;Body-&gt;Raw although I can&#39;t find an example on the Web.  Anyone can kindly teach me?  Thank you!","title":"Postman with &quot;body&quot; (json) and files (multipart) together in 1 restful request","body":"<p>How do I use Postman to send queries with body (in json format) and files (in multipart) format at the same time?</p>\n<p>I think I should use Postman-&gt;Body-&gt;Raw although I can't find an example on the Web.  Anyone can kindly teach me?  Thank you!</p>\n"},{"tags":["java","intellij-idea","java-8","java-7"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420382211,"post_id":27766582,"comment_id":43943693,"body_markdown":"Yes. Download JDK7 compile your classes with 7 ..","body":"Yes. Download JDK7 compile your classes with 7 .."}],"answers":[{"comments":[{"owner":{"account_id":2017340,"reputation":5008,"user_id":1804317,"accept_rate":79,"display_name":"Jakob Abfalter"},"score":0,"creation_date":1420383656,"post_id":27766631,"comment_id":43944112,"body_markdown":"Thanks! and even easier solution was to remove the build folder and compile the files on the server LOL","body":"Thanks! and even easier solution was to remove the build folder and compile the files on the server LOL"},{"owner":{"account_id":1552219,"reputation":2850,"user_id":1444360,"accept_rate":55,"display_name":"eureka19"},"score":1,"creation_date":1523964392,"post_id":27766631,"comment_id":86769119,"body_markdown":"Also remember to modify the JRE version in Settings-&gt;Build,Execution,Deployment-&gt;Build Tools-&gt;Maven-&gt;Runner if you are using the Maven Lifecycle install","body":"Also remember to modify the JRE version in Settings-&gt;Build,Execution,Deployment-&gt;Build Tools-&gt;Maven-&gt;Runner if you are using the Maven Lifecycle install"}],"tags":[],"owner":{"account_id":20707,"reputation":30842,"user_id":49746,"display_name":"Todd"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1420382852,"creation_date":1420382509,"answer_id":27766631,"question_id":27766582,"body_markdown":"No, you shouldn&#39;t need to download JDK 7. This is a project level setting. Here is how I do it on IntelliJ IDEA 14, but I suspect it is the same if you are on 13 or 12.\r\n\r\nGo to **Settings**-&gt;**Build,Execution,Deployment**-&gt;**Compiler**-&gt;**Java Compiler**. Under that tab you should see a Project-wide setting for **Project Bytecode Version**. Set that to 1.7 and you should be set.\r\n\r\n![enter image description here][1]\r\n\r\nYou can also set the per-module settings here if for some reason you have some modules on one version and other modules on another version (but it doesn&#39;t sound like you do in this case).\r\n\r\n  [1]: http://i.stack.imgur.com/3E20s.png","title":"UnsupportedClassVersionError due to java 7?","body":"<p>No, you shouldn't need to download JDK 7. This is a project level setting. Here is how I do it on IntelliJ IDEA 14, but I suspect it is the same if you are on 13 or 12.</p>\n\n<p>Go to <strong>Settings</strong>-><strong>Build,Execution,Deployment</strong>-><strong>Compiler</strong>-><strong>Java Compiler</strong>. Under that tab you should see a Project-wide setting for <strong>Project Bytecode Version</strong>. Set that to 1.7 and you should be set.</p>\n\n<p><img src=\"https://i.stack.imgur.com/3E20s.png\" alt=\"enter image description here\"></p>\n\n<p>You can also set the per-module settings here if for some reason you have some modules on one version and other modules on another version (but it doesn't sound like you do in this case).</p>\n"}],"owner":{"account_id":2017340,"reputation":5008,"user_id":1804317,"accept_rate":79,"display_name":"Jakob Abfalter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6000,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1672226183,"accepted_answer_id":27766631,"answer_count":1,"score":5,"last_activity_date":1672225767,"creation_date":1420382118,"question_id":27766582,"body_markdown":"Ok so I just finished an assignment for university and wanted to test my solution on their server and got this exception:\r\n\r\n      [java] Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: controller/CloudController : Unsupported major.minor version 52.0\r\n         [java]     at java.lang.ClassLoader.defineClass1(Native Method)\r\n         [java]     at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n         [java]     at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n         [java]     at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n         [java]     at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n         [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n         [java]     at java.security.AccessController.doPrivileged(Native Method)\r\n         [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n         [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n         [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n         [java]     at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n         [java] Java Result: 1\r\n\r\nI checked the server and found out they are using Java 7 while I used Java 8 already. \r\n\r\nWhat I then tried was this:\r\n\r\n![enter image description here][1]\r\n\r\nI changed the Project language level to 7, but still this hasn`t solved the problem. \r\n\r\nSo here is my question, do I really have to download the 1.7 jdk to make this work, because I want to avoid this. The program has to run on the server though, since it is used for the grading and I obviously can`t update the Java version on an university server.\r\n\r\nThanks for any answers in advance.\r\n\r\n  [1]: http://i.stack.imgur.com/OU9Ob.png","title":"UnsupportedClassVersionError due to java 7?","body":"<p>Ok so I just finished an assignment for university and wanted to test my solution on their server and got this exception:</p>\n\n<pre><code>  [java] Exception in thread \"main\" java.lang.UnsupportedClassVersionError: controller/CloudController : Unsupported major.minor version 52.0\n     [java]     at java.lang.ClassLoader.defineClass1(Native Method)\n     [java]     at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\n     [java]     at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n     [java]     at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\n     [java]     at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\n     [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n     [java]     at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n     [java]     at java.security.AccessController.doPrivileged(Native Method)\n     [java]     at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n     [java]     at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n     [java]     at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n     [java]     at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n     [java] Java Result: 1\n</code></pre>\n\n<p>I checked the server and found out they are using Java 7 while I used Java 8 already. </p>\n\n<p>What I then tried was this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/OU9Ob.png\" alt=\"enter image description here\"></p>\n\n<p>I changed the Project language level to 7, but still this hasn`t solved the problem. </p>\n\n<p>So here is my question, do I really have to download the 1.7 jdk to make this work, because I want to avoid this. The program has to run on the server though, since it is used for the grading and I obviously can`t update the Java version on an university server.</p>\n\n<p>Thanks for any answers in advance.</p>\n"},{"tags":["java","sql-server","spring-boot","jooq","dsl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672144290,"post_id":74925964,"comment_id":132228391,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":22173456,"reputation":11,"user_id":16418419,"display_name":"mb-"},"score":0,"creation_date":1672202825,"post_id":74928288,"comment_id":132240619,"body_markdown":"Yes, you are correct I&#39;m creating dynamic SQL for my entire application. Let me try lower() for each filed","body":"Yes, you are correct I&#39;m creating dynamic SQL for my entire application. Let me try lower() for each filed"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672137568,"creation_date":1672137568,"answer_id":74928288,"question_id":74925964,"body_markdown":"Look at the method signatures:\r\n\r\n- [`SelectOrderByStep.orderBy(Collection&lt;? extends OrderField&gt;)`][1]\r\n- [`DSL.lower(Field&lt;?&gt;)`][2]\r\n\r\nYou can&#39;t just combine them, they accept different types. The `ORDER BY` clause accepts a collection (or varargs array) of `OrderField` (`Field&lt;?&gt;` being a valid subtype), whereas `LOWER()` is a scalar function accepting only a single field. You can&#39;t just `LOWER()` a collection of fields. Also, you can&#39;t `LOWER()` a `SortField`, which could be something like `TABLE.COLUMN.asc()`.\r\n\r\nI don&#39;t know why your original data structure has to be `List&lt;OrderField&gt;`. Are you maintaining that list somewhere to create dynamic SQL, including dynamic `ASC` / `DESC` sort order?\r\n\r\nIn any case, you will have to apply the `LOWER()` function to each field individually, e.g.:\r\n\r\n```java\r\nList&lt;Field&lt;?&gt;&gt; sortFields = ...\r\nselect.orderBy(sortFields.stream().map(f -&gt; lower(f)).toList())\r\n```\r\n\r\nAnd if you have dynamic `ASC` / `DESC` sort directions, you&#39;ll have to apply that *after* calling `lower(f)` to each position.\r\n\r\nAs a side note, [collations are the SQL idiomatic way to implement case insensitive ordering][3], maybe better use that.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SelectOrderByStep.html#orderBy(java.util.Collection)\r\n  [2]: https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/DSL.html#lower(org.jooq.Field)\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/collations/","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Look at the method signatures:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/SelectOrderByStep.html#orderBy(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>SelectOrderByStep.orderBy(Collection&lt;? extends OrderField&gt;)</code></a></li>\n<li><a href=\"https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/impl/DSL.html#lower(org.jooq.Field)\" rel=\"nofollow noreferrer\"><code>DSL.lower(Field&lt;?&gt;)</code></a></li>\n</ul>\n<p>You can't just combine them, they accept different types. The <code>ORDER BY</code> clause accepts a collection (or varargs array) of <code>OrderField</code> (<code>Field&lt;?&gt;</code> being a valid subtype), whereas <code>LOWER()</code> is a scalar function accepting only a single field. You can't just <code>LOWER()</code> a collection of fields. Also, you can't <code>LOWER()</code> a <code>SortField</code>, which could be something like <code>TABLE.COLUMN.asc()</code>.</p>\n<p>I don't know why your original data structure has to be <code>List&lt;OrderField&gt;</code>. Are you maintaining that list somewhere to create dynamic SQL, including dynamic <code>ASC</code> / <code>DESC</code> sort order?</p>\n<p>In any case, you will have to apply the <code>LOWER()</code> function to each field individually, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Field&lt;?&gt;&gt; sortFields = ...\nselect.orderBy(sortFields.stream().map(f -&gt; lower(f)).toList())\n</code></pre>\n<p>And if you have dynamic <code>ASC</code> / <code>DESC</code> sort directions, you'll have to apply that <em>after</em> calling <code>lower(f)</code> to each position.</p>\n<p>As a side note, <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/collations/\" rel=\"nofollow noreferrer\">collations are the SQL idiomatic way to implement case insensitive ordering</a>, maybe better use that.</p>\n"},{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1672255626,"post_id":74939484,"comment_id":132253742,"body_markdown":"As I&#39;ve mentioned [in my answer](https://stackoverflow.com/a/74928288/521799) (implicitly), this might result in a `ClassCastException` if you have dynamic `ASC` / `DESC` sort directions, i.e. when you have `TABLE.COLUMN.asc()` in your list. You&#39;ll have to apply sort directions *after* calling `lower(f)`. If that can&#39;t happen, then you might as well maintain a `List&lt;Field&lt;?&gt;&gt;` instead of a `List&lt;OrderField&gt;`, in case of which your cast won&#39;t be necessary.","body":"As I&#39;ve mentioned <a href=\"https://stackoverflow.com/a/74928288/521799\">in my answer</a> (implicitly), this might result in a <code>ClassCastException</code> if you have dynamic <code>ASC</code> / <code>DESC</code> sort directions, i.e. when you have <code>TABLE.COLUMN.asc()</code> in your list. You&#39;ll have to apply sort directions <i>after</i> calling <code>lower(f)</code>. If that can&#39;t happen, then you might as well maintain a <code>List&lt;Field&lt;?&gt;&gt;</code> instead of a <code>List&lt;OrderField&gt;</code>, in case of which your cast won&#39;t be necessary."}],"tags":[],"owner":{"account_id":22173456,"reputation":11,"user_id":16418419,"display_name":"mb-"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672225685,"creation_date":1672225685,"answer_id":74939484,"question_id":74925964,"body_markdown":"Finally found the answer for this by adding\r\n**Field&lt;String&gt; orderFieldSort =  lower((Field&lt;String&gt;) orderField);**","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Finally found the answer for this by adding\n<strong>Field orderFieldSort =  lower((Field) orderField);</strong></p>\n"}],"owner":{"account_id":22173456,"reputation":11,"user_id":16418419,"display_name":"mb-"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74939484,"answer_count":2,"score":1,"last_activity_date":1672225685,"creation_date":1672119057,"question_id":74925964,"body_markdown":"Current response a-z A-Z\r\nNeeded as aA-zZ or Aa-Zz\r\n\r\n\r\nCode line : return select -&gt; select.orderBy(sortFields);\r\nNote : where *sortFields* is **List&lt;OrderField&lt;?&gt;&gt; sortFields = new ArrayList&lt;OrderField&lt;?&gt;&gt;()**\r\n\r\ntried using **DSL.lower menthod but it saying to convert sortFields as string.**\r\nCode line : return select -&gt; select.orderBy(lower(sortFields));\r\n\r\nsortFields is in the reference of List&lt;OrderField&lt;?&gt;&gt;\r\nis there any way to get sorting as case insensitive to get response as (aA-zZ or Aa-Zz)","title":"DSL query sortBy in case insensitive query formation in java, mssql DB","body":"<p>Current response a-z A-Z\nNeeded as aA-zZ or Aa-Zz</p>\n<p>Code line : return select -&gt; select.orderBy(sortFields);\nNote : where <em>sortFields</em> is <strong>List&lt;OrderField> sortFields = new ArrayList&gt;()</strong></p>\n<p>tried using <strong>DSL.lower menthod but it saying to convert sortFields as string.</strong>\nCode line : return select -&gt; select.orderBy(lower(sortFields));</p>\n<p>sortFields is in the reference of List&lt;OrderField&lt;?&gt;&gt;\nis there any way to get sorting as case insensitive to get response as (aA-zZ or Aa-Zz)</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-filters"],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672225531,"creation_date":1671692277,"question_id":74885063,"body_markdown":"I am trying to fetch the queries from my properties file. Native query is working fine, but I need to change filter conditions from properties file also.\r\n\r\nquery.properties file contains :\r\n```\r\nuserQuery=SELECT * FROM USER limit 1\r\n```\r\n\r\n \r\nand in my repository\r\n```\r\n@Value(&quot;${userQuery}&quot;)\r\nString query1;\r\n```\r\n\r\n\r\n```\r\nQuery query = getEntityManager().createNativeQuery(query1);\r\nreturn query.getResultList();\r\n```\r\n\r\nThis is working fine, but in my filter (see below) I want to take filter condition from query.properties file itself.\r\n\r\n```\r\n@FilterDefs(value = {\r\n        @FilterDef(name = &quot;getData&quot;, parameters = {\r\n                @ParamDef(name = &quot;firstName&quot;, type = &quot;java.lang.String&quot;)\r\n        })})\r\n\r\n@Filters(value = {\r\n        @Filter(name = &quot;getData&quot;, condition = &quot;first_name in(:firstName)&quot;)})\r\n```\r\n\r\nquery.properties\r\n```\r\nuserQuery=SELECT * FROM USER limit 1\r\n\r\nfilterQuery=first_name in(:firstName)\r\n```\r\n\r\n","title":"How can we set hibernate filter conditions from queries.properties file?","body":"<p>I am trying to fetch the queries from my properties file. Native query is working fine, but I need to change filter conditions from properties file also.</p>\n<p>query.properties file contains :</p>\n<pre><code>userQuery=SELECT * FROM USER limit 1\n</code></pre>\n<p>and in my repository</p>\n<pre><code>@Value(&quot;${userQuery}&quot;)\nString query1;\n</code></pre>\n<pre><code>Query query = getEntityManager().createNativeQuery(query1);\nreturn query.getResultList();\n</code></pre>\n<p>This is working fine, but in my filter (see below) I want to take filter condition from query.properties file itself.</p>\n<pre><code>@FilterDefs(value = {\n        @FilterDef(name = &quot;getData&quot;, parameters = {\n                @ParamDef(name = &quot;firstName&quot;, type = &quot;java.lang.String&quot;)\n        })})\n\n@Filters(value = {\n        @Filter(name = &quot;getData&quot;, condition = &quot;first_name in(:firstName)&quot;)})\n</code></pre>\n<p>query.properties</p>\n<pre><code>userQuery=SELECT * FROM USER limit 1\n\nfilterQuery=first_name in(:firstName)\n</code></pre>\n"},{"tags":["java","optimization","search","switch-statement"],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1672159085,"post_id":74931754,"comment_id":132232577,"body_markdown":"`const` is a reserved key word but not implemented.  Suggest you change it to `final`","body":"<code>const</code> is a reserved key word but not implemented.  Suggest you change it to <code>final</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672160099,"post_id":74931754,"comment_id":132232924,"body_markdown":"`let` is JavaScript, not Java. Same with `const`. Because in JavaScript the idea given in the Q works (`switch(true) { case var1 == 1: …; break; case var2 == 1: …; break; }`)","body":"<code>let</code> is JavaScript, not Java. Same with <code>const</code>. Because in JavaScript the idea given in the Q works (<code>switch(true) { case var1 == 1: …; break; case var2 == 1: …; break; }</code>)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683895590,"post_id":74931754,"comment_id":134440661,"body_markdown":"And `break` is not a function, so it’s wrong to place parenthesis behind it.","body":"And <code>break</code> is not a function, so it’s wrong to place parenthesis behind it."}],"tags":[],"owner":{"account_id":26380097,"reputation":322,"user_id":20033482,"display_name":"Elbashir Saror"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672158502,"creation_date":1672158502,"answer_id":74931754,"question_id":74931643,"body_markdown":"you need to create an array for your variables\r\nsuch as\r\n\r\n    const vars = {1, 2, 3, .. etc}\r\nthen you can use for loop\r\n\r\n    for(let i=0; i&lt;vars.length; i++){\r\n       if(vars[i] == 1){\r\n          // things you want to do\r\n          break();\r\n       }\r\n    }","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>you need to create an array for your variables\nsuch as</p>\n<pre><code>const vars = {1, 2, 3, .. etc}\n</code></pre>\n<p>then you can use for loop</p>\n<pre><code>for(let i=0; i&lt;vars.length; i++){\n   if(vars[i] == 1){\n      // things you want to do\n      break();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672158665,"creation_date":1672158665,"answer_id":74931789,"question_id":74931643,"body_markdown":"`switch`-statements and `switch`-expressions are useful when you need to define multiple execution paths depending on the value of a **single** variable (for more information, refer to the [*official tutorial*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html)), but in your can cause you need to operate with **multiple** variables.\r\n\r\nAs a possible solution, you can collect these variable into an array or a `List`, and then check if it contains a value of `1`.\r\n\r\n*Example:*\r\n\r\n```\r\nList&lt;Integer&gt; vars = List.of(var1, var2, var3, ... );\r\n...\r\nif (vars.contains(1)) { ... }\r\n```","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p><code>switch</code>-statements and <code>switch</code>-expressions are useful when you need to define multiple execution paths depending on the value of a <strong>single</strong> variable (for more information, refer to the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><em>official tutorial</em></a>), but in your can cause you need to operate with <strong>multiple</strong> variables.</p>\n<p>As a possible solution, you can collect these variable into an array or a <code>List</code>, and then check if it contains a value of <code>1</code>.</p>\n<p><em>Example:</em></p>\n<pre><code>List&lt;Integer&gt; vars = List.of(var1, var2, var3, ... );\n...\nif (vars.contains(1)) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22880041,"reputation":103,"user_id":17021769,"display_name":"Mahes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672160559,"creation_date":1672160559,"answer_id":74932130,"question_id":74931643,"body_markdown":"i prefer to use HashMap because the complexity is o(1), so you can get it directly by using the constant key, for ex: \r\n\r\n    private final int KEY = 1; \r\n    Map&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\r\n    // populate testMap\r\n\r\n    Integer result = testMap.get(KEY);","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>i prefer to use HashMap because the complexity is o(1), so you can get it directly by using the constant key, for ex:</p>\n<pre><code>private final int KEY = 1; \nMap&lt;Integer, Integer&gt; testMap = new HashMap&lt;&gt;();\n// populate testMap\n\nInteger result = testMap.get(KEY);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683895695,"post_id":74932193,"comment_id":134440684,"body_markdown":"This is neither Java code nor even trying to solve the OP’s problem.","body":"This is neither Java code nor even trying to solve the OP’s problem."}],"tags":[],"owner":{"account_id":27364593,"reputation":1,"user_id":20871661,"display_name":"sijo saji"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672199525,"creation_date":1672160875,"answer_id":74932193,"question_id":74931643,"body_markdown":"```python\r\ndef search(value):\r\n    var1 = &#39;apple&#39;\r\n\r\n\r\nvar2 = &#39;banana&#39;\r\nvar3 = &#39;cherry&#39;\r\n\r\nif found:\r\n    print(f&#39;{value} was found!&#39;)\r\nelse:\r\n    print(f&#39;{value} was not found.&#39;)\r\n\r\nsearch(&#39;apple&#39;)\r\nsearch(&#39;orange&#39;)\r\n```","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<pre class=\"lang-py prettyprint-override\"><code>def search(value):\n    var1 = 'apple'\n\n\nvar2 = 'banana'\nvar3 = 'cherry'\n\nif found:\n    print(f'{value} was found!')\nelse:\n    print(f'{value} was not found.')\n\nsearch('apple')\nsearch('orange')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24859603,"reputation":1,"user_id":18735542,"display_name":"thegermanguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224935,"creation_date":1672163101,"answer_id":74932538,"question_id":74931643,"body_markdown":"You can use the functional programming approach in Java to iterate over a given set of items.\r\nfor example:\r\n\r\n```java\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.add(1);\r\nset.add(2);\r\nset.add(3);\r\n\r\n// Adding items to this set for demonstration purposes.\r\n// In your case the given Set is already populated\r\nSet&lt;Integer&gt; filteredSet = set.stream().filter(item -&gt; item == 1).collect(Collectors.toSet());\r\nfilteredSet.forEach(item -&gt; {\r\n    System.out.println(&quot;Item: &quot; + item);\r\n});\r\n```\r\n\r\nExplanation:\r\nset.stream() opens a Stream for the given Items in this set. &lt;br&gt;\r\nstream().filter(x -&gt; x == 1) filteres all items, which are not applying to the given filter-function &quot;x -&gt; x == 1&quot;.&lt;br&gt;\r\nThis filter-function essentially defines an &quot;item&quot; which then can be compared to the value of 1 through the &quot;equals&quot;-Operator.\r\nThe method &quot;collect(Collectors.toSet())&quot; takes all the filtered items (in this case its only the Integer of the value 1) and assigns those values to the new Set &quot;filteredSet&quot;. \r\nAfter that the given filteredSet is being iterated over via the functional Method &quot;forEach()&quot; which then prints all values of the given Set. (in this case only 1 value of &quot;1&quot;)","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>You can use the functional programming approach in Java to iterate over a given set of items.\nfor example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.add(1);\nset.add(2);\nset.add(3);\n\n// Adding items to this set for demonstration purposes.\n// In your case the given Set is already populated\nSet&lt;Integer&gt; filteredSet = set.stream().filter(item -&gt; item == 1).collect(Collectors.toSet());\nfilteredSet.forEach(item -&gt; {\n    System.out.println(&quot;Item: &quot; + item);\n});\n</code></pre>\n<p>Explanation:\nset.stream() opens a Stream for the given Items in this set. <br>\nstream().filter(x -&gt; x == 1) filteres all items, which are not applying to the given filter-function &quot;x -&gt; x == 1&quot;.<br>\nThis filter-function essentially defines an &quot;item&quot; which then can be compared to the value of 1 through the &quot;equals&quot;-Operator.\nThe method &quot;collect(Collectors.toSet())&quot; takes all the filtered items (in this case its only the Integer of the value 1) and assigns those values to the new Set &quot;filteredSet&quot;.\nAfter that the given filteredSet is being iterated over via the functional Method &quot;forEach()&quot; which then prints all values of the given Set. (in this case only 1 value of &quot;1&quot;)</p>\n"}],"owner":{"account_id":27366148,"reputation":23,"user_id":20872968,"display_name":"Pickle_boi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74931754,"answer_count":5,"score":2,"last_activity_date":1672224935,"creation_date":1672157744,"question_id":74931643,"body_markdown":"I am a novice in java, and I am trying to make a search-algorithm for this situation.\r\n\r\nI&#39;m attempting to search through a set of 12 integers to find a value equal to 1, similar to this long if-else chain.\r\n\r\n```\r\nif (var1 == 1){\r\n    break;\r\n} else if (var2 == 1){\r\n    break;\r\n} else if (var3 == 1){\r\n    break;\r\n} else if (var4 == 1){\r\n    break;\r\n} else if (var5 == 1){\r\n    break;\r\n} else if (var6 == 1){\r\n    break;\r\n} else if (var7 == 1){\r\n    break;\r\n} else if (var8 == 1){\r\n    break;\r\n} else if (var9 == 1){\r\n    break;\r\n} else if (var10 == 1){\r\n    break;\r\n} else if (var11 == 1){\r\n    break;\r\n} else if (var12 == 1){\r\n    break;\r\n}\r\n```\r\n\r\nHowever, in an attempt to clean up the code and learn new technique, I am attempting to employ a switch statement to search these variables instead.\r\n\r\n\r\n\r\nThe problem I am encountering is that, in order to compare my variables to the constant (1), I feel like I need to use a boolean as the case condition:\r\n\r\n\r\n```\r\nswitch (){\r\n   case var1 == 1: break;\r\n}\r\n```\r\n\r\nHowever, this throws two errors: there is no expression for the switch statement, and the case condition is a boolean (it expects an int).\r\n\r\nThe other problem that I&#39;ve seen is that the case condition must be a constant, meaning I can&#39;t have it as a variable:\r\n\r\n\r\n```\r\nswitch (1){\r\n   case var1: break;\r\n}\r\n```\r\n\r\nI think this would trigger if this syntax was correct, but I can&#39;t figure out any other ways to do it without using arrays, which I don&#39;t really understand.","title":"Is there a way to search for a value from an assortment of variables using a switch statement?","body":"<p>I am a novice in java, and I am trying to make a search-algorithm for this situation.</p>\n<p>I'm attempting to search through a set of 12 integers to find a value equal to 1, similar to this long if-else chain.</p>\n<pre><code>if (var1 == 1){\n    break;\n} else if (var2 == 1){\n    break;\n} else if (var3 == 1){\n    break;\n} else if (var4 == 1){\n    break;\n} else if (var5 == 1){\n    break;\n} else if (var6 == 1){\n    break;\n} else if (var7 == 1){\n    break;\n} else if (var8 == 1){\n    break;\n} else if (var9 == 1){\n    break;\n} else if (var10 == 1){\n    break;\n} else if (var11 == 1){\n    break;\n} else if (var12 == 1){\n    break;\n}\n</code></pre>\n<p>However, in an attempt to clean up the code and learn new technique, I am attempting to employ a switch statement to search these variables instead.</p>\n<p>The problem I am encountering is that, in order to compare my variables to the constant (1), I feel like I need to use a boolean as the case condition:</p>\n<pre><code>switch (){\n   case var1 == 1: break;\n}\n</code></pre>\n<p>However, this throws two errors: there is no expression for the switch statement, and the case condition is a boolean (it expects an int).</p>\n<p>The other problem that I've seen is that the case condition must be a constant, meaning I can't have it as a variable:</p>\n<pre><code>switch (1){\n   case var1: break;\n}\n</code></pre>\n<p>I think this would trigger if this syntax was correct, but I can't figure out any other ways to do it without using arrays, which I don't really understand.</p>\n"},{"tags":["javascript","java","gwt"],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1692411139,"post_id":74926870,"comment_id":135623482,"body_markdown":"is this chatgpt too?","body":"is this chatgpt too?"}],"tags":[],"owner":{"account_id":19737605,"reputation":7,"user_id":14451714,"display_name":"Nawaz Pasha"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672127708,"creation_date":1672127708,"answer_id":74926870,"question_id":74919682,"body_markdown":"```\r\nfunction makeAsyncRequest() {\r\n  var xhr = new XMLHttpRequest();\r\n  xhr.onreadystatechange = function() {\r\n    if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\r\n      // Request was successful. Do something with the response.\r\n      console.log(xhr.responseText);\r\n    }\r\n  };\r\n  xhr.open(&quot;GET&quot;, &quot;http://example.com/api/endpoint&quot;, true);\r\n  xhr.send();\r\n}\r\n```","title":"make async call using native JS in GWT app","body":"<pre><code>function makeAsyncRequest() {\n  var xhr = new XMLHttpRequest();\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n      // Request was successful. Do something with the response.\n      console.log(xhr.responseText);\n    }\n  };\n  xhr.open(&quot;GET&quot;, &quot;http://example.com/api/endpoint&quot;, true);\n  xhr.send();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672224919,"creation_date":1672224919,"answer_id":74939355,"question_id":74919682,"body_markdown":"I got my mistake, I used response.json() twice in my code, once to log and once to return. I realised I can only use it once in my code. Removing the log  fixed my code.\r\n\r\n    function fetchToken() {\r\n      return fetch(URL, { method: &quot;POST&quot; })\r\n        .then(function(response) {\r\n          return response.json();\r\n        })\r\n        .then(function(data) {\r\n          return data.secret;\r\n        });\r\n      } ","title":"make async call using native JS in GWT app","body":"<p>I got my mistake, I used response.json() twice in my code, once to log and once to return. I realised I can only use it once in my code. Removing the log  fixed my code.</p>\n<pre><code>function fetchToken() {\n  return fetch(URL, { method: &quot;POST&quot; })\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(data) {\n      return data.secret;\n    });\n  } \n</code></pre>\n"}],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939355,"answer_count":2,"score":0,"last_activity_date":1672224919,"creation_date":1672052752,"question_id":74919682,"body_markdown":"I have a GWT app in which I have to include an JS function. So I am using the native interface to use the JS function in my JAVA code.\r\n\r\nThis is my JS function\r\n\r\n```js\r\nfunction fetchToken() {\r\n  return fetch(URL, { method: &quot;POST&quot; })\r\n    .then(function(response) {\r\n      console.log(response.json());\r\n      return response.json();\r\n    })\r\n    .then(function(data) {\r\n      return data.secret;\r\n    });\r\n  }  \r\n```\r\n\r\nBut the problem with this is when I receive the Promise response via response.json(), it is still in pending state, so it never goes to line 6. I tried using async but it seems like GWT does not support using async/await.\r\n\r\nIs there a way I can use async in GWT or any other way to use JS in GWT other than native interface in which I do not face this issue?","title":"make async call using native JS in GWT app","body":"<p>I have a GWT app in which I have to include an JS function. So I am using the native interface to use the JS function in my JAVA code.</p>\n<p>This is my JS function</p>\n<pre class=\"lang-js prettyprint-override\"><code>function fetchToken() {\n  return fetch(URL, { method: &quot;POST&quot; })\n    .then(function(response) {\n      console.log(response.json());\n      return response.json();\n    })\n    .then(function(data) {\n      return data.secret;\n    });\n  }  \n</code></pre>\n<p>But the problem with this is when I receive the Promise response via response.json(), it is still in pending state, so it never goes to line 6. I tried using async but it seems like GWT does not support using async/await.</p>\n<p>Is there a way I can use async in GWT or any other way to use JS in GWT other than native interface in which I do not face this issue?</p>\n"},{"tags":["java","spring","logging","quarkus","p6spy"],"answers":[{"comments":[{"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"score":0,"creation_date":1672279764,"post_id":74939211,"comment_id":132258209,"body_markdown":"I tried use &quot;excludecategories=info,debug,result,batch&quot;, but it doesnot show result. It only show sql.","body":"I tried use &quot;excludecategories=info,debug,result,batch&quot;, but it doesnot show result. It only show sql."}],"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672224082,"creation_date":1672224082,"answer_id":74939211,"question_id":74938286,"body_markdown":"By default p6spy does not log results - please read about [excludecategories parameter](https://p6spy.readthedocs.io/en/latest/configandusage.html#excludecategories) and [default values](https://github.com/p6spy/p6spy/blob/master/src/main/assembly/individualFiles/spy.properties):\r\n\r\n```\r\n#list of categories to exclude: error, info, batch, debug, statement,\r\n#commit, rollback, result and resultset are valid values\r\n# (default is info,debug,result,resultset,batch)\r\n#excludecategories=info,debug,result,resultset,batch\r\n```\r\n\r\nin your case I believe that should be something like:\r\n\r\n```\r\nexcludecategories=info,debug,result,batch\r\n```\r\n\r\nFYI. The only author of `p6spy` has [abandoned project](https://github.com/p6spy/p6spy/issues/541) - I do not see any reason to use `p6spy` in new projects, moreover [quarkus recommends to use opentracing](https://quarkus.io/guides/opentracing)","title":"Config P6Spy on Quarkus log result sql","body":"<p>By default p6spy does not log results - please read about <a href=\"https://p6spy.readthedocs.io/en/latest/configandusage.html#excludecategories\" rel=\"nofollow noreferrer\">excludecategories parameter</a> and <a href=\"https://github.com/p6spy/p6spy/blob/master/src/main/assembly/individualFiles/spy.properties\" rel=\"nofollow noreferrer\">default values</a>:</p>\n<pre><code>#list of categories to exclude: error, info, batch, debug, statement,\n#commit, rollback, result and resultset are valid values\n# (default is info,debug,result,resultset,batch)\n#excludecategories=info,debug,result,resultset,batch\n</code></pre>\n<p>in your case I believe that should be something like:</p>\n<pre><code>excludecategories=info,debug,result,batch\n</code></pre>\n<p>FYI. The only author of <code>p6spy</code> has <a href=\"https://github.com/p6spy/p6spy/issues/541\" rel=\"nofollow noreferrer\">abandoned project</a> - I do not see any reason to use <code>p6spy</code> in new projects, moreover <a href=\"https://quarkus.io/guides/opentracing\" rel=\"nofollow noreferrer\">quarkus recommends to use opentracing</a></p>\n"}],"owner":{"account_id":25972559,"reputation":1,"user_id":19687482,"display_name":"Thor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672224082,"creation_date":1672218388,"question_id":74938286,"body_markdown":"   - I try config P6spy in my quarkus project successfully. But now I want\r\n   it log result sql. How to P6spy log result sql? this is my code:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;p6spy&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;p6spy&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n- application.properties\r\n\r\n    quarkus.datasource.jdbc.driver=com.p6spy.engine.spy.P6SpyDriver\r\n- spy.properties\r\n\r\n    module.log=com.p6spy.engine.logging.P6LogFactory\r\n    realdriver=org.postgresql.Driver\r\n    deregisterdrivers=false\r\n    outagedetection=false\r\n    filter=false\r\n    autoflush=true\r\n    #excludecategories=info,debug,batch,statement,commit,rollback,outage\r\n    logfile=quarkus.log\r\n    reloadproperties=false\r\n    reloadpropertiesinterval=60\r\n    useprefix=false\r\n    appender=com.p6spy.engine.logging.appender.FileLogger\r\n    append=true\r\n    log4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.STDOUT.layout.ConversionPattern=p6spy - %m%n\r\n    log4j.logger.p6spy=INFO,STDOUT\r\n    dateformat=yyyy-MM-dd hh:mm:ss a\r\n- this is quarkus.log :\r\n\r\n    2022-12-28 03:37:06 PM|45|0|statement|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=&#39;hoatest14@gmail.com&#39; limit 1\r\n    2022-12-28 03:37:06 PM|0|0|result|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=&#39;hoatest14@gmail.com&#39; limit 1\r\n    2022-12-28 03:37:06 PM|52|0|commit||\r\n\r\nExpect: it show result log\r\n\r\n    {\r\n        &quot;createTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\r\n        &quot;createTimeUnix&quot;: 1664292462705,\r\n        &quot;id&quot;: 3787,\r\n        &quot;updateTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\r\n        &quot;updateTimeUnix&quot;: 1664292462705,\r\n        &quot;company&quot;: &quot;IMIP&quot;,\r\n        &quot;country&quot;: &quot;VietNam&quot;,\r\n        &quot;currency&quot;: &quot;KRW&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;email&quot;: &quot;hoatest14@gmail.com&quot;,\r\n        &quot;name&quot;: &quot;Tong Thi Hoa 14&quot;,\r\n        &quot;status&quot;: &quot;Active&quot;\r\n    }","title":"Config P6Spy on Quarkus log result sql","body":"<ul>\n<li>I try config P6spy in my quarkus project successfully. But now I want\nit log result sql. How to P6spy log result sql? this is my code:</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;p6spy&lt;/groupId&gt;\n    &lt;artifactId&gt;p6spy&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li><p>application.properties</p>\n<p>quarkus.datasource.jdbc.driver=com.p6spy.engine.spy.P6SpyDriver</p>\n</li>\n<li><p>spy.properties</p>\n<p>module.log=com.p6spy.engine.logging.P6LogFactory\nrealdriver=org.postgresql.Driver\nderegisterdrivers=false\noutagedetection=false\nfilter=false\nautoflush=true\n#excludecategories=info,debug,batch,statement,commit,rollback,outage\nlogfile=quarkus.log\nreloadproperties=false\nreloadpropertiesinterval=60\nuseprefix=false\nappender=com.p6spy.engine.logging.appender.FileLogger\nappend=true\nlog4j.appender.STDOUT=org.apache.log4j.ConsoleAppender\nlog4j.appender.STDOUT.layout=org.apache.log4j.PatternLayout\nlog4j.appender.STDOUT.layout.ConversionPattern=p6spy - %m%n\nlog4j.logger.p6spy=INFO,STDOUT\ndateformat=yyyy-MM-dd hh:mm:ss a</p>\n</li>\n<li><p>this is quarkus.log :</p>\n<p>2022-12-28 03:37:06 PM|45|0|statement|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email='hoatest14@gmail.com' limit 1\n2022-12-28 03:37:06 PM|0|0|result|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email=? limit ?|select customer0_.id as id1_5_, customer0_.CREATE_TIME as create_t2_5_, customer0_.CREATE_TIME_UNIX as create_t3_5_, customer0_.UPDATE_TIME as update_t4_5_, customer0_.UPDATE_TIME_UNIX as update_t5_5_, customer0_.business_registration_number as business6_5_, customer0_.company as company7_5_, customer0_.country as country8_5_, customer0_.currency as currency9_5_, customer0_.description as descrip10_5_, customer0_.email as email11_5_, customer0_.mobile as mobile12_5_, customer0_.name as name13_5_, customer0_.status as status14_5_, customer0_.telephone as telepho15_5_ from customer customer0_ where customer0_.email='hoatest14@gmail.com' limit 1\n2022-12-28 03:37:06 PM|52|0|commit||</p>\n</li>\n</ul>\n<p>Expect: it show result log</p>\n<pre><code>{\n    &quot;createTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\n    &quot;createTimeUnix&quot;: 1664292462705,\n    &quot;id&quot;: 3787,\n    &quot;updateTime&quot;: &quot;2022-09-27 08:27:42:705&quot;,\n    &quot;updateTimeUnix&quot;: 1664292462705,\n    &quot;company&quot;: &quot;IMIP&quot;,\n    &quot;country&quot;: &quot;VietNam&quot;,\n    &quot;currency&quot;: &quot;KRW&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;email&quot;: &quot;hoatest14@gmail.com&quot;,\n    &quot;name&quot;: &quot;Tong Thi Hoa 14&quot;,\n    &quot;status&quot;: &quot;Active&quot;\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","binary-search-tree","user-input"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1672267214,"post_id":74938685,"comment_id":132256469,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask].","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672223683,"creation_date":1672223683,"answer_id":74939147,"question_id":74938685,"body_markdown":"If your `insert` method in `BinarySearchTree` is modified so that it can take a number as input and generate a Node from it, then your code would work. Try like this: \r\n\r\n    public class Temp {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tBinarySearchTree tree = new BinarySearchTree();\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter 1st number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t\tSystem.out.println(&quot;Enter 2nd number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t\tSystem.out.println(&quot;Enter 3rd number you want to insert&quot;);\r\n    \t\ttree.insert(sc.nextInt());\r\n    \t}\r\n    }\r\n    \r\n    class Node {\r\n    \tNode left;\r\n    \tint val;\r\n    \tNode right;\r\n    \tNode(int val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    }\r\n    \r\n    class BinarySearchTree {\r\n    \tNode root;\r\n    \tpublic void insert(int key) {\r\n    \t\tNode node = new Node(key);\r\n    \t\tif (root == null) {\r\n    \t\t\troot = node;\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tNode prev = null;\r\n    \t\tNode temp = root;\r\n    \t\twhile (temp != null) {\r\n    \t\t\tif (temp.val &gt; key) {\r\n    \t\t\t\tprev = temp;\r\n    \t\t\t\ttemp = temp.left;\r\n    \t\t\t} else if (temp.val &lt; key) {\r\n    \t\t\t\tprev = temp;\r\n    \t\t\t\ttemp = temp.right;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (prev.val &gt; key)\r\n    \t\t\tprev.left = node;\r\n    \t\telse\r\n    \t\t\tprev.right = node;\r\n    \t}\r\n    }","title":"Is there a way to add a value from a non-primitive data type using a user-input?","body":"<p>If your <code>insert</code> method in <code>BinarySearchTree</code> is modified so that it can take a number as input and generate a Node from it, then your code would work. Try like this:</p>\n<pre><code>public class Temp {\n    public static void main(String[] args) {\n        BinarySearchTree tree = new BinarySearchTree();\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter 1st number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n        System.out.println(&quot;Enter 2nd number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n        System.out.println(&quot;Enter 3rd number you want to insert&quot;);\n        tree.insert(sc.nextInt());\n    }\n}\n\nclass Node {\n    Node left;\n    int val;\n    Node right;\n    Node(int val) {\n        this.val = val;\n    }\n}\n\nclass BinarySearchTree {\n    Node root;\n    public void insert(int key) {\n        Node node = new Node(key);\n        if (root == null) {\n            root = node;\n            return;\n        }\n        Node prev = null;\n        Node temp = root;\n        while (temp != null) {\n            if (temp.val &gt; key) {\n                prev = temp;\n                temp = temp.left;\n            } else if (temp.val &lt; key) {\n                prev = temp;\n                temp = temp.right;\n            }\n        }\n        if (prev.val &gt; key)\n            prev.left = node;\n        else\n            prev.right = node;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20932030,"reputation":1,"user_id":15378209,"display_name":"OuiOuii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672223683,"creation_date":1672220919,"question_id":74938685,"body_markdown":"so I was just working on my project about Binary Search Tree, I tried to get the code about BST from a youtube tutorial and decided to try it with a java Scanner for user-input. So my question is, Is there a way to add  a value from a non-primitive data type using a user-input?\r\n\r\n[Main Class](https://i.stack.imgur.com/kShQr.png)\r\n\r\n[BST class](https://i.stack.imgur.com/jsuZQ.png)\r\n\r\n\r\n\r\nI tried adding a nextInt() method inside the insert() method from the youtube tutorial so that the user can input the numbers that they like. But the ide said that the int cannot be converted into Node(which I think is a non-primitive data type).","title":"Is there a way to add a value from a non-primitive data type using a user-input?","body":"<p>so I was just working on my project about Binary Search Tree, I tried to get the code about BST from a youtube tutorial and decided to try it with a java Scanner for user-input. So my question is, Is there a way to add  a value from a non-primitive data type using a user-input?</p>\n<p><a href=\"https://i.stack.imgur.com/kShQr.png\" rel=\"nofollow noreferrer\">Main Class</a></p>\n<p><a href=\"https://i.stack.imgur.com/jsuZQ.png\" rel=\"nofollow noreferrer\">BST class</a></p>\n<p>I tried adding a nextInt() method inside the insert() method from the youtube tutorial so that the user can input the numbers that they like. But the ide said that the int cannot be converted into Node(which I think is a non-primitive data type).</p>\n"},{"tags":["java","json","jackson","apache-camel"],"comments":[{"owner":{"account_id":10655561,"reputation":482,"user_id":10867487,"display_name":"Echoinacup"},"score":0,"creation_date":1547738485,"post_id":54238970,"comment_id":95302638,"body_markdown":"Possible duplicate of [camel how to process json with streaming mode?](https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode\">camel how to process json with streaming mode?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5338502,"reputation":409,"user_id":4256563,"accept_rate":14,"display_name":"A5300"},"score":0,"creation_date":1547846119,"post_id":54248063,"comment_id":95347194,"body_markdown":"while working with CSV I found out that processing in batches e.g. 100 objects at time is faster than processing one by one, but I don&#39;t see how I can do that with json path. I have just one big array with up to 10k small objects.","body":"while working with CSV I found out that processing in batches e.g. 100 objects at time is faster than processing one by one, but I don&#39;t see how I can do that with json path. I have just one big array with up to 10k small objects."}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547788347,"creation_date":1547788347,"answer_id":54248063,"question_id":54238970,"body_markdown":"You can use jsonpath to split JSon messages (and enable streaming for bigger messages in the Splitter EIP)\r\n\r\nhttps://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc","title":"How to process big JSON array with Apache Camel","body":"<p>You can use jsonpath to split JSon messages (and enable streaming for bigger messages in the Splitter EIP)</p>\n\n<p><a href=\"https://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/master/components/camel-jsonpath/src/main/docs/jsonpath-language.adoc</a></p>\n"},{"tags":[],"owner":{"account_id":5338502,"reputation":409,"user_id":4256563,"accept_rate":14,"display_name":"A5300"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549355718,"creation_date":1549355718,"answer_id":54530415,"question_id":54238970,"body_markdown":"I ended up with the following solution:\r\n\r\n    .split(body().tokenize(&quot;\\n&quot;, 1_000, false))\r\n    .streaming()\r\n    .process(exchange -&gt; {\r\n        String[] body = exchange.getIn().getBody(String.class).split(&quot;\\n&quot;);\r\n        var records = new ArrayList&lt;FooBar&gt;(body.length);\r\n        for(String line: body) {\r\n             records.add(objectMapper.readValue(line, FooBar.class));\r\n        }\r\n        exchange.getIn().setBody(records);\r\n    })\r\n`objectMapper` is `com.fasterxml.jackson.databind.ObjectMapper`\r\n\r\nFor example, a 3.5 GB file was processed in ~1.2 min.","title":"How to process big JSON array with Apache Camel","body":"<p>I ended up with the following solution:</p>\n\n<pre><code>.split(body().tokenize(\"\\n\", 1_000, false))\n.streaming()\n.process(exchange -&gt; {\n    String[] body = exchange.getIn().getBody(String.class).split(\"\\n\");\n    var records = new ArrayList&lt;FooBar&gt;(body.length);\n    for(String line: body) {\n         records.add(objectMapper.readValue(line, FooBar.class));\n    }\n    exchange.getIn().setBody(records);\n})\n</code></pre>\n\n<p><code>objectMapper</code> is <code>com.fasterxml.jackson.databind.ObjectMapper</code></p>\n\n<p>For example, a 3.5 GB file was processed in ~1.2 min.</p>\n"}],"owner":{"account_id":5338502,"reputation":409,"user_id":4256563,"accept_rate":14,"display_name":"A5300"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672223279,"creation_date":1547738286,"question_id":54238970,"body_markdown":"I want to achieve something similar to CSV streaming processing:\r\n```\r\n//read input file\r\n.split(body().tokenize(&quot;\\n&quot;, 100, false)).streaming()\r\n            .unmarshal(new BindyCsvDataFormat( ...\r\n```\r\nI can control the content of input file, for example, I can have each JSON object on new line without JSON start array and comma after each object:\r\n```\r\n{&quot;id&quot;: &quot;foo1&quot;}\r\n{&quot;id&quot;: &quot;foo2&quot;}\r\n...\r\n```\r\nAnd then follow the same flow as in CSV (split and stream), but I can&#39;t unmarshal using `ListJacksonDataFormat` or `.json(JsonLibrary.Jackson)`\r\n\r\nHow to do this? \r\nOr is there another way of reading big JSON array? \r\n\r\n**Note:**\r\nThis processing has to be fast, so I can&#39;t afford unmarshal to csv then marshal JSON as explained [here][1] (which seems a gross workaround).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode","title":"How to process big JSON array with Apache Camel","body":"<p>I want to achieve something similar to CSV streaming processing:</p>\n\n<pre><code>//read input file\n.split(body().tokenize(\"\\n\", 100, false)).streaming()\n            .unmarshal(new BindyCsvDataFormat( ...\n</code></pre>\n\n<p>I can control the content of input file, for example, I can have each JSON object on new line without JSON start array and comma after each object:</p>\n\n<pre><code>{\"id\": \"foo1\"}\n{\"id\": \"foo2\"}\n...\n</code></pre>\n\n<p>And then follow the same flow as in CSV (split and stream), but I can't unmarshal using <code>ListJacksonDataFormat</code> or <code>.json(JsonLibrary.Jackson)</code></p>\n\n<p>How to do this? \nOr is there another way of reading big JSON array? </p>\n\n<p><strong>Note:</strong>\nThis processing has to be fast, so I can't afford unmarshal to csv then marshal JSON as explained <a href=\"https://stackoverflow.com/questions/44618227/camel-how-to-process-json-with-streaming-mode\">here</a> (which seems a gross workaround).</p>\n"},{"tags":["java","spring-boot","azure","logback"],"answers":[{"tags":[],"owner":{"account_id":26453603,"reputation":864,"user_id":20096460,"display_name":"Sourav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672223022,"creation_date":1672223022,"answer_id":74939033,"question_id":74847078,"body_markdown":"&gt; I&#39;ve even set my log levels to TRACE but couldn&#39;t find any useful information in there.\r\n\r\n \r\n\r\nI have tried using **TRACE** logs in my **Application.Properties**\r\n\r\n \r\n\r\n![enter image description here](https://i.stack.imgur.com/B4Xlz.png)\r\n\r\n \r\n\r\nThen, I created a **Logback.xml** File. see below!\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n&lt;configuration&gt;  \r\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;  \r\n&lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;  \r\n\r\n&lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;  \r\n&lt;file&gt;${LOG_FILE}&lt;/file&gt;  \r\n\r\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;  \r\n&lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;  \r\n&lt;!-- each archived file, size max 5KB --&gt;  \r\n&lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;  \r\n&lt;!-- total size of all archive files, if total size &gt; 20KB,  \r\nit will delete old archived file --&gt;  &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;  \r\n&lt;!-- 60 days to keep --&gt;  \r\n&lt;maxHistory&gt;60&lt;/maxHistory&gt;  \r\n&lt;/rollingPolicy&gt;  \r\n&lt;encoder&gt; &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;  \r\n&lt;/encoder&gt; &lt;/appender&gt;  \r\n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;  \r\n&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;  \r\n&lt;Pattern&gt;  %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n  \r\n&lt;/Pattern&gt;  \r\n&lt;/layout&gt; &lt;/appender&gt;  \r\n\r\n&lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;  \r\n&lt;smtpHost&gt;smtp.gmail.com&lt;/smtpHost&gt;  \r\n&lt;smtpPort&gt;587&lt;/smtpPort&gt;  \r\n&lt;STARTTLS&gt;true&lt;/STARTTLS&gt;  \r\n&lt;username&gt;emailid&lt;/username&gt;  \r\n&lt;password&gt;password&lt;/password&gt;  \r\n&lt;to&gt;emailid&lt;/to&gt;  \r\n&lt;from&gt;emailid&lt;/from&gt;  \r\n&lt;subject&gt;TESTING: %logger{20} - %m&lt;/subject&gt;  \r\n\r\n&lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;  \r\n&lt;/appender&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;EMAIL&quot;/&gt;  \r\n&lt;/logger&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \r\n&lt;/logger&gt;  \r\n&lt;root level=&quot;error&quot;&gt;  \r\n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \r\n&lt;/root&gt;  \r\n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;  \r\n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \r\n&lt;/logger&gt; &lt;root level=&quot;error&quot;&gt;  \r\n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \r\n&lt;/root&gt;  \r\n&lt;/configuration&gt;\r\n```\r\nI Started running My application in local, its working fine and started creating logs and then, Deployed in Azure Spring App\r\n![enter image description here](https://i.stack.imgur.com/cgyVj.png)\r\n![enter image description here](https://i.stack.imgur.com/rmUNE.png)\r\n\r\n\r\nApp is Running fine in Azure also.\r\n![enter image description here](https://i.stack.imgur.com/6BMxl.png)\r\n\r\n \r\n\r\n![enter image description here](https://i.stack.imgur.com/kUdqP.png)\r\n\r\n \r\n\r\nAnd Then, Logs also Generated. Check below!\r\n![enter image description here](https://i.stack.imgur.com/v3P4q.png)\r\n\r\n","title":"Spring Boot + Azure - App stops logging after starting up on Azure","body":"<blockquote>\n<p>I've even set my log levels to TRACE but couldn't find any useful information in there.</p>\n</blockquote>\n<p>I have tried using <strong>TRACE</strong> logs in my <strong>Application.Properties</strong></p>\n<p><img src=\"https://i.stack.imgur.com/B4Xlz.png\" alt=\"enter image description here\" /></p>\n<p>Then, I created a <strong>Logback.xml</strong> File. see below!</p>\n<pre><code>&lt;configuration&gt;  \n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;  \n&lt;property name=&quot;LOG_FILE&quot; value=&quot;logs/app.log&quot;/&gt;  \n\n&lt;appender name=&quot;FILE-ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;  \n&lt;file&gt;${LOG_FILE}&lt;/file&gt;  \n\n&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;  \n&lt;fileNamePattern&gt;logs/archived/app.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;  \n&lt;!-- each archived file, size max 5KB --&gt;  \n&lt;maxFileSize&gt;5KB&lt;/maxFileSize&gt;  \n&lt;!-- total size of all archive files, if total size &gt; 20KB,  \nit will delete old archived file --&gt;  &lt;totalSizeCap&gt;20KB&lt;/totalSizeCap&gt;  \n&lt;!-- 60 days to keep --&gt;  \n&lt;maxHistory&gt;60&lt;/maxHistory&gt;  \n&lt;/rollingPolicy&gt;  \n&lt;encoder&gt; &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;  \n&lt;/encoder&gt; &lt;/appender&gt;  \n&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;  \n&lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;  \n&lt;Pattern&gt;  %d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n  \n&lt;/Pattern&gt;  \n&lt;/layout&gt; &lt;/appender&gt;  \n\n&lt;appender name=&quot;EMAIL&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;  \n&lt;smtpHost&gt;smtp.gmail.com&lt;/smtpHost&gt;  \n&lt;smtpPort&gt;587&lt;/smtpPort&gt;  \n&lt;STARTTLS&gt;true&lt;/STARTTLS&gt;  \n&lt;username&gt;emailid&lt;/username&gt;  \n&lt;password&gt;password&lt;/password&gt;  \n&lt;to&gt;emailid&lt;/to&gt;  \n&lt;from&gt;emailid&lt;/from&gt;  \n&lt;subject&gt;TESTING: %logger{20} - %m&lt;/subject&gt;  \n\n&lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;/&gt;  \n&lt;/appender&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;EMAIL&quot;/&gt;  \n&lt;/logger&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \n&lt;/logger&gt;  \n&lt;root level=&quot;error&quot;&gt;  \n&lt;appender-ref ref=&quot;FILE-ROLLING&quot;/&gt;  \n&lt;/root&gt;  \n&lt;logger name=&quot;com.Springbootfirst&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;  \n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \n&lt;/logger&gt; &lt;root level=&quot;error&quot;&gt;  \n&lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;  \n&lt;/root&gt;  \n&lt;/configuration&gt;\n</code></pre>\n<p>I Started running My application in local, its working fine and started creating logs and then, Deployed in Azure Spring App\n<img src=\"https://i.stack.imgur.com/cgyVj.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/rmUNE.png\" alt=\"enter image description here\" /></p>\n<p>App is Running fine in Azure also.\n<img src=\"https://i.stack.imgur.com/6BMxl.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/kUdqP.png\" alt=\"enter image description here\" /></p>\n<p>And Then, Logs also Generated. Check below!\n<img src=\"https://i.stack.imgur.com/v3P4q.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":27294993,"reputation":1,"user_id":20812768,"display_name":"Diego Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672223022,"creation_date":1671432611,"question_id":74847078,"body_markdown":"I&#39;m working on this Spring Boot app using logback and apache commons logging, configured to generate log files within a &#39;logs&#39; folder. The app works perfectly well on local, however when it&#39;s deployed to Azure, the app logs will only go up until the moment the application starts, and after Spring Boot prints the &quot;Started XYZApplication in 36.186 seconds&quot;, nothing else shows up.\r\n\r\n\r\n\r\nWe tried to add different levels of logs, including INFO and ERROR, and it still doesn&#39;t show up in the log file. Next up we&#39;ve created an endpoint to returned some info in the response:\r\n\r\n```\r\n\r\n// Log and LogFactory from org.apache.commons.logging\r\nprivate static final Log LOG = LogFactory.getLog(CacheAdminController.class);\r\n\r\n\r\n@RequestMapping(value = &quot;/checkLogs&quot;, method = GET)\r\npublic ResponseEntity&lt;String&gt; checkLogs() {\r\n    LOG.info(&quot;This INFO log should show up&quot;);\r\n    LOG.error(&quot;This ERROR log should show up&quot;);\r\n    String response = String.format(&quot;Is log error enabled? %s Is log info enabled? %s Is log debug enabled? %s&quot;, LOG.isErrorEnabled(), LOG.isInfoEnabled(), LOG.isDebugEnabled())\r\n    return ResponseEntity.ok(response);\r\n}\r\n```\r\n\r\nThis endpoint returns true for both the isInfoEnabled and isErrorEnabled, but the actual LOG.info and LOG.error won&#39;t show up in Azure. It&#39;s a really baffling situation. What could be causing this? Why is it enabled but not coming up? And why is it only happening when deployed to Azure? The logback configuration is the exact same for both local and Azure, so I don&#39;t think that&#39;s it.\r\n\r\nI&#39;ve even set my log levels to TRACE but couldn&#39;t find any useful information in there.\r\n\r\nIf anyone could shed a light, that would be greatly appreciated.","title":"Spring Boot + Azure - App stops logging after starting up on Azure","body":"<p>I'm working on this Spring Boot app using logback and apache commons logging, configured to generate log files within a 'logs' folder. The app works perfectly well on local, however when it's deployed to Azure, the app logs will only go up until the moment the application starts, and after Spring Boot prints the &quot;Started XYZApplication in 36.186 seconds&quot;, nothing else shows up.</p>\n<p>We tried to add different levels of logs, including INFO and ERROR, and it still doesn't show up in the log file. Next up we've created an endpoint to returned some info in the response:</p>\n<pre><code>\n// Log and LogFactory from org.apache.commons.logging\nprivate static final Log LOG = LogFactory.getLog(CacheAdminController.class);\n\n\n@RequestMapping(value = &quot;/checkLogs&quot;, method = GET)\npublic ResponseEntity&lt;String&gt; checkLogs() {\n    LOG.info(&quot;This INFO log should show up&quot;);\n    LOG.error(&quot;This ERROR log should show up&quot;);\n    String response = String.format(&quot;Is log error enabled? %s Is log info enabled? %s Is log debug enabled? %s&quot;, LOG.isErrorEnabled(), LOG.isInfoEnabled(), LOG.isDebugEnabled())\n    return ResponseEntity.ok(response);\n}\n</code></pre>\n<p>This endpoint returns true for both the isInfoEnabled and isErrorEnabled, but the actual LOG.info and LOG.error won't show up in Azure. It's a really baffling situation. What could be causing this? Why is it enabled but not coming up? And why is it only happening when deployed to Azure? The logback configuration is the exact same for both local and Azure, so I don't think that's it.</p>\n<p>I've even set my log levels to TRACE but couldn't find any useful information in there.</p>\n<p>If anyone could shed a light, that would be greatly appreciated.</p>\n"},{"tags":["java","android","google-maps","location","user-permissions"],"comments":[{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1672223535,"post_id":74938990,"comment_id":132244779,"body_markdown":"`when i pass this in requestLocationUpdates() as a parameter, it shows error` , what error does it show?","body":"<code>when i pass this in requestLocationUpdates() as a parameter, it shows error</code> , what error does it show?"},{"owner":{"account_id":25404225,"reputation":1,"user_id":19213191,"display_name":"ayna khan"},"score":0,"creation_date":1672235305,"post_id":74938990,"comment_id":132247758,"body_markdown":"Cannot resolve method &#39;requestLocationUpdates(android.location.LocationRequest, com.google.android.gms.location.LocationCallback, android.os.Looper)&#39;","body":"Cannot resolve method &#39;requestLocationUpdates(android.location.LocationRequest, com.google.android.gms.location.LocationCallback, android.os.Looper)&#39;"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1672250636,"post_id":74938990,"comment_id":132252449,"body_markdown":"First parameter should be of type `com.google.android.gms.location.LocationRequest`.  This  means you are using the wrong builder - use `com.google.android.gms.location.LocationRequest.Builder` .","body":"First parameter should be of type <code>com.google.android.gms.location.LocationRequest</code>.  This  means you are using the wrong builder - use <code>com.google.android.gms.location.LocationRequest.Builder</code> ."}],"owner":{"account_id":25404225,"reputation":1,"user_id":19213191,"display_name":"ayna khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672222747,"creation_date":1672222747,"question_id":74938990,"body_markdown":"As LocationRequest.create() is deprecated and instead of it we shall use LocationRequest.Builder but when i pass this in requestLocationUpdates() as a parameter, it shows error.\r\n\r\nHere&#39;s my code:\r\n\r\n```\r\nprivate boolean isLocationpermissionOk;\r\nprivate LocationRequest locationRequest;\r\nprivate LocationCallback locationCallback;\r\nprivate FusedLocationProviderClient fusedLocationProviderClient;\r\n```\r\n\r\n```\r\n@RequiresApi(api = Build.VERSION_CODES.S)\r\nprivate void setUpLocationUpdate() {\r\n    locationRequest= new LocationRequest.Builder(10000).build();\r\n    locationCallback=new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(@NonNull LocationResult locationResult) {\r\n            if(locationResult!=null) {\r\n                for(Location location : locationResult.getLocations()){\r\n                    Log.d(&quot;TAG&quot;,&quot;onLocationResult&quot;+location.getLongitude()+&quot; &quot;+location.getLatitude());\r\n                }\r\n            }\r\n            super.onLocationResult(locationResult);\r\n\r\n        }\r\n    };\r\n    fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback, Looper.getMainLooper())\r\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if(task.isSuccessful()){\r\n                        Toast.makeText(requireContext(), &quot;Location Updated Started&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n```\r\n\r\n","title":"How can we use LocationRequest.Builder in requestLocationUpdates() function as a parameter","body":"<p>As LocationRequest.create() is deprecated and instead of it we shall use LocationRequest.Builder but when i pass this in requestLocationUpdates() as a parameter, it shows error.</p>\n<p>Here's my code:</p>\n<pre><code>private boolean isLocationpermissionOk;\nprivate LocationRequest locationRequest;\nprivate LocationCallback locationCallback;\nprivate FusedLocationProviderClient fusedLocationProviderClient;\n</code></pre>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.S)\nprivate void setUpLocationUpdate() {\n    locationRequest= new LocationRequest.Builder(10000).build();\n    locationCallback=new LocationCallback() {\n        @Override\n        public void onLocationResult(@NonNull LocationResult locationResult) {\n            if(locationResult!=null) {\n                for(Location location : locationResult.getLocations()){\n                    Log.d(&quot;TAG&quot;,&quot;onLocationResult&quot;+location.getLongitude()+&quot; &quot;+location.getLatitude());\n                }\n            }\n            super.onLocationResult(locationResult);\n\n        }\n    };\n    fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback, Looper.getMainLooper())\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    if(task.isSuccessful()){\n                        Toast.makeText(requireContext(), &quot;Location Updated Started&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","android","mediawiki-api","google-image-search","wikidata-api"],"answers":[{"comments":[{"owner":{"account_id":4042667,"reputation":1814,"user_id":3324977,"accept_rate":83,"display_name":"maxlath"},"score":9,"creation_date":1450779945,"post_id":34402875,"comment_id":56568052,"body_markdown":"nice! You can also directly get the resized image url like so: https://commons.wikimedia.org/w/thumb.php?width=500&amp;f=Junior-Jaguar-Belize-Zoo.jpg\nNevertheless, beware that requesting a size bigger than the original image size will return an error","body":"nice! You can also directly get the resized image url like so: <a href=\"https://commons.wikimedia.org/w/thumb.php?width=500&amp;f=Junior-Jaguar-Belize-Zoo.jpg\" rel=\"nofollow noreferrer\">commons.wikimedia.org/w/&hellip;</a> Nevertheless, beware that requesting a size bigger than the original image size will return an error"}],"tags":[],"owner":{"account_id":4445012,"reputation":6710,"user_id":3618581,"display_name":"Termininja"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1642607374,"creation_date":1450725766,"answer_id":34402875,"question_id":34393884,"body_markdown":"If some Wikidata item (with ID: **Qxxx**) has [image (P18)][1] property, you can access it by [MediaWiki API][2]:\r\n\r\n    https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;property=P18&amp;entity=Qxxx\r\n\r\nThe response will include:\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    &quot;claims&quot;: {\r\n            &quot;P18&quot;: [{ &quot;mainsnak&quot;: { &quot;datavalue&quot;: { &quot;value&quot;: &quot;img_name.ext&quot; }, &quot;hash&quot;: ... }}]\r\n    }\r\n\r\nwhere **img_name.ext** is the name of the image you are looking for.\r\n\r\nThe final image URL will be: `https://upload.wikimedia.org/wikipedia/commons/a/ab/img_name.ext`, where **a** and **b** are the first and the second chars of [MD5 hashsum][3] of the **img_name.ext** (with all whitespaces replaced by `_`).\r\n\r\n**Example:** For item [jaguar (Q35694)][4] the API will returns image name &quot;*[Junior-Jaguar-Belize-Zoo.jpg][5]*&quot;, which has MD5 `hashsum(&quot;Junior-Jaguar-Belize-Zoo.jpg&quot;)` = `213b31ec141dafebe457e49bcd7f9329`, so a=**2** and b=**1**, or the final image URL will be: https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg\r\n\r\n**Note:** *The MD5 hashsum is for the name of the image file, not the `P18[0].mainsnak.hash` property included in the JSON body.*\r\n\r\n  [1]: https://www.wikidata.org/wiki/Property:P18\r\n  [2]: https://www.wikidata.org/w/api.php?action=help&amp;modules=wbgetclaims\r\n  [3]: http://www.md5.cz/\r\n  [4]: https://www.wikidata.org/wiki/Q35694\r\n  [5]: https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;entity=Q35694&amp;property=P18","title":"How to get image URL property from Wikidata item by API?","body":"<p>If some Wikidata item (with ID: <strong>Qxxx</strong>) has <a href=\"https://www.wikidata.org/wiki/Property:P18\" rel=\"noreferrer\">image (P18)</a> property, you can access it by <a href=\"https://www.wikidata.org/w/api.php?action=help&amp;modules=wbgetclaims\" rel=\"noreferrer\">MediaWiki API</a>:</p>\n<pre><code>https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;property=P18&amp;entity=Qxxx\n</code></pre>\n<p>The response will include:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;claims&quot;: {\n        &quot;P18&quot;: [{ &quot;mainsnak&quot;: { &quot;datavalue&quot;: { &quot;value&quot;: &quot;img_name.ext&quot; }, &quot;hash&quot;: ... }}]\n}\n</code></pre>\n<p>where <strong>img_name.ext</strong> is the name of the image you are looking for.</p>\n<p>The final image URL will be: <code>https://upload.wikimedia.org/wikipedia/commons/a/ab/img_name.ext</code>, where <strong>a</strong> and <strong>b</strong> are the first and the second chars of <a href=\"http://www.md5.cz/\" rel=\"noreferrer\">MD5 hashsum</a> of the <strong>img_name.ext</strong> (with all whitespaces replaced by <code>_</code>).</p>\n<p><strong>Example:</strong> For item <a href=\"https://www.wikidata.org/wiki/Q35694\" rel=\"noreferrer\">jaguar (Q35694)</a> the API will returns image name &quot;<em><a href=\"https://www.wikidata.org/w/api.php?action=wbgetclaims&amp;entity=Q35694&amp;property=P18\" rel=\"noreferrer\">Junior-Jaguar-Belize-Zoo.jpg</a></em>&quot;, which has MD5 <code>hashsum(&quot;Junior-Jaguar-Belize-Zoo.jpg&quot;)</code> = <code>213b31ec141dafebe457e49bcd7f9329</code>, so a=<strong>2</strong> and b=<strong>1</strong>, or the final image URL will be: <a href=\"https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg\" rel=\"noreferrer\">https://upload.wikimedia.org/wikipedia/commons/2/21/Junior-Jaguar-Belize-Zoo.jpg</a></p>\n<p><strong>Note:</strong> <em>The MD5 hashsum is for the name of the image file, not the <code>P18[0].mainsnak.hash</code> property included in the JSON body.</em></p>\n"},{"comments":[{"owner":{"account_id":395733,"reputation":15833,"user_id":758836,"accept_rate":51,"display_name":"loretoparisi"},"score":0,"creation_date":1628776627,"post_id":65412349,"comment_id":121516489,"body_markdown":"it works, but not with `&amp;width` parameter, in that case for different images you will may get a `404`.","body":"it works, but not with <code>&amp;width</code> parameter, in that case for different images you will may get a <code>404</code>."},{"owner":{"account_id":395733,"reputation":15833,"user_id":758836,"accept_rate":51,"display_name":"loretoparisi"},"score":0,"creation_date":1628788210,"post_id":65412349,"comment_id":121521437,"body_markdown":"This solution, despite of the 302 redirect (to `https://upload.wikimedia.org/wikipedia/commons/a/a7/Sample.png` in the example above) it&#39;s more safe than others approach with md5sum (to detect `/a/a7`, that can be subject to changes.","body":"This solution, despite of the 302 redirect (to <code>https:&#47;&#47;upload.wikimedia.org&#47;wikipedia&#47;commons&#47;a&#47;a7&#47;Sample.p&zwnj;&#8203;ng</code> in the example above) it&#39;s more safe than others approach with md5sum (to detect <code>&#47;a&#47;a7</code>, that can be subject to changes."}],"tags":[],"owner":{"account_id":39785,"reputation":3304,"user_id":114926,"accept_rate":75,"display_name":"Karl Bartel"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1608654685,"creation_date":1608654685,"answer_id":65412349,"question_id":34393884,"body_markdown":"You can build URLs from the image property (`Sample.png` in the following example):\r\n\r\n    https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file/Sample.png&amp;width=300\r\n\r\nSee Wikimedia Commons&#39; [&quot;Reusing content outside Wikimedia&quot; documentation](https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical) for more details.","title":"How to get image URL property from Wikidata item by API?","body":"<p>You can build URLs from the image property (<code>Sample.png</code> in the following example):</p>\n<pre><code>https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file/Sample.png&amp;width=300\n</code></pre>\n<p>See Wikimedia Commons' <a href=\"https://commons.wikimedia.org/wiki/Commons:Reusing_content_outside_Wikimedia/technical\" rel=\"noreferrer\">&quot;Reusing content outside Wikimedia&quot; documentation</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":10395396,"reputation":1,"user_id":7665297,"display_name":"Walter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672222705,"creation_date":1672060789,"answer_id":74920722,"question_id":34393884,"body_markdown":"I use this PHP function to convert a given image filename into an url for wikipedia commons: \r\n\r\n    function getWikimediaImageURL($aFilename) {\r\n         #-- Example:  $aURLString = getWikimediaImageURL(&#39;Fortuna D&#252;sseldorf.svg&#39;);    \r\n         $aFilename = str_replace( &#39; &#39;, &#39;_&#39;, $aFilename);\r\n         $md5 = md5($aFilename); \r\n\r\n         return &quot;https://upload.wikimedia.org/wikipedia/commons/&quot; .\r\n                substr($md5,0,1) . \r\n                &quot;/&quot; .\r\n                substr($md5,0,2). \r\n                &quot;/&quot; . \r\n                urlencode($aFilename);\r\n     }    \r\n\r\nCommons is a little bit picky of user agent header. So provide one when downloading (change the User-Agent string according to &lt;https://meta.wikimedia.org/wiki/User-Agent_policy&gt;):\r\n\r\n    $opts = [\r\n        &quot;https&quot; =&gt; [\r\n            &quot;method&quot; =&gt; &quot;GET&quot;,\r\n            &quot;header&quot; =&gt; &quot;User-Agent: oolBot/0.0 (https://example.org/coolbot/; coolbot@example.org) generic-library/0.0\\r\\n&quot; \r\n        ]\r\n    ];            \r\n    $context = stream_context_create($opts);            \r\n    $content = file_get_contents( $pfad , false, $context ); \r\n","title":"How to get image URL property from Wikidata item by API?","body":"<p>I use this PHP function to convert a given image filename into an url for wikipedia commons:</p>\n<pre><code>function getWikimediaImageURL($aFilename) {\n     #-- Example:  $aURLString = getWikimediaImageURL('Fortuna Düsseldorf.svg');    \n     $aFilename = str_replace( ' ', '_', $aFilename);\n     $md5 = md5($aFilename); \n\n     return &quot;https://upload.wikimedia.org/wikipedia/commons/&quot; .\n            substr($md5,0,1) . \n            &quot;/&quot; .\n            substr($md5,0,2). \n            &quot;/&quot; . \n            urlencode($aFilename);\n }    \n</code></pre>\n<p>Commons is a little bit picky of user agent header. So provide one when downloading (change the User-Agent string according to <a href=\"https://meta.wikimedia.org/wiki/User-Agent_policy\" rel=\"nofollow noreferrer\">https://meta.wikimedia.org/wiki/User-Agent_policy</a>):</p>\n<pre><code>$opts = [\n    &quot;https&quot; =&gt; [\n        &quot;method&quot; =&gt; &quot;GET&quot;,\n        &quot;header&quot; =&gt; &quot;User-Agent: oolBot/0.0 (https://example.org/coolbot/; coolbot@example.org) generic-library/0.0\\r\\n&quot; \n    ]\n];            \n$context = stream_context_create($opts);            \n$content = file_get_contents( $pfad , false, $context ); \n</code></pre>\n"}],"owner":{"account_id":6853978,"reputation":654,"user_id":5270231,"accept_rate":100,"display_name":"Peter Warrington"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7594,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":65412349,"answer_count":3,"score":14,"last_activity_date":1672222705,"creation_date":1450694887,"question_id":34393884,"body_markdown":"I&#39;ve made an android app that uses the JSON Google image search API to provide images but I have noticed that Google have stopped supporting it. I have also discovered that Wikidata sometimes provides a image property on some items, however I can&#39;t seem to get the URL location of the image using the Wikidata API.\r\n\r\nIs there any way to get the image URL property from items in Wikidata?","title":"How to get image URL property from Wikidata item by API?","body":"<p>I've made an android app that uses the JSON Google image search API to provide images but I have noticed that Google have stopped supporting it. I have also discovered that Wikidata sometimes provides a image property on some items, however I can't seem to get the URL location of the image using the Wikidata API.</p>\n\n<p>Is there any way to get the image URL property from items in Wikidata?</p>\n"},{"tags":["java","hibernate","db2"],"comments":[{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1672148294,"post_id":74927603,"comment_id":132229420,"body_markdown":"Try assigning the column alias, perhaps Hibernate is trying to reference it: `select VARBINARY(MESSAGE_STR) as MESSAGE_STR...`","body":"Try assigning the column alias, perhaps Hibernate is trying to reference it: <code>select VARBINARY(MESSAGE_STR) as MESSAGE_STR...</code>"},{"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"score":0,"creation_date":1672214011,"post_id":74927603,"comment_id":132242444,"body_markdown":"You were right, that did it! Tried hours before ... thank you so much for the hint!","body":"You were right, that did it! Tried hours before ... thank you so much for the hint!"}],"answers":[{"tags":[],"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672222529,"creation_date":1672222529,"answer_id":74938960,"question_id":74927603,"body_markdown":"As suggested by mustaccio, the solution was to use\r\n\r\n```select VARBINARY(MESSAGE_STR) as MESSAGE_STR from MyTable where ...```\r\n\r\nor elsehow Hibernate would not be able to identify the correct column. Thank you so much!","title":"Hibernate Query: Casting varchar to (var)binary results in &quot;Unknown column name&quot;","body":"<p>As suggested by mustaccio, the solution was to use</p>\n<p><code>select VARBINARY(MESSAGE_STR) as MESSAGE_STR from MyTable where ...</code></p>\n<p>or elsehow Hibernate would not be able to identify the correct column. Thank you so much!</p>\n"}],"owner":{"account_id":4609012,"reputation":195,"user_id":3737655,"display_name":"MrFreeze"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74938960,"answer_count":1,"score":0,"last_activity_date":1672222657,"creation_date":1672133205,"question_id":74927603,"body_markdown":"I am trying to read a varchar from an exisiting **DB2 table** using **Hibernate**. For some reason, I need the result as an untransformed byte array (e.g. no automatic encoding correction). My first two attempts were to use casting within the ```session.createNativeQuery``` \r\n\r\n 1. ```select VARBINARY(MESSAGE_STR) from MyTable where ...```;\r\n 2. ```select cast(MESSAGE_STR as binary) from MyTable where ...```;\r\n\r\nBoth resulting in the same, strange Hibernate Error ```Unknown column name MESSAGE_STR. ERRORCODE=-4460, SQLSTATE=null```.\r\n\r\nWhen I remove the cast in the query and change entity attribute from byte[] to String, the column name is correct. So there is no simple spelling error. Hibernate Core core version is 5.3.7. I would appreciate any comments / thoughts / help here.\r\n\r\nBackground: The varchar is written into the table by legacy code which can not be changed. It contains real text (in different encodings) as well as binary data (e.g. int value encoded in four bytes). Therefore I need to retreive the (bitwise) exact bytes before I can parse the data.\r\n","title":"Hibernate Query: Casting varchar to (var)binary results in &quot;Unknown column name&quot;","body":"<p>I am trying to read a varchar from an exisiting <strong>DB2 table</strong> using <strong>Hibernate</strong>. For some reason, I need the result as an untransformed byte array (e.g. no automatic encoding correction). My first two attempts were to use casting within the <code>session.createNativeQuery</code></p>\n<ol>\n<li><code>select VARBINARY(MESSAGE_STR) from MyTable where ...</code>;</li>\n<li><code>select cast(MESSAGE_STR as binary) from MyTable where ...</code>;</li>\n</ol>\n<p>Both resulting in the same, strange Hibernate Error <code>Unknown column name MESSAGE_STR. ERRORCODE=-4460, SQLSTATE=null</code>.</p>\n<p>When I remove the cast in the query and change entity attribute from byte[] to String, the column name is correct. So there is no simple spelling error. Hibernate Core core version is 5.3.7. I would appreciate any comments / thoughts / help here.</p>\n<p>Background: The varchar is written into the table by legacy code which can not be changed. It contains real text (in different encodings) as well as binary data (e.g. int value encoded in four bytes). Therefore I need to retreive the (bitwise) exact bytes before I can parse the data.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170263,"post_id":74933502,"comment_id":132235621,"body_markdown":"Hi and welcome to stack overflow.  What is the thought behind wanting to use the same model for both routes?","body":"Hi and welcome to stack overflow.  What is the thought behind wanting to use the same model for both routes?"},{"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"score":0,"creation_date":1672170334,"post_id":74933502,"comment_id":132235637,"body_markdown":"Less redudant code, reusability.","body":"Less redudant code, reusability."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170569,"post_id":74933502,"comment_id":132235697,"body_markdown":"I see...  I would urge you to focus on solving the problems at hand without worrying too much about redundant code and reusability.  Those two issues should become apparent as you write your code.  I would recommend breaking your two apis into separate controller classes and have a separate model for each controller with their individual validation logic.  It will be much simpler to read/understand in the long run.","body":"I see...  I would urge you to focus on solving the problems at hand without worrying too much about redundant code and reusability.  Those two issues should become apparent as you write your code.  I would recommend breaking your two apis into separate controller classes and have a separate model for each controller with their individual validation logic.  It will be much simpler to read/understand in the long run."},{"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"score":0,"creation_date":1672170734,"post_id":74933502,"comment_id":132235729,"body_markdown":"ok.  It&#39;s worth noting I&#39;m doing this project for prospective employers, so I didn&#39;t want to look silly.  I&#39;ll do that.  Thank you!.","body":"ok.  It&#39;s worth noting I&#39;m doing this project for prospective employers, so I didn&#39;t want to look silly.  I&#39;ll do that.  Thank you!."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1672170852,"post_id":74933502,"comment_id":132235753,"body_markdown":"Sounds good.  I do not believe you would look silly by keeping things simple and easy to read.  Best of luck with your future work endeavors!","body":"Sounds good.  I do not believe you would look silly by keeping things simple and easy to read.  Best of luck with your future work endeavors!"}],"answers":[{"tags":[],"owner":{"account_id":19430343,"reputation":111,"user_id":14210942,"display_name":"Preet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672172987,"creation_date":1672172987,"answer_id":74933867,"question_id":74933502,"body_markdown":"While you annotate your Model method parameter with `@Valid`, you can instead use Spring&#39;s `@Validated` annotation.\r\n\r\nThis is similar to already answered [StackOverflow question][2].\r\n\r\nYou can read on using validation Groups from [this baeldung blog.][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/javax-validation-groups\r\n  [2]: https://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid","title":"Validx Validation on Models conditional on which method called @Valid","body":"<p>While you annotate your Model method parameter with <code>@Valid</code>, you can instead use Spring's <code>@Validated</code> annotation.</p>\n<p>This is similar to already answered <a href=\"https://stackoverflow.com/questions/18911154/how-to-specify-validation-group-for-valid\">StackOverflow question</a>.</p>\n<p>You can read on using validation Groups from <a href=\"https://www.baeldung.com/javax-validation-groups\" rel=\"nofollow noreferrer\">this baeldung blog.</a></p>\n"}],"owner":{"account_id":27367851,"reputation":71,"user_id":20874384,"display_name":"vw0389"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74933867,"answer_count":1,"score":1,"last_activity_date":1672222214,"creation_date":1672170015,"question_id":74933502,"body_markdown":"I would like to conditionally validate certain things on my models in my Spring Boot application based upon which route the model is being validated by.\r\n\r\nI have two routes, one for signing up for logging in.  The one for logging in simply requires a username and password.  The one for signing up requires an email, username and password.  I would like to use the same model using `javax.validation.constraints` on both routes.\r\n\r\nUser.java\r\n```java\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @Column(nullable=false,unique = true)\r\n    @NotBlank(message = &quot;email is blank&quot;)\r\n    @Email(message = &quot;invalid email&quot;)\r\n    private String email;\r\n    @Column(nullable=false,updatable = false,unique = true)\r\n    @Size(min = 8, max = 32, message = &quot;username must be between 8 and 32 characters&quot;)\r\n    private String username;\r\n    @Column(nullable=false)\r\n    @NotBlank(message = &quot;missing password&quot;)\r\n    @Size(min = 8, max = 32, message = &quot;password must be between 8 and 32 characters&quot;)\r\n    private String password;\r\n    @Column(columnDefinition = &quot;text&quot;)\r\n    private String about;\r\n    @Column(nullable=false,updatable = false)\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime passwordChangedAt;\r\n    private LocalDateTime aboutChangedAt;\r\n```\r\n\r\nUserController.java\r\n\r\n```java\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class UserController {\r\n  private final AuthenticationManager authenticationManager;\r\n  private final UserRepository userRepository;\r\n  private final RoleRepository roleRepository;\r\n  private final PasswordEncoder encoder;\r\n  private final JwtUtils jwtUtils;\r\n\r\n  public UserController(AuthenticationManager authenticationManager, UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder encoder, JwtUtils jwtUtils) {\r\n    this.authenticationManager = authenticationManager;\r\n    this.userRepository = userRepository;\r\n    this.roleRepository = roleRepository;\r\n    this.encoder = encoder;\r\n    this.jwtUtils = jwtUtils;\r\n  }\r\n  @PostMapping(&quot;/signin&quot;)\r\n  public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody User loginRequest) {\r\n\r\n    Authentication authentication = authenticationManager.authenticate(\r\n        new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n\r\n    SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    String jwt = jwtUtils.generateJwtToken(authentication);\r\n    \r\n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();    \r\n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n        .map(item -&gt; item.getAuthority())\r\n        .collect(Collectors.toList());\r\n\r\n    return ResponseEntity.ok(new JwtResponse(jwt, \r\n                         userDetails.getId(), \r\n                         userDetails.getUsername(), \r\n                         userDetails.getEmail(), \r\n                         roles));\r\n  }\r\n\r\n  @PostMapping(&quot;/signup&quot;)\r\n  public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody User signUpRequest) {\r\n    if (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n      return ResponseEntity\r\n          .badRequest()\r\n          .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n    }\r\n\r\n    if (userRepository.existsByEmail(signUpRequest.getEmail())) {\r\n      return ResponseEntity\r\n          .badRequest()\r\n          .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\r\n    }\r\n\r\n    // Create new user&#39;s account\r\n    User user = new User(signUpRequest.getUsername(), \r\n               signUpRequest.getEmail(),\r\n               encoder.encode(signUpRequest.getPassword()));\r\n\r\n    Set&lt;String&gt; strRoles = signUpRequest.getRole();\r\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    if (strRoles == null) {\r\n      Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n          .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n      roles.add(userRole);\r\n    } else {\r\n      strRoles.forEach(role -&gt; {\r\n        switch (role) {\r\n        case &quot;admin&quot;:\r\n          Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(adminRole);\r\n\r\n          break;\r\n        case &quot;mod&quot;:\r\n          Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(modRole);\r\n\r\n          break;\r\n        default:\r\n          Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n          roles.add(userRole);\r\n        }\r\n      });\r\n    }\r\n\r\n    user.setRoles(roles);\r\n    userRepository.save(user);\r\n\r\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n  }\r\n}\r\n```\r\n\r\n\r\nI would like to use the same `User` model/entity for both.  Is there a way to do this?\r\n\r\nI know I can create different request templates that I would then map to a model, however I am curious if there is a more concise way to do this using annotations.","title":"Validx Validation on Models conditional on which method called @Valid","body":"<p>I would like to conditionally validate certain things on my models in my Spring Boot application based upon which route the model is being validated by.</p>\n<p>I have two routes, one for signing up for logging in.  The one for logging in simply requires a username and password.  The one for signing up requires an email, username and password.  I would like to use the same model using <code>javax.validation.constraints</code> on both routes.</p>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    @Column(nullable=false,unique = true)\n    @NotBlank(message = &quot;email is blank&quot;)\n    @Email(message = &quot;invalid email&quot;)\n    private String email;\n    @Column(nullable=false,updatable = false,unique = true)\n    @Size(min = 8, max = 32, message = &quot;username must be between 8 and 32 characters&quot;)\n    private String username;\n    @Column(nullable=false)\n    @NotBlank(message = &quot;missing password&quot;)\n    @Size(min = 8, max = 32, message = &quot;password must be between 8 and 32 characters&quot;)\n    private String password;\n    @Column(columnDefinition = &quot;text&quot;)\n    private String about;\n    @Column(nullable=false,updatable = false)\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    private LocalDateTime passwordChangedAt;\n    private LocalDateTime aboutChangedAt;\n</code></pre>\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class UserController {\n  private final AuthenticationManager authenticationManager;\n  private final UserRepository userRepository;\n  private final RoleRepository roleRepository;\n  private final PasswordEncoder encoder;\n  private final JwtUtils jwtUtils;\n\n  public UserController(AuthenticationManager authenticationManager, UserRepository userRepository, RoleRepository roleRepository, PasswordEncoder encoder, JwtUtils jwtUtils) {\n    this.authenticationManager = authenticationManager;\n    this.userRepository = userRepository;\n    this.roleRepository = roleRepository;\n    this.encoder = encoder;\n    this.jwtUtils = jwtUtils;\n  }\n  @PostMapping(&quot;/signin&quot;)\n  public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody User loginRequest) {\n\n    Authentication authentication = authenticationManager.authenticate(\n        new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n    String jwt = jwtUtils.generateJwtToken(authentication);\n    \n    UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();    \n    List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n        .map(item -&gt; item.getAuthority())\n        .collect(Collectors.toList());\n\n    return ResponseEntity.ok(new JwtResponse(jwt, \n                         userDetails.getId(), \n                         userDetails.getUsername(), \n                         userDetails.getEmail(), \n                         roles));\n  }\n\n  @PostMapping(&quot;/signup&quot;)\n  public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody User signUpRequest) {\n    if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n      return ResponseEntity\n          .badRequest()\n          .body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n    }\n\n    if (userRepository.existsByEmail(signUpRequest.getEmail())) {\n      return ResponseEntity\n          .badRequest()\n          .body(new MessageResponse(&quot;Error: Email is already in use!&quot;));\n    }\n\n    // Create new user's account\n    User user = new User(signUpRequest.getUsername(), \n               signUpRequest.getEmail(),\n               encoder.encode(signUpRequest.getPassword()));\n\n    Set&lt;String&gt; strRoles = signUpRequest.getRole();\n    Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    if (strRoles == null) {\n      Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n          .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n      roles.add(userRole);\n    } else {\n      strRoles.forEach(role -&gt; {\n        switch (role) {\n        case &quot;admin&quot;:\n          Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(adminRole);\n\n          break;\n        case &quot;mod&quot;:\n          Role modRole = roleRepository.findByName(ERole.ROLE_MODERATOR)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(modRole);\n\n          break;\n        default:\n          Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n              .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n          roles.add(userRole);\n        }\n      });\n    }\n\n    user.setRoles(roles);\n    userRepository.save(user);\n\n    return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n  }\n}\n</code></pre>\n<p>I would like to use the same <code>User</code> model/entity for both.  Is there a way to do this?</p>\n<p>I know I can create different request templates that I would then map to a model, however I am curious if there is a more concise way to do this using annotations.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672204598,"post_id":74936480,"comment_id":132240857,"body_markdown":"`5/100` is 0 because both are `int`s.","body":"<code>5&#47;100</code> is 0 because both are <code>int</code>s."}],"owner":{"display_name":"user20876671"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672204634,"answer_count":0,"score":0,"last_activity_date":1672222140,"creation_date":1672204340,"question_id":74936480,"body_markdown":"but my code is not working. I have put `double tax = 5/100*salary` but it&#39;s only showing `0.0`.\r\n\r\nThis is what I have tried.\r\n\r\n```java\r\npackage company;\r\nimport java.util.Scanner;\r\npublic class p6 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n        Scanner sc=new Scanner(System.in);\r\n        System.out.print(&quot;Enter your Salary(in lakhs): &quot;);\r\n        double salary=sc.nextDouble();\r\n        if(salary&lt;2.5)\r\n        {\r\n\t        System.out.println(&quot;You don&#39;t have to pay any tax.&quot;);\r\n        }\r\n        else if(salary&gt;=2.5&amp;&amp;salary&lt;5.0)\r\n        {\r\n\t        System.out.println(&quot;You have to pay 5% of your salary as tax.&quot;);\r\n\t        double tax=5/100*salary;\r\n\t        System.out.println(tax);\r\n        }\r\n        else if(salary &gt;=5.0 &amp;&amp; salary &lt; 10.0)\r\n        {\r\n        \tSystem.out.println(&quot;You have to pay 20% of your salary as tax.&quot;);\r\n\t        double tax=20/100*salary;\r\n\t        System.out.println(tax);\r\n\t\r\n        }\r\n        else {\r\n\t        System.out.println(&quot;You have to pay 30% of your salary as tax.&quot;);\r\n        \tdouble tax=30/100*salary;\r\n        \tSystem.out.println(tax);\r\n        }\r\n\t}\r\n}\r\n```\r\nOUTPUT:-\r\nEnter your Salary(in lakhs): 3\r\nYou have to pay 5% of your salary as tax.\r\n0.0\r\n","title":"In my code I have to tell the user how much of his salary he has to pay as tax","body":"<p>but my code is not working. I have put <code>double tax = 5/100*salary</code> but it's only showing <code>0.0</code>.</p>\n<p>This is what I have tried.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package company;\nimport java.util.Scanner;\npublic class p6 {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        System.out.print(&quot;Enter your Salary(in lakhs): &quot;);\n        double salary=sc.nextDouble();\n        if(salary&lt;2.5)\n        {\n            System.out.println(&quot;You don't have to pay any tax.&quot;);\n        }\n        else if(salary&gt;=2.5&amp;&amp;salary&lt;5.0)\n        {\n            System.out.println(&quot;You have to pay 5% of your salary as tax.&quot;);\n            double tax=5/100*salary;\n            System.out.println(tax);\n        }\n        else if(salary &gt;=5.0 &amp;&amp; salary &lt; 10.0)\n        {\n            System.out.println(&quot;You have to pay 20% of your salary as tax.&quot;);\n            double tax=20/100*salary;\n            System.out.println(tax);\n    \n        }\n        else {\n            System.out.println(&quot;You have to pay 30% of your salary as tax.&quot;);\n            double tax=30/100*salary;\n            System.out.println(tax);\n        }\n    }\n}\n</code></pre>\n<p>OUTPUT:-\nEnter your Salary(in lakhs): 3\nYou have to pay 5% of your salary as tax.\n0.0</p>\n"},{"tags":["java","spring","maven","dependencies"],"comments":[{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":3,"creation_date":1672220660,"post_id":74938535,"comment_id":132244086,"body_markdown":"You need to specify the version using `version`\nMost people you see don&#39;t specify a version because they inherit `spring-boot-starter-parent` using parent","body":"You need to specify the version using <code>version</code> Most people you see don&#39;t specify a version because they inherit <code>spring-boot-starter-parent</code> using parent"},{"owner":{"account_id":4124730,"reputation":7670,"user_id":3384193,"accept_rate":71,"display_name":"kchak"},"score":0,"creation_date":1672221157,"post_id":74938535,"comment_id":132244195,"body_markdown":"Oh, that worked! Thanks @Jilliss I thought, it would automatically take the latest one that resolves correctly.\nIf you want, please post an answer and I can mark that as the correct one :)","body":"Oh, that worked! Thanks @Jilliss I thought, it would automatically take the latest one that resolves correctly. If you want, please post an answer and I can mark that as the correct one :)"}],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672221608,"creation_date":1672221608,"answer_id":74938794,"question_id":74938535,"body_markdown":"maven usually requires the `version` tag to specify the version\r\nMost cases where no version is specified are when the project inherits pom files\r\nFor example\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\nUnlike `npm` and `pip`, it does not automatically select the latest version\r\n","title":"Spring dependency not found","body":"<p>maven usually requires the <code>version</code> tag to specify the version\nMost cases where no version is specified are when the project inherits pom files\nFor example</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Unlike <code>npm</code> and <code>pip</code>, it does not automatically select the latest version</p>\n"}],"owner":{"account_id":4124730,"reputation":7670,"user_id":3384193,"accept_rate":71,"display_name":"kchak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74938794,"answer_count":1,"score":1,"last_activity_date":1672221608,"creation_date":1672220078,"question_id":74938535,"body_markdown":"I&#39;m very new to Spring, and also Maven. I&#39;m following along with the book **Spring Start Here** because it seems friendly. The very first project asks us to add a *spring-context* dependency to a new project (using maven). I&#39;m using the Intellij Idea community version to follow along, as suggested in the book. But on following the instructions to add the dependency I get an error: **Dependency &#39;org.springframework:spring-context:&#39; not found**\r\n\r\nHere is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.myspring&lt;/groupId&gt;\r\n    &lt;artifactId&gt;start&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI think the idea is to add spring dependencies one by one in order to see their purpose. The autocompletion in idea shows an error for the lines\r\n```\r\n&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n```\r\n\r\n- I have already tried updating the maven&gt;repositories in the ide settings but still get the same error.\r\n- Also, I found the page https://mvnrepository.com/artifact/org.springframework/spring-context which seems to suggest I have used the correct `groupId` and `artifactId` names\r\n\r\nEdit: I just removed the empty version tag in the dependency.","title":"Spring dependency not found","body":"<p>I'm very new to Spring, and also Maven. I'm following along with the book <strong>Spring Start Here</strong> because it seems friendly. The very first project asks us to add a <em>spring-context</em> dependency to a new project (using maven). I'm using the Intellij Idea community version to follow along, as suggested in the book. But on following the instructions to add the dependency I get an error: <strong>Dependency 'org.springframework:spring-context:' not found</strong></p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.myspring&lt;/groupId&gt;\n    &lt;artifactId&gt;start&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I think the idea is to add spring dependencies one by one in order to see their purpose. The autocompletion in idea shows an error for the lines</p>\n<pre><code>&lt;groupId&gt;org.springframework&lt;/groupId&gt;\n&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n</code></pre>\n<ul>\n<li>I have already tried updating the maven&gt;repositories in the ide settings but still get the same error.</li>\n<li>Also, I found the page <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-context\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework/spring-context</a> which seems to suggest I have used the correct <code>groupId</code> and <code>artifactId</code> names</li>\n</ul>\n<p>Edit: I just removed the empty version tag in the dependency.</p>\n"},{"tags":["java","android","kotlin","android-preferences"],"answers":[{"tags":[],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672221179,"creation_date":1671450673,"answer_id":74850137,"question_id":74848867,"body_markdown":"I did mange to make a workaround. \r\nHowever I would be happy for other workarounds and also having another opinion on seeing this as a bug.\r\n\r\nBasically my workaround is to add to the arrays the existing saved values which are not in the new arrays. Then the user can deselect them (or keep them). If the user deselects the old values, they will not appear next time.\r\n\r\nIn override of PreferenceFragmentCompat : onCreatePreferences\r\n\r\n    val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\r\n    val oldValues = sharedPreferences.getStringSet(&quot;experiment&quot;,  emptySet&lt;String&gt;())\r\n    if (oldValues != null) {\r\n       val onlyOldValues = oldValues.toMutableSet()\r\n       onlyOldValues.removeAll(entryValues.toSet())\r\n       entryValues += onlyOldValues\r\n       entries += onlyOldValues\r\n    }","title":"MultiSelectListPreference keeps old values. Is it a bug and what can be done?","body":"<p>I did mange to make a workaround.\nHowever I would be happy for other workarounds and also having another opinion on seeing this as a bug.</p>\n<p>Basically my workaround is to add to the arrays the existing saved values which are not in the new arrays. Then the user can deselect them (or keep them). If the user deselects the old values, they will not appear next time.</p>\n<p>In override of PreferenceFragmentCompat : onCreatePreferences</p>\n<pre><code>val sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\nval oldValues = sharedPreferences.getStringSet(&quot;experiment&quot;,  emptySet&lt;String&gt;())\nif (oldValues != null) {\n   val onlyOldValues = oldValues.toMutableSet()\n   onlyOldValues.removeAll(entryValues.toSet())\n   entryValues += onlyOldValues\n   entries += onlyOldValues\n}\n</code></pre>\n"}],"owner":{"account_id":7740347,"reputation":452,"user_id":5860352,"display_name":"Doron Ben-Ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672221179,"creation_date":1671443971,"question_id":74848867,"body_markdown":"If the array of choices for MultiSelectListPreference is changed, the previous stored selections in preferences can&#39;t be removed by the user.\r\n\r\n----------\r\n\r\nI wrote a MultiSelectListPreference in xml as follows and used it in a PreferenceFragmentCompat:\r\n\r\n    &lt;PreferenceCategory app:title=&quot;experiment&quot;&gt;\r\n        &lt;MultiSelectListPreference\r\n            app:key=&quot;experiment&quot;\r\n            app:entries=&quot;@array/abc&quot;\r\n            app:entryValues=&quot;@array/abc&quot;\r\n            app:title=&quot;my values test&quot;\r\n            /&gt;\r\n    &lt;/PreferenceCategory&gt;\r\n\r\nAnd the array is \r\n\r\n    &lt;array name=&quot;abc&quot;&gt;\r\n        &lt;item&gt;a&lt;/item&gt;\r\n        &lt;item&gt;b&lt;/item&gt;\r\n        &lt;item&gt;c&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nWhen in the UI selecting all choices, the result in preferences file is\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nNow changing the array to be\r\n\r\n    &lt;array name=&quot;abc&quot;&gt;\r\n        &lt;item&gt;A&lt;/item&gt;\r\n        &lt;item&gt;B&lt;/item&gt;\r\n        &lt;item&gt;C&lt;/item&gt;\r\n    &lt;/array&gt;\r\n\r\nand going to preferences UI again. The user sees only the new choices, and if selecting all choices the resulting preferences file is\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;A&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;B&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n        &lt;string&gt;C&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nAnd if deselecting all choices the result is again\r\n\r\n    &lt;set name=&quot;experiment&quot;&gt;\r\n        &lt;string&gt;a&lt;/string&gt;\r\n        &lt;string&gt;b&lt;/string&gt;\r\n        &lt;string&gt;c&lt;/string&gt;\r\n    &lt;/set&gt;\r\n\r\nThe user has no way to clear the old selected values.\r\n\r\n(In my real case, the arrays are set on runtime and made from phone contacts, so they can change when contacts change.)\r\n\r\nIt looks to me like a bug. I would expect that after the user changes selections, the saved preferences would contain only choices the user sees.\r\n\r\nMy question, is it a bug, and what workaround can be done?","title":"MultiSelectListPreference keeps old values. Is it a bug and what can be done?","body":"<p>If the array of choices for MultiSelectListPreference is changed, the previous stored selections in preferences can't be removed by the user.</p>\n<hr />\n<p>I wrote a MultiSelectListPreference in xml as follows and used it in a PreferenceFragmentCompat:</p>\n<pre><code>&lt;PreferenceCategory app:title=&quot;experiment&quot;&gt;\n    &lt;MultiSelectListPreference\n        app:key=&quot;experiment&quot;\n        app:entries=&quot;@array/abc&quot;\n        app:entryValues=&quot;@array/abc&quot;\n        app:title=&quot;my values test&quot;\n        /&gt;\n&lt;/PreferenceCategory&gt;\n</code></pre>\n<p>And the array is</p>\n<pre><code>&lt;array name=&quot;abc&quot;&gt;\n    &lt;item&gt;a&lt;/item&gt;\n    &lt;item&gt;b&lt;/item&gt;\n    &lt;item&gt;c&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>When in the UI selecting all choices, the result in preferences file is</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>Now changing the array to be</p>\n<pre><code>&lt;array name=&quot;abc&quot;&gt;\n    &lt;item&gt;A&lt;/item&gt;\n    &lt;item&gt;B&lt;/item&gt;\n    &lt;item&gt;C&lt;/item&gt;\n&lt;/array&gt;\n</code></pre>\n<p>and going to preferences UI again. The user sees only the new choices, and if selecting all choices the resulting preferences file is</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;A&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;B&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n    &lt;string&gt;C&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>And if deselecting all choices the result is again</p>\n<pre><code>&lt;set name=&quot;experiment&quot;&gt;\n    &lt;string&gt;a&lt;/string&gt;\n    &lt;string&gt;b&lt;/string&gt;\n    &lt;string&gt;c&lt;/string&gt;\n&lt;/set&gt;\n</code></pre>\n<p>The user has no way to clear the old selected values.</p>\n<p>(In my real case, the arrays are set on runtime and made from phone contacts, so they can change when contacts change.)</p>\n<p>It looks to me like a bug. I would expect that after the user changes selections, the saved preferences would contain only choices the user sees.</p>\n<p>My question, is it a bug, and what workaround can be done?</p>\n"},{"tags":["java","excel","apache-poi","html-select","validation"],"answers":[{"tags":[],"owner":{"account_id":308516,"reputation":19297,"user_id":620444,"accept_rate":100,"display_name":"Andy G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371891134,"creation_date":1371890309,"answer_id":17248860,"question_id":17248470,"body_markdown":"You could use an ActiveX ComboBox in a worksheet, available from the Developers tab.\r\n\r\nEnter both columns of data into the worksheet - you can hide the columns. Then set properties of the combobox:\r\n\r\n - ColumnCount 2\r\n - BoundColumn 1\r\n - ColumnWidths 0 pt; 20 pt\r\n\r\nSet the `ListFillRange` and `LinkedCell`.\r\n\r\nI understand there used to be issues with distributing workbooks containing ActiveX controls. I am not sure if this is still an issue, particularly when used a common (standard) control.\r\n\r\nOf course, Excel is not designed to be a front-end to a database, so you&#39;ll need to write all the code to keep everything in-sync.\r\n\r\nYou could use the simpler Form Control/ComboBox. This will only store the index number in a cell - it does not have any events that you can use. You could use a formula based on the linked cell, that stores the description in another cell. When the user (presumably) clicks a button to submit the data, you would retrieve and store the description from this cell.","title":"Droplist in Excel using Poi","body":"<p>You could use an ActiveX ComboBox in a worksheet, available from the Developers tab.</p>\n\n<p>Enter both columns of data into the worksheet - you can hide the columns. Then set properties of the combobox:</p>\n\n<ul>\n<li>ColumnCount 2</li>\n<li>BoundColumn 1</li>\n<li>ColumnWidths 0 pt; 20 pt</li>\n</ul>\n\n<p>Set the <code>ListFillRange</code> and <code>LinkedCell</code>.</p>\n\n<p>I understand there used to be issues with distributing workbooks containing ActiveX controls. I am not sure if this is still an issue, particularly when used a common (standard) control.</p>\n\n<p>Of course, Excel is not designed to be a front-end to a database, so you'll need to write all the code to keep everything in-sync.</p>\n\n<p>You could use the simpler Form Control/ComboBox. This will only store the index number in a cell - it does not have any events that you can use. You could use a formula based on the linked cell, that stores the description in another cell. When the user (presumably) clicks a button to submit the data, you would retrieve and store the description from this cell.</p>\n"},{"tags":[],"owner":{"account_id":3674719,"reputation":520,"user_id":3061062,"display_name":"NicoESIEA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672220952,"creation_date":1672220952,"answer_id":74938694,"question_id":17248470,"body_markdown":"Hmm I can see many **placeholder** occurs all around the web related to java poi... but it seems there is no solution for your question. The only way I found to manage this is to set the cell value with my default text - the first value! ","title":"Droplist in Excel using Poi","body":"<p>Hmm I can see many <strong>placeholder</strong> occurs all around the web related to java poi... but it seems there is no solution for your question. The only way I found to manage this is to set the cell value with my default text - the first value!</p>\n"}],"owner":{"account_id":2926853,"reputation":132,"user_id":2507974,"accept_rate":57,"display_name":"user2507974"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672220952,"creation_date":1371886571,"question_id":17248470,"body_markdown":"How can I create a drop list in excel like drop list in html with the inbuilt &quot;value&quot; like attribute?\r\n\r\nMy Requirement is: I want to show the description which is not stored in database, but the code for description.\r\n\r\n**Ex:** I have a subject list in an excel cell, for Science the description is &quot;Science&quot;, but I want to store the code &quot;SCI&quot; in the Database.","title":"Droplist in Excel using Poi","body":"<p>How can I create a drop list in excel like drop list in html with the inbuilt \"value\" like attribute?</p>\n\n<p>My Requirement is: I want to show the description which is not stored in database, but the code for description.</p>\n\n<p><strong>Ex:</strong> I have a subject list in an excel cell, for Science the description is \"Science\", but I want to store the code \"SCI\" in the Database.</p>\n"},{"tags":["java","mongodb","android-studio","realm"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1672250948,"post_id":74938655,"comment_id":132252529,"body_markdown":"For clarification, do you want to do this task using the [Realm Java SDK](https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/) or using the MongoClient remotely?","body":"For clarification, do you want to do this task using the <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/\" rel=\"nofollow noreferrer\">Realm Java SDK</a> or using the MongoClient remotely?"},{"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"score":0,"creation_date":1672271264,"post_id":74938655,"comment_id":132257120,"body_markdown":"using the Realm Java SDK","body":"using the Realm Java SDK"},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1672320271,"post_id":74938655,"comment_id":132266516,"body_markdown":"Excellent! I suggesting reading over the getting started guide [Realm Java SDK](https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/) and take a look at [Write Operations](https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/#write-operations). Follow the processes in that guide to read and write data. *Use realm.createObject() in a transaction to create a persistent instance of a Realm object in a realm*","body":"Excellent! I suggesting reading over the getting started guide <a href=\"https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/\" rel=\"nofollow noreferrer\">Realm Java SDK</a> and take a look at <a href=\"https://www.mongodb.com/docs/realm/sdk/java/examples/read-and-write-data/#write-operations\" rel=\"nofollow noreferrer\">Write Operations</a>. Follow the processes in that guide to read and write data. <i>Use realm.createObject() in a transaction to create a persistent instance of a Realm object in a realm</i>"}],"owner":{"account_id":27306233,"reputation":15,"user_id":20822155,"display_name":"Ne Mo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672220738,"creation_date":1672220738,"question_id":74938655,"body_markdown":"I am trying to develop an android application withAndroid Studio in java and to insert data from a text entered in the application into the mongodb database, however, although the connection is carried out without problem the logs return me &quot;Error:FUNCTION_EXECUTION_ERROR(realm::app::ServiceError:14): can&#39;t find a table mapping for namespace db.collec&quot;. I do however have a collection named collec in a db database.\r\n\r\nHere is my code in java, do you know what is causing this\r\n```\r\npublic void onClick(View v) {\r\n    User user = app.currentUser();\r\n    mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\r\n    mongoDatabase = mongoClient.getDatabase(&quot;db&quot;);\r\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;collec&quot;);\r\n\r\n    mongoCollection.insertOne(new Document(&quot;userid&quot;,user.getId()).append(&quot;data&quot;,dataEditText.getText().toString())).getAsync(result -&gt; {\r\n        if(result.isSuccess())\r\n        {\r\n            Log.v(&quot;Data&quot;,&quot;Data Inserted Successfully&quot;);\r\n        }\r\n        else\r\n        {\r\n            Log.v(&quot;Data&quot;,&quot;Error:&quot;+result.getError().toString());\r\n        }\r\n    });\r\n\r\n```\r\n\r\n\r\nThe error seems to be the same as here but I don&#39;t understand the resolution. \r\n\r\nhttps://stackoverflow.com/questions/72905321/mongodb-realm-functions-on-react-native","title":"Mongodb : can&#39;t find a table mapping for namespace database.collection","body":"<p>I am trying to develop an android application withAndroid Studio in java and to insert data from a text entered in the application into the mongodb database, however, although the connection is carried out without problem the logs return me &quot;Error:FUNCTION_EXECUTION_ERROR(realm::app::ServiceError:14): can't find a table mapping for namespace db.collec&quot;. I do however have a collection named collec in a db database.</p>\n<p>Here is my code in java, do you know what is causing this</p>\n<pre><code>public void onClick(View v) {\n    User user = app.currentUser();\n    mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\n    mongoDatabase = mongoClient.getDatabase(&quot;db&quot;);\n    MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;collec&quot;);\n\n    mongoCollection.insertOne(new Document(&quot;userid&quot;,user.getId()).append(&quot;data&quot;,dataEditText.getText().toString())).getAsync(result -&gt; {\n        if(result.isSuccess())\n        {\n            Log.v(&quot;Data&quot;,&quot;Data Inserted Successfully&quot;);\n        }\n        else\n        {\n            Log.v(&quot;Data&quot;,&quot;Error:&quot;+result.getError().toString());\n        }\n    });\n\n</code></pre>\n<p>The error seems to be the same as here but I don't understand the resolution.</p>\n<p><a href=\"https://stackoverflow.com/questions/72905321/mongodb-realm-functions-on-react-native\">MongoDB Realm Functions on React Native</a></p>\n"},{"tags":["java","spring","postgresql","spring-boot","liquibase"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1583746061,"post_id":60597635,"comment_id":107206752,"body_markdown":"Please **[edit]** your question (by clicking on the [edit] link below it) and show us your `pom.xml` and the **complete** command how you invoke Liquibase. [Formatted text](https://meta.stackoverflow.com/a/251362) please, [no screen shots](http://meta.stackoverflow.com/questions/285551/why-may-i-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557) - [edit] your question, please do not post code in comments","body":"Please <b><a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a></b> your question (by clicking on the <a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a> link below it) and show us your <code>pom.xml</code> and the <b>complete</b> command how you invoke Liquibase. <a href=\"https://meta.stackoverflow.com/a/251362\">Formatted text</a> please, <a href=\"http://meta.stackoverflow.com/questions/285551/why-may-i-not-upload-images-of-code-on-so-when-asking-a-question/285557#285557\">no screen shots</a> - <a href=\"https://stackoverflow.com/posts/60597635/edit\">edit</a> your question, please do not post code in comments"}],"answers":[{"tags":[],"owner":{"account_id":6542,"reputation":8830,"user_id":11051,"accept_rate":67,"display_name":"SteveDonie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583852713,"creation_date":1583852713,"answer_id":60620350,"question_id":60597635,"body_markdown":"I think the issue is that in your property file as specified in your pom.xml `&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;` you have used `ChangeLogFile` (with a capital C) rather than `changeLogFile` (with a lower case C). Note the error message shows the correct casing. \r\n","title":"The changeLogFile must be specified error on Liquibase","body":"<p>I think the issue is that in your property file as specified in your pom.xml <code>&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;</code> you have used <code>ChangeLogFile</code> (with a capital C) rather than <code>changeLogFile</code> (with a lower case C). Note the error message shows the correct casing. </p>\n"},{"tags":[],"owner":{"account_id":1795933,"reputation":11,"user_id":1635334,"display_name":"molino.bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643383091,"creation_date":1643383091,"answer_id":70896048,"question_id":60597635,"body_markdown":"For db updates you must specify the property **changeLogFile** in your *pom.xml*, in the plugin *liquibase-maven-plugin* section. \r\nSee the snippet:\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n\t\t        &lt;configuration&gt;                  \r\n\t\t            &lt;propertyFile&gt;src/main/resources/db/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t            &lt;changeLogFile&gt;src/main/resources/db/updateDb.xml&lt;/changeLogFile&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t    &lt;/plugin&gt; \r\nRan on liquibase *4.7.1*\r\n\r\nHere the complete MVN log:\r\n\r\n&lt;pre&gt;\r\n\t&lt;font color=&quot;#4E9A06&quot;&gt;&lt;b&gt;bmolino@Betelgeuse&lt;/b&gt;&lt;/font&gt;:&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;~/git/simbo-repo/simbo/simbo-ws&lt;/b&gt;&lt;/font&gt;&lt;font color=&quot;#CC0000&quot;&gt;&lt;b&gt;(master)&lt;/b&gt;&lt;/font&gt;$ /opt/apache-maven-3.6.3/bin/mvn liquibase:update\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Scanning for projects...\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;----------------&amp;lt; &lt;/b&gt;&lt;font color=&quot;#06989A&quot;&gt;it.invallee.webapp.simbo-ws:simbo-ws&lt;/font&gt;&lt;b&gt; &amp;gt;----------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;Building simbo-ws 0.0.1-SNAPSHOT&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;--------------------------------[ jar ]---------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;--- &lt;/b&gt;&lt;font color=&quot;#4E9A06&quot;&gt;liquibase-maven-plugin:4.7.1:update&lt;/font&gt; &lt;b&gt;(default-cli)&lt;/b&gt; @ &lt;font color=&quot;#06989A&quot;&gt;simbo-ws&lt;/font&gt;&lt;b&gt; ---&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[project, pluginDescriptor]\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Parsing Liquibase Properties File\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;]   File: src/main/resources/db/liquibase.properties\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;]   &amp;apos;outputChangeLogFile&amp;apos; in properties file is not being used by this task.\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Liquibase Community 4.7.1 by Liquibase\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ####################################################\r\n\t##   _     _             _ _                      ##\r\n\t##  | |   (_)           (_) |                     ##\r\n\t##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##\r\n\t##  | |   | |/ _` | | | | | &amp;apos;_ \\ / _` / __|/ _ \\  ##\r\n\t##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ##\r\n\t##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ##\r\n\t##              | |                               ##\r\n\t##              |_|                               ##\r\n\t##                                                ## \r\n\t##  Get documentation at docs.liquibase.com       ##\r\n\t##  Get certified courses at learn.liquibase.com  ## \r\n\t##  Free schema change activity reports at        ##\r\n\t##      https://hub.liquibase.com                 ##\r\n\t##                                                ##\r\n\t####################################################\r\n\tStarting Liquibase at 16:05:17 (version 4.7.1 #1239 built at 2022-01-20 20:31+0000)\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Set default schema name to public\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Parsing Liquibase Properties File src/main/resources/db/liquibase.properties for changeLog parameters\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Executing on Database: jdbc:postgresql://XX.XXX.XXX.XXX:5432/simbo\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Successfully acquired change log lock\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Reading from databasechangelog\r\n\tRunning Changeset: src/main/resources/db/updateDb.xml::1::bob\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Table department created\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ChangeSet src/main/resources/db/updateDb.xml::1::bob ran successfully in 16ms\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Successfully released change log lock\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] ------------------------------------------------------------------------\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] \r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;font color=&quot;#4E9A06&quot;&gt;&lt;b&gt;BUILD SUCCESS&lt;/b&gt;&lt;/font&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Total time:  2.073 s\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] Finished at: 2022-01-28T16:05:18+01:00\r\n\t[&lt;font color=&quot;#3465A4&quot;&gt;&lt;b&gt;INFO&lt;/b&gt;&lt;/font&gt;] &lt;b&gt;------------------------------------------------------------------------&lt;/b&gt;\r\n&lt;/pre&gt;","title":"The changeLogFile must be specified error on Liquibase","body":"<p>For db updates you must specify the property <strong>changeLogFile</strong> in your <em>pom.xml</em>, in the plugin <em>liquibase-maven-plugin</em> section.\nSee the snippet:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n            &lt;configuration&gt;                  \n                &lt;propertyFile&gt;src/main/resources/db/liquibase.properties&lt;/propertyFile&gt;\n                &lt;changeLogFile&gt;src/main/resources/db/updateDb.xml&lt;/changeLogFile&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n</code></pre>\n<p>Ran on liquibase <em>4.7.1</em></p>\n<p>Here the complete MVN log:</p>\n<pre>\n    <b>bmolino@Betelgeuse</b>:<b>~/git/simbo-repo/simbo/simbo-ws</b><b>(master)</b>$ /opt/apache-maven-3.6.3/bin/mvn liquibase:update\n    [<b>INFO</b>] Scanning for projects...\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>----------------&lt; </b>it.invallee.webapp.simbo-ws:simbo-ws<b> &gt;----------------</b>\n    [<b>INFO</b>] <b>Building simbo-ws 0.0.1-SNAPSHOT</b>\n    [<b>INFO</b>] <b>--------------------------------[ jar ]---------------------------------</b>\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>--- </b>liquibase-maven-plugin:4.7.1:update <b>(default-cli)</b> @ simbo-ws<b> ---</b>\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [project, pluginDescriptor]\n    [<b>INFO</b>] Parsing Liquibase Properties File\n    [<b>INFO</b>]   File: src/main/resources/db/liquibase.properties\n    [<b>INFO</b>]   &apos;outputChangeLogFile&apos; in properties file is not being used by this task.\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [<b>INFO</b>] \n    [<b>INFO</b>] \n    [<b>INFO</b>] Liquibase Community 4.7.1 by Liquibase\n    [<b>INFO</b>] ####################################################\n    ##   _     _             _ _                      ##\n    ##  | |   (_)           (_) |                     ##\n    ##  | |    _  __ _ _   _ _| |__   __ _ ___  ___   ##\n    ##  | |   | |/ _` | | | | | &apos;_ \\ / _` / __|/ _ \\  ##\n    ##  | |___| | (_| | |_| | | |_) | (_| \\__ \\  __/  ##\n    ##  \\_____/_|\\__, |\\__,_|_|_.__/ \\__,_|___/\\___|  ##\n    ##              | |                               ##\n    ##              |_|                               ##\n    ##                                                ## \n    ##  Get documentation at docs.liquibase.com       ##\n    ##  Get certified courses at learn.liquibase.com  ## \n    ##  Free schema change activity reports at        ##\n    ##      https://hub.liquibase.com                 ##\n    ##                                                ##\n    ####################################################\n    Starting Liquibase at 16:05:17 (version 4.7.1 #1239 built at 2022-01-20 20:31+0000)\n    [<b>INFO</b>] Set default schema name to public\n    [<b>INFO</b>] Parsing Liquibase Properties File src/main/resources/db/liquibase.properties for changeLog parameters\n    [<b>INFO</b>] Executing on Database: jdbc:postgresql://XX.XXX.XXX.XXX:5432/simbo\n    [<b>INFO</b>] Successfully acquired change log lock\n    [<b>INFO</b>] Reading from databasechangelog\n    Running Changeset: src/main/resources/db/updateDb.xml::1::bob\n    [<b>INFO</b>] Table department created\n    [<b>INFO</b>] ChangeSet src/main/resources/db/updateDb.xml::1::bob ran successfully in 16ms\n    [<b>INFO</b>] Successfully released change log lock\n    [<b>INFO</b>] ------------------------------------------------------------------------\n    [<b>INFO</b>] \n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n    [<b>INFO</b>] <b>BUILD SUCCESS</b>\n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n    [<b>INFO</b>] Total time:  2.073 s\n    [<b>INFO</b>] Finished at: 2022-01-28T16:05:18+01:00\n    [<b>INFO</b>] <b>------------------------------------------------------------------------</b>\n</pre>\n"},{"comments":[{"owner":{"account_id":12202245,"reputation":75,"user_id":8906257,"display_name":"Francisco Prado"},"score":0,"creation_date":1681400012,"post_id":72842157,"comment_id":134053536,"body_markdown":"I&#39;m using 4.6.1 version and THIS works for me! Thanks!","body":"I&#39;m using 4.6.1 version and THIS works for me! Thanks!"}],"tags":[],"owner":{"account_id":1418198,"reputation":563,"user_id":1343373,"display_name":"thelastworm"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656792891,"creation_date":1656792891,"answer_id":72842157,"question_id":60597635,"body_markdown":"You should move to **liquibase** version **4.11.0**\r\n\r\nand change ```changeLogFile``` to ```outputChangeLogFile```\r\n\r\nHope that&#39;s help","title":"The changeLogFile must be specified error on Liquibase","body":"<p>You should move to <strong>liquibase</strong> version <strong>4.11.0</strong></p>\n<p>and change <code>changeLogFile</code> to <code>outputChangeLogFile</code></p>\n<p>Hope that's help</p>\n"},{"tags":[],"owner":{"account_id":24662407,"reputation":121,"user_id":18558485,"display_name":"Bobobobobobooo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672220675,"creation_date":1672220675,"answer_id":74938647,"question_id":60597635,"body_markdown":"When you change something in **liquibase.properties**, you should compile source code every time. `mvn compile`","title":"The changeLogFile must be specified error on Liquibase","body":"<p>When you change something in <strong>liquibase.properties</strong>, you should compile source code every time. <code>mvn compile</code></p>\n"}],"owner":{"account_id":8202906,"reputation":73,"user_id":6173662,"display_name":"Purushottam kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8764,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1672220675,"creation_date":1583745798,"question_id":60597635,"body_markdown":"I am new to Liquibase and i tried to using the liquibase with postgres database to create database tables using liquibase script. What i did is, i already created Postgres tables manually and by running the command \r\n\r\n*mvn liquibase:generateChangeLog* \r\n\r\ni created liquibase-outputChangeLog.xml file. Now i try to update that script and create one more table in the database. For that i write the XML code in my changeLog.xml file for that new table and try to execute the command \r\n\r\n*mvn liquibase:update*\r\n\r\nBut its giving me below error\r\n\r\nThe ChangeLogFile must be specified. \r\n\r\nBelow is my POM.xml file. \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.sample&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.sample&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-starter-logging&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;42.2.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!--Sonar Plugins--&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nCould any one of them please help me , whats wrong here.\r\n\r\nstrong text[![**enter image description here**][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIyQL.png","title":"The changeLogFile must be specified error on Liquibase","body":"<p>I am new to Liquibase and i tried to using the liquibase with postgres database to create database tables using liquibase script. What i did is, i already created Postgres tables manually and by running the command </p>\n\n<p><em>mvn liquibase:generateChangeLog</em> </p>\n\n<p>i created liquibase-outputChangeLog.xml file. Now i try to update that script and create one more table in the database. For that i write the XML code in my changeLog.xml file for that new table and try to execute the command </p>\n\n<p><em>mvn liquibase:update</em></p>\n\n<p>But its giving me below error</p>\n\n<p>The ChangeLogFile must be specified. </p>\n\n<p>Below is my POM.xml file. </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;tech.sample&lt;/groupId&gt;\n        &lt;artifactId&gt;common-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.sample&lt;/groupId&gt;\n        &lt;artifactId&gt;common-starter-logging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;version&gt;3.8.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;!--Sonar Plugins--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.temyers&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm-parallel-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Could any one of them please help me , whats wrong here.</p>\n\n<p>strong text<a href=\"https://i.stack.imgur.com/BIyQL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BIyQL.png\" alt=\"**enter image description here**\"></a></p>\n"},{"tags":["java","sonarqube"],"owner":{"account_id":4083510,"reputation":139,"user_id":3353393,"accept_rate":57,"display_name":"user3353393"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672220293,"creation_date":1672220293,"question_id":74938582,"body_markdown":"So little introduction. \r\n\r\nI have been using this for learning -&gt; https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md\r\n\r\nI created sonar docker instance from docker compose -&gt; https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml\r\n\r\nI have created a very very simple rule. Here is a full source code (this rule is checking only for interfaces commenets): \r\n\r\n    @Rule(key = &quot;PublicInterfaceWithJavaDocComments&quot;)\r\n    public class PublicInterfaceWithJavaDocComments extends BaseTreeVisitor implements JavaFileScanner {\r\n    \r\n        private JavaFileScannerContext context;\r\n    \r\n        @Override\r\n        public void scanFile(JavaFileScannerContext context) {\r\n            this.context = context;\r\n            scan(context.getTree());\r\n        }\r\n    \r\n        @Override\r\n        public void visitClass(ClassTree tree) {\r\n            if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; tree.symbol().isPublic()) {\r\n                final Javadoc javadoc = new Javadoc(tree);\r\n                if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; isDescriptionEmpty(javadoc)) {\r\n                    this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interface declaration.&quot;);\r\n                }\r\n                super.visitClass(tree);\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void visitMethod(MethodTree tree) {\r\n            Javadoc javadoc = new Javadoc(tree);\r\n            if (tree.is(Tree.Kind.METHOD) &amp;&amp; javadoc.noMainDescription()) {\r\n                this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interfaces methods declaration.&quot;);\r\n            }\r\n            super.visitMethod(tree);\r\n    \r\n        }\r\n    \r\n        public boolean isDescriptionEmpty(Javadoc javadoc) {\r\n            return javadoc.noMainDescription(); // check if it returns true when description exists\r\n        }\r\n    \r\n    }\r\n\r\nSo till this moment nothing ordinary - tests are passing its time to deploy this to sonar. So I run mvn package I have my jar file (which is pretty small 384 kb) I put it on **$SONAR_HOME/extensions/plugins** everything is perfect. I can see rule in sonar I activate it and now its time to test it.\r\n\r\nI have sample gradle project so its not a big deal (Im on windows machine) - so I use command: \r\n\r\n./gradlew sonar --stacktrace -D&quot;sonar.projectKey=Test&quot; -D&quot;sonar.host.url=http://localhost:9000&quot; -D&quot;sonar.login=sqp_9b1a09f402459589aa3eeea6105e\r\n9a3d86400c6d&quot;\r\n\r\nAnd here I have a issue: \r\n\r\n**Caused by: java.lang.ClassNotFoundException: org.sonar.java.checks.helpers.Javadoc**\r\n\r\nLooks like Sonar dont have this class ? What I have done wrong ? ","title":"SonarQube - java custom rule - class not found","body":"<p>So little introduction.</p>\n<p>I have been using this for learning -&gt; <a href=\"https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-java/blob/master/docs/CUSTOM_RULES_101.md</a></p>\n<p>I created sonar docker instance from docker compose -&gt; <a href=\"https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/docker-sonarqube/blob/master/example-compose-files/sq-with-postgres/docker-compose.yml</a></p>\n<p>I have created a very very simple rule. Here is a full source code (this rule is checking only for interfaces commenets):</p>\n<pre><code>@Rule(key = &quot;PublicInterfaceWithJavaDocComments&quot;)\npublic class PublicInterfaceWithJavaDocComments extends BaseTreeVisitor implements JavaFileScanner {\n\n    private JavaFileScannerContext context;\n\n    @Override\n    public void scanFile(JavaFileScannerContext context) {\n        this.context = context;\n        scan(context.getTree());\n    }\n\n    @Override\n    public void visitClass(ClassTree tree) {\n        if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; tree.symbol().isPublic()) {\n            final Javadoc javadoc = new Javadoc(tree);\n            if (tree.is(Tree.Kind.INTERFACE) &amp;&amp; isDescriptionEmpty(javadoc)) {\n                this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interface declaration.&quot;);\n            }\n            super.visitClass(tree);\n        }\n\n    }\n\n    @Override\n    public void visitMethod(MethodTree tree) {\n        Javadoc javadoc = new Javadoc(tree);\n        if (tree.is(Tree.Kind.METHOD) &amp;&amp; javadoc.noMainDescription()) {\n            this.context.reportIssue(this, tree, &quot;JavaDoc missing on public interfaces methods declaration.&quot;);\n        }\n        super.visitMethod(tree);\n\n    }\n\n    public boolean isDescriptionEmpty(Javadoc javadoc) {\n        return javadoc.noMainDescription(); // check if it returns true when description exists\n    }\n\n}\n</code></pre>\n<p>So till this moment nothing ordinary - tests are passing its time to deploy this to sonar. So I run mvn package I have my jar file (which is pretty small 384 kb) I put it on <strong>$SONAR_HOME/extensions/plugins</strong> everything is perfect. I can see rule in sonar I activate it and now its time to test it.</p>\n<p>I have sample gradle project so its not a big deal (Im on windows machine) - so I use command:</p>\n<p>./gradlew sonar --stacktrace -D&quot;sonar.projectKey=Test&quot; -D&quot;sonar.host.url=http://localhost:9000&quot; -D&quot;sonar.login=sqp_9b1a09f402459589aa3eeea6105e\n9a3d86400c6d&quot;</p>\n<p>And here I have a issue:</p>\n<p><strong>Caused by: java.lang.ClassNotFoundException: org.sonar.java.checks.helpers.Javadoc</strong></p>\n<p>Looks like Sonar dont have this class ? What I have done wrong ?</p>\n"},{"tags":["java","smb","jcifs"],"comments":[{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1645543357,"post_id":71223796,"comment_id":125896086,"body_markdown":"&quot;doesn&#39;t work&quot; Please explain (e.g., show exception) as an update to your post.","body":"&quot;doesn&#39;t work&quot; Please explain (e.g., show exception) as an update to your post."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1645543439,"post_id":71223796,"comment_id":125896120,"body_markdown":"@JeffHolt updated the question with exception","body":"@JeffHolt updated the question with exception"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645543637,"post_id":71223796,"comment_id":125896205,"body_markdown":"`Paths.get(sTargetFile.getCanonicalPath())` might work instead of `(Path) sTargetFile`.","body":"<code>Paths.get(sTargetFile.getCanonicalPath())</code> might work instead of <code>(Path) sTargetFile</code>."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645543797,"post_id":71223796,"comment_id":125896275,"body_markdown":"You may indeed have a samba problem but your immediate problem is not at all related to samba. It is merely a data type problem. The title of the question is not correct.","body":"You may indeed have a samba problem but your immediate problem is not at all related to samba. It is merely a data type problem. The title of the question is not correct."},{"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"score":0,"creation_date":1645544245,"post_id":71223796,"comment_id":125896482,"body_markdown":"I don&#39;t think its a samba problem as I am able to auth and drop files at the SMB location without any issues.\nWhen I tried using getCanonicalPath() I get something like this:-\njava.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: smb1://sharePath/abc/smblocation/xyz.xml.\nPlease notice &#39;1&#39; that appeared in the exception after smb.  The actual path is something like this - smb://sharePath/abc/smblocation/xyz.xml.","body":"I don&#39;t think its a samba problem as I am able to auth and drop files at the SMB location without any issues. When I tried using getCanonicalPath() I get something like this:- java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: smb1://sharePath/abc/smblocation/xyz.xml. Please notice &#39;1&#39; that appeared in the exception after smb.  The actual path is something like this - smb://sharePath/abc/smblocation/xyz.xml."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645544445,"post_id":71223796,"comment_id":125896578,"body_markdown":"I meant Java-Samba problem, not samba problem. That is, after fixing the data type problem, you find something else wrong.","body":"I meant Java-Samba problem, not samba problem. That is, after fixing the data type problem, you find something else wrong."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1645573983,"post_id":71223796,"comment_id":125906867,"body_markdown":"Seen [this](https://stackoverflow.com/questions/36339504/convert-smbfile-to-java-io-file)?","body":"Seen <a href=\"https://stackoverflow.com/questions/36339504/convert-smbfile-to-java-io-file\">this</a>?"}],"answers":[{"tags":[],"owner":{"account_id":4649361,"reputation":41,"user_id":3924633,"display_name":"user3924633"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645596597,"creation_date":1645596597,"answer_id":71232080,"question_id":71223796,"body_markdown":"You may be using an outdated library. Look for maintained alternatives such as JFileServer or jNQ.","title":"Move a file from a non-SMB location to a SMB location in Java","body":"<p>You may be using an outdated library. Look for maintained alternatives such as JFileServer or jNQ.</p>\n"}],"owner":{"account_id":4777108,"reputation":89,"user_id":3859913,"display_name":"Oasis001"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672219126,"creation_date":1645543000,"question_id":71223796,"body_markdown":"How do you move a file from a local non-SMB folder to a SMB location in the server?\r\n\r\nBelow code doesn&#39;t work, but it&#39;s something like this what I am after. I am able to authenticate the smb location.\r\n\r\n\r\n\r\n    String sourceFile=&quot;target/abc.xml&quot;;\r\n    String smbDestinationFile=&quot;sharePath/abc/smblocation/xyz.xml&quot;;\r\n    SmbFile sTargetFile = performAuthenticationAndChecks(destinationFile, domain, domainUsername,\r\n        domainPassword);\r\n    Files.move(Paths.get(sourceFile), (Path) sTargetFile);\r\n\r\nI get this error:\r\n\r\n    java.lang.ClassCastException: jcifs.smb1.smb1.SmbFile cannot be cast to java.nio.file.Path","title":"Move a file from a non-SMB location to a SMB location in Java","body":"<p>How do you move a file from a local non-SMB folder to a SMB location in the server?</p>\n<p>Below code doesn't work, but it's something like this what I am after. I am able to authenticate the smb location.</p>\n<pre><code>String sourceFile=&quot;target/abc.xml&quot;;\nString smbDestinationFile=&quot;sharePath/abc/smblocation/xyz.xml&quot;;\nSmbFile sTargetFile = performAuthenticationAndChecks(destinationFile, domain, domainUsername,\n    domainPassword);\nFiles.move(Paths.get(sourceFile), (Path) sTargetFile);\n</code></pre>\n<p>I get this error:</p>\n<pre><code>java.lang.ClassCastException: jcifs.smb1.smb1.SmbFile cannot be cast to java.nio.file.Path\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9449,"page":774,"page_size":100}
