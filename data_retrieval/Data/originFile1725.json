{"items":[{"tags":["java","docker","jboss","tls1.3"],"answers":[{"tags":[],"owner":{"account_id":191808,"reputation":973,"user_id":432605,"accept_rate":50,"display_name":"Burcin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640783027,"creation_date":1640783027,"answer_id":70519805,"question_id":70517507,"body_markdown":"I download the jdk1.8.0_311 package an unzip it. With using COPY command I override the old JDK in the image with DockerFile, it worked!\r\n\r\n**DockerFile**\r\n\r\n    FROM jboss/wildfly:10.1.0.Final\r\n    \r\n    USER root\r\n    COPY JRE/* /usr/lib/jvm/java/\r\n    RUN chown -R root /usr/lib/jvm/java/\r\n    RUN chmod -R 775 /usr/lib/jvm/java/\r\n\r\n","title":"Updating OpenJDK Version in an Older jboss/wildfly Docker Image","body":"<p>I download the jdk1.8.0_311 package an unzip it. With using COPY command I override the old JDK in the image with DockerFile, it worked!</p>\n<p><strong>DockerFile</strong></p>\n<pre><code>FROM jboss/wildfly:10.1.0.Final\n\nUSER root\nCOPY JRE/* /usr/lib/jvm/java/\nRUN chown -R root /usr/lib/jvm/java/\nRUN chmod -R 775 /usr/lib/jvm/java/\n</code></pre>\n"}],"owner":{"account_id":191808,"reputation":973,"user_id":432605,"accept_rate":50,"display_name":"Burcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519805,"answer_count":1,"score":0,"last_activity_date":1640783027,"creation_date":1640770134,"question_id":70517507,"body_markdown":"For **TLSv1.3** support we need min Java 8u261-b12 version as [discussed here][1]. \r\n\r\nHow can we update Open JDK version to **8u lastest** in an older Docker Image such as **jboss/wildfly:10.1.0.Final**?\r\n\r\nIs there a best practice for that? My DockerFile starts like that:\r\n\r\n    FROM jboss/wildfly:10.1.0.Final\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8","title":"Updating OpenJDK Version in an Older jboss/wildfly Docker Image","body":"<p>For <strong>TLSv1.3</strong> support we need min Java 8u261-b12 version as <a href=\"https://stackoverflow.com/questions/29437596/tlsv1-3-is-it-available-now-in-java-8\">discussed here</a>.</p>\n<p>How can we update Open JDK version to <strong>8u lastest</strong> in an older Docker Image such as <strong>jboss/wildfly:10.1.0.Final</strong>?</p>\n<p>Is there a best practice for that? My DockerFile starts like that:</p>\n<pre><code>FROM jboss/wildfly:10.1.0.Final\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","caching","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1549573476,"post_id":54577172,"comment_id":95961415,"body_markdown":"Have you tried to update a copy of your project using `jhipster upgrade`?","body":"Have you tried to update a copy of your project using <code>jhipster upgrade</code>?"},{"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"score":0,"creation_date":1549575416,"post_id":54577172,"comment_id":95962352,"body_markdown":"Unfortunately that’s how I got into this mess. It upgraded 2 versions and so while merging the updated files back in, caused merge conflicts and errors in around 200 files (almost went insane fixing them).  Now this seems to be the last thing but I’m unsure whether it’s a dependancy issue in my pom or a more core problem.","body":"Unfortunately that’s how I got into this mess. It upgraded 2 versions and so while merging the updated files back in, caused merge conflicts and errors in around 200 files (almost went insane fixing them).  Now this seems to be the last thing but I’m unsure whether it’s a dependancy issue in my pom or a more core problem."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1549579590,"post_id":54577172,"comment_id":95963935,"body_markdown":"Are you sure this error is the first one in logs? It could be a consequence of an earlier error as it was for this user https://github.com/hipster-labs/generator-jhipster-entity-audit/issues/60","body":"Are you sure this error is the first one in logs? It could be a consequence of an earlier error as it was for this user <a href=\"https://github.com/hipster-labs/generator-jhipster-entity-audit/issues/60\" rel=\"nofollow noreferrer\">github.com/hipster-labs/generator-jhipster-entity-audit/issu&zwnj;&#8203;es/&hellip;</a>"},{"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"score":0,"creation_date":1549613865,"post_id":54577172,"comment_id":95972965,"body_markdown":"Unfortunately it does seem that this is the first error in the logs.  I have checked through thoroughly.","body":"Unfortunately it does seem that this is the first error in the logs.  I have checked through thoroughly."}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640782839,"creation_date":1640775388,"answer_id":70518433,"question_id":54577172,"body_markdown":"Just remove this line and it&#39;s will works:\r\n\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n\r\nfor example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;tablename&quot;)\r\n    //@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class ClassName implements Serializable{","title":"How to fix &#39;All Hibernate caches should be created upfront. Please update CacheConfiguration.java to add com.nissan.rca.domain.OCIOMacroTypeOfService&#39;","body":"<p>Just remove this line and it's will works:</p>\n<pre><code>@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n</code></pre>\n<p>for example:</p>\n<pre><code>@Entity\n@Table(name = &quot;tablename&quot;)\n//@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class ClassName implements Serializable{\n</code></pre>\n"}],"owner":{"account_id":14073231,"reputation":173,"user_id":10166224,"display_name":"Benjamin Gowers"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":974,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640782839,"creation_date":1549554624,"question_id":54577172,"body_markdown":"I am fairly new to JHipster and the technology that it uses.  A project that I have joined recently was made using JHipster with spring-boot, hibernate, liquidbase, maven and angular 4.  I took it on myself to upgrade the project (since a lot of the technologies were outdated versions) and I have got stuck trying to solve this error.\r\nI don&#39;t know much about caching at all and don&#39;t really know what the config files do, however I believe that the errors lie in the DatabaseConfiguration.java and CacheConfiguration.java files.\r\n\r\nI receive this error after running the backend with &lt;code&gt;mvn spring-boot:run&lt;/code&gt;\r\n\r\nI&#39;m not sure what to try or how to fix this, however I had a look in CacheConfiguration.java and found that the class which it is telling me to add (com.nissan.rca.domain.OCIOMacroTypeOfService) for caching is already added to the cache manager.\r\n\r\nThis is the error:\r\n\r\n````\r\n2019-02-07 14:58:20.013  WARN 9392 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.spri\r\nngframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error cr\r\neating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$Web\r\nMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to ins\r\ntantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.fa\r\nctory.UnsatisfiedDependencyException: Error creating bean with name &#39;auditEventsEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndp\r\nointAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;auditEventsEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyEx\r\nception: Error creating bean with name &#39;customAuditEventRepository&#39; defined in file [D:\\RCA\\ResourceCalenderApplication\\target\\classes\\com\\nissan\\rca\\repository\\CustomAuditEventRepository.cl\r\nass]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;persistenc\r\neAuditEventRepository&#39;: Cannot create inner bean &#39;(inner bean)#1411479e&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested\r\nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#1411479e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while set\r\nting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [o\r\nrg/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit\r\n: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: All Hibernate caches should be created upfront. Please update CacheConfiguration.jav\r\na to add com.nissan.rca.domain.OCIOMacroTypeOfService\r\n2019-02-07 14:58:20.270 ERROR 9392 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n````\r\n\r\nHere is CacheConfiguration.java\r\n````\r\npackage com.nissan.rca.config;\r\nimport java.time.Duration;\r\nimport org.ehcache.config.builders.*;\r\nimport org.ehcache.jsr107.Eh107Configuration;\r\nimport io.github.jhipster.config.jcache.BeanClassLoaderAwareJCacheRegionFactory;\r\nimport io.github.jhipster.config.JHipsterProperties;\r\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\nimport org.springframework.boot.autoconfigure.AutoConfigureBefore;\r\nimport org.springframework.boot.autoconfigure.cache.JCacheManagerCustomizer;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.*;\r\n\r\n@Configuration\r\n@EnableCaching\r\n// @AutoConfigureAfter(value = { MetricsConfiguration.class })\r\n@AutoConfigureBefore(value = { WebConfigurer.class, DatabaseConfiguration.class })\r\npublic class CacheConfiguration {\r\n\r\n    private final javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration;\r\n\r\n    public CacheConfiguration(JHipsterProperties jHipsterProperties) {\r\n        BeanClassLoaderAwareJCacheRegionFactory.setBeanClassLoader(this.getClass().getClassLoader());\r\n        JHipsterProperties.Cache.Ehcache ehcache =\r\n            jHipsterProperties.getCache().getEhcache();\r\n\r\n        jcacheConfiguration = Eh107Configuration.fromEhcacheCacheConfiguration(\r\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(Object.class, Object.class,\r\n                ResourcePoolsBuilder.heap(ehcache.getMaxEntries()))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(ehcache.getTimeToLiveSeconds())))\r\n                .build());\r\n    }\r\n\r\n    @Bean\r\n    public JCacheManagerCustomizer cacheManagerCustomizer() {\r\n        return cm -&gt; {\r\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_LOGIN_CACHE, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_EMAIL_CACHE, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.User.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Authority.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.User.class.getName() + &quot;.authorities&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Role.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Role.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Section.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Section.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Location.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Location.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName() + &quot;.oCIOTypeOfServices&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + &quot;.resourceEngagements&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + &quot;.currencyExchangeToEuros&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName() + &quot;.resources&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.currencyExchangeToEuros&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.projectBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + &quot;.ongoingBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Project.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Project.class.getName() + &quot;.projectBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.ongoingResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + &quot;.projectResourceBudgetings&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + &quot;.projects&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + &quot;.ongoingBudgets&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName() + &quot;.projects&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.CurrencyExchangeToEuro.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + &quot;.ongoingSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + &quot;.projectSpendItems&quot;, jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingResourceBudgeting.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.OngoingSpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectSpendItem.class.getName(), jcacheConfiguration);\r\n            cm.createCache(com.nissan.rca.domain.ProjectResourceBudgeting.class.getName(), jcacheConfiguration);\r\n            // jhipster-needle-ehcache-add-entry\r\n        };\r\n    }\r\n}\r\n````\r\n\r\nHere is the DatabseConfiguration.java\r\n````\r\npackage com.nissan.rca.config;\r\n\r\nimport io.github.jhipster.config.JHipsterConstants;\r\nimport io.github.jhipster.config.liquibase.AsyncSpringLiquibase;\r\n\r\nimport liquibase.integration.spring.SpringLiquibase;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.boot.autoconfigure.liquibase.LiquibaseProperties;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.core.task.TaskExecutor;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\nimport java.sql.SQLException;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(&quot;com.nissan.rca.repository&quot;)\r\n@EnableJpaAuditing(auditorAwareRef = &quot;springSecurityAuditorAware&quot;)\r\n@EnableTransactionManagement\r\npublic class DatabaseConfiguration {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\r\n\r\n    private final Environment env;\r\n\r\n    public DatabaseConfiguration(Environment env) {\r\n        this.env = env;\r\n    }\r\n\r\n    /**\r\n     * Open the TCP port for the H2 database, so it is available remotely.\r\n     *\r\n     * @return the H2 database TCP server\r\n     * @throws SQLException if the server failed to start\r\n     */\r\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n    @Profile(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)\r\n    public Object h2TCPServer() throws SQLException {\r\n        try {\r\n            // We don&#39;t want to include H2 when we are packaging for the &quot;prod&quot; profile and won&#39;t\r\n            // actually need it, so we have to load / invoke things at runtime through reflection.\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            Class&lt;?&gt; serverClass = Class.forName(&quot;org.h2.tools.Server&quot;, true, loader);\r\n            Method createServer = serverClass.getMethod(&quot;createTcpServer&quot;, String[].class);\r\n            return createServer.invoke(null, new Object[] { new String[] { &quot;-tcp&quot;, &quot;-tcpAllowOthers&quot; } });\r\n\r\n        } catch (ClassNotFoundException | LinkageError  e) {\r\n            throw new RuntimeException(&quot;Failed to load and initialize org.h2.tools.Server&quot;, e);\r\n\r\n        } catch (SecurityException | NoSuchMethodException e) {\r\n            throw new RuntimeException(&quot;Failed to get method org.h2.tools.Server.createTcpServer()&quot;, e);\r\n\r\n        } catch (IllegalAccessException | IllegalArgumentException e) {\r\n            throw new RuntimeException(&quot;Failed to invoke org.h2.tools.Server.createTcpServer()&quot;, e);\r\n\r\n        } catch (InvocationTargetException e) {\r\n            Throwable t = e.getTargetException();\r\n            if (t instanceof SQLException) {\r\n                throw (SQLException) t;\r\n            }\r\n            throw new RuntimeException(&quot;Unchecked exception in org.h2.tools.Server.createTcpServer()&quot;, t);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public SpringLiquibase liquibase(@Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n            DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n\r\n        // Use liquibase.integration.spring.SpringLiquibase if you don&#39;t want Liquibase to start asynchronously\r\n        SpringLiquibase liquibase = new AsyncSpringLiquibase(taskExecutor, env);\r\n        liquibase.setDataSource(dataSource);\r\n        liquibase.setChangeLog(&quot;classpath:config/liquibase/master.xml&quot;);\r\n        liquibase.setContexts(liquibaseProperties.getContexts());\r\n        liquibase.setDefaultSchema(liquibaseProperties.getDefaultSchema());\r\n        liquibase.setDropFirst(liquibaseProperties.isDropFirst());\r\n        if (env.acceptsProfiles(JHipsterConstants.SPRING_PROFILE_NO_LIQUIBASE)) {\r\n            liquibase.setShouldRun(false);\r\n        } else {\r\n            liquibase.setShouldRun(liquibaseProperties.isEnabled());\r\n            log.debug(&quot;Configuring Liquibase&quot;);\r\n        }\r\n        return liquibase;\r\n    }\r\n}\r\n````\r\nAnd here is the class which is shown in the error, OCIOMacroTypeOfService.java\r\n````\r\npackage com.nissan.rca.domain;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport org.hibernate.annotations.Cache;\r\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport java.util.Objects;\r\n\r\n/**\r\n * A OCIOMacroTypeOfService.\r\n */\r\n@Entity\r\n@Table(name = &quot;ociomacrotypeofservice&quot;)\r\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\npublic class OCIOMacroTypeOfService implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    \r\n    @Id\r\n    @Column(name = &quot;ocio_macro_type_code&quot;)\r\n    private String ocioMacroTypeOfServiceCode;\r\n\r\n    @Column(name = &quot;ocio_macro_type_description&quot;)\r\n    private String ocioMacroTypeDescription;\r\n\r\n    @OneToMany(mappedBy = &quot;ocioMacroTypeOfService&quot;)\r\n    @JsonIgnore\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    private Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices = new HashSet&lt;&gt;();\r\n    // jhipster-needle-entity-add-field - JHipster will add fields here, do not remove\r\n    public String getOcioMacroTypeOfServiceCode() {\r\n        return ocioMacroTypeOfServiceCode;\r\n    }\r\n\r\n    public void setOcioMacroTypeOfServiceCode(String ocioMacroTypeOfServiceCode) {\r\n        this.ocioMacroTypeOfServiceCode = ocioMacroTypeOfServiceCode;\r\n    }\r\n\r\n    public String getOcioMacroTypeOfServiceDescription() {\r\n        return ocioMacroTypeDescription;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService ocioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\r\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\r\n        return this;\r\n    }\r\n\r\n    public void setOcioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\r\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\r\n    }\r\n\r\n    public Set&lt;OCIOTypeOfService&gt; getOCIOTypeOfServices() {\r\n        return oCIOTypeOfServices;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService oCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\r\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\r\n        return this;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService addOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\r\n        this.oCIOTypeOfServices.add(oCIOTypeOfService);\r\n        oCIOTypeOfService.setOcioMacroTypeOfService(this);\r\n        return this;\r\n    }\r\n\r\n    public OCIOMacroTypeOfService removeOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\r\n        this.oCIOTypeOfServices.remove(oCIOTypeOfService);\r\n        oCIOTypeOfService.setOcioMacroTypeOfService(null);\r\n        return this;\r\n    }\r\n\r\n    public void setOCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\r\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\r\n    }\r\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here, do not remove\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n            return false;\r\n        }\r\n        OCIOMacroTypeOfService oCIOMacroTypeOfService = (OCIOMacroTypeOfService) o;\r\n        if (oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode() == null || getOcioMacroTypeOfServiceCode() == null) {\r\n            return false;\r\n        }\r\n        return Objects.equals(getOcioMacroTypeOfServiceCode(), oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hashCode(getOcioMacroTypeOfServiceCode());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OCIOMacroTypeOfService{&quot; +\r\n            &quot;ocioMacroTypeOfServiceCode=&quot; + getOcioMacroTypeOfServiceCode() +\r\n            &quot;, ocioMacroTypeOfServiceDescription=&#39;&quot; + getOcioMacroTypeOfServiceDescription() + &quot;&#39;&quot; +\r\n            &quot;}&quot;;\r\n    }\r\n}\r\n````","title":"How to fix &#39;All Hibernate caches should be created upfront. Please update CacheConfiguration.java to add com.nissan.rca.domain.OCIOMacroTypeOfService&#39;","body":"<p>I am fairly new to JHipster and the technology that it uses.  A project that I have joined recently was made using JHipster with spring-boot, hibernate, liquidbase, maven and angular 4.  I took it on myself to upgrade the project (since a lot of the technologies were outdated versions) and I have got stuck trying to solve this error.\nI don't know much about caching at all and don't really know what the config files do, however I believe that the errors lie in the DatabaseConfiguration.java and CacheConfiguration.java files.</p>\n\n<p>I receive this error after running the backend with <code>mvn spring-boot:run</code></p>\n\n<p>I'm not sure what to try or how to fix this, however I had a look in CacheConfiguration.java and found that the class which it is telling me to add (com.nissan.rca.domain.OCIOMacroTypeOfService) for caching is already added to the cache manager.</p>\n\n<p>This is the error:</p>\n\n<pre><code>2019-02-07 14:58:20.013  WARN 9392 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.spri\nngframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error cr\neating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$Web\nMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to ins\ntantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.fa\nctory.UnsatisfiedDependencyException: Error creating bean with name 'auditEventsEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/audit/AuditEventsEndp\nointAutoConfiguration.class]: Unsatisfied dependency expressed through method 'auditEventsEndpoint' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyEx\nception: Error creating bean with name 'customAuditEventRepository' defined in file [D:\\RCA\\ResourceCalenderApplication\\target\\classes\\com\\nissan\\rca\\repository\\CustomAuditEventRepository.cl\nass]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistenc\neAuditEventRepository': Cannot create inner bean '(inner bean)#1411479e' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested\nexception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#1411479e': Cannot resolve reference to bean 'entityManagerFactory' while set\nting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [o\nrg/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit\n: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: All Hibernate caches should be created upfront. Please update CacheConfiguration.jav\na to add com.nissan.rca.domain.OCIOMacroTypeOfService\n2019-02-07 14:58:20.270 ERROR 9392 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p>Here is CacheConfiguration.java</p>\n\n<pre><code>package com.nissan.rca.config;\nimport java.time.Duration;\nimport org.ehcache.config.builders.*;\nimport org.ehcache.jsr107.Eh107Configuration;\nimport io.github.jhipster.config.jcache.BeanClassLoaderAwareJCacheRegionFactory;\nimport io.github.jhipster.config.JHipsterProperties;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.AutoConfigureBefore;\nimport org.springframework.boot.autoconfigure.cache.JCacheManagerCustomizer;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.*;\n\n@Configuration\n@EnableCaching\n// @AutoConfigureAfter(value = { MetricsConfiguration.class })\n@AutoConfigureBefore(value = { WebConfigurer.class, DatabaseConfiguration.class })\npublic class CacheConfiguration {\n\n    private final javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration;\n\n    public CacheConfiguration(JHipsterProperties jHipsterProperties) {\n        BeanClassLoaderAwareJCacheRegionFactory.setBeanClassLoader(this.getClass().getClassLoader());\n        JHipsterProperties.Cache.Ehcache ehcache =\n            jHipsterProperties.getCache().getEhcache();\n\n        jcacheConfiguration = Eh107Configuration.fromEhcacheCacheConfiguration(\n            CacheConfigurationBuilder.newCacheConfigurationBuilder(Object.class, Object.class,\n                ResourcePoolsBuilder.heap(ehcache.getMaxEntries()))\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(ehcache.getTimeToLiveSeconds())))\n                .build());\n    }\n\n    @Bean\n    public JCacheManagerCustomizer cacheManagerCustomizer() {\n        return cm -&gt; {\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_LOGIN_CACHE, jcacheConfiguration);\n            cm.createCache(com.nissan.rca.repository.UserRepository.USERS_BY_EMAIL_CACHE, jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.User.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Authority.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.User.class.getName() + \".authorities\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagement.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Resource.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ResourceEngagementType.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.EVPLevel.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Vendor.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.TechnologyPlatform.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Role.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Role.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Section.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Section.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Location.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Location.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTechnologySoftware.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOTypeOfService.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OCIOMacroTypeOfService.class.getName() + \".oCIOTypeOfServices\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + \".resourceEngagements\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Currency.class.getName() + \".currencyExchangeToEuros\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.UserAccess.class.getName() + \".resources\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".currencyExchangeToEuros\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".projectBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.FinancialYear.class.getName() + \".ongoingBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Project.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Project.class.getName() + \".projectBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingBudget.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ValueType.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendType.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".ongoingResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.Month.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + \".projectResourceBudgetings\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectBudget.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + \".projects\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CostCentre.class.getName() + \".ongoingBudgets\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectPhase.class.getName() + \".projects\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.CurrencyExchangeToEuro.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + \".ongoingSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.SpendItem.class.getName() + \".projectSpendItems\", jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingResourceBudgeting.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.OngoingSpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectSpendItem.class.getName(), jcacheConfiguration);\n            cm.createCache(com.nissan.rca.domain.ProjectResourceBudgeting.class.getName(), jcacheConfiguration);\n            // jhipster-needle-ehcache-add-entry\n        };\n    }\n}\n</code></pre>\n\n<p>Here is the DatabseConfiguration.java</p>\n\n<pre><code>package com.nissan.rca.config;\n\nimport io.github.jhipster.config.JHipsterConstants;\nimport io.github.jhipster.config.liquibase.AsyncSpringLiquibase;\n\nimport liquibase.integration.spring.SpringLiquibase;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.boot.autoconfigure.liquibase.LiquibaseProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.task.TaskExecutor;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport javax.sql.DataSource;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.sql.SQLException;\n\n@Configuration\n@EnableJpaRepositories(\"com.nissan.rca.repository\")\n@EnableJpaAuditing(auditorAwareRef = \"springSecurityAuditorAware\")\n@EnableTransactionManagement\npublic class DatabaseConfiguration {\n\n    private final Logger log = LoggerFactory.getLogger(DatabaseConfiguration.class);\n\n    private final Environment env;\n\n    public DatabaseConfiguration(Environment env) {\n        this.env = env;\n    }\n\n    /**\n     * Open the TCP port for the H2 database, so it is available remotely.\n     *\n     * @return the H2 database TCP server\n     * @throws SQLException if the server failed to start\n     */\n    @Bean(initMethod = \"start\", destroyMethod = \"stop\")\n    @Profile(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)\n    public Object h2TCPServer() throws SQLException {\n        try {\n            // We don't want to include H2 when we are packaging for the \"prod\" profile and won't\n            // actually need it, so we have to load / invoke things at runtime through reflection.\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\n            Class&lt;?&gt; serverClass = Class.forName(\"org.h2.tools.Server\", true, loader);\n            Method createServer = serverClass.getMethod(\"createTcpServer\", String[].class);\n            return createServer.invoke(null, new Object[] { new String[] { \"-tcp\", \"-tcpAllowOthers\" } });\n\n        } catch (ClassNotFoundException | LinkageError  e) {\n            throw new RuntimeException(\"Failed to load and initialize org.h2.tools.Server\", e);\n\n        } catch (SecurityException | NoSuchMethodException e) {\n            throw new RuntimeException(\"Failed to get method org.h2.tools.Server.createTcpServer()\", e);\n\n        } catch (IllegalAccessException | IllegalArgumentException e) {\n            throw new RuntimeException(\"Failed to invoke org.h2.tools.Server.createTcpServer()\", e);\n\n        } catch (InvocationTargetException e) {\n            Throwable t = e.getTargetException();\n            if (t instanceof SQLException) {\n                throw (SQLException) t;\n            }\n            throw new RuntimeException(\"Unchecked exception in org.h2.tools.Server.createTcpServer()\", t);\n        }\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(@Qualifier(\"taskExecutor\") TaskExecutor taskExecutor,\n            DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n\n        // Use liquibase.integration.spring.SpringLiquibase if you don't want Liquibase to start asynchronously\n        SpringLiquibase liquibase = new AsyncSpringLiquibase(taskExecutor, env);\n        liquibase.setDataSource(dataSource);\n        liquibase.setChangeLog(\"classpath:config/liquibase/master.xml\");\n        liquibase.setContexts(liquibaseProperties.getContexts());\n        liquibase.setDefaultSchema(liquibaseProperties.getDefaultSchema());\n        liquibase.setDropFirst(liquibaseProperties.isDropFirst());\n        if (env.acceptsProfiles(JHipsterConstants.SPRING_PROFILE_NO_LIQUIBASE)) {\n            liquibase.setShouldRun(false);\n        } else {\n            liquibase.setShouldRun(liquibaseProperties.isEnabled());\n            log.debug(\"Configuring Liquibase\");\n        }\n        return liquibase;\n    }\n}\n</code></pre>\n\n<p>And here is the class which is shown in the error, OCIOMacroTypeOfService.java</p>\n\n<pre><code>package com.nissan.rca.domain;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport org.hibernate.annotations.Cache;\nimport org.hibernate.annotations.CacheConcurrencyStrategy;\n\nimport javax.persistence.*;\n\nimport java.io.Serializable;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.Objects;\n\n/**\n * A OCIOMacroTypeOfService.\n */\n@Entity\n@Table(name = \"ociomacrotypeofservice\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class OCIOMacroTypeOfService implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = \"ocio_macro_type_code\")\n    private String ocioMacroTypeOfServiceCode;\n\n    @Column(name = \"ocio_macro_type_description\")\n    private String ocioMacroTypeDescription;\n\n    @OneToMany(mappedBy = \"ocioMacroTypeOfService\")\n    @JsonIgnore\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    private Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices = new HashSet&lt;&gt;();\n    // jhipster-needle-entity-add-field - JHipster will add fields here, do not remove\n    public String getOcioMacroTypeOfServiceCode() {\n        return ocioMacroTypeOfServiceCode;\n    }\n\n    public void setOcioMacroTypeOfServiceCode(String ocioMacroTypeOfServiceCode) {\n        this.ocioMacroTypeOfServiceCode = ocioMacroTypeOfServiceCode;\n    }\n\n    public String getOcioMacroTypeOfServiceDescription() {\n        return ocioMacroTypeDescription;\n    }\n\n    public OCIOMacroTypeOfService ocioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\n        return this;\n    }\n\n    public void setOcioMacroTypeOfServiceDescription(String ocioMacroTypeDescription) {\n        this.ocioMacroTypeDescription = ocioMacroTypeDescription;\n    }\n\n    public Set&lt;OCIOTypeOfService&gt; getOCIOTypeOfServices() {\n        return oCIOTypeOfServices;\n    }\n\n    public OCIOMacroTypeOfService oCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\n        return this;\n    }\n\n    public OCIOMacroTypeOfService addOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\n        this.oCIOTypeOfServices.add(oCIOTypeOfService);\n        oCIOTypeOfService.setOcioMacroTypeOfService(this);\n        return this;\n    }\n\n    public OCIOMacroTypeOfService removeOCIOTypeOfService(OCIOTypeOfService oCIOTypeOfService) {\n        this.oCIOTypeOfServices.remove(oCIOTypeOfService);\n        oCIOTypeOfService.setOcioMacroTypeOfService(null);\n        return this;\n    }\n\n    public void setOCIOTypeOfServices(Set&lt;OCIOTypeOfService&gt; oCIOTypeOfServices) {\n        this.oCIOTypeOfServices = oCIOTypeOfServices;\n    }\n    // jhipster-needle-entity-add-getters-setters - JHipster will add getters and setters here, do not remove\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        OCIOMacroTypeOfService oCIOMacroTypeOfService = (OCIOMacroTypeOfService) o;\n        if (oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode() == null || getOcioMacroTypeOfServiceCode() == null) {\n            return false;\n        }\n        return Objects.equals(getOcioMacroTypeOfServiceCode(), oCIOMacroTypeOfService.getOcioMacroTypeOfServiceCode());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hashCode(getOcioMacroTypeOfServiceCode());\n    }\n\n    @Override\n    public String toString() {\n        return \"OCIOMacroTypeOfService{\" +\n            \"ocioMacroTypeOfServiceCode=\" + getOcioMacroTypeOfServiceCode() +\n            \", ocioMacroTypeOfServiceDescription='\" + getOcioMacroTypeOfServiceDescription() + \"'\" +\n            \"}\";\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","localbroadcastmanager"],"answers":[{"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640782776,"creation_date":1640782776,"answer_id":70519760,"question_id":70518224,"body_markdown":"If you are using **RxJava** you can use the **RxBus** else you can use one of many **EventBus** implementation for this.\r\n\r\nIf that is not the path you want to take then you can have a shared view model object that can be used only for communication between fragments see [this][1] article.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/fragments/communicate","title":"How can I turn off localbroadcast listener in recyclerview adapter? Of is there a better way to communicate with an activity called from it?","body":"<p>If you are using <strong>RxJava</strong> you can use the <strong>RxBus</strong> else you can use one of many <strong>EventBus</strong> implementation for this.</p>\n<p>If that is not the path you want to take then you can have a shared view model object that can be used only for communication between fragments see <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">this</a> article.</p>\n"}],"owner":{"account_id":22118476,"reputation":13,"user_id":16372152,"display_name":"Jesse Duffield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519760,"answer_count":1,"score":0,"last_activity_date":1640782776,"creation_date":1640774192,"question_id":70518224,"body_markdown":"I&#39;m new to SO and fairly new to coding, so please accept my apologies in advance if I break rules or expectations here. \r\n\r\nI have an unusual setup involving two recyclerViews, which I&#39;ll explain here and also paste a simplified version of the code below (as there is so much not relevant to this question). \r\n\r\nIn what I&#39;ll call verticalRecyclerViewActivity, a verticalRecyclerViewAdapter is called, with data it fetches from Firebase and loads into arrayLists.\r\n\r\nIf the user clicks on an item in the vertical recyclerview, a new dialog fragment which I&#39;ll call horizontalRecyclerViewDialogFragment is inflated, and that loads what I&#39;ll call horizontalRecyclerView (which has similar items to the vertical one, in more detail, with options to click on them to review them). \r\n\r\nIf the user clicks on an item in the horizontalRecyclerView, a new activity which I&#39;ll call reviewItem is started (through an Intent). When the user submits their review, it finishes and returns (through the backstack) to the horizontal RecyclerView. That can also happen if they press the back button without actually submitting a review. That all works fine, but I **need the horizontalRecyclerView to show that they have (or haven&#39;t) reviewed the item and state the score they gave it in a review.**\r\n\r\nCalling notifyDataSetChanged won&#39;t work for this because of how information comes through two recyclerViews and Firebase calls (or, at least, it would be very inefficient).  \r\n\r\nI&#39;ve tried using startActivityForResult (I know it&#39;s deprecated, but if I could get that to work I could try using the newer equivalent which I don&#39;t yet understand) but the problem is that the result is returned to the original (VerticalRecylcerView) activity, which is two recyclerView adapters and one fragment beneath what needs to be updated, and I don&#39;t know how to pass that data to the horizontal Recyclerview. \r\n\r\nI&#39;ve also tried using interfaces but was unable to pass it through the Intent (tried using Parcelable and Serializable, but it seems neither can work in this situation?). \r\n \r\nSince the review is updated on Firebase, I could have the horizontal Recyclerview listen for a change, but that seems very inefficient? \r\n\r\nSo I&#39;ve found a solution using localBroadcast (which I know is also deprecated). The Intent (with the review score) is transmitted when it is reviewed and received in the horizontal recyclerView adapter. But **when and how should I unregister the adapter?** Ideally the receiver would be turned on when the user goes to the Review activity and turned off once the user returns from that activity and the (horizontal) recyclerView holder is updated, whether the review is successfully submitted or whether the user just presses the back button and never submits a review. \r\n\r\n\r\nMy question is similar to this one: https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\r\n\r\nThat is noted as a duplicate of this one: https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\r\n\r\nThere&#39;s a lot in those questions I don&#39;t understand, but the important difference I think between their and my cases is that I would just like the receiver to know when a review is submitted, and ideally be unregistered then, or possibly when the viewHolder is recycled, which I tried but also didn&#39;t work since it&#39;s not connected to the viewHolder (should it be?). \r\n\r\nAny help would be much appreciated, thank you! \r\n\r\n  \r\n\r\n    public class verticalRecyclerViewActivity extends AppCompatActivity {\r\n                \r\n    // Loads an XML file and assembles an array from Firebase. \r\n                \r\n    mVerticalRecyclerView = findViewById(R.id.verticalRecyclerView);\r\n                \r\n    verticalRecyclerViewAdaptor mVerticalRecyclerViewAdaptor  = new verticalRecyclerViewAdaptor (this); // also pass other information it needs\r\n            \r\n                \r\n    mVerticalRecyclerView .setAdapter(mVerticalRecyclerViewAdaptor);\r\n    \r\n    }\r\n            \r\n            \r\n    public class verticalRecyclerViewAdaptor extends RecyclerView.Adapter&lt;verticalRecyclerViewAdaptor.singleHolder&gt; {\r\n            \r\n    // Usual recyclerView content\r\n            \r\n    holder.setOnClickListener(new View.OnClickListener() {\r\n    \r\n    @Override\r\n    \r\n    public void onClick(View view) {\r\n    \r\n    horizontalRecyclerViewFragment  mHorizontalRecyclerViewFragment = new horizontalRecyclerViewFragment();  \r\n    \r\n    // lots of arguments passed it needs. \r\n            \r\n    FragmentManager fragmentManager = ((FragmentActivity) view.getContext()).getSupportFragmentManager();\r\n            \r\n    mHorizontalRecyclerViewFragment.show(fragmentManager, null);\r\n                                        \r\n    }\r\n        \r\n    public class mHorizontalRecyclerViewFragment extends DialogFragment {\r\n        \r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \r\n    super.onCreate(savedInstanceState);\r\n        \r\n    mContext = getActivity().getApplicationContext(); // Not sure why I need this, but it works. \r\n        \r\n    View horizontalRecyclerViewView = getActivity().getLayoutInflater().inflate(R.layout.horizontal_recyclerview_holder, new CardView(getActivity()), false);\r\n    \r\n    Dialog horizontalRecyclerViewDialog = new Dialog(getActivity());\r\n                \r\n    horizontalRecyclerViewDialog.setContentView(horizontalRecyclerViewView);\r\n    \r\n    mHorizontalRecyclerView = horizontalRecyclerViewView.getRootView().findViewById(R.id.horizontalRecyclerView);    \r\n        \r\n    mHorizontalRecyclerViewAdapter  = new horizontalRecyclerViewAdapter (mContext) \r\n    // Other arguments passed\r\n        \r\n    mHorizontalRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity(), \r\n    \r\n    LinearLayoutManager.HORIZONTAL, false));\r\n    \r\n    mHorizontalRecyclerView.setAdapter(mHorizontalRecyclerViewAdapter);\r\n              \r\n    }\r\n        \r\n    public class horizontalRecyclerViewAdapter extends RecyclerView.Adapter&lt;horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder&gt; {\r\n        \r\n        \r\n    public horizontalRecyclerViewAdapter(){}\r\n        \r\n    // Blank constructor and also one with lots of arguments for it to work. \r\n        \r\n    public horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        \r\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.horizontal_recyclerview_adaptor_holder, parent, false);\r\n    \r\n    return new horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder(view);\r\n    \r\n    }\r\n        \r\n    public void onBindViewHolder(@NonNull horizontalRecyclerViewHolder holder, int position) {\r\n        \r\n        \r\n    // Connect up various views. \r\n        \r\n    holder.setOnClickListener(new View.OnClickListener() {\r\n                    \r\n    @Override\r\n    public void onClick(View view) {\r\n        \r\n    LocalBroadcastManager.getInstance(mContext).registerReceiver(reviewSubmittedListener, new IntentFilter(&quot;reviewSubmitted&quot;));\r\n        \r\n    Intent reviewNow = new Intent(view.getContext(), ReviewActivity.class);\r\n        \r\n    // Put extra details with the intent\r\n        \r\n    view.getContext().startActivity(reviewNow);\r\n        \r\n    }\r\n        \r\n    BroadcastReceiver reviewSubmittedListener = new BroadcastReceiver() {\r\n    \r\n    @Override\r\n    public void onReceive(Context context, Intent reviewFinishedIntent) {\r\n                           \r\n    int reviewScore = reviewFinishedIntent.getExtras().getInt(&quot;reviewScore&quot;);\r\n                            \r\n    \r\n    // Update the horizontal RecyclerView with the information received from the review Activity. \r\n    \r\n    }\r\n    };\r\n    \r\n    }\r\n        \r\n    public class ReviewActivity extends AppCompatActivity {\r\n        \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_review_item);\r\n        \r\n    // Set up the review, using Firebase and data passed through the intent.  \r\n        \r\n    }\r\n        \r\n    public void submitReview() {\r\n        \r\n    // Check that the review is complete/valid and submit it through Firebase\r\n        \r\n    LocalBroadcastManager localBroadcastManager = LocalBroadcastManager.getInstance(ReviewItemActivity.this);\r\n    \r\n    Intent reviewFinishedIntent = new Intent(&quot;reviewSubmitted&quot;);\r\n        \r\n    reviewFinishedIntent.putExtra(&quot;reviewScore&quot;, overallScore);\r\n    \r\n        \r\n    LocalBroadcastManager.getInstance(this).sendBroadcast(reviewFinishedIntent);\r\n        \r\n    finish();\r\n        \r\n    }","title":"How can I turn off localbroadcast listener in recyclerview adapter? Of is there a better way to communicate with an activity called from it?","body":"<p>I'm new to SO and fairly new to coding, so please accept my apologies in advance if I break rules or expectations here.</p>\n<p>I have an unusual setup involving two recyclerViews, which I'll explain here and also paste a simplified version of the code below (as there is so much not relevant to this question).</p>\n<p>In what I'll call verticalRecyclerViewActivity, a verticalRecyclerViewAdapter is called, with data it fetches from Firebase and loads into arrayLists.</p>\n<p>If the user clicks on an item in the vertical recyclerview, a new dialog fragment which I'll call horizontalRecyclerViewDialogFragment is inflated, and that loads what I'll call horizontalRecyclerView (which has similar items to the vertical one, in more detail, with options to click on them to review them).</p>\n<p>If the user clicks on an item in the horizontalRecyclerView, a new activity which I'll call reviewItem is started (through an Intent). When the user submits their review, it finishes and returns (through the backstack) to the horizontal RecyclerView. That can also happen if they press the back button without actually submitting a review. That all works fine, but I <strong>need the horizontalRecyclerView to show that they have (or haven't) reviewed the item and state the score they gave it in a review.</strong></p>\n<p>Calling notifyDataSetChanged won't work for this because of how information comes through two recyclerViews and Firebase calls (or, at least, it would be very inefficient).</p>\n<p>I've tried using startActivityForResult (I know it's deprecated, but if I could get that to work I could try using the newer equivalent which I don't yet understand) but the problem is that the result is returned to the original (VerticalRecylcerView) activity, which is two recyclerView adapters and one fragment beneath what needs to be updated, and I don't know how to pass that data to the horizontal Recyclerview.</p>\n<p>I've also tried using interfaces but was unable to pass it through the Intent (tried using Parcelable and Serializable, but it seems neither can work in this situation?).</p>\n<p>Since the review is updated on Firebase, I could have the horizontal Recyclerview listen for a change, but that seems very inefficient?</p>\n<p>So I've found a solution using localBroadcast (which I know is also deprecated). The Intent (with the review score) is transmitted when it is reviewed and received in the horizontal recyclerView adapter. But <strong>when and how should I unregister the adapter?</strong> Ideally the receiver would be turned on when the user goes to the Review activity and turned off once the user returns from that activity and the (horizontal) recyclerView holder is updated, whether the review is successfully submitted or whether the user just presses the back button and never submits a review.</p>\n<p>My question is similar to this one: <a href=\"https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\">How to unregister and register BroadcastReceiver from another class?</a></p>\n<p>That is noted as a duplicate of this one: <a href=\"https://stackoverflow.com/questions/62370139/how-to-unregister-and-register-broadcastreceiver-from-another-class?noredirect=1&amp;lq=1\">How to unregister and register BroadcastReceiver from another class?</a></p>\n<p>There's a lot in those questions I don't understand, but the important difference I think between their and my cases is that I would just like the receiver to know when a review is submitted, and ideally be unregistered then, or possibly when the viewHolder is recycled, which I tried but also didn't work since it's not connected to the viewHolder (should it be?).</p>\n<p>Any help would be much appreciated, thank you!</p>\n<pre><code>public class verticalRecyclerViewActivity extends AppCompatActivity {\n            \n// Loads an XML file and assembles an array from Firebase. \n            \nmVerticalRecyclerView = findViewById(R.id.verticalRecyclerView);\n            \nverticalRecyclerViewAdaptor mVerticalRecyclerViewAdaptor  = new verticalRecyclerViewAdaptor (this); // also pass other information it needs\n        \n            \nmVerticalRecyclerView .setAdapter(mVerticalRecyclerViewAdaptor);\n\n}\n        \n        \npublic class verticalRecyclerViewAdaptor extends RecyclerView.Adapter&lt;verticalRecyclerViewAdaptor.singleHolder&gt; {\n        \n// Usual recyclerView content\n        \nholder.setOnClickListener(new View.OnClickListener() {\n\n@Override\n\npublic void onClick(View view) {\n\nhorizontalRecyclerViewFragment  mHorizontalRecyclerViewFragment = new horizontalRecyclerViewFragment();  \n\n// lots of arguments passed it needs. \n        \nFragmentManager fragmentManager = ((FragmentActivity) view.getContext()).getSupportFragmentManager();\n        \nmHorizontalRecyclerViewFragment.show(fragmentManager, null);\n                                    \n}\n    \npublic class mHorizontalRecyclerViewFragment extends DialogFragment {\n    \npublic Dialog onCreateDialog(Bundle savedInstanceState) {\n\nsuper.onCreate(savedInstanceState);\n    \nmContext = getActivity().getApplicationContext(); // Not sure why I need this, but it works. \n    \nView horizontalRecyclerViewView = getActivity().getLayoutInflater().inflate(R.layout.horizontal_recyclerview_holder, new CardView(getActivity()), false);\n\nDialog horizontalRecyclerViewDialog = new Dialog(getActivity());\n            \nhorizontalRecyclerViewDialog.setContentView(horizontalRecyclerViewView);\n\nmHorizontalRecyclerView = horizontalRecyclerViewView.getRootView().findViewById(R.id.horizontalRecyclerView);    \n    \nmHorizontalRecyclerViewAdapter  = new horizontalRecyclerViewAdapter (mContext) \n// Other arguments passed\n    \nmHorizontalRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity(), \n\nLinearLayoutManager.HORIZONTAL, false));\n\nmHorizontalRecyclerView.setAdapter(mHorizontalRecyclerViewAdapter);\n          \n}\n    \npublic class horizontalRecyclerViewAdapter extends RecyclerView.Adapter&lt;horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder&gt; {\n    \n    \npublic horizontalRecyclerViewAdapter(){}\n    \n// Blank constructor and also one with lots of arguments for it to work. \n    \npublic horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    \nView view = LayoutInflater.from(parent.getContext()).inflate(R.layout.horizontal_recyclerview_adaptor_holder, parent, false);\n\nreturn new horizontalRecyclerViewAdapter.horizontalRecyclerViewHolder(view);\n\n}\n    \npublic void onBindViewHolder(@NonNull horizontalRecyclerViewHolder holder, int position) {\n    \n    \n// Connect up various views. \n    \nholder.setOnClickListener(new View.OnClickListener() {\n                \n@Override\npublic void onClick(View view) {\n    \nLocalBroadcastManager.getInstance(mContext).registerReceiver(reviewSubmittedListener, new IntentFilter(&quot;reviewSubmitted&quot;));\n    \nIntent reviewNow = new Intent(view.getContext(), ReviewActivity.class);\n    \n// Put extra details with the intent\n    \nview.getContext().startActivity(reviewNow);\n    \n}\n    \nBroadcastReceiver reviewSubmittedListener = new BroadcastReceiver() {\n\n@Override\npublic void onReceive(Context context, Intent reviewFinishedIntent) {\n                       \nint reviewScore = reviewFinishedIntent.getExtras().getInt(&quot;reviewScore&quot;);\n                        \n\n// Update the horizontal RecyclerView with the information received from the review Activity. \n\n}\n};\n\n}\n    \npublic class ReviewActivity extends AppCompatActivity {\n    \n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_review_item);\n    \n// Set up the review, using Firebase and data passed through the intent.  \n    \n}\n    \npublic void submitReview() {\n    \n// Check that the review is complete/valid and submit it through Firebase\n    \nLocalBroadcastManager localBroadcastManager = LocalBroadcastManager.getInstance(ReviewItemActivity.this);\n\nIntent reviewFinishedIntent = new Intent(&quot;reviewSubmitted&quot;);\n    \nreviewFinishedIntent.putExtra(&quot;reviewScore&quot;, overallScore);\n\n    \nLocalBroadcastManager.getInstance(this).sendBroadcast(reviewFinishedIntent);\n    \nfinish();\n    \n}\n</code></pre>\n"},{"tags":["java","mongodb","aggregate","average"],"comments":[{"owner":{"display_name":"user17173618"},"score":0,"creation_date":1640780991,"post_id":70519299,"comment_id":124656500,"body_markdown":"It&#39;s Eclipse IDE for Java","body":"It&#39;s Eclipse IDE for Java"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640782452,"creation_date":1640782452,"answer_id":70519707,"question_id":70519299,"body_markdown":"You could extract the &quot;average&quot; field:\r\n\r\n```java\r\nSystem.out.println(&quot;results: &quot; + results.getDouble(&quot;average&quot;)); \r\n```","title":"I&#39;m getting my average but the print is not how I would like to have it. How can I solve it differently?","body":"<p>You could extract the &quot;average&quot; field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;results: &quot; + results.getDouble(&quot;average&quot;)); \n</code></pre>\n"}],"owner":{"display_name":"user17173618"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640782452,"creation_date":1640780264,"question_id":70519299,"body_markdown":"I made a connection to my MongoDB and I want to get the average from all my likes.\r\nThe print looks like this: \r\n\r\n    Tweets average from likes:\r\n\r\n    results: [Document{{_id=null, average=143.0}}]\r\n\r\n**The way I want my print is:** `results: 143.0`\r\n\r\nMy doc looks like this:\r\n\r\n    static MongoCollection&lt;Document&gt; doc = db.getCollection(mongodbCollection);\r\nShould I used my tweetCollection?\r\n\r\n    static MongoCollection&lt;Tweet&gt; tweetCollection = db.getCollection(&quot;tweetsDB&quot;, Tweet.class);\r\n\r\nIt tells me that I need to have type Document in my List, but then the print doesn&#39;t look the way I want it. How can I do it differently?\r\n```\r\npublic static void averageFromLikes(MongoCollection&lt;Tweet&gt; tweetCollection) {\r\n\t\tSystem.out.println(&quot;\\nTweets average from likes:\\n&quot;);\r\n\t\t\r\n\t\t\r\n\t\t Bson group1 = group(&quot;$_avg&quot;, Accumulators.avg(&quot;average&quot;, &quot;$likes&quot;));\r\n\t\t \r\n\t\tList&lt;Document&gt; results = doc.aggregate(Arrays.asList(group1)).into(new ArrayList&lt;&gt;());\r\n\t\tSystem.out.println(&quot;results: &quot; + results); \r\n}\r\n```\r\n","title":"I&#39;m getting my average but the print is not how I would like to have it. How can I solve it differently?","body":"<p>I made a connection to my MongoDB and I want to get the average from all my likes.\nThe print looks like this:</p>\n<pre><code>Tweets average from likes:\n\nresults: [Document{{_id=null, average=143.0}}]\n</code></pre>\n<p><strong>The way I want my print is:</strong> <code>results: 143.0</code></p>\n<p>My doc looks like this:</p>\n<pre><code>static MongoCollection&lt;Document&gt; doc = db.getCollection(mongodbCollection);\n</code></pre>\n<p>Should I used my tweetCollection?</p>\n<pre><code>static MongoCollection&lt;Tweet&gt; tweetCollection = db.getCollection(&quot;tweetsDB&quot;, Tweet.class);\n</code></pre>\n<p>It tells me that I need to have type Document in my List, but then the print doesn't look the way I want it. How can I do it differently?</p>\n<pre><code>public static void averageFromLikes(MongoCollection&lt;Tweet&gt; tweetCollection) {\n        System.out.println(&quot;\\nTweets average from likes:\\n&quot;);\n        \n        \n         Bson group1 = group(&quot;$_avg&quot;, Accumulators.avg(&quot;average&quot;, &quot;$likes&quot;));\n         \n        List&lt;Document&gt; results = doc.aggregate(Arrays.asList(group1)).into(new ArrayList&lt;&gt;());\n        System.out.println(&quot;results: &quot; + results); \n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640781638,"creation_date":1640781638,"answer_id":70519555,"question_id":70433987,"body_markdown":"What is your cache strategy for the `Parent` class? Could it be READ_ONLY? Try adding a Cache-annotation\r\n\r\n    @Cache(usage = READ_WRITE)\r\n    @Entity\r\n    class Parent\r\n\r\n... to your entity and see if situation improves!","title":"Why does OPTIMISTIC_FORCE_INCREMENT not increment the version in 2nd-Level-Cache","body":"<p>What is your cache strategy for the <code>Parent</code> class? Could it be READ_ONLY? Try adding a Cache-annotation</p>\n<pre><code>@Cache(usage = READ_WRITE)\n@Entity\nclass Parent\n</code></pre>\n<p>... to your entity and see if situation improves!</p>\n"}],"owner":{"account_id":12937317,"reputation":77,"user_id":9354242,"display_name":"Meini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1640781950,"creation_date":1640082535,"question_id":70433987,"body_markdown":"I have a parent-child-relationship where the parent holds the @version property and it should be incremented whenever the parent itself or any of it children changes. \r\n\r\n    @Entity class Parent{\r\n      @OneToMany(mappedBy = &quot;parent&quot;, ...)\r\n      Set&lt;Child&gt; children;\r\n    \r\n      @Version\r\n      int version;\r\n    } \r\n\r\n    @Entity class Child{\r\n      @ManyToOne\r\n      Parent parent;\r\n    }\r\n\r\nTo archive this I lock the parent in OPTIMISTIC_FORCE_INCREMENT mode, whenever I add, modify or delete a child. \r\n\r\n    entityManager.lock(parent, LockModeType.OPTIMISTIC_FORCE_INCREMENT);\r\n    // modify child\r\n\r\nImmediately before the transaction completes, hibernate generates a statement like this\r\n\r\n```sql\r\n/* forced version increment */ update\r\n    &quot;PARENT&quot; \r\nset\r\n    &quot;VERSION&quot;=? \r\nwhere\r\n    &quot;PARENT_ID&quot;=? \r\n    and &quot;VERSION&quot;=?\r\n```\r\n\r\nThe version in the database is correctly incremented whereas the 2nd-Level-Cache doesn&#39;t get updated. If I select the parent it will be loaded from 2nd-Level-Cache and I still get the old version, I could do a refresh on it or evict it from 2nd-Level-Cache, but it doesn&#39;t feel right, it just has to be updated in consistency to the database. \r\n\r\nI tried Infinispan and EHCache which both behave the same so I think it is a hibernate problem.\r\n\r\nThis is also the reason, why the RootAware-pattern from Vlad Mihalcea is not working in combination with 2nd-Level-Cache. See https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\r\n\r\nSee this comment: https://stackoverflow.com/a/31003719/9354242\r\nAs I in this comment suggested I added a @LastModifiedDate column to the parent and update it whenever I modify a child. Instead of OPTIMISTIC_FORCE_INCREMENT I will have to use just OPTIMISTIC as LockModeType and it is working, both 2nd-Level-Cache and database have the correct version number, but I don&#39;t think this is a very good workaround since every developer has to know about it and there is a huge probability someone somewhere will forget it. Also it is a bad thing to add such a column like this just as a workaround.\r\n\r\n\r\n\r\nThanks in advance","title":"Why does OPTIMISTIC_FORCE_INCREMENT not increment the version in 2nd-Level-Cache","body":"<p>I have a parent-child-relationship where the parent holds the @version property and it should be incremented whenever the parent itself or any of it children changes.</p>\n<pre><code>@Entity class Parent{\n  @OneToMany(mappedBy = &quot;parent&quot;, ...)\n  Set&lt;Child&gt; children;\n\n  @Version\n  int version;\n} \n\n@Entity class Child{\n  @ManyToOne\n  Parent parent;\n}\n</code></pre>\n<p>To archive this I lock the parent in OPTIMISTIC_FORCE_INCREMENT mode, whenever I add, modify or delete a child.</p>\n<pre><code>entityManager.lock(parent, LockModeType.OPTIMISTIC_FORCE_INCREMENT);\n// modify child\n</code></pre>\n<p>Immediately before the transaction completes, hibernate generates a statement like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>/* forced version increment */ update\n    &quot;PARENT&quot; \nset\n    &quot;VERSION&quot;=? \nwhere\n    &quot;PARENT_ID&quot;=? \n    and &quot;VERSION&quot;=?\n</code></pre>\n<p>The version in the database is correctly incremented whereas the 2nd-Level-Cache doesn't get updated. If I select the parent it will be loaded from 2nd-Level-Cache and I still get the old version, I could do a refresh on it or evict it from 2nd-Level-Cache, but it doesn't feel right, it just has to be updated in consistency to the database.</p>\n<p>I tried Infinispan and EHCache which both behave the same so I think it is a hibernate problem.</p>\n<p>This is also the reason, why the RootAware-pattern from Vlad Mihalcea is not working in combination with 2nd-Level-Cache. See <a href=\"https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-increment-the-parent-entity-version-whenever-a-child-entity-gets-modified-with-jpa-and-hibernate/</a></p>\n<p>See this comment: <a href=\"https://stackoverflow.com/a/31003719/9354242\">https://stackoverflow.com/a/31003719/9354242</a>\nAs I in this comment suggested I added a @LastModifiedDate column to the parent and update it whenever I modify a child. Instead of OPTIMISTIC_FORCE_INCREMENT I will have to use just OPTIMISTIC as LockModeType and it is working, both 2nd-Level-Cache and database have the correct version number, but I don't think this is a very good workaround since every developer has to know about it and there is a huge probability someone somewhere will forget it. Also it is a bad thing to add such a column like this just as a workaround.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","jdbc","spring-jdbc","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640781797,"creation_date":1640781797,"answer_id":70519589,"question_id":70453746,"body_markdown":"No, connections created through `DriverManager` will not be added to any connection pool&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nI&#39;m not sure why you would think that a connection created like that would get added to Hikari, because Hikari is not involved in any way when you use `DriverManager`.\r\n\r\n---\r\n**\\*** &lt;sup&gt;In theory, a JDBC driver itself could have an internal connection pool, but I&#39;m not aware of any &#39;standard&#39; drivers doing this.&lt;/sup&gt;","title":"Creating a new connection manually gets added to Hikari connection pool","body":"<p>No, connections created through <code>DriverManager</code> will not be added to any connection pool<sup>*</sup>.</p>\n<p>I'm not sure why you would think that a connection created like that would get added to Hikari, because Hikari is not involved in any way when you use <code>DriverManager</code>.</p>\n<hr />\n<p><strong>*</strong> <sup>In theory, a JDBC driver itself could have an internal connection pool, but I'm not aware of any 'standard' drivers doing this.</sup></p>\n"}],"owner":{"account_id":12478206,"reputation":21,"user_id":9083903,"display_name":"Karthik Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640781797,"creation_date":1640198587,"question_id":70453746,"body_markdown":"In my Spring Boot application does a connection created manually using DriverManager get added to the HikarCP connection pool or not.\r\n\r\nI have the following properties for Hikari connection pool:\r\n\r\n```\r\nspring.datasource.hikari.maximum-pool-size=5\r\nspring.datasource.hikari.idle-timeout=30000\r\nspring.datasource.hikari.minimum-idle=1\r\nspring.datasource.hikari.leakDetectionThreshold=240000\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.maxLifetime=300000 \r\n```\r\n\r\nAnd in one of the classes I&#39;m creating a new connection manually.\r\n\r\n```\r\ntry (Connection con = DriverManager.getConnection(url, user, password)) {\t\r\n\ttry (PreparedStatement stmt = con.prepareStatement(updatedCommand)) {\r\n\t\tstmt.execute();\r\n\t} catch (SQLException sqlException) {\r\n\t\tlog.error(&quot;Error while executing the sql command , message {}&quot;, sqlException.getLocalizedMessage());\r\n\t}\r\n} catch (Exception e) {\r\n\tlog.error(&quot;Error while connecting to Database, message {}&quot;, e.getLocalizedMessage());\r\n}\r\n```\r\n\r\nDoes the manually created connection get added to Hikari&#39;s connection pool or not.\r\n\r\nIf it&#39;s added to Hikari&#39;s managed connection pool then does it close this connection according the configurations if it sits idle?\r\n","title":"Creating a new connection manually gets added to Hikari connection pool","body":"<p>In my Spring Boot application does a connection created manually using DriverManager get added to the HikarCP connection pool or not.</p>\n<p>I have the following properties for Hikari connection pool:</p>\n<pre><code>spring.datasource.hikari.maximum-pool-size=5\nspring.datasource.hikari.idle-timeout=30000\nspring.datasource.hikari.minimum-idle=1\nspring.datasource.hikari.leakDetectionThreshold=240000\nspring.datasource.hikari.connectionTimeout=30000\nspring.datasource.hikari.maxLifetime=300000 \n</code></pre>\n<p>And in one of the classes I'm creating a new connection manually.</p>\n<pre><code>try (Connection con = DriverManager.getConnection(url, user, password)) {   \n    try (PreparedStatement stmt = con.prepareStatement(updatedCommand)) {\n        stmt.execute();\n    } catch (SQLException sqlException) {\n        log.error(&quot;Error while executing the sql command , message {}&quot;, sqlException.getLocalizedMessage());\n    }\n} catch (Exception e) {\n    log.error(&quot;Error while connecting to Database, message {}&quot;, e.getLocalizedMessage());\n}\n</code></pre>\n<p>Does the manually created connection get added to Hikari's connection pool or not.</p>\n<p>If it's added to Hikari's managed connection pool then does it close this connection according the configurations if it sits idle?</p>\n"},{"tags":["java","algorithm","go"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1640783083,"post_id":70518817,"comment_id":124657176,"body_markdown":"An `(Array)BlockingQueue` with a capacity of 1 maybe + threads. In effect you only need co-routines as in the go language.","body":"An <code>(Array)BlockingQueue</code> with a capacity of 1 maybe + threads. In effect you only need co-routines as in the go language."},{"owner":{"account_id":6402640,"reputation":17528,"user_id":4964822,"display_name":"nice_dev"},"score":0,"creation_date":1640800463,"post_id":70518817,"comment_id":124663313,"body_markdown":"I presume Morris traversal would also be a good way to evaluate equivalence between 2 trees&#39; structure.","body":"I presume Morris traversal would also be a good way to evaluate equivalence between 2 trees&#39; structure."}],"answers":[{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640781677,"creation_date":1640778942,"answer_id":70519066,"question_id":70518817,"body_markdown":"You can walk both trees at the same time and compare their elements immediately without using a `StringBuilder`.\r\n\r\nSomething along the lines:\r\n\r\n    public boolean equivalentBST(TreeNode node1, TreeNode node2) {\r\n        var stack1 = new ArrayList&lt;TreeNode&gt;();\r\n        var stack2 = new ArrayList&lt;TreeNode&gt;();\r\n\r\n        while (true) {\r\n            while (node1 != null) {\r\n                stack1.add(node1);\r\n                node1 = node1.left;\r\n            }\r\n            while (node2 != null) {\r\n                stack2.add(node2);\r\n                node2 = node2.left;\r\n            }\r\n            if (stack1.isEmpty() || stack2.isEmpty())\r\n                return stack1.isEmpty() &amp;&amp; stack2.isEmpty();\r\n            node1 = stack1.remove(stack1.size() - 1);\r\n            node2 = stack2.remove(stack2.size() - 1);\r\n            if (node1.val != node2.val)\r\n                return false;\r\n            node1 = node1.right;\r\n            node2 = node2.right;\r\n        }\r\n    }\r\n","title":"Equivalent sorted binary tree In Java","body":"<p>You can walk both trees at the same time and compare their elements immediately without using a <code>StringBuilder</code>.</p>\n<p>Something along the lines:</p>\n<pre><code>public boolean equivalentBST(TreeNode node1, TreeNode node2) {\n    var stack1 = new ArrayList&lt;TreeNode&gt;();\n    var stack2 = new ArrayList&lt;TreeNode&gt;();\n\n    while (true) {\n        while (node1 != null) {\n            stack1.add(node1);\n            node1 = node1.left;\n        }\n        while (node2 != null) {\n            stack2.add(node2);\n            node2 = node2.left;\n        }\n        if (stack1.isEmpty() || stack2.isEmpty())\n            return stack1.isEmpty() &amp;&amp; stack2.isEmpty();\n        node1 = stack1.remove(stack1.size() - 1);\n        node2 = stack2.remove(stack2.size() - 1);\n        if (node1.val != node2.val)\n            return false;\n        node1 = node1.right;\n        node2 = node2.right;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70519066,"answer_count":1,"score":0,"last_activity_date":1640781677,"creation_date":1640777464,"question_id":70518817,"body_markdown":"I am learning ```Go``` and in this [tutorial][1], concurrency and channels can be used to complete this exercise: [Solution][2].\r\n\r\nAnd I try to solve this by ```Java```. The solution I can think of is to use temporary data structure to store the results of the in-order traversal of these two trees, and then compare. \r\n\r\nFor example, I use a ```StringBuilder``` to store the result of the in-order traversal and then compare(Notice that we&#39;re comparing sorted binary trees):\r\n\r\n\r\n```\r\n    public boolean equivalentBST(TreeNode p, TreeNode q) {\r\n        StringBuilder pSb = new StringBuilder();\r\n        walk(pSb, p);\r\n        StringBuilder qSb = new StringBuilder();\r\n        walk(qSb, q);\r\n        return pSb.compareTo(qSb) == 0;\r\n    }\r\n\r\n    private void walk(StringBuilder sb, TreeNode node) {\r\n        if (node == null) {\r\n            return;\r\n        }\r\n        walk(sb, node.left);\r\n        sb.append(node.val);\r\n        walk(sb, node.right);\r\n    }\r\n```\r\nTestcase:\r\n```\r\n        TreeNode p = new TreeNode(9);\r\n        TreeNode p2 = new TreeNode(8);\r\n        TreeNode p3 = new TreeNode(7);\r\n        p.left = p2;\r\n        p2.left = p3;\r\n\r\n        TreeNode q = new TreeNode(9);\r\n        TreeNode q2 = new TreeNode(8);\r\n        TreeNode q3 = new TreeNode(7);\r\n        q3.right = q2;\r\n        q.left = q3;\r\n\r\n        System.out.println(equivalentBST(q, p)); // output true\r\n```\r\n\r\nI want to know is there any other better way to solve this by ```Java```?\r\n\r\n\r\n\r\n  [1]: https://go.dev/tour/concurrency/7\r\n  [2]: https://stackoverflow.com/a/24580091/9690075","title":"Equivalent sorted binary tree In Java","body":"<p>I am learning <code>Go</code> and in this <a href=\"https://go.dev/tour/concurrency/7\" rel=\"nofollow noreferrer\">tutorial</a>, concurrency and channels can be used to complete this exercise: <a href=\"https://stackoverflow.com/a/24580091/9690075\">Solution</a>.</p>\n<p>And I try to solve this by <code>Java</code>. The solution I can think of is to use temporary data structure to store the results of the in-order traversal of these two trees, and then compare.</p>\n<p>For example, I use a <code>StringBuilder</code> to store the result of the in-order traversal and then compare(Notice that we're comparing sorted binary trees):</p>\n<pre><code>    public boolean equivalentBST(TreeNode p, TreeNode q) {\n        StringBuilder pSb = new StringBuilder();\n        walk(pSb, p);\n        StringBuilder qSb = new StringBuilder();\n        walk(qSb, q);\n        return pSb.compareTo(qSb) == 0;\n    }\n\n    private void walk(StringBuilder sb, TreeNode node) {\n        if (node == null) {\n            return;\n        }\n        walk(sb, node.left);\n        sb.append(node.val);\n        walk(sb, node.right);\n    }\n</code></pre>\n<p>Testcase:</p>\n<pre><code>        TreeNode p = new TreeNode(9);\n        TreeNode p2 = new TreeNode(8);\n        TreeNode p3 = new TreeNode(7);\n        p.left = p2;\n        p2.left = p3;\n\n        TreeNode q = new TreeNode(9);\n        TreeNode q2 = new TreeNode(8);\n        TreeNode q3 = new TreeNode(7);\n        q3.right = q2;\n        q.left = q3;\n\n        System.out.println(equivalentBST(q, p)); // output true\n</code></pre>\n<p>I want to know is there any other better way to solve this by <code>Java</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","sap-commerce-cloud"],"comments":[{"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"score":0,"creation_date":1640605276,"post_id":70494693,"comment_id":124613708,"body_markdown":"Please post code, not pictures of code. Pictures of code cannot be quoted.","body":"Please post code, not pictures of code. Pictures of code cannot be quoted."},{"owner":{"account_id":7635105,"reputation":23,"user_id":5788882,"display_name":"Rahul Sharma"},"score":1,"creation_date":1640607749,"post_id":70494693,"comment_id":124614421,"body_markdown":"@TheHeadRush Thanks for the guidance. I have replaced the images with the code snippets.","body":"@TheHeadRush Thanks for the guidance. I have replaced the images with the code snippets."},{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1640819448,"post_id":70494693,"comment_id":124668728,"body_markdown":"as you indicate the content type gets changed when you use curl. can you add the curl command that you use?","body":"as you indicate the content type gets changed when you use curl. can you add the curl command that you use?"}],"owner":{"account_id":7635105,"reputation":23,"user_id":5788882,"display_name":"Rahul Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640781270,"creation_date":1640603502,"question_id":70494693,"body_markdown":"I am pretty new to Hybris and working on a project. As per the requirement, there is an existing working api that accepts a single multipart file along with other params. Now, I need to customize the api to accept multiple files instead of Single file. So in the argument, I replaced the &quot;final MultipartFile mediaFiles&quot; with &quot;final MultipartFile[] mediaFiles&quot;. In swagger, now I am able to add the multiple files but when I am executing the api, I am getting the following:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n      &lt;errorList&gt;\r\n        &lt;errors&gt;\r\n          &lt;message&gt;Current request is not a multipart request&lt;/message&gt;\r\n          &lt;type&gt;MultipartError&lt;/type&gt;\r\n        &lt;/errors&gt;\r\n      &lt;/errorList&gt;\r\n\r\nI have tried a lot of solutions available on Stackoverflow but till now no luck. My controller method signature looks like below:\r\n\r\n\r\n    * @param mediaFile\r\n    \t * @param bhsItemType\r\n    \t * @param bhsItemCode\r\n    \t * @param documentType\r\n    \t * @return\r\n    \t */\r\n    \t@Secured({&quot;ROLE_CSOGROUP&quot;,&quot;ROLE_TRUSTED_CLIENT&quot;,&quot;ROLE_PMGROUP&quot;,&quot;ROLE_DESIGNERGROUP&quot;,&quot;ROLE_CUSTOMERGROUP&quot;,&quot;ROLE_CESEGROUP&quot;})\r\n    \t@PostMapping(value = &quot;uploadfile&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \t@ResponseBody\r\n    \t@ApiBaseSiteIdParam\r\n    \t@ApiOperation(value = &quot;Method to upload media&quot;, notes = &quot;Media method handling POST body parameter&quot;, produces = &quot;application/json,application/xml&quot;, consumes = &quot;application/json,application/xml&quot;, authorizations = {\r\n    \t\t\t@Authorization(value = CLIENT_CREDENTIAL_AUTHORIZATION_NAME),\r\n    \t\t\t@Authorization(value = PASSWORD_AUTHORIZATION_NAME) })\r\n    \tpublic BHSMediaResponseDTO uploadFile(\r\n    \t\t\t@ApiParam(value = &quot;User Group&quot;, required = true) @RequestParam(&quot;userGroup&quot;) String userGroup,\r\n    \t\t\t@ApiParam(value = &quot;Lead Or Site Code&quot;, required = true) @RequestParam(&quot;bhsItemCode&quot;) String bhsItemCode,\r\n    \t\t\t@ApiParam(value = &quot;BHS Item Type&quot;, required = true) @RequestParam(value = &quot;bhsItemType&quot;, required = true, defaultValue = &quot;BHSLead&quot;) String bhsItemType,\r\n    \t\t\t@ApiParam(value = &quot;BHS Document Type&quot;) @RequestParam(value = &quot;documentType&quot;, required = false, defaultValue = &quot;OTHERS&quot;) String documentType,\r\n    \t\t\t@ApiParam(value = &quot;Media File&quot;, required = true) @RequestParam(&quot;mediaFile&quot;) final MultipartFile[] mediaFile,\r\n    \t\t\t@ApiParam(value = &quot;Media File to be visible to all&quot;, required = true) @RequestParam(&quot;isPrivate&quot;) final Boolean isPrivate,\r\n    \r\n    \t\t\tfinal HttpServletRequest httpRequest, final HttpServletResponse httpResponse) {\r\n\r\n**Update**:\r\nI figured out the root cause. I have updated the consumes to &quot;multipart/form-data&quot; but when I send the request, the curl command still shows that the content type is &quot;application/json&quot; and somehow, the content type is getting changed and consumes tag is not getting overridden. Still cannot figure out why.","title":"Current request is not a multipart request error in Hybris","body":"<p>I am pretty new to Hybris and working on a project. As per the requirement, there is an existing working api that accepts a single multipart file along with other params. Now, I need to customize the api to accept multiple files instead of Single file. So in the argument, I replaced the &quot;final MultipartFile mediaFiles&quot; with &quot;final MultipartFile[] mediaFiles&quot;. In swagger, now I am able to add the multiple files but when I am executing the api, I am getting the following:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n  &lt;errorList&gt;\n    &lt;errors&gt;\n      &lt;message&gt;Current request is not a multipart request&lt;/message&gt;\n      &lt;type&gt;MultipartError&lt;/type&gt;\n    &lt;/errors&gt;\n  &lt;/errorList&gt;\n</code></pre>\n<p>I have tried a lot of solutions available on Stackoverflow but till now no luck. My controller method signature looks like below:</p>\n<pre><code>* @param mediaFile\n     * @param bhsItemType\n     * @param bhsItemCode\n     * @param documentType\n     * @return\n     */\n    @Secured({&quot;ROLE_CSOGROUP&quot;,&quot;ROLE_TRUSTED_CLIENT&quot;,&quot;ROLE_PMGROUP&quot;,&quot;ROLE_DESIGNERGROUP&quot;,&quot;ROLE_CUSTOMERGROUP&quot;,&quot;ROLE_CESEGROUP&quot;})\n    @PostMapping(value = &quot;uploadfile&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    @ResponseBody\n    @ApiBaseSiteIdParam\n    @ApiOperation(value = &quot;Method to upload media&quot;, notes = &quot;Media method handling POST body parameter&quot;, produces = &quot;application/json,application/xml&quot;, consumes = &quot;application/json,application/xml&quot;, authorizations = {\n            @Authorization(value = CLIENT_CREDENTIAL_AUTHORIZATION_NAME),\n            @Authorization(value = PASSWORD_AUTHORIZATION_NAME) })\n    public BHSMediaResponseDTO uploadFile(\n            @ApiParam(value = &quot;User Group&quot;, required = true) @RequestParam(&quot;userGroup&quot;) String userGroup,\n            @ApiParam(value = &quot;Lead Or Site Code&quot;, required = true) @RequestParam(&quot;bhsItemCode&quot;) String bhsItemCode,\n            @ApiParam(value = &quot;BHS Item Type&quot;, required = true) @RequestParam(value = &quot;bhsItemType&quot;, required = true, defaultValue = &quot;BHSLead&quot;) String bhsItemType,\n            @ApiParam(value = &quot;BHS Document Type&quot;) @RequestParam(value = &quot;documentType&quot;, required = false, defaultValue = &quot;OTHERS&quot;) String documentType,\n            @ApiParam(value = &quot;Media File&quot;, required = true) @RequestParam(&quot;mediaFile&quot;) final MultipartFile[] mediaFile,\n            @ApiParam(value = &quot;Media File to be visible to all&quot;, required = true) @RequestParam(&quot;isPrivate&quot;) final Boolean isPrivate,\n\n            final HttpServletRequest httpRequest, final HttpServletResponse httpResponse) {\n</code></pre>\n<p><strong>Update</strong>:\nI figured out the root cause. I have updated the consumes to &quot;multipart/form-data&quot; but when I send the request, the curl command still shows that the content type is &quot;application/json&quot; and somehow, the content type is getting changed and consumes tag is not getting overridden. Still cannot figure out why.</p>\n"},{"tags":["java","spring","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1640784748,"post_id":70519016,"comment_id":124657778,"body_markdown":"Where exactly (on which side) do you want to prohibit invalid inputs? Are you are sending requests from Swagger UI and you want it to reject inputs that don&#39;t match your OpenAPI definition? Or do you want to have these validations on the server side (e.g. in the server code generated by Swagger Codegen) or middleware? Please elaborate. Different tools (clients vs servers vs middleware) may or may not support such validations.","body":"Where exactly (on which side) do you want to prohibit invalid inputs? Are you are sending requests from Swagger UI and you want it to reject inputs that don&#39;t match your OpenAPI definition? Or do you want to have these validations on the server side (e.g. in the server code generated by Swagger Codegen) or middleware? Please elaborate. Different tools (clients vs servers vs middleware) may or may not support such validations."},{"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"score":0,"creation_date":1640785344,"post_id":70519016,"comment_id":124658001,"body_markdown":"yea, I send requests from swagger UI and I want it to be validated on server side, ideally, through javax.validation, if it&#39;s possible","body":"yea, I send requests from swagger UI and I want it to be validated on server side, ideally, through javax.validation, if it&#39;s possible"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640781122,"creation_date":1640779584,"answer_id":70519176,"question_id":70519016,"body_markdown":"As indicated [in the documentation](https://swagger.io/docs/specification/data-models/data-types/#null):\r\n\r\n&gt; OpenAPI 3.0 does not have an explicit `null` type as in JSON Schema, but you \r\n&gt; can use `nullable: true` to specify that the value may be `null`. Note that \r\n&gt; `null` is different from an empty string `&quot;&quot;`.\r\n\r\nTo prevent the empty string you could provide a `pattern` regex.\r\n\r\nPlease, try the following:\r\n\r\n```yaml\r\nCreateUsersRequest:\r\n      required:\r\n        - userIds\r\n      type: object\r\n      properties:\r\n        userIds:\r\n          uniqueItems: true\r\n          minItems: 1\r\n          type: array\r\n          items:\r\n            type: string\r\n            format: uuid\r\n            nullable: false\r\n            pattern: ^[a-z|\\-]+$\r\n```\r\n\r\nPlease, test the code carefully, I realized you used `format: uuid`, so I am not absolutely confident about the combination of `format` and `pattern`.\r\n\r\nIf necessary, you could try providing your own `uuid` type. For example:\r\n\r\n```yaml\r\nUuid:\r\n    type: string\r\n    pattern: &#39;^[\\da-f]{8}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{12}$&#39;\r\n    nullable: false\r\n```\r\n\r\nAnd:\r\n\r\n```yaml\r\nCreateUsersRequest:\r\n      required:\r\n        - userIds\r\n      type: object\r\n      properties:\r\n        userIds:\r\n          uniqueItems: true\r\n          minItems: 1\r\n          type: array\r\n          items:\r\n            $ref: &quot;#/components/schemas/Uuid&quot;\r\n```","title":"OpenApi arrays and nested objects validation","body":"<p>As indicated <a href=\"https://swagger.io/docs/specification/data-models/data-types/#null\" rel=\"nofollow noreferrer\">in the documentation</a>:</p>\n<blockquote>\n<p>OpenAPI 3.0 does not have an explicit <code>null</code> type as in JSON Schema, but you\ncan use <code>nullable: true</code> to specify that the value may be <code>null</code>. Note that\n<code>null</code> is different from an empty string <code>&quot;&quot;</code>.</p>\n</blockquote>\n<p>To prevent the empty string you could provide a <code>pattern</code> regex.</p>\n<p>Please, try the following:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>CreateUsersRequest:\n      required:\n        - userIds\n      type: object\n      properties:\n        userIds:\n          uniqueItems: true\n          minItems: 1\n          type: array\n          items:\n            type: string\n            format: uuid\n            nullable: false\n            pattern: ^[a-z|\\-]+$\n</code></pre>\n<p>Please, test the code carefully, I realized you used <code>format: uuid</code>, so I am not absolutely confident about the combination of <code>format</code> and <code>pattern</code>.</p>\n<p>If necessary, you could try providing your own <code>uuid</code> type. For example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>Uuid:\n    type: string\n    pattern: '^[\\da-f]{8}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{12}$'\n    nullable: false\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>CreateUsersRequest:\n      required:\n        - userIds\n      type: object\n      properties:\n        userIds:\n          uniqueItems: true\n          minItems: 1\n          type: array\n          items:\n            $ref: &quot;#/components/schemas/Uuid&quot;\n</code></pre>\n"}],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640781122,"creation_date":1640778754,"question_id":70519016,"body_markdown":"I&#39;m using OpenApi specification, this is an example of code that generates the class:\r\n\r\n    CreateUsersRequest:\r\n          required:\r\n            - userIds\r\n          type: object\r\n          properties:\r\n            userIds:\r\n              uniqueItems: true\r\n              minItems: 1\r\n              type: array\r\n              items:\r\n                type: string\r\n                format: uuid\r\nI want to prohibit sending the following request: \r\n```\r\n{\r\n  &quot;userIds&quot;: [\r\n    &quot;&quot;\r\n  ]\r\n}\r\n```\r\n```\r\n{\r\n  &quot;userIds&quot;: [\r\n    null\r\n  ]\r\n}\r\n```\r\nIn case I used `javax.validation` it would look like:\r\n```\r\n@NotNull \r\nprivate List&lt;@NotEmpty UUID&gt; userIds;\r\n```\r\nIs there any ways to do the same using `api.yml` file ?","title":"OpenApi arrays and nested objects validation","body":"<p>I'm using OpenApi specification, this is an example of code that generates the class:</p>\n<pre><code>CreateUsersRequest:\n      required:\n        - userIds\n      type: object\n      properties:\n        userIds:\n          uniqueItems: true\n          minItems: 1\n          type: array\n          items:\n            type: string\n            format: uuid\n</code></pre>\n<p>I want to prohibit sending the following request:</p>\n<pre><code>{\n  &quot;userIds&quot;: [\n    &quot;&quot;\n  ]\n}\n</code></pre>\n<pre><code>{\n  &quot;userIds&quot;: [\n    null\n  ]\n}\n</code></pre>\n<p>In case I used <code>javax.validation</code> it would look like:</p>\n<pre><code>@NotNull \nprivate List&lt;@NotEmpty UUID&gt; userIds;\n</code></pre>\n<p>Is there any ways to do the same using <code>api.yml</code> file ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":143508,"reputation":2358,"user_id":351885,"accept_rate":62,"display_name":"Ben"},"score":4,"creation_date":1284109780,"post_id":3680625,"comment_id":3879779,"body_markdown":"Thanks to all who answered. For anyone interested, section 5.2 of the language specification (Assignment Conversion) does in fact say &quot;In addition, if the expression is a constant expression (&#167;15.28) of type byte, short, char or int : ... A narrowing primitive conversion may be used if the type of the variable is byte, short, or char, and the value of the constant expression is representable in the type of the variable.&quot;","body":"Thanks to all who answered. For anyone interested, section 5.2 of the language specification (Assignment Conversion) does in fact say &quot;In addition, if the expression is a constant expression (&#167;15.28) of type byte, short, char or int : ... A narrowing primitive conversion may be used if the type of the variable is byte, short, or char, and the value of the constant expression is representable in the type of the variable.&quot;"},{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":2,"creation_date":1382569271,"post_id":3680625,"comment_id":29015707,"body_markdown":"If you, like me, happen to stumble on this because you want to know how to actually convert an indexed char into a string, here you go; when `i=2` then `String.valueOf((char)(&#39;a&#39;+i))` returns the String &quot;c&quot;.","body":"If you, like me, happen to stumble on this because you want to know how to actually convert an indexed char into a string, here you go; when <code>i=2</code> then <code>String.valueOf((char)(&#39;a&#39;+i))</code> returns the String &quot;c&quot;."},{"owner":{"account_id":1393380,"reputation":281,"user_id":1323672,"display_name":"Raghave Shukla"},"score":0,"creation_date":1690705893,"post_id":3680625,"comment_id":135388557,"body_markdown":"The reason is that since `char c` is an unsigned integer is can only take positive values. The compiler is smart enough to understand that `&#39;a&#39; + 10` will never result in an illegal value therefore it compiles. where as the compiler evaluates `&#39;a&#39; + i` in isolation and cant make out if this may result in a negatively signed or positive literal which may be illegal for char and therefore it will complain of lossy conversion.","body":"The reason is that since <code>char c</code> is an unsigned integer is can only take positive values. The compiler is smart enough to understand that <code>&#39;a&#39; + 10</code> will never result in an illegal value therefore it compiles. where as the compiler evaluates <code>&#39;a&#39; + i</code> in isolation and cant make out if this may result in a negatively signed or positive literal which may be illegal for char and therefore it will complain of lossy conversion."}],"answers":[{"tags":[],"owner":{"account_id":138169,"reputation":3527,"user_id":342918,"accept_rate":89,"display_name":"einarmagnus"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1284067469,"creation_date":1284067065,"answer_id":3680653,"question_id":3680625,"body_markdown":"It is because the compiler can check that it (`&#39;a&#39; + 10`) is within the bounds of a char whereas it cannot (in general) check that `&#39;a&#39; + &lt;an integer&gt;` is within the bounds.","title":"Integer arithmetic in Java with char and integer literal","body":"<p>It is because the compiler can check that it (<code>'a' + 10</code>) is within the bounds of a char whereas it cannot (in general) check that <code>'a' + &lt;an integer&gt;</code> is within the bounds.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1284067572,"creation_date":1284067167,"answer_id":3680665,"question_id":3680625,"body_markdown":"`&#39;a&#39; + 10` is a *compile-time constant expression* with the value of `&#39;k&#39;`, which can initialise a variable of type `char`. This is the same as being able to assign a `byte` variable with a literal integer in [-128, 127]. A `byte` in the range of [128, 255] may be more annoying.","title":"Integer arithmetic in Java with char and integer literal","body":"<p><code>'a' + 10</code> is a <em>compile-time constant expression</em> with the value of <code>'k'</code>, which can initialise a variable of type <code>char</code>. This is the same as being able to assign a <code>byte</code> variable with a literal integer in [-128, 127]. A <code>byte</code> in the range of [128, 255] may be more annoying.</p>\n"},{"tags":[],"owner":{"account_id":147382,"reputation":18008,"user_id":358464,"accept_rate":93,"display_name":"Bob Fincheimer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1284067497,"creation_date":1284067497,"answer_id":3680692,"question_id":3680625,"body_markdown":"The constant is of a different type (I know the spec says that `10` should be an int, but the compiler doesn&#39;t see it that way).\r\n\r\nIn `char c = &#39;a&#39; + 10`, 10 is actually considered a constant variable of type char (so it can be added to a).  Therefore `char c = char + char` works.\r\n\r\nIn `int i = 10;\r\nchar c = &#39;a&#39; + i;`  You are adding a char to an integer (an integer can be much bigger than a char, so it chooses the bigger data type [`int`] to be the result a.k.a: `&#39;a&#39; + i = int + int`).  So the result of the addition is an integer, which cannot fit into the `char c`.\r\n\r\nIf you explicitly casted `i` to be a char (e.g.: `char c = &#39;a&#39; + (char)i;`) it could work or if you did the opposite (e.g.: `int c = (int)&#39;a&#39; + i;`) it would work. \r\n\r\n","title":"Integer arithmetic in Java with char and integer literal","body":"<p>The constant is of a different type (I know the spec says that <code>10</code> should be an int, but the compiler doesn't see it that way).</p>\n\n<p>In <code>char c = 'a' + 10</code>, 10 is actually considered a constant variable of type char (so it can be added to a).  Therefore <code>char c = char + char</code> works.</p>\n\n<p>In <code>int i = 10;\nchar c = 'a' + i;</code>  You are adding a char to an integer (an integer can be much bigger than a char, so it chooses the bigger data type [<code>int</code>] to be the result a.k.a: <code>'a' + i = int + int</code>).  So the result of the addition is an integer, which cannot fit into the <code>char c</code>.</p>\n\n<p>If you explicitly casted <code>i</code> to be a char (e.g.: <code>char c = 'a' + (char)i;</code>) it could work or if you did the opposite (e.g.: <code>int c = (int)'a' + i;</code>) it would work. </p>\n"},{"tags":[],"owner":{"account_id":8686066,"reputation":51,"user_id":6500459,"display_name":"Po Chen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469910988,"creation_date":1469910988,"answer_id":38678257,"question_id":3680625,"body_markdown":"char is actually an unsigned 16-bit integer with a range 0-65535. So you can assign any integer literal in that range to a char, e.g., &quot;char c = 96&quot;, which results in &quot;c&quot; holding the character &quot;a&quot;. You can print out the result using System.out.println(c). \r\n\r\nFor the constant expression on the right-hand-side of &quot;char c = &#39;a&#39; + 10&quot;, &#39;a&#39; is promoted to int first because of the Java numeric promotion rules and the integer value is 96. After adding 10 to it, we get a literal integer 106, which can be assigned to a char. \r\n\r\nThe right-hand-side of &quot;char c = &#39;a&#39; + i&quot; is not a constant expression and the expression result assignment rule requires an explicit cast from int to char, i.e., &quot;char c = (char) (&#39;a&#39; + i)&quot;.\r\n\r\n   ","title":"Integer arithmetic in Java with char and integer literal","body":"<p>char is actually an unsigned 16-bit integer with a range 0-65535. So you can assign any integer literal in that range to a char, e.g., \"char c = 96\", which results in \"c\" holding the character \"a\". You can print out the result using System.out.println(c). </p>\n\n<p>For the constant expression on the right-hand-side of \"char c = 'a' + 10\", 'a' is promoted to int first because of the Java numeric promotion rules and the integer value is 96. After adding 10 to it, we get a literal integer 106, which can be assigned to a char. </p>\n\n<p>The right-hand-side of \"char c = 'a' + i\" is not a constant expression and the expression result assignment rule requires an explicit cast from int to char, i.e., \"char c = (char) ('a' + i)\".</p>\n"},{"tags":[],"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606071736,"creation_date":1605962698,"answer_id":64943196,"question_id":3680625,"body_markdown":"According to *Java specification* as of **2020** for widening and narrowing conversions of integral values in expressions:\r\n\r\n&gt; &quot;In a *numeric arithmetic context* ...  the promoted type is `int`,\r\n&gt; and any expressions that are not of  type `int` undergo *widening*\r\n&gt; *primitive conversion* to `int`&quot;\r\n\r\nIn *assignment context*:\r\n\r\n&gt; &quot;...if the expression is a *constant expression* of type `byte`,  `short`,\r\n&gt; `char`, or `int`: \r\n&gt;\r\n&gt; • A *narrowing primitive conversion* may be used if the\r\n&gt; variable is of type `byte`, `short`, or `char`, and the value of the\r\n&gt; *constant expression* is representable in the type of the variable.&quot;\r\n\r\nSo, in `char c = &#39;a&#39; + 10;` the left constant value is a `char`and the right constant value is `int` fitting into a `char`. While there is an *assignment* and `int` 10 fits into `char`, `int` gets converted to `char`. And the overall result of addition is `char`.\r\n\r\nAnd in `char c = &#39;a&#39; + i;` (where `int i = 10;`) the `i` is not constant, so, notwithstanding the assignment, the `char &#39;a&#39;` is promoted to `int` and the overall result is `int`. Thus, the assignment is erroneous without an explicit typecast.\r\n\r\nNote, that the following original answer is wrong (it cites treatment in *numeric choice contexts*, like in `switch` statement):\r\n\r\n&lt;s&gt;According to *Java specification* for widening and narrowing conversions in expressions:\r\n\r\n&gt; If any expression is of type `int` and is not a constant expression,\r\n&gt; then the promoted type is `int`, and other expressions that are not of\r\n&gt; type `int` undergo ***widening** primitive conversion* to `int`.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; if any expression is of type `char`, and every other expression is\r\n&gt; either of type &#39;char&#39; or a *constant expression* of type &#39;int&#39; with a\r\n&gt; value that is representable in the type &#39;char&#39;, then the promoted type\r\n&gt; is `char`, and the `int` expressions undergo ***narrowing** primitive\r\n&gt; conversion* to `char`.\r\n\r\nSo, in `char c = &#39;a&#39; + 10;` the left expression is a `char` and the right constant expression is `int` fitting into a `char`. So, the constant gets converted to `char`. And the overall result is `char`.\r\n\r\nAnd in `char c = &#39;a&#39; + i;` (where `int i = 10;`) the right expression is not constant, so the the `char &#39;a&#39;` is promoted to `int` and the overall result is `int`.  &lt;/s&gt;","title":"Integer arithmetic in Java with char and integer literal","body":"<p>According to <em>Java specification</em> as of <strong>2020</strong> for widening and narrowing conversions of integral values in expressions:</p>\n<blockquote>\n<p>&quot;In a <em>numeric arithmetic context</em> ...  the promoted type is <code>int</code>,\nand any expressions that are not of  type <code>int</code> undergo <em>widening</em>\n<em>primitive conversion</em> to <code>int</code>&quot;</p>\n</blockquote>\n<p>In <em>assignment context</em>:</p>\n<blockquote>\n<p>&quot;...if the expression is a <em>constant expression</em> of type <code>byte</code>,  <code>short</code>,\n<code>char</code>, or <code>int</code>:</p>\n<p>• A <em>narrowing primitive conversion</em> may be used if the\nvariable is of type <code>byte</code>, <code>short</code>, or <code>char</code>, and the value of the\n<em>constant expression</em> is representable in the type of the variable.&quot;</p>\n</blockquote>\n<p>So, in <code>char c = 'a' + 10;</code> the left constant value is a <code>char</code>and the right constant value is <code>int</code> fitting into a <code>char</code>. While there is an <em>assignment</em> and <code>int</code> 10 fits into <code>char</code>, <code>int</code> gets converted to <code>char</code>. And the overall result of addition is <code>char</code>.</p>\n<p>And in <code>char c = 'a' + i;</code> (where <code>int i = 10;</code>) the <code>i</code> is not constant, so, notwithstanding the assignment, the <code>char 'a'</code> is promoted to <code>int</code> and the overall result is <code>int</code>. Thus, the assignment is erroneous without an explicit typecast.</p>\n<p>Note, that the following original answer is wrong (it cites treatment in <em>numeric choice contexts</em>, like in <code>switch</code> statement):</p>\n<p><s>According to <em>Java specification</em> for widening and narrowing conversions in expressions:</p>\n<blockquote>\n<p>If any expression is of type <code>int</code> and is not a constant expression,\nthen the promoted type is <code>int</code>, and other expressions that are not of\ntype <code>int</code> undergo <em><strong>widening</strong> primitive conversion</em> to <code>int</code>.</p>\n<p>...</p>\n<p>if any expression is of type <code>char</code>, and every other expression is\neither of type 'char' or a <em>constant expression</em> of type 'int' with a\nvalue that is representable in the type 'char', then the promoted type\nis <code>char</code>, and the <code>int</code> expressions undergo <em><strong>narrowing</strong> primitive\nconversion</em> to <code>char</code>.</p>\n</blockquote>\n<p>So, in <code>char c = 'a' + 10;</code> the left expression is a <code>char</code> and the right constant expression is <code>int</code> fitting into a <code>char</code>. So, the constant gets converted to <code>char</code>. And the overall result is <code>char</code>.</p>\n<p>And in <code>char c = 'a' + i;</code> (where <code>int i = 10;</code>) the right expression is not constant, so the the <code>char 'a'</code> is promoted to <code>int</code> and the overall result is <code>int</code>.  </s></p>\n"},{"tags":[],"owner":{"account_id":15199988,"reputation":21,"user_id":10968278,"display_name":"Kumar Aman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640781059,"creation_date":1640780285,"answer_id":70519305,"question_id":3680625,"body_markdown":"This code should works:\r\n```\r\nint i = 10;\r\n\r\nchar x = (char)(&#39;a&#39; + i);\r\n```\r\n","title":"Integer arithmetic in Java with char and integer literal","body":"<p>This code should works:</p>\n<pre><code>int i = 10;\n\nchar x = (char)('a' + i);\n</code></pre>\n"}],"owner":{"account_id":143508,"reputation":2358,"user_id":351885,"accept_rate":62,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32867,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":3680665,"answer_count":6,"score":27,"last_activity_date":1640781059,"creation_date":1284066800,"question_id":3680625,"body_markdown":"Can someone explain to me why the following code compiles OK in Java?  \r\n\r\n    char c = &#39;a&#39; + 10;\r\n\r\nWhy is this not equivalent to the following, which does not compile?  \r\n\r\n    int i = 10;\r\n    char c = &#39;a&#39; + i;\r\n\r\nThe Java Language Specification (section 3.10.1) states &quot;An integer literal is of type `long` if it is suffixed with an ASCII letter L or l (ell); otherwise it is of type `int` (&#167;4.2.1).&quot; Section 4.2.2 refers to &quot;The numerical operators, which result in a value of type `int` or `long`.&quot; So the result of the addition should, in my understanding, be an `int`, which cannot be assigned to the `char` variable `c`.\r\n\r\nHowever, it compiles fine (at least in Sun JDK 1.6.0 release 17 and in Eclipse Helios).\r\n\r\nRather an artificial example perhaps, but it is used in an introductory Java course I have been teaching, and it now occurs to me that I don&#39;t really understand why it works.\r\n","title":"Integer arithmetic in Java with char and integer literal","body":"<p>Can someone explain to me why the following code compiles OK in Java?  </p>\n\n<pre><code>char c = 'a' + 10;\n</code></pre>\n\n<p>Why is this not equivalent to the following, which does not compile?  </p>\n\n<pre><code>int i = 10;\nchar c = 'a' + i;\n</code></pre>\n\n<p>The Java Language Specification (section 3.10.1) states \"An integer literal is of type <code>long</code> if it is suffixed with an ASCII letter L or l (ell); otherwise it is of type <code>int</code> (§4.2.1).\" Section 4.2.2 refers to \"The numerical operators, which result in a value of type <code>int</code> or <code>long</code>.\" So the result of the addition should, in my understanding, be an <code>int</code>, which cannot be assigned to the <code>char</code> variable <code>c</code>.</p>\n\n<p>However, it compiles fine (at least in Sun JDK 1.6.0 release 17 and in Eclipse Helios).</p>\n\n<p>Rather an artificial example perhaps, but it is used in an introductory Java course I have been teaching, and it now occurs to me that I don't really understand why it works.</p>\n"},{"tags":["java","android","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":1466232,"reputation":6167,"user_id":1378963,"accept_rate":75,"display_name":"The Original Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434418999,"creation_date":1434418999,"answer_id":30857568,"question_id":30856970,"body_markdown":"There are many tutorials/projects from Google and others. I think your main problem now is that the caller *cannot create a new instance of your Fragment*.\r\nOne good Google webpage is @ [Fragments][1].\r\n\r\nCode snippet from the webpage:\r\n\r\n    public static class DetailsFragment extends Fragment {\r\n        /**\r\n         * Create a new instance of DetailsFragment, initialized to\r\n         * show the text at &#39;index&#39;.\r\n         */\r\n        public static DetailsFragment newInstance(int index) {\r\n            DetailsFragment f = new DetailsFragment();\r\n    \r\n            // Supply index input as an argument.\r\n            Bundle args = new Bundle();\r\n            args.putInt(&quot;index&quot;, index);\r\n            f.setArguments(args);\r\n    \r\n            return f;\r\n        }\r\n\r\nNotes:\r\n\r\n - Instead of `extends Fragment`, replace with `extends ListFragment` in your case.\r\n - Notice the method `newInstance`(). This replaces the `new` keyword.\r\n\r\n  [1]: http://developer.android.com/guide/components/fragments.html","title":"Unable to instantiate fragment make sure class name exists","body":"<p>There are many tutorials/projects from Google and others. I think your main problem now is that the caller <em>cannot create a new instance of your Fragment</em>.\nOne good Google webpage is @ <a href=\"http://developer.android.com/guide/components/fragments.html\" rel=\"nofollow\">Fragments</a>.</p>\n\n<p>Code snippet from the webpage:</p>\n\n<pre><code>public static class DetailsFragment extends Fragment {\n    /**\n     * Create a new instance of DetailsFragment, initialized to\n     * show the text at 'index'.\n     */\n    public static DetailsFragment newInstance(int index) {\n        DetailsFragment f = new DetailsFragment();\n\n        // Supply index input as an argument.\n        Bundle args = new Bundle();\n        args.putInt(\"index\", index);\n        f.setArguments(args);\n\n        return f;\n    }\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>Instead of <code>extends Fragment</code>, replace with <code>extends ListFragment</code> in your case.</li>\n<li>Notice the method <code>newInstance</code>(). This replaces the <code>new</code> keyword.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2315367,"reputation":8964,"user_id":2032561,"accept_rate":64,"display_name":"Bharatesh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1434430328,"creation_date":1434430328,"answer_id":30859056,"question_id":30856970,"body_markdown":"Found that, you logcat says everything\r\n\r\n     Caused by: java.lang.ClassNotFoundException: com.paad.todoList.ToDoListFragment\r\n\r\nYour package name is not correct. use **`com.paad.todolist`** instead of **`com.paad.todoList`** \r\n\r\nThis post reminds me the TV Show dialog, *Sherlock : You see but you do not observe*  **:) :)**\r\n\r\n","title":"Unable to instantiate fragment make sure class name exists","body":"<p>Found that, you logcat says everything</p>\n\n<pre><code> Caused by: java.lang.ClassNotFoundException: com.paad.todoList.ToDoListFragment\n</code></pre>\n\n<p>Your package name is not correct. use <strong><code>com.paad.todolist</code></strong> instead of <strong><code>com.paad.todoList</code></strong> </p>\n\n<p>This post reminds me the TV Show dialog, <em>Sherlock : You see but you do not observe</em>  <strong>:) :)</strong></p>\n"},{"tags":[],"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599406910,"creation_date":1599406910,"answer_id":63765950,"question_id":30856970,"body_markdown":"**TL;DR:**\r\n\r\nIf you recently migrated files or did any form of copy and paste, check that all your files have an updated package name.\r\n\r\n**Full story:**\r\n\r\nI created a new module and then copied and pasted the entire *java* and *res* directories from another module after which I deleted the old module. To avoid any possible conflicts, I checked all the Kotlin/Java files and renamed the package name to reflect the name of the new package that the files now belonged to. Here&#39;s what I mean:\r\n\r\nFrom:\r\n&gt; com.myapp.oldmodule.presentation.thisfile\r\n\r\nTo:\r\n&gt; com.myapp.newmodule.presentation.thisfile\r\n\r\n\r\nNormally, this should have resolved any potential issue. **My mistake however was that I forgot to update the navigation-graph file as well**; It still had references that contained the old/deleted module.\r\n\r\n","title":"Unable to instantiate fragment make sure class name exists","body":"<p><strong>TL;DR:</strong></p>\n<p>If you recently migrated files or did any form of copy and paste, check that all your files have an updated package name.</p>\n<p><strong>Full story:</strong></p>\n<p>I created a new module and then copied and pasted the entire <em>java</em> and <em>res</em> directories from another module after which I deleted the old module. To avoid any possible conflicts, I checked all the Kotlin/Java files and renamed the package name to reflect the name of the new package that the files now belonged to. Here's what I mean:</p>\n<p>From:</p>\n<blockquote>\n<p>com.myapp.oldmodule.presentation.thisfile</p>\n</blockquote>\n<p>To:</p>\n<blockquote>\n<p>com.myapp.newmodule.presentation.thisfile</p>\n</blockquote>\n<p>Normally, this should have resolved any potential issue. <strong>My mistake however was that I forgot to update the navigation-graph file as well</strong>; It still had references that contained the old/deleted module.</p>\n"},{"tags":[],"owner":{"account_id":14513104,"reputation":75,"user_id":10482945,"display_name":"Relaxo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640780428,"creation_date":1640780428,"answer_id":70519332,"question_id":30856970,"body_markdown":"For me this error occurs after moving the `XxxFragment.kt` file using the refactoring feature of AndroidStudio. \r\n\r\nIt is important to check every place where the Fragment is referenced to find the cause. Some locations are not covered by refactoring. You can find all places while using the global search (Press &lt;kbd&gt;Shift&lt;/kbd&gt; twice) for `XxxFragment`.\r\n\r\nIn my case two places where not refactored automatically:\r\n- `android:name` of the fragment in the `nav_graph.xml` \r\n- `tools:context` import in the `fragment_xxx.xml` file itself.","title":"Unable to instantiate fragment make sure class name exists","body":"<p>For me this error occurs after moving the <code>XxxFragment.kt</code> file using the refactoring feature of AndroidStudio.</p>\n<p>It is important to check every place where the Fragment is referenced to find the cause. Some locations are not covered by refactoring. You can find all places while using the global search (Press <kbd>Shift</kbd> twice) for <code>XxxFragment</code>.</p>\n<p>In my case two places where not refactored automatically:</p>\n<ul>\n<li><code>android:name</code> of the fragment in the <code>nav_graph.xml</code></li>\n<li><code>tools:context</code> import in the <code>fragment_xxx.xml</code> file itself.</li>\n</ul>\n"}],"owner":{"account_id":5154462,"reputation":151,"user_id":5005275,"display_name":"ngatesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9299,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"accepted_answer_id":30859056,"answer_count":4,"score":14,"last_activity_date":1640780428,"creation_date":1434413878,"question_id":30856970,"body_markdown":"&gt; android.app.Fragment$InstantiationException: Unable to instantiate\r\n&gt; fragment: make sure class name exists, is public, and has a empty\r\n&gt; constructor that is public.\r\n\r\n\r\n\r\n\r\n\r\nI realize there are many questions posted regarding the same error, but none have helped me so far. I am learning from a book, and have actually run the exact(99% sure) code before. After erasing it all and rewriting it for review, the error came up.\r\n\r\n    package com.paad.todolist;\r\n\r\n    import android.app.ListFragment;\r\n    import android.os.Bundle;\r\n\r\n    public class ToDoListFragment extends ListFragment{\r\n\t\r\n\t    public static ToDoListFragment newInstance(int index) {\r\n\t\t    ToDoListFragment f = new ToDoListFragment();\r\n\t\t\r\n\t\t       Bundle args = new Bundle();\r\n\t\t       args.putInt(&quot;index&quot;, index);\r\n\t\t       f.setArguments(args);\r\n\t\t\r\n\t\t       return f;\r\n\t        }\r\n        }\r\n\r\nLogCat:\r\n\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): FATAL EXCEPTION: main 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): java.lang.RuntimeException:\r\n&gt; Unable to start activity\r\n&gt; ComponentInfo{com.paad.todolist/com.paad.todolist.ToDoListActivity}:\r\n&gt; android.view.InflateException: Binary XML file line #13: Error\r\n&gt; inflating class fragment 06-16 03:04:14.091: E/AndroidRuntime(836):\r\n&gt; \tat\r\n&gt; android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.ActivityThread.access$600(ActivityThread.java:123) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.os.Looper.loop(Looper.java:137) 06-16 03:04:14.091:\r\n&gt; E/AndroidRuntime(836): \tat\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:4424) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; java.lang.reflect.Method.invokeNative(Native Method) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; java.lang.reflect.Method.invoke(Method.java:511) 06-16 03:04:14.091:\r\n&gt; E/AndroidRuntime(836): \tat\r\n&gt; com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; dalvik.system.NativeStart.main(Native Method) 06-16 03:04:14.091:\r\n&gt; E/AndroidRuntime(836): Caused by: android.view.InflateException:\r\n&gt; Binary XML file line #13: Error inflating class fragment 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.rInflate(LayoutInflater.java:739) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.inflate(LayoutInflater.java:489) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.inflate(LayoutInflater.java:396) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.inflate(LayoutInflater.java:352) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:251)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Activity.setContentView(Activity.java:1835) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; com.paad.todolist.ToDoListActivity.onCreate(ToDoListActivity.java:18)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Activity.performCreate(Activity.java:4466) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \t... 11 more 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): Caused by:\r\n&gt; android.app.Fragment$InstantiationException: Unable to instantiate\r\n&gt; fragment com.paad.todoList.ToDoListFragment: make sure class name\r\n&gt; exists, is public, and has an empty constructor that is public 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Fragment.instantiate(Fragment.java:585) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Fragment.instantiate(Fragment.java:549) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Activity.onCreateView(Activity.java:4235) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:673)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \t... 21 more 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): Caused by:\r\n&gt; java.lang.ClassNotFoundException: com.paad.todoList.ToDoListFragment\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)\r\n&gt; 06-16 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:501) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:461) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \tat\r\n&gt; android.app.Fragment.instantiate(Fragment.java:571) 06-16\r\n&gt; 03:04:14.091: E/AndroidRuntime(836): \t... 24 more\r\n\r\n","title":"Unable to instantiate fragment make sure class name exists","body":"<blockquote>\n  <p>android.app.Fragment$InstantiationException: Unable to instantiate\n  fragment: make sure class name exists, is public, and has a empty\n  constructor that is public.</p>\n</blockquote>\n\n<p>I realize there are many questions posted regarding the same error, but none have helped me so far. I am learning from a book, and have actually run the exact(99% sure) code before. After erasing it all and rewriting it for review, the error came up.</p>\n\n<pre><code>package com.paad.todolist;\n\nimport android.app.ListFragment;\nimport android.os.Bundle;\n\npublic class ToDoListFragment extends ListFragment{\n\n    public static ToDoListFragment newInstance(int index) {\n        ToDoListFragment f = new ToDoListFragment();\n\n           Bundle args = new Bundle();\n           args.putInt(\"index\", index);\n           f.setArguments(args);\n\n           return f;\n        }\n    }\n</code></pre>\n\n<p>LogCat:</p>\n\n<blockquote>\n  <p>06-16 03:04:14.091: E/AndroidRuntime(836): FATAL EXCEPTION: main 06-16\n  03:04:14.091: E/AndroidRuntime(836): java.lang.RuntimeException:\n  Unable to start activity\n  ComponentInfo{com.paad.todolist/com.paad.todolist.ToDoListActivity}:\n  android.view.InflateException: Binary XML file line #13: Error\n  inflating class fragment 06-16 03:04:14.091: E/AndroidRuntime(836):\n    at\n  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1956)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.app.ActivityThread.access$600(ActivityThread.java:123) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.os.Handler.dispatchMessage(Handler.java:99) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.os.Looper.loop(Looper.java:137) 06-16 03:04:14.091:\n  E/AndroidRuntime(836):    at\n  android.app.ActivityThread.main(ActivityThread.java:4424) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  java.lang.reflect.Method.invokeNative(Native Method) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  java.lang.reflect.Method.invoke(Method.java:511) 06-16 03:04:14.091:\n  E/AndroidRuntime(836):    at\n  com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  dalvik.system.NativeStart.main(Native Method) 06-16 03:04:14.091:\n  E/AndroidRuntime(836): Caused by: android.view.InflateException:\n  Binary XML file line #13: Error inflating class fragment 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.view.LayoutInflater.rInflate(LayoutInflater.java:739) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.view.LayoutInflater.inflate(LayoutInflater.java:489) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.view.LayoutInflater.inflate(LayoutInflater.java:396) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.view.LayoutInflater.inflate(LayoutInflater.java:352) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:251)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.app.Activity.setContentView(Activity.java:1835) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  com.paad.todolist.ToDoListActivity.onCreate(ToDoListActivity.java:18)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.app.Activity.performCreate(Activity.java:4466) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1049)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1920)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    ... 11 more 06-16\n  03:04:14.091: E/AndroidRuntime(836): Caused by:\n  android.app.Fragment$InstantiationException: Unable to instantiate\n  fragment com.paad.todoList.ToDoListFragment: make sure class name\n  exists, is public, and has an empty constructor that is public 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.Fragment.instantiate(Fragment.java:585) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.Fragment.instantiate(Fragment.java:549) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.Activity.onCreateView(Activity.java:4235) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:673)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    ... 21 more 06-16\n  03:04:14.091: E/AndroidRuntime(836): Caused by:\n  java.lang.ClassNotFoundException: com.paad.todoList.ToDoListFragment\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)\n  06-16 03:04:14.091: E/AndroidRuntime(836):    at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:501) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:461) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  at\n  android.app.Fragment.instantiate(Fragment.java:571) 06-16\n  03:04:14.091: E/AndroidRuntime(836):  ... 24 more</p>\n</blockquote>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640783979,"post_id":70519262,"comment_id":124657506,"body_markdown":"It appears that log4j2 is trying to read your &quot;log4j2.properties&quot; file as if it was an XML format configuration file.  There is insufficient detail in your question to understand why it is doing that.","body":"It appears that log4j2 is trying to read your &quot;log4j2.properties&quot; file as if it was an XML format configuration file.  There is insufficient detail in your question to understand why it is doing that."},{"owner":{"account_id":23775180,"reputation":1,"user_id":17788741,"display_name":"Puja Pathak"},"score":0,"creation_date":1640876035,"post_id":70519262,"comment_id":124681180,"body_markdown":"-Dlog4j.configurationFile=$CF_LOG4J_CONFIG_FILE  I am using this vm arguement to set the configuration","body":"-Dlog4j.configurationFile=$CF_LOG4J_CONFIG_FILE  I am using this vm arguement to set the configuration"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640913985,"post_id":70519262,"comment_id":124690865,"body_markdown":"If you are using log4j-2.10 or later, the property name should be &quot;log4j2.configurationFile&quot; - see https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties","body":"If you are using log4j-2.10 or later, the property name should be &quot;log4j2.configurationFile&quot; - see <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640914526,"post_id":70519262,"comment_id":124690914,"body_markdown":"But what you really need to do is to add &quot;-Dlog4j2.debug=true&quot; to the options (temporarily) to see the internal debug messages that are emitted as log4j attempts to find and parse the configuration file.  That should provide the clues that you need to debug the problem.","body":"But what you really need to do is to add &quot;-Dlog4j2.debug=true&quot; to the options (temporarily) to see the internal debug messages that are emitted as log4j attempts to find and parse the configuration file.  That should provide the clues that you need to debug the problem."}],"owner":{"account_id":23775180,"reputation":1,"user_id":17788741,"display_name":"Puja Pathak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640780071,"creation_date":1640780071,"question_id":70519262,"body_markdown":"Getting [Fatal Error] TKUat1_Log4j.cf:1:1: Content is not allowed in prolog.\r\nwith below cofiguration for log4j2.properties file\r\n\r\n    rootLogger.level = DEBUG\r\n    rootLogger.appenderRef.rolling.ref = fileLogger\r\n\r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = fileLogger\r\n\r\n    appender.rolling.fileName = ${sys:LOGDIR}\r\n    appender.rolling.filePattern= ${LOGDIR}.%i.log\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.size=200MB\r\n    appender.rolling.strategy.type = DefaultRolloverStrategy\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling.layout.type = PatternLayout\r\n    appender.rolling.layout.pattern =%d [%t] %-5p %c{2} - %m\\n","title":"log4j2 cofiguration [Fatal Error] TKUat1_Log4j.cf:1:1: Content is not allowed in prolog","body":"<p>Getting [Fatal Error] TKUat1_Log4j.cf:1:1: Content is not allowed in prolog.\nwith below cofiguration for log4j2.properties file</p>\n<pre><code>rootLogger.level = DEBUG\nrootLogger.appenderRef.rolling.ref = fileLogger\n\nappender.rolling.policies.type = Policies\nappender.rolling.type = RollingFile\nappender.rolling.name = fileLogger\n\nappender.rolling.fileName = ${sys:LOGDIR}\nappender.rolling.filePattern= ${LOGDIR}.%i.log\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size=200MB\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern =%d [%t] %-5p %c{2} - %m\\n\n</code></pre>\n"},{"tags":["java","string","boolean"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":5,"creation_date":1419537370,"post_id":27650293,"comment_id":43717738,"body_markdown":"What do you expect `(f1).equals(a)` to do?","body":"What do you expect <code>(f1).equals(a)</code> to do?"},{"owner":{"account_id":5285524,"reputation":31,"user_id":4219671,"accept_rate":71,"display_name":"fallen"},"score":0,"creation_date":1419537423,"post_id":27650293,"comment_id":43717748,"body_markdown":"I want to make f1 to equal a","body":"I want to make f1 to equal a"},{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1419537426,"post_id":27650293,"comment_id":43717750,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#endsWith(java.lang.String)","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#endsWith(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1419537509,"post_id":27650293,"comment_id":43717764,"body_markdown":"If you want to make f1 to equal a, you should write `f1=a;`","body":"If you want to make f1 to equal a, you should write <code>f1=a;</code>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1419537582,"post_id":27650293,"comment_id":43717775,"body_markdown":"`a.toLowerCase();` &lt;-- won&#39;t work. `String` is final! You have to affect the value of this to a variable","body":"<code>a.toLowerCase();</code> &lt;-- won&#39;t work. <code>String</code> is final! You have to affect the value of this to a variable"},{"owner":{"account_id":5285524,"reputation":31,"user_id":4219671,"accept_rate":71,"display_name":"fallen"},"score":0,"creation_date":1419537667,"post_id":27650293,"comment_id":43717787,"body_markdown":"Firstly i made it f1=a, it gave the same result as (f1).equals(a)","body":"Firstly i made it f1=a, it gave the same result as (f1).equals(a)"},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1419539579,"post_id":27650293,"comment_id":43718188,"body_markdown":"If you make use of `String` class methods, this question has a one line answer.","body":"If you make use of <code>String</code> class methods, this question has a one line answer."}],"answers":[{"tags":[],"owner":{"account_id":4459459,"reputation":1079,"user_id":3628781,"accept_rate":95,"display_name":"ManyQuestions"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419539406,"creation_date":1419538770,"answer_id":27650473,"question_id":27650293,"body_markdown":"This is a working example of what you are trying to achieve to test in your Java IDE like Netbeans or Eclipse whatever. This is really simple, the String object has an endsWith method so why try to invent something yourself.\r\n\r\nIf you have any troubles reading this code hit me up, should be quite straight forward. You will just have to convert your string to lowercase, that&#39;s for you to add.\r\n\r\n    public class StringEnds {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.printf(&quot;String a: &quot;);\r\n        String a = scanner.next();\r\n        System.out.printf(&quot;String b: &quot;);\r\n        String b = scanner.next();\r\n\r\n        // Compare a and b\r\n        if (endsWith(a, b)) {\r\n            System.out.printf(&quot;Succes\\n&quot;);\r\n        } else {\r\n            System.out.printf(&quot;Fail\\n&quot;);\r\n        }\r\n    }\r\n\r\n    public static boolean endsWith(String firstString, String secondString) {\r\n        return firstString.endsWith(secondString) || secondString.endsWith(firstString);\r\n    }\r\n}\r\n\r\nHere&#39;s your codebat solution (it is quite short):\r\n\r\n    public boolean endOther(String a, String b) {\r\n    return a.toLowerCase().endsWith(b.toLowerCase()) || b.toLowerCase().endsWith(a.toLowerCase());\r\n    }","title":"Java contains a string or not?","body":"<p>This is a working example of what you are trying to achieve to test in your Java IDE like Netbeans or Eclipse whatever. This is really simple, the String object has an endsWith method so why try to invent something yourself.</p>\n\n<p>If you have any troubles reading this code hit me up, should be quite straight forward. You will just have to convert your string to lowercase, that's for you to add.</p>\n\n<pre><code>public class StringEnds {\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.printf(\"String a: \");\n    String a = scanner.next();\n    System.out.printf(\"String b: \");\n    String b = scanner.next();\n\n    // Compare a and b\n    if (endsWith(a, b)) {\n        System.out.printf(\"Succes\\n\");\n    } else {\n        System.out.printf(\"Fail\\n\");\n    }\n}\n\npublic static boolean endsWith(String firstString, String secondString) {\n    return firstString.endsWith(secondString) || secondString.endsWith(firstString);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here's your codebat solution (it is quite short):</p>\n\n<pre><code>public boolean endOther(String a, String b) {\nreturn a.toLowerCase().endsWith(b.toLowerCase()) || b.toLowerCase().endsWith(a.toLowerCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23767921,"reputation":1,"user_id":17782433,"display_name":"Zac Huang Ze Ren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640779981,"creation_date":1640779981,"answer_id":70519245,"question_id":27650293,"body_markdown":"This is my answer. I tried both ways, hope it helps.\r\n\r\n\r\n    public boolean endOther(String a, String b) {\r\n  \r\n        int small = Math.min(a.length(), b.length());\r\n  \r\n        if (a.length()==b.length() &amp;&amp; a.equalsIgnoreCase(b)) {\r\n            return true;\r\n        }\r\n  \r\n        if (small==a.length()) {\r\n            if (b.substring(b.length()-small).equalsIgnoreCase(a)) {\r\n                return true;\r\n            }\r\n    \r\n            // from here is the toLowerCase() method.\r\n            a = a.toLowerCase();\r\n            b = b.toLowerCase();\r\n    \r\n        } else if (small==b.length()) {\r\n            if (a.endsWith(b)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"Java contains a string or not?","body":"<p>This is my answer. I tried both ways, hope it helps.</p>\n<pre><code>public boolean endOther(String a, String b) {\n\n    int small = Math.min(a.length(), b.length());\n\n    if (a.length()==b.length() &amp;&amp; a.equalsIgnoreCase(b)) {\n        return true;\n    }\n\n    if (small==a.length()) {\n        if (b.substring(b.length()-small).equalsIgnoreCase(a)) {\n            return true;\n        }\n\n        // from here is the toLowerCase() method.\n        a = a.toLowerCase();\n        b = b.toLowerCase();\n\n    } else if (small==b.length()) {\n        if (a.endsWith(b)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":5285524,"reputation":31,"user_id":4219671,"accept_rate":71,"display_name":"fallen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1640779981,"creation_date":1419537241,"question_id":27650293,"body_markdown":"http://codingbat.com/prob/p126880\r\n\r\nGiven two strings, return true if either of the strings appears at the very end of the other string, ignoring upper/lower case differences (in other words, the computation should not be &quot;case sensitive&quot;). Note: str.toLowerCase() returns the lowercase version of a string. \r\n\r\nI cannot get when it is true, it always gives false.\r\n\r\n    public boolean endOther(String a, String b) \r\n    {\r\n      //variables\r\n\r\n      a.toLowerCase();\r\n      b.toLowerCase();\r\n      String f1=&quot;&quot;;\r\n      String f2=&quot;&quot;;\r\n      int d=0;\r\n      int sum=0;\r\n\r\n      //Program code;\r\n      if(a.length()-b.length()&gt;0)\r\n      {\r\n         (f1).equals(a);\r\n         (f2).equals(b);\r\n         d=a.length();\r\n      }\r\n      else if(a.length()-b.length()&lt;0)\r\n      {\r\n         (f1).equals(b);\r\n         (f2).equals(a); //gett**ing bigger and lower String**\r\n         d=b.length();\r\n      }\r\n      else if((a).equals(b))\r\n         sum++;\r\n\r\n      // I think problem is because it is not enter the for.\r\n      for(int i=0; i&gt;d; i++)\r\n      {\r\n         if((f1.substring(i,i+f2.length())).equals(f2))\r\n         sum++;  \r\n      }\r\n\r\n      if(sum&gt;0)\r\n         return true;\r\n      else\r\n         return false;\r\n    }","title":"Java contains a string or not?","body":"<p><a href=\"http://codingbat.com/prob/p126880\" rel=\"nofollow\">http://codingbat.com/prob/p126880</a></p>\n\n<p>Given two strings, return true if either of the strings appears at the very end of the other string, ignoring upper/lower case differences (in other words, the computation should not be \"case sensitive\"). Note: str.toLowerCase() returns the lowercase version of a string. </p>\n\n<p>I cannot get when it is true, it always gives false.</p>\n\n<pre><code>public boolean endOther(String a, String b) \n{\n  //variables\n\n  a.toLowerCase();\n  b.toLowerCase();\n  String f1=\"\";\n  String f2=\"\";\n  int d=0;\n  int sum=0;\n\n  //Program code;\n  if(a.length()-b.length()&gt;0)\n  {\n     (f1).equals(a);\n     (f2).equals(b);\n     d=a.length();\n  }\n  else if(a.length()-b.length()&lt;0)\n  {\n     (f1).equals(b);\n     (f2).equals(a); //gett**ing bigger and lower String**\n     d=b.length();\n  }\n  else if((a).equals(b))\n     sum++;\n\n  // I think problem is because it is not enter the for.\n  for(int i=0; i&gt;d; i++)\n  {\n     if((f1.substring(i,i+f2.length())).equals(f2))\n     sum++;  \n  }\n\n  if(sum&gt;0)\n     return true;\n  else\n     return false;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1640781075,"post_id":70519213,"comment_id":124656528,"body_markdown":"It&#39;s possible... you need to write your own implementation of `AbstractPartitionAssignor` in such a way that consumers listen to the same partitions on both topics (assuming messages are partitioned on the same key and each topic has the same number of partitions). This might be a good use for Kafka streams (even though I avoid it like the plage) as it allows to join messages from multiple streams.","body":"It&#39;s possible... you need to write your own implementation of <code>AbstractPartitionAssignor</code> in such a way that consumers listen to the same partitions on both topics (assuming messages are partitioned on the same key and each topic has the same number of partitions). This might be a good use for Kafka streams (even though I avoid it like the plage) as it allows to join messages from multiple streams."},{"owner":{"account_id":1561945,"reputation":663,"user_id":1451634,"accept_rate":62,"display_name":"sutanu dalui"},"score":1,"creation_date":1640782659,"post_id":70519213,"comment_id":124657024,"body_markdown":"Thanks for the info. Yes, messages will be partitioned on the same key and each topic will have the same number of partitions. Will explore AbstractPartitionAssignor. Also, I assumed streams will be able to leverage something, but then again, I too want to avoid streams.","body":"Thanks for the info. Yes, messages will be partitioned on the same key and each topic will have the same number of partitions. Will explore AbstractPartitionAssignor. Also, I assumed streams will be able to leverage something, but then again, I too want to avoid streams."}],"owner":{"account_id":1561945,"reputation":663,"user_id":1451634,"accept_rate":62,"display_name":"sutanu dalui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640779782,"creation_date":1640779782,"question_id":70519213,"body_markdown":"My use case is, at a high level, that of a standard change data capture (CDC) system - the consumers are listening to 2 topics, one for snapshot data and the other for incremental data.\r\n\r\nDuring a historical data load, it is possible a consumer gets snapshot and incremental messages for the same entity. The consumers are idempotent, as a version info is stamped to every event. \r\n\r\nHowever, to avoid race conditions anyway, is there a way to ensure the partitions for snapshot and incremental topic are distributed to same consumer? (so that for the same entity, be it snapshot event or incremental event, is processed by the same consumer thread).","title":"Kafka partition distribution in a (logically connected) group of topics","body":"<p>My use case is, at a high level, that of a standard change data capture (CDC) system - the consumers are listening to 2 topics, one for snapshot data and the other for incremental data.</p>\n<p>During a historical data load, it is possible a consumer gets snapshot and incremental messages for the same entity. The consumers are idempotent, as a version info is stamped to every event.</p>\n<p>However, to avoid race conditions anyway, is there a way to ensure the partitions for snapshot and incremental topic are distributed to same consumer? (so that for the same entity, be it snapshot event or incremental event, is processed by the same consumer thread).</p>\n"},{"tags":["java","sql","apache-spark","dataframe","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":97791,"reputation":324367,"user_id":1560062,"accept_rate":100,"display_name":"zero323"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1470742836,"creation_date":1470742836,"answer_id":38849726,"question_id":38848866,"body_markdown":"Yes, it doesn&#39;t exist. You express the same logic with `agg` followed by `where`:\r\n\r\n    df.groupBy(someExpr).agg(somAgg).where(somePredicate) \r\n\r\n","title":"Spark - Group by HAVING with dataframe syntax?","body":"<p>Yes, it doesn't exist. You express the same logic with <code>agg</code> followed by <code>where</code>:</p>\n\n<pre><code>df.groupBy(someExpr).agg(somAgg).where(somePredicate) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15496543,"reputation":1173,"user_id":11549757,"display_name":"Karthik"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1640779095,"creation_date":1562154799,"answer_id":56869540,"question_id":38848866,"body_markdown":"Say for example if I want to find products in each category, having fees less than 3200 and their count must not be less than 10:\r\n\r\n* SQL query: \r\n```\r\nsqlContext.sql(&quot;select Category,count(*) as \r\ncount from hadoopexam where HadoopExamFee&lt;3200  \r\ngroup by Category having count&gt;10&quot;)\r\n```\r\n\r\n* DataFrames API (Pyspark)\r\n```\r\nfrom pyspark.sql.functions import *\r\n\r\ndf.filter(df.HadoopExamFee&lt;3200)\r\n  .groupBy(&#39;Category&#39;)\r\n  .agg(count(&#39;Category&#39;).alias(&#39;count&#39;))\r\n  .filter(col(&#39;count&#39;)&gt;10)\r\n```","title":"Spark - Group by HAVING with dataframe syntax?","body":"<p>Say for example if I want to find products in each category, having fees less than 3200 and their count must not be less than 10:</p>\n<ul>\n<li>SQL query:</li>\n</ul>\n<pre><code>sqlContext.sql(&quot;select Category,count(*) as \ncount from hadoopexam where HadoopExamFee&lt;3200  \ngroup by Category having count&gt;10&quot;)\n</code></pre>\n<ul>\n<li>DataFrames API (Pyspark)</li>\n</ul>\n<pre><code>from pyspark.sql.functions import *\n\ndf.filter(df.HadoopExamFee&lt;3200)\n  .groupBy('Category')\n  .agg(count('Category').alias('count'))\n  .filter(col('count')&gt;10)\n</code></pre>\n"}],"owner":{"account_id":3460817,"reputation":7354,"user_id":2897989,"accept_rate":68,"display_name":"lte__"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57495,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":38849726,"answer_count":2,"score":37,"last_activity_date":1640779095,"creation_date":1470740281,"question_id":38848866,"body_markdown":"What&#39;s the syntax for using a groupby-having in Spark without an sql/hiveContext? I know I can do\r\n\r\n    DataFrame df = some_df\r\n    df.registreTempTable(&quot;df&quot;);    \r\n    df1 = sqlContext.sql(&quot;SELECT * FROM df GROUP BY col1 HAVING some stuff&quot;)\r\n\r\nbut how do I do it with a syntax like \r\n\r\n    df.select(df.col(&quot;*&quot;)).groupBy(df.col(&quot;col1&quot;)).having(&quot;some stuff&quot;)\r\n\r\n\r\nThis `.having()` does not seem to exist.\r\n\r\n","title":"Spark - Group by HAVING with dataframe syntax?","body":"<p>What's the syntax for using a groupby-having in Spark without an sql/hiveContext? I know I can do</p>\n\n<pre><code>DataFrame df = some_df\ndf.registreTempTable(\"df\");    \ndf1 = sqlContext.sql(\"SELECT * FROM df GROUP BY col1 HAVING some stuff\")\n</code></pre>\n\n<p>but how do I do it with a syntax like </p>\n\n<pre><code>df.select(df.col(\"*\")).groupBy(df.col(\"col1\")).having(\"some stuff\")\n</code></pre>\n\n<p>This <code>.having()</code> does not seem to exist.</p>\n"},{"tags":["java","service","junit5","java-module","java-platform-module-system"],"comments":[{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1536052660,"post_id":52162778,"comment_id":91275208,"body_markdown":"This is worth a look https://stackoverflow.com/questions/52110023/how-to-make-a-modular-build-with-jdk-1-8 , the answer by Sormuras suggests how the world of testing with modules looks like.","body":"This is worth a look <a href=\"https://stackoverflow.com/questions/52110023/how-to-make-a-modular-build-with-jdk-1-8\" title=\"how to make a modular build with jdk 1 8\">stackoverflow.com/questions/52110023/&hellip;</a> , the answer by Sormuras suggests how the world of testing with modules looks like."},{"owner":{"account_id":4433850,"reputation":29,"user_id":3610250,"display_name":"aekarahan"},"score":0,"creation_date":1536059938,"post_id":52162778,"comment_id":91279584,"body_markdown":"I can already write black-box tests for other modules and access their exported packages. Here the problem is writing tests for service provider exports as I described above. I cannot load the service in tests. Any how, I&#39;m now reading Sormuras&#39; answer, hopping to find a clue. \n\nMaybe I should move the implementation as a plain old JAR without module-info, and test this jar as a simple lib, and use this lib to build the service provider module. But this is an ugly solution.","body":"I can already write black-box tests for other modules and access their exported packages. Here the problem is writing tests for service provider exports as I described above. I cannot load the service in tests. Any how, I&#39;m now reading Sormuras&#39; answer, hopping to find a clue.   Maybe I should move the implementation as a plain old JAR without module-info, and test this jar as a simple lib, and use this lib to build the service provider module. But this is an ugly solution."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1536085523,"post_id":52162778,"comment_id":91294813,"body_markdown":"Why don’t you just instantiate the provider with `new MyProviderImpl()`? Do you want to test the implementation or the configuration?","body":"Why don’t you just instantiate the provider with <code>new MyProviderImpl()</code>? Do you want to test the implementation or the configuration?"},{"owner":{"account_id":4433850,"reputation":29,"user_id":3610250,"display_name":"aekarahan"},"score":0,"creation_date":1536093980,"post_id":52162778,"comment_id":91298435,"body_markdown":"johanneslink Because, there will be more than one MyProviderImpl().  They can offer different data content using the same API and the application will allow to switch between 3rd party providers. Sure I can test my single mock implementation but I&#39;ve already done these test before Java 9. After modularization I want to test that my base module will find any 3rd party provider, and bind them to my app via base module utility classes so I can use all of them to test the rest of the base module API&#39;s. So in fact I want to test the rest of the base module with the content obtained from providers.","body":"johanneslink Because, there will be more than one MyProviderImpl().  They can offer different data content using the same API and the application will allow to switch between 3rd party providers. Sure I can test my single mock implementation but I&#39;ve already done these test before Java 9. After modularization I want to test that my base module will find any 3rd party provider, and bind them to my app via base module utility classes so I can use all of them to test the rest of the base module API&#39;s. So in fact I want to test the rest of the base module with the content obtained from providers."}],"answers":[{"tags":[],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536070444,"creation_date":1536070444,"answer_id":52168316,"question_id":52162778,"body_markdown":"Basically you&#39;re on the right track. You need to convince the Java module system that your test modules are the single source of thruth when it comes to resolve modules are test runtime.\r\n\r\nBlack-box testing is easy.\r\n\r\nWhite-box testing in the modular world, meaning testing protected and package private members within a module, is tricky. There are at least two ways to achieve this: a) use java command line options to configure the Java module system at test startup or b) blend *main* sources into the *test* sources at compile time and maintain a dedicated `module-info.java` in your *test* sources.\r\n\r\nPlease visit the links to the blogs and examples posted over at https://stackoverflow.com/questions/52110023/how-to-make-a-modular-build-with-jdk-1-8\r\nHere is an excerpt for convenience:\r\n\r\n### Examples \r\n\r\n- Work-in-progress blueprint https://github.com/sormuras/sandbox/tree/master/sors-modular-testing-blueprint\r\n\r\n- Integration tests starting with &quot;modular-world-&quot; at https://github.com/sormuras/junit-platform-maven-plugin/tree/master/src/it\r\n\r\n### Background and other resources\r\n\r\n- https://github.com/junit-team/junit5-samples/tree/master/junit5-modular-world\r\n- https://github.com/forax/pro\r\n- https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/\r\n\r\nAnd expect most IDE to not support you either. For now.\r\n","title":"How can I test a service provider implementation module with Junit 5?","body":"<p>Basically you're on the right track. You need to convince the Java module system that your test modules are the single source of thruth when it comes to resolve modules are test runtime.</p>\n\n<p>Black-box testing is easy.</p>\n\n<p>White-box testing in the modular world, meaning testing protected and package private members within a module, is tricky. There are at least two ways to achieve this: a) use java command line options to configure the Java module system at test startup or b) blend <em>main</em> sources into the <em>test</em> sources at compile time and maintain a dedicated <code>module-info.java</code> in your <em>test</em> sources.</p>\n\n<p>Please visit the links to the blogs and examples posted over at <a href=\"https://stackoverflow.com/questions/52110023/how-to-make-a-modular-build-with-jdk-1-8\">How to make a modular build with jdk &gt; 1.8</a>\nHere is an excerpt for convenience:</p>\n\n<h3>Examples</h3>\n\n<ul>\n<li><p>Work-in-progress blueprint <a href=\"https://github.com/sormuras/sandbox/tree/master/sors-modular-testing-blueprint\" rel=\"nofollow noreferrer\">https://github.com/sormuras/sandbox/tree/master/sors-modular-testing-blueprint</a></p></li>\n<li><p>Integration tests starting with \"modular-world-\" at <a href=\"https://github.com/sormuras/junit-platform-maven-plugin/tree/master/src/it\" rel=\"nofollow noreferrer\">https://github.com/sormuras/junit-platform-maven-plugin/tree/master/src/it</a></p></li>\n</ul>\n\n<h3>Background and other resources</h3>\n\n<ul>\n<li><a href=\"https://github.com/junit-team/junit5-samples/tree/master/junit5-modular-world\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/tree/master/junit5-modular-world</a></li>\n<li><a href=\"https://github.com/forax/pro\" rel=\"nofollow noreferrer\">https://github.com/forax/pro</a></li>\n<li><a href=\"https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/\" rel=\"nofollow noreferrer\">https://blog.codefx.org/java/five-command-line-options-to-hack-the-java-9-module-system/</a></li>\n</ul>\n\n<p>And expect most IDE to not support you either. For now.</p>\n"},{"tags":[],"owner":{"account_id":4433850,"reputation":29,"user_id":3610250,"display_name":"aekarahan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536130897,"creation_date":1536130897,"answer_id":52178985,"question_id":52162778,"body_markdown":"SOLVED!\r\n\r\nI&#39;ve removed the Junit from class-path to module-path and also removed all Junit 4 compatibility stuff such as RunWith() etc, and made my test pure Junit 5 test.\r\n\r\nI&#39;ve added a module-info.java (Junit 5 doesn&#39;t require an open module although the books tell the opposite)\r\n\r\nAfter I&#39;ve modularized the tests I found that it still doesn&#39;t execute the ServiceLoader stuff. Then I&#39;ve started looking for the fault myself.\r\n\r\nAnd I found it! Running the ServiceLoader stuff in base module was possible, because the base module refers to the exported myProvider.jar, which in turns access a myProvider-config.properties file in the same directory. Without this config file myProvider cannot work properly. \r\n\r\nThe problematic test module on the other hand, refered the eclipse project of the myProvider instead of its exported .jar file and hence could not find its config file and exits. I&#39;d moved this config file from Netbeans to Eclipse simply copying it into the same directory. Thus missing config file was the problem. \r\n\r\nChanging the project settings I could run the tests without any failure.\r\n\r\nI would like to thank all the contributors who responded.","title":"How can I test a service provider implementation module with Junit 5?","body":"<p>SOLVED!</p>\n\n<p>I've removed the Junit from class-path to module-path and also removed all Junit 4 compatibility stuff such as RunWith() etc, and made my test pure Junit 5 test.</p>\n\n<p>I've added a module-info.java (Junit 5 doesn't require an open module although the books tell the opposite)</p>\n\n<p>After I've modularized the tests I found that it still doesn't execute the ServiceLoader stuff. Then I've started looking for the fault myself.</p>\n\n<p>And I found it! Running the ServiceLoader stuff in base module was possible, because the base module refers to the exported myProvider.jar, which in turns access a myProvider-config.properties file in the same directory. Without this config file myProvider cannot work properly. </p>\n\n<p>The problematic test module on the other hand, refered the eclipse project of the myProvider instead of its exported .jar file and hence could not find its config file and exits. I'd moved this config file from Netbeans to Eclipse simply copying it into the same directory. Thus missing config file was the problem. </p>\n\n<p>Changing the project settings I could run the tests without any failure.</p>\n\n<p>I would like to thank all the contributors who responded.</p>\n"},{"tags":[],"owner":{"account_id":270493,"reputation":929,"user_id":560479,"accept_rate":15,"display_name":"Shalom938"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640778880,"creation_date":1640736200,"answer_id":70513839,"question_id":52162778,"body_markdown":"This is quite an old post but if anyone gets here trying to test java modules with junit 5 with gradle, especially the consumer/provider as presented in this post , Sormuras solution is the easy way, to patch the consumer module with the tests classes.\r\nit is supported by gradle-modules-plugin that does that out of the box:\r\nhttps://github.com/java9-modularity/gradle-modules-plugin\r\n","title":"How can I test a service provider implementation module with Junit 5?","body":"<p>This is quite an old post but if anyone gets here trying to test java modules with junit 5 with gradle, especially the consumer/provider as presented in this post , Sormuras solution is the easy way, to patch the consumer module with the tests classes.\nit is supported by gradle-modules-plugin that does that out of the box:\n<a href=\"https://github.com/java9-modularity/gradle-modules-plugin\" rel=\"nofollow noreferrer\">https://github.com/java9-modularity/gradle-modules-plugin</a></p>\n"}],"owner":{"account_id":4433850,"reputation":29,"user_id":3610250,"display_name":"aekarahan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52178985,"answer_count":3,"score":1,"last_activity_date":1640778880,"creation_date":1536052236,"question_id":52162778,"body_markdown":"This is my base module which needs implementations of interfaces defined in myspi package. Various providers can offer MyProvider implementations. Base module uses them via myspi.MyProvider interface implementation.\r\n\r\n    module base {\r\n        exports myspi;\r\n        uses myspi.MyProvider;\r\n    }\r\n\r\nThis is my sample implementation module which provides the MyProvider implementation with MyProviderImpl\r\n\r\n    module myspi.provider {\r\n    \tprovides myspi.MyProvider with myspi.provider.MyProviderImpl;\r\n    }\r\n\r\nAll these work fine when I load the implementations in base module, with\r\n\r\n    public static List&lt;MyProvider&gt; getMyProviders() {\r\n    \t\tvar myProviders = new ArrayList&lt;MyProvider&gt;();\r\n    \t\tfor (MyProvider myProvider : ServiceLoader.&lt;MyProvider&gt;load(MyProvider.class)) {\r\n    \t\t\tmyProviders.add(myProvider);\r\n    \t\t}\r\n    \t\treturn myProviders;\r\n    \t}\r\n    \r\nBut same code returns empty list in Junit 5 test code (ServiceLoader returns null). How can I test the service provider modules with Junit 5. Or is there any alternative to Junit that allows us to create test modules (modularized test API) that declares &quot;uses myspi.MyProvider&quot; in the module-info and works fine with getMyProviders()?\r\n","title":"How can I test a service provider implementation module with Junit 5?","body":"<p>This is my base module which needs implementations of interfaces defined in myspi package. Various providers can offer MyProvider implementations. Base module uses them via myspi.MyProvider interface implementation.</p>\n\n<pre><code>module base {\n    exports myspi;\n    uses myspi.MyProvider;\n}\n</code></pre>\n\n<p>This is my sample implementation module which provides the MyProvider implementation with MyProviderImpl</p>\n\n<pre><code>module myspi.provider {\n    provides myspi.MyProvider with myspi.provider.MyProviderImpl;\n}\n</code></pre>\n\n<p>All these work fine when I load the implementations in base module, with</p>\n\n<pre><code>public static List&lt;MyProvider&gt; getMyProviders() {\n        var myProviders = new ArrayList&lt;MyProvider&gt;();\n        for (MyProvider myProvider : ServiceLoader.&lt;MyProvider&gt;load(MyProvider.class)) {\n            myProviders.add(myProvider);\n        }\n        return myProviders;\n    }\n</code></pre>\n\n<p>But same code returns empty list in Junit 5 test code (ServiceLoader returns null). How can I test the service provider modules with Junit 5. Or is there any alternative to Junit that allows us to create test modules (modularized test API) that declares \"uses myspi.MyProvider\" in the module-info and works fine with getMyProviders()?</p>\n"},{"tags":["java","arrays","format","ellipsis"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1640782282,"post_id":70518911,"comment_id":124656898,"body_markdown":"Keep in mind that the compiler always only deals with declared types, and not with runtime types. In your first example, the type of `parent[0]` is `Object` (and not `Object[]`). And according to the [JLS &#167;15.12.4.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.4.2), this is then encapsulated in new array when being the argument for a variable arity method.","body":"Keep in mind that the compiler always only deals with declared types, and not with runtime types. In your first example, the type of <code>parent[0]</code> is <code>Object</code> (and not <code>Object[]</code>). And according to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12.4.2\" rel=\"nofollow noreferrer\">JLS &#167;15.12.4.2</a>, this is then encapsulated in new array when being the argument for a variable arity method."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640778801,"creation_date":1640778801,"answer_id":70519031,"question_id":70518911,"body_markdown":"In the first one, `parent` stores `Object`, so when giving `parent[0]` that is **one** Object, one element formatted in `{0}`, and the `toString` of an array is used\r\n\r\nIn the second one, what is given to `format` is an `Object[]` so it can be expanded at multiple values with the varags `...` \r\n\r\n---\r\nTo get the first one working, you need to explicitly tell **what** is stored in each box, here `Object[]`\r\n\r\n    Object[] arguments = new Object[]{&quot;Atul&quot;, &quot;Kumar&quot;};\r\n    Object[][] parent = new Object[1][];\r\n    parent[0] = arguments;\r\n    String log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, parent[0]);\r\n    System.out.println(log);\r\n\r\n    // Error : Atul, due to Kumar\r\n","title":"Java ellipsis(...) wraps the Object Array in another parent Object","body":"<p>In the first one, <code>parent</code> stores <code>Object</code>, so when giving <code>parent[0]</code> that is <strong>one</strong> Object, one element formatted in <code>{0}</code>, and the <code>toString</code> of an array is used</p>\n<p>In the second one, what is given to <code>format</code> is an <code>Object[]</code> so it can be expanded at multiple values with the varags <code>...</code></p>\n<hr />\n<p>To get the first one working, you need to explicitly tell <strong>what</strong> is stored in each box, here <code>Object[]</code></p>\n<pre><code>Object[] arguments = new Object[]{&quot;Atul&quot;, &quot;Kumar&quot;};\nObject[][] parent = new Object[1][];\nparent[0] = arguments;\nString log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, parent[0]);\nSystem.out.println(log);\n\n// Error : Atul, due to Kumar\n</code></pre>\n"}],"owner":{"account_id":2286315,"reputation":369,"user_id":2010189,"accept_rate":38,"display_name":"Atul Kumar Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640778801,"creation_date":1640778074,"question_id":70518911,"body_markdown":"I am trying to print some logs using the following code snippet. This does not produce the desired output.\r\n```\r\nObject[] arguments = new Object[] {&quot;Atul&quot;, &quot;Kumar&quot;};\r\nObject[] parent = new Object[1];\r\nparent[0] = arguments;\r\nString log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, parent[0]);\r\nSystem.out.print(log);\r\n//prints : Error : [Ljava.lang.Object;@54bedef2, due to {1}\r\n```\r\nHowever, the following code works fine.\r\n```\r\nObject[] arguments = new Object[] {&quot;Atul&quot;, &quot;Kumar&quot;};\r\nString log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, arguments);\r\nSystem.out.print(log);\r\n//prints : Error : Atul, due to Kumar\r\n```\r\nI would think that `parent[0]` also represents `arguments Object []`. \r\nWhy is the first code snippet not working? Please suggest.\r\n\r\nWhile debugging, I have seen that `MessageFormat.format(String pattern, Object ... arguments)` wraps the Obeject[] in a parent Object[] of length 1.","title":"Java ellipsis(...) wraps the Object Array in another parent Object","body":"<p>I am trying to print some logs using the following code snippet. This does not produce the desired output.</p>\n<pre><code>Object[] arguments = new Object[] {&quot;Atul&quot;, &quot;Kumar&quot;};\nObject[] parent = new Object[1];\nparent[0] = arguments;\nString log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, parent[0]);\nSystem.out.print(log);\n//prints : Error : [Ljava.lang.Object;@54bedef2, due to {1}\n</code></pre>\n<p>However, the following code works fine.</p>\n<pre><code>Object[] arguments = new Object[] {&quot;Atul&quot;, &quot;Kumar&quot;};\nString log = MessageFormat.format(&quot;Error : {0}, due to {1}&quot;, arguments);\nSystem.out.print(log);\n//prints : Error : Atul, due to Kumar\n</code></pre>\n<p>I would think that <code>parent[0]</code> also represents <code>arguments Object []</code>.\nWhy is the first code snippet not working? Please suggest.</p>\n<p>While debugging, I have seen that <code>MessageFormat.format(String pattern, Object ... arguments)</code> wraps the Obeject[] in a parent Object[] of length 1.</p>\n"},{"tags":["java","jdbc","etl","clickhouse"],"answers":[{"tags":[],"owner":{"account_id":2019247,"reputation":475,"user_id":1805815,"display_name":"Konstantin Ilchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640778461,"creation_date":1640778461,"answer_id":70518965,"question_id":70393058,"body_markdown":"I think use should try version 0.1.1 of ClickHouse destination. It fixes your issue https://github.com/airbytehq/airbyte/pull/8982","title":"Clickhouse jdbc schema [Airbyte integration]","body":"<p>I think use should try version 0.1.1 of ClickHouse destination. It fixes your issue <a href=\"https://github.com/airbytehq/airbyte/pull/8982\" rel=\"nofollow noreferrer\">https://github.com/airbytehq/airbyte/pull/8982</a></p>\n"}],"owner":{"account_id":15441364,"reputation":17,"user_id":11143400,"display_name":"Efim Sirotkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":538,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70518965,"answer_count":1,"score":0,"last_activity_date":1640778461,"creation_date":1639743539,"question_id":70393058,"body_markdown":"I&#39;m really looking for and advice on how to set up data streaming between Oracle db (just for example) and Clickhouse database using Airbyte ETL tool.\r\n\r\nI&#39;ve created the source and destination connectors and successfuly tested the connections but now I&#39;m facing the issue in syncing the data. While the source is sending the data correctly, the destination (Clickhouse) JDBC driver requires the schema to accept those tables.\r\n\r\nSo, I don&#39;t know how to retrieve this schema and where it should be stored. Maybe there&#39;re some means to create this schema, because when I inspect the log it displays such thing:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PWAPD.png\r\n\r\nSo, basically, the error is connected with `Exception in thread &quot;main&quot; java.lang.IllegalStateException: jdbc destinations must specify a schema.`\r\n\r\nPlease I will be really grateful for providing any means for resolving that issue!","title":"Clickhouse jdbc schema [Airbyte integration]","body":"<p>I'm really looking for and advice on how to set up data streaming between Oracle db (just for example) and Clickhouse database using Airbyte ETL tool.</p>\n<p>I've created the source and destination connectors and successfuly tested the connections but now I'm facing the issue in syncing the data. While the source is sending the data correctly, the destination (Clickhouse) JDBC driver requires the schema to accept those tables.</p>\n<p>So, I don't know how to retrieve this schema and where it should be stored. Maybe there're some means to create this schema, because when I inspect the log it displays such thing:\n<a href=\"https://i.stack.imgur.com/PWAPD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWAPD.png\" alt=\"enter image description here\" /></a></p>\n<p>So, basically, the error is connected with <code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: jdbc destinations must specify a schema.</code></p>\n<p>Please I will be really grateful for providing any means for resolving that issue!</p>\n"},{"tags":["java","dependency-injection","testng","cdi"],"answers":[{"tags":[],"owner":{"account_id":5307294,"reputation":5670,"user_id":4234729,"display_name":"juherr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437283933,"creation_date":1437283557,"answer_id":31498268,"question_id":31495902,"body_markdown":"Currently, TestNG doesn&#39;t allow injection (with Guice) in listeners and it doesn&#39;t provide hook on listener creation (TestNG is calling new on listener itself). \nhttps://github.com/cbeust/testng/issues/279\n\nBut if you run TestNG with code, you may ask an instance to your injection framework and provide it to TestNG. ","title":"How to use injection in Test NG test listener","body":"<p>Currently, TestNG doesn't allow injection (with Guice) in listeners and it doesn't provide hook on listener creation (TestNG is calling new on listener itself). \n<a href=\"https://github.com/cbeust/testng/issues/279\" rel=\"nofollow\">https://github.com/cbeust/testng/issues/279</a></p>\n\n<p>But if you run TestNG with code, you may ask an instance to your injection framework and provide it to TestNG. </p>\n"},{"tags":[],"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640777460,"creation_date":1640777460,"answer_id":70518814,"question_id":31495902,"body_markdown":"Using one of the replies of the [previously linked github issue][1] (thanks @juherr) here the **TestNG 7.4.0** answer, without `@Inject` but working nonetheless.\r\n\r\nTo use the baked in `Guice` dependency injection container from a listener, you need to get the instance of the `Injector` from the suite in this way:\r\n\r\n```java\r\n@Override\r\npublic void onTestFailure(ITestResult result) {\r\n    final Injector parentInjector = result.getTestContext().getSuite().getParentInjector();\r\n    final YourGuiceModule module = parentInjector.getInstance(YourGuiceModule.class);\r\n    final MyBean myBean = parentInjector.createChildInjector(module).getInstance(MyBean.class);\r\n    \r\n    myBean.logDetails();\r\n}\r\n```\r\n\r\nFor this to work, you need to make sure that every test running this listener have `YourGuiceModule` and `MyBean` should be provided by that forementioned module.  \r\nThe exact answer to your question will be possible to solve in version 7.5.0, but still only if you use `Guice`.\r\n\r\nHere a utility method i&#39;ve created in Kotlin to provide any instance:\r\n\r\n```kotlin\r\n    private fun &lt;T&gt; ISuite.getInstanceOf(clazz: Class&lt;T&gt;): T =\r\n        with(this.parentInjector) {\r\n            getInstance(YourModule::class.java)\r\n                .let {\r\n                    createChildInjector(it)\r\n                        .getInstance(clazz)\r\n                }\r\n        }\r\n```\r\n\r\n**Opinion**: i prefer (and suggest) to have a compile-time check for dependency injection provided objects: In another solution, I&#39;ve solved this by using `dagger` and by ditching completely the `testng` dependency injection provider.\r\n\r\n  [1]: https://github.com/cbeust/testng/issues/279","title":"How to use injection in Test NG test listener","body":"<p>Using one of the replies of the <a href=\"https://github.com/cbeust/testng/issues/279\" rel=\"nofollow noreferrer\">previously linked github issue</a> (thanks @juherr) here the <strong>TestNG 7.4.0</strong> answer, without <code>@Inject</code> but working nonetheless.</p>\n<p>To use the baked in <code>Guice</code> dependency injection container from a listener, you need to get the instance of the <code>Injector</code> from the suite in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onTestFailure(ITestResult result) {\n    final Injector parentInjector = result.getTestContext().getSuite().getParentInjector();\n    final YourGuiceModule module = parentInjector.getInstance(YourGuiceModule.class);\n    final MyBean myBean = parentInjector.createChildInjector(module).getInstance(MyBean.class);\n    \n    myBean.logDetails();\n}\n</code></pre>\n<p>For this to work, you need to make sure that every test running this listener have <code>YourGuiceModule</code> and <code>MyBean</code> should be provided by that forementioned module.<br />\nThe exact answer to your question will be possible to solve in version 7.5.0, but still only if you use <code>Guice</code>.</p>\n<p>Here a utility method i've created in Kotlin to provide any instance:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun &lt;T&gt; ISuite.getInstanceOf(clazz: Class&lt;T&gt;): T =\n        with(this.parentInjector) {\n            getInstance(YourModule::class.java)\n                .let {\n                    createChildInjector(it)\n                        .getInstance(clazz)\n                }\n        }\n</code></pre>\n<p><strong>Opinion</strong>: i prefer (and suggest) to have a compile-time check for dependency injection provided objects: In another solution, I've solved this by using <code>dagger</code> and by ditching completely the <code>testng</code> dependency injection provider.</p>\n"}],"owner":{"account_id":2983920,"reputation":85,"user_id":2533268,"accept_rate":67,"display_name":"user2533268"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1640778053,"creation_date":1437255970,"question_id":31495902,"body_markdown":"I have a Test NG listener class, that is invoked every time a test fails:\r\n\r\n    public class MyListener implements ITestListener {\r\n\r\n    @Inject\r\n    private MyBean myBean;\r\n\r\n    @Override\r\n    public void onTestFailure(ITestResult result) {\r\n        myBean.logDetails();\r\n        // log certain information about the failure, \r\n        // using the injected object.\r\n    }\r\n    }\r\n\r\nWhen a test fails, the method is called, this part works fine.\r\n\r\nThe problem is the object isn&#39;t injected - it&#39;s just null. I have checked everything, and the usual conditions for CDI working are all ok. \r\nThe class has an empty constructor, and I am not calling new() on it anywhere.\r\n\r\nIs there any way to get the object injected?\r\n\r\nI have looked at this [question][1] but I can&#39;t see how to do CDI in the test listener.\r\nI&#39;ve also tried annotating the listener class as a TestNG test, and also making the listener a subclass of a guice factory class, but no luck and I&#39;m a bit lost as to how to do it.\r\nThanks!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28825372/is-it-possible-to-bind-dependencies-to-interceptor-in-testng","title":"How to use injection in Test NG test listener","body":"<p>I have a Test NG listener class, that is invoked every time a test fails:</p>\n\n<pre><code>public class MyListener implements ITestListener {\n\n@Inject\nprivate MyBean myBean;\n\n@Override\npublic void onTestFailure(ITestResult result) {\n    myBean.logDetails();\n    // log certain information about the failure, \n    // using the injected object.\n}\n}\n</code></pre>\n\n<p>When a test fails, the method is called, this part works fine.</p>\n\n<p>The problem is the object isn't injected - it's just null. I have checked everything, and the usual conditions for CDI working are all ok. \nThe class has an empty constructor, and I am not calling new() on it anywhere.</p>\n\n<p>Is there any way to get the object injected?</p>\n\n<p>I have looked at this <a href=\"https://stackoverflow.com/questions/28825372/is-it-possible-to-bind-dependencies-to-interceptor-in-testng\">question</a> but I can't see how to do CDI in the test listener.\nI've also tried annotating the listener class as a TestNG test, and also making the listener a subclass of a guice factory class, but no luck and I'm a bit lost as to how to do it.\nThanks!</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1640688674,"post_id":70505948,"comment_id":124633003,"body_markdown":"You have to set the Response body object first. e.g when(clientResponse.getResponseBody()).thenReturn( the Data object);","body":"You have to set the Response body object first. e.g when(clientResponse.getResponseBody()).thenReturn( the Data object);"},{"owner":{"account_id":23765321,"reputation":11,"user_id":17780148,"display_name":"jk553"},"score":0,"creation_date":1640688956,"post_id":70505948,"comment_id":124633078,"body_markdown":"But shouldn&#39;t the &quot;RETURNS_DEEP_STUBS&quot; functionality take care of all the intermediate calls of the mock?","body":"But shouldn&#39;t the &quot;RETURNS_DEEP_STUBS&quot; functionality take care of all the intermediate calls of the mock?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640689133,"post_id":70505948,"comment_id":124633116,"body_markdown":"Please add the complete stack trace to your question.","body":"Please add the complete stack trace to your question."},{"owner":{"account_id":22066749,"reputation":3758,"user_id":16328516,"display_name":"TriS"},"score":0,"creation_date":1640690829,"post_id":70505948,"comment_id":124633582,"body_markdown":"You can check what Mockito has to say about clean code and verification. There is a WARNING associated with it. link : https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/Mockito.html#RETURNS_DEEP_STUBS","body":"You can check what Mockito has to say about clean code and verification. There is a WARNING associated with it. link : <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/Mockito.html#RETURNS_DEEP_STUBS\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/&hellip;</a>"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1640752816,"post_id":70505948,"comment_id":124649560,"body_markdown":"Is `ClientResponseWrapper` a class you wrote, and is it `public` and non-`final`? (Or is it an interface?) Is `getResponseBody()` also `public` and non-`final`? Which line is line 60? Finally, why are you mocking `getResponseBody().getData()` and then replacing it with your own `bookingUpdateResponse`?","body":"Is <code>ClientResponseWrapper</code> a class you wrote, and is it <code>public</code> and non-<code>final</code>? (Or is it an interface?) Is <code>getResponseBody()</code> also <code>public</code> and non-<code>final</code>? Which line is line 60? Finally, why are you mocking <code>getResponseBody().getData()</code> and then replacing it with your own <code>bookingUpdateResponse</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23765321,"reputation":11,"user_id":17780148,"display_name":"jk553"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640777736,"creation_date":1640777736,"answer_id":70518857,"question_id":70505948,"body_markdown":"I was able to find solve the problem. As mentioned by Jeff Bowman, I was mocking the response of &quot;bookingUpdateResponse.getData()&quot; &quot;twice&quot;, and I think because of this the exception was thrown. I was able to write the test without the &quot;RETURNS_DEEP_STUBS&quot; (by mocking intermediate calls):\r\n\r\nResult:\r\n\r\n        @Test\r\n        public void testRunSuccessResponse() {\r\n            Integer startIndex = 456;\r\n            when(keyValueRepository.getFromIndex()).thenReturn(startIndex);\r\n\r\n            ClientResponseWrapper&lt;BookingUpdateResponse&gt; clientResponse = mock(ClientResponseWrapper.class);\r\n\r\n            BookingUpdateDto bookingUpdateDto = mock(BookingUpdateDto.class);\r\n            when(bookingUpdateDto.getBookingNumber()).thenReturn(&quot;12345&quot;);\r\n\r\n            List&lt;BookingUpdateDto&gt; bookingUpdateDtos = List.of(bookingUpdateDto);\r\n\r\n            when(clientResponse.getStatusCode()).thenReturn(HttpStatus.OK);\r\n\r\n            BookingUpdateResponse bookingUpdateResponse = mock(BookingUpdateResponse.class);\r\n            when(clientResponse.getResponseBody()).thenReturn(bookingUpdateResponse);\r\n            when(bookingUpdateResponse.getData()).thenReturn(bookingUpdateDtos);\r\n\r\n            when(bookingClient.requestBookingUpdates(startIndex)).thenReturn(clientResponse);\r\n\r\n            Integer nextIndex = 678;\r\n            when(bookingUpdateResponse.getNextFrom()).thenReturn(nextIndex);\r\n\r\n            transaction.run();\r\n\r\n            verify(bookingUpdateQueueRepository).saveAll(bookingUpdateQueueItemCaptor.capture());\r\n\r\n            Integer listSize = bookingUpdateQueueItemCaptor.getValue().size();\r\n\r\n            assertEquals(1, listSize);\r\n            verify(keyValueRepository).setFromIndex(nextIndex);\r\n        }\r\n\r\nThank you all for your helpful comments!","title":"Mockito RETURNS_DEEP_STUBS throws nullpointer exception","body":"<p>I was able to find solve the problem. As mentioned by Jeff Bowman, I was mocking the response of &quot;bookingUpdateResponse.getData()&quot; &quot;twice&quot;, and I think because of this the exception was thrown. I was able to write the test without the &quot;RETURNS_DEEP_STUBS&quot; (by mocking intermediate calls):</p>\n<p>Result:</p>\n<pre><code>    @Test\n    public void testRunSuccessResponse() {\n        Integer startIndex = 456;\n        when(keyValueRepository.getFromIndex()).thenReturn(startIndex);\n\n        ClientResponseWrapper&lt;BookingUpdateResponse&gt; clientResponse = mock(ClientResponseWrapper.class);\n\n        BookingUpdateDto bookingUpdateDto = mock(BookingUpdateDto.class);\n        when(bookingUpdateDto.getBookingNumber()).thenReturn(&quot;12345&quot;);\n\n        List&lt;BookingUpdateDto&gt; bookingUpdateDtos = List.of(bookingUpdateDto);\n\n        when(clientResponse.getStatusCode()).thenReturn(HttpStatus.OK);\n\n        BookingUpdateResponse bookingUpdateResponse = mock(BookingUpdateResponse.class);\n        when(clientResponse.getResponseBody()).thenReturn(bookingUpdateResponse);\n        when(bookingUpdateResponse.getData()).thenReturn(bookingUpdateDtos);\n\n        when(bookingClient.requestBookingUpdates(startIndex)).thenReturn(clientResponse);\n\n        Integer nextIndex = 678;\n        when(bookingUpdateResponse.getNextFrom()).thenReturn(nextIndex);\n\n        transaction.run();\n\n        verify(bookingUpdateQueueRepository).saveAll(bookingUpdateQueueItemCaptor.capture());\n\n        Integer listSize = bookingUpdateQueueItemCaptor.getValue().size();\n\n        assertEquals(1, listSize);\n        verify(keyValueRepository).setFromIndex(nextIndex);\n    }\n</code></pre>\n<p>Thank you all for your helpful comments!</p>\n"}],"owner":{"account_id":23765321,"reputation":11,"user_id":17780148,"display_name":"jk553"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640777736,"creation_date":1640688225,"question_id":70505948,"body_markdown":"I am having some problems mocking the ClientResponseWrapper class. I have mocked it and added the &quot;RETURNS_DEEP_STUBS&quot; parameter to be able to mock chained calls. I keep getting the &quot;NullPointerException&quot; and do not know why.\r\nCould you help me please.\r\n\r\nHere is the code:\r\n\r\n    package com.service.external_data.application.synchronize_bookings;\r\n    \r\n    import com.service.external_data.domain.BookingUpdateQueueItem;\r\n    import com.service.external_data.domain.repository.BookingUpdateQueueRepository;\r\n    import com.service.external_data.domain.repository.KeyValueRepository;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.ArgumentCaptor;\r\n    import org.mockito.Captor;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.mockito.Mockito.RETURNS_DEEP_STUBS;\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class Transaction2Test {\r\n    \r\n        @Mock\r\n        private KeyValueRepository keyValueRepository;\r\n    \r\n        @Mock\r\n        private BookingUpdateQueueRepository bookingUpdateQueueRepository;;\r\n    \r\n        @Mock\r\n        private BookingClient bookingClient;\r\n    \r\n        @Captor\r\n        private ArgumentCaptor&lt;List&lt;BookingUpdateQueueItem&gt;&gt; bookingUpdateQueueItemCaptor;\r\n    \r\n        @InjectMocks\r\n        private Transaction transaction;\r\n    \r\n        @Test\r\n        public void testRunSuccessResponse() {\r\n            Integer startIndex = 456;\r\n            when(keyValueRepository.getFromIndex()).thenReturn(startIndex);\r\n    \r\n            ClientResponseWrapper&lt;BookingUpdateResponse&gt; clientResponse = mock(ClientResponseWrapper.class, RETURNS_DEEP_STUBS);\r\n    \r\n            BookingUpdateDto bookingUpdateDto = mock(BookingUpdateDto.class);\r\n            when(bookingUpdateDto.getBookingNumber()).thenReturn(&quot;12345&quot;);\r\n    \r\n            List&lt;BookingUpdateDto&gt; bookingUpdateDtos = List.of(bookingUpdateDto);\r\n    \r\n            when(clientResponse.getResponseBody().getData()).thenReturn(bookingUpdateDtos);\r\n            when(clientResponse.getStatusCode()).thenReturn(HttpStatus.OK);\r\n    \r\n            List&lt;BookingUpdateDto&gt; bookings = mock(List.class);\r\n            BookingUpdateResponse bookingUpdateResponse = mock(BookingUpdateResponse.class);\r\n            when(clientResponse.getResponseBody()).thenReturn(bookingUpdateResponse);\r\n            when(bookingUpdateResponse.getData()).thenReturn(bookings);\r\n    \r\n            when(bookingClient.requestBookingUpdates(startIndex)).thenReturn(clientResponse);\r\n    \r\n            Integer nextIndex = 678;\r\n            when(bookingUpdateResponse.getNextFrom()).thenReturn(nextIndex);\r\n    \r\n            transaction.run();\r\n    \r\n            verify(bookingUpdateQueueRepository).saveAll(bookingUpdateQueueItemCaptor.capture());\r\n    \r\n            Integer listSize = bookingUpdateQueueItemCaptor.getValue().size();\r\n    \r\n            assertEquals(1, listSize);\r\n            verify(keyValueRepository).setFromIndex(nextIndex);\r\n        }\r\n    }\r\n\r\nThe exception is:\r\njava.lang.NullPointerException at line:\r\n&quot;when(clientResponse.getResponseBody().getData()).thenReturn(bookingUpdateDtos);&quot;\r\n\r\nComplete stacktrace:\r\n\r\n    \r\n    java.lang.NullPointerException\r\n    \tat com.service.external_data.application.synchronize_bookings.Transaction2Test.testRunSuccessResponse(Transaction2Test.java:60)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n\r\n\r\n","title":"Mockito RETURNS_DEEP_STUBS throws nullpointer exception","body":"<p>I am having some problems mocking the ClientResponseWrapper class. I have mocked it and added the &quot;RETURNS_DEEP_STUBS&quot; parameter to be able to mock chained calls. I keep getting the &quot;NullPointerException&quot; and do not know why.\nCould you help me please.</p>\n<p>Here is the code:</p>\n<pre><code>package com.service.external_data.application.synchronize_bookings;\n\nimport com.service.external_data.domain.BookingUpdateQueueItem;\nimport com.service.external_data.domain.repository.BookingUpdateQueueRepository;\nimport com.service.external_data.domain.repository.KeyValueRepository;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Captor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.HttpStatus;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.RETURNS_DEEP_STUBS;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.Mockito.when;\n\n\n@ExtendWith(MockitoExtension.class)\npublic class Transaction2Test {\n\n    @Mock\n    private KeyValueRepository keyValueRepository;\n\n    @Mock\n    private BookingUpdateQueueRepository bookingUpdateQueueRepository;;\n\n    @Mock\n    private BookingClient bookingClient;\n\n    @Captor\n    private ArgumentCaptor&lt;List&lt;BookingUpdateQueueItem&gt;&gt; bookingUpdateQueueItemCaptor;\n\n    @InjectMocks\n    private Transaction transaction;\n\n    @Test\n    public void testRunSuccessResponse() {\n        Integer startIndex = 456;\n        when(keyValueRepository.getFromIndex()).thenReturn(startIndex);\n\n        ClientResponseWrapper&lt;BookingUpdateResponse&gt; clientResponse = mock(ClientResponseWrapper.class, RETURNS_DEEP_STUBS);\n\n        BookingUpdateDto bookingUpdateDto = mock(BookingUpdateDto.class);\n        when(bookingUpdateDto.getBookingNumber()).thenReturn(&quot;12345&quot;);\n\n        List&lt;BookingUpdateDto&gt; bookingUpdateDtos = List.of(bookingUpdateDto);\n\n        when(clientResponse.getResponseBody().getData()).thenReturn(bookingUpdateDtos);\n        when(clientResponse.getStatusCode()).thenReturn(HttpStatus.OK);\n\n        List&lt;BookingUpdateDto&gt; bookings = mock(List.class);\n        BookingUpdateResponse bookingUpdateResponse = mock(BookingUpdateResponse.class);\n        when(clientResponse.getResponseBody()).thenReturn(bookingUpdateResponse);\n        when(bookingUpdateResponse.getData()).thenReturn(bookings);\n\n        when(bookingClient.requestBookingUpdates(startIndex)).thenReturn(clientResponse);\n\n        Integer nextIndex = 678;\n        when(bookingUpdateResponse.getNextFrom()).thenReturn(nextIndex);\n\n        transaction.run();\n\n        verify(bookingUpdateQueueRepository).saveAll(bookingUpdateQueueItemCaptor.capture());\n\n        Integer listSize = bookingUpdateQueueItemCaptor.getValue().size();\n\n        assertEquals(1, listSize);\n        verify(keyValueRepository).setFromIndex(nextIndex);\n    }\n}\n</code></pre>\n<p>The exception is:\njava.lang.NullPointerException at line:\n&quot;when(clientResponse.getResponseBody().getData()).thenReturn(bookingUpdateDtos);&quot;</p>\n<p>Complete stacktrace:</p>\n<pre><code>java.lang.NullPointerException\n    at com.service.external_data.application.synchronize_bookings.Transaction2Test.testRunSuccessResponse(Transaction2Test.java:60)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1417420950,"post_id":27189182,"comment_id":42926124,"body_markdown":"Please check , I have modified my answer. Try this : JavascriptExecutor js = (JavascriptExecutor) driver;\n    js.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);","body":"Please check , I have modified my answer. Try this : JavascriptExecutor js = (JavascriptExecutor) driver;     js.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);"},{"owner":{"account_id":4281721,"reputation":1308,"user_id":3500874,"accept_rate":40,"display_name":"Aishu"},"score":0,"creation_date":1482604567,"post_id":27189182,"comment_id":69835340,"body_markdown":"@Pandiaraj - The image shown here seems like a ListBox. In that u can select multiple values. Check what type of html element it is. eg:- (Check whether it is a Select element). If it is a select element, Why not to use Select obj = new Select(element); obj.SelectByText(&quot;Australia&quot;). And if u want to select multiple values use advance for loop in java to acheive the same","body":"@Pandiaraj - The image shown here seems like a ListBox. In that u can select multiple values. Check what type of html element it is. eg:- (Check whether it is a Select element). If it is a select element, Why not to use Select obj = new Select(element); obj.SelectByText(&quot;Australia&quot;). And if u want to select multiple values use advance for loop in java to acheive the same"}],"answers":[{"tags":[],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1551951942,"creation_date":1417179828,"answer_id":27189297,"question_id":27189182,"body_markdown":"First you should do scroll rather than find element so do like below :\r\n\r\n    document.getElementById(&quot;your div id&quot;).scrollTop(250);\r\n\r\nAfter above you can find that specific div.\r\n\r\nYou can also try below :\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;javascript:window.scrollBy(250,350)&quot;);","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>First you should do scroll rather than find element so do like below :</p>\n\n<pre><code>document.getElementById(\"your div id\").scrollTop(250);\n</code></pre>\n\n<p>After above you can find that specific div.</p>\n\n<p>You can also try below :</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"javascript:window.scrollBy(250,350)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4655188,"reputation":1943,"user_id":3770951,"accept_rate":64,"display_name":"Rupesh Shinde"},"down_vote_count":16,"up_vote_count":20,"is_accepted":false,"score":4,"last_activity_date":1440032801,"creation_date":1417179872,"answer_id":27189307,"question_id":27189182,"body_markdown":"###Scroll Down:\r\n\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    WebDriver driver = new FirefoxDriver();\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;scroll(0, 250)&quot;); //y value &#39;250&#39; can be altered\r\n\r\n###Scroll up:\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;scroll(250, 0)&quot;); //x value &#39;250&#39; can be altered\r\n\r\n###Scroll bottom of the Page:\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));&quot;);\r\n\r\nor\r\n\r\n    Actions actions = new Actions(driver);\r\n    actions.keyDown(Keys.CONTROL).sendKeys(Keys.END).perform();\r\n\r\n###Full scroll to bottom in slow motion:\r\n\r\n    for (int second = 0;; second++) {\r\n        if(second &gt;=60){\r\n            break;\r\n        }\r\n        ((JavascriptExecutor) driver).executeScript(&quot;window.scrollBy(0,400)&quot;, &quot;&quot;); //y value &#39;400&#39; can be altered\r\n        Thread.sleep(3000);\r\n    }\r\n\r\nor\r\n\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    for (int second = 0;; second++) {\r\n        if(second &gt;=60){\r\n            break;\r\n        }\r\n        jse.executeScript(&quot;window.scrollBy(0,800)&quot;, &quot;&quot;); //y value &#39;800&#39; can be altered\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n###Scroll automatically to your WebElement:\r\n\r\n    Point hoverItem =driver.findElement(By.xpath(&quot;Value&quot;)).getLocation();\r\n    ((JavascriptExecutor)driver).executeScript(&quot;return window.title;&quot;);    \r\n    Thread.sleep(6000);\r\n    ((JavascriptExecutor)driver).executeScript(&quot;window.scrollBy(0,&quot;+(hoverItem.getY())+&quot;);&quot;); \r\n    // Adjust your page view by making changes right over here (hoverItem.getY()-400)\r\n\r\nor\r\n\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, driver.findElement(By.xpath(&quot;Value&#39;)]&quot;)));\r\n\r\nor\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;Value&quot;));\r\n    Coordinates coordinate = ((Locatable)element).getCoordinates(); \r\n    coordinate.onPage(); \r\n    coordinate.inViewPort();\r\n\r\n\r\n\r\n","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<h3>Scroll Down:</h3>\n\n<pre><code>import org.openqa.selenium.JavascriptExecutor;\nWebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"scroll(0, 250)\"); //y value '250' can be altered\n</code></pre>\n\n<h3>Scroll up:</h3>\n\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"scroll(250, 0)\"); //x value '250' can be altered\n</code></pre>\n\n<h3>Scroll bottom of the Page:</h3>\n\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Actions actions = new Actions(driver);\nactions.keyDown(Keys.CONTROL).sendKeys(Keys.END).perform();\n</code></pre>\n\n<h3>Full scroll to bottom in slow motion:</h3>\n\n<pre><code>for (int second = 0;; second++) {\n    if(second &gt;=60){\n        break;\n    }\n    ((JavascriptExecutor) driver).executeScript(\"window.scrollBy(0,400)\", \"\"); //y value '400' can be altered\n    Thread.sleep(3000);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>JavascriptExecutor jse = (JavascriptExecutor)driver;\nfor (int second = 0;; second++) {\n    if(second &gt;=60){\n        break;\n    }\n    jse.executeScript(\"window.scrollBy(0,800)\", \"\"); //y value '800' can be altered\n    Thread.sleep(3000);\n}\n</code></pre>\n\n<h3>Scroll automatically to your WebElement:</h3>\n\n<pre><code>Point hoverItem =driver.findElement(By.xpath(\"Value\")).getLocation();\n((JavascriptExecutor)driver).executeScript(\"return window.title;\");    \nThread.sleep(6000);\n((JavascriptExecutor)driver).executeScript(\"window.scrollBy(0,\"+(hoverItem.getY())+\");\"); \n// Adjust your page view by making changes right over here (hoverItem.getY()-400)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>((JavascriptExecutor)driver).executeScript(\"arguments[0].scrollIntoView();\", driver.findElement(By.xpath(\"Value')]\")));\n</code></pre>\n\n<p>or</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(\"Value\"));\nCoordinates coordinate = ((Locatable)element).getCoordinates(); \ncoordinate.onPage(); \ncoordinate.inViewPort();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5542872,"reputation":318,"user_id":4398721,"accept_rate":25,"display_name":"Pavel Kononenko"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1439985937,"creation_date":1439984636,"answer_id":32094566,"question_id":27189182,"body_markdown":"    driver.get(&quot;http://www.***.com/&quot;);\r\n    driver.manage().window().maximize();\r\n    WebElement scroll = driver.findElement(By.id(&quot;someId&quot;));\r\n    scroll.sendKeys(Keys.PAGE_DOWN);","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<pre><code>driver.get(\"http://www.***.com/\");\ndriver.manage().window().maximize();\nWebElement scroll = driver.findElement(By.id(\"someId\"));\nscroll.sendKeys(Keys.PAGE_DOWN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7838492,"reputation":332,"user_id":5925582,"display_name":"Marcelo Xavier"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510671059,"creation_date":1473087477,"answer_id":39333243,"question_id":27189182,"body_markdown":"The easiest way to do that is **executing a Javascript to scroll** the element up/down.\r\n\r\n    JavascriptExecutor jsExec = (JavascriptExecutor) driver;\r\n    jsExec.executeScript(&quot;document.getElementById(&#39;id&#39;).scrollDown += 100&quot;);","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>The easiest way to do that is <strong>executing a Javascript to scroll</strong> the element up/down.</p>\n\n<pre><code>JavascriptExecutor jsExec = (JavascriptExecutor) driver;\njsExec.executeScript(\"document.getElementById('id').scrollDown += 100\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5818445,"reputation":1788,"user_id":4587277,"accept_rate":50,"display_name":"Gaurav Lad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490608381,"creation_date":1490608381,"answer_id":43043225,"question_id":27189182,"body_markdown":"Consider your HTML is like below:\r\n\r\n    &lt;div id=&quot;someId&quot; class=&quot;className&quot; style=&quot;position: relative; top: 0px; left: opx;&gt;\r\n\r\nyou can observe `style` attribute in `div`\r\ncheck for the value of `top` which is **0px** in above example\r\n\r\nNow try to do something like:\r\n\r\n    $(&#39;.className&#39;).animate({top: &quot;-60px&quot;});\r\n\r\nwhich will help you to scroll down.\r\nIts a JavaScript executor so of course you need to implement it.\r\n\r\n","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>Consider your HTML is like below:</p>\n\n<pre><code>&lt;div id=\"someId\" class=\"className\" style=\"position: relative; top: 0px; left: opx;&gt;\n</code></pre>\n\n<p>you can observe <code>style</code> attribute in <code>div</code>\ncheck for the value of <code>top</code> which is <strong>0px</strong> in above example</p>\n\n<p>Now try to do something like:</p>\n\n<pre><code>$('.className').animate({top: \"-60px\"});\n</code></pre>\n\n<p>which will help you to scroll down.\nIts a JavaScript executor so of course you need to implement it.</p>\n"},{"tags":[],"owner":{"account_id":2689469,"reputation":3158,"user_id":2323097,"accept_rate":70,"display_name":"yuva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495558544,"creation_date":1495558544,"answer_id":44140849,"question_id":27189182,"body_markdown":"My &#39;WORKAROUND&#39; is to scroll to the position by element&#39;s x and y co-ordinates. I also added an offset to y so that any header/footer or other element don&#39;t block the visibility of the element that I want to scroll to.\r\n\r\nI have my answer posted under this question - \r\n\r\nhttps://stackoverflow.com/questions/12035023/selenium-webdriver-cant-click-on-a-link-outside-the-page/44140426#44140426","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>My 'WORKAROUND' is to scroll to the position by element's x and y co-ordinates. I also added an offset to y so that any header/footer or other element don't block the visibility of the element that I want to scroll to.</p>\n\n<p>I have my answer posted under this question - </p>\n\n<p><a href=\"https://stackoverflow.com/questions/12035023/selenium-webdriver-cant-click-on-a-link-outside-the-page/44140426#44140426\">Selenium webdriver can&#39;t click on a link outside the page</a></p>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1593426253,"creation_date":1495623241,"answer_id":44156294,"question_id":27189182,"body_markdown":"Another way of doing it using `JavascriptExceutor`&#39;s `scrollIntoView()` method:\r\n    \r\n    WebElement DIVelement = driver.findElement(By.xpath(&quot;xpath to div&quot;));\r\n    \r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;arguments[0].scrollIntoView(true)&quot;, DIVelement);","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>Another way of doing it using <code>JavascriptExceutor</code>'s <code>scrollIntoView()</code> method:</p>\n<pre><code>WebElement DIVelement = driver.findElement(By.xpath(&quot;xpath to div&quot;));\n\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].scrollIntoView(true)&quot;, DIVelement);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2763321,"reputation":1825,"user_id":2379736,"accept_rate":77,"display_name":"Junchao Gu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1503206169,"creation_date":1497430847,"answer_id":44540150,"question_id":27189182,"body_markdown":"First of all, most of the answers posted here are just off the topic. I have been working with selenium 2 and selenium 3 now, the webdriver can handle window scroll to make an element visible.\r\n\r\nFor everyone posting snippets like:\r\n\r\n    driver.execute_script(&#39;scrollBy(0, 250)&#39;)\r\n\r\nyou do not get the question at all!\r\n\r\nActually I still did not find a way to properly simulate the drag action of scroll handle but [this answer][1] seems promising -- but I did not try.\r\n\r\nSo so far personally there are two ways to do this for me:\r\n\r\n1. Use `Keys.ARROW_DOWN`\r\n2. Use `Keys.PAGE_DOWN`\r\n\r\nActually there is a third way, just give up selenium and contact the website if they provide any API.\r\n\r\n  [1]: https://sqa.stackexchange.com/a/17484","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>First of all, most of the answers posted here are just off the topic. I have been working with selenium 2 and selenium 3 now, the webdriver can handle window scroll to make an element visible.</p>\n\n<p>For everyone posting snippets like:</p>\n\n<pre><code>driver.execute_script('scrollBy(0, 250)')\n</code></pre>\n\n<p>you do not get the question at all!</p>\n\n<p>Actually I still did not find a way to properly simulate the drag action of scroll handle but <a href=\"https://sqa.stackexchange.com/a/17484\">this answer</a> seems promising -- but I did not try.</p>\n\n<p>So so far personally there are two ways to do this for me:</p>\n\n<ol>\n<li>Use <code>Keys.ARROW_DOWN</code></li>\n<li>Use <code>Keys.PAGE_DOWN</code></li>\n</ol>\n\n<p>Actually there is a third way, just give up selenium and contact the website if they provide any API.</p>\n"},{"tags":[],"owner":{"account_id":5205240,"reputation":977,"user_id":4163398,"accept_rate":50,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510333499,"creation_date":1510333499,"answer_id":47227850,"question_id":27189182,"body_markdown":"None of the posted answers worked for me, however I have found a solution based on [this post][1].\r\n\r\n    ((JavascriptExecutor) driver).executeScript(\r\n        &quot;arguments[0].scrollTop=arguments[1].offsetTop&quot;,\r\n        divWithScrollbarElement,\r\n        elementToScrollTo);\r\nwhere `divWithScrollbarElement` is the div element which you are looking to scroll, and `elementToScrollTo` is the child element which you want to make viewable (which in my case was actually the parent of the element which I was initially trying to view). If `elementToScrollTo` is not actually in the DOM yet, you may need to use the script once to scroll down as far as possible, and then again once more elements have loaded.\r\n\r\n  [1]: https://stackoverflow.com/a/1592609/4163398","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>None of the posted answers worked for me, however I have found a solution based on <a href=\"https://stackoverflow.com/a/1592609/4163398\">this post</a>.</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\n    \"arguments[0].scrollTop=arguments[1].offsetTop\",\n    divWithScrollbarElement,\n    elementToScrollTo);\n</code></pre>\n\n<p>where <code>divWithScrollbarElement</code> is the div element which you are looking to scroll, and <code>elementToScrollTo</code> is the child element which you want to make viewable (which in my case was actually the parent of the element which I was initially trying to view). If <code>elementToScrollTo</code> is not actually in the DOM yet, you may need to use the script once to scroll down as far as possible, and then again once more elements have loaded.</p>\n"},{"tags":[],"owner":{"account_id":2425693,"reputation":125,"user_id":2117677,"display_name":"techjp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583738300,"creation_date":1583738300,"answer_id":60596136,"question_id":27189182,"body_markdown":"As you found, webdriver won&#39;t find elements that aren&#39;t visible so you need to scroll to the element. However you can&#39;t scroll directly to the element because webdriver won&#39;t find it until it is visible. Catch-22.\r\n\r\nHowever I do have a way that you can scroll within a DIV. First assign the DIV you want to scroll to an element variable, and then you can use javascript to scroll that element instead of scrolling the entire window.\r\n\r\nSome VB.NET example code that should be easily adapted to other languages:\r\n\r\n    Dim div_to_scroll As IWebElement = driver.FindElement(By.XPath(&quot;[put your xpath here]&quot;))\r\n\r\n    driver.ExecuteJavaScript(&quot;arguments[0].scrollBy(0,500)&quot;, div_to_scroll)\r\n\r\n    &#39; Short pause to make sure the screen updates:\r\n    System.Threading.Thread.Sleep(500)\r\n\r\n\r\nIf you don&#39;t know how far you need to scroll then you will need a loop with a test to see if the desired element is visible yet. This isn&#39;t a particularly elegant or fast way of doing things but webdriver isn&#39;t a fast solution to begin with and I have found this method to be very robust.","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>As you found, webdriver won't find elements that aren't visible so you need to scroll to the element. However you can't scroll directly to the element because webdriver won't find it until it is visible. Catch-22.</p>\n\n<p>However I do have a way that you can scroll within a DIV. First assign the DIV you want to scroll to an element variable, and then you can use javascript to scroll that element instead of scrolling the entire window.</p>\n\n<p>Some VB.NET example code that should be easily adapted to other languages:</p>\n\n<pre><code>Dim div_to_scroll As IWebElement = driver.FindElement(By.XPath(\"[put your xpath here]\"))\n\ndriver.ExecuteJavaScript(\"arguments[0].scrollBy(0,500)\", div_to_scroll)\n\n' Short pause to make sure the screen updates:\nSystem.Threading.Thread.Sleep(500)\n</code></pre>\n\n<p>If you don't know how far you need to scroll then you will need a loop with a test to see if the desired element is visible yet. This isn't a particularly elegant or fast way of doing things but webdriver isn't a fast solution to begin with and I have found this method to be very robust.</p>\n"},{"tags":[],"owner":{"account_id":1237641,"reputation":2190,"user_id":1200914,"accept_rate":89,"display_name":"Learning from masters"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640777501,"creation_date":1640776557,"answer_id":70518651,"question_id":27189182,"body_markdown":"Just in case for anyone looking for an alternative solution, here I put mine using python, which should be easy to transform to Java. First, I was using:\r\n\r\n    more = panel.find_elements(By.CSS_SELECTOR, &quot;//li&quot;)\r\n    self.driver.execute_script(&quot;arguments[0].scrollIntoView();&quot;, more[-1])\r\n\r\n    if last == more[-1]:\r\n        break\r\n    else:\r\n        last = more_followers[-1]\r\n        #wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR, &quot;//li&quot;)))\r\n        time.sleep(0.5)\r\n\r\nin a loop for a ul inside a div. However, the more li elements appear, the slowest was selenium to perfom this action. At the end, because the div containing the ul had a unique class name I used the following in a loop:\r\n\r\n    while num_of_il&lt;num_of_elements:\r\n            self.driver.execute_script(&quot;document.getElementsByClassName(&#39;myclass&#39;)[0].scrollTop += 100;&quot;);\r\n            time.sleep(0.5)\r\n            num_of_il = self.driver.execute_script(&quot;return document.getElementsByTagName(&#39;li&#39;).length&quot;)\r\n            print(&quot;Num of li &quot;+str(num_of_il))\r\n\r\n\r\nThis way is not slow anymore, and with the 0.5 I give enough time to load my next entries. You can also have other getElementsBy as getElementById(), getElementsByName(), getElementsByTagName() and getElementsByTagNameNS(). Look methods at https://developer.mozilla.org/en-US/docs/Web/API/document/ You can check the number of elements loaded accessing the num_of_il variable. Consider introducing some code to break the loop in case num_of_il does not change (e.g. end of items reached).\r\n","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>Just in case for anyone looking for an alternative solution, here I put mine using python, which should be easy to transform to Java. First, I was using:</p>\n<pre><code>more = panel.find_elements(By.CSS_SELECTOR, &quot;//li&quot;)\nself.driver.execute_script(&quot;arguments[0].scrollIntoView();&quot;, more[-1])\n\nif last == more[-1]:\n    break\nelse:\n    last = more_followers[-1]\n    #wait.until(EC.presence_of_all_elements_located((By.CSS_SELECTOR, &quot;//li&quot;)))\n    time.sleep(0.5)\n</code></pre>\n<p>in a loop for a ul inside a div. However, the more li elements appear, the slowest was selenium to perfom this action. At the end, because the div containing the ul had a unique class name I used the following in a loop:</p>\n<pre><code>while num_of_il&lt;num_of_elements:\n        self.driver.execute_script(&quot;document.getElementsByClassName('myclass')[0].scrollTop += 100;&quot;);\n        time.sleep(0.5)\n        num_of_il = self.driver.execute_script(&quot;return document.getElementsByTagName('li').length&quot;)\n        print(&quot;Num of li &quot;+str(num_of_il))\n</code></pre>\n<p>This way is not slow anymore, and with the 0.5 I give enough time to load my next entries. You can also have other getElementsBy as getElementById(), getElementsByName(), getElementsByTagName() and getElementsByTagNameNS(). Look methods at <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document/\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/document/</a> You can check the number of elements loaded accessing the num_of_il variable. Consider introducing some code to break the loop in case num_of_il does not change (e.g. end of items reached).</p>\n"}],"owner":{"account_id":5404855,"reputation":590,"user_id":4303683,"accept_rate":56,"display_name":"pandiaraj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122397,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"answer_count":11,"score":42,"last_activity_date":1640777501,"creation_date":1417179456,"question_id":27189182,"body_markdown":"Some of WebElements are not recognized by WebDriver, WebDriver fails to find the element which is not visible in browser&#39;s visible area.\r\n\r\nIn order to make the WebElement viewable by WebDriver, We need to make that element to visible in browser&#39;s view to do scroll down on particular div!![][1]\r\n\r\nHow can I perform my action(scroll down and click) on particular area of my webpage. I tried lot, doesn&#39;t helped me. \r\n\r\nPlease help me resolve my issue.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VSu74.png","title":"How to scroll a specific DIV using Selenium WebDriver with Java?","body":"<p>Some of WebElements are not recognized by WebDriver, WebDriver fails to find the element which is not visible in browser's visible area.</p>\n\n<p>In order to make the WebElement viewable by WebDriver, We need to make that element to visible in browser's view to do scroll down on particular div!<img src=\"https://i.stack.imgur.com/VSu74.png\" alt=\"\"></p>\n\n<p>How can I perform my action(scroll down and click) on particular area of my webpage. I tried lot, doesn't helped me. </p>\n\n<p>Please help me resolve my issue.</p>\n"},{"tags":["java","spring","rest","apache-camel","dsl"],"comments":[{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":0,"creation_date":1435367154,"post_id":31081115,"comment_id":50186249,"body_markdown":"JUnit will test the code locally on your system, before it&#39;s deployed to wildfly.","body":"JUnit will test the code locally on your system, before it&#39;s deployed to wildfly."},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":0,"creation_date":1435367320,"post_id":31081115,"comment_id":50186276,"body_markdown":"If you have a test in progress, please edit your question and add the source so we can see what else you need. :)","body":"If you have a test in progress, please edit your question and add the source so we can see what else you need. :)"},{"owner":{"account_id":3924313,"reputation":71,"user_id":3245436,"display_name":"maxcpereira"},"score":0,"creation_date":1435851904,"post_id":31081115,"comment_id":50383199,"body_markdown":"My solution for this problem was to remove the java code and passes it to the  `spring.xml` to not reduce my code coverage, so I tested only the  `bean`.\nI&#39;m still looking for a way to test the `REST DSL` route, but thanks for help @Barett","body":"My solution for this problem was to remove the java code and passes it to the  <code>spring.xml</code> to not reduce my code coverage, so I tested only the  <code>bean</code>. I&#39;m still looking for a way to test the <code>REST DSL</code> route, but thanks for help @Barett"}],"answers":[{"tags":[],"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435367183,"creation_date":1435367183,"answer_id":31084142,"question_id":31081115,"body_markdown":"Have you seen the examples on this page? https://camel.apache.org/testing.html\r\n\r\nSince you have Spring, try the Spring test examples on that page. Those will be more appropriate for your situation than using `CamelTestSupport`.","title":"Testing Camel REST DSL Consumer Template","body":"<p>Have you seen the examples on this page? <a href=\"https://camel.apache.org/testing.html\" rel=\"nofollow\">https://camel.apache.org/testing.html</a></p>\n\n<p>Since you have Spring, try the Spring test examples on that page. Those will be more appropriate for your situation than using <code>CamelTestSupport</code>.</p>\n"},{"tags":[],"owner":{"account_id":4539048,"reputation":99,"user_id":3687442,"display_name":"user3687442"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1445521041,"creation_date":1445521041,"answer_id":33282374,"question_id":31081115,"body_markdown":"As a possible solution, you can set the URI for your REST route and use that URI in your junit test. In order to do so, you need to switch RestDefinition to RouteDefinition by calling *route* method, and then you can call the *from* method and set the uri argument.\r\nExample using direct endpoint:\r\n\r\n        rest(&quot;/ordernumber&quot;).description(&quot;ordernumber rest service&quot;)\r\n        .consumes(&quot;application/json&quot;).produces(&quot;application/json&quot;)\r\n        .get(&quot;/{id}&quot;).description(&quot;get ordernumber&quot;).outType(ServiceResponse.class)\r\n        .route().from(&quot;direct:myendpoint&quot;)\r\n        .to(&quot;bean:orderNumberService?method=getOrderNumber(${header.id})&quot;);\r\n\r\nIn your junit class, you can then type:\r\n    \r\n    @Produce(uri = &quot;direct:myendpoint&quot;)\r\n    protected ProducerTemplate testProducer;\r\n\r\nHope this helps.","title":"Testing Camel REST DSL Consumer Template","body":"<p>As a possible solution, you can set the URI for your REST route and use that URI in your junit test. In order to do so, you need to switch RestDefinition to RouteDefinition by calling <em>route</em> method, and then you can call the <em>from</em> method and set the uri argument.\nExample using direct endpoint:</p>\n\n<pre><code>    rest(\"/ordernumber\").description(\"ordernumber rest service\")\n    .consumes(\"application/json\").produces(\"application/json\")\n    .get(\"/{id}\").description(\"get ordernumber\").outType(ServiceResponse.class)\n    .route().from(\"direct:myendpoint\")\n    .to(\"bean:orderNumberService?method=getOrderNumber(${header.id})\");\n</code></pre>\n\n<p>In your junit class, you can then type:</p>\n\n<pre><code>@Produce(uri = \"direct:myendpoint\")\nprotected ProducerTemplate testProducer;\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7484981,"reputation":166,"user_id":5688552,"display_name":"Loginus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640777244,"creation_date":1640777244,"answer_id":70518779,"question_id":31081115,"body_markdown":"You can set custom RestConsumerFactory to be used in test.\r\nIf you are using spring create a bean of type RestConsumerFactory like\r\n```java\r\npublic class TestRestConsumerFactory implements RestConsumerFactory {\r\n\r\n    @Override\r\n    public Consumer createConsumer(CamelContext camelContext, Processor processor, String verb, String basePath, String uriTemplate, String consumes, String produces, RestConfiguration configuration, Map&lt;String, Object&gt; parameters) throws Exception {\r\n\r\n        // just use a direct endpoint for testing purpose\r\n        String id;\r\n        if (uriTemplate != null) {\r\n            id = DefaultUuidGenerator.generateSanitizedId(basePath + uriTemplate);\r\n        } else {\r\n            id = DefaultUuidGenerator.generateSanitizedId(basePath);\r\n        }\r\n        // remove leading dash as we add that ourselves\r\n        if (id.startsWith(&quot;-&quot;)) {\r\n            id = id.substring(1);\r\n        }\r\n\r\n        DirectEndpoint direct = camelContext.getEndpoint(&quot;direct:&quot; + verb + &quot;-&quot; + id, DirectEndpoint.class);\r\n        return direct.createConsumer(processor);\r\n    }\r\n}\r\n```\r\nCode inspired by [Camel test][1]\r\n\r\nIf you are using spring, you can crate a bean in test config\r\n```java\r\n@Bean\r\npublic RestConsumerFactory testRestConsumerFactory(){\r\n   return new TestRestConsumerFactory();\r\n}\r\n```\r\nOtherwise set it explicitely to the camel rest configuration.\r\nCamel will find it and use as Rest component see Camel documentation: [Camel REST DSL documentation][2]\r\n\r\n    If no component has been explicit configured, then Camel will lookup if there is a Camel component that integrates with the Rest DSL, or if a org.apache.camel.spi.RestConsumerFactory is registered in the registry. If either one is found, then that is being used.\r\n\r\nThis custom RestConsumerFactory replaces rest endpoints to direct endpoints e.g.\r\n\r\n GET /say/hello -&gt; direct:get-say-hello\r\n\r\nso you can then use them in your test code\r\n```java\r\ntestProducer.requestBody(&quot;direct:get-say-hello&quot;, &quot;body&quot;);\r\n```\r\n**Bonus**\r\n\r\nIn case you have parametrised endpoint, RestConsumerFactory implemented above will replace it using curly braces e.g.\r\n\r\n GET /say/{word} -&gt; direct:get-say-{word}\r\n\r\nYou can still test such endpoint setting appropriate header\r\n```java\r\nMap&lt;String, Object&gt; headers = ImmutableMap.of(&quot;word&quot;, &quot;hello&quot;);\r\nproducerTemplate.requestBodyAndHeaders(&quot;direct:get-say-{word}&quot;, null, headers);\r\n```\r\n\r\n\r\n  [1]: https://github.com/DjSystemBPM/Camel/blob/master/platforms/spring-boot/components-starter/camel-core-starter/src/test/java/org/apache/camel/model/rest/springboot/CamelRestTest.java\r\n  [2]: https://camel.apache.org/manual/rest-dsl.html","title":"Testing Camel REST DSL Consumer Template","body":"<p>You can set custom RestConsumerFactory to be used in test.\nIf you are using spring create a bean of type RestConsumerFactory like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestRestConsumerFactory implements RestConsumerFactory {\n\n    @Override\n    public Consumer createConsumer(CamelContext camelContext, Processor processor, String verb, String basePath, String uriTemplate, String consumes, String produces, RestConfiguration configuration, Map&lt;String, Object&gt; parameters) throws Exception {\n\n        // just use a direct endpoint for testing purpose\n        String id;\n        if (uriTemplate != null) {\n            id = DefaultUuidGenerator.generateSanitizedId(basePath + uriTemplate);\n        } else {\n            id = DefaultUuidGenerator.generateSanitizedId(basePath);\n        }\n        // remove leading dash as we add that ourselves\n        if (id.startsWith(&quot;-&quot;)) {\n            id = id.substring(1);\n        }\n\n        DirectEndpoint direct = camelContext.getEndpoint(&quot;direct:&quot; + verb + &quot;-&quot; + id, DirectEndpoint.class);\n        return direct.createConsumer(processor);\n    }\n}\n</code></pre>\n<p>Code inspired by <a href=\"https://github.com/DjSystemBPM/Camel/blob/master/platforms/spring-boot/components-starter/camel-core-starter/src/test/java/org/apache/camel/model/rest/springboot/CamelRestTest.java\" rel=\"nofollow noreferrer\">Camel test</a></p>\n<p>If you are using spring, you can crate a bean in test config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RestConsumerFactory testRestConsumerFactory(){\n   return new TestRestConsumerFactory();\n}\n</code></pre>\n<p>Otherwise set it explicitely to the camel rest configuration.\nCamel will find it and use as Rest component see Camel documentation: <a href=\"https://camel.apache.org/manual/rest-dsl.html\" rel=\"nofollow noreferrer\">Camel REST DSL documentation</a></p>\n<pre><code>If no component has been explicit configured, then Camel will lookup if there is a Camel component that integrates with the Rest DSL, or if a org.apache.camel.spi.RestConsumerFactory is registered in the registry. If either one is found, then that is being used.\n</code></pre>\n<p>This custom RestConsumerFactory replaces rest endpoints to direct endpoints e.g.</p>\n<p>GET /say/hello -&gt; direct:get-say-hello</p>\n<p>so you can then use them in your test code</p>\n<pre class=\"lang-java prettyprint-override\"><code>testProducer.requestBody(&quot;direct:get-say-hello&quot;, &quot;body&quot;);\n</code></pre>\n<p><strong>Bonus</strong></p>\n<p>In case you have parametrised endpoint, RestConsumerFactory implemented above will replace it using curly braces e.g.</p>\n<p>GET /say/{word} -&gt; direct:get-say-{word}</p>\n<p>You can still test such endpoint setting appropriate header</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; headers = ImmutableMap.of(&quot;word&quot;, &quot;hello&quot;);\nproducerTemplate.requestBodyAndHeaders(&quot;direct:get-say-{word}&quot;, null, headers);\n</code></pre>\n"}],"owner":{"account_id":3924313,"reputation":71,"user_id":3245436,"display_name":"maxcpereira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9011,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1640777244,"creation_date":1435348402,"question_id":31081115,"body_markdown":"I have the following code: \r\n\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.model.rest.RestBindingMode;\r\n    \r\n    public class OrderNumberRouteBuilder extends RouteBuilder {\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n            restConfiguration().component(&quot;servlet&quot;).bindingMode(RestBindingMode.json)          \r\n                .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;)\r\n                .contextPath(&quot;suppliera/rest&quot;).port(8080);\r\n           \r\n            rest(&quot;/ordernumber&quot;).description(&quot;ordernumber rest service&quot;)\r\n                .consumes(&quot;application/json&quot;).produces(&quot;application/json&quot;)\r\n    \r\n                .get(&quot;/{id}&quot;).description(&quot;get ordernumber&quot;).outType(ServiceResponse.class)\r\n                .to(&quot;bean:orderNumberService?method=getOrderNumber(${header.id})&quot;);\r\n        }\r\n    }\r\n\r\nHow can I use JUnit to test this code? Can `CamelTestSupport` handle it?\r\n\r\nI want to create a test like: \r\n\r\n    @Produce(------myendpoint----) \r\n    protected ProducerTemplate testProducer; \r\n    \r\n    public void mytest(){\r\n    testProducer.requestBody(&quot;foo&quot;);\r\n    }\r\n\r\nhow can I mock that? what I put in -----myendpoint---- to reference that route?\r\n\r\n","title":"Testing Camel REST DSL Consumer Template","body":"<p>I have the following code: </p>\n\n<pre><code>import org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.model.rest.RestBindingMode;\n\npublic class OrderNumberRouteBuilder extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        restConfiguration().component(\"servlet\").bindingMode(RestBindingMode.json)          \n            .dataFormatProperty(\"prettyPrint\", \"true\")\n            .contextPath(\"suppliera/rest\").port(8080);\n\n        rest(\"/ordernumber\").description(\"ordernumber rest service\")\n            .consumes(\"application/json\").produces(\"application/json\")\n\n            .get(\"/{id}\").description(\"get ordernumber\").outType(ServiceResponse.class)\n            .to(\"bean:orderNumberService?method=getOrderNumber(${header.id})\");\n    }\n}\n</code></pre>\n\n<p>How can I use JUnit to test this code? Can <code>CamelTestSupport</code> handle it?</p>\n\n<p>I want to create a test like: </p>\n\n<pre><code>@Produce(------myendpoint----) \nprotected ProducerTemplate testProducer; \n\npublic void mytest(){\ntestProducer.requestBody(\"foo\");\n}\n</code></pre>\n\n<p>how can I mock that? what I put in -----myendpoint---- to reference that route?</p>\n"},{"tags":["java","hash"],"answers":[{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444524674,"creation_date":1444524674,"answer_id":33060503,"question_id":33060473,"body_markdown":"You need to call [`messageDigest.reset()`][1] between successive utilizations of the same object to compute hash for different data.\r\n\r\nThis because `MessageDigest` is meant to be used with chunks of data that you feed to it not all at once (by calling `update(...)`). So the behavior is to keep updating the internal hash until you reset the state through `reset()`.\r\n\r\nBasically in your code the second digest is for the string `&quot;ALIBABAALIBABA&quot;`\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html#reset()","title":"SHA-256 same string return different byte[]?","body":"<p>You need to call <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/MessageDigest.html#reset()\" rel=\"nofollow\"><code>messageDigest.reset()</code></a> between successive utilizations of the same object to compute hash for different data.</p>\n\n<p>This because <code>MessageDigest</code> is meant to be used with chunks of data that you feed to it not all at once (by calling <code>update(...)</code>). So the behavior is to keep updating the internal hash until you reset the state through <code>reset()</code>.</p>\n\n<p>Basically in your code the second digest is for the string <code>\"ALIBABAALIBABA\"</code></p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444526067,"creation_date":1444524808,"answer_id":33060515,"question_id":33060473,"body_markdown":"The `[B@629f0666` and `[B@1bc6a36e` thingies are not the contents of `hash` and `hash2` respectively, they are their default `toString()` representations. The `[B` part is telling you that it is an array of bytes, and the hex number that follows is its identity hash code, which is something akin to an address in memory.  (Not exactly an address, but it is useful to think of it that way.)\r\n\r\nAnd of course, since they are two different arrays, they live in different locations in memory, so their default `toString()` representations differ.  But that&#39;s irrelevant: their contents are identical.\r\n\r\nIn order to see that they are identical, you don&#39;t have to print them, you can simply compare them byte by byte.  But if you insist on printing them, your attempt with `new String( hash2, StandardCharsets.UTF_8 );` is mistaken, because it is trying to reinterpret random bytes as unicode characters, which of course gives funny results.  Take a look at this answer: https://stackoverflow.com/q/9655181/773113\r\n\r\n(And in any case, note that the two strings of garbage are identical, so this should be telling you that your byte arrays are identical, too.)\r\n","title":"SHA-256 same string return different byte[]?","body":"<p>The <code>[B@629f0666</code> and <code>[B@1bc6a36e</code> thingies are not the contents of <code>hash</code> and <code>hash2</code> respectively, they are their default <code>toString()</code> representations. The <code>[B</code> part is telling you that it is an array of bytes, and the hex number that follows is its identity hash code, which is something akin to an address in memory.  (Not exactly an address, but it is useful to think of it that way.)</p>\n\n<p>And of course, since they are two different arrays, they live in different locations in memory, so their default <code>toString()</code> representations differ.  But that's irrelevant: their contents are identical.</p>\n\n<p>In order to see that they are identical, you don't have to print them, you can simply compare them byte by byte.  But if you insist on printing them, your attempt with <code>new String( hash2, StandardCharsets.UTF_8 );</code> is mistaken, because it is trying to reinterpret random bytes as unicode characters, which of course gives funny results.  Take a look at this answer: <a href=\"https://stackoverflow.com/q/9655181/773113\">How to convert a byte array to a hex string in Java?</a></p>\n\n<p>(And in any case, note that the two strings of garbage are identical, so this should be telling you that your byte arrays are identical, too.)</p>\n"},{"tags":[],"owner":{"account_id":13828030,"reputation":169,"user_id":9981772,"display_name":"ilya_kas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640777234,"creation_date":1640777234,"answer_id":70518777,"question_id":33060473,"body_markdown":"Someone may need a more simple explanation. `String` contains info not only for chars in it, but also some other info. May be for example about it&#39;s position in String pool etc. That info also included in `.toByteArray()` so results differ for 2 same strings. A piece of advice is to use `char[]` instead. Here is some code.\r\n\r\n    byte[] toBytes(char[] chars) {\r\n      CharBuffer charBuffer = CharBuffer.wrap(chars);\r\n      ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\r\n      byte[] bytes = Arrays.copyOfRange(byteBuffer.array(),\r\n              byteBuffer.position(), byteBuffer.limit());\r\n      Arrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\r\n      return bytes;\r\n    }\r\n\r\n    ...\r\n\r\n    bytesToHex(MessageDigest\r\n                 .getInstance(&quot;SHA-256&quot;)\r\n                 .digest(toBytes(charArray)));\r\n\r\n    ...\r\n\r\n    String bytesToHex(byte[] bytes){\r\n      //any way you want to convert byte array to String\r\n      //for example using apache.commons.codec:\r\n      return Hex.encodeHexString(bytes);\r\n    }","title":"SHA-256 same string return different byte[]?","body":"<p>Someone may need a more simple explanation. <code>String</code> contains info not only for chars in it, but also some other info. May be for example about it's position in String pool etc. That info also included in <code>.toByteArray()</code> so results differ for 2 same strings. A piece of advice is to use <code>char[]</code> instead. Here is some code.</p>\n<pre><code>byte[] toBytes(char[] chars) {\n  CharBuffer charBuffer = CharBuffer.wrap(chars);\n  ByteBuffer byteBuffer = Charset.forName(&quot;UTF-8&quot;).encode(charBuffer);\n  byte[] bytes = Arrays.copyOfRange(byteBuffer.array(),\n          byteBuffer.position(), byteBuffer.limit());\n  Arrays.fill(byteBuffer.array(), (byte) 0); // clear sensitive data\n  return bytes;\n}\n\n...\n\nbytesToHex(MessageDigest\n             .getInstance(&quot;SHA-256&quot;)\n             .digest(toBytes(charArray)));\n\n...\n\nString bytesToHex(byte[] bytes){\n  //any way you want to convert byte array to String\n  //for example using apache.commons.codec:\n  return Hex.encodeHexString(bytes);\n}\n</code></pre>\n"}],"owner":{"account_id":6199819,"reputation":191,"user_id":4830020,"accept_rate":100,"display_name":"BeGood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":33060515,"answer_count":3,"score":1,"last_activity_date":1640777234,"creation_date":1444524235,"question_id":33060473,"body_markdown":"I need SHA-256 to be my key for AES-256.\nBut my example SHA-256 is:\n\n    MessageDigest messageDigest;\n    messageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    \n    String input = new String(&quot;ALIBABA&quot;);\n    messageDigest.update(input.getBytes(Charset.forName(&quot;UTF-8&quot;)));\n    byte[] hash = messageDigest.digest();\n    String hash1s = new String(hash,StandardCharsets.UTF_8);\n    System.out.println(&quot;HASH 1 is &quot;+hash1s);\n    System.out.println(&quot;HASH 1 is &quot;+hash);\n    \n    String input2 = new String(&quot;ALIBABA&quot;);\n    messageDigest.update(input2.getBytes(Charset.forName(&quot;UTF-8&quot;)));\n    byte[] hash2 = messageDigest.digest();\n    String hash2s = new String(hash2,StandardCharsets.UTF_8);\n    System.out.println(&quot;HASH 2 is &quot;+hash2s);\n    System.out.println(&quot;HASH 2 is &quot;+hash2);\n\nReturn not a same value byte[]:\n\n&gt; HASH 1 is V%��%�P�9�P��v�/�/e\\\\BF}�$] \n&gt;\n&gt; HASH 1 is [B@629f0666 \n&gt;\n&gt; HASH 2 is V%��%�P�9�P��v�/�/e\\\\BF}�$] \n&gt;\n&gt; HASH 2 is [B@1bc6a36e\n\nHow do I get same byte[] to be key for AES-256?","title":"SHA-256 same string return different byte[]?","body":"<p>I need SHA-256 to be my key for AES-256.\nBut my example SHA-256 is:</p>\n<pre><code>MessageDigest messageDigest;\nmessageDigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n\nString input = new String(&quot;ALIBABA&quot;);\nmessageDigest.update(input.getBytes(Charset.forName(&quot;UTF-8&quot;)));\nbyte[] hash = messageDigest.digest();\nString hash1s = new String(hash,StandardCharsets.UTF_8);\nSystem.out.println(&quot;HASH 1 is &quot;+hash1s);\nSystem.out.println(&quot;HASH 1 is &quot;+hash);\n\nString input2 = new String(&quot;ALIBABA&quot;);\nmessageDigest.update(input2.getBytes(Charset.forName(&quot;UTF-8&quot;)));\nbyte[] hash2 = messageDigest.digest();\nString hash2s = new String(hash2,StandardCharsets.UTF_8);\nSystem.out.println(&quot;HASH 2 is &quot;+hash2s);\nSystem.out.println(&quot;HASH 2 is &quot;+hash2);\n</code></pre>\n<p>Return not a same value byte[]:</p>\n<blockquote>\n<p>HASH 1 is V%��%�P�9�P��v�/�/e\\BF}�$]</p>\n<p>HASH 1 is [B@629f0666</p>\n<p>HASH 2 is V%��%�P�9�P��v�/�/e\\BF}�$]</p>\n<p>HASH 2 is [B@1bc6a36e</p>\n</blockquote>\n<p>How do I get same byte[] to be key for AES-256?</p>\n"},{"tags":["java","hadoop","hive","hiveql"],"answers":[{"tags":[],"owner":{"account_id":13407605,"reputation":1,"user_id":11690809,"display_name":"Ayush singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612338819,"creation_date":1612336208,"answer_id":66022756,"question_id":37990695,"body_markdown":"refer to the link \r\nHere they are using Hive Cli Driver\r\nI have used this to process HQL files\r\nhttps://www.programcreek.com/java-api-examples/?api=org.apache.hadoop.hive.cli.CliDriver\r\n\r\n    public HiveExec(HdfsSinkConnectorConfig config) {\r\n        hiveConf = new HiveConf();\r\n        String hiveConfDir = config.getString(HdfsSinkConnectorConfig.HIVE_CONF_DIR_CONFIG);\r\n        hiveConf.addResource(new Path(hiveConfDir, &quot;hive-site.xml&quot;));\r\n        SessionState.start(new CliSessionState(hiveConf));\r\n        cliDriver = new CliDriver();\r\n    }","title":"How to execute Hive hql files from java?","body":"<p>refer to the link\nHere they are using Hive Cli Driver\nI have used this to process HQL files\n<a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.hadoop.hive.cli.CliDriver\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.apache.hadoop.hive.cli.CliDriver</a></p>\n<pre><code>public HiveExec(HdfsSinkConnectorConfig config) {\n    hiveConf = new HiveConf();\n    String hiveConfDir = config.getString(HdfsSinkConnectorConfig.HIVE_CONF_DIR_CONFIG);\n    hiveConf.addResource(new Path(hiveConfDir, &quot;hive-site.xml&quot;));\n    SessionState.start(new CliSessionState(hiveConf));\n    cliDriver = new CliDriver();\n}\n</code></pre>\n"}],"owner":{"account_id":2900588,"reputation":997,"user_id":2487397,"accept_rate":71,"display_name":"Ankit Khettry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2236,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1640777126,"creation_date":1466682331,"question_id":37990695,"body_markdown":"I understand I can do it by parsing the hql file, extracting individual queries and executing each query separately, but I want to know whether there&#39;s a better and more graceful way to run a command like:\r\n\r\n    hive -f &quot;queries.hql&quot;\r\n\r\nthrough java. One way would be using `Runtime.getRuntime().exec`, but I want to do this the proper jdbc way, using HiveServer2 - if that&#39;s possible.\r\n\r\nIf it&#39;s possible, an example would be very much appreciated.\r\n\r\nBest Regards.","title":"How to execute Hive hql files from java?","body":"<p>I understand I can do it by parsing the hql file, extracting individual queries and executing each query separately, but I want to know whether there's a better and more graceful way to run a command like:</p>\n\n<pre><code>hive -f \"queries.hql\"\n</code></pre>\n\n<p>through java. One way would be using <code>Runtime.getRuntime().exec</code>, but I want to do this the proper jdbc way, using HiveServer2 - if that's possible.</p>\n\n<p>If it's possible, an example would be very much appreciated.</p>\n\n<p>Best Regards.</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-greedy"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1640774134,"post_id":70518181,"comment_id":124654509,"body_markdown":"What do you mean by &quot;one word&quot;? Simply that it is non-empty and contains no whitespace? If so, `^\\S+$` would work.","body":"What do you mean by &quot;one word&quot;? Simply that it is non-empty and contains no whitespace? If so, <code>^\\S+$</code> would work."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1640774243,"post_id":70518181,"comment_id":124654545,"body_markdown":"The title of your question and the first sentence can be interpreted differently.","body":"The title of your question and the first sentence can be interpreted differently."},{"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"score":1,"creation_date":1640774588,"post_id":70518181,"comment_id":124654642,"body_markdown":"@Thefourthbird I edited it so it is more clear.","body":"@Thefourthbird I edited it so it is more clear."},{"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"score":0,"creation_date":1640774627,"post_id":70518181,"comment_id":124654650,"body_markdown":"@AndyTurner by one word I mean it has exactly one word. I edited the question so that it is more clear.","body":"@AndyTurner by one word I mean it has exactly one word. I edited the question so that it is more clear."},{"owner":{"account_id":13526529,"reputation":72157,"user_id":9758194,"display_name":"JvdV"},"score":0,"creation_date":1640774725,"post_id":70518181,"comment_id":124654670,"body_markdown":"Your own attempted regex makes no sense in regard to your question since your explicitly *added* a whitespace at the end of your pattern.","body":"Your own attempted regex makes no sense in regard to your question since your explicitly <i>added</i> a whitespace at the end of your pattern."},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":0,"creation_date":1640774776,"post_id":70518181,"comment_id":124654684,"body_markdown":"@JvdV I see a space after for example `&quot;Boston &quot;`.","body":"@JvdV I see a space after for example <code>&quot;Boston &quot;</code>."},{"owner":{"account_id":13526529,"reputation":72157,"user_id":9758194,"display_name":"JvdV"},"score":1,"creation_date":1640774811,"post_id":70518181,"comment_id":124654694,"body_markdown":"So OP has possible leading/trailing spaces? In such an event maybe `^\\s*\\S+\\s*$` works. Maybe this question can better be resolved in a different way, possibly at the source of the data?","body":"So OP has possible leading/trailing spaces? In such an event maybe <code>^\\s*\\S+\\s*$</code> works. Maybe this question can better be resolved in a different way, possibly at the source of the data?"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1640775058,"post_id":70518181,"comment_id":124654762,"body_markdown":"The pattern `^\\w{2,}\\s` matches 2 or more word characters from the start of the string, followed by a mandatory whitespace char. It depends on what the requirement for a &quot;word&quot; is, but in Java you could also write `^\\h*\\w{2,}\\h*$` https://regex101.com/r/eFDjky/1","body":"The pattern <code>^\\w{2,}\\s</code> matches 2 or more word characters from the start of the string, followed by a mandatory whitespace char. It depends on what the requirement for a &quot;word&quot; is, but in Java you could also write <code>^\\h*\\w{2,}\\h*$</code> <a href=\"https://regex101.com/r/eFDjky/1\" rel=\"nofollow noreferrer\">regex101.com/r/eFDjky/1</a>"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1640775064,"post_id":70518181,"comment_id":124654767,"body_markdown":"And what is the definition of word? (are numbers, special chars and umlauts allowed?)","body":"And what is the definition of word? (are numbers, special chars and umlauts allowed?)"},{"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"score":0,"creation_date":1640775296,"post_id":70518181,"comment_id":124654831,"body_markdown":"@Turo the word, in this case, is considered to be the simple sequence of characters, so no special characters are included.","body":"@Turo the word, in this case, is considered to be the simple sequence of characters, so no special characters are included."},{"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"score":0,"creation_date":1640775460,"post_id":70518181,"comment_id":124654874,"body_markdown":"@Thefourthbird the regexp that you suggested seems to work fine. Thank you!","body":"@Thefourthbird the regexp that you suggested seems to work fine. Thank you!"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1640775849,"post_id":70518181,"comment_id":124654976,"body_markdown":"@GIO \\w includes digits and the underscore, is that right?","body":"@GIO \\w includes digits and the underscore, is that right?"},{"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"score":0,"creation_date":1640776306,"post_id":70518181,"comment_id":124655113,"body_markdown":"@Turo \\w matches any word character (equivalent to [a-zA-Z0-9_])","body":"@Turo \\w matches any word character (equivalent to [a-zA-Z0-9_])"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1640793045,"post_id":70518181,"comment_id":124660800,"body_markdown":"Checking for spaces, like you were doing originally, is going to be a lot faster than using a regex.  What’s wrong with `s.trim().contains(&quot; &quot;)`?","body":"Checking for spaces, like you were doing originally, is going to be a lot faster than using a regex.  What’s wrong with <code>s.trim().contains(&quot; &quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640776911,"creation_date":1640776911,"answer_id":70518720,"question_id":70518181,"body_markdown":"The pattern `^\\w{2,}\\s` matches 2 or more word characters from the start of the string, followed by a mandatory whitespace char (that can also match a newline)\r\n\r\nAs the pattern is also unanchored, it can also match `Boston` in `Boston test`\r\n\r\nIf you want to match a single word with as least 2 characters surrounded by optional horizontal whitespace characters using `\\h*` and add an anchor `$` to assert the end of the string.\r\n\r\n    ^\\h*\\w{2,}\\h*$\r\n\r\n[Regex demo](https://regex101.com/r/HcsN4I/1)\r\n\r\nIn Java\r\n\r\n    String regex = &quot;^\\\\h*\\\\w{2,}\\\\h*$&quot;;","title":"Regex to check if String is one word in Java","body":"<p>The pattern <code>^\\w{2,}\\s</code> matches 2 or more word characters from the start of the string, followed by a mandatory whitespace char (that can also match a newline)</p>\n<p>As the pattern is also unanchored, it can also match <code>Boston</code> in <code>Boston test</code></p>\n<p>If you want to match a single word with as least 2 characters surrounded by optional horizontal whitespace characters using <code>\\h*</code> and add an anchor <code>$</code> to assert the end of the string.</p>\n<pre><code>^\\h*\\w{2,}\\h*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/HcsN4I/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>In Java</p>\n<pre><code>String regex = &quot;^\\\\h*\\\\w{2,}\\\\h*$&quot;;\n</code></pre>\n"}],"owner":{"account_id":21476435,"reputation":71,"user_id":15824608,"display_name":"grigyan"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640776911,"creation_date":1640773972,"question_id":70518181,"body_markdown":"I need regex to check if String has only one word (e.g. &quot;This&quot;, &quot;Country&quot;, &quot;Boston &quot;, &quot; Programming &quot;).\r\n\r\nSo far I used an alternative way of doing it which is to check if String contains spaces. However, I am sure that this can be done using regex. \r\n\r\nOne possible way in my opinion is `&quot;^\\w{2,}\\s&quot;`. Does this work properly? Are there any other possible answers?","title":"Regex to check if String is one word in Java","body":"<p>I need regex to check if String has only one word (e.g. &quot;This&quot;, &quot;Country&quot;, &quot;Boston &quot;, &quot; Programming &quot;).</p>\n<p>So far I used an alternative way of doing it which is to check if String contains spaces. However, I am sure that this can be done using regex.</p>\n<p>One possible way in my opinion is <code>&quot;^\\w{2,}\\s&quot;</code>. Does this work properly? Are there any other possible answers?</p>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1640777831,"post_id":70513886,"comment_id":124655567,"body_markdown":"Have you tried Sammy T solution? Does it work?","body":"Have you tried Sammy T solution? Does it work?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1640777858,"post_id":70513886,"comment_id":124655574,"body_markdown":"Please also note that Firebase API is asynchronous. So you might be interested in reading this article, [How to read data from Cloud Firestore using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953).","body":"Please also note that Firebase API is asynchronous. So you might be interested in reading this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">How to read data from Cloud Firestore using get()?</a>."}],"answers":[{"tags":[],"owner":{"account_id":8322856,"reputation":1924,"user_id":6253847,"display_name":"Sammy T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640747367,"creation_date":1640747367,"answer_id":70514771,"question_id":70513886,"body_markdown":"You should structure your code so that any logic that depends on your asynchronous operation is executed or triggered within the response callback. \r\n\r\nYou can do something like this:\r\n\r\n```\r\n@Override\r\npublic void onBindViewHolder(@NonNull AdvertisementHolder holder, int position) {\r\n\timgUrl = publishedAdvertisements.get(position).getImgUrl();\r\n\r\n\tholder.petName.setText(publishedAdvertisements.get(position).getPetName());\r\n\tholder.petCategory.setText(publishedAdvertisements.get(position).getPetCategory());\r\n\tPicasso.get().load(publishedAdvertisements.get(position).getImgUrl()).into(holder.petImage);\r\n\tholder.btnDelete.setOnClickListener(new View.OnClickListener() {\r\n\t\t@Override\r\n\t\tpublic void onClick(View view) {\r\n\r\n\t\t\tfirebaseFirestore = FirebaseFirestore.getInstance();\r\n\t\t\tfirebaseFirestore.collection(&quot;Pets&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\r\n\t\t\t\t\t// The asynchronous operation has successfully completed \r\n\t\t\t\t\t// and returned a value to our &#39;onSuccess()&#39; callback.\r\n\t\t\t\t\tif (!queryDocumentSnapshots.isEmpty()) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;bos d&#246;nd&#252;&quot;);\r\n\t\t\t\t\t\tdocId = queryDocumentSnapshots.getDocuments().get(pos).getId();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(docId);\r\n\r\n\t\t\t\t\t\t// We can now use the value of docId.\r\n\t\t\t\t\t\tif (docId != null) {\r\n\t\t\t\t\t\t\tFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\t\t\t\t\t\t\tdb.collection(&quot;Pets&quot;).document(docId)\r\n\t\t\t\t\t\t\t\t\t.delete()\r\n\t\t\t\t\t\t\t\t\t.addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n\t\t\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\t\t\tpublic void onSuccess(Void aVoid) {\r\n\t\t\t\t\t\t\t\t\t\t\tLog.d(TAG, &quot;DocumentSnapshot successfully deleted!&quot;);\r\n\t\t\t\t\t\t\t\t\t\t\tpublishedAdvertisements.clear();\r\n\t\t\t\t\t\t\t\t\t\t\tgetPublishedAnimals();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t// (1)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.addOnFailureListener(new OnFailureListener() {\r\n\t\t\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\t\t\tpublic void onFailure(@NonNull Exception e) {\r\n\t\t\t\t\t\t\t\t\t\t\tLog.w(TAG, &quot;Error deleting document&quot;, e);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// I&#39;m not sure how your RecyclerView is set up \r\n\t\t\t\t\t\t// but I&#39;m guessing you might want to move this call\r\n\t\t\t\t\t\t// to &#39;notifyDataSetChanged()&#39; to the section marked (1)\r\n\t\t\t\t\t\tnotifyDataSetChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t});\r\n}\r\n```\r\n","title":"Selecting in RecyclerView and delete from firebase in java","body":"<p>You should structure your code so that any logic that depends on your asynchronous operation is executed or triggered within the response callback.</p>\n<p>You can do something like this:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull AdvertisementHolder holder, int position) {\n    imgUrl = publishedAdvertisements.get(position).getImgUrl();\n\n    holder.petName.setText(publishedAdvertisements.get(position).getPetName());\n    holder.petCategory.setText(publishedAdvertisements.get(position).getPetCategory());\n    Picasso.get().load(publishedAdvertisements.get(position).getImgUrl()).into(holder.petImage);\n    holder.btnDelete.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            firebaseFirestore = FirebaseFirestore.getInstance();\n            firebaseFirestore.collection(&quot;Pets&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\n                    // The asynchronous operation has successfully completed \n                    // and returned a value to our 'onSuccess()' callback.\n                    if (!queryDocumentSnapshots.isEmpty()) {\n                        System.out.println(&quot;bos döndü&quot;);\n                        docId = queryDocumentSnapshots.getDocuments().get(pos).getId();\n                        \n                        System.out.println(docId);\n\n                        // We can now use the value of docId.\n                        if (docId != null) {\n                            FirebaseFirestore db = FirebaseFirestore.getInstance();\n                            db.collection(&quot;Pets&quot;).document(docId)\n                                    .delete()\n                                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                        @Override\n                                        public void onSuccess(Void aVoid) {\n                                            Log.d(TAG, &quot;DocumentSnapshot successfully deleted!&quot;);\n                                            publishedAdvertisements.clear();\n                                            getPublishedAnimals();\n                                            \n                                            // (1)\n                                        }\n                                    })\n                                    .addOnFailureListener(new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n                                            Log.w(TAG, &quot;Error deleting document&quot;, e);\n                                        }\n                                    });\n                        }\n                        \n                        // I'm not sure how your RecyclerView is set up \n                        // but I'm guessing you might want to move this call\n                        // to 'notifyDataSetChanged()' to the section marked (1)\n                        notifyDataSetChanged();\n                    }\n                }\n            });\n        }\n\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23649689,"reputation":1,"user_id":17678743,"display_name":"Dexter Morgan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640776691,"creation_date":1640736759,"question_id":70513886,"body_markdown":"I want to delete my document from firebase. But first I need to determine the document id. I tried to get document id:\r\n\r\n```\r\ndocId = queryDocumentSnapshots.getDocuments().get(pos).getId();\r\n```\r\n\r\nThen, I just wanted to delete my document. But firebase works async so code doesnt work in &#39;if&#39; statement. When we first click the button, docId variable is null or it takes the docId which was clicked before till the async code part done.\r\n\r\n```\r\n\t@Override\r\n    public void onBindViewHolder(@NonNull AdvertisementHolder holder, int position) {\r\n        imgUrl = publishedAdvertisements.get(position).getImgUrl();\r\n\r\n        holder.petName.setText(publishedAdvertisements.get(position).getPetName());\r\n        holder.petCategory.setText(publishedAdvertisements.get(position).getPetCategory());\r\n        Picasso.get().load(publishedAdvertisements.get(position).getImgUrl()).into(holder.petImage);\r\n        holder.btnDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                firebaseFirestore = FirebaseFirestore.getInstance();\r\n                firebaseFirestore.collection(&quot;Pets&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\r\n                        if (!queryDocumentSnapshots.isEmpty()) {\r\n                            System.out.println(&quot;bos d&#246;nd&#252;&quot;);\r\n                            docId = queryDocumentSnapshots.getDocuments().get(pos).getId();\r\n                        }\r\n                    }\r\n                });\r\n\r\n\r\n                System.out.println(docId);\r\n\r\n                if (docId != null) {\r\n                    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                    db.collection(&quot;Pets&quot;).document(docId)\r\n                            .delete()\r\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onSuccess(Void aVoid) {\r\n                                    Log.d(TAG, &quot;DocumentSnapshot successfully deleted!&quot;);\r\n                                    publishedAdvertisements.clear();\r\n                                    getPublishedAnimals();\r\n                                }\r\n                            })\r\n                            .addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Log.w(TAG, &quot;Error deleting document&quot;, e);\r\n                                }\r\n                            });\r\n\r\n                }\r\n                notifyDataSetChanged();\r\n            }\r\n\r\n        });\r\n```\r\n","title":"Selecting in RecyclerView and delete from firebase in java","body":"<p>I want to delete my document from firebase. But first I need to determine the document id. I tried to get document id:</p>\n<pre><code>docId = queryDocumentSnapshots.getDocuments().get(pos).getId();\n</code></pre>\n<p>Then, I just wanted to delete my document. But firebase works async so code doesnt work in 'if' statement. When we first click the button, docId variable is null or it takes the docId which was clicked before till the async code part done.</p>\n<pre><code>    @Override\n    public void onBindViewHolder(@NonNull AdvertisementHolder holder, int position) {\n        imgUrl = publishedAdvertisements.get(position).getImgUrl();\n\n        holder.petName.setText(publishedAdvertisements.get(position).getPetName());\n        holder.petCategory.setText(publishedAdvertisements.get(position).getPetCategory());\n        Picasso.get().load(publishedAdvertisements.get(position).getImgUrl()).into(holder.petImage);\n        holder.btnDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                firebaseFirestore = FirebaseFirestore.getInstance();\n                firebaseFirestore.collection(&quot;Pets&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(@NonNull QuerySnapshot queryDocumentSnapshots) {\n                        if (!queryDocumentSnapshots.isEmpty()) {\n                            System.out.println(&quot;bos döndü&quot;);\n                            docId = queryDocumentSnapshots.getDocuments().get(pos).getId();\n                        }\n                    }\n                });\n\n\n                System.out.println(docId);\n\n                if (docId != null) {\n                    FirebaseFirestore db = FirebaseFirestore.getInstance();\n                    db.collection(&quot;Pets&quot;).document(docId)\n                            .delete()\n                            .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                                @Override\n                                public void onSuccess(Void aVoid) {\n                                    Log.d(TAG, &quot;DocumentSnapshot successfully deleted!&quot;);\n                                    publishedAdvertisements.clear();\n                                    getPublishedAnimals();\n                                }\n                            })\n                            .addOnFailureListener(new OnFailureListener() {\n                                @Override\n                                public void onFailure(@NonNull Exception e) {\n                                    Log.w(TAG, &quot;Error deleting document&quot;, e);\n                                }\n                            });\n\n                }\n                notifyDataSetChanged();\n            }\n\n        });\n</code></pre>\n"},{"tags":["java","android","build.gradle","google-calendar-api"],"owner":{"account_id":23614966,"reputation":11,"user_id":17649222,"display_name":"Achi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640776515,"creation_date":1640079222,"question_id":70433246,"body_markdown":"I am a beginner at Android app design. I want to write a code to access the google calendar events and I have created authentication &amp; authorization in https://console.cloud.google and downloaded the client_secret_...json then put it in the res and src folder in android. Because Google Documents hasn&#39;t step by step to build an android app then I follow the java sample of calendarQuickstart to create my Gradle and Mainactivity.java as below. \r\n\r\nGradle\r\n\r\n    plugins {\r\n    \r\n        id &#39;com.android.application&#39;\r\n    \r\n    }\r\n    \r\n    android {\r\n    \r\n        compileSdk 31\r\n        defaultConfig {\r\n            applicationId &quot;com.example.mycalendar1&quot;\r\n            minSdk 21\r\n            targetSdk 31\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    // I use zulu8 \r\n    \r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n        implementation files(&#39;libs/google-oauth-client-java6-1.32.1.jar&#39;)\r\n        implementation files(&#39;libs/google-oauth-client-jetty-1.32.1.jar&#39;)\r\n        implementation files(&#39;libs/google_http_client_gson-1.0.2.jar&#39;)\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.google.android.gms:play-services-auth:20.0.1&#39;\r\n        implementation &#39;pub.devrel:easypermissions:0.3.0&#39;\r\n        implementation(&#39;com.google.api-client:google-api-client-android:1.23.0&#39;) {\r\n            exclude group: &#39;org.apache.httpcomponents&#39;\r\n        }\r\n        implementation(&#39;com.google.apis:google-api-services-calendar:v3-rev125-1.20.0&#39;) {\r\n            exclude group: &#39;org.apache.httpcomponents&#39;\r\n        }\r\n    }\r\n        \r\n\r\nMainactivity.java\r\n\r\n\r\n    package com.example.mycalendar1;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.google.api.client.auth.oauth2.Credential;\r\n    \r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\n    \r\n    import com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\n    \r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    \r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\n    \r\n    import com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\n    \r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    \r\n    import com.google.api.client.json.JsonFactory;\r\n    \r\n    import com.google.api.client.json.gson.GsonFactory;\r\n    \r\n    import com.google.api.client.util.DateTime;\r\n    \r\n    import com.google.api.client.util.store.FileDataStoreFactory;\r\n    \r\n    import com.google.api.services.calendar.Calendar;\r\n    \r\n    import com.google.api.services.calendar.CalendarScopes;\r\n    \r\n    import com.google.api.services.calendar.model.Event;\r\n    \r\n    import com.google.api.services.calendar.model.Events;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import android.widget.TextView;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import java.io.InputStream;\r\n    \r\n    import java.io.InputStreamReader;\r\n    \r\n    import java.security.GeneralSecurityException;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    import java.util.List;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        /** Application name. */\r\n        private static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\r\n        /** Global instance of the JSON factory. */\r\n        private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n        private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n    \r\n        /**\r\n         * Global instance of the scopes required by this quickstart.\r\n         * If modifying these scopes, delete your previously saved tokens/ folder.\r\n         */\r\n        private static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR_READONLY);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    \r\n        /**\r\n         * Creates an authorized Credential object.\r\n         * @param HTTP_TRANSPORT The network HTTP Transport.\r\n         * @return An authorized Credential object.\r\n         * @throws IOException If the credentials.json file cannot be found.\r\n         */\r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws\r\n                IOException {\r\n            // Load client secrets.\r\n            InputStream in = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n            //returns an authorized Credential object.\r\n            return credential;\r\n        }\r\n    \r\n    \r\n    \r\n        private static TextView tv1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            tv1 = findViewById(R.id.txt1);\r\n    \r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    \r\n            Calendar service = null;\r\n            try {\r\n                service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                        .setApplicationName(APPLICATION_NAME)\r\n                        .build();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n    \r\n            Event event = null;\r\n            try {\r\n                event = service.events().get(&quot;***CalendarID&quot;, &quot;***EventID&quot;).execute();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            tv1.setText(event.getSummary().toString());\r\n        }\r\n    }\r\n\r\nonly a text view tv1 in my activity_main.xml just shows the event summary. \r\n\r\nwhen I run it, then I got a lot of errors. \r\n\r\nCan anybody tell me how to use google calendar API in android? it bothers me so many days. \r\n\r\nThanks a lot. \r\n\r\n","title":"android app beginner for writing code for google Calendar API","body":"<p>I am a beginner at Android app design. I want to write a code to access the google calendar events and I have created authentication &amp; authorization in <a href=\"https://console.cloud.google\" rel=\"nofollow noreferrer\">https://console.cloud.google</a> and downloaded the client_secret_...json then put it in the res and src folder in android. Because Google Documents hasn't step by step to build an android app then I follow the java sample of calendarQuickstart to create my Gradle and Mainactivity.java as below.</p>\n<p>Gradle</p>\n<pre><code>plugins {\n\n    id 'com.android.application'\n\n}\n\nandroid {\n\n    compileSdk 31\n    defaultConfig {\n        applicationId &quot;com.example.mycalendar1&quot;\n        minSdk 21\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n// I use zulu8 \n\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    implementation files('libs/google-oauth-client-java6-1.32.1.jar')\n    implementation files('libs/google-oauth-client-jetty-1.32.1.jar')\n    implementation files('libs/google_http_client_gson-1.0.2.jar')\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.google.android.gms:play-services-auth:20.0.1'\n    implementation 'pub.devrel:easypermissions:0.3.0'\n    implementation('com.google.api-client:google-api-client-android:1.23.0') {\n        exclude group: 'org.apache.httpcomponents'\n    }\n    implementation('com.google.apis:google-api-services-calendar:v3-rev125-1.20.0') {\n        exclude group: 'org.apache.httpcomponents'\n    }\n}\n    \n</code></pre>\n<p>Mainactivity.java</p>\n<pre><code>package com.example.mycalendar1;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.api.client.auth.oauth2.Credential;\n\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\n\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\n\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\n\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\n\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\n\nimport com.google.api.client.http.javanet.NetHttpTransport;\n\nimport com.google.api.client.json.JsonFactory;\n\nimport com.google.api.client.json.gson.GsonFactory;\n\nimport com.google.api.client.util.DateTime;\n\nimport com.google.api.client.util.store.FileDataStoreFactory;\n\nimport com.google.api.services.calendar.Calendar;\n\nimport com.google.api.services.calendar.CalendarScopes;\n\nimport com.google.api.services.calendar.model.Event;\n\nimport com.google.api.services.calendar.model.Events;\n\nimport android.os.Bundle;\n\nimport android.widget.TextView;\n\nimport java.io.FileNotFoundException;\n\nimport java.io.IOException;\n\nimport java.io.InputStream;\n\nimport java.io.InputStreamReader;\n\nimport java.security.GeneralSecurityException;\n\nimport java.util.Collections;\n\nimport java.util.List;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    /** Application name. */\n    private static final String APPLICATION_NAME = &quot;Google Calendar API Java Quickstart&quot;;\n    /** Global instance of the JSON factory. */\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n    /**\n     * Global instance of the scopes required by this quickstart.\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR_READONLY);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws\n            IOException {\n        // Load client secrets.\n        InputStream in = MainActivity.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        Credential credential = new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n        //returns an authorized Credential object.\n        return credential;\n    }\n\n\n\n    private static TextView tv1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tv1 = findViewById(R.id.txt1);\n\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n\n        Calendar service = null;\n        try {\n            service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                    .setApplicationName(APPLICATION_NAME)\n                    .build();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n\n        Event event = null;\n        try {\n            event = service.events().get(&quot;***CalendarID&quot;, &quot;***EventID&quot;).execute();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        tv1.setText(event.getSummary().toString());\n    }\n}\n</code></pre>\n<p>only a text view tv1 in my activity_main.xml just shows the event summary.</p>\n<p>when I run it, then I got a lot of errors.</p>\n<p>Can anybody tell me how to use google calendar API in android? it bothers me so many days.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"score":0,"creation_date":1545025895,"post_id":53809601,"comment_id":94467455,"body_markdown":"These are the signs, my mistake.","body":"These are the signs, my mistake."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1545026128,"post_id":53809601,"comment_id":94467532,"body_markdown":"do you have a backup copy?","body":"do you have a backup copy?"},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1545026228,"post_id":53809601,"comment_id":94467558,"body_markdown":"No I don&#39;t have backup of it","body":"No I don&#39;t have backup of it"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1545026365,"post_id":53809601,"comment_id":94467593,"body_markdown":"This looks like it might be an encoding problem, unless of course you expect to be seeing Chinese characters in your file.","body":"This looks like it might be an encoding problem, unless of course you expect to be seeing Chinese characters in your file."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1545026510,"post_id":53809601,"comment_id":94467631,"body_markdown":"Is there any way to get it back? @TimBiegeleisen","body":"Is there any way to get it back? @TimBiegeleisen"},{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":1,"creation_date":1545026706,"post_id":53809601,"comment_id":94467695,"body_markdown":"Check if your local history is available for this file or else you&#39;re out of luck.","body":"Check if your local history is available for this file or else you&#39;re out of luck."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1545026770,"post_id":53809601,"comment_id":94467716,"body_markdown":"In case it&#39;s just Android Studio getting confused about the character encoding, try opening the file with a text editor such as Notepad++.","body":"In case it&#39;s just Android Studio getting confused about the character encoding, try opening the file with a text editor such as Notepad++."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1545027544,"post_id":53809601,"comment_id":94467980,"body_markdown":"I have tried it opening using the Notepad++ but the results are same...I am also out of luck","body":"I have tried it opening using the Notepad++ but the results are same...I am also out of luck"}],"answers":[{"tags":[],"owner":{"account_id":11730636,"reputation":747,"user_id":8586250,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1545027952,"creation_date":1545027952,"answer_id":53809920,"question_id":53809601,"body_markdown":"When files show random characters like that it usually means there was an error in the compression or convertion of the file.\r\nFor example, if you take a Word document and open it in Notepad you&#39;ll see something similar to that.\r\nIf you have a backup or another copy I&#39;d recommend trying that version.\r\n","title":"Java File is showing unknown characters","body":"<p>When files show random characters like that it usually means there was an error in the compression or convertion of the file.\nFor example, if you take a Word document and open it in Notepad you'll see something similar to that.\nIf you have a backup or another copy I'd recommend trying that version.</p>\n"},{"tags":[],"owner":{"account_id":11269651,"reputation":3686,"user_id":8265484,"display_name":"Mayur Dabhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545028089,"creation_date":1545028089,"answer_id":53809943,"question_id":53809601,"body_markdown":"first try to Invalid Cashes/Restart Android Studio, if not resolved then try below way\r\n\r\n[click here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53664291/8265484","title":"Java File is showing unknown characters","body":"<p>first try to Invalid Cashes/Restart Android Studio, if not resolved then try below way</p>\n\n<p><a href=\"https://stackoverflow.com/a/53664291/8265484\">click here</a></p>\n"},{"tags":[],"owner":{"account_id":9252385,"reputation":59,"user_id":9077722,"display_name":"Mohamed Amine Sekmani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591247869,"creation_date":1591247869,"answer_id":62187304,"question_id":53809601,"body_markdown":"The simple and the easy way.\r\nGo to your folder location the app&gt;src&gt;main&gt;java&gt;com&gt;\r\nIn general open your folder when you store your project then try to open the file with notepad or open code.\r\nYou will find your code, copy it and delete your old file.java and past it in a new java file have the same name","title":"Java File is showing unknown characters","body":"<p>The simple and the easy way.\nGo to your folder location the app>src>main>java>com>\nIn general open your folder when you store your project then try to open the file with notepad or open code.\nYou will find your code, copy it and delete your old file.java and past it in a new java file have the same name</p>\n"},{"tags":[],"owner":{"account_id":22226150,"reputation":1,"user_id":16463076,"display_name":"Hesam Alipour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640776480,"creation_date":1640776480,"answer_id":70518634,"question_id":53809601,"body_markdown":"first: create a backup of your project.\r\nthan: \r\nyou should delete android studio catch\r\nfor this --&gt; open  C:\\Users\\plusg\\AndroidStudio&lt;versin of your android studio&gt;\r\n\r\nfor me : --&gt; C:\\Users\\plusg\\AppData\\Local\\Google\\AndroidStudio2020.3\r\n\r\nand just delete android studio catch. this folder not important just save android studio theme,font and etc.\r\n\r\nnow open your project again.","title":"Java File is showing unknown characters","body":"<p>first: create a backup of your project.\nthan:\nyou should delete android studio catch\nfor this --&gt; open  C:\\Users\\plusg\\AndroidStudio</p>\n<p>for me : --&gt; C:\\Users\\plusg\\AppData\\Local\\Google\\AndroidStudio2020.3</p>\n<p>and just delete android studio catch. this folder not important just save android studio theme,font and etc.</p>\n<p>now open your project again.</p>\n"}],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":870,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":53809920,"answer_count":4,"score":-1,"last_activity_date":1640776480,"creation_date":1545025799,"question_id":53809601,"body_markdown":"I am working on an app, But recently one of my Java file showing some unknown characters I also tried changing the encoding of a file but it not working, Is there any way that I can help me to get the file back?\r\n \r\nscreenshot of the problem I am facing now ...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nexpect that one file remaining all files are fine \r\n\r\n    Error Report\r\n    \r\n    error: class, interface, or enum expected\t\r\n    error: illegal character: &#39;\\u2649&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\u16f6&#39;\t\r\n    error: illegal character: &#39;\\u1a5c&#39;\t\r\n    error: illegal character: &#39;\\uec94&#39;\t\r\n    error: illegal character: &#39;\\u202f&#39;\t\r\n    error: illegal character: &#39;\\u0f0c&#39;\t\r\n    error: illegal character: &#39;\\uf85f&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\u2e0a&#39;\t\r\n    error: illegal character: &#39;\\u2976&#39;\t\r\n    error: illegal character: &#39;\\u2b69&#39;\t\r\n    error: illegal character: &#39;\\u33d4&#39;\t\r\n    error: illegal character: &#39;\\u24ed&#39;\t\r\n    error: illegal character: &#39;\\u1ca5&#39;\t\r\n    error: illegal character: &#39;\\u2938&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\ufffd&#39;\t\r\n    error: illegal character: &#39;\\u4de6&#39;\t\r\n\r\nThanks for help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/291oB.png","title":"Java File is showing unknown characters","body":"<p>I am working on an app, But recently one of my Java file showing some unknown characters I also tried changing the encoding of a file but it not working, Is there any way that I can help me to get the file back?</p>\n\n<p>screenshot of the problem I am facing now ...</p>\n\n<p><a href=\"https://i.stack.imgur.com/291oB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/291oB.png\" alt=\"enter image description here\"></a></p>\n\n<p>expect that one file remaining all files are fine </p>\n\n<pre><code>Error Report\n\nerror: class, interface, or enum expected   \nerror: illegal character: '\\u2649'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\u16f6'  \nerror: illegal character: '\\u1a5c'  \nerror: illegal character: '\\uec94'  \nerror: illegal character: '\\u202f'  \nerror: illegal character: '\\u0f0c'  \nerror: illegal character: '\\uf85f'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\u2e0a'  \nerror: illegal character: '\\u2976'  \nerror: illegal character: '\\u2b69'  \nerror: illegal character: '\\u33d4'  \nerror: illegal character: '\\u24ed'  \nerror: illegal character: '\\u1ca5'  \nerror: illegal character: '\\u2938'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\ufffd'  \nerror: illegal character: '\\u4de6'  \n</code></pre>\n\n<p>Thanks for help</p>\n"},{"tags":["java","mysql","jdbc","resultset"],"comments":[{"owner":{"account_id":2894530,"reputation":596,"user_id":2482616,"accept_rate":89,"display_name":"Manoj Sharma"},"score":0,"creation_date":1419248836,"post_id":27602038,"comment_id":43626563,"body_markdown":"make your connection scrollable and reset to first your resultset2 on each iteration.","body":"make your connection scrollable and reset to first your resultset2 on each iteration."},{"owner":{"account_id":4978601,"reputation":1,"user_id":4004260,"display_name":"sharma"},"score":0,"creation_date":1419249021,"post_id":27602038,"comment_id":43626657,"body_markdown":"how can i make my connection scrollable?","body":"how can i make my connection scrollable?"},{"owner":{"account_id":2894530,"reputation":596,"user_id":2482616,"accept_rate":89,"display_name":"Manoj Sharma"},"score":0,"creation_date":1419249265,"post_id":27602038,"comment_id":43626776,"body_markdown":"prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE); and Sybasecon.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE); it allow you to move forward &amp; backward as well as move your cursor to first or last upon resultset function call.","body":"prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE)&zwnj;&#8203;; and Sybasecon.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_IN&zwnj;&#8203;SENSITIVE); it allow you to move forward &amp; backward as well as move your cursor to first or last upon resultset function call."},{"owner":{"account_id":4978601,"reputation":1,"user_id":4004260,"display_name":"sharma"},"score":0,"creation_date":1419249881,"post_id":27602038,"comment_id":43627105,"body_markdown":"I am so sorry but i am not getting your point.","body":"I am so sorry but i am not getting your point."},{"owner":{"account_id":4978601,"reputation":1,"user_id":4004260,"display_name":"sharma"},"score":0,"creation_date":1419249961,"post_id":27602038,"comment_id":43627147,"body_markdown":"can you please tell me in the context of what i have given above in my code. Like:-                                          public void ExecuteSybaseQuery(SQLQuery){\nConnection Sybasecon = SybaseSess.connection();\nPreparedStatement statement = Sybasecon.prepareStatement(SQLQuery);\nMyResulset2= statement.executeQuery();\n} Here in this method where i have to make changes?","body":"can you please tell me in the context of what i have given above in my code. Like:-                                          public void ExecuteSybaseQuery(SQLQuery){ Connection Sybasecon = SybaseSess.connection(); PreparedStatement statement = Sybasecon.prepareStatement(SQLQuery); MyResulset2= statement.executeQuery(); } Here in this method where i have to make changes?"},{"owner":{"account_id":2894530,"reputation":596,"user_id":2482616,"accept_rate":89,"display_name":"Manoj Sharma"},"score":0,"creation_date":1419250192,"post_id":27602038,"comment_id":43627235,"body_markdown":"i have written your code with modification that i want to share with you. Please check. One more thing how would you pass your two result set to merge function ?","body":"i have written your code with modification that i want to share with you. Please check. One more thing how would you pass your two result set to merge function ?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419248732,"creation_date":1419248732,"answer_id":27602078,"question_id":27602038,"body_markdown":"It looks like you are trying to loop through those two result sets with a nested loop. That can&#39;t be done, since after the inner loop finished its first iteration, `MyResultset2` cannot be used anymore.\r\n\r\nI suggest you iterate over the two result sets separately and store their data in some Collections. Then you can iterate over those Collections however you like.","title":"how to merge two different resultsets from two different DBs in java","body":"<p>It looks like you are trying to loop through those two result sets with a nested loop. That can't be done, since after the inner loop finished its first iteration, <code>MyResultset2</code> cannot be used anymore.</p>\n\n<p>I suggest you iterate over the two result sets separately and store their data in some Collections. Then you can iterate over those Collections however you like.</p>\n"},{"tags":[],"owner":{"account_id":2894530,"reputation":596,"user_id":2482616,"accept_rate":89,"display_name":"Manoj Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640776466,"creation_date":1419250073,"answer_id":27602441,"question_id":27602038,"body_markdown":"Ok, i&#39;ll give you your code check it.\r\n\r\n    public void ExecuteDB2Query(SQLQuery){\r\n      Connection DB2con = DB2Sess.connection();\r\n      PreparedStatement statement = DB2con.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE);\r\n      myResulset1 = statement.executeQuery();\r\n    }\r\n\r\n\r\n    public void ExecuteSybaseQuery(SQLQuery){\r\n      Connection Sybasecon = SybaseSess.connection();\r\n      PreparedStatement statement = Sybasecon.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE);\r\n      myResulset2 = statement.executeQuery();\r\n    }\r\n\r\n    public void merge{\r\n      while(myResultset1.next()){\r\n        myResultset2.first();\r\n        while(myResultset2.next()){\r\n          &lt;some code here&gt;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\nmake changes in this code according to your requirement.","title":"how to merge two different resultsets from two different DBs in java","body":"<p>Ok, i'll give you your code check it.</p>\n<pre><code>public void ExecuteDB2Query(SQLQuery){\n  Connection DB2con = DB2Sess.connection();\n  PreparedStatement statement = DB2con.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE);\n  myResulset1 = statement.executeQuery();\n}\n\n\npublic void ExecuteSybaseQuery(SQLQuery){\n  Connection Sybasecon = SybaseSess.connection();\n  PreparedStatement statement = Sybasecon.prepareStatement(SQLQuery,ResultSet.TYPE_SCROLL_INSENSITIVE);\n  myResulset2 = statement.executeQuery();\n}\n\npublic void merge{\n  while(myResultset1.next()){\n    myResultset2.first();\n    while(myResultset2.next()){\n      &lt;some code here&gt;\n    }\n  }\n}\n</code></pre>\n<p>make changes in this code according to your requirement.</p>\n"}],"owner":{"account_id":4978601,"reputation":1,"user_id":4004260,"display_name":"sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640776466,"creation_date":1419248563,"question_id":27602038,"body_markdown":"I have two resultsets, one from DB2 and one from Sybase.\r\nI want to merge these resultsets based on some condition,for which i have made one function which will take two resultsets and merge them.\r\n\r\nBut i am getting SQL exception- **Resultset Closed**\r\n\r\nI am using Connection object and Prepared statement to connect to the respective DB and execute the query.\r\n\r\n    \r\n    public void ExecuteDB2Query(SQLQuery){\r\n    Connection DB2con = DB2Sess.connection();\r\n    PreparedStatement statement = DB2con.prepareStatement(SQLQuery);\r\n    MyResulset1= statement.executeQuery();\r\n    }\r\n\r\nAnother method:\r\n\r\n    public void ExecuteSybaseQuery(SQLQuery){\r\n    Connection Sybasecon = SybaseSess.connection();\r\n    PreparedStatement statement = Sybasecon.prepareStatement(SQLQuery);\r\n    MyResulset2= statement.executeQuery();\r\n    }\r\n\r\nFinal merge method\r\n\r\n    puble void merge{\r\n    while(MyResultset1.next()){\r\n    while(MyResultset2.next()){\r\n    &lt;some code here&gt;\r\n    }\r\n\r\nDo we have any way by which i can loop through these two result sets? without any exception.\r\n","title":"how to merge two different resultsets from two different DBs in java","body":"<p>I have two resultsets, one from DB2 and one from Sybase.\nI want to merge these resultsets based on some condition,for which i have made one function which will take two resultsets and merge them.</p>\n\n<p>But i am getting SQL exception- <strong>Resultset Closed</strong></p>\n\n<p>I am using Connection object and Prepared statement to connect to the respective DB and execute the query.</p>\n\n<pre><code>public void ExecuteDB2Query(SQLQuery){\nConnection DB2con = DB2Sess.connection();\nPreparedStatement statement = DB2con.prepareStatement(SQLQuery);\nMyResulset1= statement.executeQuery();\n}\n</code></pre>\n\n<p>Another method:</p>\n\n<pre><code>public void ExecuteSybaseQuery(SQLQuery){\nConnection Sybasecon = SybaseSess.connection();\nPreparedStatement statement = Sybasecon.prepareStatement(SQLQuery);\nMyResulset2= statement.executeQuery();\n}\n</code></pre>\n\n<p>Final merge method</p>\n\n<pre><code>puble void merge{\nwhile(MyResultset1.next()){\nwhile(MyResultset2.next()){\n&lt;some code here&gt;\n}\n</code></pre>\n\n<p>Do we have any way by which i can loop through these two result sets? without any exception.</p>\n"},{"tags":["java","memory","itext","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1639949448,"post_id":70398661,"comment_id":124472963,"body_markdown":"It’s clear from the stack trace that PdfReader is making a copy of your byte array, effectively doubling (or more likely tripling) the memory usage.  Consider passing something [other than a byte array](https://www.javadoc.io/doc/com.itextpdf/itextpdf/5.5.1/com/itextpdf/text/pdf/PdfReader.html#constructor_summary) to the PdfReader constructor.","body":"It’s clear from the stack trace that PdfReader is making a copy of your byte array, effectively doubling (or more likely tripling) the memory usage.  Consider passing something <a href=\"https://www.javadoc.io/doc/com.itextpdf/itextpdf/5.5.1/com/itextpdf/text/pdf/PdfReader.html#constructor_summary\" rel=\"nofollow noreferrer\">other than a byte array</a> to the PdfReader constructor."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1639990425,"post_id":70398661,"comment_id":124479739,"body_markdown":"Try `-Xmx1500m` and why do you use such a huge code cache size? You can easily half that (or even more). to get  an impression start jconsole and select code cache...","body":"Try <code>-Xmx1500m</code> and why do you use such a huge code cache size? You can easily half that (or even more). to get  an impression start jconsole and select code cache..."},{"owner":{"account_id":1085515,"reputation":1991,"user_id":1081319,"accept_rate":44,"display_name":"Parameswar"},"score":0,"creation_date":1640698985,"post_id":70398661,"comment_id":124636108,"body_markdown":"@Lonzak reducing xmx  worked, thanks lonzak","body":"@Lonzak reducing xmx  worked, thanks lonzak"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1640776183,"post_id":70398661,"comment_id":124655074,"body_markdown":"@Parameswar Ok I added it as an answer so that you can accept it...","body":"@Parameswar Ok I added it as an answer so that you can accept it..."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1640788106,"post_id":70398661,"comment_id":124658896,"body_markdown":"@VGR *&quot;It’s clear from the stack trace that PdfReader is making a copy of your byte array&quot;* - that is not exactly clear. The stack trace talks about a single object stream inside the pdf being decompressed. But indeed, depending on whether or not partial mode is requested in the constructor, the whole file may be parsed into an object model of the pdf.","body":"@VGR <i>&quot;It’s clear from the stack trace that PdfReader is making a copy of your byte array&quot;</i> - that is not exactly clear. The stack trace talks about a single object stream inside the pdf being decompressed. But indeed, depending on whether or not partial mode is requested in the constructor, the whole file may be parsed into an object model of the pdf."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640776159,"creation_date":1640776159,"answer_id":70518575,"question_id":70398661,"body_markdown":"To convert my comment into an answer since the OP said it helped solve the problem:\r\n\r\nIncrease the heap with `-Xmx1500m` (or even to `-Xmx2048m`). \r\n\r\nOne side note: Why do you use such a huge code cache size? You can easily half that `-XX:ReservedCodeCacheSize=512m` (or even more `-XX:ReservedCodeCacheSize=256m`). To get an impression start on what you really need you can use jconsole and select `code cache` section.\r\n","title":"outofmemory exception when using pdfreader itext version 5.5.0","body":"<p>To convert my comment into an answer since the OP said it helped solve the problem:</p>\n<p>Increase the heap with <code>-Xmx1500m</code> (or even to <code>-Xmx2048m</code>).</p>\n<p>One side note: Why do you use such a huge code cache size? You can easily half that <code>-XX:ReservedCodeCacheSize=512m</code> (or even more <code>-XX:ReservedCodeCacheSize=256m</code>). To get an impression start on what you really need you can use jconsole and select <code>code cache</code> section.</p>\n"}],"owner":{"account_id":1085515,"reputation":1991,"user_id":1081319,"accept_rate":44,"display_name":"Parameswar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70518575,"answer_count":1,"score":0,"last_activity_date":1640776159,"creation_date":1639773587,"question_id":70398661,"body_markdown":"Facing a strange issue while reading a pdf using pdfreader.(itext)\r\n\r\n    PdfReader reader = PdfReader(bytearray).\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n&gt; \tat java.util.Arrays.copyOf(Arrays.java:3236) \tat\r\n&gt; java.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118) \tat\r\n&gt; java.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\r\n&gt; \tat\r\n&gt; java.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.FlateDecode(PdfReader.java:2071)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.FlateDecode(PdfReader.java:1926)\r\n&gt; \tat\r\n&gt; com.itextpdf.text.pdf.FilterHandlers$Filter_FLATEDECODE.decode(FilterHandlers.java:108)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.decodeBytes(PdfReader.java:2476)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.decodeBytes(PdfReader.java:2424)\r\n&gt; \tat\r\n&gt; com.itextpdf.text.pdf.PdfReader.getStreamBytes(PdfReader.java:2489)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.readObjStm(PdfReader.java:1430)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.readDocObj(PdfReader.java:1365)\r\n&gt; \tat com.itextpdf.text.pdf.PdfReader.readPdf(PdfReader.java:672) \tat\r\n&gt; com.itextpdf.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:181) \tat\r\n&gt; com.itextpdf.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:250) \tat\r\n&gt; com.itextpdf.text.pdf.PdfReader.&lt;init&gt;(PdfReader.java:240)\r\n\r\npdf is about 20 megabytes. strange thing is, this worked in 2020,in my old pc. i changed my pc few months back. suddenly this error pops up. any thoughts ? i tried this in intellij, no luck.intellij config looks like this. intellij 2019.3.5 community edition\r\n\r\n    &gt; -Xms512m\r\n    &gt; -Xmx820m\r\n    &gt; -XX:ReservedCodeCacheSize=1024m\r\n    &gt; -XX:+UseConcMarkSweepGC\r\n    &gt; -XX:SoftRefLRUPolicyMSPerMB=50\r\n    &gt; -ea\r\n    &gt; -XX:CICompilerCount=2\r\n    &gt; -Dsun.io.useCanonPrefixCache=false\r\n    &gt; -Djava.net.preferIPv4Stack=true\r\n    &gt; -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\n    &gt; -XX:+HeapDumpOnOutOfMemoryError\r\n    &gt; -XX:-OmitStackTraceInFastThrow\r\n    &gt; -Djdk.attach.allowAttachSelf=true\r\n    &gt; -Dkotlinx.coroutines.debug=off\r\n    &gt; -Djdk.module.illegalAccess.silent=true\r\n\r\nany thoughts ? i am using a windows 10, 64 bit system- java 8\r\n","title":"outofmemory exception when using pdfreader itext version 5.5.0","body":"<p>Facing a strange issue while reading a pdf using pdfreader.(itext)</p>\n<pre><code>PdfReader reader = PdfReader(bytearray).\n</code></pre>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.util.Arrays.copyOf(Arrays.java:3236)    at\njava.io.ByteArrayOutputStream.grow(ByteArrayOutputStream.java:118)    at\njava.io.ByteArrayOutputStream.ensureCapacity(ByteArrayOutputStream.java:93)\nat\njava.io.ByteArrayOutputStream.write(ByteArrayOutputStream.java:153)\nat com.itextpdf.text.pdf.PdfReader.FlateDecode(PdfReader.java:2071)\nat com.itextpdf.text.pdf.PdfReader.FlateDecode(PdfReader.java:1926)\nat\ncom.itextpdf.text.pdf.FilterHandlers$Filter_FLATEDECODE.decode(FilterHandlers.java:108)\nat com.itextpdf.text.pdf.PdfReader.decodeBytes(PdfReader.java:2476)\nat com.itextpdf.text.pdf.PdfReader.decodeBytes(PdfReader.java:2424)\nat\ncom.itextpdf.text.pdf.PdfReader.getStreamBytes(PdfReader.java:2489)\nat com.itextpdf.text.pdf.PdfReader.readObjStm(PdfReader.java:1430)\nat com.itextpdf.text.pdf.PdfReader.readDocObj(PdfReader.java:1365)\nat com.itextpdf.text.pdf.PdfReader.readPdf(PdfReader.java:672)  at\ncom.itextpdf.text.pdf.PdfReader.(PdfReader.java:181)    at\ncom.itextpdf.text.pdf.PdfReader.(PdfReader.java:250)    at\ncom.itextpdf.text.pdf.PdfReader.(PdfReader.java:240)</p>\n</blockquote>\n<p>pdf is about 20 megabytes. strange thing is, this worked in 2020,in my old pc. i changed my pc few months back. suddenly this error pops up. any thoughts ? i tried this in intellij, no luck.intellij config looks like this. intellij 2019.3.5 community edition</p>\n<pre><code>&gt; -Xms512m\n&gt; -Xmx820m\n&gt; -XX:ReservedCodeCacheSize=1024m\n&gt; -XX:+UseConcMarkSweepGC\n&gt; -XX:SoftRefLRUPolicyMSPerMB=50\n&gt; -ea\n&gt; -XX:CICompilerCount=2\n&gt; -Dsun.io.useCanonPrefixCache=false\n&gt; -Djava.net.preferIPv4Stack=true\n&gt; -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\n&gt; -XX:+HeapDumpOnOutOfMemoryError\n&gt; -XX:-OmitStackTraceInFastThrow\n&gt; -Djdk.attach.allowAttachSelf=true\n&gt; -Dkotlinx.coroutines.debug=off\n&gt; -Djdk.module.illegalAccess.silent=true\n</code></pre>\n<p>any thoughts ? i am using a windows 10, 64 bit system- java 8</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1640775997,"post_id":70518480,"comment_id":124655022,"body_markdown":"Note that the ternary operator is **not** meant as a replacement for any if-else statement. If you do not care about the return values of the remove and merge calls, then using the ternary operator isn&#39;t the right way to go.","body":"Note that the ternary operator is <b>not</b> meant as a replacement for any if-else statement. If you do not care about the return values of the remove and merge calls, then using the ternary operator isn&#39;t the right way to go."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1640776780,"post_id":70518480,"comment_id":124655258,"body_markdown":"Very related: [Java Ternary without Assignment](https://stackoverflow.com/questions/15977031/java-ternary-without-assignment)","body":"Very related: <a href=\"https://stackoverflow.com/questions/15977031/java-ternary-without-assignment\">Java Ternary without Assignment</a>"},{"owner":{"account_id":7860255,"reputation":153,"user_id":6578964,"display_name":"Blue_Elephant"},"score":0,"creation_date":1640777043,"post_id":70518480,"comment_id":124655342,"body_markdown":"@Ivar this is actually what I was looking for, thanks.","body":"@Ivar this is actually what I was looking for, thanks."},{"owner":{"account_id":7860255,"reputation":153,"user_id":6578964,"display_name":"Blue_Elephant"},"score":0,"creation_date":1640777591,"post_id":70518480,"comment_id":124655487,"body_markdown":"@tgdavies the question you are linking is about avoiding assignment in a Ternary expression in Java. This question is indirectly asking if and why do we need them.","body":"@tgdavies the question you are linking is about avoiding assignment in a Ternary expression in Java. This question is indirectly asking if and why do we need them."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1640778379,"post_id":70518480,"comment_id":124655717,"body_markdown":"Incidentally I think you can do what you want like this: `m.compute(number, (k, v) -&gt; v == null || v == 1 ? null : v - 1);`","body":"Incidentally I think you can do what you want like this: <code>m.compute(number, (k, v) -&gt; v == null || v == 1 ? null : v - 1);</code>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1640779273,"post_id":70518480,"comment_id":124655976,"body_markdown":"@Blue_Elephant &quot;This question is indirectly asking if and why do we need them&quot; &lt;- Because that&#39;s what the ternary operator was intended and invented for. A short syntax to assign a value depending on a condition.","body":"@Blue_Elephant &quot;This question is indirectly asking if and why do we need them&quot; &lt;- Because that&#39;s what the ternary operator was intended and invented for. A short syntax to assign a value depending on a condition."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640775884,"creation_date":1640775884,"answer_id":70518520,"question_id":70518480,"body_markdown":"You have to assign the value of the ternary operator to some variable:\r\n\r\n    Integer value =\r\n        hashMap.get(number) == 1   ?\r\n        hashMap.remove(number) :\r\n        hashMap.merge(number, 1, Math::subtractExact);","title":"Ternary operation on a hashMap forbidden by &#39;Not a statement&#39;","body":"<p>You have to assign the value of the ternary operator to some variable:</p>\n<pre><code>Integer value =\n    hashMap.get(number) == 1   ?\n    hashMap.remove(number) :\n    hashMap.merge(number, 1, Math::subtractExact);\n</code></pre>\n"}],"owner":{"account_id":7860255,"reputation":153,"user_id":6578964,"display_name":"Blue_Elephant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1640786126,"accepted_answer_id":70518520,"answer_count":1,"score":0,"last_activity_date":1640775884,"creation_date":1640775609,"question_id":70518480,"body_markdown":"I am trying to make a simple ternary operation on a hash map:\r\n\r\n       hashMap.get(number) == 1   ?\r\n           hashMap.remove(number) :\r\n           hashMap.merge(number, 1, Math::subtractExact);\r\n\r\nI am getting a &#39;Not a statement&#39; error from my IDE. What I don&#39;t understand is where this is coming from: both calls to ``` remove ```  and ``` merge ``` sound like statements to me.","title":"Ternary operation on a hashMap forbidden by &#39;Not a statement&#39;","body":"<p>I am trying to make a simple ternary operation on a hash map:</p>\n<pre><code>   hashMap.get(number) == 1   ?\n       hashMap.remove(number) :\n       hashMap.merge(number, 1, Math::subtractExact);\n</code></pre>\n<p>I am getting a 'Not a statement' error from my IDE. What I don't understand is where this is coming from: both calls to <code>remove</code>  and <code>merge</code> sound like statements to me.</p>\n"},{"tags":["java","json","moshi"],"answers":[{"tags":[],"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640775871,"creation_date":1640775871,"answer_id":70518515,"question_id":70518061,"body_markdown":"With Moshi, it’s particularly easy to customize how values are converted to and from JSON. A type adapter is any class that has methods annotated @ToJson and @FromJson. [more][1]\r\n\r\n\r\n\r\n    class CardAdapter {\r\n      @ToJson String toJson(Card card) {\r\n        return card.rank + card.suit.name().substring(0, 1);\r\n      }\r\n\r\n     @FromJson Card fromJson(String card) {\r\n        if (card.length() != 2) throw new JsonDataException(&quot;Unknown card: &quot; + card);\r\n\r\n      char rank = card.charAt(0);\r\n      switch (card.charAt(1)) {\r\n        case &#39;C&#39;: return new Card(rank, Suit.CLUBS);\r\n        case &#39;D&#39;: return new Card(rank, Suit.DIAMONDS);\r\n        case &#39;H&#39;: return new Card(rank, Suit.HEARTS);\r\n        case &#39;S&#39;: return new Card(rank, Suit.SPADES);\r\n        default: throw new JsonDataException(&quot;unknown suit: &quot; + card);\r\n      }\r\n    }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/square/moshi#custom-type-adapters","title":"Custom attributes with Moshi Json Parser","body":"<p>With Moshi, it’s particularly easy to customize how values are converted to and from JSON. A type adapter is any class that has methods annotated @ToJson and @FromJson. <a href=\"https://github.com/square/moshi#custom-type-adapters\" rel=\"nofollow noreferrer\">more</a></p>\n<pre><code>class CardAdapter {\n  @ToJson String toJson(Card card) {\n    return card.rank + card.suit.name().substring(0, 1);\n  }\n\n @FromJson Card fromJson(String card) {\n    if (card.length() != 2) throw new JsonDataException(&quot;Unknown card: &quot; + card);\n\n  char rank = card.charAt(0);\n  switch (card.charAt(1)) {\n    case 'C': return new Card(rank, Suit.CLUBS);\n    case 'D': return new Card(rank, Suit.DIAMONDS);\n    case 'H': return new Card(rank, Suit.HEARTS);\n    case 'S': return new Card(rank, Suit.SPADES);\n    default: throw new JsonDataException(&quot;unknown suit: &quot; + card);\n  }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":13814491,"reputation":19,"user_id":9971405,"display_name":"Kamil S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640775871,"creation_date":1640773252,"question_id":70518061,"body_markdown":"What is Jackson&#39;s `@JsonAnySetter` and `@JsonAnyGetter` equivalent for Moshi?\r\nIs there any way to handle custom attributes in Moshi ?","title":"Custom attributes with Moshi Json Parser","body":"<p>What is Jackson's <code>@JsonAnySetter</code> and <code>@JsonAnyGetter</code> equivalent for Moshi?\nIs there any way to handle custom attributes in Moshi ?</p>\n"},{"tags":["java","spring","swagger-ui","openapi","openapi-generator"],"comments":[{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1640606012,"post_id":70494612,"comment_id":124613908,"body_markdown":"In *From controller source code* do you mean that you have other swagger annotations on controller class? If you use the Gradle plugin, you only have to implement generated interfaces. If in the controller class, which implements API interface, you have your own annotations, generated doc could be overridden.","body":"In <i>From controller source code</i> do you mean that you have other swagger annotations on controller class? If you use the Gradle plugin, you only have to implement generated interfaces. If in the controller class, which implements API interface, you have your own annotations, generated doc could be overridden."},{"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"score":0,"creation_date":1640606515,"post_id":70494612,"comment_id":124614055,"body_markdown":"No, I have removed all annotations from controller classes, but looks like it still generates from there, because there&#39;s no any description","body":"No, I have removed all annotations from controller classes, but looks like it still generates from there, because there&#39;s no any description"},{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1640606591,"post_id":70494612,"comment_id":124614075,"body_markdown":"Could you add your generated API interface and constructor class code to your question?","body":"Could you add your generated API interface and constructor class code to your question?"},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1640618721,"post_id":70494612,"comment_id":124617742,"body_markdown":"You&#39;ll have to serve Swagger UI [`dist` assets](https://github.com/swagger-api/swagger-ui/tree/master/dist) manually and point `index.html` to your `api.yml` file. That said, the actual issue seems to be that the openapi-generator doesn&#39;t add some info from your OpenAPI definition to the generated controllers. I suggest you open an issue at https://github.com/OpenAPITools/openapi-generator/issues","body":"You&#39;ll have to serve Swagger UI <a href=\"https://github.com/swagger-api/swagger-ui/tree/master/dist\" rel=\"nofollow noreferrer\"><code>dist</code> assets</a> manually and point <code>index.html</code> to your <code>api.yml</code> file. That said, the actual issue seems to be that the openapi-generator doesn&#39;t add some info from your OpenAPI definition to the generated controllers. I suggest you open an issue at <a href=\"https://github.com/OpenAPITools/openapi-generator/issues\" rel=\"nofollow noreferrer\">github.com/OpenAPITools/openapi-generator/issues</a>"}],"answers":[{"tags":[],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640775734,"creation_date":1640775734,"answer_id":70518492,"question_id":70494612,"body_markdown":"The correct way is not to expect swagger from implemented interfaces, but build it from `api.yml` file. This config in `application.yml` helped me:\r\n\r\n    springdoc:\r\n      api-docs:\r\n        enabled: false\r\n        path: /api-docs\r\n      swagger-ui:\r\n        disable-swagger-default-url: true\r\n        url: /api.yml\r\n        path: /api-docs\r\nNow swagger available at `localhost:8080/api-docs`","title":"Build swagger-ui from open-api.yml","body":"<p>The correct way is not to expect swagger from implemented interfaces, but build it from <code>api.yml</code> file. This config in <code>application.yml</code> helped me:</p>\n<pre><code>springdoc:\n  api-docs:\n    enabled: false\n    path: /api-docs\n  swagger-ui:\n    disable-swagger-default-url: true\n    url: /api.yml\n    path: /api-docs\n</code></pre>\n<p>Now swagger available at <code>localhost:8080/api-docs</code></p>\n"}],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70518492,"answer_count":1,"score":0,"last_activity_date":1640775734,"creation_date":1640602935,"question_id":70494612,"body_markdown":"I&#39;m trying to generate interfaces from Open-API specification and I have a Gradle plugin:\r\n```\r\nimplementation(\r\n    &quot;org.springdoc:springdoc-openapi-ui:1.5.12&quot;,\r\n    &quot;org.openapitools:openapi-generator-gradle-plugin:5.3.0&quot;\r\n)\r\n\r\ndef apiFile = &quot;$rootDir/src/main/resources/openapi/api.yml&quot;\r\n\r\ntask buildOpenApi(type: GenerateTask) {\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = apiFile\r\n    outputDir = &quot;$buildDir/generated&quot;\r\n    groupId = &quot;$project.group&quot;\r\n    id = &quot;$project.name-java-client&quot;\r\n    version = &quot;$project.version&quot;\r\n    apiPackage = &quot;com.example.my.api&quot;\r\n    modelPackage = &quot;com.example.my.model&quot;\r\n    configOptions = [\r\n            interfaceOnly: &quot;true&quot;,\r\n            openApiNullable: &quot;false&quot;,\r\n            skipDefaultInterface: &quot;true&quot;\r\n    ]\r\n    globalProperties = [\r\n            apis: &quot;&quot;,\r\n            models: &quot;&quot;\r\n    ]\r\n    enablePostProcessFile = true\r\n    skipOverwrite = false\r\n}\r\n\r\ncompileJava.dependsOn(buildOpenApi)\r\nsourceSets.main.java.srcDirs = [&#39;build/generated/src&#39;,&#39;src/main/java&#39;]\r\n```\r\nAnd have an `api.yml` file that is located in `src/main/resources/openapi/api.yml`. When I run `./gradlew clean compileJava`, it generates me correct interfaces to the build directory, so I can implement them. But when I launch my application and go to `http://localhost:8080/swagger-ui.html` I see swagger automatically generated from my controller classes, but not from `api.yml` file - I mean, it doesn&#39;t have any descriptions, examples and so on\r\n\r\nHow to make swagger built from my api.yml file, not from controller source code?","title":"Build swagger-ui from open-api.yml","body":"<p>I'm trying to generate interfaces from Open-API specification and I have a Gradle plugin:</p>\n<pre><code>implementation(\n    &quot;org.springdoc:springdoc-openapi-ui:1.5.12&quot;,\n    &quot;org.openapitools:openapi-generator-gradle-plugin:5.3.0&quot;\n)\n\ndef apiFile = &quot;$rootDir/src/main/resources/openapi/api.yml&quot;\n\ntask buildOpenApi(type: GenerateTask) {\n    generatorName = &quot;spring&quot;\n    inputSpec = apiFile\n    outputDir = &quot;$buildDir/generated&quot;\n    groupId = &quot;$project.group&quot;\n    id = &quot;$project.name-java-client&quot;\n    version = &quot;$project.version&quot;\n    apiPackage = &quot;com.example.my.api&quot;\n    modelPackage = &quot;com.example.my.model&quot;\n    configOptions = [\n            interfaceOnly: &quot;true&quot;,\n            openApiNullable: &quot;false&quot;,\n            skipDefaultInterface: &quot;true&quot;\n    ]\n    globalProperties = [\n            apis: &quot;&quot;,\n            models: &quot;&quot;\n    ]\n    enablePostProcessFile = true\n    skipOverwrite = false\n}\n\ncompileJava.dependsOn(buildOpenApi)\nsourceSets.main.java.srcDirs = ['build/generated/src','src/main/java']\n</code></pre>\n<p>And have an <code>api.yml</code> file that is located in <code>src/main/resources/openapi/api.yml</code>. When I run <code>./gradlew clean compileJava</code>, it generates me correct interfaces to the build directory, so I can implement them. But when I launch my application and go to <code>http://localhost:8080/swagger-ui.html</code> I see swagger automatically generated from my controller classes, but not from <code>api.yml</code> file - I mean, it doesn't have any descriptions, examples and so on</p>\n<p>How to make swagger built from my api.yml file, not from controller source code?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19455899,"reputation":4325,"user_id":14231239,"display_name":"dm_tr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640775086,"creation_date":1640775086,"answer_id":70518385,"question_id":70518172,"body_markdown":"First of all, to avoid your `cars table` being re-created each time you run the app, you must specify in your `application.properties` file this line  \r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nAlso, update your question with your stacktrace (error details) when getting the `HTTP 500`","title":"How to receive all the records from MSSQL in Spring Boot?","body":"<p>First of all, to avoid your <code>cars table</code> being re-created each time you run the app, you must specify in your <code>application.properties</code> file this line</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Also, update your question with your stacktrace (error details) when getting the <code>HTTP 500</code></p>\n"}],"owner":{"account_id":21740561,"reputation":285,"user_id":16047994,"display_name":"mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640775086,"creation_date":1640773913,"question_id":70518172,"body_markdown":"**I have a Car Model:**\r\n\r\n    package com.example.demo.models;\r\n    \r\n    ...\r\n    \r\n    @Entity\r\n    @Table(name = &quot;cars&quot;)\r\n    public class Car {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @Column(name = &quot;description&quot;)\r\n        private String description;\r\n    \r\n        public Car(String title, String description) {\r\n            this.title = title;\r\n            this.description = description;\r\n        }\r\n    }\r\n\r\n**I have a Car Repository:**\r\n\r\n    package com.example.demo.repositories;\r\n    \r\n    ...\r\n    \r\n    public interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\r\n        List&lt;Car&gt; findByTitle(String title);\r\n    }\r\n\r\n**And I have a Controller:**\r\n\r\n    package com.example.demo.controllers;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    ...\r\n    import com.example.demo.models.Car;\r\n    import com.example.demo.repositories.CarRepository;\r\n    \r\n    @CrossOrigin(origins = &quot;http://localhost:8081&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MainController {\r\n    \r\n    \t@Autowired\r\n    \tCarRepository carRepository;\r\n    \r\n    \t@GetMapping(&quot;/cars&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars() {\r\n    \t\ttry {\r\n    \t\t\tList&lt;Car&gt; cars = new ArrayList&lt;Car&gt;();\r\n    \r\n    \t\t\tcarRepository.findAll().forEach(cars::add);\r\n    \r\n    \t\t\tif (cars.isEmpty()) {\r\n    \t\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn new ResponseEntity&lt;&gt;(cars, HttpStatus.OK);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhen I accomplish **./mvnw spring-boot:run** my application starts and I can see its working at http://localhost:8080/api/cars (app returns 204 status and that&#39;s it).\r\n\r\nSince that I go to Azure Data Studio, add a record into Cars DB table and get 500 Server Error.\r\n\r\n**Because I&#39;m doing it at the first time, there are triple things, which I&#39;m concerned of:**\r\n\r\n1. How can I deep into the reason of 500 error (I don&#39;t now how to debug Spring app).\r\n2. Am I on the right track of getting all the records from cars table? \r\n3. What should I do to cars table wasn&#39;t be cleared every time then app starts?\r\n\r\n","title":"How to receive all the records from MSSQL in Spring Boot?","body":"<p><strong>I have a Car Model:</strong></p>\n<pre><code>package com.example.demo.models;\n\n...\n\n@Entity\n@Table(name = &quot;cars&quot;)\npublic class Car {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    public Car(String title, String description) {\n        this.title = title;\n        this.description = description;\n    }\n}\n</code></pre>\n<p><strong>I have a Car Repository:</strong></p>\n<pre><code>package com.example.demo.repositories;\n\n...\n\npublic interface CarRepository extends JpaRepository&lt;Car, Long&gt; {\n    List&lt;Car&gt; findByTitle(String title);\n}\n</code></pre>\n<p><strong>And I have a Controller:</strong></p>\n<pre><code>package com.example.demo.controllers;\n\nimport java.util.ArrayList;\nimport java.util.List;\n...\nimport com.example.demo.models.Car;\nimport com.example.demo.repositories.CarRepository;\n\n@CrossOrigin(origins = &quot;http://localhost:8081&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MainController {\n\n    @Autowired\n    CarRepository carRepository;\n\n    @GetMapping(&quot;/cars&quot;)\n    public ResponseEntity&lt;List&lt;Car&gt;&gt; getAllCars() {\n        try {\n            List&lt;Car&gt; cars = new ArrayList&lt;Car&gt;();\n\n            carRepository.findAll().forEach(cars::add);\n\n            if (cars.isEmpty()) {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }\n\n            return new ResponseEntity&lt;&gt;(cars, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>When I accomplish <strong>./mvnw spring-boot:run</strong> my application starts and I can see its working at http://localhost:8080/api/cars (app returns 204 status and that's it).</p>\n<p>Since that I go to Azure Data Studio, add a record into Cars DB table and get 500 Server Error.</p>\n<p><strong>Because I'm doing it at the first time, there are triple things, which I'm concerned of:</strong></p>\n<ol>\n<li>How can I deep into the reason of 500 error (I don't now how to debug Spring app).</li>\n<li>Am I on the right track of getting all the records from cars table?</li>\n<li>What should I do to cars table wasn't be cleared every time then app starts?</li>\n</ol>\n"},{"tags":["java","log4j2","java-ee-8"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1639563889,"post_id":70361987,"comment_id":124378685,"body_markdown":"As far as I know, the vulnerability does not affect log4J version 1.x.","body":"As far as I know, the vulnerability does not affect log4J version 1.x."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1639564031,"post_id":70361987,"comment_id":124378745,"body_markdown":"Does this answer your question? [Migration from log4j 1.x to log4j2](https://stackoverflow.com/questions/18593430/migration-from-log4j-1-x-to-log4j2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18593430/migration-from-log4j-1-x-to-log4j2\">Migration from log4j 1.x to log4j2</a>"},{"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"score":0,"creation_date":1639564271,"post_id":70361987,"comment_id":124378845,"body_markdown":"@RealSkeptic I am not sure, but company policy requires every project using Log4j should upgrade to latest version.","body":"@RealSkeptic I am not sure, but company policy requires every project using Log4j should upgrade to latest version."},{"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"score":0,"creation_date":1639564342,"post_id":70361987,"comment_id":124378870,"body_markdown":"@matt Thanks for sharing but ut didn&#39;t help. I have made all necessary changes as required by the doc, added my log4j2.xml file but still having the error","body":"@matt Thanks for sharing but ut didn&#39;t help. I have made all necessary changes as required by the doc, added my log4j2.xml file but still having the error"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1639564500,"post_id":70361987,"comment_id":124378929,"body_markdown":"Well, you can ask permission from your boss to upgrade the project later, given that it is not really vulnerable, making your problem less urgent and allowing you to do some better research into how version 2 works.","body":"Well, you can ask permission from your boss to upgrade the project later, given that it is not really vulnerable, making your problem less urgent and allowing you to do some better research into how version 2 works."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1639565115,"post_id":70361987,"comment_id":124379146,"body_markdown":"Is that the full error you&#39;re getting, including line numbers? What about your logging config file? When you say things like &quot; I have made all necessary changes as required by the doc&quot; it is good to enumerate what you&#39;ve done. (if possible)","body":"Is that the full error you&#39;re getting, including line numbers? What about your logging config file? When you say things like &quot; I have made all necessary changes as required by the doc&quot; it is good to enumerate what you&#39;ve done. (if possible)"},{"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"score":0,"creation_date":1639566280,"post_id":70361987,"comment_id":124379573,"body_markdown":"@matt I have edited the question and added the log4j2 XML file I am using. No other change was done except what I shared in the question.\n\n- I changed the dependency to log4j2 as shared in the pom.\n- I added the log4j2.xml config to the resources folder removing the previous log4j.properties file.\n- I made changes to my code to initialize the LogManager as shared in the question.","body":"@matt I have edited the question and added the log4j2 XML file I am using. No other change was done except what I shared in the question.  - I changed the dependency to log4j2 as shared in the pom. - I added the log4j2.xml config to the resources folder removing the previous log4j.properties file. - I made changes to my code to initialize the LogManager as shared in the question."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1639566607,"post_id":70361987,"comment_id":124379685,"body_markdown":"Can you have maven re-import? Is it possible that maven couldn&#39;t download all of the log4j2 artifacts?","body":"Can you have maven re-import? Is it possible that maven couldn&#39;t download all of the log4j2 artifacts?"},{"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"score":0,"creation_date":1639566888,"post_id":70361987,"comment_id":124379790,"body_markdown":"I thought about that. I went into my .m2 folder and deleted the apache folder. Re-build my application and still the same error. @matt","body":"I thought about that. I went into my .m2 folder and deleted the apache folder. Re-build my application and still the same error. @matt"}],"answers":[{"tags":[],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639578291,"creation_date":1639578291,"answer_id":70365358,"question_id":70361987,"body_markdown":"I found out that WildFly (WidlFly version 24) logging is conflicting with the app when trying to deploy.\r\n\r\n**SOLUTION:**\r\nI created a `jboss-deployment-structure.xml` in my `/resources/webapp/WEB-INF/` and included the below\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;deployment&gt;\r\n\r\n        &lt;exclude-subsystems&gt;\r\n            &lt;subsystem name=&quot;logging&quot;/&gt;\r\n        &lt;/exclude-subsystems&gt;\r\n\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```","title":"Could not initialize class org.apache.logging.log4j.core.LoggerContex","body":"<p>I found out that WildFly (WidlFly version 24) logging is conflicting with the app when trying to deploy.</p>\n<p><strong>SOLUTION:</strong>\nI created a <code>jboss-deployment-structure.xml</code> in my <code>/resources/webapp/WEB-INF/</code> and included the below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:1.2&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;deployment&gt;\n\n        &lt;exclude-subsystems&gt;\n            &lt;subsystem name=&quot;logging&quot;/&gt;\n        &lt;/exclude-subsystems&gt;\n\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67775,"reputation":5571,"user_id":198123,"accept_rate":100,"display_name":"Chris Harrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639737666,"creation_date":1639737666,"answer_id":70391903,"question_id":70361987,"body_markdown":"I encountered this error when I upgraded the log4j-core dependency (because earlier versions had a vulnerability) but I forgot to upgrade the log4j-api dependency. Upgrading both to the latest (at time of writing 2.16.0) fixed it for me.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.16.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Could not initialize class org.apache.logging.log4j.core.LoggerContex","body":"<p>I encountered this error when I upgraded the log4j-core dependency (because earlier versions had a vulnerability) but I forgot to upgrade the log4j-api dependency. Upgrading both to the latest (at time of writing 2.16.0) fixed it for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.16.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597459,"reputation":949,"user_id":3729081,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640774888,"creation_date":1640774888,"answer_id":70518347,"question_id":70361987,"body_markdown":"We faced this similar issue and found out that two of our project&#39;s dependencies were also transitively using log4j-core and log4j-api jars of different/same versions.\r\n\r\nSo at the run time there could have been a chance of conflict of multiple LoggerContext due to which we saw this error.\r\n\r\nWe removed the error by excluding that dependency as it was not necessary.And it worked fine for us.\r\n\r\nAlthough we could also exclude directly log4j from the dependency to solve the issue like below.\r\n\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;GroupId&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ArtifactId&lt;/artifactId&gt;\r\n            &lt;version&gt;version&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n                     &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n       &lt;/dependency&gt;          ","title":"Could not initialize class org.apache.logging.log4j.core.LoggerContex","body":"<p>We faced this similar issue and found out that two of our project's dependencies were also transitively using log4j-core and log4j-api jars of different/same versions.</p>\n<p>So at the run time there could have been a chance of conflict of multiple LoggerContext due to which we saw this error.</p>\n<p>We removed the error by excluding that dependency as it was not necessary.And it worked fine for us.</p>\n<p>Although we could also exclude directly log4j from the dependency to solve the issue like below.</p>\n<pre><code>       &lt;dependency&gt;\n        &lt;groupId&gt;GroupId&lt;/groupId&gt;\n        &lt;artifactId&gt;ArtifactId&lt;/artifactId&gt;\n        &lt;version&gt;version&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                 &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                 &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                 &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                 &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n   &lt;/dependency&gt;          \n</code></pre>\n"}],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16847,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1640774888,"creation_date":1639563660,"question_id":70361987,"body_markdown":"Due to the recent vulnerability found on Log4j, We were tasked to move to version &gt;= 2.16.0. Initially, my project was using `&lt;version&gt;1.2.17&lt;/version&gt;`\r\n\r\nAfter adding the necessary dependency, and making the necessary changes, on initiating a request I get the below error:\r\n\r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.LoggerContext\r\n\r\n\r\nMy POM file\r\n```xml\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.13&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20190722&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.47&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.2.Final&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!-- Tests Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.13&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand my code and Log4J2 initialization\r\n\r\n```java\r\n@Stateless\r\npublic class SessionKeyService {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(SessionKeyService.class);\r\n\r\n    public String getSessionKeyID() {\r\n        try {\r\n            String url = properties.getProperty(Global.ENDPOINT_URL);\r\n\r\n            ........\r\n\r\n            SessionKey sessionKey = new SessionKey();\r\n            sessionKey.setStatus(tokenObj.optString(&quot;Status&quot;));\r\n            sessionKey.setMessage(tokenObj.optString(&quot;Message&quot;));\r\n            sessionKey.setKey(tokenObj.optString(&quot;SessionKey&quot;));\r\n\r\n            return sessionKey.getKey();\r\n\r\n        } catch (Exception ex) {\r\n            LOGGER.error(&quot;Error: &quot;+ex);\r\n        }\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\nLog4j2 XML file\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;info&quot; name=&quot;AppName&quot; packages=&quot;&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %m%n&quot;/&gt;\r\n        &lt;/Console&gt;\r\n        &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;/opt/log/app-name.log&quot;\r\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %m%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;TimeBasedTriggeringPolicy /&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n&lt;!--            &lt;AppenderRef ref=&quot;syslogAppender&quot; /&gt;--&gt;\r\n            &lt;AppenderRef ref=&quot;LogToRollingFile&quot;/&gt;\r\n            &lt;AppenderRef ref=&quot;LogToConsole&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\nPlease, I don&#39;t know where the LoggerContext is coming up.","title":"Could not initialize class org.apache.logging.log4j.core.LoggerContex","body":"<p>Due to the recent vulnerability found on Log4j, We were tasked to move to version &gt;= 2.16.0. Initially, my project was using <code>&lt;version&gt;1.2.17&lt;/version&gt;</code></p>\n<p>After adding the necessary dependency, and making the necessary changes, on initiating a request I get the below error:</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.LoggerContext</p>\n</blockquote>\n<p>My POM file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.16.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;4.4.13&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20190722&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.47&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;2.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n            &lt;version&gt;5.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;6.0.2.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n            &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n            &lt;artifactId&gt;velocity-tools&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;!-- Tests Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.5.13&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.microprofile&lt;/groupId&gt;\n            &lt;artifactId&gt;microprofile&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and my code and Log4J2 initialization</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Stateless\npublic class SessionKeyService {\n\n    private static final Logger LOGGER = LogManager.getLogger(SessionKeyService.class);\n\n    public String getSessionKeyID() {\n        try {\n            String url = properties.getProperty(Global.ENDPOINT_URL);\n\n            ........\n\n            SessionKey sessionKey = new SessionKey();\n            sessionKey.setStatus(tokenObj.optString(&quot;Status&quot;));\n            sessionKey.setMessage(tokenObj.optString(&quot;Message&quot;));\n            sessionKey.setKey(tokenObj.optString(&quot;SessionKey&quot;));\n\n            return sessionKey.getKey();\n\n        } catch (Exception ex) {\n            LOGGER.error(&quot;Error: &quot;+ex);\n        }\n\n        return null;\n    }\n</code></pre>\n<p>Log4j2 XML file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;info&quot; name=&quot;AppName&quot; packages=&quot;&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;LogToConsole&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %m%n&quot;/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=&quot;LogToRollingFile&quot; fileName=&quot;/opt/log/app-name.log&quot;\n                     filePattern=&quot;logs/$${date:yyyy-MM}/app-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %m%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n&lt;!--            &lt;AppenderRef ref=&quot;syslogAppender&quot; /&gt;--&gt;\n            &lt;AppenderRef ref=&quot;LogToRollingFile&quot;/&gt;\n            &lt;AppenderRef ref=&quot;LogToConsole&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>Please, I don't know where the LoggerContext is coming up.</p>\n"},{"tags":["java","eclipse","log4j"],"answers":[{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1415035923,"creation_date":1415035923,"answer_id":26719658,"question_id":26717078,"body_markdown":"According to [*Configuring Log4j 2 - Apache Log4j 2*][1]\r\n\r\n&gt; Log4j will inspect the &quot;**`log4j.configurationFile`**&quot; system property\r\n\r\nSo, you need to change to:\r\n\r\n    -Dlog4j.configurationFile=loggerconfig-dev.xml\r\n\r\nSee also:\r\n\r\n- [System Properties - Configuring Log4j 2 - Apache Log4j 2][2]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/manual/configuration.html\r\n  [2]: http://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties","title":"Can&#39;t find the log4j2 configuration file","body":"<p>According to <a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html\" rel=\"nofollow\"><em>Configuring Log4j 2 - Apache Log4j 2</em></a></p>\n\n<blockquote>\n  <p>Log4j will inspect the \"<strong><code>log4j.configurationFile</code></strong>\" system property</p>\n</blockquote>\n\n<p>So, you need to change to:</p>\n\n<pre><code>-Dlog4j.configurationFile=loggerconfig-dev.xml\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties\" rel=\"nofollow\">System Properties - Configuring Log4j 2 - Apache Log4j 2</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640774606,"creation_date":1640774606,"answer_id":70518291,"question_id":26717078,"body_markdown":"For Future googlers, according to [Apache documents][1], the default file name is `log4j2-test.xml`. For more information and other default names, visit the aforementioned link.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/log4j-2.2/manual/configuration.html","title":"Can&#39;t find the log4j2 configuration file","body":"<p>For Future googlers, according to <a href=\"https://logging.apache.org/log4j/log4j-2.2/manual/configuration.html\" rel=\"nofollow noreferrer\">Apache documents</a>, the default file name is <code>log4j2-test.xml</code>. For more information and other default names, visit the aforementioned link.</p>\n"}],"owner":{"account_id":2331982,"reputation":337,"user_id":2045174,"accept_rate":39,"display_name":"korshyadoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5870,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26719658,"answer_count":2,"score":2,"last_activity_date":1640774606,"creation_date":1415027452,"question_id":26717078,"body_markdown":"I have a Java project in Eclipse Kepler and I&#39;m trying to set up log4j. I&#39;ve added it to the project using the following in pom.xml:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI have the following in my log4j config file which is named log4j2.xml:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;Configuration status=&quot;WARN&quot;&gt;\r\n\t\t&lt;Appenders&gt;\r\n\t\t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n\t\t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot; /&gt;\r\n\t\t\t&lt;/Console&gt;\r\n\t\t&lt;/Appenders&gt;\r\n\t\t&lt;Loggers&gt;\r\n\t\t\t&lt;Root level=&quot;debug&quot;&gt;\r\n\t\t\t\t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n\t\t\t&lt;/Root&gt;\r\n\t\t&lt;/Loggers&gt;\r\n\t&lt;/Configuration&gt;\r\n\r\nlog4j2.xml is located in src/main/resources which I&#39;ve added to the Java Build Path Source tab in Eclipse. When I launch the project, I&#39;m able to use the logger. But, if I rename the config file to loggerconfig-dev.xml and add this to the VM arugments in Eclipse:\r\n\r\n    -Dlog4j.configuration=loggerconfig-dev.xml\r\n\r\nI get an error saying &quot;No log4j2 configuration file found...&quot;. How do I get it to see the configuration file with the new name?","title":"Can&#39;t find the log4j2 configuration file","body":"<p>I have a Java project in Eclipse Kepler and I'm trying to set up log4j. I've added it to the project using the following in pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I have the following in my log4j config file which is named log4j2.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n\" /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"debug\"&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>log4j2.xml is located in src/main/resources which I've added to the Java Build Path Source tab in Eclipse. When I launch the project, I'm able to use the logger. But, if I rename the config file to loggerconfig-dev.xml and add this to the VM arugments in Eclipse:</p>\n\n<pre><code>-Dlog4j.configuration=loggerconfig-dev.xml\n</code></pre>\n\n<p>I get an error saying \"No log4j2 configuration file found...\". How do I get it to see the configuration file with the new name?</p>\n"},{"tags":["java","networking","udp","bandwidth"],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640774445,"creation_date":1640774445,"answer_id":70518267,"question_id":70518119,"body_markdown":"One possibility is to start a periodic task that prints and calculates the sum. However, the calculated transfer rate is not too accurate because of the Java task handling if the output interval is chosen very short and the data rate is very high.\r\n","title":"How to display transmission rate periodically in Mbps, the average for the last second?","body":"<p>One possibility is to start a periodic task that prints and calculates the sum. However, the calculated transfer rate is not too accurate because of the Java task handling if the output interval is chosen very short and the data rate is very high.</p>\n"}],"owner":{"account_id":23757833,"reputation":1,"user_id":17773705,"display_name":"bossumoco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640774445,"creation_date":1640773607,"question_id":70518119,"body_markdown":"I have tried looking for ways of how I could apply the formula **speed = data transferred / duration** in my Java program which sends packets (65000 bytes) through UDP protocol. The problem is that I don&#39;t seem to figure out how could I quantify the operations that are made to calculate, convert and sum up the data transferred in the last second or in 1 second. I have tried working with Timer, and TimerTrack and putting transferring the data in the run() function but then it throws IOException. I also considered delaying but that would just interrupt it for **X** **ms**. \r\n\r\nHere is the code\r\n\r\npublic class UdpSnd  {\r\n\r\n   public UdpSnd() {  }\r\n\r\n   static public void main(String args[]) throws Exception {\r\n\r\n      // first argument - destination address\r\n      InetAddress target = InetAddress.getByName(args[0]);\r\n\r\n      // second argument destination port\r\n      int port = Integer.parseInt(args[1]);\r\n\r\n      DatagramSocket socket = new DatagramSocket();\r\n      byte[] buf = new byte[65000];\r\n      double sum = 0;\r\n      double megabits = 0;\r\n\r\n      while (true) {\r\n\r\n         byte[] lineBytes = buf;\r\n\r\n         DatagramPacket pkt = new DatagramPacket(lineBytes, lineBytes.length, target, port);\r\n        // start\r\n         megabits = lineBytes.length * 0.000008; // converting bytes to Megabits, also Bytes * 8 / 1000 * 1000\r\n         sum = sum + megabits; // summing up the values to calculate the average \r\n         socket.send(pkt);\r\n        // end --&gt; should be the block of code that runs for 1 second to calculate average Mbps value for the last second\r\n        \r\n        // I want to output that periodically:\r\n        // System.out.println(sum + &quot; Mbps&quot;); - not the correct way \r\n\r\n        sum = 0;\r\n\r\n      }\r\n   }\r\n}\r\n\r\nThank you very much for your time.","title":"How to display transmission rate periodically in Mbps, the average for the last second?","body":"<p>I have tried looking for ways of how I could apply the formula <strong>speed = data transferred / duration</strong> in my Java program which sends packets (65000 bytes) through UDP protocol. The problem is that I don't seem to figure out how could I quantify the operations that are made to calculate, convert and sum up the data transferred in the last second or in 1 second. I have tried working with Timer, and TimerTrack and putting transferring the data in the run() function but then it throws IOException. I also considered delaying but that would just interrupt it for <strong>X</strong> <strong>ms</strong>.</p>\n<p>Here is the code</p>\n<p>public class UdpSnd  {</p>\n<p>public UdpSnd() {  }</p>\n<p>static public void main(String args[]) throws Exception {</p>\n<pre><code>  // first argument - destination address\n  InetAddress target = InetAddress.getByName(args[0]);\n\n  // second argument destination port\n  int port = Integer.parseInt(args[1]);\n\n  DatagramSocket socket = new DatagramSocket();\n  byte[] buf = new byte[65000];\n  double sum = 0;\n  double megabits = 0;\n\n  while (true) {\n\n     byte[] lineBytes = buf;\n\n     DatagramPacket pkt = new DatagramPacket(lineBytes, lineBytes.length, target, port);\n    // start\n     megabits = lineBytes.length * 0.000008; // converting bytes to Megabits, also Bytes * 8 / 1000 * 1000\n     sum = sum + megabits; // summing up the values to calculate the average \n     socket.send(pkt);\n    // end --&gt; should be the block of code that runs for 1 second to calculate average Mbps value for the last second\n    \n    // I want to output that periodically:\n    // System.out.println(sum + &quot; Mbps&quot;); - not the correct way \n\n    sum = 0;\n\n  }\n</code></pre>\n<p>}\n}</p>\n<p>Thank you very much for your time.</p>\n"},{"tags":["java","android","android-fragments","constructor","bundle"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":2,"creation_date":1640774102,"post_id":70518064,"comment_id":124654501,"body_markdown":"Bundles. When the fragment gets recreated, you get the bundle back. Arguments passed through constructor are &quot;invisible&quot; to the OS, and you lose them when the fragment is recreated.","body":"Bundles. When the fragment gets recreated, you get the bundle back. Arguments passed through constructor are &quot;invisible&quot; to the OS, and you lose them when the fragment is recreated."},{"owner":{"account_id":22324450,"reputation":41,"user_id":16546642,"display_name":"JB08"},"score":0,"creation_date":1641213542,"post_id":70518064,"comment_id":124741157,"body_markdown":"Thanks @Shark for the explanation!","body":"Thanks @Shark for the explanation!"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640773956,"creation_date":1640773956,"answer_id":70518177,"question_id":70518064,"body_markdown":"Pass `Bundle` as arguments, extract them `onCreate()` ...\r\n\r\nthen you can use them with the Navigation library, too.","title":"Should we pass data in constructor or we should strictly stick to bundles to pass data from one fragment to another fragment?","body":"<p>Pass <code>Bundle</code> as arguments, extract them <code>onCreate()</code> ...</p>\n<p>then you can use them with the Navigation library, too.</p>\n"}],"owner":{"account_id":22324450,"reputation":41,"user_id":16546642,"display_name":"JB08"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640773956,"creation_date":1640773276,"question_id":70518064,"body_markdown":"I have seen usage of Fragment&#39;s constructor to pass data between the fragments(ex. new MyFragment(myData)) but I want to know if we should use that approach or not, the official google developer documentation mentions the usage of Bundle. I want to know what is the better approach and why? I am a beginner in android development so please feel free to guide. Thanks in advance!\r\n ","title":"Should we pass data in constructor or we should strictly stick to bundles to pass data from one fragment to another fragment?","body":"<p>I have seen usage of Fragment's constructor to pass data between the fragments(ex. new MyFragment(myData)) but I want to know if we should use that approach or not, the official google developer documentation mentions the usage of Bundle. I want to know what is the better approach and why? I am a beginner in android development so please feel free to guide. Thanks in advance!</p>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1640771836,"post_id":70517756,"comment_id":124653845,"body_markdown":"You may also create a SQL view, that would have the relevant data from both tables.","body":"You may also create a SQL view, that would have the relevant data from both tables."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1640774011,"post_id":70517756,"comment_id":124654469,"body_markdown":"Don&#39;t add irrelevant tags. If this could be solved (or broken) entirely from a servlet or a command line app, it&#39;s safe to say it has nothing to do with Swing.","body":"Don&#39;t add irrelevant tags. If this could be solved (or broken) entirely from a servlet or a command line app, it&#39;s safe to say it has nothing to do with Swing."}],"answers":[{"tags":[],"owner":{"account_id":18560542,"reputation":21,"user_id":13524644,"display_name":"Requitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640771766,"creation_date":1640771766,"answer_id":70517784,"question_id":70517756,"body_markdown":"Look here about &quot;join&quot;: https://www.cloudways.com/blog/how-to-join-two-tables-mysql/","title":"MySQL a query to get user_id and password from two different tables","body":"<p>Look here about &quot;join&quot;: <a href=\"https://www.cloudways.com/blog/how-to-join-two-tables-mysql/\" rel=\"nofollow noreferrer\">https://www.cloudways.com/blog/how-to-join-two-tables-mysql/</a></p>\n"},{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640773610,"creation_date":1640773149,"answer_id":70518048,"question_id":70517756,"body_markdown":"Use a union select:\r\n```\r\nselect\r\n  p.professeur_id as id\r\n  , p.name as name\r\n  , p.password as password\r\n  , p.mail as mail\r\n  from Professeur p\r\nunion select\r\n  s.student_id as id\r\n  , s.name as name\r\n  , s.password as password\r\n  , s.mail as mail\r\n  from Student s\r\n  ;\r\n```\r\nPlease note that at least the fields professeur_id and student_id ***must*** have an alias because of their different name. But giving all fields an alias is a good practice.\r\n\r\nFor more information (not only on select statement) please go to [official MySQL documentation][1]\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/select.html","title":"MySQL a query to get user_id and password from two different tables","body":"<p>Use a union select:</p>\n<pre><code>select\n  p.professeur_id as id\n  , p.name as name\n  , p.password as password\n  , p.mail as mail\n  from Professeur p\nunion select\n  s.student_id as id\n  , s.name as name\n  , s.password as password\n  , s.mail as mail\n  from Student s\n  ;\n</code></pre>\n<p>Please note that at least the fields professeur_id and student_id <em><strong>must</strong></em> have an alias because of their different name. But giving all fields an alias is a good practice.</p>\n<p>For more information (not only on select statement) please go to <a href=\"https://dev.mysql.com/doc/refman/8.0/en/select.html\" rel=\"nofollow noreferrer\">official MySQL documentation</a></p>\n"}],"owner":{"account_id":23773990,"reputation":1,"user_id":17787704,"display_name":"Ilyasse Taguenit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1640773851,"creation_date":1640771597,"question_id":70517756,"body_markdown":"- Professeur (professeur_id, name , password,mail)\r\n- Student (student_id, name, password, mail)\r\n\r\nHow can I write a query to get ID and password from the two tables? \r\n\r\nAlso, can I make a login table that contains ID and password as a foreign key from the two tables?\r\n \r\n(Do I have to change the professeur ID and student ID columns to have the same name?)","title":"MySQL a query to get user_id and password from two different tables","body":"<ul>\n<li>Professeur (professeur_id, name , password,mail)</li>\n<li>Student (student_id, name, password, mail)</li>\n</ul>\n<p>How can I write a query to get ID and password from the two tables?</p>\n<p>Also, can I make a login table that contains ID and password as a foreign key from the two tables?</p>\n<p>(Do I have to change the professeur ID and student ID columns to have the same name?)</p>\n"},{"tags":["java","macros"],"comments":[{"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"score":0,"creation_date":1309370251,"post_id":6525059,"comment_id":7681598,"body_markdown":"@Thomas Jungblut  yes. setting up a new scanner is unnecessary only. Now only I saw that. but can I have a way in java to replace symbolic names as mentioned","body":"@Thomas Jungblut  yes. setting up a new scanner is unnecessary only. Now only I saw that. but can I have a way in java to replace symbolic names as mentioned"},{"owner":{"account_id":400584,"reputation":2150,"user_id":766640,"accept_rate":100,"display_name":"adamjmarkham"},"score":0,"creation_date":1309370439,"post_id":6525059,"comment_id":7681660,"body_markdown":"Wrapping in in a static method essentially does what you are asking. Regardless of whether it is a macro or not. Methods are the core part of Java, you cannot create symbolic names.","body":"Wrapping in in a static method essentially does what you are asking. Regardless of whether it is a macro or not. Methods are the core part of Java, you cannot create symbolic names."},{"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"score":0,"creation_date":1309370934,"post_id":6525059,"comment_id":7681777,"body_markdown":"@AdamJMTech yes thank you. But can we create a library class which does this. (as the c++ compiler expands the object cin and links with system input)  Thereby , every java developers get a more robust coding","body":"@AdamJMTech yes thank you. But can we create a library class which does this. (as the c++ compiler expands the object cin and links with system input)  Thereby , every java developers get a more robust coding"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1666404024,"post_id":6525059,"comment_id":130935796,"body_markdown":"1) http://manifold.systems/ https://github.com/manifold-systems/manifold 2) https://spoon.gforge.inria.fr/ https://github.com/INRIA/spoon","body":"1) <a href=\"http://manifold.systems/\" rel=\"nofollow noreferrer\">manifold.systems</a> <a href=\"https://github.com/manifold-systems/manifold\" rel=\"nofollow noreferrer\">github.com/manifold-systems/manifold</a> 2) <a href=\"https://spoon.gforge.inria.fr/\" rel=\"nofollow noreferrer\">spoon.gforge.inria.fr</a> <a href=\"https://github.com/INRIA/spoon\" rel=\"nofollow noreferrer\">github.com/INRIA/spoon</a>"}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1309370179,"creation_date":1309370179,"answer_id":6525104,"question_id":6525059,"body_markdown":"Java does not support macros.  IIRC, the language designers felt that macros and the resultant preparser was an unnecessary and undesirable complication.\r\n\r\nUse a function instead:\r\n\r\n    public int readInt(Scanner inp) {\r\n        return inp.nextint();\r\n        }\r\n\r\nElsewhere:\r\n\r\n    Scanner input=new Scanner(System.in);\r\n\r\n    ...\r\n\r\n\r\n    int a=readInt(input);\r\n\r\nNote also, that I create the scanner once and reuse it.","title":"Can I have macros in Java source files","body":"<p>Java does not support macros.  IIRC, the language designers felt that macros and the resultant preparser was an unnecessary and undesirable complication.</p>\n\n<p>Use a function instead:</p>\n\n<pre><code>public int readInt(Scanner inp) {\n    return inp.nextint();\n    }\n</code></pre>\n\n<p>Elsewhere:</p>\n\n<pre><code>Scanner input=new Scanner(System.in);\n\n...\n\n\nint a=readInt(input);\n</code></pre>\n\n<p>Note also, that I create the scanner once and reuse it.</p>\n"},{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1309371657,"creation_date":1309370211,"answer_id":6525112,"question_id":6525059,"body_markdown":"**No. Java (the language) does not support macros of any sort.**\r\n\r\nHowever, certain constructs can be faked or wrapped. While the example is silly (*why are you creating a new scanner each time!?!?!*) the below shows how it can be achieved:\r\n\r\n    int nextInt() {\r\n       return new Scanner(System.in).nextInt(); \r\n    }\r\n    ...\r\n    int a = nextInt();\r\n    int b = nextInt();\r\n\r\nBut *much* better:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    int a = scanner.nextInt();\r\n    int b = scanner.nextInt();\r\n\r\nHappy coding.\r\n\r\n---\r\n\r\nFor comment:\r\n\r\n*Static methods* can be called without needing an object to invoke them upon. However, in most cases one is *already in an object*. Consider:\r\n\r\n    public class Foo {\r\n       static int nextIntStatic() {\r\n         return 13;\r\n       }\r\n    \r\n       int nextInt() {\r\n         return 42;\r\n       }\r\n       \r\n       void realMain () {\r\n         // okay to call, same as this.nextInt()\r\n         // and we are &quot;in&quot; the object\r\n         int ni = nextInt();\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          // okay to call, is a static method\r\n          int nis = nextIntStatic();\r\n          Foo f = new Foo();\r\n          f.realMain();\r\n       }\r\n    }","title":"Can I have macros in Java source files","body":"<p><strong>No. Java (the language) does not support macros of any sort.</strong></p>\n\n<p>However, certain constructs can be faked or wrapped. While the example is silly (<em>why are you creating a new scanner each time!?!?!</em>) the below shows how it can be achieved:</p>\n\n<pre><code>int nextInt() {\n   return new Scanner(System.in).nextInt(); \n}\n...\nint a = nextInt();\nint b = nextInt();\n</code></pre>\n\n<p>But <em>much</em> better:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nint a = scanner.nextInt();\nint b = scanner.nextInt();\n</code></pre>\n\n<p>Happy coding.</p>\n\n<hr>\n\n<p>For comment:</p>\n\n<p><em>Static methods</em> can be called without needing an object to invoke them upon. However, in most cases one is <em>already in an object</em>. Consider:</p>\n\n<pre><code>public class Foo {\n   static int nextIntStatic() {\n     return 13;\n   }\n\n   int nextInt() {\n     return 42;\n   }\n\n   void realMain () {\n     // okay to call, same as this.nextInt()\n     // and we are \"in\" the object\n     int ni = nextInt();\n   }\n\n   public static void main(String[] args) {\n      // okay to call, is a static method\n      int nis = nextIntStatic();\n      Foo f = new Foo();\n      f.realMain();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":171,"is_accepted":true,"score":171,"last_activity_date":1509257664,"creation_date":1309370217,"answer_id":6525113,"question_id":6525059,"body_markdown":"You *can* but you *shouldn&#39;t*.\r\n\r\n\r\n##The *shouldn&#39;t* part:\r\n\r\nYou *shouldn&#39;t* because using the pre-processor in that way [is considered bad practice](https://stackoverflow.com/questions/14041453/why-are-preprocessor-macros-evil-and-what-are-the-alternatives) to start with, and there are better and more Java-idiomatic ways to solve this use case.\r\n\r\n&lt;br/&gt;\r\n\r\n\r\n##The *can* part: (*)\r\n\r\nJava itself doesn&#39;t support macros. On the other hand, you could pipe the source code through the [*C pre processor*](http://en.wikipedia.org/wiki/C_preprocessor) (CPP for short) just like the C/C++ compile chain does.\r\n\r\nHere&#39;s a demo:\r\n\r\n**`src/Test.java`**:\r\n\r\n    #define READINT (new java.util.Scanner(System.in).nextInt())\r\n    \r\n    class Test {\r\n        public static void main(String[] args) {\r\n            int i = READINT;\r\n        }\r\n    }\r\n\r\n**`cpp` command:**\r\n\r\n    $ cpp -P src/Test.java preprocessed/Test.java\r\n\r\n**Result:**\r\n\r\n    class Test {\r\n        public static void main(String[] args) {\r\n            int i = (new java.util.Scanner(System.in).nextInt());\r\n        }\r\n    }\r\n\r\n**Compile:**\r\n\r\n    $ javac preprocessed/Test.java\r\n\r\n\r\n&lt;br/&gt;\r\n##A better workaround:\r\n\r\nYou can write your own utility class with a static method instead:\r\n\r\n    import java.util.Scanner;\r\n    class StdinUtil {\r\n        public final static Scanner STDIN = new Scanner(System.in);\r\n        public static int readInt() {\r\n            return STDIN.nextInt();\r\n        }\r\n    }\r\n\r\nAnd when you want to use it, you can statically import the `readInt` method:\r\n\r\n    import static StdinUtil.readInt; \r\n    \r\n    class Test {\r\n        public static void main(String[] args) {\r\n            int i = readInt();\r\n        }\r\n    }\r\n\r\n(or do `static import StdinUtil.STDIN;` and use `STDIN.nextInt()`.)\r\n\r\n&lt;br/&gt;\r\n\r\n##And finally, an anecdote\r\n\r\nI myself used the CPP preprocessing approach on Java code once! I was creating a programming assignment for a course. I wanted to be able to easily extract a code skeleton out of the reference solution. So I just used a few `#ifdef`s to filter out the &quot;secret&quot; parts of the solution. That way I could maintain the reference solution, and easily regenerate the code skeleton.\r\n\r\n\r\n----------\r\nThis post has been rewritten as an article [here](http://programming.guide/java/macros-in-java-source-files.html).\r\n\r\n----------\r\n\r\n\r\n&lt;sup&gt;(*) Since I hate answering questions with &quot;you shouldn&#39;t&quot;. Besides, some future reader may have good reasons for wanting to use the `cpp` in conjunction with Java sources!&lt;/sup&gt;","title":"Can I have macros in Java source files","body":"<p>You <em>can</em> but you <em>shouldn't</em>.</p>\n\n<h2>The <em>shouldn't</em> part:</h2>\n\n<p>You <em>shouldn't</em> because using the pre-processor in that way <a href=\"https://stackoverflow.com/questions/14041453/why-are-preprocessor-macros-evil-and-what-are-the-alternatives\">is considered bad practice</a> to start with, and there are better and more Java-idiomatic ways to solve this use case.</p>\n\n<p><br/></p>\n\n<h2>The <em>can</em> part: (*)</h2>\n\n<p>Java itself doesn't support macros. On the other hand, you could pipe the source code through the <a href=\"http://en.wikipedia.org/wiki/C_preprocessor\" rel=\"noreferrer\"><em>C pre processor</em></a> (CPP for short) just like the C/C++ compile chain does.</p>\n\n<p>Here's a demo:</p>\n\n<p><strong><code>src/Test.java</code></strong>:</p>\n\n<pre><code>#define READINT (new java.util.Scanner(System.in).nextInt())\n\nclass Test {\n    public static void main(String[] args) {\n        int i = READINT;\n    }\n}\n</code></pre>\n\n<p><strong><code>cpp</code> command:</strong></p>\n\n<pre><code>$ cpp -P src/Test.java preprocessed/Test.java\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>class Test {\n    public static void main(String[] args) {\n        int i = (new java.util.Scanner(System.in).nextInt());\n    }\n}\n</code></pre>\n\n<p><strong>Compile:</strong></p>\n\n<pre><code>$ javac preprocessed/Test.java\n</code></pre>\n\n<p><br/></p>\n\n<h2>A better workaround:</h2>\n\n<p>You can write your own utility class with a static method instead:</p>\n\n<pre><code>import java.util.Scanner;\nclass StdinUtil {\n    public final static Scanner STDIN = new Scanner(System.in);\n    public static int readInt() {\n        return STDIN.nextInt();\n    }\n}\n</code></pre>\n\n<p>And when you want to use it, you can statically import the <code>readInt</code> method:</p>\n\n<pre><code>import static StdinUtil.readInt; \n\nclass Test {\n    public static void main(String[] args) {\n        int i = readInt();\n    }\n}\n</code></pre>\n\n<p>(or do <code>static import StdinUtil.STDIN;</code> and use <code>STDIN.nextInt()</code>.)</p>\n\n<p><br/></p>\n\n<h2>And finally, an anecdote</h2>\n\n<p>I myself used the CPP preprocessing approach on Java code once! I was creating a programming assignment for a course. I wanted to be able to easily extract a code skeleton out of the reference solution. So I just used a few <code>#ifdef</code>s to filter out the \"secret\" parts of the solution. That way I could maintain the reference solution, and easily regenerate the code skeleton.</p>\n\n<hr>\n\n<p>This post has been rewritten as an article <a href=\"http://programming.guide/java/macros-in-java-source-files.html\" rel=\"noreferrer\">here</a>.</p>\n\n<hr>\n\n<p><sup>(*) Since I hate answering questions with \"you shouldn't\". Besides, some future reader may have good reasons for wanting to use the <code>cpp</code> in conjunction with Java sources!</sup></p>\n"},{"tags":[],"owner":{"account_id":191588,"reputation":3162,"user_id":432248,"accept_rate":100,"display_name":"Giann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523720866,"creation_date":1309370248,"answer_id":6525121,"question_id":6525059,"body_markdown":"There is no macro concept in Java. If you&#39;re doing that a lot, it&#39;s a bad idea to instantiate a new `Scanner` each time. Define a public static `Scanner` then reuse it each time:\r\n\r\n    public class YourClass {\r\n      public static final Scanner SCANNER= new Scanner(System.in);\r\n      ...\r\n    }\r\n\r\n    // Somewhere in your code\r\n    YourClass.SCANNER.nextInt();","title":"Can I have macros in Java source files","body":"<p>There is no macro concept in Java. If you're doing that a lot, it's a bad idea to instantiate a new <code>Scanner</code> each time. Define a public static <code>Scanner</code> then reuse it each time:</p>\n\n<pre><code>public class YourClass {\n  public static final Scanner SCANNER= new Scanner(System.in);\n  ...\n}\n\n// Somewhere in your code\nYourClass.SCANNER.nextInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1309370258,"creation_date":1309370258,"answer_id":6525124,"question_id":6525059,"body_markdown":"Java doesn&#39;t support macros simply because the designers of Java chose not to include that functionality.  The longer answer is that Java doesn&#39;t have a preprocessor the way C/C++ does and cannot perform that functionality that the preprocessor normally would.  The way I would implement this is simply create a wrapper class that wraps up the `Scanner` constructor calls.  Perhaps something like\r\n\r\n\r\n    public static int readInt(){\r\n      return new Scanner(System.in).nextInt();\r\n    }\r\n\r\nOr, better yet,\r\n\r\n    public class ScannerWrapper{\r\n      private static Scanner instance = null;\r\n\r\n      public static int readInt(){\r\n       if (instance == null){\r\n         instance = new Scanner(System.in);\r\n       }\r\n       \r\n       return instance.nextInt();\r\n     }","title":"Can I have macros in Java source files","body":"<p>Java doesn't support macros simply because the designers of Java chose not to include that functionality.  The longer answer is that Java doesn't have a preprocessor the way C/C++ does and cannot perform that functionality that the preprocessor normally would.  The way I would implement this is simply create a wrapper class that wraps up the <code>Scanner</code> constructor calls.  Perhaps something like</p>\n\n<pre><code>public static int readInt(){\n  return new Scanner(System.in).nextInt();\n}\n</code></pre>\n\n<p>Or, better yet,</p>\n\n<pre><code>public class ScannerWrapper{\n  private static Scanner instance = null;\n\n  public static int readInt(){\n   if (instance == null){\n     instance = new Scanner(System.in);\n   }\n\n   return instance.nextInt();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1309370658,"creation_date":1309370658,"answer_id":6525210,"question_id":6525059,"body_markdown":"Use a utility class and static import.\r\n\r\nThe utility class:\r\n\r\n    package my.utils;\r\n\r\n    public class ScannerUtils {\r\n      private ScannerUtils() {}\r\n\r\n      public static int readInt() {\r\n        return new Scanner(System.in).nextInt();\r\n      }\r\n    }\r\n\r\nUsing the utility class:\r\n\r\n    package my.examples;\r\n\r\n    import static my.utils.ScannerUtils.*;\r\n\r\n    class Example {\r\n      void foo() {\r\n        int i = readInt();\r\n      }\r\n    }\r\n\r\nAs others have said, you should probably cache your scanner, but that is a separate topic.","title":"Can I have macros in Java source files","body":"<p>Use a utility class and static import.</p>\n\n<p>The utility class:</p>\n\n<pre><code>package my.utils;\n\npublic class ScannerUtils {\n  private ScannerUtils() {}\n\n  public static int readInt() {\n    return new Scanner(System.in).nextInt();\n  }\n}\n</code></pre>\n\n<p>Using the utility class:</p>\n\n<pre><code>package my.examples;\n\nimport static my.utils.ScannerUtils.*;\n\nclass Example {\n  void foo() {\n    int i = readInt();\n  }\n}\n</code></pre>\n\n<p>As others have said, you should probably cache your scanner, but that is a separate topic.</p>\n"},{"tags":[],"owner":{"account_id":5161,"reputation":9806,"user_id":8163,"accept_rate":86,"display_name":"Greg Reynolds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309371193,"creation_date":1309371193,"answer_id":6525294,"question_id":6525059,"body_markdown":"If you want to use C-Style macros then someone has written a pre-processor http://www.slashdev.ca/javapp/ I have no idea how good it is though.","title":"Can I have macros in Java source files","body":"<p>If you want to use C-Style macros then someone has written a pre-processor <a href=\"http://www.slashdev.ca/javapp/\" rel=\"nofollow\">http://www.slashdev.ca/javapp/</a> I have no idea how good it is though.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554750314,"creation_date":1554750314,"answer_id":55580160,"question_id":6525059,"body_markdown":"You can do this, for example, with [Java Primitive Specializations Generator](https://github.com/TimeAndSpaceIO/java-primitive-specializations-generator):\r\n\r\n```java\r\n/* define READINT //\r\nnew Scanner(System.in).nextInt();\r\n// enddefine */\r\n\r\n...\r\n\r\nint a = /* READINT */0/**/;\r\n```","title":"Can I have macros in Java source files","body":"<p>You can do this, for example, with <a href=\"https://github.com/TimeAndSpaceIO/java-primitive-specializations-generator\" rel=\"nofollow noreferrer\">Java Primitive Specializations Generator</a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/* define READINT //\nnew Scanner(System.in).nextInt();\n// enddefine */\n\n...\n\nint a = /* READINT */0/**/;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15812969,"reputation":1,"user_id":11409468,"display_name":"Jixuan LIU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640773645,"creation_date":1640773310,"answer_id":70518070,"question_id":6525059,"body_markdown":"Macros are text-level pre-processing tools that can be badly abused if not carefully designed. Example:\r\n\r\n    #define MULTIPLY( a, b ) ( a * b )\r\n\r\nMULTIPLE(1+2,3+4) will have the result of (1+2*3+4)\r\n\r\nAnother example\r\n\r\n    #define SQUARE( a ) ((a) * (a))\r\n\r\n    int x = 5;\r\n    SQUARE(x++);\r\n\r\n will increment x twice. ((x++) * (x++))\r\n\r\nI think that Java language designers did not buy it for these reasons, because it is meant to be simple.","title":"Can I have macros in Java source files","body":"<p>Macros are text-level pre-processing tools that can be badly abused if not carefully designed. Example:</p>\n<pre><code>#define MULTIPLY( a, b ) ( a * b )\n</code></pre>\n<p>MULTIPLE(1+2,3+4) will have the result of (1+2*3+4)</p>\n<p>Another example</p>\n<pre><code>#define SQUARE( a ) ((a) * (a))\n\nint x = 5;\nSQUARE(x++);\n</code></pre>\n<p>will increment x twice. ((x++) * (x++))</p>\n<p>I think that Java language designers did not buy it for these reasons, because it is meant to be simple.</p>\n"}],"owner":{"account_id":294765,"reputation":3209,"user_id":598824,"accept_rate":62,"display_name":"Muthu Ganapathy Nathan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86453,"favorite_count":0,"down_vote_count":1,"up_vote_count":56,"accepted_answer_id":6525113,"answer_count":9,"score":55,"last_activity_date":1640773645,"creation_date":1309369954,"question_id":6525059,"body_markdown":"In my program I&#39;m reading integers form console many times. Every time, I need to type this line.\r\n\r\n    new Scanner(System.in).nextInt(); \r\n\r\nI&#39;m used to C/C++ and I&#39;m wondering if I can define something like\r\n\r\n    #define READINT Scanner(System.in).nextInt(); \r\n\r\nand then, in every place in my java program I can read form console as \r\n\r\n    int a = new READINT;\r\n\r\n\r\nBut I read form books Java does not support macros. \r\n\r\nSomeone please explain me why is it so, and can I do this in  any other way.","title":"Can I have macros in Java source files","body":"<p>In my program I'm reading integers form console many times. Every time, I need to type this line.</p>\n\n<pre><code>new Scanner(System.in).nextInt(); \n</code></pre>\n\n<p>I'm used to C/C++ and I'm wondering if I can define something like</p>\n\n<pre><code>#define READINT Scanner(System.in).nextInt(); \n</code></pre>\n\n<p>and then, in every place in my java program I can read form console as </p>\n\n<pre><code>int a = new READINT;\n</code></pre>\n\n<p>But I read form books Java does not support macros. </p>\n\n<p>Someone please explain me why is it so, and can I do this in  any other way.</p>\n"},{"tags":["java","collections","foreach","iterator"],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1537482067,"creation_date":1407216841,"answer_id":25131800,"question_id":24856811,"body_markdown":"I think you mean, if you&#39;re iterating a list, why does `list.remove()` cause a `ConcurrentModificationException` to be thrown whereas `iterator.remove()` does not?\r\n\r\nConsider this example:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));\r\n        \r\n        for (Iterator&lt;String&gt; iter = list.iterator(); iter.hasNext(); ) {\r\n            if (iter.next().equals(&quot;b&quot;)) {\r\n                // iter.remove();    // #1\r\n                // list.remove(&quot;b&quot;); // #2\r\n            }\r\n        }\r\n\r\nIf you uncomment line #1, it will work fine. If you uncomment line #2 (but leave #1 commented) then it will cause the subsequent call to `iter.next()` to throw `ConcurrentModificationException`.\r\n\r\nThe reason is that the iterator is a separate object that has some references to the internal state of the underlying list. If you modify the list while the iterator is in operation, it could cause the iterator to behave badly, e.g. by skipping elements, repeating elements, indexing off the end of the array, etc. It attempts to detect such modifications and so it throws `ConcurrentModificationException` if it does.\r\n\r\nRemoving elements through the iterator works and does not cause exceptions, because this updates the underlying list **and** the iterator&#39;s state that refers to the internals of the list, so everything can stay consistent.\r\n\r\nHowever, there is nothing special about `iterator.remove()` that makes it work in all cases. If there are **multiple** iterators iterating over the same list, modifications made by one will cause problems for the others. Consider:\r\n\r\n        Iterator&lt;String&gt; i1 = list.iterator();\r\n        Iterator&lt;String&gt; i2 = list.iterator();\r\n        i1.remove();\r\n        i2.remove();\r\n\r\nWe now have two iterators pointing into the same list. If we modify the list using one of them, it disrupts the operation of the second, so the call to `i2.remove()` will result in `ConcurrentModificationException`.\r\n","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p>I think you mean, if you're iterating a list, why does <code>list.remove()</code> cause a <code>ConcurrentModificationException</code> to be thrown whereas <code>iterator.remove()</code> does not?</p>\n\n<p>Consider this example:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(\"a\", \"b\", \"c\", \"d\"));\n\n    for (Iterator&lt;String&gt; iter = list.iterator(); iter.hasNext(); ) {\n        if (iter.next().equals(\"b\")) {\n            // iter.remove();    // #1\n            // list.remove(\"b\"); // #2\n        }\n    }\n</code></pre>\n\n<p>If you uncomment line #1, it will work fine. If you uncomment line #2 (but leave #1 commented) then it will cause the subsequent call to <code>iter.next()</code> to throw <code>ConcurrentModificationException</code>.</p>\n\n<p>The reason is that the iterator is a separate object that has some references to the internal state of the underlying list. If you modify the list while the iterator is in operation, it could cause the iterator to behave badly, e.g. by skipping elements, repeating elements, indexing off the end of the array, etc. It attempts to detect such modifications and so it throws <code>ConcurrentModificationException</code> if it does.</p>\n\n<p>Removing elements through the iterator works and does not cause exceptions, because this updates the underlying list <strong>and</strong> the iterator's state that refers to the internals of the list, so everything can stay consistent.</p>\n\n<p>However, there is nothing special about <code>iterator.remove()</code> that makes it work in all cases. If there are <strong>multiple</strong> iterators iterating over the same list, modifications made by one will cause problems for the others. Consider:</p>\n\n<pre><code>    Iterator&lt;String&gt; i1 = list.iterator();\n    Iterator&lt;String&gt; i2 = list.iterator();\n    i1.remove();\n    i2.remove();\n</code></pre>\n\n<p>We now have two iterators pointing into the same list. If we modify the list using one of them, it disrupts the operation of the second, so the call to <code>i2.remove()</code> will result in <code>ConcurrentModificationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1570361442,"creation_date":1407217739,"answer_id":25131943,"question_id":24856811,"body_markdown":"`ConcurrentModificationException` is not thrown by `Iterator.remove()` because that is the *permitted* way to modify an collection while iterating.   This is what the [javadoc][1] for `Iterator` says:\r\n\r\n&gt; Removes from the underlying collection the last element returned by this iterator (optional operation). This method can be called only once per call to next(). **The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress in any way other than by calling this method.**\r\n\r\nIf you change the collection being iterated any other way, then you are liable to get an exception, depending on the implementation of iterator, and the collection (or whatever) that you are iterating.  (Some collection classes won&#39;t give you a `ConcurrentModificationException`: check the respective javadocs to see how they specify the behavior of *their* iterators)   \r\n\r\nYou are also liable to get an exception if you have two iterators on the same collection, and you remove via one of them.\r\n\r\n------------------------------\r\n\r\n&gt; What iterator.remove does different from list.remove that iterator does not throw exception while list.remove does throw?\r\n\r\nReason #1.  If you had a non-concurrent collection being updated simultaneously from two places on the same call stack, the behavior would break the design invariant for the iteration&lt;sup&gt;1&lt;/sup&gt;.  An iteration of a non-concurrent collection is guaranteed to see all of the elements in the collection exactly once.  (By contrast, with concurrent collections these guarantees are relaxed.)\r\n\r\n\r\nReason #2.  Non-concurrent collection types are not implemented to be thread-safe.  Therefore, you could have race conditions and memory anomalies if the collection and iterator are used to update the collection by different threads.  This is not *strong* reason because you will have these problems anyway.  However, having the updates happening in two different ways makes the problem worse.\r\n\r\n\r\n------------------------------\r\n\r\n&gt; I am just talking about for-each loop and iterator loop. As far as I know for-each loop internally create iterator only.\r\n\r\nThat is correct.  A for-each loop is really just syntactic sugar for a `while` loop using an iterator.\r\n\r\nOn the other hand, if you use a loop like this:\r\n\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (...) {\r\n                list.remove(i);\r\n            }\r\n        }\r\n\r\nyou won&#39;t get `ConcurrentModificationException`, but you will need to adjust the index variable for the elements that you delete, and updates by another thread are liable to cause you to skip elements or visit them more than once&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - To achieve &quot;exactly once&quot; iteration behavior, when you remove an element via the collection object, the iterator data structure would need to be updated to keep it in step with what has happened to the collection.  This is not possible in the current implementations because they don&#39;t keep links to the outstanding iterators.  And if they did, they would need to use `Reference` objects or risk memory leaks.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Or even get an `IndexOutOfBoundsException`.  And if the collection is not concurrent / properly synchronized, you can get worse problems.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p><code>ConcurrentModificationException</code> is not thrown by <code>Iterator.remove()</code> because that is the <em>permitted</em> way to modify an collection while iterating.   This is what the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\">javadoc</a> for <code>Iterator</code> says:</p>\n\n<blockquote>\n  <p>Removes from the underlying collection the last element returned by this iterator (optional operation). This method can be called only once per call to next(). <strong>The behavior of an iterator is unspecified if the underlying collection is modified while the iteration is in progress in any way other than by calling this method.</strong></p>\n</blockquote>\n\n<p>If you change the collection being iterated any other way, then you are liable to get an exception, depending on the implementation of iterator, and the collection (or whatever) that you are iterating.  (Some collection classes won't give you a <code>ConcurrentModificationException</code>: check the respective javadocs to see how they specify the behavior of <em>their</em> iterators)   </p>\n\n<p>You are also liable to get an exception if you have two iterators on the same collection, and you remove via one of them.</p>\n\n<hr>\n\n<blockquote>\n  <p>What iterator.remove does different from list.remove that iterator does not throw exception while list.remove does throw?</p>\n</blockquote>\n\n<p>Reason #1.  If you had a non-concurrent collection being updated simultaneously from two places on the same call stack, the behavior would break the design invariant for the iteration<sup>1</sup>.  An iteration of a non-concurrent collection is guaranteed to see all of the elements in the collection exactly once.  (By contrast, with concurrent collections these guarantees are relaxed.)</p>\n\n<p>Reason #2.  Non-concurrent collection types are not implemented to be thread-safe.  Therefore, you could have race conditions and memory anomalies if the collection and iterator are used to update the collection by different threads.  This is not <em>strong</em> reason because you will have these problems anyway.  However, having the updates happening in two different ways makes the problem worse.</p>\n\n<hr>\n\n<blockquote>\n  <p>I am just talking about for-each loop and iterator loop. As far as I know for-each loop internally create iterator only.</p>\n</blockquote>\n\n<p>That is correct.  A for-each loop is really just syntactic sugar for a <code>while</code> loop using an iterator.</p>\n\n<p>On the other hand, if you use a loop like this:</p>\n\n<pre><code>    for (int i = 0; i &lt; list.size(); i++) {\n        if (...) {\n            list.remove(i);\n        }\n    }\n</code></pre>\n\n<p>you won't get <code>ConcurrentModificationException</code>, but you will need to adjust the index variable for the elements that you delete, and updates by another thread are liable to cause you to skip elements or visit them more than once<sup>2</sup>.</p>\n\n<hr>\n\n<p><sup>1 - To achieve \"exactly once\" iteration behavior, when you remove an element via the collection object, the iterator data structure would need to be updated to keep it in step with what has happened to the collection.  This is not possible in the current implementations because they don't keep links to the outstanding iterators.  And if they did, they would need to use <code>Reference</code> objects or risk memory leaks.</sup></p>\n\n<p><sup>2 - Or even get an <code>IndexOutOfBoundsException</code>.  And if the collection is not concurrent / properly synchronized, you can get worse problems.</sup></p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1407219820,"creation_date":1407219820,"answer_id":25132372,"question_id":24856811,"body_markdown":"Because it is the iterator that throws the exception. If you call `List.remove()` it doesn&#39;t know about the removal, only that something has changed under its feet. If you call `Iterator.remove()` it knows the current element was removed and what to do about it.","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p>Because it is the iterator that throws the exception. If you call <code>List.remove()</code> it doesn't know about the removal, only that something has changed under its feet. If you call <code>Iterator.remove()</code> it knows the current element was removed and what to do about it.</p>\n"},{"tags":[],"owner":{"account_id":2314766,"reputation":13150,"user_id":2032064,"accept_rate":100,"display_name":"Mifeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440634372,"creation_date":1440634372,"answer_id":32238686,"question_id":24856811,"body_markdown":"Here is an example how things could go wrong if collection iterators didn&#39;t check for modifications of the underlying collection. This is how `ArrayLists`&#39;s iterator is implemented:\r\n    \r\n    private class Itr implements Iterator&lt;E&gt; {\r\n        int cursor;       // index of next element to return\r\n        int lastRet = -1; // index of last element returned; -1 if no such\r\n\r\n        public E next() {\r\n            checkForComodification();\r\n            int i = cursor;\r\n            if (i &gt;= size) throw new NoSuchElementException();\r\n            // ...\r\n            cursor = i + 1;\r\n            return (E) elementData[lastRet = i];\r\n        }\r\n\r\n        public void remove() {\r\n            // ...\r\n            ArrayList.this.remove(lastRet);\r\n            // ...\r\n            cursor = lastRet;\r\n            lastRet = -1;\r\n        }\r\n\r\nLet&#39;s look at an example:\r\n\r\n    List list = new ArrayList(Arrays.asList(1, 2, 3, 4));\r\n    Iterator it = list.iterator();\r\n    Integer item = it.next();\r\n\r\nWe remove the first element\r\n\r\n    list.remove(0);\r\n\r\nIf we want to call `it.remove()` now, the iterator would remove *number 2* because that&#39;s what field `lastRet` points to now.\r\n\r\n    if (item == 1) {\r\n       it.remove(); // list contains 3, 4\r\n    }\r\n\r\nThis would be incorrect behavior! The contract of the iterator states that `remove()` deletes the last element returned by `next()` but it couldn&#39;t hold it&#39;s contract in the presence of concurrent modifications. Therefore it chooses to be on the safe side and throw an exception.\r\n\r\nThe situation may be even more complex for other collections. If you modify a `HashMap`, it may grow or shrink as needed. At that time, elements would fall to different buckets and an iterator keeping pointer to a bucket before rehashing would be completely lost.\r\n\r\nNotice that `iterator.remove()` doesn&#39;t throw an exception by itself because it is able to update *both* the internal state of itself and the collection. Calling `remove()` on two iterators of the same instance collection would throw, however, because it would leave one of the iterators in an inconsistent state.","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p>Here is an example how things could go wrong if collection iterators didn't check for modifications of the underlying collection. This is how <code>ArrayLists</code>'s iterator is implemented:</p>\n\n<pre><code>private class Itr implements Iterator&lt;E&gt; {\n    int cursor;       // index of next element to return\n    int lastRet = -1; // index of last element returned; -1 if no such\n\n    public E next() {\n        checkForComodification();\n        int i = cursor;\n        if (i &gt;= size) throw new NoSuchElementException();\n        // ...\n        cursor = i + 1;\n        return (E) elementData[lastRet = i];\n    }\n\n    public void remove() {\n        // ...\n        ArrayList.this.remove(lastRet);\n        // ...\n        cursor = lastRet;\n        lastRet = -1;\n    }\n</code></pre>\n\n<p>Let's look at an example:</p>\n\n<pre><code>List list = new ArrayList(Arrays.asList(1, 2, 3, 4));\nIterator it = list.iterator();\nInteger item = it.next();\n</code></pre>\n\n<p>We remove the first element</p>\n\n<pre><code>list.remove(0);\n</code></pre>\n\n<p>If we want to call <code>it.remove()</code> now, the iterator would remove <em>number 2</em> because that's what field <code>lastRet</code> points to now.</p>\n\n<pre><code>if (item == 1) {\n   it.remove(); // list contains 3, 4\n}\n</code></pre>\n\n<p>This would be incorrect behavior! The contract of the iterator states that <code>remove()</code> deletes the last element returned by <code>next()</code> but it couldn't hold it's contract in the presence of concurrent modifications. Therefore it chooses to be on the safe side and throw an exception.</p>\n\n<p>The situation may be even more complex for other collections. If you modify a <code>HashMap</code>, it may grow or shrink as needed. At that time, elements would fall to different buckets and an iterator keeping pointer to a bucket before rehashing would be completely lost.</p>\n\n<p>Notice that <code>iterator.remove()</code> doesn't throw an exception by itself because it is able to update <em>both</em> the internal state of itself and the collection. Calling <code>remove()</code> on two iterators of the same instance collection would throw, however, because it would leave one of the iterators in an inconsistent state.</p>\n"},{"tags":[],"owner":{"account_id":8695827,"reputation":36,"user_id":6507211,"display_name":"Mat8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526816527,"creation_date":1526816109,"answer_id":50434414,"question_id":24856811,"body_markdown":"    public class ArrayListExceptionTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\n    \t\tlist1.add(&quot;a&quot;);\r\n    \t\tlist1.add(&quot;b&quot;);\r\n    \t\tlist1.add(&quot;c&quot;);\r\n    \t\tIterator&lt;String&gt; it1 = list1.iterator();\r\n    \t\tArrayList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\r\n    \t\tlist2.add(&quot;a&quot;);\r\n    \t\ttry {\r\n    \r\n    \t\t\twhile (it1.hasNext()) {\r\n    \t\t\t\tlist1.add(it1.next());\r\n    \t\t\t}\r\n    \t\t} catch (ConcurrentModificationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tit1 = list1.iterator();\r\n    \t\twhile (it1.hasNext()) {\r\n    \t\t\tSystem.out.println(it1.next());\r\n    \t\t}\r\n    \t\tit1 = list1.iterator();\r\n    \t\ttry {\r\n    \t\t\twhile (it1.hasNext()) {\r\n    \t\t\t\tif (it1.next().equals(&quot;a&quot;))\r\n    \t\t\t\t\tlist1.retainAll(list2);\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ConcurrentModificationException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tit1 = list1.iterator();\r\n    \t\twhile (it1.hasNext()) {\r\n    \t\t\tSystem.out.println(it1.next());\r\n    \t\t}\r\n    \t\tit1 = list1.iterator();\r\n    \t\tIterator&lt;String&gt; it2 = list1.iterator();\r\n    \t\tit1.remove();\r\n    \t\tit2.remove();\r\n    \t}\r\n    }\r\n\r\nYou can see the above 3 cases\r\n\r\ncase 1: Modification made by adding the element, hence when next() function is used it resulted in ConcurrentModificationException.\r\n\r\ncase 2: Modification made by using the retain(), hence when next() function is used it resulted in ConcurrentModificationException.\r\n\r\ncase 3: Will throw java.lang.IllegalStateException not ConcurrentModificationException.\r\n\r\nOutput:\r\n\r\n    a\r\n    b\r\n    c\r\n    a\r\n    \r\n    a\r\n    a\r\n    \r\n        java.util.ConcurrentModificationException\r\n        \tat java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\r\n        \tat java.util.ArrayList$Itr.next(ArrayList.java:859)\r\n        \tat com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:21)\r\n        java.util.ConcurrentModificationException\r\n        \tat java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\r\n        \tat java.util.ArrayList$Itr.next(ArrayList.java:859)\r\n        \tat com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:37)\r\n        Exception in thread &quot;main&quot; java.lang.IllegalStateException\r\n        \tat java.util.ArrayList$Itr.remove(ArrayList.java:872)\r\n        \tat com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:55)\r\n\r\n","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<pre><code>public class ArrayListExceptionTest {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\n        list1.add(\"a\");\n        list1.add(\"b\");\n        list1.add(\"c\");\n        Iterator&lt;String&gt; it1 = list1.iterator();\n        ArrayList&lt;String&gt; list2 = new ArrayList&lt;String&gt;();\n        list2.add(\"a\");\n        try {\n\n            while (it1.hasNext()) {\n                list1.add(it1.next());\n            }\n        } catch (ConcurrentModificationException e) {\n            e.printStackTrace();\n        }\n        it1 = list1.iterator();\n        while (it1.hasNext()) {\n            System.out.println(it1.next());\n        }\n        it1 = list1.iterator();\n        try {\n            while (it1.hasNext()) {\n                if (it1.next().equals(\"a\"))\n                    list1.retainAll(list2);\n            }\n\n        } catch (ConcurrentModificationException e) {\n            e.printStackTrace();\n        }\n        it1 = list1.iterator();\n        while (it1.hasNext()) {\n            System.out.println(it1.next());\n        }\n        it1 = list1.iterator();\n        Iterator&lt;String&gt; it2 = list1.iterator();\n        it1.remove();\n        it2.remove();\n    }\n}\n</code></pre>\n\n<p>You can see the above 3 cases</p>\n\n<p>case 1: Modification made by adding the element, hence when next() function is used it resulted in ConcurrentModificationException.</p>\n\n<p>case 2: Modification made by using the retain(), hence when next() function is used it resulted in ConcurrentModificationException.</p>\n\n<p>case 3: Will throw java.lang.IllegalStateException not ConcurrentModificationException.</p>\n\n<p>Output:</p>\n\n<pre><code>a\nb\nc\na\n\na\na\n\n    java.util.ConcurrentModificationException\n        at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\n        at java.util.ArrayList$Itr.next(ArrayList.java:859)\n        at com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:21)\n    java.util.ConcurrentModificationException\n        at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)\n        at java.util.ArrayList$Itr.next(ArrayList.java:859)\n        at com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:37)\n    Exception in thread \"main\" java.lang.IllegalStateException\n        at java.util.ArrayList$Itr.remove(ArrayList.java:872)\n        at com.rms.iteratortest.ArrayListExceptionTest.main(ArrayListExceptionTest.java:55)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640773105,"creation_date":1640772428,"answer_id":70517910,"question_id":24856811,"body_markdown":"Answering this question with few additional low level details:\r\n\r\nConcurrentModificationException is thrown at next call to next() method during iteration.\r\n\r\nSo its not remove() method of collection which throws this exception, but its next() method of iterator implementation.\r\n\r\n    Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\r\n    \tat java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\r\n    \tat Collection.IteratorDemo.main(IteratorDemo.java:16)\r\n\r\nyou can check line number 3 in above error log.\r\n\r\n\r\n\r\n      List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\r\n         nums.add(1);\r\n         nums.add(2);\r\n         for(int i : nums){\r\n            nums.remove(1);\r\n            System.out.println(i);\r\n     }\r\n\r\n&gt; How does this next() method know if collection is modified?\r\n\r\nBy checking a variable, [AbstractList][1]\r\n\r\n     protected transient int modCount = 0;\r\n\r\n \r\nThis variable maintains structural changes to collection by incrementing and decrementing value in add/remove call to collection.\r\nThis is how fail-fast iterator are implemented by collections.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/jp/7/api/java/util/AbstractList.html#field_detail","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p>Answering this question with few additional low level details:</p>\n<p>ConcurrentModificationException is thrown at next call to next() method during iteration.</p>\n<p>So its not remove() method of collection which throws this exception, but its next() method of iterator implementation.</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at Collection.IteratorDemo.main(IteratorDemo.java:16)\n</code></pre>\n<p>you can check line number 3 in above error log.</p>\n<pre><code>  List&lt;Integer&gt; nums = new ArrayList&lt;&gt;();\n     nums.add(1);\n     nums.add(2);\n     for(int i : nums){\n        nums.remove(1);\n        System.out.println(i);\n }\n</code></pre>\n<blockquote>\n<p>How does this next() method know if collection is modified?</p>\n</blockquote>\n<p>By checking a variable, <a href=\"https://docs.oracle.com/javase/jp/7/api/java/util/AbstractList.html#field_detail\" rel=\"nofollow noreferrer\">AbstractList</a></p>\n<pre><code> protected transient int modCount = 0;\n</code></pre>\n<p>This variable maintains structural changes to collection by incrementing and decrementing value in add/remove call to collection.\nThis is how fail-fast iterator are implemented by collections.</p>\n"}],"owner":{"account_id":2813792,"reputation":1545,"user_id":2419434,"accept_rate":72,"display_name":"javafan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22453,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"accepted_answer_id":25131943,"answer_count":6,"score":24,"last_activity_date":1640773105,"creation_date":1405908650,"question_id":24856811,"body_markdown":"What does `iterator.remove()` do differently from `list.remove()`, so that iterator does not throw an exception and `list.remove()` does throw one? In the end, both are modifying the collection size.\r\n\r\nPlease ignore multi-threading here. I am just talking about a for-each loop and an iterator loop. As far as I know, a for-each loop creates an iterator only internally.\r\n\r\nI am confused.","title":"Why iterator.remove does not throw ConcurrentModificationException","body":"<p>What does <code>iterator.remove()</code> do differently from <code>list.remove()</code>, so that iterator does not throw an exception and <code>list.remove()</code> does throw one? In the end, both are modifying the collection size.</p>\n\n<p>Please ignore multi-threading here. I am just talking about a for-each loop and an iterator loop. As far as I know, a for-each loop creates an iterator only internally.</p>\n\n<p>I am confused.</p>\n"},{"tags":["java","regex","jira"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640773067,"creation_date":1640769756,"answer_id":70517441,"question_id":70517396,"body_markdown":"To get all 3 tables in a separate match, you can use:\r\n\r\n    ^\\|\\|.*\\|(?:\\R\\|\\|.*\\|)*$\r\n\r\n[Regex demo](https://regex101.com/r/KQ8UdW/1)\r\n\r\nYou can get all 3 tables with a key value pair by for example first splitting on all empty lines. \r\n\r\nThen you can use a pattern for every table with the `\\G` anchors to get the values in 2 capture groups, that you can add to a key/value collection.\r\n\r\n    \\G\\|\\|\\h*(.*?)\\h*\\|\\h*(\\[[^\\]\\[]*\\]|.*?)\\h*\\|\\R?\r\n\r\n- `\\G` Assert the position at the end of the previous match\r\n- `\\|\\|\\h*` Match `||` and optional spaces\r\n- `(.*?)` Capture **group 1**, match as least as possible chars without a newline\r\n- `\\h*\\|\\h*` Match `|` surrounded by optional spaces\r\n- `(` Capture **group 2**\r\n  - `\\[[^\\]\\[]*\\]` Match from an opening till closing square bracket\r\n  - `|` Or \r\n  - `.*?` atch as least as possible chars without a newline\r\n- `)` Close group 2\r\n- `\\h*\\|` Match optional spaces and `|`\r\n- `\\R?` Match an optional newline\r\n\r\nSee a [regex demo](https://regex101.com/r/IuwGK3/1) and a  [Java demo](https://ideone.com/0exL8U).\r\n\r\nFor example\r\n\r\n    HashMap&lt;String,String&gt; m = new HashMap&lt;String,String&gt;();\r\n    String regex = &quot;\\\\G\\\\|\\\\|\\\\h*(.*?)\\\\h*\\\\|\\\\h*(\\\\[[^\\\\]\\\\[]*\\\\]|.*?)\\\\h*\\\\|\\\\R?&quot;;\r\n    String string = &quot;|| Responsible | abc|\\n&quot;\r\n            + &quot;|| Departement | def |\\n\\n&quot;\r\n            + &quot;|| SystemA Username | ghi |\\n&quot;\r\n            + &quot;|| Operation | READ |\\n&quot;\r\n            + &quot;|| Page | [Example|http://www.example.com] |\\n\\n&quot;\r\n            + &quot;|| SystemB Username | jhk |\\n&quot;\r\n            + &quot;|| Operation | WRITE |\\n&quot;\r\n            + &quot;|| App | helloWorld |&quot;;\r\n    \r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);       \r\n    \r\n    for (String s : string.split(&quot;(?m)^\\\\s*$&quot;)) {\r\n        Matcher matcher = pattern.matcher(s.trim());\r\n        while (matcher.find()) {\r\n            m.put(matcher.group(1), matcher.group(2));\r\n        }\r\n    }\r\n    \r\n    for(Map.Entry&lt;String, String&gt; entry : m.entrySet()){\r\n        System.out.println(entry.getKey() + &quot; --&gt; &quot; + entry.getValue());\r\n    }\r\n\r\nOutput\r\n\r\n    App --&gt; helloWorld\r\n    SystemB Username --&gt; jhk\r\n    Departement --&gt; def\r\n    SystemA Username --&gt; ghi\r\n    Page --&gt; [Example|http://www.example.com]\r\n    Operation --&gt; WRITE\r\n    Responsible --&gt; abc\r\n\r\n","title":"How to find tables from JIRA issue description field","body":"<p>To get all 3 tables in a separate match, you can use:</p>\n<pre><code>^\\|\\|.*\\|(?:\\R\\|\\|.*\\|)*$\n</code></pre>\n<p><a href=\"https://regex101.com/r/KQ8UdW/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>You can get all 3 tables with a key value pair by for example first splitting on all empty lines.</p>\n<p>Then you can use a pattern for every table with the <code>\\G</code> anchors to get the values in 2 capture groups, that you can add to a key/value collection.</p>\n<pre><code>\\G\\|\\|\\h*(.*?)\\h*\\|\\h*(\\[[^\\]\\[]*\\]|.*?)\\h*\\|\\R?\n</code></pre>\n<ul>\n<li><code>\\G</code> Assert the position at the end of the previous match</li>\n<li><code>\\|\\|\\h*</code> Match <code>||</code> and optional spaces</li>\n<li><code>(.*?)</code> Capture <strong>group 1</strong>, match as least as possible chars without a newline</li>\n<li><code>\\h*\\|\\h*</code> Match <code>|</code> surrounded by optional spaces</li>\n<li><code>(</code> Capture <strong>group 2</strong>\n<ul>\n<li><code>\\[[^\\]\\[]*\\]</code> Match from an opening till closing square bracket</li>\n<li><code>|</code> Or</li>\n<li><code>.*?</code> atch as least as possible chars without a newline</li>\n</ul>\n</li>\n<li><code>)</code> Close group 2</li>\n<li><code>\\h*\\|</code> Match optional spaces and <code>|</code></li>\n<li><code>\\R?</code> Match an optional newline</li>\n</ul>\n<p>See a <a href=\"https://regex101.com/r/IuwGK3/1\" rel=\"nofollow noreferrer\">regex demo</a> and a  <a href=\"https://ideone.com/0exL8U\" rel=\"nofollow noreferrer\">Java demo</a>.</p>\n<p>For example</p>\n<pre><code>HashMap&lt;String,String&gt; m = new HashMap&lt;String,String&gt;();\nString regex = &quot;\\\\G\\\\|\\\\|\\\\h*(.*?)\\\\h*\\\\|\\\\h*(\\\\[[^\\\\]\\\\[]*\\\\]|.*?)\\\\h*\\\\|\\\\R?&quot;;\nString string = &quot;|| Responsible | abc|\\n&quot;\n        + &quot;|| Departement | def |\\n\\n&quot;\n        + &quot;|| SystemA Username | ghi |\\n&quot;\n        + &quot;|| Operation | READ |\\n&quot;\n        + &quot;|| Page | [Example|http://www.example.com] |\\n\\n&quot;\n        + &quot;|| SystemB Username | jhk |\\n&quot;\n        + &quot;|| Operation | WRITE |\\n&quot;\n        + &quot;|| App | helloWorld |&quot;;\n\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);       \n\nfor (String s : string.split(&quot;(?m)^\\\\s*$&quot;)) {\n    Matcher matcher = pattern.matcher(s.trim());\n    while (matcher.find()) {\n        m.put(matcher.group(1), matcher.group(2));\n    }\n}\n\nfor(Map.Entry&lt;String, String&gt; entry : m.entrySet()){\n    System.out.println(entry.getKey() + &quot; --&gt; &quot; + entry.getValue());\n}\n</code></pre>\n<p>Output</p>\n<pre><code>App --&gt; helloWorld\nSystemB Username --&gt; jhk\nDepartement --&gt; def\nSystemA Username --&gt; ghi\nPage --&gt; [Example|http://www.example.com]\nOperation --&gt; WRITE\nResponsible --&gt; abc\n</code></pre>\n"}],"owner":{"account_id":3691365,"reputation":183,"user_id":3073875,"accept_rate":50,"display_name":"Clueless"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70517441,"answer_count":1,"score":0,"last_activity_date":1640773067,"creation_date":1640769536,"question_id":70517396,"body_markdown":"I have a question about how to find the begin and end of table inside a Jira issue description field.\r\n\r\nIn my case I have three possible tables inside one ticket.\r\n\r\n    || Responsible | abc|\r\n    || Departement | def |\r\n\r\n    || SystemA Username | ghi |\r\n    || Operation | READ |\r\n    || Page | [Example|http://www.example.com] |\r\n\r\n    || SystemB Username | jhk |\r\n    || Operation | WRITE |\r\n    || App | helloWorld |\r\n\r\n\r\nNow I don&#39;t find a solution how to find all tables inside the description and how to find out which type the table is (Responsible, A, or B)\r\n\r\n[From the JIRA API][1] will return a string (Java). I assume that regex should be the first choice.\r\n\r\nIn my first version I know only how to find the begin of the table and the end\r\n\r\n    ^\\|\\| \\|$\r\n\r\nIs it possible to find all three tables separately? Can I get the content into a key/value collection?\r\n\r\n\r\n  [1]: https://docs.atlassian.com/software/jira/docs/api/7.2.2/com/atlassian/jira/issue/Issue.html#getDescription--","title":"How to find tables from JIRA issue description field","body":"<p>I have a question about how to find the begin and end of table inside a Jira issue description field.</p>\n<p>In my case I have three possible tables inside one ticket.</p>\n<pre><code>|| Responsible | abc|\n|| Departement | def |\n\n|| SystemA Username | ghi |\n|| Operation | READ |\n|| Page | [Example|http://www.example.com] |\n\n|| SystemB Username | jhk |\n|| Operation | WRITE |\n|| App | helloWorld |\n</code></pre>\n<p>Now I don't find a solution how to find all tables inside the description and how to find out which type the table is (Responsible, A, or B)</p>\n<p><a href=\"https://docs.atlassian.com/software/jira/docs/api/7.2.2/com/atlassian/jira/issue/Issue.html#getDescription--\" rel=\"nofollow noreferrer\">From the JIRA API</a> will return a string (Java). I assume that regex should be the first choice.</p>\n<p>In my first version I know only how to find the begin of the table and the end</p>\n<pre><code>^\\|\\| \\|$\n</code></pre>\n<p>Is it possible to find all three tables separately? Can I get the content into a key/value collection?</p>\n"},{"tags":["java","security","log4j","code-injection","network-security"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1640174404,"post_id":70448620,"comment_id":124531973,"body_markdown":"&quot;I&#39;m also wondering if such a large expenditure of effort across the board is proportionate.&quot; - this vuln allows for full remote code execution. You should do EVERYTHING to fix it asap.","body":"&quot;I&#39;m also wondering if such a large expenditure of effort across the board is proportionate.&quot; - this vuln allows for full remote code execution. You should do EVERYTHING to fix it asap."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1640174700,"post_id":70448620,"comment_id":124532072,"body_markdown":"The problem is that any value from an outside world might be abused to place that malicious jndi expression. A http header, a par of a POSTed xml or json document, anything. So it doesnt have to be an outside-facing application as long as it can receive any part of outside input.","body":"The problem is that any value from an outside world might be abused to place that malicious jndi expression. A http header, a par of a POSTed xml or json document, anything. So it doesnt have to be an outside-facing application as long as it can receive any part of outside input."},{"owner":{"account_id":2671904,"reputation":191,"user_id":2309117,"accept_rate":100,"display_name":"westwell"},"score":0,"creation_date":1640175803,"post_id":70448620,"comment_id":124532482,"body_markdown":"Thanks @f1sh, that makes sense. I can see that the Log4J vulnerability involves messages being logged in situations where code would normally reject inputs, so it&#39;s worse than an SQL Injection attack. Where I&#39;m trying to get to with my thinking is to understand how a part of outside input can hit an internal application considering how network security is set up to try to prevent this. That would help understand whether there are general risks being uncovered here that as Java developers we should be more aware of (and should possibly be addressed at the same time as fixing Log4J versions).","body":"Thanks @f1sh, that makes sense. I can see that the Log4J vulnerability involves messages being logged in situations where code would normally reject inputs, so it&#39;s worse than an SQL Injection attack. Where I&#39;m trying to get to with my thinking is to understand how a part of outside input can hit an internal application considering how network security is set up to try to prevent this. That would help understand whether there are general risks being uncovered here that as Java developers we should be more aware of (and should possibly be addressed at the same time as fixing Log4J versions)."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1640182041,"post_id":70448620,"comment_id":124534956,"body_markdown":"Another reason to fix everything is that, even though some applications might not be accessible by outside entities today, you don&#39;t know about tomorrow. And most likely, you will forget to fix before you deploy affected software. Maybe they will be last on the list, but they must be fixed immediately after all customer-facing applications.","body":"Another reason to fix everything is that, even though some applications might not be accessible by outside entities today, you don&#39;t know about tomorrow. And most likely, you will forget to fix before you deploy affected software. Maybe they will be last on the list, but they must be fixed immediately after all customer-facing applications."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1640184974,"post_id":70448620,"comment_id":124536170,"body_markdown":"@westwell one thing you need to keep in mind is that if you are using other 3rd party libraries, they are most likely using Log4J and because of that, your application is vulnerable through them even though you upgraded to the patched version of Log4J. SO... you have to (most likely) upgrade ALL your 3rd party libraries.","body":"@westwell one thing you need to keep in mind is that if you are using other 3rd party libraries, they are most likely using Log4J and because of that, your application is vulnerable through them even though you upgraded to the patched version of Log4J. SO... you have to (most likely) upgrade ALL your 3rd party libraries."},{"owner":{"account_id":2671904,"reputation":191,"user_id":2309117,"accept_rate":100,"display_name":"westwell"},"score":0,"creation_date":1640185371,"post_id":70448620,"comment_id":124536319,"body_markdown":"@hfontanez: agree with you about the 3rd party libraries. I understand the need to look for the presence of Log4J in those and also to look inside jars for included occurrences of Log4J","body":"@hfontanez: agree with you about the 3rd party libraries. I understand the need to look for the presence of Log4J in those and also to look inside jars for included occurrences of Log4J"},{"owner":{"account_id":2671904,"reputation":191,"user_id":2309117,"accept_rate":100,"display_name":"westwell"},"score":0,"creation_date":1640185790,"post_id":70448620,"comment_id":124536512,"body_markdown":"That sounds reasonable, @hfontanez. This is a step forward in my thinking: Log4J is an unusual vulnerability in that it involves processes that are typically involved in reporting errors. We might even be logging the fact that we detected and successfully rejected an attempted attack by an intruder while inadvertently triggering the bad command. As a result, it does merit special attention because it may present vulnerabilities for internal applications that can be exploited deliberately by a series of events originating outside the organisation, each of which might seem innocent enough.","body":"That sounds reasonable, @hfontanez. This is a step forward in my thinking: Log4J is an unusual vulnerability in that it involves processes that are typically involved in reporting errors. We might even be logging the fact that we detected and successfully rejected an attempted attack by an intruder while inadvertently triggering the bad command. As a result, it does merit special attention because it may present vulnerabilities for internal applications that can be exploited deliberately by a series of events originating outside the organisation, each of which might seem innocent enough."}],"answers":[{"tags":[],"owner":{"account_id":2671904,"reputation":191,"user_id":2309117,"accept_rate":100,"display_name":"westwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640772933,"creation_date":1640772933,"answer_id":70518012,"question_id":70448620,"body_markdown":"Having considered the comments from @f1sh and @hfontanez and spoken to a couple more people, I&#39;m happy that I have an understanding of the distinctive aspects of this vulnerability that suggest internal apps should be considered vulnerable despite running in a secured environment. \r\n\r\n1) I think the significant feature of this vulnerability is that the problems are manifested during the act of logging, and logging is ubiquitous. Logging even takes place in code that is itself trying to deal with attempted intrusions and this aspect potentially opens up new lines of attack from bad actors.\r\n\r\n2) With regard to running internal code in a secure organisation, I understand there is the prospect of a chain of events starting outside the organisation that might eventually lead to the Log4J vulnerability being exploited inside the organisation. At this point in time, this is maybe more a possibility than a reality, but given the unique nature of this vulnerability then it may make such an attack easier to execute.\r\n\r\n3) One point to take away from this vulnerability is the importance of ensuring that internal applications cannot make network calls outside the organisation if they have no need to do so, and any valid calls to outside are restricted to what is needed. \r\n\r\n ","title":"Does the Log4J vulnerability open up vulnerabilites in an internal secure network that would not be present otherwise?","body":"<p>Having considered the comments from @f1sh and @hfontanez and spoken to a couple more people, I'm happy that I have an understanding of the distinctive aspects of this vulnerability that suggest internal apps should be considered vulnerable despite running in a secured environment.</p>\n<ol>\n<li><p>I think the significant feature of this vulnerability is that the problems are manifested during the act of logging, and logging is ubiquitous. Logging even takes place in code that is itself trying to deal with attempted intrusions and this aspect potentially opens up new lines of attack from bad actors.</p>\n</li>\n<li><p>With regard to running internal code in a secure organisation, I understand there is the prospect of a chain of events starting outside the organisation that might eventually lead to the Log4J vulnerability being exploited inside the organisation. At this point in time, this is maybe more a possibility than a reality, but given the unique nature of this vulnerability then it may make such an attack easier to execute.</p>\n</li>\n<li><p>One point to take away from this vulnerability is the importance of ensuring that internal applications cannot make network calls outside the organisation if they have no need to do so, and any valid calls to outside are restricted to what is needed.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":2671904,"reputation":191,"user_id":2309117,"accept_rate":100,"display_name":"westwell"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70518012,"answer_count":1,"score":0,"last_activity_date":1640772933,"creation_date":1640173881,"question_id":70448620,"body_markdown":"Is there an &quot;internal secured application&quot; scenario where software is more vulnerable because of earlier Log4J versions than it would be without it? \r\n\r\nI&#39;ve outlined some detail about this question below.\r\n\r\nI&#39;m doing some work to mitigate the risks from the recent Log4J vulnerability. I am aware of approaches that involve removing all traces of earlier Log4J jar files from all the organisation&#39;s computers, servers, remote desktops, everything, with the organisation considered &quot;at risk&quot; until this has been done. However, I&#39;m also wondering if such a large expenditure of effort across the board is proportionate [edit 22-Dec-21 12:15 - apologies: to be clear what I&#39;m trying to understand by &quot;proportionate&quot; is whether we will get better outcomes by focusing a lot of effort towards some Log4J code uses with less effort into others, considering that there may be other non-Log4J vulnerabilities that we can address during this same organisational workload].\r\n\r\nI have a basic understanding of the vulnerability, for example from https://www.microsoft.com/security/blog/2021/12/11/guidance-for-preventing-detecting-and-hunting-for-cve-2021-44228-log4j-2-exploitation/ where a bad actor sends an HTTP message containing a JNDI command, which then gets executed when the program next attempts to write to the log. The risks there seem obvious for public-facing applications and put me in mind of well-understood SQL Injection attacks (the classic &lt;surname:&gt; SMITH;DROP TABLE CUSTOMERS comes to mind). \r\n\r\nBut an &quot;across the board&quot; solution is seeking to mitigate risks to software such as \r\n- internal Java web applications that are protected from the outside world (both in and out) by techniques such as firewalls and DMZs\r\n- internal Java batch programs that I&#39;d expect to be immune to tampering with anyway during execution\r\n- Citrix virtual desktops that can indeed run in administrator mode, depending on the user, but that I would expect to be totally inaccessible from the outside world.\r\n\r\nThe only justification I&#39;ve heard so far for &quot;across the board&quot; is that a bad actor might be able to tunnel into the network and cause the Log4J vulnerability to be executed, but in that scenario it seems that a bad actor tunnelling into a network could just go right ahead and execute malware themselves and not bother trying to find programs that use earlier versions of Log4J. \r\n\r\n","title":"Does the Log4J vulnerability open up vulnerabilites in an internal secure network that would not be present otherwise?","body":"<p>Is there an &quot;internal secured application&quot; scenario where software is more vulnerable because of earlier Log4J versions than it would be without it?</p>\n<p>I've outlined some detail about this question below.</p>\n<p>I'm doing some work to mitigate the risks from the recent Log4J vulnerability. I am aware of approaches that involve removing all traces of earlier Log4J jar files from all the organisation's computers, servers, remote desktops, everything, with the organisation considered &quot;at risk&quot; until this has been done. However, I'm also wondering if such a large expenditure of effort across the board is proportionate [edit 22-Dec-21 12:15 - apologies: to be clear what I'm trying to understand by &quot;proportionate&quot; is whether we will get better outcomes by focusing a lot of effort towards some Log4J code uses with less effort into others, considering that there may be other non-Log4J vulnerabilities that we can address during this same organisational workload].</p>\n<p>I have a basic understanding of the vulnerability, for example from <a href=\"https://www.microsoft.com/security/blog/2021/12/11/guidance-for-preventing-detecting-and-hunting-for-cve-2021-44228-log4j-2-exploitation/\" rel=\"nofollow noreferrer\">https://www.microsoft.com/security/blog/2021/12/11/guidance-for-preventing-detecting-and-hunting-for-cve-2021-44228-log4j-2-exploitation/</a> where a bad actor sends an HTTP message containing a JNDI command, which then gets executed when the program next attempts to write to the log. The risks there seem obvious for public-facing applications and put me in mind of well-understood SQL Injection attacks (the classic surname: SMITH;DROP TABLE CUSTOMERS comes to mind).</p>\n<p>But an &quot;across the board&quot; solution is seeking to mitigate risks to software such as</p>\n<ul>\n<li>internal Java web applications that are protected from the outside world (both in and out) by techniques such as firewalls and DMZs</li>\n<li>internal Java batch programs that I'd expect to be immune to tampering with anyway during execution</li>\n<li>Citrix virtual desktops that can indeed run in administrator mode, depending on the user, but that I would expect to be totally inaccessible from the outside world.</li>\n</ul>\n<p>The only justification I've heard so far for &quot;across the board&quot; is that a bad actor might be able to tunnel into the network and cause the Log4J vulnerability to be executed, but in that scenario it seems that a bad actor tunnelling into a network could just go right ahead and execute malware themselves and not bother trying to find programs that use earlier versions of Log4J.</p>\n"},{"tags":["java","gmail-api"],"comments":[{"owner":{"account_id":19506793,"reputation":2323,"user_id":14271633,"display_name":"Emel"},"score":0,"creation_date":1640189162,"post_id":70447366,"comment_id":124537827,"body_markdown":"From what I see in the [documentation](https://developers.google.com/gmail/api/reference/rest/v1/users.messages/list), you can use `q` with the same format as Gmail Search Box. Can you check if the messages appear under this conditions?   Take into account that `Gmail` stores the time as UTC an after is translated to your local time.","body":"From what I see in the <a href=\"https://developers.google.com/gmail/api/reference/rest/v1/users.messages/list\" rel=\"nofollow noreferrer\">documentation</a>, you can use <code>q</code> with the same format as Gmail Search Box. Can you check if the messages appear under this conditions?   Take into account that <code>Gmail</code> stores the time as UTC an after is translated to your local time."},{"owner":{"account_id":19506793,"reputation":2323,"user_id":14271633,"display_name":"Emel"},"score":0,"creation_date":1640190587,"post_id":70447366,"comment_id":124538451,"body_markdown":"It would be helpful if you also check the `Date` header inside the payload.","body":"It would be helpful if you also check the <code>Date</code> header inside the payload."},{"owner":{"account_id":23718593,"reputation":33,"user_id":17739427,"display_name":"ApplDev"},"score":0,"creation_date":1640416682,"post_id":70447366,"comment_id":124584832,"body_markdown":"@Emel I am using q for the query; I updated my original question with some more info.","body":"@Emel I am using q for the query; I updated my original question with some more info."}],"answers":[{"tags":[],"owner":{"account_id":19506793,"reputation":2323,"user_id":14271633,"display_name":"Emel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640772189,"creation_date":1640701347,"answer_id":70508368,"question_id":70447366,"body_markdown":"As the [documentation][1] states:\r\n\r\n&gt; To specify accurate dates for other timezones pass the value in seconds instead.\r\n\r\nThis is a Java sample code, is tested and working .For the example I get all the messages from yesterday 23:00 to today 13:00. **Tip**: You can use `me` as a keyword to your email account: \r\n\r\n```java\r\nlong startTimeEpoch = LocalDateTime.parse(&quot;2021-12-27T23:00&quot;,\r\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;)).toEpochSecond(ZoneOffset.UTC);\r\nlong endTimeEpoch = LocalDateTime.parse(&quot;2021-12-28T13:00&quot;,\r\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm&quot;)).toEpochSecond(ZoneOffset.UTC);\r\nString query = String.format(&quot;after:%s before:%s&quot;, startTimeEpoch, endTimeEpoch);\r\nString account = &quot;me&quot;;\r\nSystem.out.println(query);\r\nList &lt; String &gt; labelIds = new ArrayList &lt; &gt; ();\r\nlabelIds.add(&quot;Label_mylabelid&quot;);\r\nList &lt; Message &gt; timeZoneMsgs = service.users().messages().list(account)\r\n    .setQ(query)\r\n    .execute()\r\n    .getMessages();\r\nSystem.out.println(timeZoneMsgs);\r\n```\r\n##### Documentation:\r\n\r\n - [Gmail API Javadoc documentation][2]\r\n - [LocalDateTime](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html)\r\n - [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html)\r\n\r\n\r\n  [1]: https://developers.google.com/gmail/api/guides/filtering\r\n  [2]: https://googleapis.dev/java/google-api-services-gmail/latest/index.html","title":"GMAIL API - Date search (timezone unclear)","body":"<p>As the <a href=\"https://developers.google.com/gmail/api/guides/filtering\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n<blockquote>\n<p>To specify accurate dates for other timezones pass the value in seconds instead.</p>\n</blockquote>\n<p>This is a Java sample code, is tested and working .For the example I get all the messages from yesterday 23:00 to today 13:00. <strong>Tip</strong>: You can use <code>me</code> as a keyword to your email account:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long startTimeEpoch = LocalDateTime.parse(&quot;2021-12-27T23:00&quot;,\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm&quot;)).toEpochSecond(ZoneOffset.UTC);\nlong endTimeEpoch = LocalDateTime.parse(&quot;2021-12-28T13:00&quot;,\n    DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm&quot;)).toEpochSecond(ZoneOffset.UTC);\nString query = String.format(&quot;after:%s before:%s&quot;, startTimeEpoch, endTimeEpoch);\nString account = &quot;me&quot;;\nSystem.out.println(query);\nList &lt; String &gt; labelIds = new ArrayList &lt; &gt; ();\nlabelIds.add(&quot;Label_mylabelid&quot;);\nList &lt; Message &gt; timeZoneMsgs = service.users().messages().list(account)\n    .setQ(query)\n    .execute()\n    .getMessages();\nSystem.out.println(timeZoneMsgs);\n</code></pre>\n<h5>Documentation:</h5>\n<ul>\n<li><a href=\"https://googleapis.dev/java/google-api-services-gmail/latest/index.html\" rel=\"nofollow noreferrer\">Gmail API Javadoc documentation</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></li>\n</ul>\n"}],"owner":{"account_id":23718593,"reputation":33,"user_id":17739427,"display_name":"ApplDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70508368,"answer_count":1,"score":2,"last_activity_date":1640772189,"creation_date":1640167832,"question_id":70447366,"body_markdown":"According to https://developers.google.com/gmail/api/guides/filtering, if you search for a date, the PST timezone is used.\r\n\r\nI have an email with:\r\n\r\n     Date: Tue, 27 Jul 2021 06:07:49 GMT (06:07 AM)\r\n\r\nIf you convert this to the PST timezone, it should be:\r\n\r\n    Date: Mon, 26 Jul 2021 23:07:49 PST (11:07 PM)\r\n\r\nNow when i use the query \r\n\r\n    after:2021/07/27\r\n\r\nthe email is found but shouldn&#39;t be according to the definition (also when i search directly on gmail.com).\r\n\r\nFor the query\r\n\r\n    before:2021/07/27\r\n\r\nnothing is returned.\r\n\r\nI didn&#39;t find a description yet on how to correctly search by a date and which timezones are really applied.\r\n\r\n\r\nI&#39;m using google-api-services-gmail-v1-rev110-1.25.0.jar.\r\n\r\n--------\r\nAdditional info:\r\n\r\n    String account = &quot;myemail@gmail.com&quot;;\r\n    \r\n    List&lt;String&gt; labelIds = new ArrayList&lt;&gt;();\r\n    labelIds.add(&quot;Label_mylabelid&quot;);\r\n    \t\t\r\n    String query = &quot;after:2021/07/27&quot;;\r\n    List&lt;Message&gt; timeZoneMsgs = gmail.users().messages().list(account).setQ(query).setLabelIds(labelIds).execute().getMessages();\r\n\r\nI ran another test: I scheduled some emails to be sent between 11:30pm and 01:00am on the next day.\r\n\r\nHere are the date headers (directly out of the payload) of the messages:\r\n\r\n    Scheduled mail 1\r\n    Date: Fri, 24 Dec 2021 23:30:00 +0100\r\n    \r\n    Scheduled mail 2\r\n    Date: Fri, 24 Dec 2021 23:45:00 +0100\r\n    \r\n    Scheduled mail 3\r\n    Date: Sat, 25 Dec 2021 00:00:00 +0100\r\n    \r\n    Scheduled mail 4\r\n    Date: Sat, 25 Dec 2021 00:15:00 +0100\r\n    \r\n    Scheduled mail 5\r\n    Date: Sat, 25 Dec 2021 00:30:00 +0100\r\n    \r\n    Scheduled mail 6\r\n    Date: Sat, 25 Dec 2021 00:45:00 +0100\r\n    \r\n    Scheduled mail 7\r\n    Date: Sat, 25 Dec 2021 01:00:00 +0100\r\n\r\n\r\nIf I search with\r\n\r\n    after:2021/12/25 \r\n\r\ndirectly on gmail.com - i get the messages 3 to 7 and if i search with\r\n\r\n    before:2021/12/25\r\nI get 1 and 2, which is both correct.\r\n\r\n\r\nBUT when I do the same with the java call, I only get message 7 (1am) for &quot;after:2021/12/25&quot; and messages 1-6 for &quot;before:2021/12/25&quot;.\r\n\r\n--------\r\n\r\nAnother example:\r\n\r\nI also tried searching with the epoch time in UTC:\r\n\r\n\tCalendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tcalendar.clear();\r\n\tcalendar.set(2021, Calendar.DECEMBER, 25);\r\n\tlong secondsSinceEpoch = calendar.getTimeInMillis() / 1000L; // 1640390400\r\n\r\nHere, I get the same result for direct gmail.com search and java search: Message 7 (1pm) for &quot;after:1640390400&quot; and 1-6 for &quot;before:1640390400&quot;.\r\n\r\nIf I try this for PST (1640419200), I get no messages for &quot;after:1640419200&quot; and all of them for &quot;before:1640419200&quot;.\r\n\r\n","title":"GMAIL API - Date search (timezone unclear)","body":"<p>According to <a href=\"https://developers.google.com/gmail/api/guides/filtering\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/api/guides/filtering</a>, if you search for a date, the PST timezone is used.</p>\n<p>I have an email with:</p>\n<pre><code> Date: Tue, 27 Jul 2021 06:07:49 GMT (06:07 AM)\n</code></pre>\n<p>If you convert this to the PST timezone, it should be:</p>\n<pre><code>Date: Mon, 26 Jul 2021 23:07:49 PST (11:07 PM)\n</code></pre>\n<p>Now when i use the query</p>\n<pre><code>after:2021/07/27\n</code></pre>\n<p>the email is found but shouldn't be according to the definition (also when i search directly on gmail.com).</p>\n<p>For the query</p>\n<pre><code>before:2021/07/27\n</code></pre>\n<p>nothing is returned.</p>\n<p>I didn't find a description yet on how to correctly search by a date and which timezones are really applied.</p>\n<p>I'm using google-api-services-gmail-v1-rev110-1.25.0.jar.</p>\n<hr />\n<p>Additional info:</p>\n<pre><code>String account = &quot;myemail@gmail.com&quot;;\n\nList&lt;String&gt; labelIds = new ArrayList&lt;&gt;();\nlabelIds.add(&quot;Label_mylabelid&quot;);\n        \nString query = &quot;after:2021/07/27&quot;;\nList&lt;Message&gt; timeZoneMsgs = gmail.users().messages().list(account).setQ(query).setLabelIds(labelIds).execute().getMessages();\n</code></pre>\n<p>I ran another test: I scheduled some emails to be sent between 11:30pm and 01:00am on the next day.</p>\n<p>Here are the date headers (directly out of the payload) of the messages:</p>\n<pre><code>Scheduled mail 1\nDate: Fri, 24 Dec 2021 23:30:00 +0100\n\nScheduled mail 2\nDate: Fri, 24 Dec 2021 23:45:00 +0100\n\nScheduled mail 3\nDate: Sat, 25 Dec 2021 00:00:00 +0100\n\nScheduled mail 4\nDate: Sat, 25 Dec 2021 00:15:00 +0100\n\nScheduled mail 5\nDate: Sat, 25 Dec 2021 00:30:00 +0100\n\nScheduled mail 6\nDate: Sat, 25 Dec 2021 00:45:00 +0100\n\nScheduled mail 7\nDate: Sat, 25 Dec 2021 01:00:00 +0100\n</code></pre>\n<p>If I search with</p>\n<pre><code>after:2021/12/25 \n</code></pre>\n<p>directly on gmail.com - i get the messages 3 to 7 and if i search with</p>\n<pre><code>before:2021/12/25\n</code></pre>\n<p>I get 1 and 2, which is both correct.</p>\n<p>BUT when I do the same with the java call, I only get message 7 (1am) for &quot;after:2021/12/25&quot; and messages 1-6 for &quot;before:2021/12/25&quot;.</p>\n<hr />\n<p>Another example:</p>\n<p>I also tried searching with the epoch time in UTC:</p>\n<pre><code>Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\ncalendar.clear();\ncalendar.set(2021, Calendar.DECEMBER, 25);\nlong secondsSinceEpoch = calendar.getTimeInMillis() / 1000L; // 1640390400\n</code></pre>\n<p>Here, I get the same result for direct gmail.com search and java search: Message 7 (1pm) for &quot;after:1640390400&quot; and 1-6 for &quot;before:1640390400&quot;.</p>\n<p>If I try this for PST (1640419200), I get no messages for &quot;after:1640419200&quot; and all of them for &quot;before:1640419200&quot;.</p>\n"},{"tags":["java","hibernate","jpa","transactions","jpql"],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1640772175,"creation_date":1454934468,"answer_id":35269695,"question_id":35263091,"body_markdown":"No, it doesn&#39;t make sense to use the `NOT_SUPPORTED` transaction propagation for read-only queries, but it makes a lot of sense to use the default `REQUIRED` transaction propagation. You also need a transaction for reading data. The database always uses a transaction, no matter if you specify it or not.\r\n\r\nUsing an explicit transaction allows you to group several statements in a single transaction, and, if you are using Hibernate, you might avoid the aggressive connection release overhead.\r\n\r\nJust because JPA allows you to execute read queries without a transaction, it doesn&#39;t mean you have to do it this way.\r\n\r\nThe `NOT_SUPPORTED` mode is useful when you want to execute a service method outside of the current transaction scope. For example, when you have methods that don&#39;t need a transaction at all (e.g sending an email) so that you avoid the overhead of starting/ending a transaction context.\r\n\r\n  [1]: https://stackoverflow.com/questions/26327274/do-you-need-transaction-for-reading-data/26327536#26327536","title":"Does TransactionAttributeType.NOT_SUPPORTED make sense for retrieving entities?","body":"<p>No, it doesn't make sense to use the <code>NOT_SUPPORTED</code> transaction propagation for read-only queries, but it makes a lot of sense to use the default <code>REQUIRED</code> transaction propagation. You also need a transaction for reading data. The database always uses a transaction, no matter if you specify it or not.</p>\n<p>Using an explicit transaction allows you to group several statements in a single transaction, and, if you are using Hibernate, you might avoid the aggressive connection release overhead.</p>\n<p>Just because JPA allows you to execute read queries without a transaction, it doesn't mean you have to do it this way.</p>\n<p>The <code>NOT_SUPPORTED</code> mode is useful when you want to execute a service method outside of the current transaction scope. For example, when you have methods that don't need a transaction at all (e.g sending an email) so that you avoid the overhead of starting/ending a transaction context.</p>\n"}],"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4262,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35269695,"answer_count":1,"score":5,"last_activity_date":1640772175,"creation_date":1454910448,"question_id":35263091,"body_markdown":"Does having `TransactionAttributeType.NOT_SUPPORTED` on every DB lookup method makes sense? I don&#39;t see the point in having the entity attached if it&#39;s not going to execute an update.\r\n\r\n    @TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n    pubic List&lt;AnEntity&gt; getListEntities(){\r\n        TypedQuery&lt;AnEntity&gt; query = em.createNamedQuery(&quot;AnEntity.myQuery&quot;,AnEntity.class);\r\n        return query.getResultList();\r\n    }\r\n\r\nDoes it still end up in the cache?\r\n\r\nThe only time it seems useful to use the `REQUIRED` transcation propagation is when an update is required:\r\n\r\n     @TransactionAttribute(TransactionAttributeType.REQUIRED)\r\n     public void editPersonName(Integer id, String newName){\r\n          AnEntity anEntity= em.find(AnEntity.class, id);\r\n          anEntity.setName(newName);\r\n     }\r\n\r\n Other than that I don&#39;t really see the point.\r\n","title":"Does TransactionAttributeType.NOT_SUPPORTED make sense for retrieving entities?","body":"<p>Does having <code>TransactionAttributeType.NOT_SUPPORTED</code> on every DB lookup method makes sense? I don't see the point in having the entity attached if it's not going to execute an update.</p>\n\n<pre><code>@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\npubic List&lt;AnEntity&gt; getListEntities(){\n    TypedQuery&lt;AnEntity&gt; query = em.createNamedQuery(\"AnEntity.myQuery\",AnEntity.class);\n    return query.getResultList();\n}\n</code></pre>\n\n<p>Does it still end up in the cache?</p>\n\n<p>The only time it seems useful to use the <code>REQUIRED</code> transcation propagation is when an update is required:</p>\n\n<pre><code> @TransactionAttribute(TransactionAttributeType.REQUIRED)\n public void editPersonName(Integer id, String newName){\n      AnEntity anEntity= em.find(AnEntity.class, id);\n      anEntity.setName(newName);\n }\n</code></pre>\n\n<p>Other than that I don't really see the point.</p>\n"},{"tags":["java","jpa","jdbc","jakarta-ee"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1640771740,"post_id":70511008,"comment_id":124653820,"body_markdown":"Normally, you would update the entity directly and let your ORM handle the rest. I&#39;m not really sure what you&#39;re trying to do and what you think passing `String[]` would do, or how you would implement that.","body":"Normally, you would update the entity directly and let your ORM handle the rest. I&#39;m not really sure what you&#39;re trying to do and what you think passing <code>String[]</code> would do, or how you would implement that."},{"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"score":0,"creation_date":1640784809,"post_id":70511008,"comment_id":124657799,"body_markdown":"@MarkRotteveel I&#39;m a beginner in Java - I searched online DAO CRUD and this is what I got: https://www.baeldung.com/java-dao-pattern. That&#39;s why I&#39;m using that String[]","body":"@MarkRotteveel I&#39;m a beginner in Java - I searched online DAO CRUD and this is what I got: <a href=\"https://www.baeldung.com/java-dao-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-dao-pattern</a>. That&#39;s why I&#39;m using that String[]"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1640794320,"post_id":70511008,"comment_id":124661241,"body_markdown":"You would want to talk to the writer of that tutorial, but it was probably just a simple way of showing a mechanism that updates a java object with a set of values. It would be up to the java developer to decide how to handle each &#39;string&#39; parameter, the conversions involved and put it into their java object representation - if it is even possible. This is why there are specifications like JPA and JAXB to handle serialization to/from java classes for you and help with that, allowing you to pass around your java object and not string array representations of the data.","body":"You would want to talk to the writer of that tutorial, but it was probably just a simple way of showing a mechanism that updates a java object with a set of values. It would be up to the java developer to decide how to handle each &#39;string&#39; parameter, the conversions involved and put it into their java object representation - if it is even possible. This is why there are specifications like JPA and JAXB to handle serialization to/from java classes for you and help with that, allowing you to pass around your java object and not string array representations of the data."}],"owner":{"account_id":19670587,"reputation":1197,"user_id":17274803,"display_name":"Octavian Niculescu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640771704,"creation_date":1640715735,"question_id":70511008,"body_markdown":"I&#39;m creating my first DAO and I have some problems on the update method.\r\n\r\nFor a field like this in Entity:\r\n````\r\n@Basic\r\n@Column(name = &quot;incheiata&quot;, nullable = false)\r\nprivate Timestamp incheiata;\r\n````\r\n\r\nHow should my Update look? Right now, my parameters are strings.\r\n\r\nUpdate function header in DAO\r\n````\r\n@Override\r\npublic void update(EtapaEntity Etapa, String[] params)\r\n````\r\n\r\nI might parse string to timestamp (if it is possible - I haven&#39;t look into it yet, but I suppose it is).\r\n\r\nBut what happens if I have a field like this in my entity:\r\n````\r\n@OneToMany(mappedBy = &quot;persoanaEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\nprivate Set&lt;Participant&gt; participant = new LinkedHashSet&lt;&gt;();\r\n````\r\n\r\nHow will my update look? Because I get Strings as arguments, not a Set of whatever entity I need.\r\n\r\nSo, my question is: \r\n\r\nHow should my update look in a DAO, when I have multiple data types?","title":"Parsing parameters in DAO Update method to whatever type I need","body":"<p>I'm creating my first DAO and I have some problems on the update method.</p>\n<p>For a field like this in Entity:</p>\n<pre><code>@Basic\n@Column(name = &quot;incheiata&quot;, nullable = false)\nprivate Timestamp incheiata;\n</code></pre>\n<p>How should my Update look? Right now, my parameters are strings.</p>\n<p>Update function header in DAO</p>\n<pre><code>@Override\npublic void update(EtapaEntity Etapa, String[] params)\n</code></pre>\n<p>I might parse string to timestamp (if it is possible - I haven't look into it yet, but I suppose it is).</p>\n<p>But what happens if I have a field like this in my entity:</p>\n<pre><code>@OneToMany(mappedBy = &quot;persoanaEntity&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\nprivate Set&lt;Participant&gt; participant = new LinkedHashSet&lt;&gt;();\n</code></pre>\n<p>How will my update look? Because I get Strings as arguments, not a Set of whatever entity I need.</p>\n<p>So, my question is:</p>\n<p>How should my update look in a DAO, when I have multiple data types?</p>\n"},{"tags":["java","string","concurrency","synchronization"],"comments":[{"owner":{"account_id":9451707,"reputation":590,"user_id":7028310,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1639409387,"post_id":70335317,"comment_id":124334960,"body_markdown":"try using StringBuffer. https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html","body":"try using StringBuffer. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":22405638,"reputation":48,"user_id":16615237,"display_name":"Gumbini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1639701303,"creation_date":1639403703,"answer_id":70335806,"question_id":70335317,"body_markdown":"You can synchronize on both objects by using nested synchronized blocks and a data structure in which dedicated synchronization objects are stored.\r\nTo prevent any deadlocks I would compare the two Strings lexicographically:\r\n\r\n```\r\nprivate static final ConcurrentHashMap&lt;String, Object&gt; syncMap = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public void transfer(String from, String to, int amount) {\r\n        Object syncFrom = syncMap.computeIfAbsent(from, s -&gt; new Object());\r\n        Object syncTo = syncMap.computeIfAbsent(to, s -&gt; new Object());\r\n\r\n        int comparingResult = from.compareTo(to);\r\n\r\n        if (comparingResult &gt; 0) {\r\n            synchronized (syncFrom) {\r\n                synchronized (syncTo) {\r\n                    SomeLibrary.transfer(from, to);\r\n                }\r\n            }\r\n        } else if (comparingResult &lt; 0) {\r\n            synchronized (syncTo) {\r\n                synchronized (syncFrom) {\r\n                    SomeLibrary.transfer(from, to);\r\n                }\r\n            }\r\n        } else {\r\n                synchronized (syncFrom) { // syncFrom == syncTo\r\n                    SomeLibrary.transfer(from, to);\r\n                }\r\n        }\r\n    }\r\n```\r\n\r\nIf you are not familiar with lambda expressions:\r\n\r\n```\r\nObject syncFrom = syncMap.computeIfAbsent(from, s -&gt; new Object());\r\n```\r\nis equivalent to\r\n```\r\nObject syncFrom;\r\nsynchronized (syncMap) {\r\n    syncFrom = syncMap.get(from);\r\n    if (syncFrom == null) {\r\n        syncFrom = new Object();\r\n        syncMap.put(from, syncFrom);\r\n    }\r\n}\r\n```","title":"Synchronize on two String objects","body":"<p>You can synchronize on both objects by using nested synchronized blocks and a data structure in which dedicated synchronization objects are stored.\nTo prevent any deadlocks I would compare the two Strings lexicographically:</p>\n<pre><code>private static final ConcurrentHashMap&lt;String, Object&gt; syncMap = new ConcurrentHashMap&lt;&gt;();\n\n    public void transfer(String from, String to, int amount) {\n        Object syncFrom = syncMap.computeIfAbsent(from, s -&gt; new Object());\n        Object syncTo = syncMap.computeIfAbsent(to, s -&gt; new Object());\n\n        int comparingResult = from.compareTo(to);\n\n        if (comparingResult &gt; 0) {\n            synchronized (syncFrom) {\n                synchronized (syncTo) {\n                    SomeLibrary.transfer(from, to);\n                }\n            }\n        } else if (comparingResult &lt; 0) {\n            synchronized (syncTo) {\n                synchronized (syncFrom) {\n                    SomeLibrary.transfer(from, to);\n                }\n            }\n        } else {\n                synchronized (syncFrom) { // syncFrom == syncTo\n                    SomeLibrary.transfer(from, to);\n                }\n        }\n    }\n</code></pre>\n<p>If you are not familiar with lambda expressions:</p>\n<pre><code>Object syncFrom = syncMap.computeIfAbsent(from, s -&gt; new Object());\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>Object syncFrom;\nsynchronized (syncMap) {\n    syncFrom = syncMap.get(from);\n    if (syncFrom == null) {\n        syncFrom = new Object();\n        syncMap.put(from, syncFrom);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639418905,"creation_date":1639418905,"answer_id":70339105,"question_id":70335317,"body_markdown":"What must be clear, is that for a _transfer_ (from, to) all (from, *), (*, from), (*, to), (to, *) _transfers_ might need to be guarded.\r\n\r\nThe only way to do that is to synchronize of from and synchronize on to. This could cause a _dead lock_ when there is a _transfer_ (to, from). For that one can order from and to so that synchronisation AAA comes before synchronisation BBB.\r\n\r\nAn other approach is to have atomic _deposit_ (from, -amount), _deposit_ (to, amount)\r\nand do all in a transaction that can be rolled back.\r\n\r\nNow on the synchronisation object: this must be a unique Object instance. You could put use the account ID String, as put in a `Map` (`Set`). As such you have a unique object as key in the map. Of course the map operations suffer from concurrency too, use: `Collections.synchronizedMap`. And you need to update it, add/remove account IDs.\r\n\r\nAs _transactions_ are a separate topic, nest two synchronisations in canonical order.","title":"Synchronize on two String objects","body":"<p>What must be clear, is that for a <em>transfer</em> (from, to) all (from, <em>), (</em>, from), (*, to), (to, *) <em>transfers</em> might need to be guarded.</p>\n<p>The only way to do that is to synchronize of from and synchronize on to. This could cause a <em>dead lock</em> when there is a <em>transfer</em> (to, from). For that one can order from and to so that synchronisation AAA comes before synchronisation BBB.</p>\n<p>An other approach is to have atomic <em>deposit</em> (from, -amount), <em>deposit</em> (to, amount)\nand do all in a transaction that can be rolled back.</p>\n<p>Now on the synchronisation object: this must be a unique Object instance. You could put use the account ID String, as put in a <code>Map</code> (<code>Set</code>). As such you have a unique object as key in the map. Of course the map operations suffer from concurrency too, use: <code>Collections.synchronizedMap</code>. And you need to update it, add/remove account IDs.</p>\n<p>As <em>transactions</em> are a separate topic, nest two synchronisations in canonical order.</p>\n"}],"owner":{"account_id":23631174,"reputation":27,"user_id":17662885,"display_name":"AlchemistAction"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70335806,"answer_count":2,"score":0,"last_activity_date":1640771546,"creation_date":1639401594,"question_id":70335317,"body_markdown":"I found answers only for synchronization on one String object, but not two.\r\n\r\nIt&#39;s not a real task, but an assignment. I have SomeLibrary that transfers money from one account to another. I can&#39;t access Account object to lock on it. I can only use SomeLibrary.transfer(String from, String to), which is not thread safe. I have method with account ID&#39;s as strings. I need to lock on both of these strings without deadlocks.\r\n\r\nWhat I did so far is:\r\n\r\n1) Created new Strings with .intern method (String fr = from.intern()). But it&#39;s bad practice and I&#39;m not allowed to use this method. But it worked.\r\n\r\n2) Created new String from old (String fr = new String(from)). This also worked (I didn&#39;t have deadlocks) but I have suspicions about this solution.\r\n\r\nIs there other way to lock on both Strings?\r\n\r\nI tried to use ConcurrentHashMap and put Strings there, but it didn&#39;t work.\r\n\r\nMay be there is a way to put Strings inside some objects, but where these objects should be created? I can create them inside transfer() but synchronization on a local variable is not good practice either.\r\n\r\nMy method is:\r\n\r\n    public void transfer(String from, String to, int amount) {\r\n            String fr = new String(from);\r\n            String too = new String(to);\r\n    \r\n            int fromHash = System.identityHashCode(fr);\r\n            int toHash = System.identityHashCode(too);\r\n    \r\n            if (fromHash &lt; toHash) {\r\n                synchronizedTransfer(from, to, amount, fr, too);\r\n            } else if (fromHash &gt; toHash) {\r\n                synchronizedTransfer(to, from, amount, too, fr);\r\n            } else {\r\n                synchronized (tieLock) {\r\n                    synchronizedTransfer(from, to, amount, fr, too);\r\n                }\r\n            }\r\n        }\r\n    \r\n    private void synchronizedTransfer(String from, String to, int amount, String fr, String too) {\r\n            synchronized (fr) {\r\n                synchronized (too) {\r\n                    SomeLibrary.transfer(from, to);\r\n                }\r\n            }\r\n        }\r\n\r\nEdit: \r\n\r\nIs there a way to do this without ConcurrentHashMap? Because this map could get really big and it&#39;s not good for performance","title":"Synchronize on two String objects","body":"<p>I found answers only for synchronization on one String object, but not two.</p>\n<p>It's not a real task, but an assignment. I have SomeLibrary that transfers money from one account to another. I can't access Account object to lock on it. I can only use SomeLibrary.transfer(String from, String to), which is not thread safe. I have method with account ID's as strings. I need to lock on both of these strings without deadlocks.</p>\n<p>What I did so far is:</p>\n<ol>\n<li><p>Created new Strings with .intern method (String fr = from.intern()). But it's bad practice and I'm not allowed to use this method. But it worked.</p>\n</li>\n<li><p>Created new String from old (String fr = new String(from)). This also worked (I didn't have deadlocks) but I have suspicions about this solution.</p>\n</li>\n</ol>\n<p>Is there other way to lock on both Strings?</p>\n<p>I tried to use ConcurrentHashMap and put Strings there, but it didn't work.</p>\n<p>May be there is a way to put Strings inside some objects, but where these objects should be created? I can create them inside transfer() but synchronization on a local variable is not good practice either.</p>\n<p>My method is:</p>\n<pre><code>public void transfer(String from, String to, int amount) {\n        String fr = new String(from);\n        String too = new String(to);\n\n        int fromHash = System.identityHashCode(fr);\n        int toHash = System.identityHashCode(too);\n\n        if (fromHash &lt; toHash) {\n            synchronizedTransfer(from, to, amount, fr, too);\n        } else if (fromHash &gt; toHash) {\n            synchronizedTransfer(to, from, amount, too, fr);\n        } else {\n            synchronized (tieLock) {\n                synchronizedTransfer(from, to, amount, fr, too);\n            }\n        }\n    }\n\nprivate void synchronizedTransfer(String from, String to, int amount, String fr, String too) {\n        synchronized (fr) {\n            synchronized (too) {\n                SomeLibrary.transfer(from, to);\n            }\n        }\n    }\n</code></pre>\n<p>Edit:</p>\n<p>Is there a way to do this without ConcurrentHashMap? Because this map could get really big and it's not good for performance</p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1640768207,"post_id":70516933,"comment_id":124652762,"body_markdown":"After running &quot;Refactor | Introduce Variable&quot; variable name should be highlighted and you may change it.","body":"After running &quot;Refactor | Introduce Variable&quot; variable name should be highlighted and you may change it."},{"owner":{"account_id":9448554,"reputation":649,"user_id":7026323,"accept_rate":78,"display_name":"jacky"},"score":0,"creation_date":1640771168,"post_id":70516933,"comment_id":124653667,"body_markdown":"@y.bedrov\nThanks, but I want to get `List&lt;String&gt; stringList = Arrays.asList(&quot;asd&quot;);` eveytime by default whitout any change.","body":"@y.bedrov Thanks, but I want to get <code>List&lt;String&gt; stringList = Arrays.asList(&quot;asd&quot;);</code> eveytime by default whitout any change."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1640774740,"post_id":70516933,"comment_id":124654673,"body_markdown":"It&#39;s not possible to set it as a default name, but it should be suggested in dropdown","body":"It&#39;s not possible to set it as a default name, but it should be suggested in dropdown"}],"owner":{"account_id":9448554,"reputation":649,"user_id":7026323,"accept_rate":78,"display_name":"jacky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640771410,"creation_date":1640766731,"question_id":70516933,"body_markdown":"When I use idea&#39;s `introduce variable` function, I want to customize the variable name, ex:&lt;br/&gt;\r\n`Arrays.asList(&quot;asd&quot;);`&lt;br/&gt;\r\npress `ctrl+alt+v`, will get&lt;br/&gt;\r\n`List&lt;String&gt; strings = Arrays.asList(&quot;asd&quot;);`&lt;br/&gt;\r\nby default but I want&lt;br/&gt;\r\n`List&lt;String&gt; stringList = Arrays.asList(&quot;asd&quot;);`&lt;br/&gt;\r\nso I must change to `stringList` everytime by my self &lt;br/&gt;\r\nhow to modify the `introduce variable` default result of the **variable name** so that I don&#39;t need to change it?\r\n","title":"Idea introduce variable customize variable name","body":"<p>When I use idea's <code>introduce variable</code> function, I want to customize the variable name, ex:<br/>\n<code>Arrays.asList(&quot;asd&quot;);</code><br/>\npress <code>ctrl+alt+v</code>, will get<br/>\n<code>List&lt;String&gt; strings = Arrays.asList(&quot;asd&quot;);</code><br/>\nby default but I want<br/>\n<code>List&lt;String&gt; stringList = Arrays.asList(&quot;asd&quot;);</code><br/>\nso I must change to <code>stringList</code> everytime by my self <br/>\nhow to modify the <code>introduce variable</code> default result of the <strong>variable name</strong> so that I don't need to change it?</p>\n"},{"tags":["java","primefaces","cdi","tomcat8","mojarra"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":1,"creation_date":1586975268,"post_id":61233746,"comment_id":108330955,"body_markdown":"Do you really need that jsf jar? Try also to look at [this](https://stackoverflow.com/questions/31033946/java-lang-illegalargumentexception-javax-faces-lifecycle-clientwindowfactory).","body":"Do you really need that jsf jar? Try also to look at <a href=\"https://stackoverflow.com/questions/31033946/java-lang-illegalargumentexception-javax-faces-lifecycle-clientwindowfactory\">this</a>."},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1587033703,"post_id":61233746,"comment_id":108352264,"body_markdown":"Thank you for your suggestion, I remove the mojarra 2.3.8 jar from my war and now It is able to be deploy in my Tomcat8 without any problem. But now I can&#39;t reach the initial page: browser says &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;","body":"Thank you for your suggestion, I remove the mojarra 2.3.8 jar from my war and now It is able to be deploy in my Tomcat8 without any problem. But now I can&#39;t reach the initial page: browser says &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":1,"creation_date":1587034939,"post_id":61233746,"comment_id":108352937,"body_markdown":"Removing the jar from the war does not solve the problem. You **NEED** this jar in a war that is going to be deployed in the tomcat since tomcat by default does not contain jsf. With removing this, you create new problems, sure since e.g. .xhtml files are not mapped anymore and then you get these new errors... , yes new, but it would be the same like not deploying your app at all and then trying to access a pages. You&#39;ll get 404&#39;s then, but the original error will be gone...","body":"Removing the jar from the war does not solve the problem. You <b>NEED</b> this jar in a war that is going to be deployed in the tomcat since tomcat by default does not contain jsf. With removing this, you create new problems, sure since e.g. .xhtml files are not mapped anymore and then you get these new errors... , yes new, but it would be the same like not deploying your app at all and then trying to access a pages. You&#39;ll get 404&#39;s then, but the original error will be gone..."},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1587035097,"post_id":61233746,"comment_id":108353003,"body_markdown":"@WoAiNii: The post you refer to is about mixing two different (versions of) JSF implementations. Does not seem to be the case here, so it is not related.","body":"@WoAiNii: The post you refer to is about mixing two different (versions of) JSF implementations. Does not seem to be the case here, so it is not related."},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1587048093,"post_id":61233746,"comment_id":108360823,"body_markdown":"@Kukeltje: My fault, didn&#39;t know Tomcat didn&#39;t provide jsf impl, I see jboss in the stack trace and I think there could be already another jar. So what&#39;s the problem, [Weld](https://docs.jboss.org/weld/reference/latest/en-US/html/environments.html#_tomcat) isn&#39;t compatible with Tomcat8? Missing others configuration?","body":"@Kukeltje: My fault, didn&#39;t know Tomcat didn&#39;t provide jsf impl, I see jboss in the stack trace and I think there could be already another jar. So what&#39;s the problem, <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/environments.html#_tomcat\" rel=\"nofollow noreferrer\">Weld</a> isn&#39;t compatible with Tomcat8? Missing others configuration?"},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1587049331,"post_id":61233746,"comment_id":108361665,"body_markdown":"@WoAiNii : I resolve the problem moving context.xml into META-INF directory","body":"@WoAiNii : I resolve the problem moving context.xml into META-INF directory"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":1,"creation_date":1587050402,"post_id":61233746,"comment_id":108362323,"body_markdown":"@N3tMaster: Where did you find this solution? Please post the link so we can mark as a duplicate. And using a real Java-EE server if you are intending to use cdi, jsf etc is a waaaay better solution. Less integration issues like these. Cheers!","body":"@N3tMaster: Where did you find this solution? Please post the link so we can mark as a duplicate. And using a real Java-EE server if you are intending to use cdi, jsf etc is a waaaay better solution. Less integration issues like these. Cheers!"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1587051083,"post_id":61233746,"comment_id":108362790,"body_markdown":"Btw, I rolled back your edits, these types of edits don&#39;t belong in questions","body":"Btw, I rolled back your edits, these types of edits don&#39;t belong in questions"},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1587051593,"post_id":61233746,"comment_id":108363099,"body_markdown":"@Kukeltje I find the solution myself... just following my intuition.. and it works like a charme :-) . Yes I known i should use a real JavaEE (as TomEE) but I can&#39;t, I have to work with an Ubuntu server with installed Tomcat8... Cheers","body":"@Kukeltje I find the solution myself... just following my intuition.. and it works like a charme :-) . Yes I known i should use a real JavaEE (as TomEE) but I can&#39;t, I have to work with an Ubuntu server with installed Tomcat8... Cheers"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":1,"creation_date":1587052928,"post_id":61233746,"comment_id":108363976,"body_markdown":"The ones that made the choice to force this: _&quot; I have to work with an Ubuntu server with installed Tomcat8.&quot;_ should be fired... It&#39;s easy to add a custom repository for your ubuntu servers (we do it too, but for wildfly) and deploy the server from there and do not make you limited to what ubuntu provides.... bad, bad, bad choice. Let them read this comment ;-)","body":"The ones that made the choice to force this: <i>&quot; I have to work with an Ubuntu server with installed Tomcat8.&quot;</i> should be fired... It&#39;s easy to add a custom repository for your ubuntu servers (we do it too, but for wildfly) and deploy the server from there and do not make you limited to what ubuntu provides.... bad, bad, bad choice. Let them read this comment ;-)"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":1,"creation_date":1587053181,"post_id":61233746,"comment_id":108364124,"body_markdown":"Oh and if your found the answer, create an answer to your own question... Cheers","body":"Oh and if your found the answer, create an answer to your own question... Cheers"},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1587053208,"post_id":61233746,"comment_id":108364133,"body_markdown":"@Kukeltje eh you are right but the server with Tomcat8 is used for a lot of services in production.... anyway you&#39;re right ;-).","body":"@Kukeltje eh you are right but the server with Tomcat8 is used for a lot of services in production.... anyway you&#39;re right ;-)."},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1587053343,"post_id":61233746,"comment_id":108364218,"body_markdown":"@Kukeltje: I found another solution: I tried with OpenWebBeans, following the official instructions but I had to put context.xml into the META-INF directory in order to make it run","body":"@Kukeltje: I found another solution: I tried with OpenWebBeans, following the official instructions but I had to put context.xml into the META-INF directory in order to make it run"},{"owner":{"account_id":5660163,"reputation":12260,"user_id":4478047,"display_name":"Kukeltje"},"score":0,"creation_date":1587057420,"post_id":61233746,"comment_id":108366541,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/211820/discussion-between-kukeltje-and-n3tmaster).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/211820/discussion-between-kukeltje-and-n3tmaster\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587053862,"creation_date":1587053862,"answer_id":61255004,"question_id":61233746,"body_markdown":"After several attempts, I found this solution:\r\n\r\nI adopt OpenWebBeans instead the WELD solution:\r\n\r\nI put the dependencies in my new pom.xml:\r\n\r\n \r\n\r\n   &lt;!-- Open WebBeans, CDI and SPI implementation  --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.SP1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-atinject_1.0_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-jcdi_2.0_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-interceptor_1.2_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;geronimo-annotation_1.3_spec&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-spi&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-jsf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-el22&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;openwebbeans-tomcat7&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.16&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIn web.xml I added the listener for beans configurations:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.apache.webbeans.servlet.WebBeansConfigurationListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nI changed the faces version into faces-config.xml:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;faces-config version=&quot;2.3&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n        http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd&quot;&gt;\r\n      \r\n    &lt;/faces-config&gt;\r\n\r\n\r\nThe new context.xml file is moved into META-INF directory\r\n\r\n    &lt;Context&gt;\r\n        &lt;Resource name=&quot;BeanManager&quot;\r\n                  auth=&quot;Container&quot;\r\n                  type=&quot;javax.enterprise.inject.spi.BeanManager&quot;\r\n                  factory=&quot;org.apache.webbeans.container.ManagerObjectFactory&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\n\r\nThe new project structure is: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd now it works on Tomcat 8 server.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QZekf.png","title":"CDI doesn&#39;t work with Tomcat8 + JSF Mojarra 2.3.8 + Primefaces 8.0 + WELD","body":"<p>After several attempts, I found this solution:</p>\n\n<p>I adopt OpenWebBeans instead the WELD solution:</p>\n\n<p>I put the dependencies in my new pom.xml:</p>\n\n   \n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n    &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.SP1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-atinject_1.0_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-jcdi_2.0_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-interceptor_1.2_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n    &lt;artifactId&gt;geronimo-annotation_1.3_spec&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-spi&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-web&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-jsf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-el22&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.openwebbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;openwebbeans-tomcat7&lt;/artifactId&gt;\n    &lt;version&gt;2.0.16&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In web.xml I added the listener for beans configurations:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\"&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.apache.webbeans.servlet.WebBeansConfigurationListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I changed the faces version into faces-config.xml:</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;faces-config version=\"2.3\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee \n    http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd\"&gt;\n\n&lt;/faces-config&gt;\n</code></pre>\n\n<p>The new context.xml file is moved into META-INF directory</p>\n\n<pre><code>&lt;Context&gt;\n    &lt;Resource name=\"BeanManager\"\n              auth=\"Container\"\n              type=\"javax.enterprise.inject.spi.BeanManager\"\n              factory=\"org.apache.webbeans.container.ManagerObjectFactory\" /&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p>The new project structure is: </p>\n\n<p><a href=\"https://i.stack.imgur.com/QZekf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QZekf.png\" alt=\"enter image description here\"></a></p>\n\n<p>And now it works on Tomcat 8 server.</p>\n"},{"tags":[],"owner":{"account_id":23774048,"reputation":1,"user_id":17787756,"display_name":"cuthare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640771383,"creation_date":1640771383,"answer_id":70517708,"question_id":61233746,"body_markdown":"In web.xml added the listener for beans configurations:\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;`org.jboss.weld.environment.servlet.Listener`&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n \r\nAnd delete the following:\r\n\r\n    &lt;listener&gt; \r\n        &lt;listenerclass&gt;\r\n            org.apache.webbeans.servlet.WebBeansConfigurationListener\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;","title":"CDI doesn&#39;t work with Tomcat8 + JSF Mojarra 2.3.8 + Primefaces 8.0 + WELD","body":"<p>In web.xml added the listener for beans configurations:</p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;`org.jboss.weld.environment.servlet.Listener`&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>And delete the following:</p>\n<pre><code>&lt;listener&gt; \n    &lt;listenerclass&gt;\n        org.apache.webbeans.servlet.WebBeansConfigurationListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"}],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640771383,"creation_date":1586968033,"question_id":61233746,"body_markdown":"I&#39;m trying to create a project with Mojarra 2.3.8 and PrimeFaces 8.0 for Tomcat 8 Application server.\r\nI used IntelliJ for building and testing my web application.\r\n\r\nFollowing WELD installation instruction I installed all dependencies using maven, my pom file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SensorWebHub3&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- dependencies for PrimeFaces --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n                &lt;version&gt;20190503.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- dependencies for CDI WELD --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;weld-servlet-shaded&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.4.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.2.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jboss&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.3.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n        \r\n    &lt;/project&gt;\r\n\r\nI created the context.xml file in META-INF directory:\r\n\r\n    &lt;Context&gt;\r\n        &lt;Resource name=&quot;BeanManager&quot;\r\n                  auth=&quot;Container&quot;\r\n                  type=&quot;javax.enterprise.inject.spi.BeanManager&quot;\r\n                  factory=&quot;org.jboss.weld.resources.ManagerObjectFactory&quot; /&gt;\r\n    \r\n    &lt;/Context&gt;\r\n\r\n\r\nI create an empty beans.xml file putted into WEB-INF directory; moreover I created the web.xml file: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n             version=&quot;4.0&quot;&gt;\r\n    \r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;primefaces.FONT_AWESOME&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;primefaces.LEGACY_WIDGET_NAMESPACE&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\r\n            &lt;param-value&gt;nova-light&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    &lt;/web-app&gt;\r\n\r\nmy simple index.xhtml file is: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n            &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n          xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\r\n          xmlns:p=&quot;http://primefaces.org/ui&quot;\r\n          xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;&gt;\r\n       &lt;f:view&gt;\r\n          &lt;h:outputLabel value=&quot;Hello, world&quot;/&gt;\r\n          &lt;p:textEditor /&gt;\r\n       &lt;/f:view&gt;\r\n    &lt;/html&gt;\r\nand my project structure is:\r\n[![enter image description here][1]][1]\r\n\r\nI configured IntelliJ IDEA in order to run Tomcat 8.5.54 Application server. When I run tomcat, it tries to deploy the war file but I get the following exception:\r\n\r\n    /Users/lerocchi/Tomcat-8.5.54/bin/catalina.sh run\r\n    [2020-04-15 06:10:22,449] Artifact swh3: Waiting for server connection to start artifact deployment...\r\n    15-Apr-2020 18:10:23.000 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/8.5.54\r\n    15-Apr-2020 18:10:23.001 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 3 2020 14:06:10 UTC\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.54.0\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.15.4\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_45-b14\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3\r\n    15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/lerocchi/Tomcat-8.5.54\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/conf/logging.properties\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.password.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/jmxremote.password\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.access.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/jmxremote.access\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n    15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n    15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3\r\n    15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/lerocchi/Tomcat-8.5.54\r\n    15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/lerocchi/Tomcat-8.5.54/temp\r\n    15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/lerocchi/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\r\n    15-Apr-2020 18:10:23.104 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    15-Apr-2020 18:10:23.120 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n    15-Apr-2020 18:10:23.131 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.load Initialization processed in 422 ms\r\n    15-Apr-2020 18:10:23.156 INFORMAZIONI [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n    15-Apr-2020 18:10:23.156 INFORMAZIONI [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.54\r\n    15-Apr-2020 18:10:23.163 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\n    15-Apr-2020 18:10:23.170 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.start Server startup in 38 ms\r\n    Connected to server\r\n    [2020-04-15 06:10:23,540] Artifact swh3: Artifact is being deployed, please wait...\r\n    15-Apr-2020 18:10:23.956 AVVERTENZA [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [4.0]. Default version will be used.\r\n    15-Apr-2020 18:10:25.895 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    15-Apr-2020 18:10:25.931 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer\r\n    15-Apr-2020 18:10:25.952 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.bootstrap.WeldStartup.&lt;clinit&gt; WELD-000900: 3.1.4 (Final)\r\n    15-Apr-2020 18:10:26.030 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery\r\n    15-Apr-2020 18:10:26.080 WARN [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.servlet.WeldServletLifecycle.initialize WELD-ENV-000028: Weld initialization skipped - no bean archive found\r\n    15-Apr-2020 18:10:26.122 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 2.3.8 ( 20181116-0037 55af8b79ca53ec2df566f9c08a430259d30f9ba5) for context &#39;/swh3&#39;\r\n    15-Apr-2020 18:10:26.293 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\r\n    15-Apr-2020 18:10:26.434 GRAVE [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.config.ConfigureListener.contextInitialized Critical error during deployment: \r\n    \tcom.sun.faces.config.ConfigurationException: Factory &#39;javax.faces.lifecycle.ClientWindowFactory&#39; was not configured properly.\r\n    \t\tat com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:357)\r\n    \t\tat com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:243)\r\n    \t\tat com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:443)\r\n    \t\tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:237)\r\n    \t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5167)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n    \t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\r\n           ...\r\n           ...\r\n\r\n\r\n\r\nI have no idea...\r\n\r\n  [1]: https://i.stack.imgur.com/nxZsW.png","title":"CDI doesn&#39;t work with Tomcat8 + JSF Mojarra 2.3.8 + Primefaces 8.0 + WELD","body":"<p>I'm trying to create a project with Mojarra 2.3.8 and PrimeFaces 8.0 for Tomcat 8 Application server.\nI used IntelliJ for building and testing my web application.</p>\n\n<p>Following WELD installation instruction I installed all dependencies using maven, my pom file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;groupId&lt;/groupId&gt;\n    &lt;artifactId&gt;SensorWebHub3&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;!-- dependencies for PrimeFaces --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\n            &lt;version&gt;2.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n            &lt;version&gt;20190503.1&lt;/version&gt;\n        &lt;/dependency&gt;\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.primefaces&lt;/groupId&gt;\n            &lt;artifactId&gt;primefaces&lt;/artifactId&gt;\n            &lt;version&gt;8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- dependencies for CDI WELD --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.weld.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;weld-servlet-shaded&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.1.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n            &lt;artifactId&gt;jandex&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I created the context.xml file in META-INF directory:</p>\n\n<pre><code>&lt;Context&gt;\n    &lt;Resource name=\"BeanManager\"\n              auth=\"Container\"\n              type=\"javax.enterprise.inject.spi.BeanManager\"\n              factory=\"org.jboss.weld.resources.ManagerObjectFactory\" /&gt;\n\n&lt;/Context&gt;\n</code></pre>\n\n<p>I create an empty beans.xml file putted into WEB-INF directory; moreover I created the web.xml file: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\"&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;primefaces.FONT_AWESOME&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;primefaces.LEGACY_WIDGET_NAMESPACE&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\n        &lt;param-value&gt;nova-light&lt;/param-value&gt;\n    &lt;/context-param&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>my simple index.xhtml file is: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"\n      xmlns:h=\"http://xmlns.jcp.org/jsf/html\"\n      xmlns:ui=\"http://xmlns.jcp.org/jsf/facelets\"\n      xmlns:p=\"http://primefaces.org/ui\"\n      xmlns:f=\"http://xmlns.jcp.org/jsf/core\"&gt;\n   &lt;f:view&gt;\n      &lt;h:outputLabel value=\"Hello, world\"/&gt;\n      &lt;p:textEditor /&gt;\n   &lt;/f:view&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and my project structure is:\n<a href=\"https://i.stack.imgur.com/nxZsW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nxZsW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I configured IntelliJ IDEA in order to run Tomcat 8.5.54 Application server. When I run tomcat, it tries to deploy the war file but I get the following exception:</p>\n\n<pre><code>/Users/lerocchi/Tomcat-8.5.54/bin/catalina.sh run\n[2020-04-15 06:10:22,449] Artifact swh3: Waiting for server connection to start artifact deployment...\n15-Apr-2020 18:10:23.000 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/8.5.54\n15-Apr-2020 18:10:23.001 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Apr 3 2020 14:06:10 UTC\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 8.5.54.0\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Mac OS X\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            10.15.4\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          x86_64\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/jre\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           1.8.0_45-b14\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Oracle Corporation\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3\n15-Apr-2020 18:10:23.002 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /Users/lerocchi/Tomcat-8.5.54\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/conf/logging.properties\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote=\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.port=1099\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.ssl=false\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.password.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/jmxremote.password\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcom.sun.management.jmxremote.access.file=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3/jmxremote.access\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.rmi.server.hostname=127.0.0.1\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n15-Apr-2020 18:10:23.003 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/Users/lerocchi/Library/Caches/JetBrains/IntelliJIdea2020.1/tomcat/Unnamed_SensorWebHub3\n15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/Users/lerocchi/Tomcat-8.5.54\n15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/Users/lerocchi/Tomcat-8.5.54/temp\n15-Apr-2020 18:10:23.004 INFORMAZIONI [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/Users/lerocchi/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.]\n15-Apr-2020 18:10:23.104 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [\"http-nio-8080\"]\n15-Apr-2020 18:10:23.120 INFORMAZIONI [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n15-Apr-2020 18:10:23.131 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.load Initialization processed in 422 ms\n15-Apr-2020 18:10:23.156 INFORMAZIONI [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n15-Apr-2020 18:10:23.156 INFORMAZIONI [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet Engine: Apache Tomcat/8.5.54\n15-Apr-2020 18:10:23.163 INFORMAZIONI [main] org.apache.coyote.AbstractProtocol.start Starting ProtocolHandler [\"http-nio-8080\"]\n15-Apr-2020 18:10:23.170 INFORMAZIONI [main] org.apache.catalina.startup.Catalina.start Server startup in 38 ms\nConnected to server\n[2020-04-15 06:10:23,540] Artifact swh3: Artifact is being deployed, please wait...\n15-Apr-2020 18:10:23.956 AVVERTENZA [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.descriptor.web.WebXml.setVersion Unknown version string [4.0]. Default version will be used.\n15-Apr-2020 18:10:25.895 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n15-Apr-2020 18:10:25.931 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.servlet.EnhancedListener.onStartup WELD-ENV-001008: Initialize Weld using ServletContainerInitializer\n15-Apr-2020 18:10:25.952 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.bootstrap.WeldStartup.&lt;clinit&gt; WELD-000900: 3.1.4 (Final)\n15-Apr-2020 18:10:26.030 INFO [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.deployment.discovery.DiscoveryStrategyFactory.create WELD-ENV-000020: Using jandex for bean discovery\n15-Apr-2020 18:10:26.080 WARN [RMI TCP Connection(2)-127.0.0.1] org.jboss.weld.environment.servlet.WeldServletLifecycle.initialize WELD-ENV-000028: Weld initialization skipped - no bean archive found\n15-Apr-2020 18:10:26.122 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra 2.3.8 ( 20181116-0037 55af8b79ca53ec2df566f9c08a430259d30f9ba5) for context '/swh3'\n15-Apr-2020 18:10:26.293 INFORMAZIONI [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\n15-Apr-2020 18:10:26.434 GRAVE [RMI TCP Connection(2)-127.0.0.1] com.sun.faces.config.ConfigureListener.contextInitialized Critical error during deployment: \n    com.sun.faces.config.ConfigurationException: Factory 'javax.faces.lifecycle.ClientWindowFactory' was not configured properly.\n        at com.sun.faces.config.processor.FactoryConfigProcessor.verifyFactoriesExist(FactoryConfigProcessor.java:357)\n        at com.sun.faces.config.processor.FactoryConfigProcessor.process(FactoryConfigProcessor.java:243)\n        at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:443)\n        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:237)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5167)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n        at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\n       ...\n       ...\n</code></pre>\n\n<p>I have no idea...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1640770628,"post_id":70517549,"comment_id":124653499,"body_markdown":"How about `MyInterface&lt;?&gt; myInterface` instead of `T myInterface`? Do you need the `S` for anything? You don&#39;t know anything about the type `S`, after all.","body":"How about <code>MyInterface&lt;?&gt; myInterface</code> instead of <code>T myInterface</code>? Do you need the <code>S</code> for anything? You don&#39;t know anything about the type <code>S</code>, after all."},{"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"score":0,"creation_date":1640770712,"post_id":70517549,"comment_id":124653533,"body_markdown":"I need the S to define the Map ret.","body":"I need the S to define the Map ret."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1640770726,"post_id":70517549,"comment_id":124653539,"body_markdown":"It sounds like you need `&lt;T&gt; void doSomething(MyInterface&lt;? extends T&gt;)` (if you&#39;re going to use `ret` somewhere below) or, as suggested by Sweeper, `MyInterface&lt;?&gt;` (if you don&#39;t care its type parameter at all).","body":"It sounds like you need <code>&lt;T&gt; void doSomething(MyInterface&lt;? extends T&gt;)</code> (if you&#39;re going to use <code>ret</code> somewhere below) or, as suggested by Sweeper, <code>MyInterface&lt;?&gt;</code> (if you don&#39;t care its type parameter at all)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1640770829,"post_id":70517549,"comment_id":124653571,"body_markdown":"Is `S` a generic?","body":"Is <code>S</code> a generic?"},{"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"score":0,"creation_date":1640771462,"post_id":70517549,"comment_id":124653746,"body_markdown":"If I use this:\n`public &lt;T&gt; void doSomething(MyInterface&lt;? extends T) myInterface`\n\nWill I be able to use `File` and `String` methods?","body":"If I use this: <code>public &lt;T&gt; void doSomething(MyInterface&lt;? extends T) myInterface</code>  Will I be able to use <code>File</code> and <code>String</code> methods?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1640773509,"post_id":70517549,"comment_id":124654345,"body_markdown":"Not without type casting which I find bad. `&lt;T&gt;` is essentially `java.lang.Object` in this case so there is nothing very common. I guess, if I see what you mean, you&#39;d like to have a common type both `String` and `File` can be wrapped into, say interface `Wrapper` with some common methods. Probably then your `MyInterface` might even discard type parameterization in favor of the wrapper interface `Wrapper` like this `interface MyInterface { Map&lt;Long, Wrapper&gt; getMap(); }`.","body":"Not without type casting which I find bad. <code>&lt;T&gt;</code> is essentially <code>java.lang.Object</code> in this case so there is nothing very common. I guess, if I see what you mean, you&#39;d like to have a common type both <code>String</code> and <code>File</code> can be wrapped into, say interface <code>Wrapper</code> with some common methods. Probably then your <code>MyInterface</code> might even discard type parameterization in favor of the wrapper interface <code>Wrapper</code> like this <code>interface MyInterface { Map&lt;Long, Wrapper&gt; getMap(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640771283,"creation_date":1640770837,"answer_id":70517620,"question_id":70517549,"body_markdown":"I believe you should add the S generic argument before T like so:\r\n```java\r\n    public &lt;S, T extends MyInterface&lt;S&gt;&gt; void doSomething(T myInterface)\r\n    {\r\n\r\n        Map&lt;Long, S&gt; ret = myInterface.getMap();\r\n\r\n    }\r\n```\r\n\r\nCommenting on point 2: I don&#39;t see any problem with the usage.","title":"Using multiple generics in the method signature in Java","body":"<p>I believe you should add the S generic argument before T like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;S, T extends MyInterface&lt;S&gt;&gt; void doSomething(T myInterface)\n    {\n\n        Map&lt;Long, S&gt; ret = myInterface.getMap();\n\n    }\n</code></pre>\n<p>Commenting on point 2: I don't see any problem with the usage.</p>\n"}],"owner":{"account_id":7261043,"reputation":939,"user_id":5537770,"accept_rate":55,"display_name":"Pryda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640771283,"creation_date":1640770424,"question_id":70517549,"body_markdown":"I have a interface:\r\n\r\n    public interface MyInterface&lt;T&gt; {\r\n    \r\n       Map&lt;Long, T&gt; getMap();\r\n    \r\n    }\r\n \r\nand two classes that implement it. The first one is:\r\n\r\n\r\n    public class MyInterfaceFileImpl implements MyInterface&lt;File&gt; {\r\n    \r\n      private Map&lt;Long, File&gt; map;\r\n\r\n      public MyInterfaceFileImpl(Map&lt;Long, File&gt; map) {\r\n        this.map = map;\r\n      }\r\n    \r\n      @Override\r\n      public Map&lt;Long, File&gt; getMap() {\r\n        return map;\r\n      }\r\n    \r\n    }\r\n\r\nThe second one is:\r\n\r\n    public class MyInterfaceStringImpl implements MyInterface&lt;String&gt; {\r\n    \r\n      private Map&lt;Long, String&gt; map;\r\n    \r\n      public MyInterfaceStringImpl(Map&lt;Long, String&gt; map) {\r\n        this.map = map;\r\n      }\r\n\r\n      @Override\r\n      public Map&lt;Long, String&gt; getMap() {\r\n        return map;\r\n      }\r\n    \r\n    }\r\n\r\nI would like to pass the interface as a parameter to a method called `doSomething()`.\r\n\r\n\r\n    public &lt;T extends MyInterface&lt;S&gt;&gt; void doSomething(T myInterface) {\r\n\r\n      Map&lt;Long, S&gt; ret = doSomething.getMap();\r\n\r\n    }\r\n\r\nIn this case, S would be `String` if I pass `MyInterfaceStringImpl` implementation and `File` if I pass `MyInterfaceFileImpl` implementation \r\n\r\nI have two questions:\r\n\r\n1. How to define the type `S` in `doSomething()` method.\r\n2. Looking at what I&#39;m trying to achieve in `doSomething()` method, am I using generics correctly or I should go for another solution?","title":"Using multiple generics in the method signature in Java","body":"<p>I have a interface:</p>\n<pre><code>public interface MyInterface&lt;T&gt; {\n\n   Map&lt;Long, T&gt; getMap();\n\n}\n</code></pre>\n<p>and two classes that implement it. The first one is:</p>\n<pre><code>public class MyInterfaceFileImpl implements MyInterface&lt;File&gt; {\n\n  private Map&lt;Long, File&gt; map;\n\n  public MyInterfaceFileImpl(Map&lt;Long, File&gt; map) {\n    this.map = map;\n  }\n\n  @Override\n  public Map&lt;Long, File&gt; getMap() {\n    return map;\n  }\n\n}\n</code></pre>\n<p>The second one is:</p>\n<pre><code>public class MyInterfaceStringImpl implements MyInterface&lt;String&gt; {\n\n  private Map&lt;Long, String&gt; map;\n\n  public MyInterfaceStringImpl(Map&lt;Long, String&gt; map) {\n    this.map = map;\n  }\n\n  @Override\n  public Map&lt;Long, String&gt; getMap() {\n    return map;\n  }\n\n}\n</code></pre>\n<p>I would like to pass the interface as a parameter to a method called <code>doSomething()</code>.</p>\n<pre><code>public &lt;T extends MyInterface&lt;S&gt;&gt; void doSomething(T myInterface) {\n\n  Map&lt;Long, S&gt; ret = doSomething.getMap();\n\n}\n</code></pre>\n<p>In this case, S would be <code>String</code> if I pass <code>MyInterfaceStringImpl</code> implementation and <code>File</code> if I pass <code>MyInterfaceFileImpl</code> implementation</p>\n<p>I have two questions:</p>\n<ol>\n<li>How to define the type <code>S</code> in <code>doSomething()</code> method.</li>\n<li>Looking at what I'm trying to achieve in <code>doSomething()</code> method, am I using generics correctly or I should go for another solution?</li>\n</ol>\n"},{"tags":["java","json","parsing","apache-kafka","jmeter"],"comments":[{"owner":{"account_id":11731268,"reputation":271,"user_id":8586670,"display_name":"I AM GROOT"},"score":0,"creation_date":1640762415,"post_id":70516047,"comment_id":124651239,"body_markdown":"Hello **Sujeet**, Can you please add more information in your question as given info is not enough to understand the problem. Please refer [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Hello <b>Sujeet</b>, Can you please add more information in your question as given info is not enough to understand the problem. Please refer <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":23100655,"reputation":1,"user_id":17210109,"display_name":"Sujeet Kumar Srivastava"},"score":0,"creation_date":1640764945,"post_id":70516047,"comment_id":124651855,"body_markdown":"I am using jmeter to perform kafka performance testig and using kafkameter for the same. i have used a dummy json file and it was working with it but when i am using another json file than its throwing error &quot;TagserveLoadGenerator: Problem parsing json from config&quot;. i have checked json format too and used different json file which are actually working but not working here.","body":"I am using jmeter to perform kafka performance testig and using kafkameter for the same. i have used a dummy json file and it was working with it but when i am using another json file than its throwing error &quot;TagserveLoadGenerator: Problem parsing json from config&quot;. i have checked json format too and used different json file which are actually working but not working here."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641464478,"post_id":70516047,"comment_id":124812870,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640768503,"creation_date":1640768503,"answer_id":70517221,"question_id":70516047,"body_markdown":"You seem to be using a very custom plugin hence we are not able to help. \r\n\r\nThe `Expected BEGIN_OBJECT but was STRING at line 2 column 10` means that the plugin expects to see `{` and gets some string so double check your JSON payload, there are [online JSON validation tools][1] which can help you to check and/or build the proper [JSON object][2]\r\n\r\nYou may find [Pepper-Box - Kafka Load Generator][3] easier to use, the comprehensive description and step-by-step instructions can be found in the [Apache Kafka - How to Load Test with JMeter][4] article\r\n\r\n\r\n  [1]: https://jsonlint.com/\r\n  [2]: https://www.w3schools.com/js/js_json_objects.asp\r\n  [3]: https://github.com/GSLabDev/pepper-box\r\n  [4]: https://www.blazemeter.com/blog/apache-kafka-how-to-load-test-with-jmeter","title":"TagserveLoadGenerator: Problem parsing json from config","body":"<p>You seem to be using a very custom plugin hence we are not able to help.</p>\n<p>The <code>Expected BEGIN_OBJECT but was STRING at line 2 column 10</code> means that the plugin expects to see <code>{</code> and gets some string so double check your JSON payload, there are <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">online JSON validation tools</a> which can help you to check and/or build the proper <a href=\"https://www.w3schools.com/js/js_json_objects.asp\" rel=\"nofollow noreferrer\">JSON object</a></p>\n<p>You may find <a href=\"https://github.com/GSLabDev/pepper-box\" rel=\"nofollow noreferrer\">Pepper-Box - Kafka Load Generator</a> easier to use, the comprehensive description and step-by-step instructions can be found in the <a href=\"https://www.blazemeter.com/blog/apache-kafka-how-to-load-test-with-jmeter\" rel=\"nofollow noreferrer\">Apache Kafka - How to Load Test with JMeter</a> article</p>\n"}],"owner":{"account_id":23100655,"reputation":1,"user_id":17210109,"display_name":"Sujeet Kumar Srivastava"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640771278,"creation_date":1640760787,"question_id":70516047,"body_markdown":"I am using jmeter to perform kafka performance testig and using kafkameter for the same. I have used a dummy json file and it was working fine with it but when I am using another json file than it is  throwing error `TagserveLoadGenerator: Problem parsing json from config.` I checked json format too and used different json files which are actually working but not working here.\r\n\r\n    2021-12-29 12:18:43,132 INFO o.a.j.e.StandardJMeterEngine: Running the test!\r\n    2021-12-29 12:18:43,133 INFO o.a.j.s.SampleEvent: List of sample_variables: []\r\n    2021-12-29 12:18:43,133 INFO o.a.j.p.j.s.JavaSampler: Created class: co.signal.kafkameter.KafkaProducerSampler. Uses tearDownTest: \r\n    2021-12-29 12:18:43,133 INFO o.a.j.g.u.JMeterMenuBar: setRunning(true, *local*)\r\n    2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 1 : Thread Group\r\n    2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Thread Group.\r\n    2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\r\n    2021-12-29 12:18:43,176 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\r\n    2021-12-29 12:18:43,176 INFO o.a.j.t.ThreadGroup: Started thread group number 1\r\n    2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: All thread groups have been started\r\n    2021-12-29 12:18:43,177 INFO o.a.j.t.JMeterThread: Thread started: Thread Group 1-1\r\n    2021-12-29 12:18:43,177 ERROR c.s.l.e.TagserveLoadGenerator: Problem parsing json from config:\r\n    {\r\n     &quot;name&quot;:&quot;sujeet&quot;\r\n    }\r\n    \r\n    com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) [kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) [kafkameter-0.2.0.jar:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [?:?]\r\n    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:?]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) [?:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) [kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) [kafkameter-0.2.0.jar:?]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.next(GenericController.java:160) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.LoopController.next(LoopController.java:134) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat java.lang.Thread.run(Thread.java:829) [?:?]\r\n    Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\r\n    \t... 21 more\r\n    2021-12-29 12:18:43,178 ERROR c.s.l.LoadGenerator: Exception initializing Load Generator class: co.signal.loadgen.example.TagserveLoadGenerator\r\n    java.lang.reflect.InvocationTargetException: null\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) [kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) [kafkameter-0.2.0.jar:?]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.next(GenericController.java:160) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.LoopController.next(LoopController.java:134) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat java.lang.Thread.run(Thread.java:829) [?:?]\r\n    Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\r\n    \t... 13 more\r\n    Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\r\n    \t... 13 more\r\n    2021-12-29 12:18:43,178 ERROR o.a.j.t.JMeterThread: Test failed!\r\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat com.google.common.base.Throwables.propagate(Throwables.java:160) ~[guava-19.0.0.jar:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:70) ~[kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) ~[kafkameter-0.2.0.jar:?]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.GenericController.next(GenericController.java:160) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.control.LoopController.next(LoopController.java:134) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) ~[ApacheJMeter_core.jar:5.4.1]\r\n    \tat org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\r\n    \tat java.lang.Thread.run(Thread.java:829) [?:?]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\r\n    \t... 8 more\r\n    Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\r\n    \t... 8 more\r\n    Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\r\n    \tat com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\r\n    \tat com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\r\n    \tat co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\r\n    \tat co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\r\n    \t... 8 more\r\n    2021-12-29 12:18:43,178 INFO o.a.j.t.JMeterThread: Thread finished: Thread Group 1-1\r\n    2021-12-29 12:18:43,178 INFO o.a.j.e.StandardJMeterEngine: Notifying test listeners of end of test\r\n    2021-12-29 12:18:43,178 INFO o.a.j.g.u.JMeterMenuBar: setRunning(false, *local*)","title":"TagserveLoadGenerator: Problem parsing json from config","body":"<p>I am using jmeter to perform kafka performance testig and using kafkameter for the same. I have used a dummy json file and it was working fine with it but when I am using another json file than it is  throwing error <code>TagserveLoadGenerator: Problem parsing json from config.</code> I checked json format too and used different json files which are actually working but not working here.</p>\n<pre><code>2021-12-29 12:18:43,132 INFO o.a.j.e.StandardJMeterEngine: Running the test!\n2021-12-29 12:18:43,133 INFO o.a.j.s.SampleEvent: List of sample_variables: []\n2021-12-29 12:18:43,133 INFO o.a.j.p.j.s.JavaSampler: Created class: co.signal.kafkameter.KafkaProducerSampler. Uses tearDownTest: \n2021-12-29 12:18:43,133 INFO o.a.j.g.u.JMeterMenuBar: setRunning(true, *local*)\n2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Starting ThreadGroup: 1 : Thread Group\n2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Starting 1 threads for group Thread Group.\n2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: Thread will continue on error\n2021-12-29 12:18:43,176 INFO o.a.j.t.ThreadGroup: Starting thread group... number=1 threads=1 ramp-up=1 delayedStart=false\n2021-12-29 12:18:43,176 INFO o.a.j.t.ThreadGroup: Started thread group number 1\n2021-12-29 12:18:43,176 INFO o.a.j.e.StandardJMeterEngine: All thread groups have been started\n2021-12-29 12:18:43,177 INFO o.a.j.t.JMeterThread: Thread started: Thread Group 1-1\n2021-12-29 12:18:43,177 ERROR c.s.l.e.TagserveLoadGenerator: Problem parsing json from config:\n{\n &quot;name&quot;:&quot;sujeet&quot;\n}\n\ncom.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) [kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) [kafkameter-0.2.0.jar:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) [?:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) [kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) [kafkameter-0.2.0.jar:?]\n    at org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.next(GenericController.java:160) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.LoopController.next(LoopController.java:134) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\n    at java.lang.Thread.run(Thread.java:829) [?:?]\nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\n    ... 21 more\n2021-12-29 12:18:43,178 ERROR c.s.l.LoadGenerator: Exception initializing Load Generator class: co.signal.loadgen.example.TagserveLoadGenerator\njava.lang.reflect.InvocationTargetException: null\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) [kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) [kafkameter-0.2.0.jar:?]\n    at org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.next(GenericController.java:160) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.LoopController.next(LoopController.java:134) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) [ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\n    at java.lang.Thread.run(Thread.java:829) [?:?]\nCaused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\n    ... 13 more\nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\n    ... 13 more\n2021-12-29 12:18:43,178 ERROR o.a.j.t.JMeterThread: Test failed!\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.google.common.base.Throwables.propagate(Throwables.java:160) ~[guava-19.0.0.jar:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:70) ~[kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.LoadGenerator.iterationStart(LoadGenerator.java:57) ~[kafkameter-0.2.0.jar:?]\n    at org.apache.jmeter.control.GenericController.fireIterationStart(GenericController.java:399) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.fireIterEvents(GenericController.java:391) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.GenericController.next(GenericController.java:160) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.control.LoopController.next(LoopController.java:134) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.AbstractThreadGroup.next(AbstractThreadGroup.java:91) ~[ApacheJMeter_core.jar:5.4.1]\n    at org.apache.jmeter.threads.JMeterThread.run(JMeterThread.java:254) [ApacheJMeter_core.jar:5.4.1]\n    at java.lang.Thread.run(Thread.java:829) [?:?]\nCaused by: java.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\n    ... 8 more\nCaused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:176) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\n    ... 8 more\nCaused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 2 column 10\n    at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:374) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:165) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.read(TypeAdapterRuntimeTypeWrapper.java:40) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:187) ~[gson-2.2.4.jar:?]\n    at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:803) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:768) ~[gson-2.2.4.jar:?]\n    at com.google.gson.Gson.fromJson(Gson.java:717) ~[gson-2.2.4.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.parseSiteConfigs(TagserveLoadGenerator.java:133) ~[kafkameter-0.2.0.jar:?]\n    at co.signal.loadgen.example.TagserveLoadGenerator.&lt;init&gt;(TagserveLoadGenerator.java:60) ~[kafkameter-0.2.0.jar:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[?:?]\n    at co.signal.loadgen.LoadGenerator.createGenerator(LoadGenerator.java:67) ~[kafkameter-0.2.0.jar:?]\n    ... 8 more\n2021-12-29 12:18:43,178 INFO o.a.j.t.JMeterThread: Thread finished: Thread Group 1-1\n2021-12-29 12:18:43,178 INFO o.a.j.e.StandardJMeterEngine: Notifying test listeners of end of test\n2021-12-29 12:18:43,178 INFO o.a.j.g.u.JMeterMenuBar: setRunning(false, *local*)\n</code></pre>\n"},{"tags":["java","flutter"],"comments":[{"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"score":0,"creation_date":1584048216,"post_id":60661771,"comment_id":107325244,"body_markdown":"Are you sending any custom objects via `AlarmManager` ?","body":"Are you sending any custom objects via <code>AlarmManager</code> ?"},{"owner":{"account_id":8433198,"reputation":11,"user_id":6328152,"display_name":"Francisco Aldunate"},"score":0,"creation_date":1584051833,"post_id":60661771,"comment_id":107326313,"body_markdown":"@BenP. I&#39;m using JobScheduler","body":"@BenP. I&#39;m using JobScheduler"}],"answers":[{"tags":[],"owner":{"account_id":3566962,"reputation":1,"user_id":2978235,"display_name":"ManJav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640770901,"creation_date":1640770901,"answer_id":70517627,"question_id":60661771,"body_markdown":"May you have used proguard.\r\n\r\nInsert bellow rules in proguard-rules.pro\r\n\r\n    -keep class io.flutter.app.** { ; }\r\n    -keep class io.flutter.plugin.* { ; }\r\n    -keep class io.flutter.util.* { ; }\r\n    -keep class io.flutter.view.* { ; }\r\n    -keep class io.flutter.* { ; }\r\n    -keep class io.flutter.plugins.* { *; }","title":"Parcelable error in a signed android app on flutter","body":"<p>May you have used proguard.</p>\n<p>Insert bellow rules in proguard-rules.pro</p>\n<pre><code>-keep class io.flutter.app.** { ; }\n-keep class io.flutter.plugin.* { ; }\n-keep class io.flutter.util.* { ; }\n-keep class io.flutter.view.* { ; }\n-keep class io.flutter.* { ; }\n-keep class io.flutter.plugins.* { *; }\n</code></pre>\n"}],"owner":{"account_id":8433198,"reputation":11,"user_id":6328152,"display_name":"Francisco Aldunate"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640770901,"creation_date":1584046614,"question_id":60661771,"body_markdown":"I’m using the Flutter in my app and I’ve developed a library to connect with Samsung health, I’ve managed to make it work properly in development mode, but after signing my app I’m getting the following error:\r\n\r\n```\r\n03-04 02:46:48.397  9137 27937 E Parcel  : Class not found when unmarshalling: d.f.a.a.b.b.k.a\r\n03-04 02:46:48.397  9137 27937 E Parcel  : java.lang.ClassNotFoundException: d.f.a.a.b.b.k.a\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat java.lang.Class.classForName(Native Method)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat java.lang.Class.forName(Class.java:453)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat android.os.Parcel.readParcelableCreator(Parcel.java:2827)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat android.os.Parcel.readParcelable(Parcel.java:2781)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat com.samsung.android.sdk.internal.healthdata.ReadRequestImpl.&lt;init&gt;(ReadRequestImpl.java:87)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat com.samsung.android.sdk.internal.healthdata.ReadRequestImpl$1.createFromParcel(ReadRequestImpl.java:2133)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat com.samsung.android.sdk.healthdata.IDataResolver$Stub.onTransact(IDataResolver.java:165)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat android.os.Binder.execTransact(Binder.java:739)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;d.f.a.a.b.b.k.a&quot; on path: DexPathList[[zip file &quot;/system/framework/org.apache.http.legacy.boot.jar&quot;, zip file &quot;/data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/lib/arm, /data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/base.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib]]\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n03-04 02:46:48.397  9137 27937 E Parcel  : \t... 8 more\r\n03-04 02:46:48.398  6604  6604 E StepCounterReader: Getting daily step trend fails.\r\n03-04 02:46:48.398  6604  6604 E StepCounterReader: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: d.f.a.a.b.b.k.a\r\n```\r\n\r\nI have this error signing my app using `flutter build apk --release`","title":"Parcelable error in a signed android app on flutter","body":"<p>I’m using the Flutter in my app and I’ve developed a library to connect with Samsung health, I’ve managed to make it work properly in development mode, but after signing my app I’m getting the following error:</p>\n\n<pre><code>03-04 02:46:48.397  9137 27937 E Parcel  : Class not found when unmarshalling: d.f.a.a.b.b.k.a\n03-04 02:46:48.397  9137 27937 E Parcel  : java.lang.ClassNotFoundException: d.f.a.a.b.b.k.a\n03-04 02:46:48.397  9137 27937 E Parcel  :  at java.lang.Class.classForName(Native Method)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at java.lang.Class.forName(Class.java:453)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at android.os.Parcel.readParcelableCreator(Parcel.java:2827)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at android.os.Parcel.readParcelable(Parcel.java:2781)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at com.samsung.android.sdk.internal.healthdata.ReadRequestImpl.&lt;init&gt;(ReadRequestImpl.java:87)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at com.samsung.android.sdk.internal.healthdata.ReadRequestImpl$1.createFromParcel(ReadRequestImpl.java:2133)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at com.samsung.android.sdk.healthdata.IDataResolver$Stub.onTransact(IDataResolver.java:165)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at android.os.Binder.execTransact(Binder.java:739)\n03-04 02:46:48.397  9137 27937 E Parcel  : Caused by: java.lang.ClassNotFoundException: Didn't find class \"d.f.a.a.b.b.k.a\" on path: DexPathList[[zip file \"/system/framework/org.apache.http.legacy.boot.jar\", zip file \"/data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/base.apk\"],nativeLibraryDirectories=[/data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/lib/arm, /data/app/com.sec.android.app.shealth-3hdi_DHJ3i242E0Cxexubw==/base.apk!/lib/armeabi-v7a, /system/lib, /vendor/lib]]\n03-04 02:46:48.397  9137 27937 E Parcel  :  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:134)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n03-04 02:46:48.397  9137 27937 E Parcel  :  at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n03-04 02:46:48.397  9137 27937 E Parcel  :  ... 8 more\n03-04 02:46:48.398  6604  6604 E StepCounterReader: Getting daily step trend fails.\n03-04 02:46:48.398  6604  6604 E StepCounterReader: android.os.BadParcelableException: ClassNotFoundException when unmarshalling: d.f.a.a.b.b.k.a\n</code></pre>\n\n<p>I have this error signing my app using <code>flutter build apk --release</code></p>\n"},{"tags":["java","intellij-idea","module","illegalaccessexception"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1640771836,"post_id":70517611,"comment_id":124653846,"body_markdown":"try using `jdk.kmsjartool` in the JVM arg instead of `ALL-UNNAMED`. `ALL-UNNAMED` is for unnamed modules and your moduke is named.","body":"try using <code>jdk.kmsjartool</code> in the JVM arg instead of <code>ALL-UNNAMED</code>. <code>ALL-UNNAMED</code> is for unnamed modules and your moduke is named."},{"owner":{"account_id":19786956,"reputation":177,"user_id":14490737,"display_name":"Eatay Mizrachi"},"score":0,"creation_date":1640773252,"post_id":70517611,"comment_id":124654264,"body_markdown":"@dan1st Thanks for your time. I did try doing that, but I still get the same issue. Any other ideas, maybe?","body":"@dan1st Thanks for your time. I did try doing that, but I still get the same issue. Any other ideas, maybe?"}],"owner":{"account_id":19786956,"reputation":177,"user_id":14490737,"display_name":"Eatay Mizrachi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640770783,"creation_date":1640770783,"question_id":70517611,"body_markdown":"I&#39;ve modified openjdk14&#39;s module jdk.jartool and renamed it (So when I deploy a jar for clients to use, the default jdk.jartool in their jdk won&#39;t take place instead).\r\n\r\nNow, when I try to run the module, I get the following issue:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: class sun.security.tools.kmsjarsigner.Main (in module jdk.kmsjartool) cannot access class sun.security.util.DisabledAlgorithmConstraints (in module java.base) because module java.base does not export sun.security.util to module jdk.kmsjartool\r\n\tat jdk.kmsjartool/sun.security.tools.kmsjarsigner.Main.&lt;clinit&gt;(Main.java:92)\r\n```\r\n\r\nI&#39;ve added from Intellij the following JVM arguments:\r\n[![JVM Arguments][1]][1]\r\n\r\nNow, as you can see, I&#39;ve added exports and opens to ```java.base/sun.secruity.util```, yet I still get ```IllegalAccessError``` when I try to use it.\r\n\r\nCan you help me find out what I&#39;m doing wrong?\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/ueyHc.png","title":"Java - Cannot add export from java.base","body":"<p>I've modified openjdk14's module jdk.jartool and renamed it (So when I deploy a jar for clients to use, the default jdk.jartool in their jdk won't take place instead).</p>\n<p>Now, when I try to run the module, I get the following issue:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class sun.security.tools.kmsjarsigner.Main (in module jdk.kmsjartool) cannot access class sun.security.util.DisabledAlgorithmConstraints (in module java.base) because module java.base does not export sun.security.util to module jdk.kmsjartool\n    at jdk.kmsjartool/sun.security.tools.kmsjarsigner.Main.&lt;clinit&gt;(Main.java:92)\n</code></pre>\n<p>I've added from Intellij the following JVM arguments:\n<a href=\"https://i.stack.imgur.com/ueyHc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ueyHc.png\" alt=\"JVM Arguments\" /></a></p>\n<p>Now, as you can see, I've added exports and opens to <code>java.base/sun.secruity.util</code>, yet I still get <code>IllegalAccessError</code> when I try to use it.</p>\n<p>Can you help me find out what I'm doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":16636145,"reputation":69,"user_id":12022768,"display_name":"kurious"},"score":0,"creation_date":1640740041,"post_id":70514075,"comment_id":124647790,"body_markdown":"I have looked into all those questions you are referring to, well before posting my question. None of them answers my question.","body":"I have looked into all those questions you are referring to, well before posting my question. None of them answers my question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1640740643,"post_id":70514075,"comment_id":124647894,"body_markdown":"`list.collect(Collectors.partitioningBy(i -&gt; i % 3 == 0, Collectors.partitioningBy(i -&gt; i % 5 == 0)))`","body":"<code>list.collect(Collectors.partitioningBy(i -&gt; i % 3 == 0, Collectors.partitioningBy(i -&gt; i % 5 == 0)))</code>"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1640743453,"post_id":70514075,"comment_id":124648315,"body_markdown":"apologies -- I was wrong and @shmosel was right","body":"apologies -- I was wrong and @shmosel was right"},{"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"score":0,"creation_date":1640776150,"post_id":70514075,"comment_id":124655064,"body_markdown":"Simplified solution with reference to @Shawn&#39;s answer\n Map&lt;String, List&lt;Integer&gt;&gt; groups =\n\t\t\t\tintList.stream().collect(Collectors.groupingBy(n-&gt; n%3 == 0 ? (n%5 == 0 ? &quot;l35&quot; : &quot;l3&quot;) : n%5 == 0 ? &quot;l5&quot; : &quot;NONE&quot;));","body":"Simplified solution with reference to @Shawn&#39;s answer  Map&lt;String, List&lt;Integer&gt;&gt; groups = \t\t\t\tintList.stream().collect(Collectors.groupingBy(n-&gt; n%3 == 0 ? (n%5 == 0 ? &quot;l35&quot; : &quot;l3&quot;) : n%5 == 0 ? &quot;l5&quot; : &quot;NONE&quot;));"}],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640767028,"creation_date":1640767028,"answer_id":70516973,"question_id":70514075,"body_markdown":"I&#39;d use a helper enum to describe the different possible classifications of the numbers, combined with `Collectors.groupingBy()`:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\npublic class Demo {\r\n\r\n    private enum Fizzbuzz {\r\n        DIV_BY_THREE, DIV_BY_FIVE, DIV_BY_BOTH, DIV_BY_NEITHER;\r\n\r\n        static public Fizzbuzz classify(int i) {\r\n            if (i % 3 == 0) {\r\n                return i % 5 == 0 ? DIV_BY_BOTH : DIV_BY_THREE;\r\n            } else if (i % 5 == 0) {\r\n                return DIV_BY_FIVE;\r\n            } else {\r\n                return DIV_BY_NEITHER;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = List.of(24, 25, 45, 30, 3, 20, 5);\r\n        Map&lt;Fizzbuzz, List&lt;Integer&gt;&gt; groups =\r\n            list.stream().collect(Collectors.groupingBy(Fizzbuzz::classify));\r\n        System.out.println(groups);\r\n    }\r\n}\r\n```\r\n\r\noutputs\r\n\r\n```none\r\n{DIV_BY_THREE=[24, 3], DIV_BY_FIVE=[25, 20, 5], DIV_BY_BOTH=[45, 30]}\r\n```","title":"How to group elements based their property using Java Stream API","body":"<p>I'd use a helper enum to describe the different possible classifications of the numbers, combined with <code>Collectors.groupingBy()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class Demo {\n\n    private enum Fizzbuzz {\n        DIV_BY_THREE, DIV_BY_FIVE, DIV_BY_BOTH, DIV_BY_NEITHER;\n\n        static public Fizzbuzz classify(int i) {\n            if (i % 3 == 0) {\n                return i % 5 == 0 ? DIV_BY_BOTH : DIV_BY_THREE;\n            } else if (i % 5 == 0) {\n                return DIV_BY_FIVE;\n            } else {\n                return DIV_BY_NEITHER;\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; list = List.of(24, 25, 45, 30, 3, 20, 5);\n        Map&lt;Fizzbuzz, List&lt;Integer&gt;&gt; groups =\n            list.stream().collect(Collectors.groupingBy(Fizzbuzz::classify));\n        System.out.println(groups);\n    }\n}\n</code></pre>\n<p>outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>{DIV_BY_THREE=[24, 3], DIV_BY_FIVE=[25, 20, 5], DIV_BY_BOTH=[45, 30]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640770676,"creation_date":1640770676,"answer_id":70517594,"question_id":70514075,"body_markdown":"### Reduce to a map\r\nUse [streams reduction](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html).\r\nHere we can use the [`reduce(identityFunc, accumulationFunc, combiningFunc)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-) variant:\r\n\r\nThe initial map contains 4 `String` keys mapped to empty `List&lt;Integer&gt;`:\r\n 1. `&quot;I&quot;` for all unmapped (not-fizz-buzz-able) integers\r\n 2. `&quot;I3&quot;` for divisible by 3\r\n 3. `&quot;I5&quot;` for divisible by 5\r\n 4. `&quot;I35&quot;` for divisible by 3 and 5\r\n\r\nSee [runnable demo on IDEone](https://ideone.com/pDMd6g):\r\n```java\r\nMap&lt;String, List&lt;Integer&gt;&gt; fizzBuzz = new HashMap&lt;&gt;(3);\r\nfizzBuzz.put(&quot;I&quot;, new ArrayList());\r\nfizzBuzz.put(&quot;I3&quot;, new ArrayList());\r\nfizzBuzz.put(&quot;I5&quot;, new ArrayList());\r\nfizzBuzz.put(&quot;I35&quot;, new ArrayList());\r\n\r\nlist.stream().reduce(\r\n       fizzBuzz,\r\n       (map, e) -&gt; {\r\n       \t  String key = &quot;I&quot;; // default key\r\n       \t  if (e % 3 == 0) key = &quot;I3&quot;;\r\n       \t  if (e % 5 == 0) key = &quot;I5&quot;;\r\n       \t  if (e % (3*5) == 0) key = &quot;I35&quot;;\r\n       \t  map.get(key).add(e);\r\n       \t  return map;\r\n   \t\t},\r\n\t    (m, m2) -&gt; {\r\n    \t    m.putAll(m2);\r\n        \treturn m;\r\n\t    }\r\n   \t);\r\n   \t\t\r\nSystem.out.println(fizzBuzz);\r\n```\r\nPrints the expected:\r\n&gt; {I=[], I3=[24, 3], I35=[45, 30], I5=[25, 20, 5]}\r\n\r\nSee also:\r\nhttps://stackoverflow.com/questions/62116571/java-stream-reduce-to-map","title":"How to group elements based their property using Java Stream API","body":"<h3>Reduce to a map</h3>\n<p>Use <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">streams reduction</a>.\nHere we can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>reduce(identityFunc, accumulationFunc, combiningFunc)</code></a> variant:</p>\n<p>The initial map contains 4 <code>String</code> keys mapped to empty <code>List&lt;Integer&gt;</code>:</p>\n<ol>\n<li><code>&quot;I&quot;</code> for all unmapped (not-fizz-buzz-able) integers</li>\n<li><code>&quot;I3&quot;</code> for divisible by 3</li>\n<li><code>&quot;I5&quot;</code> for divisible by 5</li>\n<li><code>&quot;I35&quot;</code> for divisible by 3 and 5</li>\n</ol>\n<p>See <a href=\"https://ideone.com/pDMd6g\" rel=\"nofollow noreferrer\">runnable demo on IDEone</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Integer&gt;&gt; fizzBuzz = new HashMap&lt;&gt;(3);\nfizzBuzz.put(&quot;I&quot;, new ArrayList());\nfizzBuzz.put(&quot;I3&quot;, new ArrayList());\nfizzBuzz.put(&quot;I5&quot;, new ArrayList());\nfizzBuzz.put(&quot;I35&quot;, new ArrayList());\n\nlist.stream().reduce(\n       fizzBuzz,\n       (map, e) -&gt; {\n          String key = &quot;I&quot;; // default key\n          if (e % 3 == 0) key = &quot;I3&quot;;\n          if (e % 5 == 0) key = &quot;I5&quot;;\n          if (e % (3*5) == 0) key = &quot;I35&quot;;\n          map.get(key).add(e);\n          return map;\n        },\n        (m, m2) -&gt; {\n            m.putAll(m2);\n            return m;\n        }\n    );\n        \nSystem.out.println(fizzBuzz);\n</code></pre>\n<p>Prints the expected:</p>\n<blockquote>\n<p>{I=[], I3=[24, 3], I35=[45, 30], I5=[25, 20, 5]}</p>\n</blockquote>\n<p>See also:\n<a href=\"https://stackoverflow.com/questions/62116571/java-stream-reduce-to-map\">Java stream reduce to map</a></p>\n"}],"owner":{"account_id":16636145,"reputation":69,"user_id":12022768,"display_name":"kurious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70516973,"answer_count":2,"score":2,"last_activity_date":1640770676,"creation_date":1640739046,"question_id":70514075,"body_markdown":"I have a list of natural numbers. How can I subgroup all the numbers divisible by 3, 5 and both, using Java Stream API? \r\n\r\nFor example:\r\n\r\n```java\r\nArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(24);\r\nlist.add(25);\r\nlist.add(45);\r\nlist.add(30);\r\nlist.add(3);\r\nlist.add(20);\r\nlist.add(5);\r\n```\r\n    \r\nI want l3 = [3,24] , l5 = [5,20,25], l35 = [45,30]\r\n\r\nAlso, I don&#39;t want to call `groupingBy()` three times on the list as the list is really huge. \r\n","title":"How to group elements based their property using Java Stream API","body":"<p>I have a list of natural numbers. How can I subgroup all the numbers divisible by 3, 5 and both, using Java Stream API?</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(24);\nlist.add(25);\nlist.add(45);\nlist.add(30);\nlist.add(3);\nlist.add(20);\nlist.add(5);\n</code></pre>\n<p>I want l3 = [3,24] , l5 = [5,20,25], l35 = [45,30]</p>\n<p>Also, I don't want to call <code>groupingBy()</code> three times on the list as the list is really huge.</p>\n"},{"tags":["java","android","java-native-interface"],"owner":{"account_id":9777748,"reputation":1119,"user_id":7247051,"accept_rate":100,"display_name":"Ihdina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640770080,"creation_date":1640770080,"question_id":70517499,"body_markdown":"How to call `read` method in `Usb.java` from `JNI`?\r\n\r\n```\r\n\tstatic jclass _clsUsbController;\r\n\tstatic jfieldID _fldUsbController;\r\n\tstatic jobject _objUsbController;\r\n\tstatic jmethodID _midRead;\r\n\r\n\t// read mid\r\n\tstatic const char *MID_READ = &quot;read&quot;;\r\n\r\n\t// read sig\r\n\tstatic const char *SIG_READ = &quot;(Lid/ctech/dispenser_pos/dev/comm/devices/usb/IUsb$IUsbWriteCallback;)V&quot;;\r\n\r\n\t// read method id\r\n\t_midRead = e-&gt;GetMethodID(_clsUsbController, MID_READ, SIG_READ);\r\n\tif (_midRead == null || isExceptionOccurred()) {\r\n\t\treturn JNI_FALSE;\r\n\t}\r\n\r\n\t// call read method\r\n\tarrRes = (jbyteArray) e-&gt;CallObjectMethod(_objUsbController, _midRead);\r\n\r\n```\r\n\r\n\r\n\r\n\\app\\src\\main\\java\\id\\ctech\\dispenser_pos\\dev\\comm\\devices\\usb\\IUsb.java\r\n\r\n```\r\n\r\npackage id.ctech.dispenser_pos.dev.comm.devices.usb;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\npublic interface IUsb {\r\n\r\n    void read(@NonNull IUsbReadCallback callback);\r\n\r\n    interface IUsbReadCallback {\r\n\r\n        void onSuccess(byte[] result);\r\n\r\n        void onError(@NonNull Throwable result);\r\n    }\r\n\t\r\n}\r\n```\r\n\r\n\\app\\src\\main\\java\\id\\ctech\\dispenser_pos\\dev\\comm\\devices\\usb\\Usb.java\r\n\r\n```\r\n\r\npackage id.ctech.dispenser_pos.dev.comm.devices.usb;\r\n\r\npublic class Usb implements IUsb {\r\n\r\n    @Override\r\n    public synchronized void read(@NonNull IUsbWriteCallback callback) {\r\n\r\n         // ...\r\n\r\n    }\r\n\r\n }\r\n\r\n```","title":"How to call method with callback from jni","body":"<p>How to call <code>read</code> method in <code>Usb.java</code> from <code>JNI</code>?</p>\n<pre><code>    static jclass _clsUsbController;\n    static jfieldID _fldUsbController;\n    static jobject _objUsbController;\n    static jmethodID _midRead;\n\n    // read mid\n    static const char *MID_READ = &quot;read&quot;;\n\n    // read sig\n    static const char *SIG_READ = &quot;(Lid/ctech/dispenser_pos/dev/comm/devices/usb/IUsb$IUsbWriteCallback;)V&quot;;\n\n    // read method id\n    _midRead = e-&gt;GetMethodID(_clsUsbController, MID_READ, SIG_READ);\n    if (_midRead == null || isExceptionOccurred()) {\n        return JNI_FALSE;\n    }\n\n    // call read method\n    arrRes = (jbyteArray) e-&gt;CallObjectMethod(_objUsbController, _midRead);\n\n</code></pre>\n<p>\\app\\src\\main\\java\\id\\ctech\\dispenser_pos\\dev\\comm\\devices\\usb\\IUsb.java</p>\n<pre><code>\npackage id.ctech.dispenser_pos.dev.comm.devices.usb;\n\nimport androidx.annotation.NonNull;\n\npublic interface IUsb {\n\n    void read(@NonNull IUsbReadCallback callback);\n\n    interface IUsbReadCallback {\n\n        void onSuccess(byte[] result);\n\n        void onError(@NonNull Throwable result);\n    }\n    \n}\n</code></pre>\n<p>\\app\\src\\main\\java\\id\\ctech\\dispenser_pos\\dev\\comm\\devices\\usb\\Usb.java</p>\n<pre><code>\npackage id.ctech.dispenser_pos.dev.comm.devices.usb;\n\npublic class Usb implements IUsb {\n\n    @Override\n    public synchronized void read(@NonNull IUsbWriteCallback callback) {\n\n         // ...\n\n    }\n\n }\n\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":2,"creation_date":1607985772,"post_id":65297440,"comment_id":115439349,"body_markdown":"There are no such built-ins in Java but this looks exactly the same what `Preconditions` are designed for in Google Guava. See more at: https://github.com/google/guava/wiki/PreconditionsExplained","body":"There are no such built-ins in Java but this looks exactly the same what <code>Preconditions</code> are designed for in Google Guava. See more at: <a href=\"https://github.com/google/guava/wiki/PreconditionsExplained\" rel=\"nofollow noreferrer\">github.com/google/guava/wiki/PreconditionsExplained</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1640768849,"creation_date":1607985620,"answer_id":65297546,"question_id":65297440,"body_markdown":"There is a method ```requireNonNull()``` in ```java.util.Objects``` that takes an object reference and checks that for being ```null```.\r\n\r\nSee [the Javadoc here!][1]\r\n\r\nBut obviously, that is less flexible as the Kotlin version …\r\n\r\nBasically, you can write your own version of `require()` like this:\r\n\r\n    public static final void require( final boolean predicate, final Supplier&lt;String&gt; messageSupplier )\r\n    {\r\n      if( !predicate ) throw new IllegalArgumentException( messageSupplier.get() );\r\n    }\r\n\r\n(Error handling omitted …)\r\n\r\nYou can use it like this:\r\n\r\n    …\r\n    require( count &gt; 0, () -&gt; String.format( &quot;Count must be non-negative, was %d&quot;, count );\r\n    …\r\n\r\nBut this requires that `count` is *effectively* `final` (or constant), otherwise it will not compile.\r\n\r\nThis can be circumvented when creating `require()` like this:\r\n\r\n    public static final void require( final boolean predicate, final Object messageArgument, final Function&lt;Object,String&gt; messageSupplier )\r\n    {\r\n      if( !predicate ) throw new IllegalArgumentException( messageSupplier.apply( Objects.toString( messageArgument ) );\r\n    }\r\n\r\nYou can use it like this:\r\n\r\n    …\r\n    require( count &gt; 0, count, arg -&gt; String.format( &quot;Count must be non-negative, was %s&quot;, arg );\r\n    …\r\n\r\nBut in case of a primitive type, you have to pay the price for the boxing when calling `require()`.\r\n\r\nThat in turn can be avoided by having a whole family of `require()` methods, one for each primitive type …\r\n\r\nIf the main goal is to avoid temporary objects that are not used when the condition of `predicate` is met, I would assume, you should not use inline closures (`() -&gt; …`) but method references (`this::getMessage`) as the `Supplier`/`Function` arguments … but I also think that we are here already on the path of premature optimisations.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.util.function.Supplier)\r\n","title":"Is there a Java built in equivalent to Kotlin&#39;s require function?","body":"<p>There is a method <code>requireNonNull()</code> in <code>java.util.Objects</code> that takes an object reference and checks that for being <code>null</code>.</p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T,java.util.function.Supplier)\" rel=\"nofollow noreferrer\">the Javadoc here!</a></p>\n<p>But obviously, that is less flexible as the Kotlin version …</p>\n<p>Basically, you can write your own version of <code>require()</code> like this:</p>\n<pre><code>public static final void require( final boolean predicate, final Supplier&lt;String&gt; messageSupplier )\n{\n  if( !predicate ) throw new IllegalArgumentException( messageSupplier.get() );\n}\n</code></pre>\n<p>(Error handling omitted …)</p>\n<p>You can use it like this:</p>\n<pre><code>…\nrequire( count &gt; 0, () -&gt; String.format( &quot;Count must be non-negative, was %d&quot;, count );\n…\n</code></pre>\n<p>But this requires that <code>count</code> is <em>effectively</em> <code>final</code> (or constant), otherwise it will not compile.</p>\n<p>This can be circumvented when creating <code>require()</code> like this:</p>\n<pre><code>public static final void require( final boolean predicate, final Object messageArgument, final Function&lt;Object,String&gt; messageSupplier )\n{\n  if( !predicate ) throw new IllegalArgumentException( messageSupplier.apply( Objects.toString( messageArgument ) );\n}\n</code></pre>\n<p>You can use it like this:</p>\n<pre><code>…\nrequire( count &gt; 0, count, arg -&gt; String.format( &quot;Count must be non-negative, was %s&quot;, arg );\n…\n</code></pre>\n<p>But in case of a primitive type, you have to pay the price for the boxing when calling <code>require()</code>.</p>\n<p>That in turn can be avoided by having a whole family of <code>require()</code> methods, one for each primitive type …</p>\n<p>If the main goal is to avoid temporary objects that are not used when the condition of <code>predicate</code> is met, I would assume, you should not use inline closures (<code>() -&gt; …</code>) but method references (<code>this::getMessage</code>) as the <code>Supplier</code>/<code>Function</code> arguments … but I also think that we are here already on the path of premature optimisations.</p>\n"},{"tags":[],"owner":{"account_id":299782,"reputation":1334,"user_id":1546453,"accept_rate":100,"display_name":"triplem"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1607986889,"creation_date":1607986486,"answer_id":65297687,"question_id":65297440,"body_markdown":"Since Java 1.4 there is the assert Keyword in the JDK, which could be used to do something pretty similar. Oin this case an AsserrionError is thrown.","title":"Is there a Java built in equivalent to Kotlin&#39;s require function?","body":"<p>Since Java 1.4 there is the assert Keyword in the JDK, which could be used to do something pretty similar. Oin this case an AsserrionError is thrown.</p>\n"},{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607986581,"creation_date":1607986581,"answer_id":65297700,"question_id":65297440,"body_markdown":"    public class TestAsserts {\r\n        public static void main(String[] argv) {\r\n    \r\n            int count = -2;\r\n    \r\n            testCount(count);\r\n        }\r\n    \r\n        public static void testCount(int count) {\r\n            assert(count &gt;= 0): &quot;Count must be non-negative, was &quot; + count;\r\n        }\r\n    }\r\n\r\nwould work the same way.  You get to decide if assertions are enabled or not at runtime.  To run this you&#39;d need to pass `-ea` as a Java command line option.\r\n\r\nNote the the exception is a bit different too:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AssertionError: Count must be non-negative, was -2\r\n    \tat TestAsserts.testCount(TestAsserts.java:12)\r\n    \tat TestAsserts.main(TestAsserts.java:8)","title":"Is there a Java built in equivalent to Kotlin&#39;s require function?","body":"<pre><code>public class TestAsserts {\n    public static void main(String[] argv) {\n\n        int count = -2;\n\n        testCount(count);\n    }\n\n    public static void testCount(int count) {\n        assert(count &gt;= 0): &quot;Count must be non-negative, was &quot; + count;\n    }\n}\n</code></pre>\n<p>would work the same way.  You get to decide if assertions are enabled or not at runtime.  To run this you'd need to pass <code>-ea</code> as a Java command line option.</p>\n<p>Note the the exception is a bit different too:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AssertionError: Count must be non-negative, was -2\n    at TestAsserts.testCount(TestAsserts.java:12)\n    at TestAsserts.main(TestAsserts.java:8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18032226,"reputation":2541,"user_id":13106495,"display_name":"Ismail Durmaz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608016324,"creation_date":1607986672,"answer_id":65297720,"question_id":65297440,"body_markdown":"You can use `assert` function that is equivalent to the Kotlin `require` method.\r\n\r\n```java\r\nassert count &gt;= 0 : &quot;Count must be non-negative, was &quot; + count;\r\n```\r\n[Programming With Assertions][1]\r\n\r\nJDK disables assert operations by default. If you want to enable assert operations you must define enabled package or class locations with VM options like `-ea:com.example.demo...`\r\n\r\n[Enabling and Disabling Assertions][2]\r\n\r\nI prefer Spring Framework&#39;s `org.springframework.util.Assert` class, because there are lots of method for validating parameters.\r\n\r\nSimpler way:\r\n```java\r\nAssert.isTrue(count &gt;= 0, &quot;Count must be non-negative, was &quot; + count);\r\n```\r\n\r\nLazy way (For better performance and same flow like kotlin `require` function):\r\n```java\r\nAssert.isTrue(count &gt;= 0, () -&gt; &quot;Count must be non-negative, was &quot; + count);\r\n```\r\n\r\n[Spring Assert Statements][3]\r\n\r\nFor Unit tests, you can use, Junit (`org.junit.Assert`) or Jupiter (`org.junit.jupiter.api.Assertions`) assertion functions.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\r\n  [2]: https://docs.oracle.com/cd/E19683-01/806-7930/6jgp65ikq/index.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/Assert.html","title":"Is there a Java built in equivalent to Kotlin&#39;s require function?","body":"<p>You can use <code>assert</code> function that is equivalent to the Kotlin <code>require</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert count &gt;= 0 : &quot;Count must be non-negative, was &quot; + count;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">Programming With Assertions</a></p>\n<p>JDK disables assert operations by default. If you want to enable assert operations you must define enabled package or class locations with VM options like <code>-ea:com.example.demo...</code></p>\n<p><a href=\"https://docs.oracle.com/cd/E19683-01/806-7930/6jgp65ikq/index.html\" rel=\"nofollow noreferrer\">Enabling and Disabling Assertions</a></p>\n<p>I prefer Spring Framework's <code>org.springframework.util.Assert</code> class, because there are lots of method for validating parameters.</p>\n<p>Simpler way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Assert.isTrue(count &gt;= 0, &quot;Count must be non-negative, was &quot; + count);\n</code></pre>\n<p>Lazy way (For better performance and same flow like kotlin <code>require</code> function):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Assert.isTrue(count &gt;= 0, () -&gt; &quot;Count must be non-negative, was &quot; + count);\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/Assert.html\" rel=\"nofollow noreferrer\">Spring Assert Statements</a></p>\n<p>For Unit tests, you can use, Junit (<code>org.junit.Assert</code>) or Jupiter (<code>org.junit.jupiter.api.Assertions</code>) assertion functions.</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1640768849,"creation_date":1607985026,"question_id":65297440,"body_markdown":"Kotlin has a [require][1] function which can be used like so (copied from the reference documentation):\r\n\r\n```kotlin\r\nfun getIndices(count: Int): List&lt;Int&gt; {\r\n    require(count &gt;= 0) { &quot;Count must be non-negative, was $count&quot; }\r\n    // ...\r\n    return List(count) { it + 1 }\r\n}\r\n\r\n// getIndices(-1) // will fail with IllegalArgumentException\r\n\r\nprintln(getIndices(3)) // [1, 2, 3]\r\n```\r\n\r\nThe function essentially throws an IllegalArgumentException if the value is false.\r\nObviously this could very easily be implemented in Java - but I was wondering is there something already in the JDK or apache libraries (or any other ubiquitous libraries) which offers a function which does this?\r\n\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/require.html","title":"Is there a Java built in equivalent to Kotlin&#39;s require function?","body":"<p>Kotlin has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/require.html\" rel=\"nofollow noreferrer\">require</a> function which can be used like so (copied from the reference documentation):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getIndices(count: Int): List&lt;Int&gt; {\n    require(count &gt;= 0) { &quot;Count must be non-negative, was $count&quot; }\n    // ...\n    return List(count) { it + 1 }\n}\n\n// getIndices(-1) // will fail with IllegalArgumentException\n\nprintln(getIndices(3)) // [1, 2, 3]\n</code></pre>\n<p>The function essentially throws an IllegalArgumentException if the value is false.\nObviously this could very easily be implemented in Java - but I was wondering is there something already in the JDK or apache libraries (or any other ubiquitous libraries) which offers a function which does this?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-batch-tasklet"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1640767790,"post_id":70517096,"comment_id":124652645,"body_markdown":"you declare them as Object, Object doesn&#39;t provide an execute method. so either you cast your object within your loop, or you declare them as the right type","body":"you declare them as Object, Object doesn&#39;t provide an execute method. so either you cast your object within your loop, or you declare them as the right type"}],"answers":[{"tags":[],"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640768376,"creation_date":1640767999,"answer_id":70517135,"question_id":70517096,"body_markdown":"Firstly, ArrayList&amp;lt;T&amp;gt; only can accept the declared type T, so you cannot add objects of a different type, say K into the same ArrayList.\r\n\r\n**Solution 1**&lt;br&gt;\r\nA solution for your need could be to declare `ArrayList&lt;Object&gt; list` and then add the two services.\r\n\r\n**Solution 2**&lt;br&gt;\r\nNow, because you want a common `execute` method, it would be natural for your `Service1` and `Service2` classes to implement some interface, say `Service` to achieve a unique `execute` method implementation for each class. And you can declare your ArrayList as `ArrayList&lt;Service&gt; list`","title":"How can I execute method of an Object in Arraylist?","body":"<p>Firstly, ArrayList&lt;T&gt; only can accept the declared type T, so you cannot add objects of a different type, say K into the same ArrayList.</p>\n<p><strong>Solution 1</strong><br>\nA solution for your need could be to declare <code>ArrayList&lt;Object&gt; list</code> and then add the two services.</p>\n<p><strong>Solution 2</strong><br>\nNow, because you want a common <code>execute</code> method, it would be natural for your <code>Service1</code> and <code>Service2</code> classes to implement some interface, say <code>Service</code> to achieve a unique <code>execute</code> method implementation for each class. And you can declare your ArrayList as <code>ArrayList&lt;Service&gt; list</code></p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640768026,"creation_date":1640768026,"answer_id":70517138,"question_id":70517096,"body_markdown":"Introduce an interface:\r\n```\r\ninterface Service {\r\n  void execute();\r\n}\r\n\r\nclass Service1 implements Service { ... }\r\nclass Service2 implements Service { ... }\r\n\r\nList&lt;Service&gt; serviceList = ...\r\n\r\nfor (Service service: serviceList) {\r\n  service.execute();\r\n}\r\n```","title":"How can I execute method of an Object in Arraylist?","body":"<p>Introduce an interface:</p>\n<pre><code>interface Service {\n  void execute();\n}\n\nclass Service1 implements Service { ... }\nclass Service2 implements Service { ... }\n\nList&lt;Service&gt; serviceList = ...\n\nfor (Service service: serviceList) {\n  service.execute();\n}\n</code></pre>\n"}],"owner":{"account_id":23265567,"reputation":17,"user_id":17351161,"display_name":"Hai Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1640768376,"creation_date":1640767675,"question_id":70517096,"body_markdown":"My problem is:\r\nI created an Arraylist&lt;Object&gt; serviceList\r\n\r\nBoth service1 and service2 are 2 seperate objects from 2 classes but they have the same &quot;execute&quot; method:\r\n```\r\npublic Service1 service1;\r\npublic Service2 service2;\r\n\r\n/*Then I add element to Arraylist:*/\r\nserviceList.add(0, service1);\r\nserviceList.add(1, service2);\r\n\r\n/*then how can I run &quot;excute&quot; method of service1 and service2?\r\nsomething like this:*/\r\nfor(Object service: serviceList){\r\n    service.execute();\r\n}\r\n```\r\nI tried with ArrayList&lt; Class&gt; but it was a deadend.\r\nThanks for your answer :D \r\n\r\n\r\n\r\n","title":"How can I execute method of an Object in Arraylist?","body":"<p>My problem is:\nI created an Arraylist serviceList</p>\n<p>Both service1 and service2 are 2 seperate objects from 2 classes but they have the same &quot;execute&quot; method:</p>\n<pre><code>public Service1 service1;\npublic Service2 service2;\n\n/*Then I add element to Arraylist:*/\nserviceList.add(0, service1);\nserviceList.add(1, service2);\n\n/*then how can I run &quot;excute&quot; method of service1 and service2?\nsomething like this:*/\nfor(Object service: serviceList){\n    service.execute();\n}\n</code></pre>\n<p>I tried with ArrayList&lt; Class&gt; but it was a deadend.\nThanks for your answer :D</p>\n"},{"tags":["java","tomcat","environment-variables","localhost"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1640764377,"post_id":70516541,"comment_id":124651696,"body_markdown":"Try to launch Tomcat from the command line, you may see additional messages.","body":"Try to launch Tomcat from the command line, you may see additional messages."},{"owner":{"account_id":23772999,"reputation":1,"user_id":17786811,"display_name":"Sujeet Tiwari"},"score":0,"creation_date":1640764871,"post_id":70516541,"comment_id":124651825,"body_markdown":"if lauching from cmmand line i get below message and after sometime startup screen get close automatically&#39;","body":"if lauching from cmmand line i get below message and after sometime startup screen get close automatically&#39;"},{"owner":{"account_id":23772999,"reputation":1,"user_id":17786811,"display_name":"Sujeet Tiwari"},"score":0,"creation_date":1640764877,"post_id":70516541,"comment_id":124651828,"body_markdown":"Using CATALINA_BASE:   &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73&quot;\nUsing CATALINA_HOME:   &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_251&quot;\nUsing CLASSPATH:       &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\bin\\bootstrap.jar;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\bin\\tomcat-juli.jar&quot;\nUsing CATALINA_OPTS:   &quot;&quot;","body":"Using CATALINA_BASE:   &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73&quot; Using CATALINA_HOME:   &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73&quot; Using CATALINA_TMPDIR: &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\temp&quot; Using JRE_HOME:        &quot;C:\\Program Files\\Java\\jre1.8.0_251&quot; Using CLASSPATH:       &quot;C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\bin\\bootst&zwnj;&#8203;rap.jar;C:\\IIQ\\apach&zwnj;&#8203;e-tomcat-8.5.73\\apac&zwnj;&#8203;he-tomcat-8.5.73\\bin&zwnj;&#8203;\\tomcat-juli.jar&quot; Using CATALINA_OPTS:   &quot;&quot;"},{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1640770119,"post_id":70516541,"comment_id":124653324,"body_markdown":"What do you see in error logs ?","body":"What do you see in error logs ?"}],"owner":{"account_id":23772999,"reputation":1,"user_id":17786811,"display_name":"Sujeet Tiwari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640768079,"creation_date":1640764210,"question_id":70516541,"body_markdown":"I am trying to start my APACHE TOMCAT SERVER version apache-tomcat-8.5.73 \r\nwhen i click on startup one window will open and after some time get below message and screen get close every time.\r\ni have checked environment variable it is defined correct, i am try to catch the issue but did not.\r\n\r\n```\r\n2021 12:53:01.819 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n29-Dec-2021 12:53:02.250 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\r\n29-Dec-2021 12:53:02.388 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1736 ms\r\n29-Dec-2021 12:53:02.451 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n29-Dec-2021 12:53:02.452 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.73]\r\n29-Dec-2021 12:53:02.493 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\webapps\\identityiq.war]\r\n2021-12-29 12:53:47,677  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:100 - The application detected that a custom logging file exists: C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\conf\\logging.properties.  The application was unable to suppress various debugging messages.\r\n2021-12-29 12:53:47,689  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:101 - In order to manually suppress Jersey debugging messages, the following logger levels must be adjusted to &#39;&#39;WARNING&#39;&#39;: com.sun.jersey.api.core.PackagesResourceConfig, com.sun.jersey.server.impl.application.DeferredResourceConfig, and com.sun.jersey.server.impl.application.WebApplicationImpl\r\n2021-12-29 12:53:47,691  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:102 - In order to manually suppress JSF debugging messages, the following logger level must be adjusted to &#39;&#39;SEVERE&#39;&#39;: org.apache.myfaces.shared_tomahawk.renderkit.html.HtmlRendererUtils\r\n```","title":"Apache Tomcate not starting (http://localhost:8080/)","body":"<p>I am trying to start my APACHE TOMCAT SERVER version apache-tomcat-8.5.73\nwhen i click on startup one window will open and after some time get below message and screen get close every time.\ni have checked environment variable it is defined correct, i am try to catch the issue but did not.</p>\n<pre><code>2021 12:53:01.819 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n29-Dec-2021 12:53:02.250 INFO [main] org.apache.tomcat.util.net.NioSelectorPool.getSharedSelector Using a shared selector for servlet write/read\n29-Dec-2021 12:53:02.388 INFO [main] org.apache.catalina.startup.Catalina.load Initialization processed in 1736 ms\n29-Dec-2021 12:53:02.451 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n29-Dec-2021 12:53:02.452 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/8.5.73]\n29-Dec-2021 12:53:02.493 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\webapps\\identityiq.war]\n2021-12-29 12:53:47,677  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:100 - The application detected that a custom logging file exists: C:\\IIQ\\apache-tomcat-8.5.73\\apache-tomcat-8.5.73\\conf\\logging.properties.  The application was unable to suppress various debugging messages.\n2021-12-29 12:53:47,689  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:101 - In order to manually suppress Jersey debugging messages, the following logger levels must be adjusted to ''WARNING'': com.sun.jersey.api.core.PackagesResourceConfig, com.sun.jersey.server.impl.application.DeferredResourceConfig, and com.sun.jersey.server.impl.application.WebApplicationImpl\n2021-12-29 12:53:47,691  WARN localhost-startStop-1 sailpoint.server.JavaLoggingSuppressor:102 - In order to manually suppress JSF debugging messages, the following logger level must be adjusted to ''SEVERE'': org.apache.myfaces.shared_tomahawk.renderkit.html.HtmlRendererUtils\n</code></pre>\n"},{"tags":["java","jpa","jakarta-ee","java-ee-8","open-liberty"],"comments":[{"owner":{"account_id":1794140,"reputation":273,"user_id":1633933,"display_name":"Will Dazey"},"score":0,"creation_date":1632754904,"post_id":69342894,"comment_id":122572430,"body_markdown":"Possible duplication of https://stackoverflow.com/questions/2893969/hibernate-constraint-constraintviolationexception-is-there-an-easy-way-to-ignor","body":"Possible duplication of <a href=\"https://stackoverflow.com/questions/2893969/hibernate-constraint-constraintviolationexception-is-there-an-easy-way-to-ignor\" title=\"hibernate constraint constraintviolationexception is there an easy way to ignor\">stackoverflow.com/questions/2893969/&hellip;</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1632810160,"post_id":69342894,"comment_id":122586358,"body_markdown":"I get the impression that JPA&#39;s `em` is running in a *different transaction* than the one initiated manually by your code. I don&#39;t have enough data to prove it. How is `MarketRepository.insert()` getting called? What is your persistence.xml?","body":"I get the impression that JPA&#39;s <code>em</code> is running in a <i>different transaction</i> than the one initiated manually by your code. I don&#39;t have enough data to prove it. How is <code>MarketRepository.insert()</code> getting called? What is your persistence.xml?"}],"answers":[{"tags":[],"owner":{"account_id":17947811,"reputation":76,"user_id":13041661,"display_name":"pete_bc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632986185,"creation_date":1632949666,"answer_id":69383377,"question_id":69342894,"body_markdown":"If you use `em.merge(market);` instead of `em.persist(market);` JPA translates that to an insert-if-absent-else-update, which will avoid violating the constraint in your database that every (exchange, symbol) pairing be unique.\r\n\r\nThis may not work if the unique constraint isn&#39;t a primary key. Or even if it is ... My experience is you just can&#39;t catch an exception that the persistence container is throwing. One solution would be to make sure there isn&#39;t already a record with the same exchange and symbol:\r\n\r\n    String jpql = &quot;select count(*) from Market where m.exchange = ? and m.symbol = ?&quot;;\r\n    tx.begin();\r\n    int count = em.createQuery(jpql, Integer.class)\r\n    .setParameter(1, market.getExchange())\r\n    .setParameter(2, market.getSymbol()).getSingleResult();\r\n    if(count == 0){\r\n      em.persist(market);\r\n      tx.commit();\r\n    }\r\n\r\n","title":"Liberty JavaEE 8 catch ConstraintViolationException","body":"<p>If you use <code>em.merge(market);</code> instead of <code>em.persist(market);</code> JPA translates that to an insert-if-absent-else-update, which will avoid violating the constraint in your database that every (exchange, symbol) pairing be unique.</p>\n<p>This may not work if the unique constraint isn't a primary key. Or even if it is ... My experience is you just can't catch an exception that the persistence container is throwing. One solution would be to make sure there isn't already a record with the same exchange and symbol:</p>\n<pre><code>String jpql = &quot;select count(*) from Market where m.exchange = ? and m.symbol = ?&quot;;\ntx.begin();\nint count = em.createQuery(jpql, Integer.class)\n.setParameter(1, market.getExchange())\n.setParameter(2, market.getSymbol()).getSingleResult();\nif(count == 0){\n  em.persist(market);\n  tx.commit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637104962,"creation_date":1637097468,"answer_id":69996134,"question_id":69342894,"body_markdown":"You can&#39;t. That exception, when using plain JDBC, can be catched through a `SQLIntegrityConstraintViolationException`, but when using JPA you can&#39;t because it should not be part of your business logic (the same `SQLIntegrityConstraintViolationException` will be wrapped many times in different JPA Data Exceptions). That kind of exception is not something you want to catch, but prevent. It generally indicates a missconception in your business logic. My recomendations is to analyze why is it happening, and refactor your logic to avoid it, it will most probably result in a more robust code.\r\n\r\nIf you want to explain further your business case I can give you an specific recommendation. But just to provide something:\r\n\r\nYou can check with a query if the data with the constraint exists. If it doesn&#39;t it will result in a `NoResultException` (that is an Exception that can be part of your business logic. It talks about data, not about SQL stuff), and in your catch block you can now safely perform the insert.\r\n\r\nAnother matter would be if that select can happen concurrently in two different transactions. In that case you need to fine tune your connection indicating an ISOLATION_LEVEL. But that would be another different question.\r\n\r\n**Off-topic recomendation for your code**\r\n\r\nUserTransaction: At least in the example you are using you don&#39;t need that. All Session Bean (aka EJB) (that is Stateless, Stateful and Singleton) provide transactionality by default. That means that before any business method a new transaction will automatically start, and will commit it at the end of the method. If the method throws an Exception the transaction will automatically Rollback.\r\n\r\nIf the business method is called from another EJB it will reuse the same transaction. \r\n\r\nThat is the default behaviour, and is really really powerful, allowing to manage most of the business cases without manually managing transactions.","title":"Liberty JavaEE 8 catch ConstraintViolationException","body":"<p>You can't. That exception, when using plain JDBC, can be catched through a <code>SQLIntegrityConstraintViolationException</code>, but when using JPA you can't because it should not be part of your business logic (the same <code>SQLIntegrityConstraintViolationException</code> will be wrapped many times in different JPA Data Exceptions). That kind of exception is not something you want to catch, but prevent. It generally indicates a missconception in your business logic. My recomendations is to analyze why is it happening, and refactor your logic to avoid it, it will most probably result in a more robust code.</p>\n<p>If you want to explain further your business case I can give you an specific recommendation. But just to provide something:</p>\n<p>You can check with a query if the data with the constraint exists. If it doesn't it will result in a <code>NoResultException</code> (that is an Exception that can be part of your business logic. It talks about data, not about SQL stuff), and in your catch block you can now safely perform the insert.</p>\n<p>Another matter would be if that select can happen concurrently in two different transactions. In that case you need to fine tune your connection indicating an ISOLATION_LEVEL. But that would be another different question.</p>\n<p><strong>Off-topic recomendation for your code</strong></p>\n<p>UserTransaction: At least in the example you are using you don't need that. All Session Bean (aka EJB) (that is Stateless, Stateful and Singleton) provide transactionality by default. That means that before any business method a new transaction will automatically start, and will commit it at the end of the method. If the method throws an Exception the transaction will automatically Rollback.</p>\n<p>If the business method is called from another EJB it will reuse the same transaction.</p>\n<p>That is the default behaviour, and is really really powerful, allowing to manage most of the business cases without manually managing transactions.</p>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1640767768,"creation_date":1632728581,"question_id":69342894,"body_markdown":"Is there any way to catch `org.hibernate.exception.ConstraintViolationException` in Liberty application server ? \r\n\r\nI have a this repository code :    \r\n\r\n    @Stateless\r\n    @TransactionManagement(TransactionManagementType.BEAN)\r\n    public class MarketRepository {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        @Resource\r\n        private UserTransaction tx;\r\n    \r\n        public void insert(Market market) {\r\n            try {\r\n                tx.begin();\r\n                em.persist(market);\r\n                tx.commit();\r\n            } catch (Exception ignore) {\r\n            }\r\n        }\r\n    }     \r\n\r\nI always receive this exception :   \r\n\r\n    [INFO] Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    [INFO]  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\r\n    [INFO]  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    [INFO]  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    [INFO]  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    [INFO]  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    [INFO]  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3238)\r\n    [INFO]  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3763)\r\n    [INFO]  at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n    [INFO]  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    [INFO]  at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    [INFO]  at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)\r\n    [INFO]  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    [INFO]  at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\r\n    [INFO]  at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    [INFO]  at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\r\n    [INFO]  at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1360)\r\n    [INFO]  ... 20 more\r\n    [INFO] Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;ukmn9r4yewa9epwp1ekfsbm69gu&quot;\r\n    [INFO]   Detail: Key (exchange, symbol)=(COINEX, ZECUSDT) already exists.\r\n    [INFO]  at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533)\r\n    [INFO]  at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268)\r\n    [INFO]  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313)\r\n    [INFO]  at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\r\n    [INFO]  at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\r\n    [INFO]  at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:159)\r\n    [INFO]  at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:125)\r\n    [INFO]  at jdk.internal.reflect.GeneratedMethodAccessor1090.invoke(Unknown Source)\r\n    [INFO]  at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    [INFO]  at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:428)\r\n    [INFO]  at jdk.proxy11/jdk.proxy11.$Proxy136.executeUpdate(Unknown Source)\r\n    [INFO]  at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeUpdate(WSJdbcPreparedStatement.java:520)\r\n    [INFO]  at [internal classes]\r\n    [INFO]  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    [INFO]  ... 31 more\r\n\r\nthis is my server.xml config :   \r\n\r\n     &lt;dataSource jndiName=&quot;jdbc/jta-datasource&quot; transactional=&quot;true&quot;&gt;\r\n            &lt;jdbcDriver id=&quot;database-driver&quot; libraryRef=&quot;project-libs&quot;/&gt;\r\n            &lt;properties databaseName=&quot;${database.name}&quot; serverName=&quot;${database.hostname}&quot; portNumber=&quot;${database.port}&quot;\r\n                        user=&quot;${database.username}&quot; password=&quot;${database.password}&quot;/&gt;\r\n        &lt;/dataSource&gt;    \r\n\r\nso, I want to ignore this exception, but still receive that ! \r\n\r\nHow can fix this problem ?   ","title":"Liberty JavaEE 8 catch ConstraintViolationException","body":"<p>Is there any way to catch <code>org.hibernate.exception.ConstraintViolationException</code> in Liberty application server ?</p>\n<p>I have a this repository code :</p>\n<pre><code>@Stateless\n@TransactionManagement(TransactionManagementType.BEAN)\npublic class MarketRepository {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Resource\n    private UserTransaction tx;\n\n    public void insert(Market market) {\n        try {\n            tx.begin();\n            em.persist(market);\n            tx.commit();\n        } catch (Exception ignore) {\n        }\n    }\n}     \n</code></pre>\n<p>I always receive this exception :</p>\n<pre><code>[INFO] Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n[INFO]  at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:109)\n[INFO]  at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n[INFO]  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n[INFO]  at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n[INFO]  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n[INFO]  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3238)\n[INFO]  at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3763)\n[INFO]  at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n[INFO]  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n[INFO]  at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n[INFO]  at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:723)\n[INFO]  at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n[INFO]  at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:348)\n[INFO]  at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n[INFO]  at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:102)\n[INFO]  at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1360)\n[INFO]  ... 20 more\n[INFO] Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint &quot;ukmn9r4yewa9epwp1ekfsbm69gu&quot;\n[INFO]   Detail: Key (exchange, symbol)=(COINEX, ZECUSDT) already exists.\n[INFO]  at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2533)\n[INFO]  at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2268)\n[INFO]  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:313)\n[INFO]  at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:448)\n[INFO]  at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:369)\n[INFO]  at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:159)\n[INFO]  at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:125)\n[INFO]  at jdk.internal.reflect.GeneratedMethodAccessor1090.invoke(Unknown Source)\n[INFO]  at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n[INFO]  at org.postgresql.ds.PGPooledConnection$StatementHandler.invoke(PGPooledConnection.java:428)\n[INFO]  at jdk.proxy11/jdk.proxy11.$Proxy136.executeUpdate(Unknown Source)\n[INFO]  at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeUpdate(WSJdbcPreparedStatement.java:520)\n[INFO]  at [internal classes]\n[INFO]  at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n[INFO]  ... 31 more\n</code></pre>\n<p>this is my server.xml config :</p>\n<pre><code> &lt;dataSource jndiName=&quot;jdbc/jta-datasource&quot; transactional=&quot;true&quot;&gt;\n        &lt;jdbcDriver id=&quot;database-driver&quot; libraryRef=&quot;project-libs&quot;/&gt;\n        &lt;properties databaseName=&quot;${database.name}&quot; serverName=&quot;${database.hostname}&quot; portNumber=&quot;${database.port}&quot;\n                    user=&quot;${database.username}&quot; password=&quot;${database.password}&quot;/&gt;\n    &lt;/dataSource&gt;    \n</code></pre>\n<p>so, I want to ignore this exception, but still receive that !</p>\n<p>How can fix this problem ?</p>\n"},{"tags":["java","android","constants"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640765956,"post_id":70516755,"comment_id":124652134,"body_markdown":"You need to more clearly explain your data structure. Is it three parts or two: API, currency, ID?","body":"You need to more clearly explain your data structure. Is it three parts or two: API, currency, ID?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640766009,"post_id":70516755,"comment_id":124652145,"body_markdown":"By “hard-code”, do you mean all the values are known at compile-time, and they do not change at runtime?","body":"By “hard-code”, do you mean all the values are known at compile-time, and they do not change at runtime?"},{"owner":{"account_id":18533776,"reputation":129,"user_id":13503924,"display_name":"ReefG"},"score":0,"creation_date":1640766044,"post_id":70516755,"comment_id":124652156,"body_markdown":"@BasilBourque it is three parts, and all values are known at compile-time and don&#39;t ever change at runtime","body":"@BasilBourque it is three parts, and all values are known at compile-time and don&#39;t ever change at runtime"}],"answers":[{"tags":[],"owner":{"account_id":288866,"reputation":499,"user_id":589525,"accept_rate":0,"display_name":"Jaap D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640767291,"creation_date":1640767291,"answer_id":70517016,"question_id":70516755,"body_markdown":"Something like this:\r\n\r\n      public static final Map&lt;String, String&gt; MY_MAP= Map.of(\r\n          &quot;apiname1&quot;, &quot;id-01&quot;,\r\n          &quot;apiname2&quot;, &quot;id-02&quot;);\r\n\r\nIf you also need a mapping the other way around, create a function the creates a new map with the keys and values swapped.\r\nIf the API is not a string but another class, be sure to implement `equals()` and `hashCode()`.","title":"What is the best way to hardcode a table of constants in Java?","body":"<p>Something like this:</p>\n<pre><code>  public static final Map&lt;String, String&gt; MY_MAP= Map.of(\n      &quot;apiname1&quot;, &quot;id-01&quot;,\n      &quot;apiname2&quot;, &quot;id-02&quot;);\n</code></pre>\n<p>If you also need a mapping the other way around, create a function the creates a new map with the keys and values swapped.\nIf the API is not a string but another class, be sure to implement <code>equals()</code> and <code>hashCode()</code>.</p>\n"}],"owner":{"account_id":18533776,"reputation":129,"user_id":13503924,"display_name":"ReefG"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1640767291,"creation_date":1640765525,"question_id":70516755,"body_markdown":"I am creating a crypto portfolio app that calls multiple different API&#39;s which use different id&#39;s for the cryptocurrencies. As such I need a table that maps an API and a cryptocurrency to a string id that is used in that particular API for the cryptocurrency. Preferably, this would also go the other way (map API and string id to a cryptocurrency). What is the best way to hardcode such a table in Java? (Without needing to create for example a Guava Table and manually inserting all values)","title":"What is the best way to hardcode a table of constants in Java?","body":"<p>I am creating a crypto portfolio app that calls multiple different API's which use different id's for the cryptocurrencies. As such I need a table that maps an API and a cryptocurrency to a string id that is used in that particular API for the cryptocurrency. Preferably, this would also go the other way (map API and string id to a cryptocurrency). What is the best way to hardcode such a table in Java? (Without needing to create for example a Guava Table and manually inserting all values)</p>\n"},{"tags":["java","ant","antlr","antlr2"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1452282476,"post_id":34684879,"comment_id":57116138,"body_markdown":"Lots of things changed in the Java 8 compiler; in particular, type inference got a lot smarter, and does a lot more work.","body":"Lots of things changed in the Java 8 compiler; in particular, type inference got a lot smarter, and does a lot more work."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1452288124,"post_id":34684879,"comment_id":57119129,"body_markdown":"The question remains: is that change significant enough to be the reason why the same code baseline now requires twice the heap to be compiled?","body":"The question remains: is that change significant enough to be the reason why the same code baseline now requires twice the heap to be compiled?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1452288359,"post_id":34684879,"comment_id":57119252,"body_markdown":"It&#39;s difficult to guess that, but I wouldn&#39;t be particularly surprised if it were the case.","body":"It&#39;s difficult to guess that, but I wouldn&#39;t be particularly surprised if it were the case."}],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640767286,"creation_date":1452282349,"question_id":34684879,"body_markdown":"Recently, I upgraded my development environment from Java 6 to Java 8. During compilation (over 4,000 source files), I was encountering OutOfMemory errors when compiling with Java 8. In order to work around this issue, I had to increase my ANT javac task&#39;s memoryMaximumSize property value from 512m to 1024m.\r\n\r\nWhen examining the process using task manager, I could see why the aforementioned change was needed. The compiling process memory utilization went from approximately 480 MB to roughly 960 MB. I am somewhat hesitant to implement this change blindly. So, I would like to know:\r\n\r\n**Why is this change necessary?**\r\n\r\n**Did something change in the Java 8 compiler that uses more memory?**\r\n\r\n**Could it be that old ANTLR is inefficient when used with Java 8?** (this is what I believe) \r\n\r\nMy environment:\r\n\r\n - Java 8u66 (32-bit)\r\n - Windows 8\r\n - Eclipse Mars (32-bit)\r\n - ANTLR 2.7.7\r\n\r\n*In case you&#39;re wondering why 32-bit, we have some legacy DLLs that are 32-bit and can&#39;t be replaced (for now).*","title":"Java 8 compile-time heap requirements/settings","body":"<p>Recently, I upgraded my development environment from Java 6 to Java 8. During compilation (over 4,000 source files), I was encountering OutOfMemory errors when compiling with Java 8. In order to work around this issue, I had to increase my ANT javac task's memoryMaximumSize property value from 512m to 1024m.</p>\n<p>When examining the process using task manager, I could see why the aforementioned change was needed. The compiling process memory utilization went from approximately 480 MB to roughly 960 MB. I am somewhat hesitant to implement this change blindly. So, I would like to know:</p>\n<p><strong>Why is this change necessary?</strong></p>\n<p><strong>Did something change in the Java 8 compiler that uses more memory?</strong></p>\n<p><strong>Could it be that old ANTLR is inefficient when used with Java 8?</strong> (this is what I believe)</p>\n<p>My environment:</p>\n<ul>\n<li>Java 8u66 (32-bit)</li>\n<li>Windows 8</li>\n<li>Eclipse Mars (32-bit)</li>\n<li>ANTLR 2.7.7</li>\n</ul>\n<p><em>In case you're wondering why 32-bit, we have some legacy DLLs that are 32-bit and can't be replaced (for now).</em></p>\n"},{"tags":["java","sql-server","spring-boot","jpa","azure-sql-database"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1640292064,"post_id":70467029,"comment_id":124564968,"body_markdown":"Some of the bean names overlap (using the method name if not specified), so the last `@Bean` processed would win.  Try explicitly naming the beans, and `@Qualifier` the correct bean instance is injected where needed.","body":"Some of the bean names overlap (using the method name if not specified), so the last <code>@Bean</code> processed would win.  Try explicitly naming the beans, and <code>@Qualifier</code> the correct bean instance is injected where needed."},{"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"score":0,"creation_date":1640294831,"post_id":70467029,"comment_id":124565623,"body_markdown":"you were right on, thanks!!!","body":"you were right on, thanks!!!"}],"answers":[{"tags":[],"owner":{"account_id":15392663,"reputation":3122,"user_id":11104805,"display_name":"Abhishek K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640766940,"creation_date":1640766940,"answer_id":70516962,"question_id":70467029,"body_markdown":"Thank you [Andrew S][1]. Posting your suggestion as an answer to help other community members.\r\n\r\n\r\n&gt; Some of the bean names overlap (using the method name if not\r\n&gt; specified), so the last @Bean processed would win. Try explicitly\r\n&gt; naming the beans, and @Qualifier the correct bean instance is injected\r\n&gt; where needed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6650475/andrew-s","title":"Configuring multiple azure sql databases in spring boot","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/6650475/andrew-s\">Andrew S</a>. Posting your suggestion as an answer to help other community members.</p>\n<blockquote>\n<p>Some of the bean names overlap (using the method name if not\nspecified), so the last @Bean processed would win. Try explicitly\nnaming the beans, and @Qualifier the correct bean instance is injected\nwhere needed.</p>\n</blockquote>\n"}],"owner":{"account_id":16395317,"reputation":205,"user_id":11843048,"display_name":"Froshiga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70516962,"answer_count":1,"score":1,"last_activity_date":1640766940,"creation_date":1640290761,"question_id":70467029,"body_markdown":"I am trying to configure two datasources which use the same azure sql username/password but different urls/databases. I am using the @Primary annotation and split up the data access layers into their own folders but only the config without @Primary gets configured.\r\n\r\nDataSource1:\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = Constants.BASE_PAKAGE,\r\nentityManagerFactoryRef = Constants.ENTITY_MANAGER_FACTORY,\r\ntransactionManagerRef= Constants.TRANSACTION_MANAGER)\r\npublic class DataSourceConfiguration {\r\n\r\n    private Logger log = LoggerFactory.getLogger(this.getClass());\r\n\r\n    public DataSourceConfiguration(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n    private Environment environment;\r\n\r\n    @Primary\r\n    @Bean\r\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n   \r\n    @Primary\r\n    @Bean(name = Constants.ENTITY_MANAGER_FACTORY)\r\n    public LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) throws IllegalAccessException, InvocationTargetException, InstantiationException {\r\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(&quot;hibernate.dialect&quot;,environment.getProperty(&quot;sqlserver.datasource1.dialect&quot;));\r\n        return builder\r\n                .dataSource(dataSource())\r\n                .packages(Constants.ENTITY_PATH)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager sqlserverTransactionManager(\r\n            final @Qualifier(Constants.ENTITY_MANAGER_FACTORY) LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory) {\r\n        return new JpaTransactionManager(sqlserverEntityManagerFactory.getObject());\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    protected HikariDataSource dataSource() throws IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setDriverClassName(environment.getProperty(&quot;sqlserver.datasource1.driver&quot;));\r\n        config.setJdbcUrl(this.buildSnowflakeJDBCUrl());\r\n        config.setUsername(environment.getProperty(&quot;sqlserver.datasource1.username&quot;));\r\n        config.setPassword(environment.getProperty(&quot;sqlserver.datasource1.password&quot;));\r\n        HikariDataSource dataSource = new HikariDataSource(config);\r\n        return dataSource;\r\n    }\r\n\r\n    private String buildSnowflakeJDBCUrl() {\r\n        StringBuilder url = new StringBuilder();\r\n        url.append(environment.getProperty(&quot;sqlserver.datasource1.url&quot;));\r\n        return url.toString();\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\nand DataSource2:\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = Constants.BASE_PACKAGE2,\r\n        entityManagerFactoryRef = &quot;sqlserver2EntityManagerFactory&quot;,\r\n        transactionManagerRef= &quot;sqlserver2TransactionManager&quot;)\r\npublic class DataSourceConfiguration2 {\r\n\r\n    private Logger log = LoggerFactory.getLogger(this.getClass());\r\n\r\n    public PhDataSourceConfiguration(Environment environment) {\r\n        this.environment = environment;\r\n    }\r\n    private Environment environment;\r\n\r\n    @Bean\r\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\r\n    @Bean(name = &quot;sqlserver2EntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder) throws IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;hibernate.dialect&quot;,environment.getProperty(&quot;sqlserver.datasource2.dialect&quot;));\r\n        return builder\r\n                .dataSource(dataSource())\r\n                .packages(Constants.ENTITY_PATH2)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;sqlserver2TransactionManager&quot;)\r\n    public PlatformTransactionManager sqlserverTransactionManager(\r\n            final @Qualifier(&quot;sqlserver2EntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory) {\r\n        return new JpaTransactionManager(sqlserverEntityManagerFactory.getObject());\r\n    }\r\n\r\n    @Bean\r\n    protected HikariDataSource dataSource() throws IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        HikariConfig config = new HikariConfig();\r\n        config.setDriverClassName(environment.getProperty(&quot;sqlserver.datasource2.driver&quot;));\r\n        config.setJdbcUrl(this.buildJDBCUrl());\r\n        config.setUsername(environment.getProperty(&quot;sqlserver.datasource2.username&quot;));\r\n        config.setPassword(environment.getProperty(&quot;sqlserver.datasource2.password&quot;));\r\n        HikariDataSource dataSource = new HikariDataSource(config);\r\n        return dataSource;\r\n    }\r\n\r\n    private String buildJDBCUrl() {\r\n        StringBuilder url = new StringBuilder();\r\n        url.append(environment.getProperty(&quot;sqlserver.datasource2.url&quot;));\r\n        return url.toString();\r\n    }\r\n\r\n}\r\n```\r\n\r\nis it an issue because they are both reading from the same user/password for azure sql? How can I get both of the configs to work?","title":"Configuring multiple azure sql databases in spring boot","body":"<p>I am trying to configure two datasources which use the same azure sql username/password but different urls/databases. I am using the @Primary annotation and split up the data access layers into their own folders but only the config without @Primary gets configured.</p>\n<p>DataSource1:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = Constants.BASE_PAKAGE,\nentityManagerFactoryRef = Constants.ENTITY_MANAGER_FACTORY,\ntransactionManagerRef= Constants.TRANSACTION_MANAGER)\npublic class DataSourceConfiguration {\n\n    private Logger log = LoggerFactory.getLogger(this.getClass());\n\n    public DataSourceConfiguration(Environment environment) {\n        this.environment = environment;\n    }\n    private Environment environment;\n\n    @Primary\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n   \n    @Primary\n    @Bean(name = Constants.ENTITY_MANAGER_FACTORY)\n    public LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory(\n            EntityManagerFactoryBuilder builder) throws IllegalAccessException, InvocationTargetException, InstantiationException {\n    HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;hibernate.dialect&quot;,environment.getProperty(&quot;sqlserver.datasource1.dialect&quot;));\n        return builder\n                .dataSource(dataSource())\n                .packages(Constants.ENTITY_PATH)\n                .properties(properties)\n                .build();\n    }\n    @Primary\n    @Bean\n    public PlatformTransactionManager sqlserverTransactionManager(\n            final @Qualifier(Constants.ENTITY_MANAGER_FACTORY) LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory) {\n        return new JpaTransactionManager(sqlserverEntityManagerFactory.getObject());\n    }\n\n    @Primary\n    @Bean\n    protected HikariDataSource dataSource() throws IllegalAccessException, InvocationTargetException, InstantiationException {\n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(environment.getProperty(&quot;sqlserver.datasource1.driver&quot;));\n        config.setJdbcUrl(this.buildSnowflakeJDBCUrl());\n        config.setUsername(environment.getProperty(&quot;sqlserver.datasource1.username&quot;));\n        config.setPassword(environment.getProperty(&quot;sqlserver.datasource1.password&quot;));\n        HikariDataSource dataSource = new HikariDataSource(config);\n        return dataSource;\n    }\n\n    private String buildSnowflakeJDBCUrl() {\n        StringBuilder url = new StringBuilder();\n        url.append(environment.getProperty(&quot;sqlserver.datasource1.url&quot;));\n        return url.toString();\n    }\n   \n}\n\n</code></pre>\n<p>and DataSource2:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = Constants.BASE_PACKAGE2,\n        entityManagerFactoryRef = &quot;sqlserver2EntityManagerFactory&quot;,\n        transactionManagerRef= &quot;sqlserver2TransactionManager&quot;)\npublic class DataSourceConfiguration2 {\n\n    private Logger log = LoggerFactory.getLogger(this.getClass());\n\n    public PhDataSourceConfiguration(Environment environment) {\n        this.environment = environment;\n    }\n    private Environment environment;\n\n    @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n\n    @Bean(name = &quot;sqlserver2EntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory(\n            EntityManagerFactoryBuilder builder) throws IllegalAccessException, InvocationTargetException, InstantiationException {\n        HashMap&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n        properties.put(&quot;hibernate.dialect&quot;,environment.getProperty(&quot;sqlserver.datasource2.dialect&quot;));\n        return builder\n                .dataSource(dataSource())\n                .packages(Constants.ENTITY_PATH2)\n                .properties(properties)\n                .build();\n    }\n\n    @Bean(name = &quot;sqlserver2TransactionManager&quot;)\n    public PlatformTransactionManager sqlserverTransactionManager(\n            final @Qualifier(&quot;sqlserver2EntityManagerFactory&quot;) LocalContainerEntityManagerFactoryBean sqlserverEntityManagerFactory) {\n        return new JpaTransactionManager(sqlserverEntityManagerFactory.getObject());\n    }\n\n    @Bean\n    protected HikariDataSource dataSource() throws IllegalAccessException, InvocationTargetException, InstantiationException {\n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(environment.getProperty(&quot;sqlserver.datasource2.driver&quot;));\n        config.setJdbcUrl(this.buildJDBCUrl());\n        config.setUsername(environment.getProperty(&quot;sqlserver.datasource2.username&quot;));\n        config.setPassword(environment.getProperty(&quot;sqlserver.datasource2.password&quot;));\n        HikariDataSource dataSource = new HikariDataSource(config);\n        return dataSource;\n    }\n\n    private String buildJDBCUrl() {\n        StringBuilder url = new StringBuilder();\n        url.append(environment.getProperty(&quot;sqlserver.datasource2.url&quot;));\n        return url.toString();\n    }\n\n}\n</code></pre>\n<p>is it an issue because they are both reading from the same user/password for azure sql? How can I get both of the configs to work?</p>\n"},{"tags":["java","spring-boot","jwt"],"answers":[{"tags":[],"owner":{"account_id":18383445,"reputation":41,"user_id":13391054,"display_name":"Dzoni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1624517869,"creation_date":1624517869,"answer_id":68110922,"question_id":68088154,"body_markdown":"The problem was not in config classes like I thought at first.\r\nI named my roles USER and ADMIN but by documentation, spring security demand to have ROLE word before role name, so it looks like ROLE_USER and ROLE_ADMIN.\r\nSo I changed role names in database and in enum and that fixed the problem:\r\nUSER -&gt; ROLE_USER\r\nADMIN -&gt; ROLE_ADMIN","title":"Spring Boot + JWT returns &quot;Access is denied&quot;","body":"<p>The problem was not in config classes like I thought at first.\nI named my roles USER and ADMIN but by documentation, spring security demand to have ROLE word before role name, so it looks like ROLE_USER and ROLE_ADMIN.\nSo I changed role names in database and in enum and that fixed the problem:\nUSER -&gt; ROLE_USER\nADMIN -&gt; ROLE_ADMIN</p>\n"}],"owner":{"account_id":18383445,"reputation":41,"user_id":13391054,"display_name":"Dzoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68110922,"answer_count":1,"score":0,"last_activity_date":1640766887,"creation_date":1624382424,"question_id":68088154,"body_markdown":"I have seen couple of this questions but without of solution.\r\n\r\nI get the access token but when I try to hit the endpoint it gives me back &quot;Access is denied&quot;.\r\n\r\nI debugged the code and I can clearly see that I get all the right info for user and that he has right role.\r\n\r\nWebSecurityConfig class:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n\t\tprePostEnabled = true\r\n)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n    @Autowired\r\n    private JwtAuthEntryPoint unauthorizedHandler;\r\n\r\n    @Bean\r\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new JwtAuthTokenFilter();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder\r\n                .userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable().\r\n                authorizeRequests()\r\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        \r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\n```\r\n@Component\r\npublic class JwtProvider {\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(JwtProvider.class);\r\n\t\r\n\t@Value(&quot;${rs.test.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n    @Value(&quot;${rs.test.jwtExpiration}&quot;)\r\n    private int jwtExpiration;\r\n\r\n    public String generateJwtToken(Authentication authentication) {\r\n\r\n        UserPrinciple userPrincipal = (UserPrinciple) authentication.getPrincipal();\r\n        \r\n        return Jwts.builder()\r\n\t\t                .setSubject((userPrincipal.getUsername()))\r\n\t\t                .setIssuedAt(new Date())\r\n\t\t                .setExpiration(new Date((new Date()).getTime() + jwtExpiration))\r\n\t\t                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n\t\t                .compact();\r\n    }\r\n    \r\n    public String getUserNameFromJwtToken(String token) {\r\n        return Jwts.parser()\r\n\t\t\t                .setSigningKey(jwtSecret)\r\n\t\t\t                .parseClaimsJws(token)\r\n\t\t\t                .getBody().getSubject();\r\n    }\r\n    \r\n    public boolean validateJwtToken(String authToken) {\r\n        try {\r\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n            return true;\r\n        } catch (SignatureException e) {\r\n            logger.error(&quot;Invalid JWT signature -&gt; Message: {} &quot;, e);\r\n        } catch (MalformedJwtException e) {\r\n            logger.error(&quot;Invalid JWT token -&gt; Message: {}&quot;, e);\r\n        } catch (ExpiredJwtException e) {\r\n            logger.error(&quot;Expired JWT token -&gt; Message: {}&quot;, e);\r\n        } catch (UnsupportedJwtException e) {\r\n            logger.error(&quot;Unsupported JWT token -&gt; Message: {}&quot;, e);\r\n        } catch (IllegalArgumentException e) {\r\n            logger.error(&quot;JWT claims string is empty -&gt; Message: {}&quot;, e);\r\n        }\r\n        return false;\r\n    }\r\n    \r\n}\r\n```\r\n```\r\npublic class JwtAuthTokenFilter extends OncePerRequestFilter {\r\n\r\n\t@Autowired\r\n    private JwtProvider tokenProvider;\r\n\t@Autowired\r\n\tprivate UserDetailsServiceImpl userDetailsServiceImpl;\r\n\t\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(JwtAuthTokenFilter.class);\r\n\t\r\n\t@Override\r\n    protected void doFilterInternal(HttpServletRequest request, \r\n    \t\t\t\t\t\t\t\tHttpServletResponse response, \r\n    \t\t\t\t\t\t\t\tFilterChain filterChain) \r\n    \t\t\t\t\t\t\t\t\t\tthrows ServletException, IOException {\r\n\t\t\r\n        try {\r\n            String jwt = getJwt(request);\r\n            if (jwt!=null &amp;&amp; tokenProvider.validateJwtToken(jwt)) {\r\n                String username = tokenProvider.getUserNameFromJwtToken(jwt);\r\n\r\n                UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(username);\r\n                \r\n                UsernamePasswordAuthenticationToken authentication \r\n                \t\t= new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                \r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Can NOT set user authentication -&gt; Message: {}&quot;, e);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\t\r\n\tprivate String getJwt(HttpServletRequest request) {\r\n\t\t\r\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        \r\n        if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n        \treturn authHeader.replace(&quot;Bearer &quot;,&quot;&quot;);\r\n        }\r\n        \r\n        return null;\r\n    }\r\n\t\r\n}\r\n```\r\n```\r\n@Component\r\npublic class JwtAuthEntryPoint implements AuthenticationEntryPoint {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(JwtAuthEntryPoint.class);\r\n\t\r\n\t@Override\r\n    public void commence(HttpServletRequest request,\r\n                         HttpServletResponse response,\r\n                         AuthenticationException e) \r\n                        \t\t throws IOException, ServletException {\r\n    \t\r\n        logger.error(&quot;Unauthorized error. Message - {}&quot;, e.getMessage());\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Error -&gt; Unauthorized&quot;);\r\n    }\r\n\t\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tprivate UserRepository userRepository;\r\n\t@Autowired\r\n    private AuthenticationManager authenticationManager;\r\n    @Autowired\r\n    private PasswordEncoder encoder;\r\n    @Autowired\r\n    private JwtProvider jwtProvider;\r\n    @Autowired\r\n    private UserAssembler userAssembler;\r\n    @Autowired\r\n    private RoleRepository roleRepository;\r\n\r\n\t@Override\r\n    @Transactional\r\n    public UserDetails loadUserByUsername(String username)\r\n            throws UsernameNotFoundException {\r\n    \t\r\n        User user = userRepository.findByUsername(username)\r\n                \t.orElseThrow(() -&gt; \r\n                        new UsernameNotFoundException(&quot;User Not Found with -&gt; email : &quot; + username)\r\n        );\r\n\r\n        return UserPrinciple.build(user);\r\n    }\r\n\t\r\n\tpublic ResponseEntity&lt;?&gt; authenticateUser(@RequestBody LoginDto loginDto) {\r\n\t\t\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                \t\tloginDto.getEmail(),\r\n                \t\tloginDto.getPassword()\r\n                )\r\n        );\r\n        \r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtProvider.generateJwtToken(authentication);\r\n        return ResponseEntity.ok(new JwtResponse(jwt));\r\n        \r\n    }\r\n\t\r\n\tpublic ResponseEntity&lt;String&gt; registerUser(@RequestBody UserDto dto) {\r\n\r\n        if(userRepository.existsByEmail(dto.getEmail())) {\r\n            return new ResponseEntity&lt;String&gt;(&quot;Fail -&gt; Email is already in use!&quot;,\r\n                    HttpStatus.BAD_REQUEST);\r\n        }\r\n\r\n        // Creating user&#39;s account\r\n        User user = userAssembler.assembleUserFromUserDto(dto, encoder.encode(dto.getPassword()), roleRepository.getOne(1L));\r\n        \r\n        userRepository.save(user);\r\n\r\n        return ResponseEntity.ok().body(&quot;User registered successfully!&quot;);\r\n    }\r\n\t\r\n}\r\n```\r\n\r\nAnd endpoint:\r\n```\r\n@RestController\r\npublic class TestRest {\r\n\r\n\t@GetMapping(&quot;/api/test/user&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String userAccess() {\r\n\t\treturn &quot;&gt;&gt;&gt; User Contents!&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/api/test/admin&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String adminAccess() {\r\n\t\treturn &quot;&gt;&gt;&gt; Admin Contents&quot;;\r\n\t}\r\n\t\r\n}\r\n```","title":"Spring Boot + JWT returns &quot;Access is denied&quot;","body":"<p>I have seen couple of this questions but without of solution.</p>\n<p>I get the access token but when I try to hit the endpoint it gives me back &quot;Access is denied&quot;.</p>\n<p>I debugged the code and I can clearly see that I get all the right info for user and that he has right role.</p>\n<p>WebSecurityConfig class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true\n)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n    @Autowired\n    private JwtAuthEntryPoint unauthorizedHandler;\n\n    @Bean\n    public JwtAuthTokenFilter authenticationJwtTokenFilter() {\n        return new JwtAuthTokenFilter();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable().\n                authorizeRequests()\n                .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        \n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class JwtProvider {\n    \n    private static final Logger logger = LoggerFactory.getLogger(JwtProvider.class);\n    \n    @Value(&quot;${rs.test.jwtSecret}&quot;)\n    private String jwtSecret;\n    @Value(&quot;${rs.test.jwtExpiration}&quot;)\n    private int jwtExpiration;\n\n    public String generateJwtToken(Authentication authentication) {\n\n        UserPrinciple userPrincipal = (UserPrinciple) authentication.getPrincipal();\n        \n        return Jwts.builder()\n                        .setSubject((userPrincipal.getUsername()))\n                        .setIssuedAt(new Date())\n                        .setExpiration(new Date((new Date()).getTime() + jwtExpiration))\n                        .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                        .compact();\n    }\n    \n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser()\n                            .setSigningKey(jwtSecret)\n                            .parseClaimsJws(token)\n                            .getBody().getSubject();\n    }\n    \n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature -&gt; Message: {} &quot;, e);\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token -&gt; Message: {}&quot;, e);\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;Expired JWT token -&gt; Message: {}&quot;, e);\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;Unsupported JWT token -&gt; Message: {}&quot;, e);\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty -&gt; Message: {}&quot;, e);\n        }\n        return false;\n    }\n    \n}\n</code></pre>\n<pre><code>public class JwtAuthTokenFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private JwtProvider tokenProvider;\n    @Autowired\n    private UserDetailsServiceImpl userDetailsServiceImpl;\n    \n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthTokenFilter.class);\n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, \n                                    HttpServletResponse response, \n                                    FilterChain filterChain) \n                                            throws ServletException, IOException {\n        \n        try {\n            String jwt = getJwt(request);\n            if (jwt!=null &amp;&amp; tokenProvider.validateJwtToken(jwt)) {\n                String username = tokenProvider.getUserNameFromJwtToken(jwt);\n\n                UserDetails userDetails = userDetailsServiceImpl.loadUserByUsername(username);\n                \n                UsernamePasswordAuthenticationToken authentication \n                        = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                \n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Can NOT set user authentication -&gt; Message: {}&quot;, e);\n        }\n        filterChain.doFilter(request, response);\n    }\n    \n    private String getJwt(HttpServletRequest request) {\n        \n        String authHeader = request.getHeader(&quot;Authorization&quot;);\n        \n        if (authHeader != null &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            return authHeader.replace(&quot;Bearer &quot;,&quot;&quot;);\n        }\n        \n        return null;\n    }\n    \n}\n</code></pre>\n<pre><code>@Component\npublic class JwtAuthEntryPoint implements AuthenticationEntryPoint {\n\n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthEntryPoint.class);\n    \n    @Override\n    public void commence(HttpServletRequest request,\n                         HttpServletResponse response,\n                         AuthenticationException e) \n                                 throws IOException, ServletException {\n        \n        logger.error(&quot;Unauthorized error. Message - {}&quot;, e.getMessage());\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Error -&gt; Unauthorized&quot;);\n    }\n    \n}\n</code></pre>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private AuthenticationManager authenticationManager;\n    @Autowired\n    private PasswordEncoder encoder;\n    @Autowired\n    private JwtProvider jwtProvider;\n    @Autowired\n    private UserAssembler userAssembler;\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Override\n    @Transactional\n    public UserDetails loadUserByUsername(String username)\n            throws UsernameNotFoundException {\n        \n        User user = userRepository.findByUsername(username)\n                    .orElseThrow(() -&gt; \n                        new UsernameNotFoundException(&quot;User Not Found with -&gt; email : &quot; + username)\n        );\n\n        return UserPrinciple.build(user);\n    }\n    \n    public ResponseEntity&lt;?&gt; authenticateUser(@RequestBody LoginDto loginDto) {\n        \n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getEmail(),\n                        loginDto.getPassword()\n                )\n        );\n        \n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtProvider.generateJwtToken(authentication);\n        return ResponseEntity.ok(new JwtResponse(jwt));\n        \n    }\n    \n    public ResponseEntity&lt;String&gt; registerUser(@RequestBody UserDto dto) {\n\n        if(userRepository.existsByEmail(dto.getEmail())) {\n            return new ResponseEntity&lt;String&gt;(&quot;Fail -&gt; Email is already in use!&quot;,\n                    HttpStatus.BAD_REQUEST);\n        }\n\n        // Creating user's account\n        User user = userAssembler.assembleUserFromUserDto(dto, encoder.encode(dto.getPassword()), roleRepository.getOne(1L));\n        \n        userRepository.save(user);\n\n        return ResponseEntity.ok().body(&quot;User registered successfully!&quot;);\n    }\n    \n}\n</code></pre>\n<p>And endpoint:</p>\n<pre><code>@RestController\npublic class TestRest {\n\n    @GetMapping(&quot;/api/test/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER') or hasRole('ADMIN')&quot;)\n    public String userAccess() {\n        return &quot;&gt;&gt;&gt; User Contents!&quot;;\n    }\n    \n    @GetMapping(&quot;/api/test/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String adminAccess() {\n        return &quot;&gt;&gt;&gt; Admin Contents&quot;;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","mockito","junit4","wiremock"],"answers":[{"tags":[],"owner":{"account_id":1010242,"reputation":529,"user_id":1022974,"accept_rate":75,"display_name":"xjodoin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476987832,"creation_date":1476987832,"answer_id":40161827,"question_id":37585308,"body_markdown":"You should use the WireMock rule\r\n\r\n    @Rule\r\n    public WireMockRule wireMockRule = new WireMockRule();\r\n\r\nand after that you could use it to create your stubs\r\n\r\n    wireMockRule.stubFor(WireMock.post(WireMock.urlEqualTo(&quot;/cdevices&quot;))\r\n                  .withHeader(&quot;Accept&quot;, WireMock.equalTo(&quot;application/json&quot;))\r\n                   .willReturn(WireMock.aResponse()\r\n                        .withStatus(200)\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                        .withBody(&quot;Some content&quot;)));","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404","body":"<p>You should use the WireMock rule</p>\n\n<pre><code>@Rule\npublic WireMockRule wireMockRule = new WireMockRule();\n</code></pre>\n\n<p>and after that you could use it to create your stubs</p>\n\n<pre><code>wireMockRule.stubFor(WireMock.post(WireMock.urlEqualTo(\"/cdevices\"))\n              .withHeader(\"Accept\", WireMock.equalTo(\"application/json\"))\n               .willReturn(WireMock.aResponse()\n                    .withStatus(200)\n                    .withHeader(\"Content-Type\", \"application/json\")\n                    .withBody(\"Some content\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8868191,"reputation":103,"user_id":6622681,"display_name":"Anderson Luiz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1497050665,"creation_date":1496865354,"answer_id":44421709,"question_id":37585308,"body_markdown":"For this example, I suppose the wiremock was started externally,right? So you should add the configure for with the host and the port:\r\n \r\n    configureFor(&quot;localhost&quot;, 8080);\r\n\r\n\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404","body":"<p>For this example, I suppose the wiremock was started externally,right? So you should add the configure for with the host and the port:</p>\n\n<pre><code>configureFor(\"localhost\", 8080);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4696634,"reputation":1171,"user_id":3801340,"accept_rate":50,"display_name":"Robert Gabriel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516253230,"creation_date":1516253230,"answer_id":48314371,"question_id":37585308,"body_markdown":"ClassRule annotation can be also used:\r\n\r\n    public class CompanionDevicesRestServiceTest {\r\n    \r\n      public static ComDevicesRestService comDevicesRestService;\r\n      public static IComDevices cdevicesService;\r\n      public static ComDevices cdevicesRequest;\r\n    \r\n    \r\n      @ClassRule\r\n      public static WireMockClassRule wireMockRule = new WireMockClassRule(wireMockConfig()\r\n        .containerThreads(20)\r\n        .port(8080)\r\n      );\r\n      \r\n      @BeforeClass\r\n      public static void init(){\r\n        cdevicesService = new StubComDevicesService();\r\n        comDevicesRestService = new ComDevicesRestService(cdevicesService);\r\n        cdevicesRequest = mock(ComDevices.class);\r\n      }\r\n    \r\n      @Test\r\n      public void testPostCdevices() throws JsonProcessingException{\r\n        wireMockRule.stubFor(WireMock.post(WireMock.urlEqualTo(&quot;/cdevices&quot;))\r\n          .withHeader(&quot;Accept&quot;, WireMock.equalTo(&quot;application/json&quot;))\r\n          .willReturn(WireMock.aResponse()\r\n            .withStatus(200)\r\n            .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .withBody(&quot;Some content&quot;)));\r\n    \r\n      }\r\n    }\r\n\r\nand call stubFor method on the class rule object.","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404","body":"<p>ClassRule annotation can be also used:</p>\n\n<pre><code>public class CompanionDevicesRestServiceTest {\n\n  public static ComDevicesRestService comDevicesRestService;\n  public static IComDevices cdevicesService;\n  public static ComDevices cdevicesRequest;\n\n\n  @ClassRule\n  public static WireMockClassRule wireMockRule = new WireMockClassRule(wireMockConfig()\n    .containerThreads(20)\n    .port(8080)\n  );\n\n  @BeforeClass\n  public static void init(){\n    cdevicesService = new StubComDevicesService();\n    comDevicesRestService = new ComDevicesRestService(cdevicesService);\n    cdevicesRequest = mock(ComDevices.class);\n  }\n\n  @Test\n  public void testPostCdevices() throws JsonProcessingException{\n    wireMockRule.stubFor(WireMock.post(WireMock.urlEqualTo(\"/cdevices\"))\n      .withHeader(\"Accept\", WireMock.equalTo(\"application/json\"))\n      .willReturn(WireMock.aResponse()\n        .withStatus(200)\n        .withHeader(\"Content-Type\", \"application/json\")\n        .withBody(\"Some content\")));\n\n  }\n}\n</code></pre>\n\n<p>and call stubFor method on the class rule object.</p>\n"},{"tags":[],"owner":{"account_id":560113,"reputation":116,"user_id":9383214,"display_name":"Farlon Souto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640766843,"creation_date":1640648321,"answer_id":70501461,"question_id":37585308,"body_markdown":"As per the [WireMock documentation][1], we have three major approaches: JUnit 5.x, Junit4.x, and standalone.\r\n\r\nMy recommendation would be simple: double-check which approach is yours and proceed to the documented recommendation, but...\r\n\r\nIt never worked for me. In order to fix the issue discussed here, I did the following:\r\n\r\n 1. Added a @Rule to the very beginning of the test. I will share the entire class declaration down here, including the runner and a short SSL witchery to run this stuff with PowerMockRunner:\r\n\r\n``` lang-js\r\n    @RunWith(PowerMockRunner.class)  \r\n    @PowerMockIgnore(&quot;javax.net.ssl.*&quot;)  \r\n    public class StartingOddsChangesProviderIntegrationTest {  \r\n    \r\n    @Rule public WireMockRule wireMockRule = new WireMockRule();  \r\n    (...)\r\n```\r\n 2. You **DO NOT** need to do instantiate a WireMockServer, neither need you to add a server.start()/stop() line now that the @Rule annotation is there.\r\n\r\nFinally, the WireMock depedency entry in the corresponding pom.xml file is as follows:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\r\n            &lt;version&gt;2.27.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI&#39;ve tried the wiremock-jre8 artifact as well, but I ended up having the same error, so I&#39;m pushing ahead with the wiremock-standalone.\r\n\r\n  [1]: http://wiremock.org/docs/getting-started/\r\n\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404","body":"<p>As per the <a href=\"http://wiremock.org/docs/getting-started/\" rel=\"nofollow noreferrer\">WireMock documentation</a>, we have three major approaches: JUnit 5.x, Junit4.x, and standalone.</p>\n<p>My recommendation would be simple: double-check which approach is yours and proceed to the documented recommendation, but...</p>\n<p>It never worked for me. In order to fix the issue discussed here, I did the following:</p>\n<ol>\n<li>Added a @Rule to the very beginning of the test. I will share the entire class declaration down here, including the runner and a short SSL witchery to run this stuff with PowerMockRunner:</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>    @RunWith(PowerMockRunner.class)  \n    @PowerMockIgnore(&quot;javax.net.ssl.*&quot;)  \n    public class StartingOddsChangesProviderIntegrationTest {  \n    \n    @Rule public WireMockRule wireMockRule = new WireMockRule();  \n    (...)\n</code></pre>\n<ol start=\"2\">\n<li>You <strong>DO NOT</strong> need to do instantiate a WireMockServer, neither need you to add a server.start()/stop() line now that the @Rule annotation is there.</li>\n</ol>\n<p>Finally, the WireMock depedency entry in the corresponding pom.xml file is as follows:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n        &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\n        &lt;version&gt;2.27.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I've tried the wiremock-jre8 artifact as well, but I ended up having the same error, so I'm pushing ahead with the wiremock-standalone.</p>\n"}],"owner":{"account_id":3506255,"reputation":3810,"user_id":2931744,"accept_rate":52,"display_name":"Sat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2977,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1640766843,"creation_date":1464852474,"question_id":37585308,"body_markdown":" This is my Test Class: \r\n\r\n\r\n    public class CompanionDevicesRestServiceTest {\r\n    \r\n    \tpublic static ComDevicesRestService comDevicesRestService;\r\n    \tpublic static IComDevices cdevicesService;\r\n    \tpublic static ComDevices cdevicesRequest;\r\n    \t\r\n    \t@BeforeClass\r\n    \tpublic static void init(){\r\n    \t\tcdevicesService = new StubComDevicesService();\r\n    \t\tcomDevicesRestService = new ComDevicesRestService(cdevicesService);\r\n    \t\tcdevicesRequest = mock(ComDevices.class);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testPostCdevices() throws JsonProcessingException{\r\n    \t\tWireMock.stubFor(WireMock.post(WireMock.urlEqualTo(&quot;/cdevices&quot;))\r\n    \t\t          .withHeader(&quot;Accept&quot;, WireMock.equalTo(&quot;application/json&quot;))\r\n    \t\t           .willReturn(WireMock.aResponse()\r\n    \t\t                .withStatus(200)\r\n    \t\t                .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    \t\t                .withBody(&quot;Some content&quot;)));\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI am getting the following error :\r\n\r\n&gt;com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404\r\n    \tat com.github.tomakehurst.wiremock.client.HttpAdminClient.postJsonAssertOkAndReturnBody(HttpAdminClient.java:156)\r\n    \tat com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:65)\r\n    \tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:138)\r\n    \tat com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:134)\r\n    \tat com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:65)\r\n    \tat com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:69)\r\n    \tat com.charter.cdevices.rest.CompanionDevicesRestServiceTest.testPostCdevices(CompanionDevicesRestServiceTest.java:33)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n\r\n\r\n","title":"com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for http://localhost:8080/__admin/mappings/new but was 404","body":"<p>This is my Test Class: </p>\n\n<pre><code>public class CompanionDevicesRestServiceTest {\n\n    public static ComDevicesRestService comDevicesRestService;\n    public static IComDevices cdevicesService;\n    public static ComDevices cdevicesRequest;\n\n    @BeforeClass\n    public static void init(){\n        cdevicesService = new StubComDevicesService();\n        comDevicesRestService = new ComDevicesRestService(cdevicesService);\n        cdevicesRequest = mock(ComDevices.class);\n    }\n\n    @Test\n    public void testPostCdevices() throws JsonProcessingException{\n        WireMock.stubFor(WireMock.post(WireMock.urlEqualTo(\"/cdevices\"))\n                  .withHeader(\"Accept\", WireMock.equalTo(\"application/json\"))\n                   .willReturn(WireMock.aResponse()\n                        .withStatus(200)\n                        .withHeader(\"Content-Type\", \"application/json\")\n                        .withBody(\"Some content\")));\n\n    }\n}\n</code></pre>\n\n<p>I am getting the following error :</p>\n\n<blockquote>\n  <p>com.github.tomakehurst.wiremock.client.VerificationException: Expected status 201 for <a href=\"http://localhost:8080/__admin/mappings/new\" rel=\"nofollow noreferrer\">http://localhost:8080/__admin/mappings/new</a> but was 404\n          at com.github.tomakehurst.wiremock.client.HttpAdminClient.postJsonAssertOkAndReturnBody(HttpAdminClient.java:156)\n          at com.github.tomakehurst.wiremock.client.HttpAdminClient.addStubMapping(HttpAdminClient.java:65)\n          at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:138)\n          at com.github.tomakehurst.wiremock.client.WireMock.register(WireMock.java:134)\n          at com.github.tomakehurst.wiremock.client.WireMock.givenThat(WireMock.java:65)\n          at com.github.tomakehurst.wiremock.client.WireMock.stubFor(WireMock.java:69)\n          at com.charter.cdevices.rest.CompanionDevicesRestServiceTest.testPostCdevices(CompanionDevicesRestServiceTest.java:33)\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n          at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n          at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n          at java.lang.reflect.Method.invoke(Unknown Source)\n          at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n          at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n          at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n          at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n          at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n          at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n          at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n          at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n          at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n          at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n          at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n          at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n          at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n          at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n          at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n          at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n          at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n          at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)\n          at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n          at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1640764611,"post_id":70516574,"comment_id":124651758,"body_markdown":"You may also put those characters in a list, and check if it contains `charAt(0)` from the string.","body":"You may also put those characters in a list, and check if it contains <code>charAt(0)</code> from the string."},{"owner":{"account_id":22067398,"reputation":11,"user_id":16329054,"display_name":"Jeronimo"},"score":0,"creation_date":1640764670,"post_id":70516574,"comment_id":124651780,"body_markdown":"Will that be the most optimized solution ?","body":"Will that be the most optimized solution ?"},{"owner":{"account_id":13526529,"reputation":72157,"user_id":9758194,"display_name":"JvdV"},"score":0,"creation_date":1640764830,"post_id":70516574,"comment_id":124651818,"body_markdown":"Something like [this](https://stackoverflow.com/a/9790627/9758194) older post on SO?","body":"Something like <a href=\"https://stackoverflow.com/a/9790627/9758194\">this</a> older post on SO?"},{"owner":{"account_id":22067398,"reputation":11,"user_id":16329054,"display_name":"Jeronimo"},"score":0,"creation_date":1640765882,"post_id":70516574,"comment_id":124652109,"body_markdown":"@JvdV Yes, I was looking for that! Do you have any exact values ?","body":"@JvdV Yes, I was looking for that! Do you have any exact values ?"},{"owner":{"account_id":22067398,"reputation":11,"user_id":16329054,"display_name":"Jeronimo"},"score":0,"creation_date":1640769954,"post_id":70516574,"comment_id":124653262,"body_markdown":"@user16320675 Actually this is a part of a solution in a software where performance is a key aspect. Hence any improvement is acceptable and optimal.","body":"@user16320675 Actually this is a part of a solution in a software where performance is a key aspect. Hence any improvement is acceptable and optimal."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640766552,"creation_date":1640764802,"answer_id":70516635,"question_id":70516574,"body_markdown":"To check for the exact 4 special characters you mentioned in your question, use a character class in your regex pattern:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    if (value.matches(&quot;[+=@-].*&quot;)) {\r\n        System.out.println(&quot;Hey &#39;&quot; + value);\r\n    }\r\n","title":"Regex to check if a String starts with special characters like &quot;+&quot; , &quot;-&quot; , &quot;=&quot; or &quot;@&quot; Java","body":"<p>To check for the exact 4 special characters you mentioned in your question, use a character class in your regex pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (value.matches(&quot;[+=@-].*&quot;)) {\n    System.out.println(&quot;Hey '&quot; + value);\n}\n</code></pre>\n"}],"owner":{"account_id":22067398,"reputation":11,"user_id":16329054,"display_name":"Jeronimo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516635,"answer_count":1,"score":0,"last_activity_date":1640766596,"creation_date":1640764422,"question_id":70516574,"body_markdown":"I have to write a Regex to check if a String  starts with special characters like &quot;+&quot; , &quot;-&quot; , &quot;=&quot; or &quot;@&quot; in Java.\r\n\r\nTo check for starting with &quot;+&quot;, I&#39;ve tried :\r\n\r\n    if (value.matches(&quot;^\\\\+.*$&quot;)) {\r\n        System.out.println(&quot;Hey &#39;&quot;+value);\r\n    }\r\n\r\nI am being unable to use the &#39;or&#39; in regex for the rest.\r\nI also don&#39;t want to check for each character since that would need compilation each time and that would be very slow.\r\n\r\nCan anyone please help me out with an optimal regex.\r\n\r\nAlso would startsWith() be better and faster in this case?","title":"Regex to check if a String starts with special characters like &quot;+&quot; , &quot;-&quot; , &quot;=&quot; or &quot;@&quot; Java","body":"<p>I have to write a Regex to check if a String  starts with special characters like &quot;+&quot; , &quot;-&quot; , &quot;=&quot; or &quot;@&quot; in Java.</p>\n<p>To check for starting with &quot;+&quot;, I've tried :</p>\n<pre><code>if (value.matches(&quot;^\\\\+.*$&quot;)) {\n    System.out.println(&quot;Hey '&quot;+value);\n}\n</code></pre>\n<p>I am being unable to use the 'or' in regex for the rest.\nI also don't want to check for each character since that would need compilation each time and that would be very slow.</p>\n<p>Can anyone please help me out with an optimal regex.</p>\n<p>Also would startsWith() be better and faster in this case?</p>\n"},{"tags":["java","performance","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1640730813,"post_id":70512765,"comment_id":124646057,"body_markdown":"Are you comparing performance against a local DB running in Docker vs. a remote DB or what&#39;s the slower environment exactly?","body":"Are you comparing performance against a local DB running in Docker vs. a remote DB or what&#39;s the slower environment exactly?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1640744425,"post_id":70512765,"comment_id":124648468,"body_markdown":"In Tomcat it&#39;s significantly slower compared to JUnit.  I don&#39;t mind if it is a factor of 10 compared to JUnit in Docker, because factor of 10 is still under a second.  i.e. 600ms.  \n6 ms for MySQL client over JDBC, 60ms in a test container docker and 8000ms with Tomcat.","body":"In Tomcat it&#39;s significantly slower compared to JUnit.  I don&#39;t mind if it is a factor of 10 compared to JUnit in Docker, because factor of 10 is still under a second.  i.e. 600ms.   6 ms for MySQL client over JDBC, 60ms in a test container docker and 8000ms with Tomcat."}],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640766491,"creation_date":1640766491,"answer_id":70516893,"question_id":70512765,"body_markdown":"Apart from what @Panagiotis suggested it will also be helpful to enable below stats to understand in what phase is hibernate spending more time.\r\n\r\n    spring.jpa.properties.hibernate.generate_statistics=true\r\n    logging.level.org.hibernate.stat=DEBUG\r\n\r\nYou would see something like below in your logs\r\n\r\n    2021-12-29 10:54:52.408  INFO 31972 - – [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\r\n        5070899 nanoseconds spent acquiring 1 JDBC connections;\r\n        0 nanoseconds spent releasing 0 JDBC connections;\r\n        4359903 nanoseconds spent preparing 20 JDBC statements;\r\n        76117198 nanoseconds spent executing 20 JDBC statements;\r\n        0 nanoseconds spent executing 0 JDBC batches;\r\n        132026893 nanoseconds spent performing 40 L2C puts;\r\n        0 nanoseconds spent performing 0 L2C hits;\r\n        838900 nanoseconds spent performing 19 L2C misses;\r\n        0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\r\n        16900 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)\r\n    }","title":"Is there any logs I can enable for spring-data-jpa to see why it is slow in Tomcat?","body":"<p>Apart from what @Panagiotis suggested it will also be helpful to enable below stats to understand in what phase is hibernate spending more time.</p>\n<pre><code>spring.jpa.properties.hibernate.generate_statistics=true\nlogging.level.org.hibernate.stat=DEBUG\n</code></pre>\n<p>You would see something like below in your logs</p>\n<pre><code>2021-12-29 10:54:52.408  INFO 31972 - – [           main] i.StatisticalLoggingSessionEventListener : Session Metrics {\n    5070899 nanoseconds spent acquiring 1 JDBC connections;\n    0 nanoseconds spent releasing 0 JDBC connections;\n    4359903 nanoseconds spent preparing 20 JDBC statements;\n    76117198 nanoseconds spent executing 20 JDBC statements;\n    0 nanoseconds spent executing 0 JDBC batches;\n    132026893 nanoseconds spent performing 40 L2C puts;\n    0 nanoseconds spent performing 0 L2C hits;\n    838900 nanoseconds spent performing 19 L2C misses;\n    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);\n    16900 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)\n}\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516893,"answer_count":1,"score":0,"last_activity_date":1640766491,"creation_date":1640727184,"question_id":70512765,"body_markdown":"I have a query which runs in about 6ms in DBeaver and I used the general log to extract the query that is being passed in which is the same database that my Tomcat server is connected to\r\n\r\n```\r\nselect min(organizati0_.Downloaded) as col_0_0_ from oss_collection_history organizati0_ \r\nwhere organizati0_.AccountingSystem=&#39;SomeSystem&#39; \r\nand (organizati0_.Org in (&#39;ID1&#39; , &#39;ID2&#39;, ..., &#39;ID10&#39; ))\r\n```\r\n\r\nOn a JUnit test running Spring Data JPA against a Dockerized copy of the database, the query also runs quite fast 60ms, but on Tomcat it takes upwards of 8-10 seconds.\r\n\r\nSo not exactly sure what&#39;s going on.\r\n\r\nI just do this to profile the function call using the same parameters.\r\n\r\n```\r\nvar start = System.currentTimeMillis();\r\nconsolidatedDownloadSvc.getAvailableYearsOfDownloadedForAccountingSystem(...);\r\nSystem.out.println(System.currentTimeMillis() - start);\r\n```\r\n\r\nIt does not appear on slowlog even if I `set global log_queries_not_using_indexes = &#39;ON&#39;;` so that would indicate to me that the query is indexed.\r\n\r\nSo I was wondering if there&#39;s some sort of log that will show me any extra things I may be missing in Spring-Data and Hibernate.","title":"Is there any logs I can enable for spring-data-jpa to see why it is slow in Tomcat?","body":"<p>I have a query which runs in about 6ms in DBeaver and I used the general log to extract the query that is being passed in which is the same database that my Tomcat server is connected to</p>\n<pre><code>select min(organizati0_.Downloaded) as col_0_0_ from oss_collection_history organizati0_ \nwhere organizati0_.AccountingSystem='SomeSystem' \nand (organizati0_.Org in ('ID1' , 'ID2', ..., 'ID10' ))\n</code></pre>\n<p>On a JUnit test running Spring Data JPA against a Dockerized copy of the database, the query also runs quite fast 60ms, but on Tomcat it takes upwards of 8-10 seconds.</p>\n<p>So not exactly sure what's going on.</p>\n<p>I just do this to profile the function call using the same parameters.</p>\n<pre><code>var start = System.currentTimeMillis();\nconsolidatedDownloadSvc.getAvailableYearsOfDownloadedForAccountingSystem(...);\nSystem.out.println(System.currentTimeMillis() - start);\n</code></pre>\n<p>It does not appear on slowlog even if I <code>set global log_queries_not_using_indexes = 'ON';</code> so that would indicate to me that the query is indexed.</p>\n<p>So I was wondering if there's some sort of log that will show me any extra things I may be missing in Spring-Data and Hibernate.</p>\n"},{"tags":["java","jvm","classloader"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1621307584,"post_id":67579291,"comment_id":119449380,"body_markdown":"I don&#39;t understand what you are asking. *&quot;Why cannot load java.sql.Driver with URLClassloader(name, null) in Java 11&quot;* - That is explained in the doc that you found.  In the text that you quoted.  *&quot;Then I debug found both above using URLClassLoader.findClass().&quot;* - Found both what?  What were you debugging?  *&quot;Why and How get the different result?&quot;* - No idea what you are asking here.","body":"I don&#39;t understand what you are asking. <i>&quot;Why cannot load java.sql.Driver with URLClassloader(name, null) in Java 11&quot;</i> - That is explained in the doc that you found.  In the text that you quoted.  <i>&quot;Then I debug found both above using URLClassLoader.findClass().&quot;</i> - Found both what?  What were you debugging?  <i>&quot;Why and How get the different result?&quot;</i> - No idea what you are asking here."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1621307806,"post_id":67579291,"comment_id":119449428,"body_markdown":"If you are asking why this changed, the answer is to support Java 9 modules, etc.  If you are asking if you can **avoid** changing your Java 8 classloading code to get it to work in Java 9+, the answer is (AFAIK) No.","body":"If you are asking why this changed, the answer is to support Java 9 modules, etc.  If you are asking if you can <b>avoid</b> changing your Java 8 classloading code to get it to work in Java 9+, the answer is (AFAIK) No."},{"owner":{"account_id":11125997,"reputation":56,"user_id":8167478,"display_name":"Yang Zhou"},"score":0,"creation_date":1621307995,"post_id":67579291,"comment_id":119449462,"body_markdown":"@StephenC I just update my question, thanks :)","body":"@StephenC I just update my question, thanks :)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1621308252,"post_id":67579291,"comment_id":119449528,"body_markdown":"OK.  So the answer to the *revised* question is in the text that you quoted.  So, I&#39;m still unclear what you are actually asking here.  (You clearly know how to make the code work on Java 11.  What else is there that is relevant to solving your problem?)","body":"OK.  So the answer to the <i>revised</i> question is in the text that you quoted.  So, I&#39;m still unclear what you are actually asking here.  (You clearly know how to make the code work on Java 11.  What else is there that is relevant to solving your problem?)"},{"owner":{"account_id":11125997,"reputation":56,"user_id":8167478,"display_name":"Yang Zhou"},"score":0,"creation_date":1621308492,"post_id":67579291,"comment_id":119449582,"body_markdown":"@StephenC I know how to solve the problem, but also want to know why doing so can work? After debugging I found before invoke native method defineClass1() no differences between null parent or platformClassLoader parent. After defineClass1(), it throws Error.","body":"@StephenC I know how to solve the problem, but also want to know why doing so can work? After debugging I found before invoke native method defineClass1() no differences between null parent or platformClassLoader parent. After defineClass1(), it throws Error."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640765858,"creation_date":1621309207,"answer_id":67579656,"question_id":67579291,"body_markdown":"If you use `null` as the parent classloader, you are telling this classloader to resolve platform classes in the bootstrap classloader.\r\n\r\nThat (typically) worked prior to Java 9 because all Java platform classes were loaded via the bootstrap classloader.\r\n\r\nIt (typically) doesn&#39;t work from Java 9 onwards, because in Java 9 they introduced modules and changed what classloaders loaded what platform classes.  Most platform classes are now loaded by a different classloader.  (Specifically by the classloader returned by `getPlatformClassLoader()`.)\r\n\r\nSo ... in Java 9 ... if you create a classloader with a `null` parent, then class loading a JDBC driver is liable to fail ... because the bootstrap classloader doesn&#39;t know about the platform classes that the driver depends on.\r\n\r\nNote: this is simply an elaboration of what the text you quoted in your question actually says.\r\n\r\n-------------\r\n\r\nQ: Why did they change it?  \r\n\r\nA: Because it was necessary to support modules and to fix the problem of the SE libraries being monolithic.\r\n\r\nQ: Can you avoid fixing your code?  \r\n\r\nA: Not if you want to create the classloader dynamically like that.  But you wouldn&#39;t have this problem if you simply included the driver in the launch-time classpath; e.g. using `-cp ...`.\r\n\r\n\r\n","title":"Why cannot load java.sql.Driver with URLClassloader(name, null) in Java 11","body":"<p>If you use <code>null</code> as the parent classloader, you are telling this classloader to resolve platform classes in the bootstrap classloader.</p>\n<p>That (typically) worked prior to Java 9 because all Java platform classes were loaded via the bootstrap classloader.</p>\n<p>It (typically) doesn't work from Java 9 onwards, because in Java 9 they introduced modules and changed what classloaders loaded what platform classes.  Most platform classes are now loaded by a different classloader.  (Specifically by the classloader returned by <code>getPlatformClassLoader()</code>.)</p>\n<p>So ... in Java 9 ... if you create a classloader with a <code>null</code> parent, then class loading a JDBC driver is liable to fail ... because the bootstrap classloader doesn't know about the platform classes that the driver depends on.</p>\n<p>Note: this is simply an elaboration of what the text you quoted in your question actually says.</p>\n<hr />\n<p>Q: Why did they change it?</p>\n<p>A: Because it was necessary to support modules and to fix the problem of the SE libraries being monolithic.</p>\n<p>Q: Can you avoid fixing your code?</p>\n<p>A: Not if you want to create the classloader dynamically like that.  But you wouldn't have this problem if you simply included the driver in the launch-time classpath; e.g. using <code>-cp ...</code>.</p>\n"}],"owner":{"account_id":11125997,"reputation":56,"user_id":8167478,"display_name":"Yang Zhou"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640765858,"creation_date":1621306026,"question_id":67579291,"body_markdown":"In Java 8, we can load MySQL Driver like this:\r\n```\r\nURLClassLoader mysql5ClassLoader = new URLClassLoader(new URL[]{new File(mysql5path).toURI().toURL()}, null);\r\nClass&lt;?&gt; mysql5Class = mysql5ClassLoader.loadClass(&quot;com.mysql.jdbc.Driver&quot;);\r\nDriver mysql5Driver = (Driver) mysql5Class.getDeclaredConstructor().newInstance();\r\n``` \r\n\r\nBut in Java 11 (in fact, 9 or later), we must using \r\n\r\n```\r\nURLClassLoader mysql5ClassLoader = new URLClassLoader(new URL[]{new File(mysql5path).toURI().toURL()}, ClassLoader.getPlatformClassLoader());\r\n```\r\n\r\nI check the oracle doc found https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-A868D0B9-026F-4D46-B979-901834343F9E\r\n\r\n&gt; The changes that were implemented in JDK 9 may impact code that creates class loaders with null (that is, the bootstrap class loader) as the parent class loader and assumes that all platform classes are visible to the parent. Such code may need to be changed to use the platform class loader as the parent (see ClassLoader.getPlatformClassLoader).\r\n\r\nThen I debug with `null` parent and `ClassLoader.getPlatformClassLoader()` parent found both above using ClassLoader.findClass(name), one get `java.lang.NoClassDefFoundError: java/sql/Driver`, one can load MySQL Driver successfully.\r\n\r\nWhy and How get the different result","title":"Why cannot load java.sql.Driver with URLClassloader(name, null) in Java 11","body":"<p>In Java 8, we can load MySQL Driver like this:</p>\n<pre><code>URLClassLoader mysql5ClassLoader = new URLClassLoader(new URL[]{new File(mysql5path).toURI().toURL()}, null);\nClass&lt;?&gt; mysql5Class = mysql5ClassLoader.loadClass(&quot;com.mysql.jdbc.Driver&quot;);\nDriver mysql5Driver = (Driver) mysql5Class.getDeclaredConstructor().newInstance();\n</code></pre>\n<p>But in Java 11 (in fact, 9 or later), we must using</p>\n<pre><code>URLClassLoader mysql5ClassLoader = new URLClassLoader(new URL[]{new File(mysql5path).toURI().toURL()}, ClassLoader.getPlatformClassLoader());\n</code></pre>\n<p>I check the oracle doc found <a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-A868D0B9-026F-4D46-B979-901834343F9E\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/migrate/index.html#JSMIG-GUID-A868D0B9-026F-4D46-B979-901834343F9E</a></p>\n<blockquote>\n<p>The changes that were implemented in JDK 9 may impact code that creates class loaders with null (that is, the bootstrap class loader) as the parent class loader and assumes that all platform classes are visible to the parent. Such code may need to be changed to use the platform class loader as the parent (see ClassLoader.getPlatformClassLoader).</p>\n</blockquote>\n<p>Then I debug with <code>null</code> parent and <code>ClassLoader.getPlatformClassLoader()</code> parent found both above using ClassLoader.findClass(name), one get <code>java.lang.NoClassDefFoundError: java/sql/Driver</code>, one can load MySQL Driver successfully.</p>\n<p>Why and How get the different result</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640765092,"creation_date":1640765092,"answer_id":70516684,"question_id":70509263,"body_markdown":"The `getFilter()` is still there, but it has been removed from the [`Appender`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Appender.html) interface: an appender is not required to support filters, although all those standard ones do.\r\n\r\nTo retrieve the filter you just need to cast to [`Filterable`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/Filterable.html):\r\n\r\n```lang-java\r\nfinal Filter filter = appender instanceof Filterable ?\r\n                      ((Filterable) appender).getFilter() :\r\n                      null;\r\n```\r\n\r\n**Remark**: in Log4j 2.x filters can appear in four different locations (cf. [documentation](https://logging.apache.org/log4j/2.x/manual/filters.html)).","title":"Log4j2 - Get appender filter programmatically","body":"<p>The <code>getFilter()</code> is still there, but it has been removed from the <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Appender.html\" rel=\"nofollow noreferrer\"><code>Appender</code></a> interface: an appender is not required to support filters, although all those standard ones do.</p>\n<p>To retrieve the filter you just need to cast to <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/filter/Filterable.html\" rel=\"nofollow noreferrer\"><code>Filterable</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Filter filter = appender instanceof Filterable ?\n                      ((Filterable) appender).getFilter() :\n                      null;\n</code></pre>\n<p><strong>Remark</strong>: in Log4j 2.x filters can appear in four different locations (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html\" rel=\"nofollow noreferrer\">documentation</a>).</p>\n"}],"owner":{"account_id":936430,"reputation":307,"user_id":965282,"display_name":"F&#225;bio Constantino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516684,"answer_count":1,"score":0,"last_activity_date":1640765092,"creation_date":1640706004,"question_id":70509263,"body_markdown":"I am currently upgrading a project from using log4j1 to log4j2.\r\nThere are places in the code where calls to *appender.getFilter()* are being made which are no longer available using the new API.\r\nOld code used *org.apache.log4j.Appender* and I am now currently using *org.apache.logging.log4j.core.Appender*.\r\n\r\nChecking the log4j2 documentation and code I can see that filters can be added to Appenders but I am not able to find how to get them.\r\n\r\nIs there a way to programmatically get a filter which has been applied to an Appender?","title":"Log4j2 - Get appender filter programmatically","body":"<p>I am currently upgrading a project from using log4j1 to log4j2.\nThere are places in the code where calls to <em>appender.getFilter()</em> are being made which are no longer available using the new API.\nOld code used <em>org.apache.log4j.Appender</em> and I am now currently using <em>org.apache.logging.log4j.core.Appender</em>.</p>\n<p>Checking the log4j2 documentation and code I can see that filters can be added to Appenders but I am not able to find how to get them.</p>\n<p>Is there a way to programmatically get a filter which has been applied to an Appender?</p>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":13657143,"reputation":152,"user_id":9853315,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640764964,"creation_date":1640764964,"answer_id":70516664,"question_id":70516564,"body_markdown":"1. Yes, compile everything in the &quot;ClassPath&quot;. In this case is the `src/main/java` you mentioned.\r\n\r\n2. It will look for the main method which is in a class with `@SpringBootApplication` annotation.","title":"how does maven-spring-boot-plugin determine the main class?","body":"<ol>\n<li><p>Yes, compile everything in the &quot;ClassPath&quot;. In this case is the <code>src/main/java</code> you mentioned.</p>\n</li>\n<li><p>It will look for the main method which is in a class with <code>@SpringBootApplication</code> annotation.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":8267179,"reputation":310,"user_id":6216284,"display_name":"feiyuerenhai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516664,"answer_count":1,"score":0,"last_activity_date":1640764964,"creation_date":1640764326,"question_id":70516564,"body_markdown":"I am quite new to the java world, and recently I have been trying to grasp some ideas about how spring-boot works.\r\n\r\nI am confused about some questions.\r\n\r\n1, when I do `mvn install`, does the compiler normally compile all the classes in the `src/main/java` dir, even among them some are not used ?\r\n\r\n2, I know somehow the plugin `maven-spring-boot-plugin` defined in `pom.xml` does all the magic for a spring application to start up, but, how does it determine which class is the Main-Class ? via traversing all the compiled classes to find one with `public static void main` ?","title":"how does maven-spring-boot-plugin determine the main class?","body":"<p>I am quite new to the java world, and recently I have been trying to grasp some ideas about how spring-boot works.</p>\n<p>I am confused about some questions.</p>\n<p>1, when I do <code>mvn install</code>, does the compiler normally compile all the classes in the <code>src/main/java</code> dir, even among them some are not used ?</p>\n<p>2, I know somehow the plugin <code>maven-spring-boot-plugin</code> defined in <code>pom.xml</code> does all the magic for a spring application to start up, but, how does it determine which class is the Main-Class ? via traversing all the compiled classes to find one with <code>public static void main</code> ?</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1518269027,"post_id":48700870,"comment_id":84441342,"body_markdown":"Please edit your question and add a sample of what you have as code so far.","body":"Please edit your question and add a sample of what you have as code so far."},{"owner":{"account_id":4444859,"reputation":435,"user_id":3665670,"accept_rate":47,"display_name":"toffee.beanns"},"score":0,"creation_date":1518486996,"post_id":48700870,"comment_id":84517689,"body_markdown":"@KrishnanMahadevan Thanks for replying. Added my beforeInvocation code.","body":"@KrishnanMahadevan Thanks for replying. Added my beforeInvocation code."},{"owner":{"account_id":9018842,"reputation":1111,"user_id":6720576,"display_name":"AsthaUndefined"},"score":0,"creation_date":1518496258,"post_id":48700870,"comment_id":84519629,"body_markdown":"&quot;Test Ignored&quot; is coming from where?","body":"&quot;Test Ignored&quot; is coming from where?"},{"owner":{"account_id":4444859,"reputation":435,"user_id":3665670,"accept_rate":47,"display_name":"toffee.beanns"},"score":0,"creation_date":1518502311,"post_id":48700870,"comment_id":84521454,"body_markdown":"The test ignored is shown on the intellij console log within each test case.","body":"The test ignored is shown on the intellij console log within each test case."}],"answers":[{"tags":[],"owner":{"account_id":14627500,"reputation":1,"user_id":10564412,"display_name":"always learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611949464,"creation_date":1611949464,"answer_id":65960815,"question_id":48700870,"body_markdown":"It is annoying and I have not found a solution, just a work-around: I print the message first then call the throw.  I have a method skipTest(message) and in there write out message and then throw(new SkipException).","title":"Showing SkipException Error","body":"<p>It is annoying and I have not found a solution, just a work-around: I print the message first then call the throw.  I have a method skipTest(message) and in there write out message and then throw(new SkipException).</p>\n"}],"owner":{"account_id":4444859,"reputation":435,"user_id":3665670,"accept_rate":47,"display_name":"toffee.beanns"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":739,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640764888,"creation_date":1518161931,"question_id":48700870,"body_markdown":"I am skipping a few test cases with TestNG successfully with &lt;code&gt;IInvokedMethodListener&lt;/code&gt; but it does not print out the error message I have provided. It is showing `&quot;Test Ignored&quot;` without any further message that makes debugging hard. \r\n\r\nIs there a way to write into that specific test case console space indicating its error?\r\n\r\n**EDIT** - The tests are unable to be skipped. However, the message does not get displayed on the console (in each individual test cases). It only displays **Test ignored.** I am hoping to have some useful error messages for better debugging in the future.\r\n\r\n    @Override\r\n    public void beforeInvocation(IInvokedMethod iInvokedMethod, ITestResult iTestResult) {\r\n\r\n        Class target = iInvokedMethod.getTestMethod().getInstance().getClass();\r\n        String targetName = target.getName();\r\n\r\n        ... some processing logic to decide whether to skip\r\n        throw new SkipException(&quot;Throwing exception here to skip test&quot;);\r\n    }\r\n\r\n\r\n","title":"Showing SkipException Error","body":"<p>I am skipping a few test cases with TestNG successfully with <code>IInvokedMethodListener</code> but it does not print out the error message I have provided. It is showing <code>\"Test Ignored\"</code> without any further message that makes debugging hard. </p>\n\n<p>Is there a way to write into that specific test case console space indicating its error?</p>\n\n<p><strong>EDIT</strong> - The tests are unable to be skipped. However, the message does not get displayed on the console (in each individual test cases). It only displays <strong>Test ignored.</strong> I am hoping to have some useful error messages for better debugging in the future.</p>\n\n<pre><code>@Override\npublic void beforeInvocation(IInvokedMethod iInvokedMethod, ITestResult iTestResult) {\n\n    Class target = iInvokedMethod.getTestMethod().getInstance().getClass();\n    String targetName = target.getName();\n\n    ... some processing logic to decide whether to skip\n    throw new SkipException(\"Throwing exception here to skip test\");\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1640760175,"post_id":70515910,"comment_id":124650763,"body_markdown":"Why aren&#39;t you just looking up the function in the Java documentation? `substring()` is a particularly bad way of doing that, when regex can match just any number or arithmetic operator.","body":"Why aren&#39;t you just looking up the function in the Java documentation? <code>substring()</code> is a particularly bad way of doing that, when regex can match just any number or arithmetic operator."},{"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"score":0,"creation_date":1640761038,"post_id":70515910,"comment_id":124650943,"body_markdown":"I tried looking at some sites like gfg on java, substring() documentation, but there isn&#39;t any examples that demonstrate the use of +1. So I never thought that there is way of writing the code like that or that there are some cases where we&#39;ll need to use that","body":"I tried looking at some sites like gfg on java, substring() documentation, but there isn&#39;t any examples that demonstrate the use of +1. So I never thought that there is way of writing the code like that or that there are some cases where we&#39;ll need to use that"}],"answers":[{"tags":[],"owner":{"account_id":8984727,"reputation":2962,"user_id":6698642,"display_name":"shriakhilc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640760116,"creation_date":1640760116,"answer_id":70515967,"question_id":70515910,"body_markdown":"`substring(int start, int end)` includes the character at `start` and excludes the character at `end`. Since the integer cannot be parsed with a `/` in it, you need to do `fracValue.indexOf(&quot;/&quot;)+1` to get just the numerical part of the denominator.","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;/3&quot;","body":"<p><code>substring(int start, int end)</code> includes the character at <code>start</code> and excludes the character at <code>end</code>. Since the integer cannot be parsed with a <code>/</code> in it, you need to do <code>fracValue.indexOf(&quot;/&quot;)+1</code> to get just the numerical part of the denominator.</p>\n"},{"tags":[],"owner":{"account_id":13789025,"reputation":24,"user_id":9952056,"display_name":"chirag sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640764320,"creation_date":1640764320,"answer_id":70516562,"question_id":70515910,"body_markdown":"Firstly you have to understand your input\r\nif your input is String a = &quot;6+7&quot;, it means your string length is 3, and alloted indexes are 0,1 and 2\r\nwhere 0 index is &#39;6&#39;, 1 index is &#39;+&#39; and 2 index is &#39;7&#39; \r\nSo, when you use a.substring(0, a.indexOf(&quot;+&quot;)) it means you are saying \r\n\r\n\ta.indexOf(&quot;+&quot;) = 1 index\r\n\r\nyou should get a string including &#39;0&#39; index but not 1 index, because substring works with inclusive first param and exclusive second param.\r\n\r\nIn case of this a.substring(a.indexOf(&quot;+&quot;)+1, a.length())\r\n\r\nyou don&#39;t want to include &#39;+&#39; in your denominator, So you should not include 1 index, that&#39;s why you are adding (+1) with indexof.\r\nSo, by adding +1 you are saying only pick value from  a.indexOf(&quot;+&quot;) +1, i.e. 2 index,\r\nand length of string is 3, which means you will get string inclusive of 2 index, i.e 7\r\n\r\nif your input is &quot;6 + 7&quot; in that case you should use &#39;trim()&#39; before using Integer.parseInt. \t\t","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;/3&quot;","body":"<p>Firstly you have to understand your input\nif your input is String a = &quot;6+7&quot;, it means your string length is 3, and alloted indexes are 0,1 and 2\nwhere 0 index is '6', 1 index is '+' and 2 index is '7'\nSo, when you use a.substring(0, a.indexOf(&quot;+&quot;)) it means you are saying</p>\n<pre><code>a.indexOf(&quot;+&quot;) = 1 index\n</code></pre>\n<p>you should get a string including '0' index but not 1 index, because substring works with inclusive first param and exclusive second param.</p>\n<p>In case of this a.substring(a.indexOf(&quot;+&quot;)+1, a.length())</p>\n<p>you don't want to include '+' in your denominator, So you should not include 1 index, that's why you are adding (+1) with indexof.\nSo, by adding +1 you are saying only pick value from  a.indexOf(&quot;+&quot;) +1, i.e. 2 index,\nand length of string is 3, which means you will get string inclusive of 2 index, i.e 7</p>\n<p>if your input is &quot;6 + 7&quot; in that case you should use 'trim()' before using Integer.parseInt.</p>\n"}],"owner":{"account_id":23688554,"reputation":1,"user_id":17713166,"display_name":"Jabri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640764320,"creation_date":1640759688,"question_id":70515910,"body_markdown":"Below are the code. To fix the error, I simply rewrote the code in `getFraction()` method to `den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;)+1, fracValue.length()))` , by adding `+1`. I have never seen or learn this during my courses and I just encounter this while doing project. I want to understand what the code did in `num = Integer.parseInt(fracValue.substring(0, fracValue.indexOf(&quot;/&quot;)))` and `den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;), fracValue.length()))`, we are converting the numerator to int and the num is all the values before the `/` and the den is all the values after the `/`. Am I right ? My second question is that why do we need to add `+1` after the `indexOf(&quot;/&quot;)` ? Is it so we are taking the values after the `/`?\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FractionCalculator {\r\n    public static Scanner input = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        intro();\r\n\r\n        while (true) {\r\n            String operation = getOperation();\r\n            Fraction frac1 = getFraction();\r\n            Fraction frac2 = getFraction();\r\n            Fraction result = new Fraction(1,1);\r\n            String result2 = &quot;&quot;;\r\n            if (operation.equals(&quot;=&quot;)) {\r\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; is &quot;+frac1.equals(frac2));\r\n            } else {\r\n                if (operation.equals(&quot;+&quot;)) {\r\n                    result=frac1.add(frac2);\r\n                } else if (operation.equals(&quot;-&quot;)) {\r\n                    result=frac1.subtract(frac2);\r\n                } else if (operation.equals(&quot;/&quot;)) {\r\n                    if(frac2.getNumerator()==0) {\r\n                        result2=&quot;Undefined&quot;;\r\n                    } else {\r\n                        result=frac1.divide(frac2);\r\n                    }\r\n                } else if (operation.equals(&quot;*&quot;)) {\r\n                    if(frac2.getNumerator()==0) {\r\n                        result2 = &quot;Undefined&quot;;\r\n                    } else {\r\n                    result=frac1.multiply(frac2);\r\n                    }\r\n                }\r\n\r\n            //print results\r\n        }   if (result2!=&quot;&quot;) {// division and multiplication by zero is undefined\r\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+&quot;0&quot;+&quot; = &quot;+result2);\r\n            } else if (result.getNumerator()%result.getDenominator() == 0) {\r\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; = &quot;+(result.getNumerator()/ result.getDenominator()));\r\n            } else {\r\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; = &quot;+result.toString());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void intro() {\r\n        System.out.println(&quot;\\nThis program is a fraction calculator&quot;);\r\n        System.out.println(&quot;It will add, subtract, multiply and divide fractions until you type Q to quit.&quot;);\r\n        System.out.println(&quot;Please enter your fraction in the form a/b, where a and b are integers.&quot;);\r\n        for (int i=0; i&lt;80; i++) {\r\n            System.out.print(&quot;-&quot;);\r\n        }\r\n    }\r\n\r\n    public static String getOperation() {\r\n        System.out.println(&quot;\\nPlease enter an operation (+, -, /, *, = or \\&quot;Q\\&quot; to quit): &quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        String operation = input.nextLine();\r\n\r\n        int x = 0;\r\n\r\n        while (x == 0) {\r\n            if (operation.equals(&quot;+&quot;) || operation.equals(&quot;-&quot;) || operation.equals(&quot;/&quot;) || operation.equals(&quot;*&quot;) || operation.equals(&quot;=&quot;)) {\r\n                x++;\r\n            } else if (operation.equalsIgnoreCase(&quot;q&quot;)) {\r\n                System.exit(0);\r\n            } else {\r\n                System.out.println(&quot;Invalid input, enter valid operation (+, -, /, *, = or \\&quot;Q\\&quot; to quit)&quot;);\r\n                operation = input.nextLine();\r\n            }\r\n        }\r\n        return operation;\r\n    }\r\n\r\n    public static boolean validFraction(String input) {\r\n        boolean valid;\r\n\r\n        if (input.startsWith(&quot;-&quot;)) {\r\n            input = input.replaceFirst(&quot;-&quot;,&quot;&quot;); // or use &#39;input.substring(&quot;1&quot;, input.length())&#39;;\r\n        }\r\n        if (input.contains(&quot;-&quot;) || input.charAt(input.indexOf(&quot;/&quot;)+1)==(&#39;0&#39;) || input.contains(&quot; &quot;))  {\r\n            valid = false;\r\n        } else if (input.contains(&quot;/&quot;)) {\r\n            input = input.replace(&quot;/&quot;, &quot;&quot;);\r\n        }\r\n        if (input.matches(&quot;^[0-9]+$&quot;) &amp;&amp; input.length() &gt; 0) {\r\n                valid = true;\r\n             } else {\r\n                valid = false;\r\n             }\r\n        return valid;\r\n    }\r\n\r\n    public static Fraction getFraction() {\r\n        System.out.println(&quot;Please enter a fraction (a/b) or integer (a): &quot;);\r\n        String fracValue = input.nextLine();\r\n\r\n        //validate input\r\n        while (!validFraction(fracValue)) {\r\n            System.out.println(&quot;Please enter a fraction (a/b) or integer (a): &quot;);\r\n            fracValue = input.nextLine();\r\n        }\r\n\r\n        //convert to numerator, denominator\r\n        int num = 0;\r\n        int den = 0;\r\n        if (fracValue.contains(&quot;/&quot;)) {\r\n            num = Integer.parseInt(fracValue.substring(0, fracValue.indexOf(&quot;/&quot;)));\r\n            den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;), fracValue.length()));\r\n        } else {\r\n            num = Integer.parseInt(fracValue);\r\n            den = 1;\r\n        }\r\n\r\n        // return fraction\r\n        Fraction fracConv = new Fraction(num, den);\r\n        return fracConv;\r\n    }\r\n}\r\n```","title":"Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;/3&quot;","body":"<p>Below are the code. To fix the error, I simply rewrote the code in <code>getFraction()</code> method to <code>den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;)+1, fracValue.length()))</code> , by adding <code>+1</code>. I have never seen or learn this during my courses and I just encounter this while doing project. I want to understand what the code did in <code>num = Integer.parseInt(fracValue.substring(0, fracValue.indexOf(&quot;/&quot;)))</code> and <code>den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;), fracValue.length()))</code>, we are converting the numerator to int and the num is all the values before the <code>/</code> and the den is all the values after the <code>/</code>. Am I right ? My second question is that why do we need to add <code>+1</code> after the <code>indexOf(&quot;/&quot;)</code> ? Is it so we are taking the values after the <code>/</code>?</p>\n<pre><code>import java.util.Scanner;\n\npublic class FractionCalculator {\n    public static Scanner input = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        intro();\n\n        while (true) {\n            String operation = getOperation();\n            Fraction frac1 = getFraction();\n            Fraction frac2 = getFraction();\n            Fraction result = new Fraction(1,1);\n            String result2 = &quot;&quot;;\n            if (operation.equals(&quot;=&quot;)) {\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; is &quot;+frac1.equals(frac2));\n            } else {\n                if (operation.equals(&quot;+&quot;)) {\n                    result=frac1.add(frac2);\n                } else if (operation.equals(&quot;-&quot;)) {\n                    result=frac1.subtract(frac2);\n                } else if (operation.equals(&quot;/&quot;)) {\n                    if(frac2.getNumerator()==0) {\n                        result2=&quot;Undefined&quot;;\n                    } else {\n                        result=frac1.divide(frac2);\n                    }\n                } else if (operation.equals(&quot;*&quot;)) {\n                    if(frac2.getNumerator()==0) {\n                        result2 = &quot;Undefined&quot;;\n                    } else {\n                    result=frac1.multiply(frac2);\n                    }\n                }\n\n            //print results\n        }   if (result2!=&quot;&quot;) {// division and multiplication by zero is undefined\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+&quot;0&quot;+&quot; = &quot;+result2);\n            } else if (result.getNumerator()%result.getDenominator() == 0) {\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; = &quot;+(result.getNumerator()/ result.getDenominator()));\n            } else {\n                System.out.println(frac1+&quot; &quot;+operation+&quot; &quot;+frac2+&quot; = &quot;+result.toString());\n            }\n        }\n    }\n\n    public static void intro() {\n        System.out.println(&quot;\\nThis program is a fraction calculator&quot;);\n        System.out.println(&quot;It will add, subtract, multiply and divide fractions until you type Q to quit.&quot;);\n        System.out.println(&quot;Please enter your fraction in the form a/b, where a and b are integers.&quot;);\n        for (int i=0; i&lt;80; i++) {\n            System.out.print(&quot;-&quot;);\n        }\n    }\n\n    public static String getOperation() {\n        System.out.println(&quot;\\nPlease enter an operation (+, -, /, *, = or \\&quot;Q\\&quot; to quit): &quot;);\n        Scanner input = new Scanner(System.in);\n        String operation = input.nextLine();\n\n        int x = 0;\n\n        while (x == 0) {\n            if (operation.equals(&quot;+&quot;) || operation.equals(&quot;-&quot;) || operation.equals(&quot;/&quot;) || operation.equals(&quot;*&quot;) || operation.equals(&quot;=&quot;)) {\n                x++;\n            } else if (operation.equalsIgnoreCase(&quot;q&quot;)) {\n                System.exit(0);\n            } else {\n                System.out.println(&quot;Invalid input, enter valid operation (+, -, /, *, = or \\&quot;Q\\&quot; to quit)&quot;);\n                operation = input.nextLine();\n            }\n        }\n        return operation;\n    }\n\n    public static boolean validFraction(String input) {\n        boolean valid;\n\n        if (input.startsWith(&quot;-&quot;)) {\n            input = input.replaceFirst(&quot;-&quot;,&quot;&quot;); // or use 'input.substring(&quot;1&quot;, input.length())';\n        }\n        if (input.contains(&quot;-&quot;) || input.charAt(input.indexOf(&quot;/&quot;)+1)==('0') || input.contains(&quot; &quot;))  {\n            valid = false;\n        } else if (input.contains(&quot;/&quot;)) {\n            input = input.replace(&quot;/&quot;, &quot;&quot;);\n        }\n        if (input.matches(&quot;^[0-9]+$&quot;) &amp;&amp; input.length() &gt; 0) {\n                valid = true;\n             } else {\n                valid = false;\n             }\n        return valid;\n    }\n\n    public static Fraction getFraction() {\n        System.out.println(&quot;Please enter a fraction (a/b) or integer (a): &quot;);\n        String fracValue = input.nextLine();\n\n        //validate input\n        while (!validFraction(fracValue)) {\n            System.out.println(&quot;Please enter a fraction (a/b) or integer (a): &quot;);\n            fracValue = input.nextLine();\n        }\n\n        //convert to numerator, denominator\n        int num = 0;\n        int den = 0;\n        if (fracValue.contains(&quot;/&quot;)) {\n            num = Integer.parseInt(fracValue.substring(0, fracValue.indexOf(&quot;/&quot;)));\n            den = Integer.parseInt(fracValue.substring(fracValue.indexOf(&quot;/&quot;), fracValue.length()));\n        } else {\n            num = Integer.parseInt(fracValue);\n            den = 1;\n        }\n\n        // return fraction\n        Fraction fracConv = new Fraction(num, den);\n        return fracConv;\n    }\n}\n</code></pre>\n"},{"tags":["java","angular","spring","http","cors"],"answers":[{"tags":[],"owner":{"account_id":16682690,"reputation":568,"user_id":12057371,"display_name":"vincendep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622050014,"creation_date":1622050014,"answer_id":67709921,"question_id":67709809,"body_markdown":"adding `@CrossOrigin(origins = &quot;http://localhost:4200&quot;)` to the controller method should solve your issue. Take a look at [Enabling Cross Origin Requests for a RESTful Web Service][1]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/rest-service-cors/","title":"Access to XMLHttpRequest at localhost:8080 from localhost:4200 has been blocked by CORS policy","body":"<p>adding <code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;)</code> to the controller method should solve your issue. Take a look at <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">Enabling Cross Origin Requests for a RESTful Web Service</a></p>\n"},{"tags":[],"owner":{"account_id":10220955,"reputation":1,"user_id":7545167,"display_name":"helen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640763908,"creation_date":1640763908,"answer_id":70516495,"question_id":67709809,"body_markdown":"it is not solving for Delete request, but it works for put and the others, I added the cross origin as follows https://gyazo.com/e058904cb5ee27685fac4f3811b9b2a8\r\n but getting this https://gyazo.com/7481236f8ed7fcdecd2c898227c90e08 while trying to delete the resource from angular app","title":"Access to XMLHttpRequest at localhost:8080 from localhost:4200 has been blocked by CORS policy","body":"<p>it is not solving for Delete request, but it works for put and the others, I added the cross origin as follows <a href=\"https://gyazo.com/e058904cb5ee27685fac4f3811b9b2a8\" rel=\"nofollow noreferrer\">https://gyazo.com/e058904cb5ee27685fac4f3811b9b2a8</a>\nbut getting this <a href=\"https://gyazo.com/7481236f8ed7fcdecd2c898227c90e08\" rel=\"nofollow noreferrer\">https://gyazo.com/7481236f8ed7fcdecd2c898227c90e08</a> while trying to delete the resource from angular app</p>\n"}],"owner":{"account_id":21308782,"reputation":23,"user_id":15683543,"display_name":"skelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4537,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":67709921,"answer_count":2,"score":1,"last_activity_date":1640763908,"creation_date":1622049590,"question_id":67709809,"body_markdown":"*&quot;Access to XMLHttpRequest at &#39;http://localhost:8080/authenticate/login&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.&quot;*\r\n\r\nSpring Boot backend, Angular front. Tried sending an Http post, in the form of a login object containing a username and password. It&#39;s supposed to receive a jwt token in return. Works perfectly in postman, so it leads me to believe google chrome is the issue. I&#39;m using the Allow CORS Chrome extention as well. \r\n\r\nWeirdly enough the http GET requests work.\r\n\r\nI tried making a proxy in angular which didn&#39;t fix the issue. I also might have done it wrong too, I&#39;m new to making web applications so all the vague instructions on some websites really frustrate me.\r\n\r\n**auth.service.ts** Which sends the request\r\n\r\n```import { HttpClient, HttpHeaders } from &quot;@angular/common/http&quot;;\r\nimport { Injectable, ɵCompiler_compileModuleAndAllComponentsSync__POST_R3__ } from &quot;@angular/core&quot;;\r\nimport { BehaviorSubject, Observable } from &quot;rxjs&quot;;\r\nimport { map } from &quot;rxjs/operators&quot;;\r\nimport { environment } from &quot;src/environments/environment&quot;;\r\n\r\n@Injectable({ providedIn: &#39;root&#39; })\r\nexport class AuthService {\r\n\r\n    isAuthenticatedSubject = new BehaviorSubject&lt;boolean&gt;(false);\r\n\r\n    constructor(private httpClient: HttpClient) { }\r\n\r\n    login(username: string, password: string): Observable&lt;any&gt; {\r\n        const data = {\r\n            username: username,\r\n            password: password\r\n        };\r\n        let headers = new HttpHeaders();\r\n        headers.set(&#39;Contact-Type&#39;, &#39;application/json&#39;); \r\n\r\n        const url = `${environment.AUTH_ROUTE}`;\r\n        return this.httpClient.post&lt;any&gt;(url, data, { headers: headers })\r\n            .pipe(\r\n                map(response =&gt; {\r\n                    localStorage.setItem(&#39;token&#39;, response.token);\r\n                    this.isAuthenticatedSubject.next(true);\r\n                    return response;\r\n                })\r\n            );\r\n        // { token: &quot;vrijednost-tokena&quot; }\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem(&#39;token&#39;);\r\n        this.isAuthenticatedSubject.next(null);\r\n    }\r\n}\r\n```\r\n\r\n**AuthController.java** Which receives the request\r\n``` package com.example.stevan.madsapp.web.controllers;\r\n\r\nimport com.example.stevan.madsapp.security.jwt.JwtTokenProvider;\r\nimport com.example.stevan.madsapp.web.dto.LoginDTO;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.awt.*;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @PostMapping(value = &quot;/login&quot;)\r\n    public ResponseEntity&lt;Object&gt; login(@RequestBody LoginDTO loginDTO)\r\n    {\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                loginDTO.getUsername(), loginDTO.getPassword()\r\n        );\r\n        try\r\n        {\r\n            Authentication authentication = authenticationManager.authenticate(authenticationToken);\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            String token = jwtTokenProvider.createToken(authentication);\r\n            Map&lt;String, String&gt; responsePayload = new HashMap&lt;&gt;();\r\n            responsePayload.put(&quot;token&quot;, token);\r\n\r\n            return new ResponseEntity&lt;&gt;(responsePayload, HttpStatus.OK);\r\n        }catch (Exception e)\r\n        {\r\n            return new ResponseEntity&lt;&gt;(&quot;Error while login&quot;, HttpStatus.UNAUTHORIZED);\r\n        }\r\n    }\r\n\r\n}\r\n ```\r\n\r\nI&#39;m sorry in advance for my lack of basic knowledge on the subject.","title":"Access to XMLHttpRequest at localhost:8080 from localhost:4200 has been blocked by CORS policy","body":"<p><em>&quot;Access to XMLHttpRequest at 'http://localhost:8080/authenticate/login' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.&quot;</em></p>\n<p>Spring Boot backend, Angular front. Tried sending an Http post, in the form of a login object containing a username and password. It's supposed to receive a jwt token in return. Works perfectly in postman, so it leads me to believe google chrome is the issue. I'm using the Allow CORS Chrome extention as well.</p>\n<p>Weirdly enough the http GET requests work.</p>\n<p>I tried making a proxy in angular which didn't fix the issue. I also might have done it wrong too, I'm new to making web applications so all the vague instructions on some websites really frustrate me.</p>\n<p><strong>auth.service.ts</strong> Which sends the request</p>\n<pre><code>import { Injectable, ɵCompiler_compileModuleAndAllComponentsSync__POST_R3__ } from &quot;@angular/core&quot;;\nimport { BehaviorSubject, Observable } from &quot;rxjs&quot;;\nimport { map } from &quot;rxjs/operators&quot;;\nimport { environment } from &quot;src/environments/environment&quot;;\n\n@Injectable({ providedIn: 'root' })\nexport class AuthService {\n\n    isAuthenticatedSubject = new BehaviorSubject&lt;boolean&gt;(false);\n\n    constructor(private httpClient: HttpClient) { }\n\n    login(username: string, password: string): Observable&lt;any&gt; {\n        const data = {\n            username: username,\n            password: password\n        };\n        let headers = new HttpHeaders();\n        headers.set('Contact-Type', 'application/json'); \n\n        const url = `${environment.AUTH_ROUTE}`;\n        return this.httpClient.post&lt;any&gt;(url, data, { headers: headers })\n            .pipe(\n                map(response =&gt; {\n                    localStorage.setItem('token', response.token);\n                    this.isAuthenticatedSubject.next(true);\n                    return response;\n                })\n            );\n        // { token: &quot;vrijednost-tokena&quot; }\n    }\n\n    logout() {\n        localStorage.removeItem('token');\n        this.isAuthenticatedSubject.next(null);\n    }\n}\n</code></pre>\n<p><strong>AuthController.java</strong> Which receives the request</p>\n<pre><code>\nimport com.example.stevan.madsapp.security.jwt.JwtTokenProvider;\nimport com.example.stevan.madsapp.web.dto.LoginDTO;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.awt.*;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(value = &quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class AuthController {\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @PostMapping(value = &quot;/login&quot;)\n    public ResponseEntity&lt;Object&gt; login(@RequestBody LoginDTO loginDTO)\n    {\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                loginDTO.getUsername(), loginDTO.getPassword()\n        );\n        try\n        {\n            Authentication authentication = authenticationManager.authenticate(authenticationToken);\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            String token = jwtTokenProvider.createToken(authentication);\n            Map&lt;String, String&gt; responsePayload = new HashMap&lt;&gt;();\n            responsePayload.put(&quot;token&quot;, token);\n\n            return new ResponseEntity&lt;&gt;(responsePayload, HttpStatus.OK);\n        }catch (Exception e)\n        {\n            return new ResponseEntity&lt;&gt;(&quot;Error while login&quot;, HttpStatus.UNAUTHORIZED);\n        }\n    }\n\n}\n</code></pre>\n<p>I'm sorry in advance for my lack of basic knowledge on the subject.</p>\n"},{"tags":["java","selenium","selenium-webdriver","annotations","testng"],"comments":[{"owner":{"account_id":1382398,"reputation":5042,"user_id":1315120,"accept_rate":69,"display_name":"Erki M."},"score":0,"creation_date":1437191309,"post_id":31476604,"comment_id":50939546,"body_markdown":"maybe [this](http://stackoverflow.com/questions/2132734/beforeclass-and-inheritance-order-of-execution) answer could help","body":"maybe <a href=\"http://stackoverflow.com/questions/2132734/beforeclass-and-inheritance-order-of-execution\">this</a> answer could help"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1437215146,"post_id":31476604,"comment_id":50944227,"body_markdown":"@ErkiM. thanks man! this definitely sheds some light. Still there&#39;s the question why all subsequent Test are skipped, just because one! class fails.","body":"@ErkiM. thanks man! this definitely sheds some light. Still there&#39;s the question why all subsequent Test are skipped, just because one! class fails."},{"owner":{"account_id":1382398,"reputation":5042,"user_id":1315120,"accept_rate":69,"display_name":"Erki M."},"score":0,"creation_date":1437227119,"post_id":31476604,"comment_id":50947077,"body_markdown":"I believe it&#39;s by design as your tests depend on the outcome of `@BeforeClass` and it fails, hence the execution is stopped. To over come this, you could annotate your tests with `alwaysRun`, that by the [docs](http://testng.org/doc/documentation-main.html) : `alwaysRun \tIf set to true, this test method will always be run even if it depends on a method that failed.` I have not tested this myself, let me know how it works out for you.","body":"I believe it&#39;s by design as your tests depend on the outcome of <code>@BeforeClass</code> and it fails, hence the execution is stopped. To over come this, you could annotate your tests with <code>alwaysRun</code>, that by the <a href=\"http://testng.org/doc/documentation-main.html\" rel=\"nofollow noreferrer\">docs</a> : <code>alwaysRun \tIf set to true, this test method will always be run even if it depends on a method that failed.</code> I have not tested this myself, let me know how it works out for you."},{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":1,"creation_date":1437282188,"post_id":31476604,"comment_id":50959838,"body_markdown":"Bug in testng I suppose - fixed in 6.9.5 it seems : https://github.com/cbeust/testng/issues/471","body":"Bug in testng I suppose - fixed in 6.9.5 it seems : <a href=\"https://github.com/cbeust/testng/issues/471\" rel=\"nofollow noreferrer\">github.com/cbeust/testng/issues/471</a>"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1437312683,"post_id":31476604,"comment_id":50966233,"body_markdown":"@niharika_neo thank you so much!!! this solved the whole issue!! won&#39;t you put this as an answer? because that&#39;s what it is regarding my updated question (testng version number 6.8.8) - otherwise I&#39;ll have to do this myself und you won&#39;t get the whole credit ;-)","body":"@niharika_neo thank you so much!!! this solved the whole issue!! won&#39;t you put this as an answer? because that&#39;s what it is regarding my updated question (testng version number 6.8.8) - otherwise I&#39;ll have to do this myself und you won&#39;t get the whole credit ;-)"},{"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"score":0,"creation_date":1437397618,"post_id":31476604,"comment_id":50995781,"body_markdown":":) done! Now give me my points! :D","body":":) done! Now give me my points! :D"}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1437397580,"creation_date":1437397580,"answer_id":31517361,"question_id":31476604,"body_markdown":"This was a bug in Testng. solved in 6.9.5.  Please upgrade.","title":"TestNG: All subsequent Test classes are skipped when @BeforeClass method fails?","body":"<p>This was a bug in Testng. solved in 6.9.5.  Please upgrade.</p>\n"},{"tags":[],"owner":{"account_id":7954165,"reputation":98,"user_id":6004079,"display_name":"Dexter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509618065,"creation_date":1509611439,"answer_id":47070705,"question_id":31476604,"body_markdown":"Try to add `@AfterClass(alwaysrun = true)` or/and `@AfterMethod(alwaysrun=true)` as by default they are skipped if either BeforeClass or BeforeMethod are not completed.\r\n\r\n[The documentation on testNG Configuration Failures, Policy, and alwaysRun](ttps://community.perfectomobile.com/series/26523-testng/posts/1094590-testng-configuration-failures-policy-and-alwaysrun) explains whether/when configuration failures cause listener methods (`alwaysRun` and other listeners) to be skipped, failure policies and best practices.\r\n","title":"TestNG: All subsequent Test classes are skipped when @BeforeClass method fails?","body":"<p>Try to add <code>@AfterClass(alwaysrun = true)</code> or/and <code>@AfterMethod(alwaysrun=true)</code> as by default they are skipped if either BeforeClass or BeforeMethod are not completed.</p>\n\n<p>The documentation on testNG Configuration Failures, Policy, and alwaysRun explains whether/when configuration failures cause listener methods (<code>alwaysRun</code> and other listeners) to be skipped, failure policies and best practices.</p>\n"}],"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16042,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":31517361,"answer_count":2,"score":10,"last_activity_date":1640763798,"creation_date":1437138581,"question_id":31476604,"body_markdown":"&lt;h3&gt;My setup:&lt;/h3&gt;\r\n\r\n - A **TestBase class** containing a @BeforeClass method\r\n - **Several Test classes** extending from TestBase class and also containing a @BeforeClass method\r\n - testNG 6.8.8\r\n\r\n&lt;h3&gt;Why this setup?:&lt;/h3&gt;\r\n - I need the @BeforeClass in the TestBase class to provide setup that all testclasses will need and I don&#39;t want to repeat in every Test class. For example thread-id-dependent login credentials.\r\n - TestBase class also instantiates the Selenium WebDriver\r\n - I need the @BeforeClass in the Test classes to initialize everything that all @Test methods will need to use but that only needs to (or must) be built/invoked once for all tests. This includes calls to said WebDriver instance (that&#39;s why a &quot;normal&quot; constructor doesn&#39;t work here)\r\n\r\n&lt;h3&gt;Here&#39;s what happens:&lt;/h3&gt;\r\nWhen I run the tests via a testNG xml file and there is an **exception within the @BeforeClass** method of one of the Test classes, then **all subsequent Test classes are skipped by TestNG**.\r\n\r\n&lt;h2&gt;Why does this happen? How to prevent it?&lt;/h2&gt;\r\nWhen I change the annotation in the TestBase class to **@BeforeSuite** for example, then **all tests are run**, even if there is an exception in on of the @BeforeClass methods.\r\n\r\n&lt;h3&gt;Example:&lt;/h3&gt;\r\nWhen you run the xml file, complete RunAllTestClasses02 class is skipped.\r\n\r\n**testNG xml file:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;suite name = &quot;MiscSuite&quot;&gt;\r\n    \t&lt;test name = &quot;MiscTest&quot;&gt;\r\n    \t\t&lt;classes &gt;\r\n    \t\t\t&lt;class name=&quot;drkthng.misc.RunAllTestClasses01&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;drkthng.misc.RunAllTestClasses02&quot; /&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt;\r\n    &lt;/suite&gt;\r\n**TestBase class with a @BeforeClass method:**\r\n\r\n    public abstract class RunAllTestClassesBase {\r\n    \t\r\n    \t@BeforeClass\r\n    \tpublic void beforeClass() {\r\n    \t\t// do something that all Test classes will need\r\n    \t}\r\n    }\r\n\r\n**Test class that throws Exception within @BeforeClass method:**\r\n    \r\n    public class RunAllTestClasses01 extends RunAllTestClassesBase {\r\n    \r\n    \t@BeforeClass\r\n    \tpublic void beforeClass() {\r\n    \t\tAssert.assertTrue(false);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void Test01() {\r\n    \t\tAssert.assertTrue(true);\r\n    \t}\r\n    }","title":"TestNG: All subsequent Test classes are skipped when @BeforeClass method fails?","body":"<h3>My setup:</h3>\n\n<ul>\n<li>A <strong>TestBase class</strong> containing a @BeforeClass method</li>\n<li><strong>Several Test classes</strong> extending from TestBase class and also containing a @BeforeClass method</li>\n<li>testNG 6.8.8</li>\n</ul>\n\n<h3>Why this setup?:</h3>\n\n<ul>\n<li>I need the @BeforeClass in the TestBase class to provide setup that all testclasses will need and I don't want to repeat in every Test class. For example thread-id-dependent login credentials.</li>\n<li>TestBase class also instantiates the Selenium WebDriver</li>\n<li>I need the @BeforeClass in the Test classes to initialize everything that all @Test methods will need to use but that only needs to (or must) be built/invoked once for all tests. This includes calls to said WebDriver instance (that's why a \"normal\" constructor doesn't work here)</li>\n</ul>\n\n<h3>Here's what happens:</h3>\n\n<p>When I run the tests via a testNG xml file and there is an <strong>exception within the @BeforeClass</strong> method of one of the Test classes, then <strong>all subsequent Test classes are skipped by TestNG</strong>.</p>\n\n<h2>Why does this happen? How to prevent it?</h2>\n\n<p>When I change the annotation in the TestBase class to <strong>@BeforeSuite</strong> for example, then <strong>all tests are run</strong>, even if there is an exception in on of the @BeforeClass methods.</p>\n\n<h3>Example:</h3>\n\n<p>When you run the xml file, complete RunAllTestClasses02 class is skipped.</p>\n\n<p><strong>testNG xml file:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;suite name = \"MiscSuite\"&gt;\n    &lt;test name = \"MiscTest\"&gt;\n        &lt;classes &gt;\n            &lt;class name=\"drkthng.misc.RunAllTestClasses01\" /&gt;\n            &lt;class name=\"drkthng.misc.RunAllTestClasses02\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n\n<p><strong>TestBase class with a @BeforeClass method:</strong></p>\n\n<pre><code>public abstract class RunAllTestClassesBase {\n\n    @BeforeClass\n    public void beforeClass() {\n        // do something that all Test classes will need\n    }\n}\n</code></pre>\n\n<p><strong>Test class that throws Exception within @BeforeClass method:</strong></p>\n\n<pre><code>public class RunAllTestClasses01 extends RunAllTestClassesBase {\n\n    @BeforeClass\n    public void beforeClass() {\n        Assert.assertTrue(false);\n    }\n\n    @Test\n    public void Test01() {\n        Assert.assertTrue(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","db2"],"answers":[{"tags":[],"owner":{"account_id":23770913,"reputation":24,"user_id":17784990,"display_name":"Austngmnz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640747161,"creation_date":1640747161,"answer_id":70514756,"question_id":70514411,"body_markdown":"You can create a `Map&lt;String, T&gt;` and add your parameters to it first, then pass the Map into the constructor. \r\n\r\n    Map&lt;String, (whatever the value type would be)&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.add(Constants.FROMDATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;01-01-2020&quot;, &quot;yyyy-MM-dd&quot;));\r\n    parameters.add(Constants.TODATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;12-12-2021&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\r\n    parameters.add(&quot;issuerid&quot;, &quot;50191150159&quot;,Types.CHAR);\r\n    MapSqlParameterSource source = new MapSqlParameterSource(parameters);\r\n\r\nI don&#39;t think this would change the content of the object though, I&#39;d make sure that your `Constants.getValue()` outputs match the database side, and that the dates you are putting in are formatted properly (i notice you have the dates inputted as dd-mm-yyyy, but then have yyyy-MM-dd after them, so just in case you didn&#39;t notice that) \r\n    \r\n","title":"Facing problem in passing param in DB2 query","body":"<p>You can create a <code>Map&lt;String, T&gt;</code> and add your parameters to it first, then pass the Map into the constructor.</p>\n<pre><code>Map&lt;String, (whatever the value type would be)&gt; parameters = new HashMap&lt;&gt;();\nparameters.add(Constants.FROMDATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;01-01-2020&quot;, &quot;yyyy-MM-dd&quot;));\nparameters.add(Constants.TODATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;12-12-2021&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\nparameters.add(&quot;issuerid&quot;, &quot;50191150159&quot;,Types.CHAR);\nMapSqlParameterSource source = new MapSqlParameterSource(parameters);\n</code></pre>\n<p>I don't think this would change the content of the object though, I'd make sure that your <code>Constants.getValue()</code> outputs match the database side, and that the dates you are putting in are formatted properly (i notice you have the dates inputted as dd-mm-yyyy, but then have yyyy-MM-dd after them, so just in case you didn't notice that)</p>\n"}],"owner":{"account_id":23767003,"reputation":9,"user_id":17781642,"display_name":"Doodles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1640763522,"creation_date":1640743227,"question_id":70514411,"body_markdown":"Query is to select new cases reports from database where input parameters are Id, fromdate and todate.\r\n\r\nI have written a `MapSqlParameterSource` class which is not working so as an alternative how can I directly pass these params in queryforlist without changing query.\r\n\r\n```\r\nMapSqlParameterSource source = new MapSqlParameterSource();\r\nsource.addValue(Constants.FROMDATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;01-01-2020&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\r\nsource.addValue(Constants.TODATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;12-12-2021&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\r\nsource.addValue(&quot;issuerid&quot;, &quot;50191150159&quot;,Types.CHAR);\r\n```\r\n\r\nwhat could be the alternative way of passing values?","title":"Facing problem in passing param in DB2 query","body":"<p>Query is to select new cases reports from database where input parameters are Id, fromdate and todate.</p>\n<p>I have written a <code>MapSqlParameterSource</code> class which is not working so as an alternative how can I directly pass these params in queryforlist without changing query.</p>\n<pre><code>MapSqlParameterSource source = new MapSqlParameterSource();\nsource.addValue(Constants.FROMDATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;01-01-2020&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\nsource.addValue(Constants.TODATE.getValue(), CommonUtils.formatDateddmmyyyy(&quot;12-12-2021&quot;, &quot;yyyy-MM-dd&quot;),Types.CHAR);\nsource.addValue(&quot;issuerid&quot;, &quot;50191150159&quot;,Types.CHAR);\n</code></pre>\n<p>what could be the alternative way of passing values?</p>\n"},{"tags":["java","spring","apache-beam"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1640770448,"post_id":70516423,"comment_id":124653444,"body_markdown":"Why do you need multiple files? Don&#39;t write to a `ByteArrayOutputStream` write to file directly, in the end that will be fsater (use a buffered writer) and will save you a lot of memory.","body":"Why do you need multiple files? Don&#39;t write to a <code>ByteArrayOutputStream</code> write to file directly, in the end that will be fsater (use a buffered writer) and will save you a lot of memory."},{"owner":{"account_id":7419499,"reputation":57,"user_id":5644435,"display_name":"mike1225"},"score":0,"creation_date":1640783207,"post_id":70516423,"comment_id":124657218,"body_markdown":"@M.Deinum The GCP pub/sub has a limit of 10mb, so when it reach to more than 10mb, message topic reject the file due file size limit.","body":"@M.Deinum The GCP pub/sub has a limit of 10mb, so when it reach to more than 10mb, message topic reject the file due file size limit."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1640783701,"post_id":70516423,"comment_id":124657423,"body_markdown":"It would be easier to limit the size of the files by number of lines instead of absolute byte size.","body":"It would be easier to limit the size of the files by number of lines instead of absolute byte size."},{"owner":{"account_id":7419499,"reputation":57,"user_id":5644435,"display_name":"mike1225"},"score":0,"creation_date":1640784115,"post_id":70516423,"comment_id":124657550,"body_markdown":"@RoToRa any example? Thanks.","body":"@RoToRa any example? Thanks."}],"owner":{"account_id":7419499,"reputation":57,"user_id":5644435,"display_name":"mike1225"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1640763356,"creation_date":1640763356,"question_id":70516423,"body_markdown":"I am kind of stuck, I usually know how to create single csv, it looks like I am missing or disconnecting from this code. I am not able to create multiple csv file from Pojo class. The file usually is more than 15mb, but I need to split into multiple csv file like 5mb each. Any suggestion would be great helped. Here is sample code that I am trying but failing. \r\n\r\n   \r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        getOrderList();\r\n    }\r\n\r\n    public static void getOrderList() throws IOException {\r\n        List&lt;Orders&gt; ordersList = new ArrayList&lt;&gt;();\r\n        Orders orders = new Orders();\r\n        orders.setOrderNumber(&quot;1&quot;);\r\n        orders.setProductName(&quot;mickey&quot;);\r\n\r\n        Orders orders1 = new Orders();\r\n        orders1.setOrderNumber(&quot;2&quot;);\r\n        orders1.setProductName(&quot;mini&quot;);\r\n\r\n        ordersList.add(orders);\r\n        ordersList.add(orders1);\r\n        Object [] FILE_HEADER = {&quot;orderNumber&quot;,&quot;productName&quot;};\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        int rowCount = 0;\r\n        int fileCount = 1;\r\n        try {\r\n            BufferedWriter fileWriter = new BufferedWriter(new OutputStreamWriter(byteArrayOutputStream));\r\n            CSVPrinter csvFilePrinter = new CSVPrinter(fileWriter,\r\n                    CSVFormat.DEFAULT.withRecordSeparator(&quot;\\n&quot;));\r\n            csvFilePrinter.printRecord(FILE_HEADER);\r\n            for (Orders patient : ordersList) {\r\n                rowCount++;\r\n                patient.getOrderNumber();\r\n                patient.getProductName();\r\n                if (rowCount &lt;= 1) {\r\n                    csvFilePrinter.printRecord(patient);\r\n                    csvFilePrinter.flush();\r\n                }\r\n                if (rowCount &gt; 1 ) {\r\n                    csvFilePrinter.printRecord(patient);\r\n                    fileCount++;\r\n                   csvFilePrinter.flush();\r\n                }\r\n            }\r\n\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Cannot generate csv file&quot;, e);\r\n        }\r\n        byte[] csvOutput = byteArrayOutputStream.toByteArray();\r\n        OutputStream outputStream = null;\r\n        outputStream = new FileOutputStream(&quot;demos&quot; + fileCount + &quot;.csv&quot;);\r\n        byteArrayOutputStream = new ByteArrayOutputStream();\r\n        byteArrayOutputStream.write(csvOutput);\r\n        byteArrayOutputStream.writeTo(outputStream);\r\n    }\r\n\r\n\r\n    public static class Orders {\r\n        private String orderNumber;\r\n        private String productName;\r\n\r\n        public String getOrderNumber() {\r\n            return orderNumber;\r\n        }\r\n\r\n        public void setOrderNumber(String orderNumber) {\r\n            this.orderNumber = orderNumber;\r\n        }\r\n\r\n        public String getProductName() {\r\n            return productName;\r\n        }\r\n\r\n        public void setProductName(String productName) {\r\n            this.productName = productName;\r\n        }\r\n    } ","title":"How to create multiple csv file from large csv file in Java","body":"<p>I am kind of stuck, I usually know how to create single csv, it looks like I am missing or disconnecting from this code. I am not able to create multiple csv file from Pojo class. The file usually is more than 15mb, but I need to split into multiple csv file like 5mb each. Any suggestion would be great helped. Here is sample code that I am trying but failing.</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        getOrderList();\n    }\n\n    public static void getOrderList() throws IOException {\n        List&lt;Orders&gt; ordersList = new ArrayList&lt;&gt;();\n        Orders orders = new Orders();\n        orders.setOrderNumber(&quot;1&quot;);\n        orders.setProductName(&quot;mickey&quot;);\n\n        Orders orders1 = new Orders();\n        orders1.setOrderNumber(&quot;2&quot;);\n        orders1.setProductName(&quot;mini&quot;);\n\n        ordersList.add(orders);\n        ordersList.add(orders1);\n        Object [] FILE_HEADER = {&quot;orderNumber&quot;,&quot;productName&quot;};\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        int rowCount = 0;\n        int fileCount = 1;\n        try {\n            BufferedWriter fileWriter = new BufferedWriter(new OutputStreamWriter(byteArrayOutputStream));\n            CSVPrinter csvFilePrinter = new CSVPrinter(fileWriter,\n                    CSVFormat.DEFAULT.withRecordSeparator(&quot;\\n&quot;));\n            csvFilePrinter.printRecord(FILE_HEADER);\n            for (Orders patient : ordersList) {\n                rowCount++;\n                patient.getOrderNumber();\n                patient.getProductName();\n                if (rowCount &lt;= 1) {\n                    csvFilePrinter.printRecord(patient);\n                    csvFilePrinter.flush();\n                }\n                if (rowCount &gt; 1 ) {\n                    csvFilePrinter.printRecord(patient);\n                    fileCount++;\n                   csvFilePrinter.flush();\n                }\n            }\n\n\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Cannot generate csv file&quot;, e);\n        }\n        byte[] csvOutput = byteArrayOutputStream.toByteArray();\n        OutputStream outputStream = null;\n        outputStream = new FileOutputStream(&quot;demos&quot; + fileCount + &quot;.csv&quot;);\n        byteArrayOutputStream = new ByteArrayOutputStream();\n        byteArrayOutputStream.write(csvOutput);\n        byteArrayOutputStream.writeTo(outputStream);\n    }\n\n\n    public static class Orders {\n        private String orderNumber;\n        private String productName;\n\n        public String getOrderNumber() {\n            return orderNumber;\n        }\n\n        public void setOrderNumber(String orderNumber) {\n            this.orderNumber = orderNumber;\n        }\n\n        public String getProductName() {\n            return productName;\n        }\n\n        public void setProductName(String productName) {\n            this.productName = productName;\n        }\n    } \n</code></pre>\n"},{"tags":["python","java","pdf","tabula","unsupported-class-version"],"answers":[{"tags":[],"owner":{"account_id":16823183,"reputation":176,"user_id":12163088,"display_name":"Kathan Thakkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1640763280,"creation_date":1640763280,"answer_id":70516410,"question_id":70446901,"body_markdown":"As per &lt;https://pypi.org/project/tabula-py/&gt; documentation of Tabula-py, I guess you need Java 8+. And java version &quot;1.7.0_80&quot; is Java 7  I guess.\r\n\r\nKindly try to update Java version to 8+ and try again.","title":"Python using Tabula / Java unsupported ClassVersion?","body":"<p>As per <a href=\"https://pypi.org/project/tabula-py/\" rel=\"nofollow noreferrer\">https://pypi.org/project/tabula-py/</a> documentation of Tabula-py, I guess you need Java 8+. And java version &quot;1.7.0_80&quot; is Java 7  I guess.</p>\n<p>Kindly try to update Java version to 8+ and try again.</p>\n"}],"owner":{"account_id":17154672,"reputation":973,"user_id":12415855,"display_name":"Rapid1898"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70516410,"answer_count":1,"score":0,"last_activity_date":1640763280,"creation_date":1640165543,"question_id":70446901,"body_markdown":"i try to use the tabula-module with python and have this code:\r\n\r\n    import tabula\r\n    file = &quot;input.pdf&quot;\r\n    tables = tabula.read_pdf(file, pages = &quot;all&quot;, multiple_tables = True)\r\n\r\nWhen i try to run this code on windows i get this error:\r\n\r\n    $ python exampleTabula.py\r\n    Error from tabula-java:\r\n    java.lang.UnsupportedClassVersionError: technology/tabula/CommandLineApp : Unsupported major.minor version 52.0\r\n            at java.lang.ClassLoader.defineClass1(Native Method)\r\n            at java.lang.ClassLoader.defineClass(Unknown Source)\r\n            at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n            at java.net.URLClassLoader.defineClass(Unknown Source)\r\n            at java.net.URLClassLoader.access$100(Unknown Source)\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    Exception in thread &quot;main&quot;\r\n    \r\n    Traceback (most recent call last):\r\n      File &quot;C:\\DEV\\Python-Diverses\\PDFExtract\\exampleTabula.py&quot;, line 3, in &lt;module&gt;\r\n        tables = tabula.read_pdf(file, pages = &quot;all&quot;, multiple_tables = True)\r\n      File &quot;C:\\DEV\\.venv\\Normal\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\r\n        output = _run(java_options, kwargs, path, encoding)\r\n      File &quot;C:\\DEV\\.venv\\Normal\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\r\n        result = subprocess.run(\r\n      File &quot;C:\\Users\\WRSPOL\\AppData\\Local\\Programs\\Python\\Python39\\lib\\subprocess.py&quot;, line 528, in run\r\n    subprocess.CalledProcessError: Command &#39;[&#39;java&#39;, &#39;-Dfile.encoding=UTF8&#39;, &#39;-jar&#39;, &#39;C:\\\\DEV\\\\.venv\\\\Normal\\\\lib\\\\site-packages\\\\tabula\\\\tabula-1.0.5-jar-with-dependencies.jar&#39;, &#39;--pages&#39;, &#39;all&#39;, &#39;--guess&#39;, &#39;--format&#39;, &#39;JSON&#39;, &#39;foo.pdf&#39;]&#39; returned non-zero exit status 1. \r\n\r\nI checked the java-installation an get this infos:\r\n\r\n    $ which java\r\n    /c/Windows/system32/java\r\n\r\nand\r\n\r\n    $ java -version\r\n    java version &quot;1.7.0_80&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_80-b15)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\r\n\r\nWhat i have to do to use tabula on this configuration?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Python using Tabula / Java unsupported ClassVersion?","body":"<p>i try to use the tabula-module with python and have this code:</p>\n<pre><code>import tabula\nfile = &quot;input.pdf&quot;\ntables = tabula.read_pdf(file, pages = &quot;all&quot;, multiple_tables = True)\n</code></pre>\n<p>When i try to run this code on windows i get this error:</p>\n<pre><code>$ python exampleTabula.py\nError from tabula-java:\njava.lang.UnsupportedClassVersionError: technology/tabula/CommandLineApp : Unsupported major.minor version 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nException in thread &quot;main&quot;\n\nTraceback (most recent call last):\n  File &quot;C:\\DEV\\Python-Diverses\\PDFExtract\\exampleTabula.py&quot;, line 3, in &lt;module&gt;\n    tables = tabula.read_pdf(file, pages = &quot;all&quot;, multiple_tables = True)\n  File &quot;C:\\DEV\\.venv\\Normal\\lib\\site-packages\\tabula\\io.py&quot;, line 322, in read_pdf\n    output = _run(java_options, kwargs, path, encoding)\n  File &quot;C:\\DEV\\.venv\\Normal\\lib\\site-packages\\tabula\\io.py&quot;, line 80, in _run\n    result = subprocess.run(\n  File &quot;C:\\Users\\WRSPOL\\AppData\\Local\\Programs\\Python\\Python39\\lib\\subprocess.py&quot;, line 528, in run\nsubprocess.CalledProcessError: Command '['java', '-Dfile.encoding=UTF8', '-jar', 'C:\\\\DEV\\\\.venv\\\\Normal\\\\lib\\\\site-packages\\\\tabula\\\\tabula-1.0.5-jar-with-dependencies.jar', '--pages', 'all', '--guess', '--format', 'JSON', 'foo.pdf']' returned non-zero exit status 1. \n</code></pre>\n<p>I checked the java-installation an get this infos:</p>\n<pre><code>$ which java\n/c/Windows/system32/java\n</code></pre>\n<p>and</p>\n<pre><code>$ java -version\njava version &quot;1.7.0_80&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)\n</code></pre>\n<p>What i have to do to use tabula on this configuration?</p>\n"},{"tags":["java","string","concatenation","stringbuilder"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1640763874,"post_id":70516404,"comment_id":124651575,"body_markdown":"You don&#39;t show us how you are measuring the time these are taking, but I suspect that what you are observing is an artifact of the way that you are benchmarking your code.  Please read [How do I write a correct micro-benchmark in Java](https://stackoverflow.com/questions/504103), and make sure that your technique is correct.  If you want us to look into this further, please update your Question to include the complete benchmark so that we can examine and run it ourselves.","body":"You don&#39;t show us how you are measuring the time these are taking, but I suspect that what you are observing is an artifact of the way that you are benchmarking your code.  Please read <a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java</a>, and make sure that your technique is correct.  If you want us to look into this further, please update your Question to include the complete benchmark so that we can examine and run it ourselves."},{"owner":{"display_name":"user12207727"},"score":0,"creation_date":1640765084,"post_id":70516404,"comment_id":124651888,"body_markdown":"@StephenC Thank you! The runtime was automatically output by LeetCode, I&#39;m unsure how they benchmarked my code. Logically speaking, should my stringbuilder method have been faster than pure string concatenation?","body":"@StephenC Thank you! The runtime was automatically output by LeetCode, I&#39;m unsure how they benchmarked my code. Logically speaking, should my stringbuilder method have been faster than pure string concatenation?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1640765660,"post_id":70516404,"comment_id":124652051,"body_markdown":"I think it should.  But there is some pretty inefficient code in there.  For a start, you could use `String.toCharArray` to get an array of the characters, and then iterate the array from `length-1` to `0`.  The `ArrayList` approach entails boxing every character in the string as a `Character` object ...","body":"I think it should.  But there is some pretty inefficient code in there.  For a start, you could use <code>String.toCharArray</code> to get an array of the characters, and then iterate the array from <code>length-1</code> to <code>0</code>.  The <code>ArrayList</code> approach entails boxing every character in the string as a <code>Character</code> object ..."},{"owner":{"display_name":"user12207727"},"score":0,"creation_date":1640765985,"post_id":70516404,"comment_id":124652140,"body_markdown":"@StephenC thanks again, I&#39;ll try it again with just arrays.","body":"@StephenC thanks again, I&#39;ll try it again with just arrays."},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1640770702,"post_id":70516404,"comment_id":124653526,"body_markdown":"See also `StringBuilder.reverse()` : https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse() ... and why strings? see reverse digits : https://stackoverflow.com/a/4808804/2711811","body":"See also <code>StringBuilder.reverse()</code> : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html#reverse()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> ... and why strings? see reverse digits : <a href=\"https://stackoverflow.com/a/4808804/2711811\">stackoverflow.com/a/4808804/2711811</a>"}],"owner":{"display_name":"user12207727"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640763235,"creation_date":1640763235,"question_id":70516404,"body_markdown":"I read in another thread that StringBuilder is superior to String Concatenation, especially within loops. However, I solved the problem in two different ways, and the StringBuilder method took nearly double the runtime - The logic is otherwise the same, so why might this be?\r\n\r\n\r\n\r\nclass Solution {\r\n\r\n    public int reverse(int x) {\r\n        \r\n        boolean isNeg = false;\r\n        \r\n        if(x &lt; 0){\r\n            x *= -1;\r\n            isNeg = true;\r\n        } \r\n        \r\n        ArrayList &lt;Character&gt; arrlist = new ArrayList&lt;&gt;();\r\n        String reverse = &quot;&quot;;\r\n        StringBuilder sbdr = new StringBuilder();\r\n        String s = Integer.toString(x);\r\n        \r\n        for(int i = 0; i &lt; s.length(); i++) arrlist.add(s.charAt(i));\r\n        \r\n        while(arrlist.get(arrlist.size()-1) == &#39;0&#39; &amp;&amp; arrlist.size() &gt; 1) {\r\n            arrlist.remove(arrlist.size()-1);\r\n        }\r\n        \r\n        for(int i = arrlist.size()-1; i &gt;= 0; i--) sbdr.append(arrlist.get(i));\r\n  \r\n        try {\r\n            if(isNeg) return Integer.valueOf(sbdr.toString())*-1;\r\n            return Integer.valueOf(sbdr.toString());\r\n        } catch (Exception e){\r\n            return 0;\r\n        }\r\n    \r\n    }\r\n}\r\n\r\n\r\nclass Solution {\r\n\r\n    public int reverse(int x) {\r\n        \r\n        boolean isNeg = false;\r\n        \r\n        if(x &lt; 0){\r\n            x *= -1;\r\n            isNeg = true;\r\n        } \r\n        \r\n        ArrayList &lt;Character&gt; arrlist = new ArrayList&lt;&gt;();\r\n        String reverse = &quot;&quot;;\r\n        String s = Integer.toString(x);\r\n        \r\n        for(int i = 0; i &lt; s.length(); i++) arrlist.add(s.charAt(i));\r\n        \r\n        while(arrlist.get(arrlist.size()-1) == &#39;0&#39; &amp;&amp; arrlist.size() &gt; 1) {\r\n            arrlist.remove(arrlist.size()-1);\r\n        }\r\n        \r\n        for(int i = arrlist.size()-1; i &gt;= 0; i--) {\r\n            reverse += Character.toString(arrlist.get(i));\r\n        }\r\n        \r\n        try {\r\n            \r\n            if(isNeg) return Integer.valueOf(reverse)*-1;\r\n            else return Integer.valueOf(reverse); \r\n            \r\n        } catch (Exception e){\r\n            return 0;\r\n        }\r\n        \r\n    }\r\n}","title":"Why does StringBuilder result in a longer runtime in this program?","body":"<p>I read in another thread that StringBuilder is superior to String Concatenation, especially within loops. However, I solved the problem in two different ways, and the StringBuilder method took nearly double the runtime - The logic is otherwise the same, so why might this be?</p>\n<p>class Solution {</p>\n<pre><code>public int reverse(int x) {\n    \n    boolean isNeg = false;\n    \n    if(x &lt; 0){\n        x *= -1;\n        isNeg = true;\n    } \n    \n    ArrayList &lt;Character&gt; arrlist = new ArrayList&lt;&gt;();\n    String reverse = &quot;&quot;;\n    StringBuilder sbdr = new StringBuilder();\n    String s = Integer.toString(x);\n    \n    for(int i = 0; i &lt; s.length(); i++) arrlist.add(s.charAt(i));\n    \n    while(arrlist.get(arrlist.size()-1) == '0' &amp;&amp; arrlist.size() &gt; 1) {\n        arrlist.remove(arrlist.size()-1);\n    }\n    \n    for(int i = arrlist.size()-1; i &gt;= 0; i--) sbdr.append(arrlist.get(i));\n\n    try {\n        if(isNeg) return Integer.valueOf(sbdr.toString())*-1;\n        return Integer.valueOf(sbdr.toString());\n    } catch (Exception e){\n        return 0;\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>class Solution {</p>\n<pre><code>public int reverse(int x) {\n    \n    boolean isNeg = false;\n    \n    if(x &lt; 0){\n        x *= -1;\n        isNeg = true;\n    } \n    \n    ArrayList &lt;Character&gt; arrlist = new ArrayList&lt;&gt;();\n    String reverse = &quot;&quot;;\n    String s = Integer.toString(x);\n    \n    for(int i = 0; i &lt; s.length(); i++) arrlist.add(s.charAt(i));\n    \n    while(arrlist.get(arrlist.size()-1) == '0' &amp;&amp; arrlist.size() &gt; 1) {\n        arrlist.remove(arrlist.size()-1);\n    }\n    \n    for(int i = arrlist.size()-1; i &gt;= 0; i--) {\n        reverse += Character.toString(arrlist.get(i));\n    }\n    \n    try {\n        \n        if(isNeg) return Integer.valueOf(reverse)*-1;\n        else return Integer.valueOf(reverse); \n        \n    } catch (Exception e){\n        return 0;\n    }\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":1886487,"reputation":396557,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":3,"creation_date":1413381819,"post_id":26384294,"comment_id":41423188,"body_markdown":"`JComboBox` is &quot;typeable&quot; by default. If you focus it and start typing, it will jump to the element that starts with what you type, although what you type is not visible.","body":"<code>JComboBox</code> is &quot;typeable&quot; by default. If you focus it and start typing, it will jump to the element that starts with what you type, although what you type is not visible."},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1413381931,"post_id":26384294,"comment_id":41423258,"body_markdown":"@icza I don&#39;t think it&#39;s the case here : http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#editable","body":"@icza I don&#39;t think it&#39;s the case here : <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#editable\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/components/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1413381987,"post_id":26384294,"comment_id":41423301,"body_markdown":"@joeyrohan that behavior depends on the Look &amp; Feel I think. It certainly works in Windows.","body":"@joeyrohan that behavior depends on the Look &amp; Feel I think. It certainly works in Windows."},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1413382240,"post_id":26384294,"comment_id":41423449,"body_markdown":"@a_horse_with_no_name I am using windows, (Win 7 32-bit JDK 7)","body":"@a_horse_with_no_name I am using windows, (Win 7 32-bit JDK 7)"},{"owner":{"account_id":1159741,"reputation":735,"user_id":1139514,"accept_rate":22,"display_name":"Marco7757"},"score":0,"creation_date":1413382289,"post_id":26384294,"comment_id":41423490,"body_markdown":"@a_horse_with_no_name so what you&#39;re saying is that if I change they Look&amp;Feel to Windows, it will work they way I want? It currently is one of the &quot;ugly&quot; Java-looking application, and it isn&#39;t working. Are you sure that changing this will help?","body":"@a_horse_with_no_name so what you&#39;re saying is that if I change they Look&amp;Feel to Windows, it will work they way I want? It currently is one of the &quot;ugly&quot; Java-looking application, and it isn&#39;t working. Are you sure that changing this will help?"},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1413382351,"post_id":26384294,"comment_id":41423521,"body_markdown":"@Marco7757 try adding nimbus","body":"@Marco7757 try adding nimbus"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1413382394,"post_id":26384294,"comment_id":41423550,"body_markdown":"@Marco7757 it certainly works for me when using the Windows LnF.","body":"@Marco7757 it certainly works for me when using the Windows LnF."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1413382618,"post_id":26384294,"comment_id":41423685,"body_markdown":"@Marco7757, it works using Windows, Metal and Nimbus which are all the LAF I can text on a Window machine. I would be extremely surprised if it doesn&#39;t work on Mac, Linux etc., because this behaviour should be standard on all platforms. Post your [SSCCE](http://sscce.org/)demonstrating the problem along with OS information if you still have problems. You should post a SSCCE with all your questions so we don&#39;t need to guess what you are doing.","body":"@Marco7757, it works using Windows, Metal and Nimbus which are all the LAF I can text on a Window machine. I would be extremely surprised if it doesn&#39;t work on Mac, Linux etc., because this behaviour should be standard on all platforms. Post your <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>demonstrating the problem along with OS information if you still have problems. You should post a SSCCE with all your questions so we don&#39;t need to guess what you are doing."},{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1413382805,"post_id":26384294,"comment_id":41423827,"body_markdown":"@camickr Not working for me :O windows LAF or Nimbus??","body":"@camickr Not working for me :O windows LAF or Nimbus??"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1413383366,"post_id":26384294,"comment_id":41424161,"body_markdown":"@joeyrohan, once again &quot;not working&quot; doesn&#39;t mean anything unless a `SSCCE` is posted showing the code used. If it doesn&#39;t work then you probably have some custom code you are using for your combo box. This is default functionality.","body":"@joeyrohan, once again &quot;not working&quot; doesn&#39;t mean anything unless a <code>SSCCE</code> is posted showing the code used. If it doesn&#39;t work then you probably have some custom code you are using for your combo box. This is default functionality."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1413384088,"post_id":26384294,"comment_id":41424614,"body_markdown":"@camickr is correct; it works as expected on `com.apple.laf.AquaLookAndFeel`.","body":"@camickr is correct; it works as expected on <code>com.apple.laf.AquaLookAndFeel</code>."},{"owner":{"account_id":1159741,"reputation":735,"user_id":1139514,"accept_rate":22,"display_name":"Marco7757"},"score":0,"creation_date":1413384533,"post_id":26384294,"comment_id":41424929,"body_markdown":"confirmed, it really does. The application is indeed using custom code I didn&#39;t write (I&#39;m just recently took over development). It uses something my predecessor called a &quot;BetterJComboBox&quot;. Can somebody figure out why the changes he made make this feature not working? (code above)","body":"confirmed, it really does. The application is indeed using custom code I didn&#39;t write (I&#39;m just recently took over development). It uses something my predecessor called a &quot;BetterJComboBox&quot;. Can somebody figure out why the changes he made make this feature not working? (code above)"},{"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"score":2,"creation_date":1413385417,"post_id":26384294,"comment_id":41425523,"body_markdown":"I&#39;m wondering how in Earth loosing a default feature might be considered a *BetterJComboBox*. On th other hand I think the problem could be the combo box renderer: see [this post](http://tips4java.wordpress.com/2013/11/17/combo-box-with-custom-renderer/) by @camickr.","body":"I&#39;m wondering how in Earth loosing a default feature might be considered a <i>BetterJComboBox</i>. On th other hand I think the problem could be the combo box renderer: see <a href=\"http://tips4java.wordpress.com/2013/11/17/combo-box-with-custom-renderer/\" rel=\"nofollow noreferrer\">this post</a> by @camickr."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1413386071,"post_id":26384294,"comment_id":41425974,"body_markdown":"@dic19, `I think the problem could be the combo box renderer` - that would be my guess as well. I&#39;m still waiting for the OP to post a proper `SSCCE`,  so we have all the information. I get frustrated when people expect us to keep guessing what their code is really doing...","body":"@dic19, <code>I think the problem could be the combo box renderer</code> - that would be my guess as well. I&#39;m still waiting for the OP to post a proper <code>SSCCE</code>,  so we have all the information. I get frustrated when people expect us to keep guessing what their code is really doing..."},{"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"score":1,"creation_date":1413388578,"post_id":26384294,"comment_id":41427628,"body_markdown":"`I&#39;m wondering how in Earth loosing a default feature might be considered a BetterJComboBox` Unfortunately, despite my breath-holding and temper tantrums, I can relate to this first-hand.","body":"<code>I&#39;m wondering how in Earth loosing a default feature might be considered a BetterJComboBox</code> Unfortunately, despite my breath-holding and temper tantrums, I can relate to this first-hand."},{"owner":{"account_id":1159741,"reputation":735,"user_id":1139514,"accept_rate":22,"display_name":"Marco7757"},"score":0,"creation_date":1413553632,"post_id":26384294,"comment_id":41497787,"body_markdown":"Seems the custom code wasn&#39;t the issue after all. I got it to work. Sorry for wasting everybody&#39;s time :(","body":"Seems the custom code wasn&#39;t the issue after all. I got it to work. Sorry for wasting everybody&#39;s time :("}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640763079,"creation_date":1413508531,"answer_id":26416422,"question_id":26384294,"body_markdown":"As [icza mentioned][1]:\r\n\r\n&gt; `JComboBox` is &quot;typeable&quot; by default. If you focus it and start typing, it will jump to the element that starts with what you type, although what you type is not visible.\r\n\r\nyou are describing the default behavior of a combo box. The following example does exactly what you described (Obtained from the Oracle Java tutorial website):\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class ComboBoxDemo extends JPanel implements ActionListener {\r\n    public ComboBoxDemo() {\r\n        super(new BorderLayout());\r\n\r\n        String[] petStrings = { &quot;Bird&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Duck&quot;, &quot;Rabbit&quot;, &quot;Pig&quot; };\r\n        JComboBox&lt;String&gt; petList = new JComboBox&lt;String&gt;(petStrings);\r\n        petList.setSelectedIndex(0);\r\n        petList.addActionListener(this);\r\n        add(petList, BorderLayout.PAGE_START);\r\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\r\n    }\r\n    \r\n    public void actionPerformed(ActionEvent e) {\r\n        JComboBox&lt;String&gt; cb = (JComboBox) e.getSource();\r\n        String petName = (String) cb.getSelectedItem();\r\n        System.out.println(&quot;You selected: &quot; + petName);\r\n    }\r\n    \r\n    private static void createAndShowGUI() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JComponent newContentPane = new ComboBoxDemo();\r\n        newContentPane.setOpaque(true);\r\n        frame.setContentPane(newContentPane);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nA couple of people are suggesting you might have a problem with the combo box renderer, and I think they might be right. Anyway, run this example and verify for yourself that it behaves as intended. When you verify this, update this example and use your renderer. If it stops behaving as before, then you will know for certain where your problem lies.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26384294/jcombobox-not-editable-but-typeable/26416422#comment41423188_26384294","title":"JComboBox: Not editable but typeable","body":"<p>As <a href=\"https://stackoverflow.com/questions/26384294/jcombobox-not-editable-but-typeable/26416422#comment41423188_26384294\">icza mentioned</a>:</p>\n<blockquote>\n<p><code>JComboBox</code> is &quot;typeable&quot; by default. If you focus it and start typing, it will jump to the element that starts with what you type, although what you type is not visible.</p>\n</blockquote>\n<p>you are describing the default behavior of a combo box. The following example does exactly what you described (Obtained from the Oracle Java tutorial website):</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class ComboBoxDemo extends JPanel implements ActionListener {\n    public ComboBoxDemo() {\n        super(new BorderLayout());\n\n        String[] petStrings = { &quot;Bird&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Duck&quot;, &quot;Rabbit&quot;, &quot;Pig&quot; };\n        JComboBox&lt;String&gt; petList = new JComboBox&lt;String&gt;(petStrings);\n        petList.setSelectedIndex(0);\n        petList.addActionListener(this);\n        add(petList, BorderLayout.PAGE_START);\n        setBorder(BorderFactory.createEmptyBorder(20, 20, 20, 20));\n    }\n    \n    public void actionPerformed(ActionEvent e) {\n        JComboBox&lt;String&gt; cb = (JComboBox) e.getSource();\n        String petName = (String) cb.getSelectedItem();\n        System.out.println(&quot;You selected: &quot; + petName);\n    }\n    \n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        JComponent newContentPane = new ComboBoxDemo();\n        newContentPane.setOpaque(true);\n        frame.setContentPane(newContentPane);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>A couple of people are suggesting you might have a problem with the combo box renderer, and I think they might be right. Anyway, run this example and verify for yourself that it behaves as intended. When you verify this, update this example and use your renderer. If it stops behaving as before, then you will know for certain where your problem lies.</p>\n"}],"owner":{"account_id":1159741,"reputation":735,"user_id":1139514,"accept_rate":22,"display_name":"Marco7757"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1640763079,"creation_date":1413381079,"question_id":26384294,"body_markdown":"In my application, there is a JComboBox featuring about 200 entries. The people working with the application complain that it is frustrating to have to  scroll all the way to the bottom, even though they know exactly what the last element of the list is.\r\n\r\nSo I went and made the JComboBox editable, so they can just type in this last element. However, my database does not accept any values other than featured in the dropdown of this combobox.\r\n\r\nIs there a way to make the JComboBox only &quot;typeable&quot; instead of &quot;editable&quot;, so it will let you type in values, but only as long as they match at least 1 item in the dropdown?\r\n\r\n**Edit:**\r\nAs is turns out, the above demanded feature is already implemented per se. My application, however, is using custom code that somehow disables it. I cannot figure out where it happens ... as a matter of fact, I don&#39;t see at all what the below code is doing exactly.\r\n\r\n**Edit2:**\r\nI did some testing (took me quite some time) and figured out, that it is not my custom code that&#39;s disabling the feature. In fact, it was a somehow faulty implementation of the combobox-filling ComboBoxModel that prevented the jumping somehow.\r\n\r\nI can now type c and it jumps to the first entry beginning with c. **However**, I cannot type &quot; &quot; (space), because then the popup is going to close. I found [this][1] answer, but it seems overly complicated. Isn&#39;t there an easier way to do it?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14865035/searching-jcomboboxes-with-multi-word-elements","title":"JComboBox: Not editable but typeable","body":"<p>In my application, there is a JComboBox featuring about 200 entries. The people working with the application complain that it is frustrating to have to  scroll all the way to the bottom, even though they know exactly what the last element of the list is.</p>\n\n<p>So I went and made the JComboBox editable, so they can just type in this last element. However, my database does not accept any values other than featured in the dropdown of this combobox.</p>\n\n<p>Is there a way to make the JComboBox only \"typeable\" instead of \"editable\", so it will let you type in values, but only as long as they match at least 1 item in the dropdown?</p>\n\n<p><strong>Edit:</strong>\nAs is turns out, the above demanded feature is already implemented per se. My application, however, is using custom code that somehow disables it. I cannot figure out where it happens ... as a matter of fact, I don't see at all what the below code is doing exactly.</p>\n\n<p><strong>Edit2:</strong>\nI did some testing (took me quite some time) and figured out, that it is not my custom code that's disabling the feature. In fact, it was a somehow faulty implementation of the combobox-filling ComboBoxModel that prevented the jumping somehow.</p>\n\n<p>I can now type c and it jumps to the first entry beginning with c. <strong>However</strong>, I cannot type \" \" (space), because then the popup is going to close. I found <a href=\"https://stackoverflow.com/questions/14865035/searching-jcomboboxes-with-multi-word-elements\">this</a> answer, but it seems overly complicated. Isn't there an easier way to do it?</p>\n"},{"tags":["java","android","powershell","kotlin","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628820926,"creation_date":1628820926,"answer_id":68766035,"question_id":68756046,"body_markdown":"You make Code Runner run in Terminal, and normally the path shown after `PS` in terminal is **current working directory**, and the `.kt` file should be executed like\r\n\r\n    kotlinc hello.kt -include-runtime -d hello.jar\r\n    java -jar hello.jar\r\n \r\n[![enter image description here][3]][3]\r\n\r\nIf `fun` mentioned in the error is the extra module you add for building and compiling, please post some detailed information like your folder structure and code to clarify your question.\r\n\r\nIf not, check if there&#39;s `&quot;code-runner.executorMap&quot;` in your **settings.json** and  delete it. Reload window then try again.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EoN2x.png\r\n  [2]: https://i.stack.imgur.com/1YkeZ.png\r\n  [3]: https://i.stack.imgur.com/zGQfx.png","title":"Error when attempting to run kotlin in Vscode","body":"<p>You make Code Runner run in Terminal, and normally the path shown after <code>PS</code> in terminal is <strong>current working directory</strong>, and the <code>.kt</code> file should be executed like</p>\n<pre><code>kotlinc hello.kt -include-runtime -d hello.jar\njava -jar hello.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zGQfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGQfx.png\" alt=\"enter image description here\" /></a></p>\n<p>If <code>fun</code> mentioned in the error is the extra module you add for building and compiling, please post some detailed information like your folder structure and code to clarify your question.</p>\n<p>If not, check if there's <code>&quot;code-runner.executorMap&quot;</code> in your <strong>settings.json</strong> and  delete it. Reload window then try again.</p>\n"},{"tags":[],"owner":{"account_id":19755596,"reputation":119,"user_id":14465955,"display_name":"Salman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640762814,"creation_date":1640762814,"answer_id":70516340,"question_id":68756046,"body_markdown":"Bro there is a space in between your code file remove that and all fine,\r\nI was facing the same problem thank me later\r\n","title":"Error when attempting to run kotlin in Vscode","body":"<p>Bro there is a space in between your code file remove that and all fine,\nI was facing the same problem thank me later</p>\n"}],"owner":{"account_id":22053992,"reputation":31,"user_id":16317830,"display_name":"Judah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640762814,"creation_date":1628765558,"question_id":68756046,"body_markdown":"The following error shows in the terminal when I attempt to run a simple `kotlin` code vscode using the code runner extension. I have installed the kotlin compiler and set the bin folder to path. I have also done the same with the java sdk.\r\n\r\nError:\r\n\r\n    PS C:\\Users\\Judah&gt; cd &quot;c:\\Users\\Judah\\Desktop\\Dev\\Kotlin\\&quot; ; if ($?) { kotlinc\r\n    fun main.kt -include-runtime -d fun main.jar } ; if ($?) { java -jar fun main.jar }\r\n    \r\n    &#39;findstr&#39; is not recognized as an internal or external command,\r\n    operable program or batch file.\r\n    \r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    \r\n    error: source file or directory not found: fun\r\n    error: source file or directory not found: main.kt\r\n    error: source file or directory not found: main.jar\r\n","title":"Error when attempting to run kotlin in Vscode","body":"<p>The following error shows in the terminal when I attempt to run a simple <code>kotlin</code> code vscode using the code runner extension. I have installed the kotlin compiler and set the bin folder to path. I have also done the same with the java sdk.</p>\n<p>Error:</p>\n<pre><code>PS C:\\Users\\Judah&gt; cd &quot;c:\\Users\\Judah\\Desktop\\Dev\\Kotlin\\&quot; ; if ($?) { kotlinc\nfun main.kt -include-runtime -d fun main.jar } ; if ($?) { java -jar fun main.jar }\n\n'findstr' is not recognized as an internal or external command,\noperable program or batch file.\n\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n\nerror: source file or directory not found: fun\nerror: source file or directory not found: main.kt\nerror: source file or directory not found: main.jar\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":2,"creation_date":1640759495,"post_id":70515868,"comment_id":124650638,"body_markdown":"Why the C tag to a non-C question?","body":"Why the C tag to a non-C question?"},{"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1640759789,"post_id":70515868,"comment_id":124650689,"body_markdown":"@chux-ReinstateMonica Why not remove the C tag when it&#39;s obviously wrong?","body":"@chux-ReinstateMonica Why not remove the C tag when it&#39;s obviously wrong?"},{"owner":{"account_id":2802349,"reputation":146413,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"score":0,"creation_date":1640759960,"post_id":70515868,"comment_id":124650719,"body_markdown":"@4386427 Seemed courteous to give OP a chance to explain their position first.","body":"@4386427 Seemed courteous to give OP a chance to explain their position first."},{"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1640760052,"post_id":70515868,"comment_id":124650735,"body_markdown":"@chux-ReinstateMonica Well, fine... Maybe I should have waited a bit but IMO it seems obvious that this has nothing to do with C","body":"@chux-ReinstateMonica Well, fine... Maybe I should have waited a bit but IMO it seems obvious that this has nothing to do with C"},{"owner":{"account_id":5524527,"reputation":42810,"user_id":4386427,"accept_rate":100,"display_name":"Support Ukraine"},"score":0,"creation_date":1640760123,"post_id":70515868,"comment_id":124650754,"body_markdown":"&quot;For one, I would like to write out the steps that are being taken by the program...&quot; So why don&#39;t you add print statement inside the recursive function?","body":"&quot;For one, I would like to write out the steps that are being taken by the program...&quot; So why don&#39;t you add print statement inside the recursive function?"},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":1,"creation_date":1640769055,"post_id":70515868,"comment_id":124652980,"body_markdown":"I really, really, really suggest you read about [indentation](https://en.wikipedia.org/wiki/Indentation_style#K&amp;R_style). Add spaces at the beginning of each line to reflect the hierarchic structure of the program. I assure you it will make your code much easier to read and reason about, both for you and for other people.","body":"I really, really, really suggest you read about <a href=\"https://en.wikipedia.org/wiki/Indentation_style#K&amp;R_style\" rel=\"nofollow noreferrer\">indentation</a>. Add spaces at the beginning of each line to reflect the hierarchic structure of the program. I assure you it will make your code much easier to read and reason about, both for you and for other people."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640762549,"creation_date":1640762549,"answer_id":70516304,"question_id":70515868,"body_markdown":"It seems someone implemented a division just the way it is taught at school.\r\nWhen you run the application, it starts executing in the main() method. The first line in there says\r\n\r\n    result=quotientAndRemainder(13,2)\r\n\r\nso your method is trying to check how many times 2 is contained in 13. It does this recursively until it finds on the seventh reentry that 1 is less than 2, returning [0, 1].\r\nThis will be added to the previous level which was called as quotientAndRemainder(3,2) and will return [1, 1].\r\nThis recursively bubbles up the other levels and sums up to [6, 1], which is the final result being returned to the main method.","title":"I need help understanding the coded solution for getting quotients and remainders. It is using an array and recursion to solve the problem","body":"<p>It seems someone implemented a division just the way it is taught at school.\nWhen you run the application, it starts executing in the main() method. The first line in there says</p>\n<pre><code>result=quotientAndRemainder(13,2)\n</code></pre>\n<p>so your method is trying to check how many times 2 is contained in 13. It does this recursively until it finds on the seventh reentry that 1 is less than 2, returning [0, 1].\nThis will be added to the previous level which was called as quotientAndRemainder(3,2) and will return [1, 1].\nThis recursively bubbles up the other levels and sums up to [6, 1], which is the final result being returned to the main method.</p>\n"}],"owner":{"account_id":20876423,"reputation":1,"user_id":15335107,"display_name":"lmeh1921"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640762549,"creation_date":1640759395,"question_id":70515868,"body_markdown":"I am having trouble following how this code snippet recursively solves the problem. For one, I would like to write out the steps that are being taken by the program, but I am confused as to how it is arriving to the solution. For example, quotientandremainder(13,2). I know that it doesn&#39;t meet the base case so therefore the program will run 1 + output[0], output[1]. In the output call it seems that it is subtracting 13 and 2, and the divisor remains? How is the (13,2) really calculated to achieve the end result? I really would like to grock this as I&#39;m trying to understand recursion and I am finding it difficult, the struggle is real. Thank you in advance for any help. \r\n\r\n    public class QuotientAndRemainder\r\n    {\r\n    public static int[] quotientAndRemainder(int dividend,int divisor)\r\n    {\r\n    if(dividend&lt;divisor)\r\n    return new int[]{0,dividend};\r\n    int[] output=quotientAndRemainder(dividend-divisor,divisor);\r\n    return new int[]{1 + output[0],output[1]};\r\n    }\r\n    public static void main(String[] args)\r\n    {\r\n    int[] result=quotientAndRemainder(13,2);\r\n    System.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,13,2,result[0],result[1]);\r\n    result=quotientAndRemainder(2,13);\r\n    System.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,2,13,result[0],result[1]);\r\n    result=quotientAndRemainder(75,5);\r\n    System.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,75,5,result[0],result[1]);\r\n    }\r\n    }","title":"I need help understanding the coded solution for getting quotients and remainders. It is using an array and recursion to solve the problem","body":"<p>I am having trouble following how this code snippet recursively solves the problem. For one, I would like to write out the steps that are being taken by the program, but I am confused as to how it is arriving to the solution. For example, quotientandremainder(13,2). I know that it doesn't meet the base case so therefore the program will run 1 + output[0], output[1]. In the output call it seems that it is subtracting 13 and 2, and the divisor remains? How is the (13,2) really calculated to achieve the end result? I really would like to grock this as I'm trying to understand recursion and I am finding it difficult, the struggle is real. Thank you in advance for any help.</p>\n<pre><code>public class QuotientAndRemainder\n{\npublic static int[] quotientAndRemainder(int dividend,int divisor)\n{\nif(dividend&lt;divisor)\nreturn new int[]{0,dividend};\nint[] output=quotientAndRemainder(dividend-divisor,divisor);\nreturn new int[]{1 + output[0],output[1]};\n}\npublic static void main(String[] args)\n{\nint[] result=quotientAndRemainder(13,2);\nSystem.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,13,2,result[0],result[1]);\nresult=quotientAndRemainder(2,13);\nSystem.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,2,13,result[0],result[1]);\nresult=quotientAndRemainder(75,5);\nSystem.out.printf(&quot;%s divided by %s is %s and remainder is %s\\n&quot;,75,5,result[0],result[1]);\n}\n}\n</code></pre>\n"},{"tags":["java","android","scoped-storage"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1638456417,"post_id":70201520,"comment_id":124097560,"body_markdown":"What is &quot;the app directory&quot;?","body":"What is &quot;the app directory&quot;?"},{"owner":{"account_id":1433045,"reputation":794,"user_id":1354997,"accept_rate":34,"display_name":"Pink Jazz"},"score":0,"creation_date":1638458716,"post_id":70201520,"comment_id":124098594,"body_markdown":"The app-specific directory where I am supposed to write using Scoped Storage.","body":"The app-specific directory where I am supposed to write using Scoped Storage."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1638458920,"post_id":70201520,"comment_id":124098688,"body_markdown":"I am assuming that you mean `getExternalFilesDir(null)` on `Context`. That returns a `File` object pointing to that directory. From there, it is ordinary Java file I/O.","body":"I am assuming that you mean <code>getExternalFilesDir(null)</code> on <code>Context</code>. That returns a <code>File</code> object pointing to that directory. From there, it is ordinary Java file I/O."}],"answers":[{"tags":[],"owner":{"account_id":18400794,"reputation":143,"user_id":13403911,"display_name":"Yahya Durrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640762402,"creation_date":1640762402,"answer_id":70516277,"question_id":70201520,"body_markdown":"Use the location \r\n\r\n    context.getFilesDir()+&quot;/YourFolderName&quot;;\r\nHere you can store any file you want without any permission,\r\nIf you want to store Document file where its publically available, Use this location, you dont need any permission over here either\r\n\r\n      try {\r\n            inputStream = //your input stream here;\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        ContentResolver resolver = ctx.getContentResolver();\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;My Document name&quot;);\r\n            values.put(MediaStore.MediaColumns.MIME_TYPE,&quot;application/*&quot;);\r\n\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOCUMENTS + File.separator + &quot;my app folder/&quot;);\r\n        }\r\n\r\n        Uri fileUri = resolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), values);      \r\n        try {\r\n            fos = resolver.openOutputStream(fileUri);\r\n            Objects.requireNonNull(fos);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        try {\r\n            byte[] buf = new byte[1024];\r\n            int len;\r\n            while ((len = inputStream.read(buf)) &gt; 0) {\r\n\r\n                fos.write(buf, 0, len);\r\n            }\r\n\r\n            fos.close();\r\n            inputStream.close();\r\n            fos.flush();\r\n            fos.close();\r\n        } catch (Exception e) {\r\n            Log.d(&quot;TAG&quot;, &quot;Exception&quot; + e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\nI included the code for the second method bcz i felt like &quot;MediaStore&quot; might confuse you!\r\n","title":"Struggling with Scoped Storage - how would I write a plain text file in app directory in Java?","body":"<p>Use the location</p>\n<pre><code>context.getFilesDir()+&quot;/YourFolderName&quot;;\n</code></pre>\n<p>Here you can store any file you want without any permission,\nIf you want to store Document file where its publically available, Use this location, you dont need any permission over here either</p>\n<pre><code>  try {\n        inputStream = //your input stream here;\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n\n    ContentResolver resolver = ctx.getContentResolver();\n    ContentValues values = new ContentValues();\n\n    values.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;My Document name&quot;);\n        values.put(MediaStore.MediaColumns.MIME_TYPE,&quot;application/*&quot;);\n\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        values.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_DOCUMENTS + File.separator + &quot;my app folder/&quot;);\n    }\n\n    Uri fileUri = resolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), values);      \n    try {\n        fos = resolver.openOutputStream(fileUri);\n        Objects.requireNonNull(fos);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    try {\n        byte[] buf = new byte[1024];\n        int len;\n        while ((len = inputStream.read(buf)) &gt; 0) {\n\n            fos.write(buf, 0, len);\n        }\n\n        fos.close();\n        inputStream.close();\n        fos.flush();\n        fos.close();\n    } catch (Exception e) {\n        Log.d(&quot;TAG&quot;, &quot;Exception&quot; + e.getMessage());\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I included the code for the second method bcz i felt like &quot;MediaStore&quot; might confuse you!</p>\n"}],"owner":{"account_id":1433045,"reputation":794,"user_id":1354997,"accept_rate":34,"display_name":"Pink Jazz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1640762402,"creation_date":1638456250,"question_id":70201520,"body_markdown":"I am migrating our apps to API version 30, and I am totally struggling with Scoped Storage.  I would like to know, how would I write a plain text file in the app directory using Scoped Storage?  I am currently using FileWriter and I would like to know how I would change this to Scoped Storage.  I would like my example in Java, not Kotlin, please.","title":"Struggling with Scoped Storage - how would I write a plain text file in app directory in Java?","body":"<p>I am migrating our apps to API version 30, and I am totally struggling with Scoped Storage.  I would like to know, how would I write a plain text file in the app directory using Scoped Storage?  I am currently using FileWriter and I would like to know how I would change this to Scoped Storage.  I would like my example in Java, not Kotlin, please.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635017337,"post_id":69691206,"comment_id":123184764,"body_markdown":"To get to the point, this is exactly the sort of thing you should use a loop for.  Rather than assigning a `char` to variables for each `charAt()` position, just use a loop to check each character.  (The directions never say &quot;must be exactly four characters in length&quot; so only checking `charAt()` 0..3 is automatically wrong.)","body":"To get to the point, this is exactly the sort of thing you should use a loop for.  Rather than assigning a <code>char</code> to variables for each <code>charAt()</code> position, just use a loop to check each character.  (The directions never say &quot;must be exactly four characters in length&quot; so only checking <code>charAt()</code> 0..3 is automatically wrong.)"},{"owner":{"account_id":23123504,"reputation":1,"user_id":17229692,"display_name":"Fried_Sauer.Kraut"},"score":0,"creation_date":1635018552,"post_id":69691206,"comment_id":123185012,"body_markdown":"I should have provided all of the instructions, the rest did specify for specifically four characters and also that we HAVE to use if statements to achieve the desired effect while storing the user input it in a String variable.","body":"I should have provided all of the instructions, the rest did specify for specifically four characters and also that we HAVE to use if statements to achieve the desired effect while storing the user input it in a String variable."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1635019210,"post_id":69691206,"comment_id":123185156,"body_markdown":"Using `if` statements does not preclude using a loop.  See the answer below, although if you really want to learn you should attempt a solution yourself without looking at the provided answer.","body":"Using <code>if</code> statements does not preclude using a loop.  See the answer below, although if you really want to learn you should attempt a solution yourself without looking at the provided answer."}],"answers":[{"tags":[],"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635017769,"creation_date":1635017769,"answer_id":69691422,"question_id":69691206,"body_markdown":"Here is some psudo-code to get you in the right direction. I can&#39;t write your school answer here.\r\n\r\nLoop through each character.  Special case the first.  Track if you have dot.\r\n```\r\nhasDot = false\r\nfor (i=0; i&lt;input.length; i++) {\r\n  ch = input[i]\r\n\r\n  if (i === 0) {\r\n    validChars = [0,1,2,3,4,5,6,7,8,9,-,+,.]\r\n    // validChars must contain ch\r\n    // if ch === dot, set hasDot = true\r\n  }\r\n  else {\r\n    validChars = [0,1,2,3,4,5,6,7,8,9,.]\r\n    // validChars must contain ch\r\n    // if ch === dot and hasDot then error, else set hasDot = true  \r\n  }\r\n}\r\n```","title":"How do I get these conditions to apply properly in an if statement?","body":"<p>Here is some psudo-code to get you in the right direction. I can't write your school answer here.</p>\n<p>Loop through each character.  Special case the first.  Track if you have dot.</p>\n<pre><code>hasDot = false\nfor (i=0; i&lt;input.length; i++) {\n  ch = input[i]\n\n  if (i === 0) {\n    validChars = [0,1,2,3,4,5,6,7,8,9,-,+,.]\n    // validChars must contain ch\n    // if ch === dot, set hasDot = true\n  }\n  else {\n    validChars = [0,1,2,3,4,5,6,7,8,9,.]\n    // validChars must contain ch\n    // if ch === dot and hasDot then error, else set hasDot = true  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18664773,"reputation":1033,"user_id":13605044,"display_name":"Md. Faisal Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635019222,"creation_date":1635019222,"answer_id":69691602,"question_id":69691206,"body_markdown":"There are few conditions you need to check to figure out the validity. Let&#39;s see one by one.\r\n\r\n**`+` Or `-`**\r\n\r\nThere can be maximum one `+` or `-` operator and it has to be at the beginning of the given input.\r\n\r\nSo what you can do is, whenever you&#39;re getting a `+` or `-` operator, just check whether current index is `0` or not.\r\n\r\nIf it&#39;s not, then mark the input as invalid.\r\n\r\n```\r\nboolean isValid = true;\r\nfor(int i = 0; i &lt; doubleliteral.length(); i++)\r\n{\r\n\tif((doubleliteral[i] == &#39;+&#39; || doubleliteral[i] == &#39;-&#39;))\r\n\t{\r\n\t\tif(i != 0)\r\n\t\t{\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// it&#39;s valid. \r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**The `.` (decimal point) character**\r\n\r\nThere can be maximum one `.` character.\r\n\r\nSo you keep a count of it, check if it ever becomes more than `1`.\r\n\r\n```\r\nboolean isValid = true;\r\nint dotCounter = 0;\r\nfor(int i = 0; i &lt; doubleliteral.length(); i++)\r\n{\r\n\tif( doubleliteral[i] == &#39;.&#39;)\r\n\t{\r\n\t\tif(dotCounter != 0)\r\n\t\t{\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\t\telse dotCounter++;\r\n\t}\r\n}\r\n```\r\n\r\n**Check if there&#39;s any character other than digits (o to 9)**\r\n\r\nWhile traversing each character of the string, you can check if it&#39;s digit or not like following-\r\n\r\n```\r\nfor(int i = 0; i &lt; doubleliteral.length(); i++)\r\n{\r\n\tif(Character.isDigit(doubleliteral.charAt(i)))\r\n\t{\r\n\t\t// it&#39;s a digit\r\n\t}\r\n}\r\n```\r\n\r\n**Now if we combine everything it&#39;ll look like this:**\r\n\r\n```\r\nboolean isValid = true;\r\nint dotCounter = 0;\r\nint doubleliteralLength = doubleliteral.length();\r\n\r\nfor(int i = 0; i &lt; doubleliteralLength; i++)\r\n{\r\n\tif((doubleliteral[i] == &#39;+&#39; || doubleliteral[i] == &#39;-&#39;))\r\n\t{\r\n\t\tif(i != 0)\r\n\t\t{\r\n\t\t\tisValid = false;\r\n\t\t\tbreak;\t// we don&#39;t need to check any further\r\n\t\t}\r\n\t}\r\n\telse if( doubleliteral[i] == &#39;.&#39;)\r\n\t{\r\n\t\tif(dotCounter != 0)\r\n\t\t{\r\n\t\t\tisValid = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\telse dotCounter++;\r\n\t}\r\n\telse if(Character.isDigit(doubleliteral.charAt(i)) != true)\r\n\t{\r\n\t\t// it&#39;s not a digit, not + or -, not .\r\n\t\tisValid = false;\r\n\t\tbreak;\r\n\t}\r\n}\r\n\r\nif(doubleliteralLength == 4 &amp;&amp; isValid)\r\n{\r\n\tSystem.out.print(&quot;\\n&quot; + doubleliteral + &quot; is a valid four character double literal.&quot;);\r\n}\r\nelse\r\n{\r\n\tSystem.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);\r\n}\r\n```","title":"How do I get these conditions to apply properly in an if statement?","body":"<p>There are few conditions you need to check to figure out the validity. Let's see one by one.</p>\n<p><strong><code>+</code> Or <code>-</code></strong></p>\n<p>There can be maximum one <code>+</code> or <code>-</code> operator and it has to be at the beginning of the given input.</p>\n<p>So what you can do is, whenever you're getting a <code>+</code> or <code>-</code> operator, just check whether current index is <code>0</code> or not.</p>\n<p>If it's not, then mark the input as invalid.</p>\n<pre><code>boolean isValid = true;\nfor(int i = 0; i &lt; doubleliteral.length(); i++)\n{\n    if((doubleliteral[i] == '+' || doubleliteral[i] == '-'))\n    {\n        if(i != 0)\n        {\n            isValid = false;\n        }\n        else\n        {\n            // it's valid. \n        }\n    }\n}\n</code></pre>\n<p><strong>The <code>.</code> (decimal point) character</strong></p>\n<p>There can be maximum one <code>.</code> character.</p>\n<p>So you keep a count of it, check if it ever becomes more than <code>1</code>.</p>\n<pre><code>boolean isValid = true;\nint dotCounter = 0;\nfor(int i = 0; i &lt; doubleliteral.length(); i++)\n{\n    if( doubleliteral[i] == '.')\n    {\n        if(dotCounter != 0)\n        {\n            isValid = false;\n        }\n        else dotCounter++;\n    }\n}\n</code></pre>\n<p><strong>Check if there's any character other than digits (o to 9)</strong></p>\n<p>While traversing each character of the string, you can check if it's digit or not like following-</p>\n<pre><code>for(int i = 0; i &lt; doubleliteral.length(); i++)\n{\n    if(Character.isDigit(doubleliteral.charAt(i)))\n    {\n        // it's a digit\n    }\n}\n</code></pre>\n<p><strong>Now if we combine everything it'll look like this:</strong></p>\n<pre><code>boolean isValid = true;\nint dotCounter = 0;\nint doubleliteralLength = doubleliteral.length();\n\nfor(int i = 0; i &lt; doubleliteralLength; i++)\n{\n    if((doubleliteral[i] == '+' || doubleliteral[i] == '-'))\n    {\n        if(i != 0)\n        {\n            isValid = false;\n            break;  // we don't need to check any further\n        }\n    }\n    else if( doubleliteral[i] == '.')\n    {\n        if(dotCounter != 0)\n        {\n            isValid = false;\n            break;\n        }\n        else dotCounter++;\n    }\n    else if(Character.isDigit(doubleliteral.charAt(i)) != true)\n    {\n        // it's not a digit, not + or -, not .\n        isValid = false;\n        break;\n    }\n}\n\nif(doubleliteralLength == 4 &amp;&amp; isValid)\n{\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is a valid four character double literal.&quot;);\n}\nelse\n{\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640761750,"creation_date":1635020165,"answer_id":69691731,"question_id":69691206,"body_markdown":"This question can be easily answered by using Regular Expressions and apply the expression to the inputted `String` object. Although this question is technically correct, it is not correct for the lesson your professor is teaching (which I am guessing is String parsing).\r\n\r\nThat said, here are my clues to you:\r\n\r\n - Symbols (+ or -) can only be present at character index 0. \r\n - The (decimal) ASCII values for numbers 0-9 are 48-57. Therefore, an ASCII\r\n   value outside this range that is not a &quot;+&quot;, &quot;-&quot;, or &quot;.&quot; (43, 45, or\r\n   46 respectively) is an illegal character.\r\n\r\nThe next thing you need to do is write down a few combinations of characters and test them out manually. For example:\r\n\r\n - 1.34 // invalid (first character must be the sign)\r\n - .123 // invalid (first character must be the sign)\r\n - -.98 // valid\r\n - -0.1 // valid\r\n - +2.3 // valid\r\n - 2.+6 // invalid\r\n - 4.3- // invalid\r\n - 30-4 // invalid\r\n - +23. // valid (by your requirements, but it should not be)\r\n - +0.- // invalid\r\n\r\nAll of the above contain nothing but valid characters, but not all are correctly formatted. Once you test these out, you should try using other non-numeric characters.\r\n\r\nYour code should be something like this (in psedocode)\r\n```\r\nIF STRING LENGTH &gt; 4, ERROR (String has too many characters)\r\nIF PERIOD COUNT &gt; 1, ERROR // See * note\r\nIF CHAR AT 0 NOT VALID, ERROR (Special case for symbols, period, or numbers)\r\nIF CHAR AT X NOT VALID, ERROR (index 1-3 can only be numbers or the period)\r\nIF CHAR AT 3 == ., ERROR (Last index cannot be the period)\r\nPRINT STING MESSAGE\r\n```\r\n(*) My suggestion is to use a loop operation to count the number of times the period appears on the String. There are other ways to do this, but my guess is that they are not related to your current lesson. Some of those alternative methods are using regular expressions, using Streams API, using recursion, or using 3rd party libraries. Stay away from any of those solutions.\r\n\r\nIf all the tests passed, then the only thing that will be printed out will be the message containing the valid numeric string.\r\n\r\nLast hint: Do all of the CHAR AT evaluations in a single pass (i.e. loop through your String (array of characters) to determine if the character at any given position is valid. A multiple pass solution is OK, just not elegant or effective.\r\n\r\n&lt;h1&gt;The solution&lt;/h1&gt;\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class NumericStringEvaluator {\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\tSystem.out.print(&quot;Enter a valid four character double literal: &quot;);\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tString input = scanner.next();\r\n\t\tscanner.close();\r\n\r\n\t\tif (input.length() &gt; 4) {\r\n\t\t\tSystem.err.println(&quot;String must be exactly 4 characters&quot;);\r\n\t\t\tSystem.exit(-1);\r\n\t\t}\r\n\t\t//1. Consists of exactly the following characters: ’+’, ’-’ ...\r\n\t\t//2. Either the ’+’ or ’-’ character may appear only as the first character\r\n\t\tif (input.charAt(0) != &#39;+&#39; &amp;&amp; input.charAt(0) != &#39;-&#39;) {\r\n\t\t\tSystem.err.println(&quot;Invalid character at index 0: &quot; + input.charAt(0));\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\r\n\t\tint periodCount = 0;\r\n\t\tfor (int i = 1; i &lt; 4; i++) {\r\n\t\t\tchar c = input.charAt(i);\r\n\t\t\t//1. Consists of ... ’.’ ...\r\n\t\t\tif (c == &#39;.&#39;) {\r\n\t\t\t\tperiodCount++; //3. The ’.’ (decimal point) character must appear exactly once\r\n\t\t\t}\r\n\t\t\t// 1. Consists of ...\t and ’0’ through ’9’\r\n            // 4. All other characters must be the ’0’ through ’9’ characters\r\n\t\t\t// ASCII values for number are 48-57 (anything outside the range is not a number)\r\n\t\t\t// and the special characters have been accounted for already\r\n\t\t\telse if (c &lt; 48 || c &gt; 57) {\r\n\t\t\t\tSystem.err.println(&quot;Invalid character at index &quot; + i + &quot;: &quot; + input.charAt(i));\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// At this point, every character in the string has been validated (no errors found)\r\n\t\t\r\n\t\t//3. The ’.’ (decimal point) character must appear exactly once\r\n\t\tif (periodCount != 1) {\r\n\t\t\tSystem.err.println(&quot;Decimal point appears more than once in numeric String.&quot;);\r\n\t\t\tSystem.exit(0);\r\n\t\t} else {\r\n\t\t\t System.out.print(&quot;\\n&quot; + input + &quot; is a valid four character double literal.&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How do I get these conditions to apply properly in an if statement?","body":"<p>This question can be easily answered by using Regular Expressions and apply the expression to the inputted <code>String</code> object. Although this question is technically correct, it is not correct for the lesson your professor is teaching (which I am guessing is String parsing).</p>\n<p>That said, here are my clues to you:</p>\n<ul>\n<li>Symbols (+ or -) can only be present at character index 0.</li>\n<li>The (decimal) ASCII values for numbers 0-9 are 48-57. Therefore, an ASCII\nvalue outside this range that is not a &quot;+&quot;, &quot;-&quot;, or &quot;.&quot; (43, 45, or\n46 respectively) is an illegal character.</li>\n</ul>\n<p>The next thing you need to do is write down a few combinations of characters and test them out manually. For example:</p>\n<ul>\n<li>1.34 // invalid (first character must be the sign)</li>\n<li>.123 // invalid (first character must be the sign)</li>\n<li>-.98 // valid</li>\n<li>-0.1 // valid</li>\n<li>+2.3 // valid</li>\n<li>2.+6 // invalid</li>\n<li>4.3- // invalid</li>\n<li>30-4 // invalid</li>\n<li>+23. // valid (by your requirements, but it should not be)</li>\n<li>+0.- // invalid</li>\n</ul>\n<p>All of the above contain nothing but valid characters, but not all are correctly formatted. Once you test these out, you should try using other non-numeric characters.</p>\n<p>Your code should be something like this (in psedocode)</p>\n<pre><code>IF STRING LENGTH &gt; 4, ERROR (String has too many characters)\nIF PERIOD COUNT &gt; 1, ERROR // See * note\nIF CHAR AT 0 NOT VALID, ERROR (Special case for symbols, period, or numbers)\nIF CHAR AT X NOT VALID, ERROR (index 1-3 can only be numbers or the period)\nIF CHAR AT 3 == ., ERROR (Last index cannot be the period)\nPRINT STING MESSAGE\n</code></pre>\n<p>(*) My suggestion is to use a loop operation to count the number of times the period appears on the String. There are other ways to do this, but my guess is that they are not related to your current lesson. Some of those alternative methods are using regular expressions, using Streams API, using recursion, or using 3rd party libraries. Stay away from any of those solutions.</p>\n<p>If all the tests passed, then the only thing that will be printed out will be the message containing the valid numeric string.</p>\n<p>Last hint: Do all of the CHAR AT evaluations in a single pass (i.e. loop through your String (array of characters) to determine if the character at any given position is valid. A multiple pass solution is OK, just not elegant or effective.</p>\n<h1>The solution</h1>\n<pre><code>import java.util.Scanner;\n\npublic class NumericStringEvaluator {\n    \n    public static void main (String[] args) {\n        System.out.print(&quot;Enter a valid four character double literal: &quot;);\n        Scanner scanner = new Scanner(System.in);\n        String input = scanner.next();\n        scanner.close();\n\n        if (input.length() &gt; 4) {\n            System.err.println(&quot;String must be exactly 4 characters&quot;);\n            System.exit(-1);\n        }\n        //1. Consists of exactly the following characters: ’+’, ’-’ ...\n        //2. Either the ’+’ or ’-’ character may appear only as the first character\n        if (input.charAt(0) != '+' &amp;&amp; input.charAt(0) != '-') {\n            System.err.println(&quot;Invalid character at index 0: &quot; + input.charAt(0));\n            System.exit(0);\n        }\n\n        int periodCount = 0;\n        for (int i = 1; i &lt; 4; i++) {\n            char c = input.charAt(i);\n            //1. Consists of ... ’.’ ...\n            if (c == '.') {\n                periodCount++; //3. The ’.’ (decimal point) character must appear exactly once\n            }\n            // 1. Consists of ...    and ’0’ through ’9’\n            // 4. All other characters must be the ’0’ through ’9’ characters\n            // ASCII values for number are 48-57 (anything outside the range is not a number)\n            // and the special characters have been accounted for already\n            else if (c &lt; 48 || c &gt; 57) {\n                System.err.println(&quot;Invalid character at index &quot; + i + &quot;: &quot; + input.charAt(i));\n                System.exit(0);\n            }\n        }\n        \n        // At this point, every character in the string has been validated (no errors found)\n        \n        //3. The ’.’ (decimal point) character must appear exactly once\n        if (periodCount != 1) {\n            System.err.println(&quot;Decimal point appears more than once in numeric String.&quot;);\n            System.exit(0);\n        } else {\n             System.out.print(&quot;\\n&quot; + input + &quot; is a valid four character double literal.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23123504,"reputation":1,"user_id":17229692,"display_name":"Fried_Sauer.Kraut"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1640761750,"creation_date":1635015950,"question_id":69691206,"body_markdown":"I am a student going into software engineering and am taking my first computer science class on coding with java. I&#39;m struggling to get my program to apply a certain set of conditions to a String in order to print a message regarding whether or not a user&#39;s input is indeed a valid double literal.\r\n\r\nHere are the conditions: \r\n\r\n1. Consists of exactly the following characters: ’+’, ’-’, ’.’ (decimal point), and ’0’ through ’9’\r\n2. Either the ’+’ or ’-’ character may appear only as the first character\r\n3. The ’.’ (decimal point) character must appear exactly once\r\n4. All other characters must be the ’0’ through ’9’ characters\r\n\r\nAnd here is my code: \r\n```java\r\nString doubleliteral;\r\nint a;\r\nchar j;\r\nchar k;\r\nchar l;\r\nchar m;\r\nchar n;\r\n\r\nSystem.out.print(&quot;Enter a valid four character double literal: &quot;);\r\ndoubleliteral = keyboard.nextLine();\r\n\r\na = doubleliteral.length();\r\nj = doubleliteral.charAt(0);\r\nk = doubleliteral.charAt(1);\r\nl = doubleliteral.charAt(2);\r\nm = doubleliteral.charAt(3);\r\nn = &#39;.&#39;;\r\n\r\nchar i = (char)(a + 0);\r\n\r\n\r\nif (i &lt;= 4)\r\n{\r\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is a valid four character double literal.&quot;);\r\n}\r\n\r\nelse if ((j == &#39;+&#39;) || (j == &#39;-&#39;) || (j &lt;= 9))\r\n{\r\n    \r\n}\r\n\r\nelse if ((k &lt;= 9))\r\n{\r\n    \r\n}\r\n\r\nelse if (l &lt;=9)\r\n{\r\n    \r\n}\r\n\r\nelse if (m &lt;= 9)\r\n{\r\n    \r\n}\r\n\r\nelse if ((j != &#39;.&#39;) &amp;&amp; (k != &#39;.&#39;) &amp;&amp; (l != &#39;.&#39;) &amp;&amp; (m != &#39;.&#39;))\r\n{\r\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);  \r\n}\r\n\r\nelse\r\n{\r\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);\r\n}\r\n\r\nkeyboard.close();\r\n```\r\nI&#39;ve been searching on the internet, in my textbook, and through my professor&#39;s presentations for about three days now trying to figure this out but nothing has come of it, please help. ","title":"How do I get these conditions to apply properly in an if statement?","body":"<p>I am a student going into software engineering and am taking my first computer science class on coding with java. I'm struggling to get my program to apply a certain set of conditions to a String in order to print a message regarding whether or not a user's input is indeed a valid double literal.</p>\n<p>Here are the conditions:</p>\n<ol>\n<li>Consists of exactly the following characters: ’+’, ’-’, ’.’ (decimal point), and ’0’ through ’9’</li>\n<li>Either the ’+’ or ’-’ character may appear only as the first character</li>\n<li>The ’.’ (decimal point) character must appear exactly once</li>\n<li>All other characters must be the ’0’ through ’9’ characters</li>\n</ol>\n<p>And here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String doubleliteral;\nint a;\nchar j;\nchar k;\nchar l;\nchar m;\nchar n;\n\nSystem.out.print(&quot;Enter a valid four character double literal: &quot;);\ndoubleliteral = keyboard.nextLine();\n\na = doubleliteral.length();\nj = doubleliteral.charAt(0);\nk = doubleliteral.charAt(1);\nl = doubleliteral.charAt(2);\nm = doubleliteral.charAt(3);\nn = '.';\n\nchar i = (char)(a + 0);\n\n\nif (i &lt;= 4)\n{\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is a valid four character double literal.&quot;);\n}\n\nelse if ((j == '+') || (j == '-') || (j &lt;= 9))\n{\n    \n}\n\nelse if ((k &lt;= 9))\n{\n    \n}\n\nelse if (l &lt;=9)\n{\n    \n}\n\nelse if (m &lt;= 9)\n{\n    \n}\n\nelse if ((j != '.') &amp;&amp; (k != '.') &amp;&amp; (l != '.') &amp;&amp; (m != '.'))\n{\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);  \n}\n\nelse\n{\n    System.out.print(&quot;\\n&quot; + doubleliteral + &quot; is not a valid four character double literal.&quot;);\n}\n\nkeyboard.close();\n</code></pre>\n<p>I've been searching on the internet, in my textbook, and through my professor's presentations for about three days now trying to figure this out but nothing has come of it, please help.</p>\n"},{"tags":["java","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":23005173,"reputation":11,"user_id":17128573,"display_name":"Tushar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633972623,"creation_date":1633972623,"answer_id":69530144,"question_id":67981468,"body_markdown":"node.value += sumBinaryTree(node.leftchild) + sumBinaryTree(node.rightchild);\r\n\r\nYou are missing that + sign, thats it!! Also there&#39;s no need to put an extra variable for old_val. Just return node.value..","title":"Construct Balanced BST consisting sum of each node and its children The output should be the postOrder traversal of the new binary search tree","body":"<p>node.value += sumBinaryTree(node.leftchild) + sumBinaryTree(node.rightchild);</p>\n<p>You are missing that + sign, thats it!! Also there's no need to put an extra variable for old_val. Just return node.value..</p>\n"},{"tags":[],"owner":{"account_id":23251147,"reputation":11,"user_id":17338922,"display_name":"Moushomi Bose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640761670,"creation_date":1640758854,"answer_id":70515808,"question_id":67981468,"body_markdown":"Try this code for `sumBinaryTree(Node node)` and it should work.\r\n\r\n    int sumBinaryTree(Node2 node)\r\n        {\r\n           \r\n            if(node==null)\r\n                return 0;\r\n    \r\n            node.value += sumBinaryTree(node.leftchild) + \r\n                          sumBinaryTree(node.rightchild);\r\n    \r\n            return node.value ;\r\n    \r\n        }","title":"Construct Balanced BST consisting sum of each node and its children The output should be the postOrder traversal of the new binary search tree","body":"<p>Try this code for <code>sumBinaryTree(Node node)</code> and it should work.</p>\n<pre><code>int sumBinaryTree(Node2 node)\n    {\n       \n        if(node==null)\n            return 0;\n\n        node.value += sumBinaryTree(node.leftchild) + \n                      sumBinaryTree(node.rightchild);\n\n        return node.value ;\n\n    }\n</code></pre>\n"}],"owner":{"account_id":11276405,"reputation":1,"user_id":8270341,"display_name":"Aakarsh Mandloi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":767,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1640761670,"creation_date":1623740429,"question_id":67981468,"body_markdown":"Example:\r\n\r\nSample Input: \r\n\r\n6\r\n\r\n6 10 20 1 51 43\r\n\r\n1 10 6 20 43 51\r\n\r\nSample Output:\r\n\r\n20 6 51 131 94 36\r\n\r\nSample Input:\r\n\r\n5\r\n\r\n40 60 30 20 50\r\n\r\n50 20 30 60 40\r\n\r\nSample Output:\r\n\r\n100 40 200 150 130\r\n\r\n\r\nIn the input, the first value 6 is the size of the tree. The values in the second line correspond to the inorder traversal of the given binary tree, and the last line corresponds to the pre-order traversal of the given binary tree.\r\n\r\nThe output is the post-order traversal of the new binary search tree that is supposed to be constructed with node values separated by spaces.\r\n\r\nBelow is my code but output is not coming properly .\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    import java.util.TreeSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    class Node\r\n    {\r\n        int value;\r\n        Node leftchild, rightchild;\r\n    \r\n        Node(int item)\r\n        {\r\n            value = item;\r\n            leftchild = rightchild = null;\r\n        }\r\n    }\r\n    \r\n    class BinaryTree\r\n    {\r\n        Node root;\r\n        static int preIndex = 0;\r\n        static int index=0;\r\n    \r\n        Node constructTree(int in[], int pre[], int inStrt, int inEnd)\r\n        {\r\n            if (inStrt &gt; inEnd)\r\n                return null;\r\n    \r\n            Node tNode = new Node(pre[preIndex++]);\r\n    \r\n            if (inStrt == inEnd)\r\n                return tNode;\r\n    \r\n            int inIndex = search(in, inStrt, inEnd, tNode.value);\r\n    \r\n            tNode.leftchild = constructTree(in, pre, inStrt, inIndex - 1);\r\n            tNode.rightchild = constructTree(in, pre, inIndex + 1, inEnd);\r\n    \r\n    \r\n            return tNode;\r\n        }\r\n    \r\n        int search(int arr[], int strt, int end, int value)\r\n        {\r\n            int i;\r\n            for (i = strt; i &lt;= end; i++)\r\n            {\r\n                if (arr[i] == value)\r\n                    return i;\r\n            }\r\n            return i;\r\n        }\r\n    \r\n        int sumBinaryTree(Node node)\r\n        {\r\n            // Write the logic to recursively create Binary Tree consisting of sum of all its children\r\n            if (node == null)\r\n                return 0;\r\n    \r\n            // Store the old value\r\n           int old_val = node.value;\r\n    \r\n    \r\n            // Recursively call for left and right subtrees and store the sum\r\n            // as new value of this node\r\n           node.value = sumBinaryTree(node.leftchild) + sumBinaryTree(node.rightchild);\r\n    \r\n    \r\n    \r\n            // Return the sum of values of nodes in left and right subtrees\r\n            // and old_value of this node\r\n           return node.value + old_val;\r\n    \r\n    \r\n        }\r\n    \r\n        void printPostorder(Node node)\r\n        {\r\n            if (node == null)\r\n                return;\r\n    \r\n            // first recur on left subtree\r\n            printPostorder(node.leftchild);\r\n    \r\n            // then recur on right subtree\r\n            printPostorder(node.rightchild);\r\n    \r\n            // now deal with the node\r\n            System.out.print(node.value + &quot; &quot;);\r\n        }\r\n    \r\n        void inOrder(Node node, int array[])\r\n        {\r\n            if (node == null)\r\n                return;\r\n            inOrder(node.leftchild, array);\r\n            array[index++] = node.value;\r\n            inOrder(node.rightchild, array);\r\n    \r\n        }\r\n    \r\n        Node ArrayToBST(int arr[], int start, int end) {\r\n            // Write logic to convert the array representing Binary Tree to Binary Search Tree\r\n            if (start &gt; end) {\r\n                return null;\r\n            }\r\n    \r\n            /* Get the middle element and make it root */\r\n            int mid = (start + end) / 2;\r\n            Node node = new Node(arr[mid]);\r\n    \r\n            /* Recursively construct the left subtree and make it\r\n             left child of root */\r\n            node.leftchild = ArrayToBST(arr, start, mid - 1);\r\n    \r\n            /* Recursively construct the right subtree and make it\r\n             right child of root */\r\n            node.rightchild = ArrayToBST(arr, mid + 1, end);\r\n    \r\n            return node;\r\n        }\r\n    }\r\n    class Source{\r\n    \r\n        // driver program to test above functions\r\n        public static void main(String args[])\r\n        {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int len = scanner.nextInt();\r\n            int in[] = new int[len];\r\n            int pre[] = new int[len];\r\n            for(int i=0;i&lt;len;i++){\r\n                in[i] = scanner.nextInt();\r\n            }\r\n            for(int i=0;i&lt;len;i++){\r\n                pre[i] = scanner.nextInt();\r\n            }\r\n            BinaryTree tree = new BinaryTree();\r\n            Node root = tree.constructTree(in, pre, 0, len - 1);\r\n    \r\n            tree.sumBinaryTree(root);\r\n            int inSumTree[] = new int[len];\r\n            for(int i=0;i&lt;=inSumTree.length;i++)\r\n            {\r\n                System.out.println(inSumTree[i]);\r\n            }\r\n    \r\n            tree.inOrder(root, inSumTree);\r\n            Arrays.sort(inSumTree);\r\n            Node bstRoot = tree.ArrayToBST(inSumTree, 0, len-1);\r\n            tree.printPostorder(bstRoot);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Construct Balanced BST consisting sum of each node and its children The output should be the postOrder traversal of the new binary search tree","body":"<p>Example:</p>\n<p>Sample Input:</p>\n<p>6</p>\n<p>6 10 20 1 51 43</p>\n<p>1 10 6 20 43 51</p>\n<p>Sample Output:</p>\n<p>20 6 51 131 94 36</p>\n<p>Sample Input:</p>\n<p>5</p>\n<p>40 60 30 20 50</p>\n<p>50 20 30 60 40</p>\n<p>Sample Output:</p>\n<p>100 40 200 150 130</p>\n<p>In the input, the first value 6 is the size of the tree. The values in the second line correspond to the inorder traversal of the given binary tree, and the last line corresponds to the pre-order traversal of the given binary tree.</p>\n<p>The output is the post-order traversal of the new binary search tree that is supposed to be constructed with node values separated by spaces.</p>\n<p>Below is my code but output is not coming properly .</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\nimport java.util.TreeSet;\nimport java.util.Iterator;\nimport java.util.Set;\nclass Node\n{\n    int value;\n    Node leftchild, rightchild;\n\n    Node(int item)\n    {\n        value = item;\n        leftchild = rightchild = null;\n    }\n}\n\nclass BinaryTree\n{\n    Node root;\n    static int preIndex = 0;\n    static int index=0;\n\n    Node constructTree(int in[], int pre[], int inStrt, int inEnd)\n    {\n        if (inStrt &gt; inEnd)\n            return null;\n\n        Node tNode = new Node(pre[preIndex++]);\n\n        if (inStrt == inEnd)\n            return tNode;\n\n        int inIndex = search(in, inStrt, inEnd, tNode.value);\n\n        tNode.leftchild = constructTree(in, pre, inStrt, inIndex - 1);\n        tNode.rightchild = constructTree(in, pre, inIndex + 1, inEnd);\n\n\n        return tNode;\n    }\n\n    int search(int arr[], int strt, int end, int value)\n    {\n        int i;\n        for (i = strt; i &lt;= end; i++)\n        {\n            if (arr[i] == value)\n                return i;\n        }\n        return i;\n    }\n\n    int sumBinaryTree(Node node)\n    {\n        // Write the logic to recursively create Binary Tree consisting of sum of all its children\n        if (node == null)\n            return 0;\n\n        // Store the old value\n       int old_val = node.value;\n\n\n        // Recursively call for left and right subtrees and store the sum\n        // as new value of this node\n       node.value = sumBinaryTree(node.leftchild) + sumBinaryTree(node.rightchild);\n\n\n\n        // Return the sum of values of nodes in left and right subtrees\n        // and old_value of this node\n       return node.value + old_val;\n\n\n    }\n\n    void printPostorder(Node node)\n    {\n        if (node == null)\n            return;\n\n        // first recur on left subtree\n        printPostorder(node.leftchild);\n\n        // then recur on right subtree\n        printPostorder(node.rightchild);\n\n        // now deal with the node\n        System.out.print(node.value + &quot; &quot;);\n    }\n\n    void inOrder(Node node, int array[])\n    {\n        if (node == null)\n            return;\n        inOrder(node.leftchild, array);\n        array[index++] = node.value;\n        inOrder(node.rightchild, array);\n\n    }\n\n    Node ArrayToBST(int arr[], int start, int end) {\n        // Write logic to convert the array representing Binary Tree to Binary Search Tree\n        if (start &gt; end) {\n            return null;\n        }\n\n        /* Get the middle element and make it root */\n        int mid = (start + end) / 2;\n        Node node = new Node(arr[mid]);\n\n        /* Recursively construct the left subtree and make it\n         left child of root */\n        node.leftchild = ArrayToBST(arr, start, mid - 1);\n\n        /* Recursively construct the right subtree and make it\n         right child of root */\n        node.rightchild = ArrayToBST(arr, mid + 1, end);\n\n        return node;\n    }\n}\nclass Source{\n\n    // driver program to test above functions\n    public static void main(String args[])\n    {\n        Scanner scanner = new Scanner(System.in);\n        int len = scanner.nextInt();\n        int in[] = new int[len];\n        int pre[] = new int[len];\n        for(int i=0;i&lt;len;i++){\n            in[i] = scanner.nextInt();\n        }\n        for(int i=0;i&lt;len;i++){\n            pre[i] = scanner.nextInt();\n        }\n        BinaryTree tree = new BinaryTree();\n        Node root = tree.constructTree(in, pre, 0, len - 1);\n\n        tree.sumBinaryTree(root);\n        int inSumTree[] = new int[len];\n        for(int i=0;i&lt;=inSumTree.length;i++)\n        {\n            System.out.println(inSumTree[i]);\n        }\n\n        tree.inOrder(root, inSumTree);\n        Arrays.sort(inSumTree);\n        Node bstRoot = tree.ArrayToBST(inSumTree, 0, len-1);\n        tree.printPostorder(bstRoot);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","image","icons","launch4j","ico"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1427941840,"post_id":29404012,"comment_id":46983233,"body_markdown":"Does your icon have multiple resolutions, 16, 24, 32, 64?","body":"Does your icon have multiple resolutions, 16, 24, 32, 64?"},{"owner":{"account_id":5675710,"reputation":109,"user_id":4488958,"accept_rate":89,"display_name":"Graysull"},"score":0,"creation_date":1427986336,"post_id":29404012,"comment_id":47004111,"body_markdown":"I used a PNG to ICO converter, the image has a native resolution of 512x512. I&#39;m guessing this is a no to your question, and I would need help  because I don&#39;t know how to make an icon have multiple resolutions.","body":"I used a PNG to ICO converter, the image has a native resolution of 512x512. I&#39;m guessing this is a no to your question, and I would need help  because I don&#39;t know how to make an icon have multiple resolutions."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1428007339,"post_id":29404012,"comment_id":47015736,"body_markdown":"First, crack open you favourite image editor, creat multiple different resolutions of you image, I like having 16, 24, 32, 64 and 128, save these as separate files. Use something like [image4j](http://image4j.sourceforge.net/) which will allow you to write multiple images to an ico","body":"First, crack open you favourite image editor, creat multiple different resolutions of you image, I like having 16, 24, 32, 64 and 128, save these as separate files. Use something like <a href=\"http://image4j.sourceforge.net/\" rel=\"nofollow noreferrer\">image4j</a> which will allow you to write multiple images to an ico"}],"answers":[{"tags":[],"owner":{"account_id":15307153,"reputation":11,"user_id":11043489,"display_name":"Abelardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640761661,"creation_date":1640761661,"answer_id":70516166,"question_id":29404012,"body_markdown":"Use [GIMP](https://www.gimp.org/downloads/) to create an icon with multiple resolutions.\r\n\r\nReferences:\r\n  * [Creating an .ico file with multiple sizes - web application](https://graphicdesign.stackexchange.com/questions/17257/creating-an-ico-file-with-multiple-sizes-web-application)\r\n  \r\n  * [Make several PNGs into one ICO file [closed]](https://stackoverflow.com/questions/4808600/make-several-pngs-into-one-ico-file)\r\n  \r\n  * [Creating a multi-resolution favicon including transparency with the GIMP](https://www.catalyst.net.nz/news/creating-multi-resolution-favicon-including-transparency-gimp)\r\n","title":"Launch4j Icon Image Quality","body":"<p>Use <a href=\"https://www.gimp.org/downloads/\" rel=\"nofollow noreferrer\">GIMP</a> to create an icon with multiple resolutions.</p>\n<p>References:</p>\n<ul>\n<li><p><a href=\"https://graphicdesign.stackexchange.com/questions/17257/creating-an-ico-file-with-multiple-sizes-web-application\">Creating an .ico file with multiple sizes - web application</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/4808600/make-several-pngs-into-one-ico-file\">Make several PNGs into one ICO file [closed]</a></p>\n</li>\n<li><p><a href=\"https://www.catalyst.net.nz/news/creating-multi-resolution-favicon-including-transparency-gimp\" rel=\"nofollow noreferrer\">Creating a multi-resolution favicon including transparency with the GIMP</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":5675710,"reputation":109,"user_id":4488958,"accept_rate":89,"display_name":"Graysull"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640761661,"creation_date":1427941419,"question_id":29404012,"body_markdown":"I am currently using Launch4j to convert my JAR files to EXEs. While I was doing this, I added an image icon (ico). Now when I compile the program and the EXE is made, the icon image quality isn&#39;t great. But then if I rename the file, the quality is fine. Can someone tell me what is going on here and how to make it so that I don&#39;t have to rename the file to have good icon image quality? Thanks. ","title":"Launch4j Icon Image Quality","body":"<p>I am currently using Launch4j to convert my JAR files to EXEs. While I was doing this, I added an image icon (ico). Now when I compile the program and the EXE is made, the icon image quality isn't great. But then if I rename the file, the quality is fine. Can someone tell me what is going on here and how to make it so that I don't have to rename the file to have good icon image quality? Thanks. </p>\n"},{"tags":["java","macos","jmeter","clipboard","copy-paste"],"comments":[{"owner":{"account_id":2102530,"reputation":351,"user_id":1869746,"display_name":"Alan Gerber"},"score":0,"creation_date":1391207179,"post_id":21414435,"comment_id":32440681,"body_markdown":"I have run the example provided below, and don&#39;t have trouble copying text from it and pasting it in other programs. It appears, then, that the trouble&#39;s with JMeter.","body":"I have run the example provided below, and don&#39;t have trouble copying text from it and pasting it in other programs. It appears, then, that the trouble&#39;s with JMeter."},{"owner":{"account_id":1596692,"reputation":4260,"user_id":1478636,"accept_rate":88,"display_name":"Niko"},"score":0,"creation_date":1395855511,"post_id":21414435,"comment_id":34531696,"body_markdown":"I am literally in the exact same boat as you, after upgrading to 2.11 from 2.9. I&#39;ve tried everything I can find, but I haven&#39;t been able to fix it. I don&#39;t know if this helps, but I opened an issue: https://issues.apache.org/bugzilla/show_bug.cgi?id=56319","body":"I am literally in the exact same boat as you, after upgrading to 2.11 from 2.9. I&#39;ve tried everything I can find, but I haven&#39;t been able to fix it. I don&#39;t know if this helps, but I opened an issue: <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=56319\" rel=\"nofollow noreferrer\">issues.apache.org/bugzilla/show_bug.cgi?id=56319</a>"}],"answers":[{"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410211522,"creation_date":1390942628,"answer_id":21416655,"question_id":21414435,"body_markdown":"Could you try this example from swing :\r\n\r\n- http://docs.oracle.com/javase/tutorial/uiswing/examples/dnd/index.html#ListCutPaste\r\n\r\nThis is to see if it&#39;s a JDK issue on Mavericks or JMeter one.\r\n\r\nUPDATE on 8 september 2014:\r\n- Issue has been fixed, could you test [Nightly Build ][1]\r\n\r\n&gt; Installing JMeter runtime\r\n \r\n&gt;  Download the _bin and _lib files\r\n\r\n&gt;  Unpack the archives into the same directory structure\r\n\r\n&gt;  The other archives are not needed to run JMeter. \r\n\r\n  [1]: http://jmeter.apache.org/nightly.html","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>Could you try this example from swing :</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/examples/dnd/index.html#ListCutPaste\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/examples/dnd/index.html#ListCutPaste</a></li>\n</ul>\n\n<p>This is to see if it's a JDK issue on Mavericks or JMeter one.</p>\n\n<p>UPDATE on 8 september 2014:\n- Issue has been fixed, could you test <a href=\"http://jmeter.apache.org/nightly.html\" rel=\"nofollow\">Nightly Build </a></p>\n\n<blockquote>\n  <p>Installing JMeter runtime</p>\n  \n  <p>Download the _bin and _lib files</p>\n  \n  <p>Unpack the archives into the same directory structure</p>\n  \n  <p>The other archives are not needed to run JMeter. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3084691,"reputation":103,"user_id":2612102,"display_name":"Santosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391252536,"creation_date":1391250366,"answer_id":21496846,"question_id":21414435,"body_markdown":"I was facing same issue with JMeter 2.11.\r\n\r\nI saw the error below when I attempt to copy paste.\r\n\r\n2014-02-01 10:28:08.166 java[80082:2517] *** CPerformer: ignoring exception &#39;*** -[__NSArrayM insertObject:atIndex:]: object cannot be nil&#39; raised during perform of selector &#39;_nativeGetTypes:&#39; on target &#39;&lt;CClipboard: 0x7ff2734e6240&gt;&#39; with args &#39;(\r\n)&#39;\r\n\r\nI stopped X11 (XQuartz) server in order to resolve the issue.","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>I was facing same issue with JMeter 2.11.</p>\n\n<p>I saw the error below when I attempt to copy paste.</p>\n\n<p>2014-02-01 10:28:08.166 java[80082:2517] <strong>* CPerformer: ignoring exception '*</strong> -[__NSArrayM insertObject:atIndex:]: object cannot be nil' raised during perform of selector '_nativeGetTypes:' on target '' with args '(\n)'</p>\n\n<p>I stopped X11 (XQuartz) server in order to resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":3576692,"reputation":56,"user_id":2985743,"display_name":"Shaun Domingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399330871,"creation_date":1399330871,"answer_id":23483327,"question_id":21414435,"body_markdown":"Any time I try and paste copied text into JMeter from the OS I get the same issue. The same issue occurs when trying to paste into another application based on text copied in JMeter.\r\n\r\nCopy + Paste is fine within JMeter itself (i.e. copy + paste within the Java application itself works fine).\r\n\r\nMy environment is OSX 10.9.2, JMeter 2.11 r1554548, java version &quot;1.7.0_55&quot;.\r\n\r\nThis is the error you get every time you try and paste into the app from the system clipboard:\r\n\r\n    2014-05-06 08:32:52.363 java[22814:d07] *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil\r\n    2014-05-06 08:32:52.364 java[22814:d07] (\r\n            0   CoreFoundation                      0x00007fff8e63f25c __exceptionPreprocess + 172\r\n            1   libobjc.A.dylib                     0x00007fff8b0b7e75 objc_exception_throw + 43\r\n            2   CoreFoundation                      0x00007fff8e5006c7 -[__NSArrayM insertObject:atIndex:] + 951\r\n            3   Foundation                          0x00007fff8eeb913e __NSThreadPerformPerform + 229\r\n            4   CoreFoundation                      0x00007fff8e570731 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\r\n            5   CoreFoundation                      0x00007fff8e561ea2 __CFRunLoopDoSources0 + 242\r\n            6   CoreFoundation                      0x00007fff8e56162f __CFRunLoopRun + 831\r\n            7   CoreFoundation                      0x00007fff8e5610b5 CFRunLoopRunSpecific + 309\r\n            8   HIToolbox                           0x00007fff84fe3a0d RunCurrentEventLoopInMode + 226\r\n            9   HIToolbox                           0x00007fff84fe37b7 ReceiveNextEventCommon + 479\r\n            10  HIToolbox                           0x00007fff84fe35bc _BlockUntilNextEventMatchingListInModeWithFilter + 65\r\n            11  AppKit                              0x00007fff8856d3de _DPSNextEvent + 1434\r\n            12  AppKit                              0x00007fff8856ca2b -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 122\r\n            13  libosxapp.dylib                     0x000000011533c4e3 -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:] + 124\r\n            14  AppKit                              0x00007fff88560b2c -[NSApplication run] + 553\r\n            15  libosxapp.dylib                     0x000000011533c346 +[NSApplicationAWT runAWTLoopWithApp:] + 156\r\n            16  liblwawt.dylib                      0x0000000115bb7999 -[AWTStarter starter:] + 873\r\n            17  Foundation                          0x00007fff8eeb913e __NSThreadPerformPerform + 229\r\n            18  CoreFoundation                      0x00007fff8e570731 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\r\n            19  CoreFoundation                      0x00007fff8e561ea2 __CFRunLoopDoSources0 + 242\r\n            20  CoreFoundation                      0x00007fff8e56162f __CFRunLoopRun + 831\r\n            21  CoreFoundation                      0x00007fff8e5610b5 CFRunLoopRunSpecific + 309\r\n            22  java                                0x000000010a5183b0 CreateExecutionEnvironment + 871\r\n            23  java                                0x000000010a512b5c JLI_Launch + 1952\r\n            24  java                                0x000000010a51870d main + 101\r\n            25  java                                0x000000010a5123b4 start + 52\r\n            26  ???                                 0x0000000000000007 0x0 + 7\r\n)","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>Any time I try and paste copied text into JMeter from the OS I get the same issue. The same issue occurs when trying to paste into another application based on text copied in JMeter.</p>\n\n<p>Copy + Paste is fine within JMeter itself (i.e. copy + paste within the Java application itself works fine).</p>\n\n<p>My environment is OSX 10.9.2, JMeter 2.11 r1554548, java version \"1.7.0_55\".</p>\n\n<p>This is the error you get every time you try and paste into the app from the system clipboard:</p>\n\n<pre><code>2014-05-06 08:32:52.363 java[22814:d07] *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil\n2014-05-06 08:32:52.364 java[22814:d07] (\n        0   CoreFoundation                      0x00007fff8e63f25c __exceptionPreprocess + 172\n        1   libobjc.A.dylib                     0x00007fff8b0b7e75 objc_exception_throw + 43\n        2   CoreFoundation                      0x00007fff8e5006c7 -[__NSArrayM insertObject:atIndex:] + 951\n        3   Foundation                          0x00007fff8eeb913e __NSThreadPerformPerform + 229\n        4   CoreFoundation                      0x00007fff8e570731 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n        5   CoreFoundation                      0x00007fff8e561ea2 __CFRunLoopDoSources0 + 242\n        6   CoreFoundation                      0x00007fff8e56162f __CFRunLoopRun + 831\n        7   CoreFoundation                      0x00007fff8e5610b5 CFRunLoopRunSpecific + 309\n        8   HIToolbox                           0x00007fff84fe3a0d RunCurrentEventLoopInMode + 226\n        9   HIToolbox                           0x00007fff84fe37b7 ReceiveNextEventCommon + 479\n        10  HIToolbox                           0x00007fff84fe35bc _BlockUntilNextEventMatchingListInModeWithFilter + 65\n        11  AppKit                              0x00007fff8856d3de _DPSNextEvent + 1434\n        12  AppKit                              0x00007fff8856ca2b -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 122\n        13  libosxapp.dylib                     0x000000011533c4e3 -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:] + 124\n        14  AppKit                              0x00007fff88560b2c -[NSApplication run] + 553\n        15  libosxapp.dylib                     0x000000011533c346 +[NSApplicationAWT runAWTLoopWithApp:] + 156\n        16  liblwawt.dylib                      0x0000000115bb7999 -[AWTStarter starter:] + 873\n        17  Foundation                          0x00007fff8eeb913e __NSThreadPerformPerform + 229\n        18  CoreFoundation                      0x00007fff8e570731 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n        19  CoreFoundation                      0x00007fff8e561ea2 __CFRunLoopDoSources0 + 242\n        20  CoreFoundation                      0x00007fff8e56162f __CFRunLoopRun + 831\n        21  CoreFoundation                      0x00007fff8e5610b5 CFRunLoopRunSpecific + 309\n        22  java                                0x000000010a5183b0 CreateExecutionEnvironment + 871\n        23  java                                0x000000010a512b5c JLI_Launch + 1952\n        24  java                                0x000000010a51870d main + 101\n        25  java                                0x000000010a5123b4 start + 52\n        26  ???                                 0x0000000000000007 0x0 + 7\n</code></pre>\n\n<p>)</p>\n"},{"tags":[],"owner":{"account_id":2102530,"reputation":351,"user_id":1869746,"display_name":"Alan Gerber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1418935843,"creation_date":1418935843,"answer_id":27555449,"question_id":21414435,"body_markdown":"Copy-paste behavior on Mac is much improved in JMeter 2.12.","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>Copy-paste behavior on Mac is much improved in JMeter 2.12.</p>\n"},{"tags":[],"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640761426,"creation_date":1640761426,"answer_id":70516128,"question_id":21414435,"body_markdown":"What worked for me on JDK 14 and JMeter 5.4.3 is changing the Look and Feel settings to `System`.\r\n\r\n`Options -&gt; Look and Feel -&gt; System`","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>What worked for me on JDK 14 and JMeter 5.4.3 is changing the Look and Feel settings to <code>System</code>.</p>\n<p><code>Options -&gt; Look and Feel -&gt; System</code></p>\n"}],"owner":{"account_id":2102530,"reputation":351,"user_id":1869746,"display_name":"Alan Gerber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1386,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27555449,"answer_count":5,"score":2,"last_activity_date":1640761426,"creation_date":1390935533,"question_id":21414435,"body_markdown":"I am having no luck using the clipboard to copy/paste text between other applications and JMeter or vice-versa. I am able to copy-paste text and test elements within JMeter.\r\n\r\nI&#39;m running JMeter 2.11 via the binary distribution by running &#39;bin/jmeter.sh&#39; on OS X 10.9.1 running Java 1.7.0_45. I have attempted to use the clipboard with System and Mac OS X look-and-feels, per this previous question: https://stackoverflow.com/questions/14986692/strangely-copying-and-pasting-a-text-in-jmeter-is-not-working-for-in-mac\r\n\r\nI have also attempted, with no luck, this procedure to grant system clipboard permission to AWT:\r\nhttp://www.shodor.org/interactivate/resources/InstructionsCopyPaste/\r\n\r\nAny advice on what I can do to get JMeter to share a clipboard with the rest of the system?\r\n","title":"Copy/Paste fails on MacOsX in JMeter","body":"<p>I am having no luck using the clipboard to copy/paste text between other applications and JMeter or vice-versa. I am able to copy-paste text and test elements within JMeter.</p>\n\n<p>I'm running JMeter 2.11 via the binary distribution by running 'bin/jmeter.sh' on OS X 10.9.1 running Java 1.7.0_45. I have attempted to use the clipboard with System and Mac OS X look-and-feels, per this previous question: <a href=\"https://stackoverflow.com/questions/14986692/strangely-copying-and-pasting-a-text-in-jmeter-is-not-working-for-in-mac\">Strangely copying and pasting a text in Jmeter is not working for in Mac</a></p>\n\n<p>I have also attempted, with no luck, this procedure to grant system clipboard permission to AWT:\n<a href=\"http://www.shodor.org/interactivate/resources/InstructionsCopyPaste/\" rel=\"nofollow noreferrer\">http://www.shodor.org/interactivate/resources/InstructionsCopyPaste/</a></p>\n\n<p>Any advice on what I can do to get JMeter to share a clipboard with the rest of the system?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6966169,"reputation":377,"user_id":5344111,"display_name":"AlexCharizamhard"},"score":0,"creation_date":1457981976,"post_id":35946717,"comment_id":59644254,"body_markdown":"Is this a Java Applet? If so Selenium does not support these types of applications.","body":"Is this a Java Applet? If so Selenium does not support these types of applications."},{"owner":{"account_id":8023124,"reputation":81,"user_id":6051147,"display_name":"Oscar R"},"score":0,"creation_date":1458058852,"post_id":35946717,"comment_id":59684816,"body_markdown":"No, not an applet.  I have actually automated this using QTP before and there is obviously no issue there.  The object in QTP&#39;s Object Repository is listed as a &quot;Window&quot; with its own &quot;Page&quot; child (and the &quot;OK&quot; WebButton as child of &quot;Page&quot;)","body":"No, not an applet.  I have actually automated this using QTP before and there is obviously no issue there.  The object in QTP&#39;s Object Repository is listed as a &quot;Window&quot; with its own &quot;Page&quot; child (and the &quot;OK&quot; WebButton as child of &quot;Page&quot;)"},{"owner":{"account_id":1615706,"reputation":5192,"user_id":1493480,"accept_rate":73,"display_name":"Mistu4u"},"score":0,"creation_date":1533488729,"post_id":35946717,"comment_id":90354261,"body_markdown":"For me , event `Robot` is not working, God knows why!","body":"For me , event <code>Robot</code> is not working, God knows why!"}],"answers":[{"tags":[],"owner":{"account_id":4629872,"reputation":416,"user_id":4021006,"accept_rate":61,"display_name":"phil o.O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457724314,"creation_date":1457724314,"answer_id":35948321,"question_id":35946717,"body_markdown":"Create an If statement in terms of a boolean variable to check for the existence of a modal pop up that does not display 100% of the time. \n\nIf the modal is html generated (which it should be, if it holds dynamic content), then try:\n\n&gt; driver.switchTo().activeElement();\n&gt;\n&gt; driver.switchTo().defaultContent();\n\nAlso, you may have to insert a wait so that the html has time to generate.\n\nIf the modal is a browser alert, then try:\n&gt; alert.accept();","title":"Is there a definite Selenium solution to modal pop up dialogs in Internet Explorer with Java?","body":"<p>Create an If statement in terms of a boolean variable to check for the existence of a modal pop up that does not display 100% of the time.</p>\n<p>If the modal is html generated (which it should be, if it holds dynamic content), then try:</p>\n<blockquote>\n<p>driver.switchTo().activeElement();</p>\n<p>driver.switchTo().defaultContent();</p>\n</blockquote>\n<p>Also, you may have to insert a wait so that the html has time to generate.</p>\n<p>If the modal is a browser alert, then try:</p>\n<blockquote>\n<p>alert.accept();</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640761345,"creation_date":1551119199,"answer_id":54872519,"question_id":35946717,"body_markdown":"You should use `WebDriverWait` with some expected condition. For example,\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 5); // sets timeout to 5 seconds\r\nwait.until(...); // Use ExpectedCondition to set the condition you need to check for (i.e. element to be clickable, frame to be visible, etc.)\r\n// Do your thing.\r\n```\r\nThe `until` method will return an object type relative to the function passed. For example, `until(ExpectedConditions.elementToBeClickable(...));` will return a `WebElement` object you can use to exert an action on (like clicking on it).\r\n\r\nLastly, you should wrap those lines in a try/catch and handle the `TimeoutException` the wait method will throw if the condition never arises.\r\n\r\nTo summarize, structurally, your code should look something like this:\r\n```\r\n// instantiate the WebDriver\r\n...\r\nint timeoutMax = 2; // The maximum number of seconds you wish to wait before timing out (let&#39;s assume 2 seconds is reasonable for your case)\r\ntry {\r\n    By checkboxLocator = By.id(&quot;checkboxID&quot;); // Locate element by some criteria (id, css, xpath). Using by ID for illustration purposes only\r\n    By buttonLocator = By.id(&quot;buttonID&quot;); // same as above\r\n    By popupLocator = By.id(&quot;frameid&quot;); // same as above\r\n    WebDriverWait wait = new WebDriverWait(driver, timeoutMax);\r\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(popupLocator)); // assuming it is an iframe\r\n\r\n    // The next lines will not be executed if the &quot;Don&#39;t display this again&quot; and clicking &quot;OK&quot; were clicked before (locating the frame will timeout because it not be visible)\r\n    WebElement checkbox = wait.until(ExpectedConditions.elementToBeClickable(checkboxLocator));\r\n    WebElement okBtn = wait.until(ExpectedConditions.elementToBeClickable(checkboxLocator));\r\n    checkbox.click();\r\n    okBtn.click();\r\n    driver.switchTo().defaultContent(); // Switch back to default window\r\n} catch (TimeoutException exc) {\r\n    // Handle exception (i.e. log a warning) - This should be thrown as long as the modal dialog doesn&#39;t become visible\r\n    // If modal dialog ever becomes visible again, clicking on the checkbox and OK button will be executed again.\r\n}\r\n```\r\nSomething like this should work. Of course, this make some assumptions that might not be true for your case. However, if you use the right locating technique for your modal dialog, you should be able to:\r\n\r\n 1. Locate the modal window (use By class to locate it)\r\n 2. Use `WebDriverWait` to setup your timeout conditions\r\n 3. Tell the driver to switch to it (if this times out, skip steps 3, 4, and 5)\r\n 4. Locate the checkbox and OK buttons\r\n 5. Click the checkbox and the OK button in that order\r\n 6. Tell the driver to switch back to the main window\r\n 7. Continue with your test","title":"Is there a definite Selenium solution to modal pop up dialogs in Internet Explorer with Java?","body":"<p>You should use <code>WebDriverWait</code> with some expected condition. For example,</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 5); // sets timeout to 5 seconds\nwait.until(...); // Use ExpectedCondition to set the condition you need to check for (i.e. element to be clickable, frame to be visible, etc.)\n// Do your thing.\n</code></pre>\n<p>The <code>until</code> method will return an object type relative to the function passed. For example, <code>until(ExpectedConditions.elementToBeClickable(...));</code> will return a <code>WebElement</code> object you can use to exert an action on (like clicking on it).</p>\n<p>Lastly, you should wrap those lines in a try/catch and handle the <code>TimeoutException</code> the wait method will throw if the condition never arises.</p>\n<p>To summarize, structurally, your code should look something like this:</p>\n<pre><code>// instantiate the WebDriver\n...\nint timeoutMax = 2; // The maximum number of seconds you wish to wait before timing out (let's assume 2 seconds is reasonable for your case)\ntry {\n    By checkboxLocator = By.id(&quot;checkboxID&quot;); // Locate element by some criteria (id, css, xpath). Using by ID for illustration purposes only\n    By buttonLocator = By.id(&quot;buttonID&quot;); // same as above\n    By popupLocator = By.id(&quot;frameid&quot;); // same as above\n    WebDriverWait wait = new WebDriverWait(driver, timeoutMax);\n    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(popupLocator)); // assuming it is an iframe\n\n    // The next lines will not be executed if the &quot;Don't display this again&quot; and clicking &quot;OK&quot; were clicked before (locating the frame will timeout because it not be visible)\n    WebElement checkbox = wait.until(ExpectedConditions.elementToBeClickable(checkboxLocator));\n    WebElement okBtn = wait.until(ExpectedConditions.elementToBeClickable(checkboxLocator));\n    checkbox.click();\n    okBtn.click();\n    driver.switchTo().defaultContent(); // Switch back to default window\n} catch (TimeoutException exc) {\n    // Handle exception (i.e. log a warning) - This should be thrown as long as the modal dialog doesn't become visible\n    // If modal dialog ever becomes visible again, clicking on the checkbox and OK button will be executed again.\n}\n</code></pre>\n<p>Something like this should work. Of course, this make some assumptions that might not be true for your case. However, if you use the right locating technique for your modal dialog, you should be able to:</p>\n<ol>\n<li>Locate the modal window (use By class to locate it)</li>\n<li>Use <code>WebDriverWait</code> to setup your timeout conditions</li>\n<li>Tell the driver to switch to it (if this times out, skip steps 3, 4, and 5)</li>\n<li>Locate the checkbox and OK buttons</li>\n<li>Click the checkbox and the OK button in that order</li>\n<li>Tell the driver to switch back to the main window</li>\n<li>Continue with your test</li>\n</ol>\n"}],"owner":{"account_id":8023124,"reputation":81,"user_id":6051147,"display_name":"Oscar R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12431,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1640761345,"creation_date":1457718562,"question_id":35946717,"body_markdown":"I have searched many, many places for a solution to my problem, but haven&#39;t found it.  I figured that by now, Selenium would have provided a straight forward and simple solution to handling modal windows/dialogs from Internet Explorer using Java.\r\n\r\nThe web application that I am testing has the following characteristics:\r\n\r\n - It is ONLY supported by Internet Explorer (no way around this)\r\n - Main page accepts a userid and password, with a &quot;Login&quot; button\r\n - Upon login and on page load, there is a pop up &quot;Welcome - What&#39;s new&quot; window with a checkbox to &quot;Don&#39;t display this again&quot; and an &quot;OK&quot; button to dismiss the window.\r\n - I cannot do anything to the parent window until I dismiss the pop up window\r\n - Right-click is disabled on the pop-up window (however, I can see the source code by opening the F12 tools before login and window pop-up)\r\n\r\nThis is what I&#39;ve tried:\r\n\r\n - `getWindowHandles()` always returns 1 for the parent window, so this makes `driver.switchTo(handle)` not-applicable\r\n - It is not an alert, so `driver.switchTo().alert()` or `accept()` do not work\r\n - `findElement(By whatever)` will NOT find any elements in the pop up window (like the &quot;OK&quot; button or the checkbox, etc.)\r\n - `Robot` class is the only thing that I have seen work, where I can send keypresses to navigate to the &quot;OK&quot; button and click it to dismiss the window...\r\n\r\nHere is my issue:\r\n\r\n - Since there is a checkbox to &quot;Don&#39;t show this again&quot;, there are users for which this modal pop up window will display and some for which it won&#39;t.  I need to account for both cases\r\n - I need to find a 100% sure way to know whether the pop up is displayed or not.  If I have this information, I can make use of the Robot class (although &quot;dirty&quot;) to perform actions on the pop up if needed\r\n - I tried finding out if the parent window elements are enabled using `isEnabled()`, but even though items are not manually &quot;clickable&quot; while the modal pop up window is displayed, `isEnabled()` always returns TRUE--so this does not work--is there a better way to check for this for the &quot;blocked&quot; elements in the background?\r\n\r\nMy questions:\r\n\r\n - How do you check for the existence of a modal pop up that does not display 100% of the time? (on Internet Explorer 10, using Selenium with Java)\r\n - Besides using Robot class, how do you interact with the actual Elements in a modal pop-up dialog (for example, dynamic Radio Buttons that don&#39;t always display the same options to the user)?\r\n\r\nThank you.","title":"Is there a definite Selenium solution to modal pop up dialogs in Internet Explorer with Java?","body":"<p>I have searched many, many places for a solution to my problem, but haven't found it.  I figured that by now, Selenium would have provided a straight forward and simple solution to handling modal windows/dialogs from Internet Explorer using Java.</p>\n\n<p>The web application that I am testing has the following characteristics:</p>\n\n<ul>\n<li>It is ONLY supported by Internet Explorer (no way around this)</li>\n<li>Main page accepts a userid and password, with a \"Login\" button</li>\n<li>Upon login and on page load, there is a pop up \"Welcome - What's new\" window with a checkbox to \"Don't display this again\" and an \"OK\" button to dismiss the window.</li>\n<li>I cannot do anything to the parent window until I dismiss the pop up window</li>\n<li>Right-click is disabled on the pop-up window (however, I can see the source code by opening the F12 tools before login and window pop-up)</li>\n</ul>\n\n<p>This is what I've tried:</p>\n\n<ul>\n<li><code>getWindowHandles()</code> always returns 1 for the parent window, so this makes <code>driver.switchTo(handle)</code> not-applicable</li>\n<li>It is not an alert, so <code>driver.switchTo().alert()</code> or <code>accept()</code> do not work</li>\n<li><code>findElement(By whatever)</code> will NOT find any elements in the pop up window (like the \"OK\" button or the checkbox, etc.)</li>\n<li><code>Robot</code> class is the only thing that I have seen work, where I can send keypresses to navigate to the \"OK\" button and click it to dismiss the window...</li>\n</ul>\n\n<p>Here is my issue:</p>\n\n<ul>\n<li>Since there is a checkbox to \"Don't show this again\", there are users for which this modal pop up window will display and some for which it won't.  I need to account for both cases</li>\n<li>I need to find a 100% sure way to know whether the pop up is displayed or not.  If I have this information, I can make use of the Robot class (although \"dirty\") to perform actions on the pop up if needed</li>\n<li>I tried finding out if the parent window elements are enabled using <code>isEnabled()</code>, but even though items are not manually \"clickable\" while the modal pop up window is displayed, <code>isEnabled()</code> always returns TRUE--so this does not work--is there a better way to check for this for the \"blocked\" elements in the background?</li>\n</ul>\n\n<p>My questions:</p>\n\n<ul>\n<li>How do you check for the existence of a modal pop up that does not display 100% of the time? (on Internet Explorer 10, using Selenium with Java)</li>\n<li>Besides using Robot class, how do you interact with the actual Elements in a modal pop-up dialog (for example, dynamic Radio Buttons that don't always display the same options to the user)?</li>\n</ul>\n\n<p>Thank you.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1454964962,"post_id":35278591,"comment_id":58269838,"body_markdown":"Why not just write `listViewOfSongs.getItems().add(song)` as your `addSong` implementation?","body":"Why not just write <code>listViewOfSongs.getItems().add(song)</code> as your <code>addSong</code> implementation?"},{"owner":{"account_id":6981415,"reputation":187,"user_id":5354179,"accept_rate":25,"display_name":"Laugh7"},"score":0,"creation_date":1454965556,"post_id":35278591,"comment_id":58270233,"body_markdown":"Even with this, it still doesn&#39;t display.","body":"Even with this, it still doesn&#39;t display."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1454965744,"post_id":35278591,"comment_id":58270346,"body_markdown":"You probably have some other problem, provide an [mcve](http://stackoverflow.com/help/mcve) which reproduces it.","body":"You probably have some other problem, provide an <a href=\"http://stackoverflow.com/help/mcve\">mcve</a> which reproduces it."},{"owner":{"account_id":6981415,"reputation":187,"user_id":5354179,"accept_rate":25,"display_name":"Laugh7"},"score":0,"creation_date":1454966387,"post_id":35278591,"comment_id":58270725,"body_markdown":"I added my Style.fxml...There&#39;s not much code. You can&#39;t see why it wouldn&#39;t be working?","body":"I added my Style.fxml...There&#39;s not much code. You can&#39;t see why it wouldn&#39;t be working?"},{"owner":{"account_id":6981415,"reputation":187,"user_id":5354179,"accept_rate":25,"display_name":"Laugh7"},"score":1,"creation_date":1454966864,"post_id":35278591,"comment_id":58270959,"body_markdown":"I figured it out. Needed to implement Initializable and add an @Override","body":"I figured it out. Needed to implement Initializable and add an @Override"},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1454970804,"post_id":35278591,"comment_id":58272756,"body_markdown":"@Laugh7 Consider either editing your question to add that information, or writing it up as an answer.  Either way, please close the question as having been answered.  (Also, glad you found an answer!)","body":"@Laugh7 Consider either editing your question to add that information, or writing it up as an answer.  Either way, please close the question as having been answered.  (Also, glad you found an answer!)"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1640760667,"creation_date":1454970851,"answer_id":35280653,"question_id":35278591,"body_markdown":"The issue was that the Controller&#39;s wasn&#39;t being initialized as the asker of the question expected.\r\n\r\nThe operation of the FXMLLoader in Java 8 is a little weird.\r\n\r\n 1. If you define a no-parameter `initialize()` method in your Controller and don&#39;t implement the [`Initializable`][1] interface, then the FXML loader will still automatically invoke the initialize method.\r\n\r\n 2. If instead, you define a parameterized `public void initialize(URL url, ResourceBundle rb)` method in your Controller, then the FXML loader will not automatically invoke the initialize method *unless* your controller also implements the [`Initializable`][1] interface.\r\n\r\nAs the code in the question was using a parameterized initialize method and not also implementing Initializable, the initialization was not occurring.\r\n\r\n----\r\n\r\nThe parameterized initialize method should be replaced in FXML by injection of the parameters via @FXML annotation, for more details see:\r\n\r\n * https://stackoverflow.com/questions/20107463/what-is-automatic-injection-of-location-and-resources-properties-into-the-contr\r\n\r\n       @FXML \r\n       private ResourceBundle resources;\r\n\r\n       @FXML \r\n       private URL location;\r\n \r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/Initializable.html","title":"JavaFX FXML Controller initialize method not invoked","body":"<p>The issue was that the Controller's wasn't being initialized as the asker of the question expected.</p>\n<p>The operation of the FXMLLoader in Java 8 is a little weird.</p>\n<ol>\n<li><p>If you define a no-parameter <code>initialize()</code> method in your Controller and don't implement the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\"><code>Initializable</code></a> interface, then the FXML loader will still automatically invoke the initialize method.</p>\n</li>\n<li><p>If instead, you define a parameterized <code>public void initialize(URL url, ResourceBundle rb)</code> method in your Controller, then the FXML loader will not automatically invoke the initialize method <em>unless</em> your controller also implements the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/fxml/Initializable.html\" rel=\"nofollow noreferrer\"><code>Initializable</code></a> interface.</p>\n</li>\n</ol>\n<p>As the code in the question was using a parameterized initialize method and not also implementing Initializable, the initialization was not occurring.</p>\n<hr />\n<p>The parameterized initialize method should be replaced in FXML by injection of the parameters via @FXML annotation, for more details see:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/20107463/what-is-automatic-injection-of-location-and-resources-properties-into-the-contr\">What is &quot;automatic injection of location and resources properties into the controller&quot; in JavaFX?</a></p>\n<pre><code>@FXML \nprivate ResourceBundle resources;\n\n@FXML \nprivate URL location;\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7797881,"reputation":81,"user_id":5898355,"display_name":"Zach J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455047190,"creation_date":1455047190,"answer_id":35300880,"question_id":35278591,"body_markdown":"If I see correctly, you actually don&#39;t use the URL and the ResourceBundle parameters in you `initialize()` method.\r\nIf the URL is the path to your fxml file, and the ResourceBundle contains internatonalization properties for your GUI, then you should define your `initialize()` method without parameters, but annotated with `@FXML`. The URL and the ResourceBundle should be passed to the FXMLLoader.\r\n\r\nLike\r\n\r\n    FXMLLoader loader = new FXMLLoader(URL, rb);\r\n\r\nand \r\n\r\n    @FXML\r\n\tprivate void initialize() { ... }\r\n\r\nThis way `initialize()` will be automatically invoked.","title":"JavaFX FXML Controller initialize method not invoked","body":"<p>If I see correctly, you actually don't use the URL and the ResourceBundle parameters in you <code>initialize()</code> method.\nIf the URL is the path to your fxml file, and the ResourceBundle contains internatonalization properties for your GUI, then you should define your <code>initialize()</code> method without parameters, but annotated with <code>@FXML</code>. The URL and the ResourceBundle should be passed to the FXMLLoader.</p>\n\n<p>Like</p>\n\n<pre><code>FXMLLoader loader = new FXMLLoader(URL, rb);\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@FXML\nprivate void initialize() { ... }\n</code></pre>\n\n<p>This way <code>initialize()</code> will be automatically invoked.</p>\n"},{"tags":[],"owner":{"account_id":6981415,"reputation":187,"user_id":5354179,"accept_rate":25,"display_name":"Laugh7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455301761,"creation_date":1455301761,"answer_id":35369734,"question_id":35278591,"body_markdown":"I needed to implement Initializable to the class and add an @Override before calling the method. ","title":"JavaFX FXML Controller initialize method not invoked","body":"<p>I needed to implement Initializable to the class and add an @Override before calling the method. </p>\n"}],"owner":{"account_id":6981415,"reputation":187,"user_id":5354179,"accept_rate":25,"display_name":"Laugh7"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19863,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":35280653,"answer_count":3,"score":7,"last_activity_date":1640760667,"creation_date":1454962935,"question_id":35278591,"body_markdown":"I am trying to fill ListView from the content of a simple ArrayList. Here is my\r\n\r\nController.java file:\r\n\r\n    package design;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.ResourceBundle;\r\n    \r\n    import javafx.beans.property.ListProperty;\r\n    import javafx.beans.property.SimpleListProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ListView;\r\n    \r\n    public class Controller {\r\n    \r\n    \t@FXML private Button buttontest;\r\n    \t@FXML private ListView&lt;Song&gt; listViewofSongs;\r\n    \t\r\n    \tprotected List&lt;Song&gt; songList = new ArrayList&lt;&gt;();\r\n    \tprotected ListProperty&lt;Song&gt; listProperty = new SimpleListProperty&lt;Song&gt;();\r\n    \tSong Language = new Song(&quot;Peter&quot;, &quot;myalbum&quot;, &quot;yes&quot;, 2010);\r\n    \t\r\n    \tpublic void addSong(Song song){\r\n    \t\tsongList.add(song);\r\n    \t}\r\n    \t\r\n    \tpublic void initialize(URL url, ResourceBundle rb) {\r\n    \t\t\taddSong(Language);\r\n    \t        listViewofSongs.setItems(FXCollections.observableList(songList));\r\n    \t }\r\n    \t\r\n    \r\n    \t\r\n    }\r\n\r\nAnd here is my Style.fxml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.control.Separator?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;GridPane prefHeight=&quot;499.0&quot; prefWidth=&quot;700.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.65&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;design.Controller&quot;&gt;\r\n       &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints /&gt;\r\n          &lt;ColumnConstraints /&gt;\r\n          &lt;ColumnConstraints maxWidth=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;0.0&quot; /&gt;\r\n          &lt;ColumnConstraints maxWidth=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;0.0&quot; /&gt;\r\n       &lt;/columnConstraints&gt;\r\n       &lt;rowConstraints&gt;\r\n          &lt;RowConstraints /&gt;\r\n          &lt;RowConstraints /&gt;\r\n          &lt;RowConstraints maxHeight=&quot;0.0&quot; minHeight=&quot;0.0&quot; prefHeight=&quot;0.0&quot; /&gt;\r\n          &lt;RowConstraints maxHeight=&quot;10.0&quot; minHeight=&quot;0.0&quot; prefHeight=&quot;0.0&quot; /&gt;\r\n          &lt;RowConstraints maxHeight=&quot;10.0&quot; minHeight=&quot;0.0&quot; prefHeight=&quot;0.0&quot; /&gt;\r\n          &lt;RowConstraints fillHeight=&quot;false&quot; maxHeight=&quot;500.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;240.0&quot; /&gt;\r\n          &lt;RowConstraints fillHeight=&quot;false&quot; maxHeight=&quot;500.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;149.0&quot; /&gt;\r\n          &lt;RowConstraints fillHeight=&quot;false&quot; maxHeight=&quot;500.0&quot; minHeight=&quot;10.0&quot; prefHeight=&quot;50.0&quot; /&gt;\r\n       &lt;/rowConstraints&gt;\r\n       &lt;children&gt;\r\n          &lt;Pane prefHeight=&quot;64.0&quot; prefWidth=&quot;700.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;Label layoutX=&quot;259.0&quot; layoutY=&quot;14.0&quot; text=&quot;Song Library&quot;&gt;\r\n                   &lt;font&gt;\r\n                      &lt;Font name=&quot;Consolas Bold&quot; size=&quot;26.0&quot; /&gt;\r\n                   &lt;/font&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                &lt;/Label&gt;\r\n             &lt;/children&gt;\r\n          &lt;/Pane&gt;\r\n          &lt;Separator prefWidth=&quot;200.0&quot; GridPane.rowIndex=&quot;4&quot; /&gt;\r\n          &lt;ListView fx:id=&quot;listViewofSongs&quot; editable=&quot;true&quot; prefHeight=&quot;239.0&quot; prefWidth=&quot;700.0&quot; GridPane.rowIndex=&quot;5&quot; /&gt;\r\n          \r\n          &lt;Label text=&quot;Song Info&quot; GridPane.halignment=&quot;CENTER&quot; GridPane.rowIndex=&quot;6&quot; GridPane.valignment=&quot;TOP&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;10.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Consolas&quot; size=&quot;22.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;padding&gt;\r\n                &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n             &lt;/padding&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label GridPane.rowIndex=&quot;6&quot; /&gt;\r\n          &lt;Label text=&quot;NAME&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Calibri&quot; size=&quot;19.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;60.0&quot; left=&quot;200.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;343.0&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;60.0&quot; left=&quot;275.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/TextField&gt;\r\n          &lt;Label text=&quot;ARTIST&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Calibri&quot; size=&quot;19.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;200.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;343.0&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;275.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/TextField&gt;\r\n          &lt;Label text=&quot;ALBUM&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Calibri&quot; size=&quot;19.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;-60.0&quot; left=&quot;200.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;343.0&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;-60.0&quot; left=&quot;275.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/TextField&gt;\r\n          &lt;Label text=&quot;YEAR&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Calibri&quot; size=&quot;19.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;-120.0&quot; left=&quot;200.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;343.0&quot; GridPane.rowIndex=&quot;6&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets bottom=&quot;-120.0&quot; left=&quot;275.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/TextField&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;75.0&quot; text=&quot;ADD&quot; GridPane.rowIndex=&quot;7&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;125.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Corbel&quot; size=&quot;15.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Button&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;75.0&quot; text=&quot;EDIT&quot; GridPane.rowIndex=&quot;7&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Corbel&quot; size=&quot;15.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;325.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Button&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;75.0&quot; text=&quot;DELETE&quot; GridPane.rowIndex=&quot;7&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Corbel&quot; size=&quot;15.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;525.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n          &lt;/Button&gt;\r\n          &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; GridPane.rowIndex=&quot;7&quot;&gt;\r\n             &lt;GridPane.margin&gt;\r\n                &lt;Insets left=&quot;250.0&quot; /&gt;\r\n             &lt;/GridPane.margin&gt;\r\n             &lt;padding&gt;\r\n                &lt;Insets bottom=&quot;5.0&quot; left=&quot;5.0&quot; right=&quot;5.0&quot; top=&quot;5.0&quot; /&gt;\r\n             &lt;/padding&gt;\r\n          &lt;/Separator&gt;\r\n       &lt;/children&gt;\r\n    &lt;/GridPane&gt;\r\n\r\n\r\n\r\n\r\nThe program runs, but the song I have entered does not appear in the ListView (and the Song class does have a toString method).\r\n\r\nWhat can I do? ","title":"JavaFX FXML Controller initialize method not invoked","body":"<p>I am trying to fill ListView from the content of a simple ArrayList. Here is my</p>\n\n<p>Controller.java file:</p>\n\n<pre><code>package design;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.ResourceBundle;\n\nimport javafx.beans.property.ListProperty;\nimport javafx.beans.property.SimpleListProperty;\nimport javafx.collections.FXCollections;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListView;\n\npublic class Controller {\n\n    @FXML private Button buttontest;\n    @FXML private ListView&lt;Song&gt; listViewofSongs;\n\n    protected List&lt;Song&gt; songList = new ArrayList&lt;&gt;();\n    protected ListProperty&lt;Song&gt; listProperty = new SimpleListProperty&lt;Song&gt;();\n    Song Language = new Song(\"Peter\", \"myalbum\", \"yes\", 2010);\n\n    public void addSong(Song song){\n        songList.add(song);\n    }\n\n    public void initialize(URL url, ResourceBundle rb) {\n            addSong(Language);\n            listViewofSongs.setItems(FXCollections.observableList(songList));\n     }\n\n\n\n}\n</code></pre>\n\n<p>And here is my Style.fxml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.Separator?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;GridPane prefHeight=\"499.0\" prefWidth=\"700.0\" xmlns=\"http://javafx.com/javafx/8.0.65\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"design.Controller\"&gt;\n   &lt;columnConstraints&gt;\n      &lt;ColumnConstraints /&gt;\n      &lt;ColumnConstraints /&gt;\n      &lt;ColumnConstraints maxWidth=\"0.0\" minWidth=\"0.0\" prefWidth=\"0.0\" /&gt;\n      &lt;ColumnConstraints maxWidth=\"0.0\" minWidth=\"0.0\" prefWidth=\"0.0\" /&gt;\n   &lt;/columnConstraints&gt;\n   &lt;rowConstraints&gt;\n      &lt;RowConstraints /&gt;\n      &lt;RowConstraints /&gt;\n      &lt;RowConstraints maxHeight=\"0.0\" minHeight=\"0.0\" prefHeight=\"0.0\" /&gt;\n      &lt;RowConstraints maxHeight=\"10.0\" minHeight=\"0.0\" prefHeight=\"0.0\" /&gt;\n      &lt;RowConstraints maxHeight=\"10.0\" minHeight=\"0.0\" prefHeight=\"0.0\" /&gt;\n      &lt;RowConstraints fillHeight=\"false\" maxHeight=\"500.0\" minHeight=\"10.0\" prefHeight=\"240.0\" /&gt;\n      &lt;RowConstraints fillHeight=\"false\" maxHeight=\"500.0\" minHeight=\"10.0\" prefHeight=\"149.0\" /&gt;\n      &lt;RowConstraints fillHeight=\"false\" maxHeight=\"500.0\" minHeight=\"10.0\" prefHeight=\"50.0\" /&gt;\n   &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;Pane prefHeight=\"64.0\" prefWidth=\"700.0\"&gt;\n         &lt;children&gt;\n            &lt;Label layoutX=\"259.0\" layoutY=\"14.0\" text=\"Song Library\"&gt;\n               &lt;font&gt;\n                  &lt;Font name=\"Consolas Bold\" size=\"26.0\" /&gt;\n               &lt;/font&gt;\n               &lt;padding&gt;\n                  &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" /&gt;\n               &lt;/padding&gt;\n            &lt;/Label&gt;\n         &lt;/children&gt;\n      &lt;/Pane&gt;\n      &lt;Separator prefWidth=\"200.0\" GridPane.rowIndex=\"4\" /&gt;\n      &lt;ListView fx:id=\"listViewofSongs\" editable=\"true\" prefHeight=\"239.0\" prefWidth=\"700.0\" GridPane.rowIndex=\"5\" /&gt;\n\n      &lt;Label text=\"Song Info\" GridPane.halignment=\"CENTER\" GridPane.rowIndex=\"6\" GridPane.valignment=\"TOP\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"10.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Consolas\" size=\"22.0\" /&gt;\n         &lt;/font&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" /&gt;\n         &lt;/padding&gt;\n      &lt;/Label&gt;\n      &lt;Label GridPane.rowIndex=\"6\" /&gt;\n      &lt;Label text=\"NAME\" GridPane.rowIndex=\"6\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Calibri\" size=\"19.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"60.0\" left=\"200.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Label&gt;\n      &lt;TextField maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"343.0\" GridPane.rowIndex=\"6\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"60.0\" left=\"275.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/TextField&gt;\n      &lt;Label text=\"ARTIST\" GridPane.rowIndex=\"6\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Calibri\" size=\"19.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"200.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Label&gt;\n      &lt;TextField maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"343.0\" GridPane.rowIndex=\"6\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"275.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/TextField&gt;\n      &lt;Label text=\"ALBUM\" GridPane.rowIndex=\"6\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Calibri\" size=\"19.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"-60.0\" left=\"200.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Label&gt;\n      &lt;TextField maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"343.0\" GridPane.rowIndex=\"6\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"-60.0\" left=\"275.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/TextField&gt;\n      &lt;Label text=\"YEAR\" GridPane.rowIndex=\"6\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Calibri\" size=\"19.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"-120.0\" left=\"200.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Label&gt;\n      &lt;TextField maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefHeight=\"25.0\" prefWidth=\"343.0\" GridPane.rowIndex=\"6\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=\"-120.0\" left=\"275.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/TextField&gt;\n      &lt;Button mnemonicParsing=\"false\" prefHeight=\"28.0\" prefWidth=\"75.0\" text=\"ADD\" GridPane.rowIndex=\"7\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"125.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Corbel\" size=\"15.0\" /&gt;\n         &lt;/font&gt;\n      &lt;/Button&gt;\n      &lt;Button mnemonicParsing=\"false\" prefHeight=\"28.0\" prefWidth=\"75.0\" text=\"EDIT\" GridPane.rowIndex=\"7\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Corbel\" size=\"15.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"325.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Button&gt;\n      &lt;Button mnemonicParsing=\"false\" prefHeight=\"28.0\" prefWidth=\"75.0\" text=\"DELETE\" GridPane.rowIndex=\"7\"&gt;\n         &lt;font&gt;\n            &lt;Font name=\"Corbel\" size=\"15.0\" /&gt;\n         &lt;/font&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"525.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Button&gt;\n      &lt;Separator orientation=\"VERTICAL\" prefHeight=\"200.0\" GridPane.rowIndex=\"7\"&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets left=\"250.0\" /&gt;\n         &lt;/GridPane.margin&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=\"5.0\" left=\"5.0\" right=\"5.0\" top=\"5.0\" /&gt;\n         &lt;/padding&gt;\n      &lt;/Separator&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n\n<p>The program runs, but the song I have entered does not appear in the ListView (and the Song class does have a toString method).</p>\n\n<p>What can I do? </p>\n"},{"tags":["java","spring","spring-boot","testing","polymorphism"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1616455660,"post_id":66754948,"comment_id":118003414,"body_markdown":"Since you&#39;re already using Gremlin, is using Groovy (at least for testing) an option?","body":"Since you&#39;re already using Gremlin, is using Groovy (at least for testing) an option?"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640760655,"creation_date":1616454935,"answer_id":66755104,"question_id":66754948,"body_markdown":"**Short answer**: There&#39;s no way around single inheritance of classes in Java. This was done purposely to avoid the [Diamond Problem][1].\r\n\r\n**Long answer**: You can take advantage of multiple inheritance of interfaces. Also, just about every problem where you think you need inheritance, you can resolve with composition. In general, inheritance - although a necessary evil at times - violate encapsulation and is more problematic that you might think. Without knowing much about your specific implementation details, on the surface, your problem seems to fit the case where composition over inheritance is the way to go. I normally do a quick &quot;is-a&quot; check as the first step to see if inheritance makes sense. In your case:\r\n\r\n`CoolTest_IntegrationTest` is-a `MyTestFrameworkAbstractClass` doesn&#39;t pass my logical test, because a test class is not a framework. A test class USES a framework. Even saying that a framework has-a test might not make much sense either. However, that is much better than tests inheriting from an abstract framework.  The `CoolTest_IntegrationTest` is-a `GraphDBHarness` doesn&#39;t pass my initial test either. A test also uses a DB harness, which implies composition.\r\n\r\nAgain, it seems you are trying to use inheritance for all the wrong reasons. Accessing fields/methods in a class is not in itself a good reason for inheritance. If you have an abstract framework class, you should only extend to make more specific types of frameworks, not to create test classes.\r\n\r\nUse Dependency Injection to pass these items to your test class (i.e. DB harness) instead of using inheritance only  to gain access to its fields and methods.\r\n\r\nThat said, you could use single inheritance and create a inheritance chain where class A extends B and it extends C (instead of class A extending B and C). Again, in your case, I don&#39;t think this is the right approach.\r\n\r\n\r\n\r\n  [1]: https://www.cs.cornell.edu/courses/JavaAndDS/abstractInterface/05diamond.pdf","title":"Spring, is there a way to get around not being able to extend 2 classes in Java?","body":"<p><strong>Short answer</strong>: There's no way around single inheritance of classes in Java. This was done purposely to avoid the <a href=\"https://www.cs.cornell.edu/courses/JavaAndDS/abstractInterface/05diamond.pdf\" rel=\"nofollow noreferrer\">Diamond Problem</a>.</p>\n<p><strong>Long answer</strong>: You can take advantage of multiple inheritance of interfaces. Also, just about every problem where you think you need inheritance, you can resolve with composition. In general, inheritance - although a necessary evil at times - violate encapsulation and is more problematic that you might think. Without knowing much about your specific implementation details, on the surface, your problem seems to fit the case where composition over inheritance is the way to go. I normally do a quick &quot;is-a&quot; check as the first step to see if inheritance makes sense. In your case:</p>\n<p><code>CoolTest_IntegrationTest</code> is-a <code>MyTestFrameworkAbstractClass</code> doesn't pass my logical test, because a test class is not a framework. A test class USES a framework. Even saying that a framework has-a test might not make much sense either. However, that is much better than tests inheriting from an abstract framework.  The <code>CoolTest_IntegrationTest</code> is-a <code>GraphDBHarness</code> doesn't pass my initial test either. A test also uses a DB harness, which implies composition.</p>\n<p>Again, it seems you are trying to use inheritance for all the wrong reasons. Accessing fields/methods in a class is not in itself a good reason for inheritance. If you have an abstract framework class, you should only extend to make more specific types of frameworks, not to create test classes.</p>\n<p>Use Dependency Injection to pass these items to your test class (i.e. DB harness) instead of using inheritance only  to gain access to its fields and methods.</p>\n<p>That said, you could use single inheritance and create a inheritance chain where class A extends B and it extends C (instead of class A extending B and C). Again, in your case, I don't think this is the right approach.</p>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640760655,"creation_date":1616453813,"question_id":66754948,"body_markdown":"I have an integration test with the following signature:\r\n\r\n```\r\n@SpringBootTest(classes = Example.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class CoolTest_IntegrationTest extends MyTestFrameworkAbstractClass {\r\n```\r\n\r\n`PrismIntegrationFramework` is an abstract class with a bunch of setup methods to make testing easier for people on my team.\r\n \r\nNow, in Spring I heavily rely on `DynamicPropertySource` for injection dynamic Ip addresses, etc coming from my test containers. \r\n\r\nIdeally, I want a separate &quot;test harness&quot; that I could inject/invoke based on the type of test. IE - I would have a GraphDBHarness that would be invoked when I write graph database integration tests.\r\n\r\n```\r\n@SpringBootTest(classes = GraphClient.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class CoolTest_IntegrationTest extends MyTestFrameworkAbstractClass extends GraphDBHarness {\r\n```\r\n\r\nI know the above is invalid, but if this was _valid_ then I would internally have something like :\r\n\r\n```\r\npublic abstract class GremlinTestHarness {\r\n\r\n  @DynamicPropertySource\r\n  static void executeDynamicPropertyInjection(DynamicPropertyRegistry registry) {\r\n    registry.add(\r\n        GREMLIN_SERVER_KEY, () -&gt; SupportedContainers.gremlinServer.getContainerIpAddress());\r\n    registry.add(GREMLIN_SERVER_PORT, () -&gt; SupportedContainers.gremlinServer.getFirstMappedPort());\r\n  }\r\n}\r\n```\r\n\r\nSo in theory, if I had N of these, then I could inject the things I need or make the things I need available at will. Is this possible in Spring somehow?","title":"Spring, is there a way to get around not being able to extend 2 classes in Java?","body":"<p>I have an integration test with the following signature:</p>\n<pre><code>@SpringBootTest(classes = Example.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class CoolTest_IntegrationTest extends MyTestFrameworkAbstractClass {\n</code></pre>\n<p><code>PrismIntegrationFramework</code> is an abstract class with a bunch of setup methods to make testing easier for people on my team.</p>\n<p>Now, in Spring I heavily rely on <code>DynamicPropertySource</code> for injection dynamic Ip addresses, etc coming from my test containers.</p>\n<p>Ideally, I want a separate &quot;test harness&quot; that I could inject/invoke based on the type of test. IE - I would have a GraphDBHarness that would be invoked when I write graph database integration tests.</p>\n<pre><code>@SpringBootTest(classes = GraphClient.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class CoolTest_IntegrationTest extends MyTestFrameworkAbstractClass extends GraphDBHarness {\n</code></pre>\n<p>I know the above is invalid, but if this was <em>valid</em> then I would internally have something like :</p>\n<pre><code>public abstract class GremlinTestHarness {\n\n  @DynamicPropertySource\n  static void executeDynamicPropertyInjection(DynamicPropertyRegistry registry) {\n    registry.add(\n        GREMLIN_SERVER_KEY, () -&gt; SupportedContainers.gremlinServer.getContainerIpAddress());\n    registry.add(GREMLIN_SERVER_PORT, () -&gt; SupportedContainers.gremlinServer.getFirstMappedPort());\n  }\n}\n</code></pre>\n<p>So in theory, if I had N of these, then I could inject the things I need or make the things I need available at will. Is this possible in Spring somehow?</p>\n"},{"tags":["java","csv","comparison"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1615821567,"post_id":66640742,"comment_id":117803581,"body_markdown":"What does `writeExcel` do?","body":"What does <code>writeExcel</code> do?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1615823391,"post_id":66640742,"comment_id":117804593,"body_markdown":"Are you keeping track of what teams are already on the spreadsheet by writing to &quot;matchData&quot;? Is this a hard requirement? Even if it is, this is a TERRIBLE way of doing it because of 2 reasons: 1) I/O is much slower than memory and 2) Your lookup will get linearly slower as you put more entries on the file. If it is NOT a hard requirement, store the team in a map. That way, your lookup will be done in constant time.","body":"Are you keeping track of what teams are already on the spreadsheet by writing to &quot;matchData&quot;? Is this a hard requirement? Even if it is, this is a TERRIBLE way of doing it because of 2 reasons: 1) I/O is much slower than memory and 2) Your lookup will get linearly slower as you put more entries on the file. If it is NOT a hard requirement, store the team in a map. That way, your lookup will be done in constant time."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1615824455,"post_id":66640742,"comment_id":117805156,"body_markdown":"And just for the record: unless parsing CSV is some sort of homework, and you are supposed to implement it yourself ... you should not implement it yourself. There are robust libraries that do that for you. Trust me: getting CSV parsing right is much more complicated than you think it is.","body":"And just for the record: unless parsing CSV is some sort of homework, and you are supposed to implement it yourself ... you should not implement it yourself. There are robust libraries that do that for you. Trust me: getting CSV parsing right is much more complicated than you think it is."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640760457,"creation_date":1615824129,"answer_id":66641500,"question_id":66640742,"body_markdown":"You can first go through your source CSV file and put in a map only the lines that contain unique team key....\r\n```\r\nwhile (matchReader.hasNextLine()) {\r\n    String data = matchReader.nextLine();\r\n    String[] record = data.split(&quot;,&quot;, 2);\r\n    Map&lt;String, String&gt; matchList = new TreeMap&lt;&gt;();\r\n    matchList.putIfAbsent(record[0], record[1]); // only unique keys are entered.\r\n}\r\n// TODO write to Excel each entry in the map (you don&#39;t need to check for unique keys)\r\n```\r\nNotice that writing to Excel is done after the map is complete. This is the best approach; or at least better than what you showed in your original post. With this approach, you are letting the data structure simplify your process (and no nested loops).\r\n\r\n**UPDATE**:\r\n\r\nI forgot to mention that `matchList.putIfAbsent(K, V)` works with Java 8 and later. If using Java 7 or older (should upgrade Java ASAP), then you will have to do the following:\r\n```\r\nString value = matchList.get(record[0]);\r\nif (value == null) {\r\n    matchList.put(record[0], record[1]);\r\n}\r\n```\r\nThis is because `Map#get(K)` returns `null` is no entry is found OR the map allowed for null values to be entered for a given key. Otherwise, it will return the previous value. The new method introduced in Java 8 does this check automatically.","title":"Java comparing csv file values","body":"<p>You can first go through your source CSV file and put in a map only the lines that contain unique team key....</p>\n<pre><code>while (matchReader.hasNextLine()) {\n    String data = matchReader.nextLine();\n    String[] record = data.split(&quot;,&quot;, 2);\n    Map&lt;String, String&gt; matchList = new TreeMap&lt;&gt;();\n    matchList.putIfAbsent(record[0], record[1]); // only unique keys are entered.\n}\n// TODO write to Excel each entry in the map (you don't need to check for unique keys)\n</code></pre>\n<p>Notice that writing to Excel is done after the map is complete. This is the best approach; or at least better than what you showed in your original post. With this approach, you are letting the data structure simplify your process (and no nested loops).</p>\n<p><strong>UPDATE</strong>:</p>\n<p>I forgot to mention that <code>matchList.putIfAbsent(K, V)</code> works with Java 8 and later. If using Java 7 or older (should upgrade Java ASAP), then you will have to do the following:</p>\n<pre><code>String value = matchList.get(record[0]);\nif (value == null) {\n    matchList.put(record[0], record[1]);\n}\n</code></pre>\n<p>This is because <code>Map#get(K)</code> returns <code>null</code> is no entry is found OR the map allowed for null values to be entered for a given key. Otherwise, it will return the previous value. The new method introduced in Java 8 does this check automatically.</p>\n"}],"owner":{"account_id":9785153,"reputation":11,"user_id":7251714,"display_name":"T.Jaggard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640760457,"creation_date":1615821439,"question_id":66640742,"body_markdown":"I&#39;m trying to create a csv file where only 1 team name is shown per row, so when you click the button twice it will only add the team name if its not already there. currently it adds the team &quot;UWE&quot; every single time you press the button. the code for this is below:\r\n```\r\npublic void showStats(ActionEvent event){\r\n\r\n        try {\r\n            File matchFile = new File(&quot;src/sample/matchData.csv&quot;);\r\n            File scoreFile = new File(&quot;src/sample/scoreData.csv&quot;);\r\n            Scanner matchReader = new Scanner(matchFile);\r\n            Scanner scoreReader = new Scanner(scoreFile);\r\n            while (matchReader.hasNextLine()) {\r\n                String data = matchReader.nextLine();\r\n                List&lt;String&gt; matchList = Arrays.asList(data.split(&quot;,&quot;));\r\n                while (scoreReader.hasNextLine()) {\r\n                    String dataScore = scoreReader.nextLine();\r\n                    List&lt;String&gt; dataScoreList = Arrays.asList(dataScore.split(&quot;,&quot;));\r\n                    if (dataScoreList.get(0).equals(matchList.get(0))) {\r\n                        //\r\n                    } else {\r\n                        writeExcel(&quot;scoreData&quot;, matchList.get(0)) ;\r\n                    }\r\n                    System.out.println(dataScoreList);\r\n                }\r\n                System.out.println(matchList);\r\n            }\r\n            matchReader.close();\r\n            scoreReader.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nThe csv file &quot;matchData&quot; contains:\r\nUWE,KCC,Jin,Julia,Chris,Ryan,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,5,0\r\n\r\nThe csv file &quot;scoreData&quot; has one empty line in it","title":"Java comparing csv file values","body":"<p>I'm trying to create a csv file where only 1 team name is shown per row, so when you click the button twice it will only add the team name if its not already there. currently it adds the team &quot;UWE&quot; every single time you press the button. the code for this is below:</p>\n<pre><code>public void showStats(ActionEvent event){\n\n        try {\n            File matchFile = new File(&quot;src/sample/matchData.csv&quot;);\n            File scoreFile = new File(&quot;src/sample/scoreData.csv&quot;);\n            Scanner matchReader = new Scanner(matchFile);\n            Scanner scoreReader = new Scanner(scoreFile);\n            while (matchReader.hasNextLine()) {\n                String data = matchReader.nextLine();\n                List&lt;String&gt; matchList = Arrays.asList(data.split(&quot;,&quot;));\n                while (scoreReader.hasNextLine()) {\n                    String dataScore = scoreReader.nextLine();\n                    List&lt;String&gt; dataScoreList = Arrays.asList(dataScore.split(&quot;,&quot;));\n                    if (dataScoreList.get(0).equals(matchList.get(0))) {\n                        //\n                    } else {\n                        writeExcel(&quot;scoreData&quot;, matchList.get(0)) ;\n                    }\n                    System.out.println(dataScoreList);\n                }\n                System.out.println(matchList);\n            }\n            matchReader.close();\n            scoreReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>The csv file &quot;matchData&quot; contains:\nUWE,KCC,Jin,Julia,Chris,Ryan,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,5,0</p>\n<p>The csv file &quot;scoreData&quot; has one empty line in it</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1605898078,"post_id":64934946,"comment_id":114803534,"body_markdown":"More context is needed. Can you set up a minimal runnable example where this problem occurs?","body":"More context is needed. Can you set up a minimal runnable example where this problem occurs?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1605898163,"post_id":64934946,"comment_id":114803568,"body_markdown":"My guess is that the actual characters are not what you think they are. For example there are different forward slash characters that have different unicode code points but look the same including [division slash](https://www.compart.com/en/unicode/U+2215) and [fraction slash](https://www.fileformat.info/info/unicode/char/2044/index.htm). Or there may be non-printing characters like [left-to-right isolate](https://developer.mozilla.org/en-US/docs/Web/Guide/Unicode_Bidrectional_Text_Algorithm).","body":"My guess is that the actual characters are not what you think they are. For example there are different forward slash characters that have different unicode code points but look the same including <a href=\"https://www.compart.com/en/unicode/U+2215\" rel=\"nofollow noreferrer\">division slash</a> and <a href=\"https://www.fileformat.info/info/unicode/char/2044/index.htm\" rel=\"nofollow noreferrer\">fraction slash</a>. Or there may be non-printing characters like <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Unicode_Bidrectional_Text_Algorithm\" rel=\"nofollow noreferrer\">left-to-right isolate</a>."},{"owner":{"account_id":2783729,"reputation":2560,"user_id":2395694,"accept_rate":73,"display_name":"Rome_Leader"},"score":0,"creation_date":1605898464,"post_id":64934946,"comment_id":114803701,"body_markdown":"@xehpuk It&#39;s difficult to do that for demonstration here because the system pivots around a DynamoDB table with a GSI where the patterns live. You can run a Hello World here though to see that those patterns and files will match: https://pastebin.com/gEwAvzk3","body":"@xehpuk It&#39;s difficult to do that for demonstration here because the system pivots around a DynamoDB table with a GSI where the patterns live. You can run a Hello World here though to see that those patterns and files will match: <a href=\"https://pastebin.com/gEwAvzk3\" rel=\"nofollow noreferrer\">pastebin.com/gEwAvzk3</a>"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640760255,"creation_date":1605907405,"answer_id":64937129,"question_id":64934946,"body_markdown":"The problem is neither.\r\n\r\nI modified your code as follows (in order for me to run it on my machine):\r\n```\r\npublic static void main(String[] args) {\r\n\t\r\n\tString regex = &quot;/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt&quot;;\r\n\tString input = &quot;/PickUp/123456789/rhinoceros98765432120201110.txt&quot;;\r\n    // String regex = &quot;/PickUp/(?&lt;foreignid&gt;\\\\d{9})_\\\\d{8}_\\\\d{10}.zip&quot;;\r\n    // String input = &quot;/PickUp/123456789_20201110_1234567890.zip&quot;;\r\n\t\r\n\t\r\n\tPattern pattern = Pattern.compile(regex);\r\n\tMatcher matcher = pattern.matcher(input);\r\n\t\r\n\tif (matcher.find()) {\r\n\t\tSystem.out.println(matcher.groupCount());\r\n\t} else {\r\n\t\tSystem.err.println(&quot;No match&quot;);\r\n\t}\r\n}\r\n```\r\nRegardless of which one you use `find()` or `matches()`, your inputs will match one group only, as shown by `groupCount()`. Your problem seems to be the differences in patterns. Your `/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt` is matching the subdirectory under `PickUp` and not the file name. The bottom pattern doesn&#39;t use the first number group as a subdirectory. Instead, it uses it as part of the file name; and matches the first series of numbers only.\r\n\r\nI am not sure if this is by design, but the problem are the patterns themselves; especially the use of &quot;lookahead&quot; (using the question mark inside parentheses).","title":"Regex not finding match - difference between .find() and .matches() at fault?","body":"<p>The problem is neither.</p>\n<p>I modified your code as follows (in order for me to run it on my machine):</p>\n<pre><code>public static void main(String[] args) {\n    \n    String regex = &quot;/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt&quot;;\n    String input = &quot;/PickUp/123456789/rhinoceros98765432120201110.txt&quot;;\n    // String regex = &quot;/PickUp/(?&lt;foreignid&gt;\\\\d{9})_\\\\d{8}_\\\\d{10}.zip&quot;;\n    // String input = &quot;/PickUp/123456789_20201110_1234567890.zip&quot;;\n    \n    \n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(input);\n    \n    if (matcher.find()) {\n        System.out.println(matcher.groupCount());\n    } else {\n        System.err.println(&quot;No match&quot;);\n    }\n}\n</code></pre>\n<p>Regardless of which one you use <code>find()</code> or <code>matches()</code>, your inputs will match one group only, as shown by <code>groupCount()</code>. Your problem seems to be the differences in patterns. Your <code>/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt</code> is matching the subdirectory under <code>PickUp</code> and not the file name. The bottom pattern doesn't use the first number group as a subdirectory. Instead, it uses it as part of the file name; and matches the first series of numbers only.</p>\n<p>I am not sure if this is by design, but the problem are the patterns themselves; especially the use of &quot;lookahead&quot; (using the question mark inside parentheses).</p>\n"}],"owner":{"account_id":2783729,"reputation":2560,"user_id":2395694,"accept_rate":73,"display_name":"Rome_Leader"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1640760255,"creation_date":1605896896,"question_id":64934946,"body_markdown":"Some background before the code - I maintain a system that is essentially an automated SFTP solution that polls a remote server, and pulls down some files to our side when it finds files in a certain directory that match a list of approved regex patterns.\r\n\r\nYesterday, some new files started appearing, and despite having a seemingly valid pattern in the table, were not being matched as files to look at.\r\n\r\nHere is an example of a pattern that was, and still is, working fine in the system, along with an example file we have received that matches it (PickUp is the directory where all the file polling happens):\r\n```\r\n/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt\r\n\r\n/PickUp/123456789/rhinoceros98765432120201110.txt\r\n```\r\nHere is a new one that does not:\r\n\r\n```\t\r\n/PickUp/(?&lt;foreignid&gt;\\\\d{9})_\\\\d{8}_\\\\d{10}.zip\r\n\r\n/PickUp/123456789_20201110_1234567890.zip\r\n```\r\nBelow is the part of the function doing the matching:\r\n\r\n```\r\nint numMatches = 0;\r\nfor (PatternItem item : patternItems)\r\n{\r\n    matcher = item.getPattern().matcher(fileFound);\r\n    if (matcher.find())\r\n    {\r\n        successfulMatch = matcher.group(&quot;foreignid&quot;);\r\n        numMatches++;\r\n    }\r\n}\r\n\r\nif (numMatches == 1)\r\n{\r\n    //download the file in here\r\n}\r\nelse if (numMatches &gt; 1)\r\n{\r\n    logger.error(&quot;More than one match found for file: &quot; + fileFound + &quot; - regex may be too permissive.&quot;);\r\n    return &quot;UNKNOWN_MULTI_MATCH&quot;;\r\n}\r\nelse\r\n{\r\n    logger.error(&quot;Could not find match for file: &quot; + fileFound);\r\n    return &quot;UNKNOWN_NO_MATCH&quot;;\r\n}\r\n```\r\n\r\nI have validated that the pattern does match the file, and that the correct pattern is included in the pattern list. **My question is, is it possible the error is a result of using `matcher.find()` instead of `matcher.matches()`?** It seems like from my reading of other answers that `matches()` is for full matches, while `find()` does partial matches. Should I, in fact, be using `matches()` for my use case? \r\n\r\nIf so, why has this yet to break for any other patterns, all of which are similar to the working ones shown above? The only difference here, is that this is the first .zip file, and also the first time the foreignid group does not represent a subfolder that contains the file itself - it&#39;s just part of the name.\r\n\r\nThanks in advance for any help/clarity provided.","title":"Regex not finding match - difference between .find() and .matches() at fault?","body":"<p>Some background before the code - I maintain a system that is essentially an automated SFTP solution that polls a remote server, and pulls down some files to our side when it finds files in a certain directory that match a list of approved regex patterns.</p>\n<p>Yesterday, some new files started appearing, and despite having a seemingly valid pattern in the table, were not being matched as files to look at.</p>\n<p>Here is an example of a pattern that was, and still is, working fine in the system, along with an example file we have received that matches it (PickUp is the directory where all the file polling happens):</p>\n<pre><code>/PickUp/(?&lt;foreignid&gt;\\\\d{9})/rhinoceros\\\\d{9}\\\\d{8}.txt\n\n/PickUp/123456789/rhinoceros98765432120201110.txt\n</code></pre>\n<p>Here is a new one that does not:</p>\n<pre><code>/PickUp/(?&lt;foreignid&gt;\\\\d{9})_\\\\d{8}_\\\\d{10}.zip\n\n/PickUp/123456789_20201110_1234567890.zip\n</code></pre>\n<p>Below is the part of the function doing the matching:</p>\n<pre><code>int numMatches = 0;\nfor (PatternItem item : patternItems)\n{\n    matcher = item.getPattern().matcher(fileFound);\n    if (matcher.find())\n    {\n        successfulMatch = matcher.group(&quot;foreignid&quot;);\n        numMatches++;\n    }\n}\n\nif (numMatches == 1)\n{\n    //download the file in here\n}\nelse if (numMatches &gt; 1)\n{\n    logger.error(&quot;More than one match found for file: &quot; + fileFound + &quot; - regex may be too permissive.&quot;);\n    return &quot;UNKNOWN_MULTI_MATCH&quot;;\n}\nelse\n{\n    logger.error(&quot;Could not find match for file: &quot; + fileFound);\n    return &quot;UNKNOWN_NO_MATCH&quot;;\n}\n</code></pre>\n<p>I have validated that the pattern does match the file, and that the correct pattern is included in the pattern list. <strong>My question is, is it possible the error is a result of using <code>matcher.find()</code> instead of <code>matcher.matches()</code>?</strong> It seems like from my reading of other answers that <code>matches()</code> is for full matches, while <code>find()</code> does partial matches. Should I, in fact, be using <code>matches()</code> for my use case?</p>\n<p>If so, why has this yet to break for any other patterns, all of which are similar to the working ones shown above? The only difference here, is that this is the first .zip file, and also the first time the foreignid group does not represent a subfolder that contains the file itself - it's just part of the name.</p>\n<p>Thanks in advance for any help/clarity provided.</p>\n"},{"tags":["java","spring","maven","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1473266274,"post_id":39375016,"comment_id":66078373,"body_markdown":"You need `@EnableAutoConfiguration` on your *entry point* configuration class in order for Boot to scan this `AppConfig` in the first place.","body":"You need <code>@EnableAutoConfiguration</code> on your <i>entry point</i> configuration class in order for Boot to scan this <code>AppConfig</code> in the first place."},{"owner":{"account_id":544843,"reputation":2223,"user_id":914422,"accept_rate":60,"display_name":"ameenhere"},"score":0,"creation_date":1473283155,"post_id":39375016,"comment_id":66086268,"body_markdown":"Can you share the SpringBootApplication class and the pom.xml as well","body":"Can you share the SpringBootApplication class and the pom.xml as well"},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":0,"creation_date":1473315442,"post_id":39375016,"comment_id":66094627,"body_markdown":"That&#39;s a weird setup. For one you shouldn&#39;t put `@EnableAutoConfiguration` on an auto-configuration class. Please review the doc you&#39;ve referenced. Second, it looks like you&#39;re trying to run your app without `spring-boot-autoconfigure` on the classpath. There are no `spring.factories` found so your build does not package it properly. Please share a project that reproduces the problem.","body":"That&#39;s a weird setup. For one you shouldn&#39;t put <code>@EnableAutoConfiguration</code> on an auto-configuration class. Please review the doc you&#39;ve referenced. Second, it looks like you&#39;re trying to run your app without <code>spring-boot-autoconfigure</code> on the classpath. There are no <code>spring.factories</code> found so your build does not package it properly. Please share a project that reproduces the problem."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1473323958,"post_id":39375016,"comment_id":66099313,"body_markdown":"@StephaneNicoll I thought I&#39;ve to add `@EnableAutoConfiguration` somewhere for spring-boot to configure other beans (e.g. for JPA). I&#39;ve updated the question with the project `pom.xml`. Also, when I inspect the generated jar with `jar tf jar-file` I actually see that `META-INF/spring.factories` exists so I guess the build is properly packaged!","body":"@StephaneNicoll I thought I&#39;ve to add <code>@EnableAutoConfiguration</code> somewhere for spring-boot to configure other beans (e.g. for JPA). I&#39;ve updated the question with the project <code>pom.xml</code>. Also, when I inspect the generated jar with <code>jar tf jar-file</code> I actually see that <code>META-INF&#47;spring.factories</code> exists so I guess the build is properly packaged!"},{"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"score":1,"creation_date":1473401431,"post_id":39375016,"comment_id":66135078,"body_markdown":"I have no idea what you&#39;re trying to do but it looks like you don&#39;t need an auto-configuration at all. Why are you creating a `META-INF/spring.factories` in the first place?","body":"I have no idea what you&#39;re trying to do but it looks like you don&#39;t need an auto-configuration at all. Why are you creating a <code>META-INF&#47;spring.factories</code> in the first place?"},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1473409498,"post_id":39375016,"comment_id":66139060,"body_markdown":"because the exception says to make sure the file exists, I thought I can fix the problem by adding it.","body":"because the exception says to make sure the file exists, I thought I can fix the problem by adding it."},{"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"score":0,"creation_date":1473409961,"post_id":39375016,"comment_id":66139303,"body_markdown":"@StephaneNicoll I&#39;ve the same exception when I remove the file.","body":"@StephaneNicoll I&#39;ve the same exception when I remove the file."}],"answers":[{"tags":[],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1473410836,"creation_date":1473410836,"answer_id":39407459,"question_id":39375016,"body_markdown":"I just figure it out, I should have been using [Spring Boot maven plugin](http://docs.spring.io/spring-boot/docs/current/maven-plugin/usage.html) instead. Now the build section of my `pom.xml` looks like:\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;fork&gt;true&lt;/fork&gt;\r\n          &lt;mainClass&gt;dz.lab.jpmtask.App&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;!--&lt;version&gt;0.7.8-SNAPSHOT&lt;/version&gt;--&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;jacoco-site&lt;/id&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;report&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI build the project with `mvn clean package` and then `java -jar target/myproject.jar` and it works like a charm.","title":"Failed to process import candidates for configuration class","body":"<p>I just figure it out, I should have been using <a href=\"http://docs.spring.io/spring-boot/docs/current/maven-plugin/usage.html\">Spring Boot maven plugin</a> instead. Now the build section of my <code>pom.xml</code> looks like:</p>\n\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;fork&gt;true&lt;/fork&gt;\n      &lt;mainClass&gt;dz.lab.jpmtask.App&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;repackage&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;!--&lt;version&gt;0.7.8-SNAPSHOT&lt;/version&gt;--&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;prepare-agent&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;jacoco-site&lt;/id&gt;\n        &lt;phase&gt;verify&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;report&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I build the project with <code>mvn clean package</code> and then <code>java -jar target/myproject.jar</code> and it works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":1954967,"reputation":520,"user_id":1758171,"display_name":"Cyanny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587832588,"creation_date":1511509181,"answer_id":47468451,"question_id":39375016,"body_markdown":"I solved it as follows:\r\n\r\n 1. Delete the `spring-boot-maven-plugin`\r\n 2. Config spring transformers in shade plugin please refer to [spring parent pom][1]\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/37bef961ea52e03b48e08c9bc865acb69400621d/spring-boot-starters/spring-boot-starter-parent/pom.xml#L171-L221\r\n","title":"Failed to process import candidates for configuration class","body":"<p>I solved it as follows:</p>\n\n<ol>\n<li>Delete the <code>spring-boot-maven-plugin</code></li>\n<li>Config spring transformers in shade plugin please refer to <a href=\"https://github.com/spring-projects/spring-boot/blob/37bef961ea52e03b48e08c9bc865acb69400621d/spring-boot-starters/spring-boot-starter-parent/pom.xml#L171-L221\" rel=\"nofollow noreferrer\">spring parent pom</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":200630,"reputation":27386,"user_id":446591,"accept_rate":65,"display_name":"Brad Mace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515429131,"creation_date":1515429131,"answer_id":48154366,"question_id":39375016,"body_markdown":"I&#39;ve also gotten the \r\n&gt; Failed to process import candidates for configuration class [...]; nested exception is java.lang.IllegalStateException: Unable to read meta-data for class ...\r\n\r\nerror due to a typo in my `spring.factories` file. In this case the root exception was \r\n&gt;class path resource [...] cannot be opened because it does not exist.\r\n\r\nThis is an important spot to check since it can&#39;t be validated at compile time.","title":"Failed to process import candidates for configuration class","body":"<p>I've also gotten the </p>\n\n<blockquote>\n  <p>Failed to process import candidates for configuration class [...]; nested exception is java.lang.IllegalStateException: Unable to read meta-data for class ...</p>\n</blockquote>\n\n<p>error due to a typo in my <code>spring.factories</code> file. In this case the root exception was </p>\n\n<blockquote>\n  <p>class path resource [...] cannot be opened because it does not exist.</p>\n</blockquote>\n\n<p>This is an important spot to check since it can't be validated at compile time.</p>\n"},{"tags":[],"owner":{"account_id":10294808,"reputation":1177,"user_id":7595371,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523987949,"creation_date":1523987949,"answer_id":49884627,"question_id":39375016,"body_markdown":"I switched from\r\n`mvn clean compile assembly:single`\r\nto\r\n`mvn clean package`\r\nand the error went away.","title":"Failed to process import candidates for configuration class","body":"<p>I switched from\n<code>mvn clean compile assembly:single</code>\nto\n<code>mvn clean package</code>\nand the error went away.</p>\n"},{"tags":[],"owner":{"account_id":9911529,"reputation":3538,"user_id":7338066,"display_name":"susan097"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574938440,"creation_date":1528632592,"answer_id":50783531,"question_id":39375016,"body_markdown":"I think that you have forgotten to use Annotation in your AppConfig.\r\n\r\nAdd following three annotations to your `AppConfig` class: \r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(&quot;Scan_Package_Name&quot;) \r\n    public class AppConfig {\r\n      ... some beans\r\n    }\r\n\r\n","title":"Failed to process import candidates for configuration class","body":"<p>I think that you have forgotten to use Annotation in your AppConfig.</p>\n\n<p>Add following three annotations to your <code>AppConfig</code> class: </p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(\"Scan_Package_Name\") \npublic class AppConfig {\n  ... some beans\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9308065,"reputation":105,"user_id":6910968,"display_name":"Gelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640759952,"creation_date":1640759952,"answer_id":70515945,"question_id":39375016,"body_markdown":"Got the same problem. If you are also using tomcat, cleaning it did the trick for me. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CmUYM.png","title":"Failed to process import candidates for configuration class","body":"<p>Got the same problem. If you are also using tomcat, cleaning it did the trick for me.</p>\n<p><a href=\"https://i.stack.imgur.com/CmUYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CmUYM.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133595,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":39407459,"answer_count":6,"score":27,"last_activity_date":1640759952,"creation_date":1473265316,"question_id":39375016,"body_markdown":"I&#39;ve a spring boot project that I can run successfully from within IntelliJ, but when I package an executable jar I can no longer run it. Here is the stack trace of the exception:\r\n\r\n    18:13:55.254 [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b3d7190: startup date [Wed Sep 07 18:13:55 CEST 2016]; root of context hierarchy\r\n    18:13:55.403 [main] WARN  o.s.c.a.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [el.dorado.App]; nested exception is java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\r\n    18:13:55.414 [main] ERROR o.s.boot.SpringApplication - Application startup failed\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [el.dorado.App]; nested exception is java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\r\n       \tat org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:489)\r\n       \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:191)\r\n       \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:321)\r\n       \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\r\n       \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273)\r\n       \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98)\r\n       \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)\r\n       \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)\r\n       \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\r\n       \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369)\r\n       \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\r\n       \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185)\r\n       \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174)\r\n       \tat dz.lab.jpmtask.App.main(App.java:33)\r\n    Caused by: java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\r\n       \tat org.springframework.util.Assert.notEmpty(Assert.java:276)\r\n       \tat org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelector.getCandidateConfigurations(EnableAutoConfigurationImportSelector.java:145)\r\n       \tat org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelector.selectImports(EnableAutoConfigurationImportSelector.java:84)\r\n       \tat org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:481)\r\n       \t... 13 common frames omitted\r\n\r\nMy configuration is something like:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    public class AppConfig {\r\n      ... some beans\r\n    }\r\n\r\nI&#39;ve added `META-INF/spring.factories` under the project resources folder as described in [43.2 Locating auto-configuration candidates](http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html) as follows But this didn&#39;t fix the problem:\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n    el.dorado.AppConfig\r\n\r\nHere is the project `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;el.dorado&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ElDorado&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;ElDorado&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n         &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n      &lt;/dependencies&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;mainClass&gt;el.dorado.App&lt;/mainClass&gt;\r\n                  &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n              &lt;descriptorRefs&gt;\r\n                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n              &lt;/descriptorRefs&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;0.7.8-SNAPSHOT&lt;/version&gt;--&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"Failed to process import candidates for configuration class","body":"<p>I've a spring boot project that I can run successfully from within IntelliJ, but when I package an executable jar I can no longer run it. Here is the stack trace of the exception:</p>\n\n<pre><code>18:13:55.254 [main] INFO  o.s.c.a.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@b3d7190: startup date [Wed Sep 07 18:13:55 CEST 2016]; root of context hierarchy\n18:13:55.403 [main] WARN  o.s.c.a.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [el.dorado.App]; nested exception is java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\n18:13:55.414 [main] ERROR o.s.boot.SpringApplication - Application startup failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [el.dorado.App]; nested exception is java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\n    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:489)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:191)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:321)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:243)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:273)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:98)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174)\n    at dz.lab.jpmtask.App.main(App.java:33)\nCaused by: java.lang.IllegalArgumentException: No auto configuration classes found in META-INF/spring.factories. If you are using a custom packaging, make sure that file is correct.\n    at org.springframework.util.Assert.notEmpty(Assert.java:276)\n    at org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelector.getCandidateConfigurations(EnableAutoConfigurationImportSelector.java:145)\n    at org.springframework.boot.autoconfigure.EnableAutoConfigurationImportSelector.selectImports(EnableAutoConfigurationImportSelector.java:84)\n    at org.springframework.context.annotation.ConfigurationClassParser.processDeferredImportSelectors(ConfigurationClassParser.java:481)\n    ... 13 common frames omitted\n</code></pre>\n\n<p>My configuration is something like:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\npublic class AppConfig {\n  ... some beans\n}\n</code></pre>\n\n<p>I've added <code>META-INF/spring.factories</code> under the project resources folder as described in <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-developing-auto-configuration.html\" rel=\"noreferrer\">43.2 Locating auto-configuration candidates</a> as follows But this didn't fix the problem:</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\nel.dorado.AppConfig\n</code></pre>\n\n<p>Here is the project <code>pom.xml</code>:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;el.dorado&lt;/groupId&gt;\n  &lt;artifactId&gt;ElDorado&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ElDorado&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n     &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n  &lt;/properties&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;el.dorado.App&lt;/mainClass&gt;\n              &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;0.7.8-SNAPSHOT&lt;/version&gt;--&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;jacoco-initialize&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;jacoco-site&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","spring-transactions"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1640700992,"post_id":70506639,"comment_id":124636799,"body_markdown":"The best way is to test it. Run this query and see what it returns: `SELECT @@TX_ISOLATION;` . And I would add a test on this, as depending on spring to behave correctly is usually a costly mistake.","body":"The best way is to test it. Run this query and see what it returns: <code>SELECT @@TX_ISOLATION;</code> . And I would add a test on this, as depending on spring to behave correctly is usually a costly mistake."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641381297,"post_id":70506639,"comment_id":124788459,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23765944,"reputation":1,"user_id":17780700,"display_name":"xmflsMidy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1640759821,"creation_date":1640692243,"question_id":70506639,"body_markdown":"For example, lets say we have a code like @Transactional(isolation = Isolation.SERIALIZABLE),\r\n,but MySQL has global Isolation level with Repeatable Read,\r\nQuestion is, how will my springboot code behave?\r\n","title":"What happends if @Transactional sets isolation level is different from MySQL&#39;s isolation level?","body":"<p>For example, lets say we have a code like @Transactional(isolation = Isolation.SERIALIZABLE),\n,but MySQL has global Isolation level with Repeatable Read,\nQuestion is, how will my springboot code behave?</p>\n"},{"tags":["java","instance","printwriter"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1639587143,"post_id":70367310,"comment_id":124388455,"body_markdown":"Your `myServer01` and `myServer02` fields refer to servers that are never started. The `startServerMaster()` method declares local variables with the same field names...","body":"Your <code>myServer01</code> and <code>myServer02</code> fields refer to servers that are never started. The <code>startServerMaster()</code> method declares local variables with the same field names..."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1639587316,"post_id":70367310,"comment_id":124388516,"body_markdown":"This may be helpful: https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java","body":"This may be helpful: <a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/ServerSocketEx.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/io/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639587176,"creation_date":1639587176,"answer_id":70367429,"question_id":70367310,"body_markdown":"You have created [shadowed][1] variables `myServer01` and `myServer02` where the global variables do not have `PrintWriter` `pw` initialized. Replace\r\n\r\n    Server myServer01 = new Server();\r\n\r\n\r\nwith \r\n\r\n    myServer01 = new Server();\r\n\r\nand similarly for `myServer02`\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Variable_shadowing","title":"PrintWriter is null in java Server","body":"<p>You have created <a href=\"https://en.wikipedia.org/wiki/Variable_shadowing\" rel=\"nofollow noreferrer\">shadowed</a> variables <code>myServer01</code> and <code>myServer02</code> where the global variables do not have <code>PrintWriter</code> <code>pw</code> initialized. Replace</p>\n<pre><code>Server myServer01 = new Server();\n</code></pre>\n<p>with</p>\n<pre><code>myServer01 = new Server();\n</code></pre>\n<p>and similarly for <code>myServer02</code></p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640759663,"creation_date":1639587360,"answer_id":70367478,"question_id":70367310,"body_markdown":"It is all about timing of events...\r\n\r\nWhen you instantiate a `Server` object, the global variable `pw` is null. It is not until `Server#start()` is called that the writer is properly instantiated. Unfortunately for you, the `CoordiateServer` calls `sendString` before the `Server` objects are running (`start()` is never called).\r\n\r\nThere is no reason why you need to delay the creation of the `PrintWriter`. Make sure it is instantiated in the `Server` constructor.","title":"PrintWriter is null in java Server","body":"<p>It is all about timing of events...</p>\n<p>When you instantiate a <code>Server</code> object, the global variable <code>pw</code> is null. It is not until <code>Server#start()</code> is called that the writer is properly instantiated. Unfortunately for you, the <code>CoordiateServer</code> calls <code>sendString</code> before the <code>Server</code> objects are running (<code>start()</code> is never called).</p>\n<p>There is no reason why you need to delay the creation of the <code>PrintWriter</code>. Make sure it is instantiated in the <code>Server</code> constructor.</p>\n"}],"owner":{"account_id":23656905,"reputation":3,"user_id":17685035,"display_name":"J&#252;rgen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70367429,"answer_count":2,"score":0,"last_activity_date":1640759663,"creation_date":1639586647,"question_id":70367310,"body_markdown":"I have got a problem setting up a server - client connection for a robot in java. \r\nI have got two clients listening to two different ports. When the server is sending an error is occurring the PrintWriter is null. \r\n\r\nPerhaps the methods are in two different instances. But how can I fix that?\r\n\r\nServer code:\r\n```package ServerV4Test;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\n\r\npublic class Server {\r\n\r\n\t// port for the TCP/IP network\r\n\tprivate static int port = 30001;\r\n\tpublic void setPort(int newPort) {\r\n\t\tport = newPort;\r\n\t}\r\n\tprivate ServerSocket serverSocket;\r\n\tprivate Socket socket;\r\n\r\n\tprivate PrintWriter pw;\r\n\r\n\tpublic void start() throws IOException {\r\n\t\tSystem.out.println(&quot;Server: Hi, I am ready to serve you!&quot;);\r\n\t\tSystem.out.println(&quot;Server: Trying to connect.&quot;);\r\n\t\r\n\t\t// get a connection\r\n\t\ttry {\r\n\t\t\tserverSocket = new ServerSocket(port);\r\n\t\t\tsocket = serverSocket.accept();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Server: I got a connection!&quot;);\r\n\r\n\t\tpw = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n\t}\r\n\r\n\tpublic void sendString(String msg) {\r\n\t\tpw.println(msg);\r\n\t\tpw.flush();\t\r\n\t}\r\n\r\n\tpublic void stop() throws IOException {\r\n\t\tpw.close();\r\n\t\tsocket.close();\r\n\t\tserverSocket.close();\r\n\t\tSystem.out.println(&quot;Server has stopped&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nCode of the coordinating class:\r\n```\r\npackage ServerV4Test;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class CoordinateServer {\r\n\t\r\n\tprivate Server myServer01 = new Server();\r\n\tprivate Server myServer02 = new Server();\r\n\t\r\n\tpublic void sendString(String msg) {\r\n\t\t\t\t\tmyServer01.sendString(msg);\r\n\t\t\t\t\tmyServer02.sendString(msg);\r\n\t}\r\n\r\n\tpublic void startServerMaster () throws IOException {\r\n\t\tSystem.out.println(&quot;The server coordinator started!&quot;);\r\n\t\t\r\n\t\t\t\tServer myServer01 = new Server();\r\n\t\t\t\t\r\n\t\t\t\tmyServer01.setPort(30001);\r\n\t\t\t\tmyServer01.start();\r\n\t\t\t\t\r\n\t\t\t\tServer myServer02 = new Server();\r\n\r\n\t\t\t\tmyServer02.setPort(30002);\r\n\t\t\t\tmyServer02.start();\r\n\t}\r\n}\r\n```\r\n\r\nProgramm code: \r\n```package ServerV4Test;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ProgramServer {\r\n\t\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tCoordinateServer coordServer = new CoordinateServer();\r\n\t\tcoordServer.startServerMaster();\r\n\r\n\r\n\t\t\tString sendString = &quot;hello world&quot;;\r\n\t\r\n\t\t\tcoordServer.sendString(sendString);\r\n\t\t\t\r\n\t\t\tcoordServer.closeServerMaster();\r\n\t}\r\n}\r\n```\r\n\r\nError message:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.PrintWriter.println(String)&quot; because &quot;this.pw&quot; is null\r\n\tat ServerV4Test.Server.sendString(Server.java:40)\r\n\tat ServerV4Test.CoordinateServer.sendString(CoordinateServer.java:11)\r\n\tat ServerV4Test.ProgramServer.main(ProgramServer.java:16)\r\n```\r\n\r\nClient code:\r\n```package ServerV4Test;\r\nimport java.io.*;\r\n\r\nimport java.net.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Client {\r\n\r\n\t// set port and IP for the server\r\n\tprivate String hostname =  &quot;localhost&quot;;\t\r\n\tprivate int port;\r\n\tpublic void setHostname (String sHost) {\r\n\t\thostname = sHost;\r\n\t}\r\n\tpublic void setPort(int sPort) {\r\n\t\tport = sPort;\r\n\t}\r\n\tprivate InetSocketAddress address;\r\n\tprivate void createAddress() {\r\n\t\taddress = new InetSocketAddress(hostname, port);\r\n\t}\r\n\r\n\t// create a list for the received strings\r\n\tprivate ArrayList&lt;String&gt; receivedList= new ArrayList&lt;String&gt;();\r\n\r\n\tpublic String getReceivedString() {\r\n\t\tString temp = receivedList.get(0); \r\n\t\treceivedList.remove(0);\r\n\t\treturn temp;\r\n\t}\r\n\r\n\tpublic boolean hasReceivedString() throws IOException {\r\n\t\treceiveString();\r\n\t\tif (receivedList.size() &gt; 0) { \r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Socket socket;\r\n\tprivate BufferedReader bufReader;\r\n\r\n\tpublic void start() throws IOException {\r\n\t\tSystem.out.println(&quot;Client: I start myself!&quot;);\r\n\t\tSystem.out.println(&quot;Client: creating connection!&quot;);\r\n\r\n\t\tsocket = new Socket();\r\n\t\tcreateAddress();\r\n\r\n\t\tsocket.connect(address);\r\n\r\n\t\tSystem.out.println(&quot;Client: I got a connection!&quot;);\r\n\r\n\t\tInputStreamReader iStreamReader = new InputStreamReader(socket.getInputStream());\r\n\t\tbufReader = new BufferedReader(iStreamReader);\r\n\t}\r\n\r\n\tprivate void receiveString() throws IOException {\r\n\t\twhile (bufReader.ready()) {\r\n\t\t\tif(bufReader.ready()) {\r\n\t\t\t\tString message = bufReader.readLine();\r\n\t\t\t\treceivedList.add(message);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void stop() throws IOException {\r\n\t\tbufReader.close();\r\n\t\tsocket.close();\r\n\t\tSystem.out.println(&quot;Client has stopped&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nClient programm:\r\n```package ServerV4Test;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class ProgramUseClient1 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(&quot;client testprogram started&quot;);\r\n\r\n\t\t// create an instance of the server\r\n\t\tClient myClient = new Client();\r\n\r\n\t\tmyClient.setPort(30001);\r\n\r\n\t\t// start client\r\n\t\tmyClient.start();\r\n\r\n\t\t// repeat receiving and sending\r\n\t\tboolean progRunning = true;\r\n\t\twhile(progRunning) {\r\n\r\n\t\t\t// test if something is received\r\n\t\t\tif(myClient.hasReceivedString()) {\r\n\t\t\t\tString receivedString = myClient.getReceivedString();\r\n\t\t\t\tSystem.out.println(&quot;The client 1 received: &quot; + receivedString);\r\n\t\t\t\t// test if client should be stopped\r\n\t\t\t\tmyClient.stop();\r\n\t\t\t\tprogRunning = false;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Goodbye&quot;);\r\n\t}\r\n}\r\n```","title":"PrintWriter is null in java Server","body":"<p>I have got a problem setting up a server - client connection for a robot in java.\nI have got two clients listening to two different ports. When the server is sending an error is occurring the PrintWriter is null.</p>\n<p>Perhaps the methods are in two different instances. But how can I fix that?</p>\n<p>Server code:</p>\n<pre><code>\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\n\npublic class Server {\n\n    // port for the TCP/IP network\n    private static int port = 30001;\n    public void setPort(int newPort) {\n        port = newPort;\n    }\n    private ServerSocket serverSocket;\n    private Socket socket;\n\n    private PrintWriter pw;\n\n    public void start() throws IOException {\n        System.out.println(&quot;Server: Hi, I am ready to serve you!&quot;);\n        System.out.println(&quot;Server: Trying to connect.&quot;);\n    \n        // get a connection\n        try {\n            serverSocket = new ServerSocket(port);\n            socket = serverSocket.accept();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Server: I got a connection!&quot;);\n\n        pw = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()));\n    }\n\n    public void sendString(String msg) {\n        pw.println(msg);\n        pw.flush(); \n    }\n\n    public void stop() throws IOException {\n        pw.close();\n        socket.close();\n        serverSocket.close();\n        System.out.println(&quot;Server has stopped&quot;);\n    }\n}\n</code></pre>\n<p>Code of the coordinating class:</p>\n<pre><code>package ServerV4Test;\n\nimport java.io.IOException;\n\npublic class CoordinateServer {\n    \n    private Server myServer01 = new Server();\n    private Server myServer02 = new Server();\n    \n    public void sendString(String msg) {\n                    myServer01.sendString(msg);\n                    myServer02.sendString(msg);\n    }\n\n    public void startServerMaster () throws IOException {\n        System.out.println(&quot;The server coordinator started!&quot;);\n        \n                Server myServer01 = new Server();\n                \n                myServer01.setPort(30001);\n                myServer01.start();\n                \n                Server myServer02 = new Server();\n\n                myServer02.setPort(30002);\n                myServer02.start();\n    }\n}\n</code></pre>\n<p>Programm code:</p>\n<pre><code>\nimport java.io.IOException;\n\npublic class ProgramServer {\n        \n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n\n        CoordinateServer coordServer = new CoordinateServer();\n        coordServer.startServerMaster();\n\n\n            String sendString = &quot;hello world&quot;;\n    \n            coordServer.sendString(sendString);\n            \n            coordServer.closeServerMaster();\n    }\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.io.PrintWriter.println(String)&quot; because &quot;this.pw&quot; is null\n    at ServerV4Test.Server.sendString(Server.java:40)\n    at ServerV4Test.CoordinateServer.sendString(CoordinateServer.java:11)\n    at ServerV4Test.ProgramServer.main(ProgramServer.java:16)\n</code></pre>\n<p>Client code:</p>\n<pre><code>import java.io.*;\n\nimport java.net.*;\nimport java.util.ArrayList;\n\npublic class Client {\n\n    // set port and IP for the server\n    private String hostname =  &quot;localhost&quot;; \n    private int port;\n    public void setHostname (String sHost) {\n        hostname = sHost;\n    }\n    public void setPort(int sPort) {\n        port = sPort;\n    }\n    private InetSocketAddress address;\n    private void createAddress() {\n        address = new InetSocketAddress(hostname, port);\n    }\n\n    // create a list for the received strings\n    private ArrayList&lt;String&gt; receivedList= new ArrayList&lt;String&gt;();\n\n    public String getReceivedString() {\n        String temp = receivedList.get(0); \n        receivedList.remove(0);\n        return temp;\n    }\n\n    public boolean hasReceivedString() throws IOException {\n        receiveString();\n        if (receivedList.size() &gt; 0) { \n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n\n    private Socket socket;\n    private BufferedReader bufReader;\n\n    public void start() throws IOException {\n        System.out.println(&quot;Client: I start myself!&quot;);\n        System.out.println(&quot;Client: creating connection!&quot;);\n\n        socket = new Socket();\n        createAddress();\n\n        socket.connect(address);\n\n        System.out.println(&quot;Client: I got a connection!&quot;);\n\n        InputStreamReader iStreamReader = new InputStreamReader(socket.getInputStream());\n        bufReader = new BufferedReader(iStreamReader);\n    }\n\n    private void receiveString() throws IOException {\n        while (bufReader.ready()) {\n            if(bufReader.ready()) {\n                String message = bufReader.readLine();\n                receivedList.add(message);\n            }\n        }\n    }\n\n    public void stop() throws IOException {\n        bufReader.close();\n        socket.close();\n        System.out.println(&quot;Client has stopped&quot;);\n    }\n}\n</code></pre>\n<p>Client programm:</p>\n<pre><code>\nimport java.io.IOException;\n\npublic class ProgramUseClient1 {\n\n    public static void main(String[] args) throws IOException {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;client testprogram started&quot;);\n\n        // create an instance of the server\n        Client myClient = new Client();\n\n        myClient.setPort(30001);\n\n        // start client\n        myClient.start();\n\n        // repeat receiving and sending\n        boolean progRunning = true;\n        while(progRunning) {\n\n            // test if something is received\n            if(myClient.hasReceivedString()) {\n                String receivedString = myClient.getReceivedString();\n                System.out.println(&quot;The client 1 received: &quot; + receivedString);\n                // test if client should be stopped\n                myClient.stop();\n                progRunning = false;\n            }\n\n        }\n        System.out.println(&quot;Goodbye&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"score":0,"creation_date":1413296452,"post_id":26363078,"comment_id":41384018,"body_markdown":"What behavior are you seeing? Also, it might help to break your program into smaller chunks (eg one for taking input; one for generating output) that you can test independently.","body":"What behavior are you seeing? Also, it might help to break your program into smaller chunks (eg one for taking input; one for generating output) that you can test independently."},{"owner":{"account_id":1084650,"reputation":2901,"user_id":1080648,"accept_rate":87,"display_name":"Jon Story"},"score":0,"creation_date":1413296478,"post_id":26363078,"comment_id":41384037,"body_markdown":"What is/isn&#39;t happening that you&#39;re expecting? Your code looks sensible at first glance.","body":"What is/isn&#39;t happening that you&#39;re expecting? Your code looks sensible at first glance."},{"owner":{"account_id":27569,"reputation":7306,"user_id":72908,"accept_rate":84,"display_name":"James Kingsbery"},"score":0,"creation_date":1413296531,"post_id":26363078,"comment_id":41384067,"body_markdown":"From your description, it seems like you should be taking in only the specified amount of numbers, but your while loop keeps going as long as the input is valid...","body":"From your description, it seems like you should be taking in only the specified amount of numbers, but your while loop keeps going as long as the input is valid..."},{"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"score":0,"creation_date":1413296638,"post_id":26363078,"comment_id":41384141,"body_markdown":"`while (n &gt;= 0 || n &lt;= 100)` : always true, infinite loop","body":"<code>while (n &gt;= 0 || n &lt;= 100)</code> : always true, infinite loop"},{"owner":{"account_id":1187478,"reputation":183,"user_id":1161152,"accept_rate":60,"display_name":"tienbuiDE"},"score":0,"creation_date":1413296646,"post_id":26363078,"comment_id":41384150,"body_markdown":"you are using the variable `n` as counter (how many numbers will be entered) _and_ for the entered number. use 2 different variables. besides you have to decrease the variable for the counter in the correct while-loop.","body":"you are using the variable <code>n</code> as counter (how many numbers will be entered) <i>and</i> for the entered number. use 2 different variables. besides you have to decrease the variable for the counter in the correct while-loop."},{"owner":{"account_id":1084650,"reputation":2901,"user_id":1080648,"accept_rate":87,"display_name":"Jon Story"},"score":0,"creation_date":1413297955,"post_id":26363078,"comment_id":41384981,"body_markdown":"Also, at least be polite enough to tag your question as homework, so we know we&#39;re doing your homework for you ;) in this case you&#39;d made a decent effort and I don&#39;t think anyone will mind (IMO, as long as you learn the write answer, who cares?) but it&#39;s still nice to mention it.","body":"Also, at least be polite enough to tag your question as homework, so we know we&#39;re doing your homework for you ;) in this case you&#39;d made a decent effort and I don&#39;t think anyone will mind (IMO, as long as you learn the write answer, who cares?) but it&#39;s still nice to mention it."}],"answers":[{"tags":[],"owner":{"account_id":4503396,"reputation":1917,"user_id":3661415,"accept_rate":61,"display_name":"Kamil Kłys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1413358115,"creation_date":1413296813,"answer_id":26363322,"question_id":26363078,"body_markdown":"Second while loop is infinite. Relplace it with something like this:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        int b = input.nextInt();\r\n        if (b % 2 == 0) {\r\n            even++;\r\n        } else {\r\n        \todd++;\r\n        }\r\n    }\r\n\r\nAlso I don&#39;t understand why are you incrementing `n` in first loop. For example when you will first give `-5`, you will be asked to re-enter the number. Then you type `-1`, but it gets incremented and in fact program processes `0`, altough user typed `-1`. In my opinion it is not how it suppose to work and you should just remove this `n++`.\r\n\r\nAs you asked in comment - the same using `while` loop:\r\n\r\n    while(n &gt; 0) {\r\n        n--;\r\n        int b = input.nextInt();\r\n        if (b % 2 == 0) {\r\n            even++;\r\n        } else {\r\n        \todd++;\r\n        }\r\n    }\r\n\r\nAlso it is good idea to close `input` when you no longer need it (for example at the end of main method)\r\n\r\n    input.close();","title":"java program outputting even/odd numbers","body":"<p>Second while loop is infinite. Relplace it with something like this:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    int b = input.nextInt();\n    if (b % 2 == 0) {\n        even++;\n    } else {\n        odd++;\n    }\n}\n</code></pre>\n\n<p>Also I don't understand why are you incrementing <code>n</code> in first loop. For example when you will first give <code>-5</code>, you will be asked to re-enter the number. Then you type <code>-1</code>, but it gets incremented and in fact program processes <code>0</code>, altough user typed <code>-1</code>. In my opinion it is not how it suppose to work and you should just remove this <code>n++</code>.</p>\n\n<p>As you asked in comment - the same using <code>while</code> loop:</p>\n\n<pre><code>while(n &gt; 0) {\n    n--;\n    int b = input.nextInt();\n    if (b % 2 == 0) {\n        even++;\n    } else {\n        odd++;\n    }\n}\n</code></pre>\n\n<p>Also it is good idea to close <code>input</code> when you no longer need it (for example at the end of main method)</p>\n\n<pre><code>input.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1084650,"reputation":2901,"user_id":1080648,"accept_rate":87,"display_name":"Jon Story"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413298138,"creation_date":1413297793,"answer_id":26363673,"question_id":26363078,"body_markdown":"You had two issues - first you were incrementing n in the first loop, rather than waiting for the user to enter a valid number.\r\n\r\nIn the second loop, you weren&#39;t comparing the number of entries the user WANTED to make with the number they HAD made - you were over-writing the former with the new number.\r\n\r\nThis version should work, although I&#39;ve not tested it as I don&#39;t have java on this machine.\r\n\r\nNote that we now sit and wait for both inputs, and use different variable names for the &quot;how many numbers will you enter&quot; (n) and &quot;what is the next number you wish to enter&quot; (num) variables? Along with a new variable i to keep track of how many numbers the user has entered.\r\n\r\n    import java.util.Scanner; \r\n    public class Clancy_Lab_06_03\r\n    { \r\n    \tpublic static void main (String[] args)\r\n    \t{\r\n    \t\tScanner input = new Scanner (System.in);\r\n    \t\tint n;\r\n    \t\tSystem.out.println (&quot;How many numbers will be entered?&quot;);\r\n    \t\tn = input.nextInt();\r\n    \t\t\r\n    \t\t//Wait for a valid input\r\n    \t\twhile (n &lt; 0 || n &gt; 100)\r\n    \t\t{\r\n    \t\t\tSystem.out.println (&quot;ERROR! Valid range 0-100. RE-Enter:&quot;);\r\n    \t\t\tn = input.nextInt();\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t//Setup variables for the loop\r\n    \t\tint odd = 0;\r\n    \t\tint even = 0;\r\n    \t\tint num;\r\n    \r\n    \t\t//Keep counting up until we hit n (where n is the number of entries the user just said they want to make)\r\n    \t\tfor(int i = 0; i &lt; n; i++)\r\n    \t\t{\r\n    \t\t\t//Changed this, because you were over-writing n (remember, n is the number of entries the user wants to make)\r\n    \t\t\t//Get a new input    \t\t\r\n        \t\twhile (num &lt; 0 || num &gt; 100)\r\n        \t\t{\r\n    \t    \t\tSystem.out.println (&quot;ERROR! Valid range 0-100. RE-Enter:&quot;);\r\n    \t\t    \tnum = input.nextInt();\t\t\r\n        \t\t}\r\n\r\n    \t\t\t//Check whether the user&#39;s input is even or odd\r\n    \t\t\tif (num % 2 == 0)\r\n    \t\t\t{\r\n    \t\t\t\teven++;\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\todd++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \tSystem.out.println(even + &quot; even. &quot; + odd + &quot; odd.&quot;);\r\n    \t}\r\n    }","title":"java program outputting even/odd numbers","body":"<p>You had two issues - first you were incrementing n in the first loop, rather than waiting for the user to enter a valid number.</p>\n\n<p>In the second loop, you weren't comparing the number of entries the user WANTED to make with the number they HAD made - you were over-writing the former with the new number.</p>\n\n<p>This version should work, although I've not tested it as I don't have java on this machine.</p>\n\n<p>Note that we now sit and wait for both inputs, and use different variable names for the \"how many numbers will you enter\" (n) and \"what is the next number you wish to enter\" (num) variables? Along with a new variable i to keep track of how many numbers the user has entered.</p>\n\n<pre><code>import java.util.Scanner; \npublic class Clancy_Lab_06_03\n{ \n    public static void main (String[] args)\n    {\n        Scanner input = new Scanner (System.in);\n        int n;\n        System.out.println (\"How many numbers will be entered?\");\n        n = input.nextInt();\n\n        //Wait for a valid input\n        while (n &lt; 0 || n &gt; 100)\n        {\n            System.out.println (\"ERROR! Valid range 0-100. RE-Enter:\");\n            n = input.nextInt();        \n        }\n\n        //Setup variables for the loop\n        int odd = 0;\n        int even = 0;\n        int num;\n\n        //Keep counting up until we hit n (where n is the number of entries the user just said they want to make)\n        for(int i = 0; i &lt; n; i++)\n        {\n            //Changed this, because you were over-writing n (remember, n is the number of entries the user wants to make)\n            //Get a new input           \n            while (num &lt; 0 || num &gt; 100)\n            {\n                System.out.println (\"ERROR! Valid range 0-100. RE-Enter:\");\n                num = input.nextInt();      \n            }\n\n            //Check whether the user's input is even or odd\n            if (num % 2 == 0)\n            {\n                even++;\n            }\n            else\n            {\n                odd++;\n            }\n        }\n    System.out.println(even + \" even. \" + odd + \" odd.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640759345,"creation_date":1413304382,"answer_id":26365781,"question_id":26363078,"body_markdown":"My suggestion to you is to have a clear separation of your requirements. From your post, you indicate you need to prompt the user for two distinct data items:\r\n\r\n 1. How many numbers will be entered (**count**)\r\n 2. The **values** to be analyzed\r\n\r\nIt is a good practice, especially when you are learning, to use meaningful names for your variables. You are using &#39;n&#39; for a variable name, then reusing it for different purposes during execution.  For you, it is obvious it was difficult to figure out what was &#39;n&#39; at a particular part of the program.\r\n```\r\nScanner input = new Scanner (System.in);\r\nint count;\r\nSystem.out.println (&quot;How many numbers will be entered?&quot;);\r\ncount = input.nextInt();\r\n\r\n//Wait for a valid input\r\nwhile (count &lt; 1 || count &gt; 100)\r\n{\r\n    System.out.println (&quot;ERROR! Valid range 1-100. RE-Enter:&quot;);\r\n    count = input.nextInt();        \r\n}\r\n```\r\nAdditionally, a count of zero should not be valid.  It does not make sense to run a program to evaluate zero values (don&#39;t bother a program that does nothing).  I believe the lowest count should be one instead.\r\n```\r\nint odd = 0;\r\nint even = 0;\r\nint value;\r\n\r\ndo\r\n{\r\n    System.out.print(&quot;Enter a number between 0 and 100: &quot;);\r\n    value = input.nextInt();\r\n    while (value &lt; 0 || value &gt; 100)\r\n    {\r\n        System.out.println (&quot;ERROR! Valid range 0-100. RE-Enter:&quot;);\r\n        value = input.nextInt();      \r\n    }\r\n\r\n    if (value % 2 == 0)\r\n    {\r\n        even++;\r\n    }\r\n    else\r\n    {\r\n        odd++;\r\n    }\r\n\r\ncount--; // decrement count to escape loop\r\n} while (count &gt; 0);\r\nSystem.out.println(even + &quot; even. &quot; + odd + &quot; odd.&quot;);\r\n```\r\nThis example uses a do/while loop because in this case, it is OK to enter the loop at least once.  This is because you do not allow the user to enter an invalid number of iterations in the first part of the program.  I use that count variable directly for loop control (by decrementing its value down to 0), rather than creating another variable for loop control (for instance , &#39;i&#39;).\r\n\r\nAnother thing, slightly off topic, is that your requirements were not clear.  You only indicated that the value was bounded to (inclusive) values between 0 and 100.  However, how many times you needed to repeat the evaluation was not really clear.  Most people assume 100 was also the upper bound for your counter variable.  Because the requirement is not clear, checking a value greater or equal to 1 for the count might be valid, although highly improbable (you don&#39;t really want to repeat a million times).\r\n\r\nLastly, you have to pay attention to AND and OR logic in your code.  As it was indicated, your second while loop:\r\n```\r\nwhile (n &gt;= 0 || n &lt;= 100) {}\r\n```\r\nIs infinite. Because an OR evaluation only needs one part to evaluate to TRUE, any number entered will allow the loop to continue. Obviously, the intent was not allow values greater than 100.  However, entering 150 allows the loop to continue because 150 &gt;= 0.  Likewise, -90 also allows the loop to continue because -90 &lt;= 100.  This is when pseudocode helps when you are learning.  You wanted to express &quot;a VALUE between lower_limit AND upper_limit.&quot;  If you reverse the logic to evaluate values outside the limit, then you can say &quot; value below lower_limit OR above upper_limit.&quot;  These pseudocode expressions are very helpful determining which logical operator you need.\r\n\r\nI also took the liberty to add a message to prompt the user for a value. Your program expects the user to enter two numbers (count and value) but only one prompt message is provided; unless they enter an out of range value.","title":"java program outputting even/odd numbers","body":"<p>My suggestion to you is to have a clear separation of your requirements. From your post, you indicate you need to prompt the user for two distinct data items:</p>\n<ol>\n<li>How many numbers will be entered (<strong>count</strong>)</li>\n<li>The <strong>values</strong> to be analyzed</li>\n</ol>\n<p>It is a good practice, especially when you are learning, to use meaningful names for your variables. You are using 'n' for a variable name, then reusing it for different purposes during execution.  For you, it is obvious it was difficult to figure out what was 'n' at a particular part of the program.</p>\n<pre><code>Scanner input = new Scanner (System.in);\nint count;\nSystem.out.println (&quot;How many numbers will be entered?&quot;);\ncount = input.nextInt();\n\n//Wait for a valid input\nwhile (count &lt; 1 || count &gt; 100)\n{\n    System.out.println (&quot;ERROR! Valid range 1-100. RE-Enter:&quot;);\n    count = input.nextInt();        \n}\n</code></pre>\n<p>Additionally, a count of zero should not be valid.  It does not make sense to run a program to evaluate zero values (don't bother a program that does nothing).  I believe the lowest count should be one instead.</p>\n<pre><code>int odd = 0;\nint even = 0;\nint value;\n\ndo\n{\n    System.out.print(&quot;Enter a number between 0 and 100: &quot;);\n    value = input.nextInt();\n    while (value &lt; 0 || value &gt; 100)\n    {\n        System.out.println (&quot;ERROR! Valid range 0-100. RE-Enter:&quot;);\n        value = input.nextInt();      \n    }\n\n    if (value % 2 == 0)\n    {\n        even++;\n    }\n    else\n    {\n        odd++;\n    }\n\ncount--; // decrement count to escape loop\n} while (count &gt; 0);\nSystem.out.println(even + &quot; even. &quot; + odd + &quot; odd.&quot;);\n</code></pre>\n<p>This example uses a do/while loop because in this case, it is OK to enter the loop at least once.  This is because you do not allow the user to enter an invalid number of iterations in the first part of the program.  I use that count variable directly for loop control (by decrementing its value down to 0), rather than creating another variable for loop control (for instance , 'i').</p>\n<p>Another thing, slightly off topic, is that your requirements were not clear.  You only indicated that the value was bounded to (inclusive) values between 0 and 100.  However, how many times you needed to repeat the evaluation was not really clear.  Most people assume 100 was also the upper bound for your counter variable.  Because the requirement is not clear, checking a value greater or equal to 1 for the count might be valid, although highly improbable (you don't really want to repeat a million times).</p>\n<p>Lastly, you have to pay attention to AND and OR logic in your code.  As it was indicated, your second while loop:</p>\n<pre><code>while (n &gt;= 0 || n &lt;= 100) {}\n</code></pre>\n<p>Is infinite. Because an OR evaluation only needs one part to evaluate to TRUE, any number entered will allow the loop to continue. Obviously, the intent was not allow values greater than 100.  However, entering 150 allows the loop to continue because 150 &gt;= 0.  Likewise, -90 also allows the loop to continue because -90 &lt;= 100.  This is when pseudocode helps when you are learning.  You wanted to express &quot;a VALUE between lower_limit AND upper_limit.&quot;  If you reverse the logic to evaluate values outside the limit, then you can say &quot; value below lower_limit OR above upper_limit.&quot;  These pseudocode expressions are very helpful determining which logical operator you need.</p>\n<p>I also took the liberty to add a message to prompt the user for a value. Your program expects the user to enter two numbers (count and value) but only one prompt message is provided; unless they enter an out of range value.</p>\n"},{"tags":[],"owner":{"account_id":20169709,"reputation":1,"user_id":14792800,"display_name":"Mohammad Rajabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607504988,"creation_date":1607503556,"answer_id":65213370,"question_id":26363078,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Test2 {\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Enter an Integer number:&quot;);\r\n\r\n        Scanner input = new Scanner(System.in);\r\n       int num = input.nextInt();\r\n\r\n\r\n        if ( num % 2 == 0 )\r\n            System.out.println(&quot;Entered number is even&quot;);\r\n        else\r\n            System.out.println(&quot;Entered number is odd&quot;);\r\n    }\r\n}\r\n```","title":"java program outputting even/odd numbers","body":"<pre><code>import java.util.Scanner;\n\npublic class Test2 {\n    public static void main(String[] args) {\n\n        System.out.println(&quot;Enter an Integer number:&quot;);\n\n        Scanner input = new Scanner(System.in);\n       int num = input.nextInt();\n\n\n        if ( num % 2 == 0 )\n            System.out.println(&quot;Entered number is even&quot;);\n        else\n            System.out.println(&quot;Entered number is odd&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15972733,"reputation":17,"user_id":11526394,"display_name":"Milaan Mandal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618079169,"creation_date":1618079169,"answer_id":67037875,"question_id":26363078,"body_markdown":" - **extract even numbers from arrayList**\r\n\r\nArrayList&lt;Integer&gt; numberList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,4,5,6));\r\n         \r\nnumberList.stream().filter(i -&gt; i % 2 == 0).forEach(System.out::println);","title":"java program outputting even/odd numbers","body":"<ul>\n<li><strong>extract even numbers from arrayList</strong></li>\n</ul>\n<p>ArrayList numberList = new ArrayList&lt;&gt;(Arrays.asList(1,2,3,4,5,6));</p>\n<p>numberList.stream().filter(i -&gt; i % 2 == 0).forEach(System.out::println);</p>\n"}],"owner":{"account_id":4229612,"reputation":25,"user_id":3462263,"display_name":"user3462263"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1640759345,"creation_date":1413296180,"question_id":26363078,"body_markdown":"My task is to write a java program that first asks the user how many numbers will be inputted, then outputs how many odd and even numbers that were entered. It is restricted to ints 0-100. My question is: What am I missing in my code?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Clancy_Lab_06_03 {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            int n;\r\n            System.out.println(&quot;How many numbers will be entered?&quot;);\r\n            n = input.nextInt();\r\n            while (n &lt; 0 || n &gt; 100) {\r\n                System.out.println(&quot;ERROR! Valid range 0-100. RE-Enter:&quot;);\r\n                n = input.nextInt();\r\n                n++;\r\n            }\r\n            int odd = 0;\r\n            int even = 0;\r\n            while (n &gt;= 0 || n &lt;= 100) {\r\n                n = input.nextInt();\r\n                if (n % 2 == 0) {\r\n                    even++;\r\n                } else {\r\n                    odd++;\r\n                }\r\n    \r\n            }\r\n            System.out.println(even + &quot;even&quot; + odd + &quot;odd&quot;);\r\n        }\r\n    }\r\n","title":"java program outputting even/odd numbers","body":"<p>My task is to write a java program that first asks the user how many numbers will be inputted, then outputs how many odd and even numbers that were entered. It is restricted to ints 0-100. My question is: What am I missing in my code?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Clancy_Lab_06_03 {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int n;\n        System.out.println(\"How many numbers will be entered?\");\n        n = input.nextInt();\n        while (n &lt; 0 || n &gt; 100) {\n            System.out.println(\"ERROR! Valid range 0-100. RE-Enter:\");\n            n = input.nextInt();\n            n++;\n        }\n        int odd = 0;\n        int even = 0;\n        while (n &gt;= 0 || n &lt;= 100) {\n            n = input.nextInt();\n            if (n % 2 == 0) {\n                even++;\n            } else {\n                odd++;\n            }\n\n        }\n        System.out.println(even + \"even\" + odd + \"odd\");\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-manifest"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1640715195,"post_id":70510891,"comment_id":124641473,"body_markdown":"Change it back. If not already, start using version control. Good luck!","body":"Change it back. If not already, start using version control. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640725942,"creation_date":1640725942,"answer_id":70512560,"question_id":70510891,"body_markdown":"There&#39;s a typo in `android:exported=&quot;fasle&quot;` - it should be `android:exported=&quot;false&quot;`.","title":"Manifest giving me errors","body":"<p>There's a typo in <code>android:exported=&quot;fasle&quot;</code> - it should be <code>android:exported=&quot;false&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1640758663,"creation_date":1640742565,"answer_id":70514367,"question_id":70510891,"body_markdown":"I think you need to create activity from android studio menu instead of manually to avoid typing errors in `AndroidManifest.xml.`\r\n\r\n    File &gt; New &gt; Activity &gt; Empty Activity\r\n\r\nor\r\n\r\n    Right click your specific package, and choose New &gt; Activity &gt; Empty Activity\r\n\r\nor \r\n\r\n[See this step][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nqyQM.png","title":"Manifest giving me errors","body":"<p>I think you need to create activity from android studio menu instead of manually to avoid typing errors in <code>AndroidManifest.xml.</code></p>\n<pre><code>File &gt; New &gt; Activity &gt; Empty Activity\n</code></pre>\n<p>or</p>\n<pre><code>Right click your specific package, and choose New &gt; Activity &gt; Empty Activity\n</code></pre>\n<p>or</p>\n<p><a href=\"https://i.stack.imgur.com/nqyQM.png\" rel=\"nofollow noreferrer\">See this step</a></p>\n"}],"owner":{"account_id":23768646,"reputation":1,"user_id":17783047,"display_name":"Adam Am."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1640758663,"creation_date":1640714972,"question_id":70510891,"body_markdown":"my app was working all fine. I changed the manifest value to &quot;false&quot; for exported , now nothing works. When I run the app , the boolean vale switches to &quot;false&quot; not even &quot;false&quot; !!!\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.cepsa&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n    \r\n        &lt;uses-sdk\r\n            android:minSdkVersion=&quot;21&quot;\r\n            android:targetSdkVersion=&quot;31&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:appComponentFactory=&quot;androidx.core.app.CoreComponentFactory&quot;\r\n            android:debuggable=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:testOnly=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Cepsa&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;com.example.cepsa.Citernes&quot;\r\n                android:exported=&quot;fasle&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;com.example.cepsa.MainActivity&quot;\r\n                android:exported=&quot;true&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Manifest giving me errors","body":"<p>my app was working all fine. I changed the manifest value to &quot;false&quot; for exported , now nothing works. When I run the app , the boolean vale switches to &quot;false&quot; not even &quot;false&quot; !!!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.cepsa&quot;\n    android:versionCode=&quot;1&quot;\n    android:versionName=&quot;1.0&quot; &gt;\n\n    &lt;uses-sdk\n        android:minSdkVersion=&quot;21&quot;\n        android:targetSdkVersion=&quot;31&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:appComponentFactory=&quot;androidx.core.app.CoreComponentFactory&quot;\n        android:debuggable=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:testOnly=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Cepsa&quot; &gt;\n        &lt;activity\n            android:name=&quot;com.example.cepsa.Citernes&quot;\n            android:exported=&quot;fasle&quot; /&gt;\n        &lt;activity\n            android:name=&quot;com.example.cepsa.MainActivity&quot;\n            android:exported=&quot;true&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1883267,"reputation":7504,"user_id":1702990,"display_name":"Sinkingpoint"},"score":1,"creation_date":1383123442,"post_id":19677718,"comment_id":29225226,"body_markdown":"Make the variable static or make an instance of the class the variable is in. Also, it&#39;s probably bad design to be implementing such a method as static in the first place but hey...","body":"Make the variable static or make an instance of the class the variable is in. Also, it&#39;s probably bad design to be implementing such a method as static in the first place but hey..."}],"answers":[{"tags":[],"owner":{"account_id":2766699,"reputation":6030,"user_id":2382246,"accept_rate":100,"display_name":"blalasaadri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383123467,"creation_date":1383123467,"answer_id":19677753,"question_id":19677718,"body_markdown":"Basically you have to pass an instance of the object containing the non-static variable to the static function and access it there.\r\n\r\nThat would look something like this:\r\n\r\n    public class ObjectToBeWritten {\r\n      private int nonStaticVariable;\r\n      \r\n      public ObjectToBeWritten() {\r\n          // ...\r\n      }\r\n      \r\n      public int getNonStaticVariable() {\r\n          return nonStaticVariable;\r\n      }\r\n      \r\n      public static void outputToTxt(ObjectToBeWritten object) {\r\n          nonStaticVariable = object.getNonStaticVariable();\r\n          // ...\r\n      }\r\n    }\r\nThen you just call `ObjectToBeWritten.outputToTxt(object)` with the object that contains the non-static variable.","title":"Using a non-static variable in a static method JAVA","body":"<p>Basically you have to pass an instance of the object containing the non-static variable to the static function and access it there.</p>\n\n<p>That would look something like this:</p>\n\n<pre><code>public class ObjectToBeWritten {\n  private int nonStaticVariable;\n\n  public ObjectToBeWritten() {\n      // ...\n  }\n\n  public int getNonStaticVariable() {\n      return nonStaticVariable;\n  }\n\n  public static void outputToTxt(ObjectToBeWritten object) {\n      nonStaticVariable = object.getNonStaticVariable();\n      // ...\n  }\n}\n</code></pre>\n\n<p>Then you just call <code>ObjectToBeWritten.outputToTxt(object)</code> with the object that contains the non-static variable.</p>\n"},{"tags":[],"owner":{"account_id":3295353,"reputation":4907,"user_id":2772755,"display_name":"Admit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383123526,"creation_date":1383123526,"answer_id":19677770,"question_id":19677718,"body_markdown":"Non static means that it belongs to some class instance(object). So pass this object to your static method and/or create those objects inside it.","title":"Using a non-static variable in a static method JAVA","body":"<p>Non static means that it belongs to some class instance(object). So pass this object to your static method and/or create those objects inside it.</p>\n"},{"tags":[],"owner":{"account_id":3283366,"reputation":1,"user_id":2763394,"display_name":"feng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383124190,"creation_date":1383124190,"answer_id":19678009,"question_id":19677718,"body_markdown":"you should know non-static method belongs to Object ,but static method belongs to Class.Therefore the getNonStaticVariables method and nonStaticVariable should be static or  change the outputToTxt to non-static.","title":"Using a non-static variable in a static method JAVA","body":"<p>you should know non-static method belongs to Object ,but static method belongs to Class.Therefore the getNonStaticVariables method and nonStaticVariable should be static or  change the outputToTxt to non-static.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640758598,"creation_date":1558452386,"answer_id":56241619,"question_id":19677718,"body_markdown":"My first thought is that perhaps either your non-static variable or your static method belong somewhere else.\r\n\r\nWhen a class hold variable, non-static contents, it&#39;s probably a bad idea to provide static accessor functions that use that variable. I think the best solution is to separate the two, giving the responsibility of storing the mutable data in some Data Provider class that can provide a DEFENSIVE COPY of this variable. Perhaps you don&#39;t see the need for it because your example deals with a primitive value. But, if you were to change that to some object reference, you could run into all sorts of problems; one of which is that your code will not be thread-safe.\r\n```\r\npublic class MyDataProvider {\r\n  private Object nonStaticVariable;\r\n\r\n  public MyDataProvider () {\r\n    // ...\r\n  }\r\n\r\n  public Object getNonStaticVariable() {\r\n    Object copy = new Object();\r\n    // copy the internals from nonStaticVariable to copy\r\n    return copy;\r\n  }\r\n}\r\n```\r\nThen, your utility class can use the copy of `nonStaticVariable` to do its work...\r\n```\r\npublic class MyUtilityClass {\r\n  public static void outputToTxt(Object nonStaticVariableCopy) {\r\n    // do your work\r\n  }\r\n}\r\n```\r\nThis solution solves all those problems and is much more robust:\r\n\r\n 1. Allows a non-static variable to be used by a static method\r\n 2. Your code will be thread-safe because you are using a copy of the non-static variable instead of the original variable.\r\n 3. Separation of concerns: Your utility class doesn&#39;t store any variables; thus all methods of the utility class can be static (like Java&#39;s `Math` class), and your Data Provider can be the container that holds your variables.","title":"Using a non-static variable in a static method JAVA","body":"<p>My first thought is that perhaps either your non-static variable or your static method belong somewhere else.</p>\n<p>When a class hold variable, non-static contents, it's probably a bad idea to provide static accessor functions that use that variable. I think the best solution is to separate the two, giving the responsibility of storing the mutable data in some Data Provider class that can provide a DEFENSIVE COPY of this variable. Perhaps you don't see the need for it because your example deals with a primitive value. But, if you were to change that to some object reference, you could run into all sorts of problems; one of which is that your code will not be thread-safe.</p>\n<pre><code>public class MyDataProvider {\n  private Object nonStaticVariable;\n\n  public MyDataProvider () {\n    // ...\n  }\n\n  public Object getNonStaticVariable() {\n    Object copy = new Object();\n    // copy the internals from nonStaticVariable to copy\n    return copy;\n  }\n}\n</code></pre>\n<p>Then, your utility class can use the copy of <code>nonStaticVariable</code> to do its work...</p>\n<pre><code>public class MyUtilityClass {\n  public static void outputToTxt(Object nonStaticVariableCopy) {\n    // do your work\n  }\n}\n</code></pre>\n<p>This solution solves all those problems and is much more robust:</p>\n<ol>\n<li>Allows a non-static variable to be used by a static method</li>\n<li>Your code will be thread-safe because you are using a copy of the non-static variable instead of the original variable.</li>\n<li>Separation of concerns: Your utility class doesn't store any variables; thus all methods of the utility class can be static (like Java's <code>Math</code> class), and your Data Provider can be the container that holds your variables.</li>\n</ol>\n"}],"owner":{"account_id":3319164,"reputation":103,"user_id":2790763,"accept_rate":0,"display_name":"Amie-lea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4444,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":4,"score":-1,"last_activity_date":1640758598,"creation_date":1383123326,"question_id":19677718,"body_markdown":"So I am writing a very large java code, within this code I want it to output files in a particular file format. In this instance it is going to be a simple .txt file. \r\n\r\nThe data I am outputting is a series of coordinates, these coordinates have undergone rotation using an angle that is determined by the user prior to this code section. \r\n\r\nThe code to write the file is obviously in a static method but the angle I am calling is a non-static variable... how do I call this and get it to work?\r\n\r\n","title":"Using a non-static variable in a static method JAVA","body":"<p>So I am writing a very large java code, within this code I want it to output files in a particular file format. In this instance it is going to be a simple .txt file. </p>\n\n<p>The data I am outputting is a series of coordinates, these coordinates have undergone rotation using an angle that is determined by the user prior to this code section. </p>\n\n<p>The code to write the file is obviously in a static method but the angle I am calling is a non-static variable... how do I call this and get it to work?</p>\n"},{"tags":["java","android","api","google-drive-api","credentials"],"comments":[{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1640759872,"post_id":70515756,"comment_id":124650707,"body_markdown":"For connecting to the drive, you will need to access the drive APIs. The APIs will need credentials. In your application, whenever you need to do some synch up, you will invoke APIs. What you can do is to store the APIs in some file locally (preferably encrypted) and whenever, invoking the APIs, read those credentials and pass to the APIs.","body":"For connecting to the drive, you will need to access the drive APIs. The APIs will need credentials. In your application, whenever you need to do some synch up, you will invoke APIs. What you can do is to store the APIs in some file locally (preferably encrypted) and whenever, invoking the APIs, read those credentials and pass to the APIs."},{"owner":{"account_id":23764311,"reputation":11,"user_id":17779267,"display_name":"Saleh Marji"},"score":0,"creation_date":1640842159,"post_id":70515756,"comment_id":124672187,"body_markdown":"could you please provide me with the java code? I&#39;ve been trying to search for a way to invoke the API using credentials but I couldn&#39;t find it. So If you know the code please supply it, thanks a lot","body":"could you please provide me with the java code? I&#39;ve been trying to search for a way to invoke the API using credentials but I couldn&#39;t find it. So If you know the code please supply it, thanks a lot"},{"owner":{"account_id":390163,"reputation":17713,"user_id":750040,"accept_rate":68,"display_name":"Santosh"},"score":0,"creation_date":1640843117,"post_id":70515756,"comment_id":124672340,"body_markdown":"Please refer https://developers.google.com/drive/api/v3/examples","body":"Please refer <a href=\"https://developers.google.com/drive/api/v3/examples\" rel=\"nofollow noreferrer\">developers.google.com/drive/api/v3/examples</a>"}],"owner":{"account_id":23764311,"reputation":11,"user_id":17779267,"display_name":"Saleh Marji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1640758443,"creation_date":1640758443,"question_id":70515756,"body_markdown":"I am trying to create an application that uses google drive as storage, this application is somehow private. however, I don&#39;t want it to ask me to log in not even once, I don&#39;t mind the application knowing the full credentials it needs to access the google drive it will use.\r\nIn short, is there a way to auto-authenticate my app to fully access a certain google drive by saving the google account somewhere?","title":"how can I auto-authenticate to a specific google account using java code?(auto-authenticate)","body":"<p>I am trying to create an application that uses google drive as storage, this application is somehow private. however, I don't want it to ask me to log in not even once, I don't mind the application knowing the full credentials it needs to access the google drive it will use.\nIn short, is there a way to auto-authenticate my app to fully access a certain google drive by saving the google account somewhere?</p>\n"},{"tags":["java","google-api","gmail-api"],"answers":[{"tags":[],"owner":{"account_id":6165775,"reputation":1029,"user_id":4805765,"accept_rate":51,"display_name":"Scooter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442251994,"creation_date":1442251994,"answer_id":32570563,"question_id":32570387,"body_markdown":"For those wondering what the answer is to this you just have to add this code.\r\n\r\n    Message test = service.users().messages().get(&quot;me&quot;, message.getId()).setFormat(&quot;full&quot;).execute();\r\n    \t\t\t\tSystem.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(test.getPayload().getBody().getData())));\r\n\r\nThat will give you html code to work with, where you can extract the things you need. Hope that helps!","title":"Java Google Gmail API Read All Messages","body":"<p>For those wondering what the answer is to this you just have to add this code.</p>\n\n<pre><code>Message test = service.users().messages().get(\"me\", message.getId()).setFormat(\"full\").execute();\n                System.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(test.getPayload().getBody().getData())));\n</code></pre>\n\n<p>That will give you html code to work with, where you can extract the things you need. Hope that helps!</p>\n"},{"tags":[],"owner":{"account_id":22667044,"reputation":1,"user_id":17704929,"display_name":"NickB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640758359,"creation_date":1640758029,"answer_id":70515705,"question_id":32570387,"body_markdown":"To read the body part, you need to extract it from the returned JSON object and then decode:\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n    import org.apache.commons.codec.binary.StringUtils;\r\n    \r\n    //Code from the post\r\n    \r\n    System.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(test.getPayload().getParts().get(0).getBody().getData())));","title":"Java Google Gmail API Read All Messages","body":"<p>To read the body part, you need to extract it from the returned JSON object and then decode:</p>\n<pre><code>import org.apache.commons.codec.binary.Base64;\nimport org.apache.commons.codec.binary.StringUtils;\n\n//Code from the post\n\nSystem.out.println(StringUtils.newStringUtf8(Base64.decodeBase64(test.getPayload().getParts().get(0).getBody().getData())));\n</code></pre>\n"}],"owner":{"account_id":6165775,"reputation":1029,"user_id":4805765,"accept_rate":51,"display_name":"Scooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2025,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1640758359,"creation_date":1442251335,"question_id":32570387,"body_markdown":"So far I&#39;ve been able to go through all the emails in one of my accounts and print out the message snippets, but I want to be able to print out the full message.\r\n\r\nHere is the code I&#39;m using so far.\r\n\r\n    public static void getEmails() {\r\n    \t\ttry {\r\n    \t\t\tListMessagesResponse response = service.users().messages().list(&quot;me&quot;).execute();\r\n    \r\n    \t\t\tList&lt;Message&gt; messages = new ArrayList&lt;Message&gt;();\r\n    \t\t\twhile (response.getMessages() != null) {\r\n    \t\t\t\tmessages.addAll(response.getMessages());\r\n    \t\t\t\tif (response.getNextPageToken() != null) {\r\n    \t\t\t\t\tString pageToken = response.getNextPageToken();\r\n    \t\t\t\t\tresponse = service.users().messages().list(&quot;me&quot;).setPageToken(pageToken).execute();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (Message message : messages) {\r\n    \t\t\t\tSystem.out.println(message.getId());\r\n    \t\t\t\tMessage test = service.users().messages().get(&quot;me&quot;, message.getId()).execute();\r\n    \t\t\t\tSystem.out.println(test.getSnippet());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nHow can I print out the full content of the message in plain text? (not raw formatted or anything).","title":"Java Google Gmail API Read All Messages","body":"<p>So far I've been able to go through all the emails in one of my accounts and print out the message snippets, but I want to be able to print out the full message.</p>\n\n<p>Here is the code I'm using so far.</p>\n\n<pre><code>public static void getEmails() {\n        try {\n            ListMessagesResponse response = service.users().messages().list(\"me\").execute();\n\n            List&lt;Message&gt; messages = new ArrayList&lt;Message&gt;();\n            while (response.getMessages() != null) {\n                messages.addAll(response.getMessages());\n                if (response.getNextPageToken() != null) {\n                    String pageToken = response.getNextPageToken();\n                    response = service.users().messages().list(\"me\").setPageToken(pageToken).execute();\n                } else {\n                    break;\n                }\n            }\n\n            for (Message message : messages) {\n                System.out.println(message.getId());\n                Message test = service.users().messages().get(\"me\", message.getId()).execute();\n                System.out.println(test.getSnippet());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>How can I print out the full content of the message in plain text? (not raw formatted or anything).</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"score":1,"creation_date":1640758972,"post_id":70515577,"comment_id":124650544,"body_markdown":"Does this answer your question? [Build an object from an existing one using lombok](https://stackoverflow.com/questions/47069561/build-an-object-from-an-existing-one-using-lombok)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47069561/build-an-object-from-an-existing-one-using-lombok\">Build an object from an existing one using lombok</a>"}],"answers":[{"tags":[],"owner":{"account_id":198567,"reputation":706,"user_id":443309,"accept_rate":25,"display_name":"gkns"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640757149,"creation_date":1640757149,"answer_id":70515605,"question_id":70515577,"body_markdown":"    public User( User user) {\r\n       this.id = user.getId\r\n       ///////////////\r\n    }\r\n\r\nIsn&#39;t this exactly the copy constructor?\r\nRef: https://www.baeldung.com/java-copy-constructor\r\n\r\nAlso see: https://stackoverflow.com/questions/47069561/build-an-object-from-an-existing-one-using-lombok","title":"intellij how to generate constructor with same class object","body":"<pre><code>public User( User user) {\n   this.id = user.getId\n   ///////////////\n}\n</code></pre>\n<p>Isn't this exactly the copy constructor?\nRef: <a href=\"https://www.baeldung.com/java-copy-constructor\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-copy-constructor</a></p>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/47069561/build-an-object-from-an-existing-one-using-lombok\">Build an object from an existing one using lombok</a></p>\n"}],"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1640758995,"answer_count":1,"score":-1,"last_activity_date":1640758262,"creation_date":1640756884,"question_id":70515577,"body_markdown":"With lombok we can use `AllArgumentConstructor` and some other comination.\r\nIntellij also provies generator to construct with fields.\r\n\r\nBut i dont want to do something like this, specially lots of parameter\r\n```\r\npublic User( User user) {\r\n   this.id = user.getId\r\n   ///////////////\r\n}\r\n```\r\nAlso i dont want to clone the object.\r\nI have been looking for some annotation or a way to code least.","title":"intellij how to generate constructor with same class object","body":"<p>With lombok we can use <code>AllArgumentConstructor</code> and some other comination.\nIntellij also provies generator to construct with fields.</p>\n<p>But i dont want to do something like this, specially lots of parameter</p>\n<pre><code>public User( User user) {\n   this.id = user.getId\n   ///////////////\n}\n</code></pre>\n<p>Also i dont want to clone the object.\nI have been looking for some annotation or a way to code least.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1317859,"reputation":800,"user_id":1264350,"accept_rate":79,"display_name":"Joe"},"score":0,"creation_date":1420663804,"post_id":27828234,"comment_id":44062700,"body_markdown":"I would suggest the Factory method pattern.  You can pass in parameters for status and type and have the method return a LogFileEntity object for you.","body":"I would suggest the Factory method pattern.  You can pass in parameters for status and type and have the method return a LogFileEntity object for you."},{"owner":{"account_id":1494991,"reputation":599,"user_id":1401162,"accept_rate":72,"display_name":"Vipercold"},"score":0,"creation_date":1420664792,"post_id":27828234,"comment_id":44063229,"body_markdown":"@Joe i think that factory pattern is very useful.. thanks","body":"@Joe i think that factory pattern is very useful.. thanks"},{"owner":{"account_id":157219,"reputation":7278,"user_id":375022,"display_name":"Maxim"},"score":0,"creation_date":1420666558,"post_id":27828234,"comment_id":44064111,"body_markdown":"1. Extract to method 2. Write builders with defaults","body":"1. Extract to method 2. Write builders with defaults"},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1420723562,"post_id":27828234,"comment_id":44086022,"body_markdown":"Consider cohesion of `recordLogFile()`. What is the name of its class? This method doesn&#39;t seem to adhere to the Single Responsibility Principle, which may be the real reason you have duplicated code. It would be useful to see the variants where there is duplication, too.","body":"Consider cohesion of <code>recordLogFile()</code>. What is the name of its class? This method doesn&#39;t seem to adhere to the Single Responsibility Principle, which may be the real reason you have duplicated code. It would be useful to see the variants where there is duplication, too."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640758236,"creation_date":1420663761,"answer_id":27828391,"question_id":27828234,"body_markdown":"You can do a couple of things. The simplest thing is to create objects that are built with default values, and provide constructors to fill out the rest. For example, you have this class `LogFileEntity` which appears to have 5 attributes: `fileSize`, `fileHeight`, `file`, `logStatus`, and `logType`. Let us assume that `LogStatus.SUCESS` and `LogType.NORMAL` are default values. If you set these values in the `LogFileEntity`, the client will not have to set them all the time.  Your class constructor could look something like this:\r\n```\r\npublic LogFileEntity()\r\n{\r\n    logStatus = LogStatus.SUCESS;\r\n    logType = LogType.NORMAL;\r\n    // Maybe set other default values\r\n}\r\n```\r\nThat said, the best you can do is make use of the [Factory Design Pattern](http://www.tutorialspoint.com/design_pattern/factory_pattern.htm) to implement this.","title":"What is the best practice to set parameters to object and avoid duplicated code?","body":"<p>You can do a couple of things. The simplest thing is to create objects that are built with default values, and provide constructors to fill out the rest. For example, you have this class <code>LogFileEntity</code> which appears to have 5 attributes: <code>fileSize</code>, <code>fileHeight</code>, <code>file</code>, <code>logStatus</code>, and <code>logType</code>. Let us assume that <code>LogStatus.SUCESS</code> and <code>LogType.NORMAL</code> are default values. If you set these values in the <code>LogFileEntity</code>, the client will not have to set them all the time.  Your class constructor could look something like this:</p>\n<pre><code>public LogFileEntity()\n{\n    logStatus = LogStatus.SUCESS;\n    logType = LogType.NORMAL;\n    // Maybe set other default values\n}\n</code></pre>\n<p>That said, the best you can do is make use of the <a href=\"http://www.tutorialspoint.com/design_pattern/factory_pattern.htm\" rel=\"nofollow noreferrer\">Factory Design Pattern</a> to implement this.</p>\n"},{"tags":[],"owner":{"account_id":1743794,"reputation":5519,"user_id":1594449,"display_name":"gknicker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420664264,"creation_date":1420663859,"answer_id":27828414,"question_id":27828234,"body_markdown":"The simplest resolution to your immediate issue is to add an overloaded method that takes the additional parameters:\r\n\r\n&lt;!-- begin snippet --&gt;\r\n\r\n    \tpublic void recordLogFile(int fileSize, int fileHeight, Long idFile) {\r\n    \t\trecordLogFile(fileSize, fileHeight, idFile, LogStatus.SUCESS, LogType.NORMAL);\r\n    \t}\r\n\r\n    \tpublic void recordLogFile(int fileSize, int fileHeight, Long idFile,\r\n    \t\tLogStatus status, LogType type) {\r\n\r\n    \t\ttry {\r\n\r\n    \t\t\tLogFileEntity logEntity = new LogFileEntity();\r\n    \t\t\tlogEntity.setFileSize(fileSize);\r\n    \t\t\tlogEntity.setFileHeight(fileHeight);\r\n    \t\t\tlogEntity.setFile(FileEntity.find(idFile));\r\n    \t\t\tlogEntity.setStatus(status);\r\n    \t\t\tlogEntity.setType(type);\r\n    \t\t\tlogEntity.persist();\r\n\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// some log code\r\n    \t\t}\r\n\r\n    \t}\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"What is the best practice to set parameters to object and avoid duplicated code?","body":"<p>The simplest resolution to your immediate issue is to add an overloaded method that takes the additional parameters:</p>\n\n\n\n<pre><code>    public void recordLogFile(int fileSize, int fileHeight, Long idFile) {\n        recordLogFile(fileSize, fileHeight, idFile, LogStatus.SUCESS, LogType.NORMAL);\n    }\n\n    public void recordLogFile(int fileSize, int fileHeight, Long idFile,\n        LogStatus status, LogType type) {\n\n        try {\n\n            LogFileEntity logEntity = new LogFileEntity();\n            logEntity.setFileSize(fileSize);\n            logEntity.setFileHeight(fileHeight);\n            logEntity.setFile(FileEntity.find(idFile));\n            logEntity.setStatus(status);\n            logEntity.setType(type);\n            logEntity.persist();\n\n        } catch (Exception e) {\n            // some log code\n        }\n\n    }\n</code></pre>\n\n\n"}],"owner":{"account_id":1494991,"reputation":599,"user_id":1401162,"accept_rate":72,"display_name":"Vipercold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27828391,"answer_count":2,"score":1,"last_activity_date":1640758236,"creation_date":1420663168,"question_id":27828234,"body_markdown":"I&#39;m working in a project that have some entities, and to set the entities attributes, we have a lot of code like this:\r\n\r\n    \tpublic void recordLogFile(int fileSize, int fileHeight, Long idFile) {\r\n\t\t\r\n\t\ttry {\r\n\r\n\t\t\tLogFileEntity logEntity = new LogFileEntity();\r\n            logEntity.setFileSize(fileSize);\r\n            logEntity.setFileHeight(fileHeight);\r\n            logEntity.setFile(FileEntity.find(idFile));\r\n            logEntity.setStatus(LogStatus.SUCESS);\r\n            logEntity.setType(LogType.NORMAL);\r\n\t\t\tlogEntity.persist();\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tsome log code\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThere are a lot of classes that need to persist the log file entity, but in some cases we have different values on attributes. For example LogStatus.FAIL LogType.OLD, and we have a repeated piece of code only changing the value.\r\n\r\nWhat is the best approach to make this better??\r\n\r\nThanks !!!\r\n","title":"What is the best practice to set parameters to object and avoid duplicated code?","body":"<p>I'm working in a project that have some entities, and to set the entities attributes, we have a lot of code like this:</p>\n\n<pre><code>    public void recordLogFile(int fileSize, int fileHeight, Long idFile) {\n\n    try {\n\n        LogFileEntity logEntity = new LogFileEntity();\n        logEntity.setFileSize(fileSize);\n        logEntity.setFileHeight(fileHeight);\n        logEntity.setFile(FileEntity.find(idFile));\n        logEntity.setStatus(LogStatus.SUCESS);\n        logEntity.setType(LogType.NORMAL);\n        logEntity.persist();\n\n    } catch (Exception e) {\n        some log code\n    }\n\n}\n</code></pre>\n\n<p>There are a lot of classes that need to persist the log file entity, but in some cases we have different values on attributes. For example LogStatus.FAIL LogType.OLD, and we have a repeated piece of code only changing the value.</p>\n\n<p>What is the best approach to make this better??</p>\n\n<p>Thanks !!!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8267,"page":1725,"page_size":100}
