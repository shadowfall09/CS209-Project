{"items":[{"tags":["java","spring","http","tomcat","http2"],"answers":[{"comments":[{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1692948085,"post_id":76972003,"comment_id":135696622,"body_markdown":"Thanks for your reply. I am getting below error on doing curl with --http2-prio-knowledge","body":"Thanks for your reply. I am getting below error on doing curl with --http2-prio-knowledge"},{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1692948090,"post_id":76972003,"comment_id":135696625,"body_markdown":"* Send failure: Connection reset by peer\n* Failed sending HTTP2 data\n* Connection #0 to host rtp-dev.indepay.com left intact\ncurl: (55) Send failure: Connection reset by peer","body":"* Send failure: Connection reset by peer * Failed sending HTTP2 data * Connection #0 to host rtp-dev.indepay.com left intact curl: (55) Send failure: Connection reset by peer"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1692968692,"post_id":76972003,"comment_id":135700911,"body_markdown":"Try `--http2` also and check tomcat logs. May be there&#39;s some clue why connection was terminated.","body":"Try <code>--http2</code> also and check tomcat logs. May be there&#39;s some clue why connection was terminated."}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692916418,"creation_date":1692901170,"answer_id":76972003,"question_id":76970015,"body_markdown":"1) No more changes needed. Tomcat offers both protocols depending on the request (see below).\r\n2) HTTP/2 supports both http and https ([Does HTTP/2 require encryption?](https://http2.github.io/faq/))\r\n\r\nThe request must explicitly ask for `HTTP/2` protocol, either through a `HTTP/1.1` protocol upgrade or directly\r\n\r\n**With protocol upgrade**:  \r\nRequest: `GET /sample/hello HTTP/1.1`  \r\nHeader : `Connection: Upgrade, HTTP2-Settings`\r\n\r\n    curl --verbose --http2 http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /sample/hello HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/8.0.1\r\n    &gt; Accept: */*\r\n    &gt; Connection: Upgrade, HTTP2-Settings\r\n    &gt; Upgrade: h2c\r\n    &gt; HTTP2-Settings: AAMAAABkAAQCAAAAAAIAAAAA\r\n    &gt; \r\n    &lt; HTTP/1.1 101 \r\n    &lt; Connection: Upgrade\r\n    &lt; Upgrade: h2c\r\n    &lt; Date: Thu, 24 Aug 2023 18:11:37 GMT\r\n    * Received 101, Switching to HTTP/2\r\n    &lt; HTTP/2 200 \r\n    &lt; content-type: text/html;charset=ISO-8859-1\r\n    &lt; content-length: 311\r\n    &lt; date: Thu, 24 Aug 2023 18:11:37 GMT\r\n    (response redacted)\r\n\r\n**Direct request**:  \r\nRequest: `GET /sample/hello HTTP/2`\r\n\r\n     curl --verbose --http2-prior-knowledge http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    * h2h3 [:method: GET]\r\n    * h2h3 [:path: /sample/hello]\r\n    * h2h3 [:scheme: http]\r\n    * h2h3 [:authority: localhost:8080]\r\n    * h2h3 [user-agent: curl/8.0.1]\r\n    * h2h3 [accept: */*]\r\n    * Using Stream ID: 1 (easy handle 0x558d436ecf40)\r\n    &gt; GET /sample/hello HTTP/2\r\n    &gt; Host: localhost:8080\r\n    &gt; user-agent: curl/8.0.1\r\n    &gt; accept: */*\r\n    &gt; \r\n    &lt; HTTP/2 200 \r\n    &lt; content-type: text/html;charset=ISO-8859-1\r\n    &lt; content-length: 311\r\n    &lt; date: Thu, 24 Aug 2023 18:14:01 GMT\r\n    &lt; \r\n    (response redacted)\r\n\r\nIf HTTP/2 is not explicitly requested, HTTP/1.1 will be served\r\n\r\n    curl --verbose http://localhost:8080/sample/hello\r\n    *   Trying 127.0.0.1:8080...\r\n    * Connected to localhost (127.0.0.1) port 8080 (#0)\r\n    &gt; GET /sample/hello HTTP/1.1\r\n    &gt; Host: localhost:8080\r\n    &gt; User-Agent: curl/8.0.1\r\n    &gt; Accept: */*\r\n    &gt; \r\n    &lt; HTTP/1.1 200 \r\n    &lt; Content-Type: text/html;charset=ISO-8859-1\r\n    &lt; Content-Length: 311\r\n    &lt; Date: Thu, 24 Aug 2023 18:18:39 GMT\r\n    &lt; \r\n\r\nTested with this configuration\r\n\r\n    &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;&gt;\r\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;/Connector&gt;\r\n\r\n","title":"Configure Tomcat 8 for HTTP/2.0 for HTTP(not https) calls","body":"<ol>\n<li>No more changes needed. Tomcat offers both protocols depending on the request (see below).</li>\n<li>HTTP/2 supports both http and https (<a href=\"https://http2.github.io/faq/\" rel=\"nofollow noreferrer\">Does HTTP/2 require encryption?</a>)</li>\n</ol>\n<p>The request must explicitly ask for <code>HTTP/2</code> protocol, either through a <code>HTTP/1.1</code> protocol upgrade or directly</p>\n<p><strong>With protocol upgrade</strong>:<br />\nRequest: <code>GET /sample/hello HTTP/1.1</code><br />\nHeader : <code>Connection: Upgrade, HTTP2-Settings</code></p>\n<pre><code>curl --verbose --http2 http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /sample/hello HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/8.0.1\n&gt; Accept: */*\n&gt; Connection: Upgrade, HTTP2-Settings\n&gt; Upgrade: h2c\n&gt; HTTP2-Settings: AAMAAABkAAQCAAAAAAIAAAAA\n&gt; \n&lt; HTTP/1.1 101 \n&lt; Connection: Upgrade\n&lt; Upgrade: h2c\n&lt; Date: Thu, 24 Aug 2023 18:11:37 GMT\n* Received 101, Switching to HTTP/2\n&lt; HTTP/2 200 \n&lt; content-type: text/html;charset=ISO-8859-1\n&lt; content-length: 311\n&lt; date: Thu, 24 Aug 2023 18:11:37 GMT\n(response redacted)\n</code></pre>\n<p><strong>Direct request</strong>:<br />\nRequest: <code>GET /sample/hello HTTP/2</code></p>\n<pre><code> curl --verbose --http2-prior-knowledge http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n* h2h3 [:method: GET]\n* h2h3 [:path: /sample/hello]\n* h2h3 [:scheme: http]\n* h2h3 [:authority: localhost:8080]\n* h2h3 [user-agent: curl/8.0.1]\n* h2h3 [accept: */*]\n* Using Stream ID: 1 (easy handle 0x558d436ecf40)\n&gt; GET /sample/hello HTTP/2\n&gt; Host: localhost:8080\n&gt; user-agent: curl/8.0.1\n&gt; accept: */*\n&gt; \n&lt; HTTP/2 200 \n&lt; content-type: text/html;charset=ISO-8859-1\n&lt; content-length: 311\n&lt; date: Thu, 24 Aug 2023 18:14:01 GMT\n&lt; \n(response redacted)\n</code></pre>\n<p>If HTTP/2 is not explicitly requested, HTTP/1.1 will be served</p>\n<pre><code>curl --verbose http://localhost:8080/sample/hello\n*   Trying 127.0.0.1:8080...\n* Connected to localhost (127.0.0.1) port 8080 (#0)\n&gt; GET /sample/hello HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/8.0.1\n&gt; Accept: */*\n&gt; \n&lt; HTTP/1.1 200 \n&lt; Content-Type: text/html;charset=ISO-8859-1\n&lt; Content-Length: 311\n&lt; Date: Thu, 24 Aug 2023 18:18:39 GMT\n&lt; \n</code></pre>\n<p>Tested with this configuration</p>\n<pre><code>&lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;&gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n    &lt;/Connector&gt;\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692916418,"creation_date":1692885209,"question_id":76970015,"body_markdown":"We have our legacy Tomcat server on version `8.5.81`\r\n\r\nWe plan to upgrade to HTTP/2 for quicker api response times (optimization)\r\n\r\nFollowing configuration has been applied at `server.xml`\r\n```\r\n        &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\r\n                   connectionTimeout=&quot;20000&quot;\r\n                   redirectPort=&quot;8443&quot;&gt;\r\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\r\n        &lt;/Connector&gt;\r\n``` \r\n\r\nBut still calls remain on HTTP/1.1\r\n\r\nNeed help for ..\r\n\r\n 1. **What more changes should be done to achieve HTTP/2 at server ?**\r\n 2. Most of our calls are on 8080(http). Very less are on 443(https). My internet search  suggested samples where it appears that HTTP2 would be applicable only on HTTPS for tomcat 8.5 series. \r\n**How do I achieve this for both HTTP &amp; HTTPS ?**","title":"Configure Tomcat 8 for HTTP/2.0 for HTTP(not https) calls","body":"<p>We have our legacy Tomcat server on version <code>8.5.81</code></p>\n<p>We plan to upgrade to HTTP/2 for quicker api response times (optimization)</p>\n<p>Following configuration has been applied at <code>server.xml</code></p>\n<pre><code>        &lt;Connector port=&quot;8080&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\n                   connectionTimeout=&quot;20000&quot;\n                   redirectPort=&quot;8443&quot;&gt;\n            &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;/Connector&gt;\n</code></pre>\n<p>But still calls remain on HTTP/1.1</p>\n<p>Need help for ..</p>\n<ol>\n<li><strong>What more changes should be done to achieve HTTP/2 at server ?</strong></li>\n<li>Most of our calls are on 8080(http). Very less are on 443(https). My internet search  suggested samples where it appears that HTTP2 would be applicable only on HTTPS for tomcat 8.5 series.\n<strong>How do I achieve this for both HTTP &amp; HTTPS ?</strong></li>\n</ol>\n"},{"tags":["java","spring","spring-mvc","spring-security","openid"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1386252847,"post_id":20401795,"comment_id":30466727,"body_markdown":"Have you read the stacktrace? `java.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException` looks quite clear to me. You are missing referenced libraries... Probably a openid4java jar (or maybe you have a too old version).","body":"Have you read the stacktrace? <code>java.lang.NoClassDefFoundError: org&#47;openid4java&#47;consumer&#47;ConsumerException</code> looks quite clear to me. You are missing referenced libraries... Probably a openid4java jar (or maybe you have a too old version)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386253023,"post_id":20401795,"comment_id":30466857,"body_markdown":"Another thing to notice is you are duplicating all your bean instances. Both the `DispatcherServlet` and `ContextLoaderListener` do a `&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;` This will eventually lead you to other problems.","body":"Another thing to notice is you are duplicating all your bean instances. Both the <code>DispatcherServlet</code> and <code>ContextLoaderListener</code> do a <code>&lt;context:component-scan base-package=&quot;com.kratin&quot; &#47;&gt;</code> This will eventually lead you to other problems."},{"owner":{"account_id":3668485,"reputation":21,"user_id":3056194,"display_name":"user3056194"},"score":0,"creation_date":1386305780,"post_id":20401795,"comment_id":30492096,"body_markdown":"Thank you for the opinion i was using an older version of jar. Can u please specify how can i remove these duplications so that it wont hamper the execution. I m new to spring and hibernate so might be really stupid to ask but i need to know. Also if you have any suggestions or ideas regarding openId implementation in spring and extracting emailId and name it would be helpful.","body":"Thank you for the opinion i was using an older version of jar. Can u please specify how can i remove these duplications so that it wont hamper the execution. I m new to spring and hibernate so might be really stupid to ask but i need to know. Also if you have any suggestions or ideas regarding openId implementation in spring and extracting emailId and name it would be helpful."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1386313265,"post_id":20401795,"comment_id":30494890,"body_markdown":"See the answer here http://stackoverflow.com/questions/11453530/applicationcontext-not-finding-controllers-for-servlet-context","body":"See the answer here <a href=\"http://stackoverflow.com/questions/11453530/applicationcontext-not-finding-controllers-for-servlet-context\" title=\"applicationcontext not finding controllers for servlet context\">stackoverflow.com/questions/11453530/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7905853,"reputation":3551,"user_id":5971390,"accept_rate":50,"display_name":"Tim Penner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458945860,"creation_date":1458945860,"answer_id":36229236,"question_id":20401795,"body_markdown":"The stacktrace shows that you are referencing a missing library:\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\r\n\r\nEither you do not have &lt;kbd&gt;openid4java&lt;/kbd&gt; installed or you have an older version of &lt;kbd&gt;openid4java&lt;/kbd&gt; that doesn&#39;t contain the needed class.\r\n\r\nYou should install the correct version of &lt;kbd&gt;openid4java&lt;/kbd&gt;","title":"Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener","body":"<p>The stacktrace shows that you are referencing a missing library:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException</p>\n</blockquote>\n\n<p>Either you do not have <kbd>openid4java</kbd> installed or you have an older version of <kbd>openid4java</kbd> that doesn't contain the needed class.</p>\n\n<p>You should install the correct version of <kbd>openid4java</kbd></p>\n"}],"owner":{"account_id":3668485,"reputation":21,"user_id":3056194,"display_name":"user3056194"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56519,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692914831,"creation_date":1386251591,"question_id":20401795,"body_markdown":"I have been struggling at successfully implementing openId in spring from last 3 weeks now.\r\nPlease help me out with it.\r\n\r\nI tried to implement it from &lt;http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html&gt;, now i m getting an exception.\r\nconsole log:\r\n\r\n    SEVERE: Exception sending context initialized event to listener instance of class        org.springframework.web.context.ContextLoaderListener\r\n    java.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\r\n\tat java.lang.Class.getDeclaredConstructors(Class.java:1836)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:228)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:911)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:884)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\r\n\tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n\t... 28 more\r\n\r\nmy web.xml:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n     &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;  \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;  \r\n   \r\n     &lt;filter&gt;\r\n\t    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t \r\n         &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-       class&gt;\r\n\t&lt;/filter&gt;\r\n\t\r\n\t&lt;filter-mapping&gt;\r\n\t    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\t&lt;/filter-mapping&gt;\r\n\t\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;\r\n\t\t/WEB-INF/spring-security.xml\r\n\t\t/WEB-INF/applicationContext.xml\r\n\t\t&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t\r\n    &lt;servlet&gt;  \r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  \r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  \r\n    &lt;/servlet&gt;  \r\n  \r\n    &lt;servlet-mapping&gt;  \r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;  \r\n    &lt;/servlet-mapping&gt; \r\n    \t\r\n\t&lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    \t\r\n    &lt;welcome-file-list&gt;  \r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;  \r\n    &lt;/welcome-file-list&gt;  \r\n  \r\n&lt;/web-app&gt; \r\n\r\nDispatcher.servlet:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n       &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\txmlns:oxm=&quot;http://www.springframework.org/schema/oxm&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n        http://www.springframework.org/schema/tx\r\n        http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n        http://www.springframework.org/schema/oxm\r\n        http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd&quot;&gt;\r\n\r\n\t&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot; /&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;\r\n\t\r\n\t&lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;1&quot; /&gt;\r\n        &lt;property name=&quot;messageConverters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;!-- Default converters --&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.FormHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.ByteArrayHttpMessageConverter&quot; /&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.xml.SourceHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.BufferedImageHttpMessageConverter&quot;/&gt;\r\n                &lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot; /&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\t\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n\t\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;viewClass&quot;\r\n\t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/view/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt; \r\n\t\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.kratin.domain.User&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;hibernateTransactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n\r\n\r\nspring-security.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\t   \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t\t\thttp://www.springframework.org/schema/security \r\n\t\t\thttp://www.springframework.org/schema/security/spring-security-3.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- This is where we configure Spring-Security  --&gt;\r\n\t&lt;security:http auto-config=&quot;true&quot; use-expressions=&quot;true&quot; access-denied-page=&quot;/rest/auth/denied&quot; &gt;\r\n\t\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/auth/login&quot; access=&quot;permitAll&quot;/&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/main/admin&quot; access=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;/&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/rest/main/common&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot;/&gt;\r\n\t\t\r\n\t\t&lt;!-- Adding the openid-login tag activates Spring Security&#39;s support for OpenID  --&gt;\r\n\t\t&lt;security:openid-login\r\n\t\t\t\tlogin-page=&quot;/rest/auth/login&quot; \r\n\t\t\t\tauthentication-failure-url=&quot;/rest/auth/login?error=true&quot; \r\n\t\t\t\tdefault-target-url=&quot;/rest/main/common&quot;/&gt;\r\n\t\t\t\r\n\t\t&lt;security:logout \r\n\t\t\t\tinvalidate-session=&quot;true&quot; \r\n\t\t\t\tlogout-success-url=&quot;/rest/auth/login&quot; \r\n\t\t\t\tlogout-url=&quot;/rest/auth/logout&quot;/&gt;\r\n\t\r\n\t&lt;/security:http&gt;\r\n\t\r\n\t&lt;!-- Declare an authentication-manager to use a custom userDetailsService --&gt;\r\n\t&lt;security:authentication-manager&gt;\r\n\t        &lt;security:authentication-provider user-service-ref=&quot;userDetailsService&quot;&gt;\r\n\t        \t\t&lt;security:password-encoder ref=&quot;passwordEncoder&quot;/&gt;\r\n\t        &lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\t\r\n\t&lt;!-- Use a Md5 encoder since the user&#39;s passwords are stored as Md5 in the database --&gt;\r\n\t&lt;bean class=&quot;org.springframework.security.authentication.encoding.Md5PasswordEncoder&quot; id=&quot;passwordEncoder&quot;/&gt;\r\n \r\n\t &lt;!-- An in-memory list of users. No need to access an external database layer.\r\n\t\t    See Spring Security 3.1 Reference 5.2.1 In-Memory Authentication --&gt;\r\n\t &lt;security:user-service id=&quot;userDetailsService&quot;&gt;\r\n\t \t&lt;!-- user name is based on the returned OpenID identifier from Google --&gt;\r\n\t    &lt;security:user name=&quot;https://www.google.com/accounts/o8/id?id=AItxxioJSDLFJLjxcksdfjOpAASDFosSSoJ0E&quot; \r\n\t    \t\t\t\t\tpassword=&quot;&quot; authorities=&quot;ROLE_USER, ROLE_ADMIN&quot; /&gt;\r\n\t &lt;/security:user-service&gt;\r\n\t\r\n&lt;/beans&gt;\r\n\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\t   \t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t   \t\thttp://www.springframework.org/schema/context\r\n\t   \t\thttp://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n\t\t\thttp://www.springframework.org/schema/mvc \r\n\t\t\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- Activates various annotations to be detected in bean classes --&gt;\r\n\t&lt;context:annotation-config /&gt;\r\n\t\r\n\t&lt;!-- Scans the classpath for annotated components that will be auto-registered as Spring beans.\r\n\t For example @Controller and @Service. Make sure to set the correct base-package--&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.kratin&quot; /&gt;\r\n\t\r\n\t&lt;!-- Configures the annotation-driven Spring MVC Controller programming model.\r\n\tNote that, with Spring 3.0, this tag works in Servlet MVC only!  --&gt;\r\n\t&lt;mvc:annotation-driven /&gt; \r\n\t\r\n&lt;/beans&gt;\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener","body":"<p>I have been struggling at successfully implementing openId in spring from last 3 weeks now.\nPlease help me out with it.</p>\n\n<p>I tried to implement it from <a href=\"http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html\" rel=\"nofollow\">http://krams915.blogspot.in/2011/02/spring-security-3-openid-login-with_13.html</a>, now i m getting an exception.\nconsole log:</p>\n\n<pre><code>SEVERE: Exception sending context initialized event to listener instance of class        org.springframework.web.context.ContextLoaderListener\njava.lang.NoClassDefFoundError: org/openid4java/consumer/ConsumerException\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2389)\nat java.lang.Class.getDeclaredConstructors(Class.java:1836)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:228)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:911)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:884)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:562)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:871)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:423)\nat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:272)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:196)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\nat java.util.concurrent.FutureTask.run(FutureTask.java:138)\nat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\nat java.lang.Thread.run(Thread.java:662)\nCaused by: java.lang.ClassNotFoundException: org.openid4java.consumer.ConsumerException\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\nat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n... 28 more\n</code></pre>\n\n<p>my web.xml:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n &lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"  \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \nxsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;  \n\n &lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n\n     &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-       class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;   &lt;/filter-mapping&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;\n    /WEB-INF/spring-security.xml\n    /WEB-INF/applicationContext.xml\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;servlet&gt;  \n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  \n&lt;/servlet&gt;  \n\n&lt;servlet-mapping&gt;  \n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  \n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;  \n&lt;/servlet-mapping&gt; \n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;welcome-file-list&gt;  \n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;  \n&lt;/welcome-file-list&gt;  \n</code></pre>\n\n<p> </p>\n\n<p>Dispatcher.servlet:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n   &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\"\nxmlns:oxm=\"http://www.springframework.org/schema/oxm\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\n    http://www.springframework.org/schema/tx\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n    http://www.springframework.org/schema/oxm\n    http://www.springframework.org/schema/oxm/spring-oxm-3.0.xsd\"&gt;\n\n&lt;context:property-placeholder location=\"classpath:jdbc.properties\" /&gt;\n&lt;context:component-scan base-package=\"com.kratin\" /&gt;\n\n&lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n    &lt;property name=\"order\" value=\"1\" /&gt;\n    &lt;property name=\"messageConverters\"&gt;\n        &lt;list&gt;\n            &lt;!-- Default converters --&gt;\n            &lt;bean class=\"org.springframework.http.converter.StringHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.FormHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.ByteArrayHttpMessageConverter\" /&gt;\n            &lt;bean class=\"org.springframework.http.converter.xml.SourceHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.BufferedImageHttpMessageConverter\"/&gt;\n            &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\" /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n&lt;bean id=\"jspViewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"/WEB-INF/view/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt; \n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n    &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.kratin.domain.User&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"hibernateTransactionManager\"\n    class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p>spring-security.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:security=\"http://www.springframework.org/schema/security\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/security \n        http://www.springframework.org/schema/security/spring-security-3.0.xsd\"&gt;\n\n&lt;!-- This is where we configure Spring-Security  --&gt;\n&lt;security:http auto-config=\"true\" use-expressions=\"true\" access-denied-page=\"/rest/auth/denied\" &gt;\n\n    &lt;security:intercept-url pattern=\"/rest/auth/login\" access=\"permitAll\"/&gt;\n    &lt;security:intercept-url pattern=\"/rest/main/admin\" access=\"hasRole('ROLE_ADMIN')\"/&gt;\n    &lt;security:intercept-url pattern=\"/rest/main/common\" access=\"hasRole('ROLE_USER')\"/&gt;\n\n    &lt;!-- Adding the openid-login tag activates Spring Security's support for OpenID  --&gt;\n    &lt;security:openid-login\n            login-page=\"/rest/auth/login\" \n            authentication-failure-url=\"/rest/auth/login?error=true\" \n            default-target-url=\"/rest/main/common\"/&gt;\n\n    &lt;security:logout \n            invalidate-session=\"true\" \n            logout-success-url=\"/rest/auth/login\" \n            logout-url=\"/rest/auth/logout\"/&gt;\n\n&lt;/security:http&gt;\n\n&lt;!-- Declare an authentication-manager to use a custom userDetailsService --&gt;\n&lt;security:authentication-manager&gt;\n        &lt;security:authentication-provider user-service-ref=\"userDetailsService\"&gt;\n                &lt;security:password-encoder ref=\"passwordEncoder\"/&gt;\n        &lt;/security:authentication-provider&gt;\n&lt;/security:authentication-manager&gt;\n\n&lt;!-- Use a Md5 encoder since the user's passwords are stored as Md5 in the database --&gt;\n&lt;bean class=\"org.springframework.security.authentication.encoding.Md5PasswordEncoder\" id=\"passwordEncoder\"/&gt;\n\n &lt;!-- An in-memory list of users. No need to access an external database layer.\n        See Spring Security 3.1 Reference 5.2.1 In-Memory Authentication --&gt;\n &lt;security:user-service id=\"userDetailsService\"&gt;\n    &lt;!-- user name is based on the returned OpenID identifier from Google --&gt;\n    &lt;security:user name=\"https://www.google.com/accounts/o8/id?id=AItxxioJSDLFJLjxcksdfjOpAASDFosSSoJ0E\" \n                        password=\"\" authorities=\"ROLE_USER, ROLE_ADMIN\" /&gt;\n &lt;/security:user-service&gt;\n</code></pre>\n\n<p></p>\n\n<p>applicationContext.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans \n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context-3.0.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n&lt;!-- Activates various annotations to be detected in bean classes --&gt;\n&lt;context:annotation-config /&gt;\n\n&lt;!-- Scans the classpath for annotated components that will be auto-registered as Spring beans.\n For example @Controller and @Service. Make sure to set the correct base-package--&gt;\n&lt;context:component-scan base-package=\"com.kratin\" /&gt;\n\n&lt;!-- Configures the annotation-driven Spring MVC Controller programming model.\nNote that, with Spring 3.0, this tag works in Servlet MVC only!  --&gt;\n&lt;mvc:annotation-driven /&gt; \n</code></pre>\n\n<p></p>\n"},{"tags":["java","spring-boot","dockerfile","kubernetes-deployment"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1692914105,"post_id":76973119,"comment_id":135693113,"body_markdown":"Are you in a position to change the artifact in the image, or even the entrypoints.sh (or equivalent) script?  I would want to not put this in as a runtime parameter directly unless it could be explicitly controlled by Spring Boot, and not the JRE.","body":"Are you in a position to change the artifact in the image, or even the entrypoints.sh (or equivalent) script?  I would want to not put this in as a runtime parameter directly unless it could be explicitly controlled by Spring Boot, and not the JRE."}],"owner":{"account_id":7598171,"reputation":21,"user_id":5763710,"display_name":"Kaustubh Hande"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692913852,"creation_date":1692913852,"question_id":76973119,"body_markdown":"I have a Java/Spring Boot application which is being deployed on K8s Cluster; containerized via Docker.\r\nI&#39;m using Google JIB plugin to create the Docker Image.\r\n\r\nWhile running a Spring Boot app as JAR we can pass JDK parameters along as\r\n`java -jar -Djdk.httpclient.keepalive.timeout=120 &lt;JARName&gt;`.\r\n\r\nI wanted to know if there is a way to pass the same JDK parameter to a Deployment in Kubernetes. ?\r\nHere are current ENV variable on Deployment.yaml file\r\n\r\n \r\n\r\n    containers:\r\n            - name: {{ .Chart.Name }}\r\n              securityContext:\r\n                {{- toYaml .Values.securityContext | nindent 12 }}\r\n              image: &quot;{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}&quot;\r\n              imagePullPolicy: {{ .Values.image.pullPolicy }}\r\n              ports:\r\n                - name: http\r\n                  containerPort: 8080\r\n                  protocol: TCP\r\n              env:\r\n                - name: SERVER_PORT\r\n                  value: &quot;8080&quot;\r\n                - name: SPRING_PROFILES_ACTIVE\r\n                  value: {{ .Values.profile.active }}\r\n                - name: TZ\r\n                  value: America/New_York\r\n\r\nThanks","title":"Java Parameters on Kubernetes Deployment","body":"<p>I have a Java/Spring Boot application which is being deployed on K8s Cluster; containerized via Docker.\nI'm using Google JIB plugin to create the Docker Image.</p>\n<p>While running a Spring Boot app as JAR we can pass JDK parameters along as\n<code>java -jar -Djdk.httpclient.keepalive.timeout=120 &lt;JARName&gt;</code>.</p>\n<p>I wanted to know if there is a way to pass the same JDK parameter to a Deployment in Kubernetes. ?\nHere are current ENV variable on Deployment.yaml file</p>\n<pre><code>containers:\n        - name: {{ .Chart.Name }}\n          securityContext:\n            {{- toYaml .Values.securityContext | nindent 12 }}\n          image: &quot;{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}&quot;\n          imagePullPolicy: {{ .Values.image.pullPolicy }}\n          ports:\n            - name: http\n              containerPort: 8080\n              protocol: TCP\n          env:\n            - name: SERVER_PORT\n              value: &quot;8080&quot;\n            - name: SPRING_PROFILES_ACTIVE\n              value: {{ .Values.profile.active }}\n            - name: TZ\n              value: America/New_York\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","json","jackson","jackson-modules"],"answers":[{"comments":[{"owner":{"account_id":3975925,"reputation":721,"user_id":3279117,"accept_rate":50,"display_name":"pedrostanaka"},"score":2,"creation_date":1472041991,"post_id":39123304,"comment_id":65592313,"body_markdown":"That&#39;s the thing, I don&#39;t want to use annotations in each constructor parameter, because in my original project there are a lot of parameters in classes. I wanted to use something like this: https://manosnikolaidis.wordpress.com/.","body":"That&#39;s the thing, I don&#39;t want to use annotations in each constructor parameter, because in my original project there are a lot of parameters in classes. I wanted to use something like this: <a href=\"https://manosnikolaidis.wordpress.com/\" rel=\"nofollow noreferrer\">manosnikolaidis.wordpress.com</a>."},{"owner":{"account_id":9933765,"reputation":731,"user_id":7352747,"display_name":"Srini Karthikeyan"},"score":0,"creation_date":1626799646,"post_id":39123304,"comment_id":120987681,"body_markdown":"My issue got fixed when I added a single-argument string constructor. @JsonProperty doesn&#39;t work though. Not sure what is the reason.","body":"My issue got fixed when I added a single-argument string constructor. @JsonProperty doesn&#39;t work though. Not sure what is the reason."}],"tags":[],"owner":{"account_id":5412901,"reputation":1535,"user_id":4309039,"display_name":"Nithish Thomas"},"comment_count":2,"down_vote_count":3,"up_vote_count":48,"is_accepted":false,"score":45,"last_activity_date":1590487475,"creation_date":1472041592,"answer_id":39123304,"question_id":39123030,"body_markdown":"You need to add the annotation `@JsonProperty` specifying the name of the json property that needs to be passed to the constructor when creating the object.\r\n\r\n\r\n    public class Cruise extends WaterVehicle {\r\n    \r\n     private Integer maxSpeed;\r\n    \r\n      @JsonCreator\r\n      public Cruise(@JsonProperty(&quot;name&quot;) String name, @JsonProperty(&quot;maxSpeed&quot;)Integer maxSpeed) {\r\n        super(name);\r\n        System.out.println(&quot;Cruise.Cruise&quot;);\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n      public Integer getMaxSpeed() {\r\n        return maxSpeed;\r\n      }\r\n    \r\n      public void setMaxSpeed(Integer maxSpeed) {\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n    }\r\n\r\n**EDIT**\r\n\r\nI just tested using the below code and it works for me\r\n\r\n\r\n    \r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonCreator.Mode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\r\n     \r\n    class WaterVehicle {\r\n    \r\n    \tprivate String name;\r\n    \tprivate int capacity;\r\n    \tprivate String inventor;\r\n    \tpublic WaterVehicle(String name) {\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic int getCapacity() {\r\n    \t\treturn capacity;\r\n    \t}\r\n    \tpublic void setCapacity(int capacity) {\r\n    \t\tthis.capacity = capacity;\r\n    \t}\r\n    \tpublic String getInventor() {\r\n    \t\treturn inventor;\r\n    \t}\r\n    \tpublic void setInventor(String inventor) {\r\n    \t\tthis.inventor = inventor;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n    \r\n     class Cruise  extends WaterVehicle{\r\n    \r\n    \t\tprivate Integer maxSpeed;\r\n    \r\n    \t\tpublic Cruise(String name, Integer maxSpeed) {\r\n    \t\t\tsuper(name);\r\n    \t\t\tthis.maxSpeed = maxSpeed;\r\n    \t\t}\r\n    \r\n    \t\tpublic Integer getMaxSpeed() {\r\n    \t\t\treturn maxSpeed;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setMaxSpeed(Integer maxSpeed) {\r\n    \t\t\tthis.maxSpeed = maxSpeed;\r\n    \t\t}\r\n    \r\n    \r\n    \t}\r\n    \r\n    public class Test {\r\n    \t  public static void main(String[] args) throws IOException {\r\n    \t    Cruise cruise = new Cruise(&quot;asd&quot;, 100);\r\n    \t    cruise.setMaxSpeed(100);\r\n    \t    cruise.setCapacity(123);\r\n    \t    cruise.setInventor(&quot;afoaisf&quot;);\r\n    \r\n    \t    ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n    \t    mapper.registerModule(new ParameterNamesModule(Mode.PROPERTIES));\r\n    \r\n            String jsonString = mapper.writeValueAsString( cruise);\r\n            System.out.println(jsonString);\r\n            \r\n            Cruise anotherCruise = mapper.readValue(jsonString, Cruise.class);\r\n             System.out.println(anotherCruise );\r\n             jsonString = mapper.writeValueAsString( anotherCruise );\r\n             System.out.println(jsonString);\r\n    \r\n    \t}\r\n    \t  \r\n    }\r\n\r\n\r\nIt produces the following output\r\n\r\n    {\r\n      &quot;name&quot; : &quot;asd&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;maxSpeed&quot; : 100\r\n    }\r\n    Cruise@56f4468b\r\n    {\r\n      &quot;name&quot; : &quot;asd&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;maxSpeed&quot; : 100\r\n    }\r\n\r\n\r\n\r\nMake sure you have the compilerArgs in the pom file.\r\n\r\n    &lt;compilerArgs&gt;\r\n         &lt;arg&gt;-parameters&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>You need to add the annotation <code>@JsonProperty</code> specifying the name of the json property that needs to be passed to the constructor when creating the object.</p>\n\n<pre><code>public class Cruise extends WaterVehicle {\n\n private Integer maxSpeed;\n\n  @JsonCreator\n  public Cruise(@JsonProperty(\"name\") String name, @JsonProperty(\"maxSpeed\")Integer maxSpeed) {\n    super(name);\n    System.out.println(\"Cruise.Cruise\");\n    this.maxSpeed = maxSpeed;\n  }\n\n  public Integer getMaxSpeed() {\n    return maxSpeed;\n  }\n\n  public void setMaxSpeed(Integer maxSpeed) {\n    this.maxSpeed = maxSpeed;\n  }\n\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I just tested using the below code and it works for me</p>\n\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.annotation.JsonCreator.Mode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\n\nclass WaterVehicle {\n\n    private String name;\n    private int capacity;\n    private String inventor;\n    public WaterVehicle(String name) {\n        this.name=name;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getCapacity() {\n        return capacity;\n    }\n    public void setCapacity(int capacity) {\n        this.capacity = capacity;\n    }\n    public String getInventor() {\n        return inventor;\n    }\n    public void setInventor(String inventor) {\n        this.inventor = inventor;\n    }\n\n\n}\n\n class Cruise  extends WaterVehicle{\n\n        private Integer maxSpeed;\n\n        public Cruise(String name, Integer maxSpeed) {\n            super(name);\n            this.maxSpeed = maxSpeed;\n        }\n\n        public Integer getMaxSpeed() {\n            return maxSpeed;\n        }\n\n        public void setMaxSpeed(Integer maxSpeed) {\n            this.maxSpeed = maxSpeed;\n        }\n\n\n    }\n\npublic class Test {\n      public static void main(String[] args) throws IOException {\n        Cruise cruise = new Cruise(\"asd\", 100);\n        cruise.setMaxSpeed(100);\n        cruise.setCapacity(123);\n        cruise.setInventor(\"afoaisf\");\n\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.registerModule(new ParameterNamesModule(Mode.PROPERTIES));\n\n        String jsonString = mapper.writeValueAsString( cruise);\n        System.out.println(jsonString);\n\n        Cruise anotherCruise = mapper.readValue(jsonString, Cruise.class);\n         System.out.println(anotherCruise );\n         jsonString = mapper.writeValueAsString( anotherCruise );\n         System.out.println(jsonString);\n\n    }\n\n}\n</code></pre>\n\n<p>It produces the following output</p>\n\n<pre><code>{\n  \"name\" : \"asd\",\n  \"capacity\" : 123,\n  \"inventor\" : \"afoaisf\",\n  \"maxSpeed\" : 100\n}\nCruise@56f4468b\n{\n  \"name\" : \"asd\",\n  \"capacity\" : 123,\n  \"inventor\" : \"afoaisf\",\n  \"maxSpeed\" : 100\n}\n</code></pre>\n\n<p>Make sure you have the compilerArgs in the pom file.</p>\n\n<pre><code>&lt;compilerArgs&gt;\n     &lt;arg&gt;-parameters&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3975925,"reputation":721,"user_id":3279117,"accept_rate":50,"display_name":"pedrostanaka"},"score":2,"creation_date":1472053946,"post_id":39124554,"comment_id":65601252,"body_markdown":"Thanks for the input, but this solution did not work as well. It only seems to work in classes where there is only one constructor. When you have multiple constructors you have to hint Jackson which one to use to construct your objects.","body":"Thanks for the input, but this solution did not work as well. It only seems to work in classes where there is only one constructor. When you have multiple constructors you have to hint Jackson which one to use to construct your objects."}],"tags":[],"owner":{"account_id":1075584,"reputation":2976,"user_id":1073826,"accept_rate":100,"display_name":"Jon Peterson"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1472044920,"creation_date":1472044920,"answer_id":39124554,"question_id":39123030,"body_markdown":"Short answer: use Java 8, `javac -parameters`, and [jackson-module-parameter-names][1]\r\n\r\nLong answer: [Why when a constructor is annotated with @JsonCreator, its arguments must be annotated with @JsonProperty?][2]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-module-parameter-names\r\n  [2]: https://stackoverflow.com/a/33578478/1073826","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Short answer: use Java 8, <code>javac -parameters</code>, and <a href=\"https://github.com/FasterXML/jackson-module-parameter-names\" rel=\"noreferrer\">jackson-module-parameter-names</a></p>\n\n<p>Long answer: <a href=\"https://stackoverflow.com/a/33578478/1073826\">Why when a constructor is annotated with @JsonCreator, its arguments must be annotated with @JsonProperty?</a></p>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1546838507,"creation_date":1546838507,"answer_id":54068906,"question_id":39123030,"body_markdown":"`@JsonCreator` is not required after having `@JsonProperty(&quot;xxx&quot;)` in the parameter","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p><code>@JsonCreator</code> is not required after having <code>@JsonProperty(\"xxx\")</code> in the parameter</p>\n"},{"tags":[],"owner":{"account_id":4685065,"reputation":485,"user_id":3792674,"display_name":"Asif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632902019,"creation_date":1632902019,"answer_id":69372474,"question_id":39123030,"body_markdown":"**If you have nested inner class make it static**\r\n\r\n   \r\n\r\n    public class A{\r\n        private int property1;\r\n        public static class B{\r\n            private String property2;\r\n        }\r\n    }","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p><strong>If you have nested inner class make it static</strong></p>\n<pre><code>public class A{\n    private int property1;\n    public static class B{\n        private String property2;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6673002,"reputation":1,"user_id":5148604,"display_name":"Owais Kazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669666904,"creation_date":1669666852,"answer_id":74606071,"question_id":39123030,"body_markdown":"Registering the below modules helped:\r\n\r\n`JavaTimeModule` was required for my use case\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.registerModule(new GuavaModule());\r\n        mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE, JsonTypeInfo.As.PROPERTY);\r\n        mapper.configure(MapperFeature.USE_GETTERS_AS_SETTERS, false);\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Registering the below modules helped:</p>\n<p><code>JavaTimeModule</code> was required for my use case</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.registerModule(new GuavaModule());\n    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.OBJECT_AND_NON_CONCRETE, JsonTypeInfo.As.PROPERTY);\n    mapper.configure(MapperFeature.USE_GETTERS_AS_SETTERS, false);\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17833477,"reputation":1,"user_id":12952985,"display_name":"Kalkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692912888,"creation_date":1692912822,"answer_id":76973042,"question_id":39123030,"body_markdown":"Try to register ```ParameterNamesModule``` in ObjectMapper.\r\n\r\nIt works for me:\r\n``` \r\nobjectMapper.registerModule(new ParameterNamesModule());\r\n```","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>Try to register <code>ParameterNamesModule</code> in ObjectMapper.</p>\n<p>It works for me:</p>\n<pre><code>objectMapper.registerModule(new ParameterNamesModule());\n</code></pre>\n"}],"owner":{"account_id":3975925,"reputation":721,"user_id":3279117,"accept_rate":50,"display_name":"pedrostanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90200,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"answer_count":6,"score":35,"last_activity_date":1692912888,"creation_date":1472040839,"question_id":39123030,"body_markdown":"I&#39;ve been using FasterXML/Jackson-Databind in my project for a while now, and all was working great, until I&#39;ve discovered this [post][1] and started to use this approach to desserialize objects without the @JsonProperty annotations.\r\n\r\nThe problem is that when I have a constructor which take multiple parameters and decorate this constructor with the @JsonCreator annotation Jackson throw the following error: \r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: \r\n    Argument #0 of constructor [constructor for com.eliti.model.Cruiser, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\r\n     at [Source: {\r\n      &quot;class&quot; : &quot;com.eliti.model.Cruiser&quot;,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;type&quot; : &quot;MeansTransport&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;maxSpeed&quot; : 100\r\n    }; line: 1, column: 1]\r\n\r\nI&#39;ve created a [little project][2] to illustrate the problem, the class I&#39;m trying to desserialize is this one:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Cruise extends WaterVehicle {\r\n\r\n     private Integer maxSpeed;\r\n    \r\n      @JsonCreator\r\n      public Cruise(String name, Integer maxSpeed) {\r\n        super(name);\r\n        System.out.println(&quot;Cruise.Cruise&quot;);\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n      public Integer getMaxSpeed() {\r\n        return maxSpeed;\r\n      }\r\n    \r\n      public void setMaxSpeed(Integer maxSpeed) {\r\n        this.maxSpeed = maxSpeed;\r\n      }\r\n    \r\n    }\r\n\r\nAnd the code to desserialize is like this: \r\n\r\n    public class Test {\r\n      public static void main(String[] args) throws IOException {\r\n        Cruise cruise = new Cruise(&quot;asd&quot;, 100);\r\n        cruise.setMaxSpeed(100);\r\n        cruise.setCapacity(123);\r\n        cruise.setInventor(&quot;afoaisf&quot;);\r\n    \r\n        ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\r\n        mapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\r\n    \r\n        String cruiseJson = mapper.writeValueAsString(cruise);\r\n    \r\n        System.out.println(cruiseJson);\r\n    \r\n        System.out.println(mapper.readValue(cruiseJson, Cruise.class));\r\n    \r\n    }\r\n\r\nI already tried to remove the @JsonCreator, but if I do so, the throws the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.eliti.model.Cruise: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\r\n     at [Source: {\r\n      &quot;class&quot; : &quot;com.eliti.model.Cruise&quot;,\r\n      &quot;inventor&quot; : &quot;afoaisf&quot;,\r\n      &quot;type&quot; : &quot;MeansTransport&quot;,\r\n      &quot;capacity&quot; : 123,\r\n      &quot;maxSpeed&quot; : 100\r\n    }; line: 3, column: 3]\r\n\r\nI have tried to issue a &quot;mvn clean install&quot;, but the problem persists.\r\n\r\n\r\nJust to include some extra information, I&#39;ve researched thoroughly about this problem (GitHub issues, Blog posts, StackOverflow Q&amp;A). Here are some debbuging/investigation that I have been doing on my end:\r\n\r\n### Investigation 1\r\n\r\n**javap -v**  on the generated bytecode give me this:\r\n\r\n     MethodParameters:\r\n          Name                           Flags\r\n          name\r\n          maxSpeed\r\n\r\nWhen talking about the constructor, so I guess that the **-parameters** flag is really being set for javac compiler.\r\n\r\n### Investigation 2\r\n\r\nIf I create a constructor with a single parameter the object gets initialized, but I want/need to use the multiple parameter constructor.\r\n\r\n### Investigation 3\r\n\r\nIf I use the annotation @JsonProperty on each field it works as well, but for my original project it is too much overhead since I have a lot of fields in the constructor (and also it gets very hard to refactor code with annotations).\r\n\r\n\r\nThe question that remain is:\r\n**How can I make Jackson work with multiple parameter constructor without annotations?**\r\n\r\n  [1]: https://manosnikolaidis.wordpress.com/\r\n  [2]: https://github.com/pedro-stanaka/test-error-jackson\r\n","title":"Jackson JSON deserialization with multiple parameters constructor","body":"<p>I've been using FasterXML/Jackson-Databind in my project for a while now, and all was working great, until I've discovered this <a href=\"https://manosnikolaidis.wordpress.com/\" rel=\"noreferrer\">post</a> and started to use this approach to desserialize objects without the @JsonProperty annotations.</p>\n\n<p>The problem is that when I have a constructor which take multiple parameters and decorate this constructor with the @JsonCreator annotation Jackson throw the following error: </p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: \nArgument #0 of constructor [constructor for com.eliti.model.Cruiser, annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)}] has no property name annotation; must have name when multiple-parameter constructor annotated as Creator\n at [Source: {\n  \"class\" : \"com.eliti.model.Cruiser\",\n  \"inventor\" : \"afoaisf\",\n  \"type\" : \"MeansTransport\",\n  \"capacity\" : 123,\n  \"maxSpeed\" : 100\n}; line: 1, column: 1]\n</code></pre>\n\n<p>I've created a <a href=\"https://github.com/pedro-stanaka/test-error-jackson\" rel=\"noreferrer\">little project</a> to illustrate the problem, the class I'm trying to desserialize is this one:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Cruise extends WaterVehicle {\n\n private Integer maxSpeed;\n\n  @JsonCreator\n  public Cruise(String name, Integer maxSpeed) {\n    super(name);\n    System.out.println(\"Cruise.Cruise\");\n    this.maxSpeed = maxSpeed;\n  }\n\n  public Integer getMaxSpeed() {\n    return maxSpeed;\n  }\n\n  public void setMaxSpeed(Integer maxSpeed) {\n    this.maxSpeed = maxSpeed;\n  }\n\n}\n</code></pre>\n\n<p>And the code to desserialize is like this: </p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) throws IOException {\n    Cruise cruise = new Cruise(\"asd\", 100);\n    cruise.setMaxSpeed(100);\n    cruise.setCapacity(123);\n    cruise.setInventor(\"afoaisf\");\n\n    ObjectMapper mapper = new ObjectMapper().enable(SerializationFeature.INDENT_OUTPUT);\n    mapper.registerModule(new ParameterNamesModule(JsonCreator.Mode.PROPERTIES));\n\n    String cruiseJson = mapper.writeValueAsString(cruise);\n\n    System.out.println(cruiseJson);\n\n    System.out.println(mapper.readValue(cruiseJson, Cruise.class));\n\n}\n</code></pre>\n\n<p>I already tried to remove the @JsonCreator, but if I do so, the throws the following exception:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of com.eliti.model.Cruise: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\n at [Source: {\n  \"class\" : \"com.eliti.model.Cruise\",\n  \"inventor\" : \"afoaisf\",\n  \"type\" : \"MeansTransport\",\n  \"capacity\" : 123,\n  \"maxSpeed\" : 100\n}; line: 3, column: 3]\n</code></pre>\n\n<p>I have tried to issue a \"mvn clean install\", but the problem persists.</p>\n\n<p>Just to include some extra information, I've researched thoroughly about this problem (GitHub issues, Blog posts, StackOverflow Q&amp;A). Here are some debbuging/investigation that I have been doing on my end:</p>\n\n<h3>Investigation 1</h3>\n\n<p><strong>javap -v</strong>  on the generated bytecode give me this:</p>\n\n<pre><code> MethodParameters:\n      Name                           Flags\n      name\n      maxSpeed\n</code></pre>\n\n<p>When talking about the constructor, so I guess that the <strong>-parameters</strong> flag is really being set for javac compiler.</p>\n\n<h3>Investigation 2</h3>\n\n<p>If I create a constructor with a single parameter the object gets initialized, but I want/need to use the multiple parameter constructor.</p>\n\n<h3>Investigation 3</h3>\n\n<p>If I use the annotation @JsonProperty on each field it works as well, but for my original project it is too much overhead since I have a lot of fields in the constructor (and also it gets very hard to refactor code with annotations).</p>\n\n<p>The question that remain is:\n<strong>How can I make Jackson work with multiple parameter constructor without annotations?</strong></p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692875797,"post_id":76967831,"comment_id":135684804,"body_markdown":"You say the code you&#39;ve included works, but there are no details on how exactly you&#39;ve made it run in a container.  Can you [edit] the question to include a [mcve]; for example, your Dockerfile, how you started the container, and what specific URL you&#39;re trying to connect to?","body":"You say the code you&#39;ve included works, but there are no details on how exactly you&#39;ve made it run in a container.  Can you <a href=\"https://stackoverflow.com/posts/76967831/edit\">edit</a> the question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; for example, your Dockerfile, how you started the container, and what specific URL you&#39;re trying to connect to?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692876617,"post_id":76967831,"comment_id":135684993,"body_markdown":"Can you share your `docker run` command? Probably you&#39;re missing port mapping. It should look like: `docker run -p 8080:8080 yourimage`","body":"Can you share your <code>docker run</code> command? Probably you&#39;re missing port mapping. It should look like: <code>docker run -p 8080:8080 yourimage</code>"},{"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"score":0,"creation_date":1692912563,"post_id":76967831,"comment_id":135692878,"body_markdown":"I added the details you require. And no, I did not miss port mapping.","body":"I added the details you require. And no, I did not miss port mapping."},{"owner":{"account_id":24280282,"reputation":83,"user_id":18226909,"display_name":"Saleh"},"score":0,"creation_date":1692947171,"post_id":76967831,"comment_id":135696431,"body_markdown":"I don&#39;t see any problem but i guess it&#39;s because of your `bridge` network. Remove the networks you defined in your compose file because the services in the compose file are in the same network. Also when you trying to connect to your elasticsearch from your spring app, you don&#39;t need to expose the elasticsearch port. Hope it helps !","body":"I don&#39;t see any problem but i guess it&#39;s because of your <code>bridge</code> network. Remove the networks you defined in your compose file because the services in the compose file are in the same network. Also when you trying to connect to your elasticsearch from your spring app, you don&#39;t need to expose the elasticsearch port. Hope it helps !"}],"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692912522,"creation_date":1692868296,"question_id":76967831,"body_markdown":"I&#39;m doing a little project and I have this controller:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\r\n    @Value(&quot;${me}&quot;)\r\n    private String name;\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\r\n        User created = userService.save(user);\r\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/me&quot;)\r\n    public String me() {\r\n        return &quot;hello &quot; + name;\r\n    }\r\n\r\n    @GetMapping(&quot;/{username}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\r\n        User user = userService.getByUsername(username);\r\n        if (user != null) {\r\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen working in localhost all my endpoints are working fine but when I dockerized it, &quot;/hello&quot; and &quot;/me&quot; endpoints return \r\n\r\n```log\r\n**This localhost page can’t be foundNo webpage was found for the web address: http://localhost:8080/user/hello\r\nHTTP ERROR 404**\r\n```\r\n\r\nWhat&#39;s the reason of it not working?\r\n\r\nEDIT: I&#39;ve been asked to add Dockerfile and here is my Dockerfile and docker-compose.yml:\r\n\r\n```\r\nFROM eclipse-temurin:17-jdk-alpine\r\nARG JAR_FILE=target/*.jar\r\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\r\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\r\n```\r\n\r\ndocker-compose.yml:\r\n\r\n```\r\nversion: &#39;1&#39;\r\nservices:\r\n  es:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\r\n    container_name: es\r\n    ports:\r\n      - 9200:9200\r\n      - 9300:9300\r\n    environment:\r\n      - discovery.type=single-node\r\n    networks:\r\n      - mynet\r\n\r\n  springboot-app:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    container_name: springElastic\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - spring.elasticsearch.uris=es:9200\r\n      - spring.data.elasticsearch.cluster-nodes=es:9200\r\n    depends_on:\r\n      - es\r\n    networks:\r\n      - mynet\r\n\r\nnetworks:\r\n  mynet:\r\n    driver: bridge\r\n\r\n```\r\n\r\nAnd it works locally but when I start my application with docker-compose.yml endpoints &quot;/user/hello&quot; and &quot;/user/me&quot; says &quot;This localhost page can’t be found&quot; other endpoints work and has no problem.","title":"Spring-Boot Docker This localhost page can’t be found","body":"<p>I'm doing a little project and I have this controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Value(&quot;${me}&quot;)\n    private String name;\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\n        User created = userService.save(user);\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;hello&quot;;\n    }\n\n    @GetMapping(&quot;/me&quot;)\n    public String me() {\n        return &quot;hello &quot; + name;\n    }\n\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\n        User user = userService.getByUsername(username);\n        if (user != null) {\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n\n}\n</code></pre>\n<p>When working in localhost all my endpoints are working fine but when I dockerized it, &quot;/hello&quot; and &quot;/me&quot; endpoints return</p>\n<pre><code>**This localhost page can’t be foundNo webpage was found for the web address: http://localhost:8080/user/hello\nHTTP ERROR 404**\n</code></pre>\n<p>What's the reason of it not working?</p>\n<p>EDIT: I've been asked to add Dockerfile and here is my Dockerfile and docker-compose.yml:</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\n</code></pre>\n<p>docker-compose.yml:</p>\n<pre><code>version: '1'\nservices:\n  es:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\n    container_name: es\n    ports:\n      - 9200:9200\n      - 9300:9300\n    environment:\n      - discovery.type=single-node\n    networks:\n      - mynet\n\n  springboot-app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: springElastic\n    ports:\n      - 8080:8080\n    environment:\n      - spring.elasticsearch.uris=es:9200\n      - spring.data.elasticsearch.cluster-nodes=es:9200\n    depends_on:\n      - es\n    networks:\n      - mynet\n\nnetworks:\n  mynet:\n    driver: bridge\n\n</code></pre>\n<p>And it works locally but when I start my application with docker-compose.yml endpoints &quot;/user/hello&quot; and &quot;/user/me&quot; says &quot;This localhost page can’t be found&quot; other endpoints work and has no problem.</p>\n"},{"tags":["java","android","webview","webviewclient"],"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692912514,"creation_date":1692912514,"question_id":76973022,"body_markdown":"I would like to manage a Mega file share homepage with a WebView and a WebViewClient.\r\nThe share URL is of type: https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s\r\n\r\nThe page is displayed correctly in my Webview. This page displays a Download button.\r\nWhen you click on the button, a progress bar appears and the download seems to be done &quot;internally&quot;.\r\nWhen the progress is complete, a save button appears.\r\n\r\nMy Problem: the action on the save button does not result in any method call of my WebViewClient:\r\n```\r\n@Override\r\npublic boolean shouldOverrideUrlLoading(final WebView view, final String url) {\r\n..... }\r\n\r\n```\r\nNor the Download button for that matter. No way to download the file from my WebView.\r\nDo you have an idea on how to proceed?","title":"WebView and Mega (cloud) share page?","body":"<p>I would like to manage a Mega file share homepage with a WebView and a WebViewClient.\nThe share URL is of type: <a href=\"https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s\" rel=\"nofollow noreferrer\">https://mega.nz/file/vYFgUQKS#Wnyw--STwQxDNJ7NJN_x2DJbgZmcogn_yRIptbEIX4s</a></p>\n<p>The page is displayed correctly in my Webview. This page displays a Download button.\nWhen you click on the button, a progress bar appears and the download seems to be done &quot;internally&quot;.\nWhen the progress is complete, a save button appears.</p>\n<p>My Problem: the action on the save button does not result in any method call of my WebViewClient:</p>\n<pre><code>@Override\npublic boolean shouldOverrideUrlLoading(final WebView view, final String url) {\n..... }\n\n</code></pre>\n<p>Nor the Download button for that matter. No way to download the file from my WebView.\nDo you have an idea on how to proceed?</p>\n"},{"tags":["java","android-asynctask","google-cast","google-cast-sdk"],"answers":[{"comments":[{"owner":{"account_id":1014799,"reputation":1652,"user_id":1026605,"accept_rate":50,"display_name":"user1026605"},"score":0,"creation_date":1674087751,"post_id":74880599,"comment_id":132642898,"body_markdown":"Did you manage to solve this by any chance? I&#39;m now experiencing the same issue","body":"Did you manage to solve this by any chance? I&#39;m now experiencing the same issue"},{"owner":{"account_id":1507429,"reputation":621,"user_id":1410481,"display_name":"Paul Frank Allan"},"score":0,"creation_date":1674232455,"post_id":74880599,"comment_id":132677654,"body_markdown":"As I&#39;m using Compose I used DisposableEffect to add the session listener and it&#39;s onDispose to remove it. I also still call the deprecated &quot;CastContext.getSharedInstance(this)&quot; in my single activity&#39;s onCreate to ensure the cast framework gets called early enough. I haven&#39;t yet figured out the original issue but what I have works for me for now.","body":"As I&#39;m using Compose I used DisposableEffect to add the session listener and it&#39;s onDispose to remove it. I also still call the deprecated &quot;CastContext.getSharedInstance(this)&quot; in my single activity&#39;s onCreate to ensure the cast framework gets called early enough. I haven&#39;t yet figured out the original issue but what I have works for me for now."}],"tags":[],"owner":{"account_id":1507429,"reputation":621,"user_id":1410481,"display_name":"Paul Frank Allan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671649250,"creation_date":1671648852,"answer_id":74880599,"question_id":74866218,"body_markdown":"This doesn&#39;t answer your question directly as to why your app behaves differently than the google cast reference app but you can add OnCompleteListener then set the context:\r\n\r\nKotlin:\r\n\r\n    CastContext.getSharedInstance(this, castExecutor).addOnCompleteListener {\r\n        castContext = it.result\r\n        castContext?.addCastStateListener(this)\r\n    }\r\n\r\nJava:\r\n\r\n    Task task = CastContext.getSharedInstance(this,localExecutor);\r\n    task.addOnCompleteListener(task1 -&gt; mCastContext = (CastContext) task1.getResult());\r\n            \r\n            // or \r\n    \r\n    Task task = CastContext.getSharedInstance(this,localExecutor);\r\n    task.addOnCompleteListener(new OnCompleteListener() {\r\n                @Override\r\n                public void onComplete(@NonNull Task task) {\r\n                    mCastContext = (CastContext)task.getResult();\r\n                }\r\n            });\r\n\r\nI am stuck at the same point (much of today) as yourself trying to figure out why the CastContext.getSharedInstance(this, castExecutor).result gives the &quot;Task is not yet complete&quot; exception in my own app but not the reference app even though I have followed the same steps as far as I can tell.\r\n","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>This doesn't answer your question directly as to why your app behaves differently than the google cast reference app but you can add OnCompleteListener then set the context:</p>\n<p>Kotlin:</p>\n<pre><code>CastContext.getSharedInstance(this, castExecutor).addOnCompleteListener {\n    castContext = it.result\n    castContext?.addCastStateListener(this)\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>Task task = CastContext.getSharedInstance(this,localExecutor);\ntask.addOnCompleteListener(task1 -&gt; mCastContext = (CastContext) task1.getResult());\n        \n        // or \n\nTask task = CastContext.getSharedInstance(this,localExecutor);\ntask.addOnCompleteListener(new OnCompleteListener() {\n            @Override\n            public void onComplete(@NonNull Task task) {\n                mCastContext = (CastContext)task.getResult();\n            }\n        });\n</code></pre>\n<p>I am stuck at the same point (much of today) as yourself trying to figure out why the CastContext.getSharedInstance(this, castExecutor).result gives the &quot;Task is not yet complete&quot; exception in my own app but not the reference app even though I have followed the same steps as far as I can tell.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692091571,"post_id":76886362,"comment_id":135574659,"body_markdown":"You wrote in your answer: _daggerHilt in Kotlin_ Are you referring to this? https://dagger.dev/hilt/ Also, the question is tagged &quot;java&quot;. Is there a problem to post Java code rather than Kotlin code?","body":"You wrote in your answer: <i>daggerHilt in Kotlin</i> Are you referring to this? <a href=\"https://dagger.dev/hilt/\" rel=\"nofollow noreferrer\">dagger.dev/hilt</a> Also, the question is tagged &quot;java&quot;. Is there a problem to post Java code rather than Kotlin code?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1692125329,"post_id":76886362,"comment_id":135581174,"body_markdown":"Java problem = Kotlin code???","body":"Java problem = Kotlin code???"},{"owner":{"account_id":23033210,"reputation":31,"user_id":17152364,"display_name":"Darkryh"},"score":0,"creation_date":1692912345,"post_id":76886362,"comment_id":135692849,"body_markdown":"already added java versi&#243;n. saddly it supports api &gt;=24.","body":"already added java versi&#243;n. saddly it supports api &gt;=24."}],"tags":[],"owner":{"account_id":23033210,"reputation":31,"user_id":17152364,"display_name":"Darkryh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692912275,"creation_date":1691783465,"answer_id":76886362,"question_id":74866218,"body_markdown":"It&#39;s not the best option, I guess, but if you want to get the object in the main thread, this works for me. Java Versi&#243;n:\r\n\r\n    public CastContext getCastContext(Context context) {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        try {\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\r\n                CompletableFuture&lt;CastContext&gt; castContextFuture = new CompletableFuture&lt;&gt;();\r\n                castContextFuture.complete(CastContext.getSharedInstance(context, executor).getResult());\r\n                return castContextFuture.get();\r\n            }\r\n    \r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(&quot;Error: couldn&#39;t get CastContext&quot;, e);\r\n        }\r\n        return null;\r\n    }\r\n\r\nKotlin Versi&#243;n:\r\n\r\n    fun getCastContext(context: Context) : CastContext {\r\n        val executor = Executors.newSingleThreadExecutor()\r\n        val castContextTask: Task&lt;CastContext&gt; = CastContext.getSharedInstance(context, executor)\r\n    \r\n        return try {\r\n            runBlocking {\r\n                castContextTask.await()\r\n            }\r\n        } catch (e : Exception) {\r\n            throw IllegalStateException(&quot;error couldn&#39;t get CastContext&quot;)\r\n        }\r\n    }","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>It's not the best option, I guess, but if you want to get the object in the main thread, this works for me. Java Versión:</p>\n<pre><code>public CastContext getCastContext(Context context) {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    try {\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\n            CompletableFuture&lt;CastContext&gt; castContextFuture = new CompletableFuture&lt;&gt;();\n            castContextFuture.complete(CastContext.getSharedInstance(context, executor).getResult());\n            return castContextFuture.get();\n        }\n\n    } catch (Exception e) {\n        throw new IllegalStateException(&quot;Error: couldn't get CastContext&quot;, e);\n    }\n    return null;\n}\n</code></pre>\n<p>Kotlin Versión:</p>\n<pre><code>fun getCastContext(context: Context) : CastContext {\n    val executor = Executors.newSingleThreadExecutor()\n    val castContextTask: Task&lt;CastContext&gt; = CastContext.getSharedInstance(context, executor)\n\n    return try {\n        runBlocking {\n            castContextTask.await()\n        }\n    } catch (e : Exception) {\n        throw IllegalStateException(&quot;error couldn't get CastContext&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27301463,"reputation":11,"user_id":20818151,"display_name":"CDK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692912275,"creation_date":1671554557,"question_id":74866218,"body_markdown":"I&#39;ve been working on this for weeks no joke but I&#39;m really stumped at this one part. So I&#39;m in the process of implementing Google Cast into a poorly constructed codebase that I inherited.\r\n\r\nSpecifically, I&#39;m using this source as reference since the codebase was written entirely in Java for some arbitrary reason: https://github.com/googlecast/CastVideos-android\r\n\r\nAnd to be more specific, all I&#39;m trying to do right now is get the \r\n\r\n```\r\nmCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\r\n``` \r\n\r\nline in VideoBrowserActivity to work in my project. However, I am getting this error when implementing it but not when I run the other project: Unable to start activity ComponentInfo{}: java.lang.IllegalStateException: Task is not yet complete\r\n\r\n\r\nHere are the important parts of my work and the reference file, respectively:\r\n\r\n```\r\npublic class VideoExoPlayerActivity extends BaseActivity implements OnClickHandlerInterface {\r\n\r\n    private ActivityVideoExoPlayerBinding binding;\r\n    private VideoPlayerViewModel viewModel;\r\n\r\n    private String videoUuid;\r\n    private ExoPlayer exoPlayer;\r\n    private DefaultTrackSelector trackSelector;\r\n    private String drmLicenseUrl;\r\n    private String mimeType;\r\n    private Boolean isDashDRM;\r\n\r\n    private AudioManager manager;\r\n    private boolean isScreenLock = false;\r\n    private boolean isShortVideo = false;\r\n    private boolean isRollOverVideoAvailable = false;\r\n    private boolean isRollOverShow = false;\r\n    private boolean isRollOverDismiss = false;\r\n\r\n    private int currentPosition = 0;\r\n    private int continuePosition = -1;\r\n    private List&lt;VideoUuidURLModel&gt; list_url = new ArrayList&lt;&gt;();\r\n    private List&lt;VideoPlayerDataResponse.Data&gt; list_video = new ArrayList&lt;&gt;();\r\n    private PictureInPictureParams.Builder mPictureInPictureParamsBuilder;\r\n\r\n    private CastContext mCastContext;\r\n    private CastSession mCastSession;\r\n    private MediaRouteButton mMediaRouteButton;\r\n    private SessionManager mSessionManager;\r\n    private SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\r\n            new SessionManagerListenerImpl();\r\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_video_exo_player);\r\n        viewModel = new ViewModelProvider(this, new CommonFactory&lt;&gt;(this)).get(VideoPlayerViewModel.class);\r\n\r\n        mCastContext = CastContext.getSharedInstance(this, localExecutor).getResult();\r\n\r\n        initView();\r\n        hideStatusBar();\r\n        startService(new Intent(this, HistoryAPIBackgroundService.class));\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic class VideoBrowserActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;VideoBrowserActivity&quot;;\r\n    private CastContext mCastContext;\r\n    private final SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\r\n            new MySessionManagerListener();\r\n    private CastSession mCastSession;\r\n    private MenuItem mediaRouteMenuItem;\r\n    private MenuItem mQueueMenuItem;\r\n    private Toolbar mToolbar;\r\n    private IntroductoryOverlay mIntroductoryOverlay;\r\n    private CastStateListener mCastStateListener;\r\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\r\n\r\n    private class MySessionManagerListener implements SessionManagerListener&lt;CastSession&gt; {\r\n\r\n        @Override\r\n        public void onSessionEnded(CastSession session, int error) {\r\n            if (session == mCastSession) {\r\n                mCastSession = null;\r\n            }\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResumed(CastSession session, boolean wasSuspended) {\r\n            mCastSession = session;\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStarted(CastSession session, String sessionId) {\r\n            mCastSession = session;\r\n            invalidateOptionsMenu();\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStarting(CastSession session) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionStartFailed(CastSession session, int error) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionEnding(CastSession session) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResuming(CastSession session, String sessionId) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionResumeFailed(CastSession session, int error) {\r\n        }\r\n\r\n        @Override\r\n        public void onSessionSuspended(CastSession session, int reason) {\r\n        }\r\n    }\r\n\r\n    /*\r\n     * (non-Javadoc)\r\n     * @see android.support.v4.app.FragmentActivity#onCreate(android.os.Bundle)\r\n     */\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.video_browser);\r\n        setupActionBar();\r\n\r\n        mCastStateListener = new CastStateListener() {\r\n            @Override\r\n            public void onCastStateChanged(int newState) {\r\n                if (newState != CastState.NO_DEVICES_AVAILABLE) {\r\n                    showIntroductoryOverlay();\r\n                }\r\n            }\r\n        };\r\n        mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\r\n    }\r\n\r\n```\r\n\r\nThere are some things in mine that look to be missing, but I&#39;ve tried implementing everything you can see already and nothing has changed my result. Please ask if you need to see other parts of the code because I have no idea if this problem could be coming from somewhere else. From what I can tell, there are next to no tutorials about implementing this in Java so I&#39;m doing it very blind and it has been very difficult so I really appreciate any help I can get.","title":"How can I resolve Task is not yet complete exception when implementing Google Cast into project?","body":"<p>I've been working on this for weeks no joke but I'm really stumped at this one part. So I'm in the process of implementing Google Cast into a poorly constructed codebase that I inherited.</p>\n<p>Specifically, I'm using this source as reference since the codebase was written entirely in Java for some arbitrary reason: <a href=\"https://github.com/googlecast/CastVideos-android\" rel=\"nofollow noreferrer\">https://github.com/googlecast/CastVideos-android</a></p>\n<p>And to be more specific, all I'm trying to do right now is get the</p>\n<pre><code>mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\n</code></pre>\n<p>line in VideoBrowserActivity to work in my project. However, I am getting this error when implementing it but not when I run the other project: Unable to start activity ComponentInfo{}: java.lang.IllegalStateException: Task is not yet complete</p>\n<p>Here are the important parts of my work and the reference file, respectively:</p>\n<pre><code>public class VideoExoPlayerActivity extends BaseActivity implements OnClickHandlerInterface {\n\n    private ActivityVideoExoPlayerBinding binding;\n    private VideoPlayerViewModel viewModel;\n\n    private String videoUuid;\n    private ExoPlayer exoPlayer;\n    private DefaultTrackSelector trackSelector;\n    private String drmLicenseUrl;\n    private String mimeType;\n    private Boolean isDashDRM;\n\n    private AudioManager manager;\n    private boolean isScreenLock = false;\n    private boolean isShortVideo = false;\n    private boolean isRollOverVideoAvailable = false;\n    private boolean isRollOverShow = false;\n    private boolean isRollOverDismiss = false;\n\n    private int currentPosition = 0;\n    private int continuePosition = -1;\n    private List&lt;VideoUuidURLModel&gt; list_url = new ArrayList&lt;&gt;();\n    private List&lt;VideoPlayerDataResponse.Data&gt; list_video = new ArrayList&lt;&gt;();\n    private PictureInPictureParams.Builder mPictureInPictureParamsBuilder;\n\n    private CastContext mCastContext;\n    private CastSession mCastSession;\n    private MediaRouteButton mMediaRouteButton;\n    private SessionManager mSessionManager;\n    private SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\n            new SessionManagerListenerImpl();\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_video_exo_player);\n        viewModel = new ViewModelProvider(this, new CommonFactory&lt;&gt;(this)).get(VideoPlayerViewModel.class);\n\n        mCastContext = CastContext.getSharedInstance(this, localExecutor).getResult();\n\n        initView();\n        hideStatusBar();\n        startService(new Intent(this, HistoryAPIBackgroundService.class));\n    }\n</code></pre>\n<pre><code>public class VideoBrowserActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;VideoBrowserActivity&quot;;\n    private CastContext mCastContext;\n    private final SessionManagerListener&lt;CastSession&gt; mSessionManagerListener =\n            new MySessionManagerListener();\n    private CastSession mCastSession;\n    private MenuItem mediaRouteMenuItem;\n    private MenuItem mQueueMenuItem;\n    private Toolbar mToolbar;\n    private IntroductoryOverlay mIntroductoryOverlay;\n    private CastStateListener mCastStateListener;\n    private Executor localExecutor = Executors.newSingleThreadExecutor();\n\n    private class MySessionManagerListener implements SessionManagerListener&lt;CastSession&gt; {\n\n        @Override\n        public void onSessionEnded(CastSession session, int error) {\n            if (session == mCastSession) {\n                mCastSession = null;\n            }\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionResumed(CastSession session, boolean wasSuspended) {\n            mCastSession = session;\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionStarted(CastSession session, String sessionId) {\n            mCastSession = session;\n            invalidateOptionsMenu();\n        }\n\n        @Override\n        public void onSessionStarting(CastSession session) {\n        }\n\n        @Override\n        public void onSessionStartFailed(CastSession session, int error) {\n        }\n\n        @Override\n        public void onSessionEnding(CastSession session) {\n        }\n\n        @Override\n        public void onSessionResuming(CastSession session, String sessionId) {\n        }\n\n        @Override\n        public void onSessionResumeFailed(CastSession session, int error) {\n        }\n\n        @Override\n        public void onSessionSuspended(CastSession session, int reason) {\n        }\n    }\n\n    /*\n     * (non-Javadoc)\n     * @see android.support.v4.app.FragmentActivity#onCreate(android.os.Bundle)\n     */\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.video_browser);\n        setupActionBar();\n\n        mCastStateListener = new CastStateListener() {\n            @Override\n            public void onCastStateChanged(int newState) {\n                if (newState != CastState.NO_DEVICES_AVAILABLE) {\n                    showIntroductoryOverlay();\n                }\n            }\n        };\n        mCastContext = CastContext.getSharedInstance(this,localExecutor).getResult();\n    }\n\n</code></pre>\n<p>There are some things in mine that look to be missing, but I've tried implementing everything you can see already and nothing has changed my result. Please ask if you need to see other parts of the code because I have no idea if this problem could be coming from somewhere else. From what I can tell, there are next to no tutorials about implementing this in Java so I'm doing it very blind and it has been very difficult so I really appreciate any help I can get.</p>\n"},{"tags":["java","jpa","jdbc","eclipselink","lazy-loading"],"answers":[{"comments":[{"owner":{"account_id":6978328,"reputation":31,"user_id":5352282,"display_name":"Rodolpho Couto"},"score":0,"creation_date":1442843465,"post_id":32694567,"comment_id":53237070,"body_markdown":"Thanks, but this pattern does not solve my problem. I need EclipseLink not make queries to return LAZY relationships, I need it returns null.","body":"Thanks, but this pattern does not solve my problem. I need EclipseLink not make queries to return LAZY relationships, I need it returns null."},{"owner":{"account_id":3907007,"reputation":1228,"user_id":3233440,"display_name":"Jose Ferrer"},"score":0,"creation_date":1450140867,"post_id":32694567,"comment_id":56300592,"body_markdown":"I would advise against &quot;open session in view&quot;:\nhttp://blog.jhades.org/open-session-in-view-pattern-pros-and-cons/\nhttps://blog.frankel.ch/the-opensessioninview-antipattern\nIt&#39;s considered an antipattern in Hibernate and I doubt EclipseLink considers it much better.","body":"I would advise against &quot;open session in view&quot;: <a href=\"http://blog.jhades.org/open-session-in-view-pattern-pros-and-cons/\" rel=\"nofollow noreferrer\">blog.jhades.org/open-session-in-view-pattern-pros-and-cons</a> <a href=\"https://blog.frankel.ch/the-opensessioninview-antipattern\" rel=\"nofollow noreferrer\">blog.frankel.ch/the-opensessioninview-antipattern</a> It&#39;s considered an antipattern in Hibernate and I doubt EclipseLink considers it much better."}],"tags":[],"owner":{"account_id":418189,"reputation":1882,"user_id":794606,"accept_rate":80,"display_name":"Jacek Cz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442836803,"creation_date":1442836425,"answer_id":32694567,"question_id":32694355,"body_markdown":"Pattern &quot;jpa session in view&quot; is Your friend. Basically: during cycle of request You open EntityManager (quite early or on request), dont close in your application code (all lazy element can be fetched) and automate close EM in one of last operations. \r\n\r\nI had identical problem. \r\nPersonally i use Wicket, replace \r\n\r\n    class MyWebRequestCycle extends RequestCycle {\r\n    ... // extract from bigger project\r\n    protected void onEndRequest() {\r\n    \t\tsuper.onEndRequest();\r\n    \t\tif (em != null) {\r\n    \t\t\tif (em instanceof MyEntityManager) {\r\n    \t\t\t\tMyEntityManager em2 = (MyEntityManager) em;\r\n    \t\t\t\tem2.original.close();\r\n    \t\t\t} else\r\n    \t\t\t\tem.close();\r\n    \t\t\tem = null;\r\n    \t\t}\r\n    }\r\n\r\n   }\r\n\r\n`MyEntityManager` is proxy (almost generated in Eclpse) over opened in early stage `EntityManager`. And &#39;if&#39; above is because of start of application,  it is not part of our discussion.\r\n\r\nIn other frameworks in adequate way. It depends on You.\r\n\r\nAnswer has two path: full JEE container (programmers code does nothing to open or close EM) and servlet containers. My answer is for the second.\r\n\r\nRemark: word *session* in this pattern is not web Session or not Session in sense entry parameters of JPA engine. This is only word ;)","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>Pattern \"jpa session in view\" is Your friend. Basically: during cycle of request You open EntityManager (quite early or on request), dont close in your application code (all lazy element can be fetched) and automate close EM in one of last operations. </p>\n\n<p>I had identical problem. \nPersonally i use Wicket, replace </p>\n\n<pre><code>class MyWebRequestCycle extends RequestCycle {\n... // extract from bigger project\nprotected void onEndRequest() {\n        super.onEndRequest();\n        if (em != null) {\n            if (em instanceof MyEntityManager) {\n                MyEntityManager em2 = (MyEntityManager) em;\n                em2.original.close();\n            } else\n                em.close();\n            em = null;\n        }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><code>MyEntityManager</code> is proxy (almost generated in Eclpse) over opened in early stage <code>EntityManager</code>. And 'if' above is because of start of application,  it is not part of our discussion.</p>\n\n<p>In other frameworks in adequate way. It depends on You.</p>\n\n<p>Answer has two path: full JEE container (programmers code does nothing to open or close EM) and servlet containers. My answer is for the second.</p>\n\n<p>Remark: word <em>session</em> in this pattern is not web Session or not Session in sense entry parameters of JPA engine. This is only word ;)</p>\n"},{"comments":[{"owner":{"account_id":6978328,"reputation":31,"user_id":5352282,"display_name":"Rodolpho Couto"},"score":0,"creation_date":1442843823,"post_id":32694744,"comment_id":53237327,"body_markdown":"Thank you, but in my case is a ManyToOne relationship. I&#39;ve tried checking with Persistence.getPersistenceUtil().IsLoaded() method, but neither worked.","body":"Thank you, but in my case is a ManyToOne relationship. I&#39;ve tried checking with Persistence.getPersistenceUtil().IsLoaded() method, but neither worked."}],"tags":[],"owner":{"account_id":2015994,"reputation":2757,"user_id":1803294,"accept_rate":76,"display_name":"stg"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442836957,"creation_date":1442836957,"answer_id":32694744,"question_id":32694355,"body_markdown":"EclipseLink allows you to access lazy relations, even when the EntityManager has been closed. This behaviour is EclipseLink-specific and not part of the JPA spec. \r\n\r\nYou will get the Exception you are looking for, when the Connection has been closed.\r\n\r\nHowever, EclipseLink is wrapping not-instantiated Lists into `IndirectList`. You are able to check programmatically if the List has been instantiated or not.\r\n\r\n    if(customers instanceof IndirectList) {\r\n        boolean foo = ((IndirectList) customers).isInstantiated();\r\n        // ... \r\n    }\r\n\r\nSee also:\r\n\r\n- https://community.oracle.com/message/1708796\r\n- https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html\r\n","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>EclipseLink allows you to access lazy relations, even when the EntityManager has been closed. This behaviour is EclipseLink-specific and not part of the JPA spec. </p>\n\n<p>You will get the Exception you are looking for, when the Connection has been closed.</p>\n\n<p>However, EclipseLink is wrapping not-instantiated Lists into <code>IndirectList</code>. You are able to check programmatically if the List has been instantiated or not.</p>\n\n<pre><code>if(customers instanceof IndirectList) {\n    boolean foo = ((IndirectList) customers).isInstantiated();\n    // ... \n}\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://community.oracle.com/message/1708796\" rel=\"nofollow\">https://community.oracle.com/message/1708796</a></li>\n<li><a href=\"https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html\" rel=\"nofollow\">https://eclipse.org/eclipselink/api/2.0/org/eclipse/persistence/indirection/IndirectList.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13250549,"reputation":31,"user_id":9568167,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692912099,"creation_date":1692912099,"answer_id":76973000,"question_id":32694355,"body_markdown":"There seems to be no setting for that, but you could clear the session explicitly after detaching the entity: `((FetchGroupTracker)entity)._persistence_setSession(null)`.\r\n\r\nSee also &lt;https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165&gt; regarding how this is implemented.","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>There seems to be no setting for that, but you could clear the session explicitly after detaching the entity: <code>((FetchGroupTracker)entity)._persistence_setSession(null)</code>.</p>\n<p>See also <a href=\"https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/eclipselink/blob/7dfeab504e7b0042e6330315297bed0e6739cc95/foundation/org.eclipse.persistence.core/src/main/java/org/eclipse/persistence/queries/FetchGroup.java#L165</a> regarding how this is implemented.</p>\n"}],"owner":{"account_id":6978328,"reputation":31,"user_id":5352282,"display_name":"Rodolpho Couto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692912099,"creation_date":1442835761,"question_id":32694355,"body_markdown":"I&#39;m using EclipseLink as JPA provider in a Java SE project. I have properly configured the weaving to allow the Lazy Loading.\r\n\r\nUnlike Hibernate (which throws LazyInitializationException), EclipseLink can get a proxy of LAZY relationship, even with a closed EntityManager. To run this query, it gets a new connection from the pool.\r\n\r\nIs there some setting that disables or changes the behavior of this feature? I need to get a null value or an exception when trying to access an unloaded attribute, such as Hibernate does.\r\n\r\nExample:\r\n\r\n    List&lt;Customer&gt; customers = entityManager.createQuery(&quot;from Customer c&quot;, Customer.class).getResultList();\r\n    entityManager.close(); // Closing the EntityManager\r\n    \r\n    for (Customer customer: customers) {\r\n        customer.getAddress(); // Here EclipseLink executes a query to get the relationship.\r\n    }\r\n\r\n\r\nThanks.","title":"JPA + EclipseLink - Lazy Loading with closed EntityManager","body":"<p>I'm using EclipseLink as JPA provider in a Java SE project. I have properly configured the weaving to allow the Lazy Loading.</p>\n\n<p>Unlike Hibernate (which throws LazyInitializationException), EclipseLink can get a proxy of LAZY relationship, even with a closed EntityManager. To run this query, it gets a new connection from the pool.</p>\n\n<p>Is there some setting that disables or changes the behavior of this feature? I need to get a null value or an exception when trying to access an unloaded attribute, such as Hibernate does.</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Customer&gt; customers = entityManager.createQuery(\"from Customer c\", Customer.class).getResultList();\nentityManager.close(); // Closing the EntityManager\n\nfor (Customer customer: customers) {\n    customer.getAddress(); // Here EclipseLink executes a query to get the relationship.\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","google-cloud-firestore","viewmodel","android-spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1692947858,"post_id":76972893,"comment_id":135696573,"body_markdown":"What exactly is not efficient? Since you&#39;re using java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"What exactly is not efficient? Since you&#39;re using java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":24218154,"reputation":11,"user_id":18173724,"display_name":"Limbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692910656,"creation_date":1692910656,"question_id":76972893,"body_markdown":"I&#39;m encountering an issue with the interaction between a spinner, ViewModel/Repository, and Firestore in my Android app. \r\n\r\nI have a currency Spinner in my Account Fragment, whenever a user signs in I want to set the position of the spinner to the stored currency in their Firestore User Document. \r\n\r\nThe problem occurs because when I redirect the user back to the account fragment I try to fetch the currency from my ViewModel/Repository, but since the Spinner was &quot;changed&quot; because of the previous value stored in the SharedPreferences (signed out users), the currency in the ViewModel is updated to that value, therefore updating the value in the User&#39;s Document. The outcome I was expecting was: user signs in; check the database and compare the value with the current MutableLiveData, if they are different use the stored currency from Firestore; update the Spinner&#39;s position to match that new currency (if the MutableLiveData currency is equal to the one in Firestore leave as it is).\r\n\r\nAlso, when there&#39;s a guest user or if the user remains signed in the currency is handled correctly. I&#39;m only facing this issue when a user signs in and the local currency differs from the remote one.\r\n\r\nAccountFragment:\r\n\r\n    public class AccountFragment extends Fragment implements View.OnClickListener {\r\n    private FirebaseAuth mAuth;\r\n    private View logged_in_view, logged_out_view;\r\n    private Button sign_in_button, sign_up_button, sign_out_button, change_password_button;\r\n    private SignInButton google_sign_in_button;\r\n    private FirebaseFirestore db;\r\n\r\n    private GoogleSignInClient mGoogleSignInClient;\r\n    private boolean userInteractedWithSpinner = false;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_account, container, false);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        db = FirebaseFirestore.getInstance();\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(getString(R.string.default_web_client_id))\r\n                .requestEmail()\r\n                .build();\r\n\r\n        mGoogleSignInClient = GoogleSignIn.getClient(requireActivity(), gso);\r\n\r\n        logged_in_view = view.findViewById(R.id.logged_in_view);\r\n        logged_out_view = view.findViewById(R.id.logged_out_view);\r\n        updateUI(mAuth.getCurrentUser());\r\n\r\n        setupSpinner(view.findViewById(R.id.spinnerCurrencyLO));\r\n        setupSpinner(view.findViewById(R.id.spinnerCurrencyLI));\r\n\r\n        sign_in_button = view.findViewById(R.id.signInButton);\r\n        sign_up_button = view.findViewById(R.id.signUpButton);\r\n        sign_out_button = view.findViewById(R.id.signOutButton);\r\n        change_password_button = view.findViewById(R.id.changePasswordButton);\r\n        google_sign_in_button = view.findViewById(R.id.google_sign_in_button);\r\n\r\n        sign_in_button.setOnClickListener(this);\r\n        sign_up_button.setOnClickListener(this);\r\n        sign_out_button.setOnClickListener(this);\r\n        change_password_button.setOnClickListener(this);\r\n        google_sign_in_button.setOnClickListener(this);\r\n\r\n        return view;\r\n    }\r\n\r\n    private void setupSpinner(Spinner spinner_currency) {\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.currencies, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner_currency.setAdapter(adapter);\r\n\r\n        CurrencyViewModel currencyVM = new ViewModelProvider(requireActivity()).get(CurrencyViewModel.class);\r\n\r\n        spinner_currency.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                String selectedItem = parent.getItemAtPosition(position).toString();\r\n                Log.d(&quot;Currency&quot;, &quot;Selected Item: &quot; + selectedItem);\r\n\r\n                if (userInteractedWithSpinner)\r\n                    currencyVM.setCurrency(selectedItem);\r\n\r\n                userInteractedWithSpinner = true;\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\r\n        });\r\n\r\n        currencyVM.getCurrency(true).observe(getViewLifecycleOwner(), currency -&gt; {\r\n            Log.d(&quot;Currency&quot;, &quot;1st: &quot; + currency);\r\n            int selectedPosition = adapter.getPosition(currency);\r\n            spinner_currency.setSelection(selectedPosition);\r\n        });\r\n    }\r\n\r\nCurrencyRepository:\r\n\r\n    public class CurrencyRepository {\r\n    public MutableLiveData&lt;String&gt; currency = new MutableLiveData&lt;&gt;();\r\n    private final Application application;\r\n\r\n    public CurrencyRepository(Application application) {\r\n        this.application = application;\r\n    }\r\n\r\n    public MutableLiveData&lt;String&gt; getCurrency(boolean force_load) {\r\n        if (currency.getValue() == null || force_load) {\r\n            SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\r\n            String savedCurrency = sharedPreferences.getString(&quot;selected_currency&quot;, &quot;EUR (€)&quot;);\r\n\r\n            FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n            if (user != null) {\r\n                FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n                db.collection(&quot;users&quot;).document(user.getUid()).get().addOnSuccessListener(documentSnapshot -&gt; {\r\n                    String database_currency = documentSnapshot.getString(&quot;currency&quot;);\r\n                    Log.d(&quot;Currency&quot;, &quot;From Firestore: &quot; + database_currency);\r\n                    if (!database_currency.equals(this.currency)) {\r\n                        Log.d(&quot;Currency&quot;, &quot;Saved Currency: &quot; + savedCurrency);\r\n                        setCurrency(database_currency);\r\n                    } else\r\n                        setCurrency(savedCurrency);\r\n                });\r\n            } else\r\n                setCurrency(savedCurrency);\r\n        }\r\n        return currency;\r\n    }\r\n\r\n    public void setCurrency(String currency) {\r\n        Log.d(&quot;Currency&quot;, &quot;Setting currency: &quot; + currency);\r\n        this.currency.setValue(currency);\r\n\r\n        SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putString(&quot;selected_currency&quot;, currency);\r\n        editor.apply();\r\n\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (user != null) {\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(&quot;users&quot;).document(user.getUid()).update(&quot;currency&quot;, currency);\r\n        }\r\n    }\r\n}\r\n\r\nMainActivity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private CurrencyViewModel currencyVM;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        setupNavigation();\r\n\r\n        CurrencyViewModelFactory currencyVM_factory = new CurrencyViewModelFactory(getApplication());\r\n        currencyVM = new ViewModelProvider(this, currencyVM_factory).get(CurrencyViewModel.class);\r\n        currencyVM.getCurrency(false).observe(this, currency -&gt; {});\r\n    }\r\n\r\nThe solution I&#39;ve found was setting a flag &quot;userInteractedWithSpinner&quot; to make sure the ViewModel only gets updated when it&#39;s a user interaction, but I feel that is not the most efficient approach.","title":"Issue with Spinner and ViewModel Interaction in Android","body":"<p>I'm encountering an issue with the interaction between a spinner, ViewModel/Repository, and Firestore in my Android app.</p>\n<p>I have a currency Spinner in my Account Fragment, whenever a user signs in I want to set the position of the spinner to the stored currency in their Firestore User Document.</p>\n<p>The problem occurs because when I redirect the user back to the account fragment I try to fetch the currency from my ViewModel/Repository, but since the Spinner was &quot;changed&quot; because of the previous value stored in the SharedPreferences (signed out users), the currency in the ViewModel is updated to that value, therefore updating the value in the User's Document. The outcome I was expecting was: user signs in; check the database and compare the value with the current MutableLiveData, if they are different use the stored currency from Firestore; update the Spinner's position to match that new currency (if the MutableLiveData currency is equal to the one in Firestore leave as it is).</p>\n<p>Also, when there's a guest user or if the user remains signed in the currency is handled correctly. I'm only facing this issue when a user signs in and the local currency differs from the remote one.</p>\n<p>AccountFragment:</p>\n<pre><code>public class AccountFragment extends Fragment implements View.OnClickListener {\nprivate FirebaseAuth mAuth;\nprivate View logged_in_view, logged_out_view;\nprivate Button sign_in_button, sign_up_button, sign_out_button, change_password_button;\nprivate SignInButton google_sign_in_button;\nprivate FirebaseFirestore db;\n\nprivate GoogleSignInClient mGoogleSignInClient;\nprivate boolean userInteractedWithSpinner = false;\n\n@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_account, container, false);\n    mAuth = FirebaseAuth.getInstance();\n    db = FirebaseFirestore.getInstance();\n\n    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id))\n            .requestEmail()\n            .build();\n\n    mGoogleSignInClient = GoogleSignIn.getClient(requireActivity(), gso);\n\n    logged_in_view = view.findViewById(R.id.logged_in_view);\n    logged_out_view = view.findViewById(R.id.logged_out_view);\n    updateUI(mAuth.getCurrentUser());\n\n    setupSpinner(view.findViewById(R.id.spinnerCurrencyLO));\n    setupSpinner(view.findViewById(R.id.spinnerCurrencyLI));\n\n    sign_in_button = view.findViewById(R.id.signInButton);\n    sign_up_button = view.findViewById(R.id.signUpButton);\n    sign_out_button = view.findViewById(R.id.signOutButton);\n    change_password_button = view.findViewById(R.id.changePasswordButton);\n    google_sign_in_button = view.findViewById(R.id.google_sign_in_button);\n\n    sign_in_button.setOnClickListener(this);\n    sign_up_button.setOnClickListener(this);\n    sign_out_button.setOnClickListener(this);\n    change_password_button.setOnClickListener(this);\n    google_sign_in_button.setOnClickListener(this);\n\n    return view;\n}\n\nprivate void setupSpinner(Spinner spinner_currency) {\n    ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getActivity(), R.array.currencies, android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner_currency.setAdapter(adapter);\n\n    CurrencyViewModel currencyVM = new ViewModelProvider(requireActivity()).get(CurrencyViewModel.class);\n\n    spinner_currency.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n            String selectedItem = parent.getItemAtPosition(position).toString();\n            Log.d(&quot;Currency&quot;, &quot;Selected Item: &quot; + selectedItem);\n\n            if (userInteractedWithSpinner)\n                currencyVM.setCurrency(selectedItem);\n\n            userInteractedWithSpinner = true;\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\n    });\n\n    currencyVM.getCurrency(true).observe(getViewLifecycleOwner(), currency -&gt; {\n        Log.d(&quot;Currency&quot;, &quot;1st: &quot; + currency);\n        int selectedPosition = adapter.getPosition(currency);\n        spinner_currency.setSelection(selectedPosition);\n    });\n}\n</code></pre>\n<p>CurrencyRepository:</p>\n<pre><code>public class CurrencyRepository {\npublic MutableLiveData&lt;String&gt; currency = new MutableLiveData&lt;&gt;();\nprivate final Application application;\n\npublic CurrencyRepository(Application application) {\n    this.application = application;\n}\n\npublic MutableLiveData&lt;String&gt; getCurrency(boolean force_load) {\n    if (currency.getValue() == null || force_load) {\n        SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\n        String savedCurrency = sharedPreferences.getString(&quot;selected_currency&quot;, &quot;EUR (€)&quot;);\n\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        if (user != null) {\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\n            db.collection(&quot;users&quot;).document(user.getUid()).get().addOnSuccessListener(documentSnapshot -&gt; {\n                String database_currency = documentSnapshot.getString(&quot;currency&quot;);\n                Log.d(&quot;Currency&quot;, &quot;From Firestore: &quot; + database_currency);\n                if (!database_currency.equals(this.currency)) {\n                    Log.d(&quot;Currency&quot;, &quot;Saved Currency: &quot; + savedCurrency);\n                    setCurrency(database_currency);\n                } else\n                    setCurrency(savedCurrency);\n            });\n        } else\n            setCurrency(savedCurrency);\n    }\n    return currency;\n}\n\npublic void setCurrency(String currency) {\n    Log.d(&quot;Currency&quot;, &quot;Setting currency: &quot; + currency);\n    this.currency.setValue(currency);\n\n    SharedPreferences sharedPreferences = application.getSharedPreferences(&quot;app_preferences&quot;, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putString(&quot;selected_currency&quot;, currency);\n    editor.apply();\n\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n    if (user != null) {\n        FirebaseFirestore db = FirebaseFirestore.getInstance();\n        db.collection(&quot;users&quot;).document(user.getUid()).update(&quot;currency&quot;, currency);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate CurrencyViewModel currencyVM;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    setupNavigation();\n\n    CurrencyViewModelFactory currencyVM_factory = new CurrencyViewModelFactory(getApplication());\n    currencyVM = new ViewModelProvider(this, currencyVM_factory).get(CurrencyViewModel.class);\n    currencyVM.getCurrency(false).observe(this, currency -&gt; {});\n}\n</code></pre>\n<p>The solution I've found was setting a flag &quot;userInteractedWithSpinner&quot; to make sure the ViewModel only gets updated when it's a user interaction, but I feel that is not the most efficient approach.</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692910625,"creation_date":1692910625,"answer_id":76972890,"question_id":76966518,"body_markdown":"I moved the SequenceGenerator to **Customer** id and moved the optional one-to-one relationships from **Customer** to **CustomerIndividual** and **CustomerLegalEntity**.\r\n\r\n \r\n\r\nCustomer:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\r\n    \t@SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\r\n    \tprivate CustomerType customerType;\r\n    \r\n    }\r\n\r\nCustomerIndividual:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_individual&quot;)\r\n    public class CustomerIndividual {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;fk_nationality&quot;, nullable = false)\r\n    \tprivate Integer fkNationality;\r\n    \r\n    \t@Column(name = &quot;fk_residence&quot;, nullable = false)\r\n    \tprivate Long fkResidence;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\r\n    \tprivate SexType sexType;\r\n    \r\n    \t@Column(name = &quot;birth_date&quot;, nullable = false)\r\n    \tprivate LocalDate birthDate;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;surname&quot;, nullable = false)\r\n    \tprivate String surname;\r\n    \r\n    \t@Column(name = &quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \r\n    \t@Column(name = &quot;phone_number&quot;, nullable = false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    \t@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;id_customer&quot;)\r\n        @MapsId\r\n    \tprivate Customer customer;\r\n    \t\r\n    }\r\n\r\nCustomerLegalEntity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_legal_entity&quot;)\r\n    public class CustomerLegalEntity {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;fk_headquarters&quot;, nullable = false)\r\n    \tprivate Long fkHeadquarters;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\r\n    \t@JoinColumn(name = &quot;id_customer&quot;)\r\n        @MapsId\r\n    \tprivate Customer customer;\r\n    \t\r\n    }\r\n\r\nOn the service I firstly save the customer, then I set it to the CustomerIndividual and the id of CustomerIndividual is correctly mirroring the id of Customer.\r\n\r\n\tpublic CustomerIndividual save(CustomerIndividual entity) {\r\n\t\tCustomer customer = customerService.saveWithTypeCustomerIndividual();\r\n\t\tentity.setCustomer(customer);\r\n\t\tentity = repository.save(entity);\r\n\t\treturn entity;\r\n\t}","title":"Two optional One-To-One Mapping Hibernate","body":"<p>I moved the SequenceGenerator to <strong>Customer</strong> id and moved the optional one-to-one relationships from <strong>Customer</strong> to <strong>CustomerIndividual</strong> and <strong>CustomerLegalEntity</strong>.</p>\n<p>Customer:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\n    @SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\n    private CustomerType customerType;\n\n}\n</code></pre>\n<p>CustomerIndividual:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_individual&quot;)\npublic class CustomerIndividual {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;fk_nationality&quot;, nullable = false)\n    private Integer fkNationality;\n\n    @Column(name = &quot;fk_residence&quot;, nullable = false)\n    private Long fkResidence;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\n    private SexType sexType;\n\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;surname&quot;, nullable = false)\n    private String surname;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;phone_number&quot;, nullable = false)\n    private String phoneNumber;\n    \n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_customer&quot;)\n    @MapsId\n    private Customer customer;\n    \n}\n</code></pre>\n<p>CustomerLegalEntity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_legal_entity&quot;)\npublic class CustomerLegalEntity {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;fk_headquarters&quot;, nullable = false)\n    private Long fkHeadquarters;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @OneToOne(fetch = FetchType.LAZY, orphanRemoval = true)\n    @JoinColumn(name = &quot;id_customer&quot;)\n    @MapsId\n    private Customer customer;\n    \n}\n</code></pre>\n<p>On the service I firstly save the customer, then I set it to the CustomerIndividual and the id of CustomerIndividual is correctly mirroring the id of Customer.</p>\n<pre><code>public CustomerIndividual save(CustomerIndividual entity) {\n    Customer customer = customerService.saveWithTypeCustomerIndividual();\n    entity.setCustomer(customer);\n    entity = repository.save(entity);\n    return entity;\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972890,"answer_count":1,"score":0,"last_activity_date":1692910625,"creation_date":1692856097,"question_id":76966518,"body_markdown":"I&#39;m trying to build a sample project related to bank activities.\r\n\r\nA bank account can be opened by a customer that can be an individual (fiscal person) or a legal entity (enterprise).\r\n\r\nI have created 4 tables:\r\n\r\n- **customer_type**\r\n- **customer**\r\n- **customer_individual**\r\n- **customer_legal_entity**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe idea is that the Customer apart from id, has only a foreign key that map the customer_type.\r\n\r\nWhen a new customer must be saved on db, the pk of the **customer** table (id_customer) value must be set with:\r\n- id_customer_individual if the customer is an individual\r\n- id_customer_legal_entity if the customer is a legal entity\r\n\r\nTo avoid conflicts, id_customer_individual and id_customer_legal_entity uses the same sequence to generate the id value.\r\n\r\nCustomer have **two one-to-one optional relationships** based on the customer_type.\r\n- a one-to-one relationship with customer_individual\r\n- a one-to-one relationship with customer_legal_entity\r\n\r\nCustomerType:\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_customer_type&quot;, nullable = false))\r\n    @Table(name = &quot;customer_type&quot;)\r\n    public class CustomerType extends TypeEntity {\r\n    \r\n    }\r\n\r\nCustomer:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\r\n    \tprivate CustomerType customerType;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    \t@MapsId\r\n    \tprivate CustomerIndividual customerIndividual;\r\n    \r\n    \t@OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    \t@MapsId\r\n    \tprivate CustomerLegalEntity customerLegalEntity;\r\n    \r\n    }\r\n\r\nCustomerIndividual:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_individual&quot;)\r\n    public class CustomerIndividual {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\r\n    \t@SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\r\n    \t@Column(name = &quot;id_customer_individual&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;fk_nationality&quot;, nullable = false)\r\n    \tprivate Integer fkNationality;\r\n    \r\n    \t@Column(name = &quot;fk_residence&quot;, nullable = false)\r\n    \tprivate Long fkResidence;\r\n    \r\n    \t@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    \t@JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\r\n    \tprivate SexType sexType;\r\n    \r\n    \t@Column(name = &quot;birth_date&quot;, nullable = false)\r\n    \tprivate LocalDate birthDate;\r\n    \r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tprivate String name;\r\n    \r\n    \t@Column(name = &quot;surname&quot;, nullable = false)\r\n    \tprivate String surname;\r\n    \r\n    \t@Column(name = &quot;email&quot;, nullable = false)\r\n    \tprivate String email;\r\n    \r\n    \t@Column(name = &quot;phone_number&quot;, nullable = false)\r\n    \tprivate String phoneNumber;\r\n    \t\r\n    }\r\n\r\nCustomerLegalEntity:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;customer_legal_entity&quot;)\r\n    public class CustomerLegalEntity {\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;id_customer_legal_entity&quot;, nullable = false)\r\n    \tprivate Long id;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;fk_headquarters&quot;, nullable = false)\r\n    \tprivate Long fkHeadquarters;\r\n    \r\n    \t@NotNull\r\n    \t@Column(name = &quot;name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    \tprivate String name;\r\n    \r\n    }\r\n\r\nI firstly save a Customer Individual, then I Create a new Customer instance and set the necessary fields.\r\n\r\n    Customer customer = new Customer();\r\n\tcustomer.setCustomerType(customerTypeService.getReferenceById(1));\r\n\tcustomer.setCustomerIndividual(customerIndividual);\r\n\treturn customerRepository.save(customer);\r\n\r\nbut when saving the Customer the following exception is thrown:\r\n\r\n    Caused by: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [com.hyperbank.accounts.customer.entity.Customer.customerLegalEntity]\r\n\r\n  [1]: https://i.stack.imgur.com/3Px17.png\r\n","title":"Two optional One-To-One Mapping Hibernate","body":"<p>I'm trying to build a sample project related to bank activities.</p>\n<p>A bank account can be opened by a customer that can be an individual (fiscal person) or a legal entity (enterprise).</p>\n<p>I have created 4 tables:</p>\n<ul>\n<li><strong>customer_type</strong></li>\n<li><strong>customer</strong></li>\n<li><strong>customer_individual</strong></li>\n<li><strong>customer_legal_entity</strong></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3Px17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Px17.png\" alt=\"enter image description here\" /></a></p>\n<p>The idea is that the Customer apart from id, has only a foreign key that map the customer_type.</p>\n<p>When a new customer must be saved on db, the pk of the <strong>customer</strong> table (id_customer) value must be set with:</p>\n<ul>\n<li>id_customer_individual if the customer is an individual</li>\n<li>id_customer_legal_entity if the customer is a legal entity</li>\n</ul>\n<p>To avoid conflicts, id_customer_individual and id_customer_legal_entity uses the same sequence to generate the id value.</p>\n<p>Customer have <strong>two one-to-one optional relationships</strong> based on the customer_type.</p>\n<ul>\n<li>a one-to-one relationship with customer_individual</li>\n<li>a one-to-one relationship with customer_legal_entity</li>\n</ul>\n<p>CustomerType:</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@Entity\n@AttributeOverride(name = &quot;id&quot;, column = @Column(name = &quot;id_customer_type&quot;, nullable = false))\n@Table(name = &quot;customer_type&quot;)\npublic class CustomerType extends TypeEntity {\n\n}\n</code></pre>\n<p>Customer:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @Column(name = &quot;id_customer&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;fk_customer_type&quot;, nullable = false)\n    private CustomerType customerType;\n\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    private CustomerIndividual customerIndividual;\n\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    @MapsId\n    private CustomerLegalEntity customerLegalEntity;\n\n}\n</code></pre>\n<p>CustomerIndividual:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_individual&quot;)\npublic class CustomerIndividual {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;id_customer_seq&quot;)\n    @SequenceGenerator(name = &quot;id_customer_seq&quot;, sequenceName = &quot;id_customer_seq&quot;, allocationSize = 1)\n    @Column(name = &quot;id_customer_individual&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;fk_nationality&quot;, nullable = false)\n    private Integer fkNationality;\n\n    @Column(name = &quot;fk_residence&quot;, nullable = false)\n    private Long fkResidence;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;fk_sex_type&quot;, nullable = false)\n    private SexType sexType;\n\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private LocalDate birthDate;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;surname&quot;, nullable = false)\n    private String surname;\n\n    @Column(name = &quot;email&quot;, nullable = false)\n    private String email;\n\n    @Column(name = &quot;phone_number&quot;, nullable = false)\n    private String phoneNumber;\n    \n}\n</code></pre>\n<p>CustomerLegalEntity:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;customer_legal_entity&quot;)\npublic class CustomerLegalEntity {\n\n    @Id\n    @Column(name = &quot;id_customer_legal_entity&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;fk_headquarters&quot;, nullable = false)\n    private Long fkHeadquarters;\n\n    @NotNull\n    @Column(name = &quot;name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String name;\n\n}\n</code></pre>\n<p>I firstly save a Customer Individual, then I Create a new Customer instance and set the necessary fields.</p>\n<pre><code>Customer customer = new Customer();\ncustomer.setCustomerType(customerTypeService.getReferenceById(1));\ncustomer.setCustomerIndividual(customerIndividual);\nreturn customerRepository.save(customer);\n</code></pre>\n<p>but when saving the Customer the following exception is thrown:</p>\n<pre><code>Caused by: org.hibernate.id.IdentifierGenerationException: attempted to assign id from null one-to-one property [com.hyperbank.accounts.customer.entity.Customer.customerLegalEntity]\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"answers":[{"comments":[{"owner":{"account_id":4868359,"reputation":944,"user_id":3925764,"accept_rate":80,"display_name":"abhinav3414"},"score":0,"creation_date":1490427409,"post_id":42995757,"comment_id":73116521,"body_markdown":"i am doing it in different works paces only, but the issue is that maven repository is same irrespective of the work space. And when I switch between the work spaces, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies.","body":"i am doing it in different works paces only, but the issue is that maven repository is same irrespective of the work space. And when I switch between the work spaces, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies."},{"owner":{"account_id":1467617,"reputation":266,"user_id":1380043,"display_name":"Bipul Sinha"},"score":0,"creation_date":1490785903,"post_id":42995757,"comment_id":73264883,"body_markdown":"Let me ask you question. May I know, why you need two separate settings.xml file?","body":"Let me ask you question. May I know, why you need two separate settings.xml file?"},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1692912340,"post_id":42995757,"comment_id":135692846,"body_markdown":"I worked for over 10 years as a Java programmer on multiple projects and never had more than a single repository. Why do you want multiple repositories?","body":"I worked for over 10 years as a Java programmer on multiple projects and never had more than a single repository. Why do you want multiple repositories?"}],"tags":[],"owner":{"account_id":1467617,"reputation":266,"user_id":1380043,"display_name":"Bipul Sinha"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490347723,"creation_date":1490347723,"answer_id":42995757,"question_id":42995684,"body_markdown":"You can create 2 separate workspaces in Eclipse. In each workspaces, you can provide respective settings.xml file","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>You can create 2 separate workspaces in Eclipse. In each workspaces, you can provide respective settings.xml file</p>\n"},{"comments":[{"owner":{"account_id":4868359,"reputation":944,"user_id":3925764,"accept_rate":80,"display_name":"abhinav3414"},"score":0,"creation_date":1490427284,"post_id":43001725,"comment_id":73116501,"body_markdown":"i am doing it in same way, but the issue is that maven repository is same irrespective of the work space.  And when I switch between the work spaces, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies.","body":"i am doing it in same way, but the issue is that maven repository is same irrespective of the work space.  And when I switch between the work spaces, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies."},{"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"score":0,"creation_date":1490450335,"post_id":43001725,"comment_id":73122757,"body_markdown":"In each `settings.xml` file you must change the localRepository tag, look at the updated answer.","body":"In each <code>settings.xml</code> file you must change the localRepository tag, look at the updated answer."}],"tags":[],"owner":{"account_id":5395171,"reputation":3745,"user_id":4296607,"display_name":"JUAN CALVOPINA M"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1692910070,"creation_date":1490364732,"answer_id":43001725,"question_id":42995684,"body_markdown":"You can try to separate the two projects in **different** _workspaces_ and you can configure **each** _workspace_ with Eclipse. It is possible because _Eclipse saves the configuration within each workspace_. Therefore, for these _workspaces_, is possible specify different and specific repositories according with their Maven `settings.xml` files.\r\n\r\nFor to do that, launch **eclipse &gt; go to preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**UPDATE:**\r\n\r\nYou should have a structure similar to the following:\r\n\r\n**Workspaces:**\r\n\r\n    /Volumes/Stonehall/juanca/workspace-project-1\r\n    /Volumes/Stonehall/juanca/workspace-project-2\r\n\r\n**Projects:**\r\n\r\n    /Volumes/Stonehall/juanca/workspace-project-1/project-1\r\n    /Volumes/Stonehall/juanca/workspace-project-2/project-2\r\n\r\n**Settings.xml:**\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-1.xml\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-2.xml\r\n\r\n**Repositories:**\r\n\r\n    /Volumes/Stonehall/juanca/.m2/repository-1\r\n    /Volumes/Stonehall/juanca/.m2/repository-2\r\n\r\nOpen and edit **`settings-project-1.xml`** file. Searchs the **`localRepository`** tag and replace the path, for example:\r\n\r\n    &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-1&lt;/localRepository&gt;\r\n\r\nOpen and edit **`settings-project-2.xml`** file. Searchs the **`localRepository`** tag and replace with the other path, for example:\r\n\r\n    &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-2&lt;/localRepository&gt;\r\n\r\n*Important: checks that the **`&lt;localRepository&gt;`** tag is not commented for example:*\r\n\r\n      &lt;!-- localRepository\r\n       | The path to the local repository maven will use to store artifacts.\r\n       |\r\n       | Default: ${user.home}/.m2/repository\r\n      &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\r\n      --&gt;  \r\n      &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository&lt;/localRepository&gt;\r\n\r\n**Eclipse:**\r\n\r\nOpen the **`workspace-project-1`**, go to **preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;** and replace with the new path:\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-1.xml\r\n\r\nThe same way you should do for the **`workspace-project-2`**, open the **`workspace-project-2`** and go to **preferences &gt; choose maven &gt; User Settings** and click on **&quot;Update Settings&quot;** and replace with the other path:\r\n\r\n    /Volumes/Stonehall/juanca/.m2/settings-project-2.xml\r\n\r\nWith this configuration each project should download the dependencies in the differents repositories.\r\n\r\n*This configuration should work, but in case does not work, you should post your settings.xml file and the pom files of both projects, so that we can help you better*\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2hmsE.png\r\n","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>You can try to separate the two projects in <strong>different</strong> <em>workspaces</em> and you can configure <strong>each</strong> <em>workspace</em> with Eclipse. It is possible because <em>Eclipse saves the configuration within each workspace</em>. Therefore, for these <em>workspaces</em>, is possible specify different and specific repositories according with their Maven <code>settings.xml</code> files.</p>\n<p>For to do that, launch <strong>eclipse &gt; go to preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2hmsE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hmsE.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>UPDATE:</strong></p>\n<p>You should have a structure similar to the following:</p>\n<p><strong>Workspaces:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/workspace-project-1\n/Volumes/Stonehall/juanca/workspace-project-2\n</code></pre>\n<p><strong>Projects:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/workspace-project-1/project-1\n/Volumes/Stonehall/juanca/workspace-project-2/project-2\n</code></pre>\n<p><strong>Settings.xml:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-1.xml\n/Volumes/Stonehall/juanca/.m2/settings-project-2.xml\n</code></pre>\n<p><strong>Repositories:</strong></p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/repository-1\n/Volumes/Stonehall/juanca/.m2/repository-2\n</code></pre>\n<p>Open and edit <strong><code>settings-project-1.xml</code></strong> file. Searchs the <strong><code>localRepository</code></strong> tag and replace the path, for example:</p>\n<pre><code>&lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-1&lt;/localRepository&gt;\n</code></pre>\n<p>Open and edit <strong><code>settings-project-2.xml</code></strong> file. Searchs the <strong><code>localRepository</code></strong> tag and replace with the other path, for example:</p>\n<pre><code>&lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository-2&lt;/localRepository&gt;\n</code></pre>\n<p><em>Important: checks that the <strong><code>&lt;localRepository&gt;</code></strong> tag is not commented for example:</em></p>\n<pre><code>  &lt;!-- localRepository\n   | The path to the local repository maven will use to store artifacts.\n   |\n   | Default: ${user.home}/.m2/repository\n  &lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;\n  --&gt;  \n  &lt;localRepository&gt;/Volumes/Stonehall/juanca/.m2/repository&lt;/localRepository&gt;\n</code></pre>\n<p><strong>Eclipse:</strong></p>\n<p>Open the <strong><code>workspace-project-1</code></strong>, go to <strong>preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong> and replace with the new path:</p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-1.xml\n</code></pre>\n<p>The same way you should do for the <strong><code>workspace-project-2</code></strong>, open the <strong><code>workspace-project-2</code></strong> and go to <strong>preferences &gt; choose maven &gt; User Settings</strong> and click on <strong>&quot;Update Settings&quot;</strong> and replace with the other path:</p>\n<pre><code>/Volumes/Stonehall/juanca/.m2/settings-project-2.xml\n</code></pre>\n<p>With this configuration each project should download the dependencies in the differents repositories.</p>\n<p><em>This configuration should work, but in case does not work, you should post your settings.xml file and the pom files of both projects, so that we can help you better</em></p>\n"}],"owner":{"account_id":4868359,"reputation":944,"user_id":3925764,"accept_rate":80,"display_name":"abhinav3414"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11034,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43001725,"answer_count":2,"score":7,"last_activity_date":1692910070,"creation_date":1490347487,"question_id":42995684,"body_markdown":"I am working on **two different** projects, Both uses different maven `.settings.xml` files.&lt;br&gt;\r\nWhen I switch between the projects, it re downloads all the maven dependencies in repository folder removing previous projects&#39; dependencies.&lt;br&gt;\r\nIs there any way I can use two `settings` and it maintains different repository for both projects. ","title":"How to manage different maven setting in eclipse for different projects?","body":"<p>I am working on <strong>two different</strong> projects, Both uses different maven <code>.settings.xml</code> files.<br>\nWhen I switch between the projects, it re downloads all the maven dependencies in repository folder removing previous projects' dependencies.<br>\nIs there any way I can use two <code>settings</code> and it maintains different repository for both projects. </p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1693080543,"post_id":76972770,"comment_id":135713774,"body_markdown":"Is there any stacktrace printed on your server to indicate more information about the problem?","body":"Is there any stacktrace printed on your server to indicate more information about the problem?"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":"я гантеля"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692909374,"creation_date":1692909354,"question_id":76972770,"body_markdown":"Book class fields:\r\n```\r\n    private int id_book;\r\n    @NotEmpty\r\n    @Size(min = 2, max = 120, message = &quot;Name should be between 2 and 120 chars&quot;)\r\n    private String name;\r\n    @NotEmpty\r\n    @Size(min = 2, max = 120, message = &quot;Author should be between 2 and 120 chars&quot;)\r\n    private String author;\r\n    @Min(value=1700, message = &quot;Age in diapason between 1700 and 2023&quot;) @Max(value=2023, message = &quot;Age in diapason between 1700 and 2023&quot;)\r\n    private int year_book;\r\n    private Integer id_person;\r\n```\r\nController:\r\n```\r\n@GetMapping()\r\n    public String index(Model model){\r\n        model.addAttribute(&quot;books&quot;, bookDAO.index());\r\n        return &quot;/books/index&quot;;\r\n    }\r\n```\r\nDAO:\r\n```\r\npublic List index(){\r\n        return jdbcTemplate.query(&quot;SELECT * FROM book&quot;, new BeanPropertyRowMapper&lt;&gt;(Book.class));\r\n    }\r\n```\r\nHTML code:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n  &lt;title&gt;Book list&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Book list&lt;/h1&gt;\r\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\r\n  &lt;a th:href=&quot;@{/books/{id}(id=${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;Name&lt;/a&gt;&lt;/div&gt;\r\n&lt;br/&gt;\r\n&lt;a th:href=&quot;@{/books/new}&quot;&gt;Add new book&lt;/a&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nMy problem: when I have null value in id_person, I have 404 error. When I delete this value, all is good.\r\n[Error](https://i.stack.imgur.com/UniWL.png)\r\n\r\nI tried to swap ints to Integers but there is no result.","title":"Why I have Error 400 or 404 using Spring/Thymeleaf if I have null fields?","body":"<p>Book class fields:</p>\n<pre><code>    private int id_book;\n    @NotEmpty\n    @Size(min = 2, max = 120, message = &quot;Name should be between 2 and 120 chars&quot;)\n    private String name;\n    @NotEmpty\n    @Size(min = 2, max = 120, message = &quot;Author should be between 2 and 120 chars&quot;)\n    private String author;\n    @Min(value=1700, message = &quot;Age in diapason between 1700 and 2023&quot;) @Max(value=2023, message = &quot;Age in diapason between 1700 and 2023&quot;)\n    private int year_book;\n    private Integer id_person;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping()\n    public String index(Model model){\n        model.addAttribute(&quot;books&quot;, bookDAO.index());\n        return &quot;/books/index&quot;;\n    }\n</code></pre>\n<p>DAO:</p>\n<pre><code>public List index(){\n        return jdbcTemplate.query(&quot;SELECT * FROM book&quot;, new BeanPropertyRowMapper&lt;&gt;(Book.class));\n    }\n</code></pre>\n<p>HTML code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;UTF-8&quot;&gt;\n  &lt;title&gt;Book list&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Book list&lt;/h1&gt;\n&lt;div th:each=&quot;book : ${books}&quot;&gt;\n  &lt;a th:href=&quot;@{/books/{id}(id=${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;Name&lt;/a&gt;&lt;/div&gt;\n&lt;br/&gt;\n&lt;a th:href=&quot;@{/books/new}&quot;&gt;Add new book&lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>My problem: when I have null value in id_person, I have 404 error. When I delete this value, all is good.\n<a href=\"https://i.stack.imgur.com/UniWL.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>I tried to swap ints to Integers but there is no result.</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":23064315,"reputation":21,"user_id":17178965,"display_name":"FKhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692909160,"creation_date":1692909160,"answer_id":76972748,"question_id":76972025,"body_markdown":"You will have to make a custom deserializer and then annotate the CustomPageImpl class to tell jackson to use the custom deserializer.\r\n\r\nCustom Deserializer\r\n```\r\npublic class CustomPageDeserializer&lt;T&gt; extends StdDeserializer&lt;CustomPageImpl&lt;T&gt;&gt; {\r\n\r\n    public CustomPageDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public CustomPageDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public CustomPageImpl&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\r\n\r\n        List&lt;T&gt; content = // Extract content from the node\r\n        int number = // Extract number from the node\r\n        int size = // Extract size from the node\r\n        Long totalElements = // Extract totalElements from the node\r\n        boolean last = // Extract last from the node\r\n        int totalPages = // Extract totalPages from the node\r\n        int numberOfElements = // Extract numberOfElements from the node\r\n\r\n        Pageable pageable = PageRequest.of(number, size);\r\n\r\n        return new CustomPageImpl&lt;&gt;(content, pageable, totalElements);\r\n    }\r\n}\r\n```\r\n\r\nHow to annotate\r\n```\r\n@JsonDeserialize(using = CustomPageDeserializer.class)\r\npublic class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n```\r\n\r\n\r\n","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>You will have to make a custom deserializer and then annotate the CustomPageImpl class to tell jackson to use the custom deserializer.</p>\n<p>Custom Deserializer</p>\n<pre><code>public class CustomPageDeserializer&lt;T&gt; extends StdDeserializer&lt;CustomPageImpl&lt;T&gt;&gt; {\n\n    public CustomPageDeserializer() {\n        this(null);\n    }\n\n    public CustomPageDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public CustomPageImpl&lt;T&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        JsonNode node = jsonParser.getCodec().readTree(jsonParser);\n\n        List&lt;T&gt; content = // Extract content from the node\n        int number = // Extract number from the node\n        int size = // Extract size from the node\n        Long totalElements = // Extract totalElements from the node\n        boolean last = // Extract last from the node\n        int totalPages = // Extract totalPages from the node\n        int numberOfElements = // Extract numberOfElements from the node\n\n        Pageable pageable = PageRequest.of(number, size);\n\n        return new CustomPageImpl&lt;&gt;(content, pageable, totalElements);\n    }\n}\n</code></pre>\n<p>How to annotate</p>\n<pre><code>@JsonDeserialize(using = CustomPageDeserializer.class)\npublic class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278326,"reputation":651,"user_id":2004072,"display_name":"Milan Majer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692909287,"creation_date":1692909287,"answer_id":76972762,"question_id":76972025,"body_markdown":"I try this in fresh spring boot 3.1.13 project with success:\r\n\r\n```java\r\npackage com.example.demo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.ApplicationArguments;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Service\r\npublic class Autoexec implements ApplicationRunner {\r\n\r\n    private static final String TEST_JSON = &quot;&quot;&quot;\r\n    {\r\n        &quot;reports&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;000&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\r\n                },\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;010&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\r\n                }\r\n            ],\r\n            &quot;pageable&quot;: {\r\n                &quot;sort&quot;: {\r\n                    &quot;empty&quot;: false,\r\n                    &quot;sorted&quot;: true,\r\n                    &quot;unsorted&quot;: false\r\n                },\r\n                &quot;offset&quot;: 0,\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 100,\r\n                &quot;unpaged&quot;: false,\r\n                &quot;paged&quot;: true\r\n            },\r\n            &quot;totalElements&quot;: 321,\r\n            &quot;totalPages&quot;: 4,\r\n            &quot;last&quot;: false,\r\n            &quot;size&quot;: 100,\r\n            &quot;number&quot;: 0,\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;numberOfElements&quot;: 100,\r\n            &quot;first&quot;: true,\r\n            &quot;empty&quot;: false\r\n        }\r\n    }\r\n    &quot;&quot;&quot;;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public Autoexec(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public void run(ApplicationArguments args) throws Exception {\r\n        final var response = objectMapper.readValue(TEST_JSON, ProductListResponse.class);\r\n        System.err.println(response.getContent());\r\n    }\r\n\r\n    static class ProductListResponse extends Response&lt;List&lt;Product&gt;&gt; {\r\n    }\r\n\r\n    static class Product {\r\n\r\n        public String productCatTx;\r\n        public String productValTx;\r\n        public String productShrtDescTx;\r\n        public String productLongDescTx;\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Product [productCatTx=&quot; + productCatTx + &quot;, productValTx=&quot; + productValTx + &quot;, productShrtDescTx=&quot;\r\n                    + productShrtDescTx + &quot;, productLongDescTx=&quot; + productLongDescTx + &quot;]&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    static class Response&lt;T&gt; {\r\n\r\n        \r\n        private Page&lt;T&gt; page;\r\n\r\n        @JsonAnySetter\r\n        public void setProperty(String name, Page&lt;T&gt; value) {\r\n            page = value;\r\n        }\r\n\r\n        public T getContent() {\r\n            return page == null ? null : page.content;\r\n        }\r\n\r\n    }\r\n\r\n    static class Page&lt;T&gt; {\r\n\r\n        public T content;\r\n\r\n    }\r\n}\r\n```\r\n\r\nYou can add additional attributes to page class, make fields private and add getters/setters, etc.\r\n\r\nResult:\r\n```\r\n[Product [productCatTx=ERROR_product, productValTx=000, productShrtDescTx=NO_ERROR, productLongDescTx=No Error in response], Product [productCatTx=ERROR_product, productValTx=010, productShrtDescTx=PRODUCT_ACCEPTED, productLongDescTx=Product Accepted]]\r\n```","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>I try this in fresh spring boot 3.1.13 project with success:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.stereotype.Service;\n\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Service\npublic class Autoexec implements ApplicationRunner {\n\n    private static final String TEST_JSON = &quot;&quot;&quot;\n    {\n        &quot;reports&quot;: {\n            &quot;content&quot;: [\n                {\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                    &quot;productValTx&quot;: &quot;000&quot;,\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\n                },\n                {\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                    &quot;productValTx&quot;: &quot;010&quot;,\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\n                }\n            ],\n            &quot;pageable&quot;: {\n                &quot;sort&quot;: {\n                    &quot;empty&quot;: false,\n                    &quot;sorted&quot;: true,\n                    &quot;unsorted&quot;: false\n                },\n                &quot;offset&quot;: 0,\n                &quot;pageNumber&quot;: 0,\n                &quot;pageSize&quot;: 100,\n                &quot;unpaged&quot;: false,\n                &quot;paged&quot;: true\n            },\n            &quot;totalElements&quot;: 321,\n            &quot;totalPages&quot;: 4,\n            &quot;last&quot;: false,\n            &quot;size&quot;: 100,\n            &quot;number&quot;: 0,\n            &quot;sort&quot;: {\n                &quot;empty&quot;: false,\n                &quot;sorted&quot;: true,\n                &quot;unsorted&quot;: false\n            },\n            &quot;numberOfElements&quot;: 100,\n            &quot;first&quot;: true,\n            &quot;empty&quot;: false\n        }\n    }\n    &quot;&quot;&quot;;\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public Autoexec(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        final var response = objectMapper.readValue(TEST_JSON, ProductListResponse.class);\n        System.err.println(response.getContent());\n    }\n\n    static class ProductListResponse extends Response&lt;List&lt;Product&gt;&gt; {\n    }\n\n    static class Product {\n\n        public String productCatTx;\n        public String productValTx;\n        public String productShrtDescTx;\n        public String productLongDescTx;\n        \n        @Override\n        public String toString() {\n            return &quot;Product [productCatTx=&quot; + productCatTx + &quot;, productValTx=&quot; + productValTx + &quot;, productShrtDescTx=&quot;\n                    + productShrtDescTx + &quot;, productLongDescTx=&quot; + productLongDescTx + &quot;]&quot;;\n        }\n\n    }\n\n    static class Response&lt;T&gt; {\n\n        \n        private Page&lt;T&gt; page;\n\n        @JsonAnySetter\n        public void setProperty(String name, Page&lt;T&gt; value) {\n            page = value;\n        }\n\n        public T getContent() {\n            return page == null ? null : page.content;\n        }\n\n    }\n\n    static class Page&lt;T&gt; {\n\n        public T content;\n\n    }\n}\n</code></pre>\n<p>You can add additional attributes to page class, make fields private and add getters/setters, etc.</p>\n<p>Result:</p>\n<pre><code>[Product [productCatTx=ERROR_product, productValTx=000, productShrtDescTx=NO_ERROR, productLongDescTx=No Error in response], Product [productCatTx=ERROR_product, productValTx=010, productShrtDescTx=PRODUCT_ACCEPTED, productLongDescTx=Product Accepted]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005516,"reputation":17831,"user_id":1795530,"accept_rate":100,"display_name":"dic19"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692909308,"creation_date":1692909308,"answer_id":76972764,"question_id":76972025,"body_markdown":"The stacktrace is telling you that Jackson library can&#39;t create a `org.springframework.data.domain.Page` instance because it has no constructor, and it makes sense because is an interface.\r\n\r\nI think what you actually need is adjust `ReportResponse` to receive a `CustomPageImpl` instance as argument in its constructor. Additionally you could also get rid of inheritance like this:\r\n\r\n```java\r\n@Data\r\n@Builder\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class ReportResponse implements Serializable {\r\n\r\n    private final CustomPageImpl&lt;Product&gt; reportData;\r\n\r\n    @JsonCreator\r\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) CustomPageImpl&lt;Product&gt; reportData) {\r\n        this.reportData = reportData;\r\n    }\r\n\r\n    public CustomPageImpl&lt;Product&gt; getReportData() {\r\n        return this.reportData;\r\n    }\r\n}\r\n```","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p>The stacktrace is telling you that Jackson library can't create a <code>org.springframework.data.domain.Page</code> instance because it has no constructor, and it makes sense because is an interface.</p>\n<p>I think what you actually need is adjust <code>ReportResponse</code> to receive a <code>CustomPageImpl</code> instance as argument in its constructor. Additionally you could also get rid of inheritance like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ReportResponse implements Serializable {\n\n    private final CustomPageImpl&lt;Product&gt; reportData;\n\n    @JsonCreator\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) CustomPageImpl&lt;Product&gt; reportData) {\n        this.reportData = reportData;\n    }\n\n    public CustomPageImpl&lt;Product&gt; getReportData() {\n        return this.reportData;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972764,"answer_count":3,"score":0,"last_activity_date":1692909308,"creation_date":1692901384,"question_id":76972025,"body_markdown":"**API request and response:**\r\n\r\n**Request:** `http://localhost:5555/api/products?page=1&amp;size=100`\r\n\r\n**Response:**\r\n\r\n    {\r\n        &quot;reports&quot;: {\r\n            &quot;content&quot;: [\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;000&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\r\n                },\r\n                {\r\n                    &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\r\n                    &quot;productValTx&quot;: &quot;010&quot;,\r\n                    &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\r\n                    &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\r\n                }\r\n    \t\t],\r\n            &quot;pageable&quot;: {\r\n                &quot;sort&quot;: {\r\n                    &quot;empty&quot;: false,\r\n                    &quot;sorted&quot;: true,\r\n                    &quot;unsorted&quot;: false\r\n                },\r\n                &quot;offset&quot;: 0,\r\n                &quot;pageNumber&quot;: 0,\r\n                &quot;pageSize&quot;: 100,\r\n                &quot;unpaged&quot;: false,\r\n                &quot;paged&quot;: true\r\n            },\r\n            &quot;totalElements&quot;: 321,\r\n            &quot;totalPages&quot;: 4,\r\n            &quot;last&quot;: false,\r\n            &quot;size&quot;: 100,\r\n            &quot;number&quot;: 0,\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;numberOfElements&quot;: 100,\r\n            &quot;first&quot;: true,\r\n            &quot;empty&quot;: false\r\n        }\r\n    }\r\n\r\n\r\n\r\n**Client REST API call from another project:**\r\n\r\n\t\r\n\r\n    @GetMapping(&quot;/paginatedWResponseData&quot;)\r\n        public void getProductsWResponseData() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            String resourceUrl = &quot;http://localhost:5555/api/products?page=1&amp;size=100&quot;;\r\n    \r\n            UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(resourceUrl)\r\n                    .queryParam(&quot;page&quot;, 1)\r\n                    .queryParam(&quot;size&quot;, 100);\r\n    \r\n            ResponseEntity&lt;ReportResponse&gt; responseEntity = restTemplate.exchange(uriBuilder.toUriString(),\r\n                    HttpMethod.GET, null, ReportResponse.class);\r\n    \r\n            System.out.println(responseEntity);\r\n        }\r\n\r\n\r\n**ReportResponse.java**\r\n\r\n    @Data\r\n    @Builder\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class ReportResponse extends CustomPageImpl implements Serializable {\r\n    \r\n        Page&lt;Product&gt; reportData;\r\n    \r\n        @JsonCreator\r\n        public ReportResponse(@JsonProperty(&quot;reports&quot;) Page&lt;Product&gt; reportData) {\r\n            super(reportData.getContent());\r\n            this.reportData = reportData;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**CustomPageImpl.java**\r\n\r\n    public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    \r\n        @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n        public CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content, @JsonProperty(&quot;number&quot;) int number,\r\n                              @JsonProperty(&quot;size&quot;) int size, @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                              @JsonProperty(&quot;pageable&quot;) JsonNode pageable, @JsonProperty(&quot;last&quot;) boolean last,\r\n                              @JsonProperty(&quot;totalPages&quot;) int totalPages, @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                              @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n            super(content, PageRequest.of(number, 1), 10);\r\n        }\r\n    \r\n        public CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\r\n            super(content, pageable, total);\r\n        }\r\n    \r\n        public CustomPageImpl(List&lt;T&gt; content) {\r\n            super(content);\r\n        }\r\n    \r\n        public CustomPageImpl() {\r\n            super(new ArrayList&lt;&gt;());\r\n        }\r\n    }\r\n\r\n\r\n**Error:**\r\n\r\n    2023-08-24T13:58:53.372-04:00 ERROR 20304 --- [nio-5656-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]] with root cause\r\n    \r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 12] (through reference chain: net.code.sample.ReportResponse[&quot;reports&quot;])","title":"How to consume a REST API using restTemplate that returns an object with Page object within it?","body":"<p><strong>API request and response:</strong></p>\n<p><strong>Request:</strong> <code>http://localhost:5555/api/products?page=1&amp;size=100</code></p>\n<p><strong>Response:</strong></p>\n<pre><code>{\n    &quot;reports&quot;: {\n        &quot;content&quot;: [\n            {\n                &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                &quot;productValTx&quot;: &quot;000&quot;,\n                &quot;productShrtDescTx&quot;: &quot;NO_ERROR&quot;,\n                &quot;productLongDescTx&quot;: &quot;No Error in response&quot;\n            },\n            {\n                &quot;productCatTx&quot;: &quot;ERROR_product&quot;,\n                &quot;productValTx&quot;: &quot;010&quot;,\n                &quot;productShrtDescTx&quot;: &quot;PRODUCT_ACCEPTED&quot;,\n                &quot;productLongDescTx&quot;: &quot;Product Accepted&quot;\n            }\n        ],\n        &quot;pageable&quot;: {\n            &quot;sort&quot;: {\n                &quot;empty&quot;: false,\n                &quot;sorted&quot;: true,\n                &quot;unsorted&quot;: false\n            },\n            &quot;offset&quot;: 0,\n            &quot;pageNumber&quot;: 0,\n            &quot;pageSize&quot;: 100,\n            &quot;unpaged&quot;: false,\n            &quot;paged&quot;: true\n        },\n        &quot;totalElements&quot;: 321,\n        &quot;totalPages&quot;: 4,\n        &quot;last&quot;: false,\n        &quot;size&quot;: 100,\n        &quot;number&quot;: 0,\n        &quot;sort&quot;: {\n            &quot;empty&quot;: false,\n            &quot;sorted&quot;: true,\n            &quot;unsorted&quot;: false\n        },\n        &quot;numberOfElements&quot;: 100,\n        &quot;first&quot;: true,\n        &quot;empty&quot;: false\n    }\n}\n</code></pre>\n<p><strong>Client REST API call from another project:</strong></p>\n<pre><code>@GetMapping(&quot;/paginatedWResponseData&quot;)\n    public void getProductsWResponseData() {\n        RestTemplate restTemplate = new RestTemplate();\n        String resourceUrl = &quot;http://localhost:5555/api/products?page=1&amp;size=100&quot;;\n\n        UriComponentsBuilder uriBuilder = UriComponentsBuilder.fromUriString(resourceUrl)\n                .queryParam(&quot;page&quot;, 1)\n                .queryParam(&quot;size&quot;, 100);\n\n        ResponseEntity&lt;ReportResponse&gt; responseEntity = restTemplate.exchange(uriBuilder.toUriString(),\n                HttpMethod.GET, null, ReportResponse.class);\n\n        System.out.println(responseEntity);\n    }\n</code></pre>\n<p><strong>ReportResponse.java</strong></p>\n<pre><code>@Data\n@Builder\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class ReportResponse extends CustomPageImpl implements Serializable {\n\n    Page&lt;Product&gt; reportData;\n\n    @JsonCreator\n    public ReportResponse(@JsonProperty(&quot;reports&quot;) Page&lt;Product&gt; reportData) {\n        super(reportData.getContent());\n        this.reportData = reportData;\n    }\n\n}\n</code></pre>\n<p><strong>CustomPageImpl.java</strong></p>\n<pre><code>public class CustomPageImpl&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public CustomPageImpl(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content, @JsonProperty(&quot;number&quot;) int number,\n                          @JsonProperty(&quot;size&quot;) int size, @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                          @JsonProperty(&quot;pageable&quot;) JsonNode pageable, @JsonProperty(&quot;last&quot;) boolean last,\n                          @JsonProperty(&quot;totalPages&quot;) int totalPages, @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                          @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, 1), 10);\n    }\n\n    public CustomPageImpl(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomPageImpl(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomPageImpl() {\n        super(new ArrayList&lt;&gt;());\n    }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>2023-08-24T13:58:53.372-04:00 ERROR 20304 --- [nio-5656-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.springframework.data.domain.Page]] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.springframework.data.domain.Page` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 12] (through reference chain: net.code.sample.ReportResponse[&quot;reports&quot;])\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692910694,"post_id":76972738,"comment_id":135692576,"body_markdown":"What do you have in the &quot;Source&quot; tab of the &quot;Java Build Path&quot; in the Project Properties?","body":"What do you have in the &quot;Source&quot; tab of the &quot;Java Build Path&quot; in the Project Properties?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1692950393,"post_id":76972738,"comment_id":135697065,"body_markdown":"There is no duplicated file structure. It&#39;s two views of the same thing: the Java view with source folders &gt; packages &gt; files &gt; classes &gt; fields, methods, nested classes, etc. and below the file structure view with only folders and files. Read the help for more details.","body":"There is no duplicated file structure. It&#39;s two views of the same thing: the Java view with source folders &gt; packages &gt; files &gt; classes &gt; fields, methods, nested classes, etc. and below the file structure view with only folders and files. Read the help for more details."}],"owner":{"account_id":29131435,"reputation":23,"user_id":22316603,"display_name":"Bogdan Udrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692908972,"creation_date":1692908972,"question_id":76972738,"body_markdown":"I&#39;m encountering an issue in my Eclipse project where I&#39;m seeing two seemingly duplicated source folder structures. The project is a Spring Boot application, and I have noticed that I have two src/main/java folders and two src/test/java folders\r\n\r\n\r\n[![The image:](https://i.stack.imgur.com/sxtOj.png)\r\n\r\n\r\nThe packages from src/main/java have a package icon while the others from src→main→java have a folder, the classes are also different(in terms of icon),the same thing is with test ","title":"Duplicate Source Folder Structure in Eclipse Project","body":"<p>I'm encountering an issue in my Eclipse project where I'm seeing two seemingly duplicated source folder structures. The project is a Spring Boot application, and I have noticed that I have two src/main/java folders and two src/test/java folders</p>\n<p>[<img src=\"https://i.stack.imgur.com/sxtOj.png\" alt=\"The image:\" /></p>\n<p>The packages from src/main/java have a package icon while the others from src→main→java have a folder, the classes are also different(in terms of icon),the same thing is with test</p>\n"},{"tags":["java","spring-boot","annotations","javabeans"],"comments":[{"owner":{"account_id":16376998,"reputation":148,"user_id":11828868,"display_name":"melody zhou"},"score":0,"creation_date":1692942784,"post_id":76972703,"comment_id":135695712,"body_markdown":"Does the field have a set method？","body":"Does the field have a set method？"},{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1692993139,"post_id":76972703,"comment_id":135705998,"body_markdown":"does field `root` really need to be `final`? Try to remove `final` keyword or try to get  `Paths.get(storage)` inside your method","body":"does field <code>root</code> really need to be <code>final</code>? Try to remove <code>final</code> keyword or try to get  <code>Paths.get(storage)</code> inside your method"}],"owner":{"account_id":23010722,"reputation":11,"user_id":17133280,"display_name":"Phong Trần"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692908493,"creation_date":1692908493,"question_id":76972703,"body_markdown":"`I have a problem\r\nI trying get value from applycation.properties to my class.\r\nI have configured in many other classes this way and it is still valid until...\r\nThis is my class that i want get value from PATH.STORAGE\r\n[enter image description here](https://i.stack.imgur.com/XTEeM.png)\r\n\r\nprivate static final Logger LOGGER = LogManager.getLogger(FilesStorageServiceImpl.class);\r\n\r\n    @Value(&quot;${PATH.STORAGE}&quot;)\r\n    String storage ;\r\n\r\n    private final Path root = Paths.get(storage);\r\n\r\n\r\nAnd this is my app.properties\r\n[enter image description here](https://i.stack.imgur.com/b2cUQ.png)\r\n\r\nPATH.STORAGE=C:\\\\Users\\\\Admin\\\\Desktop\\\\storage\r\n\r\n\r\nThanks everyone.\r\n\r\nI try change value of PATH.STORAGE=A or PATH.STORAGE=B ...\r\nI try add config in .properties:\r\nspring.resources.static-locations=file:///${PATH.STORAGE}`","title":"Why can not get value from application in spring boot","body":"<p>`I have a problem\nI trying get value from applycation.properties to my class.\nI have configured in many other classes this way and it is still valid until...\nThis is my class that i want get value from PATH.STORAGE\n<a href=\"https://i.stack.imgur.com/XTEeM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>private static final Logger LOGGER = LogManager.getLogger(FilesStorageServiceImpl.class);</p>\n<pre><code>@Value(&quot;${PATH.STORAGE}&quot;)\nString storage ;\n\nprivate final Path root = Paths.get(storage);\n</code></pre>\n<p>And this is my app.properties\n<a href=\"https://i.stack.imgur.com/b2cUQ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>PATH.STORAGE=C:\\Users\\Admin\\Desktop\\storage</p>\n<p>Thanks everyone.</p>\n<p>I try change value of PATH.STORAGE=A or PATH.STORAGE=B ...\nI try add config in .properties:\nspring.resources.static-locations=file:///${PATH.STORAGE}`</p>\n"},{"tags":["java","cors","quarkus"],"comments":[{"owner":{"account_id":15372493,"reputation":354,"user_id":11090149,"display_name":"EliKnaffo"},"score":0,"creation_date":1562701150,"post_id":56959505,"comment_id":100457056,"body_markdown":"Hi it seems like some methods are missing in the http.methods what are method are you using GET/POST/PUT?","body":"Hi it seems like some methods are missing in the http.methods what are method are you using GET/POST/PUT?"},{"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"score":0,"creation_date":1562702097,"post_id":56959505,"comment_id":100457418,"body_markdown":"only GET for these services","body":"only GET for these services"},{"owner":{"account_id":15372493,"reputation":354,"user_id":11090149,"display_name":"EliKnaffo"},"score":0,"creation_date":1562703646,"post_id":56959505,"comment_id":100457991,"body_markdown":"Can you try adding a /* to your localhost:4200","body":"Can you try adding a /* to your localhost:4200"},{"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"score":0,"creation_date":1563545184,"post_id":56959505,"comment_id":100747052,"body_markdown":"also does not work, not even with on the * nor empty or without the config line","body":"also does not work, not even with on the * nor empty or without the config line"}],"answers":[{"comments":[{"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"score":0,"creation_date":1562847103,"post_id":56960897,"comment_id":100512339,"body_markdown":"Hi Guillaume, yep, in the g-groups/zulip they already told me, I correct them all and try again with the same result\nI mean, no warnings anymore, but I cannot get into my resource from my angular app","body":"Hi Guillaume, yep, in the g-groups/zulip they already told me, I correct them all and try again with the same result I mean, no warnings anymore, but I cannot get into my resource from my angular app"},{"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"score":0,"creation_date":1683727630,"post_id":56960897,"comment_id":134411309,"body_markdown":"Documentation about CORS filter can be found here https://quarkus.io/guides/http-reference#cors-filter","body":"Documentation about CORS filter can be found here <a href=\"https://quarkus.io/guides/http-reference#cors-filter\" rel=\"nofollow noreferrer\">quarkus.io/guides/http-reference#cors-filter</a>"}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1687106401,"creation_date":1562708810,"answer_id":56960897,"question_id":56959505,"body_markdown":"The warnings were a good indication.\r\n\r\nYour configuration is incorrect.\r\n\r\nIt should be something like:\r\n```\r\nquarkus.http.cors=true\r\nquarkus.http.cors.origins=http://localhost:4200,http://localhost:9090\r\nquarkus.http.cors.headers=accept, authorization, content-type, x-requested-with\r\nquarkus.http.cors.methods=GET, OPTIONS\r\n```\r\nyaml config\r\n\r\n```\r\nquarkus:\r\n  http:\r\n    cors:\r\n      ~: true\r\n      origins: http://localhost:4200,http://localhost:9090\r\n      headers: accept, authorization, content-type, x-requested-with\r\n      methods: GET, OPTIONS, POST\r\n```\r\nwith the `cors` prefix.\r\n\r\nWe don&#39;t have proper documentation right now so better refer to https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java .\r\n\r\nI opened https://github.com/quarkusio/quarkus/issues/3156 to track the documentation issue.","title":"quarkus: blocked by CORS policy","body":"<p>The warnings were a good indication.</p>\n<p>Your configuration is incorrect.</p>\n<p>It should be something like:</p>\n<pre><code>quarkus.http.cors=true\nquarkus.http.cors.origins=http://localhost:4200,http://localhost:9090\nquarkus.http.cors.headers=accept, authorization, content-type, x-requested-with\nquarkus.http.cors.methods=GET, OPTIONS\n</code></pre>\n<p>yaml config</p>\n<pre><code>quarkus:\n  http:\n    cors:\n      ~: true\n      origins: http://localhost:4200,http://localhost:9090\n      headers: accept, authorization, content-type, x-requested-with\n      methods: GET, OPTIONS, POST\n</code></pre>\n<p>with the <code>cors</code> prefix.</p>\n<p>We don't have proper documentation right now so better refer to <a href=\"https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/blob/master/extensions/undertow/runtime/src/main/java/io/quarkus/undertow/runtime/filters/CORSConfig.java</a> .</p>\n<p>I opened <a href=\"https://github.com/quarkusio/quarkus/issues/3156\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/issues/3156</a> to track the documentation issue.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644706941,"post_id":71096269,"comment_id":125678790,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71096269/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23021460,"reputation":21,"user_id":18146879,"display_name":"Jos&#233; Junior"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644781925,"creation_date":1644703789,"answer_id":71096269,"question_id":56959505,"body_markdown":"Try the following code, this worked for me.\r\n    \r\n    &lt;code&gt;\r\n    @Provider   \r\n    public class CorsFilter implements ContainerResponseFilter {\r\n      @Override\r\n      public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        responseContext.getHeade`enter code here`rs().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\r\n        responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;100000&quot;);\r\n      }\r\n    }\r\n    &lt;/code&gt;","title":"quarkus: blocked by CORS policy","body":"<p>Try the following code, this worked for me.</p>\n<pre><code>&lt;code&gt;\n@Provider   \npublic class CorsFilter implements ContainerResponseFilter {\n  @Override\n  public void filter(ContainerRequestContext requestContext, ContainerResponseContext responseContext) throws IOException {\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n    responseContext.getHeade`enter code here`rs().add(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, PUT, DELETE, OPTIONS, HEAD&quot;);\n    responseContext.getHeaders().add(&quot;Access-Control-Max-Age&quot;, &quot;100000&quot;);\n  }\n}\n&lt;/code&gt;\n</code></pre>\n"}],"owner":{"account_id":3863295,"reputation":121,"user_id":3200470,"display_name":"icarus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20905,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":2,"score":10,"last_activity_date":1692908240,"creation_date":1562701026,"question_id":56959505,"body_markdown":"although I configured the property file I still get the error: \r\n```\r\nblocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\r\n\r\n&gt; I also created a &lt;b&gt;@Provider&lt;/b&gt; extending &lt;b&gt;ContainerRequestFilter&lt;/b&gt;, but it\r\n&gt; never reaches there\r\n\r\n\r\napplication.properties\r\n```\r\n# Configuration file\r\nquarkus.http.port=9090\r\nquarkus.http.cors=true\r\nquarkus.http.origins=http://localhost:4200, localhost:9090\r\nquarkus.http.headers=accept, authorization, content-type, x-requested-with\r\nquarkus.http.methods=GET, OPTIONS\r\n```\r\n\r\n\r\n&lt;b&gt;edited&lt;/b&gt;\r\n\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.methods&quot; provided\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.headers&quot; provided\r\n    17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key &quot;quarkus.http.origins&quot; provided\r\n\r\n","title":"quarkus: blocked by CORS policy","body":"<p>although I configured the property file I still get the error: </p>\n\n<pre><code>blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n\n<blockquote>\n  <p>I also created a <b>@Provider</b> extending <b>ContainerRequestFilter</b>, but it\n  never reaches there</p>\n</blockquote>\n\n<p>application.properties</p>\n\n<pre><code># Configuration file\nquarkus.http.port=9090\nquarkus.http.cors=true\nquarkus.http.origins=http://localhost:4200, localhost:9090\nquarkus.http.headers=accept, authorization, content-type, x-requested-with\nquarkus.http.methods=GET, OPTIONS\n</code></pre>\n\n<p><b>edited</b></p>\n\n<pre><code>17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.methods\" provided\n17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.headers\" provided\n17:11:09 WARN  [io.qu.config]] (build-3) Unrecognized configuration key \"quarkus.http.origins\" provided\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1554810065,"post_id":55591988,"comment_id":97880523,"body_markdown":"I just opened https://github.com/quarkusio/quarkus/issues/1947 to track further progress on this.","body":"I just opened <a href=\"https://github.com/quarkusio/quarkus/issues/1947\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/1947</a> to track further progress on this."},{"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"score":0,"creation_date":1554877991,"post_id":55591988,"comment_id":97906964,"body_markdown":"Fine! Thanks for you reply, I will try that.","body":"Fine! Thanks for you reply, I will try that."},{"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"score":0,"creation_date":1554970634,"post_id":55591988,"comment_id":97947239,"body_markdown":"Yes, it works, thank you. But you have hardcoded password for keystore at ServerSslConfig.java:158.","body":"Yes, it works, thank you. But you have hardcoded password for keystore at ServerSslConfig.java:158."},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1554992870,"post_id":55591988,"comment_id":97961002,"body_markdown":"Would you be interested to share your findings here: https://quarkus.io/guides/rest-json-guide . A paragraph about how to set up an SSL service would be nice. As for the hardcoded password, I noticed that. Please open a GitHub issue.","body":"Would you be interested to share your findings here: <a href=\"https://quarkus.io/guides/rest-json-guide\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-json-guide</a> . A paragraph about how to set up an SSL service would be nice. As for the hardcoded password, I noticed that. Please open a GitHub issue."},{"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"score":0,"creation_date":1555049965,"post_id":55591988,"comment_id":97980542,"body_markdown":"Issue is opened: https://github.com/quarkusio/quarkus/issues/2021 Please tell me how to share my findings?","body":"Issue is opened: <a href=\"https://github.com/quarkusio/quarkus/issues/2021\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/2021</a> Please tell me how to share my findings?"},{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1555055348,"post_id":55591988,"comment_id":97982917,"body_markdown":"I think I would add a specific paragraph here just before the conclusion: https://github.com/quarkusio/quarkus/blob/master/docs/src/main/asciidoc/rest-json-guide.adoc . For now it&#39;s probably the best place. It&#39;s asciidoc, you have plenty of example of how to format it in the file. Feel free to open a PR and ask for advice once you have a draft, I&#39;m here to help!","body":"I think I would add a specific paragraph here just before the conclusion: <a href=\"https://github.com/quarkusio/quarkus/blob/master/docs/src/main/asciidoc/rest-json-guide.adoc\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/blob/master/docs/src/main/ascii&zwnj;&#8203;doc/&hellip;</a> . For now it&#39;s probably the best place. It&#39;s asciidoc, you have plenty of example of how to format it in the file. Feel free to open a PR and ask for advice once you have a draft, I&#39;m here to help!"},{"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"score":0,"creation_date":1555057648,"post_id":55591988,"comment_id":97983987,"body_markdown":"I just posted short guide here as an answer. Please feel free to copy it anywhere you need.","body":"I just posted short guide here as an answer. Please feel free to copy it anywhere you need."}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":7,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1554809911,"creation_date":1554809911,"answer_id":55591988,"question_id":55588382,"body_markdown":"It is indeed supported by our Undertow extension but, unfortunately, not documented.\r\n\r\nYou can define things like the following:\r\n```\r\nquarkus.http.ssl.certificate.file=...\r\nquarkus.http.ssl.certificate.key-file=...\r\n...\r\n```\r\nin your application.properties.\r\n\r\nThe config entry point is `ServerSslConfig` (see https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41). You then add the nested properties with dots and transform camel-case to dashes.\r\n\r\nIf you want to build a native executable, there&#39;s a good chance you will have to add `quarkus.ssl.native=true` too.\r\n\r\nIf you have feedback or if you want to contribute a guide for that, feel free to join us on Zulip or open issues/PRs on GitHub.","title":"Quarkus HTTPS restful service","body":"<p>It is indeed supported by our Undertow extension but, unfortunately, not documented.</p>\n\n<p>You can define things like the following:</p>\n\n<pre><code>quarkus.http.ssl.certificate.file=...\nquarkus.http.ssl.certificate.key-file=...\n...\n</code></pre>\n\n<p>in your application.properties.</p>\n\n<p>The config entry point is <code>ServerSslConfig</code> (see <a href=\"https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41\" rel=\"noreferrer\">https://github.com/quarkusio/quarkus/blob/master/core/runtime/src/main/java/io/quarkus/runtime/configuration/ssl/ServerSslConfig.java#L41</a>). You then add the nested properties with dots and transform camel-case to dashes.</p>\n\n<p>If you want to build a native executable, there's a good chance you will have to add <code>quarkus.ssl.native=true</code> too.</p>\n\n<p>If you have feedback or if you want to contribute a guide for that, feel free to join us on Zulip or open issues/PRs on GitHub.</p>\n"},{"comments":[{"owner":{"account_id":1925991,"reputation":3776,"user_id":1736425,"accept_rate":88,"display_name":"Ali Cheaito"},"score":0,"creation_date":1561744661,"post_id":55647430,"comment_id":100176953,"body_markdown":"Thanks for this. With Quarkus 0.18.0, I had to specify the cert + key files. For some reason, the cert was not being served when keystore was used causing handshake failures.","body":"Thanks for this. With Quarkus 0.18.0, I had to specify the cert + key files. For some reason, the cert was not being served when keystore was used causing handshake failures."}],"tags":[],"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1596639946,"creation_date":1555057548,"answer_id":55647430,"question_id":55588382,"body_markdown":"Thanks mr. Guillaume Smet, I found the solution. Here is &quot;from zero to hello in 5 minutes with Quarkus and SSL guide&quot;. This is done by quarkus undertow plugin. Also you will need text editor, jdk 1.8+ and maven installed.\r\n\r\nFrist, create the project.\r\n\r\n    mkdir restls\r\n    cd restls\r\n    mvn io.quarkus:quarkus-maven-plugin:create -DprojectGroupId=org.acme -DprojectArtifactId=restls -DclassName=&quot;org.acme.HelloResource&quot; -Dpath=&quot;/hello&quot; -Dextensions=&quot;undertow&quot;\r\n\r\nOpen your application config file `src/main/resources/application.properties` with any editor and add lines:\r\n\r\n    quarkus.http.port=80\r\n    quarkus.http.ssl-port=443\r\n    quarkus.http.ssl.certificate.key-store-file=keystore.jks\r\n\r\nCreate keystore containing self-signed certificate (answer all questions and specify password namelly &quot;password&quot;):\r\n\r\n    keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 365 -keysize 2048\r\n\r\nThe file `keystore.jks` must be in the `src/main/resources/` folder.\r\n\r\nBuild the project:\r\n\r\n    mvnw clean package quarkus:build\r\n\r\nNow try it out:\r\n\r\n    java -jar target/restls-1.0-SNAPSHOT-runner.jar\r\n\r\nNavigate to https://localhost/hello and allow your browser to trust certificate. That&#39;s all.\r\n\r\nYou can override options in invocation time like this: \r\n\r\n    java -Dquarkus.http.ssl.certificate.key-store-file=/path-to-keystore/keystore-name.jks -jar target/restls-1.0-SNAPSHOT-runner.jar\r\n\r\nFinally, here is the concerning options list:\r\n\r\n    quarkus.http.ssl.certificate.file -- The file path to a server certificate or certificate chain in PEM format.\r\n    \r\n    quarkus.http.ssl.certificate.key-file -- The file path to the corresponding certificate private key file in PEM format.\r\n    \r\n    quarkus.http.ssl.certificate.key-store-file -- An optional key store which holds the certificate information instead of specifying separate files.\r\n    \r\n    quarkus.http.ssl.certificate.key-store-file-type -- An optional parameter to specify type of the key store file. If not given, the type is automatically detected based on the file name.\r\n\r\nYou can specifiy either certificate + key files in PEM format or keystore.","title":"Quarkus HTTPS restful service","body":"<p>Thanks mr. Guillaume Smet, I found the solution. Here is &quot;from zero to hello in 5 minutes with Quarkus and SSL guide&quot;. This is done by quarkus undertow plugin. Also you will need text editor, jdk 1.8+ and maven installed.</p>\n<p>Frist, create the project.</p>\n<pre><code>mkdir restls\ncd restls\nmvn io.quarkus:quarkus-maven-plugin:create -DprojectGroupId=org.acme -DprojectArtifactId=restls -DclassName=&quot;org.acme.HelloResource&quot; -Dpath=&quot;/hello&quot; -Dextensions=&quot;undertow&quot;\n</code></pre>\n<p>Open your application config file <code>src/main/resources/application.properties</code> with any editor and add lines:</p>\n<pre><code>quarkus.http.port=80\nquarkus.http.ssl-port=443\nquarkus.http.ssl.certificate.key-store-file=keystore.jks\n</code></pre>\n<p>Create keystore containing self-signed certificate (answer all questions and specify password namelly &quot;password&quot;):</p>\n<pre><code>keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 365 -keysize 2048\n</code></pre>\n<p>The file <code>keystore.jks</code> must be in the <code>src/main/resources/</code> folder.</p>\n<p>Build the project:</p>\n<pre><code>mvnw clean package quarkus:build\n</code></pre>\n<p>Now try it out:</p>\n<pre><code>java -jar target/restls-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>Navigate to https://localhost/hello and allow your browser to trust certificate. That's all.</p>\n<p>You can override options in invocation time like this:</p>\n<pre><code>java -Dquarkus.http.ssl.certificate.key-store-file=/path-to-keystore/keystore-name.jks -jar target/restls-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>Finally, here is the concerning options list:</p>\n<pre><code>quarkus.http.ssl.certificate.file -- The file path to a server certificate or certificate chain in PEM format.\n\nquarkus.http.ssl.certificate.key-file -- The file path to the corresponding certificate private key file in PEM format.\n\nquarkus.http.ssl.certificate.key-store-file -- An optional key store which holds the certificate information instead of specifying separate files.\n\nquarkus.http.ssl.certificate.key-store-file-type -- An optional parameter to specify type of the key store file. If not given, the type is automatically detected based on the file name.\n</code></pre>\n<p>You can specifiy either certificate + key files in PEM format or keystore.</p>\n"},{"tags":[],"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684947858,"creation_date":1684947858,"answer_id":76325898,"question_id":55588382,"body_markdown":"adding some notes here for how you would use native quarkus tls (reverse_proxy for example)  as things constantly evolve  \r\n1. for extensions defined here [tls enabled extensions](https://quarkus.io/guides/native-and-ssl)\r\n2. generate a CA with SAN for the hostname\r\n3. using your CA create a openssl x509 and key PEM format\r\n4. in application.properties define eg hostname =  quarkus-dev\r\n```quarkus.http.ssl.certificate.file=quarkus-dev.pem```  \r\n```quarkus.http.ssl.certificate.key-file=quarkus-dev-key.pem```  \r\n```quarkus.ssl.native=true```\r\n5. with this set up the quarkus binary will look for the x509 cert and key in the same directory  \r\n[![enter image description here][1]][1] \r\n  \r\nNotes  \r\nsome open ssl fragments for generation of the certs  \r\n  \r\nCA key  \r\n```openssl genrsa -out quarkus-dev-key.pem 2048```  \r\n  \r\nCA extension shows SAN dns entry  \r\n```\r\nauthorityKeyIdentifier=keyid,issuer\r\nbasicConstraints=CA:FALSE\r\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\r\nsubjectAltName = @alt_names\r\n[alt_names]\r\nDNS.1 = quarkus-dev\r\n```  \r\ngenerate the CA  \r\n```\r\nopenssl req -nodes -newkey rsa:2048 -keyout quarkus-dev-key.pem -out quarkus-dev.csr -subj &quot;/C=CA/ST=QUARKUS/L=QUARKUS/O=QUARKUS/OU=QUARKUS/CN=quarkus-dev&quot; -addext &quot;subjectAltName = DNS:quarkus-dev&quot; \r\n\r\nopenssl x509 -req -in quarkus-dev.csr -CA quarkus-dev-ca.crt -CAkey quarkus-dev-ca.key -CAcreateserial -out quarkus-dev.pem -outform PEM -days 825 -sha256 -passin file:quarkus-dev-ca.pass -extfile quarkus-dev.ext\r\n```\r\nwith the CA above you can generate the certificates  \r\nif using the SAN dns then you would need to update /etc/hosts or alternatively you could use the IP in the SAN like \r\n```\r\n[alt_names]\r\nIP.1 = 192.168.0.1\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/MvYT4.png","title":"Quarkus HTTPS restful service","body":"<p>adding some notes here for how you would use native quarkus tls (reverse_proxy for example)  as things constantly evolve</p>\n<ol>\n<li>for extensions defined here <a href=\"https://quarkus.io/guides/native-and-ssl\" rel=\"nofollow noreferrer\">tls enabled extensions</a></li>\n<li>generate a CA with SAN for the hostname</li>\n<li>using your CA create a openssl x509 and key PEM format</li>\n<li>in application.properties define eg hostname =  quarkus-dev\n<code>quarkus.http.ssl.certificate.file=quarkus-dev.pem</code><br />\n<code>quarkus.http.ssl.certificate.key-file=quarkus-dev-key.pem</code><br />\n<code>quarkus.ssl.native=true</code></li>\n<li>with this set up the quarkus binary will look for the x509 cert and key in the same directory<br />\n<a href=\"https://i.stack.imgur.com/MvYT4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MvYT4.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>Notes<br />\nsome open ssl fragments for generation of the certs</p>\n<p>CA key<br />\n<code>openssl genrsa -out quarkus-dev-key.pem 2048</code></p>\n<p>CA extension shows SAN dns entry</p>\n<pre><code>authorityKeyIdentifier=keyid,issuer\nbasicConstraints=CA:FALSE\nkeyUsage = digitalSignature, nonRepudiation, keyEncipherment, dataEncipherment\nsubjectAltName = @alt_names\n[alt_names]\nDNS.1 = quarkus-dev\n</code></pre>\n<p>generate the CA</p>\n<pre><code>openssl req -nodes -newkey rsa:2048 -keyout quarkus-dev-key.pem -out quarkus-dev.csr -subj &quot;/C=CA/ST=QUARKUS/L=QUARKUS/O=QUARKUS/OU=QUARKUS/CN=quarkus-dev&quot; -addext &quot;subjectAltName = DNS:quarkus-dev&quot; \n\nopenssl x509 -req -in quarkus-dev.csr -CA quarkus-dev-ca.crt -CAkey quarkus-dev-ca.key -CAcreateserial -out quarkus-dev.pem -outform PEM -days 825 -sha256 -passin file:quarkus-dev-ca.pass -extfile quarkus-dev.ext\n</code></pre>\n<p>with the CA above you can generate the certificates<br />\nif using the SAN dns then you would need to update /etc/hosts or alternatively you could use the IP in the SAN like</p>\n<pre><code>[alt_names]\nIP.1 = 192.168.0.1\n</code></pre>\n"}],"owner":{"account_id":8480340,"reputation":861,"user_id":6360222,"display_name":"S. Kadakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12331,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55591988,"answer_count":3,"score":8,"last_activity_date":1692908227,"creation_date":1554798841,"question_id":55588382,"body_markdown":"Is there any example/tutorial to build and configure TLS-secured restful service using quarkus.io?\r\n\r\nUnfortunately I can not find one neither at quarkus documentation, no here.","title":"Quarkus HTTPS restful service","body":"<p>Is there any example/tutorial to build and configure TLS-secured restful service using quarkus.io?</p>\n\n<p>Unfortunately I can not find one neither at quarkus documentation, no here.</p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":135620,"reputation":12665,"user_id":338614,"accept_rate":22,"display_name":"Harald Wellmann"},"score":2,"creation_date":1553266330,"post_id":55300914,"comment_id":97333006,"body_markdown":"Thanks, I&#39;ve got it working now. I got confused by the single quotes from the GraalVM docs at first. So in the POM, you use `-H:IncludeResources=.*\\.json`, but for a shell command, you would use `-H:IncludeResources=&#39;.*\\.json&#39;`","body":"Thanks, I&#39;ve got it working now. I got confused by the single quotes from the GraalVM docs at first. So in the POM, you use <code>-H:IncludeResources=.*\\.json</code>, but for a shell command, you would use <code>-H:IncludeResources=&#39;.*\\.json&#39;</code>"},{"owner":{"account_id":62847,"reputation":5047,"user_id":186429,"accept_rate":62,"display_name":"Galder Zamarre&#241;o"},"score":1,"creation_date":1579610154,"post_id":55300914,"comment_id":105816511,"body_markdown":"FYI, this way of adding build args does not work any more. Now it seems to be done via `mvn quarkus:native-image -Dquarkus.native.additional-build-args=-H:+PrintAnalysisCallTree`","body":"FYI, this way of adding build args does not work any more. Now it seems to be done via <code>mvn quarkus:native-image -Dquarkus.native.additional-build-args=-H:+PrintAnalysisCall&zwnj;&#8203;Tree</code>"},{"owner":{"account_id":392860,"reputation":1763,"user_id":754388,"display_name":"Guildenstern70"},"score":0,"creation_date":1695906754,"post_id":55300914,"comment_id":136088348,"body_markdown":"What about using:\n  `quarkus.native.resources.includes=&quot;resources/**&quot;`\nit does not seem to work","body":"What about using:   <code>quarkus.native.resources.includes=&quot;resources&#47;**&quot;</code> it does not seem to work"}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":3,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1579611059,"creation_date":1553262070,"answer_id":55300914,"question_id":55300484,"body_markdown":"We have a layer to do that programmatically in extensions but, right now, we don&#39;t have any user facing API for applications.\r\n\r\nSo for the time being, you could use this option of the quarkus-maven-plugin:\r\n\r\n     &lt;quarkus.native.additional-build-args&gt;-H:ResourceConfigurationFiles=resources-config.json&lt;/quarkus.native.additional-build-args&gt;\r\n\r\nOr you can also define it in your `application.properties`:\r\n\r\n    quarkus.native.additional-build-args =-H:ResourceConfigurationFiles=resources-config.json\r\n\r\nEverything is documented here: https://quarkus.io/guides/writing-native-applications-tips .","title":"How to include classpath resources in a Quarkus native image?","body":"<p>We have a layer to do that programmatically in extensions but, right now, we don't have any user facing API for applications.</p>\n\n<p>So for the time being, you could use this option of the quarkus-maven-plugin:</p>\n\n<pre><code> &lt;quarkus.native.additional-build-args&gt;-H:ResourceConfigurationFiles=resources-config.json&lt;/quarkus.native.additional-build-args&gt;\n</code></pre>\n\n<p>Or you can also define it in your <code>application.properties</code>:</p>\n\n<pre><code>quarkus.native.additional-build-args =-H:ResourceConfigurationFiles=resources-config.json\n</code></pre>\n\n<p>Everything is documented here: <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-native-applications-tips</a> .</p>\n"}],"owner":{"account_id":135620,"reputation":12665,"user_id":338614,"accept_rate":22,"display_name":"Harald Wellmann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7036,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":55300914,"answer_count":1,"score":9,"last_activity_date":1692908189,"creation_date":1553260627,"question_id":55300484,"body_markdown":"It seems that by default the native image generated by Quarkus does not include any classpath resources corresponding to stuff from `src/main/resources/`.\r\n\r\nFrom the [GraalVM docs][1], I sort of understand why this happens, but now I&#39;m stuck. Is there a way to configure the `quarkus-maven-plugin` to include the resources in the native image?\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/blob/master/substratevm/RESOURCES.md","title":"How to include classpath resources in a Quarkus native image?","body":"<p>It seems that by default the native image generated by Quarkus does not include any classpath resources corresponding to stuff from <code>src/main/resources/</code>.</p>\n\n<p>From the <a href=\"https://github.com/oracle/graal/blob/master/substratevm/RESOURCES.md\" rel=\"noreferrer\">GraalVM docs</a>, I sort of understand why this happens, but now I'm stuck. Is there a way to configure the <code>quarkus-maven-plugin</code> to include the resources in the native image?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1579003241,"creation_date":1579003241,"answer_id":59733375,"question_id":59733160,"body_markdown":"It&#39;s using Hibernate ORM under the hood.\r\n\r\nExtensions are there for several reasons:\r\n\r\n * they tie the library to the Quarkus development model. Typically the Hibernate ORM extension will use the configuration properties coming from the `application.properties` and bootstrap the persistence unit;\r\n * they allow to move things from runtime to build time: in the case of ORM, when using GraalVM, all the Hibernate metadata are built when compiling the native image;\r\n * it allows configuring things for GraalVM native images, typically registering class for reflection, adding resources...\r\n * also in the case of Hibernate ORM, some of our defaults are not the same as the historical Hibernate ORM defaults.","title":"Quarkus extensions nediness","body":"<p>It's using Hibernate ORM under the hood.</p>\n\n<p>Extensions are there for several reasons:</p>\n\n<ul>\n<li>they tie the library to the Quarkus development model. Typically the Hibernate ORM extension will use the configuration properties coming from the <code>application.properties</code> and bootstrap the persistence unit;</li>\n<li>they allow to move things from runtime to build time: in the case of ORM, when using GraalVM, all the Hibernate metadata are built when compiling the native image;</li>\n<li>it allows configuring things for GraalVM native images, typically registering class for reflection, adding resources...</li>\n<li>also in the case of Hibernate ORM, some of our defaults are not the same as the historical Hibernate ORM defaults.</li>\n</ul>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692908170,"creation_date":1579002432,"question_id":59733160,"body_markdown":"What are quarkus extensions meant for?\r\n\r\nThere are a bunch of extensions I&#39;m asking myself if they are redundant or superfluous.\r\n\r\nFor example, why quarkus is providing an &quot;Hibernate ORM&quot; extension? Why ain&#39;t able to just use Hibernate straightforwardly?\r\n","title":"Quarkus extensions nediness","body":"<p>What are quarkus extensions meant for?</p>\n\n<p>There are a bunch of extensions I'm asking myself if they are redundant or superfluous.</p>\n\n<p>For example, why quarkus is providing an \"Hibernate ORM\" extension? Why ain't able to just use Hibernate straightforwardly?</p>\n"},{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":141140,"reputation":677,"user_id":347945,"accept_rate":68,"display_name":"Martin Fejes"},"score":2,"creation_date":1612432636,"post_id":59881264,"comment_id":116767140,"body_markdown":"Why is this not in the documentation / guides?","body":"Why is this not in the documentation / guides?"}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692908155,"creation_date":1579791014,"answer_id":59881264,"question_id":59880235,"body_markdown":"Nowadays, the easiest way to update Quarkus is to install the [Quarkus CLI][1].\r\n\r\nThen you can update your Quarkus application with `quarkus update`.\r\n\r\nYou can find more details about `quarkus update` here: https://quarkus.io/guides/update-quarkus .\r\n\r\n----------\r\n\r\n*The following is still true but usability has been improved a lot since then. I kept the content below as it is informative.* \r\n\r\nThere is one important thing to know, we have:\r\n\r\n * Quarkus Core: this is the main Quarkus artifacts + all the core extensions: the quarkus-bom is the one of Core. The Quarkus Maven plugin is part of it too.\r\n * Quarkus Platform: it contains more extensions such as Camel Quarkus: the quarkus-universe-bom is the one from the Platform, it contains the Core + the additional extensions\r\n\r\nWe usually release Quarkus core then Quarkus Platform with a few days between the two as we often need a release of Camel Quarkus, which is an Apache project and organizes a 72 hours vote for each release.\r\n\r\nIn a newly created project, you have the following properties:\r\n```\r\n    &lt;quarkus-plugin.version&gt;1.1.1.Final&lt;/quarkus-plugin.version&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;1.1.1.Final&lt;/quarkus.platform.version&gt;\r\n```\r\n\r\n * `quarkus-plugin.version` is the version of the Quarkus Maven plugin, it should be in line with the version of the core you use\r\n * `quarkus.platform.artifact-id` can right now either be `quarkus-universe-bom` for the whole Platform or just `quarkus-bom` for the Core only.\r\n * `quarkus.platform.version` is the version of the BOM.\r\n\r\nUsually all these versions should be aligned. But... it could happen that we would need some quick update in the Platform and not of the core and we could then only release a new version of the platform. This hasn&#39;t happened yet to be honest.\r\n\r\nLet&#39;s take an example of what happened today: I released Quarkus Core 1.2.0.Final but we are still waiting for Camel Quarkus to be released to release the Platform.\r\n\r\nIf you want to update early, you can change the BOM to use the `quarkus-bom` and update everything to 1.2.0.Final.\r\n\r\nOr you can wait for the Platform to be released early next week and stay on the Platform `quarkus-universe-bom`.\r\n\r\nWe also only update the website documentation and code.quarkus.io when the full Platform is released.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cli-tooling","title":"How to update the quarkus version used","body":"<p>Nowadays, the easiest way to update Quarkus is to install the <a href=\"https://quarkus.io/guides/cli-tooling\" rel=\"nofollow noreferrer\">Quarkus CLI</a>.</p>\n<p>Then you can update your Quarkus application with <code>quarkus update</code>.</p>\n<p>You can find more details about <code>quarkus update</code> here: <a href=\"https://quarkus.io/guides/update-quarkus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/update-quarkus</a> .</p>\n<hr />\n<p><em>The following is still true but usability has been improved a lot since then. I kept the content below as it is informative.</em></p>\n<p>There is one important thing to know, we have:</p>\n<ul>\n<li>Quarkus Core: this is the main Quarkus artifacts + all the core extensions: the quarkus-bom is the one of Core. The Quarkus Maven plugin is part of it too.</li>\n<li>Quarkus Platform: it contains more extensions such as Camel Quarkus: the quarkus-universe-bom is the one from the Platform, it contains the Core + the additional extensions</li>\n</ul>\n<p>We usually release Quarkus core then Quarkus Platform with a few days between the two as we often need a release of Camel Quarkus, which is an Apache project and organizes a 72 hours vote for each release.</p>\n<p>In a newly created project, you have the following properties:</p>\n<pre><code>    &lt;quarkus-plugin.version&gt;1.1.1.Final&lt;/quarkus-plugin.version&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-universe-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;1.1.1.Final&lt;/quarkus.platform.version&gt;\n</code></pre>\n<ul>\n<li><code>quarkus-plugin.version</code> is the version of the Quarkus Maven plugin, it should be in line with the version of the core you use</li>\n<li><code>quarkus.platform.artifact-id</code> can right now either be <code>quarkus-universe-bom</code> for the whole Platform or just <code>quarkus-bom</code> for the Core only.</li>\n<li><code>quarkus.platform.version</code> is the version of the BOM.</li>\n</ul>\n<p>Usually all these versions should be aligned. But... it could happen that we would need some quick update in the Platform and not of the core and we could then only release a new version of the platform. This hasn't happened yet to be honest.</p>\n<p>Let's take an example of what happened today: I released Quarkus Core 1.2.0.Final but we are still waiting for Camel Quarkus to be released to release the Platform.</p>\n<p>If you want to update early, you can change the BOM to use the <code>quarkus-bom</code> and update everything to 1.2.0.Final.</p>\n<p>Or you can wait for the Platform to be released early next week and stay on the Platform <code>quarkus-universe-bom</code>.</p>\n<p>We also only update the website documentation and code.quarkus.io when the full Platform is released.</p>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595323478,"creation_date":1595323478,"answer_id":63011414,"question_id":59880235,"body_markdown":"It used to work to simply issue the command\r\n\r\n    mvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create\r\n\r\nin the base project directory for it to automatically update the Quarkus versions in the project `pom.xml` file, but since `1.6.0.Final` it errors:\r\n\r\n&gt; project XXXXX: Unable to generate the project in a directory that already contains a pom.xml -&gt; [Help 1]\r\n\r\nI will create an improvement suggestion ticket at Quarkus to restore this functionality, maybe with a dedicated maven goal (like `update`)","title":"How to update the quarkus version used","body":"<p>It used to work to simply issue the command</p>\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.4.2.Final:create\n</code></pre>\n<p>in the base project directory for it to automatically update the Quarkus versions in the project <code>pom.xml</code> file, but since <code>1.6.0.Final</code> it errors:</p>\n<blockquote>\n<p>project XXXXX: Unable to generate the project in a directory that already contains a pom.xml -&gt; [Help 1]</p>\n</blockquote>\n<p>I will create an improvement suggestion ticket at Quarkus to restore this functionality, maybe with a dedicated maven goal (like <code>update</code>)</p>\n"},{"tags":[],"owner":{"account_id":1175943,"reputation":1938,"user_id":1151983,"display_name":"Tim Br&#252;ckner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691479406,"creation_date":1691479406,"answer_id":76857281,"question_id":59880235,"body_markdown":"I know this answer might come in late, but there is a dedicated section to upgrading Quarkus in the docs now:\r\n\r\nhttps://quarkus.io/guides/update-quarkus\r\n\r\nMost importantly, you can use the Quarkus CLI tool, or a Maven plugin, to upgrade Quarkus now, which came in handy, when migrating from 2.x to 3.x.\r\n\r\n```shell\r\n# Quarkus CLI Tool\r\nquarkus update\r\n```\r\n\r\nor \r\n\r\n```shell\r\n# Quarkus Maven Plugin\r\n./mvnw io.quarkus.platform:quarkus-maven-plugin:3.2.3.Final:update -N\r\n```\r\n\r\nThe Quarkus team also provides a migration guide for each version, which you should check before executing the upgrade.","title":"How to update the quarkus version used","body":"<p>I know this answer might come in late, but there is a dedicated section to upgrading Quarkus in the docs now:</p>\n<p><a href=\"https://quarkus.io/guides/update-quarkus\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/update-quarkus</a></p>\n<p>Most importantly, you can use the Quarkus CLI tool, or a Maven plugin, to upgrade Quarkus now, which came in handy, when migrating from 2.x to 3.x.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Quarkus CLI Tool\nquarkus update\n</code></pre>\n<p>or</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Quarkus Maven Plugin\n./mvnw io.quarkus.platform:quarkus-maven-plugin:3.2.3.Final:update -N\n</code></pre>\n<p>The Quarkus team also provides a migration guide for each version, which you should check before executing the upgrade.</p>\n"}],"owner":{"account_id":277236,"reputation":2669,"user_id":571113,"accept_rate":77,"display_name":"bobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6246,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59881264,"answer_count":3,"score":2,"last_activity_date":1692908155,"creation_date":1579787655,"question_id":59880235,"body_markdown":"What is the recommended way of upgrading the quarkus version used in an existing application?\r\n\r\nI have taken a look at my pom.xml, since the quarkus extensions dont specify the version used, I assume that they will get updated based on the main quarkus version.\r\nThe properties which look to be relevant in the update are quarkus-plugin.version, quarkus.platform.group-id and surefire-plugin.version.\r\nHow can I decide which ones to change, and is there anything else to be aware of?","title":"How to update the quarkus version used","body":"<p>What is the recommended way of upgrading the quarkus version used in an existing application?</p>\n\n<p>I have taken a look at my pom.xml, since the quarkus extensions dont specify the version used, I assume that they will get updated based on the main quarkus version.\nThe properties which look to be relevant in the update are quarkus-plugin.version, quarkus.platform.group-id and surefire-plugin.version.\nHow can I decide which ones to change, and is there anything else to be aware of?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1608034644,"post_id":65302232,"comment_id":115453158,"body_markdown":"could you be more specific?","body":"could you be more specific?"}],"answers":[{"comments":[{"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"score":0,"creation_date":1608123777,"post_id":65306707,"comment_id":115485732,"body_markdown":"Thank you for answer","body":"Thank you for answer"},{"owner":{"account_id":3151642,"reputation":1048,"user_id":3485933,"display_name":"DV Singh"},"score":0,"creation_date":1671193811,"post_id":65306707,"comment_id":132051790,"body_markdown":"@guillaume-smet is there any after startup event? I&#39;m calling another API to get some info, I would like to do it after startup not increasing startup time.","body":"@guillaume-smet is there any after startup event? I&#39;m calling another API to get some info, I would like to do it after startup not increasing startup time."}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1650650732,"creation_date":1608038404,"answer_id":65306707,"question_id":65302232,"body_markdown":"Not sure to understand your question but if you want to execute code at startup, the easiest way is to observe (using `@Observes`) the `StartupEvent` with a CDI bean:\r\n\r\n```java\r\n@ApplicationScoped\r\npublic class AppLifecycleBean {\r\n\r\n    private static final Logger LOGGER = Logger.getLogger(&quot;ListenerBean&quot;);\r\n\r\n    void onStart(@Observes StartupEvent ev) {               \r\n        LOGGER.info(&quot;The application is starting...&quot;);\r\n    }\r\n\r\n    void onStop(@Observes ShutdownEvent ev) {               \r\n        LOGGER.info(&quot;The application is stopping...&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can find more details in our documentation if you need a better understanding of the Quarkus application lifecycle:\r\nhttps://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>Not sure to understand your question but if you want to execute code at startup, the easiest way is to observe (using <code>@Observes</code>) the <code>StartupEvent</code> with a CDI bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class AppLifecycleBean {\n\n    private static final Logger LOGGER = Logger.getLogger(&quot;ListenerBean&quot;);\n\n    void onStart(@Observes StartupEvent ev) {               \n        LOGGER.info(&quot;The application is starting...&quot;);\n    }\n\n    void onStop(@Observes ShutdownEvent ev) {               \n        LOGGER.info(&quot;The application is stopping...&quot;);\n    }\n\n}\n</code></pre>\n<p>You can find more details in our documentation if you need a better understanding of the Quarkus application lifecycle:\n<a href=\"https://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events\" rel=\"noreferrer\">https://quarkus.io/guides/lifecycle#listening-for-startup-and-shutdown-events</a></p>\n"},{"tags":[],"owner":{"account_id":3645671,"reputation":1586,"user_id":3038736,"display_name":"sagneta"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653395418,"creation_date":1653395418,"answer_id":72362921,"question_id":65302232,"body_markdown":"There is an @Startup annotation for Quarkus that will instantiate a service upon startup. It simply automates the listening of the StartupEvent:\r\n\r\n*For each bean annotated with @Startup a synthetic observer of StartupEvent is generated. The default priority is used.*\r\n\r\nWorks well. \r\n\r\n[Quarkus @Startup annotation][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/lifecycle#startup_annotation","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>There is an @Startup annotation for Quarkus that will instantiate a service upon startup. It simply automates the listening of the StartupEvent:</p>\n<p><em>For each bean annotated with @Startup a synthetic observer of StartupEvent is generated. The default priority is used.</em></p>\n<p>Works well.</p>\n<p><a href=\"https://quarkus.io/guides/lifecycle#startup_annotation\" rel=\"nofollow noreferrer\">Quarkus @Startup annotation</a></p>\n"}],"owner":{"account_id":17351533,"reputation":155,"user_id":12579510,"display_name":"mamadaliev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8460,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65306707,"answer_count":2,"score":2,"last_activity_date":1692907935,"creation_date":1608020209,"question_id":65302232,"body_markdown":"Please help me understand that how to execute part of the code on Quarkus when starting the application?\r\nIf possible, discard the link or give an example code. \r\nThanks.","title":"How to execute part of the code on Quarkus when starting the application?","body":"<p>Please help me understand that how to execute part of the code on Quarkus when starting the application?\nIf possible, discard the link or give an example code.\nThanks.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692907860,"creation_date":1574264188,"answer_id":58958093,"question_id":58956433,"body_markdown":"We have a `quarkus-cache` extension in Quarkus which allows to cache methods with a simple `@CacheResult` annotation.\r\n\r\nThere are several other annotations allowing to fine tune the behavior and everything is described in our Quarkus documentation: https://quarkus.io/guides/cache .\r\n\r\nThis extension is backed by Caffeine but you can also use Redis with the `quarkus-redis-cache` extension, which is described at length in https://quarkus.io/guides/cache-redis-reference .","title":"Caching service calls in Quarkus","body":"<p>We have a <code>quarkus-cache</code> extension in Quarkus which allows to cache methods with a simple <code>@CacheResult</code> annotation.</p>\n<p>There are several other annotations allowing to fine tune the behavior and everything is described in our Quarkus documentation: <a href=\"https://quarkus.io/guides/cache\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cache</a> .</p>\n<p>This extension is backed by Caffeine but you can also use Redis with the <code>quarkus-redis-cache</code> extension, which is described at length in <a href=\"https://quarkus.io/guides/cache-redis-reference\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cache-redis-reference</a> .</p>\n"}],"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692907882,"creation_date":1574259326,"question_id":58956433,"body_markdown":"Does Quarkus have something like `org.springframework.cache.annotation.@Cacheable` out of the box ? (could not find any mentioning of that in the doc)\r\n\r\nto be put on some service method,\r\n\r\nthat would keep / cache prev response for some period of time and preserve the call stack / logs. \r\n\r\nSimilar to to that Spring `@Cacheable` annotation?\r\n","title":"Caching service calls in Quarkus","body":"<p>Does Quarkus have something like <code>org.springframework.cache.annotation.@Cacheable</code> out of the box ? (could not find any mentioning of that in the doc)</p>\n\n<p>to be put on some service method,</p>\n\n<p>that would keep / cache prev response for some period of time and preserve the call stack / logs. </p>\n\n<p>Similar to to that Spring <code>@Cacheable</code> annotation?</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1692907947,"post_id":76972635,"comment_id":135692078,"body_markdown":"Depends on how the `Single` &quot;creates&quot; the data. Cold sources will only emit if they have an observer. Hot Singles (in your area) will remember the item they receive and will replay it to future observers.","body":"Depends on how the <code>Single</code> &quot;creates&quot; the data. Cold sources will only emit if they have an observer. Hot Singles (in your area) will remember the item they receive and will replay it to future observers."},{"owner":{"account_id":21086486,"reputation":11,"user_id":15499483,"display_name":"AdamK"},"score":0,"creation_date":1692908163,"post_id":76972635,"comment_id":135692111,"body_markdown":"So how can I make sure that I have a Hot Single :) ? In my implementation the Single would be emitting a simple boolean value after certain async operations are finished in one class, then the other class would react to that accordingly.","body":"So how can I make sure that I have a Hot Single :) ? In my implementation the Single would be emitting a simple boolean value after certain async operations are finished in one class, then the other class would react to that accordingly."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692908527,"post_id":76972635,"comment_id":135692173,"body_markdown":"For a hot source, you will need to subscribe before the value is emitted. Simple. Alternatively you can buffer the emitted element since there’s only going to be one. [What are the Hot and Cold observables?](https://stackoverflow.com/questions/2521277/what-are-the-hot-and-cold-observables)","body":"For a hot source, you will need to subscribe before the value is emitted. Simple. Alternatively you can buffer the emitted element since there’s only going to be one. <a href=\"https://stackoverflow.com/questions/2521277/what-are-the-hot-and-cold-observables\">What are the Hot and Cold observables?</a>"}],"owner":{"account_id":21086486,"reputation":11,"user_id":15499483,"display_name":"AdamK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692908897,"answer_count":0,"score":0,"last_activity_date":1692907791,"creation_date":1692907791,"question_id":76972635,"body_markdown":"I want to solve a data race issue in my program.\r\nI thought about using RXJava&#39;s Single but due to the way the program runs, it&#39;s uncertain whether the receiver will be able to subscribe to the Single before it emits data.\r\n\r\nI was unable to find information if the Single observable implements something like a retro-emit(?) - I don&#39;t know how to call that. \r\nThanks in advance.","title":"What happens when a subscription to RXJava&#39;s Single happens after the object has already emitted data?","body":"<p>I want to solve a data race issue in my program.\nI thought about using RXJava's Single but due to the way the program runs, it's uncertain whether the receiver will be able to subscribe to the Single before it emits data.</p>\n<p>I was unable to find information if the Single observable implements something like a retro-emit(?) - I don't know how to call that.\nThanks in advance.</p>\n"},{"tags":["java","clojure","classpath"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1409295664,"creation_date":1225442972,"answer_id":252903,"question_id":252893,"body_markdown":"I don&#39;t believe you can - the right thing to do (I believe) is create a new classloader with the new path. Alternatively, you could write your own classloader which allows you to change the classpath (for that loader) dynamically.\r\n","title":"How do you change the CLASSPATH within Java?","body":"<p>I don't believe you can - the right thing to do (I believe) is create a new classloader with the new path. Alternatively, you could write your own classloader which allows you to change the classpath (for that loader) dynamically.</p>\n"},{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1225445798,"creation_date":1225445798,"answer_id":252964,"question_id":252893,"body_markdown":"You may want to look into using [java.net.URLClassLoader][1]. It allows you to programmatically load classes that weren&#39;t originally in your classpath, though I&#39;m not sure if that&#39;s exactly what you need.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/net/URLClassLoader.html","title":"How do you change the CLASSPATH within Java?","body":"<p>You may want to look into using <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">java.net.URLClassLoader</a>. It allows you to programmatically load classes that weren't originally in your classpath, though I'm not sure if that's exactly what you need.</p>\n"},{"comments":[{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":4,"creation_date":1249120821,"post_id":252967,"comment_id":1040573,"body_markdown":"The &quot;more complete&quot; solution does not work for me using Java 1.6.0_13 (64-bit) on Linux. The addURL method, on the other hand, works as expected.","body":"The &quot;more complete&quot; solution does not work for me using Java 1.6.0_13 (64-bit) on Linux. The addURL method, on the other hand, works as expected."},{"owner":{"account_id":517408,"reputation":195,"user_id":3181413,"display_name":"dmarrazzo"},"score":0,"creation_date":1421939073,"post_id":252967,"comment_id":44560288,"body_markdown":"This works to add jar. But is there a solution to remove a jar? For example, I need to update a jar with a new release.","body":"This works to add jar. But is there a solution to remove a jar? For example, I need to update a jar with a new release."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1421939880,"post_id":252967,"comment_id":44560842,"body_markdown":"@dmarrazzo 6+ years later, I don&#39;t know. Try asking a separate question.","body":"@dmarrazzo 6+ years later, I don&#39;t know. Try asking a separate question."},{"owner":{"account_id":4242095,"reputation":910,"user_id":3471694,"display_name":"Bui Anh Tuan"},"score":0,"creation_date":1498179090,"post_id":252967,"comment_id":76405617,"body_markdown":"I meet this solution in other thread but with your explaintion, I know clearly to use it. 1+","body":"I meet this solution in other thread but with your explaintion, I know clearly to use it. 1+"},{"owner":{"account_id":2238968,"reputation":689,"user_id":1974520,"accept_rate":56,"display_name":"vda8888"},"score":0,"creation_date":1512525683,"post_id":252967,"comment_id":82290481,"body_markdown":"The second solution (assume JVMs system classloader is a URLClassLoader) stops working in JRE 9. System class loader is no longer a URL class loader.","body":"The second solution (assume JVMs system classloader is a URLClassLoader) stops working in JRE 9. System class loader is no longer a URL class loader."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1512545618,"post_id":252967,"comment_id":82296865,"body_markdown":"@vda8888 Thank you. I have included your comment in the answer for more visibility. As well as some references.","body":"@vda8888 Thank you. I have included your comment in the answer for more visibility. As well as some references."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692907484,"post_id":252967,"comment_id":135692001,"body_markdown":"The only way to add jar files to the class path working in Java&#160;9 and newer, is [through the Instrumentation API](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)) but it requires a Java Agent. If you are in control of the launcher/main jar, you can use [the `Launcher-Agent-Class` attribute in the jar file’s manifest](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading) to start an embedded Agent.","body":"The only way to add jar files to the class path working in Java 9 and newer, is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)\" rel=\"nofollow noreferrer\">through the Instrumentation API</a> but it requires a Java Agent. If you are in control of the launcher/main jar, you can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading\" rel=\"nofollow noreferrer\">the <code>Launcher-Agent-Class</code> attribute in the jar file’s manifest</a> to start an embedded Agent."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1692907691,"post_id":252967,"comment_id":135692041,"body_markdown":"@Holger Thank you so much for that feedback. I have included your comment in the answer for more visibility.","body":"@Holger Thank you so much for that feedback. I have included your comment in the answer for more visibility."},{"owner":{"account_id":1620076,"reputation":135,"user_id":1496859,"display_name":"wolfman"},"score":0,"creation_date":1693527783,"post_id":252967,"comment_id":135776696,"body_markdown":"@Holger I came across your suggestion of using Instrumentation API.  But that API only seems to have methods to *append* jars to the search path.  I want my app&#39;s main.jar Main class to load a newer version of an app.jar if it exists in the user&#39;s directory.  Since both main.jar and the original app.jar are in the system class loader&#39;s class path, the updated app.jar would need to be prepended to the class path, not appended, for the newer classes to be loaded.  Is this  possible with the Instrumentation API - or any API for that matter?","body":"@Holger I came across your suggestion of using Instrumentation API.  But that API only seems to have methods to <i>append</i> jars to the search path.  I want my app&#39;s main.jar Main class to load a newer version of an app.jar if it exists in the user&#39;s directory.  Since both main.jar and the original app.jar are in the system class loader&#39;s class path, the updated app.jar would need to be prepended to the class path, not appended, for the newer classes to be loaded.  Is this  possible with the Instrumentation API - or any API for that matter?"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1693547986,"post_id":252967,"comment_id":135778100,"body_markdown":"@wolfman Maybe a custom `ClassLoader` that you create would work: it would first search the updated JAR before delegating to the parent class loader. Or a custom child `ClassLoader` that has no parent (or a different parent without the conflicting JAR) to load the updated JAR. Other approach: rename the package of the updated classes, so they don&#39;t clash with the existing ones. You could then use some runtime logic to determine which version to use (class shadowing).","body":"@wolfman Maybe a custom <code>ClassLoader</code> that you create would work: it would first search the updated JAR before delegating to the parent class loader. Or a custom child <code>ClassLoader</code> that has no parent (or a different parent without the conflicting JAR) to load the updated JAR. Other approach: rename the package of the updated classes, so they don&#39;t clash with the existing ones. You could then use some runtime logic to determine which version to use (class shadowing)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693552009,"post_id":252967,"comment_id":135778753,"body_markdown":"@wolfman there’s no support for that. On the other hand, you can simply start the application with the right class path in the first place, always having “user&#39;s directory”/app.jar at the beginning. If the file doesn’t exist, it has no effect.","body":"@wolfman there’s no support for that. On the other hand, you can simply start the application with the right class path in the first place, always having “user&#39;s directory”/app.jar at the beginning. If the file doesn’t exist, it has no effect."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":11,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1692907661,"creation_date":1225445854,"answer_id":252967,"question_id":252893,"body_markdown":"Update 2023: as [commented](https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java#comment135692001_252967) below by [Holger](https://stackoverflow.com/users/2711488/holger)\r\n\r\n&gt; The only way to add jar files to the class path working in Java 9 and newer, is through the [Instrumentation API](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)), but it requires a Java Agent. \r\n&gt;\r\n&gt; If you are in control of the launcher/main jar, you can use the [`Launcher-Agent-Class` attribute in the jar file’s manifest](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading) to start an embedded Agent.\r\n\r\n----\r\n\r\nUpdate Q4 2017: as [commented][1] below by [vda8888][2], in Java 9, the System [`java.lang.ClassLoader`][3] is no longer a [`java.net.URLClassLoader`][4].\r\n\r\nSee &quot;[Java 9 Migration Guide: The Seven Most Common Challenges][5]&quot;\r\n\r\n&gt; The class loading strategy that I just described is implemented in a new type and in Java 9 the application class loader is of that type.  \r\nThat means it is not a `URLClassLoader` anymore, so the occasional `(URLClassLoader) getClass().getClassLoader()` or `(URLClassLoader) ClassLoader.getSystemClassLoader()` sequences will no longer execute.\r\n\r\n[java.lang.ModuleLayer][6] would be an alternative approach used in order to influence the *modulepath* (instead of the classpath). See for instance &quot;[Java 9 modules - JPMS basics][7]&quot;.\r\n\r\n-----\r\n\r\nFor Java 8 or below:\r\n\r\nSome general comments:\r\n\r\nyou cannot (in a portable way that&#39;s guaranteed to work, see below) change the system classpath. Instead, you need to define a new ClassLoader.\r\n\r\nClassLoaders work in a hierarchical manner... so any class that makes a static reference to class X needs to be loaded in the same ClassLoader as X, or in a child ClassLoader. You can NOT use any custom ClassLoader to make code loaded by the system ClassLoader link properly, if it wouldn&#39;t have done so before. So you need to arrange for your main application code to be run in the custom ClassLoader in addition to the extra code that you locate.  \r\n(That being said, [cracked-all][8] mentions in the comments this example of [extending the  `URLClassLoader`][9])\r\n\r\nAnd you might consider not writing your own ClassLoader, but just use URLClassLoader instead. Create a URLClassLoader with a url that are *not* in the parent classloaders url&#39;s.\r\n\r\n    URL[] url={new URL(&quot;file://foo&quot;)};\r\n    URLClassLoader loader = new URLClassLoader(url);\r\n\r\nA [more complete solution][10] would  be:\r\n\r\n    ClassLoader currentThreadClassLoader\r\n     = Thread.currentThread().getContextClassLoader();\r\n    \r\n    // Add the conf dir to the classpath\r\n    // Chain the current thread classloader\r\n    URLClassLoader urlClassLoader\r\n     = new URLClassLoader(new URL[]{new File(&quot;mtFile&quot;).toURL()},\r\n                          currentThreadClassLoader);\r\n    \r\n    // Replace the thread classloader - assumes\r\n    // you have permissions to do so\r\n    Thread.currentThread().setContextClassLoader(urlClassLoader);\r\n\r\nIf you assume the JVMs system classloader is a URLClassLoader (which may not be true for all JVMs), you can use reflection as well to actually modify the system classpath... (but that&#39;s a hack;)):\r\n\r\n    public void addURL(URL url) throws Exception {\r\n      URLClassLoader classLoader\r\n             = (URLClassLoader) ClassLoader.getSystemClassLoader();\r\n      Class clazz= URLClassLoader.class;\r\n    \r\n      // Use reflection\r\n      Method method= clazz.getDeclaredMethod(&quot;addURL&quot;, new Class[] { URL.class });\r\n      method.setAccessible(true);\r\n      method.invoke(classLoader, new Object[] { url });\r\n    }\r\n    \r\n    addURL(new File(&quot;conf&quot;).toURL());\r\n    \r\n    // This should work now!\r\n    Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;context.xml&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java/252967#comment82290481_252967\r\n  [2]: https://stackoverflow.com/users/1974520/vda8888\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html\r\n  [5]: https://blog.codefx.org/java/java-9-migration-guide/\r\n  [6]: https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.html\r\n  [7]: http://blog.joda.org/2017/04/java-9-modules-jpms-basics.html\r\n  [8]: https://stackoverflow.com/users/188524/cracked-all\r\n  [9]: http://snippets.dzone.com/posts/show/3574\r\n  [10]: http://robertmaldon.blogspot.com/2007/11/dynamically-add-to-eclipse-junit.html","title":"How do you change the CLASSPATH within Java?","body":"<p>Update 2023: as <a href=\"https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java#comment135692001_252967\">commented</a> below by <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a></p>\n<blockquote>\n<p>The only way to add jar files to the class path working in Java 9 and newer, is through the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)\" rel=\"nofollow noreferrer\">Instrumentation API</a>, but it requires a Java Agent.</p>\n<p>If you are in control of the launcher/main jar, you can use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html#manifest-attributes-heading\" rel=\"nofollow noreferrer\"><code>Launcher-Agent-Class</code> attribute in the jar file’s manifest</a> to start an embedded Agent.</p>\n</blockquote>\n<hr />\n<p>Update Q4 2017: as <a href=\"https://stackoverflow.com/questions/252893/how-do-you-change-the-classpath-within-java/252967#comment82290481_252967\">commented</a> below by <a href=\"https://stackoverflow.com/users/1974520/vda8888\">vda8888</a>, in Java 9, the System <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\"><code>java.lang.ClassLoader</code></a> is no longer a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\"><code>java.net.URLClassLoader</code></a>.</p>\n<p>See &quot;<a href=\"https://blog.codefx.org/java/java-9-migration-guide/\" rel=\"nofollow noreferrer\">Java 9 Migration Guide: The Seven Most Common Challenges</a>&quot;</p>\n<blockquote>\n<p>The class loading strategy that I just described is implemented in a new type and in Java 9 the application class loader is of that type.<br />\nThat means it is not a <code>URLClassLoader</code> anymore, so the occasional <code>(URLClassLoader) getClass().getClassLoader()</code> or <code>(URLClassLoader) ClassLoader.getSystemClassLoader()</code> sequences will no longer execute.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ModuleLayer.html\" rel=\"nofollow noreferrer\">java.lang.ModuleLayer</a> would be an alternative approach used in order to influence the <em>modulepath</em> (instead of the classpath). See for instance &quot;<a href=\"http://blog.joda.org/2017/04/java-9-modules-jpms-basics.html\" rel=\"nofollow noreferrer\">Java 9 modules - JPMS basics</a>&quot;.</p>\n<hr />\n<p>For Java 8 or below:</p>\n<p>Some general comments:</p>\n<p>you cannot (in a portable way that's guaranteed to work, see below) change the system classpath. Instead, you need to define a new ClassLoader.</p>\n<p>ClassLoaders work in a hierarchical manner... so any class that makes a static reference to class X needs to be loaded in the same ClassLoader as X, or in a child ClassLoader. You can NOT use any custom ClassLoader to make code loaded by the system ClassLoader link properly, if it wouldn't have done so before. So you need to arrange for your main application code to be run in the custom ClassLoader in addition to the extra code that you locate.<br />\n(That being said, <a href=\"https://stackoverflow.com/users/188524/cracked-all\">cracked-all</a> mentions in the comments this example of <a href=\"http://snippets.dzone.com/posts/show/3574\" rel=\"nofollow noreferrer\">extending the  <code>URLClassLoader</code></a>)</p>\n<p>And you might consider not writing your own ClassLoader, but just use URLClassLoader instead. Create a URLClassLoader with a url that are <em>not</em> in the parent classloaders url's.</p>\n<pre><code>URL[] url={new URL(&quot;file://foo&quot;)};\nURLClassLoader loader = new URLClassLoader(url);\n</code></pre>\n<p>A <a href=\"http://robertmaldon.blogspot.com/2007/11/dynamically-add-to-eclipse-junit.html\" rel=\"nofollow noreferrer\">more complete solution</a> would  be:</p>\n<pre><code>ClassLoader currentThreadClassLoader\n = Thread.currentThread().getContextClassLoader();\n\n// Add the conf dir to the classpath\n// Chain the current thread classloader\nURLClassLoader urlClassLoader\n = new URLClassLoader(new URL[]{new File(&quot;mtFile&quot;).toURL()},\n                      currentThreadClassLoader);\n\n// Replace the thread classloader - assumes\n// you have permissions to do so\nThread.currentThread().setContextClassLoader(urlClassLoader);\n</code></pre>\n<p>If you assume the JVMs system classloader is a URLClassLoader (which may not be true for all JVMs), you can use reflection as well to actually modify the system classpath... (but that's a hack;)):</p>\n<pre><code>public void addURL(URL url) throws Exception {\n  URLClassLoader classLoader\n         = (URLClassLoader) ClassLoader.getSystemClassLoader();\n  Class clazz= URLClassLoader.class;\n\n  // Use reflection\n  Method method= clazz.getDeclaredMethod(&quot;addURL&quot;, new Class[] { URL.class });\n  method.setAccessible(true);\n  method.invoke(classLoader, new Object[] { url });\n}\n\naddURL(new File(&quot;conf&quot;).toURL());\n\n// This should work now!\nThread.currentThread().getContextClassLoader().getResourceAsStream(&quot;context.xml&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4309,"reputation":7967,"user_id":6414,"accept_rate":57,"display_name":"Henry B"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1225448617,"creation_date":1225448617,"answer_id":253059,"question_id":252893,"body_markdown":"It is possible as seen from the two links below, the method VonC gives seems to be the best but check out some of these posts and google for &quot;Java Dynamic Classpath&quot; or &quot;Java Dynamic Class Loading&quot; and find out some info from there.\r\n\r\nI&#39;d post in more depth but VonC has pretty much done the job.\r\n\r\nFrom &lt;a href=&quot;http://twit88.com/blog/2007/10/04/java-dynamic-loading-of-class-and-jar-file/&quot;&gt;Dynamic loading of class and Jar files&lt;/a&gt;.\r\n\r\nAlso check this &lt;a href=&quot;http://forums.sun.com/thread.jspa?threadID=300557&quot;&gt;sun forum post&lt;/a&gt;.\r\n\r\n","title":"How do you change the CLASSPATH within Java?","body":"<p>It is possible as seen from the two links below, the method VonC gives seems to be the best but check out some of these posts and google for \"Java Dynamic Classpath\" or \"Java Dynamic Class Loading\" and find out some info from there.</p>\n\n<p>I'd post in more depth but VonC has pretty much done the job.</p>\n\n<p>From <a href=\"http://twit88.com/blog/2007/10/04/java-dynamic-loading-of-class-and-jar-file/\" rel=\"nofollow noreferrer\">Dynamic loading of class and Jar files</a>.</p>\n\n<p>Also check this <a href=\"http://forums.sun.com/thread.jspa?threadID=300557\" rel=\"nofollow noreferrer\">sun forum post</a>.</p>\n"},{"tags":[],"owner":{"account_id":85867,"reputation":971,"user_id":239140,"accept_rate":100,"display_name":"myfreeweb"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343897346,"creation_date":1311163067,"answer_id":6761503,"question_id":252893,"body_markdown":"There&#39;s no need to write your own class loader! There&#39;s [clojure.lang.DynamicClassLoader][1].\r\n\r\nhttp://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/\r\n\r\n\r\n  [1]: http://code.google.com/p/clojure/source/browse/trunk/src/jvm/clojure/lang/DynamicClassLoader.java","title":"How do you change the CLASSPATH within Java?","body":"<p>There's no need to write your own class loader! There's <a href=\"http://code.google.com/p/clojure/source/browse/trunk/src/jvm/clojure/lang/DynamicClassLoader.java\" rel=\"nofollow\">clojure.lang.DynamicClassLoader</a>.</p>\n\n<p><a href=\"http://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/\" rel=\"nofollow\">http://blog.japila.pl/2011/01/dynamically-redefining-classpath-in-clojure-repl/</a></p>\n"},{"comments":[{"owner":{"account_id":31708,"reputation":13631,"user_id":87298,"accept_rate":67,"display_name":"Edward Anderson"},"score":1,"creation_date":1401309663,"post_id":19293096,"comment_id":36839930,"body_markdown":"The classpath is only changed for the child java process, not the environment that your code runs in. This is somewhat creative but unuseful for most.","body":"The classpath is only changed for the child java process, not the environment that your code runs in. This is somewhat creative but unuseful for most."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1452904466,"post_id":19293096,"comment_id":57386779,"body_markdown":"It is an example of starting a new Java process with a new classpath. Not an example of changing anything.","body":"It is an example of starting a new Java process with a new classpath. Not an example of changing anything."}],"tags":[],"owner":{"account_id":3376874,"reputation":33,"user_id":2834852,"display_name":"Akhi Youngisthan"},"comment_count":2,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1381400951,"creation_date":1381400220,"answer_id":19293096,"question_id":252893,"body_markdown":"    String s=&quot;java  -classpath abcd/ &quot;+pgmname+&quot; &quot;+filename;   \r\n    Process pro2 = Runtime.getRuntime().exec(s); \r\n    BufferedReader in = new BufferedReader(new InputStreamReader(pro2.getInputStream()));\r\n\r\nis an example of changin the classpath in java program\r\n","title":"How do you change the CLASSPATH within Java?","body":"<pre><code>String s=\"java  -classpath abcd/ \"+pgmname+\" \"+filename;   \nProcess pro2 = Runtime.getRuntime().exec(s); \nBufferedReader in = new BufferedReader(new InputStreamReader(pro2.getInputStream()));\n</code></pre>\n\n<p>is an example of changin the classpath in java program</p>\n"}],"owner":{"account_id":4105,"reputation":281434,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78501,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":252967,"answer_count":6,"score":64,"last_activity_date":1692907661,"creation_date":1225442673,"question_id":252893,"body_markdown":"How do you change the CLASSPATH of a Java process from within the Java process?\r\n\r\n----------\r\n\r\nBefore you ask me &quot;Why would you want to do that?&quot; I&#39;ll explain it shortly. \r\n\r\n&gt; When you have a Clojure REPL running it is common to need more jars in your CLASSPATH to load a [Clojure][1] source file, and I&#39;d like to do it without having to restart Clojure itself (which is not really an option when using it on Slime on Emacs).\r\n\r\nThat&#39;s the reason but I don&#39;t want this question tagged as some-weird-language some-weird-editor and be disregarded by the majority of Java developers that may have the answer.\r\n\r\n\r\n  [1]: http://clojure.org","title":"How do you change the CLASSPATH within Java?","body":"<p>How do you change the CLASSPATH of a Java process from within the Java process?</p>\n\n<hr>\n\n<p>Before you ask me \"Why would you want to do that?\" I'll explain it shortly. </p>\n\n<blockquote>\n  <p>When you have a Clojure REPL running it is common to need more jars in your CLASSPATH to load a <a href=\"http://clojure.org\" rel=\"noreferrer\">Clojure</a> source file, and I'd like to do it without having to restart Clojure itself (which is not really an option when using it on Slime on Emacs).</p>\n</blockquote>\n\n<p>That's the reason but I don't want this question tagged as some-weird-language some-weird-editor and be disregarded by the majority of Java developers that may have the answer.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":6,"creation_date":1391203270,"post_id":21490246,"comment_id":32438753,"body_markdown":"One screw ball way to do this would be just to set a global flag when its been called once and check for it again.","body":"One screw ball way to do this would be just to set a global flag when its been called once and check for it again."},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":0,"creation_date":1391204207,"post_id":21490246,"comment_id":32439269,"body_markdown":"@noMAD Sounds more like you would need a counter to increment at the beginning of the method, and decrement when it returns. You haven&#39;t been called recursively if the counter is 1 (just yourself). NVM, didn&#39;t fully read the spec, actually wants to error on recursion, just thought maybe he wants to branch on that condition","body":"@noMAD Sounds more like you would need a counter to increment at the beginning of the method, and decrement when it returns. You haven&#39;t been called recursively if the counter is 1 (just yourself). NVM, didn&#39;t fully read the spec, actually wants to error on recursion, just thought maybe he wants to branch on that condition"}],"answers":[{"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":1,"creation_date":1391205294,"post_id":21490306,"comment_id":32439789,"body_markdown":"As long as there&#39;s only one thread in the program.  This will break down if `myMethod()` could be called simultaneously from multiple threads.","body":"As long as there&#39;s only one thread in the program.  This will break down if <code>myMethod()</code> could be called simultaneously from multiple threads."},{"owner":{"account_id":1214622,"reputation":3167,"user_id":1182474,"accept_rate":71,"display_name":"David L."},"score":1,"creation_date":1586936095,"post_id":21490306,"comment_id":108308415,"body_markdown":"@ajb instead of ```boolean``` you would use ```ThreadLocal&lt;Boolean&gt;```. The advantage of this approach is a constant time of the check while what the accepted answer iterates the stack, possibly significantly increasing the execution time.","body":"@ajb instead of <code>boolean</code> you would use <code>ThreadLocal&lt;Boolean&gt;</code>. The advantage of this approach is a constant time of the check while what the accepted answer iterates the stack, possibly significantly increasing the execution time."}],"tags":[],"owner":{"account_id":260566,"reputation":39108,"user_id":544198,"accept_rate":89,"display_name":"PearsonArtPhoto"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391204135,"creation_date":1391203355,"answer_id":21490306,"question_id":21490246,"body_markdown":"It&#39;s easier if you try to detect it only on the second round. Something like this should work.\r\n\r\n\r\n    boolean isRunning;\r\n    \r\n    public void myMethod() {\r\n        if (isRunning) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n        }\r\n        isRunning=true;\r\n        handler();\r\n        isRunning=false;\r\n    }","title":"How to detect recursion in Java methods","body":"<p>It's easier if you try to detect it only on the second round. Something like this should work.</p>\n\n<pre><code>boolean isRunning;\n\npublic void myMethod() {\n    if (isRunning) {\n        throw new RuntimeException(\"do not call me\");\n    }\n    isRunning=true;\n    handler();\n    isRunning=false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138604,"reputation":30992,"user_id":1123123,"accept_rate":75,"display_name":"Sam I am says Reinstate Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391203372,"creation_date":1391203372,"answer_id":21490316,"question_id":21490246,"body_markdown":"IF your program is all synchronous, you can set a flag\r\n\r\n    bool calling = false;\r\n    public void myMethod() {\r\n         \r\n         if( calling ) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n         } \r\n         calling = true;\r\n    \r\n    ...\r\n    \r\n        calling = false\r\n    }","title":"How to detect recursion in Java methods","body":"<p>IF your program is all synchronous, you can set a flag</p>\n\n<pre><code>bool calling = false;\npublic void myMethod() {\n\n     if( calling ) {\n        throw new RuntimeException(\"do not call me\");\n     } \n     calling = true;\n\n...\n\n    calling = false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2758406,"reputation":882,"user_id":2375834,"accept_rate":100,"display_name":"useSticks"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1391203784,"creation_date":1391203429,"answer_id":21490335,"question_id":21490246,"body_markdown":"If you want to look at the current stack trace and check for yourself:\r\n\r\n    StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n\r\n    for(int i=0; i &lt; trace.length; i++) {\r\n        //look for yourself and exit\r\n    }","title":"How to detect recursion in Java methods","body":"<p>If you want to look at the current stack trace and check for yourself:</p>\n\n<pre><code>StackTraceElement[] trace = Thread.currentThread().getStackTrace();\n\nfor(int i=0; i &lt; trace.length; i++) {\n    //look for yourself and exit\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1391212726,"creation_date":1391212726,"answer_id":21492314,"question_id":21490246,"body_markdown":"I got it right with useSticks&#39; answer like that:\r\n\r\n    public void myMethod() {\r\n\t\tfinal StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n\r\n\t\tfor(int i=0; i &lt; trace.length-1; i++) {\r\n\t\t\tif( trace[i].equals(trace[trace.length-1]) ) {\r\n\t\t\t\tthrow new RuntimeException(&quot;do not call me again&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\thandle();\r\n    }\r\n\r\nthanks to all of you\r\n\r\n","title":"How to detect recursion in Java methods","body":"<p>I got it right with useSticks' answer like that:</p>\n\n<pre><code>public void myMethod() {\n    final StackTraceElement[] trace = Thread.currentThread().getStackTrace();\n\n    for(int i=0; i &lt; trace.length-1; i++) {\n        if( trace[i].equals(trace[trace.length-1]) ) {\n            throw new RuntimeException(\"do not call me again\");\n        }\n    }\n\n    handle();\n}\n</code></pre>\n\n<p>thanks to all of you</p>\n"}],"owner":{"account_id":2761390,"reputation":1159,"user_id":2378225,"accept_rate":62,"display_name":"Steve Oh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1978,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21490335,"answer_count":4,"score":1,"last_activity_date":1692907538,"creation_date":1391203154,"question_id":21490246,"body_markdown":"How can I check from inside a method body if a method that I call calls my method back?\r\n\r\n\r\n    // the method that I control\r\n    public void myMethod() {\r\n         if( stackContainsMyMethod() ) {\r\n            throw new RuntimeException(&quot;do not call me&quot;);\r\n         } \r\n         ...\r\n         handler();\r\n    }\r\n\r\n    // someone else implements this\r\n    protected abstract void handler();\r\n\r\n\r\nThe handler must not call __myMethod()__. I want to enforce this at runtime.\r\n\r\nCan anyone help with a simple approach?\r\n\r\n\r\n\r\n\r\n","title":"How to detect recursion in Java methods","body":"<p>How can I check from inside a method body if a method that I call calls my method back?</p>\n<pre><code>// the method that I control\npublic void myMethod() {\n     if( stackContainsMyMethod() ) {\n        throw new RuntimeException(&quot;do not call me&quot;);\n     } \n     ...\n     handler();\n}\n\n// someone else implements this\nprotected abstract void handler();\n</code></pre>\n<p>The handler must not call <strong>myMethod()</strong>. I want to enforce this at runtime.</p>\n<p>Can anyone help with a simple approach?</p>\n"},{"tags":["java","apache","maven","tomcat","netbeans"],"answers":[{"comments":[{"owner":{"account_id":8909131,"reputation":31,"user_id":6650017,"accept_rate":50,"display_name":"Komal Jain"},"score":0,"creation_date":1483449701,"post_id":41444018,"comment_id":70095148,"body_markdown":"hi cainiaofei thank you for the response.. I&#39;m using tomcat-8.0.5 and jdk1.8","body":"hi cainiaofei thank you for the response.. I&#39;m using tomcat-8.0.5 and jdk1.8"}],"tags":[],"owner":{"account_id":8707591,"reputation":2229,"user_id":6514989,"accept_rate":81,"display_name":"nail fei"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483448109,"creation_date":1483448109,"answer_id":41444018,"question_id":41439533,"body_markdown":"It seemd there is a &lt;code&gt;version conflict&lt;/code&gt; between your **tomcat** and **jre**. And here is the [version mapping between tomcat and jre](http://tomcat.apache.org/whichversion.html).","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>It seemd there is a <code>version conflict</code> between your <strong>tomcat</strong> and <strong>jre</strong>. And here is the <a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">version mapping between tomcat and jre</a>.</p>\n"},{"tags":[],"owner":{"account_id":5182340,"reputation":443,"user_id":4147686,"display_name":"Patience Mpofu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508095546,"creation_date":1508095546,"answer_id":46759078,"question_id":41439533,"body_markdown":"In my case this was happening because some old projects that I deleted via the IDE were still deployed (though stopped) by Tomcat. In the Services window (cmd + 5 to open), under Servers, collapse the Apache Tomcat or TomEE folder, then collapse the Web Applications folder, right click `/aoanalysis` then select Undeploy. This worked for me.","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>In my case this was happening because some old projects that I deleted via the IDE were still deployed (though stopped) by Tomcat. In the Services window (cmd + 5 to open), under Servers, collapse the Apache Tomcat or TomEE folder, then collapse the Web Applications folder, right click <code>/aoanalysis</code> then select Undeploy. This worked for me.</p>\n"}],"owner":{"account_id":8909131,"reputation":31,"user_id":6650017,"accept_rate":50,"display_name":"Komal Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692907505,"creation_date":1483433123,"question_id":41439533,"body_markdown":"I&#39;ve just opened the project in netbeans, cleaned and build it then run the project but its showing the following error message.\r\n\r\nNote:Same project is working fine in other systems.\r\n\r\n```\r\n03-Jan-2017 13:38:30.767 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.LinkageError: loader constraint violation: loader (instance of org/apache/catalina/loader/WebappClassLoader) previously initiated loading for a different type with name &quot;javax/servlet/ServletContext&quot;\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:760)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n\tat org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:894)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1298)\r\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1175)\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:167)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5148)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 10 more\r\n\r\n03-Jan-2017 13:38:30.770 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/ROOT.xml\r\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n03-Jan-2017 13:38:30.770 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\r\n03-Jan-2017 13:38:30.772 WARNING [localhost-startStop-1] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property &#39;antiJARLocking&#39; to &#39;true&#39; did not find a matching property.\r\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \r\n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@3787a790]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\tat org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4842)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4967)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 10 more\r\nCaused by: java.lang.IllegalArgumentException: The main resource set specified [/home/netsys/Documents/aoanalysis/build/web] is not valid\r\n\tat org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:634)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t... 13 more\r\n\r\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\r\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\r\n\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\r\n\tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nMy pom.xml is\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;xyz&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;spring-version&gt;4.2.1.RELEASE&lt;/spring-version&gt;\r\n        &lt;hibernate.version&gt;4.3.8.Final&lt;/hibernate.version&gt;\r\n        &lt;mysql.version&gt;5.1.10&lt;/mysql.version&gt;\r\n        &lt;junit-version&gt;4.11&lt;/junit-version&gt;\r\n        &lt;servlet-api-version&gt;2.5&lt;/servlet-api-version&gt;\r\n        &lt;jsp-version&gt;2.1&lt;/jsp-version&gt;\r\n        &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n        &lt;google-client.version&gt;1.17.0-rc&lt;/google-client.version&gt; &lt;!-- httpclient version --&gt;\r\n        &lt;com.google.api-ads.version&gt;2.15.0&lt;/com.google.api-ads.version&gt; &lt;!--google api version --&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Reporting --&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jfree&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.17&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Hibernate framework--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Spring framwork --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- Logging --&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n        &lt;!-- Adwords API  --&gt;     \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adwords-axis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.0&lt;/version&gt; &lt;!--google api version --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--  Ads client library dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ads-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adwords-appengine&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aw-reporting&lt;/artifactId&gt;         \r\n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;  &lt;!--aw reporting version --&gt;      \r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aw-reporting-model&lt;/artifactId&gt; \r\n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;   &lt;!--aw reporting model version --&gt;     \r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n        &lt;!-- Junit Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit-version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!--  org.apache.poi configuration--&gt; \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8&lt;/version&gt;\r\n        &lt;/dependency&gt; \r\n                &lt;!-- JSON Processor --&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n                \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.16&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;7.0&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n``` ","title":"SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal","body":"<p>I've just opened the project in netbeans, cleaned and build it then run the project but its showing the following error message.</p>\n<p>Note:Same project is working fine in other systems.</p>\n<pre><code>03-Jan-2017 13:38:30.767 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.LinkageError: loader constraint violation: loader (instance of org/apache/catalina/loader/WebappClassLoader) previously initiated loading for a different type with name &quot;javax/servlet/ServletContext&quot;\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:760)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:894)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1298)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1175)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:167)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5148)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\n\n03-Jan-2017 13:38:30.770 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/ROOT.xml\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n03-Jan-2017 13:38:30.770 INFO [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\n03-Jan-2017 13:38:30.772 WARNING [localhost-startStop-1] org.apache.catalina.startup.SetContextPropertiesRule.begin [SetContextPropertiesRule]{Context} Setting property 'antiJARLocking' to 'true' did not find a matching property.\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.core.ContainerBase.addChildInternal ContainerBase.addChild: start: \n org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [org.apache.catalina.webresources.StandardRoot@3787a790]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:4842)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4967)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\nCaused by: java.lang.IllegalArgumentException: The main resource set specified [/home/netsys/Documents/aoanalysis/build/web] is not valid\n    at org.apache.catalina.webresources.StandardRoot.startInternal(StandardRoot.java:634)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 13 more\n\n03-Jan-2017 13:38:30.774 SEVERE [localhost-startStop-1] org.apache.catalina.startup.HostConfig.deployDescriptor Error deploying configuration descriptor /opt/apache-tomcat-8.0.5/conf/Catalina/localhost/aoanalysis.xml\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/aoanalysis]]\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:729)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:697)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:579)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1744)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>My pom.xml is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;xyz&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;spring-version&gt;4.2.1.RELEASE&lt;/spring-version&gt;\n        &lt;hibernate.version&gt;4.3.8.Final&lt;/hibernate.version&gt;\n        &lt;mysql.version&gt;5.1.10&lt;/mysql.version&gt;\n        &lt;junit-version&gt;4.11&lt;/junit-version&gt;\n        &lt;servlet-api-version&gt;2.5&lt;/servlet-api-version&gt;\n        &lt;jsp-version&gt;2.1&lt;/jsp-version&gt;\n        &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n        &lt;google-client.version&gt;1.17.0-rc&lt;/google-client.version&gt; &lt;!-- httpclient version --&gt;\n        &lt;com.google.api-ads.version&gt;2.15.0&lt;/com.google.api-ads.version&gt; &lt;!--google api version --&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Reporting --&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jfree&lt;/groupId&gt;\n            &lt;artifactId&gt;jfreechart&lt;/artifactId&gt;\n            &lt;version&gt;1.0.17&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;nl.bitwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate framework--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator-annotation-processor&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Spring framwork --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Logging --&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;!-- Adwords API  --&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;adwords-axis&lt;/artifactId&gt;\n            &lt;version&gt;2.15.0&lt;/version&gt; &lt;!--google api version --&gt;\n        &lt;/dependency&gt;\n        &lt;!--  Ads client library dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;ads-lib&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;adwords-appengine&lt;/artifactId&gt;\n            &lt;version&gt;${com.google.api-ads.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n            &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n            &lt;version&gt;${google-client.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;aw-reporting&lt;/artifactId&gt;         \n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;  &lt;!--aw reporting version --&gt;      \n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.api-ads&lt;/groupId&gt;\n            &lt;artifactId&gt;aw-reporting-model&lt;/artifactId&gt; \n            &lt;version&gt;1.11.0-SNAPSHOT&lt;/version&gt;   &lt;!--aw reporting model version --&gt;     \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;${jstl-version}&lt;/version&gt;\n        &lt;/dependency&gt; \n        &lt;!-- Junit Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n        &lt;/dependency&gt;        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!--  org.apache.poi configuration--&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.8&lt;/version&gt;\n        &lt;/dependency&gt; \n                &lt;!-- JSON Processor --&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.9.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.16&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1691187638,"post_id":76839224,"comment_id":135463304,"body_markdown":"Your autoconfig class is not a `@Configuration` class, it&#39;s maybe not picked up as one, see https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-custom-starter/greeter-spring-boot-autoconfigure/src/main/java/com/baeldung/greeter/autoconfigure/GreeterAutoConfiguration.java","body":"Your autoconfig class is not a <code>@Configuration</code> class, it&#39;s maybe not picked up as one, see <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-boot-modules/spring-boot-custom-starter/greeter-spring-boot-autoconfigure/src/main/java/com/baeldung/greeter/autoconfigure/GreeterAutoConfiguration.java\" rel=\"nofollow noreferrer\">github.com/eugenp/tutorials/blob/master/spring-boot-modules/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"score":0,"creation_date":1691195333,"post_id":76839224,"comment_id":135463911,"body_markdown":"Thank you – I&#39;ve been working in a separate project and forgot that annotation. It still errs, but it&#39;s a _better_ error: &quot;Field greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.&quot;","body":"Thank you – I&#39;ve been working in a separate project and forgot that annotation. It still errs, but it&#39;s a <i>better</i> error: &quot;Field greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.&quot;"},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":0,"creation_date":1691199505,"post_id":76839224,"comment_id":135464084,"body_markdown":"Why are you trying to autoconfigure event-starter. Unless you are a framework developer I would avoid that. It is much easier to require clients to define the beans explicitly. I have worked with Spring boot for 10 years, and autoconfiguring is a lot of magic  both for the maintainer and every developer using you lib.","body":"Why are you trying to autoconfigure event-starter. Unless you are a framework developer I would avoid that. It is much easier to require clients to define the beans explicitly. I have worked with Spring boot for 10 years, and autoconfiguring is a lot of magic  both for the maintainer and every developer using you lib."},{"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"score":0,"creation_date":1691199832,"post_id":76839224,"comment_id":135464092,"body_markdown":"Also the project does not build after checkout, did you try it on a clean checkout? This is the error I get in Intellij\n```A problem occurred configuring project &#39;:application&#39;.\n&gt; Could not resolve all files for configuration &#39;:application:classpath&#39;.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\n```","body":"Also the project does not build after checkout, did you try it on a clean checkout? This is the error I get in Intellij <code>A problem occurred configuring project &#39;:application&#39;. &gt; Could not resolve all files for configuration &#39;:application:classpath&#39;.    &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1. </code>"},{"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"score":0,"creation_date":1691203298,"post_id":76839224,"comment_id":135464220,"body_markdown":"Thanks @KlausGroenbaek - strictly for the reason that it has been prominently mentioned in several tutorials. To be frank, the pattern that you are suggesting seems simpler. Apart from the “magic” is there anything about auto configure that makes it a bad fit for Spring? I’m not able to repro the second issue. The project built for me on a clean checkout.","body":"Thanks @KlausGroenbaek - strictly for the reason that it has been prominently mentioned in several tutorials. To be frank, the pattern that you are suggesting seems simpler. Apart from the “magic” is there anything about auto configure that makes it a bad fit for Spring? I’m not able to repro the second issue. The project built for me on a clean checkout."}],"answers":[{"tags":[],"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692907077,"creation_date":1692907077,"answer_id":76972563,"question_id":76839224,"body_markdown":"I pushed a commit to the demo that fixes this issue, but in summary:\r\n- The required bean wasn&#39;t being picked up by Spring it was in a discrete package.\r\n- Adding `@SpringBootApplication(scanBasePackages = “com.example”)` where `com.example` is the parent package of both the starter AND the application fixed the problem. Conceivably, this could also be the neighbouring package directly.\r\n- A command from the demo starter bean gets picked up, run in the application, and output to the logs.","title":"How to handle missing dependency for a Bean defined in a spring boot starter modular Gradle build?","body":"<p>I pushed a commit to the demo that fixes this issue, but in summary:</p>\n<ul>\n<li>The required bean wasn't being picked up by Spring it was in a discrete package.</li>\n<li>Adding <code>@SpringBootApplication(scanBasePackages = “com.example”)</code> where <code>com.example</code> is the parent package of both the starter AND the application fixed the problem. Conceivably, this could also be the neighbouring package directly.</li>\n<li>A command from the demo starter bean gets picked up, run in the application, and output to the logs.</li>\n</ul>\n"}],"owner":{"account_id":29161273,"reputation":1,"user_id":22339981,"display_name":"Sideman4J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692907077,"creation_date":1691185153,"question_id":76839224,"body_markdown":"For this demo:\r\n- I have a Bean defined in an `event-starter` module as a Spring Boot Starter that I want to consume in my application module: `application`. As far as I can tell, it has the right, albeit oversimplified, config in a `GreeterAutoConfiguration` file and `resources/META-INF/spring.factories`\r\n- My `build.gradle` file in the `application` module pulls in `event-starter` as a dependency like so:\r\n    ```\r\n        implementation project(&#39;:event-starter&#39;)\r\n    ```\r\n- I&#39;m using both `io.spring.dependency-management` and the `org.springframework.boot:spring-boot-configuration-processor` annotation processor.\r\n- and my build compiles as I would expect it to.\r\n\r\n\r\nHowever, when I actually _run_ the application, the Bean I am pulling in from the starter module does not appear to be discoverable by the Spring IoC container, and I don&#39;t know why:\r\n```\r\nField greeter in com.example.app.StarterApplication required a bean of type &#39;com.example.starter.Greeter&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.starter.Greeter&#39; in your configuration.\r\n```\r\n\r\nI&#39;m roughly using these two tutorials [[1](https://www.baeldung.com/spring-boot-custom-starter), [2](https://reflectoring.io/spring-boot-starter/)] for development and here is a link to the breaking demo:\r\n* https://github.com/Sideman4J/SpringStarterDemo\r\n\r\nAny help to identify what&#39;s missing/wrong would be greatly appreciated!","title":"How to handle missing dependency for a Bean defined in a spring boot starter modular Gradle build?","body":"<p>For this demo:</p>\n<ul>\n<li>I have a Bean defined in an <code>event-starter</code> module as a Spring Boot Starter that I want to consume in my application module: <code>application</code>. As far as I can tell, it has the right, albeit oversimplified, config in a <code>GreeterAutoConfiguration</code> file and <code>resources/META-INF/spring.factories</code></li>\n<li>My <code>build.gradle</code> file in the <code>application</code> module pulls in <code>event-starter</code> as a dependency like so:\n<pre><code>    implementation project(':event-starter')\n</code></pre>\n</li>\n<li>I'm using both <code>io.spring.dependency-management</code> and the <code>org.springframework.boot:spring-boot-configuration-processor</code> annotation processor.</li>\n<li>and my build compiles as I would expect it to.</li>\n</ul>\n<p>However, when I actually <em>run</em> the application, the Bean I am pulling in from the starter module does not appear to be discoverable by the Spring IoC container, and I don't know why:</p>\n<pre><code>Field greeter in com.example.app.StarterApplication required a bean of type 'com.example.starter.Greeter' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.starter.Greeter' in your configuration.\n</code></pre>\n<p>I'm roughly using these two tutorials [<a href=\"https://www.baeldung.com/spring-boot-custom-starter\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://reflectoring.io/spring-boot-starter/\" rel=\"nofollow noreferrer\">2</a>] for development and here is a link to the breaking demo:</p>\n<ul>\n<li><a href=\"https://github.com/Sideman4J/SpringStarterDemo\" rel=\"nofollow noreferrer\">https://github.com/Sideman4J/SpringStarterDemo</a></li>\n</ul>\n<p>Any help to identify what's missing/wrong would be greatly appreciated!</p>\n"},{"tags":["java","docker","quarkus","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692908733,"post_id":76972530,"comment_id":135692210,"body_markdown":"https://github.com/quarkusio/quarkus/issues/3645#issuecomment-1692315047 may help, is this same issue ?","body":"<a href=\"https://github.com/quarkusio/quarkus/issues/3645#issuecomment-1692315047\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/&hellip;</a> may help, is this same issue ?"},{"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"score":0,"creation_date":1692947006,"post_id":76972530,"comment_id":135696404,"body_markdown":"It was me who created the issue","body":"It was me who created the issue"},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692991674,"post_id":76972530,"comment_id":135705803,"body_markdown":"did you update the camel dependencies and did it fix it ? you can put it as answer :)","body":"did you update the camel dependencies and did it fix it ? you can put it as answer :)"}],"owner":{"account_id":483248,"reputation":2063,"user_id":898162,"accept_rate":71,"display_name":"Eugene Shmorgun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692906706,"creation_date":1692906706,"question_id":76972530,"body_markdown":"There are pretty big count of questions regarding native images based on GraalVM in Quarkus. Let me add new one.\r\n\r\nBasically I have a Quarkus app which uses org.apache.camel to support Amazon SQS functionality. When I start building the native image using OpenJDK 64-Bit Server VM GraalVM CE 21.3.3 I always get the following error\r\n\r\n    Error: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\r\n    com.oracle.svm.core.util.UserError$UserException: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\r\n            at com.oracle.svm.core.util.UserError.abort(UserError.java:73)\r\n\r\nwhich tells me as it seems to me that GraalVM-engine experiencing some problems when analyzes the SubstituteBeansWeakCache.\r\n\r\nIn such case quarkus guide [recommends][1] to use the maven argument like this\r\n\r\n    &lt;quarkus.native.additional-build-args&gt;--initialize-at-run-time=com.example.SomeClass\\,org.acme.SomeOtherClass&lt;/quarkus.native.additional-build-args&gt;\r\n\r\nbut pity it does not work in terms of above-mentioned error keeps happening.\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://quarkus.io/guides/writing-native-applications-tips","title":"GraalVM: Error could not find target field: private static during native image build in Quarkus","body":"<p>There are pretty big count of questions regarding native images based on GraalVM in Quarkus. Let me add new one.</p>\n<p>Basically I have a Quarkus app which uses org.apache.camel to support Amazon SQS functionality. When I start building the native image using OpenJDK 64-Bit Server VM GraalVM CE 21.3.3 I always get the following error</p>\n<pre><code>Error: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\ncom.oracle.svm.core.util.UserError$UserException: could not find target field: private static org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansWeakCache org.apache.camel.quarkus.support.common.runtime.graal.SubstituteBeansIntrospector.declaredMethodCache\n        at com.oracle.svm.core.util.UserError.abort(UserError.java:73)\n</code></pre>\n<p>which tells me as it seems to me that GraalVM-engine experiencing some problems when analyzes the SubstituteBeansWeakCache.</p>\n<p>In such case quarkus guide <a href=\"https://quarkus.io/guides/writing-native-applications-tips\" rel=\"nofollow noreferrer\">recommends</a> to use the maven argument like this</p>\n<pre><code>&lt;quarkus.native.additional-build-args&gt;--initialize-at-run-time=com.example.SomeClass\\,org.acme.SomeOtherClass&lt;/quarkus.native.additional-build-args&gt;\n</code></pre>\n<p>but pity it does not work in terms of above-mentioned error keeps happening.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","intellij-idea","recording"],"answers":[{"tags":[],"owner":{"account_id":331418,"reputation":19117,"user_id":656069,"display_name":"Brian Kelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692906601,"creation_date":1692906601,"answer_id":76972522,"question_id":76445019,"body_markdown":"This issue was addressed in the AppMap Java agent v.1.20.0.","title":"AppMap recorder fails to start with unknown API Endpoint error","body":"<p>This issue was addressed in the AppMap Java agent v.1.20.0.</p>\n"}],"owner":{"account_id":6786419,"reputation":23,"user_id":5225028,"display_name":"Andre Kapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692906601,"creation_date":1686379052,"question_id":76445019,"body_markdown":"I&#39;m running a SpringBoot 2.7.12 reactive stack application on my Macbook Pro. Using IntelliJ Ultimate with Java 17, MariaDB, R2DBC and some AWS service integrations.\r\nInstalled the IntelliJ plugin for AppMap.\r\nRunning IntegrationTest works fine - impressive.\r\n\r\nHowever, trying to start a recording fails due to the endpoint not existing in the application.\r\nFollowing is a log snipped:\r\n```\r\n2023-06-10 10:22:12.845 DEBUG [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.customer.filter.RequestWebFilter   : Received api endpoint hit : [path : /_appmap/record]\r\n2023-06-10 10:22:12.848 ERROR [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.c.e.e.CustomAttributes             : Exception happened =&gt; message: 404 NOT_FOUND &quot;No matching handler&quot; stacktrace: [org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159)] \r\n```\r\nI have not added the Maven build configuration to the pom.xml file. From what I can see from the documentation it is not required.\r\n\r\nAny pointers to get this going?\r\nReally looks like a super cool utility.","title":"AppMap recorder fails to start with unknown API Endpoint error","body":"<p>I'm running a SpringBoot 2.7.12 reactive stack application on my Macbook Pro. Using IntelliJ Ultimate with Java 17, MariaDB, R2DBC and some AWS service integrations.\nInstalled the IntelliJ plugin for AppMap.\nRunning IntegrationTest works fine - impressive.</p>\n<p>However, trying to start a recording fails due to the endpoint not existing in the application.\nFollowing is a log snipped:</p>\n<pre><code>2023-06-10 10:22:12.845 DEBUG [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.customer.filter.RequestWebFilter   : Received api endpoint hit : [path : /_appmap/record]\n2023-06-10 10:22:12.848 ERROR [CUSTOMER-SERVICE,e9a3b813acbf717e,e9a3b813acbf717e] 23817 --- [               parallel-9] z.c.m.c.e.e.CustomAttributes             : Exception happened =&gt; message: 404 NOT_FOUND &quot;No matching handler&quot; stacktrace: [org.springframework.web.reactive.DispatcherHandler.lambda$createNotFoundError$3(DispatcherHandler.java:159)] \n</code></pre>\n<p>I have not added the Maven build configuration to the pom.xml file. From what I can see from the documentation it is not required.</p>\n<p>Any pointers to get this going?\nReally looks like a super cool utility.</p>\n"},{"tags":["java","google-app-engine","intellij-idea","jstl"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1314778429,"post_id":7253034,"comment_id":8727363,"body_markdown":"What IDEA version do you use? IDEA 10.5.1 should handle it fine, but there was a problem with IDEA 10.0.3. We also have similar bug report for 10.5, but we are not able to reproduce it: http://youtrack.jetbrains.net/issue/IDEA-69942. Try to reinstall IDEA 10.5.1 or 10.5.2 from http://confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP.","body":"What IDEA version do you use? IDEA 10.5.1 should handle it fine, but there was a problem with IDEA 10.0.3. We also have similar bug report for 10.5, but we are not able to reproduce it: <a href=\"http://youtrack.jetbrains.net/issue/IDEA-69942\" rel=\"nofollow noreferrer\">youtrack.jetbrains.net/issue/IDEA-69942</a>. Try to reinstall IDEA 10.5.1 or 10.5.2 from <a href=\"http://confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP\" rel=\"nofollow noreferrer\">confluence.jetbrains.net/display/IDEADEV/IDEA+10.5+EAP</a>."},{"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"score":0,"creation_date":1314803146,"post_id":7253034,"comment_id":8734227,"body_markdown":"I&#39;m on 10.5.1 (June 29, 2011). Could it be because I don&#39;t have the J2EE sdk installed on my machine? It never occurred to me as the problem since IntelliJ usually auto-downloads any jars for built-in support.","body":"I&#39;m on 10.5.1 (June 29, 2011). Could it be because I don&#39;t have the J2EE sdk installed on my machine? It never occurred to me as the problem since IntelliJ usually auto-downloads any jars for built-in support."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1314806307,"post_id":7253034,"comment_id":8735415,"body_markdown":"You need JSTL libraries downloaded and added to the module dependencies: http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html.","body":"You need JSTL libraries downloaded and added to the module dependencies: <a href=\"http://www.jetbrains.com/idea/webhelp/configuring-module-dependencies-and-libraries.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/webhelp/&hellip;</a>."},{"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"score":1,"creation_date":1314855383,"post_id":7253034,"comment_id":8745658,"body_markdown":"yeah, I feel silly now. If you want to add that as an answer I&#39;ll mark it as correct. Thanks for the help.","body":"yeah, I feel silly now. If you want to add that as an answer I&#39;ll mark it as correct. Thanks for the help."},{"owner":{"account_id":6915852,"reputation":894,"user_id":5310163,"display_name":"Shams Ul Azeem"},"score":0,"creation_date":1441718641,"post_id":7253034,"comment_id":52780029,"body_markdown":"http://stackoverflow.com/questions/31043869/intellij-and-jsp-jstl-cannot-resolve-taglib-for-jstl-in-tomcat7/32444393#32444393","body":"<a href=\"http://stackoverflow.com/questions/31043869/intellij-and-jsp-jstl-cannot-resolve-taglib-for-jstl-in-tomcat7/32444393#32444393\" title=\"intellij and jsp jstl cannot resolve taglib for jstl in tomcat7\">stackoverflow.com/questions/31043869/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1532389534,"creation_date":1314868231,"answer_id":7268230,"question_id":7253034,"body_markdown":"Make sure that JSTL library jars are added to the [module dependencies][1].\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/working-with-module-dependencies.html","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>Make sure that JSTL library jars are added to the <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html\" rel=\"nofollow noreferrer\">module dependencies</a>.</p>\n"},{"comments":[{"owner":{"account_id":4995637,"reputation":329,"user_id":4016342,"display_name":"Maxple"},"score":0,"creation_date":1513931222,"post_id":26862422,"comment_id":82845327,"body_markdown":"&lt;version&gt;1.2&lt;/version&gt;","body":"&lt;version&gt;1.2&lt;/version&gt;"}],"tags":[],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1511890700,"creation_date":1415700855,"answer_id":26862422,"question_id":7253034,"body_markdown":"Add something like this to your `pom.xml` under the `&lt;dependencies&gt;` node (you are using maven, right?):\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor gradle and other build systems see https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5\r\n\r\nAlso, make sure you pick a suitable version for your project. To see all available versions check [here][1].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.servlet/servlet-api","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>Add something like this to your <code>pom.xml</code> under the <code>&lt;dependencies&gt;</code> node (you are using maven, right?):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For gradle and other build systems see <a href=\"https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet/servlet-api/2.5</a></p>\n\n<p>Also, make sure you pick a suitable version for your project. To see all available versions check <a href=\"https://mvnrepository.com/artifact/javax.servlet/servlet-api\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":4550280,"reputation":1931,"user_id":3695748,"display_name":"V&#237;tor Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479341058,"creation_date":1479341058,"answer_id":40644561,"question_id":7253034,"body_markdown":"In my case, I had to download the .jar from apache ([https://tomcat.apache.org/taglibs/standard/][1]) and add to my project dependencies.\r\n\r\n    File &gt; Project Structure &gt; Modules &gt; Dependencies\r\n\r\n  [1]: https://tomcat.apache.org/taglibs/standard/\r\n","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>In my case, I had to download the .jar from apache (<a href=\"https://tomcat.apache.org/taglibs/standard/\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/taglibs/standard/</a>) and add to my project dependencies.</p>\n\n<pre><code>File &gt; Project Structure &gt; Modules &gt; Dependencies\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15295407,"reputation":11,"user_id":11035676,"display_name":"MykoCh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583941604,"creation_date":1583931486,"answer_id":60636598,"question_id":7253034,"body_markdown":"I resolved it by adding `jstl-1.2` in the libraries.\r\n\r\n- Right-click on &quot;project&quot;\r\n- Then go into &quot;open modules setting&quot;\r\n- Then in &quot;libraries&quot; click on the &quot;+&quot;, then &quot;add with maven&quot;\r\n- Click on the checkbox to download in a folder, change the folder path for `.../WEB-INF/lib` (create the `lib` folder)\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GzzGx.png","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>I resolved it by adding <code>jstl-1.2</code> in the libraries.</p>\n\n<ul>\n<li>Right-click on \"project\"</li>\n<li>Then go into \"open modules setting\"</li>\n<li>Then in \"libraries\" click on the \"+\", then \"add with maven\"</li>\n<li><p>Click on the checkbox to download in a folder, change the folder path for <code>.../WEB-INF/lib</code> (create the <code>lib</code> folder)</p>\n\n<p><a href=\"https://i.stack.imgur.com/GzzGx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GzzGx.png\" alt=\"enter image description here\"></a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29276252,"reputation":1,"user_id":22429918,"display_name":"monukd01dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692906417,"creation_date":1692715743,"answer_id":76954488,"question_id":7253034,"body_markdown":"For using JSTL tags in IntelliJ IDEA Community and Ultimate editions, we need to add `jstl` and `jstl-api` dependencies.\r\n\r\nIf you are using Tomcat 10.1.12:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf your are using Tomcat 9:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnd don&#39;t forget to add taglib directive on top of the jsp page before restarting the IDE:\r\n\r\n```html\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n```","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>For using JSTL tags in IntelliJ IDEA Community and Ultimate editions, we need to add <code>jstl</code> and <code>jstl-api</code> dependencies.</p>\n<p>If you are using Tomcat 10.1.12:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If your are using Tomcat 9:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And don't forget to add taglib directive on top of the jsp page before restarting the IDE:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n</code></pre>\n"}],"owner":{"account_id":7818,"reputation":16514,"user_id":13713,"accept_rate":91,"display_name":"Joel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24329,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1692968229,"accepted_answer_id":7268230,"answer_count":5,"score":16,"last_activity_date":1692906417,"creation_date":1314769637,"question_id":7253034,"body_markdown":"I&#39;m playing with Google App Engine in IntelliJ. I&#39;m trying to use JSTL tags in my JSPs. I&#39;ve tried two different URIs I found on the internet, and both of them give me errors:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jstl/core&quot; %&gt;\r\n\r\nand\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nIt reds out the URL and says it cannot resolve taglib. I&#39;ve tried dropping different parts of the URL to see if &lt;kbd&gt;Ctrl&lt;/kbd&gt;-&lt;kbd&gt;Space&lt;/kbd&gt; gives me any autocomplete love, but no luck.\r\n\r\nAny ideas what I need to do to make this work? ","title":"JSTL in IntelliJ gives errors in JSP","body":"<p>I'm playing with Google App Engine in IntelliJ. I'm trying to use JSTL tags in my JSPs. I've tried two different URIs I found on the internet, and both of them give me errors:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jstl/core\" %&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>It reds out the URL and says it cannot resolve taglib. I've tried dropping different parts of the URL to see if <kbd>Ctrl</kbd>-<kbd>Space</kbd> gives me any autocomplete love, but no luck.</p>\n\n<p>Any ideas what I need to do to make this work? </p>\n"},{"tags":["java","lambda","java-stream","max"],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692983451,"post_id":76967864,"comment_id":135704380,"body_markdown":"Slightly simpler when using `toMap` instead of `groupingBy`, e.g. `.collect(Collectors.collectingAndThen(Collectors.toMap(CodeObj::getCodeName, Function.identity(), BinaryOperator.maxBy(Comparator.comparing( CodeObj::getVersion))), map -&gt; new ArrayList&lt;&gt;(map.values())));`","body":"Slightly simpler when using <code>toMap</code> instead of <code>groupingBy</code>, e.g. <code>.collect(Collectors.collectingAndThen(Collectors.toMap(CodeO&zwnj;&#8203;bj::getCodeName, Function.identity(), BinaryOperator.maxBy(Comparator.comparing( CodeObj::getVersion))), map -&gt; new ArrayList&lt;&gt;(map.values())));</code>"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692880295,"creation_date":1692868510,"answer_id":76967864,"question_id":76967784,"body_markdown":"```java\r\nreturn codeObjs.stream()\r\n            .collect(Collectors.groupingBy(\r\n                CodeObj::getCodeName,\r\n                Collectors.maxBy(Comparator.comparing(CodeObj::getVersion))\r\n            ))\r\n            .values().stream()\r\n            .flatMap(Optional::stream)\r\n            .collect(Collectors.toList());\r\n```\r\nSo, basically, you are isolating each instance of `CodeObj` with a unique name by using `Collectors.groupingBy`. Then using `Collectors.maxBy` on each group, you get the highest version. Then, by streaming the resulting map, you access collections of `Optional&lt;CodeObj&gt;` instances, which represent the highest versions per group. `flatMap(Optional::stream)` transforms these `Optionals` into a sequence of `CodeObj`. Finally, you collect them into a list through `Collectors.toList()`","title":"Stream.max() on a set of elements from a stream","body":"<pre class=\"lang-java prettyprint-override\"><code>return codeObjs.stream()\n            .collect(Collectors.groupingBy(\n                CodeObj::getCodeName,\n                Collectors.maxBy(Comparator.comparing(CodeObj::getVersion))\n            ))\n            .values().stream()\n            .flatMap(Optional::stream)\n            .collect(Collectors.toList());\n</code></pre>\n<p>So, basically, you are isolating each instance of <code>CodeObj</code> with a unique name by using <code>Collectors.groupingBy</code>. Then using <code>Collectors.maxBy</code> on each group, you get the highest version. Then, by streaming the resulting map, you access collections of <code>Optional&lt;CodeObj&gt;</code> instances, which represent the highest versions per group. <code>flatMap(Optional::stream)</code> transforms these <code>Optionals</code> into a sequence of <code>CodeObj</code>. Finally, you collect them into a list through <code>Collectors.toList()</code></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692983637,"post_id":76970187,"comment_id":135704428,"body_markdown":"Note that the `toMap` collector already has the logic of `groupingBy` and `reducing`, see also [this comment](https://stackoverflow.com/questions/76967784/stream-max-on-a-set-of-elements-from-a-stream#comment135704380_76967864) or [this Q&amp;A](https://stackoverflow.com/q/57041896/2711488)","body":"Note that the <code>toMap</code> collector already has the logic of <code>groupingBy</code> and <code>reducing</code>, see also <a href=\"https://stackoverflow.com/questions/76967784/stream-max-on-a-set-of-elements-from-a-stream#comment135704380_76967864\">this comment</a> or <a href=\"https://stackoverflow.com/q/57041896/2711488\">this Q&amp;A</a>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693058100,"post_id":76970187,"comment_id":135711269,"body_markdown":"@Holger Had never noticed that `BinaryOperator` had those static methods.  Thanks for pointing it out.","body":"@Holger Had never noticed that <code>BinaryOperator</code> had those static methods.  Thanks for pointing it out."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692905826,"creation_date":1692886335,"answer_id":76970187,"question_id":76967784,"body_markdown":"Given the following class:\r\n```\r\nclass CodeObj {\r\n    private String codeName;\r\n    private String version;\r\n\r\n    public CodeObj(String codeName, String version) {\r\n        this.codeName = codeName;\r\n        this.version = version;\r\n    }\r\n\r\n    public String getCodeName() {\r\n        return codeName;\r\n    }\r\n\r\n    public String getVersion() {\r\n        return version;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;CodeObj = [%s, %s]&quot;.formatted(codeName, version);\r\n    }\r\n\r\n}\r\n```\r\nWith the initial list of objects.\r\n```\r\nList&lt;CodeObj&gt; codeObjs = List.of(new CodeObj(&quot;test1&quot;, &quot;1&quot;),\r\n        new CodeObj(&quot;test1&quot;, &quot;2&quot;), new CodeObj(&quot;test1&quot;, &quot;3&quot;),\r\n        new CodeObj(&quot;test2&quot;, &quot;1&quot;), new CodeObj(&quot;test2&quot;, &quot;2&quot;),\r\n        new CodeObj(&quot;test2&quot;, &quot;3&quot;), new CodeObj(&quot;test2&quot;, &quot;4&quot;));\r\n```\r\nHere is a max filter which can either be declared separately as shown or put in-line with the stream. It compares each version and returns the object with the latest.\r\n```\r\nBinaryOperator&lt;CodeObj&gt; latestVersion = (co1, co2) -&gt; co1.getVersion()\r\n        .compareTo(co2.getVersion()) &gt; 0 ? co1 : co2;\r\n```\r\nAnd here is the solution.  The CodeObj objects are reduced to the required max versions and the resulting `Collection` is remapped to an `ArrayList`.\r\n```\r\nList&lt;CodeObj&gt; results = codeObjs.stream()\r\n   .collect(Collectors.collectingAndThen(\r\n           Collectors.groupingBy(CodeObj::getCodeName,\r\n                Collectors.reducing(new CodeObj(&quot;&quot;, &quot;&quot;), latestVersion)),\r\n                mp-&gt;new ArrayList&lt;&gt;(mp.values())));\r\n\r\n\r\nresults.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nCodeObj = [test2, 4]\r\nCodeObj = [test1, 3]\r\n","title":"Stream.max() on a set of elements from a stream","body":"<p>Given the following class:</p>\n<pre><code>class CodeObj {\n    private String codeName;\n    private String version;\n\n    public CodeObj(String codeName, String version) {\n        this.codeName = codeName;\n        this.version = version;\n    }\n\n    public String getCodeName() {\n        return codeName;\n    }\n\n    public String getVersion() {\n        return version;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CodeObj = [%s, %s]&quot;.formatted(codeName, version);\n    }\n\n}\n</code></pre>\n<p>With the initial list of objects.</p>\n<pre><code>List&lt;CodeObj&gt; codeObjs = List.of(new CodeObj(&quot;test1&quot;, &quot;1&quot;),\n        new CodeObj(&quot;test1&quot;, &quot;2&quot;), new CodeObj(&quot;test1&quot;, &quot;3&quot;),\n        new CodeObj(&quot;test2&quot;, &quot;1&quot;), new CodeObj(&quot;test2&quot;, &quot;2&quot;),\n        new CodeObj(&quot;test2&quot;, &quot;3&quot;), new CodeObj(&quot;test2&quot;, &quot;4&quot;));\n</code></pre>\n<p>Here is a max filter which can either be declared separately as shown or put in-line with the stream. It compares each version and returns the object with the latest.</p>\n<pre><code>BinaryOperator&lt;CodeObj&gt; latestVersion = (co1, co2) -&gt; co1.getVersion()\n        .compareTo(co2.getVersion()) &gt; 0 ? co1 : co2;\n</code></pre>\n<p>And here is the solution.  The CodeObj objects are reduced to the required max versions and the resulting <code>Collection</code> is remapped to an <code>ArrayList</code>.</p>\n<pre><code>List&lt;CodeObj&gt; results = codeObjs.stream()\n   .collect(Collectors.collectingAndThen(\n           Collectors.groupingBy(CodeObj::getCodeName,\n                Collectors.reducing(new CodeObj(&quot;&quot;, &quot;&quot;), latestVersion)),\n                mp-&gt;new ArrayList&lt;&gt;(mp.values())));\n\n\nresults.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>CodeObj = [test2, 4]\nCodeObj = [test1, 3]\n</code></pre>\n"}],"owner":{"account_id":15061002,"reputation":3,"user_id":10869774,"display_name":"Clem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76967864,"answer_count":2,"score":0,"last_activity_date":1692906289,"creation_date":1692867926,"question_id":76967784,"body_markdown":"I have a java `List` of `CodeObj`. `CodeObj` has 2 attributes : `codeName` and `version`.\r\nMy java `List` looks like this when mapped to a `JSON` object :\r\n\r\n```\r\n[\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;1&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;2&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;1&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;2&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\r\n]\r\n```\r\nI would like to filter this `List` by each `codeName` most recent `version` in java, so it would give this result when mapped to a JSON object :\r\n\r\n```\r\n[\r\n\t{ &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\r\n\r\n\t{ &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\r\n]\r\n```\r\n\r\nTo make it, I have to use the `Stream` java class and its methods like `filter`, `map`, `max`, etc.\r\n\r\n\r\nI started with this bit of code :\r\n\r\n\r\n```\r\ncodeObjs.stream()\r\n.max(Comparator.comparing(CodeObj::getVersion))\r\n```\r\n\r\n\r\nI feel like I have to isolate each set of `CodeObj` that has the same `codeName`, but I don&#39;t know how to do it while turning the `List` into a `Stream`.","title":"Stream.max() on a set of elements from a stream","body":"<p>I have a java <code>List</code> of <code>CodeObj</code>. <code>CodeObj</code> has 2 attributes : <code>codeName</code> and <code>version</code>.\nMy java <code>List</code> looks like this when mapped to a <code>JSON</code> object :</p>\n<pre><code>[\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;1&quot; },\n\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;2&quot; },\n\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;1&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;2&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\n]\n</code></pre>\n<p>I would like to filter this <code>List</code> by each <code>codeName</code> most recent <code>version</code> in java, so it would give this result when mapped to a JSON object :</p>\n<pre><code>[\n    { &quot;codeName&quot;: &quot;test1&quot;, &quot;version&quot;: &quot;3&quot; },\n\n    { &quot;codeName&quot;: &quot;test2&quot;, &quot;version&quot;: &quot;4&quot; },\n]\n</code></pre>\n<p>To make it, I have to use the <code>Stream</code> java class and its methods like <code>filter</code>, <code>map</code>, <code>max</code>, etc.</p>\n<p>I started with this bit of code :</p>\n<pre><code>codeObjs.stream()\n.max(Comparator.comparing(CodeObj::getVersion))\n</code></pre>\n<p>I feel like I have to isolate each set of <code>CodeObj</code> that has the same <code>codeName</code>, but I don't know how to do it while turning the <code>List</code> into a <code>Stream</code>.</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"comments":[{"owner":{"account_id":29293099,"reputation":1,"user_id":22443073,"display_name":"skywing99"},"score":0,"creation_date":1692909172,"post_id":76972448,"comment_id":135692281,"body_markdown":"Unfortunately, we lost the RabbitMQ server logs when we tried to restart it to try to fix the issue. And, we haven&#39;t been able to replicate it. \n\nI will make a post on the rabbitmq-users group. \n\nCan the retry settings be set with `spring.rabbitmq.template.retry` properties as well?","body":"Unfortunately, we lost the RabbitMQ server logs when we tried to restart it to try to fix the issue. And, we haven&#39;t been able to replicate it.   I will make a post on the rabbitmq-users group.   Can the retry settings be set with <code>spring.rabbitmq.template.retry</code> properties as well?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1692922272,"post_id":76972448,"comment_id":135693925,"body_markdown":"Yes. Boot will auto configure it for you from those properties. What I don’t understand is that restarting the app solves it. The first exception will close the connection and a new one will be established on the next send. Perhaps you have a load balancer or similar in the network that caused the problem. You can test the retries by force closing the connection from th RMQ UI.","body":"Yes. Boot will auto configure it for you from those properties. What I don’t understand is that restarting the app solves it. The first exception will close the connection and a new one will be established on the next send. Perhaps you have a load balancer or similar in the network that caused the problem. You can test the retries by force closing the connection from th RMQ UI."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692905676,"creation_date":1692905676,"answer_id":76972448,"question_id":76972339,"body_markdown":"On the consumer side, the listener container will automatically keep trying to reconnect.\r\n\r\nOn the producer side, to retry, you need to add a `RetryTemplate` (with appropriate retry and back off policies) to the `RabbitTemplate`.\r\n\r\nHowever, I don&#39;t understand why you would get broken pipe exceptions and retrying might not help with that. Spring delegates all I/O operations to the `amqp-client`. You might need to look in the server logs for clues.\r\n\r\nI suggest you reach out to the RabbitMQ engineers on the rabbitmq-users Google group. They don&#39;t monitor StackOverflow.","title":"Spring AMQP/RabbitMQ - java.net.SocketException: Connection reset by peer (Write failed)","body":"<p>On the consumer side, the listener container will automatically keep trying to reconnect.</p>\n<p>On the producer side, to retry, you need to add a <code>RetryTemplate</code> (with appropriate retry and back off policies) to the <code>RabbitTemplate</code>.</p>\n<p>However, I don't understand why you would get broken pipe exceptions and retrying might not help with that. Spring delegates all I/O operations to the <code>amqp-client</code>. You might need to look in the server logs for clues.</p>\n<p>I suggest you reach out to the RabbitMQ engineers on the rabbitmq-users Google group. They don't monitor StackOverflow.</p>\n"}],"owner":{"account_id":29293099,"reputation":1,"user_id":22443073,"display_name":"skywing99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692905676,"creation_date":1692904344,"question_id":76972339,"body_markdown":"I have a RabbitMQ server in a Kubernetes cluster that I am connecting to using Spring AMQP with default settings and RabbitTemplate class. \r\n\r\nI have a scheduled method in a sender Spring Boot Microservice that sends a message to RabbitMQ queue using `RabbitTemplate.convertAndSend()`. The scheduled method is called every 15 seconds and the message is consumed by a receiver Spring Boot microservice and processed soon after it is received by the RabbitMQ server.\r\n\r\nGenerally, the connection between the RabbitMQ server and the sender Spring Boot Microservice is okay, but rarely (2 times in the last 6 months), the following exception is received and the microservice does not reconnect. \r\n\r\n```\r\norg.springframework.amqp.AmqpIOException: java.net.SocketException: Connection reset by peer (Write failed)\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\r\n\tat org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\r\n```\r\n\r\nAfter this exception, the sender microservice gets the following broken pipe exception when trying to send messages to the RabbitMQ server.\r\n\r\n```\r\norg.springframework.amqp.AmqpIOException: java.net.SocketException: Broken pipe (Write failed)\r\n\tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\r\n\tat org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\r\n\tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\r\n```\r\n\r\nThe sender microservice has the following configured, aside from defaults:\r\n\r\n```\r\n# Don&#39;t requeue rejected deliveries\r\n# Messages can get requeued due to exceptions thrown on the consumer thread\r\nspring.rabbitmq.listener.simple.default-requeue-rejected = false\r\n\r\n# Change Spring RMQ listener mode to NONE from default AUTO\r\n# https://docs.spring.io/spring-amqp/reference/html/#containerAttributes\r\nspring.rabbitmq.listener.simple.acknowledge-mode = NONE\r\n```\r\n\r\nThe sender microservice needs to be restarted to re-connect to the RabbitMQ server and to send messages successfully. \r\n\r\nI haven&#39;t been able to replicate the issue. Is this just a network glitch that is not preventable?\r\n\r\nIs there a way to force Spring AMQP to reconnect to the RabbitMQ server?\r\n\r\n\r\nTo fix the issue, I restarted the sender microservice and that reconnected to the RabbitMQ server.\r\n\r\nI am using all default settings for the Spring AMQP connection, so I am not sure what could be causing the network issue.\r\n\r\nI checked the connections between other microservices and the RabbitMQ server and they were not affected by this, even if they are subscribed to the same queue.","title":"Spring AMQP/RabbitMQ - java.net.SocketException: Connection reset by peer (Write failed)","body":"<p>I have a RabbitMQ server in a Kubernetes cluster that I am connecting to using Spring AMQP with default settings and RabbitTemplate class.</p>\n<p>I have a scheduled method in a sender Spring Boot Microservice that sends a message to RabbitMQ queue using <code>RabbitTemplate.convertAndSend()</code>. The scheduled method is called every 15 seconds and the message is consumed by a receiver Spring Boot microservice and processed soon after it is received by the RabbitMQ server.</p>\n<p>Generally, the connection between the RabbitMQ server and the sender Spring Boot Microservice is okay, but rarely (2 times in the last 6 months), the following exception is received and the microservice does not reconnect.</p>\n<pre><code>org.springframework.amqp.AmqpIOException: java.net.SocketException: Connection reset by peer (Write failed)\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\n    at org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\n</code></pre>\n<p>After this exception, the sender microservice gets the following broken pipe exception when trying to send messages to the RabbitMQ server.</p>\n<pre><code>org.springframework.amqp.AmqpIOException: java.net.SocketException: Broken pipe (Write failed)\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:70)\n    at org.springframework.amqp.rabbit.connection.RabbitAccessor.convertRabbitAccessException(RabbitAccessor.java:113)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2192)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2138)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1065)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1130)\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1123)\n</code></pre>\n<p>The sender microservice has the following configured, aside from defaults:</p>\n<pre><code># Don't requeue rejected deliveries\n# Messages can get requeued due to exceptions thrown on the consumer thread\nspring.rabbitmq.listener.simple.default-requeue-rejected = false\n\n# Change Spring RMQ listener mode to NONE from default AUTO\n# https://docs.spring.io/spring-amqp/reference/html/#containerAttributes\nspring.rabbitmq.listener.simple.acknowledge-mode = NONE\n</code></pre>\n<p>The sender microservice needs to be restarted to re-connect to the RabbitMQ server and to send messages successfully.</p>\n<p>I haven't been able to replicate the issue. Is this just a network glitch that is not preventable?</p>\n<p>Is there a way to force Spring AMQP to reconnect to the RabbitMQ server?</p>\n<p>To fix the issue, I restarted the sender microservice and that reconnected to the RabbitMQ server.</p>\n<p>I am using all default settings for the Spring AMQP connection, so I am not sure what could be causing the network issue.</p>\n<p>I checked the connections between other microservices and the RabbitMQ server and they were not affected by this, even if they are subscribed to the same queue.</p>\n"},{"tags":["java","spring","spring-boot","https","keystore"],"owner":{"account_id":20233641,"reputation":1,"user_id":14839484,"display_name":"rs1996"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692905590,"creation_date":1692905590,"question_id":76972439,"body_markdown":"We are trying to enable our spring-boot application to listen to HTTPS but are encountering the following error on application start up locally:\r\n\r\n```\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\r\n\tat org.springframework.boot.web.reactive.context.WebServerManager.start(WebServerManager.java:54)\r\n\tat org.springframework.boot.web.reactive.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:40)\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\r\n\t... 14 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:243)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\r\n\t... 17 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:239)\r\n\t... 19 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: DerInputStream.getLength(): lengthTag=111, too big.\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:258)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1204)\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1290)\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\r\n\t... 21 common frames omitted\r\nCaused by: java.io.IOException: DerInputStream.getLength(): lengthTag=111, too big.\r\n\tat java.base/sun.security.util.DerInputStream.getLength(DerInputStream.java:606)\r\n\tat java.base/sun.security.util.DerValue.init(DerValue.java:390)\r\n\tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:331)\r\n\tat java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:344)\r\n\tat java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1996)\r\n\tat java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\r\n\tat java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n\tat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216)\r\n\tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282)\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\r\n```\r\n\r\n\r\nHere is what we have currently in our application.yml (which sits in our src/main/resources folder as does the keystore):\r\n\r\n```\r\nserver:\r\n  port: 8443\r\n  ssl:\r\n    key-store-type: &#39;PKCS12&#39;\r\n    key-store: &#39;classpath:***.p12&#39;\r\n    key-alias: &#39;***&#39;\r\n    enabled: true\r\n    protocol: &#39;TLS&#39;\r\n    key-store-password: &#39;***&#39;\r\n```\r\n\r\nHowever, if we remove the classpath argument and just place the keystore in the root directory of the project the application runs fine and there are no errors. \r\n\r\n\r\nhttps://stackoverflow.com/questions/56148884/spring-boot-https-pkcs12-derinputstream-getlength-lengthtag-111-too-big\r\n\r\nHave tried following solutions listed here but same error occurs. ","title":"Spring-Boot Application: HTTPS Error on start-up: DerInputStream.getLength(): lengthTag=111, too big","body":"<p>We are trying to enable our spring-boot application to listen to HTTPS but are encountering the following error on application start up locally:</p>\n<pre><code>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:229)\n    at org.springframework.boot.web.reactive.context.WebServerManager.start(WebServerManager.java:54)\n    at org.springframework.boot.web.reactive.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:40)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)\n    ... 14 common frames omitted\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:243)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213)\n    ... 17 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1075)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:239)\n    ... 19 common frames omitted\nCaused by: java.lang.IllegalArgumentException: DerInputStream.getLength(): lengthTag=111, too big.\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71)\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:258)\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1204)\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1290)\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614)\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1072)\n    ... 21 common frames omitted\nCaused by: java.io.IOException: DerInputStream.getLength(): lengthTag=111, too big.\n    at java.base/sun.security.util.DerInputStream.getLength(DerInputStream.java:606)\n    at java.base/sun.security.util.DerValue.init(DerValue.java:390)\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:331)\n    at java.base/sun.security.util.DerValue.&lt;init&gt;(DerValue.java:344)\n    at java.base/sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1996)\n    at java.base/sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:222)\n    at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n    at org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:67)\n    at org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:216)\n    at org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207)\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:282)\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:246)\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97)\n</code></pre>\n<p>Here is what we have currently in our application.yml (which sits in our src/main/resources folder as does the keystore):</p>\n<pre><code>server:\n  port: 8443\n  ssl:\n    key-store-type: 'PKCS12'\n    key-store: 'classpath:***.p12'\n    key-alias: '***'\n    enabled: true\n    protocol: 'TLS'\n    key-store-password: '***'\n</code></pre>\n<p>However, if we remove the classpath argument and just place the keystore in the root directory of the project the application runs fine and there are no errors.</p>\n<p><a href=\"https://stackoverflow.com/questions/56148884/spring-boot-https-pkcs12-derinputstream-getlength-lengthtag-111-too-big\">spring boot https PKCS12 DerInputStream.getLength(): lengthTag=111, too big</a></p>\n<p>Have tried following solutions listed here but same error occurs.</p>\n"},{"tags":["java","jboss","jms","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1692830965,"post_id":76965270,"comment_id":135679174,"body_markdown":"Generally speaking, yes. You can repurpose existing code using the JMS API between any compliant broker. The ability to change implementations without changing code is one of the main benefits of using an API in the first place. However, your title mentions JBoss EAP and ActiveMQ pooled connection factory, but your question says nothing about them. Please elaborate as to how these things are involved in your use-case as that may change the answer to your question.","body":"Generally speaking, yes. You can repurpose existing code using the JMS API between any compliant broker. The ability to change implementations without changing code is one of the main benefits of using an API in the first place. However, your title mentions JBoss EAP and ActiveMQ pooled connection factory, but your question says nothing about them. Please elaborate as to how these things are involved in your use-case as that may change the answer to your question."},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1692837842,"post_id":76965270,"comment_id":135679757,"body_markdown":"I edited the question and added information about the resource adapter settings. Pls let me know if you need any additional information. Thx","body":"I edited the question and added information about the resource adapter settings. Pls let me know if you need any additional information. Thx"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1692842882,"post_id":76965270,"comment_id":135680134,"body_markdown":"Are you going to use the instance of ActiveMQ Artemis embedded in JBoss EAP or are you going to use a standalone instance? Also, how are you using the connection factory? Are you injecting it? Are you looking it up in JNDI via `InitialContext`? Can you provide the code that&#39;s using it?","body":"Are you going to use the instance of ActiveMQ Artemis embedded in JBoss EAP or are you going to use a standalone instance? Also, how are you using the connection factory? Are you injecting it? Are you looking it up in JNDI via <code>InitialContext</code>? Can you provide the code that&#39;s using it?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1692884062,"post_id":76965270,"comment_id":135686783,"body_markdown":"ActiveMQ Artemis embedded in JBoss EAP is not utilized. There will be 3 independent Artemis servers (provide support for failover/HA). The connection factory is defined in resource adapter, and is looked up via InitialContext. Sample code using JNDI lookup has been added to the question","body":"ActiveMQ Artemis embedded in JBoss EAP is not utilized. There will be 3 independent Artemis servers (provide support for failover/HA). The connection factory is defined in resource adapter, and is looked up via InitialContext. Sample code using JNDI lookup has been added to the question"}],"answers":[{"comments":[{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1692913650,"post_id":76972387,"comment_id":135693042,"body_markdown":"Thanks Justin. I will check this out and provide the results as soon as possible","body":"Thanks Justin. I will check this out and provide the results as soon as possible"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1693020503,"post_id":76972387,"comment_id":135708372,"body_markdown":"Any feedback so far?","body":"Any feedback so far?"},{"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"score":0,"creation_date":1693063888,"post_id":76972387,"comment_id":135711887,"body_markdown":"Hi Justin. Unfortunately, it may take a few days to test this, but will try this out ASAP","body":"Hi Justin. Unfortunately, it may take a few days to test this, but will try this out ASAP"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692904845,"creation_date":1692904845,"answer_id":76972387,"question_id":76965270,"body_markdown":"Technically speaking you don&#39;t actually need to change anything in JBoss EAP because ActiveMQ Artemis supports the OpenWire protocol which is used by ActiveMQ &quot;Classic&quot;.","title":"Using existing ActiveMQ &quot;Classic&quot; JCA RA in JBoss EAP 7.4 to connect to ActiveMQ Artemis remote servers by changes to configuration","body":"<p>Technically speaking you don't actually need to change anything in JBoss EAP because ActiveMQ Artemis supports the OpenWire protocol which is used by ActiveMQ &quot;Classic&quot;.</p>\n"}],"owner":{"account_id":1108029,"reputation":93,"user_id":1099013,"accept_rate":0,"display_name":"Surjit Sen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692904845,"creation_date":1692829940,"question_id":76965270,"body_markdown":"Is it possible to repurpose existing code connecting to ActiveMQ &quot;Classic&quot; to connect to ActiveMQ Artemis by changes to configuration? If so what are the important parameters that need to be modified?\r\n\r\nCurrent software is deployed on JBoss EAP 7.4.2 and communicates with 2 remote ActiveMQ &quot;Classic&quot; servers that provide support for failover/ha.\r\n\r\nIn the new architecture the ActiveMQ &quot;Classic&quot; servers will get replaced by 3 independent ActiveMQ Artemis servers (version 2.16.0) which will provide failover/HA. Support for embedded ActiveMQ Artemis in JBoss EAP will not be utilized.\r\n\r\nActiveMQ resource adapter settings:\r\n```xml\r\n\t&lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\r\n\t\t&lt;resource-adapters&gt;\r\n\t\t\t&lt;resource-adapter id=&quot;org.apache.activemq&quot;&gt;\r\n\t\t\t\t&lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq&quot;/&gt;\r\n\t\t\t\t&lt;config-property name=&quot;RedeliveryBackOffMultiplier&quot;&gt;3&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;ServerUrl&quot;&gt;failover:(tcp://x.y.z.49:61616,tcp://x.y.z.50:61616)?randomize=false&amp;amp;jms.watchTopicAdvisories=false&amp;amp;timeout=3000&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;RedeliveryUseExponentialBackOff&quot;&gt;false&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;UserName&quot;&gt;user&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;MaximumRedeliveries&quot;&gt;1&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;UseInboundSession&quot;&gt;true&lt;/config-property&gt;\r\n\t\t\t\t&lt;config-property name=&quot;Password&quot;&gt;password&lt;/config-property&gt;\r\n\t\t\t\t&lt;connection-definitions&gt;\r\n\t\t\t\t\t&lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ConnectionFactory&quot; enabled=&quot;true&quot; tracking=&quot;false&quot; use-java-context=&quot;true&quot; pool-name=&quot;ConnectionFactory&quot;&gt;\r\n\t\t\t\t\t\t&lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\r\n\t\t\t\t\t\t&lt;pool&gt;\r\n\t\t\t\t\t\t\t&lt;min-pool-size&gt;4&lt;/min-pool-size&gt;\r\n\t\t\t\t\t\t\t&lt;max-pool-size&gt;256&lt;/max-pool-size&gt;\r\n\t\t\t\t\t\t\t&lt;prefill&gt;true&lt;/prefill&gt;\r\n\t\t\t\t\t\t&lt;/pool&gt;\r\n\t\t\t\t\t\t&lt;timeout&gt;\r\n\t\t\t\t\t\t\t&lt;blocking-timeout-millis&gt;12000&lt;/blocking-timeout-millis&gt;\r\n\t\t\t\t\t\t\t&lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\r\n\t\t\t\t\t\t&lt;/timeout&gt;\r\n\t\t\t\t\t&lt;/connection-definition&gt;\r\n\t\t\t\t&lt;/connection-definitions&gt;\r\n```\r\nJNDI is used to lookup the connection factory, using `InitialContext` as shown in the following code\r\n```java\r\nimport javax.inject.Inject;\r\nimport javax.jms.ConnectionFactory;\r\nimport javax.naming.InitialContext;\r\n\r\nimport javax.ejb.Singleton;\r\nimport javax.ejb.Startup;\r\n\r\n@Singleton\r\n@Startup\r\npublic class BootClass {\r\n\t....\r\n\t@PostConstruct\r\n\tpublic void init() {\r\n\t\ttry {\r\n\t\t\t// &quot;java/ConnectionFactory&quot; defined in resource adapter\r\n\t\t\tfinal ConnectionFactory cf = (ConnectionFactory) (new InitialContext()).lookup(&quot;java:/ConnectionFactory&quot;);\r\n\t\t\t\r\n\t\t\t// cf is used with Camel JMS component\r\n```","title":"Using existing ActiveMQ &quot;Classic&quot; JCA RA in JBoss EAP 7.4 to connect to ActiveMQ Artemis remote servers by changes to configuration","body":"<p>Is it possible to repurpose existing code connecting to ActiveMQ &quot;Classic&quot; to connect to ActiveMQ Artemis by changes to configuration? If so what are the important parameters that need to be modified?</p>\n<p>Current software is deployed on JBoss EAP 7.4.2 and communicates with 2 remote ActiveMQ &quot;Classic&quot; servers that provide support for failover/ha.</p>\n<p>In the new architecture the ActiveMQ &quot;Classic&quot; servers will get replaced by 3 independent ActiveMQ Artemis servers (version 2.16.0) which will provide failover/HA. Support for embedded ActiveMQ Artemis in JBoss EAP will not be utilized.</p>\n<p>ActiveMQ resource adapter settings:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:resource-adapters:6.0&quot;&gt;\n        &lt;resource-adapters&gt;\n            &lt;resource-adapter id=&quot;org.apache.activemq&quot;&gt;\n                &lt;module slot=&quot;main&quot; id=&quot;org.apache.activemq&quot;/&gt;\n                &lt;config-property name=&quot;RedeliveryBackOffMultiplier&quot;&gt;3&lt;/config-property&gt;\n                &lt;config-property name=&quot;ServerUrl&quot;&gt;failover:(tcp://x.y.z.49:61616,tcp://x.y.z.50:61616)?randomize=false&amp;amp;jms.watchTopicAdvisories=false&amp;amp;timeout=3000&lt;/config-property&gt;\n                &lt;config-property name=&quot;RedeliveryUseExponentialBackOff&quot;&gt;false&lt;/config-property&gt;\n                &lt;config-property name=&quot;UserName&quot;&gt;user&lt;/config-property&gt;\n                &lt;config-property name=&quot;MaximumRedeliveries&quot;&gt;1&lt;/config-property&gt;\n                &lt;config-property name=&quot;UseInboundSession&quot;&gt;true&lt;/config-property&gt;\n                &lt;config-property name=&quot;Password&quot;&gt;password&lt;/config-property&gt;\n                &lt;connection-definitions&gt;\n                    &lt;connection-definition class-name=&quot;org.apache.activemq.ra.ActiveMQManagedConnectionFactory&quot; jndi-name=&quot;java:/ConnectionFactory&quot; enabled=&quot;true&quot; tracking=&quot;false&quot; use-java-context=&quot;true&quot; pool-name=&quot;ConnectionFactory&quot;&gt;\n                        &lt;config-property name=&quot;UseInboundSession&quot;&gt;false&lt;/config-property&gt;\n                        &lt;pool&gt;\n                            &lt;min-pool-size&gt;4&lt;/min-pool-size&gt;\n                            &lt;max-pool-size&gt;256&lt;/max-pool-size&gt;\n                            &lt;prefill&gt;true&lt;/prefill&gt;\n                        &lt;/pool&gt;\n                        &lt;timeout&gt;\n                            &lt;blocking-timeout-millis&gt;12000&lt;/blocking-timeout-millis&gt;\n                            &lt;idle-timeout-minutes&gt;5&lt;/idle-timeout-minutes&gt;\n                        &lt;/timeout&gt;\n                    &lt;/connection-definition&gt;\n                &lt;/connection-definitions&gt;\n</code></pre>\n<p>JNDI is used to lookup the connection factory, using <code>InitialContext</code> as shown in the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.inject.Inject;\nimport javax.jms.ConnectionFactory;\nimport javax.naming.InitialContext;\n\nimport javax.ejb.Singleton;\nimport javax.ejb.Startup;\n\n@Singleton\n@Startup\npublic class BootClass {\n    ....\n    @PostConstruct\n    public void init() {\n        try {\n            // &quot;java/ConnectionFactory&quot; defined in resource adapter\n            final ConnectionFactory cf = (ConnectionFactory) (new InitialContext()).lookup(&quot;java:/ConnectionFactory&quot;);\n            \n            // cf is used with Camel JMS component\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt","bean-validation"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692877260,"post_id":76968842,"comment_id":135685114,"body_markdown":"based on error trace check the answer of this question that i gave [The method cannot decide whether the patterns are Spring MVC or not](https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442)","body":"based on error trace check the answer of this question that i gave <a href=\"https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442\">The method cannot decide whether the patterns are Spring MVC or not</a>"},{"owner":{"account_id":21156016,"reputation":3,"user_id":17601311,"display_name":"sdidd"},"score":0,"creation_date":1692971955,"post_id":76968842,"comment_id":135701771,"body_markdown":"Thank you for this will keep in mind about the builder.","body":"Thank you for this will keep in mind about the builder."}],"answers":[{"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692903780,"post_id":76971150,"comment_id":135691320,"body_markdown":"downvoted becuase recommending to use an unknow starter that is not supported by spring, and become dependent on a single developers own private project. I dont encourage this and i dont recommend anyone to use that as there are no guarantees that the project will live for any specific time.","body":"downvoted becuase recommending to use an unknow starter that is not supported by spring, and become dependent on a single developers own private project. I dont encourage this and i dont recommend anyone to use that as there are no guarantees that the project will live for any specific time."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692904740,"post_id":76971150,"comment_id":135691500,"body_markdown":"Thank you for your comment, I&#39;m convinced it is a good thing for readers to know why an answer might not be pertinent. I&#39;m not asking you to revise your vote, but please note that the core  of the answer (almost 90%) is about configuration issues in the question, not about my starter. Also, maybe should you take some time to have look at what this Spring Boot starter does and, more importantly, how it does it and how you could fork it if was to take a direction you don&#39;t like: it is open-source and even if not supported by Spring saved me a lot of time writing (and maintaining) many apps.","body":"Thank you for your comment, I&#39;m convinced it is a good thing for readers to know why an answer might not be pertinent. I&#39;m not asking you to revise your vote, but please note that the core  of the answer (almost 90%) is about configuration issues in the question, not about my starter. Also, maybe should you take some time to have look at what this Spring Boot starter does and, more importantly, how it does it and how you could fork it if was to take a direction you don&#39;t like: it is open-source and even if not supported by Spring saved me a lot of time writing (and maintaining) many apps."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692917540,"post_id":76971150,"comment_id":135693523,"body_markdown":"even thou an answer is 90% about something its still 10% that should not be there, i still dont think pushing the general public to use some unknown project is secure, its more bad practice to use unknown 3rd party dependencies. The world already has enough problems with 3rd party dependencies, and the starter has nothing to do with the answer more than self promotion. Its one thing pushing people to own blogposts, tutorials as long as the information is correct. But unknown code, with unknown guarantees. No.","body":"even thou an answer is 90% about something its still 10% that should not be there, i still dont think pushing the general public to use some unknown project is secure, its more bad practice to use unknown 3rd party dependencies. The world already has enough problems with 3rd party dependencies, and the starter has nothing to do with the answer more than self promotion. Its one thing pushing people to own blogposts, tutorials as long as the information is correct. But unknown code, with unknown guarantees. No."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692921437,"post_id":76971150,"comment_id":135693842,"body_markdown":"So many valuable open-source projects started just like that. And also, unless you don&#39;t test access rules in your OAuth2 apps, you already are using some code originated from the lib you want to prevent others to use: it served as an incubator for OAuth2 `MockMvc` request post-processors and `WebTestClient` mutators that I contributed to `spring-security-test`. But again I&#39;m fine with the fact that you can expose your opinion with down-votes, especially when it comes with a comment so that any reader can understand the motivation and value of this vote.","body":"So many valuable open-source projects started just like that. And also, unless you don&#39;t test access rules in your OAuth2 apps, you already are using some code originated from the lib you want to prevent others to use: it served as an incubator for OAuth2 <code>MockMvc</code> request post-processors and <code>WebTestClient</code> mutators that I contributed to <code>spring-security-test</code>. But again I&#39;m fine with the fact that you can expose your opinion with down-votes, especially when it comes with a comment so that any reader can understand the motivation and value of this vote."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692922159,"post_id":76971150,"comment_id":135693910,"body_markdown":"And by the way, referencing my starter here has more value than self promotion: out of the box, **It solves the problem in the title plus all those that I list**. Yes, it really does, with just properties. Just try.","body":"And by the way, referencing my starter here has more value than self promotion: out of the box, <b>It solves the problem in the title plus all those that I list</b>. Yes, it really does, with just properties. Just try."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1692944694,"post_id":76971150,"comment_id":135696028,"body_markdown":"Downvote still stands, i gave my reason (which i actually dont even need to) have a nice day","body":"Downvote still stands, i gave my reason (which i actually dont even need to) have a nice day"},{"owner":{"account_id":21156016,"reputation":3,"user_id":17601311,"display_name":"sdidd"},"score":0,"creation_date":1692972012,"post_id":76971150,"comment_id":135701786,"body_markdown":"Thanks for the mistakes you found in securityConfig time to read some more documentation.","body":"Thanks for the mistakes you found in securityConfig time to read some more documentation."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692977740,"post_id":76971150,"comment_id":135703219,"body_markdown":"You&#39;re welcome. Note that &quot;my&quot; tutorials I link in &quot;my&quot; repo **start with detailed instructions on how to configure Spring apps with only &quot;offical&quot; starters**. &quot;My&quot; starter is introduced as a 2nd step to ease conf.  So even if you agree with @Toerktumlare about 3rd party libs, you&#39;ll find useful instructions there.","body":"You&#39;re welcome. Note that &quot;my&quot; tutorials I link in &quot;my&quot; repo <b>start with detailed instructions on how to configure Spring apps with only &quot;offical&quot; starters</b>. &quot;My&quot; starter is introduced as a 2nd step to ease conf.  So even if you agree with @Toerktumlare about 3rd party libs, you&#39;ll find useful instructions there."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1692904842,"creation_date":1692893428,"answer_id":76971150,"question_id":76968842,"body_markdown":"The answer to the problem you report is given by Andrei Lisa in his answer. You should upvote the answer he links.\r\n\r\nHowever, there are quite a few other mistakes in the config you report:\r\n- you have no `securityMatcher` in the filter-chain with highest priority (the client one) =&gt; it will intercept all requests and the resource server filter-chain will never get a chance to be tried.\r\n- access to `/login/**` and `/oauth2/**` should be processed by your client filter-chain and be listed in the `permitAll` routes if you want login to work\r\n- you have configured nothing to convert Keycloak roles to Spring authorities. This not done the same way for clients and resource server.\r\n- Keycloak is fully compliant with OIDC. You should be using Spring Security logout **sucess** handler for OIDC instead of defining your own logout handler (`LogoutHandler` and `LogoutSuccessHandler` are not the same thing).\r\n\r\nIf using [&quot;my&quot; starter][1], you&#39;d have no Java conf at all and avoided the problem you report as well as all those I listed. \r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons#oidc-starter","title":"Springboot keycloak oauth2 bean dependency errors","body":"<p>The answer to the problem you report is given by Andrei Lisa in his answer. You should upvote the answer he links.</p>\n<p>However, there are quite a few other mistakes in the config you report:</p>\n<ul>\n<li>you have no <code>securityMatcher</code> in the filter-chain with highest priority (the client one) =&gt; it will intercept all requests and the resource server filter-chain will never get a chance to be tried.</li>\n<li>access to <code>/login/**</code> and <code>/oauth2/**</code> should be processed by your client filter-chain and be listed in the <code>permitAll</code> routes if you want login to work</li>\n<li>you have configured nothing to convert Keycloak roles to Spring authorities. This not done the same way for clients and resource server.</li>\n<li>Keycloak is fully compliant with OIDC. You should be using Spring Security logout <strong>sucess</strong> handler for OIDC instead of defining your own logout handler (<code>LogoutHandler</code> and <code>LogoutSuccessHandler</code> are not the same thing).</li>\n</ul>\n<p>If using <a href=\"https://github.com/ch4mpy/spring-addons#oidc-starter\" rel=\"nofollow noreferrer\">&quot;my&quot; starter</a>, you'd have no Java conf at all and avoided the problem you report as well as all those I listed.</p>\n"}],"owner":{"account_id":21156016,"reputation":3,"user_id":17601311,"display_name":"sdidd"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76971150,"answer_count":1,"score":0,"last_activity_date":1692904842,"creation_date":1692876852,"question_id":76968842,"body_markdown":"So i am trying to use Springboot and keycloak authorization and authentication for a simple login form. Am getting this error:\r\n&gt; Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;clientFilterChain&#39; defined in class path resource [com/login/java/config/SecurityConfig.class]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientFilterChain&#39; defined in class path resource [com/login/java/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n&gt; \r\n&gt; Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;clientFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n\r\nThe errors are shortened to only required lines.\r\nKeyCloak is running on 8080 with realm master\r\n\r\n**SecurityConfig.java**\r\n```\r\npackage com.login.java.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\r\nimport org.springframework.security.core.session.SessionRegistryImpl;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.session.RegisterSessionAuthenticationStrategy;\r\nimport org.springframework.security.web.authentication.session.SessionAuthenticationStrategy;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport static org.springframework.security.config.Customizer.withDefaults;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n\r\n@Configuration\t\r\n@EnableWebSecurity\t\r\nclass SecurityConfig{\t\r\n\t\r\n\t@Autowired\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\t\r\n\t\r\n\t@Autowired\r\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {\t\r\n        this.keycloakLogoutHandler = keycloakLogoutHandler;\t\r\n    }\r\n    \r\n    @Bean\r\n    SessionAuthenticationStrategy sessionAuthenticationStrategy() {\t\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\t\r\n    }\r\n\r\n    @Order(1)\r\n    @Bean\r\n    SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated())\r\n            .oauth2Login(withDefaults())\r\n            .logout(logout -&gt; logout\r\n                .addLogoutHandler(keycloakLogoutHandler)\r\n                .logoutSuccessUrl(&quot;/&quot;));\t\r\n        return http.build();\t\t\r\n    }\r\n\r\n\r\n    @Order(2)\r\n    @Bean\r\n    SecurityFilterChain resourceServerFilterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                .requestMatchers(HttpMethod.GET,&quot;/home*&quot;)\r\n                .hasRole(&quot;user&quot;)\r\n                .anyRequest()\r\n                .authenticated());\t\r\n        http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\t\r\n        return http.build();\t\r\n    }\r\n\r\n    @Bean\r\n    AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\t\r\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\t\r\n            .build();\t\r\n    }\t\r\n}\r\n```\r\n\r\n**LoginController.java**\r\n\r\n```\r\npackage com.login.java;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.client.RestTemplate;\r\nimport org.springframework.web.util.UriComponentsBuilder;\r\n\r\nimport com.login.java.model.user;\r\nimport com.login.java.model.userInterface;\r\n\r\n@Controller\r\npublic class LoginController\r\n{\r\n\tString lol = &quot;LOL&quot;;\r\n\tprivate userInterface userInterface;\r\n\r\n\tprivate RestTemplate restTemplate = new RestTemplate();\r\n\r\n\t@Autowired\r\n\t public LoginController(userInterface userInterface) \r\n\t {\r\n\t    this.userInterface = userInterface;\r\n\t }\r\n\r\n\t@GetMapping(path = &quot;/&quot;)\r\n\tpublic String checkMVC()\r\n\t{\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\t\r\n\t\r\n\t@RequestMapping(path = &quot;/login&quot;)\r\n\tpublic String loginHomepage(\r\n\t\t\t@RequestParam(&quot;username&quot;) String username,\r\n\t\t\t@RequestParam(&quot;password&quot;) String password,\r\n\t\t\tModel model)\r\n\t{\r\n\t\tuser u;\r\n\t\tSystem.out.println(&quot;Searching for user: &quot; + username);\r\n\t\tu = userInterface.findByUsername(username);\r\n\t\tif (u != null)\r\n\t\t{\r\n\t\t    System.out.println(&quot;User found: &quot; + u.getUsername());\r\n\t\t    model.addAttribute(&quot;username&quot;, username);\r\n\t\t    return &quot;home&quot;;\r\n\t\t}\r\n\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/register&quot;)\r\n\tpublic String gotoregisterationpage()\r\n\t{\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/create-user&quot;)\r\n\tpublic String gotoregistermicroservice(\r\n\t        @RequestParam(&quot;username&quot;) String username,\r\n\t        @RequestParam(&quot;email&quot;) String email,\r\n\t        @RequestParam(&quot;password&quot;) String password,\r\n\t        @RequestParam(&quot;cpassword&quot;) String cpassword,\r\n\t        Model model)\r\n\t{\r\n\t    if (password.equals(cpassword))\r\n\t    {\r\n\t        // Construct URL with path variables\r\n\t        String registrationUrl = &quot;http://localhost:8081/register-user/&quot;+username+&quot;/&quot;+password+&quot;/&quot;+email;\r\n\r\n\t        // Create UriComponentsBuilder to build the URL with variables\r\n\t        UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(registrationUrl);\r\n\r\n\t        // Set path variables\r\n\t        builder.queryParam(&quot;id&quot;, 1)\r\n\t        .queryParam(&quot;username&quot;, username)\r\n\t               .queryParam(&quot;password&quot;, password)\r\n\t               .queryParam(&quot;email&quot;, email);\r\n\r\n\t        // Make a GET request using RestTemplate\r\n\t        restTemplate.getForObject(builder.toUriString(), String.class);\r\n\r\n\t        model.addAttribute(&quot;registrationSuccess&quot;, &quot;Registered Kindly Login!!&quot;);\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t        model.addAttribute(&quot;registrationError&quot;, &quot;Password Not matching!!&quot;);\r\n\t        return &quot;login&quot;;\r\n\t    }\r\n\r\n\t    return &quot;login&quot;;\r\n\t}\r\n\r\n\t@GetMapping(path = &quot;/logout&quot;)\r\n\tpublic String logout()\r\n\t{\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.login&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;microservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;name&gt;skam-login&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t\t&lt;oauth.version&gt;2.3.3.RELEASE&lt;/oauth.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${oauth.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**\r\nApplication.properties**\r\n```\r\n##DB Connection\r\nspring.datasource.url= #has correct URL\r\nspring.datasource.username = #has correct username\r\nspring.datasource.password = #has correct pass\r\nspring.jpa.show-sql = true\r\nspring.jpa.open-in-view= false\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n##MVC view\r\nspring.mvc.view.prefix = /WEB-INF/\r\nspring.mvc.view.suffix=.jsp\r\nspring.mvc.static-path-pattern=/resources/**\r\n\r\nserver.port = 8081\r\n\r\n##Spring Security\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\r\n\r\n##KeyCloak\r\nspring.security.oauth2.client.registration.keycloak.client-id=keycloak\r\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.keycloak.scope=openid\r\n\r\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:8080/realms/master\r\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\n\r\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://127.0.0.1:8080/realms/master\r\n```\r\n\r\n**My Folder tree structure**\r\n\r\n```\r\n│   .classpath\r\n│   .gitignore\r\n│   .project\r\n│   HELP.md\r\n│   mvnw\r\n│   mvnw.cmd\r\n│   pom.xml\r\n│   README.md\r\n│\r\n├───.settings\r\n│       org.eclipse.core.resources.prefs\r\n│       org.eclipse.jdt.apt.core.prefs\r\n│       org.eclipse.jdt.core.prefs\r\n│       org.springframework.ide.eclipse.prefs\r\n│\r\n├───src\r\n│   ├───main\r\n│   │   ├───java\r\n│   │   │   └───com\r\n│   │   │       └───login\r\n│   │   │           └───java\r\n│   │   │               │   LoginController.java\r\n│   │   │               │   SkamLoginmApplication.java\r\n│   │   │               │\r\n│   │   │               ├───config\r\n│   │   │               │       KeycloakLogoutHandler.java\r\n│   │   │               │       RestClientConfiguration.java\r\n│   │   │               │       SecurityConfig.java\r\n│   │   │               │\r\n│   │   │               └───model\r\n│   │   │                       user.java\r\n│   │   │                       userInterface.java\r\n│   │   │\r\n│   │   ├───resources\r\n│   │   │       application.properties\r\n│   │   │\r\n│   │   └───webapp\r\n│   │       └───WEB-INF\r\n│   │               home.jsp\r\n│   │               login.jsp\r\n│   │               register.jsp\r\n│   │\r\n│   └───test\r\n│       ├───java\r\n│       └───resources\r\n└───target\r\n    │   microservice-0.0.1.jar\r\n    │   microservice-0.0.1.jar.original\r\n    │\r\n    ├───classes\r\n    │   │   application.properties\r\n    │   │\r\n    │   ├───com\r\n    │   │   └───login\r\n    │   │       └───java\r\n    │   │           │   LoginController.class\r\n    │   │           │   SkamLoginmApplication.class\r\n    │   │           │\r\n    │   │           ├───config\r\n    │   │           │       KeycloakLogoutHandler.class\r\n    │   │           │       RestClientConfiguration.class\r\n    │   │           │       SecurityConfig.class\r\n    │   │           │\r\n    │   │           └───model\r\n    │   │                   user.class\r\n    │   │                   userInterface.class\r\n    │   │\r\n    │   ├───META-INF\r\n    │   │   │   MANIFEST.MF\r\n    │   │   │\r\n    │   │   └───maven\r\n    │   │       └───com.login\r\n    │   │           └───microservice\r\n    │   │                   pom.properties\r\n    │   │                   pom.xml\r\n    │   │\r\n    │   └───WEB-INF\r\n    │           home.jsp\r\n    │           login.jsp\r\n    │           register.jsp\r\n    │\r\n    ├───generated-sources\r\n    │   └───annotations\r\n    ├───generated-test-sources\r\n    │   └───test-annotations\r\n    ├───maven-archiver\r\n    │       pom.properties\r\n    │\r\n    ├───maven-status\r\n    │   └───maven-compiler-plugin\r\n    │       ├───compile\r\n    │       │   └───default-compile\r\n    │       │           createdFiles.lst\r\n    │       │           inputFiles.lst\r\n    │       │\r\n    │       └───testCompile\r\n    │           └───default-testCompile\r\n    │                   createdFiles.lst\r\n    │                   inputFiles.lst\r\n    │\r\n    └───test-classes\r\n```\r\n\r\n\r\n\r\nTried to see the migration documentation of spring security 6 and spring cloud but just couldn&#39;t find the solution.\r\n\r\nAdapters are decapitated so went on to use spring security resource server and was faced with this error of Bean.\r\n\r\nEven if this goes some others comes up like antmatching. ","title":"Springboot keycloak oauth2 bean dependency errors","body":"<p>So i am trying to use Springboot and keycloak authorization and authentication for a simple login form. Am getting this error:</p>\n<blockquote>\n<p>Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'clientFilterChain' defined in class path resource [com/login/java/config/SecurityConfig.class]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientFilterChain' defined in class path resource [com/login/java/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n<p>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'clientFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).</p>\n</blockquote>\n<p>The errors are shortened to only required lines.\nKeyCloak is running on 8080 with realm master</p>\n<p><strong>SecurityConfig.java</strong></p>\n<pre><code>package com.login.java.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\nimport org.springframework.security.core.session.SessionRegistryImpl;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.session.RegisterSessionAuthenticationStrategy;\nimport org.springframework.security.web.authentication.session.SessionAuthenticationStrategy;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\nimport static org.springframework.security.config.Customizer.withDefaults;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\n\n@Configuration  \n@EnableWebSecurity  \nclass SecurityConfig{   \n    \n    @Autowired\n    private final KeycloakLogoutHandler keycloakLogoutHandler;  \n    \n    @Autowired\n    SecurityConfig(KeycloakLogoutHandler keycloakLogoutHandler) {   \n        this.keycloakLogoutHandler = keycloakLogoutHandler; \n    }\n    \n    @Bean\n    SessionAuthenticationStrategy sessionAuthenticationStrategy() { \n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());    \n    }\n\n    @Order(1)\n    @Bean\n    SecurityFilterChain clientFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(HttpMethod.GET, &quot;/&quot;).permitAll()\n                .anyRequest().authenticated())\n            .oauth2Login(withDefaults())\n            .logout(logout -&gt; logout\n                .addLogoutHandler(keycloakLogoutHandler)\n                .logoutSuccessUrl(&quot;/&quot;));    \n        return http.build();        \n    }\n\n\n    @Order(2)\n    @Bean\n    SecurityFilterChain resourceServerFilterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                .requestMatchers(HttpMethod.GET,&quot;/home*&quot;)\n                .hasRole(&quot;user&quot;)\n                .anyRequest()\n                .authenticated());  \n        http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt); \n        return http.build();    \n    }\n\n    @Bean\n    AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {   \n        return http.getSharedObject(AuthenticationManagerBuilder.class) \n            .build();   \n    }   \n}\n</code></pre>\n<p><strong>LoginController.java</strong></p>\n<pre><code>package com.login.java;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Service;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.client.RestTemplate;\nimport org.springframework.web.util.UriComponentsBuilder;\n\nimport com.login.java.model.user;\nimport com.login.java.model.userInterface;\n\n@Controller\npublic class LoginController\n{\n    String lol = &quot;LOL&quot;;\n    private userInterface userInterface;\n\n    private RestTemplate restTemplate = new RestTemplate();\n\n    @Autowired\n     public LoginController(userInterface userInterface) \n     {\n        this.userInterface = userInterface;\n     }\n\n    @GetMapping(path = &quot;/&quot;)\n    public String checkMVC()\n    {\n        return &quot;login&quot;;\n    }\n    \n    \n    @RequestMapping(path = &quot;/login&quot;)\n    public String loginHomepage(\n            @RequestParam(&quot;username&quot;) String username,\n            @RequestParam(&quot;password&quot;) String password,\n            Model model)\n    {\n        user u;\n        System.out.println(&quot;Searching for user: &quot; + username);\n        u = userInterface.findByUsername(username);\n        if (u != null)\n        {\n            System.out.println(&quot;User found: &quot; + u.getUsername());\n            model.addAttribute(&quot;username&quot;, username);\n            return &quot;home&quot;;\n        }\n\n        return &quot;login&quot;;\n    }\n\n    @RequestMapping(path = &quot;/register&quot;)\n    public String gotoregisterationpage()\n    {\n        return &quot;register&quot;;\n    }\n\n    @RequestMapping(path = &quot;/create-user&quot;)\n    public String gotoregistermicroservice(\n            @RequestParam(&quot;username&quot;) String username,\n            @RequestParam(&quot;email&quot;) String email,\n            @RequestParam(&quot;password&quot;) String password,\n            @RequestParam(&quot;cpassword&quot;) String cpassword,\n            Model model)\n    {\n        if (password.equals(cpassword))\n        {\n            // Construct URL with path variables\n            String registrationUrl = &quot;http://localhost:8081/register-user/&quot;+username+&quot;/&quot;+password+&quot;/&quot;+email;\n\n            // Create UriComponentsBuilder to build the URL with variables\n            UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(registrationUrl);\n\n            // Set path variables\n            builder.queryParam(&quot;id&quot;, 1)\n            .queryParam(&quot;username&quot;, username)\n                   .queryParam(&quot;password&quot;, password)\n                   .queryParam(&quot;email&quot;, email);\n\n            // Make a GET request using RestTemplate\n            restTemplate.getForObject(builder.toUriString(), String.class);\n\n            model.addAttribute(&quot;registrationSuccess&quot;, &quot;Registered Kindly Login!!&quot;);\n        }\n        else\n        {\n            model.addAttribute(&quot;registrationError&quot;, &quot;Password Not matching!!&quot;);\n            return &quot;login&quot;;\n        }\n\n        return &quot;login&quot;;\n    }\n\n    @GetMapping(path = &quot;/logout&quot;)\n    public String logout()\n    {\n        return &quot;login&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.login&lt;/groupId&gt;\n    &lt;artifactId&gt;microservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;skam-login&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n        &lt;oauth.version&gt;2.3.3.RELEASE&lt;/oauth.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;${oauth.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>**\nApplication.properties**</p>\n<pre><code>##DB Connection\nspring.datasource.url= #has correct URL\nspring.datasource.username = #has correct username\nspring.datasource.password = #has correct pass\nspring.jpa.show-sql = true\nspring.jpa.open-in-view= false\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n\n##MVC view\nspring.mvc.view.prefix = /WEB-INF/\nspring.mvc.view.suffix=.jsp\nspring.mvc.static-path-pattern=/resources/**\n\nserver.port = 8081\n\n##Spring Security\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration\n\n##KeyCloak\nspring.security.oauth2.client.registration.keycloak.client-id=keycloak\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.keycloak.scope=openid\n\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://127.0.0.1:8080/realms/master\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\n\nspring.security.oauth2.resourceserver.jwt.issuer-uri=http://127.0.0.1:8080/realms/master\n</code></pre>\n<p><strong>My Folder tree structure</strong></p>\n<pre><code>│   .classpath\n│   .gitignore\n│   .project\n│   HELP.md\n│   mvnw\n│   mvnw.cmd\n│   pom.xml\n│   README.md\n│\n├───.settings\n│       org.eclipse.core.resources.prefs\n│       org.eclipse.jdt.apt.core.prefs\n│       org.eclipse.jdt.core.prefs\n│       org.springframework.ide.eclipse.prefs\n│\n├───src\n│   ├───main\n│   │   ├───java\n│   │   │   └───com\n│   │   │       └───login\n│   │   │           └───java\n│   │   │               │   LoginController.java\n│   │   │               │   SkamLoginmApplication.java\n│   │   │               │\n│   │   │               ├───config\n│   │   │               │       KeycloakLogoutHandler.java\n│   │   │               │       RestClientConfiguration.java\n│   │   │               │       SecurityConfig.java\n│   │   │               │\n│   │   │               └───model\n│   │   │                       user.java\n│   │   │                       userInterface.java\n│   │   │\n│   │   ├───resources\n│   │   │       application.properties\n│   │   │\n│   │   └───webapp\n│   │       └───WEB-INF\n│   │               home.jsp\n│   │               login.jsp\n│   │               register.jsp\n│   │\n│   └───test\n│       ├───java\n│       └───resources\n└───target\n    │   microservice-0.0.1.jar\n    │   microservice-0.0.1.jar.original\n    │\n    ├───classes\n    │   │   application.properties\n    │   │\n    │   ├───com\n    │   │   └───login\n    │   │       └───java\n    │   │           │   LoginController.class\n    │   │           │   SkamLoginmApplication.class\n    │   │           │\n    │   │           ├───config\n    │   │           │       KeycloakLogoutHandler.class\n    │   │           │       RestClientConfiguration.class\n    │   │           │       SecurityConfig.class\n    │   │           │\n    │   │           └───model\n    │   │                   user.class\n    │   │                   userInterface.class\n    │   │\n    │   ├───META-INF\n    │   │   │   MANIFEST.MF\n    │   │   │\n    │   │   └───maven\n    │   │       └───com.login\n    │   │           └───microservice\n    │   │                   pom.properties\n    │   │                   pom.xml\n    │   │\n    │   └───WEB-INF\n    │           home.jsp\n    │           login.jsp\n    │           register.jsp\n    │\n    ├───generated-sources\n    │   └───annotations\n    ├───generated-test-sources\n    │   └───test-annotations\n    ├───maven-archiver\n    │       pom.properties\n    │\n    ├───maven-status\n    │   └───maven-compiler-plugin\n    │       ├───compile\n    │       │   └───default-compile\n    │       │           createdFiles.lst\n    │       │           inputFiles.lst\n    │       │\n    │       └───testCompile\n    │           └───default-testCompile\n    │                   createdFiles.lst\n    │                   inputFiles.lst\n    │\n    └───test-classes\n</code></pre>\n<p>Tried to see the migration documentation of spring security 6 and spring cloud but just couldn't find the solution.</p>\n<p>Adapters are decapitated so went on to use spring security resource server and was faced with this error of Bean.</p>\n<p>Even if this goes some others comes up like antmatching.</p>\n"},{"tags":["java","spring-boot","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":25121108,"reputation":1,"user_id":18969438,"display_name":"Soko Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692904462,"creation_date":1692810913,"answer_id":76963554,"question_id":76662964,"body_markdown":"It is because `AbstractTestExecutionListener` is not a Spring Bean. So if you expect to be injected by field injection, it wouldn&#39;t work.\r\n\r\nBut you can extract a port from the `TestContext` which is injected in the method.\r\n\r\n`@Value(&quot;${local.server.port}&quot;)` is exactly the same with `@LocalServerPort`.\r\n\r\n```java\r\n@Override\r\npublic void afterTestMethod(final TestContext testContext) throws Exception {\r\n\tEnvironment environment = testContext.getApplicationContext().getEnvironment();\r\n\tint port = environment.getProperty(&quot;local.server.port&quot;, Integer.class);\r\n\tRestAssured.port = port;\r\n\tJdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\r\n\r\n\tList&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT(&#39;TRUNCATE TABLE &#39;, TABLE_NAME, &#39;;&#39;) AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &#39;chatUniv&#39;&quot;, String.class);\r\n\ttruncateAllTables(jdbcTemplate, truncateAllTablesQuery);\r\n}\r\n```","title":"Spring filed injection into Spring TestExecutionListeners not working","body":"<p>It is because <code>AbstractTestExecutionListener</code> is not a Spring Bean. So if you expect to be injected by field injection, it wouldn't work.</p>\n<p>But you can extract a port from the <code>TestContext</code> which is injected in the method.</p>\n<p><code>@Value(&quot;${local.server.port}&quot;)</code> is exactly the same with <code>@LocalServerPort</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void afterTestMethod(final TestContext testContext) throws Exception {\n    Environment environment = testContext.getApplicationContext().getEnvironment();\n    int port = environment.getProperty(&quot;local.server.port&quot;, Integer.class);\n    RestAssured.port = port;\n    JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\n\n    List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT('TRUNCATE TABLE ', TABLE_NAME, ';') AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'chatUniv'&quot;, String.class);\n    truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\n}\n</code></pre>\n"}],"owner":{"account_id":24196495,"reputation":33,"user_id":18154957,"display_name":"Jaeyoon Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692904462,"creation_date":1689085291,"question_id":76662964,"body_markdown":"How can I use Spring injection about int field(About random port) into a TestExecutionListener class I wrote extending AbstractTestExecutionListener?\r\n\r\nI make this\r\n\r\n```\r\npublic class IntegrationHelper extends AbstractTestExecutionListener {\r\n\r\n    @LocalServerPort\r\n    private int port;\r\n\r\n    @Override\r\n    public void afterTestMethod(final TestContext testContext) throws Exception {\r\n        RestAssured.port = port;\r\n        JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\r\n\r\n        List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT(&#39;TRUNCATE TABLE &#39;, TABLE_NAME, &#39;;&#39;) AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = &#39;chatUniv&#39;&quot;, String.class);\r\n        truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\r\n    }\r\n\r\n    private void truncateAllTables(final JdbcTemplate jdbcTemplate, final List&lt;String&gt; truncateAllTablesQuery) {\r\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\r\n\r\n        for (String truncateQuery : truncateAllTablesQuery) {\r\n            jdbcTemplate.execute(truncateQuery);\r\n        }\r\n\r\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@TestExecutionListeners(value = {IntegrationHelper.class}, mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic @interface IntegrationTest {\r\n}\r\n```\r\n\r\n```\r\n@IntegrationTest\r\npublic class AuthControllerIntegrationTest {\r\n\r\n    @Autowired\r\n    private AuthService authService;\r\n\r\n    @Autowired\r\n    private MemberRepository memberRepository;\r\n\r\n    @DisplayName(&quot;회원가입을 한다.&quot;)\r\n    @Test\r\n    void register_member() {\r\n        // given\r\n        MemberCreateRequest memberCreateRequest = new MemberCreateRequest(&quot;a@a.com&quot;, &quot;1234&quot;);\r\n\r\n        // when\r\n        Response response = RestAssured.given()\r\n                .contentType(ContentType.JSON)\r\n                .body(memberCreateRequest)\r\n                .when()\r\n                .post(&quot;/api/auth/sign-up&quot;);\r\n\r\n        // then\r\n        response.then()\r\n                .statusCode(HttpStatus.CREATED.value());\r\n    }\r\n}\r\n```\r\n\r\nError message is\r\n```\r\njava.lang.IllegalArgumentException: Port must be greater than 0\r\n\r\n```\r\n\r\nI want to delete duplication code. So I try to move to annotation.\r\nbut random port doesn&#39;t insert in test code\r\n\r\nHelp me please..\r\n\r\nI want to delete duplication code. So I try to move to annotation. but random port doesn&#39;t insert in test code","title":"Spring filed injection into Spring TestExecutionListeners not working","body":"<p>How can I use Spring injection about int field(About random port) into a TestExecutionListener class I wrote extending AbstractTestExecutionListener?</p>\n<p>I make this</p>\n<pre><code>public class IntegrationHelper extends AbstractTestExecutionListener {\n\n    @LocalServerPort\n    private int port;\n\n    @Override\n    public void afterTestMethod(final TestContext testContext) throws Exception {\n        RestAssured.port = port;\n        JdbcTemplate jdbcTemplate = testContext.getApplicationContext().getBean(JdbcTemplate.class);\n\n        List&lt;String&gt; truncateAllTablesQuery = jdbcTemplate.queryForList(&quot;SELECT CONCAT('TRUNCATE TABLE ', TABLE_NAME, ';') AS q FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = 'chatUniv'&quot;, String.class);\n        truncateAllTables(jdbcTemplate, truncateAllTablesQuery);\n    }\n\n    private void truncateAllTables(final JdbcTemplate jdbcTemplate, final List&lt;String&gt; truncateAllTablesQuery) {\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 0&quot;);\n\n        for (String truncateQuery : truncateAllTablesQuery) {\n            jdbcTemplate.execute(truncateQuery);\n        }\n\n        jdbcTemplate.execute(&quot;SET FOREIGN_KEY_CHECKS = 1&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@TestExecutionListeners(value = {IntegrationHelper.class}, mergeMode = TestExecutionListeners.MergeMode.MERGE_WITH_DEFAULTS)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic @interface IntegrationTest {\n}\n</code></pre>\n<pre><code>@IntegrationTest\npublic class AuthControllerIntegrationTest {\n\n    @Autowired\n    private AuthService authService;\n\n    @Autowired\n    private MemberRepository memberRepository;\n\n    @DisplayName(&quot;회원가입을 한다.&quot;)\n    @Test\n    void register_member() {\n        // given\n        MemberCreateRequest memberCreateRequest = new MemberCreateRequest(&quot;a@a.com&quot;, &quot;1234&quot;);\n\n        // when\n        Response response = RestAssured.given()\n                .contentType(ContentType.JSON)\n                .body(memberCreateRequest)\n                .when()\n                .post(&quot;/api/auth/sign-up&quot;);\n\n        // then\n        response.then()\n                .statusCode(HttpStatus.CREATED.value());\n    }\n}\n</code></pre>\n<p>Error message is</p>\n<pre><code>java.lang.IllegalArgumentException: Port must be greater than 0\n\n</code></pre>\n<p>I want to delete duplication code. So I try to move to annotation.\nbut random port doesn't insert in test code</p>\n<p>Help me please..</p>\n<p>I want to delete duplication code. So I try to move to annotation. but random port doesn't insert in test code</p>\n"},{"tags":["java","xml","w3c"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1692892657,"post_id":76971040,"comment_id":135688897,"body_markdown":"Have you tried calling `setIgnoringElementContentWhitespace()` *before* `newDocumentBuilder()`? I wouldn&#39;t be surprised if that were the problem. (I wouldn&#39;t personally expect an already-created DocumentBuilder to be modified by a change to the factory that created it.)","body":"Have you tried calling <code>setIgnoringElementContentWhitespace()</code> <i>before</i> <code>newDocumentBuilder()</code>? I wouldn&#39;t be surprised if that were the problem. (I wouldn&#39;t personally expect an already-created DocumentBuilder to be modified by a change to the factory that created it.)"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1692898424,"post_id":76971040,"comment_id":135690245,"body_markdown":"They&#39;re not &quot;non-existent elements&quot;, they&#39;re elements you didn&#39;t explicitly create. Whether or not whitespace matters depends on context, not content.","body":"They&#39;re not &quot;non-existent elements&quot;, they&#39;re elements you didn&#39;t explicitly create. Whether or not whitespace matters depends on context, not content."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692903688,"post_id":76971040,"comment_id":135691304,"body_markdown":"“I couldn&#39;t find anything about that behaviour.” 1. Look at org.w3c.dom javadoc. 2. Follow link in that javadoc to DOM Specification. 3. Read in [the section on Text](https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1312295772) that “If there is no markup inside an element&#39;s content, the text is contained in a single object implementing the Text interface that is the only child of the element. If there is markup, it is parsed into the information items (elements, comments, etc.) and Text nodes that form the list of children of the element.”","body":"“I couldn&#39;t find anything about that behaviour.” 1. Look at org.w3c.dom javadoc. 2. Follow link in that javadoc to DOM Specification. 3. Read in <a href=\"https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-1312295772\" rel=\"nofollow noreferrer\">the section on Text</a> that “If there is no markup inside an element&#39;s content, the text is contained in a single object implementing the Text interface that is the only child of the element. If there is markup, it is parsed into the information items (elements, comments, etc.) and Text nodes that form the list of children of the element.”"},{"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"score":0,"creation_date":1692904483,"post_id":76971040,"comment_id":135691458,"body_markdown":"@JonSkeet sorry actually I did call it before the creation I just pasted it wrong in the post. Updated it. still parsing the whitespaces as elements.","body":"@JonSkeet sorry actually I did call it before the creation I just pasted it wrong in the post. Updated it. still parsing the whitespaces as elements."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692898282,"creation_date":1692898282,"answer_id":76971690,"question_id":76971040,"body_markdown":"Whitespace-only text nodes in general are significant: consider\r\n\r\n    &lt;para&gt;A &lt;adj&gt;great&lt;/adj&gt; &lt;adj&gt;green&lt;/adj&gt; &lt;noun&gt;dragon&lt;/noun&gt;.&lt;/para&gt;\r\n\r\nSo if your application wants to treat whitespace as insignificant, you generally have to tell the parser explicitly to throw it away. Different XML APIs have different ways of doing this.","title":"W3C Document.parse() produces unwanted elements","body":"<p>Whitespace-only text nodes in general are significant: consider</p>\n<pre><code>&lt;para&gt;A &lt;adj&gt;great&lt;/adj&gt; &lt;adj&gt;green&lt;/adj&gt; &lt;noun&gt;dragon&lt;/noun&gt;.&lt;/para&gt;\n</code></pre>\n<p>So if your application wants to treat whitespace as insignificant, you generally have to tell the parser explicitly to throw it away. Different XML APIs have different ways of doing this.</p>\n"}],"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692904424,"creation_date":1692892527,"question_id":76971040,"body_markdown":"I just made up a simple XML file:\r\n\r\n    &lt;main&gt;\r\n        &lt;foo&gt;\r\n            &lt;bar&gt;1&lt;/bar&gt;\r\n            &lt;bar&gt;2&lt;/bar&gt;\r\n            &lt;bar&gt;3&lt;/bar&gt;\r\n        &lt;/foo&gt;\r\n    &lt;/main&gt;\r\n\r\nI just tried to count the `bars` inside `foo` with this code:\r\n    \r\n    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    dbf.setIgnoringElementContentWhitespace(true);\r\n    \r\n    InputStream is = new FileInputStream(FILE_FORMATTED);\r\n    DocumentBuilder db = dbf.newDocumentBuilder();\r\n    \r\n    Document doc = db.parse(is);\r\n    NodeList bars = doc.getElementsByTagName(&quot;foo&quot;).item(0).getChildNodes();\r\n    \r\n    System.out.println(bars.getLength());\r\n\r\nTo my confusion i get `7` printed in the console. I then checked in the debugger what&#39;s inside the NodeList (screenshot appended). The parser apparently produces some Nodes from line breaks and whitespaces.\r\n\r\nWhen I swapped the XML for a file without any formatting (and less readable), I got the expected result `3` printed. Here&#39;s the other XML:\r\n\r\n    &lt;main&gt;&lt;foo&gt;&lt;bar&gt;1&lt;/bar&gt;&lt;bar&gt;2&lt;/bar&gt;&lt;bar&gt;3&lt;/bar&gt;&lt;/foo&gt;&lt;/main&gt;\r\n\r\nI couldn&#39;t find anything about that behaviour. Is it not considered to be used on formatted XML files? Even `dbf.setIgnoringElementContentWhitespace(true)` didn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b54vM.png\r\n\r\n","title":"W3C Document.parse() produces unwanted elements","body":"<p>I just made up a simple XML file:</p>\n<pre><code>&lt;main&gt;\n    &lt;foo&gt;\n        &lt;bar&gt;1&lt;/bar&gt;\n        &lt;bar&gt;2&lt;/bar&gt;\n        &lt;bar&gt;3&lt;/bar&gt;\n    &lt;/foo&gt;\n&lt;/main&gt;\n</code></pre>\n<p>I just tried to count the <code>bars</code> inside <code>foo</code> with this code:</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\ndbf.setIgnoringElementContentWhitespace(true);\n\nInputStream is = new FileInputStream(FILE_FORMATTED);\nDocumentBuilder db = dbf.newDocumentBuilder();\n\nDocument doc = db.parse(is);\nNodeList bars = doc.getElementsByTagName(&quot;foo&quot;).item(0).getChildNodes();\n\nSystem.out.println(bars.getLength());\n</code></pre>\n<p>To my confusion i get <code>7</code> printed in the console. I then checked in the debugger what's inside the NodeList (screenshot appended). The parser apparently produces some Nodes from line breaks and whitespaces.</p>\n<p>When I swapped the XML for a file without any formatting (and less readable), I got the expected result <code>3</code> printed. Here's the other XML:</p>\n<pre><code>&lt;main&gt;&lt;foo&gt;&lt;bar&gt;1&lt;/bar&gt;&lt;bar&gt;2&lt;/bar&gt;&lt;bar&gt;3&lt;/bar&gt;&lt;/foo&gt;&lt;/main&gt;\n</code></pre>\n<p>I couldn't find anything about that behaviour. Is it not considered to be used on formatted XML files? Even <code>dbf.setIgnoringElementContentWhitespace(true)</code> didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/b54vM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b54vM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jmeter","beanshell"],"comments":[{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1379613177,"post_id":18901466,"comment_id":27901227,"body_markdown":"Just to make sure, you did check that the jar you exported really contains your compiled class, and you did restart JMeter after copying it in lib/ext, right?","body":"Just to make sure, you did check that the jar you exported really contains your compiled class, and you did restart JMeter after copying it in lib/ext, right?"},{"owner":{"account_id":423858,"reputation":53,"user_id":803531,"accept_rate":25,"display_name":"Eshi"},"score":0,"creation_date":1379613384,"post_id":18901466,"comment_id":27901334,"body_markdown":"Yes, the jar contains the class I need. I used maven to compile the jars so that it pulls all dependencies as well.","body":"Yes, the jar contains the class I need. I used maven to compile the jars so that it pulls all dependencies as well."},{"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"score":0,"creation_date":1379613723,"post_id":18901466,"comment_id":27901511,"body_markdown":"Maven will not pack your dependencies inside your jar with the rest of the classes. It will only pack them if you&#39;re building a war. Can you please paste the User class as well?","body":"Maven will not pack your dependencies inside your jar with the rest of the classes. It will only pack them if you&#39;re building a war. Can you please paste the User class as well?"},{"owner":{"account_id":3199615,"reputation":65,"user_id":2701941,"display_name":"PengWu"},"score":0,"creation_date":1379915205,"post_id":18901466,"comment_id":27989038,"body_markdown":"[link](http://www.milinovsky.at/jalbum/) there is the same question you had.","body":"<a href=\"http://www.milinovsky.at/jalbum/\" rel=\"nofollow noreferrer\">link</a> there is the same question you had."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1524546480,"post_id":18901466,"comment_id":87003876,"body_markdown":"Can you show `User` class? (or main parts of it with method)","body":"Can you show <code>User</code> class? (or main parts of it with method)"}],"answers":[{"tags":[],"owner":{"account_id":209652,"reputation":34028,"user_id":460802,"display_name":"UBIK LOAD PACK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379710939,"creation_date":1379710939,"answer_id":18925817,"question_id":18901466,"body_markdown":"Put the jar that contains &quot;com.qa.base.services.user.User&quot; and all its dependencies in jmeter/lib folder and it should work.","title":"JMeter: Calling external classes and methods?","body":"<p>Put the jar that contains \"com.qa.base.services.user.User\" and all its dependencies in jmeter/lib folder and it should work.</p>\n"}],"owner":{"account_id":423858,"reputation":53,"user_id":803531,"accept_rate":25,"display_name":"Eshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9765,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692903960,"creation_date":1379612403,"question_id":18901466,"body_markdown":"I have a Java test project that I would like to import in my JMeter test so that I can call the existing methods in the test project. I did some research, and came to know that I can create a jar of my Java project, copy the jar into the JMETER_HOME/lib/ext folder, and then use the BeanShell Processor to call the external methods. \r\n\r\nI am trying to use the existing test project, and call its methods to generate a JSON payload. \r\nI added a BeanShell PreProcessor, and did something like:\r\n\r\n    import com.qa.base.services.user.User;\r\n    \r\n    User user = User.generateSimpleUser();\r\n            user.setField(&quot;username&quot;, &quot;testUsername&quot;);\r\n            user.setField(&quot;password&quot;, &quot;testPassword&quot;);\r\n            \r\n    vars.put(&quot;requestJsonPayload&quot;, user.toString());\r\n\r\nThis does not seem to work, and I get an ERROR:\r\n\r\n&gt; ERROR - jmeter.util.BeanShellInterpreter: Error invoking bsh method:\r\n&gt; eval\tSourced file: inline evaluation of: ``import\r\n&gt; com.qa.base.services.user.User&#39;&#39; : Typed variable declaration : Method\r\n&gt; Invocation User.generateSimpleUser()\r\n\r\nAnybody know how I can achieve what I am trying to do? Any suggestions, comments, links to tutorials, examples would be helpful. Thanks in advance!\r\n\r\n**More Info:**\r\n\r\nI am also using a BeanShell PostProcessor that gets the response payload of one of my requests, removes some fields in the payload, and constructs a new payload which I can send as a request payload for another request. The BeanShell PostProcessor works without any issues. I used JSONObject for this, and my code looks like:\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    String jsonString = prev.getResponseDataAsString();\r\n    print(jsonString);\r\n    JSONObject responseJSON = new JSONObject(jsonString);\r\n    responseJSON.remove(&quot;createTime&quot;);\r\n    responseJSON.remove(&quot;id&quot;);\r\n    \r\n    vars.put(&quot;updatedJsonPayload&quot;,responseJSON.toString());\r\n\r\n","title":"JMeter: Calling external classes and methods?","body":"<p>I have a Java test project that I would like to import in my JMeter test so that I can call the existing methods in the test project. I did some research, and came to know that I can create a jar of my Java project, copy the jar into the JMETER_HOME/lib/ext folder, and then use the BeanShell Processor to call the external methods. </p>\n\n<p>I am trying to use the existing test project, and call its methods to generate a JSON payload. \nI added a BeanShell PreProcessor, and did something like:</p>\n\n<pre><code>import com.qa.base.services.user.User;\n\nUser user = User.generateSimpleUser();\n        user.setField(\"username\", \"testUsername\");\n        user.setField(\"password\", \"testPassword\");\n\nvars.put(\"requestJsonPayload\", user.toString());\n</code></pre>\n\n<p>This does not seem to work, and I get an ERROR:</p>\n\n<blockquote>\n  <p>ERROR - jmeter.util.BeanShellInterpreter: Error invoking bsh method:\n  eval  Sourced file: inline evaluation of: ``import\n  com.qa.base.services.user.User'' : Typed variable declaration : Method\n  Invocation User.generateSimpleUser()</p>\n</blockquote>\n\n<p>Anybody know how I can achieve what I am trying to do? Any suggestions, comments, links to tutorials, examples would be helpful. Thanks in advance!</p>\n\n<p><strong>More Info:</strong></p>\n\n<p>I am also using a BeanShell PostProcessor that gets the response payload of one of my requests, removes some fields in the payload, and constructs a new payload which I can send as a request payload for another request. The BeanShell PostProcessor works without any issues. I used JSONObject for this, and my code looks like:</p>\n\n<pre><code>import org.json.JSONObject;\n\nString jsonString = prev.getResponseDataAsString();\nprint(jsonString);\nJSONObject responseJSON = new JSONObject(jsonString);\nresponseJSON.remove(\"createTime\");\nresponseJSON.remove(\"id\");\n\nvars.put(\"updatedJsonPayload\",responseJSON.toString());\n</code></pre>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692899584,"post_id":76971779,"comment_id":135690490,"body_markdown":"Shouldn&#39;t that be `System.out.println(Instant.now(c));\n`?","body":"Shouldn&#39;t that be <code>System.out.println(Instant.now(c)); </code>?"},{"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"score":1,"creation_date":1692900297,"post_id":76971779,"comment_id":135690646,"body_markdown":"Then I get the correct time. But to convert that Instant to `LocalDateTime` I would have to use `LocalDateTime.ofInstant(Instant.now(c), ZoneOffset.UTC)`.","body":"Then I get the correct time. But to convert that Instant to <code>LocalDateTime</code> I would have to use <code>LocalDateTime.ofInstant(Instant.now(c), ZoneOffset.UTC)</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693033535,"post_id":76971779,"comment_id":135709044,"body_markdown":"Yes, there is a UTC conversion going on. You specified your fixed time as 10:15:30 UTC (denoted by the trailing `Z`), and you specified German time zone. So your clock converts 10:15 UTC to German time and gives you 12:15.","body":"Yes, there is a UTC conversion going on. You specified your fixed time as 10:15:30 UTC (denoted by the trailing <code>Z</code>), and you specified German time zone. So your clock converts 10:15 UTC to German time and gives you 12:15."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1693130444,"post_id":76971779,"comment_id":135717147,"body_markdown":"You should not want to use `LocalDateTime` for a date and time in UTC anyway. Use `Instant` or `OffsetDateTime`. The latter will even know that it is in UTC (has offset 0 from UTC). For a clock hat gives you a fixed UTC time you may use either of (1) `InstantSource.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;))` (2) `Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneOffset.UTC)` (3) building on the clock you already have: `c.withZone(ZoneOffset.UTC)`.","body":"You should not want to use <code>LocalDateTime</code> for a date and time in UTC anyway. Use <code>Instant</code> or <code>OffsetDateTime</code>. The latter will even know that it is in UTC (has offset 0 from UTC). For a clock hat gives you a fixed UTC time you may use either of (1) <code>InstantSource.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;)&zwnj;&#8203;)</code> (2) <code>Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneOffset.UTC)</code> (3) building on the clock you already have: <code>c.withZone(ZoneOffset.UTC)</code>."}],"answers":[{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1693217637,"post_id":76972259,"comment_id":135726414,"body_markdown":"Nice answer, somehow I never needed to use `Clock`","body":"Nice answer, somehow I never needed to use <code>Clock</code>"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692903586,"creation_date":1692903586,"answer_id":76972259,"question_id":76971779,"body_markdown":"2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00 and the `LocalDateTime` from this `OffsetDateTime` gives you 2018-04-29T12:15:30; so does your `LocalDateTime.now(c)`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Instant instant = Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;);\r\n            ZoneId zoneId = ZoneId.of(&quot;Europe/Berlin&quot;);\r\n            Clock c= Clock.fixed(instant, zoneId);\r\n    \r\n            // 2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00\r\n            OffsetDateTime odt = instant.atZone(zoneId).toOffsetDateTime();\r\n            System.out.println(odt);\r\n    \r\n            // LocalDateTime from this OffsetDateTime results in 2018-04-29T12:15:30\r\n            System.out.println(odt.toLocalDateTime());\r\n    \r\n            // So does LocalDateTime.now(c)\r\n            System.out.println(LocalDateTime.now(c));\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    2018-04-29T12:15:30+02:00\r\n    2018-04-29T12:15:30\r\n    2018-04-29T12:15:30\r\n\r\nHow to get your desired output?\r\n---\r\n\r\nYou need to use the UTC offset to get the `LocalDateTime` with the same value as the given `Instant`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Clock c = Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n            LocalDateTime ldt = Instant.now(c).atZone(ZoneOffset.UTC).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n**Output:**\r\n\r\n    2018-04-29T10:15:30\r\n\r\n[Online Demo](https://ideone.com/XS0Bin)\r\n\r\nLearn about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Fixed Clock and LocalDateTime","body":"<p>2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00 and the <code>LocalDateTime</code> from this <code>OffsetDateTime</code> gives you 2018-04-29T12:15:30; so does your <code>LocalDateTime.now(c)</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Instant instant = Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;);\n        ZoneId zoneId = ZoneId.of(&quot;Europe/Berlin&quot;);\n        Clock c= Clock.fixed(instant, zoneId);\n\n        // 2018-04-29T10:15:30.00Z corresponds to 2018-04-29T12:15:30+02:00\n        OffsetDateTime odt = instant.atZone(zoneId).toOffsetDateTime();\n        System.out.println(odt);\n\n        // LocalDateTime from this OffsetDateTime results in 2018-04-29T12:15:30\n        System.out.println(odt.toLocalDateTime());\n\n        // So does LocalDateTime.now(c)\n        System.out.println(LocalDateTime.now(c));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2018-04-29T12:15:30+02:00\n2018-04-29T12:15:30\n2018-04-29T12:15:30\n</code></pre>\n<h2>How to get your desired output?</h2>\n<p>You need to use the UTC offset to get the <code>LocalDateTime</code> with the same value as the given <code>Instant</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Clock c = Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\n        LocalDateTime ldt = Instant.now(c).atZone(ZoneOffset.UTC).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2018-04-29T10:15:30\n</code></pre>\n<p><a href=\"https://ideone.com/XS0Bin\" rel=\"noreferrer\">Online Demo</a></p>\n<p>Learn about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76972259,"answer_count":1,"score":4,"last_activity_date":1692903952,"creation_date":1692899036,"question_id":76971779,"body_markdown":"For testing purposes I want to create a fixed `Clock` with a time zone:\r\n\r\n```java\r\nClock c= Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n//yields FixedClock[2018-04-29T10:15:30Z,Europe/Berlin]\r\n```\r\n\r\nNow I want to use the `Clock` wit `LocalDateTime`:\r\n```java\r\nLocalDateTime.now(c);\r\n//yields 2018-04-29T12:15:30\r\n```\r\n\r\nWhy I&#39;m getting this offset by two hours? Is there a UTC conversion somewhere? What would I have to do to generate a fixed `Clock` with time zone and `LocalDate.now(c)` yields the same time?\r\n","title":"Fixed Clock and LocalDateTime","body":"<p>For testing purposes I want to create a fixed <code>Clock</code> with a time zone:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clock c= Clock.fixed(Instant.parse(&quot;2018-04-29T10:15:30.00Z&quot;), ZoneId.of(&quot;Europe/Berlin&quot;));\n//yields FixedClock[2018-04-29T10:15:30Z,Europe/Berlin]\n</code></pre>\n<p>Now I want to use the <code>Clock</code> wit <code>LocalDateTime</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime.now(c);\n//yields 2018-04-29T12:15:30\n</code></pre>\n<p>Why I'm getting this offset by two hours? Is there a UTC conversion somewhere? What would I have to do to generate a fixed <code>Clock</code> with time zone and <code>LocalDate.now(c)</code> yields the same time?</p>\n"},{"tags":["java","text-files","java.util.scanner","network-drive"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692903993,"post_id":76972254,"comment_id":135691361,"body_markdown":"It&#39;s got nothing to do with java. Or at least, nothing to do with the code you pasted; it&#39;s fine.","body":"It&#39;s got nothing to do with java. Or at least, nothing to do with the code you pasted; it&#39;s fine."},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692904223,"post_id":76972254,"comment_id":135691407,"body_markdown":"@rzwitserloot I know, just figured I would include the language and the code being used for the full picture","body":"@rzwitserloot I know, just figured I would include the language and the code being used for the full picture"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692916865,"post_id":76972254,"comment_id":135693448,"body_markdown":"What is the size, in bytes, of the file on the C: drive?  What is the size, in bytes, of the file on the N: drive?","body":"What is the size, in bytes, of the file on the C: drive?  What is the size, in bytes, of the file on the N: drive?"},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692963199,"post_id":76972254,"comment_id":135699643,"body_markdown":"@VGR Both are same size: 1,248,212 bytes","body":"@VGR Both are same size: 1,248,212 bytes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692965745,"post_id":76972254,"comment_id":135700215,"body_markdown":"See what happens when you do it like this: `import java.nio.file.Files;import java.nio.file.Path;import java.io.InputStream;public class LineCounter {public static void main(String[] args) throws Exception {try(InputStream in = Files.newInputStream(Path.of(&quot;N:/textfile.txt&quot;))) {int count = 0;int buf = -1;while ((buf = in.read()) &gt; -1) {if (buf == &#39;\\n&#39;) {count++;}}System.out.printf(&quot;File contains %d line(s)%n&quot;, count);}}}`","body":"See what happens when you do it like this: <code>import java.nio.file.Files;import java.nio.file.Path;import java.io.InputStream;public class LineCounter {public static void main(String[] args) throws Exception {try(InputStream in = Files.newInputStream(Path.of(&quot;N:&#47;textfile.txt&quot;))) {int count = 0;int buf = -1;while ((buf = in.read()) &gt; -1) {if (buf == &#39;\\n&#39;) {count++;}}System.out.printf(&quot;File contains %d line(s)%n&quot;, count);}}}</code>"},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1692966416,"post_id":76972254,"comment_id":135700367,"body_markdown":"This is really strange. I created a text file with 18,000 lines and 1.24 MB size in a network drive (Z:) but could not reproduce the issue. Your code just gives the correct line number.","body":"This is really strange. I created a text file with 18,000 lines and 1.24 MB size in a network drive (Z:) but could not reproduce the issue. Your code just gives the correct line number."},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692967427,"post_id":76972254,"comment_id":135700611,"body_markdown":"@g00se that code counted it correctly!","body":"@g00se that code counted it correctly!"},{"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"score":0,"creation_date":1692969731,"post_id":76972254,"comment_id":135701181,"body_markdown":"@g00se Thank you so much.. I ended up using input stream in conjunction with scanner to perform the operations I needed to.","body":"@g00se Thank you so much.. I ended up using input stream in conjunction with scanner to perform the operations I needed to."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692973701,"post_id":76972254,"comment_id":135702208,"body_markdown":"That&#39;s OK - as long as you don&#39;t use it as a universal solution to line counting as there might be the occasional early/exotic text file for which that won&#39;t work","body":"That&#39;s OK - as long as you don&#39;t use it as a universal solution to line counting as there might be the occasional early/exotic text file for which that won&#39;t work"}],"owner":{"account_id":10638360,"reputation":7,"user_id":7834335,"display_name":"telephony"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692903606,"creation_date":1692903537,"question_id":76972254,"body_markdown":"I have an 18,000 line text file that I am scanning from a mapped network drive. I am using the scanner class in Java. When the file is stored on my local machine, my code confirms that it has 18,000 lines via a line counter variable. Using the same code, but only changing the file path of the text file to the network drive, it returns ~700 lines. Does anyone know why this might be happening? When I drag the file from network drive to C, it returns 700, but when I copy the contents and put it in a new file in C drive, it returns the true number of lines. My code is below:\r\n\r\n    public static void main(String[] args) throws FileNotFoundException\r\n    \t{\r\n    \t\tFile text = new File(&quot;C:\\\\Users\\\\textfile.txt&quot;); //returns correct number of lines\r\n            //File text = new File(&quot;N:\\\\textfile.txt&quot;); //returns incorrect number of lines\r\n    \t\tScanner scan = new Scanner(text);\r\n    \t\tint linecount = 0;\r\n    \t\twhile(scan.hasNextLine())\r\n    \t\t{\r\n    \t\t\tlinecount++;\r\n    \t\t\tscan.nextLine();\r\n    \t\t}\r\n    \t\tscan.close();\r\n    \t\tSystem.out.println(linecount);\r\n    \t}","title":"Java scanning text file incorrectly from network drive","body":"<p>I have an 18,000 line text file that I am scanning from a mapped network drive. I am using the scanner class in Java. When the file is stored on my local machine, my code confirms that it has 18,000 lines via a line counter variable. Using the same code, but only changing the file path of the text file to the network drive, it returns ~700 lines. Does anyone know why this might be happening? When I drag the file from network drive to C, it returns 700, but when I copy the contents and put it in a new file in C drive, it returns the true number of lines. My code is below:</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException\n    {\n        File text = new File(&quot;C:\\\\Users\\\\textfile.txt&quot;); //returns correct number of lines\n        //File text = new File(&quot;N:\\\\textfile.txt&quot;); //returns incorrect number of lines\n        Scanner scan = new Scanner(text);\n        int linecount = 0;\n        while(scan.hasNextLine())\n        {\n            linecount++;\n            scan.nextLine();\n        }\n        scan.close();\n        System.out.println(linecount);\n    }\n</code></pre>\n"},{"tags":["javascript","java","javafx","webengine"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692477454,"post_id":76935553,"comment_id":135629483,"body_markdown":"See the [escaping section for this JavaScript tutorial](https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#escaping-quotes-and-apostrophes-in-strings).  Perhaps the template escaping method described there using back ticks will work for you.","body":"See the <a href=\"https://www.digitalocean.com/community/tutorials/how-to-work-with-strings-in-javascript#escaping-quotes-and-apostrophes-in-strings\" rel=\"nofollow noreferrer\">escaping section for this JavaScript tutorial</a>.  Perhaps the template escaping method described there using back ticks will work for you."}],"answers":[{"tags":[],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692903309,"creation_date":1692903309,"answer_id":76972226,"question_id":76935553,"body_markdown":"i got it working with replacing the following chars:\r\n\r\n    message.replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\r\n           .replace(&quot;\\r&quot;, &quot;\\\\n&quot;)\r\n           .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);","title":"error in webengine of javafx when using apostrophe in combination with some javascript","body":"<p>i got it working with replacing the following chars:</p>\n<pre><code>message.replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\n       .replace(&quot;\\r&quot;, &quot;\\\\n&quot;)\n       .replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":15309893,"reputation":580,"user_id":11045508,"display_name":"J. Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76972226,"answer_count":1,"score":0,"last_activity_date":1692903309,"creation_date":1692454822,"question_id":76935553,"body_markdown":"i wrote a little wrapperapplication for an oldschool html4 webchat (so i can send custom messages when someone joins etc.). but i am facing some trouble when i&#39;d like to update the main view.\r\n\r\nmy unit test (to not annoy the guys in the chat) is this:\r\n\r\n    package chatclient.gui;\r\n    \r\n    import chatclient.entities.Message;\r\n    import javafx.stage.Stage;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.testfx.framework.junit5.ApplicationExtension;\r\n    import org.testfx.framework.junit5.Start;\r\n    \r\n    \r\n    \r\n    @ExtendWith(ApplicationExtension.class)\r\n    class FXApplicationTest {\r\n    \r\n    \r\n        FXApplication sut;\r\n    \r\n        private final String killedString = &quot;&quot;&quot;\r\n                &lt;table border=0&gt;&lt;tr&gt;&lt;td valign=bottom&gt;&lt;FONT SIZE=-2&gt;(13:48)&lt;/FONT&gt; &lt;b&gt;&lt;font title=&quot;myself&quot;&gt;&lt;span onclick=&quot;fluester(&#39;myself&#39;)&quot;&gt;\r\n                &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;\r\n                &lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;&lt;/span&gt;&lt;/b&gt;: &lt;span onclick=&quot;javascript: repClick(&#39;myself&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;/synapse/replacer/myself.jpg&quot; alt=&quot;&amp;#58;myself&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\r\n                &quot;&quot;&quot;;\r\n        private final String killedString2 = &quot;&lt;table&gt;hi&lt;/table&gt;&quot;;\r\n    \r\n        private final String initString = &quot;&quot;&quot;\r\n                &lt;!doctype html&gt;\r\n                &lt;html lang=&quot;de&quot;&gt;\r\n                &lt;head&gt;\r\n                &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n                &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;\r\n                &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n                &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/someroom/style_stream.css?1692439165&quot;&gt;\r\n                &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n                &lt;script language=&quot;JavaScript&quot;&gt;\r\n                \tdoscroll = true;\r\n                \tparent.forces = false;\r\n                \tfunction Scroller() {\r\n                \t if (parent.force) { doscroll = true }\r\n                \t  if (doscroll != false) {\r\n                \t    window.scrollBy(0,50);\r\n                \t  }\r\n                \t  window.setTimeout(&quot;Scroller()&quot;, 50);\r\n                \t}\r\n                \tScroller();\r\n                \tparent.atok = &#39;UuXaM&#39;;\r\n                \tfunction atok(p1) {\r\n                \t  parent.atok = p1;\r\n                \t}\r\n                            \r\n                \twindow.status=&quot;powered by www.somedomain.de&quot;;\r\n                            \r\n                \twindow.onmouseover=function(e){doscroll=false;};\\s\r\n                \twindow.onmouseout=function(e){doscroll=true;}\r\n                \t\r\n                \tfunction wopen(link,wi,he) {\r\n                \t      wincom = window.open(link ,&quot;fenster&quot;,&quot;toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=&quot;+wi+&quot;,height=&quot;+he);\r\n                \t      wincom.focus() ;\r\n                \t}\r\n                \t\r\n                \tfunction repClick(rep) {\r\n                \t  parent.info.document.eingabe.message.value+=&#39;:&#39; + rep;\r\n                \t  parent.info.document.eingabe.message.focus();\r\n                \t  return false;\r\n                \t}\r\n                            \r\n                \tfunction CallPrem() {\r\n                \t  window.open(&quot;/someroom/premium/myself/&quot;,&quot;Prem&quot;,&quot;scrollbars=no,width=205,height=260,resizable=no,toolbar=no,status=no,directories=no,menubar=no,location=no&quot;);\r\n                \t}\r\n                            \r\n                \tfunction fluester(fchatter) {\r\n                \t      parent.info.document.eingabe.message.value=&quot;/f &quot;+fchatter+&quot; &quot;;\r\n                \t      parent.info.document.eingabe.message.focus();\r\n                \t      var pos = parent.info.document.eingabe.message.createTextRange();\r\n                \t      pos.collapse(false);\r\n                \t      pos.select();\r\n                \t      return false;\r\n                \t}\r\n                            \r\n                \tfunction team() {\r\n                \t      parent.info.document.eingabe.message.value=&quot;/team &quot;;\r\n                \t      parent.info.document.eingabe.message.focus();\r\n                \t      var pos = parent.info.document.eingabe.message.createTextRange();\r\n                \t      pos.collapse(false);\r\n                \t      pos.select();\r\n                \t      return false;\r\n                \t}\r\n                \t\r\n                \tparent.clearTimeout(parent.cdProbmodus);\r\n                \tparent.clearTimeout(parent.cdProbmodusRC);\r\n                \t\r\n                \tfunction LoginSound() {\r\n                \t\tif (parent.forces) {\r\n                \t\t ausgabe = &#39;&lt;audio autoplay=&quot;autoplay&quot;&gt;&lt;source src=&quot;/8.wav&quot; type=&quot;audio/wav&quot;/&gt;&lt;/audio&gt;&#39;;\r\n                            document.getElementById(&#39;soundcontainer&#39;).innerHTML=ausgabe;\r\n                \t    }\r\n                \t}\r\n                            \r\n                  setTimeout(&#39;parent.info.sende();&#39;, 1000);\r\n                  setTimeout(&#39;parent.info.sendes();&#39;, 1000);\r\n                \t\r\n                &lt;/script&gt;\r\n                &lt;/head&gt;\r\n                &lt;body onFocus=&quot;doscroll=false&quot; onMouseOver=&quot;doscroll=false&quot;&gt;\r\n                powered by &lt;a href=&quot;https://www.somedomain.de&quot; target=&quot;_blank&quot;&gt;https://www.somedomain.de&lt;/a&gt;\r\n                &lt;hr&gt;\r\n                &lt;script language=&quot;JavaScript&quot;&gt;parent.rightFrame.document.location=&quot;/cgi-bin/ol.cgi?cid=someroom&amp;raum=main&quot;;&lt;/script&gt;\r\n                &lt;script type=&quot;text/javascript&quot; src=&quot;/grundscripts.js&quot;&gt;&lt;/script&gt;&lt;script language=&quot;javascript&quot;&gt;linkCnt=0; tds=document.getElementsByTagName(&quot;td&quot;); function autoLink(){for(;linkCnt&lt;tds.length;linkCnt++){ if(tds[linkCnt].innerHTML.match(/([^&quot;&#39;=]+(?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s&#39;]+)/i)){tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;&#39;=]+)((?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s&#39;]+)/i, &quot;$1&lt;a href=&#39;$2&#39; target=&#39;_blank&#39;&gt;$2&lt;/a&gt;&quot;);}else{ tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;&#39;=\\\\/\\\\w\\\\.]+)(\\\\w+\\\\.[a-zA-Z0-9_-]+\\\\.\\\\w\\\\w+[^&lt;&gt;\\\\s&#39;]*)/i, &quot;$1&lt;a href=&#39;http:\\\\/\\\\/$2&#39; target=&#39;_blank&#39;&gt;$2&lt;/a&gt;&quot;);}}}window.setInterval(&quot;autoLink()&quot;, 500)&lt;/script&gt;&lt;br&gt;&lt;style type=text/css&gt;font[color=red]{color:#ae0aa8}&lt;/style&gt;&lt;br&gt;&lt;br&gt;Willkommen &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;. &lt;span onclick=&quot;javascript: repClick(&#39;huhu&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/huhu.gif&quot; alt=&quot;&amp;#58;huhu&quot;&gt;&lt;/span&gt; Viel Freude beim chatten. &lt;br&gt;&lt;ul&gt;&lt;li&gt;Bei Problemen im Chat bitte wenden an: user2old (vorher user1) &lt;span onclick=&quot;javascript: repClick(&#39;user2old&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/user2old.gif&quot; alt=&quot;&amp;#58;user2old&quot;&gt;&lt;/span&gt; user1lein@web.de,&lt;br&gt; oder an user2 &lt;span onclick=&quot;javascript: repClick(&#39;hase&#39;)&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/hase.gif&quot; alt=&quot;&amp;#58;hase&quot;&gt;&lt;/span&gt; haseprof@gmail.com.&lt;br&gt;Bitte die Mail-Adressen f&#252;r eventuelle Notf&#228;lle &lt;u&gt;speichern&lt;/u&gt; (z.B. Ausfall der Chatsoftware).&lt;/li&gt;&lt;br&gt;&lt;li&gt;Wenn irgendetwas im Chat dauerhaft st&#246;rt, bitte ich euch, konstruktive Kritik nicht zur&#252;ckzuhalten, damit nach L&#246;sungen gesucht werden kann.&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;\r\n                &lt;script&gt;function appendText(extraStr) {document.getElementsByTagName(&#39;body&#39;)[0].innerHTML = document.getElementsByTagName(&#39;body&#39;)[0].innerHTML + extraStr;}&lt;/script&gt;\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Start\r\n        private void start(Stage stage) {\r\n            sut = new FXApplication();\r\n            sut.init(initString);\r\n        }\r\n    \r\n        @Test\r\n        void can_init() {\r\n            sut.append(new Message(killedString2, &quot;ourself&quot;));\r\n        }\r\n    }\r\n\r\nwhen i use killedString, i get a big exception. when i use killedString2 it works.\r\ni am 100% sure this is because of &quot; and &#39; - when i replace them i lose the html information, but it works. anyone an idea how i can use the &quot; and &#39; in the webengine too?\r\n\r\nthe exception is this:\r\n\r\n    netscape.javascript.JSException: SyntaxError: Unexpected identifier &#39;myself&#39;. Expected &#39;)&#39; to end an argument list.\r\n    \tat com.sun.webkit.dom.JSObject.fwkMakeException(JSObject.java:160)\r\n    \tat com.sun.webkit.WebPage.twkExecuteScript(Native Method)\r\n    \tat com.sun.webkit.WebPage.executeScript(WebPage.java:1576)\r\n    \tat javafx.scene.web.WebEngine.executeScript(WebEngine.java:985)\r\n    \tat chatclient.gui.FXApplication.lambda$append$12(FXApplication.java:223)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    \tat com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    &gt; Task :test\r\n\r\nthe code i use to actually send the message is this:\r\n    \r\n\r\n        runInFxThread(() -&gt; {\r\n    \r\n                        try {\r\n                            System.out.println(&quot;Appending cleaned string:&quot;);\r\n                            webView.getEngine().executeScript(&quot;appendText(\\&quot;&quot; + s.getCleanedForEngine() + &quot;\\&quot;);&quot;);\r\n                        } catch (Exception ex) {\r\n                            System.out.println(&quot;EXCEPTION APPEARED AT: &quot; + s.getRawString());\r\n                            ex.printStackTrace();\r\n                        }\r\n                        webView.getEngine().executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n                    }\r\n\r\nanyone an idea how to correctly escape those chars without losing html stuff?","title":"error in webengine of javafx when using apostrophe in combination with some javascript","body":"<p>i wrote a little wrapperapplication for an oldschool html4 webchat (so i can send custom messages when someone joins etc.). but i am facing some trouble when i'd like to update the main view.</p>\n<p>my unit test (to not annoy the guys in the chat) is this:</p>\n<pre><code>package chatclient.gui;\n\nimport chatclient.entities.Message;\nimport javafx.stage.Stage;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.testfx.framework.junit5.ApplicationExtension;\nimport org.testfx.framework.junit5.Start;\n\n\n\n@ExtendWith(ApplicationExtension.class)\nclass FXApplicationTest {\n\n\n    FXApplication sut;\n\n    private final String killedString = &quot;&quot;&quot;\n            &lt;table border=0&gt;&lt;tr&gt;&lt;td valign=bottom&gt;&lt;FONT SIZE=-2&gt;(13:48)&lt;/FONT&gt; &lt;b&gt;&lt;font title=&quot;myself&quot;&gt;&lt;span onclick=&quot;fluester('myself')&quot;&gt;\n            &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;\n            &lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;&lt;/span&gt;&lt;/b&gt;: &lt;span onclick=&quot;javascript: repClick('myself')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;/synapse/replacer/myself.jpg&quot; alt=&quot;&amp;#58;myself&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n            &quot;&quot;&quot;;\n    private final String killedString2 = &quot;&lt;table&gt;hi&lt;/table&gt;&quot;;\n\n    private final String initString = &quot;&quot;&quot;\n            &lt;!doctype html&gt;\n            &lt;html lang=&quot;de&quot;&gt;\n            &lt;head&gt;\n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n            &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt;\n            &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/someroom/style_stream.css?1692439165&quot;&gt;\n            &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js&quot;&gt;&lt;/script&gt;\n            &lt;script language=&quot;JavaScript&quot;&gt;\n                doscroll = true;\n                parent.forces = false;\n                function Scroller() {\n                 if (parent.force) { doscroll = true }\n                  if (doscroll != false) {\n                    window.scrollBy(0,50);\n                  }\n                  window.setTimeout(&quot;Scroller()&quot;, 50);\n                }\n                Scroller();\n                parent.atok = 'UuXaM';\n                function atok(p1) {\n                  parent.atok = p1;\n                }\n                        \n                window.status=&quot;powered by www.somedomain.de&quot;;\n                        \n                window.onmouseover=function(e){doscroll=false;};\\s\n                window.onmouseout=function(e){doscroll=true;}\n                \n                function wopen(link,wi,he) {\n                      wincom = window.open(link ,&quot;fenster&quot;,&quot;toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=1,resizable=0,width=&quot;+wi+&quot;,height=&quot;+he);\n                      wincom.focus() ;\n                }\n                \n                function repClick(rep) {\n                  parent.info.document.eingabe.message.value+=':' + rep;\n                  parent.info.document.eingabe.message.focus();\n                  return false;\n                }\n                        \n                function CallPrem() {\n                  window.open(&quot;/someroom/premium/myself/&quot;,&quot;Prem&quot;,&quot;scrollbars=no,width=205,height=260,resizable=no,toolbar=no,status=no,directories=no,menubar=no,location=no&quot;);\n                }\n                        \n                function fluester(fchatter) {\n                      parent.info.document.eingabe.message.value=&quot;/f &quot;+fchatter+&quot; &quot;;\n                      parent.info.document.eingabe.message.focus();\n                      var pos = parent.info.document.eingabe.message.createTextRange();\n                      pos.collapse(false);\n                      pos.select();\n                      return false;\n                }\n                        \n                function team() {\n                      parent.info.document.eingabe.message.value=&quot;/team &quot;;\n                      parent.info.document.eingabe.message.focus();\n                      var pos = parent.info.document.eingabe.message.createTextRange();\n                      pos.collapse(false);\n                      pos.select();\n                      return false;\n                }\n                \n                parent.clearTimeout(parent.cdProbmodus);\n                parent.clearTimeout(parent.cdProbmodusRC);\n                \n                function LoginSound() {\n                    if (parent.forces) {\n                     ausgabe = '&lt;audio autoplay=&quot;autoplay&quot;&gt;&lt;source src=&quot;/8.wav&quot; type=&quot;audio/wav&quot;/&gt;&lt;/audio&gt;';\n                        document.getElementById('soundcontainer').innerHTML=ausgabe;\n                    }\n                }\n                        \n              setTimeout('parent.info.sende();', 1000);\n              setTimeout('parent.info.sendes();', 1000);\n                \n            &lt;/script&gt;\n            &lt;/head&gt;\n            &lt;body onFocus=&quot;doscroll=false&quot; onMouseOver=&quot;doscroll=false&quot;&gt;\n            powered by &lt;a href=&quot;https://www.somedomain.de&quot; target=&quot;_blank&quot;&gt;https://www.somedomain.de&lt;/a&gt;\n            &lt;hr&gt;\n            &lt;script language=&quot;JavaScript&quot;&gt;parent.rightFrame.document.location=&quot;/cgi-bin/ol.cgi?cid=someroom&amp;raum=main&quot;;&lt;/script&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;/grundscripts.js&quot;&gt;&lt;/script&gt;&lt;script language=&quot;javascript&quot;&gt;linkCnt=0; tds=document.getElementsByTagName(&quot;td&quot;); function autoLink(){for(;linkCnt&lt;tds.length;linkCnt++){ if(tds[linkCnt].innerHTML.match(/([^&quot;'=]+(?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s']+)/i)){tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;'=]+)((?:http|ftp|https):\\\\/\\\\/[^&lt;&gt;\\\\s']+)/i, &quot;$1&lt;a href='$2' target='_blank'&gt;$2&lt;/a&gt;&quot;);}else{ tds[linkCnt].innerHTML=tds[linkCnt].innerHTML.replace(/([^&quot;'=\\\\/\\\\w\\\\.]+)(\\\\w+\\\\.[a-zA-Z0-9_-]+\\\\.\\\\w\\\\w+[^&lt;&gt;\\\\s']*)/i, &quot;$1&lt;a href='http:\\\\/\\\\/$2' target='_blank'&gt;$2&lt;/a&gt;&quot;);}}}window.setInterval(&quot;autoLink()&quot;, 500)&lt;/script&gt;&lt;br&gt;&lt;style type=text/css&gt;font[color=red]{color:#ae0aa8}&lt;/style&gt;&lt;br&gt;&lt;br&gt;Willkommen &lt;b&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;s&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;l&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;a&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;c&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;k&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;i&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;t&lt;/FONT&gt;&lt;FONT COLOR=&quot;#000000&quot;&gt;o&lt;/FONT&gt;&lt;/b&gt;. &lt;span onclick=&quot;javascript: repClick('huhu')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/huhu.gif&quot; alt=&quot;&amp;#58;huhu&quot;&gt;&lt;/span&gt; Viel Freude beim chatten. &lt;br&gt;&lt;ul&gt;&lt;li&gt;Bei Problemen im Chat bitte wenden an: user2old (vorher user1) &lt;span onclick=&quot;javascript: repClick('user2old')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/user2old.gif&quot; alt=&quot;&amp;#58;user2old&quot;&gt;&lt;/span&gt; user1lein@web.de,&lt;br&gt; oder an user2 &lt;span onclick=&quot;javascript: repClick('hase')&quot; style=&quot;cursor: pointer;&quot;&gt;&lt;img src=&quot;https://server4.somedomain.de/someroom/replacer/hase.gif&quot; alt=&quot;&amp;#58;hase&quot;&gt;&lt;/span&gt; haseprof@gmail.com.&lt;br&gt;Bitte die Mail-Adressen für eventuelle Notfälle &lt;u&gt;speichern&lt;/u&gt; (z.B. Ausfall der Chatsoftware).&lt;/li&gt;&lt;br&gt;&lt;li&gt;Wenn irgendetwas im Chat dauerhaft stört, bitte ich euch, konstruktive Kritik nicht zurückzuhalten, damit nach Lösungen gesucht werden kann.&lt;/li&gt;&lt;br&gt;&lt;/ul&gt;\n            &lt;script&gt;function appendText(extraStr) {document.getElementsByTagName('body')[0].innerHTML = document.getElementsByTagName('body')[0].innerHTML + extraStr;}&lt;/script&gt;\n            &quot;&quot;&quot;;\n\n    @Start\n    private void start(Stage stage) {\n        sut = new FXApplication();\n        sut.init(initString);\n    }\n\n    @Test\n    void can_init() {\n        sut.append(new Message(killedString2, &quot;ourself&quot;));\n    }\n}\n</code></pre>\n<p>when i use killedString, i get a big exception. when i use killedString2 it works.\ni am 100% sure this is because of &quot; and ' - when i replace them i lose the html information, but it works. anyone an idea how i can use the &quot; and ' in the webengine too?</p>\n<p>the exception is this:</p>\n<pre><code>netscape.javascript.JSException: SyntaxError: Unexpected identifier 'myself'. Expected ')' to end an argument list.\n    at com.sun.webkit.dom.JSObject.fwkMakeException(JSObject.java:160)\n    at com.sun.webkit.WebPage.twkExecuteScript(Native Method)\n    at com.sun.webkit.WebPage.executeScript(WebPage.java:1576)\n    at javafx.scene.web.WebEngine.executeScript(WebEngine.java:985)\n    at chatclient.gui.FXApplication.lambda$append$12(FXApplication.java:223)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:316)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n&gt; Task :test\n</code></pre>\n<p>the code i use to actually send the message is this:</p>\n<pre><code>    runInFxThread(() -&gt; {\n\n                    try {\n                        System.out.println(&quot;Appending cleaned string:&quot;);\n                        webView.getEngine().executeScript(&quot;appendText(\\&quot;&quot; + s.getCleanedForEngine() + &quot;\\&quot;);&quot;);\n                    } catch (Exception ex) {\n                        System.out.println(&quot;EXCEPTION APPEARED AT: &quot; + s.getRawString());\n                        ex.printStackTrace();\n                    }\n                    webView.getEngine().executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\n                }\n</code></pre>\n<p>anyone an idea how to correctly escape those chars without losing html stuff?</p>\n"},{"tags":["java","spring","spring-boot","spring-security-oauth2","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":20773955,"reputation":31,"user_id":15255938,"display_name":"Eirik M&#229;seidv&#229;g"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614011553,"creation_date":1614011240,"answer_id":66319535,"question_id":60400286,"body_markdown":"I had the same problem as you have. I solved it by using google&#39;s GoogleIdTokenVerifier. It was very simple to set up.\r\n\r\nThis is my code:\r\n\r\n```\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.gson.GsonFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\n\r\n@RestController\r\n@RequestMapping(value = &quot;/api/authenticate&quot;)\r\npublic final class AuthenticationController {\r\n\r\n    @GetMapping\r\n    public String exchange(@Autowired NetHttpTransport transport, @Autowired GsonFactory factory, HttpServletRequest request) throws GeneralSecurityException, IOException, IllegalAccessException {\r\n        // get id_token from Authorization Bearer\r\n        String token = this.getTokenFromRequest(request);\r\n\r\n        // Create verifier\r\n        GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, factory)\r\n                .setAudience(Collections.singletonList(&lt;CLIENT_ID_HERE&gt;))\r\n                .build();\r\n\r\n        // Verify it\r\n        GoogleIdToken idToken = verifier.verify(token);\r\n        if (idToken == null) {\r\n            throw new IllegalAccessException(&quot;Invalid id_token&quot;);\r\n        }\r\n        // Access payload \r\n        System.out.println(&quot;Email: &quot; + idToken.getPayload().getEmail());\r\n    }\r\n\r\n    public String getTokenFromRequest(HttpServletRequest request) throws IllegalAccessException {\r\n        String token = request.getHeader(&quot;Authorization&quot;);\r\n        String[] parts = token.split(&quot; &quot;);\r\n        if (parts.length != 2 || !parts[0].contains(&quot;Bearer&quot;)) {\r\n            throw new IllegalAccessException(&quot;Authorization Bearer format invalid. &lt;Bearer {token}&gt;&quot;);\r\n        }\r\n        return parts[1];\r\n    }\r\n}\r\n```\r\n\r\nMaven dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.30.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.21.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Spring exchange google access token for user info","body":"<p>I had the same problem as you have. I solved it by using google's GoogleIdTokenVerifier. It was very simple to set up.</p>\n<p>This is my code:</p>\n<pre><code>import com.google.api.client.googleapis.auth.oauth2.GoogleIdToken;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleIdTokenVerifier;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.gson.GsonFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\n\n@RestController\n@RequestMapping(value = &quot;/api/authenticate&quot;)\npublic final class AuthenticationController {\n\n    @GetMapping\n    public String exchange(@Autowired NetHttpTransport transport, @Autowired GsonFactory factory, HttpServletRequest request) throws GeneralSecurityException, IOException, IllegalAccessException {\n        // get id_token from Authorization Bearer\n        String token = this.getTokenFromRequest(request);\n\n        // Create verifier\n        GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, factory)\n                .setAudience(Collections.singletonList(&lt;CLIENT_ID_HERE&gt;))\n                .build();\n\n        // Verify it\n        GoogleIdToken idToken = verifier.verify(token);\n        if (idToken == null) {\n            throw new IllegalAccessException(&quot;Invalid id_token&quot;);\n        }\n        // Access payload \n        System.out.println(&quot;Email: &quot; + idToken.getPayload().getEmail());\n    }\n\n    public String getTokenFromRequest(HttpServletRequest request) throws IllegalAccessException {\n        String token = request.getHeader(&quot;Authorization&quot;);\n        String[] parts = token.split(&quot; &quot;);\n        if (parts.length != 2 || !parts[0].contains(&quot;Bearer&quot;)) {\n            throw new IllegalAccessException(&quot;Authorization Bearer format invalid. &lt;Bearer {token}&gt;&quot;);\n        }\n        return parts[1];\n    }\n}\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n    &lt;version&gt;1.30.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n    &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n    &lt;version&gt;1.21.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3706227,"reputation":87,"user_id":3084686,"display_name":"user3084686"},"score":0,"creation_date":1702334572,"post_id":76972176,"comment_id":136881396,"body_markdown":"Your post is helping me alot! Can you point me to a direction for how to &quot;Create your own authentication object based on the user&#39;s details&quot; ?","body":"Your post is helping me alot! Can you point me to a direction for how to &quot;Create your own authentication object based on the user&#39;s details&quot; ?"}],"tags":[],"owner":{"account_id":9290297,"reputation":111,"user_id":6898928,"display_name":"Yevhen Oliinyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692902851,"creation_date":1692902851,"answer_id":76972176,"question_id":60400286,"body_markdown":"Maybe I am late, but let me leave it here:\r\n1) The react library you are using intentionally retrieves access token because it assumes you will use it for a frontend, so with this token, you can make any further request to your resource server. In this case, the resource server and auth server are the same.\r\nFor example, you want to use Google as an OAuth provider and show Google\\`s contacts in your frontend app. So Google here is the auth server(react\\`s lib makes Google`s API call for an access token) and resource server(with an access token, your react app makes a request for Google contacts).\r\n2) If the backend enters the game, you need to get an authorization code - a temporary code that the client(not a frontend; it is a client in terms of OAuth spec) will exchange for an access token.\r\nReact requests an auth code to the auth server(Google/Facebook/Okta) to send this code to the backend.\r\nThe backend sends this code along with client_id, secret, grant_type... and other parameters defined in the OAuth spec to the same OAuth server. The Auth server compares all parameters and returns the token if all is correct.\r\nThe backend receives the token so we can declare that we exchanged the token for the code.\r\nThe next step is to send the token back to the frontend, store it on the frontend, and attach it to each further request to the backend.\r\nOf course, we need to handle refresh token as well.\r\n\r\nThis could be a possible controller method to exchange the code for a token.\r\n        \r\n    @PostMapping(&quot;/check/code/google&quot;)\r\n        public ResponseEntity&lt;?&gt; handleGoogleAuthCode(@RequestBody Map&lt;String, String&gt; codeMap) {\r\n            String code = codeMap.get(&quot;code&quot;);\r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \r\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;code&quot;, code);\r\n            params.put(&quot;client_id&quot;, clientId);\r\n            params.put(&quot;client_secret&quot;, clientSecret);\r\n            String redirectUri = &quot;https://bpnckmnjnpoohfnodnhjpehocneckmmc.chromiumapp.org/&quot;;\r\n            params.put(&quot;redirect_uri&quot;, redirectUri);\r\n            params.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n    \r\n            HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params, headers);\r\n    \r\n            ResponseEntity&lt;Map&gt; response = restTemplate.postForEntity(&quot;https://oauth2.googleapis.com/token&quot;, request, Map.class);\r\n            Map&lt;String, Object&gt; responseBody = response.getBody();\r\n    \r\n            String accessToken = (String) responseBody.get(&quot;access_token&quot;);\r\n    \r\n            // Use the access token to authenticate the user\r\n            // Your logic here to associate the user with the access token\r\n    \r\n            // Set the authentication in the SecurityContext\r\n            //       Authentication auth = Create your own authentication object based on the user&#39;s details\r\n            //      SecurityContextHolder.getContext().setAuthentication(auth);\r\n    \r\n            return ResponseEntity.ok().build();\r\n        }","title":"Spring exchange google access token for user info","body":"<p>Maybe I am late, but let me leave it here:</p>\n<ol>\n<li>The react library you are using intentionally retrieves access token because it assumes you will use it for a frontend, so with this token, you can make any further request to your resource server. In this case, the resource server and auth server are the same.\nFor example, you want to use Google as an OAuth provider and show Google`s contacts in your frontend app. So Google here is the auth server(react`s lib makes Google`s API call for an access token) and resource server(with an access token, your react app makes a request for Google contacts).</li>\n<li>If the backend enters the game, you need to get an authorization code - a temporary code that the client(not a frontend; it is a client in terms of OAuth spec) will exchange for an access token.\nReact requests an auth code to the auth server(Google/Facebook/Okta) to send this code to the backend.\nThe backend sends this code along with client_id, secret, grant_type... and other parameters defined in the OAuth spec to the same OAuth server. The Auth server compares all parameters and returns the token if all is correct.\nThe backend receives the token so we can declare that we exchanged the token for the code.\nThe next step is to send the token back to the frontend, store it on the frontend, and attach it to each further request to the backend.\nOf course, we need to handle refresh token as well.</li>\n</ol>\n<p>This could be a possible controller method to exchange the code for a token.</p>\n<pre><code>@PostMapping(&quot;/check/code/google&quot;)\n    public ResponseEntity&lt;?&gt; handleGoogleAuthCode(@RequestBody Map&lt;String, String&gt; codeMap) {\n        String code = codeMap.get(&quot;code&quot;);\n\n        RestTemplate restTemplate = new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;code&quot;, code);\n        params.put(&quot;client_id&quot;, clientId);\n        params.put(&quot;client_secret&quot;, clientSecret);\n        String redirectUri = &quot;https://bpnckmnjnpoohfnodnhjpehocneckmmc.chromiumapp.org/&quot;;\n        params.put(&quot;redirect_uri&quot;, redirectUri);\n        params.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n\n        HttpEntity&lt;Map&lt;String, String&gt;&gt; request = new HttpEntity&lt;&gt;(params, headers);\n\n        ResponseEntity&lt;Map&gt; response = restTemplate.postForEntity(&quot;https://oauth2.googleapis.com/token&quot;, request, Map.class);\n        Map&lt;String, Object&gt; responseBody = response.getBody();\n\n        String accessToken = (String) responseBody.get(&quot;access_token&quot;);\n\n        // Use the access token to authenticate the user\n        // Your logic here to associate the user with the access token\n\n        // Set the authentication in the SecurityContext\n        //       Authentication auth = Create your own authentication object based on the user's details\n        //      SecurityContextHolder.getContext().setAuthentication(auth);\n\n        return ResponseEntity.ok().build();\n    }\n</code></pre>\n"}],"owner":{"account_id":17601277,"reputation":308,"user_id":12771201,"display_name":"caribbean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692902851,"creation_date":1582651995,"question_id":60400286,"body_markdown":"I am trying to implement google authentication for my website, it is React front end and Spring Boot REST back end.\r\n\r\nFor my React app I&#39;ve found a library that provides a Google Login button, in which I can specify &#39;client-id&#39; of my app, registered in Google developer&#39;s console and the rest (redirection of the user to google authentication page, retrieval of **access token/id token**) is done by this library.\r\n\r\nNow I want to send this access token to my back-end, use it to make a request to google, to verify that this front-end user is a real google user, who correctly authenticated and get this user&#39;s data by showing this access token to google (i only want email/name/sub, which is users unique Google id). Am I looking for some library to exchange this google access token for user data ?\r\n\r\nI&#39;m also confused by the fact that all the oauth tutorials say that when user authenticates on google page, my app would receive an **Authorization Code** but my front end receives, as I said, acces token and id token. Is it because of the library I&#39;m using ? https://www.npmjs.com/package/react-google-login this is the library\r\n\r\nThis is the data that comes to my client app when user autheneticates on google page\r\n[console.log(response) in browser][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTFzf.png\r\n\r\nThanks","title":"Spring exchange google access token for user info","body":"<p>I am trying to implement google authentication for my website, it is React front end and Spring Boot REST back end.</p>\n\n<p>For my React app I've found a library that provides a Google Login button, in which I can specify 'client-id' of my app, registered in Google developer's console and the rest (redirection of the user to google authentication page, retrieval of <strong>access token/id token</strong>) is done by this library.</p>\n\n<p>Now I want to send this access token to my back-end, use it to make a request to google, to verify that this front-end user is a real google user, who correctly authenticated and get this user's data by showing this access token to google (i only want email/name/sub, which is users unique Google id). Am I looking for some library to exchange this google access token for user data ?</p>\n\n<p>I'm also confused by the fact that all the oauth tutorials say that when user authenticates on google page, my app would receive an <strong>Authorization Code</strong> but my front end receives, as I said, acces token and id token. Is it because of the library I'm using ? <a href=\"https://www.npmjs.com/package/react-google-login\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/react-google-login</a> this is the library</p>\n\n<p>This is the data that comes to my client app when user autheneticates on google page\n<a href=\"https://i.stack.imgur.com/OTFzf.png\" rel=\"nofollow noreferrer\">console.log(response) in browser</a></p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","file","kotlin"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1620641368,"post_id":67468448,"comment_id":119251480,"body_markdown":"`directoryFolder.mkdirs()` Bad coding. Better: `if ( ! directoryFoldes.exists() if ( !directoryFolder.mkdirs()) return;`","body":"<code>directoryFolder.mkdirs()</code> Bad coding. Better: <code>if ( ! directoryFoldes.exists() if ( !directoryFolder.mkdirs()) return;</code>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1620713659,"creation_date":1620641264,"answer_id":67468539,"question_id":67468448,"body_markdown":"On An Android 11 device you cannot create directories or files in root of external storage.\r\n\r\nBut you can  in all public directories that are already there.\r\n\r\n```\r\nFile(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\r\n```\r\nReplace for instance by:\r\n\r\n```\r\nFile(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;sample-take-image&quot;)\r\n```","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>On An Android 11 device you cannot create directories or files in root of external storage.</p>\n<p>But you can  in all public directories that are already there.</p>\n<pre><code>File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\n</code></pre>\n<p>Replace for instance by:</p>\n<pre><code>File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;sample-take-image&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1788974,"reputation":159,"user_id":1629791,"display_name":"Raman Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634733089,"creation_date":1620641306,"answer_id":67468552,"question_id":67468448,"body_markdown":"Use `getExternalFilesDir()`, `getExternalCacheDir()`, or `getExternalMediaDirs()` (methods on Context), instead of `Environment.getExternalStorageDirectory()` as this is deprecated.","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>Use <code>getExternalFilesDir()</code>, <code>getExternalCacheDir()</code>, or <code>getExternalMediaDirs()</code> (methods on Context), instead of <code>Environment.getExternalStorageDirectory()</code> as this is deprecated.</p>\n"},{"tags":[],"owner":{"account_id":4065390,"reputation":705,"user_id":3340529,"display_name":"Ashwin H"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641548829,"creation_date":1641548829,"answer_id":70619368,"question_id":67468448,"body_markdown":"    String dirPath;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\r\n                    dirPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\r\n                } else {\r\n                    dirPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\r\n                }","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<pre><code>String dirPath;\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\n                dirPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS).getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\n            } else {\n                dirPath = Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot; + getString(R.string.app_name) + &quot;/&quot;;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21229055,"reputation":47,"user_id":15614129,"display_name":"Himanshu HC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692902451,"creation_date":1692902451,"answer_id":76972137,"question_id":67468448,"body_markdown":"In my Case, permission was missing\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n```\r\nAlso request to Allow the Storage Permission in the App Setting","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>In my Case, permission was missing</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>Also request to Allow the Storage Permission in the App Setting</p>\n"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8531,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67468539,"answer_count":4,"score":3,"last_activity_date":1692902451,"creation_date":1620640827,"question_id":67468448,"body_markdown":"I am trying to create a file on the file system, but I still get this exception:\r\n\r\n```\r\nprivate fun getTempFolder(): File {\r\n        val directoryFolder =\r\n            File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\r\n        directoryFolder.mkdirs()\r\n        return directoryFolder\r\n    }\r\n    private fun getTempFile(): File {\r\n        val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHMMss&quot;, Locale.getDefault()).format(Date())\r\n        return File(\r\n            getTempFolder().absolutePath,\r\n            &quot;image&quot;.plus(Calendar.getInstance().timeInMillis).plus(timeStamp).plus(&quot;.jpg&quot;)\r\n        )\r\n    }\r\n    private fun saveImageToFile(bitmap: Bitmap? = null): String? {\r\n        return try {\r\n            val file = getTempFile()\r\n            Timber.e(&quot;Path: + : ${file.absolutePath}&quot;)\r\n            file.createNewFile()\r\n            val fOut = FileOutputStream(file)\r\n            bitmap?.apply {\r\n                this.compress(Bitmap.CompressFormat.JPEG, 100, fOut)\r\n            }\r\n            fOut.flush()\r\n            fOut.close()\r\n            file?.absolutePath.getDefault()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n            &quot;&quot;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nEven though I got the link after taking the photo camare:\r\n\r\n**: /storage/emulated/0/sample-take-image/image162064003789420210510_160517.jpg**\r\n\r\nSo can someone tell me why I can&#39;t create the file in this case. I am currently on **Android 11**\r\nwith \r\n\r\n  **compileSdkVersion 30\r\n\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n\r\n    minSdkVersion 26**","title":"Error: java.io.IOException: No such file or directory in android 11","body":"<p>I am trying to create a file on the file system, but I still get this exception:</p>\n<pre><code>private fun getTempFolder(): File {\n        val directoryFolder =\n            File(Environment.getExternalStorageDirectory(), &quot;sample-take-image&quot;)\n        directoryFolder.mkdirs()\n        return directoryFolder\n    }\n    private fun getTempFile(): File {\n        val timeStamp = SimpleDateFormat(&quot;yyyyMMdd_HHMMss&quot;, Locale.getDefault()).format(Date())\n        return File(\n            getTempFolder().absolutePath,\n            &quot;image&quot;.plus(Calendar.getInstance().timeInMillis).plus(timeStamp).plus(&quot;.jpg&quot;)\n        )\n    }\n    private fun saveImageToFile(bitmap: Bitmap? = null): String? {\n        return try {\n            val file = getTempFile()\n            Timber.e(&quot;Path: + : ${file.absolutePath}&quot;)\n            file.createNewFile()\n            val fOut = FileOutputStream(file)\n            bitmap?.apply {\n                this.compress(Bitmap.CompressFormat.JPEG, 100, fOut)\n            }\n            fOut.flush()\n            fOut.close()\n            file?.absolutePath.getDefault()\n        } catch (e: Exception) {\n            e.printStackTrace()\n            &quot;&quot;\n        }\n    }\n\n</code></pre>\n<p>Even though I got the link after taking the photo camare:</p>\n<p><strong>: /storage/emulated/0/sample-take-image/image162064003789420210510_160517.jpg</strong></p>\n<p>So can someone tell me why I can't create the file in this case. I am currently on <strong>Android 11</strong>\nwith</p>\n<p>**compileSdkVersion 30</p>\n<pre><code>buildToolsVersion &quot;30.0.2&quot;\n\nminSdkVersion 26**\n</code></pre>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692906807,"post_id":76972116,"comment_id":135691885,"body_markdown":"What do you want to check exactly? Are you in an OAuth2 client or an OAuth2 resource server?","body":"What do you want to check exactly? Are you in an OAuth2 client or an OAuth2 resource server?"},{"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"score":0,"creation_date":1692935769,"post_id":76972116,"comment_id":135694998,"body_markdown":"I am new in Keycloak and Java Spring. Could you let me know you contact info to explain more. Thanks.","body":"I am new in Keycloak and Java Spring. Could you let me know you contact info to explain more. Thanks."},{"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"score":0,"creation_date":1692936132,"post_id":76972116,"comment_id":135695025,"body_markdown":"Anyway, I think, I am in OAuth client.","body":"Anyway, I think, I am in OAuth client."}],"owner":{"account_id":29292989,"reputation":1,"user_id":22442993,"display_name":"Eqnuhy77G2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692902287,"creation_date":1692902287,"question_id":76972116,"body_markdown":" \r\n     Keycloak keycloak = KeycloakBuilder\r\n                .builder()\r\n                .serverUrl(&quot;http://localhost:8080/auth&quot;)\r\n                .realm(&quot;master&quot;)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;admin&quot;)\r\n                .clientId(&quot;demoapp&quot;)\r\n                .build();\r\n\r\n\r\n        RealmResource realmResource = keycloak.realm(&quot;springboot&quot;);\r\n\r\n        System.out.println(realmResource);\r\n\r\nI want to check keycloak extra realm called &quot;springboot&quot; user session on my javaspring boot project.","title":"How to get Keycloak extra realm&#39;s user session on my java spring project not using Adapter","body":"<pre><code> Keycloak keycloak = KeycloakBuilder\n            .builder()\n            .serverUrl(&quot;http://localhost:8080/auth&quot;)\n            .realm(&quot;master&quot;)\n            .username(&quot;admin&quot;)\n            .password(&quot;admin&quot;)\n            .clientId(&quot;demoapp&quot;)\n            .build();\n\n\n    RealmResource realmResource = keycloak.realm(&quot;springboot&quot;);\n\n    System.out.println(realmResource);\n</code></pre>\n<p>I want to check keycloak extra realm called &quot;springboot&quot; user session on my javaspring boot project.</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1611263024,"post_id":65835461,"comment_id":116402290,"body_markdown":"Can you show the whole console output? What version of JDA are you using?","body":"Can you show the whole console output? What version of JDA are you using?"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1611311010,"post_id":65835461,"comment_id":116415696,"body_markdown":"Does this answer your question? [Discord Bot connected to Websocket but not finished loading](https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/64562258/discord-bot-connected-to-websocket-but-not-finished-loading\">Discord Bot connected to Websocket but not finished loading</a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692901467,"creation_date":1611264110,"answer_id":65835914,"question_id":65835461,"body_markdown":"You are facing an issue described in [a discord developer support article](https://web.archive.org/web/20230324003531/https://support-dev.discord.com/hc/en-us/articles/360056426994):\r\n&gt; WHY IS MY BOT NO LONGER WORKING SUDDENLY?\r\n&gt; \r\n&gt; When the new gateway update was deployed, bots which weren&#39;t adequately prepared to specify gateway intents could have experienced a variety of issues. Common symptoms include:\r\n&gt; \r\n&gt; - The bot not responding anymore, despite being online\r\n&gt; - The bot cache being empty (only seeing a few users across all guilds)\r\n&gt; - A library on ready event not firing or timing out (happening mostly on discord.py and discord.js bots but other libraries might exhibit the same behavior)\r\n&gt; \r\n&gt; If you are affected by this, this is because of 2 gateway changes:\r\n&gt; \r\n&gt; - You no longer have access to disabled privileged intents if you are not specifying intents\r\n&gt; - You can no longer request member info for multiple guilds at the same time\r\n\r\n&gt; HOW DO I GET BACK UP AND RUNNING?\r\nUPDATING YOUR LIBRARY\r\n&gt; \r\n&gt; First, you must make sure you&#39;re using a library version that can handle intents, and by extension no longer requests information on multiple guilds at once.\r\n&gt; \r\n&gt; For discord.py, this means you need to update to v1.5 or higher. \r\n&gt; \r\n&gt; For discord.js, this means you need to update to v12 or higher. \r\n&gt; \r\n&gt; If you&#39;re unsure how to upgrade your bot to a new library release or are unclear regarding the intent compatibility of an alternative library, please see the library links provided in our Developer Community Resources. \r\n\r\n&gt; SPECIFYING GATEWAY INTENTS\r\n&gt; \r\n&gt; Please note that a variety of our gateway intents are not privileged, meaning they do not require specific switches to be flipped or whitelisted access to be requested. You can review the entirety of our available intents [here](https://discord.com/developers/docs/topics/gateway#gateway-intents).\r\n&gt; \r\n&gt; Specifying which intents you&#39;d like to receive varies based on your chosen library. Documentation on how to specify gateway intents in discord.js is available [here](https://discordjs.guide/popular-topics/intents.html). Documentation for specifying gateway intents in discord.py is available [here](https://discordpy.readthedocs.io/en/latest/intents.html).\r\n\r\nSo, you need to update JDA at first. I would recommend you to use the latest version for this. You can see the latest version code here: ![](https://api.bintray.com/packages/dv8fromtheworld/maven/JDA/images/download.svg)\r\n\r\nAfter that, you should change the use of the constructor of JDABuilder as defined [in the README of JDA](https://github.com/discord-jda/JDA) like this:\r\n\r\n    JDABuilder builder=JDABuilder.createDefault(&quot;YOUR_TOKEN_HERE&quot;);\r\n\r\nIf you need privileged gateway intents, you also need to enable those both on the developer page and in your application.","title":"onMessageReceived() not being called | Discord Bot","body":"<p>You are facing an issue described in <a href=\"https://web.archive.org/web/20230324003531/https://support-dev.discord.com/hc/en-us/articles/360056426994\" rel=\"nofollow noreferrer\">a discord developer support article</a>:</p>\n<blockquote>\n<p>WHY IS MY BOT NO LONGER WORKING SUDDENLY?</p>\n<p>When the new gateway update was deployed, bots which weren't adequately prepared to specify gateway intents could have experienced a variety of issues. Common symptoms include:</p>\n<ul>\n<li>The bot not responding anymore, despite being online</li>\n<li>The bot cache being empty (only seeing a few users across all guilds)</li>\n<li>A library on ready event not firing or timing out (happening mostly on discord.py and discord.js bots but other libraries might exhibit the same behavior)</li>\n</ul>\n<p>If you are affected by this, this is because of 2 gateway changes:</p>\n<ul>\n<li>You no longer have access to disabled privileged intents if you are not specifying intents</li>\n<li>You can no longer request member info for multiple guilds at the same time</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>HOW DO I GET BACK UP AND RUNNING?\nUPDATING YOUR LIBRARY</p>\n<p>First, you must make sure you're using a library version that can handle intents, and by extension no longer requests information on multiple guilds at once.</p>\n<p>For discord.py, this means you need to update to v1.5 or higher.</p>\n<p>For discord.js, this means you need to update to v12 or higher.</p>\n<p>If you're unsure how to upgrade your bot to a new library release or are unclear regarding the intent compatibility of an alternative library, please see the library links provided in our Developer Community Resources.</p>\n</blockquote>\n<blockquote>\n<p>SPECIFYING GATEWAY INTENTS</p>\n<p>Please note that a variety of our gateway intents are not privileged, meaning they do not require specific switches to be flipped or whitelisted access to be requested. You can review the entirety of our available intents <a href=\"https://discord.com/developers/docs/topics/gateway#gateway-intents\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Specifying which intents you'd like to receive varies based on your chosen library. Documentation on how to specify gateway intents in discord.js is available <a href=\"https://discordjs.guide/popular-topics/intents.html\" rel=\"nofollow noreferrer\">here</a>. Documentation for specifying gateway intents in discord.py is available <a href=\"https://discordpy.readthedocs.io/en/latest/intents.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>So, you need to update JDA at first. I would recommend you to use the latest version for this. You can see the latest version code here: <img src=\"https://api.bintray.com/packages/dv8fromtheworld/maven/JDA/images/download.svg\" alt=\"\" /></p>\n<p>After that, you should change the use of the constructor of JDABuilder as defined <a href=\"https://github.com/discord-jda/JDA\" rel=\"nofollow noreferrer\">in the README of JDA</a> like this:</p>\n<pre><code>JDABuilder builder=JDABuilder.createDefault(&quot;YOUR_TOKEN_HERE&quot;);\n</code></pre>\n<p>If you need privileged gateway intents, you also need to enable those both on the developer page and in your application.</p>\n"}],"owner":{"account_id":18968107,"reputation":323,"user_id":14759299,"display_name":"L0raxeo C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":65835914,"answer_count":1,"score":1,"last_activity_date":1692901467,"creation_date":1611261955,"question_id":65835461,"body_markdown":"I am making my first Discord bot with Java. I am using Gradle. Here is my code so far:\r\n```\r\npublic class Main extends ListenerAdapter {\r\n    public static void main(String[] args) throws LoginException {\r\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\r\n        String token = &quot;x&quot;;\r\n        builder.setToken(token);\r\n        builder.addEventListener(new Main());\r\n        builder.buildAsync();\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event) {\r\n        System.out.println(&quot;We received a message from &quot; +\r\n                event.getAuthor().getName() + &quot;: &quot; +\r\n                event.getMessage().getContentDisplay()\r\n        );\r\n\r\n        if (event.getMessage().getContentRaw().equals(&quot;yomyman&quot;)) {\r\n            event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I execute the program, I do not receive any warnings and my bot goes online in my discord server. However for some reason when I type &quot;yomyman&quot; in any channel, nothing happens. Nothing gets printed to the console, nor does the bot say anything on the. On top of that the method onMessageReceived(); doesn&#39;t get called at all. This is the only code I have in this project.\r\n\r\nAdditional information:\r\n- Gradle is being used\r\n- JDA is being used\r\n- No errors printed to the console","title":"onMessageReceived() not being called | Discord Bot","body":"<p>I am making my first Discord bot with Java. I am using Gradle. Here is my code so far:</p>\n<pre><code>public class Main extends ListenerAdapter {\n    public static void main(String[] args) throws LoginException {\n        JDABuilder builder = new JDABuilder(AccountType.BOT);\n        String token = &quot;x&quot;;\n        builder.setToken(token);\n        builder.addEventListener(new Main());\n        builder.buildAsync();\n    }\n\n    @Override\n    public void onMessageReceived(MessageReceivedEvent event) {\n        System.out.println(&quot;We received a message from &quot; +\n                event.getAuthor().getName() + &quot;: &quot; +\n                event.getMessage().getContentDisplay()\n        );\n\n        if (event.getMessage().getContentRaw().equals(&quot;yomyman&quot;)) {\n            event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\n        }\n    }\n\n}\n</code></pre>\n<p>When I execute the program, I do not receive any warnings and my bot goes online in my discord server. However for some reason when I type &quot;yomyman&quot; in any channel, nothing happens. Nothing gets printed to the console, nor does the bot say anything on the. On top of that the method onMessageReceived(); doesn't get called at all. This is the only code I have in this project.</p>\n<p>Additional information:</p>\n<ul>\n<li>Gradle is being used</li>\n<li>JDA is being used</li>\n<li>No errors printed to the console</li>\n</ul>\n"},{"tags":["java","spring-boot","junit","spring-boot-test","testcase"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692965175,"post_id":76970242,"comment_id":135700112,"body_markdown":"have you tried to check your dependency tree ? with `mvn dependency:tree`","body":"have you tried to check your dependency tree ? with <code>mvn dependency:tree</code>"}],"owner":{"account_id":5048606,"reputation":313,"user_id":4053840,"accept_rate":11,"display_name":"Ivajlo Iliev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692900946,"creation_date":1692886703,"question_id":76970242,"body_markdown":"We have a Spring boot v 2.7.x application, running on java 11. And we want to switch to java 17 and Spring boot 3.0.0.\r\nBut now, when I am making the changes locally (IDE is IntelliJ), the following test class:\r\n\r\n``` \r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@SpringBootTest\r\nclass MyCompanyAppRegistrationApplicationTests {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        assertTrue(true);\r\n    }\r\n\r\n}\r\n\r\n```\r\nstarted failing with this error:\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@55a66bbf \r\n\r\ntestClass = company.registration.MyCompanyAppRegistrationApplicationTests, \r\nlocations = [], \r\nclasses = [company.registration.MyCompanyAppRegistrationApplication], \r\ncontextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], \r\npropertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], \r\ncontextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6cc850, \r\n\r\n                      org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@48b22fd4, \r\n                      org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, \r\n                      org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@178270b2, \r\n                      org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, \r\n                      org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, \r\n                      org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3d36dff4, \r\n                      org.springframework.boot.test.context.SpringBootTestAnnotation@3954286c], \r\nresourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [company.registration.MyCompanyAppRegistrationApplication]: Failed to load class [javax.servlet.Filter]\r\nCaused by: java.io.IOException: Failed to load class [javax.servlet.Filter]\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\r\n```\r\n\r\nSince Spring 3.x supports JakartaEE 9 and 10, I have changed all the needed packages from javax* to Jakarta.*. But obviously for some reason somewhere Javax.servlet.Filter is wanted.\r\nWhere I should look into this? Should I look at the dependencies in the pom file? The pom file looks like this:\r\n\r\n```\r\n   &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n\r\n        &lt;commons-lib.version&gt;3.2.1&lt;/commons-lib.version&gt;\r\n        &lt;datasource-lib.version&gt;1.4.0&lt;/datasource-lib.version&gt;\r\n\r\n        &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\r\n        &lt;archunit.version&gt;1.0.1&lt;/archunit.version&gt;\r\n        &lt;guava.version&gt;31.1-jre&lt;/guava.version&gt;\r\n        &lt;h2.version&gt;1.4.200&lt;/h2.version&gt;\r\n        &lt;jakarta.validaton.api.version&gt;3.0.0&lt;/jakarta.validaton.api.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- internal dependencies--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;my company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;my company&lt;/groupId&gt;\r\n            &lt;artifactId&gt;datasource-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;${datasource-lib.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--PROVIDED--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;${guava.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakarta.validaton.api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!--TEST--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\r\n            &lt;version&gt;${wiremock.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;${h2.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;archunit&lt;/artifactId&gt;\r\n            &lt;version&gt;${archunit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0.2131&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;rules&gt;\r\n                    &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;libs-staging-local&lt;/name&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;snapshots&lt;/id&gt;\r\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;azd-releases&lt;/id&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;azd-snapshots&lt;/id&gt;\r\n            &lt;url&gt;https://some-url&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;apache-central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n```","title":"java.lang.ClassNotFoundException during execution of Contextloads() method in Spring Boot JUnit test case","body":"<p>We have a Spring boot v 2.7.x application, running on java 11. And we want to switch to java 17 and Spring boot 3.0.0.\nBut now, when I am making the changes locally (IDE is IntelliJ), the following test class:</p>\n<pre><code>\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@SpringBootTest\nclass MyCompanyAppRegistrationApplicationTests {\n\n    @Test\n    void contextLoads() {\n        assertTrue(true);\n    }\n\n}\n\n</code></pre>\n<p>started failing with this error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@55a66bbf \n\ntestClass = company.registration.MyCompanyAppRegistrationApplicationTests, \nlocations = [], \nclasses = [company.registration.MyCompanyAppRegistrationApplication], \ncontextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], \npropertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], \ncontextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1e6cc850, \n\n                      org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@48b22fd4, \n                      org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, \n                      org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@178270b2, \n                      org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, \n                      org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, \n                      org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3d36dff4, \n                      org.springframework.boot.test.context.SpringBootTestAnnotation@3954286c], \nresourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [company.registration.MyCompanyAppRegistrationApplication]: Failed to load class [javax.servlet.Filter]\nCaused by: java.io.IOException: Failed to load class [javax.servlet.Filter]\nCaused by: java.lang.ClassNotFoundException: javax.servlet.Filter\n</code></pre>\n<p>Since Spring 3.x supports JakartaEE 9 and 10, I have changed all the needed packages from javax* to Jakarta.*. But obviously for some reason somewhere Javax.servlet.Filter is wanted.\nWhere I should look into this? Should I look at the dependencies in the pom file? The pom file looks like this:</p>\n<pre><code>   &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n\n        &lt;commons-lib.version&gt;3.2.1&lt;/commons-lib.version&gt;\n        &lt;datasource-lib.version&gt;1.4.0&lt;/datasource-lib.version&gt;\n\n        &lt;wiremock.version&gt;2.27.2&lt;/wiremock.version&gt;\n        &lt;archunit.version&gt;1.0.1&lt;/archunit.version&gt;\n        &lt;guava.version&gt;31.1-jre&lt;/guava.version&gt;\n        &lt;h2.version&gt;1.4.200&lt;/h2.version&gt;\n        &lt;jakarta.validaton.api.version&gt;3.0.0&lt;/jakarta.validaton.api.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- internal dependencies--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my company&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lib&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;my company&lt;/groupId&gt;\n            &lt;artifactId&gt;datasource-lib&lt;/artifactId&gt;\n            &lt;version&gt;${datasource-lib.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--PROVIDED--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;${guava.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.validaton.api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!--TEST--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock&lt;/artifactId&gt;\n            &lt;version&gt;${wiremock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;${h2.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit&lt;/artifactId&gt;\n            &lt;version&gt;${archunit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0.2131&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;libs-staging-local&lt;/name&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;azd-releases&lt;/id&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;azd-snapshots&lt;/id&gt;\n            &lt;url&gt;https://some-url&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;apache-central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java","java-native-interface","unsatisfiedlinkerror"],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497439438,"creation_date":1497439438,"answer_id":44543396,"question_id":44538626,"body_markdown":"It rather seems like your JNI library is not visible. Make sure to put it on PATH or add it to java.library.path.\r\n\r\nIf you can provide stack trace, this would definitely help to check whether this is related to your JNI library or some other library that is used by your code.","title":"JNI unsatisfiedlinkerror after client installation","body":"<p>It rather seems like your JNI library is not visible. Make sure to put it on PATH or add it to java.library.path.</p>\n\n<p>If you can provide stack trace, this would definitely help to check whether this is related to your JNI library or some other library that is used by your code.</p>\n"}],"owner":{"account_id":11114106,"reputation":1,"user_id":8158887,"display_name":"Lo&#239;k Manakaua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692900562,"creation_date":1497426515,"question_id":44538626,"body_markdown":"I had to make a C++ bridge between java application and .NET dll, that&#39;s why I used JNI.\r\n\r\nOn my environment all works fine, but when tried to another non-developer computer I catch `unsatisfiedlinkerror exception`.\r\n\r\nMy question is: is it necessary to have JDK for using jni or is it possible with jre which doesn&#39;t have include directory where are jni common files?\r\n\r\nThank you","title":"JNI unsatisfiedlinkerror after client installation","body":"<p>I had to make a C++ bridge between java application and .NET dll, that's why I used JNI.</p>\n<p>On my environment all works fine, but when tried to another non-developer computer I catch <code>unsatisfiedlinkerror exception</code>.</p>\n<p>My question is: is it necessary to have JDK for using jni or is it possible with jre which doesn't have include directory where are jni common files?</p>\n<p>Thank you</p>\n"},{"tags":["java","gradle","minecraft-forge","discord-jda"],"owner":{"account_id":343892,"reputation":1190,"user_id":675881,"accept_rate":90,"display_name":"Richard Hedges"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692900473,"creation_date":1692900473,"question_id":76971932,"body_markdown":"I am using Gradle Shadow in an attempt to include all dependencies when building my Minecraft Forge mod JAR. The dependency in question is JDA, which is included in the generated JAR, but when I run the Minecraft server I&#39;m presented with this error: `java.lang.NoClassDefFoundError: org/slf4j/Logger at net.dv8tion.jda.internal.utils.IOUtil.&lt;clinit&gt;(IOUtil.java:35)`\r\n\r\nI would have expected Shadow to include all dependencies (including dependencies of dependencies), but SLF4J is definitely not being included in the generated JAR. I&#39;ve tried a handful of variations, including multiple different slf4j packages, different JDA versions, and a whole bunch of variations of configurations in the build.gradle file.\r\n\r\nGradle: 7.3.3&lt;br&gt;\r\nShadow: 7.0.0\r\n\r\nMy build.gradle file (minus a few mod specifics, i.e. mod id):\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url = &#39;https://maven.minecraftforge.net&#39; }\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath group: &#39;net.minecraftforge.gradle&#39;, name: &#39;ForgeGradle&#39;, version: &#39;5.1.+&#39;, changing: true\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.0.0&#39;\r\n}\r\n\r\napply plugin: &#39;net.minecraftforge.gradle&#39;\r\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\r\napply plugin: &#39;eclipse&#39;\r\napply plugin: &#39;maven-publish&#39;\r\napply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\napply plugin: &#39;java-library&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        name &#39;m2-dv8tion&#39;\r\n        url &#39;https://m2.dv8tion.net/releases&#39;\r\n    }\r\n}\r\n\r\nshadowJar {\r\n    dependencies {\r\n        include(dependency(&#39;org.slf4j:slf4j-api:1.7.36&#39;))\r\n        include(dependency(&#39;net.dv8tion:JDA:4.3.0_298&#39;))\r\n    }\r\n}\r\n\r\ndependencies {\r\n    minecraft &#39;net.minecraftforge:forge:1.16.5-36.2.34&#39;\r\n\r\n    implementation &#39;org.slf4j:slf4j-api:1.7.36&#39;\r\n    implementation &#39;net.dv8tion:JDA:4.3.0_298&#39;\r\n\r\n}\r\n```","title":"How you you appropriately include all dependencies when building a Forge jar?","body":"<p>I am using Gradle Shadow in an attempt to include all dependencies when building my Minecraft Forge mod JAR. The dependency in question is JDA, which is included in the generated JAR, but when I run the Minecraft server I'm presented with this error: <code>java.lang.NoClassDefFoundError: org/slf4j/Logger at net.dv8tion.jda.internal.utils.IOUtil.&lt;clinit&gt;(IOUtil.java:35)</code></p>\n<p>I would have expected Shadow to include all dependencies (including dependencies of dependencies), but SLF4J is definitely not being included in the generated JAR. I've tried a handful of variations, including multiple different slf4j packages, different JDA versions, and a whole bunch of variations of configurations in the build.gradle file.</p>\n<p>Gradle: 7.3.3<br>\nShadow: 7.0.0</p>\n<p>My build.gradle file (minus a few mod specifics, i.e. mod id):</p>\n<pre><code>buildscript {\n    repositories {\n        maven { url = 'https://maven.minecraftforge.net' }\n        mavenCentral()\n    }\n    dependencies {\n        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '5.1.+', changing: true\n    }\n}\n\nplugins {\n    id 'com.github.johnrengelman.shadow' version '7.0.0'\n}\n\napply plugin: 'net.minecraftforge.gradle'\n// Only edit below this line, the above code adds and enables the necessary things for Forge to be setup.\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'java-library'\n\nrepositories {\n    mavenCentral()\n    maven {\n        name 'm2-dv8tion'\n        url 'https://m2.dv8tion.net/releases'\n    }\n}\n\nshadowJar {\n    dependencies {\n        include(dependency('org.slf4j:slf4j-api:1.7.36'))\n        include(dependency('net.dv8tion:JDA:4.3.0_298'))\n    }\n}\n\ndependencies {\n    minecraft 'net.minecraftforge:forge:1.16.5-36.2.34'\n\n    implementation 'org.slf4j:slf4j-api:1.7.36'\n    implementation 'net.dv8tion:JDA:4.3.0_298'\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","environment-variables"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1401262243,"post_id":23900401,"comment_id":36809424,"body_markdown":"This message just means the program has finished running. Eclipse always outputs this when it runs a program and it finishes.","body":"This message just means the program has finished running. Eclipse always outputs this when it runs a program and it finishes."},{"owner":{"account_id":4492721,"reputation":39,"user_id":3653434,"display_name":"nautilus"},"score":0,"creation_date":1401309901,"post_id":23900401,"comment_id":36840048,"body_markdown":"Hi Greg! Thanks for that but I must say that the code takes in a text file (.txt) and has to calculate certain parameters and output them. M not getting the output at all and the only message it displays is what is mentioned in the title.","body":"Hi Greg! Thanks for that but I must say that the code takes in a text file (.txt) and has to calculate certain parameters and output them. M not getting the output at all and the only message it displays is what is mentioned in the title."},{"owner":{"account_id":9491822,"reputation":394,"user_id":7208364,"accept_rate":33,"display_name":"nightfury"},"score":0,"creation_date":1544276949,"post_id":23900401,"comment_id":94223127,"body_markdown":"probably you have not put the code properly - which was my case - wasted more than 1 hour doing this internet research to finally find the I missed syso. What an idiot I am.","body":"probably you have not put the code properly - which was my case - wasted more than 1 hour doing this internet research to finally find the I missed syso. What an idiot I am."}],"answers":[{"tags":[],"owner":{"account_id":1546567,"reputation":1,"user_id":1439990,"display_name":"user1439990"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570968517,"creation_date":1492150208,"answer_id":43406160,"question_id":23900401,"body_markdown":"I had a similar issue. I changed the work space and started from the beginning.\r\nThis seemed to fix the problem; everything is fine now.","title":"&lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe","body":"<p>I had a similar issue. I changed the work space and started from the beginning.\nThis seemed to fix the problem; everything is fine now.</p>\n"},{"tags":[],"owner":{"account_id":20578472,"reputation":1,"user_id":15105144,"display_name":"Sachin Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612076744,"creation_date":1612076744,"answer_id":65976589,"question_id":23900401,"body_markdown":"Some times  class with main() function is not saved so you will get this error,hence save all the classes.Still if it is not working just close Eclipse IDE and restart it.","title":"&lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe","body":"<p>Some times  class with main() function is not saved so you will get this error,hence save all the classes.Still if it is not working just close Eclipse IDE and restart it.</p>\n"},{"tags":[],"owner":{"account_id":4000716,"reputation":1631,"user_id":3296815,"display_name":"Vaibhav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627758868,"creation_date":1627758868,"answer_id":68605155,"question_id":23900401,"body_markdown":"This seems to be a problem related to the JDK that you are using, try using the newer version of the JDK.\r\n\r\nThis happened with me while I was running a Spring Boot Application:\r\nI was getting the same &lt;terminated&gt; message and there was no logs in the console, even the Spring Boot Startup logs were not present: (Attaching the image for reference)\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen, I opened the run configuration (Sprint Boot App- Run Configurations) and unchecked the ***Enable Life Cycle Management - Termination Timeout (ms)*** option as shown in the attached image:\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow I started getting another error: logs are given below:\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000000000000, pid=16392, tid=30144\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (11.0.2+9) (build 11.0.2+9)\r\n    # Java VM: OpenJDK 64-Bit Server VM (11.0.2+9, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\r\n    # Problematic frame:\r\n    # C  0x0000000000000000\r\n\r\nI again searched for the solution of this problem and have got the solution given at https://stackoverflow.com/questions/9986227/a-fatal-error-has-been-detected-by-the-java-runtime-environment-exception-acces\r\nI just installed the latest version of JDK and have used that in my eclipse project and it worked fine. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t81dP.jpg\r\n  [2]: https://i.stack.imgur.com/rAZTO.png","title":"&lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe","body":"<p>This seems to be a problem related to the JDK that you are using, try using the newer version of the JDK.</p>\n<p>This happened with me while I was running a Spring Boot Application:\nI was getting the same  message and there was no logs in the console, even the Spring Boot Startup logs were not present: (Attaching the image for reference)\n<a href=\"https://i.stack.imgur.com/t81dP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t81dP.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Then, I opened the run configuration (Sprint Boot App- Run Configurations) and unchecked the <em><strong>Enable Life Cycle Management - Termination Timeout (ms)</strong></em> option as shown in the attached image:\n<a href=\"https://i.stack.imgur.com/rAZTO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rAZTO.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I started getting another error: logs are given below:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x0000000000000000, pid=16392, tid=30144\n#\n# JRE version: OpenJDK Runtime Environment (11.0.2+9) (build 11.0.2+9)\n# Java VM: OpenJDK 64-Bit Server VM (11.0.2+9, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\n# Problematic frame:\n# C  0x0000000000000000\n</code></pre>\n<p>I again searched for the solution of this problem and have got the solution given at <a href=\"https://stackoverflow.com/questions/9986227/a-fatal-error-has-been-detected-by-the-java-runtime-environment-exception-acces\">A fatal error has been detected by the Java Runtime Environment. EXCEPTION_ACCESS_VIOLATION</a>\nI just installed the latest version of JDK and have used that in my eclipse project and it worked fine.</p>\n"}],"owner":{"account_id":4492721,"reputation":39,"user_id":3653434,"display_name":"nautilus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13749,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1692900290,"creation_date":1401232338,"question_id":23900401,"body_markdown":"On running one of the codes without any compilation or runtime errors, the Eclipse for Java Developers&#39; version in Windows 7 gives the message: \r\n\r\n    &lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe\r\n\r\nI tried searching for it and found the Program Files folder could be a possible problem as it has space in its name. \r\n\r\nI tried to fix it but am unable to change the path of the file when it runs i.e.: the runtime path of the application still remains as its mentioned in the title. Besides, I tried searching for why the message &lt;terminated&gt; should pop and am unable to get a relevant answer for my query. \r\n\r\nI apologize if the question is trivial or repeated but since the available solutions didn&#39;t work for me, I&#39;m posting the question. \r\n\r\nCan anybody suggest a method to overcome the issue? Thanks a lot in advance.","title":"&lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe","body":"<p>On running one of the codes without any compilation or runtime errors, the Eclipse for Java Developers' version in Windows 7 gives the message: </p>\n\n<pre><code>&lt;terminated&gt; Filename [java application] C:\\Program Files\\Java\\jre8\\bin\\javaw.exe\n</code></pre>\n\n<p>I tried searching for it and found the Program Files folder could be a possible problem as it has space in its name. </p>\n\n<p>I tried to fix it but am unable to change the path of the file when it runs i.e.: the runtime path of the application still remains as its mentioned in the title. Besides, I tried searching for why the message  should pop and am unable to get a relevant answer for my query. </p>\n\n<p>I apologize if the question is trivial or repeated but since the available solutions didn't work for me, I'm posting the question. </p>\n\n<p>Can anybody suggest a method to overcome the issue? Thanks a lot in advance.</p>\n"},{"tags":["java","spring","hibernate","testing","spring-test-dbunit"],"answers":[{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692898991,"creation_date":1692898991,"answer_id":76971776,"question_id":76971191,"body_markdown":"After some trial and error I finally figured it out. If anyone else runs into this, the xml dataset needs to be in test resources in a directory that matches the package of the test class. So if the test class is located in src/test/**java**/A/B/C then the data.xml needs to be in src/test/**resources**/A/B/C. Otherwise, you need to provide an explicit path like this: \r\n\r\n&gt; @DatabaseSetup(&quot;/META-INF/dbtest/sampleData.xml&quot;)","title":"Loading data into an in-memory database using spring-test-dbunit","body":"<p>After some trial and error I finally figured it out. If anyone else runs into this, the xml dataset needs to be in test resources in a directory that matches the package of the test class. So if the test class is located in src/test/<strong>java</strong>/A/B/C then the data.xml needs to be in src/test/<strong>resources</strong>/A/B/C. Otherwise, you need to provide an explicit path like this:</p>\n<blockquote>\n<p>@DatabaseSetup(&quot;/META-INF/dbtest/sampleData.xml&quot;)</p>\n</blockquote>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692898991,"creation_date":1692893776,"question_id":76971191,"body_markdown":"I&#39;m trying to set up some integration tests for a java spring application. I followed the instructions (https://github.com/ppodgorsek/spring-test-dbunit) but I can&#39;t seem to get things working. I can verify that the tables are getting created and the schema validation is passing. When I actually query the datasource in my tests however, I&#39;m getting errors like:\r\n\r\n&gt; java.lang.IllegalArgumentException: Unable to load dataset from\r\n&gt; &quot;data.xml&quot; using class\r\n&gt; com.github.springtestdbunit.dataset.FlatXmlDataSetLoader\r\n\r\nIt seems like my data.xml file is in the wrong location, but I&#39;m not clear on where it should be. I tried putting in in the same package as the test class (src/test/java/integration) but got the same results. I&#39;m not quite sure what I am doing wrong, can anyone offer some suggestions?\r\n\r\nMy test class looks like this:\r\n\r\n    @SpringJUnitConfig\r\n    @ContextConfiguration\r\n    @TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\r\n            DbUnitTestExecutionListener.class })\r\n    @SpringBootTest\r\n    @DatabaseSetup(&quot;data.xml&quot;)\r\n    @DatabaseTearDown(&quot;data.xml&quot;)\r\n    public class SubscriptionQueryTest{\r\n    \r\n        @Autowired\r\n        private LearnerSubscriptionRepository learnerSubscriptionRepository;\r\n    \r\n        @Test\r\n        public void testSubscriptionQuery()\r\n        {\r\n            assertNotNull(learnerSubscriptionRepository);\r\n        }\r\n    \r\n        @Test\r\n        public void testFindDistinctEmails()\r\n        {\r\n            long lCount = learnerSubscriptionRepository.count();\r\n            assertTrue(lCount &gt; 0);\r\n            ArrayList&lt;String&gt; learnerEmails = learnerSubscriptionRepository.findDistinctMails();\r\n            assertNotNull(learnerEmails);\r\n            assertEquals(6, learnerEmails.size());\r\n            List&lt;String&gt; found = new ArrayList&lt;&gt;();\r\n            //check that all the results are unique values\r\n            for (String email : learnerEmails ) {\r\n                assertFalse(found.contains(email));\r\n                found.add(email);\r\n            }\r\n        }\r\n    }\r\n\r\nIt is executing queries on a CrudRepository that looks like:\r\n\r\n    public interface LearnerSubscriptionRepository extends CrudRepository&lt;LearnerSubscription, Integer&gt; {\r\n    \t@Query(&quot;SELECT DISTINCT mail FROM LearnerSubscription&quot;)\r\n    \tArrayList&lt;String&gt; findDistinctMails();\r\n    }\r\n\r\nwith an entity class:\r\n\r\n    @Entity\r\n    public class LearnerSubscription {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;sub&quot;, length = 100, nullable = false, unique = false)\r\n    \tprivate String sub;\r\n    \r\n    \t@Column(name = &quot;mail&quot;, length = 100, nullable = false, unique = false)\r\n    \tprivate String mail;\r\n    ...\r\n    }\r\n\r\nIn the src/test/resources directory, I have an application.properties files:\r\n\r\n    jdbc.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:myDb;mode=mysql;DB_CLOSE_DELAY=-1;NON_KEYWORDS=KEY,VALUE\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=validate\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.use-new-id-generator-mappings=false\r\n\r\n\r\nand a data.xml file:\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;dataset&gt;\r\n      &lt;learner_subscription id=&quot;330&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;6e8c478e-aabe-4789-ab22-8092e19c2dde&quot; individual_emails=&quot;false&quot;/&gt;\r\n      &lt;learner_subscription id=&quot;331&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;890740d5-2edc-4843-9500-c5841da835d3&quot; individual_emails=&quot;false&quot;/&gt;\r\n      &lt;learner_subscription id=&quot;332&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;23dc6e5e-26cf-447e-9f16-79cea544dc77&quot; individual_emails=&quot;false&quot;/&gt;\r\n      &lt;learner_subscription id=&quot;333&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;57823ff6-e262-4201-8766-84cd17dfe116&quot; individual_emails=&quot;false&quot;/&gt;\r\n      &lt;learner_subscription id=&quot;334&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;dfaeb775-dd7c-4f8e-a632-624df4bae041&quot; individual_emails=&quot;false&quot;/&gt;\r\n      &lt;learner_subscription id=&quot;335&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;6b7ea99a-a9d2-4610-abb7-aef37eec4c26&quot; individual_emails=&quot;false&quot;/&gt;\r\n    &lt;/dataset&gt;","title":"Loading data into an in-memory database using spring-test-dbunit","body":"<p>I'm trying to set up some integration tests for a java spring application. I followed the instructions (<a href=\"https://github.com/ppodgorsek/spring-test-dbunit\" rel=\"nofollow noreferrer\">https://github.com/ppodgorsek/spring-test-dbunit</a>) but I can't seem to get things working. I can verify that the tables are getting created and the schema validation is passing. When I actually query the datasource in my tests however, I'm getting errors like:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Unable to load dataset from\n&quot;data.xml&quot; using class\ncom.github.springtestdbunit.dataset.FlatXmlDataSetLoader</p>\n</blockquote>\n<p>It seems like my data.xml file is in the wrong location, but I'm not clear on where it should be. I tried putting in in the same package as the test class (src/test/java/integration) but got the same results. I'm not quite sure what I am doing wrong, can anyone offer some suggestions?</p>\n<p>My test class looks like this:</p>\n<pre><code>@SpringJUnitConfig\n@ContextConfiguration\n@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\n        DbUnitTestExecutionListener.class })\n@SpringBootTest\n@DatabaseSetup(&quot;data.xml&quot;)\n@DatabaseTearDown(&quot;data.xml&quot;)\npublic class SubscriptionQueryTest{\n\n    @Autowired\n    private LearnerSubscriptionRepository learnerSubscriptionRepository;\n\n    @Test\n    public void testSubscriptionQuery()\n    {\n        assertNotNull(learnerSubscriptionRepository);\n    }\n\n    @Test\n    public void testFindDistinctEmails()\n    {\n        long lCount = learnerSubscriptionRepository.count();\n        assertTrue(lCount &gt; 0);\n        ArrayList&lt;String&gt; learnerEmails = learnerSubscriptionRepository.findDistinctMails();\n        assertNotNull(learnerEmails);\n        assertEquals(6, learnerEmails.size());\n        List&lt;String&gt; found = new ArrayList&lt;&gt;();\n        //check that all the results are unique values\n        for (String email : learnerEmails ) {\n            assertFalse(found.contains(email));\n            found.add(email);\n        }\n    }\n}\n</code></pre>\n<p>It is executing queries on a CrudRepository that looks like:</p>\n<pre><code>public interface LearnerSubscriptionRepository extends CrudRepository&lt;LearnerSubscription, Integer&gt; {\n    @Query(&quot;SELECT DISTINCT mail FROM LearnerSubscription&quot;)\n    ArrayList&lt;String&gt; findDistinctMails();\n}\n</code></pre>\n<p>with an entity class:</p>\n<pre><code>@Entity\npublic class LearnerSubscription {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, length = 100, nullable = false, unique = true)\n    private int id;\n    \n    @Column(name = &quot;sub&quot;, length = 100, nullable = false, unique = false)\n    private String sub;\n\n    @Column(name = &quot;mail&quot;, length = 100, nullable = false, unique = false)\n    private String mail;\n...\n}\n</code></pre>\n<p>In the src/test/resources directory, I have an application.properties files:</p>\n<pre><code>jdbc.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:myDb;mode=mysql;DB_CLOSE_DELAY=-1;NON_KEYWORDS=KEY,VALUE\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=validate\nspring.jpa.show-sql=true\nspring.jpa.hibernate.use-new-id-generator-mappings=false\n</code></pre>\n<p>and a data.xml file:</p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;dataset&gt;\n  &lt;learner_subscription id=&quot;330&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;6e8c478e-aabe-4789-ab22-8092e19c2dde&quot; individual_emails=&quot;false&quot;/&gt;\n  &lt;learner_subscription id=&quot;331&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;890740d5-2edc-4843-9500-c5841da835d3&quot; individual_emails=&quot;false&quot;/&gt;\n  &lt;learner_subscription id=&quot;332&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;23dc6e5e-26cf-447e-9f16-79cea544dc77&quot; individual_emails=&quot;false&quot;/&gt;\n  &lt;learner_subscription id=&quot;333&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;57823ff6-e262-4201-8766-84cd17dfe116&quot; individual_emails=&quot;false&quot;/&gt;\n  &lt;learner_subscription id=&quot;334&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;dfaeb775-dd7c-4f8e-a632-624df4bae041&quot; individual_emails=&quot;false&quot;/&gt;\n  &lt;learner_subscription id=&quot;335&quot; mail=&quot;foo@bar.edu&quot; opted_in=&quot;true&quot; sub=&quot;foo039&quot; subscription=&quot;6b7ea99a-a9d2-4610-abb7-aef37eec4c26&quot; individual_emails=&quot;false&quot;/&gt;\n&lt;/dataset&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","junit","testcase"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1692920581,"post_id":76971604,"comment_id":135693754,"body_markdown":"Your code doesn&#39;t look like a test, so I have a hard time understanding your question. Maybe check [ask]. Why don&#39;t you just set an invalid number and then check that the code under test rejects it? Is it really interesting to test all possible invalid characters getting rejected? I&#39;d test different combinations of valid numbers (e.g., with / without country code, with / without extension) an empty string, and some almost valid ones, but not every possible unicode character getting rejected.","body":"Your code doesn&#39;t look like a test, so I have a hard time understanding your question. Maybe check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Why don&#39;t you just set an invalid number and then check that the code under test rejects it? Is it really interesting to test all possible invalid characters getting rejected? I&#39;d test different combinations of valid numbers (e.g., with / without country code, with / without extension) an empty string, and some almost valid ones, but not every possible unicode character getting rejected."}],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692898706,"creation_date":1692898706,"answer_id":76971744,"question_id":76971604,"body_markdown":"Since you&#39;re capturing this in an object, you can simply assert this fact in the constructor of the object:\r\n\r\n```java\r\n\r\npublic USTelephoneNumber implement TelephoneNumber {\r\n   public USTelephoneNumber(String number) {\r\n    // here you can handle +1 formats\r\n    // But of course Canada also uses +1, so +1 is just a sanity check\r\n    // but you can also apply much more sophisticated logic (like length, or using external validation.\r\n     if (!number.startsWith(&quot;+1&quot;)){\r\n        throw new IllegalArgumentException(String.format(&quot;%s is not a US number&quot;, number));\r\n     }\r\n     \r\n     if (!number.replaceAll(&quot;[ ]&quot;,&quot;&quot;).replaceAll(&quot;+1&quot;,&quot;&quot;).matches(&quot;[0-9]+&quot;)) {\r\n        throw new IllegalArgumentException(String.format(&quot;%s is not all numbers&quot;,number));\r\n\r\n   }\r\n}\r\n@Throws(IllegalArgumentException.class)\r\npublic testIsNotUsPhoneNumber() throws IllegalArgumentException {\r\n    new USPhoneNumber(&quot;+48 158 610 715&quot;);\r\n}\r\n\r\n\r\npublic testIsUsPhoneNumber() {\r\n    new USPhoneNumber(&quot;+1 425 388 2588&quot;);\r\n}\r\n```","title":"How to write a Junit test for phone number with 10 digits in JAVA","body":"<p>Since you're capturing this in an object, you can simply assert this fact in the constructor of the object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic USTelephoneNumber implement TelephoneNumber {\n   public USTelephoneNumber(String number) {\n    // here you can handle +1 formats\n    // But of course Canada also uses +1, so +1 is just a sanity check\n    // but you can also apply much more sophisticated logic (like length, or using external validation.\n     if (!number.startsWith(&quot;+1&quot;)){\n        throw new IllegalArgumentException(String.format(&quot;%s is not a US number&quot;, number));\n     }\n     \n     if (!number.replaceAll(&quot;[ ]&quot;,&quot;&quot;).replaceAll(&quot;+1&quot;,&quot;&quot;).matches(&quot;[0-9]+&quot;)) {\n        throw new IllegalArgumentException(String.format(&quot;%s is not all numbers&quot;,number));\n\n   }\n}\n@Throws(IllegalArgumentException.class)\npublic testIsNotUsPhoneNumber() throws IllegalArgumentException {\n    new USPhoneNumber(&quot;+48 158 610 715&quot;);\n}\n\n\npublic testIsUsPhoneNumber() {\n    new USPhoneNumber(&quot;+1 425 388 2588&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":6924543,"reputation":1,"user_id":5315989,"display_name":"mayank bhardwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692898931,"creation_date":1692897469,"question_id":76971604,"body_markdown":"I&#39;m trying to write a test case for phone number where only numbers are allowed to pass. How to write it in java using the object types. \r\n\r\nI tried this where I hard coded the characters. But I want a solution better than this\r\n\r\n    TelephoneNumber ExtensionNUM = new TelephoneNumber();\r\n    ExtensionNUM.setExtensionNum(&quot;!@#$%^&amp;*()_-+=}]{[|;:&#39;&lt;,&gt;./?qwertyuioplkjhgfdsazxcvbnm&#224;r&#232;h&#236;p\\&#242;t&#249;&quot;);\r\n    contactPreference.setTelephoneNumber(ExtensionNUM);","title":"How to write a Junit test for phone number with 10 digits in JAVA","body":"<p>I'm trying to write a test case for phone number where only numbers are allowed to pass. How to write it in java using the object types.</p>\n<p>I tried this where I hard coded the characters. But I want a solution better than this</p>\n<pre><code>TelephoneNumber ExtensionNUM = new TelephoneNumber();\nExtensionNUM.setExtensionNum(&quot;!@#$%^&amp;*()_-+=}]{[|;:'&lt;,&gt;./?qwertyuioplkjhgfdsazxcvbnmàrèhìp\\òtù&quot;);\ncontactPreference.setTelephoneNumber(ExtensionNUM);\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1573483802,"creation_date":1573473355,"answer_id":58800892,"question_id":58800701,"body_markdown":"As the [wiki](https://github.com/OpenAPITools/jackson-databind-nullable/blob/master/README.md) instructs, you need to register the corresponding module (in addition to any others you have):\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\nobjectMapper.registerModule(new JsonNullableModule());","title":"JsonNullable is not serializing its value with Jackson","body":"<p>As the <a href=\"https://github.com/OpenAPITools/jackson-databind-nullable/blob/master/README.md\" rel=\"noreferrer\">wiki</a> instructs, you need to register the corresponding module (in addition to any others you have):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nobjectMapper.registerModule(new JsonNullableModule());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6152068,"reputation":3072,"user_id":4796214,"display_name":"marcel"},"score":0,"creation_date":1675249473,"post_id":67221450,"comment_id":132886517,"body_markdown":"This works perfectly fine. Also this is the required dependency: \n`&lt;dependency&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n    &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/dependency&gt;`","body":"This works perfectly fine. Also this is the required dependency:  <code>&lt;dependency&gt;     &lt;groupId&gt;org.openapitools&lt;&#47;groupId&gt;     &lt;artifactId&gt;jackson-databind-nullable&lt;&#47;artifactId&gt;     &lt;version&gt;0.2.0&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"}],"tags":[],"owner":{"account_id":3527487,"reputation":534,"user_id":2948162,"display_name":"akasha"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619129409,"creation_date":1619129409,"answer_id":67221450,"question_id":58800701,"body_markdown":"Add the following configuration in Spring Boot:\r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n        @Bean\r\n        public JsonNullableModule jsonNullableModule() {\r\n            return new JsonNullableModule();\r\n        }\r\n    }","title":"JsonNullable is not serializing its value with Jackson","body":"<p>Add the following configuration in Spring Boot:</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n    @Bean\n    public JsonNullableModule jsonNullableModule() {\n        return new JsonNullableModule();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376356,"reputation":13776,"user_id":727768,"accept_rate":91,"display_name":"X.Y."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676578085,"creation_date":1676578085,"answer_id":75477393,"question_id":58800701,"body_markdown":"Registering the `JsonNullableModule` is the correct solution. But I just want to point out that `JsonNullable` doesn&#39;t play well with openapi-generator. We generate client APIs from the backend controller annotations. The required, nullable annotations on `@schema` didn&#39;t work for us (on a Kotlin data class). We went back with using `Optional&lt;T&gt;?` and worked out perfectly with out any extra annotations needed.","title":"JsonNullable is not serializing its value with Jackson","body":"<p>Registering the <code>JsonNullableModule</code> is the correct solution. But I just want to point out that <code>JsonNullable</code> doesn't play well with openapi-generator. We generate client APIs from the backend controller annotations. The required, nullable annotations on <code>@schema</code> didn't work for us (on a Kotlin data class). We went back with using <code>Optional&lt;T&gt;?</code> and worked out perfectly with out any extra annotations needed.</p>\n"}],"owner":{"account_id":15760475,"reputation":105,"user_id":11372334,"display_name":"Surya Prakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12453,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58800892,"answer_count":3,"score":9,"last_activity_date":1692898552,"creation_date":1573472646,"question_id":58800701,"body_markdown":"I&#39;m trying to use `JsonNullable&lt;String&gt;` to distinguish between the absence of a value and `null`. When I serialize my Java object, `User`, the `JsonNullable&lt;String&gt;` field is serialized as a JSON object with value\r\n\r\n```json\r\n{&quot;present&quot;:false}\r\n```\r\n\r\nI&#39;m expecting it to print `{}` since I initialized the field with `undefined`.\r\n\r\nHere&#39;s my class\r\n\r\n    public class User { \r\n      @JsonProperty(&quot;userId&quot;)\r\n      private JsonNullable&lt;String&gt; userId = JsonNullable.undefined();\r\n    \r\n      //set and get\r\n      //tostring\r\n    }\r\n\r\nand a small driver program where I actually set a value within the `JsonNullable` field.\r\n\r\n    User user = new User();\r\n    user.setUserId(JsonNullable.of(&quot;12345&quot;));\r\n \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.registerModule(new Jdk8Module());\r\n\r\n    String expectedData = objectMapper.writeValueAsString(user);\r\n    System.out.println(expectedData);\r\n\r\n\r\nThis prints\r\n\r\n    {&quot;userId&quot;:{&quot;present&quot;:true}}\r\n        \r\nBut I expected\r\n\r\n    {&quot;userId&quot;:&quot;12345&quot;}\r\n\r\nIn other words, I expected the value wrapped within the `JsonNullable` to be serialized into the JSON. Why are `JsonNullable` and Jackson behaving this way?\r\n\r\n","title":"JsonNullable is not serializing its value with Jackson","body":"<p>I'm trying to use <code>JsonNullable&lt;String&gt;</code> to distinguish between the absence of a value and <code>null</code>. When I serialize my Java object, <code>User</code>, the <code>JsonNullable&lt;String&gt;</code> field is serialized as a JSON object with value</p>\n\n<pre><code>{\"present\":false}\n</code></pre>\n\n<p>I'm expecting it to print <code>{}</code> since I initialized the field with <code>undefined</code>.</p>\n\n<p>Here's my class</p>\n\n<pre><code>public class User { \n  @JsonProperty(\"userId\")\n  private JsonNullable&lt;String&gt; userId = JsonNullable.undefined();\n\n  //set and get\n  //tostring\n}\n</code></pre>\n\n<p>and a small driver program where I actually set a value within the <code>JsonNullable</code> field.</p>\n\n<pre><code>User user = new User();\nuser.setUserId(JsonNullable.of(\"12345\"));\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(new Jdk8Module());\n\nString expectedData = objectMapper.writeValueAsString(user);\nSystem.out.println(expectedData);\n</code></pre>\n\n<p>This prints</p>\n\n<pre><code>{\"userId\":{\"present\":true}}\n</code></pre>\n\n<p>But I expected</p>\n\n<pre><code>{\"userId\":\"12345\"}\n</code></pre>\n\n<p>In other words, I expected the value wrapped within the <code>JsonNullable</code> to be serialized into the JSON. Why are <code>JsonNullable</code> and Jackson behaving this way?</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692963036,"post_id":76971700,"comment_id":135699608,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":"я гантеля"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692898380,"creation_date":1692898354,"question_id":76971700,"body_markdown":"My code is:\r\n\r\n    &lt;p&gt;Reader&#39;s books:&lt;/p&gt;\r\n    &lt;div th:each=&quot;book : ${books}&quot; th:unless=&quot;${books.empty}&quot; &gt;\r\n        &lt;a th:href=&quot;@{/books/{id}(id = ${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;div th:if=&quot;${books.empty}&quot;&gt;&lt;p&gt;Reader has 0 books!&lt;/p&gt;&lt;/div&gt;\r\n\r\nAll is working, but IntelliJ shows errors. How I can fix that?[Errors](https://i.stack.imgur.com/dmDij.png)\r\n\r\nI tried to make auto fix by IntelliJ, but it is not worked. I also tried to use (== null), but I have errors.","title":"Why does list.function in thymeleaf making display error in IntelliJ?","body":"<p>My code is:</p>\n<pre><code>&lt;p&gt;Reader's books:&lt;/p&gt;\n&lt;div th:each=&quot;book : ${books}&quot; th:unless=&quot;${books.empty}&quot; &gt;\n    &lt;a th:href=&quot;@{/books/{id}(id = ${book.getId_book()})}&quot; th:text=&quot;${book.getName()}&quot;&gt;&lt;/a&gt;\n&lt;/div&gt;\n&lt;div th:if=&quot;${books.empty}&quot;&gt;&lt;p&gt;Reader has 0 books!&lt;/p&gt;&lt;/div&gt;\n</code></pre>\n<p>All is working, but IntelliJ shows errors. How I can fix that?<a href=\"https://i.stack.imgur.com/dmDij.png\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>I tried to make auto fix by IntelliJ, but it is not worked. I also tried to use (== null), but I have errors.</p>\n"},{"tags":["java","android","junit4","android-espresso","italic"],"comments":[{"owner":{"account_id":9224505,"reputation":8167,"user_id":6852729,"display_name":"KeLiuyue"},"score":1,"creation_date":1503372746,"post_id":45808426,"comment_id":78574671,"body_markdown":"Use `android:textStyle=&quot;italic&quot;`.","body":"Use <code>android:textStyle=&quot;italic&quot;</code>."},{"owner":{"account_id":11020668,"reputation":31,"user_id":8095031,"display_name":"intan"},"score":0,"creation_date":1503378515,"post_id":45808426,"comment_id":78576082,"body_markdown":"@KeLiuyue.. Thank you. but how to test inside Test Automation.","body":"@KeLiuyue.. Thank you. but how to test inside Test Automation."}],"answers":[{"comments":[{"owner":{"account_id":6277423,"reputation":4892,"user_id":4879701,"display_name":"Be_Negative"},"score":3,"creation_date":1503798437,"post_id":45824185,"comment_id":78760917,"body_markdown":"You can avoid casting with the [BoundedMatcher](https://developer.android.com/reference/android/support/test/espresso/matcher/BoundedMatcher.html)","body":"You can avoid casting with the <a href=\"https://developer.android.com/reference/android/support/test/espresso/matcher/BoundedMatcher.html\" rel=\"nofollow noreferrer\">BoundedMatcher</a>"}],"tags":[],"owner":{"account_id":8902384,"reputation":116,"user_id":6645432,"display_name":"Wae"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503424827,"creation_date":1503424827,"answer_id":45824185,"question_id":45808426,"body_markdown":"Please try out the following solution. It might work for you. \r\nThe core idea is considering using custom ViewMatcher for your case.\r\n\r\n    public static Matcher&lt;View&gt; withItalicStyle(final int resourceId) {\r\n        return new TypeSafeMatcher&lt;View&gt;() {\r\n            @Override\r\n            public void describeTo(Description description) {\r\n                description.appendText(&quot;has Italic Text with resource&quot; );\r\n            }\r\n\r\n            @Override\r\n            public boolean matchesSafely(View view) {\r\n                TextView textView = (TextView) view.findViewById(resourceId);\r\n                return (textView.getTypeface().getStyle() == Typeface.ITALIC);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nAnd in you testcase, you can \r\n\r\n        onView(CustomMatchers.withItalicStyle(R.id.yourResourceId)).check(isDisplayed());\r\n\r\n\r\nFor tutorial, please check goole samples in https://github.com/googlesamples/android-testing/blob/master/ui/espresso/IdlingResourceSample/app/src/main/java/com/example/android/testing/espresso/IdlingResourceSample/MainActivity.java\r\n","title":"How to test word style &quot;ITALIC&quot; in Espresso Testing","body":"<p>Please try out the following solution. It might work for you. \nThe core idea is considering using custom ViewMatcher for your case.</p>\n\n<pre><code>public static Matcher&lt;View&gt; withItalicStyle(final int resourceId) {\n    return new TypeSafeMatcher&lt;View&gt;() {\n        @Override\n        public void describeTo(Description description) {\n            description.appendText(\"has Italic Text with resource\" );\n        }\n\n        @Override\n        public boolean matchesSafely(View view) {\n            TextView textView = (TextView) view.findViewById(resourceId);\n            return (textView.getTypeface().getStyle() == Typeface.ITALIC);\n        }\n    };\n}\n</code></pre>\n\n<p>And in you testcase, you can </p>\n\n<pre><code>    onView(CustomMatchers.withItalicStyle(R.id.yourResourceId)).check(isDisplayed());\n</code></pre>\n\n<p>For tutorial, please check goole samples in <a href=\"https://github.com/googlesamples/android-testing/blob/master/ui/espresso/IdlingResourceSample/app/src/main/java/com/example/android/testing/espresso/IdlingResourceSample/MainActivity.java\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-testing/blob/master/ui/espresso/IdlingResourceSample/app/src/main/java/com/example/android/testing/espresso/IdlingResourceSample/MainActivity.java</a></p>\n"},{"tags":[],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692898344,"creation_date":1692898344,"answer_id":76971698,"question_id":45808426,"body_markdown":"Building on Wae&#39;s solution but using `BoundedMatcher` (and Kotlin):\r\n\r\n```\r\nfun hasTextStyle(textStyle: Int): Matcher&lt;View&gt; {\r\n    return object : BoundedMatcher&lt;View,TextView&gt;(TextView::class.java) {\r\n        override fun describeTo(description: Description) {\r\n            description.appendText(&quot;has specified text style&quot;)\r\n        }\r\n\r\n        override fun matchesSafely(item: TextView): Boolean {\r\n            return item.typeface.style == textStyle\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUse it like `onView(withId(R.id.example)).check(matches(hasTextStyle(Typeface.ITALIC)))`","title":"How to test word style &quot;ITALIC&quot; in Espresso Testing","body":"<p>Building on Wae's solution but using <code>BoundedMatcher</code> (and Kotlin):</p>\n<pre><code>fun hasTextStyle(textStyle: Int): Matcher&lt;View&gt; {\n    return object : BoundedMatcher&lt;View,TextView&gt;(TextView::class.java) {\n        override fun describeTo(description: Description) {\n            description.appendText(&quot;has specified text style&quot;)\n        }\n\n        override fun matchesSafely(item: TextView): Boolean {\n            return item.typeface.style == textStyle\n        }\n    }\n}\n</code></pre>\n<p>Use it like <code>onView(withId(R.id.example)).check(matches(hasTextStyle(Typeface.ITALIC)))</code></p>\n"}],"owner":{"account_id":11020668,"reputation":31,"user_id":8095031,"display_name":"intan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1519,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692898344,"creation_date":1503372254,"question_id":45808426,"body_markdown":"I am having problems to test display word in ITALIC style. Can someone provide me any example code to display word style? I am using Espresso and JUnit 4 in android studio. I really appreciated your cooperation. Thank you","title":"How to test word style &quot;ITALIC&quot; in Espresso Testing","body":"<p>I am having problems to test display word in ITALIC style. Can someone provide me any example code to display word style? I am using Espresso and JUnit 4 in android studio. I really appreciated your cooperation. Thank you</p>\n"},{"tags":["java","intellij-idea","serviceloader"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608544111,"post_id":65390431,"comment_id":115606742,"body_markdown":"The classloader doesn&#39;t contain the parent class only the implementing class, so it cannot find the parent class. So I suspect due to incomplete class-hierarchy it cannot load that class. So you should use the constructor which takes a parent class loader and set it to the current one. So that a proper class hierarchy can be determined.","body":"The classloader doesn&#39;t contain the parent class only the implementing class, so it cannot find the parent class. So I suspect due to incomplete class-hierarchy it cannot load that class. So you should use the constructor which takes a parent class loader and set it to the current one. So that a proper class hierarchy can be determined."},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608544330,"post_id":65390431,"comment_id":115606828,"body_markdown":"Would it not throw a different exception then? I had my classloader thow exceptions like NoClassDefFoundError on similar occations. You might still be right tho. How would I fix the issue? Could you post your fix as answer so I can potentially accept it?","body":"Would it not throw a different exception then? I had my classloader thow exceptions like NoClassDefFoundError on similar occations. You might still be right tho. How would I fix the issue? Could you post your fix as answer so I can potentially accept it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608544679,"post_id":65390431,"comment_id":115606981,"body_markdown":"Wouldn&#39;t be the first that one exception is hidden by another and looking at the `LazyClassPathLookupIterator` (an internal class) it actually catches the `ClassNotFoundException` and simply returns `null`. Leading to the exception you get.","body":"Wouldn&#39;t be the first that one exception is hidden by another and looking at the <code>LazyClassPathLookupIterator</code> (an internal class) it actually catches the <code>ClassNotFoundException</code> and simply returns <code>null</code>. Leading to the exception you get."}],"answers":[{"comments":[{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608544745,"post_id":65390675,"comment_id":115607002,"body_markdown":"Thanks. I did add the PluginProvider class loader to the urlclassloader, yet it still somehow does not work","body":"Thanks. I did add the PluginProvider class loader to the urlclassloader, yet it still somehow does not work"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608544853,"post_id":65390675,"comment_id":115607048,"body_markdown":"But do you still get the same exception or a different one? Or try `ClassLoader.getSystemClassLoader` instead.","body":"But do you still get the same exception or a different one? Or try <code>ClassLoader.getSystemClassLoader</code> instead."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608545741,"post_id":65390675,"comment_id":115607362,"body_markdown":"Weird thing, I cannot reproduce this. The exact sample, with either the system or the classloader from PluginProvider, does get the expected result.","body":"Weird thing, I cannot reproduce this. The exact sample, with either the system or the classloader from PluginProvider, does get the expected result."},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608545894,"post_id":65390675,"comment_id":115607431,"body_markdown":"Weird. I tried with the system class loader, still the same exception. Maybe it is a IntelliJ noob mistake by me. I could share the project, even though I know this would mean quite a bit more effort for you","body":"Weird. I tried with the system class loader, still the same exception. Maybe it is a IntelliJ noob mistake by me. I could share the project, even though I know this would mean quite a bit more effort for you"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1608546553,"post_id":65390675,"comment_id":115607666,"body_markdown":"The only difference is I created a maven project instead of a plain Java project. Does the jar actually contain the META-INF directory with the services dir and file? The `META-INF` needs to be in `src` else it won&#39;t be exported to the jar. Your jar doesn&#39;t contain the file and hence not the plugin.","body":"The only difference is I created a maven project instead of a plain Java project. Does the jar actually contain the META-INF directory with the services dir and file? The <code>META-INF</code> needs to be in <code>src</code> else it won&#39;t be exported to the jar. Your jar doesn&#39;t contain the file and hence not the plugin."},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608548068,"post_id":65390675,"comment_id":115608283,"body_markdown":"Oh ok. So I could use maven and there would be no real difference in the project structure?","body":"Oh ok. So I could use maven and there would be no real difference in the project structure?"},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608550190,"post_id":65390675,"comment_id":115609233,"body_markdown":"Converting the project to maven fixed all issues, thank you. Do you want to edit your answer with the solve in the comments so I can accept it?","body":"Converting the project to maven fixed all issues, thank you. Do you want to edit your answer with the solve in the comments so I can accept it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1608555025,"post_id":65390675,"comment_id":115611196,"body_markdown":"Well I suspect the real issue is that `META-INF` in your original post wasn&#39;t under `src` which means leaving out the whole structure and service loader file. When moving to maven you probably put the `META-INF` in `src/main/resources` instead.","body":"Well I suspect the real issue is that <code>META-INF</code> in your original post wasn&#39;t under <code>src</code> which means leaving out the whole structure and service loader file. When moving to maven you probably put the <code>META-INF</code> in <code>src&#47;main&#47;resources</code> instead."},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608555247,"post_id":65390675,"comment_id":115611283,"body_markdown":"I&#39;d like to accept an answer, but your answer hasn&#39;t solved the issue, the comment has. Could you edit it?","body":"I&#39;d like to accept an answer, but your answer hasn&#39;t solved the issue, the comment has. Could you edit it?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1608555371,"post_id":65390675,"comment_id":115611339,"body_markdown":"Was just editing whilst you were commenting :).","body":"Was just editing whilst you were commenting :)."},{"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"score":0,"creation_date":1608555542,"post_id":65390675,"comment_id":115611411,"body_markdown":"Oh ok sorry :D Thanks again for your help","body":"Oh ok sorry :D Thanks again for your help"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692897180,"creation_date":1608544655,"answer_id":65390675,"question_id":65390431,"body_markdown":"One thing I notice is that you construct a classloader which only contains 1 class. With this it won&#39;t be able to create a proper class hierarchy and most likely fail. Instead pass the current `Classloader` as the parent to your `URLClassLoader`. \r\n\r\n```java\r\nClassLoader parent = PluginProvider.class.getClassLoader();\r\nURL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\r\nURLClassLoader c = new URLClassLoader(urls, parent);\r\n```\r\n\r\nNow a proper hierarchy should be able to be constructed. \r\n\r\nAnother thing is in your project structure your `META-INF` directory isn&#39;t under the `src` directory containing the sources for the project. Which means Intellij will leave them out of the jar. So you are basically adding a jar **without** the proper files. It contains only the class and not `META-INF/services/net.lbflabs.PluginProvider`.","title":"ServiceLoader with UrlClassLoader not finding service","body":"<p>One thing I notice is that you construct a classloader which only contains 1 class. With this it won't be able to create a proper class hierarchy and most likely fail. Instead pass the current <code>Classloader</code> as the parent to your <code>URLClassLoader</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader parent = PluginProvider.class.getClassLoader();\nURL[] urls = new URL[] { file.getAbsoluteFile().toURI().toURL()};\nURLClassLoader c = new URLClassLoader(urls, parent);\n</code></pre>\n<p>Now a proper hierarchy should be able to be constructed.</p>\n<p>Another thing is in your project structure your <code>META-INF</code> directory isn't under the <code>src</code> directory containing the sources for the project. Which means Intellij will leave them out of the jar. So you are basically adding a jar <strong>without</strong> the proper files. It contains only the class and not <code>META-INF/services/net.lbflabs.PluginProvider</code>.</p>\n"}],"owner":{"account_id":14704600,"reputation":345,"user_id":10619713,"display_name":"Jakob Tinhofer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1595,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65390675,"answer_count":1,"score":2,"last_activity_date":1692897180,"creation_date":1608543477,"question_id":65390431,"body_markdown":"I am trying to load plugins from a certain jar file using the java ServiceLoader with an UrlClassLoader, but I just cannot seem to get it to find my plugin classes. Building both modules works, but whenever I run the code below, I get a `java.util.NoSuchElementException`, even though the file path is correct and I do not see where I messed up\r\n\r\nI have to modules in my IntelliJ project, *Test* (The application loading the plugin and also providing the ServiceProvider) and *PluginTest* (The plugin to be loaded).\r\n \r\nThis is a screenshot of the structure of the Test module:\r\n\r\n [![Test Module][1]][1]\r\n\r\nAnd here is a screenshot of the structure of the PluginTest module:\r\n\r\n[![PluginTest Module][2]][2]\r\n\r\n\r\nHere is the ServiceProvider PluginProvider:\r\n```lang-java\r\npackage net.lbflabs;\r\n\r\npublic abstract class PluginProvider {\r\n\r\n    public abstract String getSecretMessage(int message);\r\n}\r\n```\r\nThis is the plugin that extends this class:\r\n```lang-java\r\npackage net.lbflabs.plugins;\r\n\r\nimport net.lbflabs.PluginProvider;\r\n\r\npublic class PluginClass extends PluginProvider {\r\n    @Override\r\n    public String getSecretMessage(int message) {\r\n        return &quot;Here is my secret.&quot;;\r\n    }\r\n}\r\n\r\n```\r\nHere is the main class that loads the plugin:\r\n```lang-java\r\npackage net.lbflabs;\r\n\r\nimport java.io.File;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.util.ServiceLoader;\r\n\r\npublic class Main {\r\n\r\n    private static String path = &quot;C:/Users/jacke/IdeaProjects/Tests/out/artifacts/PluginTest_jar/PluginTest.jar&quot;;\r\n\r\n    public static void main(String[] args) throws MalformedURLException {\r\n        System.out.println(&quot;Initializing... \\nPreparing to load JAR from Path &quot; + path + &quot;...&quot;);\r\n        File file = new File(path);\r\n        System.out.println(file.exists()); //Prints true, so file does exist\r\n        URLClassLoader c = new URLClassLoader((new URL[]{file.getAbsoluteFile().toURI().toURL()}));\r\n        ServiceLoader&lt;PluginProvider&gt; loader = ServiceLoader.load(PluginProvider.class, c);\r\n        PluginProvider p = loader.iterator().next(); // Throws the java.util.NoSuchElementException\r\n        System.out.println(&quot;Secret message in plugin: &quot; + p.getSecretMessage(1));\r\n    }\r\n}\r\n\r\n```\r\nHere is the output when running the Tests module:\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk-14.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.3\\lib\\idea_rt.jar=50330:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\jacke\\IdeaProjects\\Tests\\out\\production\\Tests net.lbflabs.Main\r\nInitializing... \r\nPreparing to load JAR from Path C:/Users/jacke/IdeaProjects/Tests/out/artifacts/PluginTest_jar/PluginTest.jar...\r\ntrue\r\nException in thread &quot;main&quot; java.util.NoSuchElementException\r\n\tat java.base/java.util.ServiceLoader$2.next(ServiceLoader.java:1310)\r\n\tat java.base/java.util.ServiceLoader$2.next(ServiceLoader.java:1298)\r\n\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\r\n\tat net.lbflabs.Main.main(Main.java:19)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\nThe service file in the PluginTest module I believe is correctly named (`net.lbflabs.PluginProvider`) and contains the valid class name (`net.lbflabs.plugins.PluginClass`). If it was incorrect, IntelliJ would probably find the issue since when I introduce a typo I get warnings.\r\n\r\nIf someone needs it, I can provide the whole project as .rar (please tell me how you want me to share it, e.g. I create a onedrive link)\r\n\r\nPS: I have already asked this question [here][3], but since I was working on a bigger project and hesitant to share all the code in it (and since the only answer I got did not work, probably due to not enough info from me), I wanted to repost the issue with a minimum workable example that throws the same exception, I hope that is fine. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TUVKd.png\r\n  [2]: https://i.stack.imgur.com/1rMoY.png\r\n  [3]: https://stackoverflow.com/questions/65375763/serviceloader-cannot-find-service-loaded-from-path","title":"ServiceLoader with UrlClassLoader not finding service","body":"<p>I am trying to load plugins from a certain jar file using the java ServiceLoader with an UrlClassLoader, but I just cannot seem to get it to find my plugin classes. Building both modules works, but whenever I run the code below, I get a <code>java.util.NoSuchElementException</code>, even though the file path is correct and I do not see where I messed up</p>\n<p>I have to modules in my IntelliJ project, <em>Test</em> (The application loading the plugin and also providing the ServiceProvider) and <em>PluginTest</em> (The plugin to be loaded).</p>\n<p>This is a screenshot of the structure of the Test module:</p>\n<p><a href=\"https://i.stack.imgur.com/TUVKd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUVKd.png\" alt=\"Test Module\" /></a></p>\n<p>And here is a screenshot of the structure of the PluginTest module:</p>\n<p><a href=\"https://i.stack.imgur.com/1rMoY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rMoY.png\" alt=\"PluginTest Module\" /></a></p>\n<p>Here is the ServiceProvider PluginProvider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.lbflabs;\n\npublic abstract class PluginProvider {\n\n    public abstract String getSecretMessage(int message);\n}\n</code></pre>\n<p>This is the plugin that extends this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.lbflabs.plugins;\n\nimport net.lbflabs.PluginProvider;\n\npublic class PluginClass extends PluginProvider {\n    @Override\n    public String getSecretMessage(int message) {\n        return &quot;Here is my secret.&quot;;\n    }\n}\n\n</code></pre>\n<p>Here is the main class that loads the plugin:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.lbflabs;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.ServiceLoader;\n\npublic class Main {\n\n    private static String path = &quot;C:/Users/jacke/IdeaProjects/Tests/out/artifacts/PluginTest_jar/PluginTest.jar&quot;;\n\n    public static void main(String[] args) throws MalformedURLException {\n        System.out.println(&quot;Initializing... \\nPreparing to load JAR from Path &quot; + path + &quot;...&quot;);\n        File file = new File(path);\n        System.out.println(file.exists()); //Prints true, so file does exist\n        URLClassLoader c = new URLClassLoader((new URL[]{file.getAbsoluteFile().toURI().toURL()}));\n        ServiceLoader&lt;PluginProvider&gt; loader = ServiceLoader.load(PluginProvider.class, c);\n        PluginProvider p = loader.iterator().next(); // Throws the java.util.NoSuchElementException\n        System.out.println(&quot;Secret message in plugin: &quot; + p.getSecretMessage(1));\n    }\n}\n\n</code></pre>\n<p>Here is the output when running the Tests module:</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-14.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.3\\lib\\idea_rt.jar=50330:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2020.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\jacke\\IdeaProjects\\Tests\\out\\production\\Tests net.lbflabs.Main\nInitializing... \nPreparing to load JAR from Path C:/Users/jacke/IdeaProjects/Tests/out/artifacts/PluginTest_jar/PluginTest.jar...\ntrue\nException in thread &quot;main&quot; java.util.NoSuchElementException\n    at java.base/java.util.ServiceLoader$2.next(ServiceLoader.java:1310)\n    at java.base/java.util.ServiceLoader$2.next(ServiceLoader.java:1298)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\n    at net.lbflabs.Main.main(Main.java:19)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>The service file in the PluginTest module I believe is correctly named (<code>net.lbflabs.PluginProvider</code>) and contains the valid class name (<code>net.lbflabs.plugins.PluginClass</code>). If it was incorrect, IntelliJ would probably find the issue since when I introduce a typo I get warnings.</p>\n<p>If someone needs it, I can provide the whole project as .rar (please tell me how you want me to share it, e.g. I create a onedrive link)</p>\n<p>PS: I have already asked this question <a href=\"https://stackoverflow.com/questions/65375763/serviceloader-cannot-find-service-loaded-from-path\">here</a>, but since I was working on a bigger project and hesitant to share all the code in it (and since the only answer I got did not work, probably due to not enough info from me), I wanted to repost the issue with a minimum workable example that throws the same exception, I hope that is fine.</p>\n"},{"tags":["java","eclipse","ant"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1399525884,"post_id":23532966,"comment_id":36101513,"body_markdown":"That&#39;s not an exception, it is a custom error message. Please set the property `libs.CopyLibs.classpath`","body":"That&#39;s not an exception, it is a custom error message. Please set the property <code>libs.CopyLibs.classpath</code>"},{"owner":{"account_id":455438,"reputation":2729,"user_id":853599,"accept_rate":95,"display_name":"Dante WWWW"},"score":0,"creation_date":1399526684,"post_id":23532966,"comment_id":36101807,"body_markdown":"You should copy the jar into your project&#39;s lib folder and point the `libs.CopyLibs.classpath` property (maybe in project.properties) to the jar. The jar exists in a Netbeans installation.","body":"You should copy the jar into your project&#39;s lib folder and point the <code>libs.CopyLibs.classpath</code> property (maybe in project.properties) to the jar. The jar exists in a Netbeans installation."}],"answers":[{"tags":[],"owner":{"account_id":2248946,"reputation":129,"user_id":1981639,"accept_rate":75,"display_name":"BigFish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401818430,"creation_date":1401818430,"answer_id":24021944,"question_id":23532966,"body_markdown":"I know the OP was asking about Eclipse, but I&#39;ve run into this problem a few times using NetBeans, and the standard answer to set libs.CopyLibs.classpath property in Tools, Options, Java Properties never worked for me.  Neither has the answer that includes commenting out lines in nbproject/private/private.properties, etc.\r\n\r\nI did find that in the Project Properties dialog, under Libraries you can create a Libraries Folder and everything you specify, including the CopyLibs jar will go in there.  I&#39;ve done this to include all resources needed by a WAR file so the WAR wasn&#39;t dependent on server files and it worked for me.\r\n\r\nHope this helps someone looking for a NetBeans answer (maybe there is something similar in Eclipse).","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>I know the OP was asking about Eclipse, but I've run into this problem a few times using NetBeans, and the standard answer to set libs.CopyLibs.classpath property in Tools, Options, Java Properties never worked for me.  Neither has the answer that includes commenting out lines in nbproject/private/private.properties, etc.</p>\n\n<p>I did find that in the Project Properties dialog, under Libraries you can create a Libraries Folder and everything you specify, including the CopyLibs jar will go in there.  I've done this to include all resources needed by a WAR file so the WAR wasn't dependent on server files and it worked for me.</p>\n\n<p>Hope this helps someone looking for a NetBeans answer (maybe there is something similar in Eclipse).</p>\n"},{"comments":[{"owner":{"account_id":1776733,"reputation":1388,"user_id":1620389,"accept_rate":75,"display_name":"BustedSanta"},"score":0,"creation_date":1411670614,"post_id":25647146,"comment_id":40801558,"body_markdown":"Perhaps I am misunderstanding the original question but the user user3588496 seems to be inquiring about Eclipse Indigo not Netbeans. I am experiencing the same (Eclipse) issue but I don&#39;t have Netbeans installed on my machines. So your suggestion doesn&#39;t seem to be applicable to Eclipse users.","body":"Perhaps I am misunderstanding the original question but the user user3588496 seems to be inquiring about Eclipse Indigo not Netbeans. I am experiencing the same (Eclipse) issue but I don&#39;t have Netbeans installed on my machines. So your suggestion doesn&#39;t seem to be applicable to Eclipse users."},{"owner":{"account_id":1733462,"reputation":364,"user_id":1586542,"display_name":"Thilina Premasiri"},"score":0,"creation_date":1411729674,"post_id":25647146,"comment_id":40823580,"body_markdown":"yes, user3588496 uses eclipse. but the problem is, the project he/she trying to run is a netbeans projet. that&#39;s why it has a nbproject folder.","body":"yes, user3588496 uses eclipse. but the problem is, the project he/she trying to run is a netbeans projet. that&#39;s why it has a nbproject folder."},{"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"score":0,"creation_date":1524073257,"post_id":25647146,"comment_id":86827541,"body_markdown":"This also fixed `javaee-endorsed-api-6.0 is missing` for me","body":"This also fixed <code>javaee-endorsed-api-6.0 is missing</code> for me"}],"tags":[],"owner":{"account_id":1733462,"reputation":364,"user_id":1586542,"display_name":"Thilina Premasiri"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1444647011,"creation_date":1409755061,"answer_id":25647146,"question_id":23532966,"body_markdown":"I had the same problem after pulling a NetBeans project from GitHub. The problem was, the file `/nbproject/private.properties` contained a line...\r\n\r\n    &quot;user.properties.file=C:\\\\Users\\\\Thilina\\\\AppData\\\\Roaming\\\\NetBeans\\\\7.3\\\\build.properties&quot; \r\n\r\n...which was pointing to a wrong location. I corrected that and the problem went away.","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>I had the same problem after pulling a NetBeans project from GitHub. The problem was, the file <code>/nbproject/private.properties</code> contained a line...</p>\n\n<pre><code>\"user.properties.file=C:\\\\Users\\\\Thilina\\\\AppData\\\\Roaming\\\\NetBeans\\\\7.3\\\\build.properties\" \n</code></pre>\n\n<p>...which was pointing to a wrong location. I corrected that and the problem went away.</p>\n"},{"comments":[{"owner":{"account_id":1682894,"reputation":1612,"user_id":1546774,"display_name":"mbonness"},"score":0,"creation_date":1588005434,"post_id":26064406,"comment_id":108727027,"body_markdown":"This is a good way to brute force libs.CopyLibs.classpath when the magical IDE tools aren&#39;t populating it.","body":"This is a good way to brute force libs.CopyLibs.classpath when the magical IDE tools aren&#39;t populating it."}],"tags":[],"owner":{"account_id":1776733,"reputation":1388,"user_id":1620389,"accept_rate":75,"display_name":"BustedSanta"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411749860,"creation_date":1411749860,"answer_id":26064406,"question_id":23532966,"body_markdown":"This following worked for me:\r\n\r\n\r\n1) Downloaded and added the **org-netbeans-modules-java-j2seproject-copylibstask.jar** to my Ant/lib directory: **C:/apache-ant-1.9.4/lib/**\r\n\r\n2) (in command line) Navigated to the folder containing my &quot;build.xml&quot; file:\r\n\r\n**cd C:\\eclipse_workspace\\myproject\\abcfolder**\r\n\r\n(my build.xml location: C:\\eclipse_workspace\\myproject\\abcfolder\\build.xml)\r\n\r\n3) Ran the following commmand:\r\n\r\n**ant -Dlibs.CopyLibs.classpath=C:/apache-ant-1.9.4/lib/org-netbeans-modules-java-j2seproject-copylibstask.jar**\r\n\r\nI got a successful build.","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>This following worked for me:</p>\n\n<p>1) Downloaded and added the <strong>org-netbeans-modules-java-j2seproject-copylibstask.jar</strong> to my Ant/lib directory: <strong>C:/apache-ant-1.9.4/lib/</strong></p>\n\n<p>2) (in command line) Navigated to the folder containing my \"build.xml\" file:</p>\n\n<p><strong>cd C:\\eclipse_workspace\\myproject\\abcfolder</strong></p>\n\n<p>(my build.xml location: C:\\eclipse_workspace\\myproject\\abcfolder\\build.xml)</p>\n\n<p>3) Ran the following commmand:</p>\n\n<p><strong>ant -Dlibs.CopyLibs.classpath=C:/apache-ant-1.9.4/lib/org-netbeans-modules-java-j2seproject-copylibstask.jar</strong></p>\n\n<p>I got a successful build.</p>\n"},{"comments":[{"owner":{"account_id":2315442,"reputation":1341,"user_id":2032618,"accept_rate":100,"display_name":"TomDK"},"score":0,"creation_date":1469588975,"post_id":38602978,"comment_id":64593490,"body_markdown":"If you then get the following error:\nCould not load definitions from resource org/netbeans/modules/java/j2seproject/copylibstask/antlib.xml\n\nYou simply add the following JAR in the same tab: org-netbeans-modules-java-j2seproject-copylibstask.jar \n\nI found the solution with detailed instructions here: https://vigneshravi35.wordpress.com/2013/11/20/deploy-issue-on-netbeans-antlib-xml-could-not-be-found/","body":"If you then get the following error: Could not load definitions from resource org/netbeans/modules/java/j2seproject/copylibstask/antlib.xm&zwnj;&#8203;l  You simply add the following JAR in the same tab: org-netbeans-modules-java-j2seproject-copylibstask.jar   I found the solution with detailed instructions here: <a href=\"https://vigneshravi35.wordpress.com/2013/11/20/deploy-issue-on-netbeans-antlib-xml-could-not-be-found/\" rel=\"nofollow noreferrer\">vigneshravi35.wordpress.com/2013/11/20/&hellip;</a>"}],"tags":[],"owner":{"account_id":2315442,"reputation":1341,"user_id":2032618,"accept_rate":100,"display_name":"TomDK"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593200199,"creation_date":1469588404,"answer_id":38602978,"question_id":23532966,"body_markdown":"I just stumbed across this article which helped me: \r\n\r\n[How to fix the libs](http://www.adam-bien.com/roller/abien/entry/how_to_fix_the_libs)\r\n\r\nInstructions for Netbeans 8\r\n\r\nOpen: \r\n\r\n&gt; Tools -&gt; Options -&gt; Java -&gt; Ant\r\n\r\nPaste the following in Properties:\r\n\r\n&gt;libs.CopyLibs.classpath=[Netbeans Install]NetBeans6.5java2antextraorg-netbeans-modules-java-j2seproject-copylibstask.jar\r\n\r\n","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>I just stumbed across this article which helped me:</p>\n<p><a href=\"http://www.adam-bien.com/roller/abien/entry/how_to_fix_the_libs\" rel=\"nofollow noreferrer\">How to fix the libs</a></p>\n<p>Instructions for Netbeans 8</p>\n<p>Open:</p>\n<blockquote>\n<p>Tools -&gt; Options -&gt; Java -&gt; Ant</p>\n</blockquote>\n<p>Paste the following in Properties:</p>\n<blockquote>\n<p>libs.CopyLibs.classpath=[Netbeans Install]NetBeans6.5java2antextraorg-netbeans-modules-java-j2seproject-copylibstask.jar</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10221095,"reputation":179,"user_id":7545265,"display_name":"ashish patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1492508410,"creation_date":1492508410,"answer_id":43468666,"question_id":23532966,"body_markdown":"**Please find below for the Solution:**\r\nBelow is an error that I was facing while building the project:\r\n\r\n&quot;The libs.CopyLibs.classpath property is not set up. This property must point to  org-netbeans-modules-java-j2seproject-copylibstask.jar file which is part of NetBeans IDE installation and is usually located at  &lt;netbeans_installation&gt;/java&lt;version&gt;/ant/extra folder. Either open the project in the IDE and make sure CopyLibs library exists or setup the property manually. For example like this:  ant -Dlibs.CopyLibs.classpath=a/path/to/org-netbeans-modules-java-j2seproject-copylibstask.jar&quot;\r\n\r\n**Here is a solution:**\r\n\r\n--&gt; Open Netbeans\r\n\r\n--&gt; Select Project\r\n\r\n--&gt; Right Click\r\n\r\n--&gt; Property\r\n\r\n--&gt; Libraries\r\n\r\nNow change the path of the library where your **javaee-endorsed-api-7.0** is stored.\r\nIn file browser\r\n\r\n--&gt; Select your project\r\n\r\n--&gt; Select lib folder\r\n\r\n--&gt; Click Open Button\r\n\r\nYou will ables to see it will be like: **lib\\nblibraries.properties**\r\n\r\nNow your problem is resolved.\r\nDo not need to download the file beacuse it comes with Netbeans Package.\r\nYou just have to find the file.\r\n\r\n[Please check image how it looks (**Project--&gt;Libraries** &amp; **Path**)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ljfBd.jpg","title":"The libs.CopyLibs.classpath property is not set up","body":"<p><strong>Please find below for the Solution:</strong>\nBelow is an error that I was facing while building the project:</p>\n\n<p>\"The libs.CopyLibs.classpath property is not set up. This property must point to  org-netbeans-modules-java-j2seproject-copylibstask.jar file which is part of NetBeans IDE installation and is usually located at  /java/ant/extra folder. Either open the project in the IDE and make sure CopyLibs library exists or setup the property manually. For example like this:  ant -Dlibs.CopyLibs.classpath=a/path/to/org-netbeans-modules-java-j2seproject-copylibstask.jar\"</p>\n\n<p><strong>Here is a solution:</strong></p>\n\n<p>--> Open Netbeans</p>\n\n<p>--> Select Project</p>\n\n<p>--> Right Click</p>\n\n<p>--> Property</p>\n\n<p>--> Libraries</p>\n\n<p>Now change the path of the library where your <strong>javaee-endorsed-api-7.0</strong> is stored.\nIn file browser</p>\n\n<p>--> Select your project</p>\n\n<p>--> Select lib folder</p>\n\n<p>--> Click Open Button</p>\n\n<p>You will ables to see it will be like: <strong>lib\\nblibraries.properties</strong></p>\n\n<p>Now your problem is resolved.\nDo not need to download the file beacuse it comes with Netbeans Package.\nYou just have to find the file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ljfBd.jpg\" rel=\"noreferrer\">Please check image how it looks (<strong>Project-->Libraries</strong> &amp; <strong>Path</strong>)</a></p>\n"},{"tags":[],"owner":{"account_id":15716430,"reputation":11,"user_id":11340516,"display_name":"NAVEENREDDY K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594624629,"creation_date":1594624629,"answer_id":62870940,"question_id":23532966,"body_markdown":"1. In NetBeans, select Tools &gt; Options &gt; Miscellaneous &gt; Ant\r\n2. In the Properties section, add the following property\r\n\r\nlibs.CopyLibs.classpath=pathtoyour_netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar","title":"The libs.CopyLibs.classpath property is not set up","body":"<ol>\n<li>In NetBeans, select Tools &gt; Options &gt; Miscellaneous &gt; Ant</li>\n<li>In the Properties section, add the following property</li>\n</ol>\n<p>libs.CopyLibs.classpath=pathtoyour_netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar</p>\n"},{"comments":[{"owner":{"account_id":18426646,"reputation":31,"user_id":13422774,"display_name":"glensbo"},"score":1,"creation_date":1612731001,"post_id":66079126,"comment_id":116852140,"body_markdown":"Thanks, @Liam Townsley for this editing - I will use that format next time","body":"Thanks, @Liam Townsley for this editing - I will use that format next time"},{"owner":{"account_id":7139354,"reputation":1179,"user_id":10226332,"display_name":"Liam"},"score":0,"creation_date":1612740571,"post_id":66079126,"comment_id":116854378,"body_markdown":"No problem, glad I could help. :)","body":"No problem, glad I could help. :)"}],"tags":[],"owner":{"account_id":18426646,"reputation":31,"user_id":13422774,"display_name":"glensbo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612643779,"creation_date":1612628635,"answer_id":66079126,"question_id":23532966,"body_markdown":"It took a while before I succeeded on my mac, but using locate on the terminal gave me the correct path:\r\n`/Applications/NetBeans/Apache NetBeans 12.2.app/Contents/Resources/NetBeans/netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar`\r\n\r\nThat I entered into the: **NetBeans** &gt; **Preferences** &gt; **Java** &gt; **Ant** &gt; **Options** &gt; **Properties** setting.\r\n\r\n`libs.CopyLibs.classpath=Applications/NetBeans/Apache NetBeans 12.2.app/Contents/Resources/NetBeans/netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar`\r\n\r\nThank you for your help.","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>It took a while before I succeeded on my mac, but using locate on the terminal gave me the correct path:\n<code>/Applications/NetBeans/Apache NetBeans 12.2.app/Contents/Resources/NetBeans/netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar</code></p>\n<p>That I entered into the: <strong>NetBeans</strong> &gt; <strong>Preferences</strong> &gt; <strong>Java</strong> &gt; <strong>Ant</strong> &gt; <strong>Options</strong> &gt; <strong>Properties</strong> setting.</p>\n<p><code>libs.CopyLibs.classpath=Applications/NetBeans/Apache NetBeans 12.2.app/Contents/Resources/NetBeans/netbeans/java/ant/extra/org-netbeans-modules-java-j2seproject-copylibstask.jar</code></p>\n<p>Thank you for your help.</p>\n"},{"tags":[],"owner":{"account_id":13028515,"reputation":490,"user_id":9415686,"display_name":"Lucioric2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692896511,"creation_date":1692896511,"answer_id":76971521,"question_id":23532966,"body_markdown":"For me, simply restarting Netbeans worked. The paths were regenerated, with the correct value.","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>For me, simply restarting Netbeans worked. The paths were regenerated, with the correct value.</p>\n"}],"owner":{"account_id":4403487,"reputation":123,"user_id":3588496,"accept_rate":0,"display_name":"user3588496"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39476,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":8,"score":5,"last_activity_date":1692896511,"creation_date":1399524653,"question_id":23532966,"body_markdown":"I&#39;m using Eclipse Indigo (3.7) to build an application using `ant` and a `build.xml` file.\r\n\r\nI am getting the following exception:\r\n\r\n    C:\\navigator\\nbproject\\build-impl.xml:774: The libs.CopyLibs.classpath property is not set up.\r\n    This property must point to \r\n    org-netbeans-modules-java-j2seproject-copylibstask.jar file which is part\r\n    of NetBeans IDE installation and is usually located at \r\n    &lt;netbeans_installation&gt;/java&lt;version&gt;/ant/extra folder.\r\n    Either open the project in the IDE and make sure CopyLibs library\r\n    exists or setup the property manually. For example like this:\r\n     ant -Dlibs.CopyLibs.classpath=a/path/to/org-netbeans-modules-java-j2seproject-copylibstask.jar\r\n\r\nCan anyone suggest me how to resolve this issue?","title":"The libs.CopyLibs.classpath property is not set up","body":"<p>I'm using Eclipse Indigo (3.7) to build an application using <code>ant</code> and a <code>build.xml</code> file.</p>\n\n<p>I am getting the following exception:</p>\n\n<pre><code>C:\\navigator\\nbproject\\build-impl.xml:774: The libs.CopyLibs.classpath property is not set up.\nThis property must point to \norg-netbeans-modules-java-j2seproject-copylibstask.jar file which is part\nof NetBeans IDE installation and is usually located at \n&lt;netbeans_installation&gt;/java&lt;version&gt;/ant/extra folder.\nEither open the project in the IDE and make sure CopyLibs library\nexists or setup the property manually. For example like this:\n ant -Dlibs.CopyLibs.classpath=a/path/to/org-netbeans-modules-java-j2seproject-copylibstask.jar\n</code></pre>\n\n<p>Can anyone suggest me how to resolve this issue?</p>\n"},{"tags":["java","android","json","path","key"],"comments":[{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1692899172,"post_id":76971492,"comment_id":135690402,"body_markdown":"Why you use variable key name for the choose actions?  If you rename &quot;2&quot;, &quot;3&quot;, &quot;12&quot;, &quot;15&quot;, &quot;20&quot;  to &quot;chooseA&quot; and rename &quot;5&quot;, &quot;4&quot;, &quot;21&quot;, &quot;13&quot;, &quot;16&quot; to &quot;chooseB&quot;, will it solve your problem?","body":"Why you use variable key name for the choose actions?  If you rename &quot;2&quot;, &quot;3&quot;, &quot;12&quot;, &quot;15&quot;, &quot;20&quot;  to &quot;chooseA&quot; and rename &quot;5&quot;, &quot;4&quot;, &quot;21&quot;, &quot;13&quot;, &quot;16&quot; to &quot;chooseB&quot;, will it solve your problem?"},{"owner":{"account_id":25191407,"reputation":11,"user_id":19031572,"display_name":"potatolol"},"score":0,"creation_date":1692903059,"post_id":76971492,"comment_id":135691199,"body_markdown":"Th prob is, th json is gonna reach 1000th obj.. And it will be impossibl to keep count as i mak th obj if I hav choos a or b","body":"Th prob is, th json is gonna reach 1000th obj.. And it will be impossibl to keep count as i mak th obj if I hav choos a or b"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692921296,"post_id":76971492,"comment_id":135693825,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1692923545,"post_id":76971492,"comment_id":135694048,"body_markdown":"In addition to rename the choose action to a fixed key name, you can add keys like &quot;indexA&quot; and &quot;indexB&quot; to store to index value in each node","body":"In addition to rename the choose action to a fixed key name, you can add keys like &quot;indexA&quot; and &quot;indexB&quot; to store to index value in each node"}],"owner":{"account_id":25191407,"reputation":11,"user_id":19031572,"display_name":"potatolol"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692896280,"creation_date":1692896280,"question_id":76971492,"body_markdown":"How I want th app to work:\r\nAs you can see in the photo attached, evey obj has 4 paths.\r\nI want th user to read first 2 values (considring we ar in obj 1, the user reads a1 and b1 on screen) and after reading them he will have to choose its next path, either 2 or 5 (considering obj 1, th very first one). After he chooses 2 or 5, he will be again presented with values (a2 and b2, if he choose path 2 considring the photo attached) and he will have to make again a choice (betwen 3 and 4 considring th photo attached) and so on.\r\nI want 2 things.\r\n\r\n\r\n1. Read th current obj first 2 values (which will be a and b) WITHOUT writing its key (not &quot;String a = object2.getString(&quot;a&quot;);&quot; but somthing lik [i] String a = object2.getString(&quot;0&quot;);)\r\n\r\n2. I need 2 buttons for the 2 choices you need to make ( so considring th photo atachd, obj 1 has path 2 and 5 to choose from) that can b used everytime he makes a choice until it reaches the end.\r\nSo in th code of the button that takes you on path 5 (considring the photo, for obj 1) JSONObject object1 = jsonObject.getJSONObject(&quot;3&quot;); (I want it to be  3 here and not 5, because its the 3rd(0-1-2-3) item in obj 1\r\n\r\n[every obj has 4 keys/paths/values.Now considering obj 1, first 2 to be read (so we get a1 and b1 ), and the nxt 2 to choose betwen on which path you want to take(path 2 or 5](https://i.stack.imgur.com/yCY1O.png)\r\n```\r\n[\r\n  {\r\n    &quot;1&quot;: {\r\n      &quot;2&quot;: {\r\n        &quot;a&quot;: &quot;a2&quot;,\r\n        &quot;b&quot;: &quot;b2&quot;,\r\n        &quot;3&quot;:{&quot;a&quot;:&quot;a3&quot;,\r\n             &quot;b&quot;:&quot;b3&quot;\r\n             &quot;20&quot;:{},\r\n             &quot;21&quot;:{}\r\n      \r\n        },\r\n        &quot;4&quot;:{&quot;a&quot;:&quot;a4&quot;,\r\n             &quot;b&quot;:&quot;b4&quot;,\r\n              &quot;12&quot;:{&quot;a&quot;:&quot;a12&quot;,\r\n                    &quot;b&quot;:&quot;b12&quot;},\r\n              &quot;13&quot;:{&quot;a&quot;:&quot;a13&quot;,\r\n                    &quot;b&quot;:&quot;b13&quot;}\r\n              }\r\n\r\n      },\r\n      &quot;5&quot;: {\r\n        &quot;a&quot;: &quot;a5&quot;,\r\n        &quot;b&quot;: &quot;b5&quot;,\r\n        &quot;15&quot;:{&quot;a&quot;:&quot;a15&quot;,\r\n              &quot;b&quot;:&quot;b15&quot;},\r\n        &quot;16&quot;:{&quot;a&quot;:&quot;a16&quot;}\r\n            \r\n      },\r\n      &quot;a&quot;: &quot;a1&quot;,\r\n      &quot;b&quot;: &quot;b1&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\n\r\nimport com.example.myapplication.databinding.ActivityMainBinding;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    ArrayList&lt;String&gt; userList;\r\n    ArrayAdapter&lt;String&gt; listAdapter;\r\n    Handler mainHandler = new Handler();\r\n    ProgressDialog progressDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        initializeUserList();\r\n\r\n        binding.btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                new fetchData().start();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void initializeUserList() {\r\n        userList =  new ArrayList&lt;&gt;();\r\n        listAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,userList);\r\n        binding.userList.setAdapter(listAdapter);\r\n    }\r\n\r\n    class fetchData extends Thread {\r\n        String data = &quot;&quot;;\r\n        @Override\r\n        public void run() {\r\n\r\n            mainHandler.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    progressDialog = new ProgressDialog(MainActivity.this);\r\n                    progressDialog.setMessage(&quot;fetching data&quot;);\r\n                    progressDialog.setCancelable(false);\r\n                    progressDialog.show();\r\n                }\r\n            });\r\n\r\n            try {\r\n                URL url = new URL(&quot;https://api.npoint.io/ba77aacc0972af3c686a&quot;);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n                String line;\r\n                StringBuilder data = new StringBuilder();\r\n\r\n                while ((line = bufferedReader.readLine()) != null) {\r\n                    data.append(line);\r\n                }\r\n\r\n                if (!data.toString().isEmpty()) {\r\n                    JSONObject jsonObject = new JSONObject(data.toString());\r\n                    JSONObject object1 = jsonObject.getJSONObject(&quot;1&quot;);\r\n                    JSONObject object2 = object1.getJSONObject(v); // Access the &quot;2&quot; object\r\n                    String a = object2.getString(&quot;a&quot;);\r\n                    String b = object2.getString(&quot;b&quot;);\r\n               //     String aa = object1.getString(&quot;a&quot;);\r\n                //    String bb = object1.getString(&quot;b&quot;);\r\n                    userList.add(a);\r\n                    userList.add(b);\r\n                 //   userList.add(aa);\r\n                 //   userList.add(bb);\r\n\r\n                    Log.d(&quot;obj&quot;, String.valueOf(jsonObject));\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            mainHandler.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (progressDialog.isShowing())\r\n                        progressDialog.dismiss();\r\n                    listAdapter.notifyDataSetChanged();\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI didnt see anything similar on internet to solve my problem (maybe smth like json path? but idk if it rly helps me and idk how to add it to the ANdroid Studio","title":"Need 2 buttons that will read the JSON&#39;s 1st and 2th value without saying its key","body":"<p>How I want th app to work:\nAs you can see in the photo attached, evey obj has 4 paths.\nI want th user to read first 2 values (considring we ar in obj 1, the user reads a1 and b1 on screen) and after reading them he will have to choose its next path, either 2 or 5 (considering obj 1, th very first one). After he chooses 2 or 5, he will be again presented with values (a2 and b2, if he choose path 2 considring the photo attached) and he will have to make again a choice (betwen 3 and 4 considring th photo attached) and so on.\nI want 2 things.</p>\n<ol>\n<li><p>Read th current obj first 2 values (which will be a and b) WITHOUT writing its key (not &quot;String a = object2.getString(&quot;a&quot;);&quot; but somthing lik [i] String a = object2.getString(&quot;0&quot;);)</p>\n</li>\n<li><p>I need 2 buttons for the 2 choices you need to make ( so considring th photo atachd, obj 1 has path 2 and 5 to choose from) that can b used everytime he makes a choice until it reaches the end.\nSo in th code of the button that takes you on path 5 (considring the photo, for obj 1) JSONObject object1 = jsonObject.getJSONObject(&quot;3&quot;); (I want it to be  3 here and not 5, because its the 3rd(0-1-2-3) item in obj 1</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/yCY1O.png\" rel=\"nofollow noreferrer\">every obj has 4 keys/paths/values.Now considering obj 1, first 2 to be read (so we get a1 and b1 ), and the nxt 2 to choose betwen on which path you want to take(path 2 or 5</a></p>\n<pre><code>[\n  {\n    &quot;1&quot;: {\n      &quot;2&quot;: {\n        &quot;a&quot;: &quot;a2&quot;,\n        &quot;b&quot;: &quot;b2&quot;,\n        &quot;3&quot;:{&quot;a&quot;:&quot;a3&quot;,\n             &quot;b&quot;:&quot;b3&quot;\n             &quot;20&quot;:{},\n             &quot;21&quot;:{}\n      \n        },\n        &quot;4&quot;:{&quot;a&quot;:&quot;a4&quot;,\n             &quot;b&quot;:&quot;b4&quot;,\n              &quot;12&quot;:{&quot;a&quot;:&quot;a12&quot;,\n                    &quot;b&quot;:&quot;b12&quot;},\n              &quot;13&quot;:{&quot;a&quot;:&quot;a13&quot;,\n                    &quot;b&quot;:&quot;b13&quot;}\n              }\n\n      },\n      &quot;5&quot;: {\n        &quot;a&quot;: &quot;a5&quot;,\n        &quot;b&quot;: &quot;b5&quot;,\n        &quot;15&quot;:{&quot;a&quot;:&quot;a15&quot;,\n              &quot;b&quot;:&quot;b15&quot;},\n        &quot;16&quot;:{&quot;a&quot;:&quot;a16&quot;}\n            \n      },\n      &quot;a&quot;: &quot;a1&quot;,\n      &quot;b&quot;: &quot;b1&quot;\n    }\n  }\n]\n</code></pre>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\n\nimport com.example.myapplication.databinding.ActivityMainBinding;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    ArrayList&lt;String&gt; userList;\n    ArrayAdapter&lt;String&gt; listAdapter;\n    Handler mainHandler = new Handler();\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        initializeUserList();\n\n        binding.btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                new fetchData().start();\n            }\n        });\n    }\n\n    private void initializeUserList() {\n        userList =  new ArrayList&lt;&gt;();\n        listAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,userList);\n        binding.userList.setAdapter(listAdapter);\n    }\n\n    class fetchData extends Thread {\n        String data = &quot;&quot;;\n        @Override\n        public void run() {\n\n            mainHandler.post(new Runnable() {\n                @Override\n                public void run() {\n                    progressDialog = new ProgressDialog(MainActivity.this);\n                    progressDialog.setMessage(&quot;fetching data&quot;);\n                    progressDialog.setCancelable(false);\n                    progressDialog.show();\n                }\n            });\n\n            try {\n                URL url = new URL(&quot;https://api.npoint.io/ba77aacc0972af3c686a&quot;);\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n                InputStream inputStream = httpURLConnection.getInputStream();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                String line;\n                StringBuilder data = new StringBuilder();\n\n                while ((line = bufferedReader.readLine()) != null) {\n                    data.append(line);\n                }\n\n                if (!data.toString().isEmpty()) {\n                    JSONObject jsonObject = new JSONObject(data.toString());\n                    JSONObject object1 = jsonObject.getJSONObject(&quot;1&quot;);\n                    JSONObject object2 = object1.getJSONObject(v); // Access the &quot;2&quot; object\n                    String a = object2.getString(&quot;a&quot;);\n                    String b = object2.getString(&quot;b&quot;);\n               //     String aa = object1.getString(&quot;a&quot;);\n                //    String bb = object1.getString(&quot;b&quot;);\n                    userList.add(a);\n                    userList.add(b);\n                 //   userList.add(aa);\n                 //   userList.add(bb);\n\n                    Log.d(&quot;obj&quot;, String.valueOf(jsonObject));\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            mainHandler.post(new Runnable() {\n                @Override\n                public void run() {\n                    if (progressDialog.isShowing())\n                        progressDialog.dismiss();\n                    listAdapter.notifyDataSetChanged();\n\n                }\n            });\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I didnt see anything similar on internet to solve my problem (maybe smth like json path? but idk if it rly helps me and idk how to add it to the ANdroid Studio</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1692897422,"post_id":76971473,"comment_id":135690034,"body_markdown":"Take a thread dump; in my experience 99.9999% of these are due to the container thread being &quot;stuck&quot; in user code someplace. If that doesn&#39;t help, try debug logging.","body":"Take a thread dump; in my experience 99.9999% of these are due to the container thread being &quot;stuck&quot; in user code someplace. If that doesn&#39;t help, try debug logging."},{"owner":{"account_id":103016,"reputation":474,"user_id":276149,"accept_rate":60,"display_name":"Vega"},"score":0,"creation_date":1692898269,"post_id":76971473,"comment_id":135690211,"body_markdown":"I restarted the consumer but still its not consuming messages, do you see any discrepancies at the config, especially in the commit and poll interval","body":"I restarted the consumer but still its not consuming messages, do you see any discrepancies at the config, especially in the commit and poll interval"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1692905732,"post_id":76971473,"comment_id":135691685,"body_markdown":"As I said, enable DEBUG logging.","body":"As I said, enable DEBUG logging."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1692969762,"post_id":76971473,"comment_id":135701191,"body_markdown":"Also use `kafka-consumer-groups` CLI to see if there&#39;s zero lag in a partition. If so, your producer is the problem... You should also acknowledge the message after processing, assuming you don&#39;t want to skip any messages. I&#39;d also recommend using Spring Kafka 3+","body":"Also use <code>kafka-consumer-groups</code> CLI to see if there&#39;s zero lag in a partition. If so, your producer is the problem... You should also acknowledge the message after processing, assuming you don&#39;t want to skip any messages. I&#39;d also recommend using Spring Kafka 3+"}],"owner":{"account_id":103016,"reputation":474,"user_id":276149,"accept_rate":60,"display_name":"Vega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692896060,"creation_date":1692896060,"question_id":76971473,"body_markdown":"The kafka consumer stopped receiving messages after sometime, in other words the consumer started consuming messages for a day or two and its getting lost messages from one partition eventually stopped receiving messages from the whole topic, here is my consumer code and config\r\n\r\n```\r\npublic class Listener implements AcknowledgingMessageListener&lt;String, Request&gt; {\r\n@KafkaListener(topics = &quot;topicname&quot;, groupId = &quot;groupid&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n\t@Override\r\n\tpublic void onMessage(ConsumerRecord&lt;String, request&gt; consumerRecord, Acknowledgment acknowledgment) {\r\n\t\tacknowledgment.acknowledge();\r\n\t\ttry {\r\n\t\t\t//process the message\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t//publish it to DLT topic\r\n\t\t}\r\n\r\n\t}\r\n}\r\n```\r\nConfig:\r\n\r\n```\r\nprivate void setConsumerConfigs(PropertyConfig propertyConfig, Map&lt;String, Object&gt; props) {\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, propertyConfig.getKafkaBootstrapServer());\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\t\tprops.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n\t\tprops.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,60000); // set it to 5 mins to avoid calling poll timeout\r\n\t\tprops.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,150);\r\n\t}\r\n\r\n@Bean(name = &quot;kafkaListenerContainerFactory&quot;)\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;String, Request&gt; kafkaListenerContainerFactoryString(\r\n\t\t\tPropertyConfig propertyConfig) throws FileNotFoundException {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, Request&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactoryString(propertyConfig));\r\n\t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n\t\tfactory.getContainerProperties().setSyncCommits(false);\r\n\t\tfactory.getContainerProperties().setConsumerRebalanceListener(new RebalanceListener());\r\n\t\tfactory.getContainerProperties().setCommitLogLevel(LogIfLevelEnabled.Level.INFO);\r\n\t\treturn factory;\r\n\t}\r\n```\r\nI am using spring-kafka  version of 2.8.11","title":"Kafka consumer stopped receiving message after sometime","body":"<p>The kafka consumer stopped receiving messages after sometime, in other words the consumer started consuming messages for a day or two and its getting lost messages from one partition eventually stopped receiving messages from the whole topic, here is my consumer code and config</p>\n<pre><code>public class Listener implements AcknowledgingMessageListener&lt;String, Request&gt; {\n@KafkaListener(topics = &quot;topicname&quot;, groupId = &quot;groupid&quot;,containerFactory = &quot;kafkaListenerContainerFactory&quot;)\n    @Override\n    public void onMessage(ConsumerRecord&lt;String, request&gt; consumerRecord, Acknowledgment acknowledgment) {\n        acknowledgment.acknowledge();\n        try {\n            //process the message\n        }\n        catch (Exception e) {\n            //publish it to DLT topic\n        }\n\n    }\n}\n</code></pre>\n<p>Config:</p>\n<pre><code>private void setConsumerConfigs(PropertyConfig propertyConfig, Map&lt;String, Object&gt; props) {\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, propertyConfig.getKafkaBootstrapServer());\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,60000); // set it to 5 mins to avoid calling poll timeout\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,150);\n    }\n\n@Bean(name = &quot;kafkaListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Request&gt; kafkaListenerContainerFactoryString(\n            PropertyConfig propertyConfig) throws FileNotFoundException {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Request&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactoryString(propertyConfig));\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.getContainerProperties().setSyncCommits(false);\n        factory.getContainerProperties().setConsumerRebalanceListener(new RebalanceListener());\n        factory.getContainerProperties().setCommitLogLevel(LogIfLevelEnabled.Level.INFO);\n        return factory;\n    }\n</code></pre>\n<p>I am using spring-kafka  version of 2.8.11</p>\n"},{"tags":["java","javafx","netbeans","fxml","linechart"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1692726192,"post_id":76955627,"comment_id":135662796,"body_markdown":"Can you post the complete stack trace? Also, why are you using wildcards in the declaration of the line chart in the controller?","body":"Can you post the complete stack trace? Also, why are you using wildcards in the declaration of the line chart in the controller?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1692727160,"post_id":76955627,"comment_id":135663017,"body_markdown":"And,  I suppose, clarify exactly where and when these errors occur. The error in the title is a runtime error generated when you try and run the application? Or when you try to run SceneBuilder? The &quot;properties not supported&quot; errors are &quot;in the FXML file&quot;? Meaning they just show up in the IDE?","body":"And,  I suppose, clarify exactly where and when these errors occur. The error in the title is a runtime error generated when you try and run the application? Or when you try to run SceneBuilder? The &quot;properties not supported&quot; errors are &quot;in the FXML file&quot;? Meaning they just show up in the IDE?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1692729064,"post_id":76955627,"comment_id":135663436,"body_markdown":"Please do not post screenshots of code.","body":"Please do not post screenshots of code."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692729118,"creation_date":1692728232,"answer_id":76955914,"question_id":76955627,"body_markdown":"I can&#39;t replicate this either by running the app or in SceneBuilder.  \r\n\r\nVerify that the following code works in your environment.\r\n\r\n**Test Environment**\r\n\r\nExecution Environment:\r\n\r\n    OS X 13.4.1, JavaFX 20.0.2, OpenJDK 19.0.2\r\n\r\nSceneBuilder Version (from the About screen):\r\n\r\n    Product Version\r\n    JavaFX Scene Builder 19.0.0\r\n    \r\n    Build Information\r\n    Version 19.0.0\r\n    Date: 2022-10-07 07:42:50\r\n    JavaFX Version: 19\r\n    Java Version: 17, OpenJDK Runtime Environment\r\n\r\n**Test Application**\r\n\r\n*line-chart.fxml*\r\n\r\n    &lt;?import javafx.scene.chart.CategoryAxis?&gt;\r\n    &lt;?import javafx.scene.chart.LineChart?&gt;\r\n    &lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n    \r\n    &lt;LineChart fx:controller=&quot;com.test.demo.chart.ChartController&quot;\r\n               xmlns=&quot;http://javafx.com/javafx&quot; \r\n               xmlns:fx=&quot;http://javafx.com/fxml&quot; \r\n               fx:id=&quot;chartDashboardLineChart&quot; \r\n               layoutX=&quot;5.0&quot; layoutY=&quot;10.0&quot; \r\n               prefHeight=&quot;233.0&quot; prefWidth=&quot;870.0&quot; \r\n               title=&quot;Monthly Sales&quot;&gt;\r\n        &lt;xAxis&gt;\r\n            &lt;CategoryAxis side=&quot;BOTTOM&quot; fx:id=&quot;x&quot; /&gt;\r\n        &lt;/xAxis&gt;\r\n        &lt;yAxis&gt;\r\n            &lt;NumberAxis fx:id=&quot;y&quot; side=&quot;LEFT&quot; /&gt;\r\n        &lt;/yAxis&gt;\r\n    &lt;/LineChart&gt;\r\n\r\n*ChartController.java*\r\n\r\n    package com.test.demo.chart;\r\n    \r\n    import javafx.scene.chart.CategoryAxis;\r\n    import javafx.scene.chart.LineChart;\r\n    import javafx.scene.chart.NumberAxis;\r\n    \r\n    public class ChartController {\r\n        public LineChart&lt;String, Double&gt; chartDashboardLineChart;\r\n        public CategoryAxis x;\r\n        public NumberAxis y;\r\n    }\r\n\r\n*LineChartApp.java*\r\n\r\n    package com.test.demo.chart;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class LineChartApp extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            FXMLLoader loader = new FXMLLoader(\r\n                    LineChartApp.class.getResource(\r\n                            &quot;line-chart.fxml&quot;\r\n                    )\r\n            );\r\n    \r\n            stage.setScene(\r\n                    new Scene(\r\n                            loader.load()\r\n                    )\r\n            );\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    }\r\n\r\n*Output*\r\n\r\n[![monthly sales][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GAGo7.png\r\n","title":"JavaFX LineChart Error: &quot;Instances of javafx.scene.chart.LineChart cannot be created by FXML loader. (Java 11, JavaFX 17)","body":"<p>I can't replicate this either by running the app or in SceneBuilder.</p>\n<p>Verify that the following code works in your environment.</p>\n<p><strong>Test Environment</strong></p>\n<p>Execution Environment:</p>\n<pre><code>OS X 13.4.1, JavaFX 20.0.2, OpenJDK 19.0.2\n</code></pre>\n<p>SceneBuilder Version (from the About screen):</p>\n<pre><code>Product Version\nJavaFX Scene Builder 19.0.0\n\nBuild Information\nVersion 19.0.0\nDate: 2022-10-07 07:42:50\nJavaFX Version: 19\nJava Version: 17, OpenJDK Runtime Environment\n</code></pre>\n<p><strong>Test Application</strong></p>\n<p><em>line-chart.fxml</em></p>\n<pre><code>&lt;?import javafx.scene.chart.CategoryAxis?&gt;\n&lt;?import javafx.scene.chart.LineChart?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n\n&lt;LineChart fx:controller=&quot;com.test.demo.chart.ChartController&quot;\n           xmlns=&quot;http://javafx.com/javafx&quot; \n           xmlns:fx=&quot;http://javafx.com/fxml&quot; \n           fx:id=&quot;chartDashboardLineChart&quot; \n           layoutX=&quot;5.0&quot; layoutY=&quot;10.0&quot; \n           prefHeight=&quot;233.0&quot; prefWidth=&quot;870.0&quot; \n           title=&quot;Monthly Sales&quot;&gt;\n    &lt;xAxis&gt;\n        &lt;CategoryAxis side=&quot;BOTTOM&quot; fx:id=&quot;x&quot; /&gt;\n    &lt;/xAxis&gt;\n    &lt;yAxis&gt;\n        &lt;NumberAxis fx:id=&quot;y&quot; side=&quot;LEFT&quot; /&gt;\n    &lt;/yAxis&gt;\n&lt;/LineChart&gt;\n</code></pre>\n<p><em>ChartController.java</em></p>\n<pre><code>package com.test.demo.chart;\n\nimport javafx.scene.chart.CategoryAxis;\nimport javafx.scene.chart.LineChart;\nimport javafx.scene.chart.NumberAxis;\n\npublic class ChartController {\n    public LineChart&lt;String, Double&gt; chartDashboardLineChart;\n    public CategoryAxis x;\n    public NumberAxis y;\n}\n</code></pre>\n<p><em>LineChartApp.java</em></p>\n<pre><code>package com.test.demo.chart;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class LineChartApp extends Application {\n    @Override\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(\n                LineChartApp.class.getResource(\n                        &quot;line-chart.fxml&quot;\n                )\n        );\n\n        stage.setScene(\n                new Scene(\n                        loader.load()\n                )\n        );\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n}\n</code></pre>\n<p><em>Output</em></p>\n<p><a href=\"https://i.stack.imgur.com/GAGo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GAGo7.png\" alt=\"monthly sales\" /></a></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692895622,"creation_date":1692811850,"answer_id":76963655,"question_id":76955627,"body_markdown":"I can reproduce this finding using MacOS 12.6, JDK 17.0.8, SceneBuilder 19, this [_Status Application_][1] or this [_Test Application_][2], and NetBeans 18 with the JavaFX 2 v1.37 plugin mentioned [here][3] and [here][4]. As the plugin is outmoded, deactivating it is a simple workaround. Doing so eliminates the (spurious) error and warnings.\r\n\r\n[![Plugins][5]][5]\r\n\r\nWith reference to _line-chart.fxml_ cite above:\r\n\r\n```\r\n 5: Instances of `javafx.scene.chart.LineChart` cannot be created by FXML loader.\r\n12: Class `javafx.scene.chart.LineChart` does not support property `xAxis`.\r\n15: Class `javafx.scene.chart.LineChart` does not support property `yAxis`.\r\n```\r\n\r\n\r\n  [1]: https://github.com/trashgod/modular#status-application\r\n  [2]: https://stackoverflow.com/a/76955914/230513\r\n  [3]: https://stackoverflow.com/a/73611827/230513\r\n  [4]: https://stackoverflow.com/q/9262029/230513\r\n  [5]: https://i.stack.imgur.com/HO3Nn.png","title":"JavaFX LineChart Error: &quot;Instances of javafx.scene.chart.LineChart cannot be created by FXML loader. (Java 11, JavaFX 17)","body":"<p>I can reproduce this finding using MacOS 12.6, JDK 17.0.8, SceneBuilder 19, this <a href=\"https://github.com/trashgod/modular#status-application\" rel=\"nofollow noreferrer\"><em>Status Application</em></a> or this <a href=\"https://stackoverflow.com/a/76955914/230513\"><em>Test Application</em></a>, and NetBeans 18 with the JavaFX 2 v1.37 plugin mentioned <a href=\"https://stackoverflow.com/a/73611827/230513\">here</a> and <a href=\"https://stackoverflow.com/q/9262029/230513\">here</a>. As the plugin is outmoded, deactivating it is a simple workaround. Doing so eliminates the (spurious) error and warnings.</p>\n<p><a href=\"https://i.stack.imgur.com/HO3Nn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HO3Nn.png\" alt=\"Plugins\" /></a></p>\n<p>With reference to <em>line-chart.fxml</em> cite above:</p>\n<pre><code> 5: Instances of `javafx.scene.chart.LineChart` cannot be created by FXML loader.\n12: Class `javafx.scene.chart.LineChart` does not support property `xAxis`.\n15: Class `javafx.scene.chart.LineChart` does not support property `yAxis`.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1692896363,"post_id":76965337,"comment_id":135689823,"body_markdown":"I suspect the plugin mentioned illustrated [here](https://stackoverflow.com/a/76963655/230513) and re-tagged your question; please don&#39;t hesitate to edit your question accordingly; I&#39;d welcome learning of your result.","body":"I suspect the plugin mentioned illustrated <a href=\"https://stackoverflow.com/a/76963655/230513\">here</a> and re-tagged your question; please don&#39;t hesitate to edit your question accordingly; I&#39;d welcome learning of your result."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692896401,"post_id":76965337,"comment_id":135689835,"body_markdown":"Going forward, you can accept an answer by clicking on the [empty check mark](http://meta.stackoverflow.com/a/5235/163188) at the answer&#39;s left.","body":"Going forward, you can accept an answer by clicking on the <a href=\"http://meta.stackoverflow.com/a/5235/163188\">empty check mark</a> at the answer&#39;s left."}],"tags":[],"owner":{"account_id":26490219,"reputation":1,"user_id":20128350,"display_name":"amk Fitz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692896050,"creation_date":1692831165,"answer_id":76965337,"question_id":76955627,"body_markdown":"This is a very strange error; while the error still shows on netbeans (13) in the FXML Document, it seems that when I run the project the line chart works regardless. Here is a screenshot showing the errors on netbeans:\r\n\r\n![Errors Screenshot][1]\r\n\r\nHere is an image showing that it runs and displays the line chart regardless:!\r\n\r\n![LineChart in action][2]\r\n\r\nThanks to everyone who posted a suggestion, I very much appreciate it. I still do not understand why errors are being displayed in the FXML Document, but ultimately it does not seem to be affecting my project.\r\n\r\n  [1]: https://i.stack.imgur.com/86XxB.png\r\n  [2]: https://i.stack.imgur.com/mCjZ0.png","title":"JavaFX LineChart Error: &quot;Instances of javafx.scene.chart.LineChart cannot be created by FXML loader. (Java 11, JavaFX 17)","body":"<p>This is a very strange error; while the error still shows on netbeans (13) in the FXML Document, it seems that when I run the project the line chart works regardless. Here is a screenshot showing the errors on netbeans:</p>\n<p><img src=\"https://i.stack.imgur.com/86XxB.png\" alt=\"Errors Screenshot\" /></p>\n<p>Here is an image showing that it runs and displays the line chart regardless:!</p>\n<p><img src=\"https://i.stack.imgur.com/mCjZ0.png\" alt=\"LineChart in action\" /></p>\n<p>Thanks to everyone who posted a suggestion, I very much appreciate it. I still do not understand why errors are being displayed in the FXML Document, but ultimately it does not seem to be affecting my project.</p>\n"}],"owner":{"account_id":26490219,"reputation":1,"user_id":20128350,"display_name":"amk Fitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1692896050,"creation_date":1692725393,"question_id":76955627,"body_markdown":"I am in the process of moving my JavaFX project from Java 8 to Java 11, JavaFX 17 for the past week or so. I also moved from Scenebuilder 8.5 to Scenebuilder JavaFX Version: 20.0.1. All in all it has been reasonably smooth, however I am facing a confusing error that I cannot seem to solve.\r\n\r\n    Instances of `javafx.scene.chart.LineChart` cannot be created by FXML loader.\r\n \r\nWhen I changed the Java version of my project to Java 11, and imported the JavaFX 17 library to my project, The `LineChart` I am using in my project began throwing an error I had never seen before in the FXML Document file. It is a 330 line file so I will only include the relevant parts:  \r\n\r\n```\r\n&lt;?import javafx.scene.chart.CategoryAxis?&gt;\r\n&lt;?import javafx.scene.chart.LineChart?&gt;\r\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ChoiceBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.effect.DropShadow?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.shape.Line?&gt;\r\n\r\n\r\n&lt;LineChart fx:id=&quot;chartDashboardLineChart&quot; layoutX=&quot;5.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;233.0&quot; prefWidth=&quot;870.0&quot; title=&quot;Monthly Sales&quot;&gt;\r\n   &lt;xAxis&gt;\r\n     &lt;CategoryAxis side=&quot;BOTTOM&quot; fx:id=&quot;x&quot; /&gt;\r\n   &lt;/xAxis&gt;\r\n   &lt;yAxis&gt;\r\n     &lt;NumberAxis fx:id=&quot;y&quot; side=&quot;LEFT&quot; /&gt;\r\n   &lt;/yAxis&gt;\r\n&lt;/LineChart&gt;\r\n```\r\nThe error is displayed under the line where the LineChart chartDashboardLineChart is declared. There are also two new errors which read: Class `javafx.scene.chart.LineChart` does not support property `xAxis` (and the same for  `yAxis`). These two errors seem less worrying to me than the FXML Loader error above. \r\nI will also include the relevant lines of code from my project, although I believe it is more likely that the error lies within the FXML Document. Here is the Java Code (this is split across 2 different classes: [Class: LineCharts.java](https://i.stack.imgur.com/mVsmZ.png) \r\n\r\nAnd another class, this one too large to post in its entirety called DashboardController.java, Here are the relevant parts of the DashboardController class:\r\n```\r\n@FXML\r\nprivate LineChart&lt;?, ?&gt; chartDashboardLineChart;\r\n@FXML\r\nprivate CategoryAxis x;\r\n@FXML\r\nprivate NumberAxis y;\r\nLineCharts LC = new LineCharts();\r\n\r\n//later on in the initialize area of the code\r\n\r\n//Call the initializeLineChart method and pass the line chart as an argument\r\nLC.generateDashboardLineChart(chartDashboardLineChart);\r\n```\r\n\r\n\r\n\r\nI have tried numerous things to try and fix this issue, but with no success. It seems it is a rare issue to have as there is little to no information that I could find online.\r\n\r\nI appreciate any bit of help or any theories as to what is causing my issue, and how to solve it. Thank you!","title":"JavaFX LineChart Error: &quot;Instances of javafx.scene.chart.LineChart cannot be created by FXML loader. (Java 11, JavaFX 17)","body":"<p>I am in the process of moving my JavaFX project from Java 8 to Java 11, JavaFX 17 for the past week or so. I also moved from Scenebuilder 8.5 to Scenebuilder JavaFX Version: 20.0.1. All in all it has been reasonably smooth, however I am facing a confusing error that I cannot seem to solve.</p>\n<pre><code>Instances of `javafx.scene.chart.LineChart` cannot be created by FXML loader.\n</code></pre>\n<p>When I changed the Java version of my project to Java 11, and imported the JavaFX 17 library to my project, The <code>LineChart</code> I am using in my project began throwing an error I had never seen before in the FXML Document file. It is a 330 line file so I will only include the relevant parts:</p>\n<pre><code>&lt;?import javafx.scene.chart.CategoryAxis?&gt;\n&lt;?import javafx.scene.chart.LineChart?&gt;\n&lt;?import javafx.scene.chart.NumberAxis?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ChoiceBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.effect.DropShadow?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.shape.Line?&gt;\n\n\n&lt;LineChart fx:id=&quot;chartDashboardLineChart&quot; layoutX=&quot;5.0&quot; layoutY=&quot;10.0&quot; prefHeight=&quot;233.0&quot; prefWidth=&quot;870.0&quot; title=&quot;Monthly Sales&quot;&gt;\n   &lt;xAxis&gt;\n     &lt;CategoryAxis side=&quot;BOTTOM&quot; fx:id=&quot;x&quot; /&gt;\n   &lt;/xAxis&gt;\n   &lt;yAxis&gt;\n     &lt;NumberAxis fx:id=&quot;y&quot; side=&quot;LEFT&quot; /&gt;\n   &lt;/yAxis&gt;\n&lt;/LineChart&gt;\n</code></pre>\n<p>The error is displayed under the line where the LineChart chartDashboardLineChart is declared. There are also two new errors which read: Class <code>javafx.scene.chart.LineChart</code> does not support property <code>xAxis</code> (and the same for  <code>yAxis</code>). These two errors seem less worrying to me than the FXML Loader error above.\nI will also include the relevant lines of code from my project, although I believe it is more likely that the error lies within the FXML Document. Here is the Java Code (this is split across 2 different classes: <a href=\"https://i.stack.imgur.com/mVsmZ.png\" rel=\"nofollow noreferrer\">Class: LineCharts.java</a></p>\n<p>And another class, this one too large to post in its entirety called DashboardController.java, Here are the relevant parts of the DashboardController class:</p>\n<pre><code>@FXML\nprivate LineChart&lt;?, ?&gt; chartDashboardLineChart;\n@FXML\nprivate CategoryAxis x;\n@FXML\nprivate NumberAxis y;\nLineCharts LC = new LineCharts();\n\n//later on in the initialize area of the code\n\n//Call the initializeLineChart method and pass the line chart as an argument\nLC.generateDashboardLineChart(chartDashboardLineChart);\n</code></pre>\n<p>I have tried numerous things to try and fix this issue, but with no success. It seems it is a rare issue to have as there is little to no information that I could find online.</p>\n<p>I appreciate any bit of help or any theories as to what is causing my issue, and how to solve it. Thank you!</p>\n"},{"tags":["java","testing","hashcode"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1668450564,"post_id":74435861,"comment_id":131403012,"body_markdown":"if an underscore is allowed:  `&quot;HZcxf_&quot;.hashCode() == Integer.MIN_VALUE`","body":"if an underscore is allowed:  <code>&quot;HZcxf_&quot;.hashCode() == Integer.MIN_VALUE</code>"},{"owner":{"account_id":2654912,"reputation":958,"user_id":2295812,"display_name":"John Tang Boyland"},"score":0,"creation_date":1668450966,"post_id":74435861,"comment_id":131403149,"body_markdown":"Wow @user16320675: that was fast.  If you submit it as an answer, I will accept.","body":"Wow @user16320675: that was fast.  If you submit it as an answer, I will accept."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1668453346,"post_id":74435861,"comment_id":131403884,"body_markdown":"I&#39;m curious how @user16320675 found that. I wrote a little program that checks random strings of printable ASCII characters (all strings length 6). It ran for about 3 billion strings without a match before I just killed it.","body":"I&#39;m curious how @user16320675 found that. I wrote a little program that checks random strings of printable ASCII characters (all strings length 6). It ran for about 3 billion strings without a match before I just killed it."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668542323,"creation_date":1668455584,"answer_id":74437111,"question_id":74435861,"body_markdown":"[`String#hashCode()`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#hashCode()) is defined as:\r\n\r\n&gt; Returns a hash code for this string. The hash code for a String object is computed as\r\n&gt;\r\n&gt;     s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n&gt;     \r\n&gt;\r\n&gt; using int arithmetic, where s[i] is the ith character of the string, n is the length of the string, and ^ indicates exponentiation. (The hash value of the empty string is zero.)\r\n\r\nNow you just need to solve for `-2147483648` (perhaps with the restriction of only printable ASCII chars: 32–127) :)\r\n\r\nOr you brute-force (this will take a while):\r\n\r\n```java\r\npublic class HashFinder {\r\n    private static final int SIZE = 7;\r\n    private static long hashesCalculated = 0L;\r\n\r\n    public static void main(String[] args) {\r\n        hashesCalculated = 0L;\r\n        final long start = System.nanoTime();\r\n        findHash(SIZE);\r\n        final long duration = System.nanoTime() - start;\r\n\r\n        System.err.println(&quot;Checked strings of size &quot; + SIZE);\r\n        System.err.println(hashesCalculated + &quot; hashes in &quot; + TimeUnit.NANOSECONDS.toSeconds(duration) + &quot;s&quot;);\r\n    }\r\n\r\n    public static void findHash(final int size) {\r\n        findHash(&quot;&quot;, size);\r\n    }\r\n\r\n    public static void findHash(final String prefix, final int size) {\r\n        if (size &lt;= 0) {\r\n            return;\r\n        }\r\n\r\n        final StringBuilder sb = new StringBuilder(prefix).append(&#39; &#39;);\r\n        for (char c = &#39; &#39;; c &lt; &#39;~&#39;; ++c) {\r\n            sb.setCharAt(prefix.length(), c);\r\n            final String s = sb.toString();\r\n            ++hashesCalculated;\r\n            if (s.hashCode() == Integer.MIN_VALUE) {\r\n                System.out.printf(&quot;Found string with min hashCode! &#39;%s&#39;%n&quot;, s);\r\n            }\r\n\r\n            findHash(s, size - 1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut allocating all those strings and string builders is expensive. Brute-forcing becomes feasible when we calculate the hash code manually from a char array:\r\n\r\n```\r\npublic class HashFinderBytes {\r\n    public static void main(String[] args) {\r\n        final char start = &#39; &#39;, end = &#39;~&#39;;\r\n        for (int size = 1; size &lt;= 9; size++) {\r\n            char[] chars = new char[size];\r\n            Arrays.fill(chars, start);\r\n\r\n            final long startNano = System.nanoTime();\r\n            final long combinations = BigInteger.valueOf(end - start).pow(size).longValue();\r\n            System.err.println(&quot;Checking &quot; + combinations + &quot; strings of size &quot; + size);\r\n            for (long i = 0; i &lt; combinations; ++i) {\r\n                if (hashCode(chars) == Integer.MIN_VALUE) {\r\n                    System.out.printf(&quot;Found string with min hashCode! \\&quot;%s\\&quot;%n&quot;, new String(chars));\r\n                    System.out.println(&quot;Sanity check: &quot; + (new String(chars).hashCode() == Integer.MIN_VALUE));\r\n                }\r\n                for (int j = 0; j &lt; chars.length; ++j) {\r\n                    ++chars[j];\r\n                    if (chars[j] &lt;= end) {\r\n                        break;\r\n                    }\r\n                    chars[j] = (byte) start;\r\n                }\r\n            }\r\n            final long duration = System.nanoTime() - startNano;\r\n\r\n            final long millis = TimeUnit.NANOSECONDS.toMillis(duration);\r\n            System.err.println(&quot;in &quot; + millis + &quot;ms (&quot; + (combinations / millis) + &quot; ops/ms)&quot;);\r\n        }\r\n    }\r\n\r\n    public static int hashCode(char[] value) {\r\n        int h = 0;\r\n        for (char v : value) {\r\n            h = 31 * h + (v &amp; 0xff);\r\n        }\r\n        return h;\r\n    }\r\n}\r\n```\r\n\r\nIn fact, there are lots of strings with a hash code identical to `Integer.MIN_VALUE`.\r\n\r\nLength 6:\r\n\r\n```\r\nI=&#39;&lt;*!\r\nH\\&#39;&lt;*!\r\nG{&#39;&lt;*!\r\nI&lt;F&lt;*!\r\nH[F&lt;*!\r\nGzF&lt;*!\r\nI;e&lt;*!\r\nHZe&lt;*!\r\nGye&lt;*!\r\nI=&amp;[*!\r\nH\\&amp;[*!\r\nG{&amp;[*!\r\nI&lt;E[*!\r\nH[E[*!\r\nGzE[*!\r\nI;d[*!\r\nHZd[*!\r\nGyd[*!\r\nI=%z*!\r\nH\\%z*!\r\nG{%z*!\r\nI&lt;Dz*!\r\nH[Dz*!\r\nGzDz*!\r\nI;cz*!\r\nHZcz*!\r\nGycz*!\r\nI=&#39;;I!\r\nH\\&#39;;I!\r\nG{&#39;;I!\r\nI&lt;F;I!\r\nH[F;I!\r\nGzF;I!\r\nI;e;I!\r\nHZe;I!\r\nGye;I!\r\nI=&amp;ZI!\r\nH\\&amp;ZI!\r\nG{&amp;ZI!\r\nI&lt;EZI!\r\nH[EZI!\r\nGzEZI!\r\nI;dZI!\r\nHZdZI!\r\nGydZI!\r\nI=%yI!\r\nH\\%yI!\r\nG{%yI!\r\nI&lt;DyI!\r\nH[DyI!\r\nGzDyI!\r\nI;cyI!\r\nHZcyI!\r\nGycyI!\r\nI=&#39;:h!\r\nH\\&#39;:h!\r\nG{&#39;:h!\r\nI&lt;F:h!\r\nH[F:h!\r\nGzF:h!\r\nI;e:h!\r\nHZe:h!\r\nGye:h!\r\nI=&amp;Yh!\r\nH\\&amp;Yh!\r\nG{&amp;Yh!\r\nI&lt;EYh!\r\nH[EYh!\r\nGzEYh!\r\nI;dYh!\r\nHZdYh!\r\nGydYh!\r\nI=%xh!\r\nH\\%xh!\r\nG{%xh!\r\nI&lt;Dxh!\r\nH[Dxh!\r\nGzDxh!\r\nI;cxh!\r\nHZcxh!\r\nGycxh!\r\n```\r\n\r\nLength 7 (all of the strings below end with a space character); not all shown:\r\n\r\n```\r\np4*|{e \r\noS*|{e \r\nnr*|{e \r\np3I|{e \r\noRI|{e \r\nnqI|{e \r\np2h|{e \r\noQh|{e \r\nnph|{e \r\n```","title":"A Java string with hashCode equal to Integer.MIN_VALUE","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\"><code>String#hashCode()</code></a> is defined as:</p>\n<blockquote>\n<p>Returns a hash code for this string. The hash code for a String object is computed as</p>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n<p>using int arithmetic, where s[i] is the ith character of the string, n is the length of the string, and ^ indicates exponentiation. (The hash value of the empty string is zero.)</p>\n</blockquote>\n<p>Now you just need to solve for <code>-2147483648</code> (perhaps with the restriction of only printable ASCII chars: 32–127) :)</p>\n<p>Or you brute-force (this will take a while):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HashFinder {\n    private static final int SIZE = 7;\n    private static long hashesCalculated = 0L;\n\n    public static void main(String[] args) {\n        hashesCalculated = 0L;\n        final long start = System.nanoTime();\n        findHash(SIZE);\n        final long duration = System.nanoTime() - start;\n\n        System.err.println(&quot;Checked strings of size &quot; + SIZE);\n        System.err.println(hashesCalculated + &quot; hashes in &quot; + TimeUnit.NANOSECONDS.toSeconds(duration) + &quot;s&quot;);\n    }\n\n    public static void findHash(final int size) {\n        findHash(&quot;&quot;, size);\n    }\n\n    public static void findHash(final String prefix, final int size) {\n        if (size &lt;= 0) {\n            return;\n        }\n\n        final StringBuilder sb = new StringBuilder(prefix).append(' ');\n        for (char c = ' '; c &lt; '~'; ++c) {\n            sb.setCharAt(prefix.length(), c);\n            final String s = sb.toString();\n            ++hashesCalculated;\n            if (s.hashCode() == Integer.MIN_VALUE) {\n                System.out.printf(&quot;Found string with min hashCode! '%s'%n&quot;, s);\n            }\n\n            findHash(s, size - 1);\n        }\n    }\n}\n</code></pre>\n<p>But allocating all those strings and string builders is expensive. Brute-forcing becomes feasible when we calculate the hash code manually from a char array:</p>\n<pre><code>public class HashFinderBytes {\n    public static void main(String[] args) {\n        final char start = ' ', end = '~';\n        for (int size = 1; size &lt;= 9; size++) {\n            char[] chars = new char[size];\n            Arrays.fill(chars, start);\n\n            final long startNano = System.nanoTime();\n            final long combinations = BigInteger.valueOf(end - start).pow(size).longValue();\n            System.err.println(&quot;Checking &quot; + combinations + &quot; strings of size &quot; + size);\n            for (long i = 0; i &lt; combinations; ++i) {\n                if (hashCode(chars) == Integer.MIN_VALUE) {\n                    System.out.printf(&quot;Found string with min hashCode! \\&quot;%s\\&quot;%n&quot;, new String(chars));\n                    System.out.println(&quot;Sanity check: &quot; + (new String(chars).hashCode() == Integer.MIN_VALUE));\n                }\n                for (int j = 0; j &lt; chars.length; ++j) {\n                    ++chars[j];\n                    if (chars[j] &lt;= end) {\n                        break;\n                    }\n                    chars[j] = (byte) start;\n                }\n            }\n            final long duration = System.nanoTime() - startNano;\n\n            final long millis = TimeUnit.NANOSECONDS.toMillis(duration);\n            System.err.println(&quot;in &quot; + millis + &quot;ms (&quot; + (combinations / millis) + &quot; ops/ms)&quot;);\n        }\n    }\n\n    public static int hashCode(char[] value) {\n        int h = 0;\n        for (char v : value) {\n            h = 31 * h + (v &amp; 0xff);\n        }\n        return h;\n    }\n}\n</code></pre>\n<p>In fact, there are lots of strings with a hash code identical to <code>Integer.MIN_VALUE</code>.</p>\n<p>Length 6:</p>\n<pre><code>I='&lt;*!\nH\\'&lt;*!\nG{'&lt;*!\nI&lt;F&lt;*!\nH[F&lt;*!\nGzF&lt;*!\nI;e&lt;*!\nHZe&lt;*!\nGye&lt;*!\nI=&amp;[*!\nH\\&amp;[*!\nG{&amp;[*!\nI&lt;E[*!\nH[E[*!\nGzE[*!\nI;d[*!\nHZd[*!\nGyd[*!\nI=%z*!\nH\\%z*!\nG{%z*!\nI&lt;Dz*!\nH[Dz*!\nGzDz*!\nI;cz*!\nHZcz*!\nGycz*!\nI=';I!\nH\\';I!\nG{';I!\nI&lt;F;I!\nH[F;I!\nGzF;I!\nI;e;I!\nHZe;I!\nGye;I!\nI=&amp;ZI!\nH\\&amp;ZI!\nG{&amp;ZI!\nI&lt;EZI!\nH[EZI!\nGzEZI!\nI;dZI!\nHZdZI!\nGydZI!\nI=%yI!\nH\\%yI!\nG{%yI!\nI&lt;DyI!\nH[DyI!\nGzDyI!\nI;cyI!\nHZcyI!\nGycyI!\nI=':h!\nH\\':h!\nG{':h!\nI&lt;F:h!\nH[F:h!\nGzF:h!\nI;e:h!\nHZe:h!\nGye:h!\nI=&amp;Yh!\nH\\&amp;Yh!\nG{&amp;Yh!\nI&lt;EYh!\nH[EYh!\nGzEYh!\nI;dYh!\nHZdYh!\nGydYh!\nI=%xh!\nH\\%xh!\nG{%xh!\nI&lt;Dxh!\nH[Dxh!\nGzDxh!\nI;cxh!\nHZcxh!\nGycxh!\n</code></pre>\n<p>Length 7 (all of the strings below end with a space character); not all shown:</p>\n<pre><code>p4*|{e \noS*|{e \nnr*|{e \np3I|{e \noRI|{e \nnqI|{e \np2h|{e \noQh|{e \nnph|{e \n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1692895998,"creation_date":1668459212,"answer_id":74437719,"question_id":74435861,"body_markdown":"Based on the formula for hash code (from `StringLatin1`):\r\n```java\r\npublic static int hashCode(byte[] value) {\r\n    int h = 0;\r\n    for (byte v : value) {\r\n        h = 31 * h + (v &amp; 0xff);\r\n    }\r\n    return h;\r\n}\r\n```\r\n\r\nIt depends linearly on the characters, the longer the string and greater the characters, the greater the hash code will be, until it overflows. Also note that the first characters have a greater *impact* on the resulting hash code (more often multiplied by 31).\r\n\r\nThe basic idea of the two first algorithm is to increment the characters until the hash code turns negative, starting with the left-most character since it has a greater weight. The searched string must have the character previous to the one that caused it to overflow on each position but the last one.\r\n\r\nThe code starts testing the strings `&quot;A&quot;, &quot;AA&quot;, &quot;AAA&quot;, ...` until one starts returning a negative value - the previous string is used as starting value.  \r\nNow it starts incrementing the first character up to `Z` or until a string with a negative hash is found. The same is done for every next character. \r\nSince the hash code of such strings was not yet reaching `Integer.MIN_VALUE`, an additional pass is done, to also test lowercase characters. This should have been integrated in the previous loop...     \r\nNow the last character is *adjusted* to exactly get to `Integer.MIN_VALUE` - simple since the last character is just added, without multiplication to calculate the hash code.\r\n\r\nHere the code:\r\n```java\r\nvar string = &quot;A&quot;;\r\nwhile ((string+&quot;A&quot;).hashCode() &gt; 0) {\r\n    string += &quot;A&quot;;\r\n}\r\n\r\nvar array = string.toCharArray();\r\nvar i = 0;\r\nwhile (i &lt; array.length) {\r\n    array[i] += 1;\r\n    if (array[i] &gt; &#39;z&#39; || new String(array).hashCode() &lt; 0) {\r\n        array[i] -= 1;\r\n        i += 1;\r\n        continue;\r\n    }\r\n}\r\n\r\ni = 1;\r\nwhile (i &lt; array.length) {\r\n    if (array[i] == &#39;Z&#39;) {\r\n        array[i] = &#39;a&#39;;\r\n    }else {\r\n        array[i] += 1;\r\n    }\r\n    if (array[i] &gt; &#39;Z&#39; || new String(array).hashCode() &lt; 0) {\r\n        if (array[i] == &#39;a&#39;)\r\n            array[i] = &#39;Z&#39;;\r\n        else\r\n            array[i] -= 1;\r\n        i += 1;\r\n        continue;\r\n    }\r\n}\r\nint hash = new String(array).hashCode();\r\nif (hash &gt; 0) {\r\n    array[array.length-1] += Integer.MAX_VALUE - hash + 1; \r\n}\r\nSystem.out.printf(&quot;%s = %d%n&quot;, new String(array), new String(array).hashCode());\r\n```\r\n\r\nThis results in:\r\n&gt; `HZcxf_ = -2147483648`\r\n\r\n---\r\n\r\nMerging the two incrementing loops of previous code, we have:\r\n```java\r\nvar string = &quot;A&quot;;\r\nwhile ((string+&quot;A&quot;).hashCode() &gt; 0) {\r\n    string += &quot;A&quot;;\r\n}\r\n\r\nvar array = string.toCharArray();\r\nvar i = 0;\r\nwhile (i &lt; array.length) {\r\n    var prev = array[i];\r\n    if (prev == &#39;Z&#39;) {\r\n        array[i] = &#39;a&#39;;\r\n    } else {\r\n        array[i] += 1;\r\n    }\r\n    if (array[i] &gt; &#39;z&#39; || new String(array).hashCode() &lt; 0) {\r\n        array[i] = prev;\r\n        i += 1;\r\n        continue;\r\n    }\r\n}\r\nint hash = new String(array).hashCode();\r\nif (hash &gt; 0) {\r\n    array[array.length-1] += Integer.MAX_VALUE - hash + 1; \r\n}\r\nSystem.out.printf(&quot;%s = %d%n&quot;, new String(array), new String(array).hashCode());\r\n```\r\nResulting in (slightly different than previous): \r\n&gt; `HZdZG_ = -2147483648`\r\n\r\n---\r\n\r\nAnother method would be more strongly based on the hash calculation, basically undoing it.  \r\nSince I did not want to work with negative number, it starts with `Integer.MAX_VALUE`, which is one less than `Integer.MIN_VALUE` (considering over/underflow).  \r\nFirst it finds out how often it must be divided by `31` until the result is less than 128 (ASCII), kind of determining the string length. \r\nNext it loops and finds out each character with some special handling to avoid characters less than &#39; &#39;.  \r\nAt the end, the last character is incremented by one to move the hash code from `MAX_VALUE` to `MIN_VALUE` by overflowing.\r\n```java\r\nvar string = &quot;&quot;;\r\nvar remain = Integer.MAX_VALUE;\r\nvar i = 0;\r\nvar multiplier = 1;\r\nwhile (remain &gt; 127) {\r\n    remain /= 31;\r\n    multiplier *= 31;\r\n    i += 1;\r\n}\r\nremain = Integer.MAX_VALUE;\r\nwhile (i &gt;= 0) {\r\n    var ch = (char)(remain / multiplier);\r\n    remain -= ch * multiplier;\r\n    multiplier /= 31;\r\n    if (i &gt; 0) {\r\n        // correct if next ch will be less than &#39; &#39;\r\n        var correct = (&#39; &#39; - (remain / multiplier) + 30) / 31;  // old fashion rounding\r\n        if (correct &gt; 0) {\r\n            ch -= correct;\r\n            remain += correct * 31 * multiplier;\r\n        }\r\n    } else {\r\n        ch += 1;\r\n    }\r\n    string += ch;\r\n    i -= 1;\r\n}\r\nSystem.out.printf(&quot;%s = %d%n&quot;, string, string.hashCode());\r\n```\r\nAnd its results:\r\n&gt; `I=&#39;&lt;*! = -2147483648`\r\n\r\n---\r\n\r\nNote: the last code will definitively fail if the hash code algorithm of `String` is changed! The previous two may fail, depending on how the hash calculation is changed.","title":"A Java string with hashCode equal to Integer.MIN_VALUE","body":"<p>Based on the formula for hash code (from <code>StringLatin1</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int hashCode(byte[] value) {\n    int h = 0;\n    for (byte v : value) {\n        h = 31 * h + (v &amp; 0xff);\n    }\n    return h;\n}\n</code></pre>\n<p>It depends linearly on the characters, the longer the string and greater the characters, the greater the hash code will be, until it overflows. Also note that the first characters have a greater <em>impact</em> on the resulting hash code (more often multiplied by 31).</p>\n<p>The basic idea of the two first algorithm is to increment the characters until the hash code turns negative, starting with the left-most character since it has a greater weight. The searched string must have the character previous to the one that caused it to overflow on each position but the last one.</p>\n<p>The code starts testing the strings <code>&quot;A&quot;, &quot;AA&quot;, &quot;AAA&quot;, ...</code> until one starts returning a negative value - the previous string is used as starting value.<br />\nNow it starts incrementing the first character up to <code>Z</code> or until a string with a negative hash is found. The same is done for every next character.\nSince the hash code of such strings was not yet reaching <code>Integer.MIN_VALUE</code>, an additional pass is done, to also test lowercase characters. This should have been integrated in the previous loop...<br />\nNow the last character is <em>adjusted</em> to exactly get to <code>Integer.MIN_VALUE</code> - simple since the last character is just added, without multiplication to calculate the hash code.</p>\n<p>Here the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var string = &quot;A&quot;;\nwhile ((string+&quot;A&quot;).hashCode() &gt; 0) {\n    string += &quot;A&quot;;\n}\n\nvar array = string.toCharArray();\nvar i = 0;\nwhile (i &lt; array.length) {\n    array[i] += 1;\n    if (array[i] &gt; 'z' || new String(array).hashCode() &lt; 0) {\n        array[i] -= 1;\n        i += 1;\n        continue;\n    }\n}\n\ni = 1;\nwhile (i &lt; array.length) {\n    if (array[i] == 'Z') {\n        array[i] = 'a';\n    }else {\n        array[i] += 1;\n    }\n    if (array[i] &gt; 'Z' || new String(array).hashCode() &lt; 0) {\n        if (array[i] == 'a')\n            array[i] = 'Z';\n        else\n            array[i] -= 1;\n        i += 1;\n        continue;\n    }\n}\nint hash = new String(array).hashCode();\nif (hash &gt; 0) {\n    array[array.length-1] += Integer.MAX_VALUE - hash + 1; \n}\nSystem.out.printf(&quot;%s = %d%n&quot;, new String(array), new String(array).hashCode());\n</code></pre>\n<p>This results in:</p>\n<blockquote>\n<p><code>HZcxf_ = -2147483648</code></p>\n</blockquote>\n<hr />\n<p>Merging the two incrementing loops of previous code, we have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var string = &quot;A&quot;;\nwhile ((string+&quot;A&quot;).hashCode() &gt; 0) {\n    string += &quot;A&quot;;\n}\n\nvar array = string.toCharArray();\nvar i = 0;\nwhile (i &lt; array.length) {\n    var prev = array[i];\n    if (prev == 'Z') {\n        array[i] = 'a';\n    } else {\n        array[i] += 1;\n    }\n    if (array[i] &gt; 'z' || new String(array).hashCode() &lt; 0) {\n        array[i] = prev;\n        i += 1;\n        continue;\n    }\n}\nint hash = new String(array).hashCode();\nif (hash &gt; 0) {\n    array[array.length-1] += Integer.MAX_VALUE - hash + 1; \n}\nSystem.out.printf(&quot;%s = %d%n&quot;, new String(array), new String(array).hashCode());\n</code></pre>\n<p>Resulting in (slightly different than previous):</p>\n<blockquote>\n<p><code>HZdZG_ = -2147483648</code></p>\n</blockquote>\n<hr />\n<p>Another method would be more strongly based on the hash calculation, basically undoing it.<br />\nSince I did not want to work with negative number, it starts with <code>Integer.MAX_VALUE</code>, which is one less than <code>Integer.MIN_VALUE</code> (considering over/underflow).<br />\nFirst it finds out how often it must be divided by <code>31</code> until the result is less than 128 (ASCII), kind of determining the string length.\nNext it loops and finds out each character with some special handling to avoid characters less than ' '.<br />\nAt the end, the last character is incremented by one to move the hash code from <code>MAX_VALUE</code> to <code>MIN_VALUE</code> by overflowing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var string = &quot;&quot;;\nvar remain = Integer.MAX_VALUE;\nvar i = 0;\nvar multiplier = 1;\nwhile (remain &gt; 127) {\n    remain /= 31;\n    multiplier *= 31;\n    i += 1;\n}\nremain = Integer.MAX_VALUE;\nwhile (i &gt;= 0) {\n    var ch = (char)(remain / multiplier);\n    remain -= ch * multiplier;\n    multiplier /= 31;\n    if (i &gt; 0) {\n        // correct if next ch will be less than ' '\n        var correct = (' ' - (remain / multiplier) + 30) / 31;  // old fashion rounding\n        if (correct &gt; 0) {\n            ch -= correct;\n            remain += correct * 31 * multiplier;\n        }\n    } else {\n        ch += 1;\n    }\n    string += ch;\n    i -= 1;\n}\nSystem.out.printf(&quot;%s = %d%n&quot;, string, string.hashCode());\n</code></pre>\n<p>And its results:</p>\n<blockquote>\n<p><code>I='&lt;*! = -2147483648</code></p>\n</blockquote>\n<hr />\n<p>Note: the last code will definitively fail if the hash code algorithm of <code>String</code> is changed! The previous two may fail, depending on how the hash calculation is changed.</p>\n"}],"owner":{"account_id":2654912,"reputation":958,"user_id":2295812,"display_name":"John Tang Boyland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74437719,"answer_count":2,"score":2,"last_activity_date":1692895998,"creation_date":1668448123,"question_id":74435861,"body_markdown":"Is there a known Java String with hashCode exactly equal to Integer.MIN_VALUE ?  It would be helpful for writing a test for a hash table to help avoid a common mistake of running Math.Abs on the hashcode before performing the remainder operation.\r\n\r\nIdeally the string would include only ASCII characters, but I&#39;m not sure if it woul dbe feasible.","title":"A Java string with hashCode equal to Integer.MIN_VALUE","body":"<p>Is there a known Java String with hashCode exactly equal to Integer.MIN_VALUE ?  It would be helpful for writing a test for a hash table to help avoid a common mistake of running Math.Abs on the hashcode before performing the remainder operation.</p>\n<p>Ideally the string would include only ASCII characters, but I'm not sure if it woul dbe feasible.</p>\n"},{"tags":["java","android","android-recyclerview","wordsearch"],"owner":{"account_id":12537056,"reputation":11,"user_id":9123404,"display_name":"Faiz Agil Wirawan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692895888,"creation_date":1692895888,"question_id":76971448,"body_markdown":"I have an Android crossword game made purely in Java, and i want to add WordSearch game to it. I used RecyclerView with GridLayout Manager and so far i&#39;ve managed to do this\r\n\r\n[wordsearch screenshot](https://i.stack.imgur.com/cYYt7.jpg)\r\n\r\nthe problem is, i can&#39;t prevent wild drag. meaning i can drag horizontally, vertically, diagonally and whatever, in a single drag, like this.\r\n\r\n[wild drag issue screenshot](https://i.stack.imgur.com/6FXQb.jpg)\r\n\r\ni have asked chatGPT but his solution didn&#39;t work.\r\n\r\nthis is my code\r\n\r\n```\r\nprivate void makeRecyclerView() {\r\n    //Toast.makeText(this, data.toString(), Toast.LENGTH_SHORT).show();\r\n    recyclerView = findViewById(R.id.my_recycler_view);\r\n    // use this setting to improve performance if you know that changes\r\n    // in content do not change the layout size of the RecyclerView\r\n    recyclerView.setHasFixedSize(true);\r\n\r\n    // use a linear layout manager\r\n    RecyclerView.LayoutManager mLayoutManager = new GridLayoutManager(this,10);\r\n    recyclerView.setLayoutManager(mLayoutManager);\r\n    recyclerView.setNestedScrollingEnabled(false);\r\n\r\n    cells=generateRandomLetters(10);\r\n    fillWithWords();\r\n\r\n    // specify an adapter (see also next example)\r\n    adapter = new WordSearchAdapter(cells,this);\r\n    recyclerView.setAdapter(adapter);\r\n\r\n    recyclerView.addOnItemTouchListener(new RecyclerView.OnItemTouchListener() {\r\n        @Override\r\n        public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent event) {\r\n            Log.d(&quot;TouchTest&quot;, &quot;Touch captured: &quot; + event.getActionMasked());\r\n            int action = event.getActionMasked();\r\n            int position = getPosUnderTouch(event);\r\n\r\n            if (position != RecyclerView.NO_POSITION) {\r\n                int row = position / cells.get(0).size();\r\n                int col = position % cells.get(0).size();\r\n                Cell cell = cells.get(row).get(col);\r\n\r\n                switch (action) {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        cell.setSelected(true);\r\n                        currentSelectedCells.put(row + &quot;-&quot; + col, cell);\r\n                        adapter.notifyItemChanged(position);\r\n                        break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        isSelecting = true;\r\n                        cell.setSelected(true);\r\n                        currentSelectedCells.put(row + &quot;-&quot; + col, cell);\r\n                        adapter.notifyItemChanged(position);\r\n                        break;\r\n                    case MotionEvent.ACTION_UP:\r\n                        processSelectedCells(currentSelectedCells);\r\n                        currentSelectedCells.clear();\r\n                        break;\r\n                    case MotionEvent.ACTION_CANCEL:\r\n                        currentSelectedCells.clear();\r\n                        // Your logic here, maybe verify the word if selection is done\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            return false;  // Let the RecyclerView handle the event as it normally would.\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent event) {}\r\n\r\n        @Override\r\n        public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {}\r\n    });\r\n\r\n}\r\n\r\n    private void processSelectedCells(HashMap&lt;String, Cell&gt; selectedCells) {\r\n        // 1. Concatenate the letters of all the selected cells\r\n        StringBuilder selectedWordBuilder = new StringBuilder();\r\n        ArrayList&lt;String&gt; keys = new ArrayList&lt;&gt;(selectedCells.keySet());\r\n        Collections.sort(keys); // We might need a custom comparator here if the order doesn&#39;t align\r\n        for (String key : keys) {\r\n            selectedWordBuilder.append(selectedCells.get(key).getLetter());\r\n        }\r\n        String selectedWord = selectedWordBuilder.toString();\r\n\r\n        txtSelected.setText(selectedWord);\r\n\r\n        // 2. Check if this concatenated word exists in the list of words for the puzzle\r\n        for (Word word : wordsOnBoard) {\r\n            if(selectedWord.equals(word.getWordText())) {\r\n                Toast.makeText(getApplicationContext(), &quot;Word found: &quot; + word.getWordText(), Toast.LENGTH_SHORT).show();\r\n                word.setFound(true);\r\n                for (Cell cell : word.getCells()) {\r\n                    cell.setFound(true);\r\n                }\r\n\r\n                return; // Exit after finding a match\r\n            }\r\n        }\r\n\r\n\r\n        // If no word is found, reset the selected cells to unselected state\r\n        for (Cell cell : selectedCells.values()) {\r\n            if(!cell.isFound()) {\r\n                cell.setSelected(false);\r\n            }\r\n        }\r\n        Toast.makeText(this, selectedWord+&quot; dont exist&quot;, Toast.LENGTH_SHORT).show();\r\n        adapter.notifyDataSetChanged();\r\n    }\r\n```","title":"RecyclerView Wild Drag in Android WordSearch Game","body":"<p>I have an Android crossword game made purely in Java, and i want to add WordSearch game to it. I used RecyclerView with GridLayout Manager and so far i've managed to do this</p>\n<p><a href=\"https://i.stack.imgur.com/cYYt7.jpg\" rel=\"nofollow noreferrer\">wordsearch screenshot</a></p>\n<p>the problem is, i can't prevent wild drag. meaning i can drag horizontally, vertically, diagonally and whatever, in a single drag, like this.</p>\n<p><a href=\"https://i.stack.imgur.com/6FXQb.jpg\" rel=\"nofollow noreferrer\">wild drag issue screenshot</a></p>\n<p>i have asked chatGPT but his solution didn't work.</p>\n<p>this is my code</p>\n<pre><code>private void makeRecyclerView() {\n    //Toast.makeText(this, data.toString(), Toast.LENGTH_SHORT).show();\n    recyclerView = findViewById(R.id.my_recycler_view);\n    // use this setting to improve performance if you know that changes\n    // in content do not change the layout size of the RecyclerView\n    recyclerView.setHasFixedSize(true);\n\n    // use a linear layout manager\n    RecyclerView.LayoutManager mLayoutManager = new GridLayoutManager(this,10);\n    recyclerView.setLayoutManager(mLayoutManager);\n    recyclerView.setNestedScrollingEnabled(false);\n\n    cells=generateRandomLetters(10);\n    fillWithWords();\n\n    // specify an adapter (see also next example)\n    adapter = new WordSearchAdapter(cells,this);\n    recyclerView.setAdapter(adapter);\n\n    recyclerView.addOnItemTouchListener(new RecyclerView.OnItemTouchListener() {\n        @Override\n        public boolean onInterceptTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent event) {\n            Log.d(&quot;TouchTest&quot;, &quot;Touch captured: &quot; + event.getActionMasked());\n            int action = event.getActionMasked();\n            int position = getPosUnderTouch(event);\n\n            if (position != RecyclerView.NO_POSITION) {\n                int row = position / cells.get(0).size();\n                int col = position % cells.get(0).size();\n                Cell cell = cells.get(row).get(col);\n\n                switch (action) {\n                    case MotionEvent.ACTION_DOWN:\n                        cell.setSelected(true);\n                        currentSelectedCells.put(row + &quot;-&quot; + col, cell);\n                        adapter.notifyItemChanged(position);\n                        break;\n                    case MotionEvent.ACTION_MOVE:\n                        isSelecting = true;\n                        cell.setSelected(true);\n                        currentSelectedCells.put(row + &quot;-&quot; + col, cell);\n                        adapter.notifyItemChanged(position);\n                        break;\n                    case MotionEvent.ACTION_UP:\n                        processSelectedCells(currentSelectedCells);\n                        currentSelectedCells.clear();\n                        break;\n                    case MotionEvent.ACTION_CANCEL:\n                        currentSelectedCells.clear();\n                        // Your logic here, maybe verify the word if selection is done\n                        break;\n                    default:\n                        break;\n                }\n            }\n            return false;  // Let the RecyclerView handle the event as it normally would.\n        }\n\n\n        @Override\n        public void onTouchEvent(@NonNull RecyclerView rv, @NonNull MotionEvent event) {}\n\n        @Override\n        public void onRequestDisallowInterceptTouchEvent(boolean disallowIntercept) {}\n    });\n\n}\n\n    private void processSelectedCells(HashMap&lt;String, Cell&gt; selectedCells) {\n        // 1. Concatenate the letters of all the selected cells\n        StringBuilder selectedWordBuilder = new StringBuilder();\n        ArrayList&lt;String&gt; keys = new ArrayList&lt;&gt;(selectedCells.keySet());\n        Collections.sort(keys); // We might need a custom comparator here if the order doesn't align\n        for (String key : keys) {\n            selectedWordBuilder.append(selectedCells.get(key).getLetter());\n        }\n        String selectedWord = selectedWordBuilder.toString();\n\n        txtSelected.setText(selectedWord);\n\n        // 2. Check if this concatenated word exists in the list of words for the puzzle\n        for (Word word : wordsOnBoard) {\n            if(selectedWord.equals(word.getWordText())) {\n                Toast.makeText(getApplicationContext(), &quot;Word found: &quot; + word.getWordText(), Toast.LENGTH_SHORT).show();\n                word.setFound(true);\n                for (Cell cell : word.getCells()) {\n                    cell.setFound(true);\n                }\n\n                return; // Exit after finding a match\n            }\n        }\n\n\n        // If no word is found, reset the selected cells to unselected state\n        for (Cell cell : selectedCells.values()) {\n            if(!cell.isFound()) {\n                cell.setSelected(false);\n            }\n        }\n        Toast.makeText(this, selectedWord+&quot; dont exist&quot;, Toast.LENGTH_SHORT).show();\n        adapter.notifyDataSetChanged();\n    }\n</code></pre>\n"},{"tags":["java","android","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692895832,"creation_date":1692895832,"answer_id":76971442,"question_id":76967460,"body_markdown":"If you use [LifecycleCameraController](https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController), ImageCapture will crop for you. Similarly you can put your Preview and ImageCapture in the same [UseCaseGroup](https://developer.android.com/reference/androidx/camera/core/UseCaseGroup).\r\n\r\nJust be aware that cropping takes time and it adds latency to your capture.","title":"How to capture an image with same aspect ratio as that of the preview shown","body":"<p>If you use <a href=\"https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController\" rel=\"nofollow noreferrer\">LifecycleCameraController</a>, ImageCapture will crop for you. Similarly you can put your Preview and ImageCapture in the same <a href=\"https://developer.android.com/reference/androidx/camera/core/UseCaseGroup\" rel=\"nofollow noreferrer\">UseCaseGroup</a>.</p>\n<p>Just be aware that cropping takes time and it adds latency to your capture.</p>\n"}],"owner":{"account_id":25560690,"reputation":13,"user_id":19343360,"display_name":"Bhoomika Vashistha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76971442,"answer_count":1,"score":0,"last_activity_date":1692895832,"creation_date":1692865524,"question_id":76967460,"body_markdown":"I&#39;ve been using the CameraX library for capturing images of specifically having aspect ratio of 4:3 but it doesn&#39;t work and to be more specific even after specifying same aspect ratio for capture and preview the image saved have different aspect ratio as that what is shown in preview.\r\n\r\nThis is the code I&#39;ve written \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    PreviewView previewView;\r\n    private ImageCapture imageCapture;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        previewView = findViewById(R.id.previewView);\r\n\r\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{android.Manifest.permission.CAMERA}, 101);\r\n        } else {\r\n            initializeCamera();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void initializeCamera() {\r\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                startCameraX(cameraProvider);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }, ContextCompat.getMainExecutor(MainActivity.this));\r\n    }\r\n\r\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\r\n        cameraProvider.unbindAll();\r\n\r\n        CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\r\n                .build();\r\n\r\n        Preview preview = new Preview.Builder()\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .build();\r\n\r\n        // Calculate the crop rectangle to achieve the desired preview area\r\n        Rect cropRect = calculateCropRect(previewView.getWidth(), previewView.getHeight());\r\n\r\n        // Set the size of the PreviewView to match the crop rectangle dimensions\r\n        ViewGroup.LayoutParams layoutParams = previewView.getLayoutParams();\r\n        layoutParams.width = cropRect.width();\r\n        layoutParams.height = cropRect.height();\r\n        previewView.setLayoutParams(layoutParams);\r\n\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n\r\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n\r\n        // Use the same crop rect for ImageCapture\r\n        imageCapture = new ImageCapture.Builder()\r\n                .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation())\r\n                .build();\r\n\r\n\r\n        cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\r\n    }\r\n\r\n    private Rect calculateCropRect(int width, int height) {\r\n        int viewWidth = previewView.getWidth();\r\n        int viewHeight = previewView.getHeight();\r\n        // Define the desired aspect ratio for the crop\r\n        double targetAspectRatio = 4.0 / 3.0;\r\n\r\n        // Calculate the crop height and width based on the target aspect ratio\r\n        int cropWidth;\r\n        int cropHeight;\r\n        if (viewWidth / (double) viewHeight &gt; targetAspectRatio) {\r\n            cropHeight = viewHeight;\r\n            cropWidth = (int) (viewHeight * targetAspectRatio);\r\n        } else {\r\n            cropWidth = viewWidth;\r\n            cropHeight = (int) (viewWidth / targetAspectRatio);\r\n        }\r\n\r\n        // Calculate the offset to center the crop window\r\n        int xOffset = (viewWidth - cropWidth) / 2;\r\n        int yOffset = (viewHeight - cropHeight) / 2;\r\n\r\n        // Create the crop rectangle\r\n        return new Rect(xOffset, yOffset, xOffset + cropWidth, yOffset + cropHeight);\r\n    }\r\n\r\n    public void onCaptureButtonClick(View view) {\r\n        capturePicture();\r\n    }\r\n\r\n    private void capturePicture() {\r\n        long timeStamp = System.currentTimeMillis();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + timeStamp);\r\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n\r\n        ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(\r\n                getContentResolver(),\r\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                contentValues\r\n        ).build();\r\n\r\n        imageCapture.takePicture(\r\n                outputFileOptions,\r\n                ContextCompat.getMainExecutor(this), // Executor for handling callbacks\r\n                new ImageCapture.OnImageSavedCallback() {\r\n                    @Override\r\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                        runOnUiThread(() -&gt; {\r\n                            Toast.makeText(MainActivity.this, &quot;Photo saved&quot;, Toast.LENGTH_SHORT).show();\r\n                        });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull ImageCaptureException exception) {\r\n                        // Image capture error handling\r\n                        runOnUiThread(() -&gt; {\r\n                            Toast.makeText(MainActivity.this, &quot;Error: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        });\r\n                    }\r\n                });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == 101) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                initializeCamera();\r\n            } else {\r\n                Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n I cannot exactly pin point what could be the problem please let me know my mistake since I&#39;m just a beginner and still learning. Thanks in advance.","title":"How to capture an image with same aspect ratio as that of the preview shown","body":"<p>I've been using the CameraX library for capturing images of specifically having aspect ratio of 4:3 but it doesn't work and to be more specific even after specifying same aspect ratio for capture and preview the image saved have different aspect ratio as that what is shown in preview.</p>\n<p>This is the code I've written</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n    PreviewView previewView;\n    private ImageCapture imageCapture;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        previewView = findViewById(R.id.previewView);\n\n        if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.CAMERA)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{android.Manifest.permission.CAMERA}, 101);\n        } else {\n            initializeCamera();\n        }\n\n\n    }\n\n    private void initializeCamera() {\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                startCameraX(cameraProvider);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }, ContextCompat.getMainExecutor(MainActivity.this));\n    }\n\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\n        cameraProvider.unbindAll();\n\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_FRONT)\n                .build();\n\n        Preview preview = new Preview.Builder()\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .build();\n\n        // Calculate the crop rectangle to achieve the desired preview area\n        Rect cropRect = calculateCropRect(previewView.getWidth(), previewView.getHeight());\n\n        // Set the size of the PreviewView to match the crop rectangle dimensions\n        ViewGroup.LayoutParams layoutParams = previewView.getLayoutParams();\n        layoutParams.width = cropRect.width();\n        layoutParams.height = cropRect.height();\n        previewView.setLayoutParams(layoutParams);\n\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n        // Use the same crop rect for ImageCapture\n        imageCapture = new ImageCapture.Builder()\n                .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .setTargetRotation(getWindowManager().getDefaultDisplay().getRotation())\n                .build();\n\n\n        cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageCapture);\n    }\n\n    private Rect calculateCropRect(int width, int height) {\n        int viewWidth = previewView.getWidth();\n        int viewHeight = previewView.getHeight();\n        // Define the desired aspect ratio for the crop\n        double targetAspectRatio = 4.0 / 3.0;\n\n        // Calculate the crop height and width based on the target aspect ratio\n        int cropWidth;\n        int cropHeight;\n        if (viewWidth / (double) viewHeight &gt; targetAspectRatio) {\n            cropHeight = viewHeight;\n            cropWidth = (int) (viewHeight * targetAspectRatio);\n        } else {\n            cropWidth = viewWidth;\n            cropHeight = (int) (viewWidth / targetAspectRatio);\n        }\n\n        // Calculate the offset to center the crop window\n        int xOffset = (viewWidth - cropWidth) / 2;\n        int yOffset = (viewHeight - cropHeight) / 2;\n\n        // Create the crop rectangle\n        return new Rect(xOffset, yOffset, xOffset + cropWidth, yOffset + cropHeight);\n    }\n\n    public void onCaptureButtonClick(View view) {\n        capturePicture();\n    }\n\n    private void capturePicture() {\n        long timeStamp = System.currentTimeMillis();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, &quot;IMG_&quot; + timeStamp);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n\n        ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(\n                getContentResolver(),\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n                contentValues\n        ).build();\n\n        imageCapture.takePicture(\n                outputFileOptions,\n                ContextCompat.getMainExecutor(this), // Executor for handling callbacks\n                new ImageCapture.OnImageSavedCallback() {\n                    @Override\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                        runOnUiThread(() -&gt; {\n                            Toast.makeText(MainActivity.this, &quot;Photo saved&quot;, Toast.LENGTH_SHORT).show();\n                        });\n                    }\n\n                    @Override\n                    public void onError(@NonNull ImageCaptureException exception) {\n                        // Image capture error handling\n                        runOnUiThread(() -&gt; {\n                            Toast.makeText(MainActivity.this, &quot;Error: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\n                        });\n                    }\n                });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n                                           @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 101) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                initializeCamera();\n            } else {\n                Toast.makeText(this, &quot;Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>I cannot exactly pin point what could be the problem please let me know my mistake since I'm just a beginner and still learning. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692894948,"post_id":76971251,"comment_id":135689483,"body_markdown":"`itemMap.computeIfAbsent(&quot;id&quot;, key -&gt; new ArrayList&lt;&gt;());` – The second argument is a `Function`, meaning it takes an argument.","body":"<code>itemMap.computeIfAbsent(&quot;id&quot;, key -&gt; new ArrayList&lt;&gt;());</code> – The second argument is a <code>Function</code>, meaning it takes an argument."},{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":1,"creation_date":1692916750,"post_id":76971251,"comment_id":135693440,"body_markdown":"I googled many things, read many other SO articles about &quot;Cannot infer functional interface type&quot;, tried many other syntax variants and studied the compiler error very carefully, but none of these led me to the solution.\nI always spend a lot of effort to try to fix issues before posting on SO, then i know that having this question answered on SO will save someone else effort in the future because the answer is not obvious.\nMy code would work as written in C# - which I am much more familiar with.","body":"I googled many things, read many other SO articles about &quot;Cannot infer functional interface type&quot;, tried many other syntax variants and studied the compiler error very carefully, but none of these led me to the solution. I always spend a lot of effort to try to fix issues before posting on SO, then i know that having this question answered on SO will save someone else effort in the future because the answer is not obvious. My code would work as written in C# - which I am much more familiar with."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692925974,"post_id":76971251,"comment_id":135694243,"body_markdown":"May I ask what version of Java are you using? On Java 20, if I try to compile your code I get `incompatible types: incompatible parameter types in lambda expression`, which is much more clear.","body":"May I ask what version of Java are you using? On Java 20, if I try to compile your code I get <code>incompatible types: incompatible parameter types in lambda expression</code>, which is much more clear."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692926044,"post_id":76971251,"comment_id":135694248,"body_markdown":"As an aside, it looks like Java 21 [will let you use `_` for unused params as a preview feature](https://openjdk.org/jeps/443) (though you would still need to do `_ -&gt; new ArrayList&lt;&gt;()`, not just `() -&gt; new ArrayList&lt;&gt;()`).","body":"As an aside, it looks like Java 21 <a href=\"https://openjdk.org/jeps/443\" rel=\"nofollow noreferrer\">will let you use <code>_</code> for unused params as a preview feature</a> (though you would still need to do <code>_ -&gt; new ArrayList&lt;&gt;()</code>, not just <code>() -&gt; new ArrayList&lt;&gt;()</code>)."},{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":0,"creation_date":1693099953,"post_id":76971251,"comment_id":135715236,"body_markdown":"This project is Java 17, but we have projects on all versions from 1.8 to 17.","body":"This project is Java 17, but we have projects on all versions from 1.8 to 17."}],"answers":[{"comments":[{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":1,"creation_date":1692916586,"post_id":76971424,"comment_id":135693415,"body_markdown":"Thanks that worked. I read the compiler error multiple times, and it did not help at all!","body":"Thanks that worked. I read the compiler error multiple times, and it did not help at all!"}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692895655,"creation_date":1692895655,"answer_id":76971424,"question_id":76971251,"body_markdown":"Basically, `computeIfAbsent` method takes a `key` and function interface `Function&lt;T, R&gt;` as parameters. \r\n\r\nFunction interface `Function&lt;T, R&gt;` represents a function that accepts one argument and produces a result.\r\n\r\n**T**: *Type of argument.*\r\n\r\n**R**: *Return type of the function.*\r\n\r\nThe problem is you have not supplied an arugment. So, it is giving compilation error.\r\n\r\nYou need to change it to:\r\n\r\n    itemMap.computeIfAbsent(&quot;id&quot;, (s) -&gt; new ArrayList&lt;&gt;());\r\nwhere `s` is the key.","title":"Cannot infer functional interface with HashMap computeIfAbsent","body":"<p>Basically, <code>computeIfAbsent</code> method takes a <code>key</code> and function interface <code>Function&lt;T, R&gt;</code> as parameters.</p>\n<p>Function interface <code>Function&lt;T, R&gt;</code> represents a function that accepts one argument and produces a result.</p>\n<p><strong>T</strong>: <em>Type of argument.</em></p>\n<p><strong>R</strong>: <em>Return type of the function.</em></p>\n<p>The problem is you have not supplied an arugment. So, it is giving compilation error.</p>\n<p>You need to change it to:</p>\n<pre><code>itemMap.computeIfAbsent(&quot;id&quot;, (s) -&gt; new ArrayList&lt;&gt;());\n</code></pre>\n<p>where <code>s</code> is the key.</p>\n"}],"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76971424,"answer_count":1,"score":-1,"last_activity_date":1692895655,"creation_date":1692894370,"question_id":76971251,"body_markdown":"I have a HashMap defined as\r\n\r\n```java\r\nfinal Map&lt;String, List&lt;Tuple&lt;ShipmentDTO, ShipmentItemDTO&gt;&gt;&gt; itemMap = new HashMap&lt;&gt;();\r\n```\r\n\r\nJava is quite happy with\r\n\r\n```java\r\nitemMap.put(&quot;id&quot;, new ArrayList&lt;&gt;());\r\n```\r\n\r\nBut fails with &quot;Cannot infer functional interface type&quot; with\r\n\r\n```java\r\nitemMap.computeIfAbsent(&quot;id&quot;, () -&gt; new ArrayList&lt;&gt;());\r\n```\r\n\r\nWhat is going wrong here?","title":"Cannot infer functional interface with HashMap computeIfAbsent","body":"<p>I have a HashMap defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, List&lt;Tuple&lt;ShipmentDTO, ShipmentItemDTO&gt;&gt;&gt; itemMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>Java is quite happy with</p>\n<pre class=\"lang-java prettyprint-override\"><code>itemMap.put(&quot;id&quot;, new ArrayList&lt;&gt;());\n</code></pre>\n<p>But fails with &quot;Cannot infer functional interface type&quot; with</p>\n<pre class=\"lang-java prettyprint-override\"><code>itemMap.computeIfAbsent(&quot;id&quot;, () -&gt; new ArrayList&lt;&gt;());\n</code></pre>\n<p>What is going wrong here?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"score":0,"creation_date":1692713623,"post_id":76949593,"comment_id":135659995,"body_markdown":"I checked that it is not there","body":"I checked that it is not there"},{"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"score":0,"creation_date":1692714130,"post_id":76949593,"comment_id":135660127,"body_markdown":"Check the plugins section, the Gradle plugin might be is disabled.","body":"Check the plugins section, the Gradle plugin might be is disabled."}],"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692668152,"creation_date":1692668152,"answer_id":76949593,"question_id":76949375,"body_markdown":"in the main menu go to `View -&gt; Tool Windows -&gt; Gradle`","title":"Unable to get gradle working android studio","body":"<p>in the main menu go to <code>View -&gt; Tool Windows -&gt; Gradle</code></p>\n"},{"tags":[],"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692895352,"creation_date":1692895352,"answer_id":76971389,"question_id":76949375,"body_markdown":"The problem was I forgot to pull the gradle scripts, after pulling it and syncing, everything started working as expected.","title":"Unable to get gradle working android studio","body":"<p>The problem was I forgot to pull the gradle scripts, after pulling it and syncing, everything started working as expected.</p>\n"}],"owner":{"account_id":16796752,"reputation":135,"user_id":12143067,"display_name":"Lekan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692895352,"creation_date":1692663152,"question_id":76949375,"body_markdown":"I have left android studio for sometime now. I downloaded &#39;Android Studio Flamingo | 2022.2.1 Patch 2&#39; I cloned a project from github and for some reason I cannot get the project setup.\r\n\r\nUsually gradle shows up on the right panel, but it is not.\r\n[![enter image description here][1]][1]\r\n\r\nWhat am I missing?\r\n\r\nIt is also not showing up here:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvQGN.png\r\n  [2]: https://i.stack.imgur.com/eS6LS.png","title":"Unable to get gradle working android studio","body":"<p>I have left android studio for sometime now. I downloaded 'Android Studio Flamingo | 2022.2.1 Patch 2' I cloned a project from github and for some reason I cannot get the project setup.</p>\n<p>Usually gradle shows up on the right panel, but it is not.\n<a href=\"https://i.stack.imgur.com/UvQGN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvQGN.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing?</p>\n<p>It is also not showing up here:</p>\n<p><a href=\"https://i.stack.imgur.com/eS6LS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eS6LS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","ktable","kafka-join"],"comments":[{"owner":{"account_id":3680725,"reputation":341,"user_id":3065744,"display_name":"Sharry India"},"score":0,"creation_date":1692608566,"post_id":76943799,"comment_id":135641587,"body_markdown":"In my use case I don&#39;t want to loose any KStream record &amp; wait for the KTable key to arrive in next 1 - 5 minutes.","body":"In my use case I don&#39;t want to loose any KStream record &amp; wait for the KTable key to arrive in next 1 - 5 minutes."}],"owner":{"account_id":3680725,"reputation":341,"user_id":3065744,"display_name":"Sharry India"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692895151,"creation_date":1692608413,"question_id":76943799,"body_markdown":"I have a use case in which I don&#39;t want to drop the record from the KStream if KTable key doesn&#39;t exist &amp; I want to wait for the KTable key (record) to arrive &amp; then sending fully populated data to a new kafka topic.\r\n\r\nI have found a reference in CustomStreamTableJoinIntegrationTest.java https://github.com/confluentinc/kafka-streams-examples/blob/5.2.1-post/src/test/java/io/confluent/examples/streams/CustomStreamTableJoinIntegrationTest.java \r\n\r\nBut seems like this is not a very good approach to hold the record manually in a custom streamBufferStore &amp; after the record comes to KTable then finally sending fully populated data to a new kafka topic &amp; manually deleting the data from the buffer store.\r\n\r\nIs there any better way to handle this use case.\r\n\r\n\r\n\r\n    final List&lt;KeyValueWithTimestamp&lt;String, Double&gt;&gt; inputStreamRecords = Arrays.asList(\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 333.33, TimeUnit.MILLISECONDS.toMillis(5)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 999.99, TimeUnit.MILLISECONDS.toMillis(10)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;bobby&quot;, 222.22, TimeUnit.MILLISECONDS.toMillis(15)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 555.55, TimeUnit.MILLISECONDS.toMillis(30)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 666.66, TimeUnit.MILLISECONDS.toMillis(40))\r\n    );\r\n\r\n    final List&lt;KeyValueWithTimestamp&lt;String, Long&gt;&gt; inputTableRecords = Arrays.asList(\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 1L, TimeUnit.MILLISECONDS.toMillis(20)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 2L, TimeUnit.MILLISECONDS.toMillis(39)),\r\n        new KeyValueWithTimestamp&lt;&gt;(&quot;bobby&quot;, 8L, TimeUnit.MILLISECONDS.toMillis(400))\r\n    );\r\n\r\n    final List&lt;KeyValue&lt;String, Pair&lt;Double, Long&gt;&gt;&gt; expectedOutputRecords = Arrays.asList(\r\n        new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(333.33, 1L)),\r\n        new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(999.99, 1L)),\r\n        new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(555.55, 1L)),\r\n        new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(666.66, 2L)),\r\n        new KeyValue&lt;&gt;(&quot;bobby&quot;, new Pair&lt;&gt;(222.22, null))\r\n    );\r\n\r\n","title":"KStream join with KTable record drops if key not exist in KTable","body":"<p>I have a use case in which I don't want to drop the record from the KStream if KTable key doesn't exist &amp; I want to wait for the KTable key (record) to arrive &amp; then sending fully populated data to a new kafka topic.</p>\n<p>I have found a reference in CustomStreamTableJoinIntegrationTest.java <a href=\"https://github.com/confluentinc/kafka-streams-examples/blob/5.2.1-post/src/test/java/io/confluent/examples/streams/CustomStreamTableJoinIntegrationTest.java\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-streams-examples/blob/5.2.1-post/src/test/java/io/confluent/examples/streams/CustomStreamTableJoinIntegrationTest.java</a></p>\n<p>But seems like this is not a very good approach to hold the record manually in a custom streamBufferStore &amp; after the record comes to KTable then finally sending fully populated data to a new kafka topic &amp; manually deleting the data from the buffer store.</p>\n<p>Is there any better way to handle this use case.</p>\n<pre><code>final List&lt;KeyValueWithTimestamp&lt;String, Double&gt;&gt; inputStreamRecords = Arrays.asList(\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 333.33, TimeUnit.MILLISECONDS.toMillis(5)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 999.99, TimeUnit.MILLISECONDS.toMillis(10)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;bobby&quot;, 222.22, TimeUnit.MILLISECONDS.toMillis(15)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 555.55, TimeUnit.MILLISECONDS.toMillis(30)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 666.66, TimeUnit.MILLISECONDS.toMillis(40))\n);\n\nfinal List&lt;KeyValueWithTimestamp&lt;String, Long&gt;&gt; inputTableRecords = Arrays.asList(\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 1L, TimeUnit.MILLISECONDS.toMillis(20)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;alice&quot;, 2L, TimeUnit.MILLISECONDS.toMillis(39)),\n    new KeyValueWithTimestamp&lt;&gt;(&quot;bobby&quot;, 8L, TimeUnit.MILLISECONDS.toMillis(400))\n);\n\nfinal List&lt;KeyValue&lt;String, Pair&lt;Double, Long&gt;&gt;&gt; expectedOutputRecords = Arrays.asList(\n    new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(333.33, 1L)),\n    new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(999.99, 1L)),\n    new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(555.55, 1L)),\n    new KeyValue&lt;&gt;(&quot;alice&quot;, new Pair&lt;&gt;(666.66, 2L)),\n    new KeyValue&lt;&gt;(&quot;bobby&quot;, new Pair&lt;&gt;(222.22, null))\n);\n</code></pre>\n"},{"tags":["java","integration-testing","spring-kafka","spring-kafka-test","embedded-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692894983,"creation_date":1692894983,"answer_id":76971330,"question_id":76940224,"body_markdown":"There is no such property `...producer.topics`. \r\n\r\nIf you want the framework to provision the topic for you (for production code), you must add a `NewTopic` `@Bean` - see https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics\r\n\r\nFor test code, the topics are provisioned via the embedded broker annotation.\r\n\r\nHowever, your configuration is wrong; use `bootstrap-servers` in that context, not `bootstrap.servers`. Also, it&#39;s best to set it at the top level if its the same for both the producer and consumer `spring.kafka.bootstrap-servers`.\r\n\r\nBut, in any case, your test embedded kafka broker will be listening on a random port; you need to tell Boot what that port is, so...\r\n\r\n```java\r\n@EmbeddedKafka(topics = &quot;someTopic&quot;,\r\n        bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;) // this is now the default (since 3.0.10).\r\n```","title":"org.springframework.kafka.KafkaException: Send failed; Topic dpp_cil.dpp.event.external.downstream_response not present in metadata after 60000 ms","body":"<p>There is no such property <code>...producer.topics</code>.</p>\n<p>If you want the framework to provision the topic for you (for production code), you must add a <code>NewTopic</code> <code>@Bean</code> - see <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#configuring-topics</a></p>\n<p>For test code, the topics are provisioned via the embedded broker annotation.</p>\n<p>However, your configuration is wrong; use <code>bootstrap-servers</code> in that context, not <code>bootstrap.servers</code>. Also, it's best to set it at the top level if its the same for both the producer and consumer <code>spring.kafka.bootstrap-servers</code>.</p>\n<p>But, in any case, your test embedded kafka broker will be listening on a random port; you need to tell Boot what that port is, so...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EmbeddedKafka(topics = &quot;someTopic&quot;,\n        bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;) // this is now the default (since 3.0.10).\n</code></pre>\n"}],"owner":{"account_id":14895756,"reputation":11,"user_id":10756127,"display_name":"Bhavana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692894983,"creation_date":1692546720,"question_id":76940224,"body_markdown":"Integration test for ProducerServiceIntegrationTest is giving error : org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic dpp_cil.dpp.event.external.downstream_response not present in metadata after 60000 ms.\r\n\r\nThough  testTopicCreation() is green and itShould_ProduceCorrectExampleDTO_to_TOPIC_EXAMPLE_EXTERNE() is giving the above error. Why? How to fix it.\r\n```\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.support.SendResult;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.util.concurrent.ListenableFuture;\r\n\r\nimport java.util.Objects;\r\n\r\n\r\n\r\n@Service\r\npublic class DownstreamActionResponseProducer{\r\n    Logger log = LoggerFactory.getLogger(DownstreamActionResponseProducer.class);\r\nprivate String topicName = &quot;dpp_cil.dpp.event.external.downstream_response&quot;;\r\n\r\nprivate  KafkaTemplate&lt;String, DownstreamActionResponse&gt; kafkaTemplate;\r\n\r\n    DownstreamActionResponseProducer(KafkaTemplate kafkaTemplate) {\r\n        this.kafkaTemplate = kafkaTemplate;\r\n    }\r\n  public void send(DownstreamActionResponse event) {\r\n\r\nlog.info(&quot;Send event to the {} topic, {}&quot;,event,topicName);\r\n      ListenableFuture&lt;SendResult&lt;String, DownstreamActionResponse&gt;&gt; future = kafkaTemplate.send(topicName,getKey(event), event);\r\n      try {\r\n      SendResult&lt;String, DownstreamActionResponse&gt; sendResult = future.get();\r\n      log.info(&quot;Producer OUTPUT:\\nMetadata:{}&quot;, sendResult.getRecordMetadata());\r\n      log.info(&quot;Message sent by producer is:{} at offset:{} &quot;,sendResult.getProducerRecord().value(),sendResult.getRecordMetadata().offset() );\r\n    } catch (final InterruptedException ex) {\r\n      Thread.currentThread().interrupt();\r\n      log.warn(&quot;Kafka producer interrupted exception&quot;, ex);\r\n    } catch (final Exception ex) {\r\n      log.warn(&quot;Kafka producer exception&quot;, ex);\r\n    }\r\n  }\r\n\r\n  private String getKey(DownstreamActionResponse event) {\r\n    return Objects.toString(event.getAcid());\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n\r\nimport io.confluent.kafka.serializers.KafkaAvroSerializer;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\nimport org.springframework.kafka.core.KafkaTemplate;\r\nimport org.springframework.kafka.core.ProducerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\n@EnableKafka\r\npublic class KafkaProducerConfiguration {\r\n    @Value(&quot;${spring.kafka.producer.bootstrap.servers}&quot;)\r\n    private String bootstrapServers;\r\n    @Bean\r\n    public ProducerFactory&lt;String, DownstreamActionResponse&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\r\n        configProps.put(&quot;schema.registry.url&quot;,&quot;http://localhost:8081&quot;); \r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, DownstreamActionResponse&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nserver:\r\n  port: 28081 # Can clash with local schema registry\r\n\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      bootstrap.servers: localhost:29092\r\n      schema.registry.url: http://localhost:8081\r\n      security: false\r\n    producer:\r\n      topics:\r\n        external.downstream_response: dpp_cil.dpp.event.external.downstream_response\r\n      auto.register.schemas: true\r\n      bootstrap.servers: localhost:29092\r\n      schema.registry.url: http://localhost:8081\r\n  \r\n```\r\n```\r\n\r\nimport org.apache.kafka.clients.admin.AdminClient;\r\nimport org.apache.kafka.clients.admin.AdminClientConfig;\r\nimport org.apache.kafka.clients.admin.NewTopic;\r\nimport org.apache.kafka.clients.consumer.Consumer;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.apache.kafka.common.serialization.Deserializer;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\r\nimport org.springframework.kafka.test.EmbeddedKafkaBroker;\r\nimport org.springframework.kafka.test.context.EmbeddedKafka;\r\nimport org.springframework.kafka.test.utils.KafkaTestUtils;\r\nimport org.springframework.test.annotation.DirtiesContext;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutionException;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(classes = {DownstreamActionResponseProducer.class, KafkaProducerConfiguration.class})  \r\n@DirtiesContext\r\n@EmbeddedKafka(topics = {&quot;dpp_cil.dpp.event.external.downstream_response&quot;})\r\n@ActiveProfiles(&quot;local&quot;)\r\n\r\npublic class ProducerServiceIntegrationTest {\r\n    private static final String TOPIC_EXAMPLE_EXTERNE = &quot;dpp_cil.dpp.event.external.downstream_response&quot;;\r\n\r\n    @Autowired\r\n    private EmbeddedKafkaBroker embeddedKafkaBroker;\r\n\r\n    @Autowired\r\n    private DownstreamActionResponseProducer downstreamActionResponseProducer;\r\n\r\n\r\n    @BeforeEach\r\n    public void setUp() throws InterruptedException, ExecutionException {\r\n        // Check if the topic exists; if not, create it\r\n        try (AdminClient adminClient = AdminClient.create(Map.of(\r\n                AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafkaBroker.getBrokersAsString()\r\n        ))) {\r\n            if (!adminClient.listTopics().names().get().contains(TOPIC_EXAMPLE_EXTERNE)) {\r\n                NewTopic newTopic = new NewTopic(TOPIC_EXAMPLE_EXTERNE, 1, (short) 1);\r\n                adminClient.createTopics(Collections.singleton(newTopic)).all().get();\r\n            }\r\n        }\r\n    }\r\n    @Test\r\n    public void testTopicCreation() {\r\n        try (AdminClient adminClient = AdminClient.create(Map.of(\r\n                AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafkaBroker.getBrokersAsString()\r\n        ))) {\r\n            assertTrue(adminClient.listTopics().names().get().contains(TOPIC_EXAMPLE_EXTERNE));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error testing topic creation&quot;, e);\r\n        }\r\n    }\r\n\r\n    public DownstreamActionResponse mockExampleDTO(String name, String description) {\r\n        DownstreamActionResponse exampleDTO = new DownstreamActionResponse();\r\n        exampleDTO.setAcid(description);\r\n        exampleDTO.setBrand(name);\r\n        return exampleDTO;\r\n    }\r\n    /**\r\n     * We verify the output in the topic. With an simulated consumer.\r\n     */\r\n    @Test\r\n    public void itShould_ProduceCorrectExampleDTO_to_TOPIC_EXAMPLE_EXTERNE() {\r\n        // GIVEN\r\n        DownstreamActionResponse exampleDTO = mockExampleDTO(&quot;Un nom&quot;, &quot;Une description&quot;);\r\n        // simulation consumer\r\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;group_consumer_test&quot;, &quot;false&quot;, embeddedKafkaBroker);\r\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        Deserializer&lt;DownstreamActionResponse&gt; avroDeserializer = new ErrorHandlingDeserializer&lt;DownstreamActionResponse&gt;();\r\n        ConsumerFactory&lt;String, DownstreamActionResponse&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps,\r\n                new StringDeserializer(), avroDeserializer);\r\n         Consumer&lt;String, DownstreamActionResponse&gt; consumerServiceTest = cf.createConsumer();\r\n\r\n        embeddedKafkaBroker.consumeFromAnEmbeddedTopic(consumerServiceTest, TOPIC_EXAMPLE_EXTERNE);\r\n        // WHEN\r\n        downstreamActionResponseProducer.send(exampleDTO);\r\n        // THEN\r\n        ConsumerRecord&lt;String, DownstreamActionResponse&gt; consumerRecordOfExampleDTO = KafkaTestUtils.getSingleRecord(consumerServiceTest, TOPIC_EXAMPLE_EXTERNE);\r\n       DownstreamActionResponse valueReceived = consumerRecordOfExampleDTO.value();\r\n\r\n        assertEquals(&quot;Une description&quot;, valueReceived.getAcid());\r\n        assertEquals(&quot;Un nom&quot;, valueReceived.getBrand());\r\n\r\n        consumerServiceTest.close();\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n","title":"org.springframework.kafka.KafkaException: Send failed; Topic dpp_cil.dpp.event.external.downstream_response not present in metadata after 60000 ms","body":"<p>Integration test for ProducerServiceIntegrationTest is giving error : org.springframework.kafka.KafkaException: Send failed; nested exception is org.apache.kafka.common.errors.TimeoutException: Topic dpp_cil.dpp.event.external.downstream_response not present in metadata after 60000 ms.</p>\n<p>Though  testTopicCreation() is green and itShould_ProduceCorrectExampleDTO_to_TOPIC_EXAMPLE_EXTERNE() is giving the above error. Why? How to fix it.</p>\n<pre><code>\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.concurrent.ListenableFuture;\n\nimport java.util.Objects;\n\n\n\n@Service\npublic class DownstreamActionResponseProducer{\n    Logger log = LoggerFactory.getLogger(DownstreamActionResponseProducer.class);\nprivate String topicName = &quot;dpp_cil.dpp.event.external.downstream_response&quot;;\n\nprivate  KafkaTemplate&lt;String, DownstreamActionResponse&gt; kafkaTemplate;\n\n    DownstreamActionResponseProducer(KafkaTemplate kafkaTemplate) {\n        this.kafkaTemplate = kafkaTemplate;\n    }\n  public void send(DownstreamActionResponse event) {\n\nlog.info(&quot;Send event to the {} topic, {}&quot;,event,topicName);\n      ListenableFuture&lt;SendResult&lt;String, DownstreamActionResponse&gt;&gt; future = kafkaTemplate.send(topicName,getKey(event), event);\n      try {\n      SendResult&lt;String, DownstreamActionResponse&gt; sendResult = future.get();\n      log.info(&quot;Producer OUTPUT:\\nMetadata:{}&quot;, sendResult.getRecordMetadata());\n      log.info(&quot;Message sent by producer is:{} at offset:{} &quot;,sendResult.getProducerRecord().value(),sendResult.getRecordMetadata().offset() );\n    } catch (final InterruptedException ex) {\n      Thread.currentThread().interrupt();\n      log.warn(&quot;Kafka producer interrupted exception&quot;, ex);\n    } catch (final Exception ex) {\n      log.warn(&quot;Kafka producer exception&quot;, ex);\n    }\n  }\n\n  private String getKey(DownstreamActionResponse event) {\n    return Objects.toString(event.getAcid());\n  }\n\n}\n\n</code></pre>\n<pre><code>\nimport io.confluent.kafka.serializers.KafkaAvroSerializer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\n@EnableKafka\npublic class KafkaProducerConfiguration {\n    @Value(&quot;${spring.kafka.producer.bootstrap.servers}&quot;)\n    private String bootstrapServers;\n    @Bean\n    public ProducerFactory&lt;String, DownstreamActionResponse&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class);\n        configProps.put(&quot;schema.registry.url&quot;,&quot;http://localhost:8081&quot;); \n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, DownstreamActionResponse&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n\n</code></pre>\n<pre><code>server:\n  port: 28081 # Can clash with local schema registry\n\nspring:\n  kafka:\n    consumer:\n      bootstrap.servers: localhost:29092\n      schema.registry.url: http://localhost:8081\n      security: false\n    producer:\n      topics:\n        external.downstream_response: dpp_cil.dpp.event.external.downstream_response\n      auto.register.schemas: true\n      bootstrap.servers: localhost:29092\n      schema.registry.url: http://localhost:8081\n  \n</code></pre>\n<pre><code>\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.AdminClientConfig;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.clients.consumer.Consumer;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.common.serialization.Deserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.ErrorHandlingDeserializer;\nimport org.springframework.kafka.test.EmbeddedKafkaBroker;\nimport org.springframework.kafka.test.context.EmbeddedKafka;\nimport org.springframework.kafka.test.utils.KafkaTestUtils;\nimport org.springframework.test.annotation.DirtiesContext;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\nimport java.util.Collections;\nimport java.util.Map;\nimport java.util.concurrent.ExecutionException;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest(classes = {DownstreamActionResponseProducer.class, KafkaProducerConfiguration.class})  \n@DirtiesContext\n@EmbeddedKafka(topics = {&quot;dpp_cil.dpp.event.external.downstream_response&quot;})\n@ActiveProfiles(&quot;local&quot;)\n\npublic class ProducerServiceIntegrationTest {\n    private static final String TOPIC_EXAMPLE_EXTERNE = &quot;dpp_cil.dpp.event.external.downstream_response&quot;;\n\n    @Autowired\n    private EmbeddedKafkaBroker embeddedKafkaBroker;\n\n    @Autowired\n    private DownstreamActionResponseProducer downstreamActionResponseProducer;\n\n\n    @BeforeEach\n    public void setUp() throws InterruptedException, ExecutionException {\n        // Check if the topic exists; if not, create it\n        try (AdminClient adminClient = AdminClient.create(Map.of(\n                AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafkaBroker.getBrokersAsString()\n        ))) {\n            if (!adminClient.listTopics().names().get().contains(TOPIC_EXAMPLE_EXTERNE)) {\n                NewTopic newTopic = new NewTopic(TOPIC_EXAMPLE_EXTERNE, 1, (short) 1);\n                adminClient.createTopics(Collections.singleton(newTopic)).all().get();\n            }\n        }\n    }\n    @Test\n    public void testTopicCreation() {\n        try (AdminClient adminClient = AdminClient.create(Map.of(\n                AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafkaBroker.getBrokersAsString()\n        ))) {\n            assertTrue(adminClient.listTopics().names().get().contains(TOPIC_EXAMPLE_EXTERNE));\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error testing topic creation&quot;, e);\n        }\n    }\n\n    public DownstreamActionResponse mockExampleDTO(String name, String description) {\n        DownstreamActionResponse exampleDTO = new DownstreamActionResponse();\n        exampleDTO.setAcid(description);\n        exampleDTO.setBrand(name);\n        return exampleDTO;\n    }\n    /**\n     * We verify the output in the topic. With an simulated consumer.\n     */\n    @Test\n    public void itShould_ProduceCorrectExampleDTO_to_TOPIC_EXAMPLE_EXTERNE() {\n        // GIVEN\n        DownstreamActionResponse exampleDTO = mockExampleDTO(&quot;Un nom&quot;, &quot;Une description&quot;);\n        // simulation consumer\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;group_consumer_test&quot;, &quot;false&quot;, embeddedKafkaBroker);\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        Deserializer&lt;DownstreamActionResponse&gt; avroDeserializer = new ErrorHandlingDeserializer&lt;DownstreamActionResponse&gt;();\n        ConsumerFactory&lt;String, DownstreamActionResponse&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps,\n                new StringDeserializer(), avroDeserializer);\n         Consumer&lt;String, DownstreamActionResponse&gt; consumerServiceTest = cf.createConsumer();\n\n        embeddedKafkaBroker.consumeFromAnEmbeddedTopic(consumerServiceTest, TOPIC_EXAMPLE_EXTERNE);\n        // WHEN\n        downstreamActionResponseProducer.send(exampleDTO);\n        // THEN\n        ConsumerRecord&lt;String, DownstreamActionResponse&gt; consumerRecordOfExampleDTO = KafkaTestUtils.getSingleRecord(consumerServiceTest, TOPIC_EXAMPLE_EXTERNE);\n       DownstreamActionResponse valueReceived = consumerRecordOfExampleDTO.value();\n\n        assertEquals(&quot;Une description&quot;, valueReceived.getAcid());\n        assertEquals(&quot;Un nom&quot;, valueReceived.getBrand());\n\n        consumerServiceTest.close();\n    }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","if-statement"],"answers":[{"tags":[],"owner":{"account_id":15182,"reputation":11628,"user_id":1793417,"accept_rate":100,"display_name":"heijp06"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1259143461,"creation_date":1259142794,"answer_id":1795830,"question_id":1795808,"body_markdown":"No it will not be checked. This behaviour is called [short-circuit evaluation][1] and is a feature in many languages including Java.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Short-circuit_evaluation","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>No it will not be checked. This behaviour is called <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"noreferrer\">short-circuit evaluation</a> and is a feature in many languages including Java.</p>\n"},{"tags":[],"owner":{"account_id":13233,"reputation":79895,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259142798,"creation_date":1259142798,"answer_id":1795831,"question_id":1795808,"body_markdown":"No, if a is true (in a `or` test), b will not be tested, as the result of the test will always be true, whatever is the value of the b expression.\r\n\r\nMake a simple test:\r\n\r\n    if (true || ((String) null).equals(&quot;foobar&quot;)) {\r\n        ...\r\n    }\r\n\r\nwill **not** throw a `NullPointerException`!","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>No, if a is true (in a <code>or</code> test), b will not be tested, as the result of the test will always be true, whatever is the value of the b expression.</p>\n\n<p>Make a simple test:</p>\n\n<pre><code>if (true || ((String) null).equals(\"foobar\")) {\n    ...\n}\n</code></pre>\n\n<p>will <strong>not</strong> throw a <code>NullPointerException</code>!</p>\n"},{"tags":[],"owner":{"account_id":446,"reputation":70492,"user_id":573,"accept_rate":65,"display_name":"abyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259142822,"creation_date":1259142822,"answer_id":1795832,"question_id":1795808,"body_markdown":"No it won&#39;t, Java will short-circuit and stop evaluating once it knows the result.","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>No it won't, Java will short-circuit and stop evaluating once it knows the result.</p>\n"},{"comments":[{"owner":{"account_id":17646,"reputation":18040,"user_id":39693,"accept_rate":68,"display_name":"Kieran Senior"},"score":1,"creation_date":1259321663,"post_id":1795872,"comment_id":1696752,"body_markdown":"Do bitwise comparisons exist so you _can_ evaluate both expressions? i.e. if(str != null | str.isEmpty()) ? (of course this isn&#39;t a practical example, in fact it&#39;s stupid, but you get the idea)","body":"Do bitwise comparisons exist so you <i>can</i> evaluate both expressions? i.e. if(str != null | str.isEmpty()) ? (of course this isn&#39;t a practical example, in fact it&#39;s stupid, but you get the idea)"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":5,"creation_date":1259324375,"post_id":1795872,"comment_id":1696958,"body_markdown":"As long as the expressions don&#39;t have side effects, short-circuit semantics are logically equivalent to complete evaluation. That is, if A is true, you know A||B is true without having to evaluate B. The only time it will make a difference is if an expression has side effects. As for other operators, you can use `*` and `+` as logical `and` and `or`; `((A?1:0) * (B?1:0)) == 1`, `((A?1:0) + (B?1:0)) &gt; 0`. You can even do `xor`: `((A?1:0) + (B?1:0)) == 1`.","body":"As long as the expressions don&#39;t have side effects, short-circuit semantics are logically equivalent to complete evaluation. That is, if A is true, you know A||B is true without having to evaluate B. The only time it will make a difference is if an expression has side effects. As for other operators, you can use <code>*</code> and <code>+</code> as logical <code>and</code> and <code>or</code>; <code>((A?1:0) * (B?1:0)) == 1</code>, <code>((A?1:0) + (B?1:0)) &gt; 0</code>. You can even do <code>xor</code>: <code>((A?1:0) + (B?1:0)) == 1</code>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1259329975,"post_id":1795872,"comment_id":1697457,"body_markdown":"@Kezzer: is that really bitwise comparison? I think it is a `boolean` (logical) operator. It&#39;s different than the `bitwise` (integer) operator, despite having the same symbol...","body":"@Kezzer: is that really bitwise comparison? I think it is a <code>boolean</code> (logical) operator. It&#39;s different than the <code>bitwise</code> (integer) operator, despite having the same symbol..."},{"owner":{"account_id":397662,"reputation":1234,"user_id":761918,"display_name":"egallardo"},"score":4,"creation_date":1362775742,"post_id":1795872,"comment_id":21599008,"body_markdown":"A handy trick when you want to switch between &#39;&amp;&amp;&#39; and &#39;||&#39; expressions is to negate the entire expression, in such way that:\n\n`!(str != null &amp;&amp; !str.isEmpty())`\n\nbecomes:\n\n`(str !(!=) null !(&amp;&amp;) !(!)str.isEmpty())`\n\nand then:\n\n`(str == null || str.isEmpty())`\n\nbecause:\n\n`!(!=) is ==`\n`!(&amp;&amp;) is ||`\n`!(!)  eliminates itself`\n\nother helpful negations are:\n\n`!(&lt;) is &gt;=`\n`!(&gt;) is &lt;=`\n\nand viceversa","body":"A handy trick when you want to switch between &#39;&amp;&amp;&#39; and &#39;||&#39; expressions is to negate the entire expression, in such way that:  <code>!(str != null &amp;&amp; !str.isEmpty())</code>  becomes:  <code>(str !(!=) null !(&amp;&amp;) !(!)str.isEmpty())</code>  and then:  <code>(str == null || str.isEmpty())</code>  because:  <code>!(!=) is ==</code> <code>!(&amp;&amp;) is ||</code> <code>!(!)  eliminates itself</code>  other helpful negations are:  <code>!(&lt;) is &gt;=</code> <code>!(&gt;) is &lt;=</code>  and viceversa"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":4,"down_vote_count":0,"up_vote_count":233,"is_accepted":true,"score":233,"last_activity_date":1521074360,"creation_date":1259143297,"answer_id":1795872,"question_id":1795808,"body_markdown":"No, it will not be evaluated. And this is very useful. For example, if you need to test whether a String is not null or empty, you can write:\r\n\r\n    if (str != null &amp;&amp; !str.isEmpty()) {\r\n      doSomethingWith(str.charAt(0));\r\n    }\r\n\r\nor, the other way around\r\n\r\n    if (str == null || str.isEmpty()) {\r\n      complainAboutUnusableString();\r\n    } else {\r\n      doSomethingWith(str.charAt(0));\r\n    }\r\n\r\nIf we didn&#39;t have &#39;short-circuits&#39; in Java, we&#39;d receive a lot of NullPointerExceptions in the above lines of code.\r\n","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>No, it will not be evaluated. And this is very useful. For example, if you need to test whether a String is not null or empty, you can write:</p>\n\n<pre><code>if (str != null &amp;&amp; !str.isEmpty()) {\n  doSomethingWith(str.charAt(0));\n}\n</code></pre>\n\n<p>or, the other way around</p>\n\n<pre><code>if (str == null || str.isEmpty()) {\n  complainAboutUnusableString();\n} else {\n  doSomethingWith(str.charAt(0));\n}\n</code></pre>\n\n<p>If we didn't have 'short-circuits' in Java, we'd receive a lot of NullPointerExceptions in the above lines of code.</p>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1259144150,"creation_date":1259144150,"answer_id":1795946,"question_id":1795808,"body_markdown":"All the answers here are great but, just to illustrate where this comes from, for questions like this it&#39;s good to go to the source: the Java Language Specification.\r\n\r\n[Section 15:23, Conditional-And operator (&amp;&amp;)][1], says:\r\n\r\n&gt; The &amp;&amp; operator is like &amp; (&#167;15.22.2), but evaluates its right-hand operand only if the value of its left-hand operand is true. [...] At run time, the left-hand operand expression is evaluated first [...] if the resulting value is false, the value of the conditional-and expression is false and the right-hand operand expression is not evaluated. If the value of the left-hand operand is true, then the right-hand expression is evaluated [...] the resulting value becomes the value of the conditional-and expression. Thus, &amp;&amp; computes the same result as &amp; on boolean operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.\r\n\r\nAnd similarly, [Section 15:24, Conditional-Or operator (||)][2], says:\r\n\r\n&gt; The || operator is like | (&#167;15.22.2), but evaluates its right-hand operand only if the value of its left-hand operand is false. [...] At run time, the left-hand operand expression is evaluated first; [...] if the resulting value is true, the value of the conditional-or expression is true and the right-hand operand expression is not evaluated. If the value of the left-hand operand is false, then the right-hand expression is evaluated; [...] the resulting value becomes the value of the conditional-or expression. Thus, || computes the same result as | on boolean or Boolean operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.\r\n\r\nA little repetitive, maybe, but the best confirmation of exactly how they work. Similarly the conditional operator (?:) only evaluates the appropriate &#39;half&#39; (left half if the value is true, right half if it&#39;s false), allowing the use of expressions like:\r\n\r\n    int x = (y == null) ? 0 : y.getFoo();\r\n\r\nwithout a NullPointerException.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.23\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.24","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>All the answers here are great but, just to illustrate where this comes from, for questions like this it's good to go to the source: the Java Language Specification.</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.23\" rel=\"noreferrer\">Section 15:23, Conditional-And operator (&amp;&amp;)</a>, says:</p>\n\n<blockquote>\n  <p>The &amp;&amp; operator is like &amp; (§15.22.2), but evaluates its right-hand operand only if the value of its left-hand operand is true. [...] At run time, the left-hand operand expression is evaluated first [...] if the resulting value is false, the value of the conditional-and expression is false and the right-hand operand expression is not evaluated. If the value of the left-hand operand is true, then the right-hand expression is evaluated [...] the resulting value becomes the value of the conditional-and expression. Thus, &amp;&amp; computes the same result as &amp; on boolean operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.</p>\n</blockquote>\n\n<p>And similarly, <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/expressions.html#15.24\" rel=\"noreferrer\">Section 15:24, Conditional-Or operator (||)</a>, says:</p>\n\n<blockquote>\n  <p>The || operator is like | (§15.22.2), but evaluates its right-hand operand only if the value of its left-hand operand is false. [...] At run time, the left-hand operand expression is evaluated first; [...] if the resulting value is true, the value of the conditional-or expression is true and the right-hand operand expression is not evaluated. If the value of the left-hand operand is false, then the right-hand expression is evaluated; [...] the resulting value becomes the value of the conditional-or expression. Thus, || computes the same result as | on boolean or Boolean operands. It differs only in that the right-hand operand expression is evaluated conditionally rather than always.</p>\n</blockquote>\n\n<p>A little repetitive, maybe, but the best confirmation of exactly how they work. Similarly the conditional operator (?:) only evaluates the appropriate 'half' (left half if the value is true, right half if it's false), allowing the use of expressions like:</p>\n\n<pre><code>int x = (y == null) ? 0 : y.getFoo();\n</code></pre>\n\n<p>without a NullPointerException.</p>\n"},{"comments":[{"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"score":0,"creation_date":1487154852,"post_id":1808209,"comment_id":71652013,"body_markdown":"This is interesting to remember: e.g. given a method changeData(data) that returns a boolean, then: \n\nif (a.changeData(data) || b.changeData(data)) { doSomething(); } \n\ndoesn&#39;t execute changeData on b if a.changeData() returns true,  but\n\nif (a.changeData(data) | b.changeData(data)) { doSomething() } \n\nexecutes  changeData() on both a and b, even if the one invoked on a returned true.","body":"This is interesting to remember: e.g. given a method changeData(data) that returns a boolean, then:   if (a.changeData(data) || b.changeData(data)) { doSomething(); }   doesn&#39;t execute changeData on b if a.changeData() returns true,  but  if (a.changeData(data) | b.changeData(data)) { doSomething() }   executes  changeData() on both a and b, even if the one invoked on a returned true."}],"tags":[],"owner":{"account_id":37416,"reputation":74523,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259321404,"creation_date":1259321404,"answer_id":1808209,"question_id":1795808,"body_markdown":"Yes, the short-circuit evaluation for boolean expressions is the default behaviour in all the C-like family.\r\n\r\nAn interesting fact is that Java also uses the `&amp;` and `|` as logic operands (they are overloaded, with `int` types they are the expected bitwise operations) to evaluate all the terms in the expression, which is also useful when you need the side-effects.","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>Yes, the short-circuit evaluation for boolean expressions is the default behaviour in all the C-like family.</p>\n\n<p>An interesting fact is that Java also uses the <code>&amp;</code> and <code>|</code> as logic operands (they are overloaded, with <code>int</code> types they are the expected bitwise operations) to evaluate all the terms in the expression, which is also useful when you need the side-effects.</p>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":3,"creation_date":1276187210,"post_id":1808879,"comment_id":3083161,"body_markdown":"&quot;Java has 4 different boolean compare operators: &amp;, &amp;&amp;, |, ||&quot;... You&#39;re forgetting `^` (xor).","body":"&quot;Java has 4 different boolean compare operators: &amp;, &amp;&amp;, |, ||&quot;... You&#39;re forgetting <code>^</code> (xor)."},{"owner":{"account_id":76626,"reputation":6476,"user_id":219210,"display_name":"Hardcoded"},"score":0,"creation_date":1276674986,"post_id":1808879,"comment_id":3123530,"body_markdown":"Oh, I wasn&#39;t aware it checks boolean boolean values, too. Only used it for bitmasks, so far.","body":"Oh, I wasn&#39;t aware it checks boolean boolean values, too. Only used it for bitmasks, so far."},{"owner":{"account_id":1886776,"reputation":2985,"user_id":1705829,"accept_rate":43,"display_name":"Timo"},"score":0,"creation_date":1683143672,"post_id":1808879,"comment_id":134322949,"body_markdown":"The only advantage of `|` is that it is one char compared to two chars in `||`, which may not be an advantage to save memory space?","body":"The only advantage of <code>|</code> is that it is one char compared to two chars in <code>||</code>, which may not be an advantage to save memory space?"}],"tags":[],"owner":{"account_id":76626,"reputation":6476,"user_id":219210,"display_name":"Hardcoded"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1368603971,"creation_date":1259329694,"answer_id":1808879,"question_id":1795808,"body_markdown":"Java has 5 different boolean compare operators: &amp;, &amp;&amp;, |, ||, ^\r\n\r\n&amp; and &amp;&amp; are &quot;and&quot; operators, | and || &quot;or&quot; operators, ^ is &quot;xor&quot;\r\n\r\nThe single ones will check every parameter, regardless of the values, before checking the values of the parameters.\r\nThe double ones will first check the left parameter and its value and if `true` (`||`) or `false` (`&amp;&amp;`) leave the second one untouched.\r\nSound compilcated? An easy example should make it clear:\r\n\r\n*Given for all examples:*\r\n     \r\n     String aString = null;\r\n\r\nAND:\r\n\r\n     if (aString != null &amp; aString.equals(&quot;lala&quot;))\r\n\r\nBoth parameters are checked before the evaluation is done and a NullPointerException will be thrown for the second parameter.\r\n\r\n     if (aString != null &amp;&amp; aString.equals(&quot;lala&quot;))\r\n\r\nThe first parameter is checked and it returns `false`, so the second paramter won&#39;t be checked, because the result is `false` anyway.\r\n\r\nThe same for OR:\r\n\r\n     if (aString == null | !aString.equals(&quot;lala&quot;))\r\n\r\nWill raise NullPointerException, too.\r\n\r\n     if (aString == null || !aString.equals(&quot;lala&quot;))\r\n\r\nThe first parameter is checked and it returns `true`, so the second paramter won&#39;t be checked, because the result is `true` anyway.\r\n\r\nXOR can&#39;t be optimized, because it depends on both parameters.","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>Java has 5 different boolean compare operators: &amp;, &amp;&amp;, |, ||, ^</p>\n\n<p>&amp; and &amp;&amp; are \"and\" operators, | and || \"or\" operators, ^ is \"xor\"</p>\n\n<p>The single ones will check every parameter, regardless of the values, before checking the values of the parameters.\nThe double ones will first check the left parameter and its value and if <code>true</code> (<code>||</code>) or <code>false</code> (<code>&amp;&amp;</code>) leave the second one untouched.\nSound compilcated? An easy example should make it clear:</p>\n\n<p><em>Given for all examples:</em></p>\n\n<pre><code> String aString = null;\n</code></pre>\n\n<p>AND:</p>\n\n<pre><code> if (aString != null &amp; aString.equals(\"lala\"))\n</code></pre>\n\n<p>Both parameters are checked before the evaluation is done and a NullPointerException will be thrown for the second parameter.</p>\n\n<pre><code> if (aString != null &amp;&amp; aString.equals(\"lala\"))\n</code></pre>\n\n<p>The first parameter is checked and it returns <code>false</code>, so the second paramter won't be checked, because the result is <code>false</code> anyway.</p>\n\n<p>The same for OR:</p>\n\n<pre><code> if (aString == null | !aString.equals(\"lala\"))\n</code></pre>\n\n<p>Will raise NullPointerException, too.</p>\n\n<pre><code> if (aString == null || !aString.equals(\"lala\"))\n</code></pre>\n\n<p>The first parameter is checked and it returns <code>true</code>, so the second paramter won't be checked, because the result is <code>true</code> anyway.</p>\n\n<p>XOR can't be optimized, because it depends on both parameters.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273608994,"creation_date":1273608994,"answer_id":2814127,"question_id":1795808,"body_markdown":"This goes back to the basic difference between &amp; and &amp;&amp;, | and || \r\n\r\nBTW you perform the same tasks many times. Not sure if efficiency is an issue. You could remove some of the duplication.\r\n\r\n    Z z2 = partialHits.get(req_nr).get(z); // assuming a value cannout be null.\r\n    Z z3 = tmpmap.get(z); // assuming z3 cannot be null.\r\n    if(z2 == null || z2 &lt; z3){   \r\n        partialHits.get(z).put(z, z3);   \r\n    } ","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>This goes back to the basic difference between &amp; and &amp;&amp;, | and || </p>\n\n<p>BTW you perform the same tasks many times. Not sure if efficiency is an issue. You could remove some of the duplication.</p>\n\n<pre><code>Z z2 = partialHits.get(req_nr).get(z); // assuming a value cannout be null.\nZ z3 = tmpmap.get(z); // assuming z3 cannot be null.\nif(z2 == null || z2 &lt; z3){   \n    partialHits.get(z).put(z, z3);   \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3877734,"reputation":91,"user_id":3211238,"display_name":"user3211238"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1402671769,"creation_date":1390097343,"answer_id":21212394,"question_id":1795808,"body_markdown":"Short circuit here means that the second condition won&#39;t be evaluated.\r\n\r\nIf ( A &amp;&amp; B ) will result in short circuit if A is False.\r\n\r\nIf ( A &amp;&amp; B ) will **not** result in short Circuit if A is True.\r\n\r\nIf ( A || B ) will result in short circuit if A is True.\r\n\r\nIf ( A || B ) will **not** result in short circuit if A is False.","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>Short circuit here means that the second condition won't be evaluated.</p>\n\n<p>If ( A &amp;&amp; B ) will result in short circuit if A is False.</p>\n\n<p>If ( A &amp;&amp; B ) will <strong>not</strong> result in short Circuit if A is True.</p>\n\n<p>If ( A || B ) will result in short circuit if A is True.</p>\n\n<p>If ( A || B ) will <strong>not</strong> result in short circuit if A is False.</p>\n"},{"tags":[],"owner":{"account_id":5700650,"reputation":11,"user_id":4505719,"display_name":"pbiddle1965"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692894926,"creation_date":1692894926,"answer_id":76971318,"question_id":1795808,"body_markdown":"As mentioned in the popular response, the short-circuiting feature of the evaluator will avoid evaluating the 2nd expression if the first expression is false when the operator is &amp;&amp;, or if the first expression is true when the operator is ||.\r\n\r\nBecause of this, aside from the null-check-first pattern mentioned, you can use this as a general optimization rule:\r\nIn a compound IF or OR statement, ALWAYS put the most trivial evaluation FIRST.  That way, the short-circuiting feature of the evaluator can avoid evaluating the more complex expression if the first expression is true (in the case of  ||), or false (in the case of &amp;&amp;).\r\n","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>As mentioned in the popular response, the short-circuiting feature of the evaluator will avoid evaluating the 2nd expression if the first expression is false when the operator is &amp;&amp;, or if the first expression is true when the operator is ||.</p>\n<p>Because of this, aside from the null-check-first pattern mentioned, you can use this as a general optimization rule:\nIn a compound IF or OR statement, ALWAYS put the most trivial evaluation FIRST.  That way, the short-circuiting feature of the evaluator can avoid evaluating the more complex expression if the first expression is true (in the case of  ||), or false (in the case of &amp;&amp;).</p>\n"}],"owner":{"account_id":60696,"reputation":2609,"user_id":181226,"accept_rate":58,"display_name":"Azimuth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2068845,"favorite_count":0,"down_vote_count":1,"up_vote_count":158,"accepted_answer_id":1795872,"answer_count":10,"score":157,"last_activity_date":1692894926,"creation_date":1259142612,"question_id":1795808,"body_markdown":"I have the following code:  \r\n\r\n    if(!partialHits.get(req_nr).containsKey(z) || partialHits.get(req_nr).get(z) &lt; tmpmap.get(z)){  \r\n        partialHits.get(z).put(z, tmpmap.get(z));  \r\n    }\r\n\r\nwhere `partialHits` is a HashMap. &lt;br&gt;**What will happen if the first statement is true?** **Will Java still check the second statement?** Because in order the first statement to be true, the HashMap should not contain the given key, so if the second statement is checked, I will get `NullPointerException`.  \r\nSo in simple words, if we have the following code  \r\n\r\n    if(a &amp;&amp; b)  \r\n    if(a || b)\r\nwould Java check `b` if `a` is false in the first case and if `a` is true in the second case?","title":"&amp;&amp; (AND) and || (OR) in IF statements","body":"<p>I have the following code:  </p>\n\n<pre><code>if(!partialHits.get(req_nr).containsKey(z) || partialHits.get(req_nr).get(z) &lt; tmpmap.get(z)){  \n    partialHits.get(z).put(z, tmpmap.get(z));  \n}\n</code></pre>\n\n<p>where <code>partialHits</code> is a HashMap. <br><strong>What will happen if the first statement is true?</strong> <strong>Will Java still check the second statement?</strong> Because in order the first statement to be true, the HashMap should not contain the given key, so if the second statement is checked, I will get <code>NullPointerException</code>.<br>\nSo in simple words, if we have the following code  </p>\n\n<pre><code>if(a &amp;&amp; b)  \nif(a || b)\n</code></pre>\n\n<p>would Java check <code>b</code> if <code>a</code> is false in the first case and if <code>a</code> is true in the second case?</p>\n"},{"tags":["java","string","list","properties","instance"],"comments":[{"owner":{"account_id":16513486,"reputation":136,"user_id":11931597,"display_name":"Bikki Mahato"},"score":2,"creation_date":1622215890,"post_id":67741697,"comment_id":119737240,"body_markdown":"Try referencing [link](https://stackoverflow.com/questions/52771802/java-how-to-create-map-using-the-class-attributes).","body":"Try referencing <a href=\"https://stackoverflow.com/questions/52771802/java-how-to-create-map-using-the-class-attributes\">link</a>."}],"answers":[{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692894909,"creation_date":1622216317,"answer_id":67741817,"question_id":67741697,"body_markdown":"You can use Java Reflexion\r\n```java\r\npublic static String getClassProperties(Class&lt;?&gt; clazz) {\r\n    return Arrays.stream(clazz.getDeclaredFields())\r\n        .map(field -&gt; &quot;\\&quot;&quot; + field.getName() + &quot;\\&quot;&quot;)\r\n        .collect(Collectors.joining(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;));\r\n}\r\n```\r\n\r\nUsage example:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    System.out.println(getClassProperties(Sample.class)); \r\n}\r\n```\r\n\r\n***Output:***\r\n\r\n&gt;{&quot;type&quot;, &quot;name&quot;, &quot;value&quot;}\r\n\r\n\r\n","title":"How to get object&#39;s fields as comma separated string or a list in java","body":"<p>You can use Java Reflexion</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getClassProperties(Class&lt;?&gt; clazz) {\n    return Arrays.stream(clazz.getDeclaredFields())\n        .map(field -&gt; &quot;\\&quot;&quot; + field.getName() + &quot;\\&quot;&quot;)\n        .collect(Collectors.joining(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;));\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getClassProperties(Sample.class)); \n}\n</code></pre>\n<p><em><strong>Output:</strong></em></p>\n<blockquote>\n<p>{&quot;type&quot;, &quot;name&quot;, &quot;value&quot;}</p>\n</blockquote>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67741817,"answer_count":1,"score":3,"last_activity_date":1692894909,"creation_date":1622215713,"question_id":67741697,"body_markdown":"I am trying to get the object&#39;s properties as a list. So for example: \r\n\r\n```\r\nclass Sample {\r\n\r\n  private String type;\r\n  private String name;\r\n  private int value;\r\n  \r\n  // getter-setter\r\n}\r\n```\r\n\r\nExpected output: \r\n`{&quot;type&quot;, &quot;name&quot;, &quot;value&quot;}`\r\n\r\nIs there a programmatical way to do this?","title":"How to get object&#39;s fields as comma separated string or a list in java","body":"<p>I am trying to get the object's properties as a list. So for example:</p>\n<pre><code>class Sample {\n\n  private String type;\n  private String name;\n  private int value;\n  \n  // getter-setter\n}\n</code></pre>\n<p>Expected output:\n<code>{&quot;type&quot;, &quot;name&quot;, &quot;value&quot;}</code></p>\n<p>Is there a programmatical way to do this?</p>\n"},{"tags":["java","design-patterns","mvvm","simple-mvvm"],"answers":[{"comments":[{"owner":{"account_id":1041756,"reputation":321,"user_id":1047648,"display_name":"yasedox"},"score":0,"creation_date":1322149086,"post_id":8257679,"comment_id":10164600,"body_markdown":"Thank you but my project have to be use mvvm not anything like &quot;higly related&quot;. my boss do not allow me to use a pattern other than mvvm even if it is much more useful. But still thanks for answering.","body":"Thank you but my project have to be use mvvm not anything like &quot;higly related&quot;. my boss do not allow me to use a pattern other than mvvm even if it is much more useful. But still thanks for answering."}],"tags":[],"owner":{"account_id":477826,"reputation":2748,"user_id":889535,"display_name":"nowaq"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1322152217,"creation_date":1322140558,"answer_id":8257679,"question_id":8256702,"body_markdown":"Take a look at [JavaFX framework][1]. It was already mentioned in a couple of other stackoverflow questions:\r\n\r\n - [How does JavaFX compare to WPF?][2]\r\n - [Pros and Cons of JavaFX and Silverlight][3]\r\n\r\nYou may also find [this blog post][4] very interesting. It mentions [Presentation Model][5] (a pattern highly related to MVVM) and walks you trough basic JavaFX concepts regarding FXML (smth. like XAML in WPF).\r\n\r\nEDIT: Simmilar question on stackoverlow\r\n### [Is there anything similar to WPF and MVVM in Java world?][6] ###\r\n\r\n  [1]: http://javafx.com/\r\n  [2]: https://stackoverflow.com/questions/2016470/how-does-javafx-compare-to-wpf\r\n  [3]: https://stackoverflow.com/questions/1866056/pros-and-cons-of-javafx-and-silverlight\r\n  [4]: http://fxexperience.com/2011/10/fxml-why-it-rocks-and-the-next-phase/\r\n  [5]: http://martinfowler.com/eaaDev/PresentationModel.html\r\n  [6]: https://stackoverflow.com/questions/2984828/is-there-anything-similar-to-wpf-and-mvvm-in-java-world","title":"MVVM pattern in java","body":"<p>Take a look at <a href=\"http://javafx.com/\" rel=\"nofollow noreferrer\">JavaFX framework</a>. It was already mentioned in a couple of other stackoverflow questions:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2016470/how-does-javafx-compare-to-wpf\">How does JavaFX compare to WPF?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/1866056/pros-and-cons-of-javafx-and-silverlight\">Pros and Cons of JavaFX and Silverlight</a></li>\n</ul>\n\n<p>You may also find <a href=\"http://fxexperience.com/2011/10/fxml-why-it-rocks-and-the-next-phase/\" rel=\"nofollow noreferrer\">this blog post</a> very interesting. It mentions <a href=\"http://martinfowler.com/eaaDev/PresentationModel.html\" rel=\"nofollow noreferrer\">Presentation Model</a> (a pattern highly related to MVVM) and walks you trough basic JavaFX concepts regarding FXML (smth. like XAML in WPF).</p>\n\n<p>EDIT: Simmilar question on stackoverlow</p>\n\n<h3><a href=\"https://stackoverflow.com/questions/2984828/is-there-anything-similar-to-wpf-and-mvvm-in-java-world\">Is there anything similar to WPF and MVVM in Java world?</a></h3>\n"},{"comments":[{"owner":{"account_id":2866071,"reputation":6012,"user_id":2460378,"accept_rate":81,"display_name":"Thomas S."},"score":0,"creation_date":1691588948,"post_id":12567423,"comment_id":135512102,"body_markdown":"The link is broken.","body":"The link is broken."},{"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"score":0,"creation_date":1692894360,"post_id":12567423,"comment_id":135689351,"body_markdown":"Thanks @ThomasS. I dug up a copy and provided a link to the source over at GitHub. Please let me know if the new link works. Thx","body":"Thanks @ThomasS. I dug up a copy and provided a link to the source over at GitHub. Please let me know if the new link works. Thx"}],"tags":[],"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1692894497,"creation_date":1348497990,"answer_id":12567423,"question_id":8256702,"body_markdown":"\r\nIn 2012 I published an article on a Java framework doing MVVM (&quot;presentation model&quot;), MVP (&quot;passive view&quot;) and a hybrid MVVMP/MVC (&quot;supervising controller&quot;) on the IBM developer website. In 2023 the link was broke. Here is a copy shared out of my personal Dropbox folder: \r\n\r\n[Implementing event-driven GUI patterns using the ZK Java AJAX framework][1]\r\n\r\nIt has full source code which deployed on three different PaaS cloud services over at [github][2].\r\n\r\nThe source code has links to demos that worked in 2012 running on free tier cloud providers. Those were shut down some time in the past decade.\r\n\r\n\r\n  [1]: https://www.dropbox.com/scl/fi/mh4o16jw3k4ctvwewg6wc/zk-patterns.docx?rlkey=c776l7mqyyhpjhqdx2v4d7asi&amp;dl=0\r\n  [2]: https://github.com/simbo1905/ZkToDo2","title":"MVVM pattern in java","body":"<p>In 2012 I published an article on a Java framework doing MVVM (&quot;presentation model&quot;), MVP (&quot;passive view&quot;) and a hybrid MVVMP/MVC (&quot;supervising controller&quot;) on the IBM developer website. In 2023 the link was broke. Here is a copy shared out of my personal Dropbox folder:</p>\n<p><a href=\"https://www.dropbox.com/scl/fi/mh4o16jw3k4ctvwewg6wc/zk-patterns.docx?rlkey=c776l7mqyyhpjhqdx2v4d7asi&amp;dl=0\" rel=\"nofollow noreferrer\">Implementing event-driven GUI patterns using the ZK Java AJAX framework</a></p>\n<p>It has full source code which deployed on three different PaaS cloud services over at <a href=\"https://github.com/simbo1905/ZkToDo2\" rel=\"nofollow noreferrer\">github</a>.</p>\n<p>The source code has links to demos that worked in 2012 running on free tier cloud providers. Those were shut down some time in the past decade.</p>\n"}],"owner":{"account_id":1041756,"reputation":321,"user_id":1047648,"display_name":"yasedox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29342,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1692894497,"creation_date":1322136053,"question_id":8256702,"body_markdown":"I want to make a `mvvm` project on java. But I can not find a sample project. There are a few Android samples but I don&#39;t want to make an  Android-project. So how can I make a project with the `mvvm` pattern? \r\n\r\nI am trying to create a desktop application on which there are combo boxes and a data-grid. The app must connect to a database (i.e. MySQL) and the data-grid must be filled with data. Any changes on the combo boxes must change the grid&#39;s content. Maybe I want to make `CRUD`-operation on later steps.  \r\n\r\nSo any suggestions... ","title":"MVVM pattern in java","body":"<p>I want to make a <code>mvvm</code> project on java. But I can not find a sample project. There are a few Android samples but I don't want to make an  Android-project. So how can I make a project with the <code>mvvm</code> pattern? </p>\n\n<p>I am trying to create a desktop application on which there are combo boxes and a data-grid. The app must connect to a database (i.e. MySQL) and the data-grid must be filled with data. Any changes on the combo boxes must change the grid's content. Maybe I want to make <code>CRUD</code>-operation on later steps.  </p>\n\n<p>So any suggestions... </p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692885540,"post_id":76969661,"comment_id":135687166,"body_markdown":"This has nothing to do with the superclass. Your CSV library is simply writing the `toString` of your `User` class directly to the CSV file, because you haven&#39;t told it to do anything else. If you show us the code that does the writing, we might be able to help you with writing the fields of both classes to the CSV separately.","body":"This has nothing to do with the superclass. Your CSV library is simply writing the <code>toString</code> of your <code>User</code> class directly to the CSV file, because you haven&#39;t told it to do anything else. If you show us the code that does the writing, we might be able to help you with writing the fields of both classes to the CSV separately."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692893415,"post_id":76969661,"comment_id":135689088,"body_markdown":"If you just want the id included in User&#39;s toString representation, you need to add the annotation `@ToString(callSuper = true)` to tell Lombok to include fields from the superclass in the `toString()` method it generates.","body":"If you just want the id included in User&#39;s toString representation, you need to add the annotation <code>@ToString(callSuper = true)</code> to tell Lombok to include fields from the superclass in the <code>toString()</code> method it generates."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692893481,"post_id":76969661,"comment_id":135689106,"body_markdown":"Also, you ***definitely*** do not want to be using `Float` to represent monetary values.","body":"Also, you <b><i>definitely</i></b> do not want to be using <code>Float</code> to represent monetary values."}],"answers":[{"tags":[],"owner":{"account_id":15117015,"reputation":16,"user_id":12750065,"display_name":"Uladzislau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692894371,"creation_date":1692894300,"answer_id":76971241,"question_id":76969661,"body_markdown":"I don&#39;t know how to do it properly with opencsv.\r\n\r\nBut I would suggest you to use [DTO&#39;s](https://www.baeldung.com/java-dto-pattern!) (Data Transer Object) here instead of using Entity directly to write it into CSV. So you can choose which fields you need from the entity and map them to your DTOs and then write them to CSV.\r\n\r\nHere is an example of how this can be done:\r\n\r\nCreate OrderDto:\r\n```java\r\n@Data\r\npublic class OrderDto {\r\n    @CsvBindByPosition(position = 0)\r\n    private Integer id;\r\n\r\n    @CsvBindByPosition(position = 1)\r\n    private Float price;\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private LocalDate date;\r\n\r\n    @CsvBindByPosition(position = 3)\r\n    private UserDto user;\r\n\r\n    @CsvBindByPosition(position = 4)\r\n    private String creditCardNumber;\r\n\r\n    @CsvBindByPosition(position = 5)\r\n    private String shippingType;\r\n\r\n    @CsvBindByPosition(position = 6)\r\n    private Float shippingCost;\r\n\r\n    @CsvBindByPosition(position = 7)\r\n    private String code;\r\n}\r\n```\r\nCreate UserDto:\r\n```java\r\n@Data\r\npublic class UserDto {\r\n    @CsvBindByPosition(position = 0)\r\n    private Integer id;\r\n\r\n    @CsvBindByPosition(position = 1)\r\n    private String mail;\r\n\r\n    @CsvBindByPosition(position = 2)\r\n    private String password;\r\n\r\n    @CsvBindByPosition(position = 3)\r\n    private String name;\r\n\r\n    @CsvBindByPosition(position = 4)\r\n    private String surname;\r\n\r\n    @CsvBindByPosition(position = 5)\r\n    private LocalDate date;\r\n\r\n    @CsvBindByPosition(position = 6)\r\n    private Float currentBalance;\r\n\r\n    @CsvBindByPosition(position = 7)\r\n    private String mobile;\r\n\r\n    @CsvBindByPosition(position = 8)\r\n    private String street;\r\n\r\n    @CsvBindByPosition(position = 9)\r\n    private String accommodationNumber;\r\n\r\n    @CsvBindByPosition(position = 10)\r\n    private String flatNumber;\r\n}\r\n```\r\nCreate OrderDtoMapper:\r\n```java\r\nimport org.modelmapper.ModelMapper;\r\n\r\npublic class OrderDtoMapper {\r\n   private final ModelMapper modelMapper;\r\n\r\n    public OrderDtoMapper() {\r\n        this.modelMapper = new ModelMapper();\r\n        // Specifying how to map an id field from a BaseEntity to DTO&#39;s\r\n        this.modelMapper.typeMap(Order.class, OrderDto.class).addMapping(BaseEntity::getId, OrderDto::setId);\r\n        this.modelMapper.typeMap(User.class, UserDto.class).addMapping(BaseEntity::getId, UserDto::setId);\r\n    }\r\n   public OrderDto mapOrder(Order order) {\r\n       return modelMapper.map(order, OrderDto.class);\r\n   }\r\n}\r\n```\r\nIn order to use ModdelMapper you will need to add dependency to yout project.\r\nHere is link to mvnrepository &lt;https://mvnrepository.com/artifact/org.modelmapper/modelmapper/3.1.1&gt;\r\n\r\nAnd also an example of using modelMapper to map User.orders to OrderDtos:\r\n```java\r\n        List&lt;OrderDto&gt; orderDtos = user.getOrders().stream().map(order -&gt; mapper.mapOrder(order)).collect(Collectors.toList());\r\n\r\n```\r\n\r\nSo your file writing method would look like this:\r\n```java\r\n public ModelAndView exportUserOrders(List&lt;OrderDto&gt; orderDtos) throws CSVExportException {\r\n        try (Writer writer  = new FileWriter(FileSystemView.getFileSystemView().getHomeDirectory().getAbsolutePath() + &quot;/orders.csv&quot;)) {\r\n            StatefulBeanToCsv&lt;OrderDto&gt; sbc = new StatefulBeanToCsvBuilder&lt;OrderDto&gt;(writer)\r\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\r\n                    .build();\r\n            sbc.write(orderDtos);\r\n        } catch (IOException | CsvRequiredFieldEmptyException | CsvDataTypeMismatchException e) {\r\n            throw new CSVExportException(EshopConstants.errorOrdersExportMessage, PagesPathEnum.ACCOUNT_PAGE.getPath());\r\n        }\r\n        ModelMap model = new ModelMap();\r\n        model.addAttribute(&quot;successfulMessage&quot;, EshopConstants.successfulExportMessage);\r\n        return new ModelAndView(PagesPathEnum.ACCOUNT_PAGE.getPath(), model);\r\n    }\r\n```\r\nThis is what I got in result:\r\n```csv\r\n1,800.0,2023-08-07,&quot;UserDto(id=1, mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,11111 **** **** 1111,Delivery by courier,10.0,code\r\n```\r\nI hope this helped you and I didn&#39;t miss anything.","title":"How to write java objet with superclass to csv file?","body":"<p>I don't know how to do it properly with opencsv.</p>\n<p>But I would suggest you to use <a href=\"https://www.baeldung.com/java-dto-pattern!\" rel=\"nofollow noreferrer\">DTO's</a> (Data Transer Object) here instead of using Entity directly to write it into CSV. So you can choose which fields you need from the entity and map them to your DTOs and then write them to CSV.</p>\n<p>Here is an example of how this can be done:</p>\n<p>Create OrderDto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class OrderDto {\n    @CsvBindByPosition(position = 0)\n    private Integer id;\n\n    @CsvBindByPosition(position = 1)\n    private Float price;\n\n    @CsvBindByPosition(position = 2)\n    private LocalDate date;\n\n    @CsvBindByPosition(position = 3)\n    private UserDto user;\n\n    @CsvBindByPosition(position = 4)\n    private String creditCardNumber;\n\n    @CsvBindByPosition(position = 5)\n    private String shippingType;\n\n    @CsvBindByPosition(position = 6)\n    private Float shippingCost;\n\n    @CsvBindByPosition(position = 7)\n    private String code;\n}\n</code></pre>\n<p>Create UserDto:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class UserDto {\n    @CsvBindByPosition(position = 0)\n    private Integer id;\n\n    @CsvBindByPosition(position = 1)\n    private String mail;\n\n    @CsvBindByPosition(position = 2)\n    private String password;\n\n    @CsvBindByPosition(position = 3)\n    private String name;\n\n    @CsvBindByPosition(position = 4)\n    private String surname;\n\n    @CsvBindByPosition(position = 5)\n    private LocalDate date;\n\n    @CsvBindByPosition(position = 6)\n    private Float currentBalance;\n\n    @CsvBindByPosition(position = 7)\n    private String mobile;\n\n    @CsvBindByPosition(position = 8)\n    private String street;\n\n    @CsvBindByPosition(position = 9)\n    private String accommodationNumber;\n\n    @CsvBindByPosition(position = 10)\n    private String flatNumber;\n}\n</code></pre>\n<p>Create OrderDtoMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.modelmapper.ModelMapper;\n\npublic class OrderDtoMapper {\n   private final ModelMapper modelMapper;\n\n    public OrderDtoMapper() {\n        this.modelMapper = new ModelMapper();\n        // Specifying how to map an id field from a BaseEntity to DTO's\n        this.modelMapper.typeMap(Order.class, OrderDto.class).addMapping(BaseEntity::getId, OrderDto::setId);\n        this.modelMapper.typeMap(User.class, UserDto.class).addMapping(BaseEntity::getId, UserDto::setId);\n    }\n   public OrderDto mapOrder(Order order) {\n       return modelMapper.map(order, OrderDto.class);\n   }\n}\n</code></pre>\n<p>In order to use ModdelMapper you will need to add dependency to yout project.\nHere is link to mvnrepository <a href=\"https://mvnrepository.com/artifact/org.modelmapper/modelmapper/3.1.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.modelmapper/modelmapper/3.1.1</a></p>\n<p>And also an example of using modelMapper to map User.orders to OrderDtos:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;OrderDto&gt; orderDtos = user.getOrders().stream().map(order -&gt; mapper.mapOrder(order)).collect(Collectors.toList());\n\n</code></pre>\n<p>So your file writing method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public ModelAndView exportUserOrders(List&lt;OrderDto&gt; orderDtos) throws CSVExportException {\n        try (Writer writer  = new FileWriter(FileSystemView.getFileSystemView().getHomeDirectory().getAbsolutePath() + &quot;/orders.csv&quot;)) {\n            StatefulBeanToCsv&lt;OrderDto&gt; sbc = new StatefulBeanToCsvBuilder&lt;OrderDto&gt;(writer)\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\n                    .build();\n            sbc.write(orderDtos);\n        } catch (IOException | CsvRequiredFieldEmptyException | CsvDataTypeMismatchException e) {\n            throw new CSVExportException(EshopConstants.errorOrdersExportMessage, PagesPathEnum.ACCOUNT_PAGE.getPath());\n        }\n        ModelMap model = new ModelMap();\n        model.addAttribute(&quot;successfulMessage&quot;, EshopConstants.successfulExportMessage);\n        return new ModelAndView(PagesPathEnum.ACCOUNT_PAGE.getPath(), model);\n    }\n</code></pre>\n<p>This is what I got in result:</p>\n<pre><code>1,800.0,2023-08-07,&quot;UserDto(id=1, mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,11111 **** **** 1111,Delivery by courier,10.0,code\n</code></pre>\n<p>I hope this helped you and I didn't miss anything.</p>\n"}],"owner":{"account_id":25155275,"reputation":3,"user_id":21366172,"display_name":"IvanDx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692897710,"accepted_answer_id":76971241,"answer_count":1,"score":0,"last_activity_date":1692894371,"creation_date":1692882861,"question_id":76969661,"body_markdown":"I have class Order, witch extends drom superclass BaseEntity with field id. Order object also contains User filed, witch is also extends from BaseEntity. But, when i write Order object to file, it&#39;s id field from BaseEntity writes correctly, but id of User field not recorded. There are my classes and method to write them into file:\r\nOrder:\r\n\r\n```\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;orders&quot;)\r\npublic class Order extends BaseEntity {\r\n    @Column(name = &quot;price&quot;)\r\n    @CsvBindByPosition(position = 1)\r\n    private Float price;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    @CsvBindByName\r\n    @CsvBindByPosition(position = 2)\r\n    private LocalDate date;\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    @CsvBindByName\r\n    @CsvBindByPosition(position = 3)\r\n    private User user;\r\n\r\n    @Column(name = &quot;cc_number&quot;)\r\n    @CsvBindByPosition(position = 5)\r\n    private String creditCardNumber;\r\n\r\n    @Column(name = &quot;shipping_type&quot;)\r\n    @CsvBindByPosition(position = 6)\r\n    private String shippingType;\r\n\r\n    @Column(name = &quot;shipping_cost&quot;)\r\n    @CsvBindByPosition(position = 7)\r\n    private Float shippingCost;\r\n\r\n    @Column(name = &quot;code&quot;)\r\n    @CsvBindByPosition(position = 8)\r\n    private String code;\r\n\r\n    @Column(name = &quot;address&quot;)\r\n    @CsvBindByPosition(position = 9)\r\n    private String address;\r\n\r\n    @Column(name = &quot;customer_notes&quot;)\r\n    @CsvBindByPosition(position = 10)\r\n    private String customerNotes;\r\n}\r\n```\r\nUser:\r\n\r\n```\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@SuperBuilder\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User extends BaseEntity{\r\n\r\n    @NotNull(message = &quot;Field is null validation error&quot;)\r\n    @Email(message = &quot;Field does not satisfy regexp&quot;)\r\n    @Column(name = &quot;mail&quot;, unique = true)\r\n    @CsvBindByPosition(position = 1)\r\n    private String mail;\r\n\r\n    @NotNull(message = &quot;Field is null validation error&quot;)\r\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;, message = &quot;Field does not satisfy regexp&quot;)\r\n    @Column(name = &quot;password&quot;)\r\n    @CsvBindByPosition(position = 2)\r\n    private String password;\r\n\r\n    @NotNull(message = &quot;Field is null validation error&quot;)\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;, message = &quot;Field does not satisfy regexp&quot;)\r\n    @Column(name = &quot;name&quot;)\r\n    @CsvBindByPosition(position = 3)\r\n    private String name;\r\n\r\n    @NotNull(message = &quot;Field is null validation error&quot;)\r\n    @Pattern(regexp = &quot;[a-zA-Z ,.&#39;-]+&quot;, message = &quot;Field does not satisfy regexp&quot;)\r\n    @Column(name = &quot;surname&quot;)\r\n    @CsvBindByPosition(position = 4)\r\n    private String surname;\r\n\r\n    @NotNull(message = &quot;Field is null validation error&quot;)\r\n    @Column(name = &quot;date&quot;)\r\n    @CsvBindByPosition(position = 5)\r\n    private LocalDate date;\r\n\r\n    @Column(name = &quot;balance&quot;)\r\n    @CsvBindByPosition(position = 6)\r\n    private Float currentBalance;\r\n\r\n    @Column(name = &quot;mobile&quot;)\r\n    @CsvBindByPosition(position = 7)\r\n    private String mobile;\r\n\r\n    @Column(name = &quot;street&quot;)\r\n    @CsvBindByPosition(position = 8)\r\n    private String street;\r\n\r\n    @Column(name = &quot;accommodation_number&quot;)\r\n    @CsvBindByPosition(position = 9)\r\n    private String accommodationNumber;\r\n\r\n    @Column(name = &quot;flat_number&quot;)\r\n    @CsvBindByPosition(position = 10)\r\n    private String flatNumber;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    private List&lt;Order&gt; orders;\r\n}\r\n```\r\nBaseEntity:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SuperBuilder\r\n@MappedSuperclass\r\npublic class BaseEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @CsvBindByPosition(position = 0)\r\n    protected Integer id;\r\n}\r\n```\r\nMethod to write file:\r\n\r\n```\r\n    public ModelAndView exportUserOrders(User user) throws CSVExportException {\r\n        try (Writer writer  = new FileWriter(FileSystemView.getFileSystemView().getHomeDirectory().getAbsolutePath() + &quot;/orders.csv&quot;)) {\r\n            StatefulBeanToCsv&lt;Order&gt; sbc = new StatefulBeanToCsvBuilder&lt;Order&gt;(writer)\r\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\r\n                    .build();\r\n            sbc.write(user.getOrders());\r\n        } catch (IOException | CsvRequiredFieldEmptyException | CsvDataTypeMismatchException e) {\r\n            throw new CSVExportException(EshopConstants.errorOrdersExportMessage, PagesPathEnum.ACCOUNT_PAGE.getPath());\r\n        }\r\n        ModelMap model = new ModelMap();\r\n        model.addAttribute(&quot;successfulMessage&quot;, EshopConstants.successfulExportMessage);\r\n        return new ModelAndView(PagesPathEnum.ACCOUNT_PAGE.getPath(), model);\r\n    }\r\n}\r\n```\r\n\r\nAs a result i get something like this:\r\n`&quot;1&quot;,&quot;800.0&quot;,&quot;2023-08-07&quot;,&quot;User(mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,&quot;11111 **** **** 1111&quot;,&quot;Delivery by courier&quot;,&quot;10.0&quot;,&quot;code&quot;,&quot;Rokossovskogo&quot;,&quot;Notes&quot;\r\n`\r\n\r\n\r\nAnd i expect `&quot;1&quot;,&quot;800.0&quot;,&quot;2023-08-07&quot;,&quot;User(id = 1, mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,&quot;11111 **** **** 1111&quot;,&quot;Delivery by courier&quot;,&quot;10.0&quot;,&quot;code&quot;,&quot;Rokossovskogo&quot;,&quot;Notes&quot;\r\n`\r\n","title":"How to write java objet with superclass to csv file?","body":"<p>I have class Order, witch extends drom superclass BaseEntity with field id. Order object also contains User filed, witch is also extends from BaseEntity. But, when i write Order object to file, it's id field from BaseEntity writes correctly, but id of User field not recorded. There are my classes and method to write them into file:\nOrder:</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@SuperBuilder\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;orders&quot;)\npublic class Order extends BaseEntity {\n    @Column(name = &quot;price&quot;)\n    @CsvBindByPosition(position = 1)\n    private Float price;\n\n    @Column(name = &quot;date&quot;)\n    @CsvBindByName\n    @CsvBindByPosition(position = 2)\n    private LocalDate date;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    @CsvBindByName\n    @CsvBindByPosition(position = 3)\n    private User user;\n\n    @Column(name = &quot;cc_number&quot;)\n    @CsvBindByPosition(position = 5)\n    private String creditCardNumber;\n\n    @Column(name = &quot;shipping_type&quot;)\n    @CsvBindByPosition(position = 6)\n    private String shippingType;\n\n    @Column(name = &quot;shipping_cost&quot;)\n    @CsvBindByPosition(position = 7)\n    private Float shippingCost;\n\n    @Column(name = &quot;code&quot;)\n    @CsvBindByPosition(position = 8)\n    private String code;\n\n    @Column(name = &quot;address&quot;)\n    @CsvBindByPosition(position = 9)\n    private String address;\n\n    @Column(name = &quot;customer_notes&quot;)\n    @CsvBindByPosition(position = 10)\n    private String customerNotes;\n}\n</code></pre>\n<p>User:</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = true)\n@SuperBuilder\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User extends BaseEntity{\n\n    @NotNull(message = &quot;Field is null validation error&quot;)\n    @Email(message = &quot;Field does not satisfy regexp&quot;)\n    @Column(name = &quot;mail&quot;, unique = true)\n    @CsvBindByPosition(position = 1)\n    private String mail;\n\n    @NotNull(message = &quot;Field is null validation error&quot;)\n    @Pattern(regexp = &quot;^(?=.*[0-9])(?=.*[!@#$%^&amp;*])[a-zA-Z0-9!@#$%^&amp;*]{6,16}$&quot;, message = &quot;Field does not satisfy regexp&quot;)\n    @Column(name = &quot;password&quot;)\n    @CsvBindByPosition(position = 2)\n    private String password;\n\n    @NotNull(message = &quot;Field is null validation error&quot;)\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;, message = &quot;Field does not satisfy regexp&quot;)\n    @Column(name = &quot;name&quot;)\n    @CsvBindByPosition(position = 3)\n    private String name;\n\n    @NotNull(message = &quot;Field is null validation error&quot;)\n    @Pattern(regexp = &quot;[a-zA-Z ,.'-]+&quot;, message = &quot;Field does not satisfy regexp&quot;)\n    @Column(name = &quot;surname&quot;)\n    @CsvBindByPosition(position = 4)\n    private String surname;\n\n    @NotNull(message = &quot;Field is null validation error&quot;)\n    @Column(name = &quot;date&quot;)\n    @CsvBindByPosition(position = 5)\n    private LocalDate date;\n\n    @Column(name = &quot;balance&quot;)\n    @CsvBindByPosition(position = 6)\n    private Float currentBalance;\n\n    @Column(name = &quot;mobile&quot;)\n    @CsvBindByPosition(position = 7)\n    private String mobile;\n\n    @Column(name = &quot;street&quot;)\n    @CsvBindByPosition(position = 8)\n    private String street;\n\n    @Column(name = &quot;accommodation_number&quot;)\n    @CsvBindByPosition(position = 9)\n    private String accommodationNumber;\n\n    @Column(name = &quot;flat_number&quot;)\n    @CsvBindByPosition(position = 10)\n    private String flatNumber;\n\n    @OneToMany(mappedBy = &quot;user&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private List&lt;Order&gt; orders;\n}\n</code></pre>\n<p>BaseEntity:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@SuperBuilder\n@MappedSuperclass\npublic class BaseEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @CsvBindByPosition(position = 0)\n    protected Integer id;\n}\n</code></pre>\n<p>Method to write file:</p>\n<pre><code>    public ModelAndView exportUserOrders(User user) throws CSVExportException {\n        try (Writer writer  = new FileWriter(FileSystemView.getFileSystemView().getHomeDirectory().getAbsolutePath() + &quot;/orders.csv&quot;)) {\n            StatefulBeanToCsv&lt;Order&gt; sbc = new StatefulBeanToCsvBuilder&lt;Order&gt;(writer)\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\n                    .build();\n            sbc.write(user.getOrders());\n        } catch (IOException | CsvRequiredFieldEmptyException | CsvDataTypeMismatchException e) {\n            throw new CSVExportException(EshopConstants.errorOrdersExportMessage, PagesPathEnum.ACCOUNT_PAGE.getPath());\n        }\n        ModelMap model = new ModelMap();\n        model.addAttribute(&quot;successfulMessage&quot;, EshopConstants.successfulExportMessage);\n        return new ModelAndView(PagesPathEnum.ACCOUNT_PAGE.getPath(), model);\n    }\n}\n</code></pre>\n<p>As a result i get something like this:\n<code>&quot;1&quot;,&quot;800.0&quot;,&quot;2023-08-07&quot;,&quot;User(mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,&quot;11111 **** **** 1111&quot;,&quot;Delivery by courier&quot;,&quot;10.0&quot;,&quot;code&quot;,&quot;Rokossovskogo&quot;,&quot;Notes&quot; </code></p>\n<p>And i expect <code>&quot;1&quot;,&quot;800.0&quot;,&quot;2023-08-07&quot;,&quot;User(id = 1, mail=user1@gmail.com, password=hello1@, name=Ivan, surname=Hello, date=2023-08-01, currentBalance=0.0, mobile=+777777777, street=Rokossovskogo, accommodationNumber=44, flatNumber=777)&quot;,&quot;11111 **** **** 1111&quot;,&quot;Delivery by courier&quot;,&quot;10.0&quot;,&quot;code&quot;,&quot;Rokossovskogo&quot;,&quot;Notes&quot; </code></p>\n"},{"tags":["java","android","scheduled-tasks","android-jobscheduler","jobservice"],"owner":{"account_id":968019,"reputation":5631,"user_id":991094,"accept_rate":91,"display_name":"Sreehari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1374,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692893447,"creation_date":1515145703,"question_id":48110961,"body_markdown":"I have created a JobScheduler to intimate user few features in my app based on date and time. \r\n\r\nBut found out that the Job&#39;s are not scheduled at exact time which I am expecting to. Neither the job is getting stopped after the interval. As per my study all the scheduling depends on `setOverrideDeadline` , `setMinimumLatency`\r\nand `durationToSet`\r\n\r\nFound out delay of 30-55 seconds for start and stop, which is not consistent in every trials. \r\n\r\nI have restructured my app features referring [this sample][1]\r\n\r\nBelow are the code samples through which I will be scheduling according to the expected date time. ***(Put out only essential steps for SO)***\r\n\r\n    String startDate = &quot;2018-01-05&quot;;\r\n    String endDate = &quot;2018-01-05&quot;;\r\n    String startTime = &quot;11:10&quot;\r\n    String endTime = &quot;11:30&quot;\r\n\r\nConverting date time in the following format like given below after combining the start date with start time. similarly end date with end time.\r\n\r\n    String dateTimeStart = startDate + &quot; &quot; + startTime;//For start date time\r\n    String dateTimeEnd = endDate + &quot; &quot; + endTime;//For end date time\r\n\r\nWill be using the below logic for calculating start and end time for job in long value.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\r\n    long timeInMilliseconds = 0;\r\n            try {\r\n                Date mDate = sdf.parse(dateTimeStart);\r\n                timeInMilliseconds = mDate.getTime();\r\n            } catch (ParseException e) {\r\n                Log.e(TAG, e.toString());\r\n            } catch (Exception e) {\r\n                Log.e(TAG, e.toString());\r\n            }\r\n\r\nNow based on this input , I will create a Unique ID using [AtomicInteger][2] for each job and schedule the job as shown below.\r\n\r\n    public void scheduleJob(int jobID, long startMillSec,long endMilliSec) {\r\n    \r\n                JobInfo.Builder builder = new JobInfo.Builder(jobID, mServiceComponent);\r\n    \r\n                PersistableBundle extras = new PersistableBundle();\r\n    \r\n                long currTimeMillSec= System.currentTimeMillis();\r\n    \r\n                long minLatency =0;\r\n                //if time already crossed start time, then start time is current time itself\r\n                if(currTimeMillSec&gt;=startMillSec){\r\n                    minLatency=0;\r\n                }else{\r\n                    minLatency=startMillSec-currTimeMillSec;\r\n                }\r\n                builder.setRequiredNetworkType(JobInfo.NETWORK_TYPE_NONE);\r\n                builder.setOverrideDeadline(startMillSec);\r\n                builder.setMinimumLatency(minLatency);\r\n                builder.setRequiresDeviceIdle(false);\r\n                builder.setRequiresCharging(false);\r\n                builder.setPersisted(true);\r\n    \r\n                long durationToSet=0;\r\n                //if time has passes, keep the delta as the duration, or else keep the full duration received from backend\r\n                if(currTimeMillSec&gt;=startMillSec){\r\n                    durationToSet= endMilliSec-currTimeMillSec;\r\n                }else{\r\n                    durationToSet=endMilliSec-startMillSec;\r\n                }\r\n                //Set duration for job stopping\r\n                extras.putLong(&quot;WORK_DURATION_KEY&quot;, durationToSet);\r\n                builder.setExtras(extras);\r\n    \r\n            JobScheduler tm = (JobScheduler) mContext.getSystemService(Context.JOB_SCHEDULER_SERVICE);\r\n            tm.schedule(builder.build());\r\n        }\r\n\r\nBelow is my JobService class \r\n\r\n    public class AppJobScheduler extends JobService \r\n    {\r\n        @Override\r\n        public boolean onStartJob(final JobParameters params) {\r\n            sendMessage(MSG_START, params.getJobId());\r\n    \r\n            long duration = params.getExtras().getLong(WORK_DURATION_KEY);\r\n            // Uses a handler to delay the execution of jobFinished().\r\n            Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    sendMessage(MSG_STOP, params.getJobId());\r\n                    jobFinished(params, false);\r\n                }\r\n            }, duration);\r\n            return true;\r\n        }\r\n    \t\r\n    \t@Override\r\n        public boolean onStopJob(JobParameters params) {\r\n            sendMessage(MSG_STOP, params.getJobId());\r\n            return false;\r\n        }\r\n    \r\n        private void sendMessage(int messageID, @Nullable Object params) {\r\n            \r\n            Message m = Message.obtain();\r\n            m.what = messageID;\r\n            m.obj = params;\r\n            try {\r\n                mActivityMessenger.send(m);\r\n            } catch (RemoteException e) {\r\n                Log.e(TAG, &quot; Error passing service object back to .&quot;);\r\n            }\r\n        }\r\n            \r\n    }\r\nOther references followed are [reference one][3] and [reference two][4]\r\n\r\n  [1]: https://github.com/googlesamples/android-JobScheduler\r\n  [2]: https://developer.android.com/reference/java/util/concurrent/atomic/AtomicInteger.html\r\n  [3]: https://josiassena.com/the-jobscheduler-on-android/\r\n  [4]: https://medium.com/google-developers/scheduling-jobs-like-a-pro-with-jobscheduler-286ef8510129","title":"Android JobScheduler delay in start or stop","body":"<p>I have created a JobScheduler to intimate user few features in my app based on date and time.</p>\n<p>But found out that the Job's are not scheduled at exact time which I am expecting to. Neither the job is getting stopped after the interval. As per my study all the scheduling depends on <code>setOverrideDeadline</code> , <code>setMinimumLatency</code>\nand <code>durationToSet</code></p>\n<p>Found out delay of 30-55 seconds for start and stop, which is not consistent in every trials.</p>\n<p>I have restructured my app features referring <a href=\"https://github.com/googlesamples/android-JobScheduler\" rel=\"nofollow noreferrer\">this sample</a></p>\n<p>Below are the code samples through which I will be scheduling according to the expected date time. <em><strong>(Put out only essential steps for SO)</strong></em></p>\n<pre><code>String startDate = &quot;2018-01-05&quot;;\nString endDate = &quot;2018-01-05&quot;;\nString startTime = &quot;11:10&quot;\nString endTime = &quot;11:30&quot;\n</code></pre>\n<p>Converting date time in the following format like given below after combining the start date with start time. similarly end date with end time.</p>\n<pre><code>String dateTimeStart = startDate + &quot; &quot; + startTime;//For start date time\nString dateTimeEnd = endDate + &quot; &quot; + endTime;//For end date time\n</code></pre>\n<p>Will be using the below logic for calculating start and end time for job in long value.</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;);\nlong timeInMilliseconds = 0;\n        try {\n            Date mDate = sdf.parse(dateTimeStart);\n            timeInMilliseconds = mDate.getTime();\n        } catch (ParseException e) {\n            Log.e(TAG, e.toString());\n        } catch (Exception e) {\n            Log.e(TAG, e.toString());\n        }\n</code></pre>\n<p>Now based on this input , I will create a Unique ID using <a href=\"https://developer.android.com/reference/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\">AtomicInteger</a> for each job and schedule the job as shown below.</p>\n<pre><code>public void scheduleJob(int jobID, long startMillSec,long endMilliSec) {\n\n            JobInfo.Builder builder = new JobInfo.Builder(jobID, mServiceComponent);\n\n            PersistableBundle extras = new PersistableBundle();\n\n            long currTimeMillSec= System.currentTimeMillis();\n\n            long minLatency =0;\n            //if time already crossed start time, then start time is current time itself\n            if(currTimeMillSec&gt;=startMillSec){\n                minLatency=0;\n            }else{\n                minLatency=startMillSec-currTimeMillSec;\n            }\n            builder.setRequiredNetworkType(JobInfo.NETWORK_TYPE_NONE);\n            builder.setOverrideDeadline(startMillSec);\n            builder.setMinimumLatency(minLatency);\n            builder.setRequiresDeviceIdle(false);\n            builder.setRequiresCharging(false);\n            builder.setPersisted(true);\n\n            long durationToSet=0;\n            //if time has passes, keep the delta as the duration, or else keep the full duration received from backend\n            if(currTimeMillSec&gt;=startMillSec){\n                durationToSet= endMilliSec-currTimeMillSec;\n            }else{\n                durationToSet=endMilliSec-startMillSec;\n            }\n            //Set duration for job stopping\n            extras.putLong(&quot;WORK_DURATION_KEY&quot;, durationToSet);\n            builder.setExtras(extras);\n\n        JobScheduler tm = (JobScheduler) mContext.getSystemService(Context.JOB_SCHEDULER_SERVICE);\n        tm.schedule(builder.build());\n    }\n</code></pre>\n<p>Below is my JobService class</p>\n<pre><code>public class AppJobScheduler extends JobService \n{\n    @Override\n    public boolean onStartJob(final JobParameters params) {\n        sendMessage(MSG_START, params.getJobId());\n\n        long duration = params.getExtras().getLong(WORK_DURATION_KEY);\n        // Uses a handler to delay the execution of jobFinished().\n        Handler handler = new Handler();\n        handler.postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                sendMessage(MSG_STOP, params.getJobId());\n                jobFinished(params, false);\n            }\n        }, duration);\n        return true;\n    }\n    \n    @Override\n    public boolean onStopJob(JobParameters params) {\n        sendMessage(MSG_STOP, params.getJobId());\n        return false;\n    }\n\n    private void sendMessage(int messageID, @Nullable Object params) {\n        \n        Message m = Message.obtain();\n        m.what = messageID;\n        m.obj = params;\n        try {\n            mActivityMessenger.send(m);\n        } catch (RemoteException e) {\n            Log.e(TAG, &quot; Error passing service object back to .&quot;);\n        }\n    }\n        \n}\n</code></pre>\n<p>Other references followed are <a href=\"https://josiassena.com/the-jobscheduler-on-android/\" rel=\"nofollow noreferrer\">reference one</a> and <a href=\"https://medium.com/google-developers/scheduling-jobs-like-a-pro-with-jobscheduler-286ef8510129\" rel=\"nofollow noreferrer\">reference two</a></p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":404199,"reputation":5595,"user_id":772385,"accept_rate":100,"display_name":"Durandal"},"score":2,"creation_date":1373300657,"post_id":17531362,"comment_id":25494908,"body_markdown":"In general Java Regex&#39;s perform pretty well and unless I was doing something very performance sensitive I usually just use&#39;m and move on. Also a tmp.replaceAll(&quot;\\\\W&quot;, &quot;&quot;) will get rid of punctuation and white space in a String.","body":"In general Java Regex&#39;s perform pretty well and unless I was doing something very performance sensitive I usually just use&#39;m and move on. Also a tmp.replaceAll(&quot;\\\\W&quot;, &quot;&quot;) will get rid of punctuation and white space in a String."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1373300748,"post_id":17531362,"comment_id":25494960,"body_markdown":"Clarification request: Please define what you mean by *punctuation*.  Is it _just_ those characters you list above?  What about em dashes?  What about the curly quotes? What about quote symbols from non-English languages?","body":"Clarification request: Please define what you mean by <i>punctuation</i>.  Is it <i>just</i> those characters you list above?  What about em dashes?  What about the curly quotes? What about quote symbols from non-English languages?"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1373301091,"post_id":17531362,"comment_id":25495733,"body_markdown":"Follow [this](http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html) next time you may able to find solution regarding regex by your own.","body":"Follow <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">this</a> next time you may able to find solution regarding regex by your own."},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1373301130,"post_id":17531362,"comment_id":25495734,"body_markdown":"additionally this may help you too http://www.vogella.com/articles/JavaRegularExpressions/article.html","body":"additionally this may help you too <a href=\"http://www.vogella.com/articles/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/JavaRegularExpressions/article.html</a>"},{"owner":{"account_id":2102673,"reputation":35121,"user_id":1869846,"accept_rate":56,"display_name":"Ruchira Gayan Ranaweera"},"score":0,"creation_date":1373301522,"post_id":17531362,"comment_id":25495736,"body_markdown":"@Pshemo There is no DIRECT answer there. But it will help to understand other than copying.. and next time he may find way to solve this kind of things. I never say that will be the ANSWER. I said this may help you","body":"@Pshemo There is no DIRECT answer there. But it will help to understand other than copying.. and next time he may find way to solve this kind of things. I never say that will be the ANSWER. I said this may help you"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1416506090,"post_id":17531362,"comment_id":42610868,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/5373431/removing-certain-characters-from-a-string","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/5373431/removing-certain-characters-from-a-string\" title=\"removing certain characters from a string\">stackoverflow.com/questions/5373431/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"score":0,"creation_date":1373300497,"post_id":17531411,"comment_id":25494811,"body_markdown":"I saw someone downvoted you. It&#39;s probably because this would serve better as a comment than as an answer","body":"I saw someone downvoted you. It&#39;s probably because this would serve better as a comment than as an answer"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1373300551,"post_id":17531411,"comment_id":25494848,"body_markdown":"@sunrize920 The vote-count is +0/-0. No downvotes have been cast.","body":"@sunrize920 The vote-count is +0/-0. No downvotes have been cast."},{"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"score":0,"creation_date":1373300583,"post_id":17531411,"comment_id":25494867,"body_markdown":"@hexafraction it got removed","body":"@hexafraction it got removed"},{"owner":{"account_id":2196009,"reputation":109,"user_id":1941665,"display_name":"dghalbr"},"score":0,"creation_date":1373300614,"post_id":17531411,"comment_id":25494885,"body_markdown":"I felt the same way, since I&#39;m new to this site I couldn&#39;t find the comment button for his question. So I just did it below in the answer box. Sorry about that.","body":"I felt the same way, since I&#39;m new to this site I couldn&#39;t find the comment button for his question. So I just did it below in the answer box. Sorry about that."},{"owner":{"account_id":1534856,"reputation":8614,"user_id":1431182,"accept_rate":84,"display_name":"mistahenry"},"score":7,"creation_date":1373300675,"post_id":17531411,"comment_id":25494918,"body_markdown":"I didn&#39;t eveen think about the fact that you don&#39;t have enough rep to comment. I just hate when people downvote but dont leave a comment as to why.","body":"I didn&#39;t eveen think about the fact that you don&#39;t have enough rep to comment. I just hate when people downvote but dont leave a comment as to why."},{"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"score":2,"creation_date":1373300799,"post_id":17531411,"comment_id":25494987,"body_markdown":"`StringBuilder` is good when you build a string from pieces. Splitting the string into pieces by regex and re-assembling it might be a good strategy. I believe `String.replaceAll` does something like this internally.","body":"<code>StringBuilder</code> is good when you build a string from pieces. Splitting the string into pieces by regex and re-assembling it might be a good strategy. I believe <code>String.replaceAll</code> does something like this internally."}],"tags":[],"owner":{"account_id":2196009,"reputation":109,"user_id":1941665,"display_name":"dghalbr"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373300361,"creation_date":1373300361,"answer_id":17531411,"question_id":17531362,"body_markdown":"Strings are immutable so its not good to try and use them very dynamically try using StringBuilder instead of String and use all of its wonderful methods! It will let you do anything you want. Plus yes if you have something your trying to do, figure out the regex for it and it will work a lot better for you.","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>Strings are immutable so its not good to try and use them very dynamically try using StringBuilder instead of String and use all of its wonderful methods! It will let you do anything you want. Plus yes if you have something your trying to do, figure out the regex for it and it will work a lot better for you.</p>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":5,"creation_date":1373300477,"post_id":17531427,"comment_id":25494803,"body_markdown":"this will also remove spaces... and probably many other characters that OP doesn&#39;t want to remove like `&quot;`","body":"this will also remove spaces... and probably many other characters that OP doesn&#39;t want to remove like <code>&quot;</code>"},{"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"score":0,"creation_date":1373300525,"post_id":17531427,"comment_id":25494827,"body_markdown":"`\\W` stands for Anything that isn&#39;t a letter, number or underscore !!!It would be better if you can make the regex more specific .","body":"<code>\\W</code> stands for Anything that isn&#39;t a letter, number or underscore !!!It would be better if you can make the regex more specific ."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":2,"creation_date":1373300625,"post_id":17531427,"comment_id":25494889,"body_markdown":"No, this is not good. `[\\W]` means `[^\\A-Za-z_0-9]` which means this solution will also remove letters like `&#233;`.  At least use _something_ that respects Unicode and is not so ASCII-centric!","body":"No, this is not good. <code>[\\W]</code> means <code>[^\\A-Za-z_0-9]</code> which means this solution will also remove letters like <code>&#233;</code>.  At least use <i>something</i> that respects Unicode and is not so ASCII-centric!"}],"tags":[],"owner":{"account_id":1157125,"reputation":27342,"user_id":1137432,"accept_rate":56,"display_name":"jh314"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1373300871,"creation_date":1373300415,"answer_id":17531427,"question_id":17531362,"body_markdown":"You can do this:\r\n\r\n    tmp.replaceAll(&quot;\\\\W&quot;, &quot;&quot;);\r\n\r\nto remove punctuation","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>You can do this:</p>\n\n<pre><code>tmp.replaceAll(\"\\\\W\", \"\");\n</code></pre>\n\n<p>to remove punctuation</p>\n"},{"comments":[{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1373301949,"post_id":17531463,"comment_id":25495583,"body_markdown":"@Pshemo, Jerry: Oh, I&#39;m left embarrassed. Thanks for pointing out though :)","body":"@Pshemo, Jerry: Oh, I&#39;m left embarrassed. Thanks for pointing out though :)"},{"owner":{"account_id":1793115,"reputation":43687,"user_id":1633117,"accept_rate":50,"display_name":"Martin Ender"},"score":1,"creation_date":1373302702,"post_id":17531463,"comment_id":25495953,"body_markdown":"@Pshemo&#39;s character class variant should actually be a lot faster than listing everything with alternatives. Plus, it&#39;s more easily readable (due to the smaller number of escapes).","body":"@Pshemo&#39;s character class variant should actually be a lot faster than listing everything with alternatives. Plus, it&#39;s more easily readable (due to the smaller number of escapes)."}],"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373303159,"creation_date":1373300506,"answer_id":17531463,"question_id":17531362,"body_markdown":"Use `String#replaceAll(String regex, String replacement)` as\r\n\r\n    tmp = tmp.replaceAll(&quot;[,.;!?(){}\\\\[\\\\]&lt;&gt;%]&quot;, &quot;&quot;);\r\n\r\n    System.out.println(\r\n       &quot;f,i.l;t!e?r(e)d {s}t[r]i&lt;n&gt;g%&quot;.replaceAll(\r\n                       &quot;[,.;!?(){}\\\\[\\\\]&lt;&gt;%]&quot;, &quot;&quot;)); // prints &quot;filtered string&quot;","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>Use <code>String#replaceAll(String regex, String replacement)</code> as</p>\n\n<pre><code>tmp = tmp.replaceAll(\"[,.;!?(){}\\\\[\\\\]&lt;&gt;%]\", \"\");\n\nSystem.out.println(\n   \"f,i.l;t!e?r(e)d {s}t[r]i&lt;n&gt;g%\".replaceAll(\n                   \"[,.;!?(){}\\\\[\\\\]&lt;&gt;%]\", \"\")); // prints \"filtered string\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":1,"creation_date":1373301018,"post_id":17531480,"comment_id":25495091,"body_markdown":"Did you try `\\p{P}` to capture non-ASCII punctuation?  `P` is the Unicode category for punctuation.","body":"Did you try <code>\\p{P}</code> to capture non-ASCII punctuation?  <code>P</code> is the Unicode category for punctuation."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1373301334,"post_id":17531480,"comment_id":25495254,"body_markdown":"Hmm, tried that but it left some of the original characters behind (such as `&gt;`) so will stick with this :)","body":"Hmm, tried that but it left some of the original characters behind (such as <code>&gt;</code>) so will stick with this :)"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1373301370,"post_id":17531480,"comment_id":25495266,"body_markdown":"Yeah, I never trusted the single-letter Unicode categories except for `L` :) The reason for that, though, is that `&lt;` is in category SYMBOL (S), _not_ PUNCTUATION (P).  That is why I asked the OP to define &quot;punctuation&quot;.","body":"Yeah, I never trusted the single-letter Unicode categories except for <code>L</code> :) The reason for that, though, is that <code>&lt;</code> is in category SYMBOL (S), <i>not</i> PUNCTUATION (P).  That is why I asked the OP to define &quot;punctuation&quot;."},{"owner":{"account_id":33346,"reputation":7391,"user_id":93300,"accept_rate":60,"display_name":"VPeric"},"score":2,"creation_date":1373301461,"post_id":17531480,"comment_id":25495321,"body_markdown":"Do you think&#39;\\\\p{Punct}&#39; would be implemented more efficiently than just specifying [.,!&lt;&gt;{}] (and the others), as a character class?","body":"Do you think&#39;\\\\p{Punct}&#39; would be implemented more efficiently than just specifying [.,!&lt;&gt;{}] (and the others), as a character class?"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1373301715,"post_id":17531480,"comment_id":25495447,"body_markdown":"@VPeric +1 good comment. Both the quote (U+0022) and the apostrophe (U+0027) are considered punctuation by both the pattern `\\p{Punct}` and `\\p{P}`.  The OP did not list those values.  That&#39;s why the question needs to be clarified.  It was unfortunate that the OP chose the word &quot;punctuation&quot; and didn&#39;t say whether that meant &quot;any punctutation&quot; or just certain characters.  It is a pretty hard question to answer definitively.","body":"@VPeric +1 good comment. Both the quote (U+0022) and the apostrophe (U+0027) are considered punctuation by both the pattern <code>\\p{Punct}</code> and <code>\\p{P}</code>.  The OP did not list those values.  That&#39;s why the question needs to be clarified.  It was unfortunate that the OP chose the word &quot;punctuation&quot; and didn&#39;t say whether that meant &quot;any punctutation&quot; or just certain characters.  It is a pretty hard question to answer definitively."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1373301924,"post_id":17531480,"comment_id":25495568,"body_markdown":"Would need to see microbenchmark figures to say for sure but chances are they would be comparable. To acheive the most performant result you would have to implement a non-regex solution","body":"Would need to see microbenchmark figures to say for sure but chances are they would be comparable. To acheive the most performant result you would have to implement a non-regex solution"},{"owner":{"account_id":33346,"reputation":7391,"user_id":93300,"accept_rate":60,"display_name":"VPeric"},"score":1,"creation_date":1373302074,"post_id":17531480,"comment_id":25495643,"body_markdown":"@RayToal Actually, I&#39;m the OP. I clarified the question, I hope you find it clearer now.","body":"@RayToal Actually, I&#39;m the OP. I clarified the question, I hope you find it clearer now."},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":1,"creation_date":1373341618,"post_id":17531480,"comment_id":25509328,"body_markdown":"@VPeric I see, thanks! The _clearest_ answer is `x.replaceAll(&quot;[][(){},.;!?&lt;&gt;%]&quot;, &quot;&quot;)` but that is slow if done multiple times. Speed it up by compiling a regex with the pattern `[][(){},.;!?&lt;&gt;%]` then do `p.matcher(x).replaceAll(&quot;&quot;)`.  If you are trying to squeeze every last machine cycle out of your code then you can create a 65536 element boolean array containing `true` for each codepoint to keep and `false` for the ones to throw out, then iterate your string, making a new one.  Being pedantic here, this could fail on surrogates and Unicode combining chars, but so what. :)","body":"@VPeric I see, thanks! The <i>clearest</i> answer is <code>x.replaceAll(&quot;[][(){},.;!?&lt;&gt;%]&quot;, &quot;&quot;)</code> but that is slow if done multiple times. Speed it up by compiling a regex with the pattern <code>[][(){},.;!?&lt;&gt;%]</code> then do <code>p.matcher(x).replaceAll(&quot;&quot;)</code>.  If you are trying to squeeze every last machine cycle out of your code then you can create a 65536 element boolean array containing <code>true</code> for each codepoint to keep and <code>false</code> for the ones to throw out, then iterate your string, making a new one.  Being pedantic here, this could fail on surrogates and Unicode combining chars, but so what. :)"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":8,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1425692275,"creation_date":1373300574,"answer_id":17531480,"question_id":17531362,"body_markdown":"Although `\\\\p{Punct}` will specify a wider range of characters than in the question, it does allow for a shorter replacement expression:\r\n\r\n    tmp = tmp.replaceAll(&quot;\\\\p{Punct}+&quot;, &quot;&quot;);","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>Although <code>\\\\p{Punct}</code> will specify a wider range of characters than in the question, it does allow for a shorter replacement expression:</p>\n\n<pre><code>tmp = tmp.replaceAll(\"\\\\p{Punct}+\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":0,"creation_date":1373301826,"post_id":17531775,"comment_id":25495508,"body_markdown":"+1 for going after &quot;most efficient&quot; and giving the best interpretation of what the OP _probably_ meant by the very vague term &quot;punctuation&quot;.  Nicely done.","body":"+1 for going after &quot;most efficient&quot; and giving the best interpretation of what the OP <i>probably</i> meant by the very vague term &quot;punctuation&quot;.  Nicely done."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":0,"creation_date":1428669792,"post_id":17531775,"comment_id":47273219,"body_markdown":"I think the return line should read: return new String(output, 0, i);","body":"I think the return line should read: return new String(output, 0, i);"},{"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"score":0,"creation_date":1428674049,"post_id":17531775,"comment_id":47276165,"body_markdown":"@Thomas Not strictly necessary. The char array will be initialized with `\\0` and `new String ()` will cut off at the first `\\0`.","body":"@Thomas Not strictly necessary. The char array will be initialized with <code>\\0</code> and <code>new String ()</code> will cut off at the first <code>\\0</code>."},{"owner":{"account_id":8794,"reputation":48688,"user_id":15985,"accept_rate":65,"display_name":"Thomas Bratt"},"score":1,"creation_date":1428675443,"post_id":17531775,"comment_id":47277190,"body_markdown":"@Tomalak True, although the NUL characters are still there and form part of the resulting String object.","body":"@Tomalak True, although the NUL characters are still there and form part of the resulting String object."}],"tags":[],"owner":{"account_id":10030,"reputation":333803,"user_id":18771,"accept_rate":87,"display_name":"Tomalak"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428676130,"creation_date":1373301573,"answer_id":17531775,"question_id":17531362,"body_markdown":"You could do something like this:\r\n\r\n    static String RemovePunct(String input) \r\n    {\r\n        char[] output = new char[input.length()];\r\n        int i = 0;\r\n    \r\n        for (char ch : input.toCharArray())\r\n        {\r\n            if (Character.isLetterOrDigit(ch) || Character.isWhitespace(ch)) \r\n            {\r\n                output[i++] = ch;\r\n            }        \r\n        }\r\n    \r\n        return new String(output, 0, i);\r\n    }\r\n\r\n    // ...\r\n\r\n    String s = RemovePunct(&quot;This is (a) test string.&quot;);\r\n\r\nThis will likely perform better than using regular expressions, if you find them to slow for your needs. \r\n\r\nHowever, it could get messy fast if you have a long, distinct list of special characters you&#39;d like to remove. In this case regular expressions are easier to handle.\r\n\r\nhttp://ideone.com/mS8Irl","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>You could do something like this:</p>\n\n<pre><code>static String RemovePunct(String input) \n{\n    char[] output = new char[input.length()];\n    int i = 0;\n\n    for (char ch : input.toCharArray())\n    {\n        if (Character.isLetterOrDigit(ch) || Character.isWhitespace(ch)) \n        {\n            output[i++] = ch;\n        }        \n    }\n\n    return new String(output, 0, i);\n}\n\n// ...\n\nString s = RemovePunct(\"This is (a) test string.\");\n</code></pre>\n\n<p>This will likely perform better than using regular expressions, if you find them to slow for your needs. </p>\n\n<p>However, it could get messy fast if you have a long, distinct list of special characters you'd like to remove. In this case regular expressions are easier to handle.</p>\n\n<p><a href=\"http://ideone.com/mS8Irl\" rel=\"nofollow\">http://ideone.com/mS8Irl</a></p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373305462,"creation_date":1373304382,"answer_id":17532561,"question_id":17531362,"body_markdown":"Right now your code will iterate over all characters of `tmp` and compare them with **all possible** characters that you want to remove, so it will use  \r\n`number of tmp characters` x `number or characters you want to remove` comparisons.\r\n\r\nTo optimize your code you could use short circuit OR `||` and do something like \r\n\r\n\tStringBuilder sb = new StringBuilder();\r\n\tfor (char c : tmp.toCharArray()) {\r\n\t\tif (!(c == &#39;,&#39; || c == &#39;.&#39; || c == &#39;;&#39; || c == &#39;!&#39; || c == &#39;?&#39;\r\n\t\t\t\t|| c == &#39;(&#39; || c == &#39;)&#39; || c == &#39;{&#39; || c == &#39;}&#39; || c == &#39;[&#39;\r\n\t\t\t\t|| c == &#39;]&#39; || c == &#39;&lt;&#39; || c == &#39;&gt;&#39; || c == &#39;%&#39;))\r\n\t\t\tsb.append(c);\r\n\t}\r\n\ttmp = sb.toString();\r\n\r\nor like this\r\n\r\n\tStringBuilder sb = new StringBuilder();\r\n\tchar[] badChars = &quot;,.;!?(){}[]&lt;&gt;%&quot;.toCharArray();\r\n\r\n\touter: \r\n\tfor (char strChar : tmp.toCharArray()) {\r\n\t\tfor (char badChar : badChars) {\r\n\t\t\tif (badChar == strChar)\r\n\t\t\t\tcontinue outer;// we skip `strChar` since it is bad character\r\n\t\t}\r\n\t\tsb.append(strChar);\r\n\t}\r\n\ttmp = sb.toString();\r\n\r\nThis way you will iterate over every `tmp` characters but number of comparisons for that character can decrease if it is not `%` (because it will be last comparison, if character would be `.` program would get his result in one comparison).\r\n\r\n---\r\nIf I am not mistaken this approach is used with [character class](http://www.regular-expressions.info/charclass.html) (`[...]`) so maybe try it this way\r\n\r\n    Pattern p = Pattern.compile(&quot;[,.;!?(){}\\\\[\\\\]&lt;&gt;%]&quot;); //store it somewhere so \r\n                                             //you wont need to compile it again\r\n    tmp = p.matcher(tmp).replaceAll(&quot;&quot;);","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>Right now your code will iterate over all characters of <code>tmp</code> and compare them with <strong>all possible</strong> characters that you want to remove, so it will use<br>\n<code>number of tmp characters</code> x <code>number or characters you want to remove</code> comparisons.</p>\n\n<p>To optimize your code you could use short circuit OR <code>||</code> and do something like </p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (char c : tmp.toCharArray()) {\n    if (!(c == ',' || c == '.' || c == ';' || c == '!' || c == '?'\n            || c == '(' || c == ')' || c == '{' || c == '}' || c == '['\n            || c == ']' || c == '&lt;' || c == '&gt;' || c == '%'))\n        sb.append(c);\n}\ntmp = sb.toString();\n</code></pre>\n\n<p>or like this</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nchar[] badChars = \",.;!?(){}[]&lt;&gt;%\".toCharArray();\n\nouter: \nfor (char strChar : tmp.toCharArray()) {\n    for (char badChar : badChars) {\n        if (badChar == strChar)\n            continue outer;// we skip `strChar` since it is bad character\n    }\n    sb.append(strChar);\n}\ntmp = sb.toString();\n</code></pre>\n\n<p>This way you will iterate over every <code>tmp</code> characters but number of comparisons for that character can decrease if it is not <code>%</code> (because it will be last comparison, if character would be <code>.</code> program would get his result in one comparison).</p>\n\n<hr>\n\n<p>If I am not mistaken this approach is used with <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">character class</a> (<code>[...]</code>) so maybe try it this way</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[,.;!?(){}\\\\[\\\\]&lt;&gt;%]\"); //store it somewhere so \n                                         //you wont need to compile it again\ntmp = p.matcher(tmp).replaceAll(\"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33346,"reputation":7391,"user_id":93300,"accept_rate":60,"display_name":"VPeric"},"score":6,"creation_date":1373364092,"post_id":17539631,"comment_id":25519216,"body_markdown":"This is not *quite* true: the regex given, &quot;[][(){},.;!?&lt;&gt;%]&quot;, is not valid, as it contains special characters. However, quoting with \\Q and \\E works nicely: &quot;&quot;[\\\\Q][(){},.;!?&lt;&gt;%\\\\E]&quot; (backslashes doubled because Java). I&#39;m going to accept this answer, as it is the one I ended up using, and all alternatives were clearly explained; not to mention only the exact characters mentioned are being removed by this.","body":"This is not <i>quite</i> true: the regex given, &quot;[][(){},.;!?&lt;&gt;%]&quot;, is not valid, as it contains special characters. However, quoting with \\Q and \\E works nicely: &quot;&quot;[\\\\Q][(){},.;!?&lt;&gt;%\\\\E]&quot; (backslashes doubled because Java). I&#39;m going to accept this answer, as it is the one I ended up using, and all alternatives were clearly explained; not to mention only the exact characters mentioned are being removed by this."},{"owner":{"account_id":200115,"reputation":894,"user_id":445796,"accept_rate":67,"display_name":"Mike"},"score":0,"creation_date":1462682870,"post_id":17539631,"comment_id":61735938,"body_markdown":"Negative lookaheads is a great addition to this which I found on this answer: http://stackoverflow.com/questions/9880941/how-to-replace-all-the-punctuation-except-double-quotes-using-regexp. This pattern: &quot;(?![._])\\\\p{Punct}&quot; removes all punctuation in the Punct class except ._ This is good if you want to remove all punct but preserve a few characters.","body":"Negative lookaheads is a great addition to this which I found on this answer: <a href=\"http://stackoverflow.com/questions/9880941/how-to-replace-all-the-punctuation-except-double-quotes-using-regexp\" title=\"how to replace all the punctuation except double quotes using regexp\">stackoverflow.com/questions/9880941/&hellip;</a>. This pattern: &quot;(?![._])\\\\p{Punct}&quot; removes all punctuation in the Punct class except ._ This is good if you want to remove all punct but preserve a few characters."}],"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1373342253,"creation_date":1373342253,"answer_id":17539631,"question_id":17531362,"body_markdown":"Here&#39;s a late answer, just for fun.\r\n\r\nIn cases like this, I would suggest aiming for readability over speed.  Of course you can be super-readable but too slow, as in this super-concise version:\r\n\r\n    private static String processWord(String x) {\r\n        return x.replaceAll(&quot;[][(){},.;!?&lt;&gt;%]&quot;, &quot;&quot;);\r\n    }\r\n\r\nThis is slow because everytime you call this method, the regex will be compiled.  So you can pre-compile the regex.\r\n\r\n    private static final Pattern UNDESIRABLES = Pattern.compile(&quot;[][(){},.;!?&lt;&gt;%]&quot;);\r\n\r\n    private static String processWord(String x) {\r\n        return UNDESIRABLES.matcher(x).replaceAll(&quot;&quot;);\r\n    }\r\n\r\nThis should be fast enough for most purposes, assuming the JVM&#39;s regex engine optimizes the character class lookup.  This is the solution I would use, personally.\r\n\r\nNow without profiling, I wouldn&#39;t know whether you could do better by making your own character (actually codepoint) lookup table:\r\n\r\n    private static final boolean[] CHARS_TO_KEEP = new boolean[];\r\n\r\nFill this once and then iterate, making your resulting string.  I&#39;ll leave the code to you. :)\r\n\r\nAgain, I wouldn&#39;t dive into this kind of optimization.  The code has become too hard to read.  Is performance that much of a concern?  Also remember that modern languages are JITted and after warming up they will perform better, so use a good profiler.\r\n\r\nOne thing that should be mentioned is that the example in the original question is highly non-performant because you are creating a whole bunch of temporary strings!  Unless a compiler optimizes all that away, that particular solution will perform the worst.\r\n\r\n","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>Here's a late answer, just for fun.</p>\n\n<p>In cases like this, I would suggest aiming for readability over speed.  Of course you can be super-readable but too slow, as in this super-concise version:</p>\n\n<pre><code>private static String processWord(String x) {\n    return x.replaceAll(\"[][(){},.;!?&lt;&gt;%]\", \"\");\n}\n</code></pre>\n\n<p>This is slow because everytime you call this method, the regex will be compiled.  So you can pre-compile the regex.</p>\n\n<pre><code>private static final Pattern UNDESIRABLES = Pattern.compile(\"[][(){},.;!?&lt;&gt;%]\");\n\nprivate static String processWord(String x) {\n    return UNDESIRABLES.matcher(x).replaceAll(\"\");\n}\n</code></pre>\n\n<p>This should be fast enough for most purposes, assuming the JVM's regex engine optimizes the character class lookup.  This is the solution I would use, personally.</p>\n\n<p>Now without profiling, I wouldn't know whether you could do better by making your own character (actually codepoint) lookup table:</p>\n\n<pre><code>private static final boolean[] CHARS_TO_KEEP = new boolean[];\n</code></pre>\n\n<p>Fill this once and then iterate, making your resulting string.  I'll leave the code to you. :)</p>\n\n<p>Again, I wouldn't dive into this kind of optimization.  The code has become too hard to read.  Is performance that much of a concern?  Also remember that modern languages are JITted and after warming up they will perform better, so use a good profiler.</p>\n\n<p>One thing that should be mentioned is that the example in the original question is highly non-performant because you are creating a whole bunch of temporary strings!  Unless a compiler optimizes all that away, that particular solution will perform the worst.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692763607,"post_id":76954489,"comment_id":135667115,"body_markdown":"Maybe you could add some explanation of the [regex] pattern in your code, for example: _replaces all characters that are not letters of the alphabet nor digits with an empty string thus effectively removing those characters_","body":"Maybe you could add some explanation of the [regex] pattern in your code, for example: <i>replaces all characters that are not letters of the alphabet nor digits with an empty string thus effectively removing those characters</i>"},{"owner":{"account_id":14939555,"reputation":106,"user_id":10786676,"display_name":"NDAYISABA Charles"},"score":0,"creation_date":1692893310,"post_id":76954489,"comment_id":135689069,"body_markdown":"I edited it accordingly thanks","body":"I edited it accordingly thanks"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692962937,"post_id":76954489,"comment_id":135699582,"body_markdown":"Seems to be a problem as your edit only appears in the revisions and not in your answer.","body":"Seems to be a problem as your edit only appears in the revisions and not in your answer."}],"tags":[],"owner":{"account_id":14939555,"reputation":106,"user_id":10786676,"display_name":"NDAYISABA Charles"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692893264,"creation_date":1692715763,"answer_id":76954489,"question_id":17531362,"body_markdown":"    inputString.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<pre><code>inputString.replaceAll(&quot;[^a-zA-Z0-9]&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":33346,"reputation":7391,"user_id":93300,"accept_rate":60,"display_name":"VPeric"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34262,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17539631,"answer_count":8,"score":6,"last_activity_date":1692893264,"creation_date":1373300239,"question_id":17531362,"body_markdown":"In Java, what is the most efficient way of removing given characters from a String? Currently, I have this code:\r\n\r\n\tprivate static String processWord(String x) {\r\n\t\tString tmp;\r\n\t\t\r\n\t\ttmp = x.toLowerCase();\r\n\t\ttmp = tmp.replace(&quot;,&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;.&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;;&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;!&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;?&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;(&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;)&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;{&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;}&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;[&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;]&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;&lt;&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;&gt;&quot;, &quot;&quot;);\r\n\t\ttmp = tmp.replace(&quot;%&quot;, &quot;&quot;);\r\n\t\t\r\n\t\treturn tmp;\r\n\t}\r\n\r\nWould it be faster if I used some sort of StringBuilder, or a regex, or maybe something else? Yes, I know: profile it and see, but I hope someone can provide an answer of the top of their head, as this is a common task.","title":"Efficiently removing specific characters (some punctuation) from Strings in Java?","body":"<p>In Java, what is the most efficient way of removing given characters from a String? Currently, I have this code:</p>\n\n<pre><code>private static String processWord(String x) {\n    String tmp;\n\n    tmp = x.toLowerCase();\n    tmp = tmp.replace(\",\", \"\");\n    tmp = tmp.replace(\".\", \"\");\n    tmp = tmp.replace(\";\", \"\");\n    tmp = tmp.replace(\"!\", \"\");\n    tmp = tmp.replace(\"?\", \"\");\n    tmp = tmp.replace(\"(\", \"\");\n    tmp = tmp.replace(\")\", \"\");\n    tmp = tmp.replace(\"{\", \"\");\n    tmp = tmp.replace(\"}\", \"\");\n    tmp = tmp.replace(\"[\", \"\");\n    tmp = tmp.replace(\"]\", \"\");\n    tmp = tmp.replace(\"&lt;\", \"\");\n    tmp = tmp.replace(\"&gt;\", \"\");\n    tmp = tmp.replace(\"%\", \"\");\n\n    return tmp;\n}\n</code></pre>\n\n<p>Would it be faster if I used some sort of StringBuilder, or a regex, or maybe something else? Yes, I know: profile it and see, but I hope someone can provide an answer of the top of their head, as this is a common task.</p>\n"},{"tags":["java","maven","jax-ws","xjc"],"owner":{"account_id":8548546,"reputation":171,"user_id":6655974,"display_name":"wra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692893215,"creation_date":1692893215,"question_id":76971122,"body_markdown":"While updating our Spring Boot projects to Spring Boot 3 we also updated the JAX-WS Maven Plugin dependency to the one hosted by the [Eclipse Foundation][1]. We use the following plugin configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;xjcArgs&gt;\r\n                &lt;xjcArg&gt;-mark-generated&lt;/xjcArg&gt;\r\n            &lt;/xjcArgs&gt;\r\n             &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n             &lt;extension&gt;true&lt;/extension&gt;\r\n             &lt;!-- Needed with JAXP 1.5 --&gt;\r\n             &lt;vmArgs&gt;\r\n                 &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\r\n             &lt;/vmArgs&gt;\r\n         &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n \r\n\r\n - Is the xjc parameter `-Djavax.xml.accessExternalSchema=all` still relevant?\r\n - Will it be moved/renamed to `-Djakarta.xml.accessExternalSchema=all` at some point?\r\n\r\nIt seems that it was introduced in Java 8 to allow better control to external XSD. However, the [Documentation][2] by Oracle is outdated (&quot;The Java Tutorials have been written for JDK 8. Examples and practices described in this page don&#39;t take advantage of improvements introduced in later releases and might use technology no longer available.&quot;) and I have troubles to find anything newer.\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/metro-jax-ws/jaxws-maven-plugin/\r\n  [2]: https://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html","title":"Is the property &quot;accessExternalSchema&quot; still relevant in current versions of xjc and jaxws-maven-plugin?","body":"<p>While updating our Spring Boot projects to Spring Boot 3 we also updated the JAX-WS Maven Plugin dependency to the one hosted by the <a href=\"https://eclipse-ee4j.github.io/metro-jax-ws/jaxws-maven-plugin/\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>. We use the following plugin configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;xjcArgs&gt;\n            &lt;xjcArg&gt;-mark-generated&lt;/xjcArg&gt;\n        &lt;/xjcArgs&gt;\n         &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n         &lt;extension&gt;true&lt;/extension&gt;\n         &lt;!-- Needed with JAXP 1.5 --&gt;\n         &lt;vmArgs&gt;\n             &lt;vmArg&gt;-Djavax.xml.accessExternalSchema=all&lt;/vmArg&gt;\n         &lt;/vmArgs&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>Is the xjc parameter <code>-Djavax.xml.accessExternalSchema=all</code> still relevant?</li>\n<li>Will it be moved/renamed to <code>-Djakarta.xml.accessExternalSchema=all</code> at some point?</li>\n</ul>\n<p>It seems that it was introduced in Java 8 to allow better control to external XSD. However, the <a href=\"https://docs.oracle.com/javase/tutorial/jaxp/properties/properties.html\" rel=\"nofollow noreferrer\">Documentation</a> by Oracle is outdated (&quot;The Java Tutorials have been written for JDK 8. Examples and practices described in this page don't take advantage of improvements introduced in later releases and might use technology no longer available.&quot;) and I have troubles to find anything newer.</p>\n"},{"tags":["java","osgi"],"owner":{"account_id":29276261,"reputation":33,"user_id":22429926,"display_name":"biplob ghosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692892455,"creation_date":1692892455,"question_id":76971030,"body_markdown":"I have a usecase where I need to dynamically load classes from different bundles in an OSGI runtime. I cannot export the packages as the other bundles could have duplicate classes and packages. However, the relation between bundles will be available. So, I need to modify a bundles classloader dynamically by adding other bundle classloaders to the parent bundle classloader. \r\n\r\nFragment bundles have this capability, but since fragment bundles cannot have multiple hosts, that option is ruled out.","title":"is it possible to add a modify a bundle classloader to add another bundles classloader in osgi","body":"<p>I have a usecase where I need to dynamically load classes from different bundles in an OSGI runtime. I cannot export the packages as the other bundles could have duplicate classes and packages. However, the relation between bundles will be available. So, I need to modify a bundles classloader dynamically by adding other bundle classloaders to the parent bundle classloader.</p>\n<p>Fragment bundles have this capability, but since fragment bundles cannot have multiple hosts, that option is ruled out.</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":7148272,"reputation":237,"user_id":5463254,"accept_rate":50,"display_name":"Morgoth"},"score":0,"creation_date":1692957358,"post_id":76970990,"comment_id":135698459,"body_markdown":"Thanks for your answer. This doesn&#39;t really solve my issue as when the children which sets the skip to false through a property triggers the dependency check it does it for all of its submodules which is what I want to avoid, and it does it even if these POMs have &#39;skip&#39; set to &quot;true&quot;. This is because &quot;inherited&quot; is set to &quot;true&quot; in the main parent, which I need to do otherwise the profile is only applied to the main parent and that defeats the purpose of what I want to do. But I don&#39;t want that inheritance to go down the full route, only to the first level of children.","body":"Thanks for your answer. This doesn&#39;t really solve my issue as when the children which sets the skip to false through a property triggers the dependency check it does it for all of its submodules which is what I want to avoid, and it does it even if these POMs have &#39;skip&#39; set to &quot;true&quot;. This is because &quot;inherited&quot; is set to &quot;true&quot; in the main parent, which I need to do otherwise the profile is only applied to the main parent and that defeats the purpose of what I want to do. But I don&#39;t want that inheritance to go down the full route, only to the first level of children."},{"owner":{"account_id":7148272,"reputation":237,"user_id":5463254,"accept_rate":50,"display_name":"Morgoth"},"score":0,"creation_date":1692957466,"post_id":76970990,"comment_id":135698474,"body_markdown":"I also tried to put &quot;inherited&quot; value in a property, set to true in the main parent and &quot;false&quot; in the children that need to execute the profile without spreading it to their own children but it doesn&#39;t work, it seems the &quot;inherited&quot; tag of the plugin can&#39;t receive property values.","body":"I also tried to put &quot;inherited&quot; value in a property, set to true in the main parent and &quot;false&quot; in the children that need to execute the profile without spreading it to their own children but it doesn&#39;t work, it seems the &quot;inherited&quot; tag of the plugin can&#39;t receive property values."}],"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692892077,"creation_date":1692892077,"answer_id":76970990,"question_id":76970604,"body_markdown":"You can add a property which you can use in the plugin configuration of your profile and override the property in the childrens `pom.xml`:\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;pluginskip&gt;false&lt;/pluginskip&gt; \r\n    &lt;/properties&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n             &lt;skip&gt;${pluginskip}&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n```","title":"How to prevent inherited Maven plugin execution to spread to the subchildren POMs?","body":"<p>You can add a property which you can use in the plugin configuration of your profile and override the property in the childrens <code>pom.xml</code>:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;pluginskip&gt;false&lt;/pluginskip&gt; \n    &lt;/properties&gt;\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n        &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n        &lt;configuration&gt;\n             &lt;skip&gt;${pluginskip}&lt;/skip&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n"}],"owner":{"account_id":7148272,"reputation":237,"user_id":5463254,"accept_rate":50,"display_name":"Morgoth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692892077,"creation_date":1692889249,"question_id":76970604,"body_markdown":"I have a lots of modules composed with various submodules. I was using a dependency check plugin execution on every parent POMs, with `&lt;inherited&gt;false&lt;/inherited&gt;` because the behavior I wanted was to not execute the dependency check for every child POMs, only the parent one. The tree is something like this:\r\n\r\n    Module1 (POM) to dependency check\r\n      subModule1 (pom)\r\n      subModule2 (pom)\r\n    Module2 (POM) to dependency check\r\n      subModule1 (pom)\r\n\r\n\r\n      \r\n\r\n\r\n\r\n\r\nWhat I want to do is to move the plugin execution declared in every of these parent POMs to one profile declared in a higher parent POM they all inherit from. The tree changes to this:\r\n\r\n    &quot;Super&quot; POM with profile\r\n      Module1 (POM) to dependency check\r\n       subModule1 (pom)\r\n         subModule2 (pom)\r\n      Module2 (POM) to dependency check\r\n          subModule1 (pom)\r\n\r\n I made this:\r\n\r\n    \t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;dependencycheck&lt;/id&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt;\r\nMy issue is that if I state `&lt;inherited&gt;false&lt;/inherited&gt;` here the execution of the plugin isn&#39;t spread to the children. If I remove it, then the children execute the plugin when I explicitly use the profile  *but it is also executed on the subchildren POMs*, which was the behavior I was trying to avoid. \r\n\r\nIs there a way to only spread the execution to the first degree children or something like this ? I couldn&#39;t find anything so far. \r\n\r\nThanks in advance !","title":"How to prevent inherited Maven plugin execution to spread to the subchildren POMs?","body":"<p>I have a lots of modules composed with various submodules. I was using a dependency check plugin execution on every parent POMs, with <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> because the behavior I wanted was to not execute the dependency check for every child POMs, only the parent one. The tree is something like this:</p>\n<pre><code>Module1 (POM) to dependency check\n  subModule1 (pom)\n  subModule2 (pom)\nModule2 (POM) to dependency check\n  subModule1 (pom)\n\n\n  \n</code></pre>\n<p>What I want to do is to move the plugin execution declared in every of these parent POMs to one profile declared in a higher parent POM they all inherit from. The tree changes to this:</p>\n<pre><code>&quot;Super&quot; POM with profile\n  Module1 (POM) to dependency check\n   subModule1 (pom)\n     subModule2 (pom)\n  Module2 (POM) to dependency check\n      subModule1 (pom)\n</code></pre>\n<p>I made this:</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;dependencycheck&lt;/id&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                    &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>My issue is that if I state <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> here the execution of the plugin isn't spread to the children. If I remove it, then the children execute the plugin when I explicitly use the profile  <em>but it is also executed on the subchildren POMs</em>, which was the behavior I was trying to avoid.</p>\n<p>Is there a way to only spread the execution to the first degree children or something like this ? I couldn't find anything so far.</p>\n<p>Thanks in advance !</p>\n"},{"tags":["java","owl","protege","owl-api","manchester-syntax"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1692695543,"post_id":76951595,"comment_id":135655663,"body_markdown":"Instead of the `SimpleShortFormProvider` you have to use your custom label based provider. This is easy to implement. In Protege a more generic one for any annotation property being configured has been implemented: https://github.com/protegeproject/protege/blob/master/protege-editor-owl/src/main/java/org/protege/editor/owl/ui/renderer/AnnotationValueShortFormProvider.java - but just for `rdfs:label` you can simplify the code","body":"Instead of the <code>SimpleShortFormProvider</code> you have to use your custom label based provider. This is easy to implement. In Protege a more generic one for any annotation property being configured has been implemented: <a href=\"https://github.com/protegeproject/protege/blob/master/protege-editor-owl/src/main/java/org/protege/editor/owl/ui/renderer/AnnotationValueShortFormProvider.java\" rel=\"nofollow noreferrer\">github.com/protegeproject/protege/blob/master/&hellip;</a> - but just for <code>rdfs:label</code> you can simplify the code"},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692697416,"post_id":76951595,"comment_id":135656119,"body_markdown":"I know I have to replace SimpleShortFormProvider with something else, but my question is precisely how ? this is what I can&#39;t get to work. Please see the code commented above to see what I have tried.","body":"I know I have to replace SimpleShortFormProvider with something else, but my question is precisely how ? this is what I can&#39;t get to work. Please see the code commented above to see what I have tried."},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692698504,"post_id":76951595,"comment_id":135656369,"body_markdown":"Digging deeper I think the problem arises when labels contains space characters and are enclosed in quotes.","body":"Digging deeper I think the problem arises when labels contains space characters and are enclosed in quotes."},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692699376,"post_id":76951595,"comment_id":135656545,"body_markdown":"Please see the question update. The problem is that the manchester parser passes the name including quotes to the ShortFormProvider, e.g. `&#39;Meat Topping&#39;`, instead of `Meat Topping`. Is this a bug or am I doing something completely wrong ? i am using OWLAPI 5.5.0.","body":"Please see the question update. The problem is that the manchester parser passes the name including quotes to the ShortFormProvider, e.g. <code>&#39;Meat Topping&#39;</code>, instead of <code>Meat Topping</code>. Is this a bug or am I doing something completely wrong ? i am using OWLAPI 5.5.0."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1692717799,"post_id":76951595,"comment_id":135661024,"body_markdown":"To verify if this is a bug in the parser, try saving an example ontology from protege with a space in the label as Manchester syntax and parse that with OWLAPI as a regular ontology. If the parsing is successful, then the problem is somewhere in the code you&#39;re showing; if the parsing fails, then the limit is in the parser itself and it will need to be addressed as a bug. You can raise an issue on the OWLAPI github page for that.","body":"To verify if this is a bug in the parser, try saving an example ontology from protege with a space in the label as Manchester syntax and parse that with OWLAPI as a regular ontology. If the parsing is successful, then the problem is somewhere in the code you&#39;re showing; if the parsing fails, then the limit is in the parser itself and it will need to be addressed as a bug. You can raise an issue on the OWLAPI github page for that."},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692891682,"post_id":76951595,"comment_id":135688614,"body_markdown":"@Ignazio see EDIT2 in the question. I don&#39;t think this is very helpful as the saved file does not contain the labels in class expression, it contains the URI or the local name. I can&#39;t prove that the parser works or does not work on such an example. I want to parse class expressions as they are edited in Prot&#233;g&#233;, not as they are read from a Manchester syntax file.","body":"@Ignazio see EDIT2 in the question. I don&#39;t think this is very helpful as the saved file does not contain the labels in class expression, it contains the URI or the local name. I can&#39;t prove that the parser works or does not work on such an example. I want to parse class expressions as they are edited in Prot&#233;g&#233;, not as they are read from a Manchester syntax file."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1692911081,"post_id":76951595,"comment_id":135692645,"body_markdown":"I find it quite useful, instead. It means the parser doesn&#39;t expect the label inline in the expression, meaning that, to achieve the result you see in Protege, Protege must be creating short form providers able to cope with inline strings. I&#39;m not sure how that&#39;s done, but now we know Protege&#39;s source code must contain the answer.","body":"I find it quite useful, instead. It means the parser doesn&#39;t expect the label inline in the expression, meaning that, to achieve the result you see in Protege, Protege must be creating short form providers able to cope with inline strings. I&#39;m not sure how that&#39;s done, but now we know Protege&#39;s source code must contain the answer."},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692949612,"post_id":76951595,"comment_id":135696889,"body_markdown":"@Ignazio : &quot;Protege must be creating short form providers able to cope with inline strings&quot; : yes this is what I tried. Please take a look at the provided code, in the commented out section, you will see I tried with ShortFormFromRDFSLabelAxiomListProvider and AnnotationValueShortFormProvider. BUT, further debug has shown that the short form provider DOES work (e.g. it can resolve &quot;Meat topping&quot;), but the Manchester parser does not provide it with &quot;Meat topping&quot;, but with &quot;&#39;Meat topping&#39;&quot; (quotes included). Problem seems to be in the parser and not in the short form provider.","body":"@Ignazio : &quot;Protege must be creating short form providers able to cope with inline strings&quot; : yes this is what I tried. Please take a look at the provided code, in the commented out section, you will see I tried with ShortFormFromRDFSLabelAxiomListProvider and AnnotationValueShortFormProvider. BUT, further debug has shown that the short form provider DOES work (e.g. it can resolve &quot;Meat topping&quot;), but the Manchester parser does not provide it with &quot;Meat topping&quot;, but with &quot;&#39;Meat topping&#39;&quot; (quotes included). Problem seems to be in the parser and not in the short form provider."},{"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"score":0,"creation_date":1692955493,"post_id":76951595,"comment_id":135698084,"body_markdown":"Issue submitted at https://github.com/owlcs/owlapi/issues/1111","body":"Issue submitted at <a href=\"https://github.com/owlcs/owlapi/issues/1111\" rel=\"nofollow noreferrer\">github.com/owlcs/owlapi/issues/1111</a>"}],"owner":{"account_id":64226,"reputation":480,"user_id":189723,"accept_rate":75,"display_name":"ThomasFrancart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692891606,"creation_date":1692694167,"question_id":76951595,"body_markdown":"I am trying to parse a class expression in Manchester syntax written using rdfs:label, just like one would enter in Prot&#233;g&#233; with view set to _&quot;render by label&quot;_, so something like `Pizza and not(hasTopping some &#39;Meat topping&#39;)` instead of `Pizza and not(hasTopping some MeatTopping)`.\r\n\r\nI can&#39;t find a way to do that. I got some inspiration from the code at https://stackoverflow.com/questions/39033108/owlapi-parserexception-while-converting-string-to-class-expression-using-man, and I tried using different ShortFormProviders : `ShortFormFromRDFSLabelAxiomListProvider`, `AnnotationValueShortFormProvider`, `ManchesterOWLSyntaxPrefixNameShortFormProvider`, but the parser would always complain that it does recognize `&#39;Meat topping&#39;` as a class name.\r\n\r\nI also saw `ManchesterOWLSyntaxEditorParser` but it is deprecated.\r\n\r\nWhat is the correct way to parse an OWLClassExpression in Manchester syntax that uses rdfs:label as class names ?\r\n\r\nThanks\r\n\r\nHere are my attempts:\r\n\r\n```java\r\n\r\nManchesterOWLSyntaxParser manchesterParser = OWLManager.createManchesterParser();\r\n        \r\n        // ManchesterOWLSyntaxEditorParser manchesterParser = new ManchesterOWLSyntaxEditorParser(df, null);\r\n        String toParse = &quot;Pizza\\n&quot;\r\n        \t\t+ &quot;         and (not (hasTopping some &#39;Meat Topping&#39;))&quot;;\r\n        \r\n        \r\n        manchesterParser.setDefaultOntology(ontology); // my ontology\r\n        ShortFormEntityChecker checker = new ShortFormEntityChecker(getShortFormProvider(manager, ontology));\r\n        manchesterParser.setOWLEntityChecker(checker);\r\n        OWLClassExpression expr = manchesterParser.parseClassExpression(toParse);\r\n\r\n\r\n    private static BidirectionalShortFormProvider getShortFormProvider(OWLOntologyManager manager, OWLOntology ont) {\r\n        Set&lt;OWLOntology&gt; ontologies = manager.getOntologies(); // my OWLOntologyManager\r\n       \r\n        // all my attempts to use different short form providers :\r\n        \r\n        // ShortFormProvider sfp = new ManchesterOWLSyntaxPrefixNameShortFormProvider(ont);\r\n        ShortFormProvider sfp = new SimpleShortFormProvider();\r\n        \r\n        /*\r\n        ShortFormFromRDFSLabelAxiomListProvider sfp = new ShortFormFromRDFSLabelAxiomListProvider(\r\n        \t\tArrays.asList(new String[] {&quot;en&quot;}),\r\n        \t\tont.axioms().toList(),\r\n        \t\tnew SimpleShortFormProvider()\r\n        );\r\n        */\r\n        \r\n        /*\r\n        OWLAnnotationProperty rdfsLabelProp = manager.getOWLDataFactory().getOWLAnnotationProperty(&quot;http://www.w3.org/2000/01/rdf-schema#label&quot;);\r\n        AnnotationValueShortFormProvider sfp = new AnnotationValueShortFormProvider(\r\n        \t\tCollections.singletonList(rdfsLabelProp),\r\n        \t\tnew HashMap&lt;OWLAnnotationProperty, List&lt;String&gt;&gt;() {{\r\n        \t\t\tput(rdfsLabelProp, Arrays.asList(new String[] {&quot;en&quot;}));\r\n        \t\t}},\r\n        \t\tmanager\r\n        );\r\n        */\r\n        \r\n        \r\n        BidirectionalShortFormProvider shortFormProvider = new BidirectionalShortFormProviderAdapter(\r\n                ontologies, sfp);\r\n        return shortFormProvider;\r\n    }\r\n```\r\n\r\n**EDIT**\r\n\r\nThe problem comes from the fact that labels contains space characters. The ShortFormProvider correctly knows and understands the short form `Meat Topping`, but what the Manchester parser passes to it to resolve the short name is `&#39;Meat Topping&#39;`, with the quotes included. Is that a bug ?\r\n\r\n**EDIT 2**\r\n\r\nI can edit a class expression in Prot&#233;g&#233; using labels:\r\n\r\n[![class expression screenshot][1]][1]\r\n\r\nWhen I save it, I got this:\r\n\r\n```\r\nClass: &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#VegetarianPizza&gt;\r\n\r\n    EquivalentTo: \r\n        &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#Pizza&gt;\r\n         and (not (&lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#hasTopping&gt; some &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#MeatTopping&gt;))\r\n```\r\n\r\nObviously, the serialization does not use the labels, it just uses the URI or local names.\r\n\r\n**I don&#39;t want to parse class expressions as they are serialized, I want to parse them as they are edited in Prot&#233;g&#233;.** Some code somewhere knows how to do that, because Prot&#233;g&#233; does it. I just can&#39;t figure out how to make it work. If you know where in Prot&#233;g&#233; the class expression editor works, maybe that could help.\r\n\r\n  [1]: https://i.stack.imgur.com/5Hc3h.png","title":"How to parse Manchester syntax with (rdfs) labels ? (like in Prot&#233;g&#233;)","body":"<p>I am trying to parse a class expression in Manchester syntax written using rdfs:label, just like one would enter in Protégé with view set to <em>&quot;render by label&quot;</em>, so something like <code>Pizza and not(hasTopping some 'Meat topping')</code> instead of <code>Pizza and not(hasTopping some MeatTopping)</code>.</p>\n<p>I can't find a way to do that. I got some inspiration from the code at <a href=\"https://stackoverflow.com/questions/39033108/owlapi-parserexception-while-converting-string-to-class-expression-using-man\">OWLAPI : &quot;ParserException&quot; while converting String to Class Expression using ManchesterOWLSyntaxParser</a>, and I tried using different ShortFormProviders : <code>ShortFormFromRDFSLabelAxiomListProvider</code>, <code>AnnotationValueShortFormProvider</code>, <code>ManchesterOWLSyntaxPrefixNameShortFormProvider</code>, but the parser would always complain that it does recognize <code>'Meat topping'</code> as a class name.</p>\n<p>I also saw <code>ManchesterOWLSyntaxEditorParser</code> but it is deprecated.</p>\n<p>What is the correct way to parse an OWLClassExpression in Manchester syntax that uses rdfs:label as class names ?</p>\n<p>Thanks</p>\n<p>Here are my attempts:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nManchesterOWLSyntaxParser manchesterParser = OWLManager.createManchesterParser();\n        \n        // ManchesterOWLSyntaxEditorParser manchesterParser = new ManchesterOWLSyntaxEditorParser(df, null);\n        String toParse = &quot;Pizza\\n&quot;\n                + &quot;         and (not (hasTopping some 'Meat Topping'))&quot;;\n        \n        \n        manchesterParser.setDefaultOntology(ontology); // my ontology\n        ShortFormEntityChecker checker = new ShortFormEntityChecker(getShortFormProvider(manager, ontology));\n        manchesterParser.setOWLEntityChecker(checker);\n        OWLClassExpression expr = manchesterParser.parseClassExpression(toParse);\n\n\n    private static BidirectionalShortFormProvider getShortFormProvider(OWLOntologyManager manager, OWLOntology ont) {\n        Set&lt;OWLOntology&gt; ontologies = manager.getOntologies(); // my OWLOntologyManager\n       \n        // all my attempts to use different short form providers :\n        \n        // ShortFormProvider sfp = new ManchesterOWLSyntaxPrefixNameShortFormProvider(ont);\n        ShortFormProvider sfp = new SimpleShortFormProvider();\n        \n        /*\n        ShortFormFromRDFSLabelAxiomListProvider sfp = new ShortFormFromRDFSLabelAxiomListProvider(\n                Arrays.asList(new String[] {&quot;en&quot;}),\n                ont.axioms().toList(),\n                new SimpleShortFormProvider()\n        );\n        */\n        \n        /*\n        OWLAnnotationProperty rdfsLabelProp = manager.getOWLDataFactory().getOWLAnnotationProperty(&quot;http://www.w3.org/2000/01/rdf-schema#label&quot;);\n        AnnotationValueShortFormProvider sfp = new AnnotationValueShortFormProvider(\n                Collections.singletonList(rdfsLabelProp),\n                new HashMap&lt;OWLAnnotationProperty, List&lt;String&gt;&gt;() {{\n                    put(rdfsLabelProp, Arrays.asList(new String[] {&quot;en&quot;}));\n                }},\n                manager\n        );\n        */\n        \n        \n        BidirectionalShortFormProvider shortFormProvider = new BidirectionalShortFormProviderAdapter(\n                ontologies, sfp);\n        return shortFormProvider;\n    }\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The problem comes from the fact that labels contains space characters. The ShortFormProvider correctly knows and understands the short form <code>Meat Topping</code>, but what the Manchester parser passes to it to resolve the short name is <code>'Meat Topping'</code>, with the quotes included. Is that a bug ?</p>\n<p><strong>EDIT 2</strong></p>\n<p>I can edit a class expression in Protégé using labels:</p>\n<p><a href=\"https://i.stack.imgur.com/5Hc3h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Hc3h.png\" alt=\"class expression screenshot\" /></a></p>\n<p>When I save it, I got this:</p>\n<pre><code>Class: &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#VegetarianPizza&gt;\n\n    EquivalentTo: \n        &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#Pizza&gt;\n         and (not (&lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#hasTopping&gt; some &lt;http://www.semanticweb.org/thomas/ontologies/2023/7/untitled-ontology-165#MeatTopping&gt;))\n</code></pre>\n<p>Obviously, the serialization does not use the labels, it just uses the URI or local names.</p>\n<p><strong>I don't want to parse class expressions as they are serialized, I want to parse them as they are edited in Protégé.</strong> Some code somewhere knows how to do that, because Protégé does it. I just can't figure out how to make it work. If you know where in Protégé the class expression editor works, maybe that could help.</p>\n"},{"tags":["java","swagger","quarkus"],"owner":{"account_id":21127223,"reputation":21,"user_id":15532294,"display_name":"matteo baudino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692891481,"creation_date":1692889635,"question_id":76970655,"body_markdown":"I have a resource class \r\n\r\n```java\r\npublic class GenericResource{\r\n  @POST\r\n  @Operation(summary = &quot;Create new element&quot;, description = &quot;Create a new element by body&quot;)\r\n  public Response post(@RequestBody(description = &quot;Element to create&quot;, required = true)     ClassRequestEntity data) throws Exception {\r\n    ....\r\n  }\r\n}\r\n```\r\n\r\nI have the child class that extend this. In all my classes, I only extend and use the method, in one case I must not have this method.\r\nSo I tried to do this\r\n\r\n```java\r\npublic class Info extends GenericResousrce{\r\n  @Operation(hidden = true)\r\n  @Schema(hidden = true)\r\n  @Deprecated\r\n  @Override\r\n  public Response post(@RequestBody(description = &quot;Element to create&quot;, required = true)     ClassRequestEntity data) throws Exception {\r\n     throw new UnsupportedOperationException(&quot;....&quot;);\r\n  }\r\n}\r\n```\r\n\r\nI want that &quot;post()&quot; method to not be visible on Swagger.\r\n\r\nBut all my attempts fail. Is there a way to do this?\r\n","title":"Hide path derived from parent class","body":"<p>I have a resource class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericResource{\n  @POST\n  @Operation(summary = &quot;Create new element&quot;, description = &quot;Create a new element by body&quot;)\n  public Response post(@RequestBody(description = &quot;Element to create&quot;, required = true)     ClassRequestEntity data) throws Exception {\n    ....\n  }\n}\n</code></pre>\n<p>I have the child class that extend this. In all my classes, I only extend and use the method, in one case I must not have this method.\nSo I tried to do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Info extends GenericResousrce{\n  @Operation(hidden = true)\n  @Schema(hidden = true)\n  @Deprecated\n  @Override\n  public Response post(@RequestBody(description = &quot;Element to create&quot;, required = true)     ClassRequestEntity data) throws Exception {\n     throw new UnsupportedOperationException(&quot;....&quot;);\n  }\n}\n</code></pre>\n<p>I want that &quot;post()&quot; method to not be visible on Swagger.</p>\n<p>But all my attempts fail. Is there a way to do this?</p>\n"},{"tags":["java","spring","spring-boot","maven","maven-plugin"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1588014984,"post_id":61466603,"comment_id":108732090,"body_markdown":"Dependency looks ok https://mvnrepository.com/artifact/org.apache.commons/commons-csv/1.8 so I suspect some proxy/cache misconfiguration","body":"Dependency looks ok <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-csv/1.8\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.commons/commons-csv/1.&zwnj;&#8203;8</a> so I suspect some proxy/cache misconfiguration"},{"owner":{"account_id":6133745,"reputation":21,"user_id":6679465,"display_name":"Sudhanshu Raman"},"score":0,"creation_date":1588015230,"post_id":61466603,"comment_id":108732217,"body_markdown":"@rkosegi hey i am using intellij Idea.How can i configure proxy/cache in my IDE.","body":"@rkosegi hey i am using intellij Idea.How can i configure proxy/cache in my IDE."},{"owner":{"account_id":9176481,"reputation":1069,"user_id":6821936,"display_name":"Uday Chauhan"},"score":0,"creation_date":1588015529,"post_id":61466603,"comment_id":108732378,"body_markdown":"https://stackoverflow.com/a/6112344/6821936","body":"<a href=\"https://stackoverflow.com/a/6112344/6821936\">stackoverflow.com/a/6112344/6821936</a>"},{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1588015819,"post_id":61466603,"comment_id":108732527,"body_markdown":"@SudhanshuRaman try `mvn dependency:resolve -U` and show us full error","body":"@SudhanshuRaman try <code>mvn dependency:resolve -U</code> and show us full error"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1588015889,"post_id":61466603,"comment_id":108732565,"body_markdown":"Try to build on plain command line first to remove possible issues related to your IDE first....","body":"Try to build on plain command line first to remove possible issues related to your IDE first...."},{"owner":{"account_id":6133745,"reputation":21,"user_id":6679465,"display_name":"Sudhanshu Raman"},"score":0,"creation_date":1588071287,"post_id":61466603,"comment_id":108752653,"body_markdown":"project-&gt;maven-&gt;reimport worked for me.","body":"project-&gt;maven-&gt;reimport worked for me."},{"owner":{"account_id":226463,"reputation":16416,"user_id":487524,"accept_rate":88,"display_name":"epoch"},"score":0,"creation_date":1593604462,"post_id":61466603,"comment_id":110838029,"body_markdown":"I’m voting to close this question because was fixed by OP","body":"I’m voting to close this question because was fixed by OP"}],"answers":[{"tags":[],"owner":{"account_id":18282998,"reputation":3,"user_id":13311481,"display_name":"rax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692890993,"creation_date":1589638000,"answer_id":61838080,"question_id":61466603,"body_markdown":"- Right click on project\r\n\r\n- Project-&gt;maven-&gt;reimport","title":"Unable to add maven dependency for Apache Commons-csv","body":"<ul>\n<li><p>Right click on project</p>\n</li>\n<li><p>Project-&gt;maven-&gt;reimport</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16569823,"reputation":31,"user_id":11973284,"display_name":"Cliqxe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692890972,"creation_date":1592159002,"answer_id":62376565,"question_id":61466603,"body_markdown":"Right click on your project folder -&gt; Maven -&gt; Reload Project.\r\n","title":"Unable to add maven dependency for Apache Commons-csv","body":"<p>Right click on your project folder -&gt; Maven -&gt; Reload Project.</p>\n"},{"tags":[],"owner":{"account_id":7570156,"reputation":91,"user_id":9214961,"display_name":"Dremuchiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1692890966,"creation_date":1593604188,"answer_id":62676181,"question_id":61466603,"body_markdown":"**For Intellij Idea:** go to Maven(on right side) and press &quot;Reimport All Maven Project&quot;.\r\n","title":"Unable to add maven dependency for Apache Commons-csv","body":"<p><strong>For Intellij Idea:</strong> go to Maven(on right side) and press &quot;Reimport All Maven Project&quot;.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692688420,"creation_date":1692688420,"answer_id":76950886,"question_id":61466603,"body_markdown":"In my case I just upgraded the version to `&lt;version&gt;1.10&lt;/version&gt;` from `&lt;version&gt;1.8&lt;/version&gt;`\t\r\n\r\n    &lt;dependency&gt;\r\n      \t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      \t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n      \t&lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Unable to add maven dependency for Apache Commons-csv","body":"<p>In my case I just upgraded the version to <code>&lt;version&gt;1.10&lt;/version&gt;</code> from <code>&lt;version&gt;1.8&lt;/version&gt;</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6133745,"reputation":21,"user_id":6679465,"display_name":"Sudhanshu Raman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4563,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1692890993,"creation_date":1588014764,"question_id":61466603,"body_markdown":"Hi All i am trying to add Apache commons-csv version 1.8 dependency for my spring boot project but getting following error.\r\nDependency &#39;org.apache.commons:commons-csv:1.8&#39; not found. Also i am using Java 14.For your reference here i am also pasting my pom.xml.\r\n\t\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;14&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n","title":"Unable to add maven dependency for Apache Commons-csv","body":"<p>Hi All i am trying to add Apache commons-csv version 1.8 dependency for my spring boot project but getting following error.\nDependency 'org.apache.commons:commons-csv:1.8' not found. Also i am using Java 14.For your reference here i am also pasting my pom.xml.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;14&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","c","debugging","java-native-interface","addr2line"],"owner":{"account_id":970548,"reputation":2499,"user_id":1071669,"accept_rate":43,"display_name":"dargaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692890779,"creation_date":1692890779,"question_id":76970814,"body_markdown":"How do I get the line number of an error in a JNI library (which I wrote) from a java core dump ? Alternatively, can I get the line numbers directly in the core dump ?\r\n\r\nHere are 2 examples, depending on the java options (I added `-XX:+UnlockDiagnosticVMOptions` and `-XX:+ShowHiddenFrames` to the 2nd one). `AMIn2_*` are the names of my C functions.\r\n\r\n    $ grep AMIn2 /tmp/hs_err_pid3688886.log\r\n    J 11555  net.hep.ami.utility.n2edm.AMIreadN2DataJNI.AMIn2_GetRunNumbersJSON(Ljava/lang/String;I)Ljava/lang/String; (0 bytes) @ 0x00007f003d64e3fa [0x00007f003d64e3a0+0x000000000000005a]\r\n\r\n    $ grep AMIn2 /tmp/hs_err_pid1598986.log\r\n    j  net.hep.ami.utility.n2edm.AMIreadN2DataJNI.AMIn2_GetSubsystemsJSON(Ljava/lang/String;II)Ljava/lang/String;+0\r\n    j  net.hep.ami.utility.n2edm.AMIreadN2Data.AMIn2_GetSubsystemsJSON(Ljava/lang/String;II)Ljava/lang/String;+3\r\n    R13={method} {0x00007f20f8ba29f8} &#39;AMIn2_GetSubsystemsJSON&#39; &#39;(Ljava/lang/String;II)Ljava/lang/String;&#39; in &#39;net/hep/ami/utility/n2edm/AMIreadN2DataJNI&#39;\r\n    stack at sp + 4 slots: 0x00007f21100a7fea: AMIn2_GetSubsystemsJSON+0x000000000000022d in /opt/AMI/externalLib/libAMIreadN2Data_swig.so at 0x00007f211009c000\r\n\r\nI have tried variants of:\r\n\r\n    $ addr2line -e lib*_swig.so -a 0x00007f20f8ba29f8 \r\n    0x00007f20f8ba29f8\r\n    ??:0\r\n    \r\n    $ addr2line -e lib*_swig.so -f -C 0x00007f20f8ba29f8 \r\n    ??\r\n    ??:0\r\n\r\nDo I need to add or substract the base address ? And if so how do I find it in the core file (greping for `base` leads nowhere) ?","title":"JNI core dump address to line number conversion?","body":"<p>How do I get the line number of an error in a JNI library (which I wrote) from a java core dump ? Alternatively, can I get the line numbers directly in the core dump ?</p>\n<p>Here are 2 examples, depending on the java options (I added <code>-XX:+UnlockDiagnosticVMOptions</code> and <code>-XX:+ShowHiddenFrames</code> to the 2nd one). <code>AMIn2_*</code> are the names of my C functions.</p>\n<pre><code>$ grep AMIn2 /tmp/hs_err_pid3688886.log\nJ 11555  net.hep.ami.utility.n2edm.AMIreadN2DataJNI.AMIn2_GetRunNumbersJSON(Ljava/lang/String;I)Ljava/lang/String; (0 bytes) @ 0x00007f003d64e3fa [0x00007f003d64e3a0+0x000000000000005a]\n\n$ grep AMIn2 /tmp/hs_err_pid1598986.log\nj  net.hep.ami.utility.n2edm.AMIreadN2DataJNI.AMIn2_GetSubsystemsJSON(Ljava/lang/String;II)Ljava/lang/String;+0\nj  net.hep.ami.utility.n2edm.AMIreadN2Data.AMIn2_GetSubsystemsJSON(Ljava/lang/String;II)Ljava/lang/String;+3\nR13={method} {0x00007f20f8ba29f8} 'AMIn2_GetSubsystemsJSON' '(Ljava/lang/String;II)Ljava/lang/String;' in 'net/hep/ami/utility/n2edm/AMIreadN2DataJNI'\nstack at sp + 4 slots: 0x00007f21100a7fea: AMIn2_GetSubsystemsJSON+0x000000000000022d in /opt/AMI/externalLib/libAMIreadN2Data_swig.so at 0x00007f211009c000\n</code></pre>\n<p>I have tried variants of:</p>\n<pre><code>$ addr2line -e lib*_swig.so -a 0x00007f20f8ba29f8 \n0x00007f20f8ba29f8\n??:0\n\n$ addr2line -e lib*_swig.so -f -C 0x00007f20f8ba29f8 \n??\n??:0\n</code></pre>\n<p>Do I need to add or substract the base address ? And if so how do I find it in the core file (greping for <code>base</code> leads nowhere) ?</p>\n"},{"tags":["java","connection-pooling","apache-httpclient-4.x","resttemplate"],"comments":[{"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"score":1,"creation_date":1590584726,"post_id":50890024,"comment_id":109734082,"body_markdown":"I am of the assumption that `PoolingHttpClientConnectionManager` is used for multi-threading case, as it will help multiple connections concurrently. I might be wrong here, can someone please explain this correctly?","body":"I am of the assumption that <code>PoolingHttpClientConnectionManager</code> is used for multi-threading case, as it will help multiple connections concurrently. I might be wrong here, can someone please explain this correctly?"}],"answers":[{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":1,"creation_date":1529251738,"post_id":50890427,"comment_id":88796403,"body_markdown":"AFAIK the `RestTemplate` is just a wrapper around `HTTPClient`.","body":"AFAIK the <code>RestTemplate</code> is just a wrapper around <code>HTTPClient</code>."},{"owner":{"account_id":10800842,"reputation":106,"user_id":7944860,"display_name":"Dan Goslen"},"score":0,"creation_date":1529496144,"post_id":50890427,"comment_id":88892899,"body_markdown":"Effectively that is correct. That was just the only code I didn&#39;t see in your original question :). Luis Mu&#241;oz&#39;s response below seems like a good candidate for why you aren&#39;t seeing the performance gains you thought you would.","body":"Effectively that is correct. That was just the only code I didn&#39;t see in your original question :). Luis Mu&#241;oz&#39;s response below seems like a good candidate for why you aren&#39;t seeing the performance gains you thought you would."}],"tags":[],"owner":{"account_id":10800842,"reputation":106,"user_id":7944860,"display_name":"Dan Goslen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529172172,"creation_date":1529172172,"answer_id":50890427,"question_id":50890024,"body_markdown":"I believe you are setting up the `HttpClient` and pooling manager correctly. \r\n\r\nMy implementation has one slight difference in that instead of using `HttpClients.custom()`, I am using `HttpClientBuilder.create()`, but then have the same method invocations as you have. According to this other Stack Overflow [answer](https://stackoverflow.com/a/37508147/7944860), this shouldn&#39;t make a difference.\r\n\r\nI&#39;ve used this configuration before in Spring applications and had good benefits. I wonder if maybe the response is happening fast enough that you don&#39;t see a large benefit? The only other thing I can think of is if potentially the `RestTemplate` isn&#39;t getting configured correctly.","title":"Correct way to implement HTTP Connection Pooling","body":"<p>I believe you are setting up the <code>HttpClient</code> and pooling manager correctly. </p>\n\n<p>My implementation has one slight difference in that instead of using <code>HttpClients.custom()</code>, I am using <code>HttpClientBuilder.create()</code>, but then have the same method invocations as you have. According to this other Stack Overflow <a href=\"https://stackoverflow.com/a/37508147/7944860\">answer</a>, this shouldn't make a difference.</p>\n\n<p>I've used this configuration before in Spring applications and had good benefits. I wonder if maybe the response is happening fast enough that you don't see a large benefit? The only other thing I can think of is if potentially the <code>RestTemplate</code> isn't getting configured correctly.</p>\n"},{"comments":[{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1529251704,"post_id":50890586,"comment_id":88796393,"body_markdown":"I dont want multi threading since the results of the previous calls are needed for the subsequent calls.","body":"I dont want multi threading since the results of the previous calls are needed for the subsequent calls."},{"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"score":0,"creation_date":1590584814,"post_id":50890586,"comment_id":109734139,"body_markdown":"@Kunal Can you help me understand if `PoolingHttpClientConnectionManager` is advantageous only in case of multi-threading?","body":"@Kunal Can you help me understand if <code>PoolingHttpClientConnectionManager</code> is advantageous only in case of multi-threading?"}],"tags":[],"owner":{"account_id":13416320,"reputation":381,"user_id":9680682,"display_name":"Kunal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529173346,"creation_date":1529173346,"answer_id":50890586,"question_id":50890024,"body_markdown":"Your configuration seems to be correct. You can use multi-threading to use system&#39;s resources to gain performance.\r\n    \r\n        HttpGet get = new HttpGet(&quot;http://www.codersjargon.com&quot;);\r\n        \r\n        PoolingHttpClientConnectionManager connManager \r\n          = new PoolingHttpClientConnectionManager();\r\n        \r\n        CloseableHttpClient client = HttpClients.custom().\r\n            setConnectionManager(connManager).build();\r\n       \r\n         MultiHttpClientConnThread thread1 = new MultiHttpClientConnThread(client, get);\r\n         MultiHttpClientConnThread thread2 = new MultiHttpClientConnThread(client, get);\r\n         MultiHttpClientConnThread thread3 = new MultiHttpClientConnThread(client, get); \r\n         thread1.start();\r\n         thread2.start();\r\n         thread3.start(); \r\n         thread1.join(); \r\n         thread2.join();\r\n         thread3.join();","title":"Correct way to implement HTTP Connection Pooling","body":"<p>Your configuration seems to be correct. You can use multi-threading to use system's resources to gain performance.</p>\n\n<pre><code>    HttpGet get = new HttpGet(\"http://www.codersjargon.com\");\n\n    PoolingHttpClientConnectionManager connManager \n      = new PoolingHttpClientConnectionManager();\n\n    CloseableHttpClient client = HttpClients.custom().\n        setConnectionManager(connManager).build();\n\n     MultiHttpClientConnThread thread1 = new MultiHttpClientConnThread(client, get);\n     MultiHttpClientConnThread thread2 = new MultiHttpClientConnThread(client, get);\n     MultiHttpClientConnThread thread3 = new MultiHttpClientConnThread(client, get); \n     thread1.start();\n     thread2.start();\n     thread3.start(); \n     thread1.join(); \n     thread2.join();\n     thread3.join();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1692890477,"creation_date":1529286160,"answer_id":50901789,"question_id":50890024,"body_markdown":"Beware of how HTTP Client pools work, it may be improving performance during a short period of time. Check the analysis below:\r\n\r\nFrom PoolingHttpClientConnectionManager [javadocs](http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html)\r\n\r\n&gt; The handling of stale connections was changed in version 4.4. Previously, the code would check every connection by default before re-using it. The code now only checks the connection if the elapsed time since the last use of the connection exceeds the timeout that has been set. The default timeout is set to 2000ms\r\n\r\nFrom the pool performance perspective it means that a connection to a particular route will be reused as long as the manager considers that route as &quot;active&quot; during a period of 2 seconds by default.  \r\nAfter 2 seconds of inactivity connections to that route will be considered stale and discarded thus incurring in a connection init penalty next time that route is requested.  \r\n\r\nIn other words, out of the box, the pool improves performance for connections after the first during 2 seconds. Heavy duty routes are the most benefited.\r\n\r\nAs a simple test, set your pool size to an small value, like 5 max. Send 5 requests and check the number of established connections to that route, on linux\r\n\r\n`watch &quot;ss -ant dst &lt;your route IP&gt;&quot;`\r\n\r\n`watch &quot;netstat -ant | grep &lt;your route IP&gt;&quot;`\r\n\r\nYou should see 5 connections. Wait 10 or 20 seconds and send 2 requests to the same route, you should see those 5 connections closed and 2 new created.\r\nIt&#39;s also possible to observe that with debug logging. [Here](http://www.baeldung.com/httpclient-connection-management) is a good article as reference.  \r\nApache official docs on [http logging](https://hc.apache.org/httpcomponents-client-4.5.x/logging.html).","title":"Correct way to implement HTTP Connection Pooling","body":"<p>Beware of how HTTP Client pools work, it may be improving performance during a short period of time. Check the analysis below:</p>\n<p>From PoolingHttpClientConnectionManager <a href=\"http://hc.apache.org/httpcomponents-client-ga/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html\" rel=\"nofollow noreferrer\">javadocs</a></p>\n<blockquote>\n<p>The handling of stale connections was changed in version 4.4. Previously, the code would check every connection by default before re-using it. The code now only checks the connection if the elapsed time since the last use of the connection exceeds the timeout that has been set. The default timeout is set to 2000ms</p>\n</blockquote>\n<p>From the pool performance perspective it means that a connection to a particular route will be reused as long as the manager considers that route as &quot;active&quot; during a period of 2 seconds by default.<br />\nAfter 2 seconds of inactivity connections to that route will be considered stale and discarded thus incurring in a connection init penalty next time that route is requested.</p>\n<p>In other words, out of the box, the pool improves performance for connections after the first during 2 seconds. Heavy duty routes are the most benefited.</p>\n<p>As a simple test, set your pool size to an small value, like 5 max. Send 5 requests and check the number of established connections to that route, on linux</p>\n<p><code>watch &quot;ss -ant dst &lt;your route IP&gt;&quot;</code></p>\n<p><code>watch &quot;netstat -ant | grep &lt;your route IP&gt;&quot;</code></p>\n<p>You should see 5 connections. Wait 10 or 20 seconds and send 2 requests to the same route, you should see those 5 connections closed and 2 new created.\nIt's also possible to observe that with debug logging. <a href=\"http://www.baeldung.com/httpclient-connection-management\" rel=\"nofollow noreferrer\">Here</a> is a good article as reference.<br />\nApache official docs on <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/logging.html\" rel=\"nofollow noreferrer\">http logging</a>.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22701,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1692890477,"creation_date":1529169261,"question_id":50890024,"body_markdown":"I am using Apache HTTP Client for connection pooling during my REST API calls into certain web services.\r\n\r\nStrange thing is that in spite of me using HTTP Connection Pooling there are no gain in my performance.\r\n\r\nI am using [Apache HTTP Client][1] to connect to my web services, and the code is as follows from there [documentation][2] :\r\n\r\n    PoolingHttpClientConnectionManager cm = new PoolingHttpClientConnectionManager();\r\n    \r\n    cm.setMaxTotal(200);\r\n    \r\n    cm.setDefaultMaxPerRoute(20);\r\n    \r\n    HttpHost host = new HttpHost(&quot;abc.com&quot;, 80);\r\n    cm.setMaxPerRoute(new HttpRoute(host), 50);\r\n    \r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n            .setConnectionManager(cm)\r\n            .build();\r\n\r\nI am using Spring&#39;s `RestTemplate` to wrap around the `HttpClient` implemenation of Apache using Spring&#39;s `HttpComponentsClientHttpRequestFactory`.\r\n\r\nBut even if I use no connection pooling ie. use the `SimpleClientHttpRequestFactory` of Spring, I get no performance advantage.\r\n\r\nMy connections still take the same amount of time to complete. \r\n\r\n**Is what I have done the correct way to implement HTTP Connection Pooling? Am I doing something wrong?**\r\n\r\nPlease let me know if any further info is required from my side.\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-ga/index.html\r\n  [2]: https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html","title":"Correct way to implement HTTP Connection Pooling","body":"<p>I am using Apache HTTP Client for connection pooling during my REST API calls into certain web services.</p>\n\n<p>Strange thing is that in spite of me using HTTP Connection Pooling there are no gain in my performance.</p>\n\n<p>I am using <a href=\"https://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"noreferrer\">Apache HTTP Client</a> to connect to my web services, and the code is as follows from there <a href=\"https://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html\" rel=\"noreferrer\">documentation</a> :</p>\n\n<pre><code>PoolingHttpClientConnectionManager cm = new PoolingHttpClientConnectionManager();\n\ncm.setMaxTotal(200);\n\ncm.setDefaultMaxPerRoute(20);\n\nHttpHost host = new HttpHost(\"abc.com\", 80);\ncm.setMaxPerRoute(new HttpRoute(host), 50);\n\nCloseableHttpClient httpClient = HttpClients.custom()\n        .setConnectionManager(cm)\n        .build();\n</code></pre>\n\n<p>I am using Spring's <code>RestTemplate</code> to wrap around the <code>HttpClient</code> implemenation of Apache using Spring's <code>HttpComponentsClientHttpRequestFactory</code>.</p>\n\n<p>But even if I use no connection pooling ie. use the <code>SimpleClientHttpRequestFactory</code> of Spring, I get no performance advantage.</p>\n\n<p>My connections still take the same amount of time to complete. </p>\n\n<p><strong>Is what I have done the correct way to implement HTTP Connection Pooling? Am I doing something wrong?</strong></p>\n\n<p>Please let me know if any further info is required from my side.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"score":0,"creation_date":1692943994,"post_id":76968694,"comment_id":135695882,"body_markdown":"It worked but some errors like &quot;ERROR: value too long for type character varying(25)&quot; are not ignoring and the records upto error causing one are only getting inserted even if .onErrorIgnore() is provided. Also can we perform update based on unique constraint? I tried but it shows &quot;duplicate key value violates unique constraint&quot;.","body":"It worked but some errors like &quot;ERROR: value too long for type character varying(25)&quot; are not ignoring and the records upto error causing one are only getting inserted even if .onErrorIgnore() is provided. Also can we perform update based on unique constraint? I tried but it shows &quot;duplicate key value violates unique constraint&quot;."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1693576547,"post_id":76968694,"comment_id":135783394,"body_markdown":"Can you report an issue here (with more details on how to reproduce this), if you think there&#39;s a bug? https://github.com/jOOQ/jOOQ/issues/new/choose","body":"Can you report an issue here (with more details on how to reproduce this), if you think there&#39;s a bug? <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/new/choose</a>"}],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692890194,"creation_date":1692875520,"question_id":76968694,"body_markdown":"```java    \r\ncontext.loadInto(table(entityData.getEntityName()))\r\n       .onErrorIgnore()\r\n       .onDuplicateKeyUpdate()\r\n       .loadCSV(file)\r\n       .fields(allFields)\r\n       .execute()\r\n```\r\n\r\n\r\nI use the above  query for bulk uploading data by importing csv using JOOQ. But .onErrorIgnore() and.onDuplicateKeyUpdate() are not working. If I include .onErrorIgnore(), it is not ignoring or skipping the error causing record and stops inserting when an error is encountered. Record up to the error causing one are getting inserted.\r\n\r\nIf I include .onDuplicateKeyUpdate(), existing records are not updating and it shows \r\n&quot;ON DUPLICATE KEY UPDATE only works on tables with explicit primary keys. Table is not updatable&quot;\r\neven if the table has primary key","title":"When using bulk upload by loading data from csv file into postgresql database using JOOQ, onErrorIgnore() and onDuplicateKeyUpdate() are not working","body":"<pre class=\"lang-java prettyprint-override\"><code>context.loadInto(table(entityData.getEntityName()))\n       .onErrorIgnore()\n       .onDuplicateKeyUpdate()\n       .loadCSV(file)\n       .fields(allFields)\n       .execute()\n</code></pre>\n<p>I use the above  query for bulk uploading data by importing csv using JOOQ. But .onErrorIgnore() and.onDuplicateKeyUpdate() are not working. If I include .onErrorIgnore(), it is not ignoring or skipping the error causing record and stops inserting when an error is encountered. Record up to the error causing one are getting inserted.</p>\n<p>If I include .onDuplicateKeyUpdate(), existing records are not updating and it shows\n&quot;ON DUPLICATE KEY UPDATE only works on tables with explicit primary keys. Table is not updatable&quot;\neven if the table has primary key</p>\n"},{"tags":["java","spring","java-11"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1692887426,"post_id":76970194,"comment_id":135687601,"body_markdown":"How are you running it and specifying the classpath? There are spaces in the path names and it looks like they are not being properly escaped.","body":"How are you running it and specifying the classpath? There are spaces in the path names and it looks like they are not being properly escaped."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1692887513,"post_id":76970194,"comment_id":135687617,"body_markdown":"@DavidConrad where are the spaces? I am running the application by right click -&gt; Run as Java application on the JettyApp class. This way was working fine when I was using Java 8.  Specifying the classpath means?","body":"@DavidConrad where are the spaces? I am running the application by right click -&gt; Run as Java application on the JettyApp class. This way was working fine when I was using Java 8.  Specifying the classpath means?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1692887643,"post_id":76970194,"comment_id":135687647,"body_markdown":"There is a space in &quot;Program Files&quot;.","body":"There is a space in &quot;Program Files&quot;."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1692887723,"post_id":76970194,"comment_id":135687666,"body_markdown":"@DavidConrad . That thing is appearing in the error. I havent set anything explicitly. And Program Files space was already there even using java 8","body":"@DavidConrad . That thing is appearing in the error. I havent set anything explicitly. And Program Files space was already there even using java 8"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1692888040,"post_id":76970194,"comment_id":135687734,"body_markdown":"Our answers are based on the information given in the question. It is clearly recognizable from the error message that the command line has been messed up, as it reports a missing class named `Files\\SomeFolder\\al\\al.jar;C:\\Program` which is obviously supposed to be part of a path. Whether you have set anything explicitly, is irrelevant. Something has produced this broken command line. When you tried to run your application from Eclipse, its the launch configuration within Eclipse.","body":"Our answers are based on the information given in the question. It is clearly recognizable from the error message that the command line has been messed up, as it reports a missing class named <code>Files\\SomeFolder\\al\\al.jar;C:\\Program</code> which is obviously supposed to be part of a path. Whether you have set anything explicitly, is irrelevant. Something has produced this broken command line. When you tried to run your application from Eclipse, its the launch configuration within Eclipse."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1692888324,"post_id":76970194,"comment_id":135687801,"body_markdown":"What can be the solution ? What should I try? @Holger","body":"What can be the solution ? What should I try? @Holger"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692888481,"post_id":76970194,"comment_id":135687831,"body_markdown":"*Error: Could not find or load main class Files\\SomeFolder\\al\\al.jar;C:\\Program* That&#39;s doesn&#39;t look much to do with the Java version to me. It looks like part of some quite different area. One easy way to get around the horribly named Program Files is to use the DOS path `C:\\PROGRA~1` You&#39;d probably do well to post the whole of pom.xml","body":"<i>Error: Could not find or load main class Files\\SomeFolder\\al\\al.jar;C:\\Program</i> That&#39;s doesn&#39;t look much to do with the Java version to me. It looks like part of some quite different area. One easy way to get around the horribly named Program Files is to use the DOS path <code>C:\\PROGRA~1</code> You&#39;d probably do well to post the whole of pom.xml"},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1692888649,"post_id":76970194,"comment_id":135687880,"body_markdown":"DOS path means? and how to do that? @g00se","body":"DOS path means? and how to do that? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692888756,"post_id":76970194,"comment_id":135687906,"body_markdown":"It&#39;s the old FAT file system name, which even now is maintained in the file table to main compatibility. But there&#39;s no point in leaving us guessing as to what is happening. You&#39;re not giving enough information","body":"It&#39;s the old FAT file system name, which even now is maintained in the file table to main compatibility. But there&#39;s no point in leaving us guessing as to what is happening. You&#39;re not giving enough information"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692889461,"post_id":76970194,"comment_id":135688079,"body_markdown":"Check what’s written in the [run configuration](https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/tasks/tasks-java-local-configuration.htm)","body":"Check what’s written in the <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.jdt.doc.user/tasks/tasks-java-local-configuration.htm\" rel=\"nofollow noreferrer\">run configuration</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692890172,"post_id":76970194,"comment_id":135688256,"body_markdown":"I can&#39;t think of a good reason for the names of jars to be included in a path off C:\\Program Files but that&#39;s what *appears* to be happening","body":"I can&#39;t think of a good reason for the names of jars to be included in a path off C:\\Program Files but that&#39;s what <i>appears</i> to be happening"}],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692889360,"creation_date":1692886390,"question_id":76970194,"body_markdown":"I am working on a project which used the Jetty server. It uses a framework built on the top of Spring.\r\nThis project was running fine with Java 1.8. But when I changed Java version 11, the Jetty server stopped running.\r\n\r\nI changed the Java version to 11 in properties tag in pom file\r\n\r\n\r\n    &lt;javaVersion&gt;11&lt;/javaVersion&gt;\r\n    &lt;jdk.path&gt;C:/SomeFolder/I/T/jdk110_x64&lt;/jdk.path&gt;\r\n    &lt;jdk.javac&gt;C:/SomeFolder/I/T/jdk110_x64/bin/javac.exe&lt;/jdk.javac&gt;\r\n\r\nBut now, when I am trying to run the application, the following error is appearing on the console - \r\n\r\n    Error: Could not find or load main class Files\\SomeFolder\\al\\al.jar;C:\\Program\r\n    Caused by: java.lang.ClassNotFoundException: Files\\SomeFolder\\al\\al/jar;C:\\Program\r\n\r\nI also changed the Installed JREs path to JDK 11 in Eclipse -&gt; preferences. But I am getting the above error.\r\n\r\nIs it due to any version issue or any dependency version issue?\r\n","title":"Java 11 - Could not find or load main class","body":"<p>I am working on a project which used the Jetty server. It uses a framework built on the top of Spring.\nThis project was running fine with Java 1.8. But when I changed Java version 11, the Jetty server stopped running.</p>\n<p>I changed the Java version to 11 in properties tag in pom file</p>\n<pre><code>&lt;javaVersion&gt;11&lt;/javaVersion&gt;\n&lt;jdk.path&gt;C:/SomeFolder/I/T/jdk110_x64&lt;/jdk.path&gt;\n&lt;jdk.javac&gt;C:/SomeFolder/I/T/jdk110_x64/bin/javac.exe&lt;/jdk.javac&gt;\n</code></pre>\n<p>But now, when I am trying to run the application, the following error is appearing on the console -</p>\n<pre><code>Error: Could not find or load main class Files\\SomeFolder\\al\\al.jar;C:\\Program\nCaused by: java.lang.ClassNotFoundException: Files\\SomeFolder\\al\\al/jar;C:\\Program\n</code></pre>\n<p>I also changed the Installed JREs path to JDK 11 in Eclipse -&gt; preferences. But I am getting the above error.</p>\n<p>Is it due to any version issue or any dependency version issue?</p>\n"},{"tags":["java","c++","java-native-interface","g++","shared-libraries"],"comments":[{"owner":{"account_id":293472,"reputation":467164,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":0,"creation_date":1463475274,"post_id":37271321,"comment_id":62068791,"body_markdown":"As the error says, the library file isn&#39;t be found. Make sure it&#39;s in the correct directory and you have your search paths set up appropriately.","body":"As the error says, the library file isn&#39;t be found. Make sure it&#39;s in the correct directory and you have your search paths set up appropriately."},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1463475429,"post_id":37271321,"comment_id":62068881,"body_markdown":"@KerrekSB I have the file in the same directory as my java and c++ files, I have not set any path, can you tell me how to do that?","body":"@KerrekSB I have the file in the same directory as my java and c++ files, I have not set any path, can you tell me how to do that?"},{"owner":{"account_id":7158524,"reputation":1546,"user_id":5469991,"accept_rate":67,"display_name":"piyushj"},"score":0,"creation_date":1463475602,"post_id":37271321,"comment_id":62069008,"body_markdown":"You created library named `libcpp.so` but in java you using `System.loadLibrary(&quot;libCpp&quot;)` can you see the difference???????","body":"You created library named <code>libcpp.so</code> but in java you using <code>System.loadLibrary(&quot;libCpp&quot;)</code> can you see the difference???????"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1463475793,"post_id":37271321,"comment_id":62069138,"body_markdown":"@piyushjaiswal edited the question, I changed the library name, the error is still not solved, thanks.","body":"@piyushjaiswal edited the question, I changed the library name, the error is still not solved, thanks."},{"owner":{"account_id":7158524,"reputation":1546,"user_id":5469991,"accept_rate":67,"display_name":"piyushj"},"score":0,"creation_date":1463475949,"post_id":37271321,"comment_id":62069237,"body_markdown":"can you provide the directory structure, `ls -lrt` output?","body":"can you provide the directory structure, <code>ls -lrt</code> output?"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1463476188,"post_id":37271321,"comment_id":62069388,"body_markdown":"@piyushjaiswal Added","body":"@piyushjaiswal Added"},{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":1,"creation_date":1463484076,"post_id":37271321,"comment_id":62074657,"body_markdown":"See answer to http://stackoverflow.com/questions/36904131/error-when-using-jni-on-ubuntu-java-lang-unsatisfiedlinkerror-no-in-java-l","body":"See answer to <a href=\"http://stackoverflow.com/questions/36904131/error-when-using-jni-on-ubuntu-java-lang-unsatisfiedlinkerror-no-in-java-l\" title=\"error when using jni on ubuntu java lang unsatisfiedlinkerror no in java l\">stackoverflow.com/questions/36904131/&hellip;</a>"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692889131,"creation_date":1463474906,"question_id":37271321,"body_markdown":"I am very new to programming using JNI and I cannot run a method I have written in C++ from Java. I am following [this][1] tutorial. I have a cpp source file &quot;cpp.cpp&quot; and a java file &quot;Cpp.java&quot;. The steps that I followed are:\r\n\r\n1. Wrote the java code, declared the native method, created a shared library using `System.loadLibrary(&quot;libcpp&quot;)`.\r\n2. Compiled the code using `javac Cpp.java`.\r\n3. Created C++ header file using `javah Cpp`.\r\n4. Wrote the cpp code with the native methods declared in the java file, and some other methods that I am calling internally from it. \r\n5. Compiled this code using `g++ -fPIC -shared cpp.cpp -o libcpp.so` and got the shared library file in the same directory.\r\n\r\nNow I am trying to run the java code using `java Cpp` but I am getting the following error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no libcpp in java.library.path\r\n   at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\r\n   at java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n   at java.lang.System.loadLibrary(System.java:1122)\r\n   at Cpp.main(Cpp.java:17)\r\n```\r\n\r\nI read other questions but most of them are running on Windows. How can I do this correctly using Ubuntu?\r\n\r\nBelow is the directory structure:\r\n\r\n```none\r\n-rw-rw-r-- 1 piyush piyush    450 May 17 11:56 Cpp.h\r\n-rw-rw-r-- 1 piyush piyush  32624 May 17 12:08 cpp.cpp\r\n-rwxrwxr-x 1 piyush piyush  31237 May 17 13:38 libcpp.so\r\n-rw-rw-r-- 1 piyush piyush    831 May 17 14:06 Cpp.java\r\n-rw-rw-r-- 1 piyush piyush    676 May 17 14:07 Cpp.class\r\n```\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/tutorials/j-jni/j-jni-pdf.pdf","title":"Errors while running native code from Java","body":"<p>I am very new to programming using JNI and I cannot run a method I have written in C++ from Java. I am following <a href=\"http://www.ibm.com/developerworks/java/tutorials/j-jni/j-jni-pdf.pdf\" rel=\"nofollow noreferrer\">this</a> tutorial. I have a cpp source file &quot;cpp.cpp&quot; and a java file &quot;Cpp.java&quot;. The steps that I followed are:</p>\n<ol>\n<li>Wrote the java code, declared the native method, created a shared library using <code>System.loadLibrary(&quot;libcpp&quot;)</code>.</li>\n<li>Compiled the code using <code>javac Cpp.java</code>.</li>\n<li>Created C++ header file using <code>javah Cpp</code>.</li>\n<li>Wrote the cpp code with the native methods declared in the java file, and some other methods that I am calling internally from it.</li>\n<li>Compiled this code using <code>g++ -fPIC -shared cpp.cpp -o libcpp.so</code> and got the shared library file in the same directory.</li>\n</ol>\n<p>Now I am trying to run the java code using <code>java Cpp</code> but I am getting the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no libcpp in java.library.path\n   at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1867)\n   at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n   at java.lang.System.loadLibrary(System.java:1122)\n   at Cpp.main(Cpp.java:17)\n</code></pre>\n<p>I read other questions but most of them are running on Windows. How can I do this correctly using Ubuntu?</p>\n<p>Below is the directory structure:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-rw-rw-r-- 1 piyush piyush    450 May 17 11:56 Cpp.h\n-rw-rw-r-- 1 piyush piyush  32624 May 17 12:08 cpp.cpp\n-rwxrwxr-x 1 piyush piyush  31237 May 17 13:38 libcpp.so\n-rw-rw-r-- 1 piyush piyush    831 May 17 14:06 Cpp.java\n-rw-rw-r-- 1 piyush piyush    676 May 17 14:07 Cpp.class\n</code></pre>\n"},{"tags":["java","vert.x","vertx-httpclient"],"answers":[{"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692889031,"creation_date":1692889031,"answer_id":76970572,"question_id":76960784,"body_markdown":"The third route definition is different from others, it contains a space:\r\n\r\n    Route handler3=router.route(&quot;/hello &quot;)\r\n\r\nSo when `routingContext.next()` is invoked in the second route handler, the `Router` does not find a route and tries to set the status code to `404`.\r\n\r\nChange the definition to:\r\n\r\n    Route handler3=router.route(&quot;/hello&quot;)\r\n\r\nAnd the error should go away.","title":"Getting java.lang.IllegalStateException: Response head already sent, while hitting API in Vert.x","body":"<p>The third route definition is different from others, it contains a space:</p>\n<pre><code>Route handler3=router.route(&quot;/hello &quot;)\n</code></pre>\n<p>So when <code>routingContext.next()</code> is invoked in the second route handler, the <code>Router</code> does not find a route and tries to set the status code to <code>404</code>.</p>\n<p>Change the definition to:</p>\n<pre><code>Route handler3=router.route(&quot;/hello&quot;)\n</code></pre>\n<p>And the error should go away.</p>\n"}],"owner":{"account_id":9445715,"reputation":253,"user_id":7025628,"accept_rate":0,"display_name":"Weirdoooo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76970572,"answer_count":1,"score":1,"last_activity_date":1692889031,"creation_date":1692788998,"question_id":76960784,"body_markdown":"I am new to vert.x and trying to setup server and route apis. I am following this tutorial: https://youtu.be/sAVJDyQd4j4\r\n\r\nHere is the code:\r\n\r\n\r\n    package com..vertx;\r\n    \r\n    import io.vertx.core.Vertx;\r\n    import io.vertx.core.http.HttpServer;\r\n    import io.vertx.core.http.HttpServerResponse;\r\n    import io.vertx.ext.web.Route;\r\n    import io.vertx.ext.web.Router;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    //        System.out.println(&quot;Hello world!&quot;);\r\n            Vertx vertx=Vertx.vertx();\r\n    \r\n            Router router=Router.router(vertx);\r\n    //        router.route(&quot;/something&quot;)\r\n    //                .handler(routingContext-&gt;{\r\n    //                    HttpServerResponse response=routingContext.response();\r\n    //                    response.putHeader(&quot;content-type&quot;,&quot;text/plain&quot;);\r\n    //                    response.end(&quot;Hi Human, it&#39;s vertx you just made&quot;);\r\n    //                });\r\n            Route handler1=router.route(&quot;/hello&quot;)\r\n                    .handler(routingContext-&gt;{\r\n                        HttpServerResponse response=routingContext.response();\r\n                        response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\r\n                        response.write(&quot;Hi Human, This is hello1&quot;);\r\n    \r\n                        //The below part is where we are using vertex and a scheduler to identify is there any thing else to match.\r\n                        // Using which we are not going to immediately call the next router,\r\n                        // rather just add the vertex code to sy that after this particular router, allow us to the next when,\r\n                        // this like adding filters and going through a chaining process.\r\n                        routingContext.\r\n                                vertx()\r\n                                .setTimer(5000, tid -&gt; routingContext.next()); //5sec timer, and us the routingContext to go to the next router, so this basically does the search for the next router with the same name.\r\n                    });\r\n    \r\n            Route handler2=router.route(&quot;/hello&quot;)\r\n                    .handler(routingContext-&gt;{\r\n                        HttpServerResponse response=routingContext.response();\r\n                        //we dont need to chunk it here, as we have already chunked it above\r\n                        //response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\r\n                        response.write(&quot;Hi Human, This is hello2&quot;);\r\n    \r\n                        //The below part is where we are using vertex and a scheduler to identify is there any thing else to match.\r\n                        // Using which we are not going to immediately call the next router,\r\n                        // rather just add the vertex code to sy that after this particular router, allow us to the next when,\r\n                        // this like adding filters and going through a chaining process.\r\n                        routingContext.\r\n                                vertx()\r\n                                .setTimer(5000, tid -&gt; routingContext.next()); //5sec timer, and us the routingContext to go to the next router, so this basically does the search for the next router with the same name.\r\n                    });\r\n    \r\n            Route handler3=router.route(&quot;/hello &quot;)\r\n                    .handler(routingContext-&gt;{\r\n                        HttpServerResponse response=routingContext.response();\r\n                        //we dont need to chunk it here, as we have already chunked it above\r\n                        //response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\r\n                        response.write(&quot;Hi Human, This is hello3&quot;);\r\n                        response.end();\r\n                    });\r\n    \r\n    \r\n            HttpServer httpServer=vertx.createHttpServer();\r\n            httpServer.requestHandler(router).listen(8091);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\nAnd I am getting this error:\r\n\r\n    SEVERE: Unhandled exception\r\n    java.lang.IllegalStateException: Response head already sent\r\n    \tat io.vertx.core.http.impl.Http1xServerResponse.checkHeadWritten(Http1xServerResponse.java:709)\r\n    \tat io.vertx.core.http.impl.Http1xServerResponse.setStatusCode(Http1xServerResponse.java:149)\r\n    \tat io.vertx.ext.web.impl.RoutingContextImpl.checkHandleNoMatch(RoutingContextImpl.java:156)\r\n    \tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:142)\r\n    \tat com.yashkirat.zee.vertx.Main.lambda$null$2(Main.java:49)\r\n    \tat io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:948)\r\n    \tat io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:919)\r\n    \tat io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\r\n    \tat io.vertx.core.impl.DuplicatedContext.emit(DuplicatedContext.java:158)\r\n    \tat io.vertx.core.impl.ContextInternal.emit(ContextInternal.java:194)\r\n    \tat io.vertx.core.impl.VertxImpl$InternalTimerHandler.run(VertxImpl.java:937)\r\n    \tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n    \tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\n\r\nWhat I have tried to fix this is:\r\n 1. Used try catch everywhere where this line is present: routingContext.vertx().setTimer(5000, tid -&gt; routingContext.next());\r\n2. Also have tried removing response.write(&quot;Hi Human, This is hello2&quot;); from everywhere and just keeping it to the second last router.\r\n\r\nBut both of the methods didn&#39;t fix it. Any idea what could be the possible cause for this and hot to fix this?\r\n","title":"Getting java.lang.IllegalStateException: Response head already sent, while hitting API in Vert.x","body":"<p>I am new to vert.x and trying to setup server and route apis. I am following this tutorial: <a href=\"https://youtu.be/sAVJDyQd4j4\" rel=\"nofollow noreferrer\">https://youtu.be/sAVJDyQd4j4</a></p>\n<p>Here is the code:</p>\n<pre><code>package com..vertx;\n\nimport io.vertx.core.Vertx;\nimport io.vertx.core.http.HttpServer;\nimport io.vertx.core.http.HttpServerResponse;\nimport io.vertx.ext.web.Route;\nimport io.vertx.ext.web.Router;\n\npublic class Main {\n    public static void main(String[] args) {\n//        System.out.println(&quot;Hello world!&quot;);\n        Vertx vertx=Vertx.vertx();\n\n        Router router=Router.router(vertx);\n//        router.route(&quot;/something&quot;)\n//                .handler(routingContext-&gt;{\n//                    HttpServerResponse response=routingContext.response();\n//                    response.putHeader(&quot;content-type&quot;,&quot;text/plain&quot;);\n//                    response.end(&quot;Hi Human, it's vertx you just made&quot;);\n//                });\n        Route handler1=router.route(&quot;/hello&quot;)\n                .handler(routingContext-&gt;{\n                    HttpServerResponse response=routingContext.response();\n                    response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\n                    response.write(&quot;Hi Human, This is hello1&quot;);\n\n                    //The below part is where we are using vertex and a scheduler to identify is there any thing else to match.\n                    // Using which we are not going to immediately call the next router,\n                    // rather just add the vertex code to sy that after this particular router, allow us to the next when,\n                    // this like adding filters and going through a chaining process.\n                    routingContext.\n                            vertx()\n                            .setTimer(5000, tid -&gt; routingContext.next()); //5sec timer, and us the routingContext to go to the next router, so this basically does the search for the next router with the same name.\n                });\n\n        Route handler2=router.route(&quot;/hello&quot;)\n                .handler(routingContext-&gt;{\n                    HttpServerResponse response=routingContext.response();\n                    //we dont need to chunk it here, as we have already chunked it above\n                    //response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\n                    response.write(&quot;Hi Human, This is hello2&quot;);\n\n                    //The below part is where we are using vertex and a scheduler to identify is there any thing else to match.\n                    // Using which we are not going to immediately call the next router,\n                    // rather just add the vertex code to sy that after this particular router, allow us to the next when,\n                    // this like adding filters and going through a chaining process.\n                    routingContext.\n                            vertx()\n                            .setTimer(5000, tid -&gt; routingContext.next()); //5sec timer, and us the routingContext to go to the next router, so this basically does the search for the next router with the same name.\n                });\n\n        Route handler3=router.route(&quot;/hello &quot;)\n                .handler(routingContext-&gt;{\n                    HttpServerResponse response=routingContext.response();\n                    //we dont need to chunk it here, as we have already chunked it above\n                    //response.setChunked(true);  //for multiple routes, using setchunked, this is going to stream the data like reactive application where we can push the data from server to UIs\n                    response.write(&quot;Hi Human, This is hello3&quot;);\n                    response.end();\n                });\n\n\n        HttpServer httpServer=vertx.createHttpServer();\n        httpServer.requestHandler(router).listen(8091);\n\n    }\n}\n</code></pre>\n<p>And I am getting this error:</p>\n<pre><code>SEVERE: Unhandled exception\njava.lang.IllegalStateException: Response head already sent\n    at io.vertx.core.http.impl.Http1xServerResponse.checkHeadWritten(Http1xServerResponse.java:709)\n    at io.vertx.core.http.impl.Http1xServerResponse.setStatusCode(Http1xServerResponse.java:149)\n    at io.vertx.ext.web.impl.RoutingContextImpl.checkHandleNoMatch(RoutingContextImpl.java:156)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:142)\n    at com.yashkirat.zee.vertx.Main.lambda$null$2(Main.java:49)\n    at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:948)\n    at io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:919)\n    at io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\n    at io.vertx.core.impl.DuplicatedContext.emit(DuplicatedContext.java:158)\n    at io.vertx.core.impl.ContextInternal.emit(ContextInternal.java:194)\n    at io.vertx.core.impl.VertxImpl$InternalTimerHandler.run(VertxImpl.java:937)\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>What I have tried to fix this is:</p>\n<ol>\n<li>Used try catch everywhere where this line is present: routingContext.vertx().setTimer(5000, tid -&gt; routingContext.next());</li>\n<li>Also have tried removing response.write(&quot;Hi Human, This is hello2&quot;); from everywhere and just keeping it to the second last router.</li>\n</ol>\n<p>But both of the methods didn't fix it. Any idea what could be the possible cause for this and hot to fix this?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1692887727,"post_id":76970321,"comment_id":135687667,"body_markdown":"Either add an `xml:space=&quot;preserve&quot;` attribute to the element that holds the text or put your text into CDATA nodes (e.g. `&lt;![CDATA[Text goes here]]&gt;`).","body":"Either add an <code>xml:space=&quot;preserve&quot;</code> attribute to the element that holds the text or put your text into CDATA nodes (e.g. <code>&lt;![CDATA[Text goes here]]&gt;</code>)."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1692887781,"post_id":76970321,"comment_id":135687684,"body_markdown":"You might need to create your own solution. If you run the generated XML string thru a &quot;pretty print&quot; function, your text nodes will most likely normalize. What have you tried?","body":"You might need to create your own solution. If you run the generated XML string thru a &quot;pretty print&quot; function, your text nodes will most likely normalize. What have you tried?"},{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":0,"creation_date":1692888172,"post_id":76970321,"comment_id":135687771,"body_markdown":"I think I misinterpreted the question at first - your problem is not the displaying of the whitespace, but that extra whitespace is added by either your XML generator or some pretty printing function? How exactly do you apply the XSL, using xslt?","body":"I think I misinterpreted the question at first - your problem is not the displaying of the whitespace, but that extra whitespace is added by either your XML generator or some pretty printing function? How exactly do you apply the XSL, using xslt?"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1692889767,"post_id":76970321,"comment_id":135688158,"body_markdown":"@ThomasBehr Neither solution seemed to do anything. In both cases, if I also included `white-space: pre` all white space was shown, and otherwise none was shown.","body":"@ThomasBehr Neither solution seemed to do anything. In both cases, if I also included <code>white-space: pre</code> all white space was shown, and otherwise none was shown."},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1692890245,"post_id":76970321,"comment_id":135688282,"body_markdown":"@l4mpi I don&#39;t know. There&#39;s a report.xml, a report.xsl and a style.css. I open the xml in firefox. Does that answer your question?","body":"@l4mpi I don&#39;t know. There&#39;s a report.xml, a report.xsl and a style.css. I open the xml in firefox. Does that answer your question?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1692893136,"post_id":76970321,"comment_id":135689024,"body_markdown":"@H.v.M. You wrote: &quot;However, in the XML file I get both the white space which belongs to the stack trace and extra indentation white space.&quot; and &quot;All lines except the first start with 8 extra spaces when I display the XML.&quot; If you *manually* remove the 8 spaces of extra indentation white space from your XML file, does your stacktrace display correctly?","body":"@H.v.M. You wrote: &quot;However, in the XML file I get both the white space which belongs to the stack trace and extra indentation white space.&quot; and &quot;All lines except the first start with 8 extra spaces when I display the XML.&quot; If you <i>manually</i> remove the 8 spaces of extra indentation white space from your XML file, does your stacktrace display correctly?"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1692894551,"post_id":76970321,"comment_id":135689395,"body_markdown":"@ThomasBehr Yes.","body":"@ThomasBehr Yes."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1692896889,"post_id":76970321,"comment_id":135689926,"body_markdown":"@H.v.M. So, to solve your problem you need to change how your XML is generated to prevent the XML writer to add those extra indentation white spaces. How that can be achieved depends on how you write your XML. I don&#39;t mean the code to build the XML document, but the code to write the document to a file. And which version of Java do you use for that?","body":"@H.v.M. So, to solve your problem you need to change how your XML is generated to prevent the XML writer to add those extra indentation white spaces. How that can be achieved depends on how you write your XML. I don&#39;t mean the code to build the XML document, but the code to write the document to a file. And which version of Java do you use for that?"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1692899453,"post_id":76970321,"comment_id":135690460,"body_markdown":"@ThomasBehr I&#39;m on Java 17.","body":"@ThomasBehr I&#39;m on Java 17."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1692901399,"post_id":76970321,"comment_id":135690870,"body_markdown":"@H.v.M. Ok, fine. And how do you write that XML file? I don&#39;t know if it is still possible to edit your original question, but if it is, do that. Much easier to read formatted code.","body":"@H.v.M. Ok, fine. And how do you write that XML file? I don&#39;t know if it is still possible to edit your original question, but if it is, do that. Much easier to read formatted code."}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692888527,"answer_count":0,"score":0,"last_activity_date":1692889022,"creation_date":1692887164,"question_id":76970321,"body_markdown":"I&#39;m trying to put a java exception stack trace as a text element in an XML file. A stack trace has line breaks and a tab character in the beginning of most lines, so to display it properly, I need to show whitespace which I do by putting `white-space: pre` in the XSL file. However, in the XML file I get both the white space which belongs to the stack trace and extra indentation white space. This is what ends up in the XML file:\r\n```\r\n                &lt;Comment&gt;java.lang.Exception: foo\r\n        \tat ...\r\n        \tat ...\r\n        \tat ...\r\n        Caused by: java.lang.IllegalArgumentException: fee\r\n        \tat ...\r\n        &lt;/Comment&gt;\r\n```\r\nAll lines except the first start with 8 extra spaces when I display the XML (the last 4 spaces of the &#39;at&#39; lines are the tab character). Can I change how the XML is generated or displayed to show the stack trace properly?\r\n\r\nCode excerpts:\r\n```\r\nDocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbfac.newDocumentBuilder();\r\nDocument doc = db.newDocument();\r\n...\r\nElement comment = doc.createElement(&quot;Comment&quot;);\r\ncomment.setTextContent(stacktrace);\r\n```\r\nXSL excerpt (the &quot;Description&quot; here is the same element as the &quot;Comment&quot; above):\r\n```\r\n\t\t\t\t\t\t\t\t&lt;div class=&quot;GROUP&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;table class=&quot;GROUP&quot;\r\n\t\t\t\t\t\t\t\t\t\tstyle=&quot;width: 100%; table-layout: auto; white-space: pre&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;td class=&quot;RESULT&quot;&gt;Id&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;td class=&quot;RESULT&quot;&gt;Result&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;td class=&quot;RESULT&quot;&gt;Description&lt;/td&gt;\r\n```","title":"Creating an XML file with text elements containing line breaks and tabs in Java","body":"<p>I'm trying to put a java exception stack trace as a text element in an XML file. A stack trace has line breaks and a tab character in the beginning of most lines, so to display it properly, I need to show whitespace which I do by putting <code>white-space: pre</code> in the XSL file. However, in the XML file I get both the white space which belongs to the stack trace and extra indentation white space. This is what ends up in the XML file:</p>\n<pre><code>                &lt;Comment&gt;java.lang.Exception: foo\n            at ...\n            at ...\n            at ...\n        Caused by: java.lang.IllegalArgumentException: fee\n            at ...\n        &lt;/Comment&gt;\n</code></pre>\n<p>All lines except the first start with 8 extra spaces when I display the XML (the last 4 spaces of the 'at' lines are the tab character). Can I change how the XML is generated or displayed to show the stack trace properly?</p>\n<p>Code excerpts:</p>\n<pre><code>DocumentBuilderFactory dbfac = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbfac.newDocumentBuilder();\nDocument doc = db.newDocument();\n...\nElement comment = doc.createElement(&quot;Comment&quot;);\ncomment.setTextContent(stacktrace);\n</code></pre>\n<p>XSL excerpt (the &quot;Description&quot; here is the same element as the &quot;Comment&quot; above):</p>\n<pre><code>                                &lt;div class=&quot;GROUP&quot;&gt;\n                                    &lt;table class=&quot;GROUP&quot;\n                                        style=&quot;width: 100%; table-layout: auto; white-space: pre&quot;&gt;\n                                        &lt;tr&gt;\n                                            &lt;td class=&quot;RESULT&quot;&gt;Id&lt;/td&gt;\n                                            &lt;td class=&quot;RESULT&quot;&gt;Result&lt;/td&gt;\n                                            &lt;td class=&quot;RESULT&quot;&gt;Description&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","csv"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1692884967,"post_id":76969177,"comment_id":135687007,"body_markdown":"You use Java and the AWS SDK to write a program to perform this use case.","body":"You use Java and the AWS SDK to write a program to perform this use case."}],"answers":[{"tags":[],"owner":{"account_id":4060161,"reputation":1380,"user_id":3336921,"display_name":"rahulnikhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692888925,"creation_date":1692888925,"answer_id":76970560,"question_id":76969177,"body_markdown":"    \r\nI tried this code and working for me\r\n\r\n\r\n    private static final AmazonS3 S3_CLIENT = AmazonS3ClientBuilder.standard().withRegion(S3_REGION).build();\r\n    \r\n    private final String REPORT_FILE_NAME = &quot;Report&quot;;\r\n\r\n    public void Report(@NonNull final String s3KeyInput) {\r\n    \t\tList&lt;S3ObjectSummary&gt; s3ObjectSummaryList = getS3ObjectSummaries(s3KeyInput, S3_BUCKET, S3_CLIENT)\r\n    \r\n    ;\r\n    \r\n    \t\tList&lt;S3Object&gt; s3objectList = s3ObjectSummaryList\r\n    \t\t\t.stream()\r\n    \t\t\t.map(\r\n    \t\t\t\ts3Obj -&gt;\r\n    \t\t\t\t\tS3_CLIENT.getObject(new GetObjectRequest(S3_BUCKET, s3Obj.getKey()))\r\n    \t\t\t)\r\n    \t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tList&lt;String&gt; s3ObjectStringList = transformS3ObjectToString(s3objectList);\r\n    \r\n    \t\tFile csvFile = getMergedCSVFile(REPORT_FILE_NAME, s3ObjectStringList);\r\n    \r\n    \t\tPutObjectRequest putObjectRequest = getPutObjectRequest(REPORT_FILE_NAME, csvFile);\r\n    \r\n    \t\tuploadFileToS3(putObjectRequest);\r\n    \r\n    \t}\r\n    \r\n    \t@NotNull\r\n    \tprivate static File getMergedCSVFile(String resultFileName,\r\n    \t\t\t\t\t\t\t\t\t\t List&lt;String&gt; s3ObjectStringList) {\r\n    \t\tFile csvFile = null;\r\n    \t\tfinal String FILE_HEADER = &quot;Name, DisplayName, Name&quot; + &quot;\\r\\n&quot;;\r\n    \t\ttry {\r\n    \t\t\tcsvFile = File.createTempFile(resultFileName, &quot;.csv&quot;);\r\n    \t\t\tFileOutputStream fileOutputStream = new FileOutputStream(csvFile);\r\n    \t\t\tBufferedWriter bw = new BufferedWriter(new FileWriter(csvFile));\r\n    \t\t\tbw.write(FILE_HEADER);\r\n    \t\t\tfor (String str : s3ObjectStringList) {\r\n    \t\t\t\tbw.write(str + &quot;\\r\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tbw.close();\r\n    \t\t\tfileOutputStream.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new RuntimeException(&quot;Error while Merging CSV&quot;, e);\r\n    \t\t}\r\n    \t\treturn csvFile;\r\n    \t}\r\n    \r\n    \t@NotNull\r\n    \tprivate static List&lt;String&gt; transformS3ObjectToString(List&lt;S3Object&gt; s3objectList) {\r\n    \t\tList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\n    \t\tfor (S3Object s3Object : s3objectList) {\r\n    \t\t\tfinal InputStreamReader streamReader = new InputStreamReader(s3Object.getObjectContent(), StandardCharsets.UTF_8);\r\n    \t\t\tfinal BufferedReader reader = new BufferedReader(streamReader);\r\n    \t\t\tstrList.addAll(reader.lines().collect(Collectors.toList()));\r\n    \t\t\ttry {\r\n    \t\t\t\treader.close();\r\n    \t\t\t\tstreamReader.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn strList;\r\n    \t}\r\n    \r\n    \tprivate static List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final String s3Key,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  final String s3Bucket,\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  @NotNull final AmazonS3 amazonS3\r\n    \t) {\r\n    \t\tObjectListing s3ObjectList = amazonS3.listObjects(s3Bucket, s3Key);\r\n    \t\treturn s3ObjectList.getObjectSummaries();\r\n    \t}","title":"Merge multiple csv files in s3 directory to one file","body":"<p>I tried this code and working for me</p>\n<pre><code>private static final AmazonS3 S3_CLIENT = AmazonS3ClientBuilder.standard().withRegion(S3_REGION).build();\n\nprivate final String REPORT_FILE_NAME = &quot;Report&quot;;\n\npublic void Report(@NonNull final String s3KeyInput) {\n        List&lt;S3ObjectSummary&gt; s3ObjectSummaryList = getS3ObjectSummaries(s3KeyInput, S3_BUCKET, S3_CLIENT)\n\n;\n\n        List&lt;S3Object&gt; s3objectList = s3ObjectSummaryList\n            .stream()\n            .map(\n                s3Obj -&gt;\n                    S3_CLIENT.getObject(new GetObjectRequest(S3_BUCKET, s3Obj.getKey()))\n            )\n            .collect(Collectors.toList());\n\n        List&lt;String&gt; s3ObjectStringList = transformS3ObjectToString(s3objectList);\n\n        File csvFile = getMergedCSVFile(REPORT_FILE_NAME, s3ObjectStringList);\n\n        PutObjectRequest putObjectRequest = getPutObjectRequest(REPORT_FILE_NAME, csvFile);\n\n        uploadFileToS3(putObjectRequest);\n\n    }\n\n    @NotNull\n    private static File getMergedCSVFile(String resultFileName,\n                                         List&lt;String&gt; s3ObjectStringList) {\n        File csvFile = null;\n        final String FILE_HEADER = &quot;Name, DisplayName, Name&quot; + &quot;\\r\\n&quot;;\n        try {\n            csvFile = File.createTempFile(resultFileName, &quot;.csv&quot;);\n            FileOutputStream fileOutputStream = new FileOutputStream(csvFile);\n            BufferedWriter bw = new BufferedWriter(new FileWriter(csvFile));\n            bw.write(FILE_HEADER);\n            for (String str : s3ObjectStringList) {\n                bw.write(str + &quot;\\r\\n&quot;);\n            }\n            bw.close();\n            fileOutputStream.close();\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Error while Merging CSV&quot;, e);\n        }\n        return csvFile;\n    }\n\n    @NotNull\n    private static List&lt;String&gt; transformS3ObjectToString(List&lt;S3Object&gt; s3objectList) {\n        List&lt;String&gt; strList = new ArrayList&lt;String&gt;();\n        for (S3Object s3Object : s3objectList) {\n            final InputStreamReader streamReader = new InputStreamReader(s3Object.getObjectContent(), StandardCharsets.UTF_8);\n            final BufferedReader reader = new BufferedReader(streamReader);\n            strList.addAll(reader.lines().collect(Collectors.toList()));\n            try {\n                reader.close();\n                streamReader.close();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        return strList;\n    }\n\n    private static List&lt;S3ObjectSummary&gt; getS3ObjectSummaries(final String s3Key,\n                                                              final String s3Bucket,\n                                                              @NotNull final AmazonS3 amazonS3\n    ) {\n        ObjectListing s3ObjectList = amazonS3.listObjects(s3Bucket, s3Key);\n        return s3ObjectList.getObjectSummaries();\n    }\n</code></pre>\n"}],"owner":{"account_id":4060161,"reputation":1380,"user_id":3336921,"display_name":"rahulnikhare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1693235461,"accepted_answer_id":76970560,"answer_count":1,"score":-5,"last_activity_date":1692888925,"creation_date":1692879351,"question_id":76969177,"body_markdown":"I have 100+ csv files avaialable in my s3-bucket/20230405\r\nHow can I merge these file and generate a single report or final file result.csv","title":"Merge multiple csv files in s3 directory to one file","body":"<p>I have 100+ csv files avaialable in my s3-bucket/20230405\nHow can I merge these file and generate a single report or final file result.csv</p>\n"},{"tags":["java","garbage-collection","classloader"],"answers":[{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1418387109,"post_id":17104876,"comment_id":43326324,"body_markdown":"&quot;_The ThreadLocal is not referenced by the threads_&quot; This is actually not the case, `ThreadLocal` is implemented so that each `Thread` object holds a reference to a map of `ThreadLocal`s.","body":"&quot;<i>The ThreadLocal is not referenced by the threads</i>&quot; This is actually not the case, <code>ThreadLocal</code> is implemented so that each <code>Thread</code> object holds a reference to a map of <code>ThreadLocal</code>s."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1418387257,"post_id":17104876,"comment_id":43326394,"body_markdown":"&quot;_If the ThreadLocal itself is collected because it&#39;s not accessible anymore (there&#39;s an &quot;and&quot; in the quote), then all its content can also be collected_&quot; Can you give any source for this claim? The documentation is most unclear, and several other SO answers seem to at least suggest otherwise.","body":"&quot;<i>If the ThreadLocal itself is collected because it&#39;s not accessible anymore (there&#39;s an &quot;and&quot; in the quote), then all its content can also be collected</i>&quot; Can you give any source for this claim? The documentation is most unclear, and several other SO answers seem to at least suggest otherwise."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1418476970,"post_id":17104876,"comment_id":43355230,"body_markdown":"The `ThreadLocal` is not _strongly_ referenced by the thread either (I&#39;ll update the answer). See the [implementation of `Entry`](http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/tip/src/share/classes/java/lang/ThreadLocal.java#l271) in OpenJDK, which extends `WeakReference&lt;ThreadLocal&gt;`. Hence, nothing prevents garbage collection.","body":"The <code>ThreadLocal</code> is not <i>strongly</i> referenced by the thread either (I&#39;ll update the answer). See the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/tip/src/share/classes/java/lang/ThreadLocal.java#l271\" rel=\"nofollow noreferrer\">implementation of <code>Entry</code></a> in OpenJDK, which extends <code>WeakReference&lt;ThreadLocal&gt;</code>. Hence, nothing prevents garbage collection."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1418509998,"post_id":17104876,"comment_id":43364805,"body_markdown":"But note that the _value_ in the `ThreadLocal` will not be collected! At least not immediately. There is a strong reference to the value. From what I can tell from the source code the value might or might not be collected later, depending on whether the `TheadLocal` decides to rehash.","body":"But note that the <i>value</i> in the <code>ThreadLocal</code> will not be collected! At least not immediately. There is a strong reference to the value. From what I can tell from the source code the value might or might not be collected later, depending on whether the <code>TheadLocal</code> decides to rehash."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":0,"creation_date":1418567478,"post_id":17104876,"comment_id":43375489,"body_markdown":"As soon as the `ThreadLocal` becomes unreachable, it can be collected and so can the values it contains if they are not referenced from anywhere else. The garbage collector collects entire unreachable object graphs at once, even if some parts of the graph strongly reference some others. What matters is that they&#39;re not reachable from roots. Also, the `ThreadLocal` won&#39;t rehash if it&#39;s unreachable, noone can manipulate it.","body":"As soon as the <code>ThreadLocal</code> becomes unreachable, it can be collected and so can the values it contains if they are not referenced from anywhere else. The garbage collector collects entire unreachable object graphs at once, even if some parts of the graph strongly reference some others. What matters is that they&#39;re not reachable from roots. Also, the <code>ThreadLocal</code> won&#39;t rehash if it&#39;s unreachable, noone can manipulate it."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1418636914,"post_id":17104876,"comment_id":43395189,"body_markdown":"But the value(s) in the `ThreadLocal` aren&#39;t actually stored in the `ThreadLocal` object but in a map in the thread object. `Thread` has a hard reference to a `ThreadLocalMap`, which has a hard reference to an `Entry`, which has a hard reference to the value. The value is reachable as long as the thread lives, even if the  `ThreadLocal` object has become unreachable.","body":"But the value(s) in the <code>ThreadLocal</code> aren&#39;t actually stored in the <code>ThreadLocal</code> object but in a map in the thread object. <code>Thread</code> has a hard reference to a <code>ThreadLocalMap</code>, which has a hard reference to an <code>Entry</code>, which has a hard reference to the value. The value is reachable as long as the thread lives, even if the  <code>ThreadLocal</code> object has become unreachable."},{"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"score":2,"creation_date":1418767340,"post_id":17104876,"comment_id":43459895,"body_markdown":"The `ThreadLocalMap` is indeed stored in the thread, but it can expunge stale entries (see [line 556 in `expungeStaleEntry`](http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l556) or [line 532 in `replaceStaleEntry`](http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l532)). OK, so strictly speaking the values are not *immediately* collectable and I&#39;ll again update the answer, but still, they *can* be collected *before the thread dies* under the right circumstances.","body":"The <code>ThreadLocalMap</code> is indeed stored in the thread, but it can expunge stale entries (see <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l556\" rel=\"nofollow noreferrer\">line 556 in <code>expungeStaleEntry</code></a> or <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l532\" rel=\"nofollow noreferrer\">line 532 in <code>replaceStaleEntry</code></a>). OK, so strictly speaking the values are not <i>immediately</i> collectable and I&#39;ll again update the answer, but still, they <i>can</i> be collected <i>before the thread dies</i> under the right circumstances."}],"tags":[],"owner":{"account_id":1427775,"reputation":11535,"user_id":1350869,"display_name":"Frank Pavageau"},"comment_count":7,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1418767767,"creation_date":1371200630,"answer_id":17104876,"question_id":17104452,"body_markdown":"If the `ThreadLocal` itself is collected because it&#39;s not accessible anymore (there&#39;s an &quot;and&quot; in the quote), then all its content can eventually be collected, depending on whether it&#39;s also referenced somewhere else *and* other `ThreadLocal` manipulations happen on the same thread, triggering the removal of stale entries (see for example the [`replaceStaleEntry`](http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l532) or [`expungeStaleEntry`](http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l556) methods in `ThreadLocalMap`). The `ThreadLocal` is not _(strongly) referenced by_ the threads, it _references_ the threads: think of `ThreadLocal&lt;T&gt;` as a `WeakHashMap&lt;Thread, T&gt;`.\r\n\r\nIn your example, if the classloader is collected, it will unload the `Test` class as well (unless you have a memory leak), and the `ThreadLocal` `a` will be collected.","title":"ThreadLocal garbage collection","body":"<p>If the <code>ThreadLocal</code> itself is collected because it's not accessible anymore (there's an \"and\" in the quote), then all its content can eventually be collected, depending on whether it's also referenced somewhere else <em>and</em> other <code>ThreadLocal</code> manipulations happen on the same thread, triggering the removal of stale entries (see for example the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l532\" rel=\"nofollow\"><code>replaceStaleEntry</code></a> or <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u/jdk/file/4728d748209d/src/share/classes/java/lang/ThreadLocal.java#l556\" rel=\"nofollow\"><code>expungeStaleEntry</code></a> methods in <code>ThreadLocalMap</code>). The <code>ThreadLocal</code> is not <em>(strongly) referenced by</em> the threads, it <em>references</em> the threads: think of <code>ThreadLocal&lt;T&gt;</code> as a <code>WeakHashMap&lt;Thread, T&gt;</code>.</p>\n\n<p>In your example, if the classloader is collected, it will unload the <code>Test</code> class as well (unless you have a memory leak), and the <code>ThreadLocal</code> <code>a</code> will be collected.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1371204521,"post_id":17104881,"comment_id":24747474,"body_markdown":"Not correct. ThreadLocal variables are eligible for GC when the thread is.","body":"Not correct. ThreadLocal variables are eligible for GC when the thread is."},{"owner":{"account_id":2771457,"reputation":2563,"user_id":2385987,"display_name":"gma"},"score":0,"creation_date":1371211178,"post_id":17104881,"comment_id":24750729,"body_markdown":"@EJP yes, i was answering in the question context with thread pools: _but thread is from a thread pool_","body":"@EJP yes, i was answering in the question context with thread pools: <i>but thread is from a thread pool</i>"}],"tags":[],"owner":{"account_id":2771457,"reputation":2563,"user_id":2385987,"display_name":"gma"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1371211247,"creation_date":1371200656,"answer_id":17104881,"question_id":17104452,"body_markdown":"It depends, it will not be garbage collected if your are referencing it as static or by singleton and your class is not unloaded, that is why in application server environment and with `ThreadLocal` values, you have to use some listener or request filter the be sure that you are dereferencing all thread local variables at the end of the request processing. Or either use some *Request scope* functionality of your framework.\r\n\r\nYou can look [here][1] for some other explanations.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3869026/how-to-clean-up-threadlocals\r\n\r\nEDIT: In the context of a thread pool as asked, of course if the Thread is garbaged thread locals are.","title":"ThreadLocal garbage collection","body":"<p>It depends, it will not be garbage collected if your are referencing it as static or by singleton and your class is not unloaded, that is why in application server environment and with <code>ThreadLocal</code> values, you have to use some listener or request filter the be sure that you are dereferencing all thread local variables at the end of the request processing. Or either use some <em>Request scope</em> functionality of your framework.</p>\n\n<p>You can look <a href=\"https://stackoverflow.com/questions/3869026/how-to-clean-up-threadlocals\">here</a> for some other explanations.</p>\n\n<p>EDIT: In the context of a thread pool as asked, of course if the Thread is garbaged thread locals are.</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":4,"creation_date":1418386888,"post_id":17105737,"comment_id":43326206,"body_markdown":"This answer is unclear. &quot;_so its entries may be removed_&quot; The most important part for the question is: When will they actually be removed? It&#39;s not only you that are unclear on this point, both the documentation and the whole of Stack Overflow seem equally confused.","body":"This answer is unclear. &quot;<i>so its entries may be removed</i>&quot; The most important part for the question is: When will they actually be removed? It&#39;s not only you that are unclear on this point, both the documentation and the whole of Stack Overflow seem equally confused."},{"owner":{"account_id":7679118,"reputation":6230,"user_id":5818889,"accept_rate":83,"display_name":"glee8e"},"score":0,"creation_date":1630169134,"post_id":17105737,"comment_id":121885062,"body_markdown":"&quot;When will they actually be removed?&quot; The correct answer is nobody knows. This is an implementation detail of JVM. For particular GC it might never happens, e.g. Epsilon GC on HotSpot.","body":"&quot;When will they actually be removed?&quot; The correct answer is nobody knows. This is an implementation detail of JVM. For particular GC it might never happens, e.g. Epsilon GC on HotSpot."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1527496305,"creation_date":1371203468,"answer_id":17105737,"question_id":17104452,"body_markdown":"ThreadLocal variables are hold in Thread\r\n\r\n    ThreadLocal.ThreadLocalMap threadLocals;\r\n\r\nwhich is initialized lazily on first `ThreadLocal.set/get` invocation in the current thread and holds reference to the `map` until `Thread` is alive. However `ThreadLocalMap` uses `WeakReferences` for keys so its entries may be removed when `ThreadLocal` is referenced from nowhere else. See `ThreadLocal.ThreadLocalMap` javadoc for details\r\n","title":"ThreadLocal garbage collection","body":"<p>ThreadLocal variables are hold in Thread</p>\n\n<pre><code>ThreadLocal.ThreadLocalMap threadLocals;\n</code></pre>\n\n<p>which is initialized lazily on first <code>ThreadLocal.set/get</code> invocation in the current thread and holds reference to the <code>map</code> until <code>Thread</code> is alive. However <code>ThreadLocalMap</code> uses <code>WeakReferences</code> for keys so its entries may be removed when <code>ThreadLocal</code> is referenced from nowhere else. See <code>ThreadLocal.ThreadLocalMap</code> javadoc for details</p>\n"},{"tags":[],"owner":{"account_id":542673,"reputation":7014,"user_id":911576,"accept_rate":62,"display_name":"anish"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1371204019,"creation_date":1371204019,"answer_id":17105925,"question_id":17104452,"body_markdown":"ThreadLocal contains a reference to a WeakHashMap that holds key-value pairs\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g1NTF.gif","title":"ThreadLocal garbage collection","body":"<p>ThreadLocal contains a reference to a WeakHashMap that holds key-value pairs</p>\n\n<p><img src=\"https://i.stack.imgur.com/g1NTF.gif\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1420288186,"post_id":27525780,"comment_id":43920406,"body_markdown":"This is a nice explanation of the issue. I&#39;d like to add a condensed version of the conclusion to take away from this: **You can not count on the value of a `ThreadLocal` being garbage collected when the `ThreadLocal` object is no longer referenced. You have to call `ThreadLocal.remove` or terminate the thread.**","body":"This is a nice explanation of the issue. I&#39;d like to add a condensed version of the conclusion to take away from this: <b>You can not count on the value of a <code>ThreadLocal</code> being garbage collected when the <code>ThreadLocal</code> object is no longer referenced. You have to call <code>ThreadLocal.remove</code> or terminate the thread.</b>"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1692888737,"creation_date":1418819678,"answer_id":27525780,"question_id":17104452,"body_markdown":"**TL;DR** : You cannot count on the value of a `ThreadLocal` being garbage collected when the `ThreadLocal` object is no longer referenced. You have to call `ThreadLocal.remove` or cause the thread to terminate\r\n\r\n&lt;sup&gt;(Thanks to [@Lii][1])&lt;/sup&gt;\r\n\r\n------------------\r\n\r\nDetailed answer:\r\n\r\n&gt; from that it seems that objects referenced by a `ThreadLocal` variable are garbage collected only when thread dies.\r\n\r\nThat is an over-simplification.  What it actually says is two things:\r\n\r\n  - The value of the variable *won&#39;t* be garbage collected while the thread is alive (hasn&#39;t terminated), AND the `ThreadLocal` object is strongly reachable.\r\n\r\n  - The value *will* be subject to normal garbage collection rules when the thread terminates.\r\n\r\nThere is an important third case where the thread is still live but the `ThreadLocal` is no longer strongly reachable. That is not covered by the javadoc.  Thus, the GC behavior in that case is unspecified, and could potentially be different across different Java implementations.\r\n\r\nIn fact, for OpenJDK Java 6 through OpenJDK Java 17 (and other implementations derived from those code-bases) the actual behavior is rather complicated.  The values of a thread&#39;s thread-locals are held in a `ThreadLocalMap` object.  The comments say this:\r\n\r\n&gt; `ThreadLocalMap` is a customized hash map suitable only for maintaining thread local values. [...] To help deal with very large and long-lived usages, the hash table entries use `WeakReferences` for keys. However, since reference queues are not used, stale entries are guaranteed to be removed only when the table starts running out of space.\r\n\r\nIf you look at the code, stale map entries (with broken `WeakReferences`) *may* also be removed in other circumstances.  If stale entry is encountered in a get, set, insert or remove operation on the map, the corresponding value is nulled.  In some cases, the code does a partial scan heuristic, but the only situation where we can *guarantee* that all stale map entries are removed is when the hash table is resized (grows).\r\n\r\n----------\r\n\r\nSo ...\r\n\r\n&gt; Then during context undeploy application classloader becomes a subject for garbage collection, but thread is from a thread pool so it does not die. Will object `b` be subject for garbage collection?\r\n\r\nThe best we can say is that it may be ... depending on how the application manages other thread locals the thread in question.\r\n\r\nSo yes, stale thread-local map entries *could* be a storage leak if you redeploy a webapp, unless the web container destroys and recreates all of the request threads in the thread pool.  (You would hope that a web container would / could do that, but AFAIK it is not specified.)\r\n\r\nThe other alternative is to have your webapp&#39;s servlets always clean up after themselves by calling `ThreadLocal.remove` on each one on completion (successful or otherwise) of each request.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/452775/lii","title":"ThreadLocal garbage collection","body":"<p><strong>TL;DR</strong> : You cannot count on the value of a <code>ThreadLocal</code> being garbage collected when the <code>ThreadLocal</code> object is no longer referenced. You have to call <code>ThreadLocal.remove</code> or cause the thread to terminate</p>\n<p><sup>(Thanks to <a href=\"https://stackoverflow.com/users/452775/lii\">@Lii</a>)</sup></p>\n<hr />\n<p>Detailed answer:</p>\n<blockquote>\n<p>from that it seems that objects referenced by a <code>ThreadLocal</code> variable are garbage collected only when thread dies.</p>\n</blockquote>\n<p>That is an over-simplification.  What it actually says is two things:</p>\n<ul>\n<li><p>The value of the variable <em>won't</em> be garbage collected while the thread is alive (hasn't terminated), AND the <code>ThreadLocal</code> object is strongly reachable.</p>\n</li>\n<li><p>The value <em>will</em> be subject to normal garbage collection rules when the thread terminates.</p>\n</li>\n</ul>\n<p>There is an important third case where the thread is still live but the <code>ThreadLocal</code> is no longer strongly reachable. That is not covered by the javadoc.  Thus, the GC behavior in that case is unspecified, and could potentially be different across different Java implementations.</p>\n<p>In fact, for OpenJDK Java 6 through OpenJDK Java 17 (and other implementations derived from those code-bases) the actual behavior is rather complicated.  The values of a thread's thread-locals are held in a <code>ThreadLocalMap</code> object.  The comments say this:</p>\n<blockquote>\n<p><code>ThreadLocalMap</code> is a customized hash map suitable only for maintaining thread local values. [...] To help deal with very large and long-lived usages, the hash table entries use <code>WeakReferences</code> for keys. However, since reference queues are not used, stale entries are guaranteed to be removed only when the table starts running out of space.</p>\n</blockquote>\n<p>If you look at the code, stale map entries (with broken <code>WeakReferences</code>) <em>may</em> also be removed in other circumstances.  If stale entry is encountered in a get, set, insert or remove operation on the map, the corresponding value is nulled.  In some cases, the code does a partial scan heuristic, but the only situation where we can <em>guarantee</em> that all stale map entries are removed is when the hash table is resized (grows).</p>\n<hr />\n<p>So ...</p>\n<blockquote>\n<p>Then during context undeploy application classloader becomes a subject for garbage collection, but thread is from a thread pool so it does not die. Will object <code>b</code> be subject for garbage collection?</p>\n</blockquote>\n<p>The best we can say is that it may be ... depending on how the application manages other thread locals the thread in question.</p>\n<p>So yes, stale thread-local map entries <em>could</em> be a storage leak if you redeploy a webapp, unless the web container destroys and recreates all of the request threads in the thread pool.  (You would hope that a web container would / could do that, but AFAIK it is not specified.)</p>\n<p>The other alternative is to have your webapp's servlets always clean up after themselves by calling <code>ThreadLocal.remove</code> on each one on completion (successful or otherwise) of each request.</p>\n"},{"tags":[],"owner":{"account_id":2199682,"reputation":569,"user_id":1944408,"accept_rate":67,"display_name":"user1944408"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1470747507,"creation_date":1470747507,"answer_id":38851444,"question_id":17104452,"body_markdown":"Object b will not be subject for garbage collection if it somehow refers to your  Test class. It can happen without your intention. For example if you have a code like this:\r\n\r\n    public class Test {\r\n        private static final ThreadLocal&lt;Set&lt;Integer&gt;&gt; a =\r\n         new ThreadLocal&lt;Set&lt;Integer&gt;&gt;(){\r\n        \t\t@Override public Set&lt;Integer&gt; initialValue(){\r\n        \t\t\treturn new HashSet&lt;Integer&gt;(){{add(5);}};\r\n        \t\t}\r\n        };\r\n    }\r\n\r\nThe double brace initialization {{add(5);}} will create an anonymous class which refers to your Test class so this object will never be garbage collected even if you don&#39;t have reference to your Test class anymore. If that Test class is used in a web app then it will refer to its class loader which will prevent all other classes to be GCed.\r\n\r\nMoreover, if your b object is a simple object it will not be immediately subject for GC. Only when ThreadLocal.ThreadLocalMap in Thread class is resized you will have your object b subject for GC.\r\n\r\nHowever I created a [solution][1] for this problem so when you redeploy your web app you will never have class loader leaks.\r\n\r\n\r\n  [1]: http://github.com/codesinthedark/ImprovedThreadLocal","title":"ThreadLocal garbage collection","body":"<p>Object b will not be subject for garbage collection if it somehow refers to your  Test class. It can happen without your intention. For example if you have a code like this:</p>\n\n<pre><code>public class Test {\n    private static final ThreadLocal&lt;Set&lt;Integer&gt;&gt; a =\n     new ThreadLocal&lt;Set&lt;Integer&gt;&gt;(){\n            @Override public Set&lt;Integer&gt; initialValue(){\n                return new HashSet&lt;Integer&gt;(){{add(5);}};\n            }\n    };\n}\n</code></pre>\n\n<p>The double brace initialization {{add(5);}} will create an anonymous class which refers to your Test class so this object will never be garbage collected even if you don't have reference to your Test class anymore. If that Test class is used in a web app then it will refer to its class loader which will prevent all other classes to be GCed.</p>\n\n<p>Moreover, if your b object is a simple object it will not be immediately subject for GC. Only when ThreadLocal.ThreadLocalMap in Thread class is resized you will have your object b subject for GC.</p>\n\n<p>However I created a <a href=\"http://github.com/codesinthedark/ImprovedThreadLocal\" rel=\"nofollow\">solution</a> for this problem so when you redeploy your web app you will never have class loader leaks.</p>\n"}],"owner":{"account_id":216114,"reputation":14272,"user_id":471149,"accept_rate":64,"display_name":"michael nesterenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9066,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":17105737,"answer_count":6,"score":23,"last_activity_date":1692888737,"creation_date":1371199243,"question_id":17104452,"body_markdown":"From javadoc\r\n\r\n&gt; Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist). \r\n\r\n\r\nfrom that it seems that objects referenced by a ThreadLocal variable are garbage collected only when thread dies. But what if ThreadLocal variable `a` is no more referenced and is subject for garbage collection? Will object references only by variable `a` be subject to garbage collection if thread that holds `a` is still alive?\r\n\r\nfor example there is following class with ThreadLocal variable:\r\n\r\n    public class Test {\r\n        private static final ThreadLocal a = ...; // references object b\r\n    }\r\n\r\nThis class references some object and this object has no other references to it. Then during context undeploy application classloader becomes a subject for garbage collection, but thread is from a thread pool so it does not die. Will object `b` be subject for garbage collection?\r\n","title":"ThreadLocal garbage collection","body":"<p>From javadoc</p>\n\n<blockquote>\n  <p>Each thread holds an implicit reference to its copy of a thread-local variable as long as the thread is alive and the ThreadLocal instance is accessible; after a thread goes away, all of its copies of thread-local instances are subject to garbage collection (unless other references to these copies exist). </p>\n</blockquote>\n\n<p>from that it seems that objects referenced by a ThreadLocal variable are garbage collected only when thread dies. But what if ThreadLocal variable <code>a</code> is no more referenced and is subject for garbage collection? Will object references only by variable <code>a</code> be subject to garbage collection if thread that holds <code>a</code> is still alive?</p>\n\n<p>for example there is following class with ThreadLocal variable:</p>\n\n<pre><code>public class Test {\n    private static final ThreadLocal a = ...; // references object b\n}\n</code></pre>\n\n<p>This class references some object and this object has no other references to it. Then during context undeploy application classloader becomes a subject for garbage collection, but thread is from a thread pool so it does not die. Will object <code>b</code> be subject for garbage collection?</p>\n"},{"tags":["java","jmeter"],"answers":[{"comments":[{"owner":{"account_id":29286312,"reputation":11,"user_id":22437785,"display_name":"Ki To Kiroto"},"score":0,"creation_date":1692907630,"post_id":76970458,"comment_id":135692025,"body_markdown":"I don&#39;t have any issues with the collection itself (I&#39;ve manually used the bearer token extracted from Postman). My struggle lies in generating the token within JMeter. I&#39;m wondering why replicating a 1:1 set of requests from Postman during the authentication process works seamlessly one after another (connect/authorize -&gt; SSO -&gt; Login -&gt; OTP -&gt; Callback), yet it&#39;s only at the critical point (connect/token), the most important one, that it throws an error.","body":"I don&#39;t have any issues with the collection itself (I&#39;ve manually used the bearer token extracted from Postman). My struggle lies in generating the token within JMeter. I&#39;m wondering why replicating a 1:1 set of requests from Postman during the authentication process works seamlessly one after another (connect/authorize -&gt; SSO -&gt; Login -&gt; OTP -&gt; Callback), yet it&#39;s only at the critical point (connect/token), the most important one, that it throws an error."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692888325,"creation_date":1692888325,"answer_id":76970458,"question_id":76970390,"body_markdown":"If you can successfully obtain the token using Postman you should be able to record the flow using JMeter&#39;s [HTTP(S) Test Script Recorder][1]. \r\n\r\n[Configure Postman to use JMeter as the proxy][2] \r\n\r\n[![enter image description here][3]][3]\r\n\r\nand run your collection. JMeter will generate appropriate [HTTP Request][4] samplers and [HTTP Header Managers][5]. \r\n\r\nOnce you perform [correlation][6] of dynamic parameters you should be able to get the token in JMeter as well. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\r\n  [2]: https://learning.postman.com/docs/getting-started/installation/proxy/\r\n  [3]: https://i.stack.imgur.com/Q9lNj.png\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\r\n  [5]: https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\r\n  [6]: https://www.blazemeter.com/blog/correlation-in-jmeter","title":"Trouble with Bearer Token Authorization via Authorization Code (PKCE) in Jmeter","body":"<p>If you can successfully obtain the token using Postman you should be able to record the flow using JMeter's <a href=\"https://jmeter.apache.org/usermanual/jmeter_proxy_step_by_step.html\" rel=\"nofollow noreferrer\">HTTP(S) Test Script Recorder</a>.</p>\n<p><a href=\"https://learning.postman.com/docs/getting-started/installation/proxy/\" rel=\"nofollow noreferrer\">Configure Postman to use JMeter as the proxy</a></p>\n<p><a href=\"https://i.stack.imgur.com/Q9lNj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9lNj.png\" alt=\"enter image description here\" /></a></p>\n<p>and run your collection. JMeter will generate appropriate <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Request\" rel=\"nofollow noreferrer\">HTTP Request</a> samplers and <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTTP_Header_Manager\" rel=\"nofollow noreferrer\">HTTP Header Managers</a>.</p>\n<p>Once you perform <a href=\"https://www.blazemeter.com/blog/correlation-in-jmeter\" rel=\"nofollow noreferrer\">correlation</a> of dynamic parameters you should be able to get the token in JMeter as well.</p>\n"}],"owner":{"account_id":29286312,"reputation":11,"user_id":22437785,"display_name":"Ki To Kiroto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692888325,"creation_date":1692887763,"question_id":76970390,"body_markdown":"I&#39;ve been trying to replicate the PKCE Authorization Code flow from Postman to JMeter, and I&#39;ve encountered an issue. Specifically, when I make a request to */connect/token* in JMeter, the response I receive is **{&quot;error&quot;:&quot;invalid_client&quot;}**.\r\n\r\nTo provide some context, I have a collection set up in Postman where I&#39;m using the PKCE method for authorization. Everything seems to work smoothly until I reach the final step involving the */connect/token* request. When I attempt to perform the same steps in JMeter, I encounter this problem.\r\n\r\nHere&#39;s a summary of my actions:\r\n\r\n1. I successfully imported the relevant requests from Postman into JMeter.\r\n\r\n2. I&#39;ve verified that all the required parameters are correctly included in the */connect/token* request.\r\n\r\n3. Other requests within the collection, which don&#39;t pertain to token exchange, function properly in JMeter.\r\n\r\n4. I&#39;ve meticulously cross-checked the authorization code and other related parameters to ensure they match between Postman and JMeter.\r\n\r\nDespite my best efforts, I consistently receive the **{&quot;error&quot;:&quot;invalid_client&quot;}** response when executing the */connect/token* request in JMeter. It appears that there might be subtle differences between how Postman and JMeter handle this request that I haven&#39;t yet identified.\r\n\r\n[JMeter - Postman](https://i.stack.imgur.com/PdVp1.jpg)\r\n\r\n\r\nI&#39;ve noticed something interesting about the headers in the */connect/token* request using Postman. The User-Agent is set as *PostmanRuntime/7.32.3*. I tried adjusting the headers to match those in Postman, but I&#39;m getting a POST 302 response instead of 200. This might be due to the request automation in Postman after logging into the application.","title":"Trouble with Bearer Token Authorization via Authorization Code (PKCE) in Jmeter","body":"<p>I've been trying to replicate the PKCE Authorization Code flow from Postman to JMeter, and I've encountered an issue. Specifically, when I make a request to <em>/connect/token</em> in JMeter, the response I receive is <strong>{&quot;error&quot;:&quot;invalid_client&quot;}</strong>.</p>\n<p>To provide some context, I have a collection set up in Postman where I'm using the PKCE method for authorization. Everything seems to work smoothly until I reach the final step involving the <em>/connect/token</em> request. When I attempt to perform the same steps in JMeter, I encounter this problem.</p>\n<p>Here's a summary of my actions:</p>\n<ol>\n<li><p>I successfully imported the relevant requests from Postman into JMeter.</p>\n</li>\n<li><p>I've verified that all the required parameters are correctly included in the <em>/connect/token</em> request.</p>\n</li>\n<li><p>Other requests within the collection, which don't pertain to token exchange, function properly in JMeter.</p>\n</li>\n<li><p>I've meticulously cross-checked the authorization code and other related parameters to ensure they match between Postman and JMeter.</p>\n</li>\n</ol>\n<p>Despite my best efforts, I consistently receive the <strong>{&quot;error&quot;:&quot;invalid_client&quot;}</strong> response when executing the <em>/connect/token</em> request in JMeter. It appears that there might be subtle differences between how Postman and JMeter handle this request that I haven't yet identified.</p>\n<p><a href=\"https://i.stack.imgur.com/PdVp1.jpg\" rel=\"nofollow noreferrer\">JMeter - Postman</a></p>\n<p>I've noticed something interesting about the headers in the <em>/connect/token</em> request using Postman. The User-Agent is set as <em>PostmanRuntime/7.32.3</em>. I tried adjusting the headers to match those in Postman, but I'm getting a POST 302 response instead of 200. This might be due to the request automation in Postman after logging into the application.</p>\n"},{"tags":["java","spring","model-view-controller"],"comments":[{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455263383,"post_id":35357267,"comment_id":58420983,"body_markdown":"r u using hibernate ?","body":"r u using hibernate ?"},{"owner":{"account_id":4274368,"reputation":405,"user_id":3495440,"accept_rate":79,"display_name":"melkir"},"score":0,"creation_date":1455263651,"post_id":35357267,"comment_id":58421086,"body_markdown":"yes i&#39;m using hibernate, spring-boot-starter-data-jpa to be more precise","body":"yes i&#39;m using hibernate, spring-boot-starter-data-jpa to be more precise"},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455263683,"post_id":35357267,"comment_id":58421093,"body_markdown":"see my below answer use dynamicUpdate=true. it will update only changed values.","body":"see my below answer use dynamicUpdate=true. it will update only changed values."},{"owner":{"account_id":513777,"reputation":3202,"user_id":2069922,"accept_rate":62,"display_name":"user152468"},"score":1,"creation_date":1455271011,"post_id":35357267,"comment_id":58425157,"body_markdown":"Using spring-data-jpa, and having a repository extending CrudRepository, you should simply be able to save your entity with the ID already set, and spring-data will overwrite the entity with the same id. No need to individually set properties of the entity. See Patrick&#39;s answer below.","body":"Using spring-data-jpa, and having a repository extending CrudRepository, you should simply be able to save your entity with the ID already set, and spring-data will overwrite the entity with the same id. No need to individually set properties of the entity. See Patrick&#39;s answer below."}],"answers":[{"comments":[{"owner":{"account_id":4274368,"reputation":405,"user_id":3495440,"accept_rate":79,"display_name":"melkir"},"score":0,"creation_date":1455263786,"post_id":35357363,"comment_id":58421131,"body_markdown":"The annotations is all I need ? I&#39;m asking this because my updateUser method is still setting all fields. But I agree that this will reduce database queries for the &quot;.save()&quot; method.","body":"The annotations is all I need ? I&#39;m asking this because my updateUser method is still setting all fields. But I agree that this will reduce database queries for the &quot;.save()&quot; method."},{"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"score":0,"creation_date":1455264099,"post_id":35357363,"comment_id":58421257,"body_markdown":"No. there is no way to set only updated data. because user should have all data. because finally  it is going to update in database so hibernate need all data otherwise hibernate will update null if user doesn&#39;t have attribute value..","body":"No. there is no way to set only updated data. because user should have all data. because finally  it is going to update in database so hibernate need all data otherwise hibernate will update null if user doesn&#39;t have attribute value.."},{"owner":{"account_id":7993603,"reputation":1201,"user_id":6030719,"accept_rate":50,"display_name":"S&#233;rgio Thiago Mendon&#231;a"},"score":0,"creation_date":1658338655,"post_id":35357363,"comment_id":129029473,"body_markdown":"It does not work!","body":"It does not work!"}],"tags":[],"owner":{"account_id":6851943,"reputation":1557,"user_id":5268867,"accept_rate":21,"display_name":"Musaddique S"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503055500,"creation_date":1455263494,"answer_id":35357363,"question_id":35357267,"body_markdown":"if you are using hibernate then there is one attribute in hibernate `dynamicUpdate = true` which will update only updated fields in db\r\n\r\nlike below code\r\n\r\n    @Entity\r\n    @Table(name = &quot;User&quot;)\r\n    @org.hibernate.annotations.Entity(\r\n    \t\tdynamicUpdate = true\r\n    )\r\n    public class User \r\n\r\nfor hibenrate 4 + use these\r\n\r\n    @DynamicInsert(true)\r\n    @DynamicUpdate(true)","title":"How to update only attributes that have changed - Spring MVC","body":"<p>if you are using hibernate then there is one attribute in hibernate <code>dynamicUpdate = true</code> which will update only updated fields in db</p>\n\n<p>like below code</p>\n\n<pre><code>@Entity\n@Table(name = \"User\")\n@org.hibernate.annotations.Entity(\n        dynamicUpdate = true\n)\npublic class User \n</code></pre>\n\n<p>for hibenrate 4 + use these</p>\n\n<pre><code>@DynamicInsert(true)\n@DynamicUpdate(true)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4274368,"reputation":405,"user_id":3495440,"accept_rate":79,"display_name":"melkir"},"score":0,"creation_date":1455310810,"post_id":35357901,"comment_id":58450075,"body_markdown":"Thank you for your explanations !","body":"Thank you for your explanations !"},{"owner":{"account_id":981663,"reputation":17502,"user_id":1001224,"accept_rate":82,"display_name":"lolo"},"score":3,"creation_date":1478423730,"post_id":35357901,"comment_id":68141350,"body_markdown":"It doesn&#39;t answer the question. The question is : &quot;How to update only attributes that have changed &quot;. The answer, still update the  attributes inside userRepository.save(...). it just doesn&#39;t do sets but behind the hood the set to the data base will occur.\nExample: user.firstName = &#39;lolo&#39;, the user wants to change user.lastName= &#39;koko&#39;. but @trudy intercept it and change also the first name. The update will change both","body":"It doesn&#39;t answer the question. The question is : &quot;How to update only attributes that have changed &quot;. The answer, still update the  attributes inside userRepository.save(...). it just doesn&#39;t do sets but behind the hood the set to the data base will occur. Example: user.firstName = &#39;lolo&#39;, the user wants to change user.lastName= &#39;koko&#39;. but @trudy intercept it and change also the first name. The update will change both"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1478427960,"post_id":35357901,"comment_id":68142264,"body_markdown":"@lolo Maybe it does not answer the question of 100% but it was exactly the solution he searched for. Because he does not wanted an &quot;ugly&quot; method of `updateUser `. So dont know if the downvote is justified.","body":"@lolo Maybe it does not answer the question of 100% but it was exactly the solution he searched for. Because he does not wanted an &quot;ugly&quot; method of <code>updateUser </code>. So dont know if the downvote is justified."},{"owner":{"account_id":981663,"reputation":17502,"user_id":1001224,"accept_rate":82,"display_name":"lolo"},"score":3,"creation_date":1478443415,"post_id":35357901,"comment_id":68146547,"body_markdown":"@Patrick The idea behind the problem its not code convention, its data integrity.","body":"@Patrick The idea behind the problem its not code convention, its data integrity."}],"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":4,"down_vote_count":5,"up_vote_count":6,"is_accepted":true,"score":1,"last_activity_date":1455267809,"creation_date":1455265634,"answer_id":35357901,"question_id":35357267,"body_markdown":"I suppose that your code works like this: \r\n\r\nAn user want to change some data of his `user entity`. Means in frontend you already show him all his entries from the user table of the DB like firstname, lastname and so on.\r\n\r\nFor example the user changed his firstname and hit the save button. Your controller receive the user entity **inclusive the user.id, the new firstname and all the old set values**. If your code works like this you can easily `save()` the user entity. There is no need to fetch the user from the DB first. \r\n\r\nSo just do it like this:\r\n\r\n    @Override\r\n    public void updateUser(User user) {\r\n        userRepository.save(user);\r\n    }\r\n\r\nThe `Repository` knows the Id of the user entity and just update the complete entity.\r\n\r\nAnd for the reason you dont have the Id in your user entity use the Id from your controller like this:\r\n\r\n    @Override\r\n    public void updateUser(User user, Long Id) {\r\n        user.setId(Id);\r\n        userRepository.save(user);\r\n    }","title":"How to update only attributes that have changed - Spring MVC","body":"<p>I suppose that your code works like this: </p>\n\n<p>An user want to change some data of his <code>user entity</code>. Means in frontend you already show him all his entries from the user table of the DB like firstname, lastname and so on.</p>\n\n<p>For example the user changed his firstname and hit the save button. Your controller receive the user entity <strong>inclusive the user.id, the new firstname and all the old set values</strong>. If your code works like this you can easily <code>save()</code> the user entity. There is no need to fetch the user from the DB first. </p>\n\n<p>So just do it like this:</p>\n\n<pre><code>@Override\npublic void updateUser(User user) {\n    userRepository.save(user);\n}\n</code></pre>\n\n<p>The <code>Repository</code> knows the Id of the user entity and just update the complete entity.</p>\n\n<p>And for the reason you dont have the Id in your user entity use the Id from your controller like this:</p>\n\n<pre><code>@Override\npublic void updateUser(User user, Long Id) {\n    user.setId(Id);\n    userRepository.save(user);\n}\n</code></pre>\n"}],"owner":{"account_id":4274368,"reputation":405,"user_id":3495440,"accept_rate":79,"display_name":"melkir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23217,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":35357901,"answer_count":2,"score":12,"last_activity_date":1692888253,"creation_date":1455263055,"question_id":35357267,"body_markdown":"My controller\r\n\r\n    @RequestMapping(value = &quot;/user/{id}&quot;, method = RequestMethod.GET)\r\n    public String updateUserById(@PathVariable(&quot;id&quot;) Long id, Model model) {\r\n        User user = userRepository.findOne(id);\r\n        model.addAttribute(user);\r\n        return &quot;admin/editUser&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/user/{id}&quot;, method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public String updateUserById(@PathVariable(&quot;id&quot;) Long id, @ModelAttribute User user) {\r\n        userRepository.updateUser(id, user); // with a try catch\r\n    }\r\n\r\nThe dao\r\n\r\n    @Override\r\n    public void updateUser(Long id, User user) {\r\n        User userDB = userRepository.findOne(id);\r\n        userDB.setFirstName(user.getFirstName());\r\n        userDB.setLastName(user.getLastName());\r\n        userDB.setEmail(user.getEmail());\r\n        userDB.setUsername(user.getUsername());\r\n        userRepository.save(userDB);\r\n    }\r\nThis method works but it&#39;s pretty ugly for me. Let&#39;s say that the user have just changed the firstname field in the view, how can I adapt my code to only call the function to set the firstname ?\r\n\r\nSomething like the Observer pattern to notify field that have change ?","title":"How to update only attributes that have changed - Spring MVC","body":"<p>My controller</p>\n\n<pre><code>@RequestMapping(value = \"/user/{id}\", method = RequestMethod.GET)\npublic String updateUserById(@PathVariable(\"id\") Long id, Model model) {\n    User user = userRepository.findOne(id);\n    model.addAttribute(user);\n    return \"admin/editUser\";\n}\n\n@RequestMapping(value = \"/user/{id}\", method = RequestMethod.POST)\n@ResponseBody\npublic String updateUserById(@PathVariable(\"id\") Long id, @ModelAttribute User user) {\n    userRepository.updateUser(id, user); // with a try catch\n}\n</code></pre>\n\n<p>The dao</p>\n\n<pre><code>@Override\npublic void updateUser(Long id, User user) {\n    User userDB = userRepository.findOne(id);\n    userDB.setFirstName(user.getFirstName());\n    userDB.setLastName(user.getLastName());\n    userDB.setEmail(user.getEmail());\n    userDB.setUsername(user.getUsername());\n    userRepository.save(userDB);\n}\n</code></pre>\n\n<p>This method works but it's pretty ugly for me. Let's say that the user have just changed the firstname field in the view, how can I adapt my code to only call the function to set the firstname ?</p>\n\n<p>Something like the Observer pattern to notify field that have change ?</p>\n"},{"tags":["java","spring-batch","batch-processing","spring-batch-tasklet","spring-batch-job-monitoring"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692530565,"post_id":76884001,"comment_id":135633333,"body_markdown":"have you tried to analyze thread dumps ? where are those readers are waiting https://stackoverflow.com/a/59297776/175554 if you create a small reproducer it would be easier to investigate the issue.","body":"have you tried to analyze thread dumps ? where are those readers are waiting <a href=\"https://stackoverflow.com/a/59297776/175554\">stackoverflow.com/a/59297776/175554</a> if you create a small reproducer it would be easier to investigate the issue."},{"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"score":0,"creation_date":1692710396,"post_id":76884001,"comment_id":135659086,"body_markdown":"@ozkanpakdil I have captured the thread dump using jstack and attached in the question. Kindly check.","body":"@ozkanpakdil I have captured the thread dump using jstack and attached in the question. Kindly check."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1692731657,"post_id":76884001,"comment_id":135663933,"body_markdown":"I checked the thread dump, you don&#39;t seem like have many threads. one thread &quot;\n&quot;SimpleAsyncTaskExecutor-1&quot; #50&quot; looks like locked situation and waiting on some http response, I think your batch configuration is not working very parallel and with enough of threads, if you prepare a reproducer I can dig more.","body":"I checked the thread dump, you don&#39;t seem like have many threads. one thread &quot; &quot;SimpleAsyncTaskExecutor-1&quot; #50&quot; looks like locked situation and waiting on some http response, I think your batch configuration is not working very parallel and with enough of threads, if you prepare a reproducer I can dig more."},{"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"score":0,"creation_date":1692888395,"post_id":76884001,"comment_id":135687817,"body_markdown":"@ozkanpakdil I updated the thread dump, can you please check now. Thanks","body":"@ozkanpakdil I updated the thread dump, can you please check now. Thanks"}],"owner":{"account_id":7258679,"reputation":35,"user_id":5536327,"display_name":"Sagar SN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692888013,"creation_date":1691760665,"question_id":76884001,"body_markdown":"I have developed an ETL application utilizing Spring Batch, wherein data is fetched through REST requests. The application comprises around 15 Spring Batch classes, each responsible for loading a different dataset. One of the class/job FitsVendorJob has been posted below and all other classes also been designed in the same way.\r\n\r\nI&#39;ve encountered a performance challenge: while one class&#39;s readers are retrieving data, the readers from other classes are need to wait. Notably, some readers take considerable time (minutes) to fetch data, causing even the faster readers to wait. I feel it is happening not only with readers but with processor and writer too.  I believe I designed all the classes/jobs to be independent of each other but even then there seems to be dependency. \r\n\r\nMy expected job flow would be,\r\n\r\n 1. Execute truncateFitsVendorTable and truncateSrcVendorTable steps in\r\n    parallel. \r\n 2. Proceed with the processVendorKeyConstraints step. \r\n 3. Run loadWFitsVendorTable and loadSrcVendorTable steps in parallel.\r\n\r\n \r\nI have googled, read the docs, but I haven&#39;t yet found a solution to this problem. I would greatly appreciate any insights or guidance on how to overcome this.\r\n\r\n \r\n\r\n       \r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    @RequiredArgsConstructor\r\n    public class FitsVendorJob {\r\n    \r\n        @NonNull\r\n        private JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @NonNull\r\n        private StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Autowired\r\n        @NonNull\r\n        private HikariDataSource dataSource;\r\n    \r\n        @Autowired\r\n        @NonNull\r\n        StreamReader streamReader;\r\n    \r\n        @Autowired\r\n        @NonNull\r\n        FetchRecordsService fetchRecords;\r\n    \r\n        @Autowired\r\n        @NonNull\r\n        QueryBuilder queryBuilder;\r\n    \r\n        @Autowired\r\n        @NonNull\r\n        EmailService emailService;\r\n    \r\n        @NonNull\r\n        private BatchConfig batchConfig;\r\n    \r\n        private Long jobExecutionId;\r\n    \r\n        private String reportUrl;\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FlatFileItemReader&lt;FitsVendor&gt; fitsVendorReader() {\r\n    \tFlatFileItemReader&lt;FitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    \titemReader.setResource(\r\n    \t\tnew InputStreamResource(fetchRecords.initiateFetch(Constants.VENDOR, reportUrl, jobExecutionId)));\r\n    \titemReader.setName(&quot;csvReader&quot;);\r\n    \titemReader.setLinesToSkip(1);\r\n    \titemReader.setLineMapper(vendorLineMapper());\r\n    \titemReader.setRecordSeparatorPolicy(vendorRecordSeparator());\r\n    \treturn itemReader;\r\n        }\r\n    \r\n        @Bean\r\n        @StepScope\r\n        public FlatFileItemReader&lt;FitsVendor&gt; fitsVendorReaderSrc() {\r\n    \tFlatFileItemReader&lt;FitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    \titemReader.setResource(\r\n    \t\tnew InputStreamResource(fetchRecords.initiateFetch(Constants.VENDOR, reportUrl, jobExecutionId)));\r\n    \titemReader.setName(&quot;csvReader&quot;);\r\n    \titemReader.setLinesToSkip(1);\r\n    \titemReader.setLineMapper(vendorLineMapper());\r\n    \titemReader.setRecordSeparatorPolicy(vendorRecordSeparator());\r\n    \treturn itemReader;\r\n        }\r\n    \r\n        @Bean\r\n        public LineMapper&lt;FitsVendor&gt; vendorLineMapper() {\r\n    \tDefaultLineMapper&lt;FitsVendor&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n    \tvar lineTokenizer = new DelimitedLineTokenizer();\r\n    \r\n    \tlineTokenizer.setDelimiter(&quot;,&quot;);\r\n    \tlineTokenizer.setNames(Constants.WFITS_VENDOR_CSV_HEADERS.split(&quot;,&quot;));\r\n    \tlineTokenizer.setStrict(true);\r\n    \tlineTokenizer.setIncludedFields(0, 1, 2, 3);\r\n    \r\n    \tBeanWrapperFieldSetMapper&lt;FitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\r\n    \tfieldSetMapper.setTargetType(FitsVendor.class);\r\n    \r\n    \tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \r\n    \treturn lineMapper;\r\n        }\r\n    \r\n        @Bean\r\n        public FitsVendorProcessor fitsVendorProcessor() {\r\n    \treturn new FitsVendorProcessor();\r\n        }\r\n    \r\n        @Bean\r\n        public ReaderPolicy vendorRecordSeparator() {\r\n    \treturn new ReaderPolicy();\r\n        }\r\n    \r\n        @Bean\r\n        public JdbcBatchItemWriter&lt;FitsVendor&gt; fitsVendorWriter() {\r\n    \tJdbcBatchItemWriter&lt;FitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\r\n    \tdatabaseItemWriter.setDataSource(dataSource);\r\n    \tdatabaseItemWriter.setSql(queryBuilder.buildInsertQuery(Constants.WFITS_VENDOR_TABLE));\r\n    \tItemPreparedStatementSetter&lt;FitsVendor&gt; valueSetter = new FitsVendorPreparedStatementSetter();\r\n    \tdatabaseItemWriter.setItemPreparedStatementSetter(valueSetter);\r\n    \treturn databaseItemWriter;\r\n        }\r\n    \r\n        @Bean\r\n        public JdbcBatchItemWriter&lt;FitsVendor&gt; srcVendorWriter() {\r\n    \tJdbcBatchItemWriter&lt;FitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\r\n    \tdatabaseItemWriter.setDataSource(dataSource);\r\n    \tdatabaseItemWriter.setSql(queryBuilder.buildInsertQuery(Constants.SRC_WFITS_VENDOR_TABLE));\r\n    \tItemPreparedStatementSetter&lt;FitsVendor&gt; valueSetter = new FitsVendorPreparedStatementSetterSrc();\r\n    \tdatabaseItemWriter.setItemPreparedStatementSetter(valueSetter);\r\n    \treturn databaseItemWriter;\r\n        }\r\n    \r\n        @Bean\r\n        public TaskExecutor fitsVendortaskExecutor() {\r\n\t    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n\t    taskExecutor.setMaxPoolSize(10);\r\n\t    taskExecutor.setCorePoolSize(5);\r\n\t    taskExecutor.setQueueCapacity(25);\r\n\t    taskExecutor.setThreadNamePrefix(&quot;FitsVendorJob Thread&quot;);\r\n\t    taskExecutor.initialize();\r\n\t    return taskExecutor;\r\n    }\r\n    \r\n        @Bean\r\n        public JobSkipPolicy vendorSkipPolicy() {\r\n    \treturn new JobSkipPolicy();\r\n        }\r\n    \r\n        @Bean\r\n        public Step truncateFitsVendorTable() {\r\n    \treturn stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateFitsVendorTasklet()).build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step truncateSrcVendorTable() {\r\n    \treturn stepBuilderFactory.get(&quot;truncate-srcvendor-table&quot;).tasklet(truncateSrcVendorTasklet()).build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step processVendorKeyConstraints() {\r\n    \treturn stepBuilderFactory.get(Constants.PROCESS_KEY_CONSTRAINTS_STEP).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\r\n    \t\t.reader(fitsVendorReader()).writer(new NoOpWriter&lt;FitsVendor&gt;()).processor(fitsVendorProcessor())\r\n    \t\t.faultTolerant().skipPolicy(vendorSkipPolicy()).retryLimit(0).processorNonTransactional()\r\n    \t\t.listener(new FitsPricingItemReaderListener()).taskExecutor(fitsVendortaskExecutor()).build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step loadWFitsVendorTable() {\r\n    \treturn stepBuilderFactory.get(Constants.LOAD_WFITS_VENDOR_TABLE).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\r\n    \t\t.reader(fitsVendorReader()).writer(fitsVendorWriter()).processor(fitsVendorProcessor()).faultTolerant()\r\n    \t\t.skipPolicy(vendorSkipPolicy()).retryLimit(0).processorNonTransactional()\r\n    \t\t.listener(new FitsPricingItemReaderListener()).taskExecutor(fitsVendortaskExecutor()).build();\r\n        }\r\n    \r\n        @Bean\r\n        public Step loadSrcVendorTable() {\r\n    \treturn stepBuilderFactory.get(Constants.LOAD_WFITS_VENDOR_SRC_TABLE).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\r\n    \t\t.reader(fitsVendorReaderSrc()).writer(srcVendorWriter()).faultTolerant().skipPolicy(vendorSkipPolicy())\r\n    \t\t.retryLimit(0).processorNonTransactional().listener(new VendorItemReaderListener())\r\n    \t\t.taskExecutor(fitsVendortaskExecutor()).build();\r\n        }\r\n    \r\n        @Bean(name = &quot;vendorSendEmail&quot;)\r\n        public Step sendEmail() {\r\n    \treturn stepBuilderFactory.get(&quot;send-email-vendor&quot;).tasklet(batchConfig.sendEmailTasklet()).build();\r\n        }\r\n    \r\n        public Tasklet truncateFitsVendorTasklet() {\r\n    \treturn (contribution, chunkContext) -&gt; {\r\n    \t    extractRuntimeParameteres(chunkContext);\r\n    \t    new JdbcTemplate(dataSource).execute(queryBuilder.buildTruncateQuery(Constants.WFITS_VENDOR_TABLE));\r\n    \t    return RepeatStatus.FINISHED;\r\n    \t};\r\n        }\r\n    \r\n        public Tasklet truncateSrcVendorTasklet() {\r\n    \treturn (contribution, chunkContext) -&gt; {\r\n    \t    new JdbcTemplate(dataSource).execute(queryBuilder.buildTruncateQuery(Constants.SRC_WFITS_VENDOR_TABLE));\r\n    \t    return RepeatStatus.FINISHED;\r\n    \t};\r\n        }\r\n    \r\n        /**\r\n         * @param chunkContext\r\n         */\r\n        private void extractRuntimeParameteres(ChunkContext chunkContext) {\r\n    \tjobExecutionId = chunkContext.getStepContext().getStepExecution().getJobExecution().getId();\r\n    \treportUrl = chunkContext.getStepContext().getStepExecution().getJobParameters().getString(Constants.REPORT_URL);\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;WFitsVendorJob&quot;)\r\n        public Job runFitsVendorJob() {\r\n    \tfinal var flow1 = new FlowBuilder&lt;Flow&gt;(&quot;flow1&quot;).from(truncateFitsVendorTable()).end();\r\n    \tfinal var flow2 = new FlowBuilder&lt;Flow&gt;(&quot;flow2&quot;).from(truncateSrcVendorTable()).end();\r\n    \tfinal var flow3 = new FlowBuilder&lt;Flow&gt;(&quot;flow3&quot;).from(processVendorKeyConstraints()).end();\r\n    \tfinal var flow4 = new FlowBuilder&lt;Flow&gt;(&quot;flow4&quot;).from(loadWFitsVendorTable()).end();\r\n    \tfinal var flow5 = new FlowBuilder&lt;Flow&gt;(&quot;flow5&quot;).from(loadSrcVendorTable()).end();\r\n    \r\n    \tSimpleAsyncTaskExecutor sate = new SimpleAsyncTaskExecutor();\r\n\t    sate.setConcurrencyLimit(10);\r\n\t    sate.setThreadNamePrefix(&quot;Vendor Job Flow: &quot;);\r\n\r\n\t    final var emailFlow = new FlowBuilder&lt;Flow&gt;(&quot;emailFlow&quot;).from(sendEmail()).end();\r\n\r\n\t    final var truncateFlow = new FlowBuilder&lt;Flow&gt;(&quot;truncateFlow&quot;).split(sate).add(flow1, flow2).build();\r\n\r\n\t    final var processKeyConstraintsFlow = new FlowBuilder&lt;Flow&gt;(&quot;processKeyConstraintsFlow&quot;).split(sate).add(flow3)\r\n\t\t.build();\r\n\r\n\t    final var loadFlow = new FlowBuilder&lt;Flow&gt;(&quot;loadFlow&quot;).split(sate).add(flow4, flow5).build();\r\n\t\r\n    \tfinal var decisionState = new FlowBuilder&lt;Flow&gt;(&quot;decisionState&quot;).from(loadFlow).on(&quot;FAILED&quot;).to(flow1).end();\r\n    \r\n    \treturn jobBuilderFactory.get(&quot;FitsVendorJob&quot;).listener(new JobCompletionListener()).start(truncateFlow)\r\n    \t\t.next(processKeyConstraintsFlow).next(decisionState).on(&quot;*&quot;).to(emailFlow).end().build();\r\n        }\r\n\r\n \r\n**JobLauncher Bean**\r\n\r\n    @Bean(name = &quot;batchJobLauncher&quot;)\r\n    public JobLauncher simpleJobLauncher() throws Exception {\r\n\t    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n\t    taskExecutor.setMaxPoolSize(10);\r\n\t    taskExecutor.setCorePoolSize(5);\r\n\t    taskExecutor.setQueueCapacity(25);\r\n\t    taskExecutor.setThreadNamePrefix(&quot;batchJobLauncher Thread: &quot;);\r\n\t    taskExecutor.initialize();\r\n\t\r\n\t    SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\r\n\t    jobLauncher.setJobRepository(jobRepository);\r\n\t    jobLauncher.setTaskExecutor(taskExecutor);\r\n\t    jobLauncher.afterPropertiesSet();\r\n\t    return jobLauncher;\r\n    }\r\n**ImportJobLauncher.java**\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class ImportJobLauncher {\r\n    \r\n        private final Map&lt;String, Job&gt; jobsMap = new HashMap&lt;&gt;();\r\n    \r\n        @Autowired\r\n        private CommonUtility comUtility;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;batchJobLauncher&quot;)\r\n        JobLauncher jobLauncher;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsVendorJob&quot;)\r\n        Job fitsVendorJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsServiceJob&quot;)\r\n        Job fitsServiceJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsContractJob&quot;)\r\n        Job fitsContractJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsCurrencyJob&quot;)\r\n        Job fitsCurrencyJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsProductJob&quot;)\r\n        Job fitsProductJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPricingJob&quot;)\r\n        Job fitsPricingJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPricingAsrJob&quot;)\r\n        Job fitsPricingAsrJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPlatformJob&quot;)\r\n        Job fitsPlatformJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPiUserJob&quot;)\r\n        Job fitsPiUserJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPiJob&quot;)\r\n        Job fitsPiJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsInventoryJob&quot;)\r\n        Job fitsInventoryJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPricingMapJob&quot;)\r\n        Job fitsPricingMapJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsPricingVpcJob&quot;)\r\n        Job fitsPricingVpcJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsBuildingJob&quot;)\r\n        Job fitsBuildingJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsBuGroupJob&quot;)\r\n        Job fitsBuGroupJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsProfileJob&quot;)\r\n        Job fitsProfileJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsAccountJob&quot;)\r\n        Job fitsAccountJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsServiceMapJob&quot;)\r\n        Job fitsServiceMapJob;\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;WFitsNcRuleJob&quot;)\r\n        Job fitsNcRuleJob;\r\n    \r\n        @PostConstruct\r\n        public void initialize() {\r\n    \tjobsMap.put(Constants.VENDOR, fitsVendorJob);\r\n    \tjobsMap.put(Constants.SERVICE, fitsServiceJob);\r\n    \tjobsMap.put(Constants.CURRENCY, fitsCurrencyJob);\r\n    \tjobsMap.put(Constants.PRODUCT, fitsProductJob);\r\n    \tjobsMap.put(Constants.PLATFORM, fitsPlatformJob);\r\n    \tjobsMap.put(Constants.CONTRACT, fitsContractJob);\r\n    \tjobsMap.put(Constants.PRICING, fitsPricingJob);\r\n    \tjobsMap.put(Constants.PRICINGVPC, fitsPricingVpcJob);\r\n    \tjobsMap.put(Constants.PRICINGMAP, fitsPricingMapJob);\r\n    \tjobsMap.put(Constants.PRICINGASR, fitsPricingAsrJob);\r\n    \tjobsMap.put(Constants.BUGROUP, fitsBuGroupJob);\r\n    \tjobsMap.put(Constants.PROFILE, fitsProfileJob);\r\n    \tjobsMap.put(Constants.ACCOUNT, fitsAccountJob);\r\n    \tjobsMap.put(Constants.INVENTORY, fitsInventoryJob);\r\n    \tjobsMap.put(Constants.BUILDING, fitsBuildingJob);\r\n    \tjobsMap.put(Constants.PIUSER, fitsPiUserJob);\r\n    \tjobsMap.put(Constants.SERVICEMAP, fitsServiceMapJob);\r\n    \tjobsMap.put(Constants.NCRULE, fitsNcRuleJob);\r\n    \tjobsMap.put(Constants.PI, fitsPiJob);\r\n        }\r\n    \r\n        public BatchJobResponse importFitsData(String jobName, String reportURL, String sendEmail) {\r\n    \tvar job = jobsMap.get(jobName);\r\n    \tvar jobParameters = createJobParameters(jobName, reportURL, sendEmail);\r\n    \tvar jobExecution = runJob(job, jobParameters);\r\n    \r\n    \tif (jobExecution == null) {\r\n    \t    log.error(&quot;Failed to trigger the job &#39;{}&#39;.&quot;, jobName);\r\n    \t    return new BatchJobResponse(jobName, BatchStatus.STOPPED.toString(), 0L);\r\n    \t}\r\n    \r\n    \treturn new BatchJobResponse(jobExecution.getJobInstance().getJobName(), jobExecution.getStatus().toString(),\r\n    \t\tjobExecution.getId());\r\n        }\r\n    \r\n        private JobParameters createJobParameters(String jobName, String reportURL, String sendEmail) {\r\n    \tJobParametersBuilder jobParametersBuilder = new JobParametersBuilder()\r\n    \t\t.addLong(Constants.START_AT, comUtility.currentTimeMillis()).addString(Constants.REPORT_URL, reportURL)\r\n    \t\t.addString(Constants.SEND_EMAIL, sendEmail);\r\n    \r\n    \tif (Constants.PI.equals(jobName)) {\r\n    \t    String reportURL2 = comUtility.getReportUrl(&quot;piactive&quot;);\r\n    \t    jobParametersBuilder.addString(&quot;reportURL2&quot;, reportURL2);\r\n    \t}\r\n    \r\n    \treturn jobParametersBuilder.toJobParameters();\r\n        }\r\n    \r\n        private JobExecution runJob(Job job, JobParameters jobParameters) {\r\n    \ttry {\r\n    \t    var jobExecution = jobLauncher.run(job, jobParameters);\r\n    \t    Thread.sleep(2000);\r\n    \t    return jobExecution;\r\n    \t} catch (Exception e) {\r\n    \t    log.error(&quot;Error occurred while trying to trigger the {} job&quot;, job.getName(), e);\r\n    \t    Thread.currentThread().interrupt();\r\n    \t    return null;\r\n    \t}\r\n        }\r\n    }\r\n\r\n**Thread Dump is attached here:** https://pastebin.com/Z3FJgBKL\r\n\r\n**Scenario captured in Thread dump:** First I have triggered the Inventory job and when it is in progress, I triggered Vendor job, Pricing job. Both these job&#39;s step 1 (i.e. truncate table) will execute parallelly but when the control reaches the readers of these 2 jobs it is blocked until Inventory job&#39;s reader finishes processing.\r\n\r\n","title":"Spring Batch ETL Jobs Parallel Execution is Causing independent Readers to Wait","body":"<p>I have developed an ETL application utilizing Spring Batch, wherein data is fetched through REST requests. The application comprises around 15 Spring Batch classes, each responsible for loading a different dataset. One of the class/job FitsVendorJob has been posted below and all other classes also been designed in the same way.</p>\n<p>I've encountered a performance challenge: while one class's readers are retrieving data, the readers from other classes are need to wait. Notably, some readers take considerable time (minutes) to fetch data, causing even the faster readers to wait. I feel it is happening not only with readers but with processor and writer too.  I believe I designed all the classes/jobs to be independent of each other but even then there seems to be dependency.</p>\n<p>My expected job flow would be,</p>\n<ol>\n<li>Execute truncateFitsVendorTable and truncateSrcVendorTable steps in\nparallel.</li>\n<li>Proceed with the processVendorKeyConstraints step.</li>\n<li>Run loadWFitsVendorTable and loadSrcVendorTable steps in parallel.</li>\n</ol>\n<p>I have googled, read the docs, but I haven't yet found a solution to this problem. I would greatly appreciate any insights or guidance on how to overcome this.</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\n@RequiredArgsConstructor\npublic class FitsVendorJob {\n\n    @NonNull\n    private JobBuilderFactory jobBuilderFactory;\n\n    @NonNull\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    @NonNull\n    private HikariDataSource dataSource;\n\n    @Autowired\n    @NonNull\n    StreamReader streamReader;\n\n    @Autowired\n    @NonNull\n    FetchRecordsService fetchRecords;\n\n    @Autowired\n    @NonNull\n    QueryBuilder queryBuilder;\n\n    @Autowired\n    @NonNull\n    EmailService emailService;\n\n    @NonNull\n    private BatchConfig batchConfig;\n\n    private Long jobExecutionId;\n\n    private String reportUrl;\n\n    @Bean\n    @StepScope\n    public FlatFileItemReader&lt;FitsVendor&gt; fitsVendorReader() {\n    FlatFileItemReader&lt;FitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n    itemReader.setResource(\n        new InputStreamResource(fetchRecords.initiateFetch(Constants.VENDOR, reportUrl, jobExecutionId)));\n    itemReader.setName(&quot;csvReader&quot;);\n    itemReader.setLinesToSkip(1);\n    itemReader.setLineMapper(vendorLineMapper());\n    itemReader.setRecordSeparatorPolicy(vendorRecordSeparator());\n    return itemReader;\n    }\n\n    @Bean\n    @StepScope\n    public FlatFileItemReader&lt;FitsVendor&gt; fitsVendorReaderSrc() {\n    FlatFileItemReader&lt;FitsVendor&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n    itemReader.setResource(\n        new InputStreamResource(fetchRecords.initiateFetch(Constants.VENDOR, reportUrl, jobExecutionId)));\n    itemReader.setName(&quot;csvReader&quot;);\n    itemReader.setLinesToSkip(1);\n    itemReader.setLineMapper(vendorLineMapper());\n    itemReader.setRecordSeparatorPolicy(vendorRecordSeparator());\n    return itemReader;\n    }\n\n    @Bean\n    public LineMapper&lt;FitsVendor&gt; vendorLineMapper() {\n    DefaultLineMapper&lt;FitsVendor&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n    var lineTokenizer = new DelimitedLineTokenizer();\n\n    lineTokenizer.setDelimiter(&quot;,&quot;);\n    lineTokenizer.setNames(Constants.WFITS_VENDOR_CSV_HEADERS.split(&quot;,&quot;));\n    lineTokenizer.setStrict(true);\n    lineTokenizer.setIncludedFields(0, 1, 2, 3);\n\n    BeanWrapperFieldSetMapper&lt;FitsVendor&gt; fieldSetMapper = new BeanWrapperFieldSetMapper&lt;&gt;();\n    fieldSetMapper.setTargetType(FitsVendor.class);\n\n    lineMapper.setLineTokenizer(lineTokenizer);\n    lineMapper.setFieldSetMapper(fieldSetMapper);\n\n    return lineMapper;\n    }\n\n    @Bean\n    public FitsVendorProcessor fitsVendorProcessor() {\n    return new FitsVendorProcessor();\n    }\n\n    @Bean\n    public ReaderPolicy vendorRecordSeparator() {\n    return new ReaderPolicy();\n    }\n\n    @Bean\n    public JdbcBatchItemWriter&lt;FitsVendor&gt; fitsVendorWriter() {\n    JdbcBatchItemWriter&lt;FitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\n    databaseItemWriter.setDataSource(dataSource);\n    databaseItemWriter.setSql(queryBuilder.buildInsertQuery(Constants.WFITS_VENDOR_TABLE));\n    ItemPreparedStatementSetter&lt;FitsVendor&gt; valueSetter = new FitsVendorPreparedStatementSetter();\n    databaseItemWriter.setItemPreparedStatementSetter(valueSetter);\n    return databaseItemWriter;\n    }\n\n    @Bean\n    public JdbcBatchItemWriter&lt;FitsVendor&gt; srcVendorWriter() {\n    JdbcBatchItemWriter&lt;FitsVendor&gt; databaseItemWriter = new JdbcBatchItemWriter&lt;&gt;();\n    databaseItemWriter.setDataSource(dataSource);\n    databaseItemWriter.setSql(queryBuilder.buildInsertQuery(Constants.SRC_WFITS_VENDOR_TABLE));\n    ItemPreparedStatementSetter&lt;FitsVendor&gt; valueSetter = new FitsVendorPreparedStatementSetterSrc();\n    databaseItemWriter.setItemPreparedStatementSetter(valueSetter);\n    return databaseItemWriter;\n    }\n\n    @Bean\n    public TaskExecutor fitsVendortaskExecutor() {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setMaxPoolSize(10);\n    taskExecutor.setCorePoolSize(5);\n    taskExecutor.setQueueCapacity(25);\n    taskExecutor.setThreadNamePrefix(&quot;FitsVendorJob Thread&quot;);\n    taskExecutor.initialize();\n    return taskExecutor;\n}\n\n    @Bean\n    public JobSkipPolicy vendorSkipPolicy() {\n    return new JobSkipPolicy();\n    }\n\n    @Bean\n    public Step truncateFitsVendorTable() {\n    return stepBuilderFactory.get(&quot;truncate-wfitsvendor-table&quot;).tasklet(truncateFitsVendorTasklet()).build();\n    }\n\n    @Bean\n    public Step truncateSrcVendorTable() {\n    return stepBuilderFactory.get(&quot;truncate-srcvendor-table&quot;).tasklet(truncateSrcVendorTasklet()).build();\n    }\n\n    @Bean\n    public Step processVendorKeyConstraints() {\n    return stepBuilderFactory.get(Constants.PROCESS_KEY_CONSTRAINTS_STEP).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\n        .reader(fitsVendorReader()).writer(new NoOpWriter&lt;FitsVendor&gt;()).processor(fitsVendorProcessor())\n        .faultTolerant().skipPolicy(vendorSkipPolicy()).retryLimit(0).processorNonTransactional()\n        .listener(new FitsPricingItemReaderListener()).taskExecutor(fitsVendortaskExecutor()).build();\n    }\n\n    @Bean\n    public Step loadWFitsVendorTable() {\n    return stepBuilderFactory.get(Constants.LOAD_WFITS_VENDOR_TABLE).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\n        .reader(fitsVendorReader()).writer(fitsVendorWriter()).processor(fitsVendorProcessor()).faultTolerant()\n        .skipPolicy(vendorSkipPolicy()).retryLimit(0).processorNonTransactional()\n        .listener(new FitsPricingItemReaderListener()).taskExecutor(fitsVendortaskExecutor()).build();\n    }\n\n    @Bean\n    public Step loadSrcVendorTable() {\n    return stepBuilderFactory.get(Constants.LOAD_WFITS_VENDOR_SRC_TABLE).&lt;FitsVendor, FitsVendor&gt;chunk(10000)\n        .reader(fitsVendorReaderSrc()).writer(srcVendorWriter()).faultTolerant().skipPolicy(vendorSkipPolicy())\n        .retryLimit(0).processorNonTransactional().listener(new VendorItemReaderListener())\n        .taskExecutor(fitsVendortaskExecutor()).build();\n    }\n\n    @Bean(name = &quot;vendorSendEmail&quot;)\n    public Step sendEmail() {\n    return stepBuilderFactory.get(&quot;send-email-vendor&quot;).tasklet(batchConfig.sendEmailTasklet()).build();\n    }\n\n    public Tasklet truncateFitsVendorTasklet() {\n    return (contribution, chunkContext) -&gt; {\n        extractRuntimeParameteres(chunkContext);\n        new JdbcTemplate(dataSource).execute(queryBuilder.buildTruncateQuery(Constants.WFITS_VENDOR_TABLE));\n        return RepeatStatus.FINISHED;\n    };\n    }\n\n    public Tasklet truncateSrcVendorTasklet() {\n    return (contribution, chunkContext) -&gt; {\n        new JdbcTemplate(dataSource).execute(queryBuilder.buildTruncateQuery(Constants.SRC_WFITS_VENDOR_TABLE));\n        return RepeatStatus.FINISHED;\n    };\n    }\n\n    /**\n     * @param chunkContext\n     */\n    private void extractRuntimeParameteres(ChunkContext chunkContext) {\n    jobExecutionId = chunkContext.getStepContext().getStepExecution().getJobExecution().getId();\n    reportUrl = chunkContext.getStepContext().getStepExecution().getJobParameters().getString(Constants.REPORT_URL);\n    }\n\n    @Bean\n    @Qualifier(&quot;WFitsVendorJob&quot;)\n    public Job runFitsVendorJob() {\n    final var flow1 = new FlowBuilder&lt;Flow&gt;(&quot;flow1&quot;).from(truncateFitsVendorTable()).end();\n    final var flow2 = new FlowBuilder&lt;Flow&gt;(&quot;flow2&quot;).from(truncateSrcVendorTable()).end();\n    final var flow3 = new FlowBuilder&lt;Flow&gt;(&quot;flow3&quot;).from(processVendorKeyConstraints()).end();\n    final var flow4 = new FlowBuilder&lt;Flow&gt;(&quot;flow4&quot;).from(loadWFitsVendorTable()).end();\n    final var flow5 = new FlowBuilder&lt;Flow&gt;(&quot;flow5&quot;).from(loadSrcVendorTable()).end();\n\n    SimpleAsyncTaskExecutor sate = new SimpleAsyncTaskExecutor();\n    sate.setConcurrencyLimit(10);\n    sate.setThreadNamePrefix(&quot;Vendor Job Flow: &quot;);\n\n    final var emailFlow = new FlowBuilder&lt;Flow&gt;(&quot;emailFlow&quot;).from(sendEmail()).end();\n\n    final var truncateFlow = new FlowBuilder&lt;Flow&gt;(&quot;truncateFlow&quot;).split(sate).add(flow1, flow2).build();\n\n    final var processKeyConstraintsFlow = new FlowBuilder&lt;Flow&gt;(&quot;processKeyConstraintsFlow&quot;).split(sate).add(flow3)\n    .build();\n\n    final var loadFlow = new FlowBuilder&lt;Flow&gt;(&quot;loadFlow&quot;).split(sate).add(flow4, flow5).build();\n\n    final var decisionState = new FlowBuilder&lt;Flow&gt;(&quot;decisionState&quot;).from(loadFlow).on(&quot;FAILED&quot;).to(flow1).end();\n\n    return jobBuilderFactory.get(&quot;FitsVendorJob&quot;).listener(new JobCompletionListener()).start(truncateFlow)\n        .next(processKeyConstraintsFlow).next(decisionState).on(&quot;*&quot;).to(emailFlow).end().build();\n    }\n</code></pre>\n<p><strong>JobLauncher Bean</strong></p>\n<pre><code>@Bean(name = &quot;batchJobLauncher&quot;)\npublic JobLauncher simpleJobLauncher() throws Exception {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setMaxPoolSize(10);\n    taskExecutor.setCorePoolSize(5);\n    taskExecutor.setQueueCapacity(25);\n    taskExecutor.setThreadNamePrefix(&quot;batchJobLauncher Thread: &quot;);\n    taskExecutor.initialize();\n\n    SimpleJobLauncher jobLauncher = new SimpleJobLauncher();\n    jobLauncher.setJobRepository(jobRepository);\n    jobLauncher.setTaskExecutor(taskExecutor);\n    jobLauncher.afterPropertiesSet();\n    return jobLauncher;\n}\n</code></pre>\n<p><strong>ImportJobLauncher.java</strong></p>\n<pre><code>@Component\n@Slf4j\npublic class ImportJobLauncher {\n\n    private final Map&lt;String, Job&gt; jobsMap = new HashMap&lt;&gt;();\n\n    @Autowired\n    private CommonUtility comUtility;\n\n    @Autowired\n    @Qualifier(&quot;batchJobLauncher&quot;)\n    JobLauncher jobLauncher;\n\n    @Autowired\n    @Qualifier(&quot;WFitsVendorJob&quot;)\n    Job fitsVendorJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsServiceJob&quot;)\n    Job fitsServiceJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsContractJob&quot;)\n    Job fitsContractJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsCurrencyJob&quot;)\n    Job fitsCurrencyJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsProductJob&quot;)\n    Job fitsProductJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPricingJob&quot;)\n    Job fitsPricingJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPricingAsrJob&quot;)\n    Job fitsPricingAsrJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPlatformJob&quot;)\n    Job fitsPlatformJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPiUserJob&quot;)\n    Job fitsPiUserJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPiJob&quot;)\n    Job fitsPiJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsInventoryJob&quot;)\n    Job fitsInventoryJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPricingMapJob&quot;)\n    Job fitsPricingMapJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsPricingVpcJob&quot;)\n    Job fitsPricingVpcJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsBuildingJob&quot;)\n    Job fitsBuildingJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsBuGroupJob&quot;)\n    Job fitsBuGroupJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsProfileJob&quot;)\n    Job fitsProfileJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsAccountJob&quot;)\n    Job fitsAccountJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsServiceMapJob&quot;)\n    Job fitsServiceMapJob;\n\n    @Autowired\n    @Qualifier(&quot;WFitsNcRuleJob&quot;)\n    Job fitsNcRuleJob;\n\n    @PostConstruct\n    public void initialize() {\n    jobsMap.put(Constants.VENDOR, fitsVendorJob);\n    jobsMap.put(Constants.SERVICE, fitsServiceJob);\n    jobsMap.put(Constants.CURRENCY, fitsCurrencyJob);\n    jobsMap.put(Constants.PRODUCT, fitsProductJob);\n    jobsMap.put(Constants.PLATFORM, fitsPlatformJob);\n    jobsMap.put(Constants.CONTRACT, fitsContractJob);\n    jobsMap.put(Constants.PRICING, fitsPricingJob);\n    jobsMap.put(Constants.PRICINGVPC, fitsPricingVpcJob);\n    jobsMap.put(Constants.PRICINGMAP, fitsPricingMapJob);\n    jobsMap.put(Constants.PRICINGASR, fitsPricingAsrJob);\n    jobsMap.put(Constants.BUGROUP, fitsBuGroupJob);\n    jobsMap.put(Constants.PROFILE, fitsProfileJob);\n    jobsMap.put(Constants.ACCOUNT, fitsAccountJob);\n    jobsMap.put(Constants.INVENTORY, fitsInventoryJob);\n    jobsMap.put(Constants.BUILDING, fitsBuildingJob);\n    jobsMap.put(Constants.PIUSER, fitsPiUserJob);\n    jobsMap.put(Constants.SERVICEMAP, fitsServiceMapJob);\n    jobsMap.put(Constants.NCRULE, fitsNcRuleJob);\n    jobsMap.put(Constants.PI, fitsPiJob);\n    }\n\n    public BatchJobResponse importFitsData(String jobName, String reportURL, String sendEmail) {\n    var job = jobsMap.get(jobName);\n    var jobParameters = createJobParameters(jobName, reportURL, sendEmail);\n    var jobExecution = runJob(job, jobParameters);\n\n    if (jobExecution == null) {\n        log.error(&quot;Failed to trigger the job '{}'.&quot;, jobName);\n        return new BatchJobResponse(jobName, BatchStatus.STOPPED.toString(), 0L);\n    }\n\n    return new BatchJobResponse(jobExecution.getJobInstance().getJobName(), jobExecution.getStatus().toString(),\n        jobExecution.getId());\n    }\n\n    private JobParameters createJobParameters(String jobName, String reportURL, String sendEmail) {\n    JobParametersBuilder jobParametersBuilder = new JobParametersBuilder()\n        .addLong(Constants.START_AT, comUtility.currentTimeMillis()).addString(Constants.REPORT_URL, reportURL)\n        .addString(Constants.SEND_EMAIL, sendEmail);\n\n    if (Constants.PI.equals(jobName)) {\n        String reportURL2 = comUtility.getReportUrl(&quot;piactive&quot;);\n        jobParametersBuilder.addString(&quot;reportURL2&quot;, reportURL2);\n    }\n\n    return jobParametersBuilder.toJobParameters();\n    }\n\n    private JobExecution runJob(Job job, JobParameters jobParameters) {\n    try {\n        var jobExecution = jobLauncher.run(job, jobParameters);\n        Thread.sleep(2000);\n        return jobExecution;\n    } catch (Exception e) {\n        log.error(&quot;Error occurred while trying to trigger the {} job&quot;, job.getName(), e);\n        Thread.currentThread().interrupt();\n        return null;\n    }\n    }\n}\n</code></pre>\n<p><strong>Thread Dump is attached here:</strong> <a href=\"https://pastebin.com/Z3FJgBKL\" rel=\"nofollow noreferrer\">https://pastebin.com/Z3FJgBKL</a></p>\n<p><strong>Scenario captured in Thread dump:</strong> First I have triggered the Inventory job and when it is in progress, I triggered Vendor job, Pricing job. Both these job's step 1 (i.e. truncate table) will execute parallelly but when the control reaches the readers of these 2 jobs it is blocked until Inventory job's reader finishes processing.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-lambda","noclassdeffounderror"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692921896,"post_id":76969020,"comment_id":135693887,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692886871,"creation_date":1692885930,"answer_id":76970118,"question_id":76969020,"body_markdown":"If you want to use Amazon EC2 and Java, then use the recommended version which is ***AWS SDK for Java V2***, not V1 version. V1 does not reflect best practice. \r\n\r\nTo use EC2 and [Java EC2 API][1], you use this code to build the client.\r\n\r\n \r\n     Region region = Region.US_EAST_1;\r\n      Ec2Client ec2 = Ec2Client.builder()\r\n          .region(region)\r\n          .build();\r\n\r\nThe POM file with all the required dependencies can be found in the above link.\r\n\r\nIf you are not familiar with AWS SDK for Java V2, refer to the [DEV Guide][2].  \r\n\r\n\r\nYou can find many EC2 examples here: \r\n\r\n[Amazon EC2 examples using SDK for Java 2.x][3]\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ec2\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [3]: https://docs.aws.amazon.com/code-library/latest/ug/java_2_ec2_code_examples.html","title":"com/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError","body":"<p>If you want to use Amazon EC2 and Java, then use the recommended version which is <em><strong>AWS SDK for Java V2</strong></em>, not V1 version. V1 does not reflect best practice.</p>\n<p>To use EC2 and <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ec2\" rel=\"nofollow noreferrer\">Java EC2 API</a>, you use this code to build the client.</p>\n<pre><code> Region region = Region.US_EAST_1;\n  Ec2Client ec2 = Ec2Client.builder()\n      .region(region)\n      .build();\n</code></pre>\n<p>The POM file with all the required dependencies can be found in the above link.</p>\n<p>If you are not familiar with AWS SDK for Java V2, refer to the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">DEV Guide</a>.</p>\n<p>You can find many EC2 examples here:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/java_2_ec2_code_examples.html\" rel=\"nofollow noreferrer\">Amazon EC2 examples using SDK for Java 2.x</a></p>\n"}],"owner":{"account_id":26758696,"reputation":1,"user_id":20356958,"display_name":"cloud girl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692886871,"creation_date":1692878060,"question_id":76969020,"body_markdown":"**So I am wondering what could be the cause of this error message :** \r\n\r\ncom/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError\r\n**java.lang.NoClassDefFoundError: com/amazonaws/services/ec2/AmazonEC2ClientBuilder**\r\n\tat com.stopinstance.InstanceControlLambda.&lt;init&gt;(InstanceControlLambda.java:14)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\r\nCaused by: java.lang.ClassNotFoundException: com.amazonaws.services.ec2.AmazonEC2ClientBuilder. Current classpath: file:/var/task/\r\n\r\ncom/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError\r\n\r\n\r\n**I have checked my dependencies that they are the using the same version, but it seems to me that there is still an issue with the ec2ClientBuilder...**\r\n\r\nHere is my lambda code: \r\n[enter image description here](https://i.stack.imgur.com/UOiV8.jpg)\r\n\r\nHere is my pom.xml \r\n[enter image description here](https://i.stack.imgur.com/K7fKI.png)\r\n\r\nHere is my template.yaml\r\n[enter image description here](https://i.stack.imgur.com/P2Ojd.png)\r\n\r\n\r\n\r\n**I would appreciate any help ! **\r\n","title":"com/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError","body":"<p><strong>So I am wondering what could be the cause of this error message :</strong></p>\n<p>com/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError\n<strong>java.lang.NoClassDefFoundError: com/amazonaws/services/ec2/AmazonEC2ClientBuilder</strong>\nat com.stopinstance.InstanceControlLambda.(InstanceControlLambda.java:14)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\nat java.base/java.lang.reflect.Constructor.newInstance(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.amazonaws.services.ec2.AmazonEC2ClientBuilder. Current classpath: file:/var/task/</p>\n<p>com/amazonaws/services/ec2/AmazonEC2ClientBuilder: java.lang.NoClassDefFoundError</p>\n<p><strong>I have checked my dependencies that they are the using the same version, but it seems to me that there is still an issue with the ec2ClientBuilder...</strong></p>\n<p>Here is my lambda code:\n<a href=\"https://i.stack.imgur.com/UOiV8.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my pom.xml\n<a href=\"https://i.stack.imgur.com/K7fKI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Here is my template.yaml\n<a href=\"https://i.stack.imgur.com/P2Ojd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>**I would appreciate any help ! **</p>\n"},{"tags":["java","spring-boot","spring-security","api-key"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692886189,"creation_date":1672957650,"answer_id":75025020,"question_id":65327435,"body_markdown":"*Late answer*: The approach behind your code is good, but you don&#39;t need to write so much code. It is better to configure this in one place with `Spring Security`. It will allow to add security only on your controllers as their are the entry point of your application. See this link for more [details][1] and below is the code I am using:\r\n\r\n**application.yml**\r\n\r\n    application:\r\n      http:\r\n        authentication:\r\n          header-name: X-API-KEY-TEST\r\n          api-key: X-API-KEY-VALUE-TEST\r\n\r\n**ApiKeyProperties.java**\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;application.http.authentication&quot;)\r\n    public class ApiKeyProperties {\r\n    \r\n        private String headerName;\r\n        private String apiKey;\r\n    }\r\n\r\n**ApiKeyAuthenticationFilter.java**\r\n\r\n    public class ApiKeyAuthenticationFilter extends AbstractPreAuthenticatedProcessingFilter {\r\n    \r\n        private final String headerName;\r\n    \r\n        public ApiKeyAuthenticationFilter(String headerName) {\r\n            this.headerName = headerName;\r\n        }\r\n    \r\n        @Override\r\n        protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\r\n            return request.getHeader(headerName);\r\n        }\r\n    \r\n        @Override\r\n        protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n**ApiSecurityConfiguration.java**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ApiSecurityConfiguration {\r\n    \r\n        private final ApiKeyProperties apiKeyProperties;\r\n    \r\n        @Autowired\r\n        public ApiSecurityConfiguration(ApiKeyProperties apiKeyProperties) {\r\n            this.apiKeyProperties = apiKeyProperties;\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity security) throws Exception {\r\n            var filter = new ApiKeyAuthenticationFilter(apiKeyProperties.getHeaderName());\r\n            filter.setAuthenticationManager(authentication -&gt; {\r\n                var principal = (String) authentication.getPrincipal();\r\n                if (!apiKeyProperties.getApiKey().equals(principal)) {\r\n                    throw new UnauthorizedException(&quot;The API key was not found or not the expected value&quot;);\r\n                }\r\n                authentication.setAuthenticated(true);\r\n                return authentication;\r\n            });\r\n            security.antMatcher(&quot;/**&quot;)\r\n                    .csrf().disable()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .addFilter(filter)\r\n                    .authorizeRequests()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n            return security.build();\r\n        }\r\n    }\r\n\r\n**Postman**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48446708/securing-spring-boot-api-with-api-key-and-secret/72498590#72498590\r\n  [2]: https://i.stack.imgur.com/hufMA.png","title":"Spring Boot: Is this secure? Api Key as RequestHeader vs Api Key via Spring Boot Security","body":"<p><em>Late answer</em>: The approach behind your code is good, but you don't need to write so much code. It is better to configure this in one place with <code>Spring Security</code>. It will allow to add security only on your controllers as their are the entry point of your application. See this link for more <a href=\"https://stackoverflow.com/questions/48446708/securing-spring-boot-api-with-api-key-and-secret/72498590#72498590\">details</a> and below is the code I am using:</p>\n<p><strong>application.yml</strong></p>\n<pre><code>application:\n  http:\n    authentication:\n      header-name: X-API-KEY-TEST\n      api-key: X-API-KEY-VALUE-TEST\n</code></pre>\n<p><strong>ApiKeyProperties.java</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Configuration\n@ConfigurationProperties(prefix = &quot;application.http.authentication&quot;)\npublic class ApiKeyProperties {\n\n    private String headerName;\n    private String apiKey;\n}\n</code></pre>\n<p><strong>ApiKeyAuthenticationFilter.java</strong></p>\n<pre><code>public class ApiKeyAuthenticationFilter extends AbstractPreAuthenticatedProcessingFilter {\n\n    private final String headerName;\n\n    public ApiKeyAuthenticationFilter(String headerName) {\n        this.headerName = headerName;\n    }\n\n    @Override\n    protected Object getPreAuthenticatedPrincipal(HttpServletRequest request) {\n        return request.getHeader(headerName);\n    }\n\n    @Override\n    protected Object getPreAuthenticatedCredentials(HttpServletRequest request) {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>ApiSecurityConfiguration.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApiSecurityConfiguration {\n\n    private final ApiKeyProperties apiKeyProperties;\n\n    @Autowired\n    public ApiSecurityConfiguration(ApiKeyProperties apiKeyProperties) {\n        this.apiKeyProperties = apiKeyProperties;\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity security) throws Exception {\n        var filter = new ApiKeyAuthenticationFilter(apiKeyProperties.getHeaderName());\n        filter.setAuthenticationManager(authentication -&gt; {\n            var principal = (String) authentication.getPrincipal();\n            if (!apiKeyProperties.getApiKey().equals(principal)) {\n                throw new UnauthorizedException(&quot;The API key was not found or not the expected value&quot;);\n            }\n            authentication.setAuthenticated(true);\n            return authentication;\n        });\n        security.antMatcher(&quot;/**&quot;)\n                .csrf().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .addFilter(filter)\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated();\n        return security.build();\n    }\n}\n</code></pre>\n<p><strong>Postman</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hufMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hufMA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16409337,"reputation":355,"user_id":11853066,"display_name":"Ben123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692886189,"creation_date":1608136735,"question_id":65327435,"body_markdown":"Question: is my implementation secure (by API Key standards) OR as secure as using `Spring Boot Security`?\r\n\r\nI have produced a `Spring Boot` API, but rather than using `Spring Boot` Security to implement Api Key security, I have written my own API key implementation. The API Key is passed as a `@RequestHeader` in each &#39;secured&#39; request (see `/booking/cancel` below).\r\n\r\n**Controller:**\r\n\r\n    @RequestMapping(value = &quot;/booking/cancel&quot;,\r\n            consumes = { &quot;application/json&quot; },\r\n            method = RequestMethod.POST)\r\n    public ResponseEntity&lt;Void&gt; cancelOrder(@RequestBody Cancellation cancellation, \r\n                                           @RequestHeader String apiKey) {\r\n\r\n            if(apiKey == null) {\r\n                return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_ACCEPTABLE);\r\n            }\r\n    \r\n            long bookingProviderId;\r\n            try {\r\n                bookingProviderId = bookingService.getIdFromApiKey(apiKey);\r\n                if (bookingProviderId &lt; 0) {\r\n                    return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_ACCEPTABLE);\r\n                }\r\n            } catch (ApplicationException e) {\r\n                e.printStackTrace();\r\n                return new ResponseEntity&lt;Void&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n    \r\n            //More code here...\r\n    }\r\n\r\n**Service layer:**\r\n\r\nThe `getIdFromApiKey` function exists in my service layer and calls the Dao object. It returns a long (Id) which I can subsequently use to manage access in the controller (e.g. prevent a user from cancelling someone else&#39;s order).\r\n\r\n    public long getIdFromApiKey(String apiKey) throws ApplicationException {\r\n        return apiKeyDao.selectId(apiKey);\r\n    }\r\n\r\n**Dao Layer:**\r\n\r\n    public long getApiKey (String apiKey) throws DataAccessException {\r\n    \r\n    \tBookingProvider bp = jdbcTemplate.queryForObject(&quot;SELECT * FROM BookingProvider WHERE apiKey = ?&quot;, BeanPropertyRowMapper.newInstance(BookingProvider.class), apiKey);\r\n    \r\n    \tif(bp == null)\r\n    \t\treturn -1;\r\n    \telse\r\n    \t\treturn bp.getId();\r\n    }\r\n\r\n","title":"Spring Boot: Is this secure? Api Key as RequestHeader vs Api Key via Spring Boot Security","body":"<p>Question: is my implementation secure (by API Key standards) OR as secure as using <code>Spring Boot Security</code>?</p>\n<p>I have produced a <code>Spring Boot</code> API, but rather than using <code>Spring Boot</code> Security to implement Api Key security, I have written my own API key implementation. The API Key is passed as a <code>@RequestHeader</code> in each 'secured' request (see <code>/booking/cancel</code> below).</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@RequestMapping(value = &quot;/booking/cancel&quot;,\n        consumes = { &quot;application/json&quot; },\n        method = RequestMethod.POST)\npublic ResponseEntity&lt;Void&gt; cancelOrder(@RequestBody Cancellation cancellation, \n                                       @RequestHeader String apiKey) {\n\n        if(apiKey == null) {\n            return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_ACCEPTABLE);\n        }\n\n        long bookingProviderId;\n        try {\n            bookingProviderId = bookingService.getIdFromApiKey(apiKey);\n            if (bookingProviderId &lt; 0) {\n                return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_ACCEPTABLE);\n            }\n        } catch (ApplicationException e) {\n            e.printStackTrace();\n            return new ResponseEntity&lt;Void&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n\n        //More code here...\n}\n</code></pre>\n<p><strong>Service layer:</strong></p>\n<p>The <code>getIdFromApiKey</code> function exists in my service layer and calls the Dao object. It returns a long (Id) which I can subsequently use to manage access in the controller (e.g. prevent a user from cancelling someone else's order).</p>\n<pre><code>public long getIdFromApiKey(String apiKey) throws ApplicationException {\n    return apiKeyDao.selectId(apiKey);\n}\n</code></pre>\n<p><strong>Dao Layer:</strong></p>\n<pre><code>public long getApiKey (String apiKey) throws DataAccessException {\n\n    BookingProvider bp = jdbcTemplate.queryForObject(&quot;SELECT * FROM BookingProvider WHERE apiKey = ?&quot;, BeanPropertyRowMapper.newInstance(BookingProvider.class), apiKey);\n\n    if(bp == null)\n        return -1;\n    else\n        return bp.getId();\n}\n</code></pre>\n"},{"tags":["java","docker","microservices","devtools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692884102,"post_id":76969784,"comment_id":135686792,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29291040,"reputation":11,"user_id":22441505,"display_name":"Shree"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692886102,"creation_date":1692883815,"question_id":76969784,"body_markdown":"I have added \r\nCompileOnly(&quot;org.springframework.boot: spring-boot-devtools&quot;) \r\nto build.gradle \r\nStill need to do debug service to restart the service. I am working on microservices \r\n\r\nI have followed all the steps properly. Help me with the steps to integrate devtools in spring boot service.\r\n","title":"Devtools integration","body":"<p>I have added\nCompileOnly(&quot;org.springframework.boot: spring-boot-devtools&quot;)\nto build.gradle\nStill need to do debug service to restart the service. I am working on microservices</p>\n<p>I have followed all the steps properly. Help me with the steps to integrate devtools in spring boot service.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":3069866,"reputation":479,"user_id":2600803,"accept_rate":78,"display_name":"Mario P. Waxenegger"},"score":0,"creation_date":1692883300,"post_id":76969298,"comment_id":135686579,"body_markdown":"What library did you use?","body":"What library did you use?"},{"owner":{"account_id":29290383,"reputation":3,"user_id":22441053,"display_name":"monaco87"},"score":0,"creation_date":1692906414,"post_id":76969298,"comment_id":135691802,"body_markdown":"I was looking at org.w3c.dom, I&#39;d not progressed due to my misreading of the duplicate test. The solution below works now that I understand appendChild(Node newChild) properly now.","body":"I was looking at org.w3c.dom, I&#39;d not progressed due to my misreading of the duplicate test. The solution below works now that I understand appendChild(Node newChild) properly now."}],"answers":[{"comments":[{"owner":{"account_id":29290383,"reputation":3,"user_id":22441053,"display_name":"monaco87"},"score":0,"creation_date":1692906216,"post_id":76969631,"comment_id":135691769,"body_markdown":"Thanks M. Rizzo, I see it now. I mistakenly assumed it would test equivalence on the tag name, rather than the object.","body":"Thanks M. Rizzo, I see it now. I mistakenly assumed it would test equivalence on the tag name, rather than the object."}],"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692882663,"creation_date":1692882663,"answer_id":76969631,"question_id":76969298,"body_markdown":"You can use appendChild.  The equivalence of a node is going to look at the object equality.  Here is example code for adding the multiple history_url child elements.\r\n\r\n    import java.io.File;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n\r\n    public class NodeMultipleElementAdd {\r\n\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t      try {\r\n\t          DocumentBuilderFactory dbFactory =\r\n\t          DocumentBuilderFactory.newInstance();\r\n\t          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t          Document doc = dBuilder.newDocument();\r\n\t          \r\n\t          // root element\r\n\t          Element rootElement = doc.createElement(&quot;configuration&quot;);\r\n\t          doc.appendChild(rootElement);\r\n\r\n\t          // history element\r\n\t          Element history = doc.createElement(&quot;history&quot;);\r\n\t          rootElement.appendChild(history);\r\n\r\n\r\n\t          // history url element1\r\n\t          Element historyUrl = doc.createElement(&quot;history_url&quot;);\r\n\t          historyUrl.appendChild(doc.createTextNode(&quot;http://www.oldurl1.com&quot;));\r\n\t          history.appendChild(historyUrl);\r\n\r\n\t          // history url element2\r\n\t          Element historyUrl2 = doc.createElement(&quot;history_url&quot;);\r\n\t          historyUrl2.appendChild(doc.createTextNode(&quot;http://www.oldurl2.com&quot;));\r\n\t          history.appendChild(historyUrl2);\r\n\r\n\t          // history url element3\r\n\t          Element historyUrl3 = doc.createElement(&quot;history_url&quot;);\r\n\t          historyUrl3.appendChild(doc.createTextNode(&quot;http://www.oldurl3.com&quot;));\r\n\t          history.appendChild(historyUrl3);\r\n\t          \r\n\t          // write the content into xml file\r\n\t          TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\t          Transformer transformer = transformerFactory.newTransformer();\r\n\t          DOMSource source = new DOMSource(doc);\r\n\t          StreamResult result = new StreamResult(new File(&quot;C:\\\\temp\\\\history.xml&quot;));\r\n\t          transformer.transform(source, result);\r\n\t          \r\n\t          // Output to console for testing\r\n\t          StreamResult consoleResult = new StreamResult(System.out);\r\n\t          transformer.transform(source, consoleResult);\r\n\t       } catch (Exception e) {\r\n\t          e.printStackTrace();\r\n\t       }\r\n\t    }\r\n    }\r\n\r\n ","title":"How to add multiple child nodes with the same tag to an existing node in an XML document","body":"<p>You can use appendChild.  The equivalence of a node is going to look at the object equality.  Here is example code for adding the multiple history_url child elements.</p>\n<pre><code>import java.io.File;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class NodeMultipleElementAdd {\n\n\n  public static void main(String[] args) {\n      try {\n          DocumentBuilderFactory dbFactory =\n          DocumentBuilderFactory.newInstance();\n          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n          Document doc = dBuilder.newDocument();\n          \n          // root element\n          Element rootElement = doc.createElement(&quot;configuration&quot;);\n          doc.appendChild(rootElement);\n\n          // history element\n          Element history = doc.createElement(&quot;history&quot;);\n          rootElement.appendChild(history);\n\n\n          // history url element1\n          Element historyUrl = doc.createElement(&quot;history_url&quot;);\n          historyUrl.appendChild(doc.createTextNode(&quot;http://www.oldurl1.com&quot;));\n          history.appendChild(historyUrl);\n\n          // history url element2\n          Element historyUrl2 = doc.createElement(&quot;history_url&quot;);\n          historyUrl2.appendChild(doc.createTextNode(&quot;http://www.oldurl2.com&quot;));\n          history.appendChild(historyUrl2);\n\n          // history url element3\n          Element historyUrl3 = doc.createElement(&quot;history_url&quot;);\n          historyUrl3.appendChild(doc.createTextNode(&quot;http://www.oldurl3.com&quot;));\n          history.appendChild(historyUrl3);\n          \n          // write the content into xml file\n          TransformerFactory transformerFactory = TransformerFactory.newInstance();\n          Transformer transformer = transformerFactory.newTransformer();\n          DOMSource source = new DOMSource(doc);\n          StreamResult result = new StreamResult(new File(&quot;C:\\\\temp\\\\history.xml&quot;));\n          transformer.transform(source, result);\n          \n          // Output to console for testing\n          StreamResult consoleResult = new StreamResult(System.out);\n          transformer.transform(source, consoleResult);\n       } catch (Exception e) {\n          e.printStackTrace();\n       }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29290383,"reputation":3,"user_id":22441053,"display_name":"monaco87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76969631,"answer_count":1,"score":0,"last_activity_date":1692886093,"creation_date":1692880386,"question_id":76969298,"body_markdown":"I have a configuration file stored in XML with a structure like this:\r\n\r\n```xml\r\n.\r\n&lt;configuration&gt;\r\n.\r\n.\r\n.\r\n&lt;history&gt;&lt;/history&gt;\r\n.\r\n.\r\n&lt;/configuration&gt;\r\n.\r\n```\r\n\r\nI would like to end up with the following:\r\n\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n.\r\n.\r\n&lt;history&gt;\r\n   &lt;history_url&gt;http://www.oldurl1.com&lt;/history_url&gt;\r\n   &lt;history_url&gt;http://www.oldurl2.com&lt;/history_url&gt;\r\n   &lt;history_url&gt;http://www.oldurl3.com&lt;/history_url&gt;\r\n&lt;/history&gt;\r\n.\r\n.\r\n&lt;/configuration&gt;\r\n```\r\nI&#39;ve looked at the Node interface which has the method `appendChild(Node newChild)`, but this states _&quot;If the newChild is already in the tree, it is first removed.&quot;_\r\n\r\nWhat is the easiest way to add multiple `&lt;history_url&gt;` nodes to the existing `&lt;history_node&gt;`?\r\n\r\nThe `Node` method `insertBefore` also states _&quot;If the newChild is already in the tree, it is first removed&quot;_. I&#39;ve thought about creating a NodeList object, but I don&#39;t see any way to add a NodeList.\r\n\r\n\r\n","title":"How to add multiple child nodes with the same tag to an existing node in an XML document","body":"<p>I have a configuration file stored in XML with a structure like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>.\n&lt;configuration&gt;\n.\n.\n.\n&lt;history&gt;&lt;/history&gt;\n.\n.\n&lt;/configuration&gt;\n.\n</code></pre>\n<p>I would like to end up with the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n.\n.\n&lt;history&gt;\n   &lt;history_url&gt;http://www.oldurl1.com&lt;/history_url&gt;\n   &lt;history_url&gt;http://www.oldurl2.com&lt;/history_url&gt;\n   &lt;history_url&gt;http://www.oldurl3.com&lt;/history_url&gt;\n&lt;/history&gt;\n.\n.\n&lt;/configuration&gt;\n</code></pre>\n<p>I've looked at the Node interface which has the method <code>appendChild(Node newChild)</code>, but this states <em>&quot;If the newChild is already in the tree, it is first removed.&quot;</em></p>\n<p>What is the easiest way to add multiple <code>&lt;history_url&gt;</code> nodes to the existing <code>&lt;history_node&gt;</code>?</p>\n<p>The <code>Node</code> method <code>insertBefore</code> also states <em>&quot;If the newChild is already in the tree, it is first removed&quot;</em>. I've thought about creating a NodeList object, but I don't see any way to add a NodeList.</p>\n"},{"tags":["java","selenium-webdriver","element","stale"],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692877876,"creation_date":1692877876,"answer_id":76968994,"question_id":76968940,"body_markdown":"A stale element exception is thrown by selenium, when a reference you had to an element is destroyed and recreated, making the reference &quot;stale&quot;. You just need to refresh the reference (so, re-get it) before doing anything with it, to make sure it&#39;s not stale.","title":"Stale Element Exception","body":"<p>A stale element exception is thrown by selenium, when a reference you had to an element is destroyed and recreated, making the reference &quot;stale&quot;. You just need to refresh the reference (so, re-get it) before doing anything with it, to make sure it's not stale.</p>\n"},{"tags":[],"owner":{"account_id":26682848,"reputation":3568,"user_id":20292589,"display_name":"Yaroslavm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692885930,"creation_date":1692885930,"answer_id":76970119,"question_id":76968940,"body_markdown":"`StaleElementReferenceException` is happened, because entity you&#39;re trying to get is not exist anymore.\r\n\r\nIn your case, after clicking backspace button you&#39;re getting new list, when actually old one is shown. After few moments new one is shown, but your collection has references to old one.\r\n\r\nOne of the solutions is to wait until old collection is not exist anymore after clicking backspace.\r\n\r\n```java\r\n     WebDriverWait wdwait = new WebDriverWait(driver, 10);\r\n     List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//div[@class=&#39;products-wrapper&#39;]//h4&quot;));\r\n     products.stream().forEach(p-&gt; System.out.println(p.getText()));\r\n\r\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(&quot;Beet&quot;,Keys.ENTER);\r\n\r\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\r\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\r\n     wdwait.until(ExpectedConditions.stalenessOf(products.get(0)));\r\n     // your other code\r\n``","title":"Stale Element Exception","body":"<p><code>StaleElementReferenceException</code> is happened, because entity you're trying to get is not exist anymore.</p>\n<p>In your case, after clicking backspace button you're getting new list, when actually old one is shown. After few moments new one is shown, but your collection has references to old one.</p>\n<p>One of the solutions is to wait until old collection is not exist anymore after clicking backspace.</p>\n<pre class=\"lang-java prettyprint-override\"><code>     WebDriverWait wdwait = new WebDriverWait(driver, 10);\n     List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//div[@class='products-wrapper']//h4&quot;));\n     products.stream().forEach(p-&gt; System.out.println(p.getText()));\n\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(&quot;Beet&quot;,Keys.ENTER);\n\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\n     driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\n     wdwait.until(ExpectedConditions.stalenessOf(products.get(0)));\n     // your other code\n``\n</code></pre>\n"}],"owner":{"account_id":29290153,"reputation":1,"user_id":22440857,"display_name":"Thangam M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692885930,"creation_date":1692877573,"question_id":76968940,"body_markdown":"    public class ClearSearch {\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n        \t//Step 1:\r\n        \tChromeDriver driver = new ChromeDriver();\r\n        \tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\r\n        \tWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(15)); \r\n        \tdriver.manage().window().maximize();\r\n        \t\t\t\r\n        \t//Step 2: Hit URL\r\n        \tdriver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\r\n        \t\t\t\r\n        \tList&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//div[@class=&#39;products-wrapper&#39;]//h4&quot;));\r\n        \tproducts.stream().forEach(p-&gt; System.out.println(p.getText()));\r\n        \tSystem.out.println();\r\n        \t\t\t\r\n        \tdriver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(&quot;Beet&quot;,Keys.ENTER);\r\n        \tThread.sleep(Duration.ofSeconds(1));\r\n        \t\t\r\n        \tdriver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\r\n        \tdriver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\r\n        \tproducts = driver.findElements(By.xpath(&quot;//div[@class=&#39;products-wrapper&#39;]//h4&quot;));\r\n        \tproducts.stream().forEach(p-&gt; System.out.println(p.getText()));\r\n        \tboolean match = products.stream().anyMatch(p-&gt;p.getText().contains(&quot;Be&quot;));\r\n        \tAssert.assertTrue(match);\r\n        }\r\n    }\r\n\r\nThe execution is so quick its giving a stale element exception. But when Thread.sleep is added the error is gone. I have tried explicit wait for visibility of elements and it is not working. How to avoid Thread.Sleep()","title":"Stale Element Exception","body":"<pre><code>public class ClearSearch {\n\n    public static void main(String[] args) throws InterruptedException {\n        //Step 1:\n        ChromeDriver driver = new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(15));\n        WebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(15)); \n        driver.manage().window().maximize();\n                \n        //Step 2: Hit URL\n        driver.get(&quot;https://rahulshettyacademy.com/seleniumPractise/#/&quot;);\n                \n        List&lt;WebElement&gt; products = driver.findElements(By.xpath(&quot;//div[@class='products-wrapper']//h4&quot;));\n        products.stream().forEach(p-&gt; System.out.println(p.getText()));\n        System.out.println();\n                \n        driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(&quot;Beet&quot;,Keys.ENTER);\n        Thread.sleep(Duration.ofSeconds(1));\n            \n        driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\n        driver.findElement(By.cssSelector(&quot;.search-keyword&quot;)).sendKeys(Keys.BACK_SPACE);\n        products = driver.findElements(By.xpath(&quot;//div[@class='products-wrapper']//h4&quot;));\n        products.stream().forEach(p-&gt; System.out.println(p.getText()));\n        boolean match = products.stream().anyMatch(p-&gt;p.getText().contains(&quot;Be&quot;));\n        Assert.assertTrue(match);\n    }\n}\n</code></pre>\n<p>The execution is so quick its giving a stale element exception. But when Thread.sleep is added the error is gone. I have tried explicit wait for visibility of elements and it is not working. How to avoid Thread.Sleep()</p>\n"},{"tags":["java","resources","textures","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":19074427,"reputation":155,"user_id":13927976,"display_name":"0xLuca"},"score":0,"creation_date":1609325104,"post_id":65484381,"comment_id":115811297,"body_markdown":"In your packagetree, it looks like there are dots instead of slashes, or are these ide related? Also, you are using `MODID + &quot;:textures...&quot;`, why are you using an &quot;:&quot;?","body":"In your packagetree, it looks like there are dots instead of slashes, or are these ide related? Also, you are using <code>MODID + &quot;:textures...&quot;</code>, why are you using an &quot;:&quot;?"},{"owner":{"account_id":15116322,"reputation":333,"user_id":10908570,"display_name":"TheUltimateGuide"},"score":0,"creation_date":1609435823,"post_id":65484381,"comment_id":115844498,"body_markdown":"@Luca100 The dots are IDE related, OP is probably using Eclipse","body":"@Luca100 The dots are IDE related, OP is probably using Eclipse"}],"answers":[{"tags":[],"owner":{"account_id":29231004,"reputation":51,"user_id":22394700,"display_name":"Sky64Redstone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692885903,"creation_date":1692885903,"answer_id":76970111,"question_id":65484381,"body_markdown":"Instead of\r\n\r\n    public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID+&quot;:textures/entity/test/test.png&quot;);\r\n\r\nuse\r\n\r\n    public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID, &quot;textures/entity/test/test.png&quot;);\r\n\r\nBut that won&#39;t work if you have named the packages with dots and not with seperate folders!","title":"ResourceLocation throws a FileNotFoundException Minecraft Forge 1.12.2","body":"<p>Instead of</p>\n<pre><code>public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID+&quot;:textures/entity/test/test.png&quot;);\n</code></pre>\n<p>use</p>\n<pre><code>public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID, &quot;textures/entity/test/test.png&quot;);\n</code></pre>\n<p>But that won't work if you have named the packages with dots and not with seperate folders!</p>\n"}],"owner":{"account_id":20257571,"reputation":33,"user_id":14856918,"display_name":"Max S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692885903,"creation_date":1609191199,"question_id":65484381,"body_markdown":"I&#39;m doing some Minecraft Mods and I don&#39;t know why the texture of an entity is not getting loaded\r\n\r\nFor the Texture:\r\n```public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID+&quot;:textures/entity/test/test.png&quot;);```\r\n\r\n\r\n\r\nhere is the Modid\r\n     ```public static final String MODID = &quot;aot&quot;;```\r\n\r\n```Error: Failed to load texture: aot:textures/entity/test/test.png\r\njava.io.FileNotFoundException: aot:textures/entity/test/test.png\r\n```\r\n[packagetree][1]\r\n\r\nWhy are the textures not getting loaded?\r\n\r\nBest regards\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UQSAC.png","title":"ResourceLocation throws a FileNotFoundException Minecraft Forge 1.12.2","body":"<p>I'm doing some Minecraft Mods and I don't know why the texture of an entity is not getting loaded</p>\n<p>For the Texture:\n<code>public static final ResourceLocation TEXTURES = new ResourceLocation(Reference.MODID+&quot;:textures/entity/test/test.png&quot;);</code></p>\n<p>here is the Modid\n<code>public static final String MODID = &quot;aot&quot;;</code></p>\n<pre><code>java.io.FileNotFoundException: aot:textures/entity/test/test.png\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UQSAC.png\" rel=\"nofollow noreferrer\">packagetree</a></p>\n<p>Why are the textures not getting loaded?</p>\n<p>Best regards</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692885832,"creation_date":1692860234,"answer_id":76966855,"question_id":76965495,"body_markdown":"That&#39;s not a SpringBootTest since it does not use any beans: it only uses a mock (`awsCredentialsProperties`) and a real class instance (`awsConfiguration`, _not_ a bean!).\r\n\r\nSince you are not using any beans or anything provided by Spring, remove the `@SpringBootTest` annotation and you should be good to go.\r\n\r\nIf you really want to have a SpringBootTest, then get rid of the mock instances and have the test register MockBeans and use the `awsConfiguration` bean from the application context:\r\n\r\n```\r\n@SpringBootTest(\r\n    classes = AwsConfiguration.class,\r\n    webEnvironment = SpringBootTest.WebEnvironment.NONE\r\n)\r\nfinal class AwsConfigurationTests {\r\n\r\n  @MockBean\r\n  private AwsCredentialsProperties credentialsProperties;\r\n\r\n  @Autowired\r\n  private AwsConfiguration awsConfiguration;\r\n\r\n  @Test\r\n  void profilePathIsNull() {\r\n    when(credentialsProperties.getProfilePath()).thenReturn(null);\r\n\r\n    assertThrows(\r\n        IllegalArgumentException.class,\r\n        () -&gt; awsConfiguration.credentialsProvider(credentialsProperties), &quot;No profile path specified.&quot;);\r\n  }\r\n}\r\n```","title":"Mock a bean and test injecting it into another bean&#39;s parameter","body":"<p>That's not a SpringBootTest since it does not use any beans: it only uses a mock (<code>awsCredentialsProperties</code>) and a real class instance (<code>awsConfiguration</code>, <em>not</em> a bean!).</p>\n<p>Since you are not using any beans or anything provided by Spring, remove the <code>@SpringBootTest</code> annotation and you should be good to go.</p>\n<p>If you really want to have a SpringBootTest, then get rid of the mock instances and have the test register MockBeans and use the <code>awsConfiguration</code> bean from the application context:</p>\n<pre><code>@SpringBootTest(\n    classes = AwsConfiguration.class,\n    webEnvironment = SpringBootTest.WebEnvironment.NONE\n)\nfinal class AwsConfigurationTests {\n\n  @MockBean\n  private AwsCredentialsProperties credentialsProperties;\n\n  @Autowired\n  private AwsConfiguration awsConfiguration;\n\n  @Test\n  void profilePathIsNull() {\n    when(credentialsProperties.getProfilePath()).thenReturn(null);\n\n    assertThrows(\n        IllegalArgumentException.class,\n        () -&gt; awsConfiguration.credentialsProvider(credentialsProperties), &quot;No profile path specified.&quot;);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76966855,"answer_count":1,"score":0,"last_activity_date":1692885832,"creation_date":1692834206,"question_id":76965495,"body_markdown":"I have a configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class AwsConfiguration {\r\n  @Bean\r\n  @Lazy\r\n  public AwsCredentialsProvider credentialsProvider(final AwsCredentialsProperties credentialsProperties) {\r\n    if(credentialsProperties.getProfilePath() == null) {\r\n      throw new IllegalArgumentException(&quot;No profile path specified.&quot;);\r\n    }\r\n\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nAnd a test class:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\n@SpringBootTest(\r\n    classes = {\r\n        AwsConfiguration.class\r\n    },\r\n    webEnvironment = SpringBootTest.WebEnvironment.NONE\r\n)\r\nfinal class AwsConfigurationTests {\r\n\r\n  @Mock\r\n  private AwsCredentialsProperties credentialsProperties;\r\n\r\n  @InjectMocks\r\n  private AwsConfiguration awsConfiguration;\r\n\r\n  @Test\r\n  void profilePathIsNull() {\r\n    when(credentialsProperties.getProfilePath()).thenReturn(null);\r\n\r\n    assertThrows(IllegalArgumentException.class, () -&gt; awsConfiguration.credentialsProvider(credentialsProperties), &quot;No profile path specified.&quot;);\r\n  }\r\n```\r\n\r\nThe test works as expected. However, I want to remove the `@Lazy` annotation on the `credentialsProvider` bean. If I do, Spring attempts to instantiate the bean on test startup, which will obviously fail since there is no bean `credentialsProperties`. So, I remove `AwsConfiguration.class` from `classes` on `@SpringBootTest`. Then the test fails with `java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test`.\r\n\r\nSeems I have a catch-22. How can I accomplish what I want?","title":"Mock a bean and test injecting it into another bean&#39;s parameter","body":"<p>I have a configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AwsConfiguration {\n  @Bean\n  @Lazy\n  public AwsCredentialsProvider credentialsProvider(final AwsCredentialsProperties credentialsProperties) {\n    if(credentialsProperties.getProfilePath() == null) {\n      throw new IllegalArgumentException(&quot;No profile path specified.&quot;);\n    }\n\n    ...\n  }\n}\n</code></pre>\n<p>And a test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\n@SpringBootTest(\n    classes = {\n        AwsConfiguration.class\n    },\n    webEnvironment = SpringBootTest.WebEnvironment.NONE\n)\nfinal class AwsConfigurationTests {\n\n  @Mock\n  private AwsCredentialsProperties credentialsProperties;\n\n  @InjectMocks\n  private AwsConfiguration awsConfiguration;\n\n  @Test\n  void profilePathIsNull() {\n    when(credentialsProperties.getProfilePath()).thenReturn(null);\n\n    assertThrows(IllegalArgumentException.class, () -&gt; awsConfiguration.credentialsProvider(credentialsProperties), &quot;No profile path specified.&quot;);\n  }\n</code></pre>\n<p>The test works as expected. However, I want to remove the <code>@Lazy</code> annotation on the <code>credentialsProvider</code> bean. If I do, Spring attempts to instantiate the bean on test startup, which will obviously fail since there is no bean <code>credentialsProperties</code>. So, I remove <code>AwsConfiguration.class</code> from <code>classes</code> on <code>@SpringBootTest</code>. Then the test fails with <code>java.lang.IllegalStateException: Unable to find a @SpringBootConfiguration, you need to use @ContextConfiguration or @SpringBootTest(classes=...) with your test</code>.</p>\n<p>Seems I have a catch-22. How can I accomplish what I want?</p>\n"},{"tags":["java","graph","jgrapht"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1478298884,"post_id":40432592,"comment_id":68113775,"body_markdown":"Welcome to Stack Overflow!  Please review our [SO Question Checklist](http://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist) to help you to ask a good question, and thus get a good answer.","body":"Welcome to Stack Overflow!  Please review our <a href=\"http://meta.stackoverflow.com/questions/260648/stack-overflow-question-checklist\">SO Question Checklist</a> to help you to ask a good question, and thus get a good answer."},{"owner":{"account_id":8298741,"reputation":6529,"user_id":6238076,"display_name":"gdlmx"},"score":0,"creation_date":1478320148,"post_id":40432592,"comment_id":68117571,"body_markdown":"Corrected format and deleted extra bracket","body":"Corrected format and deleted extra bracket"}],"answers":[{"comments":[{"owner":{"account_id":9583581,"reputation":3,"user_id":7117236,"display_name":"Sean Turnbull"},"score":0,"creation_date":1478639802,"post_id":40432851,"comment_id":68237286,"body_markdown":"Thanks for the help.","body":"Thanks for the help."},{"owner":{"account_id":2382771,"reputation":24,"user_id":2084439,"display_name":"Quurz"},"score":0,"creation_date":1479070704,"post_id":40432851,"comment_id":68393086,"body_markdown":"Did my answer solve Your problem? If so: Could you please mark your answer as solved? Thanks!","body":"Did my answer solve Your problem? If so: Could you please mark your answer as solved? Thanks!"}],"tags":[],"owner":{"account_id":2382771,"reputation":24,"user_id":2084439,"display_name":"Quurz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1478300401,"creation_date":1478300401,"answer_id":40432851,"question_id":40432592,"body_markdown":"I&#39;m only guessing, but it seems that your Flight_Info class lacks a getter for the ticket price. Then you&#39;re reading the cost of the computed shortest path in edges. I think it would be better to iterate over the edges of the shortest path and sum up the ticket prices.\r\n\r\nAs I said: Just guessing after a short look...   =)\r\n\r\n\r\nBest regards\r\n\r\nAlex","title":"JGraphT graph shortest path","body":"<p>I'm only guessing, but it seems that your Flight_Info class lacks a getter for the ticket price. Then you're reading the cost of the computed shortest path in edges. I think it would be better to iterate over the edges of the shortest path and sum up the ticket prices.</p>\n\n<p>As I said: Just guessing after a short look...   =)</p>\n\n<p>Best regards</p>\n\n<p>Alex</p>\n"},{"tags":[],"owner":{"account_id":13859656,"reputation":1,"user_id":10005596,"display_name":"Nikola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692885810,"creation_date":1692885810,"answer_id":76970097,"question_id":40432592,"body_markdown":"Even though that `Flight_Info` class Extends the `DefaultWeightedEdge`, and you are using that same class (`Flight_Info`) as an Edge class in your graph, there&#39;s (yet) no way to modify the actual weight of an edge through the `Flight_Info` class. \r\n\r\nIf you look at the inheritance chain of the `DefaultWeightedEdge`, and where is `double weight;` property located, you&#39;ll see that this property is package-level protected.\r\n\r\nOnly way for you to actually add weights would be to use:\r\n`setEdgeWeight(Edge e, double weight);` method from the `Graph&lt;V,E&gt;` interface or in your case:\r\n\r\n```Java\r\nairport.setEdgeWeight(Edinburgh, Heathrow, &lt;here_is_the_price&gt;);\r\n```\r\n\r\nIn your graph, cost/weight of an edge is 1.0 on all edges.","title":"JGraphT graph shortest path","body":"<p>Even though that <code>Flight_Info</code> class Extends the <code>DefaultWeightedEdge</code>, and you are using that same class (<code>Flight_Info</code>) as an Edge class in your graph, there's (yet) no way to modify the actual weight of an edge through the <code>Flight_Info</code> class.</p>\n<p>If you look at the inheritance chain of the <code>DefaultWeightedEdge</code>, and where is <code>double weight;</code> property located, you'll see that this property is package-level protected.</p>\n<p>Only way for you to actually add weights would be to use:\n<code>setEdgeWeight(Edge e, double weight);</code> method from the <code>Graph&lt;V,E&gt;</code> interface or in your case:</p>\n<pre><code>airport.setEdgeWeight(Edinburgh, Heathrow, &lt;here_is_the_price&gt;);\n</code></pre>\n<p>In your graph, cost/weight of an edge is 1.0 on all edges.</p>\n"}],"owner":{"account_id":9583581,"reputation":3,"user_id":7117236,"display_name":"Sean Turnbull"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40432851,"answer_count":2,"score":0,"last_activity_date":1692885810,"creation_date":1478298545,"question_id":40432592,"body_markdown":"I am trying to calculate the total cost of the shortest path for a flight itinerary system, but it seems to be calculate the number of paths it take instead of the length/cost. I am unable to workout how to get the cost for each journey from the `Flight_Info` object.\r\n\r\nHere is my code:\r\n\r\n    import java.util.Scanner;\r\n    import org.jgrapht.graph.*;\r\n    import org.jgrapht.Graphs;\r\n    import org.jgrapht.alg.DijkstraShortestPath;\r\n\r\n    public class Flights2 {\r\n\r\n\tpublic static SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; createGraph() {\r\n\r\n\t\tSimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport = new SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt;(\r\n\t\t\t\tFlight_Info.class);\r\n\r\n\t\tString Edinburgh = new String(&quot;Edinburgh&quot;);\r\n\t\tString Heathrow = new String(&quot;Heathrow&quot;);\r\n\t\tString Dubai = new String(&quot;Dubai&quot;);\r\n\t\tString Sydney = new String(&quot;Sydney&quot;);\r\n\t\tString KualaLumpur = new String(&quot;Kuala Lumpur&quot;);\r\n\t\tString Frankfurt = new String(&quot;Frankfurt&quot;);\r\n\t\tString Aukland = new String(&quot;Aukland&quot;);\r\n\t\tString RioDeJanerio = new String(&quot;Rio De Janerio&quot;);\r\n\t\tString NewYork = new String(&quot;New York&quot;);\r\n\t\tString Santiago = new String(&quot;Santiago&quot;);\r\n\r\n\t\tairport.addVertex(Edinburgh);\r\n\t\tairport.addVertex(Heathrow);\r\n\t\tairport.addVertex(Dubai);\r\n\t\tairport.addVertex(Sydney);\r\n\t\tairport.addVertex(KualaLumpur);\r\n\t\tairport.addVertex(Frankfurt);\r\n\t\tairport.addVertex(Aukland);\r\n\t\tairport.addVertex(RioDeJanerio);\r\n\t\tairport.addVertex(NewYork);\r\n\t\tairport.addVertex(Santiago);\r\n\t\t\r\n\t\t\r\n\r\n\t\tFlight_Info FL1001 = new Flight_Info(&quot;FL1001&quot;, 1530, 1630, 1, 80);\r\n\t\tairport.addEdge(Edinburgh, Heathrow, FL1001);\r\n\t\tFlight_Info FL1002 = new Flight_Info(&quot;FL1002&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Heathrow, Edinburgh, FL1002);\r\n\t\tFlight_Info FL1003 = new Flight_Info(&quot;FL1003&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Heathrow, Dubai, FL1003);\r\n\t\tFlight_Info FL1004 = new Flight_Info(&quot;FL1004&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Dubai, Heathrow, FL1004);\r\n\t\tFlight_Info FL1005 = new Flight_Info(&quot;FL1005&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Heathrow, Sydney, FL1005);\r\n\t\tFlight_Info FL1006 = new Flight_Info(&quot;FL1006&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Sydney, Heathrow, FL1006);\r\n\t\tFlight_Info FL1007 = new Flight_Info(&quot;FL1007&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Dubai, KualaLumpur, FL1007);\r\n\t\tFlight_Info FL1008 = new Flight_Info(&quot;FL1008&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(KualaLumpur, Dubai, FL1008);\r\n\t\tFlight_Info FL1009 = new Flight_Info(&quot;FL1009&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Dubai, Edinburgh, FL1009);\r\n\t\tFlight_Info FL1010 = new Flight_Info(&quot;FL10010&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Edinburgh, Dubai, FL1010);\r\n\t\tFlight_Info FL1011 = new Flight_Info(&quot;FL1011&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(KualaLumpur, Sydney, FL1011);\r\n\t\tFlight_Info FL1012 = new Flight_Info(&quot;FL1012&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Sydney, KualaLumpur, FL1012);\r\n\t\tFlight_Info FL1013 = new Flight_Info(&quot;FL1013&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Edinburgh, Frankfurt, FL1013);\r\n\t\tFlight_Info FL1014 = new Flight_Info(&quot;FL1014&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Frankfurt, Edinburgh, FL1014);\r\n\t\tFlight_Info FL1015 = new Flight_Info(&quot;FL1015&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Sydney, Aukland, FL1015);\r\n\t\tFlight_Info FL1016 = new Flight_Info(&quot;FL1016&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Aukland, Sydney, FL1016);\r\n\t\tFlight_Info FL1017 = new Flight_Info(&quot;FL1017&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(RioDeJanerio, NewYork, FL1017);\r\n\t\tFlight_Info FL1018 = new Flight_Info(&quot;FL1018&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(NewYork, RioDeJanerio, FL1018);\r\n\t\tFlight_Info FL1019 = new Flight_Info(&quot;FL1019&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(Santiago, NewYork, FL1019);\r\n\t\tFlight_Info FL1020 = new Flight_Info(&quot;FL1020&quot;, 1630, 1730, 1, 80);\r\n\t\tairport.addEdge(NewYork, Santiago, FL1020);\r\n\r\n\t\treturn airport;\r\n    }\r\n\r\n\tpublic static void itinerary(SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport, String departure,\r\n\t\t\tString destination) {\r\n\t\tDijkstraShortestPath&lt;String, Flight_Info&gt; p = new DijkstraShortestPath&lt;String, Flight_Info&gt;(airport, departure,\r\n\t\t\t\tdestination);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\r\n\t\tSystem.out.println(p.getPathEdgeList());\r\n\t\tSystem.out.println(&quot;Cost of shortest (i.e cheapest) path = &#163;&quot; + p.getPathLength() );\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\r\n\t\tSimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport = createGraph();\r\n\t\tSystem.out.println(&quot;The following airports are in use:&quot; + airport.vertexSet());\r\n\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter the starting airport:&quot;);\r\n\t\tString departure = s.nextLine();\r\n\t\tSystem.out.println(&quot;Please enter the destination aiport:&quot;);\r\n\t\tString destination = s.nextLine();\r\n\t\titinerary(airport, departure, destination);\r\n\t\t\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n---\r\n\r\n\r\n\r\n\r\n      import org.jgrapht.graph.DefaultWeightedEdge;\r\n\r\n    public class Flight_Info extends DefaultWeightedEdge {\r\n\r\n\tprivate String departure, destination, flightNumber;\r\n\tprivate int departureTime, arrivalTime, duration, ticketPrice;\r\n\r\n\tpublic Flight_Info() {\r\n\r\n\t}\r\n\r\n\tpublic Flight_Info(String flightNumber, int departureTime, int arrivalTime, int duration, int ticketPrice) {\r\n\t\tsuper();\r\n\t\tthis.flightNumber = flightNumber;\r\n\t\tthis.departureTime = departureTime;\r\n\t\tthis.arrivalTime = arrivalTime;\r\n\t\tthis.duration = duration;\r\n\t\tthis.ticketPrice = ticketPrice;\r\n\r\n\t}\r\n\t\r\n\t\r\n\tpublic int getDuration(){\r\n\t\treturn duration;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\r\n\r\n","title":"JGraphT graph shortest path","body":"<p>I am trying to calculate the total cost of the shortest path for a flight itinerary system, but it seems to be calculate the number of paths it take instead of the length/cost. I am unable to workout how to get the cost for each journey from the <code>Flight_Info</code> object.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.Scanner;\nimport org.jgrapht.graph.*;\nimport org.jgrapht.Graphs;\nimport org.jgrapht.alg.DijkstraShortestPath;\n\npublic class Flights2 {\n\npublic static SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; createGraph() {\n\n    SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport = new SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt;(\n            Flight_Info.class);\n\n    String Edinburgh = new String(\"Edinburgh\");\n    String Heathrow = new String(\"Heathrow\");\n    String Dubai = new String(\"Dubai\");\n    String Sydney = new String(\"Sydney\");\n    String KualaLumpur = new String(\"Kuala Lumpur\");\n    String Frankfurt = new String(\"Frankfurt\");\n    String Aukland = new String(\"Aukland\");\n    String RioDeJanerio = new String(\"Rio De Janerio\");\n    String NewYork = new String(\"New York\");\n    String Santiago = new String(\"Santiago\");\n\n    airport.addVertex(Edinburgh);\n    airport.addVertex(Heathrow);\n    airport.addVertex(Dubai);\n    airport.addVertex(Sydney);\n    airport.addVertex(KualaLumpur);\n    airport.addVertex(Frankfurt);\n    airport.addVertex(Aukland);\n    airport.addVertex(RioDeJanerio);\n    airport.addVertex(NewYork);\n    airport.addVertex(Santiago);\n\n\n\n    Flight_Info FL1001 = new Flight_Info(\"FL1001\", 1530, 1630, 1, 80);\n    airport.addEdge(Edinburgh, Heathrow, FL1001);\n    Flight_Info FL1002 = new Flight_Info(\"FL1002\", 1630, 1730, 1, 80);\n    airport.addEdge(Heathrow, Edinburgh, FL1002);\n    Flight_Info FL1003 = new Flight_Info(\"FL1003\", 1630, 1730, 1, 80);\n    airport.addEdge(Heathrow, Dubai, FL1003);\n    Flight_Info FL1004 = new Flight_Info(\"FL1004\", 1630, 1730, 1, 80);\n    airport.addEdge(Dubai, Heathrow, FL1004);\n    Flight_Info FL1005 = new Flight_Info(\"FL1005\", 1630, 1730, 1, 80);\n    airport.addEdge(Heathrow, Sydney, FL1005);\n    Flight_Info FL1006 = new Flight_Info(\"FL1006\", 1630, 1730, 1, 80);\n    airport.addEdge(Sydney, Heathrow, FL1006);\n    Flight_Info FL1007 = new Flight_Info(\"FL1007\", 1630, 1730, 1, 80);\n    airport.addEdge(Dubai, KualaLumpur, FL1007);\n    Flight_Info FL1008 = new Flight_Info(\"FL1008\", 1630, 1730, 1, 80);\n    airport.addEdge(KualaLumpur, Dubai, FL1008);\n    Flight_Info FL1009 = new Flight_Info(\"FL1009\", 1630, 1730, 1, 80);\n    airport.addEdge(Dubai, Edinburgh, FL1009);\n    Flight_Info FL1010 = new Flight_Info(\"FL10010\", 1630, 1730, 1, 80);\n    airport.addEdge(Edinburgh, Dubai, FL1010);\n    Flight_Info FL1011 = new Flight_Info(\"FL1011\", 1630, 1730, 1, 80);\n    airport.addEdge(KualaLumpur, Sydney, FL1011);\n    Flight_Info FL1012 = new Flight_Info(\"FL1012\", 1630, 1730, 1, 80);\n    airport.addEdge(Sydney, KualaLumpur, FL1012);\n    Flight_Info FL1013 = new Flight_Info(\"FL1013\", 1630, 1730, 1, 80);\n    airport.addEdge(Edinburgh, Frankfurt, FL1013);\n    Flight_Info FL1014 = new Flight_Info(\"FL1014\", 1630, 1730, 1, 80);\n    airport.addEdge(Frankfurt, Edinburgh, FL1014);\n    Flight_Info FL1015 = new Flight_Info(\"FL1015\", 1630, 1730, 1, 80);\n    airport.addEdge(Sydney, Aukland, FL1015);\n    Flight_Info FL1016 = new Flight_Info(\"FL1016\", 1630, 1730, 1, 80);\n    airport.addEdge(Aukland, Sydney, FL1016);\n    Flight_Info FL1017 = new Flight_Info(\"FL1017\", 1630, 1730, 1, 80);\n    airport.addEdge(RioDeJanerio, NewYork, FL1017);\n    Flight_Info FL1018 = new Flight_Info(\"FL1018\", 1630, 1730, 1, 80);\n    airport.addEdge(NewYork, RioDeJanerio, FL1018);\n    Flight_Info FL1019 = new Flight_Info(\"FL1019\", 1630, 1730, 1, 80);\n    airport.addEdge(Santiago, NewYork, FL1019);\n    Flight_Info FL1020 = new Flight_Info(\"FL1020\", 1630, 1730, 1, 80);\n    airport.addEdge(NewYork, Santiago, FL1020);\n\n    return airport;\n}\n\npublic static void itinerary(SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport, String departure,\n        String destination) {\n    DijkstraShortestPath&lt;String, Flight_Info&gt; p = new DijkstraShortestPath&lt;String, Flight_Info&gt;(airport, departure,\n            destination);\n\n\n\n\n    System.out.println(p.getPathEdgeList());\n    System.out.println(\"Cost of shortest (i.e cheapest) path = £\" + p.getPathLength() );\n}\n\npublic static void main(String args[]) {\n\n    SimpleDirectedWeightedGraph&lt;String, Flight_Info&gt; airport = createGraph();\n    System.out.println(\"The following airports are in use:\" + airport.vertexSet());\n    @SuppressWarnings(\"resource\")\n    Scanner s = new Scanner(System.in);\n    System.out.println(\"Please enter the starting airport:\");\n    String departure = s.nextLine();\n    System.out.println(\"Please enter the destination aiport:\");\n    String destination = s.nextLine();\n    itinerary(airport, departure, destination);\n\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>  import org.jgrapht.graph.DefaultWeightedEdge;\n\npublic class Flight_Info extends DefaultWeightedEdge {\n\nprivate String departure, destination, flightNumber;\nprivate int departureTime, arrivalTime, duration, ticketPrice;\n\npublic Flight_Info() {\n\n}\n\npublic Flight_Info(String flightNumber, int departureTime, int arrivalTime, int duration, int ticketPrice) {\n    super();\n    this.flightNumber = flightNumber;\n    this.departureTime = departureTime;\n    this.arrivalTime = arrivalTime;\n    this.duration = duration;\n    this.ticketPrice = ticketPrice;\n\n}\n\n\npublic int getDuration(){\n    return duration;\n}\n</code></pre>\n"},{"tags":["java","web-services"],"answers":[{"tags":[],"owner":{"account_id":307623,"reputation":502,"user_id":619021,"display_name":"sethupathi.t"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377184511,"creation_date":1325184930,"answer_id":8672129,"question_id":7825353,"body_markdown":"Create a client for the given wsdl and try this:\r\n\r\n    WebServiceSoapBindingStub stub = new WebServiceSoapBindingStub();\r\n    stub._setProperty(Stub.ENDPOINT_ADDRESS_PROPERTY, wsdlUrl); \r\n    WebService service = (WebService) stub;\r\n    service.authenticateUser(username,password); //service.yourservicename\r\n\r\nMore information that will help you.\r\n\r\n[http://www.codeproject.com/KB/java/edujini_webservice_java.aspx][1]\r\n\r\n  [1]: http://www.codeproject.com/KB/java/edujini_webservice_java.aspx\r\n","title":"how to use Service,ServiceLocator,portType,porttypeProxy and stub to create a java client","body":"<p>Create a client for the given wsdl and try this:</p>\n\n<pre><code>WebServiceSoapBindingStub stub = new WebServiceSoapBindingStub();\nstub._setProperty(Stub.ENDPOINT_ADDRESS_PROPERTY, wsdlUrl); \nWebService service = (WebService) stub;\nservice.authenticateUser(username,password); //service.yourservicename\n</code></pre>\n\n<p>More information that will help you.</p>\n\n<p><a href=\"http://www.codeproject.com/KB/java/edujini_webservice_java.aspx\" rel=\"nofollow\">http://www.codeproject.com/KB/java/edujini_webservice_java.aspx</a></p>\n"}],"owner":{"account_id":228567,"reputation":4041,"user_id":490953,"accept_rate":70,"display_name":"maddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692885790,"creation_date":1319044866,"question_id":7825353,"body_markdown":"i have used axis web service client wizard + develop client slider for generating files as : \r\n\r\n - Mage_Api_Model_Server_HandlerBindingStub  \r\n - Mage_Api_Model_Server_HandlerPortType\r\n - Mage_Api_Model_Server_HandlerPortTypeProxy  \r\n - MagentoService  \r\n - MagentoServiceLocator\r\nplease look at [my post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7820654/create-a-web-service-client-in-java-to-access-method-from-wsdl-w-eclipse\r\n\r\ni am trying to make a client some thing like this:  \r\n\r\n    package Magento;\r\n\r\n      public class MyClient {  \r\n\tpublic static void main(String[] args) {  \r\n\t\ttry{  \r\n\t\t\tMagentoServiceLocator msl = new MagentoServiceLocator();  \r\n\t\t\tMagentoService ms = (MagentoService) msl.WHICH_METHOD_TO_CALL();  \r\n\t\t\t\r\n\t\t\tdouble product_list = ms.catalogProductList;  \r\n\t\t\tSystem.out.println(&quot;Product List: &quot; + product_list);  \r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t  }\r\n\r\n    }\r\n\r\nany help i have tried to the best of mine but not getting which method should i call for accessing a php webservice method.\r\nany help?","title":"how to use Service,ServiceLocator,portType,porttypeProxy and stub to create a java client","body":"<p>i have used axis web service client wizard + develop client slider for generating files as : </p>\n\n<ul>\n<li>Mage_Api_Model_Server_HandlerBindingStub  </li>\n<li>Mage_Api_Model_Server_HandlerPortType</li>\n<li>Mage_Api_Model_Server_HandlerPortTypeProxy  </li>\n<li>MagentoService  </li>\n<li>MagentoServiceLocator\nplease look at <a href=\"https://stackoverflow.com/questions/7820654/create-a-web-service-client-in-java-to-access-method-from-wsdl-w-eclipse\">my post</a></li>\n</ul>\n\n<p>i am trying to make a client some thing like this:  </p>\n\n<pre><code>package Magento;\n\n  public class MyClient {  \npublic static void main(String[] args) {  \n    try{  \n        MagentoServiceLocator msl = new MagentoServiceLocator();  \n        MagentoService ms = (MagentoService) msl.WHICH_METHOD_TO_CALL();  \n\n        double product_list = ms.catalogProductList;  \n        System.out.println(\"Product List: \" + product_list);  \n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n  }\n\n}\n</code></pre>\n\n<p>any help i have tried to the best of mine but not getting which method should i call for accessing a php webservice method.\nany help?</p>\n"},{"tags":["java","json","jackson","objectmapper","jsonparser"],"comments":[{"owner":{"account_id":29290889,"reputation":11,"user_id":22441394,"display_name":"Techiee"},"score":0,"creation_date":1692883234,"post_id":76969683,"comment_id":135686559,"body_markdown":"Please note that I don&#39;t have control over TerminationPoint_T and TPType_T class","body":"Please note that I don&#39;t have control over TerminationPoint_T and TPType_T class"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692885644,"post_id":76969683,"comment_id":135687191,"body_markdown":"Google for &quot;Jackson custom serializer for class&quot;","body":"Google for &quot;Jackson custom serializer for class&quot;"},{"owner":{"account_id":29290889,"reputation":11,"user_id":22441394,"display_name":"Techiee"},"score":0,"creation_date":1692887710,"post_id":76969683,"comment_id":135687663,"body_markdown":"Hi @Jorn Thanks for your advise but I couldn&#39;t find any relevant answer so posted here.","body":"Hi @Jorn Thanks for your advise but I couldn&#39;t find any relevant answer so posted here."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1692897512,"post_id":76969683,"comment_id":135690051,"body_markdown":"See https://www.baeldung.com/jackson-deserialization","body":"See <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialization</a>"}],"owner":{"account_id":29290889,"reputation":11,"user_id":22441394,"display_name":"Techiee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692885380,"creation_date":1692882999,"question_id":76969683,"body_markdown":"How to Serialize and de-serialize below object using jackson library ?\r\n\r\n\r\n\r\n\r\n```\r\npublic class Notification2 implements Serializable {\r\n\tprivate String eventTypeName;\r\n\tprivate TerminationPoint_T tpObj;\r\n\t\r\n\r\n\tpublic Notification2() {\r\n\t}\r\n\r\n\t\t\r\n\tpublic TerminationPoint_T getTpObj() {\r\n\t\treturn tpObj;\r\n\t}\r\n\r\n\tpublic void setTpObj(TerminationPoint_T tpObj) {\r\n\t\tthis.tpObj = tpObj;\r\n\t}\r\n\r\n\t\r\n}\r\n\r\npublic final class TerminationPoint_T\r\n\timplements org.omg.CORBA.portable.IDLEntity\r\n{\r\n\t\r\n\t\r\n\tpublic org.tmforum.mtnm.terminationPoint.TPType_T type;\r\n\t\r\n\tpublic TerminationPoint_T( org.tmforum.mtnm.terminationPoint.TPType_T type)\r\n\t{\r\n\t\t\r\n\t\tthis.type = type;\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nERROR:\r\n--\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `org.tmforum.mtnm.terminationPoint.TPType_T` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n at [Source: (String)","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of","body":"<p>How to Serialize and de-serialize below object using jackson library ?</p>\n<pre><code>public class Notification2 implements Serializable {\n    private String eventTypeName;\n    private TerminationPoint_T tpObj;\n    \n\n    public Notification2() {\n    }\n\n        \n    public TerminationPoint_T getTpObj() {\n        return tpObj;\n    }\n\n    public void setTpObj(TerminationPoint_T tpObj) {\n        this.tpObj = tpObj;\n    }\n\n    \n}\n\npublic final class TerminationPoint_T\n    implements org.omg.CORBA.portable.IDLEntity\n{\n    \n    \n    public org.tmforum.mtnm.terminationPoint.TPType_T type;\n    \n    public TerminationPoint_T( org.tmforum.mtnm.terminationPoint.TPType_T type)\n    {\n        \n        this.type = type;\n        \n    }\n}\n\n</code></pre>\n<h2>ERROR:</h2>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>org.tmforum.mtnm.terminationPoint.TPType_T</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\nat [Source: (String)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9907,"page":227,"page_size":100}
