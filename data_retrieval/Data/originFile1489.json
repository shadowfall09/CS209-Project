{"items":[{"tags":["java","annotations","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":14253684,"reputation":197,"user_id":10296608,"display_name":"John Stone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648141718,"creation_date":1648141718,"answer_id":71606633,"question_id":71602753,"body_markdown":"Let&#39;s say you have a property (not a variable) called `run-frequency.minutes` which contains an integer of how frequently you would like a method to execute.  There are three annotation properties that will come in handy:\r\n\r\n* `initialDelayString` - Value of how long to wait before the first execution.\r\n* `fixedDelayString` - Value of how long to wait between executions.\r\n* `timeUnit` - The unit to use when evaluating the above two values (MINUTES, SECONDS, etc).\r\n\r\n```java\r\n@Scheduled(\r\n    initialDelayString = &quot;${run-frequency.minutes}&quot;,\r\n    fixedDelayString = &quot;${run-frequency.minutes}&quot;,\r\n    timeUnit = TimeUnit.MINUTES\r\n)\r\n```\r\n\r\nOn a side note, here is the JavaDoc for that annotation: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html","title":"How to read value in integer in @Schedule annotation?","body":"<p>Let's say you have a property (not a variable) called <code>run-frequency.minutes</code> which contains an integer of how frequently you would like a method to execute.  There are three annotation properties that will come in handy:</p>\n<ul>\n<li><code>initialDelayString</code> - Value of how long to wait before the first execution.</li>\n<li><code>fixedDelayString</code> - Value of how long to wait between executions.</li>\n<li><code>timeUnit</code> - The unit to use when evaluating the above two values (MINUTES, SECONDS, etc).</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(\n    initialDelayString = &quot;${run-frequency.minutes}&quot;,\n    fixedDelayString = &quot;${run-frequency.minutes}&quot;,\n    timeUnit = TimeUnit.MINUTES\n)\n</code></pre>\n<p>On a side note, here is the JavaDoc for that annotation: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/Scheduled.html</a></p>\n"}],"owner":{"account_id":24193040,"reputation":21,"user_id":18152025,"display_name":"SakshiSinghal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648141718,"creation_date":1648125754,"question_id":71602753,"body_markdown":"The variable used in @Schedule is defined in some other project but to use it in another project \r\n it is read in a class and the passed in @Scheduled in other file.\r\n\r\n  The variable is defined in the class as: \r\n\r\n    @Value(&quot;${cron_frequency_interval_for_logs}&quot;)\r\n    int cronFrequencyIntervalForLogs;\r\n\r\nand used as \r\n\r\n    @Scheduled(fixedDelayString = &quot;${cron_frequency_interval_for_logs}&quot;)\r\n\r\nThis works fine but the time it takes is in milliseconds and that too in String type.\r\n\r\nWhat I want and tried is: want the time in integer form and in minutes:\r\n\r\n    @Value(&quot;${cron_frequency_interval_for_logs}&quot;)\r\n    int cronFrequencyIntervalForLogs;\r\n\r\n This syntax I copied from internet but didn&#39;t work for me.\r\n\r\n    @Scheduled(fixedDelay = &quot;#{new Integer(&#39;${cron_frequency_interval_for_logs}&#39;)}&quot;)\r\n\r\nI want the time to be in minutes as first priority but by referring to the below article I got to know the format would be 5\\*60\\*1000 for 5 minutes and in such a case if I can just store 5 in the variable and can do the rest of the calculation as that is going to be repetitive. \r\n\r\nIs there any way of doing this? \r\n[Referred this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61749805/how-to-give-minute-in-fixeddelay-initialdelay-in-scheduled-spring-boot","title":"How to read value in integer in @Schedule annotation?","body":"<p>The variable used in @Schedule is defined in some other project but to use it in another project\nit is read in a class and the passed in @Scheduled in other file.</p>\n<p>The variable is defined in the class as:</p>\n<pre><code>@Value(&quot;${cron_frequency_interval_for_logs}&quot;)\nint cronFrequencyIntervalForLogs;\n</code></pre>\n<p>and used as</p>\n<pre><code>@Scheduled(fixedDelayString = &quot;${cron_frequency_interval_for_logs}&quot;)\n</code></pre>\n<p>This works fine but the time it takes is in milliseconds and that too in String type.</p>\n<p>What I want and tried is: want the time in integer form and in minutes:</p>\n<pre><code>@Value(&quot;${cron_frequency_interval_for_logs}&quot;)\nint cronFrequencyIntervalForLogs;\n</code></pre>\n<p>This syntax I copied from internet but didn't work for me.</p>\n<pre><code>@Scheduled(fixedDelay = &quot;#{new Integer('${cron_frequency_interval_for_logs}')}&quot;)\n</code></pre>\n<p>I want the time to be in minutes as first priority but by referring to the below article I got to know the format would be 5*60*1000 for 5 minutes and in such a case if I can just store 5 in the variable and can do the rest of the calculation as that is going to be repetitive.</p>\n<p>Is there any way of doing this?\n<a href=\"https://stackoverflow.com/questions/61749805/how-to-give-minute-in-fixeddelay-initialdelay-in-scheduled-spring-boot\">Referred this</a></p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1609429,"reputation":1062,"user_id":1488843,"accept_rate":75,"display_name":"MGPJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648135820,"creation_date":1648135820,"answer_id":71605242,"question_id":71605199,"body_markdown":"Add Spring AOP dependency in your project.","title":"Unexpected exception parsing XML document from class path resource in spring boot","body":"<p>Add Spring AOP dependency in your project.</p>\n"}],"owner":{"account_id":22680246,"reputation":255,"user_id":16850682,"display_name":"Aditya Dixit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648141632,"creation_date":1648135641,"question_id":71605199,"body_markdown":"I am using spring boot and wrote the following code:\r\npackage com.luv2code.springdemo;\r\n\r\n    import org.springframework.context.support.ClassPathXmlApplicationContext;\r\n    \r\n    public class AnnotationDemoApp {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n    \t\tCoach theCoach = context.getBean(&quot;thatSillyCoach&quot;, Coach.class);\r\n    \t\tSystem.out.println(theCoach.getDailyWorkout());\r\n    \t\tcontext.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nError message:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\r\n    \tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\r\n    \tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\r\n    \tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\r\n    \tat com.luv2code.springdemo.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\r\n    Caused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\r\n    \tat org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\r\n    \tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.registerComponents(ComponentScanBeanDefinitionParser.java:152)\r\n    \tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:91)\r\n    \tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n    \tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\r\n    \tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\r\n    \tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\r\n    \t... 14 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 25 more\r\n\r\n\r\nMy project structure:\r\n\r\n[![spring_error][1]][1]\r\n\r\nMy applicationContext.xml is outside of com.luv2code.springdemo.\r\n\r\nWhat is the error here?\r\n\r\n  [1]: https://i.stack.imgur.com/JknSK.png","title":"Unexpected exception parsing XML document from class path resource in spring boot","body":"<p>I am using spring boot and wrote the following code:\npackage com.luv2code.springdemo;</p>\n<pre><code>import org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class AnnotationDemoApp {\n\n    public static void main(String[] args) {\n        ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n        Coach theCoach = context.getBean(&quot;thatSillyCoach&quot;, Coach.class);\n        System.out.println(theCoach.getDailyWorkout());\n        context.close();\n    }\n\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [applicationContext.xml]; nested exception is java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:417)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:257)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:128)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:94)\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:671)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:553)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:144)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:85)\n    at com.luv2code.springdemo.AnnotationDemoApp.main(AnnotationDemoApp.java:8)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/aop/TargetSource\n    at org.springframework.context.annotation.AnnotationConfigUtils.registerAnnotationConfigProcessors(AnnotationConfigUtils.java:157)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.registerComponents(ComponentScanBeanDefinitionParser.java:152)\n    at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:91)\n    at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\n    at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n    at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.aop.TargetSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 25 more\n</code></pre>\n<p>My project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/JknSK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JknSK.png\" alt=\"spring_error\" /></a></p>\n<p>My applicationContext.xml is outside of com.luv2code.springdemo.</p>\n<p>What is the error here?</p>\n"},{"tags":["java","xml","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648141385,"creation_date":1648141385,"answer_id":71606562,"question_id":71564510,"body_markdown":"&gt; Is there a way to change the default naming convention\r\n&gt; when marshalling a Map to XML using JAXB?\r\n\r\nI think there is no way to change this naming, because the element names of\r\n`&lt;entry&gt;`, `&lt;key&gt;` and `&lt;value&gt;` are hard-coded in the JAXB implementation.  \r\nIn class `com.sun.xml.bind.v2.runtime.property.SingleMapNodeProperty`\r\n(which is responsible for serializing a `Map` entry) there is actually this code:\r\n\r\n    this.entryTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;entry&quot;);\r\n    this.keyTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;key&quot;);\r\n    this.valueTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;value&quot;);\r\n\r\n&gt; Is there possibly I can do this another way with nested objects instead of a hash map?\r\n&gt;\r\n&gt; I was messing around attempting to do a List of `&lt;details&gt;`\r\n&gt; but my JAXB was having troubles marshalling a list.\r\n\r\nI don&#39;t know which troubles you encountered.\r\nBut you can achieve your goal just by changing in your `Error` class from\r\n\r\n    private Map&lt;String, String&gt; details;\r\n\r\nto\r\n\r\n\t@XmlElementWrapper(name = &quot;details&quot;)\r\n\t@XmlElement(name = &quot;detail&quot;)\r\n    private List&lt;Detail&gt; details;\r\n\r\n(and of course also adapting the constructor/getter/setter accordingly).  \r\nYou will also need a `Detail` class for representing the content\r\nwithin `&lt;detail&gt;...&lt;/detail&gt;`.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Detail {\r\n    \r\n\t    @XmlElement\r\n\t    private String key;\r\n\t\r\n\t    @XmlElement\r\n\t    private String value;\r\n\t\t\r\n\t\t// constructors, getters, setters (omitted here for brevity)\r\n    }\r\n\r\n","title":"How to change default Hashmap tag name from &lt;entry&gt; to something else when marshalling XML using JAXB?","body":"<blockquote>\n<p>Is there a way to change the default naming convention\nwhen marshalling a Map to XML using JAXB?</p>\n</blockquote>\n<p>I think there is no way to change this naming, because the element names of\n<code>&lt;entry&gt;</code>, <code>&lt;key&gt;</code> and <code>&lt;value&gt;</code> are hard-coded in the JAXB implementation.<br />\nIn class <code>com.sun.xml.bind.v2.runtime.property.SingleMapNodeProperty</code>\n(which is responsible for serializing a <code>Map</code> entry) there is actually this code:</p>\n<pre><code>this.entryTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;entry&quot;);\nthis.keyTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;key&quot;);\nthis.valueTag = context.nameBuilder.createElementName(&quot;&quot;,&quot;value&quot;);\n</code></pre>\n<blockquote>\n<p>Is there possibly I can do this another way with nested objects instead of a hash map?</p>\n<p>I was messing around attempting to do a List of <code>&lt;details&gt;</code>\nbut my JAXB was having troubles marshalling a list.</p>\n</blockquote>\n<p>I don't know which troubles you encountered.\nBut you can achieve your goal just by changing in your <code>Error</code> class from</p>\n<pre><code>private Map&lt;String, String&gt; details;\n</code></pre>\n<p>to</p>\n<pre><code>@XmlElementWrapper(name = &quot;details&quot;)\n@XmlElement(name = &quot;detail&quot;)\nprivate List&lt;Detail&gt; details;\n</code></pre>\n<p>(and of course also adapting the constructor/getter/setter accordingly).<br />\nYou will also need a <code>Detail</code> class for representing the content\nwithin <code>&lt;detail&gt;...&lt;/detail&gt;</code>.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class Detail {\n\n    @XmlElement\n    private String key;\n\n    @XmlElement\n    private String value;\n    \n    // constructors, getters, setters (omitted here for brevity)\n}\n</code></pre>\n"}],"owner":{"account_id":7129598,"reputation":872,"user_id":5451356,"accept_rate":73,"display_name":"terrabl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71606562,"answer_count":1,"score":0,"last_activity_date":1648141385,"creation_date":1647899187,"question_id":71564510,"body_markdown":"I am attempting to change the value of the &lt;entry&gt; tag in the marshalled XML using JAXB to &lt;detail&gt;. My clients that are calling my application are expecting &lt;detail&gt;, previously I was using XSLT to do this transformation but I am switching to a JAXB approach to create the XML response. \r\n\r\nRight now this is the error XML that I am creating:\r\n```xml\r\n&lt;error&gt;\r\n    &lt;details&gt;\r\n        &lt;entry&gt;\r\n            &lt;key&gt;code&lt;/key&gt;\r\n            &lt;value&gt;1234&lt;/value&gt;\r\n        &lt;/entry&gt;\r\n        &lt;entry&gt;\r\n            &lt;key&gt;customKey&lt;/key&gt;\r\n            &lt;value&gt;customerValue&lt;/value&gt;\r\n        &lt;/entry&gt;\r\n    &lt;/details&gt;\r\n&lt;/error&gt;\r\n```\r\n\r\nAnd I need it to look like this:\r\n\r\n```xml\r\n&lt;error&gt;\r\n    &lt;details&gt;\r\n        &lt;detail&gt;\r\n            &lt;key&gt;code&lt;/key&gt;\r\n            &lt;value&gt;1234&lt;/value&gt;\r\n        &lt;/detail&gt;\r\n        &lt;detail&gt;\r\n            &lt;key&gt;customKey&lt;/key&gt;\r\n            &lt;value&gt;customerValue&lt;/value&gt;\r\n        &lt;/detail&gt;\r\n    &lt;/details&gt;\r\n&lt;/error&gt;\r\n```\r\n\r\nThe Java object that I am using to marshall is as follows:\r\n\r\n```java\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport java.util.Map;\r\n\r\n@XmlRootElement(\r\n        name = &quot;error&quot;\r\n)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Error {\r\n    \r\n    private Map&lt;String, String&gt; details;\r\n\r\n    public Error() {\r\n\r\n    }\r\n\r\n    public Error(Map&lt;String, String&gt; details) {\r\n        this.details = details;\r\n    }\r\n    \r\n    public Map&lt;String, String&gt; getDetails() {\r\n        return details;\r\n    }\r\n\r\n    public void setDetails(Map&lt;String, String&gt; details) {\r\n        this.details = details;\r\n    }\r\n}\r\n```\r\n\r\nIs there a way to change the default naming convention when marshalling a Map to XML using JAXB? Is there possibly I can do this another way with nested objects instead of a hash map? \r\n\r\nI was messing around attempting to do a List of `&lt;details&gt;` but my JAXB was having troubles marshalling a list. \r\n\r\nThank you","title":"How to change default Hashmap tag name from &lt;entry&gt; to something else when marshalling XML using JAXB?","body":"<p>I am attempting to change the value of the  tag in the marshalled XML using JAXB to . My clients that are calling my application are expecting , previously I was using XSLT to do this transformation but I am switching to a JAXB approach to create the XML response.</p>\n<p>Right now this is the error XML that I am creating:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error&gt;\n    &lt;details&gt;\n        &lt;entry&gt;\n            &lt;key&gt;code&lt;/key&gt;\n            &lt;value&gt;1234&lt;/value&gt;\n        &lt;/entry&gt;\n        &lt;entry&gt;\n            &lt;key&gt;customKey&lt;/key&gt;\n            &lt;value&gt;customerValue&lt;/value&gt;\n        &lt;/entry&gt;\n    &lt;/details&gt;\n&lt;/error&gt;\n</code></pre>\n<p>And I need it to look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;error&gt;\n    &lt;details&gt;\n        &lt;detail&gt;\n            &lt;key&gt;code&lt;/key&gt;\n            &lt;value&gt;1234&lt;/value&gt;\n        &lt;/detail&gt;\n        &lt;detail&gt;\n            &lt;key&gt;customKey&lt;/key&gt;\n            &lt;value&gt;customerValue&lt;/value&gt;\n        &lt;/detail&gt;\n    &lt;/details&gt;\n&lt;/error&gt;\n</code></pre>\n<p>The Java object that I am using to marshall is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport java.util.Map;\n\n@XmlRootElement(\n        name = &quot;error&quot;\n)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Error {\n    \n    private Map&lt;String, String&gt; details;\n\n    public Error() {\n\n    }\n\n    public Error(Map&lt;String, String&gt; details) {\n        this.details = details;\n    }\n    \n    public Map&lt;String, String&gt; getDetails() {\n        return details;\n    }\n\n    public void setDetails(Map&lt;String, String&gt; details) {\n        this.details = details;\n    }\n}\n</code></pre>\n<p>Is there a way to change the default naming convention when marshalling a Map to XML using JAXB? Is there possibly I can do this another way with nested objects instead of a hash map?</p>\n<p>I was messing around attempting to do a List of <code>&lt;details&gt;</code> but my JAXB was having troubles marshalling a list.</p>\n<p>Thank you</p>\n"},{"tags":["java","swing","graphics","jpanel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1648068949,"post_id":71592195,"comment_id":126534089,"body_markdown":"1) class names should start with an upper case character 2) by convention constructors are coded first in your class, not last.","body":"1) class names should start with an upper case character 2) by convention constructors are coded first in your class, not last."},{"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"score":0,"creation_date":1648134934,"post_id":71592195,"comment_id":126552438,"body_markdown":"My WiFi is currently down but I&#39;ll try to get a minimal example of my code up soon. And thanks for the tips camickr, I&#39;ll try to remember those in the future!","body":"My WiFi is currently down but I&#39;ll try to get a minimal example of my code up soon. And thanks for the tips camickr, I&#39;ll try to remember those in the future!"},{"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"score":0,"creation_date":1648139367,"post_id":71592195,"comment_id":126554387,"body_markdown":"After some more investigation I&#39;ve edited my example to what I think is the simplest it could get.","body":"After some more investigation I&#39;ve edited my example to what I think is the simplest it could get."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648141101,"creation_date":1648141101,"answer_id":71606493,"question_id":71592195,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nSee the code comments.\r\n\r\n    import java.awt.Color;\r\n    import javax.swing.*;\r\n    \r\n    public class BlackWindow extends JFrame {\r\n    \r\n        BlackWindow(){\r\n            setBounds(100,100,400,100);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            // sets the frame black, not the content pane\r\n            //setBackground(Color.BLACK);\r\n            getContentPane().setBackground(Color.BLACK);\r\n            setVisible(true);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            new BlackWindow();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzJuD.png\r\n\r\nThis example also speaks to a few general principles we follow when using Swing&#39;s `JFrame`:\r\n\r\n1. Don&#39;t extend the `JFrame` class, just use an instance of one.\r\n2. Don&#39;t do anything significant to the coloring or styling of a frame, instead color (for example) a `JPanel` and **add it** to the frame. ","title":"Java Swing panels and graphics stopped displaying","body":"<p><a href=\"https://i.stack.imgur.com/NzJuD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzJuD.png\" alt=\"enter image description here\" /></a></p>\n<p>See the code comments.</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.*;\n\npublic class BlackWindow extends JFrame {\n\n    BlackWindow(){\n        setBounds(100,100,400,100);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        // sets the frame black, not the content pane\n        //setBackground(Color.BLACK);\n        getContentPane().setBackground(Color.BLACK);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new BlackWindow();\n    }\n}\n</code></pre>\n<p>This example also speaks to a few general principles we follow when using Swing's <code>JFrame</code>:</p>\n<ol>\n<li>Don't extend the <code>JFrame</code> class, just use an instance of one.</li>\n<li>Don't do anything significant to the coloring or styling of a frame, instead color (for example) a <code>JPanel</code> and <strong>add it</strong> to the frame.</li>\n</ol>\n"}],"owner":{"account_id":24648199,"reputation":3,"user_id":18545595,"display_name":"HannahLovesAna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648141101,"creation_date":1648059722,"question_id":71592195,"body_markdown":"I&#39;m new to Java Swing (and fairly new to Java in general) and I&#39;ve been messing around with Swing for a while, but after making some changes my panels stopped displaying and I don&#39;t know why.\r\n\r\nWhen using `isDisplayable()` on my JPanel object it returns `false`. After more investigation my program does not seem to display graphics at all.\r\n\r\nEven a simple piece of code doesn&#39;t work for me anymore:\r\n\r\n```\r\npublic class window extends JFrame {\r\n\r\n        window(){\r\n\r\n        setBounds(100,100,1200,700);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \r\n        setBackground(Color.black);\r\n        setVisible(true);\r\n    }\r\n    public static void main(String[] args) throws IOException{\r\n        new window();\r\n\r\n    }\r\n\r\n```\r\n\r\nI have no idea what I changed for this to happen, but all I get is a blank a completely blank window.\r\n\r\nAny help is appreciated a lot!","title":"Java Swing panels and graphics stopped displaying","body":"<p>I'm new to Java Swing (and fairly new to Java in general) and I've been messing around with Swing for a while, but after making some changes my panels stopped displaying and I don't know why.</p>\n<p>When using <code>isDisplayable()</code> on my JPanel object it returns <code>false</code>. After more investigation my program does not seem to display graphics at all.</p>\n<p>Even a simple piece of code doesn't work for me anymore:</p>\n<pre><code>public class window extends JFrame {\n\n        window(){\n\n        setBounds(100,100,1200,700);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); \n        setBackground(Color.black);\n        setVisible(true);\n    }\n    public static void main(String[] args) throws IOException{\n        new window();\n\n    }\n\n</code></pre>\n<p>I have no idea what I changed for this to happen, but all I get is a blank a completely blank window.</p>\n<p>Any help is appreciated a lot!</p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":6332,"reputation":17357,"user_id":10601,"accept_rate":91,"display_name":"perimosocordiae"},"score":2,"creation_date":1260327047,"post_id":1871253,"comment_id":1769224,"body_markdown":"You might find this SO question useful: http://stackoverflow.com/questions/714796/priorityqueue-heap-update","body":"You might find this SO question useful: <a href=\"http://stackoverflow.com/questions/714796/priorityqueue-heap-update\" title=\"priorityqueue heap update\">stackoverflow.com/questions/714796/priorityqueue-heap-update</a>"},{"owner":{"account_id":55726,"reputation":19658,"user_id":166938,"accept_rate":87,"display_name":"Marcus Whybrow"},"score":0,"creation_date":1260327227,"post_id":1871253,"comment_id":1769233,"body_markdown":"Great thanks, I didn&#39;t see that question before.","body":"Great thanks, I didn&#39;t see that question before."}],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1260326823,"creation_date":1260326823,"answer_id":1871303,"question_id":1871253,"body_markdown":"You have to remove and re-insert, as the queue works by putting new elements in the appropriate position when they are inserted. This is much faster than the alternative of finding the highest-priority element every time you pull out of the queue. The drawback is that you cannot change the priority after the element has been inserted. A TreeMap has the same limitation (as does a HashMap, which also breaks when the hashcode of its elements changes after insertion).\r\n\r\nIf you want to write a wrapper, you can move the comparison code from enqueue to dequeue. You would not need to sort at enqueue time anymore (because the order it creates would not be reliable anyway if you allow changes).\r\n\r\nBut this will perform worse, and you want to synchronize on the queue if you change any of the priorities. Since you need to add synchronization code when updating priorities, you might as well just dequeue and enqueue (you need the reference to the queue in both cases).\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>You have to remove and re-insert, as the queue works by putting new elements in the appropriate position when they are inserted. This is much faster than the alternative of finding the highest-priority element every time you pull out of the queue. The drawback is that you cannot change the priority after the element has been inserted. A TreeMap has the same limitation (as does a HashMap, which also breaks when the hashcode of its elements changes after insertion).</p>\n\n<p>If you want to write a wrapper, you can move the comparison code from enqueue to dequeue. You would not need to sort at enqueue time anymore (because the order it creates would not be reliable anyway if you allow changes).</p>\n\n<p>But this will perform worse, and you want to synchronize on the queue if you change any of the priorities. Since you need to add synchronization code when updating priorities, you might as well just dequeue and enqueue (you need the reference to the queue in both cases).</p>\n"},{"tags":[],"owner":{"account_id":576824,"reputation":131,"user_id":227680,"display_name":"Jon McCaffrey"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1260331108,"creation_date":1260331108,"answer_id":1871497,"question_id":1871253,"body_markdown":"I don&#39;t know if there is a Java implementation, but if you&#39;re changing key values alot, you can use a Fibonnaci heap, which has O(1) amortized cost to *decrease* a key value of an entry in the heap, rather than O(log(n)) as in an ordinary heap.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>I don't know if there is a Java implementation, but if you're changing key values alot, you can use a Fibonnaci heap, which has O(1) amortized cost to <em>decrease</em> a key value of an entry in the heap, rather than O(log(n)) as in an ordinary heap.</p>\n"},{"tags":[],"owner":{"account_id":1058083,"reputation":76416,"user_id":1060350,"accept_rate":76,"display_name":"Has QUIT--Anony-Mousse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1356308327,"creation_date":1356308327,"answer_id":14015794,"question_id":1871253,"body_markdown":"It depends a lot on whether you have direct control of *when* the values change.\r\n\r\nIf you know when the values change, you can either remove and reinsert (which in fact is fairly expensive, as removing requires a linear scan over the heap!).\r\nFurthermore, you can use an UpdatableHeap structure (not in stock java though) for this situation. Essentially, that is a heap that tracks the position of elements in a hashmap. This way, when the priority of an element changes, it can repair the heap. Third, you can look for an Fibonacci heap which does the same.\r\n\r\nDepending on your update rate, a linear scan / quicksort / QuickSelect each time might also work. In particular if you have much more updates than `pull`s, this is the way to go. QuickSelect is probably best if you have batches of update and then batches of pull opertions.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>It depends a lot on whether you have direct control of <em>when</em> the values change.</p>\n\n<p>If you know when the values change, you can either remove and reinsert (which in fact is fairly expensive, as removing requires a linear scan over the heap!).\nFurthermore, you can use an UpdatableHeap structure (not in stock java though) for this situation. Essentially, that is a heap that tracks the position of elements in a hashmap. This way, when the priority of an element changes, it can repair the heap. Third, you can look for an Fibonacci heap which does the same.</p>\n\n<p>Depending on your update rate, a linear scan / quicksort / QuickSelect each time might also work. In particular if you have much more updates than <code>pull</code>s, this is the way to go. QuickSelect is probably best if you have batches of update and then batches of pull opertions.</p>\n"},{"tags":[],"owner":{"account_id":1164676,"reputation":717,"user_id":6950119,"display_name":"Techflash"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1551548360,"creation_date":1522598054,"answer_id":49599851,"question_id":1871253,"body_markdown":"To trigger reheapify try this:\r\n   \r\n```java\r\nif(!priorityQueue.isEmpty()) {\r\n    priorityQueue.add(priorityQueue.remove());\r\n}\r\n```","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>To trigger reheapify try this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(!priorityQueue.isEmpty()) {\n    priorityQueue.add(priorityQueue.remove());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6763325,"reputation":49,"user_id":5209167,"display_name":"Phoenix King"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526794378,"creation_date":1526794378,"answer_id":50431975,"question_id":1871253,"body_markdown":"  Something I&#39;ve tried and it works so far, is peeking to see if the reference to the object you&#39;re changing is the same as the head of the PriorityQueue, if it is, then you poll(), change then re-insert; else you can change without polling because when the head is polled, then the heap is heapified anyways.\r\n\r\nDOWNSIDE: This changes the priority for Objects with the same Priority. ","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>Something I've tried and it works so far, is peeking to see if the reference to the object you're changing is the same as the head of the PriorityQueue, if it is, then you poll(), change then re-insert; else you can change without polling because when the head is polled, then the heap is heapified anyways.</p>\n\n<p>DOWNSIDE: This changes the priority for Objects with the same Priority. </p>\n"},{"tags":[],"owner":{"account_id":13893649,"reputation":733,"user_id":10807253,"display_name":"tensor"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1546669770,"creation_date":1546669770,"answer_id":54049575,"question_id":1871253,"body_markdown":"One easy solution that you can implement is by just adding that element again into the priority queue. It will not change the way you extract the elements although it will consume more space but that also won&#39;t be too much to effect your running time.\r\n\r\nTo proof this let&#39;s consider dijkstra algorithm below\r\n\r\n    public int[] dijkstra() {\r\n    int distance[] = new int[this.vertices];\r\n    int previous[] = new int[this.vertices];\r\n    for (int i = 0; i &lt; this.vertices; i++) {\r\n        distance[i] = Integer.MAX_VALUE;\r\n        previous[i] = -1;\r\n    }\r\n    distance[0] = 0;\r\n    previous[0] = 0;\r\n    PriorityQueue&lt;Node&gt; pQueue = new PriorityQueue&lt;&gt;(this.vertices, new NodeComparison());\r\n    addValues(pQueue, distance);\r\n    while (!pQueue.isEmpty()) {\r\n        Node n = pQueue.remove();\r\n        List&lt;Edge&gt; neighbours = adjacencyList.get(n.position);\r\n        for (Edge neighbour : neighbours) {\r\n            if (distance[neighbour.destination] &gt; distance[n.position] + neighbour.weight) {\r\n                distance[neighbour.destination] = distance[n.position] + neighbour.weight;\r\n                previous[neighbour.destination] = n.position;\r\n                pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));\r\n            }\r\n        }\r\n    }\r\n    return previous;\r\n}\r\n\r\n\r\nHere our interest is in line \r\n`pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));`\r\nI am not changing priority of the particular node by removing it and adding again rather I am just adding new node with same value but different priority.\r\nNow at the time of extracting I will always get this node first because I have implemented min heap here and the node with value greater than this (less priority) always be extracted afterwards and in this way all neighboring nodes will already be relaxed when less prior element will be extracted.\r\n\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>One easy solution that you can implement is by just adding that element again into the priority queue. It will not change the way you extract the elements although it will consume more space but that also won't be too much to effect your running time.</p>\n\n<p>To proof this let's consider dijkstra algorithm below</p>\n\n<pre><code>public int[] dijkstra() {\nint distance[] = new int[this.vertices];\nint previous[] = new int[this.vertices];\nfor (int i = 0; i &lt; this.vertices; i++) {\n    distance[i] = Integer.MAX_VALUE;\n    previous[i] = -1;\n}\ndistance[0] = 0;\nprevious[0] = 0;\nPriorityQueue&lt;Node&gt; pQueue = new PriorityQueue&lt;&gt;(this.vertices, new NodeComparison());\naddValues(pQueue, distance);\nwhile (!pQueue.isEmpty()) {\n    Node n = pQueue.remove();\n    List&lt;Edge&gt; neighbours = adjacencyList.get(n.position);\n    for (Edge neighbour : neighbours) {\n        if (distance[neighbour.destination] &gt; distance[n.position] + neighbour.weight) {\n            distance[neighbour.destination] = distance[n.position] + neighbour.weight;\n            previous[neighbour.destination] = n.position;\n            pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));\n        }\n    }\n}\nreturn previous;\n</code></pre>\n\n<p>}</p>\n\n<p>Here our interest is in line \n<code>pQueue.add(new Node(neighbour.destination, distance[neighbour.destination]));</code>\nI am not changing priority of the particular node by removing it and adding again rather I am just adding new node with same value but different priority.\nNow at the time of extracting I will always get this node first because I have implemented min heap here and the node with value greater than this (less priority) always be extracted afterwards and in this way all neighboring nodes will already be relaxed when less prior element will be extracted.</p>\n"},{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1648140895,"creation_date":1622981613,"answer_id":67858977,"question_id":1871253,"body_markdown":"Without reimplementing the priority queue yourself (so by only using `utils.PriorityQueue`) you have essentially two main approaches:\r\n\r\n### 1) Remove and put back\r\n\r\nRemove element then put it back with new priority. This is explained in the answers above. Removing an element is O(n) so this approach is quite slow.\r\n\r\n### 2) Use a Map and keep stale items in the queue\r\nKeep a `HashMap` of item -&gt; priority. The keys of the map are the items (without their priority) and the values of the map are the priorities.\r\n\r\nKeep it in sync with the PriorityQueue (i.e. every time you add or remove an item from the Queue, update the Map accordingly). \r\n\r\nNow when you need to change the priority of an item, simply add the same item to the queue with a different priority (and update the map of course). When you poll an item from the queue, check if its priority is the same than in your map. If not, then ditch it and poll again.\r\n\r\nIf you don&#39;t need to change the priorities too often, this second approach is faster. Your heap will be larger and you might need to poll more times, but you don&#39;t need to find your item.\r\nThe &#39;change priority&#39; operation would be __O(f(n)log n*)__, with _f(n)_ the number of &#39;change priority&#39; operation **per item** and _n*_ the actual size of your heap (which is n*f(n)).\r\n\r\n\r\nI believe that if *f(n)* is O(n/logn)(for example f(n) = O(sqrt(n)), this is faster than the first approach.\r\n\r\nNote : in the explanation above, by *priority* I means all the variables that are used in your Comparator. Also your item need to implement `equals` and `hashcode`, and both methods shouldn&#39;t use the priority variables.","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>Without reimplementing the priority queue yourself (so by only using <code>utils.PriorityQueue</code>) you have essentially two main approaches:</p>\n<h3>1) Remove and put back</h3>\n<p>Remove element then put it back with new priority. This is explained in the answers above. Removing an element is O(n) so this approach is quite slow.</p>\n<h3>2) Use a Map and keep stale items in the queue</h3>\n<p>Keep a <code>HashMap</code> of item -&gt; priority. The keys of the map are the items (without their priority) and the values of the map are the priorities.</p>\n<p>Keep it in sync with the PriorityQueue (i.e. every time you add or remove an item from the Queue, update the Map accordingly).</p>\n<p>Now when you need to change the priority of an item, simply add the same item to the queue with a different priority (and update the map of course). When you poll an item from the queue, check if its priority is the same than in your map. If not, then ditch it and poll again.</p>\n<p>If you don't need to change the priorities too often, this second approach is faster. Your heap will be larger and you might need to poll more times, but you don't need to find your item.\nThe 'change priority' operation would be <strong>O(f(n)log n*)</strong>, with <em>f(n)</em> the number of 'change priority' operation <strong>per item</strong> and <em>n*</em> the actual size of your heap (which is n*f(n)).</p>\n<p>I believe that if <em>f(n)</em> is O(n/logn)(for example f(n) = O(sqrt(n)), this is faster than the first approach.</p>\n<p>Note : in the explanation above, by <em>priority</em> I means all the variables that are used in your Comparator. Also your item need to implement <code>equals</code> and <code>hashcode</code>, and both methods shouldn't use the priority variables.</p>\n"},{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644168015,"creation_date":1644168015,"answer_id":71009712,"question_id":1871253,"body_markdown":"&gt; Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?\r\n\r\nIt depends on the definition of &quot;better&quot; and the implementation of the wrapper.\r\n\r\nIf the implementation of the wrapper is to re-insert the value using the `PriorityQueue`&#39;s `.remove(...)` and `.add(...)` methods,\r\nit&#39;s important to point out that `.remove(...)` runs in `O(n)` time.\r\nDepending on the heap implementation,\r\nupdating the priority of a value can be done in `O(log n)` or even `O(1)` time, \r\ntherefore this wrapper suggestion may fall short of common expectations.\r\n\r\nIf you want to minimize your effort to implement,\r\nas well as the risk of bugs of any custom solution,\r\nthen a wrapper that performs re-insert looks easy and safe.\r\n\r\nIf you want the implementation to be faster than `O(n)`,\r\nthen you have some options:\r\n\r\n1. Implement a heap yourself. The [wikipedia entry][1] describes multiple variants with their properties. This approach is likely to get your the best performance, at the same time the more code you write yourself, the greater the risk of bugs.\r\n\r\n2. Implement a different kind of wrapper: handlee updating the priority by marking the entry as removed, and add a new entry with the revised priority. \r\nThis is relatively easy to do (less code), see below, though it has its own caveats.\r\n\r\nI came across the second idea in [Python&#39;s documentation][2],\r\nand applied it to implement a reusable data structure in Java (see caveats at the bottom):\r\n\r\n    public class UpdatableHeap&lt;T&gt; {\r\n    \r\n      private final PriorityQueue&lt;Node&lt;T&gt;&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingInt(node -&gt; node.priority));\r\n      private final Map&lt;T, Node&lt;T&gt;&gt; entries = new HashMap&lt;&gt;();\r\n    \r\n      public void addOrUpdate(T value, int priority) {\r\n        if (entries.containsKey(value)) {\r\n          entries.remove(value).removed = true;\r\n        }\r\n    \r\n        Node&lt;T&gt; node = new Node&lt;&gt;(value, priority);\r\n        entries.put(value, node);\r\n        pq.add(node);\r\n      }\r\n    \r\n      public T pop() {\r\n        while (!pq.isEmpty()) {\r\n          Node&lt;T&gt; node = pq.poll();\r\n          if (!node.removed) {\r\n            entries.remove(node.value);\r\n            return node.value;\r\n          }\r\n        }\r\n    \r\n        throw new IllegalStateException(&quot;pop from empty heap&quot;);\r\n      }\r\n    \r\n      public boolean isEmpty() {\r\n        return entries.isEmpty();\r\n      }\r\n    \r\n      private static class Node&lt;T&gt; {\r\n        private final T value;\r\n        private final int priority;\r\n        private boolean removed = false;\r\n    \r\n        private Node(T value, int priority) {\r\n          this.value = value;\r\n          this.priority = priority;\r\n        }\r\n      }\r\n    }\r\n\r\nNote some caveats:\r\n\r\n- Entries marked removed stay in memory until they are popped\r\n  - This can be unacceptable in use cases with very frequent updates\r\n- The internal `Node` wrapped around the actual values is an extra memory overhead (constant per entry). There is also an internal `Map`, mapping all the values currently in the priority queue to their `Node` wrapper.\r\n- Since the values are used in a map, users must be aware of the usual cautions when using a map, and make sure to have appropriate `equals` and `hashCode` implementations.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Heap_(data_structure)\r\n  [2]: https://docs.python.org/3.5/library/heapq.html\r\n","title":"Updating Java PriorityQueue when its elements change priority","body":"<blockquote>\n<p>Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?</p>\n</blockquote>\n<p>It depends on the definition of &quot;better&quot; and the implementation of the wrapper.</p>\n<p>If the implementation of the wrapper is to re-insert the value using the <code>PriorityQueue</code>'s <code>.remove(...)</code> and <code>.add(...)</code> methods,\nit's important to point out that <code>.remove(...)</code> runs in <code>O(n)</code> time.\nDepending on the heap implementation,\nupdating the priority of a value can be done in <code>O(log n)</code> or even <code>O(1)</code> time,\ntherefore this wrapper suggestion may fall short of common expectations.</p>\n<p>If you want to minimize your effort to implement,\nas well as the risk of bugs of any custom solution,\nthen a wrapper that performs re-insert looks easy and safe.</p>\n<p>If you want the implementation to be faster than <code>O(n)</code>,\nthen you have some options:</p>\n<ol>\n<li><p>Implement a heap yourself. The <a href=\"https://en.wikipedia.org/wiki/Heap_(data_structure)\" rel=\"nofollow noreferrer\">wikipedia entry</a> describes multiple variants with their properties. This approach is likely to get your the best performance, at the same time the more code you write yourself, the greater the risk of bugs.</p>\n</li>\n<li><p>Implement a different kind of wrapper: handlee updating the priority by marking the entry as removed, and add a new entry with the revised priority.\nThis is relatively easy to do (less code), see below, though it has its own caveats.</p>\n</li>\n</ol>\n<p>I came across the second idea in <a href=\"https://docs.python.org/3.5/library/heapq.html\" rel=\"nofollow noreferrer\">Python's documentation</a>,\nand applied it to implement a reusable data structure in Java (see caveats at the bottom):</p>\n<pre><code>public class UpdatableHeap&lt;T&gt; {\n\n  private final PriorityQueue&lt;Node&lt;T&gt;&gt; pq = new PriorityQueue&lt;&gt;(Comparator.comparingInt(node -&gt; node.priority));\n  private final Map&lt;T, Node&lt;T&gt;&gt; entries = new HashMap&lt;&gt;();\n\n  public void addOrUpdate(T value, int priority) {\n    if (entries.containsKey(value)) {\n      entries.remove(value).removed = true;\n    }\n\n    Node&lt;T&gt; node = new Node&lt;&gt;(value, priority);\n    entries.put(value, node);\n    pq.add(node);\n  }\n\n  public T pop() {\n    while (!pq.isEmpty()) {\n      Node&lt;T&gt; node = pq.poll();\n      if (!node.removed) {\n        entries.remove(node.value);\n        return node.value;\n      }\n    }\n\n    throw new IllegalStateException(&quot;pop from empty heap&quot;);\n  }\n\n  public boolean isEmpty() {\n    return entries.isEmpty();\n  }\n\n  private static class Node&lt;T&gt; {\n    private final T value;\n    private final int priority;\n    private boolean removed = false;\n\n    private Node(T value, int priority) {\n      this.value = value;\n      this.priority = priority;\n    }\n  }\n}\n</code></pre>\n<p>Note some caveats:</p>\n<ul>\n<li>Entries marked removed stay in memory until they are popped\n<ul>\n<li>This can be unacceptable in use cases with very frequent updates</li>\n</ul>\n</li>\n<li>The internal <code>Node</code> wrapped around the actual values is an extra memory overhead (constant per entry). There is also an internal <code>Map</code>, mapping all the values currently in the priority queue to their <code>Node</code> wrapper.</li>\n<li>Since the values are used in a map, users must be aware of the usual cautions when using a map, and make sure to have appropriate <code>equals</code> and <code>hashCode</code> implementations.</li>\n</ul>\n"}],"owner":{"account_id":55726,"reputation":19658,"user_id":166938,"accept_rate":87,"display_name":"Marcus Whybrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96944,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":1871303,"answer_count":8,"score":88,"last_activity_date":1648140895,"creation_date":1260325716,"question_id":1871253,"body_markdown":"I&#39;m trying to use a `PriorityQueue` to order objects using a `Comparator`.\r\n\r\nThis can be achieved easily, but the objects class variables (with which the comparator calculates priority) may change after the initial insertion. Most people have suggested the simple solution of removing the object, updating the values and reinserting it again, as this is when the priority queue&#39;s comparator is put into action.\r\n\r\nIs there a better way other than just creating a wrapper class around the PriorityQueue to do this?","title":"Updating Java PriorityQueue when its elements change priority","body":"<p>I'm trying to use a <code>PriorityQueue</code> to order objects using a <code>Comparator</code>.</p>\n\n<p>This can be achieved easily, but the objects class variables (with which the comparator calculates priority) may change after the initial insertion. Most people have suggested the simple solution of removing the object, updating the values and reinserting it again, as this is when the priority queue's comparator is put into action.</p>\n\n<p>Is there a better way other than just creating a wrapper class around the PriorityQueue to do this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19672763,"reputation":1766,"user_id":15062361,"display_name":"Pepe N O"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648137701,"creation_date":1648137701,"answer_id":71605669,"question_id":71604982,"body_markdown":"It&#39;s better if you handle your set of elements to permute as a string, there are numerous examples over the internet, like:\r\n\r\n     public class Permute {\r\n        public static void main(String[] args) {\r\n            String str = &quot;123&quot;;\r\n            permute(str);\r\n        }\r\n        public static void permute(String str) {\r\n            permute(&quot;&quot;, str);\r\n        }\r\n        public static void permute(String prefix, String str) {\r\n            int n = str.length();\r\n            if (n == 0) {\r\n                System.out.println(prefix);\r\n            } else {\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    permute(prefix + str.charAt(i), str.substring(0, i) + str.substring(i+1, n));\r\n                }\r\n            }\r\n        }\r\n    }","title":"a combination of permutations of elements in a java array","body":"<p>It's better if you handle your set of elements to permute as a string, there are numerous examples over the internet, like:</p>\n<pre><code> public class Permute {\n    public static void main(String[] args) {\n        String str = &quot;123&quot;;\n        permute(str);\n    }\n    public static void permute(String str) {\n        permute(&quot;&quot;, str);\n    }\n    public static void permute(String prefix, String str) {\n        int n = str.length();\n        if (n == 0) {\n            System.out.println(prefix);\n        } else {\n            for (int i = 0; i &lt; n; i++) {\n                permute(prefix + str.charAt(i), str.substring(0, i) + str.substring(i+1, n));\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16049089,"reputation":225,"user_id":11583484,"display_name":"TiMauzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648140891,"creation_date":1648140159,"answer_id":71606270,"question_id":71604982,"body_markdown":"Let&#39;s step back and review your underlying idea: I assume that you always take a pair of neighboring values in the array and swap those. So for the first step, you are swapping the values of indices 0 and 1, for the second step, you are swapping 1 and 2 etc. If you reach the end of your array, you are going back to the start, thus swapping indices n-1 and 0, then 0 and 1 again and so on.\r\n\r\nTaking these preliminary thoughts into account, I came up with the following approach within the method `permutation` that uses mainly a `while` loop to find all `factorial(n)` permutations:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        permutation(3);\r\n    }\r\n\r\n    static int factorial(int n) {\r\n        int res = 1;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            res *= i;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    static void print_permutation(int[] array) {\r\n        for (int k = 0; k &lt; array.length; k++) {\r\n            System.out.print(array[k]);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    static void permutation(int n) {\r\n        int[] array = new int[n];\r\n        for (int i = 0; i &lt; n; i++){\r\n            array[i] = i+1;\r\n        }\r\n        print_permutation(array);\r\n        int counter = factorial(n);\r\n        int i = 0;\r\n        int j = i+1;\r\n        while (counter &gt; 1) {\r\n            int t = array[i];\r\n            array[i] = array[j];\r\n            array[j] = t;\r\n            print_permutation(array);\r\n            // Swap the next pair of neighbors.\r\n            // If there is no next value, use the first value again.\r\n            if (i+1 == n) {\r\n                i = 0;\r\n            } else {\r\n                i++;\r\n            }\r\n            if (j+1 == n) {\r\n                j = 0;\r\n            } else {\r\n                j++;\r\n            }\r\n            counter--; // Stop after factorial(n) permutations.\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe first step is similar to your own idea, just creating an `array` from 1 to n and printing the &quot;default&quot; permutation.\r\n\r\nI reused your `factorial` function to create a `counter` value, which tells me when to stop looking for new permutations (it is used as a break condition in the `while` loop). I also added a little helper function that does the printing (which is not necessary, but better for understanding the overall idea of the algorithm in the method `permutation`).\r\n\r\nWithin the `while` loop, I basically just do what I already described above, always swapping the neighboring pairs of values (or jumping back to the start of the array) until `counter` has been decreased to 1.\r\n\r\nFor `permutation(3)`, this program returns:\r\n```\r\n123\r\n213\r\n231\r\n132\r\n312\r\n321\r\n```\r\n\r\nUnfortunately, this doesn&#39;t lead to correct results for e.g. `permutation(4)`, thus I think, the general idea is not correct here.","title":"a combination of permutations of elements in a java array","body":"<p>Let's step back and review your underlying idea: I assume that you always take a pair of neighboring values in the array and swap those. So for the first step, you are swapping the values of indices 0 and 1, for the second step, you are swapping 1 and 2 etc. If you reach the end of your array, you are going back to the start, thus swapping indices n-1 and 0, then 0 and 1 again and so on.</p>\n<p>Taking these preliminary thoughts into account, I came up with the following approach within the method <code>permutation</code> that uses mainly a <code>while</code> loop to find all <code>factorial(n)</code> permutations:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        permutation(3);\n    }\n\n    static int factorial(int n) {\n        int res = 1;\n        for (int i = 2; i &lt;= n; i++) {\n            res *= i;\n        }\n        return res;\n    }\n\n    static void print_permutation(int[] array) {\n        for (int k = 0; k &lt; array.length; k++) {\n            System.out.print(array[k]);\n        }\n        System.out.println();\n    }\n\n    static void permutation(int n) {\n        int[] array = new int[n];\n        for (int i = 0; i &lt; n; i++){\n            array[i] = i+1;\n        }\n        print_permutation(array);\n        int counter = factorial(n);\n        int i = 0;\n        int j = i+1;\n        while (counter &gt; 1) {\n            int t = array[i];\n            array[i] = array[j];\n            array[j] = t;\n            print_permutation(array);\n            // Swap the next pair of neighbors.\n            // If there is no next value, use the first value again.\n            if (i+1 == n) {\n                i = 0;\n            } else {\n                i++;\n            }\n            if (j+1 == n) {\n                j = 0;\n            } else {\n                j++;\n            }\n            counter--; // Stop after factorial(n) permutations.\n        }\n\n    }\n\n}\n</code></pre>\n<p>The first step is similar to your own idea, just creating an <code>array</code> from 1 to n and printing the &quot;default&quot; permutation.</p>\n<p>I reused your <code>factorial</code> function to create a <code>counter</code> value, which tells me when to stop looking for new permutations (it is used as a break condition in the <code>while</code> loop). I also added a little helper function that does the printing (which is not necessary, but better for understanding the overall idea of the algorithm in the method <code>permutation</code>).</p>\n<p>Within the <code>while</code> loop, I basically just do what I already described above, always swapping the neighboring pairs of values (or jumping back to the start of the array) until <code>counter</code> has been decreased to 1.</p>\n<p>For <code>permutation(3)</code>, this program returns:</p>\n<pre><code>123\n213\n231\n132\n312\n321\n</code></pre>\n<p>Unfortunately, this doesn't lead to correct results for e.g. <code>permutation(4)</code>, thus I think, the general idea is not correct here.</p>\n"}],"owner":{"account_id":23207420,"reputation":11,"user_id":17301433,"display_name":"danrik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648140891,"creation_date":1648134700,"question_id":71604982,"body_markdown":"I made a code that should show the entire combination of permutations of elements in an array.\r\n\r\n        package com.company;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.lang.Math;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n         first(3);\r\n        }\r\n    \r\n        static int factorial(int n) {\r\n            int res = 1;\r\n            for (int i = 2; i &lt;= n; i++) {\r\n                res *= i;\r\n            }\r\n            return res;\r\n        }\r\n    \r\n       static void first(int n){\r\n          int[] array = new int[n];\r\n            for(int i = 0; i &lt; n;i++){\r\n              array[i]=i+1;\r\n            }\r\n            for(int i = 0; i &lt; factorial(n);i++){\r\n                for(int j = 0; j &lt; n; j++) {\r\n                    if(j==n-1){\r\n                        continue;\r\n                    }\r\n                    int t = array[j];\r\n                    array[j] = array[j+1];\r\n                    array[j+1] = t;\r\n                }\r\n                for(int k =0;k&lt;n;k++){\r\n                    System.out.print(array[k]);\r\n                }\r\n                System.out.println();\r\n                }\r\n    \r\n    \r\n            }\r\n       }\r\n\r\nWhat should it be:\r\n\r\n123\r\n213\r\n231\r\n132\r\n312\r\n321\r\n\r\nBut it turns out like this:\r\n\r\n231\r\n312\r\n123\r\n231\r\n312\r\n123\r\n\r\nHow can a permutation be done the way it should?","title":"a combination of permutations of elements in a java array","body":"<p>I made a code that should show the entire combination of permutations of elements in an array.</p>\n<pre><code>    package com.company;\n\nimport java.util.ArrayList;\nimport java.lang.Math;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) {\n     first(3);\n    }\n\n    static int factorial(int n) {\n        int res = 1;\n        for (int i = 2; i &lt;= n; i++) {\n            res *= i;\n        }\n        return res;\n    }\n\n   static void first(int n){\n      int[] array = new int[n];\n        for(int i = 0; i &lt; n;i++){\n          array[i]=i+1;\n        }\n        for(int i = 0; i &lt; factorial(n);i++){\n            for(int j = 0; j &lt; n; j++) {\n                if(j==n-1){\n                    continue;\n                }\n                int t = array[j];\n                array[j] = array[j+1];\n                array[j+1] = t;\n            }\n            for(int k =0;k&lt;n;k++){\n                System.out.print(array[k]);\n            }\n            System.out.println();\n            }\n\n\n        }\n   }\n</code></pre>\n<p>What should it be:</p>\n<p>123\n213\n231\n132\n312\n321</p>\n<p>But it turns out like this:</p>\n<p>231\n312\n123\n231\n312\n123</p>\n<p>How can a permutation be done the way it should?</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1648140106,"post_id":71606208,"comment_id":126554691,"body_markdown":"Because an exception is thrown on the previous line, because `2/0` results in an `ArithmeticException`.","body":"Because an exception is thrown on the previous line, because <code>2&#47;0</code> results in an <code>ArithmeticException</code>."}],"answers":[{"tags":[],"owner":{"account_id":19923129,"reputation":112,"user_id":14598473,"display_name":"KhushThakor"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648140875,"creation_date":1648140387,"answer_id":71606325,"question_id":71606208,"body_markdown":"For Exception handling we would use a try catch statement like \r\n \r\n\r\n    try {\r\n        System.out.println(2/0);\r\n    }catch(ArithmeticException e) {\r\n      \tSystem.out.println(&quot;Please Be Careful&quot;);\r\n    }\r\n\r\nIn your case the Custom Exception is not showing up since in the previous line you have a AthmeticExcpetion hence that exception will be thrown and Java will stop and not execute you exception.\r\n","title":"Java throw keyword","body":"<p>For Exception handling we would use a try catch statement like</p>\n<pre><code>try {\n    System.out.println(2/0);\n}catch(ArithmeticException e) {\n    System.out.println(&quot;Please Be Careful&quot;);\n}\n</code></pre>\n<p>In your case the Custom Exception is not showing up since in the previous line you have a AthmeticExcpetion hence that exception will be thrown and Java will stop and not execute you exception.</p>\n"}],"owner":{"account_id":18790445,"reputation":61,"user_id":13703014,"display_name":"kartikay dwivedi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648140875,"creation_date":1648139947,"question_id":71606208,"body_markdown":"```\r\npublic class MyThrow {\r\n    public static void main(String[] args) {\r\n        System.out.println(2/0);\r\n        throw new ArithmeticException(&quot;please be carefull&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhy is the custom exception not showing?\r\nIt is showing the default one.","title":"Java throw keyword","body":"<pre><code>public class MyThrow {\n    public static void main(String[] args) {\n        System.out.println(2/0);\n        throw new ArithmeticException(&quot;please be carefull&quot;);\n    }\n}\n</code></pre>\n<p>Why is the custom exception not showing?\nIt is showing the default one.</p>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1584066487,"post_id":30889984,"comment_id":107329275,"body_markdown":"related: https://stackoverflow.com/questions/21574478","body":"related: <a href=\"https://stackoverflow.com/questions/21574478\">stackoverflow.com/questions/21574478</a>"}],"answers":[{"tags":[],"owner":{"account_id":330575,"reputation":1167,"user_id":654765,"accept_rate":88,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1467296894,"creation_date":1438016552,"answer_id":31659073,"question_id":30889984,"body_markdown":"&lt;!-- language-all: java --&gt;\r\n\r\nShort answer:\r\n\r\n`request.releaseConnection()` is releasing the underlying HTTP connection to allow it to be reused. `response.close()` is closing a stream (not a connection), this stream is the response content we are streaming from the network socket.\r\n\r\n\r\nLong Answer:\r\n\r\nThe correct pattern to follow in any recent version &gt; 4.2 and probably even before that, is not to use `releaseConnection`.  \r\n\r\n`request.releaseConnection()` releases the underlying httpConnection so the request can be reused, however the Java doc says: \r\n\r\n&gt; A convenience method to simplify migration from HttpClient 3.1 API...\r\n\r\nInstead of releasing the connection, we ensure the response content is fully consumed which in turn ensures the connection is released and ready for reuse. A short example is shown below:\r\n\r\n    CloseableHttpClient httpclient = HttpClients.createDefault();\r\n    HttpGet httpGet = new HttpGet(&quot;http://targethost/homepage&quot;);\r\n    CloseableHttpResponse response1 = httpclient.execute(httpGet);\r\n    try {\r\n        System.out.println(response1.getStatusLine());\r\n        HttpEntity entity1 = response1.getEntity();\r\n        // do something useful with the response body\r\n\t    String bodyAsString = EntityUtils.toString(exportResponse.getEntity());\r\n        System.out.println(bodyAsString);\r\n        // and ensure it is fully consumed (this is how stream is released.\r\n        EntityUtils.consume(entity1);\r\n    } finally {\r\n        response1.close();\r\n    }\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.2.x/quickstart.html","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"\n\n<p>Short answer:</p>\n\n<p><code>request.releaseConnection()</code> is releasing the underlying HTTP connection to allow it to be reused. <code>response.close()</code> is closing a stream (not a connection), this stream is the response content we are streaming from the network socket.</p>\n\n<p>Long Answer:</p>\n\n<p>The correct pattern to follow in any recent version > 4.2 and probably even before that, is not to use <code>releaseConnection</code>.  </p>\n\n<p><code>request.releaseConnection()</code> releases the underlying httpConnection so the request can be reused, however the Java doc says: </p>\n\n<blockquote>\n  <p>A convenience method to simplify migration from HttpClient 3.1 API...</p>\n</blockquote>\n\n<p>Instead of releasing the connection, we ensure the response content is fully consumed which in turn ensures the connection is released and ready for reuse. A short example is shown below:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CloseableHttpClient httpclient = HttpClients.createDefault();\nHttpGet httpGet = new HttpGet(\"http://targethost/homepage\");\nCloseableHttpResponse response1 = httpclient.execute(httpGet);\ntry {\n    System.out.println(response1.getStatusLine());\n    HttpEntity entity1 = response1.getEntity();\n    // do something useful with the response body\n    String bodyAsString = EntityUtils.toString(exportResponse.getEntity());\n    System.out.println(bodyAsString);\n    // and ensure it is fully consumed (this is how stream is released.\n    EntityUtils.consume(entity1);\n} finally {\n    response1.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648140710,"creation_date":1648140710,"answer_id":71606409,"question_id":30889984,"body_markdown":"1. `CloseableHttpResponse.close()` closes the tcp socket\r\n2. `HttpPost.releaseConnection()` closes the tcp socket\r\n3. `EntityUtils.consume(response.getEntity())` allows you to re-use the tcp socket\r\n\r\n**Details**\r\n\r\n\r\n`CloseableHttpResponse.close()` closes the tcp socket, preventing the connection from being re-used. You need to establish a new tcp connection in order to initiate another request.\r\n\r\nThis is the call chain that lead me to the above conclusion:\r\n\r\n1. HttpResponseProxy.close()\r\n2. -&gt; ConnectionHolder.close()\r\n3. -&gt; ConnectionHolder.releaseConnection(reusable=false)\r\n4. -&gt; managedConn.close()\r\n5. -&gt; BHttpConnectionBase.close()\r\n6. -&gt; Socket.close() \r\n\r\n\r\n`HttpPost.releaseConnection()` also closes the Socket. This is the call chain that lead me to the above conclusion:\r\n\r\n1. HttpPost.releaseConnection()\r\n2. HttpRequestBase.releaseConnect()\r\n3. AbstractExecutionAwareRequest.reset()\r\n4. ConnectionHolder.cancel() (\r\n5. ConnectionHolder.abortConnection()\r\n6. HttpConnection.shutdown()\r\n\r\nHere is experimental code that also demonstrates the above three facts:\r\n\r\n```\r\nimport java.lang.reflect.Constructor;\r\nimport java.net.Socket;\r\nimport java.net.SocketImpl;\r\nimport java.net.SocketImplFactory;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\nimport org.apache.http.client.methods.CloseableHttpResponse;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.util.EntityUtils;\r\n\r\npublic class Main {\r\n\r\n    private static SocketImpl newSocketImpl() {\r\n        try {\r\n            Class&lt;?&gt; defaultSocketImpl = Class.forName(&quot;java.net.SocksSocketImpl&quot;);\r\n            Constructor&lt;?&gt; constructor = defaultSocketImpl.getDeclaredConstructor();\r\n            constructor.setAccessible(true);\r\n            return (SocketImpl) constructor.newInstance();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // this is a hack that lets me listen to Tcp socket creation\r\n        final List&lt;SocketImpl&gt; allSockets = Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n        Socket.setSocketImplFactory(new SocketImplFactory() {\r\n            public SocketImpl createSocketImpl() {\r\n                SocketImpl socket = newSocketImpl();\r\n                allSockets.add(socket);\r\n                return socket;\r\n            }\r\n        });\r\n\r\n        System.out.println(&quot;num of sockets after start: &quot; + allSockets.size());\r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n        System.out.println(&quot;num of sockets after client created: &quot; + allSockets.size());\r\n        HttpGet request = new HttpGet(&quot;http://www.google.com&quot;);\r\n        System.out.println(&quot;num of sockets after get created: &quot; + allSockets.size());\r\n        CloseableHttpResponse response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after get executed: &quot; + allSockets.size());\r\n        response.close();\r\n        System.out.println(&quot;num of sockets after response closed: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again: &quot; + allSockets.size());\r\n        request.releaseConnection();\r\n        System.out.println(&quot;num of sockets after release connection: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again for 3rd time: &quot; + allSockets.size());\r\n        EntityUtils.consume(response.getEntity());\r\n        System.out.println(&quot;num of sockets after entityConsumed: &quot; + allSockets.size());\r\n        response = client.execute(request);\r\n        System.out.println(&quot;num of sockets after request executed again for 4th time: &quot; + allSockets.size());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n\r\n    &lt;groupId&gt;org.joseph&lt;/groupId&gt;\r\n    &lt;artifactId&gt;close.vs.release.conn&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n         &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nOutput:\r\n```\r\nnum of sockets after start: 0\r\nnum of sockets after client created: 0\r\nnum of sockets after get created: 0\r\nnum of sockets after get executed: 1\r\nnum of sockets after response closed: 1\r\nnum of sockets after request executed again: 2\r\nnum of sockets after release connection: 2\r\nnum of sockets after request executed again for 3rd time: 3\r\nnum of sockets after entityConsumed: 3\r\nnum of sockets after request executed again for 4th time: 3\r\n```\r\n\r\nNotice that both `.close()` and `.releaseConnection()` both result in a new tcp connection. Only consuming the entity allows you to re-use the tcp connection.\r\n\r\nIf you want the connect to be re-usable after each request, then you need to do what @Matt recommended and consume the entity.","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"<ol>\n<li><code>CloseableHttpResponse.close()</code> closes the tcp socket</li>\n<li><code>HttpPost.releaseConnection()</code> closes the tcp socket</li>\n<li><code>EntityUtils.consume(response.getEntity())</code> allows you to re-use the tcp socket</li>\n</ol>\n<p><strong>Details</strong></p>\n<p><code>CloseableHttpResponse.close()</code> closes the tcp socket, preventing the connection from being re-used. You need to establish a new tcp connection in order to initiate another request.</p>\n<p>This is the call chain that lead me to the above conclusion:</p>\n<ol>\n<li>HttpResponseProxy.close()</li>\n<li>-&gt; ConnectionHolder.close()</li>\n<li>-&gt; ConnectionHolder.releaseConnection(reusable=false)</li>\n<li>-&gt; managedConn.close()</li>\n<li>-&gt; BHttpConnectionBase.close()</li>\n<li>-&gt; Socket.close()</li>\n</ol>\n<p><code>HttpPost.releaseConnection()</code> also closes the Socket. This is the call chain that lead me to the above conclusion:</p>\n<ol>\n<li>HttpPost.releaseConnection()</li>\n<li>HttpRequestBase.releaseConnect()</li>\n<li>AbstractExecutionAwareRequest.reset()</li>\n<li>ConnectionHolder.cancel() (</li>\n<li>ConnectionHolder.abortConnection()</li>\n<li>HttpConnection.shutdown()</li>\n</ol>\n<p>Here is experimental code that also demonstrates the above three facts:</p>\n<pre><code>import java.lang.reflect.Constructor;\nimport java.net.Socket;\nimport java.net.SocketImpl;\nimport java.net.SocketImplFactory;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.util.EntityUtils;\n\npublic class Main {\n\n    private static SocketImpl newSocketImpl() {\n        try {\n            Class&lt;?&gt; defaultSocketImpl = Class.forName(&quot;java.net.SocksSocketImpl&quot;);\n            Constructor&lt;?&gt; constructor = defaultSocketImpl.getDeclaredConstructor();\n            constructor.setAccessible(true);\n            return (SocketImpl) constructor.newInstance();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        // this is a hack that lets me listen to Tcp socket creation\n        final List&lt;SocketImpl&gt; allSockets = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        Socket.setSocketImplFactory(new SocketImplFactory() {\n            public SocketImpl createSocketImpl() {\n                SocketImpl socket = newSocketImpl();\n                allSockets.add(socket);\n                return socket;\n            }\n        });\n\n        System.out.println(&quot;num of sockets after start: &quot; + allSockets.size());\n        CloseableHttpClient client = HttpClientBuilder.create().build();\n        System.out.println(&quot;num of sockets after client created: &quot; + allSockets.size());\n        HttpGet request = new HttpGet(&quot;http://www.google.com&quot;);\n        System.out.println(&quot;num of sockets after get created: &quot; + allSockets.size());\n        CloseableHttpResponse response = client.execute(request);\n        System.out.println(&quot;num of sockets after get executed: &quot; + allSockets.size());\n        response.close();\n        System.out.println(&quot;num of sockets after response closed: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again: &quot; + allSockets.size());\n        request.releaseConnection();\n        System.out.println(&quot;num of sockets after release connection: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again for 3rd time: &quot; + allSockets.size());\n        EntityUtils.consume(response.getEntity());\n        System.out.println(&quot;num of sockets after entityConsumed: &quot; + allSockets.size());\n        response = client.execute(request);\n        System.out.println(&quot;num of sockets after request executed again for 4th time: &quot; + allSockets.size());\n    }\n\n}\n\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n\n    &lt;groupId&gt;org.joseph&lt;/groupId&gt;\n    &lt;artifactId&gt;close.vs.release.conn&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n         &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Output:</p>\n<pre><code>num of sockets after start: 0\nnum of sockets after client created: 0\nnum of sockets after get created: 0\nnum of sockets after get executed: 1\nnum of sockets after response closed: 1\nnum of sockets after request executed again: 2\nnum of sockets after release connection: 2\nnum of sockets after request executed again for 3rd time: 3\nnum of sockets after entityConsumed: 3\nnum of sockets after request executed again for 4th time: 3\n</code></pre>\n<p>Notice that both <code>.close()</code> and <code>.releaseConnection()</code> both result in a new tcp connection. Only consuming the entity allows you to re-use the tcp connection.</p>\n<p>If you want the connect to be re-usable after each request, then you need to do what @Matt recommended and consume the entity.</p>\n"}],"owner":{"account_id":6482711,"reputation":261,"user_id":5019233,"display_name":"wyang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46919,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":2,"score":26,"last_activity_date":1648140710,"creation_date":1434539840,"question_id":30889984,"body_markdown":"    CloseableHttpResponse response = null;\r\n    try {\r\n        // do some thing ....\r\n        HttpPost request = new HttpPost(&quot;some url&quot;);\r\n        response = getHttpClient().execute(request);\r\n        // do some other thing ....\r\n    } catch(Exception e) {\r\n        // deal with exception\r\n    } finally {\r\n        if(response != null) {\r\n            try {\r\n                response.close(); // (1)\r\n            } catch(Exception e) {}\r\n            request.releaseConnection(); // (2)\r\n        }\r\n    }\r\n\r\nI&#39;ve made a http request like above.\r\n\r\nIn order to release the underlying connection, is it correct to call (1) and (2)? and what&#39;s the difference between the two invocation?\r\n","title":"What&#39;s the difference between CloseableHttpResponse.close() and httpPost.releaseConnection()?","body":"<pre><code>CloseableHttpResponse response = null;\ntry {\n    // do some thing ....\n    HttpPost request = new HttpPost(\"some url\");\n    response = getHttpClient().execute(request);\n    // do some other thing ....\n} catch(Exception e) {\n    // deal with exception\n} finally {\n    if(response != null) {\n        try {\n            response.close(); // (1)\n        } catch(Exception e) {}\n        request.releaseConnection(); // (2)\n    }\n}\n</code></pre>\n\n<p>I've made a http request like above.</p>\n\n<p>In order to release the underlying connection, is it correct to call (1) and (2)? and what's the difference between the two invocation?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1648131969,"post_id":71604247,"comment_id":126551090,"body_markdown":"Didn&#39;t read the body of the question, but you can&#39;t name a constructor with a &quot;random name&quot;. The syntax of declaring a constructor is *always* `[public/private] TheClassName([0 or more parameters]) { ... }`, where square brackets denote optionality","body":"Didn&#39;t read the body of the question, but you can&#39;t name a constructor with a &quot;random name&quot;. The syntax of declaring a constructor is <i>always</i> <code>[public&#47;private] TheClassName([0 or more parameters]) { ... }</code>, where square brackets denote optionality"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1648132005,"post_id":71604247,"comment_id":126551109,"body_markdown":"neither `public void Point(int x)`  nor `public int Point(int x)` would be a constructor for the class `Point` because constructors do not have return types. And a constructor name always has to match the class name by definition.","body":"neither <code>public void Point(int x)</code>  nor <code>public int Point(int x)</code> would be a constructor for the class <code>Point</code> because constructors do not have return types. And a constructor name always has to match the class name by definition."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1648132059,"post_id":71604247,"comment_id":126551129,"body_markdown":"Hint: `public void Point(...) { ... }` or `public int Point(...) { ... }` do not declare a constructor but a method. Constructors are not allowed to declare a return type.","body":"Hint: <code>public void Point(...) { ... }</code> or <code>public int Point(...) { ... }</code> do not declare a constructor but a method. Constructors are not allowed to declare a return type."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1648132122,"post_id":71604247,"comment_id":126551165,"body_markdown":"why would you do that? When I change a tire on my car, I don&#39;t say &quot;hey, look! I&#39;m creating a car&quot;, I say &quot;I&#39;m changing a tire&quot;. There is a good reason for having a different naming convention for constructors and setters.","body":"why would you do that? When I change a tire on my car, I don&#39;t say &quot;hey, look! I&#39;m creating a car&quot;, I say &quot;I&#39;m changing a tire&quot;. There is a good reason for having a different naming convention for constructors and setters."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648132149,"post_id":71604247,"comment_id":126551176,"body_markdown":"The only thing that you can change for a constructors signature is the arguments it receives. So you can do `public Point()` for a no-args default constructor or `public Point(int x)` for a constructor that needs an int as argument for example","body":"The only thing that you can change for a constructors signature is the arguments it receives. So you can do <code>public Point()</code> for a no-args default constructor or <code>public Point(int x)</code> for a constructor that needs an int as argument for example"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648140554,"creation_date":1648132059,"answer_id":71604305,"question_id":71604247,"body_markdown":"Well, I think you are confused about constructors. They have two requirements:\r\n\r\n* They have to have the same name as the enclosing class;\r\n* They have no return type.\r\n\r\nSo no, `void Point()` is never a constructor. And within the `Point` class, anything other than `Point` will never be a constructor.\r\n\r\nNote that writing `void Point()` is still valid (unfortunately), but it is not a constructor, but just a regular method which happens to have the same name as its enclosing class. The compiler can tell them apart, because their usage is never ambiguous. However, you **should never** give your method the same name as the enclosing class, as it is both confusing and it violates the [Java Naming Conventions][1].\r\n\r\nAlso note that the compiler automatically generates a no-argument constructor for you if you don&#39;t define any constructor.\r\n\r\nSo this:\r\n\r\n```java\r\nclass Point {\r\n    public void setX(int x) { this.x = x; }\r\n    public void setY(int y) { this.y = y; }\r\n    public int getX() { return x; }\r\n    public int getY() { return y; }\r\n}\r\n```\r\n\r\nis equivalent to this:\r\n\r\n```java\r\nclass Point {\r\n\r\n    public Point() { }\r\n\r\n    public void setX(int x) { this.x = x; }\r\n    public void setY(int y) { this.y = y; }\r\n    public int getX() { return x; }\r\n    public int getY() { return y; }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>Well, I think you are confused about constructors. They have two requirements:</p>\n<ul>\n<li>They have to have the same name as the enclosing class;</li>\n<li>They have no return type.</li>\n</ul>\n<p>So no, <code>void Point()</code> is never a constructor. And within the <code>Point</code> class, anything other than <code>Point</code> will never be a constructor.</p>\n<p>Note that writing <code>void Point()</code> is still valid (unfortunately), but it is not a constructor, but just a regular method which happens to have the same name as its enclosing class. The compiler can tell them apart, because their usage is never ambiguous. However, you <strong>should never</strong> give your method the same name as the enclosing class, as it is both confusing and it violates the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java Naming Conventions</a>.</p>\n<p>Also note that the compiler automatically generates a no-argument constructor for you if you don't define any constructor.</p>\n<p>So this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Point {\n    public void setX(int x) { this.x = x; }\n    public void setY(int y) { this.y = y; }\n    public int getX() { return x; }\n    public int getY() { return y; }\n}\n</code></pre>\n<p>is equivalent to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Point {\n\n    public Point() { }\n\n    public void setX(int x) { this.x = x; }\n    public void setY(int y) { this.y = y; }\n    public int getX() { return x; }\n    public int getY() { return y; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13501260,"reputation":31,"user_id":9740627,"display_name":"Francis Lewis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648132151,"creation_date":1648132151,"answer_id":71604332,"question_id":71604247,"body_markdown":"Constructors do not have a return type.  For example,\r\n\r\n```\r\npublic Point(int x, int y) {\r\n    this.x = x;\r\n    this.y = y;\r\n}\r\n```\r\n\r\nTrying to define it this way ...\r\n\r\n```\r\npublic int Point(int x) {}\r\n```\r\n\r\n... is actually declaring a method, just confusingly with the same name as the class.","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>Constructors do not have a return type.  For example,</p>\n<pre><code>public Point(int x, int y) {\n    this.x = x;\n    this.y = y;\n}\n</code></pre>\n<p>Trying to define it this way ...</p>\n<pre><code>public int Point(int x) {}\n</code></pre>\n<p>... is actually declaring a method, just confusingly with the same name as the class.</p>\n"}],"owner":{"account_id":24163521,"reputation":1,"user_id":18126722,"display_name":"user18126722"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1648167282,"answer_count":2,"score":-4,"last_activity_date":1648140554,"creation_date":1648131823,"question_id":71604247,"body_markdown":"I want to ask about java programming language, to be specific about constructors. Lets say we have a class test, where we are testing the whole program, and class point, where constructors are defined (set and get method btw).\r\nClass line:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tPoint p = new Point();\r\n\t\t\r\n\r\n\t\tp.setX(10);\r\n\t\tSystem.out.println(&quot;X coordinate point1: &quot; + p.getX());\r\n\t\tp.setY(20);\r\n\t\tSystem.out.println(&quot;Y coordinate point1: &quot; + p.getY());\r\n}\r\n```\r\n\r\nClass point:\r\n\r\n```\r\npublic void setX(int x) {\r\n\t\tthis.x = x;\r\n\t}\r\n\r\n\tpublic int getX() {\r\n\t\treturn x;\r\n\t}\r\n\r\n\tpublic int getY() {\r\n\t\treturn y;\r\n\t}\r\n\r\n\tpublic void setY(int y) {\r\n\t\tthis.y = y;\r\n\t}\r\n```\r\n\r\nNow, would be a mistake if I put the name of the class Point in constructor:\r\n\r\n\r\n`public void Point(int x) { \t\tthis.x = x; \t}`\r\n\r\n\r\n`public int Point(int x)`\r\n\r\n` { \t\tthis.x = x; \t}`\r\n\r\nLogically, I suppose that I just need to rename the name of the constructor in the main method, but again, I&#39;m not so sure about that.\r\n\r\nI renamed the name of the constructor as class Point and in the main method as well, but, as I thought, it&#39;s wrong for some reason. It didn&#39;t show directly the error description","title":"Difference between naming a constructor with the same name as a name of the class vs naming it with random name","body":"<p>I want to ask about java programming language, to be specific about constructors. Lets say we have a class test, where we are testing the whole program, and class point, where constructors are defined (set and get method btw).\nClass line:</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        \n        \n        Point p = new Point();\n        \n\n        p.setX(10);\n        System.out.println(&quot;X coordinate point1: &quot; + p.getX());\n        p.setY(20);\n        System.out.println(&quot;Y coordinate point1: &quot; + p.getY());\n}\n</code></pre>\n<p>Class point:</p>\n<pre><code>public void setX(int x) {\n        this.x = x;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n</code></pre>\n<p>Now, would be a mistake if I put the name of the class Point in constructor:</p>\n<p><code>public void Point(int x) {         this.x = x;     }</code></p>\n<p><code>public int Point(int x)</code></p>\n<p><code> {         this.x = x;     }</code></p>\n<p>Logically, I suppose that I just need to rename the name of the constructor in the main method, but again, I'm not so sure about that.</p>\n<p>I renamed the name of the constructor as class Point and in the main method as well, but, as I thought, it's wrong for some reason. It didn't show directly the error description</p>\n"},{"tags":["java","reactjs","react-native","servlets","crud"],"comments":[{"owner":{"account_id":24554625,"reputation":21,"user_id":18463386,"display_name":"Rohit Ghosh"},"score":0,"creation_date":1648208434,"post_id":71606266,"comment_id":126572078,"body_markdown":"Any help fellow coders?","body":"Any help fellow coders?"}],"owner":{"account_id":24554625,"reputation":21,"user_id":18463386,"display_name":"Rohit Ghosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648140153,"creation_date":1648140153,"question_id":71606266,"body_markdown":"I want a solution for my problem. I am facing a problem where the data received from Search.js form is not sending data to my Java Servlet in DYNAMIC WEB PROJECT in Eclipse. I have attached the screenshots and the codes also. Please help.\r\n\r\nSearch.js Code:\r\n```\r\nimport React from &#39;react&#39;\r\nimport axios  from &#39;axios&#39;;\r\nconst  Search = () =&gt; {\r\n    \r\nconst handleSubmit = async (e) =&gt; {\r\n    const re = /^[0-9\\b]+$/\r\n    if (e.key === &quot;Enter&quot;) {\r\n        if(e.target.value===&#39;&#39; || re.test(e.target.value))\r\n        {\r\n            e.preventDefault()\r\n            let res= fetch(&quot;http://localhost:8080/Hrc/search&quot;,{\r\n            mode:&quot;no-cors&quot;,\r\n            method:&quot;POST&quot;,\r\n            headers: {\r\n                &#39;Content-Type&#39;: &#39;application/json&#39;\r\n            },\r\n            body:JSON.stringify({\r\n                cust_number:e.target.value\r\n            })})\r\n            console.log(e.target.value)\r\n            if(res.ok)\r\n            {\r\n                console.log(&quot;Successful search&quot;)\r\n            }\r\n            else{\r\n                console.log(&quot;Error&quot;)\r\n            }\r\n        }\r\n        // ... submit to API or something\r\n    }\r\n}\r\n\r\n    return (\r\n    &lt;div&gt;\r\n        &lt;div&gt;\r\n            &lt;form onSubmit=&#39;http://localhost:8080/Hrc/search&#39; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;text&quot; name=&#39;cust_number&#39; placeholder=&#39;Search Customer Id&#39; className=&quot;sarch-button&quot; onKeyPress={handleSubmit}/&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    )\r\n}\r\n\r\nexport default Search\r\n```\r\n\r\nApp.js\r\n```\r\nimport React,{ useState } from &#39;react&#39;\r\nimport {useMemo}  from &#39;react&#39;\r\nimport Logo from &#39;./components/Logo.js&#39;\r\nimport &#39;./App.css&#39;\r\nimport PredictBtn from &#39;./components/PredictBtn.js&#39;\r\nimport Analytics from &#39;./components/AnalyticsView.js&#39;\r\nimport Advsrchmodal from &#39;./components/Advsrchmodal.js&#39;\r\nimport Search from &#39;./components/Search.js&#39;\r\nimport Add from &#39;./components/Addmodal.js&#39;\r\nimport Edit from &#39;./components/Edit.js&#39;\r\nimport Delete from &#39;./components/Delete.js&#39;\r\nimport Table from &#39;./components/Table.js&#39;\r\nimport table from &#39;./assets/json/mock.json&#39;\r\nimport {Columns} from &#39;./components/column&#39;\r\nexport default function App(){\r\n  const [advmodal,setadvmodal]=useState(false)\r\n  const [addmodal,setaddmodal]=useState(false)\r\n  const [editmodal,seteditmodal]=useState(false)\r\n  const [delmodal,setdelmodal]=useState(false)\r\n  const [search,setSearch]=useState(&#39;&#39;)\r\n  const searchItems=(searchValue)=&gt;{\r\n    setSearch(searchValue)\r\n  }\r\n  const columns = useMemo(()=&gt; Columns ,[])\r\n  const data = useMemo(()=&gt; table, [])\r\n    return(\r\n    &lt;div&gt;\r\n      &lt;body&gt;\r\n      &lt;Logo /&gt;\r\n      &lt;div className=&#39;header-btns&#39;&gt;\r\n        &lt;PredictBtn/&gt;&lt;Analytics/&gt;\r\n        &lt;button onClick={()=&gt; setadvmodal(true)} className=&quot;leftbtns adv-srch-btn&quot;id=&quot;adv-srch-modal&quot;&gt;ADVANCED SEARCH&lt;/button&gt;\r\n        &lt;Advsrchmodal onClose={()=&gt; setadvmodal(false)} show={advmodal}/&gt;\r\n        \r\n        \r\n        &lt;Search handleSearch={searchItems}/&gt;\r\n      \r\n        &lt;button onClick={()=&gt; setaddmodal(true)} className=&quot;rightbtns add-btn&quot; id =&quot;add-modal&quot;&gt;ADD&lt;/button&gt;\r\n        &lt;Add onClose={()=&gt; setaddmodal(false)} show={addmodal}/&gt;\r\n      \r\n      \r\n        &lt;button onClick={()=&gt; seteditmodal(true)} className=&quot;rightbtns edit-btn&quot;&gt;EDIT&lt;/button&gt;\r\n        &lt;Edit onClose={()=&gt; seteditmodal(false)} show={editmodal}/&gt;\r\n\r\n        &lt;button onClick={()=&gt; setdelmodal(true)} className=&quot;rightbtns del-btn&quot;&gt;DELETE&lt;/button&gt;\r\n        &lt;Delete onClose={()=&gt;setdelmodal(false)} show={delmodal}/&gt;\r\n      &lt;/div&gt;\r\n      &lt;div className=&quot;Table&quot;&gt;\r\n        &lt;Table columns={Columns} data={data}/&gt;\r\n      &lt;/div&gt;\r\n      &lt;/body&gt;\r\n    &lt;/div&gt;\r\n  )\r\n}\r\n```\r\nIgnore the other imports , focus on the search import\r\n\r\nSearch.java(&#39;The Servlet&#39;) code:\r\n```\r\npackage com.highradius;\r\n\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.io.*;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\nimport java.io.FileWriter;\r\n\r\n@WebServlet(&quot;/servlet&quot;)\r\npublic class Search extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tstatic final String JDBC_DRIVER=&quot;com.mysql.jdbc.Driver&quot;;\r\n\tstatic final String DB_URL=&quot;jdbc:mysql://localhost:3306/grey_goose?zeroDateTimeBehavior=convertToNull&quot;;\r\n\t\r\n\tstatic final String USER=&quot;root&quot;;\r\n\tstatic final String PASSWORD=&quot;ROHITghosh1234&quot;;\r\n\t\r\n\t\r\n\r\n    public Search() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\r\n\tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t\tresp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:3000&quot;);\r\n\t\tConnection conn = null;\r\n\t\tStatement stmt = null;\r\n\t\tList&lt;Response&gt; demoList = new ArrayList&lt;&gt;();\r\n\t\tString cust_number=req.getParameter(&quot;cust_number&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tconn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\r\n\t\t\tstmt = conn.createStatement();\r\n\t\t\tString sql;\r\n\t\t\tif(cust_number==&quot;&quot;)\r\n\t\t\t\tsql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship&quot;;\r\n\t\t\telse\r\n\t\t\t\tsql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship where cust_number like &#39;&quot;+cust_number+&quot;%&#39;&quot;;\r\n\t\t\tResultSet rs=stmt.executeQuery(sql);\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tResponse res=new Response();\r\n\t\t\t\tres.setsl_no(rs.getInt(&quot;sl_no&quot;));\r\n\t\t\t\tres.setbusiness_code(rs.getString(&quot;business_code&quot;));\r\n\t\t\t\tres.setcust_number(rs.getString(&quot;cust_number&quot;));\r\n\t\t\t\tres.setclear_date(rs.getDate(&quot;clear_date&quot;));\r\n\t\t\t\tres.setbuisness_year(rs.getInt(&quot;buisness_year&quot;));\r\n\t\t\t\tres.setdoc_id(rs.getString(&quot;doc_id&quot;));\r\n\t\t\t\tres.setposting_date(rs.getDate(&quot;posting_date&quot;));\r\n\t\t\t\tres.setdocument_create_date(rs.getDate(&quot;document_create_date&quot;));\r\n\t\t\t\tres.setdue_in_date(rs.getDate(&quot;due_in_date&quot;));\r\n\t\t\t\tres.setinvoice_currency(rs.getString(&quot;invoice_currency&quot;));\r\n\t\t\t\tres.setdocument_type(rs.getString(&quot;document_type&quot;));\r\n\t\t\t\tres.setposting_id(rs.getInt(&quot;posting_id&quot;));\r\n\t\t\t\tres.settotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\r\n\t\t\t\tres.setbaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\r\n\t\t\t\tres.setcust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\r\n\t\t\t\tres.setinvoice_id(rs.getInt(&quot;invoice_id&quot;));\r\n\t\t\t\tdemoList.add(res);\r\n\t\t\t}\r\n\t\t\t\tString jsonString = getJSONStringFromObject(demoList);\r\n\t\t\t\tresp.setContentType(&quot;application/json&quot;);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresp.getWriter().write(jsonString);\r\n\t\t\t\t\tFile files=new File(&quot;D:\\\\\\\\hrcsummerinternship\\\\\\\\src\\\\\\\\assets\\\\\\\\json\\\\\\\\searchoutput.json&quot;);\r\n\t\t\t\t\tfiles.delete();\r\n\t\t\t\t\tFileWriter file=new FileWriter(&quot;D:\\\\hrcsummerinternship\\\\src\\\\assets\\\\json\\\\searchoutput.json&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfile.write(jsonString);\r\n\t\t\t\t\tfile.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\trs.close();\r\n\t\t\t\tstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException se) {\r\n\t\t\t\tse.printStackTrace();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (conn != null)\r\n\t\t\t\t\t\tconn.close();\r\n\t\t\t\t} catch (SQLException se) {\r\n\t\t\t\t\tse.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tdoGet(request, response);\r\n\t}\r\n\tprivate String getJSONStringFromObject(List&lt;Response&gt; filmlist) {\r\n\t\tGson gson = new GsonBuilder().setPrettyPrinting().create();\r\n\t\tString json = gson.toJson(filmlist);\r\n\t\t//System.out.print(json);\r\n\t\treturn json;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[Folder Structure][1]\r\n\r\n\r\n[Console output][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dqCYb.png\r\n  [2]: https://i.stack.imgur.com/CrKbo.png\r\n\r\n\r\nI have also used axios, but to no avail. Please Help","title":"React form data to Java Servlet","body":"<p>I want a solution for my problem. I am facing a problem where the data received from Search.js form is not sending data to my Java Servlet in DYNAMIC WEB PROJECT in Eclipse. I have attached the screenshots and the codes also. Please help.</p>\n<p>Search.js Code:</p>\n<pre><code>import React from 'react'\nimport axios  from 'axios';\nconst  Search = () =&gt; {\n    \nconst handleSubmit = async (e) =&gt; {\n    const re = /^[0-9\\b]+$/\n    if (e.key === &quot;Enter&quot;) {\n        if(e.target.value==='' || re.test(e.target.value))\n        {\n            e.preventDefault()\n            let res= fetch(&quot;http://localhost:8080/Hrc/search&quot;,{\n            mode:&quot;no-cors&quot;,\n            method:&quot;POST&quot;,\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body:JSON.stringify({\n                cust_number:e.target.value\n            })})\n            console.log(e.target.value)\n            if(res.ok)\n            {\n                console.log(&quot;Successful search&quot;)\n            }\n            else{\n                console.log(&quot;Error&quot;)\n            }\n        }\n        // ... submit to API or something\n    }\n}\n\n    return (\n    &lt;div&gt;\n        &lt;div&gt;\n            &lt;form onSubmit='http://localhost:8080/Hrc/search' method=&quot;post&quot;&gt;\n            &lt;input type=&quot;text&quot; name='cust_number' placeholder='Search Customer Id' className=&quot;sarch-button&quot; onKeyPress={handleSubmit}/&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    )\n}\n\nexport default Search\n</code></pre>\n<p>App.js</p>\n<pre><code>import React,{ useState } from 'react'\nimport {useMemo}  from 'react'\nimport Logo from './components/Logo.js'\nimport './App.css'\nimport PredictBtn from './components/PredictBtn.js'\nimport Analytics from './components/AnalyticsView.js'\nimport Advsrchmodal from './components/Advsrchmodal.js'\nimport Search from './components/Search.js'\nimport Add from './components/Addmodal.js'\nimport Edit from './components/Edit.js'\nimport Delete from './components/Delete.js'\nimport Table from './components/Table.js'\nimport table from './assets/json/mock.json'\nimport {Columns} from './components/column'\nexport default function App(){\n  const [advmodal,setadvmodal]=useState(false)\n  const [addmodal,setaddmodal]=useState(false)\n  const [editmodal,seteditmodal]=useState(false)\n  const [delmodal,setdelmodal]=useState(false)\n  const [search,setSearch]=useState('')\n  const searchItems=(searchValue)=&gt;{\n    setSearch(searchValue)\n  }\n  const columns = useMemo(()=&gt; Columns ,[])\n  const data = useMemo(()=&gt; table, [])\n    return(\n    &lt;div&gt;\n      &lt;body&gt;\n      &lt;Logo /&gt;\n      &lt;div className='header-btns'&gt;\n        &lt;PredictBtn/&gt;&lt;Analytics/&gt;\n        &lt;button onClick={()=&gt; setadvmodal(true)} className=&quot;leftbtns adv-srch-btn&quot;id=&quot;adv-srch-modal&quot;&gt;ADVANCED SEARCH&lt;/button&gt;\n        &lt;Advsrchmodal onClose={()=&gt; setadvmodal(false)} show={advmodal}/&gt;\n        \n        \n        &lt;Search handleSearch={searchItems}/&gt;\n      \n        &lt;button onClick={()=&gt; setaddmodal(true)} className=&quot;rightbtns add-btn&quot; id =&quot;add-modal&quot;&gt;ADD&lt;/button&gt;\n        &lt;Add onClose={()=&gt; setaddmodal(false)} show={addmodal}/&gt;\n      \n      \n        &lt;button onClick={()=&gt; seteditmodal(true)} className=&quot;rightbtns edit-btn&quot;&gt;EDIT&lt;/button&gt;\n        &lt;Edit onClose={()=&gt; seteditmodal(false)} show={editmodal}/&gt;\n\n        &lt;button onClick={()=&gt; setdelmodal(true)} className=&quot;rightbtns del-btn&quot;&gt;DELETE&lt;/button&gt;\n        &lt;Delete onClose={()=&gt;setdelmodal(false)} show={delmodal}/&gt;\n      &lt;/div&gt;\n      &lt;div className=&quot;Table&quot;&gt;\n        &lt;Table columns={Columns} data={data}/&gt;\n      &lt;/div&gt;\n      &lt;/body&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>\n<p>Ignore the other imports , focus on the search import</p>\n<p>Search.java('The Servlet') code:</p>\n<pre><code>package com.highradius;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.io.*;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport java.io.FileWriter;\n\n@WebServlet(&quot;/servlet&quot;)\npublic class Search extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    static final String JDBC_DRIVER=&quot;com.mysql.jdbc.Driver&quot;;\n    static final String DB_URL=&quot;jdbc:mysql://localhost:3306/grey_goose?zeroDateTimeBehavior=convertToNull&quot;;\n    \n    static final String USER=&quot;root&quot;;\n    static final String PASSWORD=&quot;ROHITghosh1234&quot;;\n    \n    \n\n    public Search() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        //response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n        resp.addHeader(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:3000&quot;);\n        Connection conn = null;\n        Statement stmt = null;\n        List&lt;Response&gt; demoList = new ArrayList&lt;&gt;();\n        String cust_number=req.getParameter(&quot;cust_number&quot;);\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);\n            stmt = conn.createStatement();\n            String sql;\n            if(cust_number==&quot;&quot;)\n                sql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship&quot;;\n            else\n                sql=&quot;select sl_no,business_code,cust_number,clear_date,buisness_year,doc_id,posting_date,document_create_date,due_in_date,invoice_currency,document_type,posting_id,total_open_amount,baseline_create_date,cust_payment_terms,invoice_id from winter_internship where cust_number like '&quot;+cust_number+&quot;%'&quot;;\n            ResultSet rs=stmt.executeQuery(sql);\n            while(rs.next()) {\n                Response res=new Response();\n                res.setsl_no(rs.getInt(&quot;sl_no&quot;));\n                res.setbusiness_code(rs.getString(&quot;business_code&quot;));\n                res.setcust_number(rs.getString(&quot;cust_number&quot;));\n                res.setclear_date(rs.getDate(&quot;clear_date&quot;));\n                res.setbuisness_year(rs.getInt(&quot;buisness_year&quot;));\n                res.setdoc_id(rs.getString(&quot;doc_id&quot;));\n                res.setposting_date(rs.getDate(&quot;posting_date&quot;));\n                res.setdocument_create_date(rs.getDate(&quot;document_create_date&quot;));\n                res.setdue_in_date(rs.getDate(&quot;due_in_date&quot;));\n                res.setinvoice_currency(rs.getString(&quot;invoice_currency&quot;));\n                res.setdocument_type(rs.getString(&quot;document_type&quot;));\n                res.setposting_id(rs.getInt(&quot;posting_id&quot;));\n                res.settotal_open_amount(rs.getDouble(&quot;total_open_amount&quot;));\n                res.setbaseline_create_date(rs.getDate(&quot;baseline_create_date&quot;));\n                res.setcust_payment_terms(rs.getString(&quot;cust_payment_terms&quot;));\n                res.setinvoice_id(rs.getInt(&quot;invoice_id&quot;));\n                demoList.add(res);\n            }\n                String jsonString = getJSONStringFromObject(demoList);\n                resp.setContentType(&quot;application/json&quot;);\n                try {\n                    resp.getWriter().write(jsonString);\n                    File files=new File(&quot;D:\\\\\\\\hrcsummerinternship\\\\\\\\src\\\\\\\\assets\\\\\\\\json\\\\\\\\searchoutput.json&quot;);\n                    files.delete();\n                    FileWriter file=new FileWriter(&quot;D:\\\\hrcsummerinternship\\\\src\\\\assets\\\\json\\\\searchoutput.json&quot;);\n                    \n                    file.write(jsonString);\n                    file.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n                rs.close();\n                stmt.close();\n                conn.close();\n            } catch (SQLException se) {\n                se.printStackTrace();\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                try {\n                    if (conn != null)\n                        conn.close();\n                } catch (SQLException se) {\n                    se.printStackTrace();\n                }\n            }\n        }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n    private String getJSONStringFromObject(List&lt;Response&gt; filmlist) {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String json = gson.toJson(filmlist);\n        //System.out.print(json);\n        return json;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dqCYb.png\" rel=\"nofollow noreferrer\">Folder Structure</a></p>\n<p><a href=\"https://i.stack.imgur.com/CrKbo.png\" rel=\"nofollow noreferrer\">Console output</a></p>\n<p>I have also used axios, but to no avail. Please Help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141446,"post_id":71606258,"comment_id":126555261,"body_markdown":"Yeah but I never used the method Arrays.copyOfRange in my code","body":"Yeah but I never used the method Arrays.copyOfRange in my code"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":0,"creation_date":1648141567,"post_id":71606258,"comment_id":126555316,"body_markdown":"And @OHGODSPIDERS by me saying the code used to work before is because maybe JAVAFX has changed or opens the possibility my code is outdated","body":"And @OHGODSPIDERS by me saying the code used to work before is because maybe JAVAFX has changed or opens the possibility my code is outdated"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141709,"post_id":71606258,"comment_id":126555371,"body_markdown":"Also i checked through my code and I don&#39;t even use arrays in it, I prefer arraylists","body":"Also i checked through my code and I don&#39;t even use arrays in it, I prefer arraylists"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1648141752,"post_id":71606258,"comment_id":126555383,"body_markdown":"Okay, So the stacktrace doesn&#39;t even mention any part of your code? Do I understand that correct?","body":"Okay, So the stacktrace doesn&#39;t even mention any part of your code? Do I understand that correct?"},{"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"score":1,"creation_date":1648141896,"post_id":71606258,"comment_id":126555453,"body_markdown":"Yeah, it doesn&#39;t mention anything in the code, which is why im so confused","body":"Yeah, it doesn&#39;t mention anything in the code, which is why im so confused"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648142434,"post_id":71606258,"comment_id":126555673,"body_markdown":"Hm, looking at https://code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launcher/Main.java#com.sun.tools.javac.launcher.Main%23execute%28java.lang.String%2Cjava.lang.String%5B%5D%2Ccom.sun.tools.javac.launcher.Main.Context%29 it looks to me like the problem is that an `InvocationTargetException` is thrown and before that gets passed higher/rethrown the code tries to modify its stacktrace where the Arrays.copyOfRange method is used and the above runtime exception happens. Unfortunately this looks like the original `InvocationTargetException` is swallowed and the original error msg is lost","body":"Hm, looking at <a href=\"https://code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launcher/Main.java#com.sun.tools.javac.launcher.Main%23execute%28java.lang.String%2Cjava.lang.String%5B%5D%2Ccom.sun.tools.javac.launcher.Main.Context%29\" rel=\"nofollow noreferrer\">code.yawk.at/java/13/jdk.compiler/com/sun/tools/javac/launch&zwnj;&#8203;er/&hellip;</a> it looks to me like the problem is that an <code>InvocationTargetException</code> is thrown and before that gets passed higher/rethrown the code tries to modify its stacktrace where the Arrays.copyOfRange method is used and the above runtime exception happens. Unfortunately this looks like the original <code>InvocationTargetException</code> is swallowed and the original error msg is lost"}],"owner":{"account_id":24676353,"reputation":11,"user_id":18570692,"display_name":"user18570692"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648140134,"creation_date":1648140134,"question_id":71606258,"body_markdown":"    Exception in Application constructor\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -4\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\r\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:427)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n    Press any key to continue . . .\r\n\r\n\r\nAnyone know why this could happen\r\n\r\nFor reference I am trying to run a JavaFX project from 2019\r\nI didnt make any changes to the code and it isn&#39;t working now","title":"Im trying to run old code, which I know works, and am getting some new errors","body":"<pre><code>Exception in Application constructor\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: 0 &gt; -4\nat java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\nat java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:427)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\nat jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\nPress any key to continue . . .\n</code></pre>\n<p>Anyone know why this could happen</p>\n<p>For reference I am trying to run a JavaFX project from 2019\nI didnt make any changes to the code and it isn't working now</p>\n"},{"tags":["java","json","spring-boot","rest"],"comments":[{"owner":{"account_id":1609429,"reputation":1062,"user_id":1488843,"accept_rate":75,"display_name":"MGPJ"},"score":0,"creation_date":1648140971,"post_id":71606191,"comment_id":126555054,"body_markdown":"change the variable isValid as valid and try again","body":"change the variable isValid as valid and try again"},{"owner":{"account_id":24675846,"reputation":11,"user_id":18570253,"display_name":"leondesu"},"score":0,"creation_date":1648554852,"post_id":71606191,"comment_id":126648870,"body_markdown":"@MGPJ changing the name to valid (or keeping the name isValid and adding the annotation JsonProperty to the boolean) solved a different problem where the boolean was always reaching the backend as false. I still don&#39;t know the exact reason for the BAD_REQUEST error, but it had to do something with the combination of lombok annotations on the class. For example AllArgsConstructor with Data and a lot of other combinations would not work, but Value with NoArgsConstructor(force = true, access = AccessLevel.PRIVATE) and AllArgsConstructor works.","body":"@MGPJ changing the name to valid (or keeping the name isValid and adding the annotation JsonProperty to the boolean) solved a different problem where the boolean was always reaching the backend as false. I still don&#39;t know the exact reason for the BAD_REQUEST error, but it had to do something with the combination of lombok annotations on the class. For example AllArgsConstructor with Data and a lot of other combinations would not work, but Value with NoArgsConstructor(force = true, access = AccessLevel.PRIVATE) and AllArgsConstructor works."}],"owner":{"account_id":24675846,"reputation":11,"user_id":18570253,"display_name":"leondesu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648139851,"creation_date":1648139851,"question_id":71606191,"body_markdown":"I&#39;m developing a web application with Spring Boot and Angular and currently writing a REST test call to test a PUT method for my Spring Boot Controller. The controller expects to receive a request body with a DTO that wraps a single boolean value. After checking the boolean value, it is supposed to update some stuff and send back a message.\r\n\r\nMy problem is that everytime I run the test I get a 400 BAD_REQUEST error, even when running the application and testing it &quot;live&quot;.\r\n\r\nThis is what the backend expects to receive:\r\n\r\n````\r\n@Data\r\n@AllArgsConstructor\r\npublic class ValidityRequest {\r\n  boolean isValid;\r\n}\r\n````\r\n\r\nThe weird thing is that it all works perfectly if I add a second value to the ValidityRequest object like such:\r\n\r\n````\r\n@Data\r\n@AllArgsConstructor\r\npublic class ValidityRequest {\r\n  boolean isValid;\r\n  boolean someUnusedValue;\r\n}\r\n````\r\n\r\nI have tried numerous different combinations of possible solutions to make it work with just the one value inside the wrapper just to understand the problem (e.g. implements Serializable, @JsonProperty, renaming the value to valid to help avoid the problematic of JSON needing a &quot;getIsValid&quot; getter, using Object type Boolean, completely replacing the boolean with a String, writing all Constructors, getters and setters without Lombok), but nothing worked.\r\n\r\nThe only way to get the REST test to pass, was to send a single boolean instead of wrapping it into a DTO. In the live application this solution didn&#39;t work, because the boolean would always reach the backend as false, even when I sent it as true from the frontend.\r\n\r\nThe only way to get both the test and the application to work was, as I stated, to add a second value (whatever, String, boolean, LocalDate, all did the trick) even if that value wasn&#39;t used.\r\n\r\n\r\n**Note**: I would like a solution for the single value DTO to work, but more than that I would like to know what is causing the BAD_REQUEST error so I can gain more knowledge on this issue.\r\n\r\n\r\nMy controller looks like this:\r\n\r\n````\r\n  @PutMapping(&quot;/check/{id}&quot;)\r\n  public ResponseEntity&lt;Object&gt; checkValidityAndUpdate(\r\n      @PathVariable final String id,\r\n      @RequestBody final validityRequest ValidityRequest,\r\n      final WebRequest request) {\r\n    return execute(request, () -&gt; ResponseEntity.ok(validityService.checkValidityAndUpdate(id, validityRequest)));\r\n  }\r\n````\r\nMy REST test call looks like this:\r\n\r\n````\r\n    final HttpEntity&lt;Object&gt; request = new HttpEntity&lt;&gt;(validityRequest, authenticator.getAuthorizationHeader());\r\n    ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\r\n            new URI(BASE_URL + &quot;/check/&quot; + id),\r\n            HttpMethod.PUT,\r\n            request,\r\n            String.class);\r\n````\r\n","title":"Spring Boot sends BAD_REQUEST if expected request body contains DTO with only one value","body":"<p>I'm developing a web application with Spring Boot and Angular and currently writing a REST test call to test a PUT method for my Spring Boot Controller. The controller expects to receive a request body with a DTO that wraps a single boolean value. After checking the boolean value, it is supposed to update some stuff and send back a message.</p>\n<p>My problem is that everytime I run the test I get a 400 BAD_REQUEST error, even when running the application and testing it &quot;live&quot;.</p>\n<p>This is what the backend expects to receive:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class ValidityRequest {\n  boolean isValid;\n}\n</code></pre>\n<p>The weird thing is that it all works perfectly if I add a second value to the ValidityRequest object like such:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class ValidityRequest {\n  boolean isValid;\n  boolean someUnusedValue;\n}\n</code></pre>\n<p>I have tried numerous different combinations of possible solutions to make it work with just the one value inside the wrapper just to understand the problem (e.g. implements Serializable, @JsonProperty, renaming the value to valid to help avoid the problematic of JSON needing a &quot;getIsValid&quot; getter, using Object type Boolean, completely replacing the boolean with a String, writing all Constructors, getters and setters without Lombok), but nothing worked.</p>\n<p>The only way to get the REST test to pass, was to send a single boolean instead of wrapping it into a DTO. In the live application this solution didn't work, because the boolean would always reach the backend as false, even when I sent it as true from the frontend.</p>\n<p>The only way to get both the test and the application to work was, as I stated, to add a second value (whatever, String, boolean, LocalDate, all did the trick) even if that value wasn't used.</p>\n<p><strong>Note</strong>: I would like a solution for the single value DTO to work, but more than that I would like to know what is causing the BAD_REQUEST error so I can gain more knowledge on this issue.</p>\n<p>My controller looks like this:</p>\n<pre><code>  @PutMapping(&quot;/check/{id}&quot;)\n  public ResponseEntity&lt;Object&gt; checkValidityAndUpdate(\n      @PathVariable final String id,\n      @RequestBody final validityRequest ValidityRequest,\n      final WebRequest request) {\n    return execute(request, () -&gt; ResponseEntity.ok(validityService.checkValidityAndUpdate(id, validityRequest)));\n  }\n</code></pre>\n<p>My REST test call looks like this:</p>\n<pre><code>    final HttpEntity&lt;Object&gt; request = new HttpEntity&lt;&gt;(validityRequest, authenticator.getAuthorizationHeader());\n    ResponseEntity&lt;String&gt; response = testRestTemplate.exchange(\n            new URI(BASE_URL + &quot;/check/&quot; + id),\n            HttpMethod.PUT,\n            request,\n            String.class);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648139959,"post_id":71606176,"comment_id":126554621,"body_markdown":"They serve entirely different purposes: `Objects.requireNonNull` throws a NPE if the argument is null; try/catch handles an exception that has been thrown.","body":"They serve entirely different purposes: <code>Objects.requireNonNull</code> throws a NPE if the argument is null; try/catch handles an exception that has been thrown."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648140023,"post_id":71606176,"comment_id":126554659,"body_markdown":"BTW, it is *almost never* the right thing to catch a `NullPointerException`, because you can avoid it by checking if the thing is null, i.e. `if (thing != null) { ... }`.","body":"BTW, it is <i>almost never</i> the right thing to catch a <code>NullPointerException</code>, because you can avoid it by checking if the thing is null, i.e. <code>if (thing != null) { ... }</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1648140115,"post_id":71606176,"comment_id":126554694,"body_markdown":"**Warning**: you are *swallowing* exceptions (i.e. having an empty `catch` clause). **Never** do that, especially not for `NullPointerException`s. Swallowing such an exception hides the true cause of an object being `null`. You should instead throw it and not catch it, so the program crashes immediately instead of silently continuing in an unknown state. `Objects::requireNonNull` does that. Otherwise, if you *expect* that certain variable is `null`, then add a null-check, as Andy already mentioned.","body":"<b>Warning</b>: you are <i>swallowing</i> exceptions (i.e. having an empty <code>catch</code> clause). <b>Never</b> do that, especially not for <code>NullPointerException</code>s. Swallowing such an exception hides the true cause of an object being <code>null</code>. You should instead throw it and not catch it, so the program crashes immediately instead of silently continuing in an unknown state. <code>Objects::requireNonNull</code> does that. Otherwise, if you <i>expect</i> that certain variable is <code>null</code>, then add a null-check, as Andy already mentioned."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1648140932,"post_id":71606176,"comment_id":126555035,"body_markdown":"That warning is your IDE telling you that your code has a potential bug, and you should fix that by guarding against it. Adding a try-catch doesn&#39;t fix the potential issue, and - even worse - the try-catch you wrote will hide the problem which might be a worse bug than the one the warning is about.","body":"That warning is your IDE telling you that your code has a potential bug, and you should fix that by guarding against it. Adding a try-catch doesn&#39;t fix the potential issue, and - even worse - the try-catch you wrote will hide the problem which might be a worse bug than the one the warning is about."},{"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"score":0,"creation_date":1648143332,"post_id":71606176,"comment_id":126556014,"body_markdown":"Thank you guys for the clarification","body":"Thank you guys for the clarification"}],"owner":{"account_id":10115449,"reputation":1615,"user_id":7474282,"accept_rate":75,"display_name":"Taha Sami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648139796,"creation_date":1648139796,"question_id":71606176,"body_markdown":"    try {\r\n        switch ((Integer) navController.getCurrentBackStackEntry().getSavedStateHandle().get(&quot;position&quot;)) {\r\n            case 1:\r\n                //...\r\n                break;\r\n            case 2:\r\n                //...\r\n                break;\r\n        }\r\n    } catch (NullPointerException ignored) {\r\n\r\n    }\r\n\r\nI put the code inside `try/catch` but still get `NullPointerException` warning, But this method `Objects.requireNonNull(...)` will hide the warning but I&#39;m asking myself what is the difference between `try/catch` and `Objects.requireNonNull(...)`? Also why `try/catch` not hide the warning?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNTbe.png","title":"What is the difference between Try/Catch and Objects.requireNonNull for NullPointerException?","body":"<pre><code>try {\n    switch ((Integer) navController.getCurrentBackStackEntry().getSavedStateHandle().get(&quot;position&quot;)) {\n        case 1:\n            //...\n            break;\n        case 2:\n            //...\n            break;\n    }\n} catch (NullPointerException ignored) {\n\n}\n</code></pre>\n<p>I put the code inside <code>try/catch</code> but still get <code>NullPointerException</code> warning, But this method <code>Objects.requireNonNull(...)</code> will hide the warning but I'm asking myself what is the difference between <code>try/catch</code> and <code>Objects.requireNonNull(...)</code>? Also why <code>try/catch</code> not hide the warning?</p>\n<p><a href=\"https://i.stack.imgur.com/pNTbe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNTbe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","anylogic","agent-based-modeling","statechart"],"comments":[{"owner":{"account_id":4196914,"reputation":8766,"user_id":3438111,"accept_rate":100,"display_name":"Felipe"},"score":0,"creation_date":1645032561,"post_id":71145546,"comment_id":125764823,"body_markdown":"you can add another collection of collections and choose randomly from there, and then when you selected something, choose randomly from the chosen collection... then remove that from the collection of collections so you don&#39;t select it again","body":"you can add another collection of collections and choose randomly from there, and then when you selected something, choose randomly from the chosen collection... then remove that from the collection of collections so you don&#39;t select it again"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1645032720,"post_id":71145546,"comment_id":125764893,"body_markdown":"Welcome to SOF, always try to ask separate questions in separate issues. Makes it much easier to reply, also see https://stackoverflow.com/help/how-to-ask","body":"Welcome to SOF, always try to ask separate questions in separate issues. Makes it much easier to reply, also see <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":24278396,"reputation":1,"user_id":18225353,"display_name":"Abdullah"},"score":0,"creation_date":1645038628,"post_id":71145546,"comment_id":125767146,"body_markdown":"@Felipe I was thinking of implementing something along this approach, but I can&#39;t seem to figure out how to place the collections under one collection. When I create a new collection, under its properties, I see that I can add each individual element from which I have stored in the collections, but I don&#39;t think this is what I am after. What would I have to do to place these sub-collections into a main collection?","body":"@Felipe I was thinking of implementing something along this approach, but I can&#39;t seem to figure out how to place the collections under one collection. When I create a new collection, under its properties, I see that I can add each individual element from which I have stored in the collections, but I don&#39;t think this is what I am after. What would I have to do to place these sub-collections into a main collection?"}],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645032895,"creation_date":1645032895,"answer_id":71146635,"question_id":71145546,"body_markdown":"Either do the approach by Felipe or you can also group your elements in 1 large `LinkedHashMap` collection where the keys are a String (or better an `OptionList` with the types &quot;Hospital&quot;, &quot;School&quot;...) and the values are `ArrayList&lt;GISPoint&gt;` with all the actual points. \r\n\r\n(LinkedHashMaps are a standard Java data type, check the web to learn about them).\r\n\r\nRe avoiding revisiting: Best have a collection in each Vehicle `placesVisted` (type `ArrayList&lt;GISPoint&gt;` or similar) and store each place you already visited. Then before moving somewhere else, first check if you have been there previously","title":"In Anylogic, how to randomly select agents from a collection of collections","body":"<p>Either do the approach by Felipe or you can also group your elements in 1 large <code>LinkedHashMap</code> collection where the keys are a String (or better an <code>OptionList</code> with the types &quot;Hospital&quot;, &quot;School&quot;...) and the values are <code>ArrayList&lt;GISPoint&gt;</code> with all the actual points.</p>\n<p>(LinkedHashMaps are a standard Java data type, check the web to learn about them).</p>\n<p>Re avoiding revisiting: Best have a collection in each Vehicle <code>placesVisted</code> (type <code>ArrayList&lt;GISPoint&gt;</code> or similar) and store each place you already visited. Then before moving somewhere else, first check if you have been there previously</p>\n"}],"owner":{"account_id":24278396,"reputation":1,"user_id":18225353,"display_name":"Abdullah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648139510,"creation_date":1645028649,"question_id":71145546,"body_markdown":"I am new to anylogic and am trying to build an agent-based model which randomly directs agents (vehicles) from a starting point (a Home location point on GIS map) to a selection of locations. I have 6 different sets of collections which have varying respective locations stored within them (SchoolsCollection, SupermarketsCollection, ShoppingCentresCollection, HospitalsCollection, TourismCollection and WorkOfficeCollection).\r\n\r\nWithin my statechart for my vehicles, I instruct it to visit 4 locations. So far I have only been able to make the agent move to a random location within one of the collections in each transition using: moveTo(randomFrom(main.HospitalsCollection)) for example.\r\n\r\nBut as I want my agent to randomly pick a location from the six collections above and not revisit the same class of collection from its previous journey, I am unsure on how to:\r\n\r\n1) move my agent to randomly select a location from the collection of collections I have above \r\n\r\n2) when moving on to the next location via the transition in my statechart, to not revsit the previous type of location it was just at (ie not go from one school in one trip and the following trip go to another school). From my limited experience, I would imagine this make use an if loop? \r\n\r\nIf you could help me with the above two queries that would be much appreciated!\r\n\r\nThanks in advance. ","title":"In Anylogic, how to randomly select agents from a collection of collections","body":"<p>I am new to anylogic and am trying to build an agent-based model which randomly directs agents (vehicles) from a starting point (a Home location point on GIS map) to a selection of locations. I have 6 different sets of collections which have varying respective locations stored within them (SchoolsCollection, SupermarketsCollection, ShoppingCentresCollection, HospitalsCollection, TourismCollection and WorkOfficeCollection).</p>\n<p>Within my statechart for my vehicles, I instruct it to visit 4 locations. So far I have only been able to make the agent move to a random location within one of the collections in each transition using: moveTo(randomFrom(main.HospitalsCollection)) for example.</p>\n<p>But as I want my agent to randomly pick a location from the six collections above and not revisit the same class of collection from its previous journey, I am unsure on how to:</p>\n<ol>\n<li><p>move my agent to randomly select a location from the collection of collections I have above</p>\n</li>\n<li><p>when moving on to the next location via the transition in my statechart, to not revsit the previous type of location it was just at (ie not go from one school in one trip and the following trip go to another school). From my limited experience, I would imagine this make use an if loop?</p>\n</li>\n</ol>\n<p>If you could help me with the above two queries that would be much appreciated!</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":24263449,"reputation":489,"user_id":18212724,"display_name":"Aditya Akella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647755568,"creation_date":1647755568,"answer_id":71544405,"question_id":71544261,"body_markdown":"You can use @JsonAnyGetter and get the additional dynamic key value pair(s) in a Map. Please refer to the usage of @JsonAnyGetter in the following example and do let me know if you still need help. \r\n\r\nhttps://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html ","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>You can use @JsonAnyGetter and get the additional dynamic key value pair(s) in a Map. Please refer to the usage of @JsonAnyGetter in the following example and do let me know if you still need help.</p>\n<p><a href=\"https://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/misc/jackson/jackson-any-setter.html</a></p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647937371,"creation_date":1647896468,"answer_id":71564058,"question_id":71544261,"body_markdown":"May be you were thinking too complicated here.\r\nIn your `CurrencyConvertDto` class, instead of using\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Rates rates;\r\n \r\n you can simply use\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Map&lt;String, RateInfo&gt; rates;\r\n\r\n(and of course adjust the `getRates`and `setRates` methods accordingly).\r\nAnd then you don&#39;t need the `Rates` class anymore.\r\n\r\nJackson can cope with this out-of-the-box.\r\nIt will handle arbitrary currency codes as keys of the map, like in:\r\n\r\n    {\r\n      &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n      &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n      &quot;amount&quot;: &quot;150.5800&quot;,\r\n      &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n      &quot;rates&quot;: {\r\n        &quot;GBP&quot;: {\r\n          &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n          &quot;rate&quot;: &quot;0.0975&quot;,\r\n          &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n        },\r\n        &quot;EUR&quot;: {\r\n          &quot;currency_name&quot;: &quot;Euro&quot;,\r\n          &quot;rate&quot;: &quot;0.120&quot;,\r\n          &quot;rate_for_amount&quot;: &quot;18.07&quot;\r\n        }\r\n      },\r\n\t  &quot;status&quot;: &quot;success&quot;\r\n\t}\r\n\r\n\r\nAnd by the way: You don&#39;t need to repeat the `@JsonProperty`\r\nannotations on the getter and setter methods. Putting `@JsonProperty`\r\nonly on the member variables is already enough.","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>May be you were thinking too complicated here.\nIn your <code>CurrencyConvertDto</code> class, instead of using</p>\n<pre><code>@JsonProperty(&quot;rates&quot;)\nprivate Rates rates;\n</code></pre>\n<p>you can simply use</p>\n<pre><code>@JsonProperty(&quot;rates&quot;)\nprivate Map&lt;String, RateInfo&gt; rates;\n</code></pre>\n<p>(and of course adjust the <code>getRates</code>and <code>setRates</code> methods accordingly).\nAnd then you don't need the <code>Rates</code> class anymore.</p>\n<p>Jackson can cope with this out-of-the-box.\nIt will handle arbitrary currency codes as keys of the map, like in:</p>\n<pre><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;GBP&quot;: {\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n      &quot;rate&quot;: &quot;0.0975&quot;,\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    },\n    &quot;EUR&quot;: {\n      &quot;currency_name&quot;: &quot;Euro&quot;,\n      &quot;rate&quot;: &quot;0.120&quot;,\n      &quot;rate_for_amount&quot;: &quot;18.07&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n<p>And by the way: You don't need to repeat the <code>@JsonProperty</code>\nannotations on the getter and setter methods. Putting <code>@JsonProperty</code>\nonly on the member variables is already enough.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648139373,"creation_date":1647898303,"answer_id":71564383,"question_id":71544261,"body_markdown":"If you are able,\r\nthe simplest option would be to use a reasonable JSON design.\r\n\r\nHere is an example:\r\n```json\r\n{\r\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n  &quot;amount&quot;: &quot;150.5800&quot;,\r\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n  &quot;rates&quot;: {\r\n    &quot;currentySymbol&quot;: &quot;GBP&quot;,\r\n    &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n    &quot;rate&quot;: &quot;0.0975&quot;,\r\n    &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n    }\r\n  },\r\n  &quot;status&quot;: &quot;success&quot;\r\n}\r\n```","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>If you are able,\nthe simplest option would be to use a reasonable JSON design.</p>\n<p>Here is an example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;currentySymbol&quot;: &quot;GBP&quot;,\n    &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n    &quot;rate&quot;: &quot;0.0975&quot;,\n    &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":20870345,"reputation":33,"user_id":15330450,"display_name":"YinHk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71564058,"answer_count":3,"score":1,"last_activity_date":1648139373,"creation_date":1647753617,"question_id":71544261,"body_markdown":"I would like create a Java object which map this JSON object:\r\n```json\r\n{\r\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\r\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\r\n  &quot;amount&quot;: &quot;150.5800&quot;,\r\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\r\n  &quot;rates&quot;: {\r\n    &quot;GBP&quot;: {\r\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\r\n      &quot;rate&quot;: &quot;0.0975&quot;,\r\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\r\n    }\r\n  },\r\n  &quot;status&quot;: &quot;success&quot;\r\n}\r\n```\r\n\r\nOnly the `&quot;GBP&quot;` property name is dynamic field, it could be another currency symbol next time like `&quot;USD&quot;`, `&quot;JPY&quot;` etc.\r\n\r\nI create the Java class like this:\r\n```java\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;base_currency_code&quot;,\r\n    &quot;base_currency_name&quot;,\r\n    &quot;amount&quot;,\r\n    &quot;updated_date&quot;,\r\n    &quot;rates&quot;,\r\n    &quot;status&quot;\r\n})\r\npublic class CurrencyConvertDto {\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    private String baseCurrencyCode;\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    private String baseCurrencyName;\r\n    @JsonProperty(&quot;amount&quot;)\r\n    private String amount;\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    private String updatedDate;\r\n    @JsonProperty(&quot;rates&quot;)\r\n    private Rates rates;\r\n    @JsonProperty(&quot;status&quot;)\r\n    private String status;\r\n    /*\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    */\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    public String getBaseCurrencyCode() {\r\n        return baseCurrencyCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_code&quot;)\r\n    public void setBaseCurrencyCode(String baseCurrencyCode) {\r\n        this.baseCurrencyCode = baseCurrencyCode;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    public String getBaseCurrencyName() {\r\n        return baseCurrencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;base_currency_name&quot;)\r\n    public void setBaseCurrencyName(String baseCurrencyName) {\r\n        this.baseCurrencyName = baseCurrencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public String getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;amount&quot;)\r\n    public void setAmount(String amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    public String getUpdatedDate() {\r\n        return updatedDate;\r\n    }\r\n\r\n    @JsonProperty(&quot;updated_date&quot;)\r\n    public void setUpdatedDate(String updatedDate) {\r\n        this.updatedDate = updatedDate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    public Rates getRates() {\r\n        return rates;\r\n    }\r\n\r\n    @JsonProperty(&quot;rates&quot;)\r\n    public void setRates(Rates rates) {\r\n        this.rates = rates;\r\n    }\r\n\r\n    @JsonProperty(&quot;status&quot;)\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    @JsonProperty(&quot;status&quot;)\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Rates {\r\n\r\n    private List&lt;Map&lt;String, String&gt;&gt; rateInfo = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n\r\n    @JsonAnySetter\r\n    public void setDynamicProperty(String name, Map&lt;String, String&gt; map) {\r\n        rateInfo.add(map);\r\n    }\r\n\r\n    public List&lt;Map&lt;String, String&gt;&gt; getRateInfo() {\r\n        return rateInfo;\r\n    }\r\n\r\n    public void setRateInfo(List&lt;Map&lt;String, String&gt;&gt; rateInfo) {\r\n        this.rateInfo = rateInfo;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n    &quot;currency_name&quot;,\r\n    &quot;rate&quot;,\r\n    &quot;rate_for_amount&quot;\r\n})\r\npublic class RateInfo {\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    private String currencyName;\r\n    @JsonProperty(&quot;rate&quot;)\r\n    private String rate;\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    private String rateForAmount;\r\n    /*\r\n    @JsonIgnore\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    */\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    public String getCurrencyName() {\r\n        return currencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;currency_name&quot;)\r\n    public void setCurrencyName(String currencyName) {\r\n        this.currencyName = currencyName;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate&quot;)\r\n    public String getRate() {\r\n        return rate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate&quot;)\r\n    public void setRate(String rate) {\r\n        this.rate = rate;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    public String getRateForAmount() {\r\n        return rateForAmount;\r\n    }\r\n\r\n    @JsonProperty(&quot;rate_for_amount&quot;)\r\n    public void setRateForAmount(String rateForAmount) {\r\n        this.rateForAmount = rateForAmount;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nBut when compile, it seems have problem. it can&#39;t map the JSON object with the dynamic field . Does anyone know how to fix it? Thanks you very much.","title":"How to map JSON to Java POJO with a dynamic field in JSON?","body":"<p>I would like create a Java object which map this JSON object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;base_currency_code&quot;: &quot;HKD&quot;,\n  &quot;base_currency_name&quot;: &quot;Hong Kong dollar&quot;,\n  &quot;amount&quot;: &quot;150.5800&quot;,\n  &quot;updated_date&quot;: &quot;2022-03-20&quot;,\n  &quot;rates&quot;: {\n    &quot;GBP&quot;: {\n      &quot;currency_name&quot;: &quot;Pound sterling&quot;,\n      &quot;rate&quot;: &quot;0.0975&quot;,\n      &quot;rate_for_amount&quot;: &quot;14.6774&quot;\n    }\n  },\n  &quot;status&quot;: &quot;success&quot;\n}\n</code></pre>\n<p>Only the <code>&quot;GBP&quot;</code> property name is dynamic field, it could be another currency symbol next time like <code>&quot;USD&quot;</code>, <code>&quot;JPY&quot;</code> etc.</p>\n<p>I create the Java class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;base_currency_code&quot;,\n    &quot;base_currency_name&quot;,\n    &quot;amount&quot;,\n    &quot;updated_date&quot;,\n    &quot;rates&quot;,\n    &quot;status&quot;\n})\npublic class CurrencyConvertDto {\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    private String baseCurrencyCode;\n    @JsonProperty(&quot;base_currency_name&quot;)\n    private String baseCurrencyName;\n    @JsonProperty(&quot;amount&quot;)\n    private String amount;\n    @JsonProperty(&quot;updated_date&quot;)\n    private String updatedDate;\n    @JsonProperty(&quot;rates&quot;)\n    private Rates rates;\n    @JsonProperty(&quot;status&quot;)\n    private String status;\n    /*\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    */\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    public String getBaseCurrencyCode() {\n        return baseCurrencyCode;\n    }\n\n    @JsonProperty(&quot;base_currency_code&quot;)\n    public void setBaseCurrencyCode(String baseCurrencyCode) {\n        this.baseCurrencyCode = baseCurrencyCode;\n    }\n\n    @JsonProperty(&quot;base_currency_name&quot;)\n    public String getBaseCurrencyName() {\n        return baseCurrencyName;\n    }\n\n    @JsonProperty(&quot;base_currency_name&quot;)\n    public void setBaseCurrencyName(String baseCurrencyName) {\n        this.baseCurrencyName = baseCurrencyName;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public String getAmount() {\n        return amount;\n    }\n\n    @JsonProperty(&quot;amount&quot;)\n    public void setAmount(String amount) {\n        this.amount = amount;\n    }\n\n    @JsonProperty(&quot;updated_date&quot;)\n    public String getUpdatedDate() {\n        return updatedDate;\n    }\n\n    @JsonProperty(&quot;updated_date&quot;)\n    public void setUpdatedDate(String updatedDate) {\n        this.updatedDate = updatedDate;\n    }\n\n    @JsonProperty(&quot;rates&quot;)\n    public Rates getRates() {\n        return rates;\n    }\n\n    @JsonProperty(&quot;rates&quot;)\n    public void setRates(Rates rates) {\n        this.rates = rates;\n    }\n\n    @JsonProperty(&quot;status&quot;)\n    public String getStatus() {\n        return status;\n    }\n\n    @JsonProperty(&quot;status&quot;)\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Rates {\n\n    private List&lt;Map&lt;String, String&gt;&gt; rateInfo = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n\n    @JsonAnySetter\n    public void setDynamicProperty(String name, Map&lt;String, String&gt; map) {\n        rateInfo.add(map);\n    }\n\n    public List&lt;Map&lt;String, String&gt;&gt; getRateInfo() {\n        return rateInfo;\n    }\n\n    public void setRateInfo(List&lt;Map&lt;String, String&gt;&gt; rateInfo) {\n        this.rateInfo = rateInfo;\n    }\n\n}\n\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;currency_name&quot;,\n    &quot;rate&quot;,\n    &quot;rate_for_amount&quot;\n})\npublic class RateInfo {\n\n    @JsonProperty(&quot;currency_name&quot;)\n    private String currencyName;\n    @JsonProperty(&quot;rate&quot;)\n    private String rate;\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    private String rateForAmount;\n    /*\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n    */\n\n    @JsonProperty(&quot;currency_name&quot;)\n    public String getCurrencyName() {\n        return currencyName;\n    }\n\n    @JsonProperty(&quot;currency_name&quot;)\n    public void setCurrencyName(String currencyName) {\n        this.currencyName = currencyName;\n    }\n\n    @JsonProperty(&quot;rate&quot;)\n    public String getRate() {\n        return rate;\n    }\n\n    @JsonProperty(&quot;rate&quot;)\n    public void setRate(String rate) {\n        this.rate = rate;\n    }\n\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    public String getRateForAmount() {\n        return rateForAmount;\n    }\n\n    @JsonProperty(&quot;rate_for_amount&quot;)\n    public void setRateForAmount(String rateForAmount) {\n        this.rateForAmount = rateForAmount;\n    }\n\n}\n\n</code></pre>\n<p>But when compile, it seems have problem. it can't map the JSON object with the dynamic field . Does anyone know how to fix it? Thanks you very much.</p>\n"},{"tags":["java","android-studio","oop","android-activity","appcompatactivity"],"comments":[{"owner":{"account_id":22109886,"reputation":208,"user_id":16364947,"display_name":"AshishVE"},"score":0,"creation_date":1648132203,"post_id":71592407,"comment_id":126551195,"body_markdown":"You should put  &quot;  new Steuerung();   &quot; below  of setContentView(R.layout.activity_load);","body":"You should put  &quot;  new Steuerung();   &quot; below  of setContentView(R.layout.activity_load);"},{"owner":{"account_id":24664242,"reputation":1,"user_id":18560130,"display_name":"Razac"},"score":0,"creation_date":1648147278,"post_id":71592407,"comment_id":126557371,"body_markdown":"I still get an exception if i use  &quot;txtfeld.setText(&quot;Loaded&quot;);&quot;\nI also tried making an private Attribut in GUI from the textview and initialise it in the constructor but it still doesnt work. Also using setcontentview (R.layout.activity_load); again in the constructor of GUI doesnt work\n\nThe Exception:\n&#39;java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference&#39;","body":"I still get an exception if i use  &quot;txtfeld.setText(&quot;Loaded&quot;);&quot; I also tried making an private Attribut in GUI from the textview and initialise it in the constructor but it still doesnt work. Also using setcontentview (R.layout.activity_load); again in the constructor of GUI doesnt work  The Exception: &#39;java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.andr&zwnj;&#8203;oidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference&#39;"}],"owner":{"account_id":24664242,"reputation":1,"user_id":18560130,"display_name":"Razac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648139239,"creation_date":1648060866,"question_id":71592407,"body_markdown":"I want to modify the TextField &quot;Mitte&quot; in the class GUI but if i try i get an Error:\r\n\r\nIm new to Android so i struggle with the concepts of intends, activities and OnCreate(), but i understand Java and Objects;\r\n\r\n```\r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n```\r\n\r\nHow My APP is Designed (OOP):\r\n\r\n## Main (just generates Steuerung):\r\n\r\n    public class MAIN extends AppCompatActivity\r\n    {\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            new Steuerung();\r\n            setContentView(R.layout.activity_load);\r\n        }\r\n    \r\n    }\r\n\r\n## Steuerung (Has a bidirectional Association with GUI):\r\n\r\nAnd also A few Associations with other Classes (but i dont think they matter in this context)\r\n\r\n         \r\n    public class Steuerung\r\n    {\r\n    \r\n        //Attribute\r\n        private GUI DieGUI;\r\n        private BT BlT;\r\n        private Funktionen Fkt;\r\n    \r\n        public Steuerung()\r\n        {\r\n            DieGUI = new GUI(this);\r\n            Str();\r\n        }\r\n    \r\n        public void Str()\r\n        {\r\n            DieGUI.createGUI();\r\n        }\r\n    \r\n    }\r\n\r\n## GUI:\r\n\r\n    public class GUI extends AppCompatActivity{private Steuerung steuerung;\r\n    public GUI()\r\n    {}\r\n    \r\n    public GUI(Steuerung steuerung)\r\n    {\r\n        this.steuerung = steuerung;\r\n    }\r\n    \r\n    public void createGUI()\r\n    {\r\n        TextView txtfeld = (TextView) findViewById(R.id.TextMitte);\r\n        txtfeld.setText(&quot;Loaded&quot;); //As soon as i Use this Code i get the Error\r\n    }\r\n    }\r\n\r\n## Main Activity (named &quot;activity_load&quot;)\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n----------\r\n\r\n----------\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;xmlns:tools=&quot;http://schemas.android.com/tools&quot;android:layout_width=&quot;match_parent&quot;android:layout_height=&quot;match_parent&quot;tools:context=&quot;.GUI&quot;&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/TextMitte&quot;\r\n        android:layout_width=&quot;136dp&quot;\r\n        android:layout_height=&quot;72dp&quot;\r\n        android:text=&quot;Loading...&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;166dp&quot;\r\n        android:layout_height=&quot;23dp&quot;\r\n        android:text=&quot;Bluetoth App Arduino V1&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/TextMitte&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n## AndroidManifest\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;package=&quot;com.example.androidstudioshit&quot;&gt;&lt;uses-permission android:name=&quot;andriod.permission.BLUETOOTH&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\r\n    \r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\r\n    \r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;BT APP&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AndroidStudioShit&quot;&gt;\r\n    \r\n        &lt;activity\r\n            android:name = &quot;.MAIN&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.GUI&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&gt; I tried to fix it by:\r\n&gt; \\-putting setContentView(R.layout.activity_load); into GUI\r\n&gt; \\-creating Intends (but they might just have been wrong)\r\n&gt; \\-Playing with the references in xml files.\r\n&gt;\r\n&gt; Later in the Programming I dont just want to change the text but also recieve ONClick() from Buttons in GUI.\r\n&gt;\r\n&gt; I thought about just moving GUI MAIN is also not really an Option for me.\r\n&gt;\r\n&gt; I would be happy if you could help me.","title":"How To Access and Modify activity outside OnCreate class","body":"<p>I want to modify the TextField &quot;Mitte&quot; in the class GUI but if i try i get an Error:</p>\n<p>Im new to Android so i struggle with the concepts of intends, activities and OnCreate(), but i understand Java and Objects;</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.androidstudioshit/com.example.androidstudioshit.MAIN}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n</code></pre>\n<p>How My APP is Designed (OOP):</p>\n<h2>Main (just generates Steuerung):</h2>\n<pre><code>public class MAIN extends AppCompatActivity\n{\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        new Steuerung();\n        setContentView(R.layout.activity_load);\n    }\n\n}\n</code></pre>\n<h2>Steuerung (Has a bidirectional Association with GUI):</h2>\n<p>And also A few Associations with other Classes (but i dont think they matter in this context)</p>\n<pre><code>public class Steuerung\n{\n\n    //Attribute\n    private GUI DieGUI;\n    private BT BlT;\n    private Funktionen Fkt;\n\n    public Steuerung()\n    {\n        DieGUI = new GUI(this);\n        Str();\n    }\n\n    public void Str()\n    {\n        DieGUI.createGUI();\n    }\n\n}\n</code></pre>\n<h2>GUI:</h2>\n<pre><code>public class GUI extends AppCompatActivity{private Steuerung steuerung;\npublic GUI()\n{}\n\npublic GUI(Steuerung steuerung)\n{\n    this.steuerung = steuerung;\n}\n\npublic void createGUI()\n{\n    TextView txtfeld = (TextView) findViewById(R.id.TextMitte);\n    txtfeld.setText(&quot;Loaded&quot;); //As soon as i Use this Code i get the Error\n}\n}\n</code></pre>\n<h2>Main Activity (named &quot;activity_load&quot;)</h2>\n\n<hr />\n<hr />\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;xmlns:tools=&quot;http://schemas.android.com/tools&quot;android:layout_width=&quot;match_parent&quot;android:layout_height=&quot;match_parent&quot;tools:context=&quot;.GUI&quot;&gt;\n&lt;TextView\n    android:id=&quot;@+id/TextMitte&quot;\n    android:layout_width=&quot;136dp&quot;\n    android:layout_height=&quot;72dp&quot;\n    android:text=&quot;Loading...&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;166dp&quot;\n    android:layout_height=&quot;23dp&quot;\n    android:text=&quot;Bluetoth App Arduino V1&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/TextMitte&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h2>AndroidManifest</h2>\n\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;package=&quot;com.example.androidstudioshit&quot;&gt;&lt;uses-permission android:name=&quot;andriod.permission.BLUETOOTH&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot;/&gt;\n\n&lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot;/&gt;\n\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;BT APP&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.AndroidStudioShit&quot;&gt;\n\n    &lt;activity\n        android:name = &quot;.MAIN&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=&quot;.GUI&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n<blockquote>\n<p>I tried to fix it by:\n-putting setContentView(R.layout.activity_load); into GUI\n-creating Intends (but they might just have been wrong)\n-Playing with the references in xml files.</p>\n<p>Later in the Programming I dont just want to change the text but also recieve ONClick() from Buttons in GUI.</p>\n<p>I thought about just moving GUI MAIN is also not really an Option for me.</p>\n<p>I would be happy if you could help me.</p>\n</blockquote>\n"},{"tags":["java","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648139207,"creation_date":1648139207,"answer_id":71606034,"question_id":71605945,"body_markdown":"You must use the `@Where` annotation:\r\n\r\n\r\n    @ManyToOne\r\n    @Where(clause = &quot;linked_entity_type = &#39;TableA&#39;&quot;)\r\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n    private TableA tableA;\r\n\r\n    @ManyToOne\r\n    @Where(clause = &quot;linked_entity_type = &#39;TableB&#39;&quot;)\r\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n    private TableB tableB;\r\n\r\nSource: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where\r\n\r\n","title":"JPA modeling of FK pointing to various tables","body":"<p>You must use the <code>@Where</code> annotation:</p>\n<pre><code>@ManyToOne\n@Where(clause = &quot;linked_entity_type = 'TableA'&quot;)\n@JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\nprivate TableA tableA;\n\n@ManyToOne\n@Where(clause = &quot;linked_entity_type = 'TableB'&quot;)\n@JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\nprivate TableB tableB;\n</code></pre>\n<p>Source: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#pc-where</a></p>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71606034,"answer_count":1,"score":1,"last_activity_date":1648139207,"creation_date":1648138849,"question_id":71605945,"body_markdown":"There&#39;s a table with a &quot;FK&quot; column whose values might point back to either TableA or TableB, something like this:\r\n\r\n    CREATE TABLE TableC (\r\n      &quot;id&quot; bigint GENERATED BY DEFAULT AS IDENTITY,\r\n      &quot;linked_entity_id&quot; integer,\r\n      &quot;linked_entity_type&quot; varchar(15),\r\n      ...other columns\r\n      PRIMARY KEY (&quot;id&quot;)\r\n    );\r\n\r\nI&#39;m struggling with representing this in JPA. I&#39;d like to have both TableA and TableB entities in JPA to have a List&lt;TableC&gt;. Is there a way to do this?\r\n\r\nThis is my attempt, having TableC entity modeled like this:\r\n\r\n    @Entity\r\n    public class TableC {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private Long linkedEntityId;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private LinkedEntityType linkedEntityType;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n        private TableA tableA;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\r\n        private TableB tableB;\r\n    \r\n    }\r\n\r\nBut, what happens when the TableC has a row whose id in the linked_entity_id column belongs to TableA id not to TableB? I think an exception would be thrown.\r\n\r\nPS: TableA and TableB do not have anything in common.","title":"JPA modeling of FK pointing to various tables","body":"<p>There's a table with a &quot;FK&quot; column whose values might point back to either TableA or TableB, something like this:</p>\n<pre><code>CREATE TABLE TableC (\n  &quot;id&quot; bigint GENERATED BY DEFAULT AS IDENTITY,\n  &quot;linked_entity_id&quot; integer,\n  &quot;linked_entity_type&quot; varchar(15),\n  ...other columns\n  PRIMARY KEY (&quot;id&quot;)\n);\n</code></pre>\n<p>I'm struggling with representing this in JPA. I'd like to have both TableA and TableB entities in JPA to have a List. Is there a way to do this?</p>\n<p>This is my attempt, having TableC entity modeled like this:</p>\n<pre><code>@Entity\npublic class TableC {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long linkedEntityId;\n\n    @Enumerated(EnumType.STRING)\n    private LinkedEntityType linkedEntityType;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\n    private TableA tableA;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;linked_entity_id&quot;, referencedColumnName = &quot;id&quot;, insertable=false, updateable=false)\n    private TableB tableB;\n\n}\n</code></pre>\n<p>But, what happens when the TableC has a row whose id in the linked_entity_id column belongs to TableA id not to TableB? I think an exception would be thrown.</p>\n<p>PS: TableA and TableB do not have anything in common.</p>\n"},{"tags":["java","arrays","match"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648133179,"post_id":71604367,"comment_id":126551635,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648134358,"creation_date":1648134358,"answer_id":71604898,"question_id":71604367,"body_markdown":"This function returns `true` if the given start position is a downwards diagonal (as drawn in your picture, advancing left-to-right) of length `s` full of character `c`. \r\n\r\n    public static void isFullDownDiagonal(char[][] board, \r\n             int startCol, int startRow, int s, char c) {\r\n\r\n       for (int i=0; i&lt;s; i++) {\r\n          if (board[startRow+i][startCol+i] != c) return false; \r\n                         //  \\_ change this sign to test up diagonal         \r\n       }\r\n       return true;\r\n    }\r\n\r\n\r\nWith a small change you can test for the upwards diagonal. And in an `NxN`board there can only be starts-of-diagonal in a `(N-s+1)x(N-s+1)` area at the top-left and bottom-corners.","title":"cross match 2d array","body":"<p>This function returns <code>true</code> if the given start position is a downwards diagonal (as drawn in your picture, advancing left-to-right) of length <code>s</code> full of character <code>c</code>.</p>\n<pre><code>public static void isFullDownDiagonal(char[][] board, \n         int startCol, int startRow, int s, char c) {\n\n   for (int i=0; i&lt;s; i++) {\n      if (board[startRow+i][startCol+i] != c) return false; \n                     //  \\_ change this sign to test up diagonal         \n   }\n   return true;\n}\n</code></pre>\n<p>With a small change you can test for the upwards diagonal. And in an <code>NxN</code>board there can only be starts-of-diagonal in a <code>(N-s+1)x(N-s+1)</code> area at the top-left and bottom-corners.</p>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648139012,"creation_date":1648136383,"answer_id":71605387,"question_id":71604367,"body_markdown":"You can use `IntStream` to check if the diagonals have only `&#39;*&#39;`:\r\n\r\n    public static boolean checkDiagonals(char[][] arr) {\r\n        int dimension = arr.length;\r\n        return IntStream.range(0, dimension)\r\n                .allMatch(i -&gt; arr[i][i] == &#39;*&#39;) \r\n        || IntStream.range(0, dimension)\r\n                .allMatch(i -&gt; arr[i][dimension - i - 1] == &#39;*&#39;);\r\n    }","title":"cross match 2d array","body":"<p>You can use <code>IntStream</code> to check if the diagonals have only <code>'*'</code>:</p>\n<pre><code>public static boolean checkDiagonals(char[][] arr) {\n    int dimension = arr.length;\n    return IntStream.range(0, dimension)\n            .allMatch(i -&gt; arr[i][i] == '*') \n    || IntStream.range(0, dimension)\n            .allMatch(i -&gt; arr[i][dimension - i - 1] == '*');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137836,"creation_date":1648137836,"answer_id":71605715,"question_id":71604367,"body_markdown":"Another one...\r\n\r\n      public static void main(String[] args) {       \r\n        char[][] char2d={\r\n          {&#39;*&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;},\r\n          {&#39;o&#39;,&#39;*&#39;,&#39;o&#39;,&#39;o&#39;},\r\n          {&#39;o&#39;,&#39;o&#39;,&#39;*&#39;,&#39;o&#39;},\r\n          {&#39;o&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;}\r\n        };\r\n        System.out.println(hasCross(char2d, &#39;*&#39;));\r\n      }\r\n    \r\n      public static boolean hasCross(char[][] board, char c) {\r\n        // Assumes a SQUARE board!\r\n        boolean crossA = true;\r\n        boolean crossB = true;\r\n        for(int col=0, rowA=0, rowB=(board.length-1); col&lt;board.length; col++, rowA++, rowB--) {\r\n          if (board[rowA][col]!=c) {\r\n            crossA = false;\r\n          }\r\n          if (board[rowB][col]!=c) {\r\n            crossB = false;\r\n          }\r\n        }\r\n        return crossA || crossB;\r\n      }\r\n\r\n","title":"cross match 2d array","body":"<p>Another one...</p>\n<pre><code>  public static void main(String[] args) {       \n    char[][] char2d={\n      {'*','o','o','*'},\n      {'o','*','o','o'},\n      {'o','o','*','o'},\n      {'o','o','o','*'}\n    };\n    System.out.println(hasCross(char2d, '*'));\n  }\n\n  public static boolean hasCross(char[][] board, char c) {\n    // Assumes a SQUARE board!\n    boolean crossA = true;\n    boolean crossB = true;\n    for(int col=0, rowA=0, rowB=(board.length-1); col&lt;board.length; col++, rowA++, rowB--) {\n      if (board[rowA][col]!=c) {\n        crossA = false;\n      }\n      if (board[rowB][col]!=c) {\n        crossB = false;\n      }\n    }\n    return crossA || crossB;\n  }\n</code></pre>\n"}],"owner":{"account_id":17550370,"reputation":1,"user_id":18531553,"display_name":"mohammad mohammadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1648139012,"creation_date":1648132290,"question_id":71604367,"body_markdown":"trying to implement a bigger scale of tic tac toe game\r\n\r\nthis game can have more than 3 rows and columns\r\n\r\nwhenever a 4 consecutive pattern is found(horizantal,vertical or cross)\r\n\r\nthe player is the winner\r\n\r\ni already found the horizantal and vertical mathcing implemantation\r\n\r\nbut can&#39;t find a way to identify the cross pattern of a certain charcter inside a 2d array\r\n\r\nconsider the following 2d array\r\n\r\n\\`\r\n\r\n            char[][] char2d={\r\n                {&#39;*&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;},\r\n                {&#39;o&#39;,&#39;*&#39;,&#39;o&#39;,&#39;o&#39;},\r\n                {&#39;o&#39;,&#39;o&#39;,&#39;*&#39;,&#39;o&#39;},\r\n                {&#39;o&#39;,&#39;o&#39;,&#39;o&#39;,&#39;*&#39;}\r\n        }\r\n\r\n\\`\r\n\r\nhow can i check if the &#39;\\*&#39; character has four consecutive cross pattern in this 2d array","title":"cross match 2d array","body":"<p>trying to implement a bigger scale of tic tac toe game</p>\n<p>this game can have more than 3 rows and columns</p>\n<p>whenever a 4 consecutive pattern is found(horizantal,vertical or cross)</p>\n<p>the player is the winner</p>\n<p>i already found the horizantal and vertical mathcing implemantation</p>\n<p>but can't find a way to identify the cross pattern of a certain charcter inside a 2d array</p>\n<p>consider the following 2d array</p>\n<p>`</p>\n<pre><code>        char[][] char2d={\n            {'*','o','o','*'},\n            {'o','*','o','o'},\n            {'o','o','*','o'},\n            {'o','o','o','*'}\n    }\n</code></pre>\n<p>`</p>\n<p>how can i check if the '*' character has four consecutive cross pattern in this 2d array</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":0,"creation_date":1648117777,"post_id":71598958,"comment_id":126545104,"body_markdown":"Please see https://stackoverflow.com/help/minimal-reproducible-example","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5747167,"reputation":316,"user_id":4538070,"display_name":"KevinC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648137790,"creation_date":1648137790,"answer_id":71605701,"question_id":71598958,"body_markdown":"Create a JdbcTemplate for each Datasource in your config class. Then, inject those JdbcTemplate beans into the appropriate Repository class. \r\n\r\nYou should not be instantiating classes that are managed by Spring, except in config classes.","title":"Using multiple DataSources in Spring","body":"<p>Create a JdbcTemplate for each Datasource in your config class. Then, inject those JdbcTemplate beans into the appropriate Repository class.</p>\n<p>You should not be instantiating classes that are managed by Spring, except in config classes.</p>\n"},{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648138809,"creation_date":1648138809,"answer_id":71605936,"question_id":71598958,"body_markdown":"You have to inject datasource to Repository class. If you call db.getDatasource() then each call creates datasource.\r\n\r\n    class Repository{\r\n    \r\n       private final Datasource dtSource;\r\n       private final JdbcTemplate jdbcTemplate;\r\n       public Repository(@Qualifier(&quot;mydatasource&quot;) Datasource dtSource){\r\n          This.jdbcTemplate = new JdbcTemplate(dtSource);\r\n       }\r\n    }\r\n\r\nSimply you can inject beans with @Bean annotated method. It creates bean in spring context","title":"Using multiple DataSources in Spring","body":"<p>You have to inject datasource to Repository class. If you call db.getDatasource() then each call creates datasource.</p>\n<pre><code>class Repository{\n\n   private final Datasource dtSource;\n   private final JdbcTemplate jdbcTemplate;\n   public Repository(@Qualifier(&quot;mydatasource&quot;) Datasource dtSource){\n      This.jdbcTemplate = new JdbcTemplate(dtSource);\n   }\n}\n</code></pre>\n<p>Simply you can inject beans with @Bean annotated method. It creates bean in spring context</p>\n"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605701,"answer_count":2,"score":0,"last_activity_date":1648138809,"creation_date":1648109568,"question_id":71598958,"body_markdown":"I have built a web app in Spring. Till now I have managed to connect to only one datasource but I need to connect to two Datasources.\r\n\r\nHere is the code:\r\n\r\nDbConfig class:\r\n\r\n   \r\n\r\n     @Configuration\r\n    public class DbConfig {\r\n        \r\n        @Bean\r\n        @Primary\r\n        public DataSource dataSourceMail() {\r\n        \r\n           \r\n                \r\n            HikariConfig config = new HikariConfig();\r\n            config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            config.setJdbcUrl(&quot;jdbc:oracle:thin:@1&quot;);\r\n            config.setUsername(&quot;xxx&quot;);\r\n            config.setPassword(&quot;xxx&quot;);\r\n            config.setConnectionTimeout(20000);\r\n            config.setMaximumPoolSize(100);\r\n            config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\r\n            \r\n            \r\n            return new HikariDataSource(config);\r\n        }\r\n        \r\n        @Bean(name=&quot;inregIvg&quot;)\r\n        public DataSource dataSourceInregIvg() {\r\n            \r\n            HikariConfig config = new HikariConfig();\r\n            config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\r\n            config.setJdbcUrl(&quot;jdbc:oracle:thin:@2&quot;);\r\n            config.setUsername(&quot;yyy&quot;);\r\n            config.setPassword(&quot;yyy&quot;);\r\n            config.setConnectionTimeout(20000);\r\n            config.setMaximumPoolSize(100);\r\n            config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\r\n            config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\r\n            \r\n            \r\n            return new HikariDataSource(config);\r\n            \r\n        }\r\n    }\r\n\r\nRepository:\r\n\r\n        @Repository\r\n    public class TelefonMailRepository {\r\n          \r\n        \r\n        \r\n      \r\n        \r\n        public List&lt;Map&lt;String, Object&gt;&gt; findByNumber(String telefon){\r\n            DbConfig dbc = new DbConfig();\r\n            \r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceInregIvg());\r\n        List&lt;Map&lt;String, Object&gt;&gt; info1 = jdbcTemplate.queryForList(&quot;select cif, den_client from b101_conturi where telefon=?&quot;, telefon);\r\n       \r\n       return info1;\r\n        \r\n        }\r\n        \r\n        \r\n        \r\n        public Map&lt;String, Object&gt; findByNumber2(String telefon) {\r\n            \r\n            DbConfig dbc = new DbConfig();\r\n            \r\n            String query2 = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceMail());\r\n            Map&lt;String, Object&gt; info = jdbcTemplate.queryForMap(query2,telefon);\r\n            \r\n            return info;\r\n                    \r\n        } }\r\n\r\nService:\r\n\r\n        @Service\r\n    public class TelefonMailService {\r\n        \r\n    @Autowired    \r\n    private TelefonMailRepository repository;\r\n    \r\n    \r\n    \r\n    public List&lt;Map&lt;String, Object&gt;&gt; getRaspuns(String telefon) {\r\n       \r\n        \r\n        List&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\r\n    \r\n        \r\n        \r\n    mapList = repository.findByNumber(telefon);\r\n    \r\n        return mapList;\r\n     \r\n    }\r\n    \r\n    public Raspuns getRaspunsB(String telefon) {\r\n        \r\n        Map&lt;String, Object&gt; map = repository.findByNumber2(telefon);\r\n        \r\n        String cnp = (String)map.get(&quot;cnp&quot;).toString();\r\n        String nume = (String)map.get(&quot;nume&quot;);\r\n        String prenume = (String)map.get(&quot;prenume&quot;);\r\n        \r\n        Raspuns raspuns = new Raspuns();\r\n        raspuns.setCnp(cnp);\r\n        raspuns.setNume(nume);\r\n        raspuns.setPrenume(prenume);\r\n        \r\n        return raspuns;\r\n        \r\n    } }\r\n\r\nController:\r\n\r\n    @PostMapping(&quot;/raspuns&quot;)\r\n    public String postDbRequest(@RequestParam(&quot;text2&quot;)String telefon, Model model) {\r\n    \r\n        Raspuns x = service.getRaspunsB(telefon);\r\n        model.addAttribute(&quot;raspuns&quot;, x);\r\n     \r\n      \r\n       List&lt;Map&lt;String, Object&gt;&gt; mapList = service.getRaspuns(telefon);\r\n        model.addAttribute(&quot;map_list&quot;,mapList);\r\n     \r\n      \r\n        \r\n       \r\n        return &quot;raspuns&quot;;\r\n    }}\r\n\r\nData class:\r\n\r\n        import lombok.Data;\r\n    \r\n    \r\n    @Data\r\n    public class Raspuns {\r\n        \r\n     private String cnp;\r\n       \r\n     private String nume;\r\n       \r\n     private String prenume;\r\n     \r\n     private String cif;\r\n     \r\n     private String den_client;\r\n        \r\n    }\r\n\r\nThymeleaf index.html class:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\r\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\r\n    &lt;!-- Read CSS --&gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\r\n    &lt;!-- Read JS --&gt;\r\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body class =&quot;bg-light&quot; &gt;\r\n        &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\r\n    &lt;div class =&quot;text-center&quot; &gt;\r\n    &lt;form method =&quot;post&quot; action =&quot;/raspuns&quot; &gt;\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;input type =&quot;number&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot; th:value =&quot;${text2_value}&quot; placeholder=&quot;Numar telefon&quot;/&gt;\r\n        \r\n        &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n    &lt;/div&gt;\r\n        &lt;/form&gt;\r\n        &lt;br&gt;&lt;/br&gt;\r\n    &lt;form method =&quot;post&quot; action =&quot;/raspuns2&quot; &gt;\r\n        &lt;div class =&quot;form-group&quot; &gt;\r\n    &lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; th:value=&quot;${email_value}&quot;\r\n    name =&quot;email&quot; /&gt;\r\n    \r\n    &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\r\n    &lt;/div&gt;\r\n        \r\n    &lt;/form&gt;\r\n    \r\n    &lt;/div&gt;\r\n       \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThymleaf html response and display answer class:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\r\n    &lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\r\n    &lt;!-- Read CSS --&gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\r\n    &lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\r\n    &lt;!-- Read JS --&gt;\r\n    &lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\r\n    &lt;title&gt; Cautare telefon sau email&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;form  action=&quot;/&quot;&gt;\r\n        &lt;button class =&quot;btn btn-primary&quot;&gt;Acasa&lt;/button&gt;    \r\n        &lt;/form&gt;\r\n    &lt;h1&gt; Cautare telefon&lt;/h1&gt;\r\n    \r\n    &lt;table class=&quot;table&quot;&gt;\r\n        \r\n      &lt;tbody&gt;\r\n        &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\r\n    &lt;td&gt; CNP:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${map.get(&#39;cif&#39;)}&quot; &gt;&lt;/td&gt;\r\n    &lt;td&gt; Nume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${map.get(&#39;den_client&#39;)}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    \r\n    \r\n    \r\n    \r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n    &lt;table&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; CNP:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.cnp}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; Nume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.nume}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt; Prenume:&lt;/td&gt;\r\n    &lt;td th:text =&quot;${raspuns.prenume}&quot; &gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nYesterday I interogated a phone number that exists in database A and I received answer and when I interogated database B it gave me no results. Today I did a build and clean and when I interogated database B it gave me a response but from database A did not give me an answer it gave me no results. I do not understand how and why it does not connect to both databases at once. Thanks\r\n\r\n","title":"Using multiple DataSources in Spring","body":"<p>I have built a web app in Spring. Till now I have managed to connect to only one datasource but I need to connect to two Datasources.</p>\n<p>Here is the code:</p>\n<p>DbConfig class:</p>\n<pre><code> @Configuration\npublic class DbConfig {\n    \n    @Bean\n    @Primary\n    public DataSource dataSourceMail() {\n    \n       \n            \n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@1&quot;);\n        config.setUsername(&quot;xxx&quot;);\n        config.setPassword(&quot;xxx&quot;);\n        config.setConnectionTimeout(20000);\n        config.setMaximumPoolSize(100);\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\n        \n        \n        return new HikariDataSource(config);\n    }\n    \n    @Bean(name=&quot;inregIvg&quot;)\n    public DataSource dataSourceInregIvg() {\n        \n        HikariConfig config = new HikariConfig();\n        config.setDriverClassName(&quot;oracle.jdbc.OracleDriver&quot;);\n        config.setJdbcUrl(&quot;jdbc:oracle:thin:@2&quot;);\n        config.setUsername(&quot;yyy&quot;);\n        config.setPassword(&quot;yyy&quot;);\n        config.setConnectionTimeout(20000);\n        config.setMaximumPoolSize(100);\n        config.addDataSourceProperty(&quot;cachePrepStmts&quot;, &quot;true&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSize&quot;, &quot;250&quot;);\n        config.addDataSourceProperty(&quot;prepStmtCacheSqlLimit&quot;, &quot;2048&quot;);\n        \n        \n        return new HikariDataSource(config);\n        \n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>    @Repository\npublic class TelefonMailRepository {\n      \n    \n    \n  \n    \n    public List&lt;Map&lt;String, Object&gt;&gt; findByNumber(String telefon){\n        DbConfig dbc = new DbConfig();\n        \n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceInregIvg());\n    List&lt;Map&lt;String, Object&gt;&gt; info1 = jdbcTemplate.queryForList(&quot;select cif, den_client from b101_conturi where telefon=?&quot;, telefon);\n   \n   return info1;\n    \n    }\n    \n    \n    \n    public Map&lt;String, Object&gt; findByNumber2(String telefon) {\n        \n        DbConfig dbc = new DbConfig();\n        \n        String query2 = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dbc.dataSourceMail());\n        Map&lt;String, Object&gt; info = jdbcTemplate.queryForMap(query2,telefon);\n        \n        return info;\n                \n    } }\n</code></pre>\n<p>Service:</p>\n<pre><code>    @Service\npublic class TelefonMailService {\n    \n@Autowired    \nprivate TelefonMailRepository repository;\n\n\n\npublic List&lt;Map&lt;String, Object&gt;&gt; getRaspuns(String telefon) {\n   \n    \n    List&lt;Map&lt;String, Object&gt;&gt; mapList = new ArrayList&lt;&gt;();\n\n    \n    \nmapList = repository.findByNumber(telefon);\n\n    return mapList;\n \n}\n\npublic Raspuns getRaspunsB(String telefon) {\n    \n    Map&lt;String, Object&gt; map = repository.findByNumber2(telefon);\n    \n    String cnp = (String)map.get(&quot;cnp&quot;).toString();\n    String nume = (String)map.get(&quot;nume&quot;);\n    String prenume = (String)map.get(&quot;prenume&quot;);\n    \n    Raspuns raspuns = new Raspuns();\n    raspuns.setCnp(cnp);\n    raspuns.setNume(nume);\n    raspuns.setPrenume(prenume);\n    \n    return raspuns;\n    \n} }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/raspuns&quot;)\npublic String postDbRequest(@RequestParam(&quot;text2&quot;)String telefon, Model model) {\n\n    Raspuns x = service.getRaspunsB(telefon);\n    model.addAttribute(&quot;raspuns&quot;, x);\n \n  \n   List&lt;Map&lt;String, Object&gt;&gt; mapList = service.getRaspuns(telefon);\n    model.addAttribute(&quot;map_list&quot;,mapList);\n \n  \n    \n   \n    return &quot;raspuns&quot;;\n}}\n</code></pre>\n<p>Data class:</p>\n<pre><code>    import lombok.Data;\n\n\n@Data\npublic class Raspuns {\n    \n private String cnp;\n   \n private String nume;\n   \n private String prenume;\n \n private String cif;\n \n private String den_client;\n    \n}\n</code></pre>\n<p>Thymeleaf index.html class:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n&lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\n&lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\n&lt;!-- Read CSS --&gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\n&lt;!-- Read JS --&gt;\n&lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;title&gt; Cautare telefon sau e-mail&lt;/title&gt;\n&lt;/head&gt;\n&lt;body class =&quot;bg-light&quot; &gt;\n    &lt;h2 text-align=&quot;center&quot;&gt;Cautare telefon sau email&lt;/h2&gt;\n&lt;div class =&quot;text-center&quot; &gt;\n&lt;form method =&quot;post&quot; action =&quot;/raspuns&quot; &gt;\n&lt;div class=&quot;form-group&quot;&gt;\n    &lt;input type =&quot;number&quot; minlength=&quot;10&quot; maxlength=&quot;10&quot; class=&quot;form-control&quot; name =&quot;text2&quot; th:value =&quot;${text2_value}&quot; placeholder=&quot;Numar telefon&quot;/&gt;\n    \n    &lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n&lt;/div&gt;\n    &lt;/form&gt;\n    &lt;br&gt;&lt;/br&gt;\n&lt;form method =&quot;post&quot; action =&quot;/raspuns2&quot; &gt;\n    &lt;div class =&quot;form-group&quot; &gt;\n&lt;input type =&quot;email&quot; class =&quot;form-control&quot; placeholder =&quot;Adresa email&quot; th:value=&quot;${email_value}&quot;\nname =&quot;email&quot; /&gt;\n\n&lt;input type =&quot;submit&quot; value =&quot;Cauta&quot; class =&quot;btn btn-primary&quot; margin-top=&quot;2%&quot;/&gt;\n&lt;/div&gt;\n    \n&lt;/form&gt;\n\n&lt;/div&gt;\n   \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Thymleaf html response and display answer class:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th =&quot;http://www.thymeleaf.org&quot; &gt;\n&lt;head&gt;\n&lt;meta charset =&quot;UTF-8&quot; &gt;&lt;/meta&gt;\n&lt;meta name =&quot;viewport&quot; content =&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot; &gt;\n&lt;!-- Read CSS --&gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; &gt;\n&lt;link rel =&quot;stylesheet&quot; th:href =&quot;@{/stil.css}&quot; &gt;\n&lt;!-- Read JS --&gt;\n&lt;script th:src =&quot;@{/webjars/jquery/jquery.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;script th:src =&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot; defer &gt;&lt;/script&gt;\n&lt;title&gt; Cautare telefon sau email&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form  action=&quot;/&quot;&gt;\n    &lt;button class =&quot;btn btn-primary&quot;&gt;Acasa&lt;/button&gt;    \n    &lt;/form&gt;\n&lt;h1&gt; Cautare telefon&lt;/h1&gt;\n\n&lt;table class=&quot;table&quot;&gt;\n    \n  &lt;tbody&gt;\n    &lt;tr th:each=&quot;map : ${map_list}&quot; &gt;\n&lt;td&gt; CNP:&lt;/td&gt;\n&lt;td th:text =&quot;${map.get('cif')}&quot; &gt;&lt;/td&gt;\n&lt;td&gt; Nume:&lt;/td&gt;\n&lt;td th:text =&quot;${map.get('den_client')}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;table&gt;\n&lt;tr&gt;\n&lt;td&gt; CNP:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.cnp}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt; Nume:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.nume}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt; Prenume:&lt;/td&gt;\n&lt;td th:text =&quot;${raspuns.prenume}&quot; &gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Yesterday I interogated a phone number that exists in database A and I received answer and when I interogated database B it gave me no results. Today I did a build and clean and when I interogated database B it gave me a response but from database A did not give me an answer it gave me no results. I do not understand how and why it does not connect to both databases at once. Thanks</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648028437,"post_id":71584711,"comment_id":126517940,"body_markdown":"please try to be a bit more clear.","body":"please try to be a bit more clear."},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1648029608,"post_id":71584711,"comment_id":126518399,"body_markdown":"I have my list that appears with about fifty names and I would like that instead of manually looking for its position by scrolling the recycleview that it focuses directly on the player&#39;s line but always keeping the previous and next lines it is why do a search does not interest me because I would only have the line requested and not the others\n\nthank you","body":"I have my list that appears with about fifty names and I would like that instead of manually looking for its position by scrolling the recycleview that it focuses directly on the player&#39;s line but always keeping the previous and next lines it is why do a search does not interest me because I would only have the line requested and not the others  thank you"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1648045486,"post_id":71584711,"comment_id":126525075,"body_markdown":"Do you want your recycler view to scroll to specific position?","body":"Do you want your recycler view to scroll to specific position?"},{"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"score":0,"creation_date":1648057547,"post_id":71584711,"comment_id":126530387,"body_markdown":"yes thats what i want to do thank you","body":"yes thats what i want to do thank you"}],"answers":[{"tags":[],"owner":{"account_id":16009437,"reputation":55,"user_id":18441288,"display_name":"pak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648138802,"creation_date":1648050970,"answer_id":71590295,"question_id":71584711,"body_markdown":"Your question is quite confuse. But... As per my understanding to your question, you have a list and you want to show it in recyclerview by username.\r\n\r\nIf I am right, \r\n\r\n```\r\nList&lt;String&gt; playerList = Arrays.asList(&quot;Ozil&quot;, &quot;Odegard&quot;, &quot;Son&quot;, &quot;Kane&quot;, &quot;Neymar&quot;);  \r\nList&lt;String&gt; sortedList =playerList.stream().sorted().collect(Collectors.toList());     \r\n\r\n//this will sort the list by name order and you can just simply attach it to recycler view\r\n```\r\n\r\nPlease tell me if my understanding is wrong.\r\n\r\n\r\n**EDIT**\r\n\r\nI see. You want to scroll to the specific position. If you can simply get the Username, do like this.\r\n\r\n```\r\nint index = userList.indexOf(&quot;user1&quot;); //this will return index of the user1\r\n\r\nrv.getLayoutManager().scrollToPosition(index); //this will scroll to user1 position automatically\r\n\r\n```\r\n\r\nThe above code will scroll to the User1 position. But User1 will not at position 1. I mean you can scroll up if you want.  To show User1 at the top of the list, please do the following.\r\n\r\n```\r\nint index = userList.indexOf(&quot;user1&quot;);\r\n\r\nuserList.remove(index); // will remove user1\r\nuserList.add(0,&quot;user1); //will add user1 add the top\r\n\r\n```\r\n","title":"How in a recycleview started the view by a condition","body":"<p>Your question is quite confuse. But... As per my understanding to your question, you have a list and you want to show it in recyclerview by username.</p>\n<p>If I am right,</p>\n<pre><code>List&lt;String&gt; playerList = Arrays.asList(&quot;Ozil&quot;, &quot;Odegard&quot;, &quot;Son&quot;, &quot;Kane&quot;, &quot;Neymar&quot;);  \nList&lt;String&gt; sortedList =playerList.stream().sorted().collect(Collectors.toList());     \n\n//this will sort the list by name order and you can just simply attach it to recycler view\n</code></pre>\n<p>Please tell me if my understanding is wrong.</p>\n<p><strong>EDIT</strong></p>\n<p>I see. You want to scroll to the specific position. If you can simply get the Username, do like this.</p>\n<pre><code>int index = userList.indexOf(&quot;user1&quot;); //this will return index of the user1\n\nrv.getLayoutManager().scrollToPosition(index); //this will scroll to user1 position automatically\n\n</code></pre>\n<p>The above code will scroll to the User1 position. But User1 will not at position 1. I mean you can scroll up if you want.  To show User1 at the top of the list, please do the following.</p>\n<pre><code>int index = userList.indexOf(&quot;user1&quot;);\n\nuserList.remove(index); // will remove user1\nuserList.add(0,&quot;user1); //will add user1 add the top\n\n</code></pre>\n"}],"owner":{"account_id":19830252,"reputation":37,"user_id":14525009,"display_name":"dragon sly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648138802,"creation_date":1648027535,"question_id":71584711,"body_markdown":"I have a recycleview which works perfectly I go through an adapter.\r\n\r\n on the other hand I would like this view to be displayed not at position 0 but at a position following the name, it is to make a classification by player and I do not see how to do it, searching in the recycleview is not the solution because it does not display the results before and after.\r\n\r\n\r\nI think it is in the adapter that you have to modify the code attached\r\n\r\nThank you for your help\r\n\r\n    public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\r\n\r\n    private Context mContext;\r\n    private List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public RecyclerAdapter (Context context,List&lt;Product&gt; products){\r\n        this.mContext = context;\r\n        this.products = products;\r\n    }\r\n\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView mTitle, mPrice,mPosition;\r\n     /*   private ImageView mImageView;*/\r\n        private RatingBar mRate;\r\n        private LinearLayout mContainer;\r\n\r\n        public MyViewHolder (View view){\r\n            super(view);\r\n\r\n            mTitle = view.findViewById(R.id.product_title);\r\n      /*      mImageView = view.findViewById(R.id.product_image);*/\r\n\r\n            mPrice = view.findViewById(R.id.product_price);\r\n            mContainer = view.findViewById(R.id.product_container);\r\n       mPosition=view.findViewById(R.id.position);\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(mContext).inflate(R.layout.products_list_item_layout,parent,false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        final Product product = products.get(position);\r\n\r\n        holder.mPosition.setText(position+1+&quot;&quot;);\r\n        holder.mPrice.setText(product.getNom());\r\n\r\n        holder.mTitle.setText(product.getPoint());\r\n       /* Glide.with(mContext).load(product.getImage()).into(holder.mImageView);*/\r\n\r\n\r\n\r\n    }","title":"How in a recycleview started the view by a condition","body":"<p>I have a recycleview which works perfectly I go through an adapter.</p>\n<p>on the other hand I would like this view to be displayed not at position 0 but at a position following the name, it is to make a classification by player and I do not see how to do it, searching in the recycleview is not the solution because it does not display the results before and after.</p>\n<p>I think it is in the adapter that you have to modify the code attached</p>\n<p>Thank you for your help</p>\n<pre><code>public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt; {\n\nprivate Context mContext;\nprivate List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n\n\npublic RecyclerAdapter (Context context,List&lt;Product&gt; products){\n    this.mContext = context;\n    this.products = products;\n}\n\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n\n    private TextView mTitle, mPrice,mPosition;\n /*   private ImageView mImageView;*/\n    private RatingBar mRate;\n    private LinearLayout mContainer;\n\n    public MyViewHolder (View view){\n        super(view);\n\n        mTitle = view.findViewById(R.id.product_title);\n  /*      mImageView = view.findViewById(R.id.product_image);*/\n\n        mPrice = view.findViewById(R.id.product_price);\n        mContainer = view.findViewById(R.id.product_container);\n   mPosition=view.findViewById(R.id.position);\n\n\n    }\n}\n\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(mContext).inflate(R.layout.products_list_item_layout,parent,false);\n    return new MyViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n    final Product product = products.get(position);\n\n    holder.mPosition.setText(position+1+&quot;&quot;);\n    holder.mPrice.setText(product.getNom());\n\n    holder.mTitle.setText(product.getPoint());\n   /* Glide.with(mContext).load(product.getImage()).into(holder.mImageView);*/\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"answers":[{"tags":[],"owner":{"account_id":3385568,"reputation":183,"user_id":2841597,"display_name":"vishal"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1446301991,"creation_date":1394531531,"answer_id":22322077,"question_id":22245261,"body_markdown":"I have done the multipart file as a input for junit by using [\\[MockMultipartFile\\]][1].\r\n\r\n    FileInputStream inputFile = new FileInputStream( &quot;path of the file&quot;);  \r\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, &quot;NameOfTheFile&quot;, &quot;multipart/form-data&quot;, inputFile); \r\n\r\nnow use the file input as multipart file.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/mock/web/MockMultipartFile.html","title":"How to give the multipart file input in junit","body":"<p>I have done the multipart file as a input for junit by using <a href=\"http://docs.spring.io/spring-framework/docs/2.0.8/api/org/springframework/mock/web/MockMultipartFile.html\" rel=\"noreferrer\">[MockMultipartFile]</a>.</p>\n\n<pre><code>FileInputStream inputFile = new FileInputStream( \"path of the file\");  \nMockMultipartFile file = new MockMultipartFile(\"file\", \"NameOfTheFile\", \"multipart/form-data\", inputFile); \n</code></pre>\n\n<p>now use the file input as multipart file.</p>\n"},{"tags":[],"owner":{"account_id":6010289,"reputation":876,"user_id":4720950,"display_name":"Parameshwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609767611,"creation_date":1609767611,"answer_id":65563656,"question_id":22245261,"body_markdown":"In case of unit test using Mockito, hence only for mocking parameter i added as following no need if file just to mock \r\n\r\n    MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\r\n\r\nAbove code helped in creating mock file just for mocking\r\n\r\nFollowing is the Controller service which am mocking\r\n\r\n\t@RestController\r\n\tpublic class LayerDataController {\r\n\r\n\t\t@PostMapping(value = &quot;/saveOnflyMaplayerdata&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n\t\tpublic Map&lt;String, Object&gt; saveOnflyMaplayerdata(\r\n\t\t\t\t@RequestParam(&quot;name&quot;) String name, \r\n\t\t\t\t@RequestParam(&quot;fileData&quot;) MultipartFile fileData) {\r\n\t\t\ttry {\r\n\t\t\t\tboolean isValidFile = false;\r\n\t\t\t\tif (!fileData.isEmpty()) {\r\n\r\n\t\t\t\t\tString fileName = fileData.getOriginalFilename();\r\n\t\t\t\t\tLOGGER.info(&quot;fileName : &quot; + fileName);\r\n\t\t\t\t\tString filetype = FilenameUtils.getExtension(fileName);\r\n\t\t\t\t\tLOGGER.info(&quot;fileName : &quot; + filetype);\r\n\r\n\t\t\t\t\tswitch (filetype) {\r\n\r\n\t\t\t\t\tcase &quot;csv&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase &quot;kml&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase &quot;kmz&quot;:\r\n\t\t\t\t\t\tisValidFile = true;\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tisValidFile = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (isValidFile) {\r\n\t\t\t\t\t\t//call save method\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\t\t\t\t\t\tresponse.put(&quot;status&quot;, false);\r\n\t\t\t\t\t\tresponse.put(&quot;err_msg&quot;, &quot;Unexpected Filetype/extection failed uploading&quot;);\r\n\t\t\t\t\t\treturn response;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tLOGGER.error(e);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\nTestcase written using Mockito (Mocking multipart file)\r\n\r\n\timport java.util.HashMap;\r\n\timport java.util.Map;\r\n\timport org.junit.Before;\r\n\timport org.junit.Test;\r\n\timport org.junit.runner.RunWith;\r\n\timport org.mockito.InjectMocks;\r\n\timport org.mockito.Mock;\r\n\timport org.mockito.Mockito;\r\n\timport org.mockito.MockitoAnnotations;\r\n\timport org.mockito.junit.MockitoJUnitRunner;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.mock.web.MockMultipartFile;\r\n\timport org.springframework.web.multipart.MultipartFile;\r\n\timport com.example.service.OnflyFileSave;\r\n\r\n\t@RunWith(MockitoJUnitRunner.class)\r\n\tpublic class LayerDataControllerTest  {\r\n\r\n\t\t@Mock\r\n\t\tOnflyFileSave onfly;\r\n\t\t\r\n\t\t@InjectMocks\r\n\t\tLayerDataController testclass;\r\n\t\t\r\n\t\t@Before\r\n\t\tpublic void setUp() throws Exception {\r\n\t\t    MockitoAnnotations.initMocks(this);\r\n\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testSaveOnflyMaplayerdataCsv() {\r\n        //no file is path is used as simpley mocking is done just to Mock in method level\r\n\t        MockMultipartFile csvfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.csv&quot;, &quot;text/plain&quot;, &quot;some csv&quot;.getBytes());\r\n\t\t\ttestclass.saveOnflyMaplayerdata(&quot;name&quot;, csvfile);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testSaveOnflyMaplayerdataKml() {\r\n\t        MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\r\n\t\t\ttestclass.saveOnflyMaplayerdata(&quot;name&quot;, kmlfile);\r\n\t\t}\r\n\t}  \r\n\r\nPackage used as following in spring boot\r\n\r\n\t&lt;!-- For Mockito Spring boot --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt; \r\n\t&lt;!-- For Mockito Spring boot --&gt;\r\n\r\n\t&lt;!-- For Mock multipart --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;!-- For Mock multipart --&gt;\r\n\r\n","title":"How to give the multipart file input in junit","body":"<p>In case of unit test using Mockito, hence only for mocking parameter i added as following no need if file just to mock</p>\n<pre><code>MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\n</code></pre>\n<p>Above code helped in creating mock file just for mocking</p>\n<p>Following is the Controller service which am mocking</p>\n<pre><code>@RestController\npublic class LayerDataController {\n\n    @PostMapping(value = &quot;/saveOnflyMaplayerdata&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public Map&lt;String, Object&gt; saveOnflyMaplayerdata(\n            @RequestParam(&quot;name&quot;) String name, \n            @RequestParam(&quot;fileData&quot;) MultipartFile fileData) {\n        try {\n            boolean isValidFile = false;\n            if (!fileData.isEmpty()) {\n\n                String fileName = fileData.getOriginalFilename();\n                LOGGER.info(&quot;fileName : &quot; + fileName);\n                String filetype = FilenameUtils.getExtension(fileName);\n                LOGGER.info(&quot;fileName : &quot; + filetype);\n\n                switch (filetype) {\n\n                case &quot;csv&quot;:\n                    isValidFile = true;\n                    break;\n\n                case &quot;kml&quot;:\n                    isValidFile = true;\n                    break;\n\n                case &quot;kmz&quot;:\n                    isValidFile = true;\n                    break;\n\n                default:\n                    isValidFile = false;\n                    break;\n                }\n\n                if (isValidFile) {\n                    //call save method\n                } else {\n                    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n                    response.put(&quot;status&quot;, false);\n                    response.put(&quot;err_msg&quot;, &quot;Unexpected Filetype/extection failed uploading&quot;);\n                    return response;\n                }\n            }\n        } catch (Exception e) {\n            LOGGER.error(e);\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>Testcase written using Mockito (Mocking multipart file)</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.web.multipart.MultipartFile;\nimport com.example.service.OnflyFileSave;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class LayerDataControllerTest  {\n\n    @Mock\n    OnflyFileSave onfly;\n    \n    @InjectMocks\n    LayerDataController testclass;\n    \n    @Before\n    public void setUp() throws Exception {\n        MockitoAnnotations.initMocks(this);\n\n    }\n\n    @Test\n    public void testSaveOnflyMaplayerdataCsv() {\n    //no file is path is used as simpley mocking is done just to Mock in method level\n        MockMultipartFile csvfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.csv&quot;, &quot;text/plain&quot;, &quot;some csv&quot;.getBytes());\n        testclass.saveOnflyMaplayerdata(&quot;name&quot;, csvfile);\n    }\n\n    @Test\n    public void testSaveOnflyMaplayerdataKml() {\n        MockMultipartFile kmlfile = new MockMultipartFile(&quot;data&quot;, &quot;filename.kml&quot;, &quot;text/plain&quot;, &quot;some kml&quot;.getBytes());\n        testclass.saveOnflyMaplayerdata(&quot;name&quot;, kmlfile);\n    }\n}  \n</code></pre>\n<p>Package used as following in spring boot</p>\n<pre><code>&lt;!-- For Mockito Spring boot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt; \n&lt;!-- For Mockito Spring boot --&gt;\n\n&lt;!-- For Mock multipart --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;!-- For Mock multipart --&gt;\n</code></pre>\n"}],"owner":{"account_id":3385568,"reputation":183,"user_id":2841597,"display_name":"vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22369,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1648138619,"creation_date":1394181633,"question_id":22245261,"body_markdown":"I am using JUnit for testing of Daoimpl. In one of the cases, I need to give an input which is a multipart file. I searched the internet and found that mockmultipartfile is used, but didn&#39;t find any example. Please provide me one for better understanding. \r\n\r\nI am using **spring** and **JUnit 4.11**","title":"How to give the multipart file input in junit","body":"<p>I am using JUnit for testing of Daoimpl. In one of the cases, I need to give an input which is a multipart file. I searched the internet and found that mockmultipartfile is used, but didn't find any example. Please provide me one for better understanding.</p>\n<p>I am using <strong>spring</strong> and <strong>JUnit 4.11</strong></p>\n"},{"tags":["java","spring-boot","jpa","intellij-idea"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1648138305,"post_id":71605136,"comment_id":126553962,"body_markdown":"You have to open the ssh tunnel on your machine an then connect to your local host and port. How do you create the ssh tunnel?","body":"You have to open the ssh tunnel on your machine an then connect to your local host and port. How do you create the ssh tunnel?"}],"answers":[{"tags":[],"owner":{"account_id":6969304,"reputation":547,"user_id":5346203,"display_name":"Alex Cumarav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648138517,"creation_date":1648138517,"answer_id":71605879,"question_id":71605136,"body_markdown":"As you speak about the PROD database - of course, a better option is to make backup/restore local copy and play with it. But regarding the first part of your question you can use `ssh port forwarding` e.g.: \r\n```bash\r\nssh   -R 13306:0.0.0.0:3306 user@server -N\r\n# 13306 your machine local port\r\n# 3306 server remote port\r\n```\r\nand connect to remote MySQL server from your IntelliJ to `localhost:13306`\r\n\r\n","title":"IntelliJ and Jpa Buddy - SSH tunnel DB connection","body":"<p>As you speak about the PROD database - of course, a better option is to make backup/restore local copy and play with it. But regarding the first part of your question you can use <code>ssh port forwarding</code> e.g.:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ssh   -R 13306:0.0.0.0:3306 user@server -N\n# 13306 your machine local port\n# 3306 server remote port\n</code></pre>\n<p>and connect to remote MySQL server from your IntelliJ to <code>localhost:13306</code></p>\n"}],"owner":{"account_id":11689088,"reputation":35,"user_id":8557945,"display_name":"sqgl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71605879,"answer_count":1,"score":1,"last_activity_date":1648138517,"creation_date":1648135386,"question_id":71605136,"body_markdown":"I&#39;m working on a Java project (based on Spring Boot 2.6.x) using IntelliJ Community Edition and JPA Buddy. I want to use JPA Buddy for entity utility and Liquibase integration.\r\n\r\nThe production DB (MySQL 5.7) is reachable only by ssh tunnel.\r\n\r\nIs there a way to configure a DB connection using ssh tunnel? How can I generate a changeLog from the production DB?\r\n\r\nThanks!\r\nMiky","title":"IntelliJ and Jpa Buddy - SSH tunnel DB connection","body":"<p>I'm working on a Java project (based on Spring Boot 2.6.x) using IntelliJ Community Edition and JPA Buddy. I want to use JPA Buddy for entity utility and Liquibase integration.</p>\n<p>The production DB (MySQL 5.7) is reachable only by ssh tunnel.</p>\n<p>Is there a way to configure a DB connection using ssh tunnel? How can I generate a changeLog from the production DB?</p>\n<p>Thanks!\nMiky</p>\n"},{"tags":["java","sql","postgresql","jdbc","timescaledb"],"comments":[{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":2,"creation_date":1554748524,"post_id":55579020,"comment_id":97857988,"body_markdown":"Which version of timescaledb are you using? Are you sure that you are allowed to access the function? Also, are you by chance using a different schema or is the extension installed at a different schema?","body":"Which version of timescaledb are you using? Are you sure that you are allowed to access the function? Also, are you by chance using a different schema or is the extension installed at a different schema?"},{"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"score":1,"creation_date":1554749868,"post_id":55579020,"comment_id":97858594,"body_markdown":"I can insert into this table, so its not about my jdbc configuration and schema, and I copy pasted the query to sql edior, it works just fine...","body":"I can insert into this table, so its not about my jdbc configuration and schema, and I copy pasted the query to sql edior, it works just fine..."},{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":1,"creation_date":1554793255,"post_id":55579020,"comment_id":97870827,"body_markdown":"Can you add the output of the following query executed via JDBC and the correct user? `SELECT n.nspname, p.proname, a.rolname, pg_catalog.pg_get_function_arguments(p.oid), p.proacl\nFROM pg_catalog.pg_proc p LEFT JOIN pg_catalog.pg_namespace n ON (n.oid = p.pronamespace) LEFT JOIN pg_catalog.pg_authid a ON (a.oid = p.proowner)\nWHERE pg_catalog.pg_function_is_visible(p.oid) AND p.proname = &#39;time_bucket&#39;\nORDER BY 1, 2, 4;`","body":"Can you add the output of the following query executed via JDBC and the correct user? <code>SELECT n.nspname, p.proname, a.rolname, pg_catalog.pg_get_function_arguments(p.oid), p.proacl FROM pg_catalog.pg_proc p LEFT JOIN pg_catalog.pg_namespace n ON (n.oid = p.pronamespace) LEFT JOIN pg_catalog.pg_authid a ON (a.oid = p.proowner) WHERE pg_catalog.pg_function_is_visible(p.oid) AND p.proname = &#39;time_bucket&#39; ORDER BY 1, 2, 4;</code>"},{"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"score":2,"creation_date":1554904967,"post_id":55579020,"comment_id":97922798,"body_markdown":"Thank you for your help, I finally solved the problem, its because I have set my default schema in my jdbc configuration file, but time_bucket function is in different schema, so system somehow cannot find it----which is weird, but that&#39;s the cause. again, thank you for your answer and help!","body":"Thank you for your help, I finally solved the problem, its because I have set my default schema in my jdbc configuration file, but time_bucket function is in different schema, so system somehow cannot find it----which is weird, but that&#39;s the cause. again, thank you for your answer and help!"},{"owner":{"account_id":15441076,"reputation":2527,"user_id":11139634,"display_name":"Ancoron"},"score":1,"creation_date":1554923784,"post_id":55579020,"comment_id":97932742,"body_markdown":"I&#39;m glad you solved it. :-)","body":"I&#39;m glad you solved it. :-)"}],"answers":[{"tags":[],"owner":{"account_id":5431088,"reputation":1748,"user_id":4321944,"display_name":"Martin Rauscher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648138382,"creation_date":1648138382,"answer_id":71605841,"question_id":55579020,"body_markdown":"Repeating the answer from the comments for easier retrieval:\r\n\r\nIf you have a default schema (aka search path) set it must include the schema that contains the TSDB functions.\r\n\r\nOn a live connection you can do this e.g. like this:\r\n```sql\r\nSET search_path TO demo, public;\r\n```","title":"Query to select data from database between 2 timestamps, Exception: time_bucket function does not exists?","body":"<p>Repeating the answer from the comments for easier retrieval:</p>\n<p>If you have a default schema (aka search path) set it must include the schema that contains the TSDB functions.</p>\n<p>On a live connection you can do this e.g. like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SET search_path TO demo, public;\n</code></pre>\n"}],"owner":{"account_id":15601602,"reputation":51,"user_id":11255601,"display_name":"Bronfman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1648138382,"creation_date":1554745622,"question_id":55579020,"body_markdown":"I&#39;ve been trying to write a query in Java to select data from postgres timescale database between 2 timestamps, but I keep getting Exception says that time_bucket function does not exists \r\n\r\nI cannot change the timestamp column in database to Date since I dont have the ownership, and I tried to copy paste the query to sql editor, it works perfectly fine!!\r\n\r\nthis is the query: \r\n\r\n    private final String SELECT_CANDLESTICK_BY_REQUEST = &quot;SELECT &quot; + \r\n\t\t\t&quot;\ttime_bucket(  interval &#39;1 minute&#39; , period_start_ts) AS periodts,  &quot; + \r\n\t\t\t&quot;\tcount(*),  &quot; + \r\n\t\t\t&quot;\tfirst(metrics-&gt;&gt;&#39;askOpen&#39;,period_start_ts) as askOpen,  &quot; + \r\n\t\t\t&quot;\tmax(metrics-&gt;&gt;&#39;askHigh&#39;) as askHigh,  &quot; + \r\n\t\t\t&quot;\tmin(metrics-&gt;&gt;&#39;askLow&#39;) as askLow,  &quot; + \r\n\t\t\t&quot;\tlast(metrics-&gt;&gt;&#39;askClose&#39;,period_start_ts) as askClose, &quot; + \r\n\t\t\t&quot;\tfirst(metrics-&gt;&gt;&#39;bidOpen&#39;,period_start_ts) as bidOpen,  &quot; + \r\n\t\t\t&quot;\tmax(metrics-&gt;&gt;&#39;bidHigh&#39;) as bidHigh,  &quot; + \r\n\t\t\t&quot;\tmin(metrics-&gt;&gt;&#39;bidLow&#39;) as bidLow,  &quot; + \r\n\t\t\t&quot;\tlast(metrics-&gt;&gt;&#39;bidClose&#39;,period_start_ts) as bidClose &quot; + \r\n\t\t\t&quot;  FROM candlestick_1_sec_fact &quot; + \r\n\t\t\t&quot;  where period_start_ts between ? and ? &quot; + \r\n\t\t\t&quot;  and symbol_cd = ? and liquidity_source_nm =  ? &quot; + \r\n\t\t\t&quot;  GROUP BY periodts &quot; + \r\n\t\t\t&quot;  ORDER BY periodts&quot; ;\r\n\r\n\r\n\r\n\r\nthis is how i set the parameters:\r\n\r\n    PreparedStatement select = connection.prepareStatement(SELECT_CANDLESTICK_BY_REQUEST);\r\n\t\t\t\r\n\t\t\r\n\t\tselect.setTimestamp(1, new Timestamp(startTime));\r\n\t\tselect.setTimestamp(2, new Timestamp(endTime));\r\n\t\tselect.setString(3, symbol);\r\n\t\tselect.setString(4, source); \r\n\r\nthis is the exception i get:\r\n\r\n    org.postgresql.util.PSQLException: ERROR: function time_bucket(interval, timestamp without time zone) does not exist . Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n\r\nEven if i take out the interval keyword in the query, it still does not recognize the time_bucket function. \r\n\r\n\r\nThank you in advance for your time and knowledge!","title":"Query to select data from database between 2 timestamps, Exception: time_bucket function does not exists?","body":"<p>I've been trying to write a query in Java to select data from postgres timescale database between 2 timestamps, but I keep getting Exception says that time_bucket function does not exists </p>\n\n<p>I cannot change the timestamp column in database to Date since I dont have the ownership, and I tried to copy paste the query to sql editor, it works perfectly fine!!</p>\n\n<p>this is the query: </p>\n\n<pre><code>private final String SELECT_CANDLESTICK_BY_REQUEST = \"SELECT \" + \n        \"   time_bucket(  interval '1 minute' , period_start_ts) AS periodts,  \" + \n        \"   count(*),  \" + \n        \"   first(metrics-&gt;&gt;'askOpen',period_start_ts) as askOpen,  \" + \n        \"   max(metrics-&gt;&gt;'askHigh') as askHigh,  \" + \n        \"   min(metrics-&gt;&gt;'askLow') as askLow,  \" + \n        \"   last(metrics-&gt;&gt;'askClose',period_start_ts) as askClose, \" + \n        \"   first(metrics-&gt;&gt;'bidOpen',period_start_ts) as bidOpen,  \" + \n        \"   max(metrics-&gt;&gt;'bidHigh') as bidHigh,  \" + \n        \"   min(metrics-&gt;&gt;'bidLow') as bidLow,  \" + \n        \"   last(metrics-&gt;&gt;'bidClose',period_start_ts) as bidClose \" + \n        \"  FROM candlestick_1_sec_fact \" + \n        \"  where period_start_ts between ? and ? \" + \n        \"  and symbol_cd = ? and liquidity_source_nm =  ? \" + \n        \"  GROUP BY periodts \" + \n        \"  ORDER BY periodts\" ;\n</code></pre>\n\n<p>this is how i set the parameters:</p>\n\n<pre><code>PreparedStatement select = connection.prepareStatement(SELECT_CANDLESTICK_BY_REQUEST);\n\n\n    select.setTimestamp(1, new Timestamp(startTime));\n    select.setTimestamp(2, new Timestamp(endTime));\n    select.setString(3, symbol);\n    select.setString(4, source); \n</code></pre>\n\n<p>this is the exception i get:</p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: function time_bucket(interval, timestamp without time zone) does not exist . Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n\n<p>Even if i take out the interval keyword in the query, it still does not recognize the time_bucket function. </p>\n\n<p>Thank you in advance for your time and knowledge!</p>\n"},{"tags":["java","json","serialization","jackson","objectmapper"],"comments":[{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":0,"creation_date":1647963864,"post_id":71573627,"comment_id":126500875,"body_markdown":"Why not `if (values != null) jsonNode.putPOJO(jsonKey, values);`?","body":"Why not <code>if (values != null) jsonNode.putPOJO(jsonKey, values);</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1647965286,"post_id":71573627,"comment_id":126501537,"body_markdown":"To summarize the question linked above, it&#39;s easiest to either manually exclude null when working with json tree, or don&#39;t include them at all. The explanation why this is happening is in the accepted answer.","body":"To summarize the question linked above, it&#39;s easiest to either manually exclude null when working with json tree, or don&#39;t include them at all. The explanation why this is happening is in the accepted answer."},{"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"score":0,"creation_date":1648113005,"post_id":71573627,"comment_id":126543377,"body_markdown":"@Oboe I agree that this is one of the solutions I currently use, but I wanted a native solution when the ObjectMapper supports it.","body":"@Oboe I agree that this is one of the solutions I currently use, but I wanted a native solution when the ObjectMapper supports it."},{"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"score":0,"creation_date":1648113429,"post_id":71573627,"comment_id":126543529,"body_markdown":"@Chaosfire, Thanks you a lot for provided link. This clarifies me why the settings is ignored and filtering are not applied. What i don&#39;t understand is, why this options is allowed to set. Is it only applicable to specific scenario? like for example for primitive data types?","body":"@Chaosfire, Thanks you a lot for provided link. This clarifies me why the settings is ignored and filtering are not applied. What i don&#39;t understand is, why this options is allowed to set. Is it only applicable to specific scenario? like for example for primitive data types?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648118324,"creation_date":1648118324,"answer_id":71600932,"question_id":71573627,"body_markdown":"This option is applicable when serializing objects, custom objects or a `Map` for example, but **not** when working with json tree. Consider this `Foo` class:\r\n```\r\npublic class Foo {\r\n\r\n    private String id;\r\n    private String name;\r\n\r\n    //getters and setters\r\n}\r\n```\r\nThe option to exclude nulls will work as expected with it.\r\n\r\nMain method to illustrate it:\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        serializeNulls();\r\n        System.out.println();\r\n        doNotSerializeNulls();\r\n    }\r\n\r\n    private static void serializeNulls() throws Exception {\r\n        ObjectMapper jsonMapper = new ObjectMapper();\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;id&quot;);\r\n        System.out.println(&quot;Serialize nulls&quot;);\r\n        System.out.println(jsonMapper.writeValueAsString(foo));\r\n\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\r\n        map.put(&quot;key2&quot;, null);\r\n        System.out.println(jsonMapper.writeValueAsString(map));\r\n    }\r\n\r\n    private static void doNotSerializeNulls() throws Exception {\r\n        ObjectMapper jsonMapper = new ObjectMapper();\r\n        jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\r\n\r\n        Foo foo = new Foo();\r\n        foo.setId(&quot;id&quot;);\r\n        System.out.println(&quot;Do not serialize nulls&quot;);\r\n        System.out.println(jsonMapper.writeValueAsString(foo));\r\n\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\r\n        map.put(&quot;key2&quot;, null);\r\n        System.out.println(jsonMapper.writeValueAsString(map));\r\n    }\r\n}\r\n```","title":"ObjectMapper setSerializationInclusion(JsonInclude.Include.NON_NULL) setting is not reflected","body":"<p>This option is applicable when serializing objects, custom objects or a <code>Map</code> for example, but <strong>not</strong> when working with json tree. Consider this <code>Foo</code> class:</p>\n<pre><code>public class Foo {\n\n    private String id;\n    private String name;\n\n    //getters and setters\n}\n</code></pre>\n<p>The option to exclude nulls will work as expected with it.</p>\n<p>Main method to illustrate it:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\n        serializeNulls();\n        System.out.println();\n        doNotSerializeNulls();\n    }\n\n    private static void serializeNulls() throws Exception {\n        ObjectMapper jsonMapper = new ObjectMapper();\n        Foo foo = new Foo();\n        foo.setId(&quot;id&quot;);\n        System.out.println(&quot;Serialize nulls&quot;);\n        System.out.println(jsonMapper.writeValueAsString(foo));\n\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\n        map.put(&quot;key2&quot;, null);\n        System.out.println(jsonMapper.writeValueAsString(map));\n    }\n\n    private static void doNotSerializeNulls() throws Exception {\n        ObjectMapper jsonMapper = new ObjectMapper();\n        jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\n\n        Foo foo = new Foo();\n        foo.setId(&quot;id&quot;);\n        System.out.println(&quot;Do not serialize nulls&quot;);\n        System.out.println(jsonMapper.writeValueAsString(foo));\n\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        map.put(&quot;key1&quot;, &quot;val1&quot;);\n        map.put(&quot;key2&quot;, null);\n        System.out.println(jsonMapper.writeValueAsString(map));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7850636,"reputation":3,"user_id":5934198,"display_name":"XChobot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2923,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648451655,"accepted_answer_id":71600932,"answer_count":1,"score":-1,"last_activity_date":1648138100,"creation_date":1647958762,"question_id":71573627,"body_markdown":"ObjectMapper still includes null values. I tried a lot of solutions found here, but nothing works. I cannot use json annotation, so my only solution is predefined setting of mapper, but this was not reflected. I thought this was due to caching of objectMapper. But my only modifies of mapper are made in Constructor. So caching would not be a problem\r\n\r\nDependencies:\r\n```none\r\nLog4J2: 2.17.1\r\nFasterxml Jackson annotation: 2.13.2\r\nFasterxml Jackson databind: 2.13.2\r\nWildfly: 20.0.1\r\nOpenJDK: 11.0.14.1\r\n```\r\n\r\nI have an objectMapper defined as global value which is instantiated in constructor. Then I have one method for building a JSON which accepts key and value. As value can by anything.\r\n\r\n```\r\nprivate final ObjectMapper jsonMapper;\r\n\r\npublic SomeConstructor() {\r\n\tthis.jsonMapper = new ObjectMapper();\r\n\tthis.jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\tthis.jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\r\n}\r\n\r\n@Override\r\npublic void setJsonVar(String jsonVar, String jsonKey, Object values) {\r\n\r\n\t// loads ObjectNode from memory if exists\r\n\tObjectNode jsonNode = getJsonVar(jsonVar);\r\n\r\n\t// lazy init if ObjectNode not exists\r\n\tif (jsonNode == null) {\r\n\t\tjsonNode = jsonMapper.createObjectNode();\r\n\t}\r\n\t// add object\r\n\tjsonNode.putPOJO(jsonKey, values);\r\n}\r\n```\r\n\r\nUsage:\r\n```\r\nsetJsonVar(&quot;var-A&quot;, &quot;key-A&quot;, 1);\r\nsetJsonVar(&quot;var-A&quot;, &quot;key-B&quot;, null);\r\nprint(&quot;var-a&quot;);\r\n```\r\n\r\nExpectation: \r\n\r\nI want to avoid null values in JSON.\r\n\r\nExpected: `var-A: { &quot;key-A&quot;:1 }`\r\nGot: `var-A: { &quot;key-A&quot;:1, &quot;key-B&quot;:null }`\r\n\r\nWhy does this happen and what can I do to work around this?\r\n\r\n","title":"ObjectMapper setSerializationInclusion(JsonInclude.Include.NON_NULL) setting is not reflected","body":"<p>ObjectMapper still includes null values. I tried a lot of solutions found here, but nothing works. I cannot use json annotation, so my only solution is predefined setting of mapper, but this was not reflected. I thought this was due to caching of objectMapper. But my only modifies of mapper are made in Constructor. So caching would not be a problem</p>\n<p>Dependencies:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Log4J2: 2.17.1\nFasterxml Jackson annotation: 2.13.2\nFasterxml Jackson databind: 2.13.2\nWildfly: 20.0.1\nOpenJDK: 11.0.14.1\n</code></pre>\n<p>I have an objectMapper defined as global value which is instantiated in constructor. Then I have one method for building a JSON which accepts key and value. As value can by anything.</p>\n<pre><code>private final ObjectMapper jsonMapper;\n\npublic SomeConstructor() {\n    this.jsonMapper = new ObjectMapper();\n    this.jsonMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    this.jsonMapper.setDefaultPropertyInclusion(JsonInclude.Include.NON_NULL);\n}\n\n@Override\npublic void setJsonVar(String jsonVar, String jsonKey, Object values) {\n\n    // loads ObjectNode from memory if exists\n    ObjectNode jsonNode = getJsonVar(jsonVar);\n\n    // lazy init if ObjectNode not exists\n    if (jsonNode == null) {\n        jsonNode = jsonMapper.createObjectNode();\n    }\n    // add object\n    jsonNode.putPOJO(jsonKey, values);\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>setJsonVar(&quot;var-A&quot;, &quot;key-A&quot;, 1);\nsetJsonVar(&quot;var-A&quot;, &quot;key-B&quot;, null);\nprint(&quot;var-a&quot;);\n</code></pre>\n<p>Expectation:</p>\n<p>I want to avoid null values in JSON.</p>\n<p>Expected: <code>var-A: { &quot;key-A&quot;:1 }</code>\nGot: <code>var-A: { &quot;key-A&quot;:1, &quot;key-B&quot;:null }</code></p>\n<p>Why does this happen and what can I do to work around this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647918496,"post_id":71566469,"comment_id":126486570,"body_markdown":"See [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo) Specifically, when you use scanner.next...(); you only get the next element and don&#39;t consume the entire line, so the very next call to scanner.next...(); will grab the next element on the previous line which will typically be blank or a newline character, and therefore null. Always use `scanner.nextline();` where possible, or consume the rest of the line after any &quot;next&quot; calls other than nextLine.","body":"See <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a> Specifically, when you use scanner.next...(); you only get the next element and don&#39;t consume the entire line, so the very next call to scanner.next...(); will grab the next element on the previous line which will typically be blank or a newline character, and therefore null. Always use <code>scanner.nextline();</code> where possible, or consume the rest of the line after any &quot;next&quot; calls other than nextLine."},{"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"score":0,"creation_date":1647922376,"post_id":71566469,"comment_id":126487176,"body_markdown":"In catch block you are not assigning movieDate as its declare null intialy its taking the same add this in catch block also String inputDate = scanner.next();\n                movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);","body":"In catch block you are not assigning movieDate as its declare null intialy its taking the same add this in catch block also String inputDate = scanner.next();                 movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);"}],"answers":[{"tags":[],"owner":{"account_id":23249259,"reputation":7,"user_id":17337358,"display_name":"Mritunjay Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137925,"creation_date":1647938501,"answer_id":71569117,"question_id":71566469,"body_markdown":"I&#39;ve found the answer for this problem.\r\n\r\n```\r\nDate movieDate = null;\r\nwhile( movieDate == null ) {\r\n    try {\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n    } catch (ParseException e){\r\n        System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe previous code the error was @ catch I was using the &quot;inputDate&quot; as a Local variable.","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>I've found the answer for this problem.</p>\n<pre><code>Date movieDate = null;\nwhile( movieDate == null ) {\n    try {\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n    } catch (ParseException e){\n        System.out.println(&quot;You've entered the wrong date format&quot;);\n    }\n}\n</code></pre>\n<p>The previous code the error was @ catch I was using the &quot;inputDate&quot; as a Local variable.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647947471,"creation_date":1647947471,"answer_id":71571079,"question_id":71566469,"body_markdown":"The core problem you encountered was one of scope.  In the catch-block you prompt and accept a new response but you capture it in a variable defined within the catch block.  When the block ends, the variable is no longer in scope and the value is lost.  You never parse a Date from the String so the Date variable is still null.\r\n\r\nConsider changing the logic to redirect back to the input step if you get an exception.  The following example places all of this in its own method to isolate the unit of work.  Within the method, use a loop to allow us to repeatedly prompt the user for the date input.  We place all of the core logic in the try-block.  The catch-block is only responsible for informing the user it was a bad parse.\r\n\r\n    private Date getReleaseDate() {\r\n      while (true) {\r\n        try {\r\n          System.out.println(&quot;Enter the release date (dd-mm-yyyy):&quot;);\r\n          String inputDate = scanner.next();\r\n          return new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n\r\n        } catch (ParseException e) {\r\n          System.out.println(&quot;You&#39;ve entered the wrong date format, please try again&quot;);\r\n        }\r\n      }\r\n    }\r\n","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>The core problem you encountered was one of scope.  In the catch-block you prompt and accept a new response but you capture it in a variable defined within the catch block.  When the block ends, the variable is no longer in scope and the value is lost.  You never parse a Date from the String so the Date variable is still null.</p>\n<p>Consider changing the logic to redirect back to the input step if you get an exception.  The following example places all of this in its own method to isolate the unit of work.  Within the method, use a loop to allow us to repeatedly prompt the user for the date input.  We place all of the core logic in the try-block.  The catch-block is only responsible for informing the user it was a bad parse.</p>\n<pre><code>private Date getReleaseDate() {\n  while (true) {\n    try {\n      System.out.println(&quot;Enter the release date (dd-mm-yyyy):&quot;);\n      String inputDate = scanner.next();\n      return new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n\n    } catch (ParseException e) {\n      System.out.println(&quot;You've entered the wrong date format, please try again&quot;);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23249259,"reputation":7,"user_id":17337358,"display_name":"Mritunjay Upadhyay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648137925,"creation_date":1647918200,"question_id":71566469,"body_markdown":"Recently, I was given a problem statement to basically enter movie title, release date and their rating based on IMDB and then sort any of the two properties, which was done easily. Now, while entering the date, I was getting a parse error, so I used try and catch block. Now the problem arising here is when let&#39;s say I give a wrong value, it says you&#39;ve entered the wrong date format, re-enter the details. It&#39;s not taking the re-entered value, but instead null. Here is the code.\r\n\r\n```\r\nboolean movieQuestion;\r\nwhile(true){\r\n    System.out.println(&quot;Do you want to enter movie rating yes or no? &quot;);\r\n    String inputString = scanner.next();\r\n    movieQuestion =inputString.equalsIgnoreCase(&quot;Yes&quot;);\r\n    if(!movieQuestion){\r\n        System.out.println(&quot;Come again Later!&quot;);\r\n        break;\r\n    }\r\n\r\n    System.out.println(&quot;Enter the name of the movie: &quot;);\r\n    String movieName = scanner.next();\r\n    System.out.println(&quot;Enter the movie rating(out of 10):&quot;);\r\n    double rating = scanner.nextDouble();\r\n\r\n    Date movieDate = null;\r\n    try {\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n    } catch (ParseException e){\r\n        System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n        String inputDate = scanner.next();\r\n    }\r\n\r\n            Movie movie = new Movie(movieName,movieDate,rating);\r\n    mainMovieSet.add(movie);\r\n\r\n}\r\n```\r\n\r\nThis is what I tried to avoid breaking of code with an exception.\r\n\r\n```\r\nDate movieDate = null;\r\ntry {\r\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n    String inputDate = scanner.next();\r\n    movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\r\n} catch (ParseException e){\r\n    System.out.println(&quot;You&#39;ve entered the wrong date format&quot;);\r\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\r\n    String inputDate = scanner.next();\r\n}\r\n```\r\n\r\nEvery time I re-enter the value if a wrong value is given, it just displays a null after the correct value displayed.","title":"Getting a null value while trying to use try and catch for a problem statement","body":"<p>Recently, I was given a problem statement to basically enter movie title, release date and their rating based on IMDB and then sort any of the two properties, which was done easily. Now, while entering the date, I was getting a parse error, so I used try and catch block. Now the problem arising here is when let's say I give a wrong value, it says you've entered the wrong date format, re-enter the details. It's not taking the re-entered value, but instead null. Here is the code.</p>\n<pre><code>boolean movieQuestion;\nwhile(true){\n    System.out.println(&quot;Do you want to enter movie rating yes or no? &quot;);\n    String inputString = scanner.next();\n    movieQuestion =inputString.equalsIgnoreCase(&quot;Yes&quot;);\n    if(!movieQuestion){\n        System.out.println(&quot;Come again Later!&quot;);\n        break;\n    }\n\n    System.out.println(&quot;Enter the name of the movie: &quot;);\n    String movieName = scanner.next();\n    System.out.println(&quot;Enter the movie rating(out of 10):&quot;);\n    double rating = scanner.nextDouble();\n\n    Date movieDate = null;\n    try {\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n        movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n    } catch (ParseException e){\n        System.out.println(&quot;You've entered the wrong date format&quot;);\n        System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n        String inputDate = scanner.next();\n    }\n\n            Movie movie = new Movie(movieName,movieDate,rating);\n    mainMovieSet.add(movie);\n\n}\n</code></pre>\n<p>This is what I tried to avoid breaking of code with an exception.</p>\n<pre><code>Date movieDate = null;\ntry {\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n    String inputDate = scanner.next();\n    movieDate = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(inputDate);\n} catch (ParseException e){\n    System.out.println(&quot;You've entered the wrong date format&quot;);\n    System.out.println(&quot;Enter the release date(dd-mm-yyyy)&quot;);\n    String inputDate = scanner.next();\n}\n</code></pre>\n<p>Every time I re-enter the value if a wrong value is given, it just displays a null after the correct value displayed.</p>\n"},{"tags":["java","file-upload","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":21901569,"reputation":36,"user_id":16187184,"display_name":"Om Brahmbhatt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648137776,"creation_date":1648137776,"answer_id":71605697,"question_id":71605174,"body_markdown":"What I think is that you might not have given the read external storage permission, ***uri.getPath()*** will not work, you have to find a real path from uri for that you can use this code \r\n```JAVA\r\nprivate String getRealPathFromURI(Uri contentUri) {\r\n        String[] proj = {MediaStore.Images.Media.DATA};\r\n        CursorLoader loader = new CursorLoader(this, contentUri, proj, null, null, null);\r\n        Cursor cursor = loader.loadInBackground();\r\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n        cursor.moveToFirst();\r\n        String result = cursor.getString(column_index);\r\n        cursor.close();\r\n        return result;\r\n    }\r\n```\r\nNow, pass this string to file otherwise code is perfect! \r\n```JAVA\r\nFILE file = new file(getRealPathFromURI(uri));\r\n```","title":"Not able to upload image to server with retrofit","body":"<p>What I think is that you might not have given the read external storage permission, <em><strong>uri.getPath()</strong></em> will not work, you have to find a real path from uri for that you can use this code</p>\n<pre><code>private String getRealPathFromURI(Uri contentUri) {\n        String[] proj = {MediaStore.Images.Media.DATA};\n        CursorLoader loader = new CursorLoader(this, contentUri, proj, null, null, null);\n        Cursor cursor = loader.loadInBackground();\n        int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n        cursor.moveToFirst();\n        String result = cursor.getString(column_index);\n        cursor.close();\n        return result;\n    }\n</code></pre>\n<p>Now, pass this string to file otherwise code is perfect!</p>\n<pre><code>FILE file = new file(getRealPathFromURI(uri));\n</code></pre>\n"}],"owner":{"account_id":19078959,"reputation":209,"user_id":13931640,"display_name":"Shashank Mistry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605697,"answer_count":1,"score":0,"last_activity_date":1648137776,"creation_date":1648135511,"question_id":71605174,"body_markdown":"I am currently working on a personal project in which I want to upload a profile pic to my server. I can easily put an image to a server with postman by sending it in form-data but when I do the same with retrofit it does not work, and sometimes it creates a 1kb file which shows an error when opening.\r\n\r\n## What currently I am doing is,\r\n```java\r\n Uri uri = data.getData();\r\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), uri);\r\n                profileImage.setImageBitmap(bitmap);\r\n\r\n\r\n        \r\n                File file = new File(uri.getPath());\r\n                RequestBody reqFile = RequestBody.create(MediaType.parse(&quot;image/*&quot;),file);\r\n                MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;Profile&quot;, &quot;bcs.jpeg&quot;, reqFile);\r\n                authViewModel.setNewProfilePic(layout,email,body);\r\n```\r\n\r\n## and code for setNewProfilePic is,\r\n```java\r\npublic void setNewProfilePic(RelativeLayout relativeLayout, String email,MultipartBody.Part part) {\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\r\n        api = new Retrofit.Builder().baseUrl(Constants.URL_API).client(client).build().create(SpendistryAPI.class);\r\n        retrofit2.Call&lt;okhttp3.ResponseBody&gt; req = api.setNewProfilePic(email,part);\r\n        req.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                // Do Something\r\n                if (!response.isSuccessful()) {\r\n                    Toast.makeText(application, &quot;notWorking: &quot; + response.code(), Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n                try {\r\n                    Toast.makeText(application, response.body().string(), Toast.LENGTH_SHORT).show();\r\n                } catch (Exception e) {\r\n                    Toast.makeText(application, &quot;catch&quot;, Toast.LENGTH_SHORT).show();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n```\r\n\r\nif i provie file to RequestBody.create like,\r\n```java\r\nFile file = new File(uri.getPath());\r\nRequestBody reqFile = RequestBody.create(MediaType.parse(&quot;image/*&quot;),file);\r\n```\r\ncode of setting new profile pic does not get executed and if I pass only URI.getPath() in .create() method id creates image file on the server with 1kb which can not be opened.\r\n\r\n\r\nplease help me with this situation, Thanks in advance!!","title":"Not able to upload image to server with retrofit","body":"<p>I am currently working on a personal project in which I want to upload a profile pic to my server. I can easily put an image to a server with postman by sending it in form-data but when I do the same with retrofit it does not work, and sometimes it creates a 1kb file which shows an error when opening.</p>\n<h2>What currently I am doing is,</h2>\n<pre class=\"lang-java prettyprint-override\"><code> Uri uri = data.getData();\n                Bitmap bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), uri);\n                profileImage.setImageBitmap(bitmap);\n\n\n        \n                File file = new File(uri.getPath());\n                RequestBody reqFile = RequestBody.create(MediaType.parse(&quot;image/*&quot;),file);\n                MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;Profile&quot;, &quot;bcs.jpeg&quot;, reqFile);\n                authViewModel.setNewProfilePic(layout,email,body);\n</code></pre>\n<h2>and code for setNewProfilePic is,</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public void setNewProfilePic(RelativeLayout relativeLayout, String email,MultipartBody.Part part) {\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        OkHttpClient client = new OkHttpClient.Builder().addInterceptor(interceptor).build();\n        api = new Retrofit.Builder().baseUrl(Constants.URL_API).client(client).build().create(SpendistryAPI.class);\n        retrofit2.Call&lt;okhttp3.ResponseBody&gt; req = api.setNewProfilePic(email,part);\n        req.enqueue(new Callback&lt;ResponseBody&gt;() {\n            @Override\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                // Do Something\n                if (!response.isSuccessful()) {\n                    Toast.makeText(application, &quot;notWorking: &quot; + response.code(), Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                try {\n                    Toast.makeText(application, response.body().string(), Toast.LENGTH_SHORT).show();\n                } catch (Exception e) {\n                    Toast.makeText(application, &quot;catch&quot;, Toast.LENGTH_SHORT).show();\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                t.printStackTrace();\n            }\n        });\n</code></pre>\n<p>if i provie file to RequestBody.create like,</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(uri.getPath());\nRequestBody reqFile = RequestBody.create(MediaType.parse(&quot;image/*&quot;),file);\n</code></pre>\n<p>code of setting new profile pic does not get executed and if I pass only URI.getPath() in .create() method id creates image file on the server with 1kb which can not be opened.</p>\n<p>please help me with this situation, Thanks in advance!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11458149,"reputation":15009,"user_id":8398549,"display_name":"Cid"},"score":0,"creation_date":1648135635,"post_id":71605181,"comment_id":126552729,"body_markdown":"What is a *&quot;perfect number&quot;*?","body":"What is a <i>&quot;perfect number&quot;</i>?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1648135676,"post_id":71605181,"comment_id":126552758,"body_markdown":"@Cid A natural number whose factors, excluding itself, add up to itself. E.g. 6, whose factors 1,2,3 add up to 6.","body":"@Cid A natural number whose factors, excluding itself, add up to itself. E.g. 6, whose factors 1,2,3 add up to 6."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1648135711,"post_id":71605181,"comment_id":126552777,"body_markdown":"`min = 1` sets the minimum value to 1, regardless of the user input.","body":"<code>min = 1</code> sets the minimum value to 1, regardless of the user input."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648135718,"post_id":71605181,"comment_id":126552781,"body_markdown":"Just remove `min = 1` from your for loop. You are setting `min` to 1 with that and ignore your previous input","body":"Just remove <code>min = 1</code> from your for loop. You are setting <code>min</code> to 1 with that and ignore your previous input"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1648135753,"post_id":71605181,"comment_id":126552802,"body_markdown":"To make it even clearer `for (; min &lt;= max; min++)` is valid syntax, you don&#39;t actually need a value in each section.","body":"To make it even clearer <code>for (; min &lt;= max; min++)</code> is valid syntax, you don&#39;t actually need a value in each section."},{"owner":{"account_id":11458149,"reputation":15009,"user_id":8398549,"display_name":"Cid"},"score":0,"creation_date":1648135816,"post_id":71605181,"comment_id":126552828,"body_markdown":"@khelwood I see, so they are always following numbers, from 1 to n, like 1 + 2 + 3 + 4 + ... + n = perfect number?","body":"@khelwood I see, so they are always following numbers, from 1 to n, like 1 + 2 + 3 + 4 + ... + n = perfect number?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1648135896,"post_id":71605181,"comment_id":126552863,"body_markdown":"@Cid The factors of `28` are `1,2,4,7,14` not including itself.  `1 + 2 + 4 + 7 + 14` = `28` so its a perfect number.","body":"@Cid The factors of <code>28</code> are <code>1,2,4,7,14</code> not including itself.  <code>1 + 2 + 4 + 7 + 14</code> = <code>28</code> so its a perfect number."},{"owner":{"account_id":11458149,"reputation":15009,"user_id":8398549,"display_name":"Cid"},"score":0,"creation_date":1648135927,"post_id":71605181,"comment_id":126552881,"body_markdown":"@Nexevis ok got it now. That&#39;s an interresting exercise to give to my interns so they can practice about loops :)","body":"@Nexevis ok got it now. That&#39;s an interresting exercise to give to my interns so they can practice about loops :)"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1648136678,"post_id":71605181,"comment_id":126553228,"body_markdown":"Hint: the real answer here is: when you dont know what your code is doing, then simply add print statements. Or learn how to use a debugger.","body":"Hint: the real answer here is: when you dont know what your code is doing, then simply add print statements. Or learn how to use a debugger."}],"answers":[{"tags":[],"owner":{"account_id":24468745,"reputation":88,"user_id":18388760,"display_name":"KruII"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648136389,"creation_date":1648136389,"answer_id":71605389,"question_id":71605181,"body_markdown":"I think that was the point.\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class IsPerfect {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in); \r\n        \r\n           int min = in.nextInt();\r\n           \r\n           int max = in.nextInt();\r\n        \r\n           System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\r\n        for (int i = min; i &lt;= max; i++)  \r\n            {  \r\n                int sum = 0;  \r\n                for (int j = 1; j &lt; i; j++)  \r\n                {  \r\n                    if (i % j == 0)  \r\n                        sum = sum + j;  \r\n                }  \r\n                if (sum == i)  \r\n                    System.out.println(i+&quot;, &quot;);  \r\n            }\r\n\r\n    }\r\n\r\n}\r\n```","title":"Find the perfect number between two numbers","body":"<p>I think that was the point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IsPerfect {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in); \n        \n           int min = in.nextInt();\n           \n           int max = in.nextInt();\n        \n           System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\n        for (int i = min; i &lt;= max; i++)  \n            {  \n                int sum = 0;  \n                for (int j = 1; j &lt; i; j++)  \n                {  \n                    if (i % j == 0)  \n                        sum = sum + j;  \n                }  \n                if (sum == i)  \n                    System.out.println(i+&quot;, &quot;);  \n            }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648136543,"creation_date":1648136543,"answer_id":71605425,"question_id":71605181,"body_markdown":"You are assigning the minimum value to `1`, no matter what the user enters. Change your outer for loop to start from the minimum value the user enters:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class IsPerfect {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int min = in.nextInt();\r\n        int max = in.nextInt();\r\n\r\n        System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\r\n        for (; min &lt;= max; min++) {\r\n            int sum = 0;\r\n            for (int e = 1; e &lt; min; e++) {\r\n                if ((min % e) == 0) {\r\n                    sum += e;\r\n                }\r\n            }\r\n\r\n            if (sum == min) {\r\n                System.out.print(sum+ &quot;,&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Find the perfect number between two numbers","body":"<p>You are assigning the minimum value to <code>1</code>, no matter what the user enters. Change your outer for loop to start from the minimum value the user enters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IsPerfect {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int min = in.nextInt();\n        int max = in.nextInt();\n\n        System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\n        for (; min &lt;= max; min++) {\n            int sum = 0;\n            for (int e = 1; e &lt; min; e++) {\n                if ((min % e) == 0) {\n                    sum += e;\n                }\n            }\n\n            if (sum == min) {\n                System.out.print(sum+ &quot;,&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648137627,"creation_date":1648137250,"answer_id":71605579,"question_id":71605181,"body_markdown":"Once entered, `min` and `max` should remain constant to make the code easier to read.\r\n\r\nYou need two loops, which conventionally use `i` and `j` as their loop values.\r\n\r\nChange your loops to:\r\n\r\n    for (int i = min; i &lt;= max; i++) {  \r\n        int sum = 0;  \r\n        for (int j = 1; j &lt;= i/2; j++) {  \r\n            if (i % j == 0) {\r\n                sum += j;  \r\n            }\r\n        }\r\n        if (sum == i) {\r\n            System.out.println(i + &quot;, &quot;);  \r\n        }\r\n    }\r\n\r\nNote the slight performance gain by only iterating `j` up to `i/2`\r\n\r\nA further and greater improvement to performance is this for the inner loop, which only iterates up to the square root of `i` and finds factors 2 at a time (eg for 28, if 2 is a factor then so is 14):\r\n\r\n    int root = (int)Math.sqrt(i);\r\n    for (int j = 1; j &lt;= root; j++) {  \r\n        if (i % j == 0) {\r\n            sum += j;\r\n            sum += i / j;\r\n        }\r\n    }","title":"Find the perfect number between two numbers","body":"<p>Once entered, <code>min</code> and <code>max</code> should remain constant to make the code easier to read.</p>\n<p>You need two loops, which conventionally use <code>i</code> and <code>j</code> as their loop values.</p>\n<p>Change your loops to:</p>\n<pre><code>for (int i = min; i &lt;= max; i++) {  \n    int sum = 0;  \n    for (int j = 1; j &lt;= i/2; j++) {  \n        if (i % j == 0) {\n            sum += j;  \n        }\n    }\n    if (sum == i) {\n        System.out.println(i + &quot;, &quot;);  \n    }\n}\n</code></pre>\n<p>Note the slight performance gain by only iterating <code>j</code> up to <code>i/2</code></p>\n<p>A further and greater improvement to performance is this for the inner loop, which only iterates up to the square root of <code>i</code> and finds factors 2 at a time (eg for 28, if 2 is a factor then so is 14):</p>\n<pre><code>int root = (int)Math.sqrt(i);\nfor (int j = 1; j &lt;= root; j++) {  \n    if (i % j == 0) {\n        sum += j;\n        sum += i / j;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5370447,"reputation":16262,"user_id":4279155,"accept_rate":55,"display_name":"Dominique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648137274,"creation_date":1648137274,"answer_id":71605586,"question_id":71605181,"body_markdown":"Let me give you a piece of advise: integers in Java are defined as:\r\n\r\n- int 4 bytes: from -2,147,483,648 to 2,147,483,647\r\n\r\nAs a perfect number is positive, you only need to consider the ones from 0 to 2,147,483,647, and they are not that common:  \r\n6, 28, 496, 8128, 33550336 and the next one is already larger than the upper limit. So you just put those numbers in a basic collection (like an array) and you verify against that.","title":"Find the perfect number between two numbers","body":"<p>Let me give you a piece of advise: integers in Java are defined as:</p>\n<ul>\n<li>int 4 bytes: from -2,147,483,648 to 2,147,483,647</li>\n</ul>\n<p>As a perfect number is positive, you only need to consider the ones from 0 to 2,147,483,647, and they are not that common:<br />\n6, 28, 496, 8128, 33550336 and the next one is already larger than the upper limit. So you just put those numbers in a basic collection (like an array) and you verify against that.</p>\n"}],"owner":{"account_id":24675573,"reputation":21,"user_id":18570019,"display_name":"Broke Samith"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71605425,"answer_count":4,"score":-1,"last_activity_date":1648137627,"creation_date":1648135570,"question_id":71605181,"body_markdown":"I&#39;m new to Java, and in order to practice I found a task on the Internet:\r\n\r\n&gt;&quot;Find all the perfect numbers between the two numbers you enter.&quot;\r\n\r\nBy the way - a perfect number is a natural number equal to the sum of all its own divisors. So I got to work and ran into such a problem that when I enter two numbers.\r\n\r\nFor example: `1 100`, I get the correct answer in the console: `6,28`. But if the first number is, for example, `100` and the second is `500` I get this output to the console: `6,28,496,`, while I should get only `496`. That is, for some reason, the minimum value does not shorten the search for a perfect number.\r\n\r\nHere&#39;s where I ended up:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class IsPerfect {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int min = in.nextInt();\r\n        int max = in.nextInt();\r\n\r\n        System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\r\n        for (min = 1; min &lt;= max; min++) {\r\n            int sum = 0;\r\n            for (int e = 1; e &lt; min; e++) {\r\n                if ((min % e) == 0) {\r\n                    sum += e;\r\n                }\r\n            }\r\n\r\n            if (sum == min) {\r\n                System.out.print(sum+ &quot;,&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf anyone has any advice on how to fix this error, I would sincerely appreciate it.","title":"Find the perfect number between two numbers","body":"<p>I'm new to Java, and in order to practice I found a task on the Internet:</p>\n<blockquote>\n<p>&quot;Find all the perfect numbers between the two numbers you enter.&quot;</p>\n</blockquote>\n<p>By the way - a perfect number is a natural number equal to the sum of all its own divisors. So I got to work and ran into such a problem that when I enter two numbers.</p>\n<p>For example: <code>1 100</code>, I get the correct answer in the console: <code>6,28</code>. But if the first number is, for example, <code>100</code> and the second is <code>500</code> I get this output to the console: <code>6,28,496,</code>, while I should get only <code>496</code>. That is, for some reason, the minimum value does not shorten the search for a perfect number.</p>\n<p>Here's where I ended up:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IsPerfect {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int min = in.nextInt();\n        int max = in.nextInt();\n\n        System.out.println(min +&quot; to &quot;+max+&quot; perfect numbers:&quot;);\n        for (min = 1; min &lt;= max; min++) {\n            int sum = 0;\n            for (int e = 1; e &lt; min; e++) {\n                if ((min % e) == 0) {\n                    sum += e;\n                }\n            }\n\n            if (sum == min) {\n                System.out.print(sum+ &quot;,&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>If anyone has any advice on how to fix this error, I would sincerely appreciate it.</p>\n"},{"tags":["java","dagger-2","clean-architecture"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648059085,"creation_date":1648059085,"answer_id":71592064,"question_id":71586046,"body_markdown":"    @FeatureScope\r\n    @Provides\r\n    public SignupContract.Presenter providePresenter(){\r\n        return new SignupPresenter();\r\n    }\r\n\r\nWhen you call `new SignupPresenter()`, Dagger isn&#39;t instantiating the object, you are. Therefore, Dagger doesn&#39;t inject the `@Inject`-annotated fields, because it assumes you want the object exactly as you returned it.\r\n\r\nIf you want Dagger to populate SignupUseCase, you&#39;ll need to do one of the following:\r\n\r\n- Let Dagger create SignupPresenter and receive it in your `@Provides` method. You&#39;ll need to add an `@Inject`-annotated constructor to SignupPresenter, potentially with no args.\r\n  \r\n  ```java\r\n  @FeatureScope\r\n  @Provides\r\n  public static SignupContract.Presenter providePresenter(SignupPresenter presenter) {\r\n    return presenter;\r\n  }\r\n  ```\r\n- Let Dagger create SignupPresenter and bind it to SignupContract.Presenter using a `@Binds` method. This requires the `@Inject`-annotated constructor on SignupPresenter and also requires making your Module an abstract class.\r\n  ```java\r\n  @FeatureScope\r\n  @Binds\r\n  abstract SignupContract.Presenter providePresenter(SignupPresenter presenter);\r\n  ```\r\n- Use a MembersInjector, which you can get via injection. You probably don&#39;t want this one unless you&#39;re receiving an instance of SignupPresenter that you can add `@Inject` methods and fields to, but that Dagger can&#39;t create.\r\n  ```java\r\n  @FeatureScope\r\n  @Provides\r\n  public static SignupContract.Presenter providePresenter(\r\n      MembersInjector&lt;SignupPresenter&gt; injector) {\r\n    SignupPresenter presenter = new SignupPresenter();\r\n    injector.injectMembers(presenter);\r\n    return presenter;\r\n  }\r\n  ```","title":"Dagger 2 @Inject return Null","body":"<pre><code>@FeatureScope\n@Provides\npublic SignupContract.Presenter providePresenter(){\n    return new SignupPresenter();\n}\n</code></pre>\n<p>When you call <code>new SignupPresenter()</code>, Dagger isn't instantiating the object, you are. Therefore, Dagger doesn't inject the <code>@Inject</code>-annotated fields, because it assumes you want the object exactly as you returned it.</p>\n<p>If you want Dagger to populate SignupUseCase, you'll need to do one of the following:</p>\n<ul>\n<li><p>Let Dagger create SignupPresenter and receive it in your <code>@Provides</code> method. You'll need to add an <code>@Inject</code>-annotated constructor to SignupPresenter, potentially with no args.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeatureScope\n@Provides\npublic static SignupContract.Presenter providePresenter(SignupPresenter presenter) {\n  return presenter;\n}\n</code></pre>\n</li>\n<li><p>Let Dagger create SignupPresenter and bind it to SignupContract.Presenter using a <code>@Binds</code> method. This requires the <code>@Inject</code>-annotated constructor on SignupPresenter and also requires making your Module an abstract class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeatureScope\n@Binds\nabstract SignupContract.Presenter providePresenter(SignupPresenter presenter);\n</code></pre>\n</li>\n<li><p>Use a MembersInjector, which you can get via injection. You probably don't want this one unless you're receiving an instance of SignupPresenter that you can add <code>@Inject</code> methods and fields to, but that Dagger can't create.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeatureScope\n@Provides\npublic static SignupContract.Presenter providePresenter(\n    MembersInjector&lt;SignupPresenter&gt; injector) {\n  SignupPresenter presenter = new SignupPresenter();\n  injector.injectMembers(presenter);\n  return presenter;\n}\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":16009437,"reputation":55,"user_id":18441288,"display_name":"pak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71592064,"answer_count":1,"score":1,"last_activity_date":1648137517,"creation_date":1648033164,"question_id":71586046,"body_markdown":"I am creating multi module android project using java. I got ```Null``` when I inject a class.\r\nFollowings are my codes.\r\n\r\n**SignupComponent.class**\r\n```\r\n@FeatureScope\r\n@Subcomponent(modules = SignupModule.class)\r\npublic interface SignupComponent {\r\n\r\n    @Subcomponent.Factory\r\n    interface Factory{\r\n        SignupComponent create();\r\n    }\r\n\r\n    void inject(Activity_Signup activity_signup);\r\n```\r\n\r\n**SignupModule.class**\r\n\r\n```\r\n@Module\r\npublic class SignupModule {\r\n\r\n    @FeatureScope\r\n    @Provides\r\n    public SignupContract.Presenter providePresenter(){\r\n        return new SignupPresenter();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**Activity_Signup.class**\r\n\r\n```\r\nSignupComponent signupComponent = ((SignupComponentProvider) getApplicationContext())\r\n                .provideSignupComponent();\r\n        //Inject the view\r\n        signupComponent.inject(this);\r\n```\r\n\r\n\r\n**SignupPresenter.class**\r\n```\r\n public class SignupPresenter implements SignupContract.Presenter {\r\n\r\n    // this injection return Null\r\n    @Inject\r\n    public SignupUseCase signupUseCase;  \r\n\r\n\r\n}\r\n```\r\n\r\n**SignupUseCase.class**\r\n```\r\npublic class SignupUseCase {\r\n    @Inject\r\n    public SignupUseCase(){}\r\n...\r\n}\r\n\r\n```\r\n\r\nWhy am I getting ```NPE```?\r\n\r\n\r\n**EDIT**\r\n\r\n**SignupModule.class**\r\n\r\n```\r\n@Module\r\npublic class SignupModule {\r\n\r\n    @FeatureScope\r\n    @Provides\r\n    public SignupContract.Presenter providePresenter(){\r\n        return new SignupPresenter();\r\n    }\r\n\r\n    @FeatureScope\r\n    @Provides\r\n    public SignupUseCase provideUseCase(){\r\n        return new SignupUseCase();\r\n    }\r\n\r\n\r\n\r\n}\r\n```","title":"Dagger 2 @Inject return Null","body":"<p>I am creating multi module android project using java. I got <code>Null</code> when I inject a class.\nFollowings are my codes.</p>\n<p><strong>SignupComponent.class</strong></p>\n<pre><code>@FeatureScope\n@Subcomponent(modules = SignupModule.class)\npublic interface SignupComponent {\n\n    @Subcomponent.Factory\n    interface Factory{\n        SignupComponent create();\n    }\n\n    void inject(Activity_Signup activity_signup);\n</code></pre>\n<p><strong>SignupModule.class</strong></p>\n<pre><code>@Module\npublic class SignupModule {\n\n    @FeatureScope\n    @Provides\n    public SignupContract.Presenter providePresenter(){\n        return new SignupPresenter();\n    }\n\n\n}\n</code></pre>\n<p><strong>Activity_Signup.class</strong></p>\n<pre><code>SignupComponent signupComponent = ((SignupComponentProvider) getApplicationContext())\n                .provideSignupComponent();\n        //Inject the view\n        signupComponent.inject(this);\n</code></pre>\n<p><strong>SignupPresenter.class</strong></p>\n<pre><code> public class SignupPresenter implements SignupContract.Presenter {\n\n    // this injection return Null\n    @Inject\n    public SignupUseCase signupUseCase;  \n\n\n}\n</code></pre>\n<p><strong>SignupUseCase.class</strong></p>\n<pre><code>public class SignupUseCase {\n    @Inject\n    public SignupUseCase(){}\n...\n}\n\n</code></pre>\n<p>Why am I getting <code>NPE</code>?</p>\n<p><strong>EDIT</strong></p>\n<p><strong>SignupModule.class</strong></p>\n<pre><code>@Module\npublic class SignupModule {\n\n    @FeatureScope\n    @Provides\n    public SignupContract.Presenter providePresenter(){\n        return new SignupPresenter();\n    }\n\n    @FeatureScope\n    @Provides\n    public SignupUseCase provideUseCase(){\n        return new SignupUseCase();\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1648135048,"post_id":71604948,"comment_id":126552485,"body_markdown":"Remove the `Class&lt;?&gt;` param from it? In `component-project`, you could have `switch (resourceType) case APP -&gt; App.class ...` somewhere, or it could even have its own `ClassAwareResourceType` enum with `ResourceType type, Class&lt;?&gt; klass`.","body":"Remove the <code>Class&lt;?&gt;</code> param from it? In <code>component-project</code>, you could have <code>switch (resourceType) case APP -&gt; App.class ...</code> somewhere, or it could even have its own <code>ClassAwareResourceType</code> enum with <code>ResourceType type, Class&lt;?&gt; klass</code>."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648135404,"post_id":71604948,"comment_id":126552638,"body_markdown":"I think you should go a step back. **Why do you need to move the `ResourceType`?** If it has this kind of hard dependency on classes from the component-project, I would argue it is quite possible it belongs there. Maybe it would help if you elaborated about what is the meaning of the `ResourceType`.","body":"I think you should go a step back. <b>Why do you need to move the <code>ResourceType</code>?</b> If it has this kind of hard dependency on classes from the component-project, I would argue it is quite possible it belongs there. Maybe it would help if you elaborated about what is the meaning of the <code>ResourceType</code>."},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1648135424,"post_id":71604948,"comment_id":126552650,"body_markdown":"@sp00m &quot;Remove the `Class&lt;?&gt;` param from it?&quot; That is needed to link the `extension` to a handler class. Not sure what you mean by `ClassAwareResourceType` ..","body":"@sp00m &quot;Remove the <code>Class&lt;?&gt;</code> param from it?&quot; That is needed to link the <code>extension</code> to a handler class. Not sure what you mean by <code>ClassAwareResourceType</code> .."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1648135519,"post_id":71604948,"comment_id":126552678,"body_markdown":"If you want to have the Class in the enum then you will have to establish a dependency in core-project back to component-project - which creates a circular dependency - BAD.  You could  hide this by recording the fully-qualified Class name and forcing consumers to load the Class themselves - this makes it a hidden dependency - WORSE.  Maybe this enum is doing too much - maybe the element-to-Class mapping should be refactored out to some utility in component-project.","body":"If you want to have the Class in the enum then you will have to establish a dependency in core-project back to component-project - which creates a circular dependency - BAD.  You could  hide this by recording the fully-qualified Class name and forcing consumers to load the Class themselves - this makes it a hidden dependency - WORSE.  Maybe this enum is doing too much - maybe the element-to-Class mapping should be refactored out to some utility in component-project."},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1648135617,"post_id":71604948,"comment_id":126552719,"body_markdown":"@NikosParaskevopoulos It needs to be moved so that it can be accessed by other parts of `core-project` now, which was previously not the case. `App.java` will move alongside `ResourceType.java` .. however `Workspace.java` will not move as it is not part of `core-project`","body":"@NikosParaskevopoulos It needs to be moved so that it can be accessed by other parts of <code>core-project</code> now, which was previously not the case. <code>App.java</code> will move alongside <code>ResourceType.java</code> .. however <code>Workspace.java</code> will not move as it is not part of <code>core-project</code>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1648136055,"post_id":71604948,"comment_id":126552934,"body_markdown":"OK - can you explain what is the purpose of the `ResourceType`? How is it intended to be used? Why does it need to reference the other classes?","body":"OK - can you explain what is the purpose of the <code>ResourceType</code>? How is it intended to be used? Why does it need to reference the other classes?"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1648137570,"post_id":71604948,"comment_id":126553643,"body_markdown":"@NikosParaskevopoulos `ResourceType` basically maps XML file types to their POJO representations. There is a deserialization util class inside `core-project` which unmarshalls the XML to their POJO representations e.g `deserializer.unmarshall(ResourceType.Workspace)`","body":"@NikosParaskevopoulos <code>ResourceType</code> basically maps XML file types to their POJO representations. There is a deserialization util class inside <code>core-project</code> which unmarshalls the XML to their POJO representations e.g <code>deserializer.unmarshall(ResourceType.Workspace)</code>"}],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137196,"creation_date":1648137196,"answer_id":71605567,"question_id":71604948,"body_markdown":"One (not too elegant) way could be something like\r\n\r\n    public enum ResourceType {\r\n    \r\n    \tAPP(&quot;app&quot;, &quot;App&quot;, &quot;com.example.App&quot;),\r\n    \r\n    \tWORKSPACE(&quot;ws&quot;, &quot;Workspace&quot;, &quot;com.example.Workspace&quot;);\r\n    \r\n    \tprivate String extension;\r\n    \r\n    \tprivate String description;\r\n    \r\n    \tprivate Class&lt;?&gt; klass;\r\n    \r\n    \tResourceType(final String extension, final String description, final String klass) {\r\n    \t\tthis.extension = extension;\r\n    \t\tthis.description = description;\r\n    \t\ttry {\r\n    \t\t\tthis.klass = Class.forName(klass);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthis.klass = null;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWith the expectation of some NPEs when the classes aren&#39;t present...","title":"Refactor Java enum into a core project which does not contain classes that the enum points at","body":"<p>One (not too elegant) way could be something like</p>\n<pre><code>public enum ResourceType {\n\n    APP(&quot;app&quot;, &quot;App&quot;, &quot;com.example.App&quot;),\n\n    WORKSPACE(&quot;ws&quot;, &quot;Workspace&quot;, &quot;com.example.Workspace&quot;);\n\n    private String extension;\n\n    private String description;\n\n    private Class&lt;?&gt; klass;\n\n    ResourceType(final String extension, final String description, final String klass) {\n        this.extension = extension;\n        this.description = description;\n        try {\n            this.klass = Class.forName(klass);\n        } catch (Exception e) {\n            this.klass = null;\n        }\n    }\n}\n</code></pre>\n<p>With the expectation of some NPEs when the classes aren't present...</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648137196,"creation_date":1648134543,"question_id":71604948,"body_markdown":"I have 2 Java projects, `core-project` and `component-project`.\r\n\r\n`core-project` is a dependency to `component-project`.\r\n\r\n`component-project` originally contained an `Enum` e.g:\r\n\r\n```\r\npublic enum ResourceType {\r\n\r\n  APP(&quot;app&quot;, &quot;App&quot;, App.class),\r\n\r\n  WORKSPACE(&quot;ws&quot;, &quot;Workspace&quot;, Workspace.class);\r\n\r\n  private String extension;\r\n\r\n  private String description;\r\n\r\n  private Class&lt;?&gt; klass;\r\n\r\n  ResourceType(final String extension, final String description, final Class&lt;?&gt; klass) {\r\n    this.extension = extension;\r\n    this.description = description;\r\n    this.klass = klass;\r\n  }\r\n}\r\n```\r\n\r\nThe problem is that I now need to move `ResourceType` down into `core-project` but I cannot move `Workspace.class` down into `core-project`, it must remain in `component-project`.\r\n\r\nWhat would be an elegant approach to refactor this `Enum` into `core-project`?","title":"Refactor Java enum into a core project which does not contain classes that the enum points at","body":"<p>I have 2 Java projects, <code>core-project</code> and <code>component-project</code>.</p>\n<p><code>core-project</code> is a dependency to <code>component-project</code>.</p>\n<p><code>component-project</code> originally contained an <code>Enum</code> e.g:</p>\n<pre><code>public enum ResourceType {\n\n  APP(&quot;app&quot;, &quot;App&quot;, App.class),\n\n  WORKSPACE(&quot;ws&quot;, &quot;Workspace&quot;, Workspace.class);\n\n  private String extension;\n\n  private String description;\n\n  private Class&lt;?&gt; klass;\n\n  ResourceType(final String extension, final String description, final Class&lt;?&gt; klass) {\n    this.extension = extension;\n    this.description = description;\n    this.klass = klass;\n  }\n}\n</code></pre>\n<p>The problem is that I now need to move <code>ResourceType</code> down into <code>core-project</code> but I cannot move <code>Workspace.class</code> down into <code>core-project</code>, it must remain in <code>component-project</code>.</p>\n<p>What would be an elegant approach to refactor this <code>Enum</code> into <code>core-project</code>?</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":2500856,"reputation":138,"user_id":2176005,"accept_rate":67,"display_name":"Tavio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1402185889,"creation_date":1402185889,"answer_id":24101769,"question_id":24091047,"body_markdown":"The solution was to autowire the SchedulerFactoryBean itself in my Controller and call the rescheduleJob method on the scheduler that is accessible through it:\r\n\r\n    @Autowired\r\n    private SchedulerFactoryBean schedulerFactory;\r\n    \r\n    @RequestMapping(value = &quot;/triggerJob&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;String&gt; triggerJob() {\r\n    \ttry {\r\n    \t\tschedulerFactory.getScheduler().triggerJob(&quot;statisticsJob&quot;, &quot;default&quot;);\r\n    \t} catch (SchedulerException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\t\r\n    \treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    }","title":"Spring Autowire Quartz Scheduler","body":"<p>The solution was to autowire the SchedulerFactoryBean itself in my Controller and call the rescheduleJob method on the scheduler that is accessible through it:</p>\n\n<pre><code>@Autowired\nprivate SchedulerFactoryBean schedulerFactory;\n\n@RequestMapping(value = \"/triggerJob\", method = RequestMethod.GET)\npublic ResponseEntity&lt;String&gt; triggerJob() {\n    try {\n        schedulerFactory.getScheduler().triggerJob(\"statisticsJob\", \"default\");\n    } catch (SchedulerException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n"}],"owner":{"account_id":2500856,"reputation":138,"user_id":2176005,"accept_rate":67,"display_name":"Tavio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24101769,"answer_count":1,"score":0,"last_activity_date":1648137191,"creation_date":1402090918,"question_id":24091047,"body_markdown":"I have a quartz job running in my web server, configured via Spring as follows:\r\n\r\n    @Configuration\r\n    public class StatisticsJobConfig {\r\n    \t\r\n    \t@Bean\r\n        public JobDetailBean jobDetailBean() {\r\n        \tJobDetailBean jobDetailBean = new JobDetailBean();\r\n        \tjobDetailBean.setJobClass(StatisticsJob.class);\r\n        \tjobDetailBean.setBeanName(&quot;statisticsJobBean&quot;);\r\n            jobDetailBean.setName(&quot;statisticsJob&quot;);\r\n        \tjobDetailBean.setGroup(&quot;default&quot;);\r\n        \treturn jobDetailBean;\r\n        }\r\n    \r\n        @Bean\r\n        public CronTriggerBean cronTriggerBean(@Qualifier(&quot;jobDetailBean&quot;) JobDetailBean jobDetailBean) throws ParseException {\r\n        \tCronTriggerBean cronTriggerBean = new CronTriggerBean();\r\n        \t\r\n        \tcronTriggerBean.setBeanName(&quot;cronTriggerBean&quot;);\r\n        \tcronTriggerBean.setJobDetail(jobDetailBean);\r\n        \tcronTriggerBean.setCronExpression(&quot;0/5 * * * * ?&quot;);\r\n    \t\t\r\n        \treturn cronTriggerBean;\r\n        \t\r\n        }\r\n        \r\n        @Bean\r\n        public SchedulerFactoryBean schedulerFactoryBean(@Qualifier(&quot;cronTriggerBean&quot;) CronTriggerBean cronTriggerBean\r\n        \t\t, @Qualifier ApplicationContext applicationContext) {\r\n        \tSchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\r\n        \tschedulerFactoryBean.setExposeSchedulerInRepository(true);\r\n        \t\r\n        \tschedulerFactoryBean.setTriggers(cronTriggerBean);\r\n        \t\r\n        \tAutowiringSpringBeanJobFactory jobFactory = new AutowiringSpringBeanJobFactory();\r\n            jobFactory.setApplicationContext(applicationContext);\r\n            schedulerFactoryBean.setJobFactory(jobFactory);\r\n        \t\r\n        \treturn schedulerFactoryBean;\r\n        }\r\n    \r\n    \tpublic void setCronExpression(String cronExpression) {\r\n    \t\tthis.cronExpression = cronExpression;\r\n    \t}\r\n        \r\n        \r\n    }\r\n\r\n(The StatisticsJob class extends QuartzJobBean and implements the executeInternal method). \r\n\r\nThis job executes successfully as per the cron expression after the server starts. However, I would also like to be able to schedule this job at will, like when a user presses a button. In order to do this, I&#39;ve created a restful method inside a controller on which I would like to inject the quartz scheduler, like so:\r\n\r\n    @RequestMapping(value = &quot;/triggerJob&quot;, method = RequestMethod.GET)\r\n    \tpublic ResponseEntity&lt;String&gt; triggerJob(@Qualifier StdSchedulerFactory schedulerFactory) {\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tScheduler scheduler = schedulerFactory.getScheduler();\r\n    \t\t\t\r\n    \t\t\tJobDetail jobDetail = new JobDetail(&quot;statisticsJob&quot;,StatisticsJob.class);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t    \tscheduler.scheduleJob(jobDetail,TriggerUtils.makeImmediateTrigger(&quot;new&quot;,0, 0));\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t} catch (SchedulerException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n    \t\t\t\r\n    \t}\r\n\r\nHowever, the job never gets scheduled, even after the code above is executed. What I am doing wrong? Is there another approach I could try?","title":"Spring Autowire Quartz Scheduler","body":"<p>I have a quartz job running in my web server, configured via Spring as follows:</p>\n\n<pre><code>@Configuration\npublic class StatisticsJobConfig {\n\n    @Bean\n    public JobDetailBean jobDetailBean() {\n        JobDetailBean jobDetailBean = new JobDetailBean();\n        jobDetailBean.setJobClass(StatisticsJob.class);\n        jobDetailBean.setBeanName(\"statisticsJobBean\");\n        jobDetailBean.setName(\"statisticsJob\");\n        jobDetailBean.setGroup(\"default\");\n        return jobDetailBean;\n    }\n\n    @Bean\n    public CronTriggerBean cronTriggerBean(@Qualifier(\"jobDetailBean\") JobDetailBean jobDetailBean) throws ParseException {\n        CronTriggerBean cronTriggerBean = new CronTriggerBean();\n\n        cronTriggerBean.setBeanName(\"cronTriggerBean\");\n        cronTriggerBean.setJobDetail(jobDetailBean);\n        cronTriggerBean.setCronExpression(\"0/5 * * * * ?\");\n\n        return cronTriggerBean;\n\n    }\n\n    @Bean\n    public SchedulerFactoryBean schedulerFactoryBean(@Qualifier(\"cronTriggerBean\") CronTriggerBean cronTriggerBean\n            , @Qualifier ApplicationContext applicationContext) {\n        SchedulerFactoryBean schedulerFactoryBean = new SchedulerFactoryBean();\n        schedulerFactoryBean.setExposeSchedulerInRepository(true);\n\n        schedulerFactoryBean.setTriggers(cronTriggerBean);\n\n        AutowiringSpringBeanJobFactory jobFactory = new AutowiringSpringBeanJobFactory();\n        jobFactory.setApplicationContext(applicationContext);\n        schedulerFactoryBean.setJobFactory(jobFactory);\n\n        return schedulerFactoryBean;\n    }\n\n    public void setCronExpression(String cronExpression) {\n        this.cronExpression = cronExpression;\n    }\n\n\n}\n</code></pre>\n\n<p>(The StatisticsJob class extends QuartzJobBean and implements the executeInternal method). </p>\n\n<p>This job executes successfully as per the cron expression after the server starts. However, I would also like to be able to schedule this job at will, like when a user presses a button. In order to do this, I've created a restful method inside a controller on which I would like to inject the quartz scheduler, like so:</p>\n\n<pre><code>@RequestMapping(value = \"/triggerJob\", method = RequestMethod.GET)\n    public ResponseEntity&lt;String&gt; triggerJob(@Qualifier StdSchedulerFactory schedulerFactory) {\n\n        try {\n            Scheduler scheduler = schedulerFactory.getScheduler();\n\n            JobDetail jobDetail = new JobDetail(\"statisticsJob\",StatisticsJob.class);\n\n\n            scheduler.scheduleJob(jobDetail,TriggerUtils.makeImmediateTrigger(\"new\",0, 0));\n\n\n        } catch (SchedulerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n\n    }\n</code></pre>\n\n<p>However, the job never gets scheduled, even after the code above is executed. What I am doing wrong? Is there another approach I could try?</p>\n"},{"tags":["java","file","rename","file-rename"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":10,"creation_date":1441956121,"post_id":1158777,"comment_id":52893573,"body_markdown":"Your last paragraph does not describe a rename operation at all. It describes an append operation.","body":"Your last paragraph does not describe a rename operation at all. It describes an append operation."}],"answers":[{"tags":[],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1248178102,"creation_date":1248178102,"answer_id":1158787,"question_id":1158777,"body_markdown":"As far as I know, renaming a file will not append its contents to that of an existing file with the target name.\r\n\r\nAbout renaming a file in Java, see the [documentation][1] for the `renameTo()` method in class `File`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo%28java.io.File%29","title":"Rename a file using Java","body":"<p>As far as I know, renaming a file will not append its contents to that of an existing file with the target name.</p>\n\n<p>About renaming a file in Java, see the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo%28java.io.File%29\" rel=\"nofollow noreferrer\">documentation</a> for the <code>renameTo()</code> method in class <code>File</code>.</p>\n"},{"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1248178134,"creation_date":1248178134,"answer_id":1158790,"question_id":1158777,"body_markdown":"You want to utilize the [renameTo][1] method on a [File][2] object.\r\n\r\nFirst, create a File object to represent the destination. Check to see if that file exists. If it doesn&#39;t exist, create a new File object for the file to be moved. call the renameTo method on the file to be moved, and check the returned value from renameTo to see if the call was successful.\r\n\r\nIf you want to append the contents of one file to another, there are a number of writers available. Based on the extension, it sounds like it&#39;s plain text, so I would look at the [FileWriter][3].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo%28java.io.File%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/File.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/io/FileWriter.html","title":"Rename a file using Java","body":"<p>You want to utilize the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo%28java.io.File%29\" rel=\"noreferrer\">renameTo</a> method on a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html\" rel=\"noreferrer\">File</a> object.</p>\n\n<p>First, create a File object to represent the destination. Check to see if that file exists. If it doesn't exist, create a new File object for the file to be moved. call the renameTo method on the file to be moved, and check the returned value from renameTo to see if the call was successful.</p>\n\n<p>If you want to append the contents of one file to another, there are a number of writers available. Based on the extension, it sounds like it's plain text, so I would look at the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileWriter.html\" rel=\"noreferrer\">FileWriter</a>.</p>\n"},{"tags":[],"owner":{"account_id":23234,"reputation":34600,"user_id":58082,"accept_rate":78,"display_name":"Pierre"},"down_vote_count":6,"up_vote_count":217,"is_accepted":false,"score":211,"last_activity_date":1441140761,"creation_date":1248178162,"answer_id":1158792,"question_id":1158777,"body_markdown":"Copied from [http://exampledepot.8waytrips.com/egs/java.io/RenameFile.html][1]\r\n\r\n    // File (or directory) with old name\r\n    File file = new File(&quot;oldname&quot;);\r\n        \r\n    // File (or directory) with new name\r\n    File file2 = new File(&quot;newname&quot;);\r\n\r\n    if (file2.exists())\r\n       throw new java.io.IOException(&quot;file exists&quot;);\r\n        \r\n    // Rename file (or directory)\r\n    boolean success = file.renameTo(file2);\r\n\r\n    if (!success) {\r\n       // File was not successfully renamed\r\n    }\r\n\r\nTo append to the new file:\r\n\r\n    java.io.FileWriter out= new java.io.FileWriter(file2, true /*append=yes*/);\r\n\r\n  \r\n\r\n\r\n  [1]: http://exampledepot.8waytrips.com/egs/java.io/RenameFile.html\r\n\r\n\r\n","title":"Rename a file using Java","body":"<p>Copied from <a href=\"http://exampledepot.8waytrips.com/egs/java.io/RenameFile.html\" rel=\"noreferrer\">http://exampledepot.8waytrips.com/egs/java.io/RenameFile.html</a></p>\n\n<pre><code>// File (or directory) with old name\nFile file = new File(\"oldname\");\n\n// File (or directory) with new name\nFile file2 = new File(\"newname\");\n\nif (file2.exists())\n   throw new java.io.IOException(\"file exists\");\n\n// Rename file (or directory)\nboolean success = file.renameTo(file2);\n\nif (!success) {\n   // File was not successfully renamed\n}\n</code></pre>\n\n<p>To append to the new file:</p>\n\n<pre><code>java.io.FileWriter out= new java.io.FileWriter(file2, true /*append=yes*/);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11356,"reputation":26481,"user_id":21849,"accept_rate":96,"display_name":"Dan Vinton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248178625,"creation_date":1248178249,"answer_id":1158797,"question_id":1158777,"body_markdown":"If it&#39;s just renaming the file, you can use [File.renameTo()][1].\r\n\r\nIn the case where you want to append the contents of the second file to the first, take a look at [FileOutputStream with the append constructor option][2] or [The same thing for FileWriter][3]. You&#39;ll need to read the contents of the file to append and write them out using the output stream/writer.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo(java.io.File)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/io/FileWriter.html","title":"Rename a file using Java","body":"<p>If it's just renaming the file, you can use <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#renameTo(java.io.File)\" rel=\"nofollow noreferrer\">File.renameTo()</a>.</p>\n\n<p>In the case where you want to append the contents of the second file to the first, take a look at <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\">FileOutputStream with the append constructor option</a> or <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\">The same thing for FileWriter</a>. You'll need to read the contents of the file to append and write them out using the output stream/writer.</p>\n"},{"tags":[],"owner":{"account_id":197011,"reputation":2034,"user_id":440795,"accept_rate":38,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1363491952,"creation_date":1363491952,"answer_id":15457315,"question_id":1158777,"body_markdown":"Renaming the file by moving it to a new name. (FileUtils is from Apache Commons IO lib)\r\n      \r\n\r\n      String newFilePath = oldFile.getAbsolutePath().replace(oldFile.getName(), &quot;&quot;) + newName;\r\n      File newFile = new File(newFilePath);\r\n\r\n      try {\r\n        FileUtils.moveFile(oldFile, newFile);\r\n      } catch (IOException e) {\r\n        e.printStackTrace();\r\n      }","title":"Rename a file using Java","body":"<p>Renaming the file by moving it to a new name. (FileUtils is from Apache Commons IO lib)</p>\n\n<pre><code>  String newFilePath = oldFile.getAbsolutePath().replace(oldFile.getName(), \"\") + newName;\n  File newFile = new File(newFilePath);\n\n  try {\n    FileUtils.moveFile(oldFile, newFile);\n  } catch (IOException e) {\n    e.printStackTrace();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1460103592,"creation_date":1374855495,"answer_id":17886288,"question_id":1158777,"body_markdown":"For Java 1.6 and lower, I believe the safest and cleanest API for this is Guava&#39;s [Files.move][1].\r\n\r\nExample:\r\n\r\n    File newFile = new File(oldFile.getParent(), &quot;new-file-name.txt&quot;);\r\n    Files.move(oldFile.toPath(), newFile.toPath());\r\n\r\nThe first line makes sure that the location of the new file is the same directory, i.e. the  _parent directory_ of the old file.\r\n\r\n**EDIT:**\r\nI wrote this before I started using Java 7, which introduced a very similar approach. So if you&#39;re using Java 7+, you should see and upvote kr37&#39;s answer.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#move%28java.io.File,%20java.io.File%29","title":"Rename a file using Java","body":"<p>For Java 1.6 and lower, I believe the safest and cleanest API for this is Guava's <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html#move%28java.io.File,%20java.io.File%29\" rel=\"noreferrer\">Files.move</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>File newFile = new File(oldFile.getParent(), \"new-file-name.txt\");\nFiles.move(oldFile.toPath(), newFile.toPath());\n</code></pre>\n\n<p>The first line makes sure that the location of the new file is the same directory, i.e. the  <em>parent directory</em> of the old file.</p>\n\n<p><strong>EDIT:</strong>\nI wrote this before I started using Java 7, which introduced a very similar approach. So if you're using Java 7+, you should see and upvote kr37's answer.</p>\n"},{"tags":[],"owner":{"account_id":3650804,"reputation":1681,"user_id":3043044,"display_name":"kr37"},"down_vote_count":1,"up_vote_count":158,"is_accepted":false,"score":157,"last_activity_date":1596026734,"creation_date":1385624320,"answer_id":20260300,"question_id":1158777,"body_markdown":"In short:\r\n\r\n    Files.move(source, source.resolveSibling(&quot;newname&quot;));\r\n\r\nMore detail:\r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardCopyOption;\r\n\r\nThe following is copied directly from http://docs.oracle.com/javase/7/docs/api/index.html:\r\n\r\nSuppose we want to rename a file to &quot;newname&quot;, keeping the file in the same directory:\r\n\r\n    Path source = Paths.get(&quot;path/here&quot;);\r\n    Files.move(source, source.resolveSibling(&quot;newname&quot;));\r\n \r\n\r\nAlternatively, suppose we want to move a file to new directory, keeping the same file name, and replacing any existing file of that name in the directory:\r\n\r\n    Path source = Paths.get(&quot;from/path&quot;);\r\n    Path newdir = Paths.get(&quot;to/path&quot;);\r\n    Files.move(source, newdir.resolve(source.getFileName()), StandardCopyOption.REPLACE_EXISTING);\r\n ","title":"Rename a file using Java","body":"<p>In short:</p>\n<pre><code>Files.move(source, source.resolveSibling(&quot;newname&quot;));\n</code></pre>\n<p>More detail:</p>\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\n</code></pre>\n<p>The following is copied directly from <a href=\"http://docs.oracle.com/javase/7/docs/api/index.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/index.html</a>:</p>\n<p>Suppose we want to rename a file to &quot;newname&quot;, keeping the file in the same directory:</p>\n<pre><code>Path source = Paths.get(&quot;path/here&quot;);\nFiles.move(source, source.resolveSibling(&quot;newname&quot;));\n</code></pre>\n<p>Alternatively, suppose we want to move a file to new directory, keeping the same file name, and replacing any existing file of that name in the directory:</p>\n<pre><code>Path source = Paths.get(&quot;from/path&quot;);\nPath newdir = Paths.get(&quot;to/path&quot;);\nFiles.move(source, newdir.resolve(source.getFileName()), StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1643336,"reputation":2196,"user_id":1515379,"accept_rate":83,"display_name":"senior"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1425484840,"creation_date":1425484840,"answer_id":28859044,"question_id":1158777,"body_markdown":"This is an easy way to rename a file:\r\n\r\n            File oldfile =new File(&quot;test.txt&quot;);\r\n    \t\tFile newfile =new File(&quot;test1.txt&quot;);\r\n     \r\n    \t\tif(oldfile.renameTo(newfile)){\r\n    \t\t\tSystem.out.println(&quot;File renamed&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;Sorry! the file can&#39;t be renamed&quot;);\r\n    \t\t}","title":"Rename a file using Java","body":"<p>This is an easy way to rename a file:</p>\n\n<pre><code>        File oldfile =new File(\"test.txt\");\n        File newfile =new File(\"test1.txt\");\n\n        if(oldfile.renameTo(newfile)){\n            System.out.println(\"File renamed\");\n        }else{\n            System.out.println(\"Sorry! the file can't be renamed\");\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1490354869,"creation_date":1490354869,"answer_id":42998359,"question_id":1158777,"body_markdown":"    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import static java.nio.file.StandardCopyOption.*;\r\n    \r\n    Path yourFile = Paths.get(&quot;path_to_your_file\\text.txt&quot;);\r\n    \r\n    Files.move(yourFile, yourFile.resolveSibling(&quot;text1.txt&quot;));\r\n\r\nTo replace an existing file with the name &quot;text1.txt&quot;:    \r\n\r\n    Files.move(yourFile, yourFile.resolveSibling(&quot;text1.txt&quot;),REPLACE_EXISTING);","title":"Rename a file using Java","body":"<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport static java.nio.file.StandardCopyOption.*;\n\nPath yourFile = Paths.get(\"path_to_your_file\\text.txt\");\n\nFiles.move(yourFile, yourFile.resolveSibling(\"text1.txt\"));\n</code></pre>\n\n<p>To replace an existing file with the name \"text1.txt\":    </p>\n\n<pre><code>Files.move(yourFile, yourFile.resolveSibling(\"text1.txt\"),REPLACE_EXISTING);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900304,"reputation":722,"user_id":6643968,"display_name":"Zhurov Konstantin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490884565,"creation_date":1490879541,"answer_id":43118940,"question_id":1158777,"body_markdown":"    Files.move(file.toPath(), fileNew.toPath()); \r\n\r\nworks, but only when you close (or autoclose) ALL used resources (`InputStream`, `FileOutputStream` etc.) I think the same situation with  `file.renameTo` or `FileUtils.moveFile`.","title":"Rename a file using Java","body":"<pre><code>Files.move(file.toPath(), fileNew.toPath()); \n</code></pre>\n\n<p>works, but only when you close (or autoclose) ALL used resources (<code>InputStream</code>, <code>FileOutputStream</code> etc.) I think the same situation with  <code>file.renameTo</code> or <code>FileUtils.moveFile</code>.</p>\n"},{"tags":[],"owner":{"account_id":7393746,"reputation":1,"user_id":5626395,"display_name":"Dinesh Kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1506154130,"creation_date":1506146698,"answer_id":46376593,"question_id":1158777,"body_markdown":"Running code is here.\r\n\r\n    private static void renameFile(File fileName) {\r\n    \r\n        FileOutputStream fileOutputStream =null;\r\n    \r\n        BufferedReader br = null;\r\n        FileReader fr = null;\r\n    \r\n        String newFileName = &quot;yourNewFileName&quot;\r\n    \r\n        try {\r\n            fileOutputStream = new FileOutputStream(newFileName);\r\n    \r\n            fr = new FileReader(fileName);\r\n            br = new BufferedReader(fr);\r\n    \r\n            String sCurrentLine;\r\n    \r\n            while ((sCurrentLine = br.readLine()) != null) {\r\n                fileOutputStream.write((&quot;\\n&quot;+sCurrentLine).getBytes());\r\n            }\r\n\r\n            fileOutputStream.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                fileOutputStream.close();\r\n                if (br != null)\r\n                    br.close();\r\n\r\n                if (fr != null)\r\n                    fr.close();\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Rename a file using Java","body":"<p>Running code is here.</p>\n\n<pre><code>private static void renameFile(File fileName) {\n\n    FileOutputStream fileOutputStream =null;\n\n    BufferedReader br = null;\n    FileReader fr = null;\n\n    String newFileName = \"yourNewFileName\"\n\n    try {\n        fileOutputStream = new FileOutputStream(newFileName);\n\n        fr = new FileReader(fileName);\n        br = new BufferedReader(fr);\n\n        String sCurrentLine;\n\n        while ((sCurrentLine = br.readLine()) != null) {\n            fileOutputStream.write((\"\\n\"+sCurrentLine).getBytes());\n        }\n\n        fileOutputStream.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            fileOutputStream.close();\n            if (br != null)\n                br.close();\n\n            if (fr != null)\n                fr.close();\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7147888,"reputation":3217,"user_id":5462988,"display_name":"anoopknr"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1524050297,"creation_date":1522001116,"answer_id":49479122,"question_id":1158777,"body_markdown":"Try This\r\n\r\n    File file=new File(&quot;Your File&quot;);\r\n    boolean renameResult = file.renameTo(new File(&quot;New Name&quot;));\r\n    // todo: check renameResult\r\n\r\n**Note :** \r\nWe should always check the renameTo return value to make sure rename file is successful because it’s platform dependent(different Operating system, different file system) and it doesn’t throw IO exception if rename fails.","title":"Rename a file using Java","body":"<p>Try This</p>\n\n<pre><code>File file=new File(\"Your File\");\nboolean renameResult = file.renameTo(new File(\"New Name\"));\n// todo: check renameResult\n</code></pre>\n\n<p><strong>Note :</strong> \nWe should always check the renameTo return value to make sure rename file is successful because it’s platform dependent(different Operating system, different file system) and it doesn’t throw IO exception if rename fails.</p>\n"},{"tags":[],"owner":{"account_id":10427139,"reputation":139,"user_id":7688028,"display_name":"Tạ Anh T&#250;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536634190,"creation_date":1536634190,"answer_id":52268014,"question_id":1158777,"body_markdown":"Here is my code to rename multiple files in a folder successfully:\r\n\r\n    public static void renameAllFilesInFolder(String folderPath, String newName, String extension) {\r\n\t\tif(newName == null || newName.equals(&quot;&quot;)) {\r\n\t\t\tSystem.out.println(&quot;New name cannot be null or empty&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(extension == null || extension.equals(&quot;&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Extension cannot be null or empty&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tFile dir = new File(folderPath);\r\n\r\n\t\tint i = 1;\r\n\t\tif (dir.isDirectory()) { // make sure it&#39;s a directory\r\n\t\t    for (final File f : dir.listFiles()) {\r\n\t\t        try {\r\n\t\t            File newfile = new File(folderPath + &quot;\\\\&quot; + newName + &quot;_&quot; + i + &quot;.&quot; + extension);\r\n\r\n\t\t            if(f.renameTo(newfile)){\r\n\t\t                System.out.println(&quot;Rename succesful: &quot; + newName + &quot;_&quot; + i + &quot;.&quot; + extension);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Rename failed&quot;);\r\n\t\t\t\t\t}\r\n\t\t            i++;\r\n\t\t        } catch (Exception e) {\r\n\t\t            e.printStackTrace();\r\n\t\t        }\r\n\t\t    }\r\n\t\t}\r\n\r\n\t}\r\n\r\nand run it for an example:\r\n\r\n    renameAllFilesInFolder(&quot;E:\\\\Downloads\\\\Foldername&quot;, &quot;my_avatar&quot;, &quot;gif&quot;);","title":"Rename a file using Java","body":"<p>Here is my code to rename multiple files in a folder successfully:</p>\n\n<pre><code>public static void renameAllFilesInFolder(String folderPath, String newName, String extension) {\n    if(newName == null || newName.equals(\"\")) {\n        System.out.println(\"New name cannot be null or empty\");\n        return;\n    }\n    if(extension == null || extension.equals(\"\")) {\n        System.out.println(\"Extension cannot be null or empty\");\n        return;\n    }\n\n    File dir = new File(folderPath);\n\n    int i = 1;\n    if (dir.isDirectory()) { // make sure it's a directory\n        for (final File f : dir.listFiles()) {\n            try {\n                File newfile = new File(folderPath + \"\\\\\" + newName + \"_\" + i + \".\" + extension);\n\n                if(f.renameTo(newfile)){\n                    System.out.println(\"Rename succesful: \" + newName + \"_\" + i + \".\" + extension);\n                } else {\n                    System.out.println(\"Rename failed\");\n                }\n                i++;\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>and run it for an example:</p>\n\n<pre><code>renameAllFilesInFolder(\"E:\\\\Downloads\\\\Foldername\", \"my_avatar\", \"gif\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5558081,"reputation":71,"user_id":4408712,"display_name":"V1ma-8"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545859263,"creation_date":1545859263,"answer_id":53937294,"question_id":1158777,"body_markdown":"Yes, you can use File.renameTo(). But remember to have the correct path while renaming it to a new file.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class FileRenameUtility {\r\n    public static void main(String[] a) {\r\n        System.out.println(&quot;FileRenameUtility&quot;);\r\n        FileRenameUtility renameUtility = new FileRenameUtility();\r\n        renameUtility.fileRename(&quot;c:/Temp&quot;);\r\n    }\r\n\r\n    private void fileRename(String folder){\r\n        File file = new File(folder);\r\n        System.out.println(&quot;Reading this &quot;+file.toString());\r\n        if(file.isDirectory()){\r\n            File[] files = file.listFiles();\r\n            List&lt;File&gt; filelist = Arrays.asList(files);\r\n            filelist.forEach(f-&gt;{\r\n               if(!f.isDirectory() &amp;&amp; f.getName().startsWith(&quot;Old&quot;)){\r\n                   System.out.println(f.getAbsolutePath());\r\n                   String newName = f.getAbsolutePath().replace(&quot;Old&quot;,&quot;New&quot;);\r\n                   boolean isRenamed = f.renameTo(new File(newName));\r\n                   if(isRenamed)\r\n                       System.out.println(String.format(&quot;Renamed this file %s to  %s&quot;,f.getName(),newName));\r\n                   else\r\n                       System.out.println(String.format(&quot;%s file is not renamed to %s&quot;,f.getName(),newName));\r\n               }\r\n            });\r\n\r\n        }\r\n    }\r\n}","title":"Rename a file using Java","body":"<p>Yes, you can use File.renameTo(). But remember to have the correct path while renaming it to a new file.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic class FileRenameUtility {\npublic static void main(String[] a) {\n    System.out.println(\"FileRenameUtility\");\n    FileRenameUtility renameUtility = new FileRenameUtility();\n    renameUtility.fileRename(\"c:/Temp\");\n}\n\nprivate void fileRename(String folder){\n    File file = new File(folder);\n    System.out.println(\"Reading this \"+file.toString());\n    if(file.isDirectory()){\n        File[] files = file.listFiles();\n        List&lt;File&gt; filelist = Arrays.asList(files);\n        filelist.forEach(f-&gt;{\n           if(!f.isDirectory() &amp;&amp; f.getName().startsWith(\"Old\")){\n               System.out.println(f.getAbsolutePath());\n               String newName = f.getAbsolutePath().replace(\"Old\",\"New\");\n               boolean isRenamed = f.renameTo(new File(newName));\n               if(isRenamed)\n                   System.out.println(String.format(\"Renamed this file %s to  %s\",f.getName(),newName));\n               else\n                   System.out.println(String.format(\"%s file is not renamed to %s\",f.getName(),newName));\n           }\n        });\n\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":4363169,"reputation":1,"user_id":3559656,"display_name":"respenica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648137027,"creation_date":1648137027,"answer_id":71605535,"question_id":1158777,"body_markdown":"I do not like java.io.File.renameTo(...) because sometimes it does not renames the file and you do not know why! It just returns true of false. It does not thrown an exception if it fails.\r\n\r\nOn the other hand, java.nio.file.Files.move(...) is more useful as it throws an exception when it fails.\r\n\r\n","title":"Rename a file using Java","body":"<p>I do not like java.io.File.renameTo(...) because sometimes it does not renames the file and you do not know why! It just returns true of false. It does not thrown an exception if it fails.</p>\n<p>On the other hand, java.nio.file.Files.move(...) is more useful as it throws an exception when it fails.</p>\n"}],"owner":{"display_name":"Shekhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550362,"favorite_count":0,"down_vote_count":0,"up_vote_count":218,"answer_count":15,"score":218,"last_activity_date":1648137027,"creation_date":1248177911,"question_id":1158777,"body_markdown":"Can we rename a file say `test.txt` to `test1.txt` ?\r\n\r\nIf `test1.txt` exists will it rename ? \r\n\r\nHow do I rename it to the already existing test1.txt file so the new contents of test.txt are added to it for later use?","title":"Rename a file using Java","body":"<p>Can we rename a file say <code>test.txt</code> to <code>test1.txt</code> ?</p>\n\n<p>If <code>test1.txt</code> exists will it rename ? </p>\n\n<p>How do I rename it to the already existing test1.txt file so the new contents of test.txt are added to it for later use?</p>\n"},{"tags":["javascript","java","sharepoint","sharepoint-designer"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648136548,"post_id":71605235,"comment_id":126553166,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":14064695,"reputation":933,"user_id":18098502,"display_name":"Dylan El Bar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648136827,"creation_date":1648136502,"answer_id":71605417,"question_id":71605235,"body_markdown":"You can try the following:\r\n- Find which event is fired when a user change the first dropdown value\r\n- Register a function to this event \r\n- In this function, detect what is the new input from the first dropdown. Check it, and change the value of the second dropdown depending on this check (https://stackoverflow.com/questions/78932/how-do-i-programmatically-set-the-value-of-a-select-box-element-using-javascript could be useful for the implementation)\r\n\r\nIf you have issue trying to do it, do not hesitate to ask :)","title":"Prepopulate dropdown with query script - Javascript Shareflex","body":"<p>You can try the following:</p>\n<ul>\n<li>Find which event is fired when a user change the first dropdown value</li>\n<li>Register a function to this event</li>\n<li>In this function, detect what is the new input from the first dropdown. Check it, and change the value of the second dropdown depending on this check (<a href=\"https://stackoverflow.com/questions/78932/how-do-i-programmatically-set-the-value-of-a-select-box-element-using-javascript\">How do I programmatically set the value of a select box element using JavaScript?</a> could be useful for the implementation)</li>\n</ul>\n<p>If you have issue trying to do it, do not hesitate to ask :)</p>\n"}],"owner":{"account_id":24328545,"reputation":9,"user_id":18267759,"display_name":"RMMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648136827,"creation_date":1648135774,"question_id":71605235,"body_markdown":"I have a dropdown with 4 options. I want these options to be prepopulated depending on value that is selected from a different field. The different field is a &quot;countries&quot; field.\r\n\r\nIf country &quot;A&quot; or country &quot;b&quot; is selected, I want the dropdown to populate option 1.\r\nIf a different country, populate option 2.\r\n\r\nThanks in advance\r\n\r\n","title":"Prepopulate dropdown with query script - Javascript Shareflex","body":"<p>I have a dropdown with 4 options. I want these options to be prepopulated depending on value that is selected from a different field. The different field is a &quot;countries&quot; field.</p>\n<p>If country &quot;A&quot; or country &quot;b&quot; is selected, I want the dropdown to populate option 1.\nIf a different country, populate option 2.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","firebase","backend"],"comments":[{"owner":{"account_id":952084,"reputation":9544,"user_id":978005,"accept_rate":82,"display_name":"Phix"},"score":0,"creation_date":1648057161,"post_id":71591631,"comment_id":126530214,"body_markdown":"First place to check is the docs. Can you post code of what you&#39;re trying to do?","body":"First place to check is the docs. Can you post code of what you&#39;re trying to do?"},{"owner":{"account_id":23992731,"reputation":1,"user_id":17978617,"display_name":"Phoebe Baldwin"},"score":0,"creation_date":1648057756,"post_id":71591631,"comment_id":126530458,"body_markdown":"@Phix posted the function im trying to retrieve all the values associated with the string stored in another collection called food emissions by the value stored in the key variable","body":"@Phix posted the function im trying to retrieve all the values associated with the string stored in another collection called food emissions by the value stored in the key variable"},{"owner":{"account_id":23992731,"reputation":1,"user_id":17978617,"display_name":"Phoebe Baldwin"},"score":0,"creation_date":1648057839,"post_id":71591631,"comment_id":126530489,"body_markdown":"so essentially have a where statement to filter the collection data based on the string stored in key","body":"so essentially have a where statement to filter the collection data based on the string stored in key"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648102399,"post_id":71591631,"comment_id":126540236,"body_markdown":"You say Firestore, but you&#39;re code for the Realtime Database. Show us your real database.","body":"You say Firestore, but you&#39;re code for the Realtime Database. Show us your real database."},{"owner":{"account_id":23992731,"reputation":1,"user_id":17978617,"display_name":"Phoebe Baldwin"},"score":0,"creation_date":1648134027,"post_id":71591631,"comment_id":126552014,"body_markdown":"@AlexMamo ive just updated the code","body":"@AlexMamo ive just updated the code"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648136648,"post_id":71591631,"comment_id":126553208,"body_markdown":"I was referring to the database you&#39;re using, not the code.","body":"I was referring to the database you&#39;re using, not the code."}],"answers":[{"tags":[],"owner":{"account_id":23992731,"reputation":1,"user_id":17978617,"display_name":"Phoebe Baldwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648136763,"creation_date":1648136763,"answer_id":71605474,"question_id":71591631,"body_markdown":"ok so I fixed this by just avoiding the hashmap completely and filtering the data returned from the collection like this. \r\n\r\n\r\n       public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                Map&lt;String, Object&gt; map = task.getResult().getData();\r\n                                for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()){\r\n                                    if(entry.getKey().equals(key)) {\r\n                                        Double co2 = Double.parseDouble(entry.getValue().toString());\r\n                                        Co2eqTemp = co2 * values;\r\n                                    }\r\n                                    Co2eq = Co2eq + Co2eqTemp;\r\n                                }\r\n                               \r\n                           }","title":"retrieving data from cloud firestore","body":"<p>ok so I fixed this by just avoiding the hashmap completely and filtering the data returned from the collection like this.</p>\n<pre><code>   public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                        if(task.isSuccessful()){\n                            Map&lt;String, Object&gt; map = task.getResult().getData();\n                            for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()){\n                                if(entry.getKey().equals(key)) {\n                                    Double co2 = Double.parseDouble(entry.getValue().toString());\n                                    Co2eqTemp = co2 * values;\n                                }\n                                Co2eq = Co2eq + Co2eqTemp;\n                            }\n                           \n                       }\n</code></pre>\n"}],"owner":{"account_id":23992731,"reputation":1,"user_id":17978617,"display_name":"Phoebe Baldwin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648136763,"creation_date":1648056885,"question_id":71591631,"body_markdown":"Hi im trying to retrieve values from a cloud firestore document in a collection based on a string query to filter the keys but cant seem to find any help online. Please assist or direct to existing solutions. Thanks. this is in java as well.\r\n\r\n- I havent tried anything yet as I&#39;m not too sure what functions provide this\r\n  \r\n\r\nim trying to filter a collection called food emissions with the key from this function \r\n\r\nUPDATE \r\n\r\nive retrieved the data from the firestore collection and stored in a hashmap called food data. im now trying to filter this hashmap based on a string stored in the variable key and assign the value that matches to the variable co2EqTemp. however when I make a toast of the value thats stored in co2EqTemp it just says it is referencing a null value\r\n\r\n            private void addMeal() {\r\n                mealname =  mealName.getText().toString();\r\n                if(mealname.isEmpty()){\r\n                    mealName.setError(&quot;Please name your meal!&quot;);\r\n                    mealName.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                String UserID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n                FirebaseDatabase fDatabase = FirebaseDatabase.getInstance();\r\n                fDbRef = fDatabase.getReference(&quot;MealLists&quot;);\r\n\r\n                for(Map.Entry&lt;String,Double&gt; entry: food.entrySet()){\r\n\r\n                    key = entry.getKey();\r\n                    values = entry.getValue();\r\n\r\n                    foodAmount = values.toString();\r\n                    mealData meals = new mealData(key, UserID, foodAmount);\r\n                    fDbRef.child(mealname).setValue(meals);\r\n\r\n\r\n                    makeToast(mealname);\r\n                     foodRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                            if(task.isSuccessful()){\r\n                                Map&lt;String, Object&gt; map = task.getResult().getData();\r\n                                for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()){\r\n                                    foodData.put(entry.getKey(),entry.getValue());\r\n                                }\r\n                                for(Map.Entry&lt;String, Object&gt; entry: foodData.entrySet()){\r\n                                    if (entry.getKey().equals(key)){\r\n                                        Co2eqTemp = (Double) entry.getValue();\r\n                                    }\r\n                                    Co2eq = Co2eq + Co2eqTemp;\r\n                                }\r\n\r\n                            }\r\n                        }\r\n\r\n                    });\r\n\r\n\r\n                }\r\n                storeMeal();\r\n            }\r\n        });\r\n\r\n","title":"retrieving data from cloud firestore","body":"<p>Hi im trying to retrieve values from a cloud firestore document in a collection based on a string query to filter the keys but cant seem to find any help online. Please assist or direct to existing solutions. Thanks. this is in java as well.</p>\n<ul>\n<li>I havent tried anything yet as I'm not too sure what functions provide this</li>\n</ul>\n<p>im trying to filter a collection called food emissions with the key from this function</p>\n<p>UPDATE</p>\n<p>ive retrieved the data from the firestore collection and stored in a hashmap called food data. im now trying to filter this hashmap based on a string stored in the variable key and assign the value that matches to the variable co2EqTemp. however when I make a toast of the value thats stored in co2EqTemp it just says it is referencing a null value</p>\n<pre><code>        private void addMeal() {\n            mealname =  mealName.getText().toString();\n            if(mealname.isEmpty()){\n                mealName.setError(&quot;Please name your meal!&quot;);\n                mealName.requestFocus();\n                return;\n            }\n\n            String UserID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            FirebaseDatabase fDatabase = FirebaseDatabase.getInstance();\n            fDbRef = fDatabase.getReference(&quot;MealLists&quot;);\n\n            for(Map.Entry&lt;String,Double&gt; entry: food.entrySet()){\n\n                key = entry.getKey();\n                values = entry.getValue();\n\n                foodAmount = values.toString();\n                mealData meals = new mealData(key, UserID, foodAmount);\n                fDbRef.child(mealname).setValue(meals);\n\n\n                makeToast(mealname);\n                 foodRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                        if(task.isSuccessful()){\n                            Map&lt;String, Object&gt; map = task.getResult().getData();\n                            for(Map.Entry&lt;String, Object&gt; entry : map.entrySet()){\n                                foodData.put(entry.getKey(),entry.getValue());\n                            }\n                            for(Map.Entry&lt;String, Object&gt; entry: foodData.entrySet()){\n                                if (entry.getKey().equals(key)){\n                                    Co2eqTemp = (Double) entry.getValue();\n                                }\n                                Co2eq = Co2eq + Co2eqTemp;\n                            }\n\n                        }\n                    }\n\n                });\n\n\n            }\n            storeMeal();\n        }\n    });\n</code></pre>\n"},{"tags":["java","android","firebase","android-recyclerview","android-viewholder"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1648136519,"post_id":71605264,"comment_id":126553147,"body_markdown":"Show us the code that doesn&#39;t work the way you expect.","body":"Show us the code that doesn&#39;t work the way you expect."},{"owner":{"account_id":21265424,"reputation":25,"user_id":15950254,"display_name":"Drakan x"},"score":0,"creation_date":1648139285,"post_id":71605264,"comment_id":126554355,"body_markdown":"i can adapt this model and pass the 4 text to the textview description... but is not a great solution","body":"i can adapt this model and pass the 4 text to the textview description... but is not a great solution"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648145865,"post_id":71605264,"comment_id":126556923,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":21265424,"reputation":25,"user_id":15950254,"display_name":"Drakan x"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648136712,"creation_date":1648135895,"question_id":71605264,"body_markdown":"i need 2 diferentes layouts (recyclerview) for my app i&#39;m using Firebase, the problem is when i trying to use another modal and another Adapter for the firebase i got an error.\r\n\r\nRequired type:\r\n\r\nFirebaseRecyclerOptions\r\n\r\n\\&lt;PTsModal\\&gt;\r\n\r\nProvided:\r\n\r\nFirebaseRecyclerOptions\r\n\r\n\\&lt;TRsModal\\&gt;\r\n\r\nI Don&#39;t want to change from ModalTRs to ModalPTs i want to use both for diferent layouts is there any solution?\r\n\r\nI dind&#39;t find any solution in the internet\r\n\r\n\r\nPtsModal (same as TrsModal with other variables)\r\n\r\n    public class PTsModal\r\n    {\r\n    PTsModal()\r\n    {\r\n\r\n    }\r\n    public PTsModal(String titulo, String desc, String imgurl)\r\n    {\r\n        this.titulo = titulo;\r\n        this.desc = desc;\r\n        this.imgurl = imgurl;\r\n    }\r\n\r\n    public String getTitulo()\r\n    {\r\n        return titulo;\r\n    }\r\n\r\n    public void setTitulo(String titulo)\r\n    {\r\n        this.titulo = titulo;\r\n    }\r\n\r\n    public String getDesc()\r\n    {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc)\r\n    {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public String getImgurl()\r\n    {\r\n        return imgurl;\r\n    }\r\n\r\n    public void setImgurl(String imgurl)\r\n    {\r\n        this.imgurl = imgurl;\r\n    }\r\n\r\n    String titulo, desc, imgurl;\r\n\r\n}\r\n\r\n\r\nAdapter\r\n\r\n    public class ProgramAdapter extends FirebaseRecyclerAdapter&lt;PTsModal,ProgramAdapter.myViewHolder&gt;\r\n    {\r\n\r\n    /**\r\n     * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\r\n     * {@link FirebaseRecyclerOptions} for configuration options.\r\n     *\r\n     * @param options\r\n     */\r\n    public ProgramAdapter(@NonNull FirebaseRecyclerOptions&lt;PTsModal&gt; options)\r\n    {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull PTsModal model)\r\n    {\r\n        holder.titulo.setText(model.getTitulo());\r\n        holder.desc.setText(model.getDesc());\r\n\r\n        Glide.with(holder.img1.getContext()).load(model.getImgurl())\r\n                .placeholder(R.drawable.common_google_signin_btn_icon_dark)\r\n                .error(R.drawable.common_google_signin_btn_icon_dark_focused)\r\n                .into(holder.img1);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.box,parent,false);\r\n        return new myViewHolder(view);\r\n    }\r\n\r\n    class myViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        ImageView img1;\r\n        TextView titulo, desc;\r\n\r\n        public myViewHolder(@NonNull View itemView)\r\n        {\r\n            super(itemView);\r\n            img1 = (ImageView)itemView.findViewById(R.id.imagem_box);\r\n            titulo = (TextView) itemView.findViewById(R.id.txt_titulo);\r\n            desc = (TextView) itemView.findViewById(R.id.txt_desc);\r\n        }\r\n    }\r\n}\r\n pts.activity\r\n\r\n    public class Boticas_PT extends AppCompatActivity\r\n       {\r\n        RecyclerView recyclerView;\r\n        ProgramAdapter  programadapter;\r\n        RecyclerView.LayoutManager layoutmanager;\r\n        DrawerLayout drawerLayout;\r\n        Toolbar toolbar;\r\n        NavigationView navigationView;\r\n        //Indicar Titulo, descricao e imagem(mesmo tamanho)\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.boticas_pt);\r\n            //Menu e recyclerview\r\n            recyclerView = findViewById(R.id.recyclerview);\r\n            layoutmanager = new LinearLayoutManager(this);\r\n            recyclerView.setLayoutManager(layoutmanager);\r\n            NavigationView navigationView = (NavigationView) findViewById(R.id.navigationview);\r\n            navigationView.setItemIconTintList(null);\r\n            drawerLayout = findViewById(R.id.drawerlayout);\r\n            setSupportActionBar(toolbar);\r\n            navigationView = findViewById(R.id.navigationview);\r\n            toolbar = findViewById(R.id.toolbar);\r\n            ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar,\r\n                    R.string.navigration_open, R.string.navigration_close);\r\n            drawerLayout.addDrawerListener(toggle);\r\n            toggle.syncState();\r\n            layoutmanager = new LinearLayoutManager(this);\r\n            recyclerView.setLayoutManager(layoutmanager);\r\n            recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n            //Liga&#231;&#227;o &#224; base de dados\r\n            FirebaseRecyclerOptions&lt;PTsModal&gt; options = new FirebaseRecyclerOptions.Builder&lt;PTsModal&gt;()\r\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;PtsBoticas&quot;), PTsModal.class).build();\r\n            programadapter = new ProgramAdapter(options);\r\n            recyclerView.setAdapter(programadapter);\r\n        }\r\n        //Base de dados buscar dados\r\n        @Override\r\n        protected void onStart()\r\n        {\r\n            super.onStart();\r\n            programadapter.startListening();\r\n        }\r\n        @Override\r\n        protected void  onStop()\r\n        {\r\n            super.onStop();\r\n            programadapter.stopListening();\r\n        }\r\n\r\nTrs.activity\r\n\r\n    {\r\n    RecyclerView recyclerView;\r\n    ProgramAdapter  programadapter2;\r\n    RecyclerView.LayoutManager layoutmanager;\r\n    DrawerLayout drawerLayout;\r\n    Toolbar toolbar;\r\n    NavigationView navigationView;\r\n    //Indicar Titulo, descricao e imagem(mesmo tamanho)\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.boticas_tr);\r\n\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        layoutmanager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutmanager);\r\n        NavigationView navigationView = (NavigationView) findViewById(R.id.navigationview);\r\n        navigationView.setItemIconTintList(null);\r\n        drawerLayout = findViewById(R.id.drawerlayout);\r\n        setSupportActionBar(toolbar);\r\n        navigationView = findViewById(R.id.navigationview);\r\n        toolbar = findViewById(R.id.toolbar);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar,\r\n                R.string.navigration_open, R.string.navigration_close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n        layoutmanager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutmanager);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        //Liga&#231;&#227;o &#224; base de dados\r\n        FirebaseRecyclerOptions&lt;TRsModal&gt; options = new FirebaseRecyclerOptions.Builder&lt;TRsModal&gt;()\r\n                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;TRsBoticas&quot;), TRsModal.class).build();\r\n        **programadapter2 = new ProgramAdapter(options);**//here i got error\r\n        recyclerView.setAdapter(programadapter2);\r\n    }","title":"FireBaseRecyclerOptions with different modals (androidStudio)","body":"<p>i need 2 diferentes layouts (recyclerview) for my app i'm using Firebase, the problem is when i trying to use another modal and another Adapter for the firebase i got an error.</p>\n<p>Required type:</p>\n<p>FirebaseRecyclerOptions</p>\n<p>&lt;PTsModal&gt;</p>\n<p>Provided:</p>\n<p>FirebaseRecyclerOptions</p>\n<p>&lt;TRsModal&gt;</p>\n<p>I Don't want to change from ModalTRs to ModalPTs i want to use both for diferent layouts is there any solution?</p>\n<p>I dind't find any solution in the internet</p>\n<p>PtsModal (same as TrsModal with other variables)</p>\n<pre><code>public class PTsModal\n{\nPTsModal()\n{\n\n}\npublic PTsModal(String titulo, String desc, String imgurl)\n{\n    this.titulo = titulo;\n    this.desc = desc;\n    this.imgurl = imgurl;\n}\n\npublic String getTitulo()\n{\n    return titulo;\n}\n\npublic void setTitulo(String titulo)\n{\n    this.titulo = titulo;\n}\n\npublic String getDesc()\n{\n    return desc;\n}\n\npublic void setDesc(String desc)\n{\n    this.desc = desc;\n}\n\npublic String getImgurl()\n{\n    return imgurl;\n}\n\npublic void setImgurl(String imgurl)\n{\n    this.imgurl = imgurl;\n}\n\nString titulo, desc, imgurl;\n</code></pre>\n<p>}</p>\n<p>Adapter</p>\n<pre><code>public class ProgramAdapter extends FirebaseRecyclerAdapter&lt;PTsModal,ProgramAdapter.myViewHolder&gt;\n{\n\n/**\n * Initialize a {@link RecyclerView.Adapter} that listens to a Firebase query. See\n * {@link FirebaseRecyclerOptions} for configuration options.\n *\n * @param options\n */\npublic ProgramAdapter(@NonNull FirebaseRecyclerOptions&lt;PTsModal&gt; options)\n{\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull myViewHolder holder, int position, @NonNull PTsModal model)\n{\n    holder.titulo.setText(model.getTitulo());\n    holder.desc.setText(model.getDesc());\n\n    Glide.with(holder.img1.getContext()).load(model.getImgurl())\n            .placeholder(R.drawable.common_google_signin_btn_icon_dark)\n            .error(R.drawable.common_google_signin_btn_icon_dark_focused)\n            .into(holder.img1);\n}\n\n@NonNull\n@Override\npublic myViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n{\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.box,parent,false);\n    return new myViewHolder(view);\n}\n\nclass myViewHolder extends RecyclerView.ViewHolder\n{\n    ImageView img1;\n    TextView titulo, desc;\n\n    public myViewHolder(@NonNull View itemView)\n    {\n        super(itemView);\n        img1 = (ImageView)itemView.findViewById(R.id.imagem_box);\n        titulo = (TextView) itemView.findViewById(R.id.txt_titulo);\n        desc = (TextView) itemView.findViewById(R.id.txt_desc);\n    }\n}\n</code></pre>\n<p>}\npts.activity</p>\n<pre><code>public class Boticas_PT extends AppCompatActivity\n   {\n    RecyclerView recyclerView;\n    ProgramAdapter  programadapter;\n    RecyclerView.LayoutManager layoutmanager;\n    DrawerLayout drawerLayout;\n    Toolbar toolbar;\n    NavigationView navigationView;\n    //Indicar Titulo, descricao e imagem(mesmo tamanho)\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.boticas_pt);\n        //Menu e recyclerview\n        recyclerView = findViewById(R.id.recyclerview);\n        layoutmanager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutmanager);\n        NavigationView navigationView = (NavigationView) findViewById(R.id.navigationview);\n        navigationView.setItemIconTintList(null);\n        drawerLayout = findViewById(R.id.drawerlayout);\n        setSupportActionBar(toolbar);\n        navigationView = findViewById(R.id.navigationview);\n        toolbar = findViewById(R.id.toolbar);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar,\n                R.string.navigration_open, R.string.navigration_close);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n        layoutmanager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutmanager);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        //Ligação à base de dados\n        FirebaseRecyclerOptions&lt;PTsModal&gt; options = new FirebaseRecyclerOptions.Builder&lt;PTsModal&gt;()\n                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;PtsBoticas&quot;), PTsModal.class).build();\n        programadapter = new ProgramAdapter(options);\n        recyclerView.setAdapter(programadapter);\n    }\n    //Base de dados buscar dados\n    @Override\n    protected void onStart()\n    {\n        super.onStart();\n        programadapter.startListening();\n    }\n    @Override\n    protected void  onStop()\n    {\n        super.onStop();\n        programadapter.stopListening();\n    }\n</code></pre>\n<p>Trs.activity</p>\n<pre><code>{\nRecyclerView recyclerView;\nProgramAdapter  programadapter2;\nRecyclerView.LayoutManager layoutmanager;\nDrawerLayout drawerLayout;\nToolbar toolbar;\nNavigationView navigationView;\n//Indicar Titulo, descricao e imagem(mesmo tamanho)\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.boticas_tr);\n\n    recyclerView = findViewById(R.id.recyclerview);\n    layoutmanager = new LinearLayoutManager(this);\n    recyclerView.setLayoutManager(layoutmanager);\n    NavigationView navigationView = (NavigationView) findViewById(R.id.navigationview);\n    navigationView.setItemIconTintList(null);\n    drawerLayout = findViewById(R.id.drawerlayout);\n    setSupportActionBar(toolbar);\n    navigationView = findViewById(R.id.navigationview);\n    toolbar = findViewById(R.id.toolbar);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar,\n            R.string.navigration_open, R.string.navigration_close);\n    drawerLayout.addDrawerListener(toggle);\n    toggle.syncState();\n    layoutmanager = new LinearLayoutManager(this);\n    recyclerView.setLayoutManager(layoutmanager);\n    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    //Ligação à base de dados\n    FirebaseRecyclerOptions&lt;TRsModal&gt; options = new FirebaseRecyclerOptions.Builder&lt;TRsModal&gt;()\n            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;TRsBoticas&quot;), TRsModal.class).build();\n    **programadapter2 = new ProgramAdapter(options);**//here i got error\n    recyclerView.setAdapter(programadapter2);\n}\n</code></pre>\n"},{"tags":["java","callable"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1648136770,"post_id":71605352,"comment_id":126553264,"body_markdown":"I think what you&#39;re looking for is a callback. There are several ways to go about, but that&#39;s what I suggest you research, then you can get rid of your blocking future.get() call.","body":"I think what you&#39;re looking for is a callback. There are several ways to go about, but that&#39;s what I suggest you research, then you can get rid of your blocking future.get() call."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648137059,"post_id":71605352,"comment_id":126553394,"body_markdown":"Err, I don&#39;t get your problem. You call `get()` on your future, and as documented ... that call blocks until the result is available. So the real answer here is: don&#39;t just put down some code. You have to understand what the library classes/methods that you are using are doing.","body":"Err, I don&#39;t get your problem. You call <code>get()</code> on your future, and as documented ... that call blocks until the result is available. So the real answer here is: don&#39;t just put down some code. You have to understand what the library classes/methods that you are using are doing."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1648137063,"post_id":71605352,"comment_id":126553395,"body_markdown":"@Ryan I need the main thread to run async task and not wait result. But after e.g. 30 second the async task must return boolean. Is it possible?","body":"@Ryan I need the main thread to run async task and not wait result. But after e.g. 30 second the async task must return boolean. Is it possible?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1648137169,"post_id":71605352,"comment_id":126553448,"body_markdown":"Then do not call future.get() on the main thread. You are explicitly pulling the brake, and then you keep wondering why the car gets slower. *Wanting* to go faster doesn&#39;t help when you are actively pulling the brakes &#129335;‍♂️","body":"Then do not call future.get() on the main thread. You are explicitly pulling the brake, and then you keep wondering why the car gets slower. <i>Wanting</i> to go faster doesn&#39;t help when you are actively pulling the brakes 🤷‍♂️"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1648137281,"post_id":71605352,"comment_id":126553499,"body_markdown":"Yes, but you have to organize your code.  With a callback, you pass a lambda or another class to your callable to be called when your callable completes.  By doing that you don&#39;t need to wait for the callable to complete, the class or operation that needs to information will be notified when the data is ready.","body":"Yes, but you have to organize your code.  With a callback, you pass a lambda or another class to your callable to be called when your callable completes.  By doing that you don&#39;t need to wait for the callable to complete, the class or operation that needs to information will be notified when the data is ready."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648136703,"creation_date":1648136703,"answer_id":71605464,"question_id":71605352,"body_markdown":"The main thread is blocked on the call to `future.get()` until the task completes. Remove this call and your second log statement will print immediately.\r\n\r\nThat addresses what you asked exactly. But I doubt it is what you want.\r\n\r\nThe purpose of submitting an *asynchronous* task is to permit the main thread to carry on immediately *with other work.* If the main thread requires the result of the task to proceed, the task is not a candidate for performing asynchronously.\r\n\r\nInstead, add the processing of the result to the asynchronous task itself. Then the main thread does not have to wait for the result.","title":"I need not wait until executing async method call()","body":"<p>The main thread is blocked on the call to <code>future.get()</code> until the task completes. Remove this call and your second log statement will print immediately.</p>\n<p>That addresses what you asked exactly. But I doubt it is what you want.</p>\n<p>The purpose of submitting an <em>asynchronous</em> task is to permit the main thread to carry on immediately <em>with other work.</em> If the main thread requires the result of the task to proceed, the task is not a candidate for performing asynchronously.</p>\n<p>Instead, add the processing of the result to the asynchronous task itself. Then the main thread does not have to wait for the result.</p>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648137772,"accepted_answer_id":71605464,"answer_count":1,"score":1,"last_activity_date":1648136703,"creation_date":1648136210,"question_id":71605352,"body_markdown":"I need to do some async method. And not wait until it executing. I try with Future but it not help.\r\n\r\n    Future&lt;Boolean&gt; future = executorService.submit(new MyCallable());\r\n    LOGGER.info(&quot;onFailedLogonLimitAttempt: before&quot;);\r\n    \t\t\t\t\t\tif (future.get().booleanValue()) {\r\n                              // some code here\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tLOGGER.info(&quot;onFailedLogonLimitAttempt: after&quot;);\r\n    \r\n    public class MyCallable implements Callable&lt;Boolean&gt; {\r\n    \r\n    \t\t// The call() method is called in order to execute the asynchronous task.\r\n    \t\t@Override\r\n    \t\tpublic Boolean call() throws Exception {\r\n    \t\t\ttry {\r\n    \t\t\t\tLOGGER.info(&quot;MyCallable: start&quot;);\r\n    \t\t\t\tThread.sleep(10000L);\r\n    \t\t\t\tLOGGER.info(&quot;MyCallable: alarm_cleanup_stop 10 seconds&quot;);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tThread.currentThread().interrupt();\r\n    \t\t\t}\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nBut here logs:\r\n\r\n    2022-03-24 17:28:55.436 INFO  [SomeClass:http-nio-172.19.5.163-8091-exec-10] onFailedLogonLimitAttempt: before\r\n    2022-03-24 17:28:55.436 INFO  [SomeClass:pool-24-thread-1] MyCallable: start\r\n    ...\r\n    ...\r\n    ...\r\n    2022-03-24 17:29:05.437 INFO  [SomeClass:pool-24-thread-1] MyCallable: alarm_cleanup_stop 10 seconds\r\n    2022-03-24 17:29:05.441 INFO  [SomeClass:http-nio-172.19.5.163-8091-exec-10] onFailedLogonLimitAttempt: after\r\n\r\n\r\n\r\nAs you can see the log print &quot;**onFailedLogonLimitAttempt: after**&quot; is call AFTER 10 seconds.\r\nBut I need log to print imedaitly after &quot;**onFailedLogonLimitAttempt: before**&quot;. To not wait unit async method call is finish.","title":"I need not wait until executing async method call()","body":"<p>I need to do some async method. And not wait until it executing. I try with Future but it not help.</p>\n<pre><code>Future&lt;Boolean&gt; future = executorService.submit(new MyCallable());\nLOGGER.info(&quot;onFailedLogonLimitAttempt: before&quot;);\n                        if (future.get().booleanValue()) {\n                          // some code here\n                        }\n                        LOGGER.info(&quot;onFailedLogonLimitAttempt: after&quot;);\n\npublic class MyCallable implements Callable&lt;Boolean&gt; {\n\n        // The call() method is called in order to execute the asynchronous task.\n        @Override\n        public Boolean call() throws Exception {\n            try {\n                LOGGER.info(&quot;MyCallable: start&quot;);\n                Thread.sleep(10000L);\n                LOGGER.info(&quot;MyCallable: alarm_cleanup_stop 10 seconds&quot;);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n            return true;\n        }\n    }\n</code></pre>\n<p>But here logs:</p>\n<pre><code>2022-03-24 17:28:55.436 INFO  [SomeClass:http-nio-172.19.5.163-8091-exec-10] onFailedLogonLimitAttempt: before\n2022-03-24 17:28:55.436 INFO  [SomeClass:pool-24-thread-1] MyCallable: start\n...\n...\n...\n2022-03-24 17:29:05.437 INFO  [SomeClass:pool-24-thread-1] MyCallable: alarm_cleanup_stop 10 seconds\n2022-03-24 17:29:05.441 INFO  [SomeClass:http-nio-172.19.5.163-8091-exec-10] onFailedLogonLimitAttempt: after\n</code></pre>\n<p>As you can see the log print &quot;<strong>onFailedLogonLimitAttempt: after</strong>&quot; is call AFTER 10 seconds.\nBut I need log to print imedaitly after &quot;<strong>onFailedLogonLimitAttempt: before</strong>&quot;. To not wait unit async method call is finish.</p>\n"},{"tags":["java","logging","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648135450,"creation_date":1648135450,"answer_id":71605150,"question_id":71430215,"body_markdown":"The answer is complex.\r\n\r\nFor the additive appender (above) the ObjectMapper that is used to do it is created in DiscoverableSubtypeResolver and not in the base deserializer. So you cannot register your factory programatically, but must instead add it to the META-INF\\services\\io.dropwizard.logging.AppenderFactory file (which you will need to copy from the dropwizard jar and then add your factory).\r\n\r\nThat will at least get your factory hit (although there are other dropwizard problems that you may encounter, but they are beyond the scope of this question).","title":"Dropwizard logging instance in filename with multiple appenders","body":"<p>The answer is complex.</p>\n<p>For the additive appender (above) the ObjectMapper that is used to do it is created in DiscoverableSubtypeResolver and not in the base deserializer. So you cannot register your factory programatically, but must instead add it to the META-INF\\services\\io.dropwizard.logging.AppenderFactory file (which you will need to copy from the dropwizard jar and then add your factory).</p>\n<p>That will at least get your factory hit (although there are other dropwizard problems that you may encounter, but they are beyond the scope of this question).</p>\n"}],"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605150,"answer_count":1,"score":0,"last_activity_date":1648135450,"creation_date":1646943126,"question_id":71430215,"body_markdown":"This is using Dropwizard&#39;s logging with Yaml file and some java.\r\n\r\nI wanted to add an instance field in the Dropwizard filename, so that the logs can go handle multiple instances. This was not too difficult. I build a FileAppenderFactory and on buildAppender I just getCurrentLogFilename(), modify it for the instance number, and then setIt. Ditto for the archived name. All well and good.\r\n\r\nThe problem was when I wanted to add a second file appender (for metrics).\r\n\r\nSo before I had\r\n```\r\nlogging:\r\n  loggers:\r\n    // etc etc\r\n  appenders:\r\n    - type: file\r\n    // etc etc\r\n```\r\n\r\nNow I have:\r\n```\r\nlogging:\r\n  loggers:\r\n    // etc etc\r\n    my.metrics.logger:\r\n      additive: false\r\n      //etc etc\r\n      appenders:\r\n      - type: file\r\n      // etc etc -- I can&#39;t modify this name\r\n  appenders:\r\n    - type: file\r\n    // etc etc -- I see this name when it&#39;s built!\r\n```\r\n\r\nI would have expected the FileAppenderFactory to be called twice (once for the appenders for all the loggers, and once for the non-additive appender for metrics), but it is still only called once, so I can&#39;t intercept the name for the metrics file to fix. \r\n\r\nI&#39;ve looked in the logging context and I could go context --&gt; loggerCache --&gt; my.metrics.logger --&gt; aai --&gt; appenderList (AsyncAppender) --&gt; aai --&gt; appenderList (RollingFileAppender) and fix that fileName (and rolling policy), assuming that I can access that, but that&#39;s a big hack.\r\n\r\nIs there something I&#39;m missing? How are multiple file appenders created if the MyFileAppenderFactory&#39;s build method is only called once.\r\n\r\nUpdate -- I do see that that the other one is being built through the default FileAppenderFactory, but I&#39;ve no idea why its going through the default FileAppenderFactory when I&#39;ve mapped &quot;file&quot; to MyFileAppenderFactory.class .... which again worked for the other appender.","title":"Dropwizard logging instance in filename with multiple appenders","body":"<p>This is using Dropwizard's logging with Yaml file and some java.</p>\n<p>I wanted to add an instance field in the Dropwizard filename, so that the logs can go handle multiple instances. This was not too difficult. I build a FileAppenderFactory and on buildAppender I just getCurrentLogFilename(), modify it for the instance number, and then setIt. Ditto for the archived name. All well and good.</p>\n<p>The problem was when I wanted to add a second file appender (for metrics).</p>\n<p>So before I had</p>\n<pre><code>logging:\n  loggers:\n    // etc etc\n  appenders:\n    - type: file\n    // etc etc\n</code></pre>\n<p>Now I have:</p>\n<pre><code>logging:\n  loggers:\n    // etc etc\n    my.metrics.logger:\n      additive: false\n      //etc etc\n      appenders:\n      - type: file\n      // etc etc -- I can't modify this name\n  appenders:\n    - type: file\n    // etc etc -- I see this name when it's built!\n</code></pre>\n<p>I would have expected the FileAppenderFactory to be called twice (once for the appenders for all the loggers, and once for the non-additive appender for metrics), but it is still only called once, so I can't intercept the name for the metrics file to fix.</p>\n<p>I've looked in the logging context and I could go context --&gt; loggerCache --&gt; my.metrics.logger --&gt; aai --&gt; appenderList (AsyncAppender) --&gt; aai --&gt; appenderList (RollingFileAppender) and fix that fileName (and rolling policy), assuming that I can access that, but that's a big hack.</p>\n<p>Is there something I'm missing? How are multiple file appenders created if the MyFileAppenderFactory's build method is only called once.</p>\n<p>Update -- I do see that that the other one is being built through the default FileAppenderFactory, but I've no idea why its going through the default FileAppenderFactory when I've mapped &quot;file&quot; to MyFileAppenderFactory.class .... which again worked for the other appender.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","google-cloud-platform"],"owner":{"reputation":81,"user_id":10957686,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648135419,"creation_date":1551791561,"question_id":55003695,"body_markdown":"**I am using postgresSQL instance on google cloud platform in spring boot app with spring data JPA.**\r\n\r\nBut i am not able to connect to postgresSQL instance at the time of deployment.\r\nI am not really sure on what dependency is required for this and what is the application properties configuration.\r\n\r\n\r\nhere is the code.\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://google/postgres?cloudSqlInstance=&lt;instance-name&gt;&amp;socketFactory=com.google.cloud.sql.postgres.SocketFactory\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=postgres\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\npom.xml\r\n\r\n             &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-sql-postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\napp.yml for deployment on flex environment:\r\n\r\n    runtime: java\r\n    env: flex\r\n    service: payment2\r\n    handlers:\r\n    - url: /.*\r\n      script: this field is required, but ignored\r\n    beta_settings:\r\n        cloud_sql_instances: &lt;instance-name&gt;\r\n\r\nThanks in advance.Please help!!!","title":"Google Cloud postgres instance not able to connect to spring boot app","body":"<p><strong>I am using postgresSQL instance on google cloud platform in spring boot app with spring data JPA.</strong></p>\n\n<p>But i am not able to connect to postgresSQL instance at the time of deployment.\nI am not really sure on what dependency is required for this and what is the application properties configuration.</p>\n\n<p>here is the code.</p>\n\n<p>application.properties</p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://google/postgres?cloudSqlInstance=&lt;instance-name&gt;&amp;socketFactory=com.google.cloud.sql.postgres.SocketFactory\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgres-socket-factory&lt;/artifactId&gt;\n            &lt;version&gt;1.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-sql-postgresql&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>app.yml for deployment on flex environment:</p>\n\n<pre><code>runtime: java\nenv: flex\nservice: payment2\nhandlers:\n- url: /.*\n  script: this field is required, but ignored\nbeta_settings:\n    cloud_sql_instances: &lt;instance-name&gt;\n</code></pre>\n\n<p>Thanks in advance.Please help!!!</p>\n"},{"tags":["java","serialization","executable-jar","serializable","file-writing"],"comments":[{"owner":{"account_id":2522425,"reputation":577,"user_id":2192527,"accept_rate":61,"display_name":"Dave"},"score":0,"creation_date":1648137174,"post_id":71603298,"comment_id":126553451,"body_markdown":"Perhaps if you printed out the value of &#39;MEMORY_DIR&#39; and then tried accessing  that value if might give you a clue as to  which file your programming is attempting to access.","body":"Perhaps if you printed out the value of &#39;MEMORY_DIR&#39; and then tried accessing  that value if might give you a clue as to  which file your programming is attempting to access."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648135233,"creation_date":1648135233,"answer_id":71605097,"question_id":71603298,"body_markdown":"The best way to find out what’s really happening is with these steps:\r\n\r\n* Replace all usage of java.io.File with the newer [Path](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Path.html) class.\r\n* Replace all usage of FileOutputStream with [Files.newOutputStream](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#newOutputStream(java.nio.file.Path,java.nio.file.OpenOption...)).\r\n* Make sure every single `catch` block prints a stack trace.\r\n\r\njava.io.File is a very old class.  It has a number of design flaws, simply because API design wasn’t as well understood in 1995.\r\n\r\nBut the [java.nio.file](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/package-summary.html) package is more modern and corrects all of those problems.  It also has much more detailed and informative exceptions.\r\n\r\nUsing that package looks very similar:\r\n\r\n    public void writeToMemory(SaveClass object) {\r\n        try (ObjectOutputStream o = new ObjectOutputStream(\r\n            Files.newOutputStream(\r\n                Paths.get(MEMORY_DIR)))) {\r\n\r\n            //write object to file\r\n            o.writeObject(object);\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error initializing stream&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis will print an exception that explains exactly why the file cannot be written.\r\n\r\n(Notice that I am using a [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement—that is, the ObjectOutputStream creation is inside parentheses right after `try`—which will automatically close the ObjectOutputStream, which in turn will close the underlying OutputStream.)\r\n","title":"Write class objects from a running jar file to a file in another directory","body":"<p>The best way to find out what’s really happening is with these steps:</p>\n<ul>\n<li>Replace all usage of java.io.File with the newer <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> class.</li>\n<li>Replace all usage of FileOutputStream with <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#newOutputStream(java.nio.file.Path,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">Files.newOutputStream</a>.</li>\n<li>Make sure every single <code>catch</code> block prints a stack trace.</li>\n</ul>\n<p>java.io.File is a very old class.  It has a number of design flaws, simply because API design wasn’t as well understood in 1995.</p>\n<p>But the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/package-summary.html\" rel=\"nofollow noreferrer\">java.nio.file</a> package is more modern and corrects all of those problems.  It also has much more detailed and informative exceptions.</p>\n<p>Using that package looks very similar:</p>\n<pre><code>public void writeToMemory(SaveClass object) {\n    try (ObjectOutputStream o = new ObjectOutputStream(\n        Files.newOutputStream(\n            Paths.get(MEMORY_DIR)))) {\n\n        //write object to file\n        o.writeObject(object);\n\n    } catch (IOException e) {\n        System.out.println(&quot;Error initializing stream&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This will print an exception that explains exactly why the file cannot be written.</p>\n<p>(Notice that I am using a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement—that is, the ObjectOutputStream creation is inside parentheses right after <code>try</code>—which will automatically close the ObjectOutputStream, which in turn will close the underlying OutputStream.)</p>\n"}],"owner":{"account_id":24673555,"reputation":3,"user_id":18568247,"display_name":"EFB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71605097,"answer_count":1,"score":0,"last_activity_date":1648135233,"creation_date":1648128095,"question_id":71603298,"body_markdown":"Basically my program reads parameters from a class object in a memory-file at startup and if parameters are changed in the running program it overwrites memory-file and reads from it again to update parameters.\r\n\r\nMy application works as should in the IDE.\r\nThen I built my first jar from my IDE and ran it from a batch-file and it works, but not as expected.\r\n\r\nIf the memory-file exists it is reed at program startup without problem.\r\n\r\nBut when I try to change program parameters or start program without memory-file and it is supposed to overwrite the memory-file with updated class object alt. create a new, it returns &quot;FileNotFoundException&quot;.\r\n\r\nHere is my amateur code, I created a class with the purpose of writing/reading a &quot;SaveClass&quot; object to/from a text file:\r\n\r\n```java\r\npublic class ManageMemory {\r\n    //filepath\r\n    private String MEMORY_DIR = new StringBuffer(System.getProperty(&quot;user.home&quot;))\r\n            .append(&quot;\\\\Documents\\\\memory.txt&quot;).toString();\r\n    private File targetFile = new File (MEMORY_DIR);\r\n\r\n    //writes selected object to txt-file&quot; with exceptions included\r\n    public void writeToMemory(SaveClass object) {\r\n        try {\r\n            FileOutputStream f = new FileOutputStream(MEMORY_DIR);\r\n            ObjectOutputStream o = new ObjectOutputStream(f);\r\n            //write object to file\r\n            o.writeObject(object);\r\n\r\n            o.close();\r\n            f.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found while writing&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error initializing stream&quot;);\r\n        }\r\n    }\r\n\r\n    //reads current object in memory directory\r\n    public SaveClass readFromMemory() {\r\n        SaveClass inMemory = new SaveClass();\r\n        if (!targetFile.exists()) {\r\n            writeToMemory(inMemory);\r\n        }\r\n        try {\r\n            FileInputStream f = new FileInputStream(MEMORY_DIR);\r\n            ObjectInputStream o = new ObjectInputStream(f);\r\n\r\n            inMemory = (SaveClass) o.readObject();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found while reading&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error initializing stream&quot;);\r\n        } catch (ClassNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return inMemory;\r\n    }\r\n}\r\n```\r\n\r\nI have searched for information about how to approach my problem, but not found much I understand.\r\nI tested to print the canWrite() on my save file while running the .jar program and it returned true.","title":"Write class objects from a running jar file to a file in another directory","body":"<p>Basically my program reads parameters from a class object in a memory-file at startup and if parameters are changed in the running program it overwrites memory-file and reads from it again to update parameters.</p>\n<p>My application works as should in the IDE.\nThen I built my first jar from my IDE and ran it from a batch-file and it works, but not as expected.</p>\n<p>If the memory-file exists it is reed at program startup without problem.</p>\n<p>But when I try to change program parameters or start program without memory-file and it is supposed to overwrite the memory-file with updated class object alt. create a new, it returns &quot;FileNotFoundException&quot;.</p>\n<p>Here is my amateur code, I created a class with the purpose of writing/reading a &quot;SaveClass&quot; object to/from a text file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ManageMemory {\n    //filepath\n    private String MEMORY_DIR = new StringBuffer(System.getProperty(&quot;user.home&quot;))\n            .append(&quot;\\\\Documents\\\\memory.txt&quot;).toString();\n    private File targetFile = new File (MEMORY_DIR);\n\n    //writes selected object to txt-file&quot; with exceptions included\n    public void writeToMemory(SaveClass object) {\n        try {\n            FileOutputStream f = new FileOutputStream(MEMORY_DIR);\n            ObjectOutputStream o = new ObjectOutputStream(f);\n            //write object to file\n            o.writeObject(object);\n\n            o.close();\n            f.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found while writing&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error initializing stream&quot;);\n        }\n    }\n\n    //reads current object in memory directory\n    public SaveClass readFromMemory() {\n        SaveClass inMemory = new SaveClass();\n        if (!targetFile.exists()) {\n            writeToMemory(inMemory);\n        }\n        try {\n            FileInputStream f = new FileInputStream(MEMORY_DIR);\n            ObjectInputStream o = new ObjectInputStream(f);\n\n            inMemory = (SaveClass) o.readObject();\n\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;File not found while reading&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;Error initializing stream&quot;);\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return inMemory;\n    }\n}\n</code></pre>\n<p>I have searched for information about how to approach my problem, but not found much I understand.\nI tested to print the canWrite() on my save file while running the .jar program and it returned true.</p>\n"},{"tags":["java","batch-file","paradox"],"comments":[{"owner":{"account_id":2440205,"reputation":77906,"user_id":2128947,"display_name":"Magoo"},"score":2,"creation_date":1648103520,"post_id":71597835,"comment_id":126540487,"body_markdown":"I&#39;d suggest that you try converting 1 table at a time.","body":"I&#39;d suggest that you try converting 1 table at a time."},{"owner":{"account_id":1551890,"reputation":2015,"user_id":1444097,"accept_rate":97,"display_name":"Dmitrij Holkin"},"score":0,"creation_date":1648103629,"post_id":71597835,"comment_id":126540517,"body_markdown":"but then i got 176tables in separate files, it is a huge job","body":"but then i got 176tables in separate files, it is a huge job"}],"answers":[{"tags":[],"owner":{"account_id":19521793,"reputation":1481,"user_id":14283489,"display_name":"Wisblade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648121550,"creation_date":1648121550,"answer_id":71601721,"question_id":71597835,"body_markdown":"1. Yes, but you&#39;ll need to call Win32 function `CreateProcess` from a homemade program in C/C++. You can then have 32768 chars for your command line, but **nothing** guarantee you that `java.exe` can accept it.\r\n2. Yes, use a `for` command within your batch.\r\n3. Don&#39;t know, I didn&#39;t look at the Java code.\r\n\r\nNormally, something like this should work: it would convert each file one at a time, but it will process all files automatically.\r\n```bat\r\n@echo off\r\nsetlocal EnableDelayedExpansion\r\n\r\npushd %~dp0\r\nREM Parse all files in same folder as the batch.\r\nfor %%I in (*.*) do (\r\n\tcall :process_file &quot;%%~dpnxI&quot;\r\n)\r\npopd\r\ngoto :eof\r\n\r\nREM Convert ONE database file.\r\n:process_file\r\nREM Add as many NON convertible extensions as needed.\r\nif /i %~x1==.bat goto :ignored\r\nif /i %~x1==.jar goto :ignored\r\nREM Effective conversion.\r\necho Converting file: %~1\r\njava -jar &quot;%~dp0client-0.0.5.jar&quot; convert --output-format=mysql &quot;%~dpnx1&quot; Output/\r\ngoto :eof\r\n:ignored\r\necho Ignoring file: %~1\r\ngoto :eof\r\n```","title":"Borland Paradox converter to mysql","body":"<ol>\n<li>Yes, but you'll need to call Win32 function <code>CreateProcess</code> from a homemade program in C/C++. You can then have 32768 chars for your command line, but <strong>nothing</strong> guarantee you that <code>java.exe</code> can accept it.</li>\n<li>Yes, use a <code>for</code> command within your batch.</li>\n<li>Don't know, I didn't look at the Java code.</li>\n</ol>\n<p>Normally, something like this should work: it would convert each file one at a time, but it will process all files automatically.</p>\n<pre><code>@echo off\nsetlocal EnableDelayedExpansion\n\npushd %~dp0\nREM Parse all files in same folder as the batch.\nfor %%I in (*.*) do (\n    call :process_file &quot;%%~dpnxI&quot;\n)\npopd\ngoto :eof\n\nREM Convert ONE database file.\n:process_file\nREM Add as many NON convertible extensions as needed.\nif /i %~x1==.bat goto :ignored\nif /i %~x1==.jar goto :ignored\nREM Effective conversion.\necho Converting file: %~1\njava -jar &quot;%~dp0client-0.0.5.jar&quot; convert --output-format=mysql &quot;%~dpnx1&quot; Output/\ngoto :eof\n:ignored\necho Ignoring file: %~1\ngoto :eof\n</code></pre>\n"}],"owner":{"account_id":1551890,"reputation":2015,"user_id":1444097,"accept_rate":97,"display_name":"Dmitrij Holkin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648134144,"accepted_answer_id":71601721,"answer_count":1,"score":1,"last_activity_date":1648135044,"creation_date":1648102682,"question_id":71597835,"body_markdown":"Trying to use this converter https://www.rebasedata.com/convert-paradox-to-mysql-online\r\nBut the problem is that I have a Borland Paradox 5 database, which has 745 files and 176 DBS, and I exceed query length limits running this java applet.\r\n\r\nI tried using a batch-file;\r\n\r\n    java -jar &quot;%~dp0\\client-0.0.5.jar&quot; convert --output-format=mysql &quot;%~dp0ABALANS.DB&quot; &quot;%~dp0ABALANS.PX&quot; &quot;%~dp0ABALANS.YG0&quot; &quot;%~dp0ABALANS.XG0&quot; ... Output/\r\n\r\nbut all exceed query limits.\r\n\r\nSo my questions is:\r\n1. Are there ways to bypass query length limits using a batch-file?\r\n2. Are there ways to set a folder in this applet to automatically collect all files inside?\r\n3. Are there ways to change java code to set folder in this applet to automatically collect all files inside?","title":"Borland Paradox converter to mysql","body":"<p>Trying to use this converter <a href=\"https://www.rebasedata.com/convert-paradox-to-mysql-online\" rel=\"nofollow noreferrer\">https://www.rebasedata.com/convert-paradox-to-mysql-online</a>\nBut the problem is that I have a Borland Paradox 5 database, which has 745 files and 176 DBS, and I exceed query length limits running this java applet.</p>\n<p>I tried using a batch-file;</p>\n<pre><code>java -jar &quot;%~dp0\\client-0.0.5.jar&quot; convert --output-format=mysql &quot;%~dp0ABALANS.DB&quot; &quot;%~dp0ABALANS.PX&quot; &quot;%~dp0ABALANS.YG0&quot; &quot;%~dp0ABALANS.XG0&quot; ... Output/\n</code></pre>\n<p>but all exceed query limits.</p>\n<p>So my questions is:</p>\n<ol>\n<li>Are there ways to bypass query length limits using a batch-file?</li>\n<li>Are there ways to set a folder in this applet to automatically collect all files inside?</li>\n<li>Are there ways to change java code to set folder in this applet to automatically collect all files inside?</li>\n</ol>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1648133862,"post_id":71604722,"comment_id":126551943,"body_markdown":"Your field is named `annee` not `anne` as you have written in your `findbyMoisAndAnneAndEmploye` method.","body":"Your field is named <code>annee</code> not <code>anne</code> as you have written in your <code>findbyMoisAndAnneAndEmploye</code> method."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1648134093,"post_id":71604722,"comment_id":126552041,"body_markdown":"@M.Deinum I seriously could not even read the code that fast","body":"@M.Deinum I seriously could not even read the code that fast"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1648134133,"post_id":71604722,"comment_id":126552066,"body_markdown":"Also it should most likely be `findByMois...` and not `findbyMois...` (note the capital B).","body":"Also it should most likely be <code>findByMois...</code> and not <code>findbyMois...</code> (note the capital B)."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1648134366,"post_id":71604722,"comment_id":126552196,"body_markdown":"The reason for the error is in the error message itself. Unfortunately, the way you pasted it makes it very difficult to find. Please paste properly formatted messages next time. The cause of the problem in this instance is: &quot;No property findbyMois found for type TaxeIR&quot;","body":"The reason for the error is in the error message itself. Unfortunately, the way you pasted it makes it very difficult to find. Please paste properly formatted messages next time. The cause of the problem in this instance is: &quot;No property findbyMois found for type TaxeIR&quot;"},{"owner":{"account_id":18497547,"reputation":35,"user_id":13475627,"display_name":"Poui"},"score":0,"creation_date":1648134817,"post_id":71604722,"comment_id":126552391,"body_markdown":"Thanks a lot ! I am correcting thoses mistakes.","body":"Thanks a lot ! I am correcting thoses mistakes."}],"answers":[{"tags":[],"owner":{"account_id":3431695,"reputation":26,"user_id":2875924,"display_name":"Bart van der Geest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648134695,"creation_date":1648134695,"answer_id":71604979,"question_id":71604722,"body_markdown":"It&#39;s a silly little mistake, but the devil&#39;s in de detail.\r\n\r\nYou need to use CamelCasing for this method:\r\n```\r\nTaxeIR findbyMoisAndAnneAndEmploye(int mois,int annee,Employe employe);\r\n```\r\n\r\nYou have &#39;findby&#39; and it needs to be &#39;findBy&#39;. Capital B.\r\n\r\nSee this answer if you want further details:\r\nhttps://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception","title":"Error creating bean with name &#39;taxeIRImpl&#39;","body":"<p>It's a silly little mistake, but the devil's in de detail.</p>\n<p>You need to use CamelCasing for this method:</p>\n<pre><code>TaxeIR findbyMoisAndAnneAndEmploye(int mois,int annee,Employe employe);\n</code></pre>\n<p>You have 'findby' and it needs to be 'findBy'. Capital B.</p>\n<p>See this answer if you want further details:\n<a href=\"https://stackoverflow.com/questions/19583540/spring-data-jpa-no-property-found-for-type-exception\">Spring Data JPA - &quot;No Property Found for Type&quot; Exception</a></p>\n"}],"owner":{"account_id":18497547,"reputation":35,"user_id":13475627,"display_name":"Poui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71604979,"answer_count":1,"score":-1,"last_activity_date":1648134889,"creation_date":1648133669,"question_id":71604722,"body_markdown":"When I try to run my project I get this error :\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;taxeIRImpl&#39;: Unsatisfied dependency expressed through field &#39;taxeIRDao&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;taxeIRDao&#39; defined in com.example.taxe.dao.TaxeIRDao defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! Reason: Failed to create query for method public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! No property findbyMois found for type TaxeIR!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! No property findbyMois found for type TaxeIR! \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.15.jar:5.3.15] \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.15.jar:5.3.15] \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15] \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3] \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3] \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3] \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3] \tat com.example.taxe.ProjetTaxeIrApplication.main(ProjetTaxeIrApplication.java:10) ~[classes/:na]\r\n```\r\n\r\nHere are my beans :\r\n\r\n```\r\n@Entity\r\npublic class TaxeIR {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private int mois;\r\n    private int annee;\r\n    @ManyToOne\r\n    private Employe employe;\r\n    @ManyToOne\r\n    private Employeur employeur;\r\n    private double salaire;\r\n    private double cotisation;\r\n    private String employeICE;\r\n    @ManyToOne\r\n    private User user;\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Employe {\r\n    @Id @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String cin;\r\n    private String nom;\r\n    private String prenom;\r\n    private double salaire;\r\n    @ManyToOne\r\n    private Employeur employeur;\r\n```\r\n\r\n```\r\n@Repository\r\npublic interface TaxeIRDao extends JpaRepository&lt;TaxeIR, Long&gt; {\r\n    TaxeIR findbyMoisAndAnneAndEmploye(int mois,int annee,Employe employe);\r\n    List&lt;TaxeIR&gt; findByEmployeCin(String cin);\r\n    List&lt;TaxeIR&gt; findByUserLogin(String login);\r\n    List&lt;TaxeIR&gt; findByEmployeICE(String rc);\r\n}\r\n```\r\n\r\n```\r\n\r\n@Service\r\npublic class TaxeIRImpl implements TaxeIRService {\r\n    @Autowired\r\n    TaxeIRDao taxeIRDao;\r\n\r\n    @Override\r\n    public List&lt;TaxeIR&gt; findByEmployeCin(String cin) {\r\n        return findByEmployeCin(cin);}\r\n\r\n    @Override\r\n    public List&lt;TaxeIR&gt; findByUserLogin(String login) {\r\n        return findByUserLogin(login);}\r\n\r\n    @Override\r\n    public TaxeIR findbyMoisAndAnneAndEmploye(int mois, int annee, Employe employe) {\r\n        return findbyMoisAndAnneAndEmploye(mois,annee,employe);}\r\n\r\n    @Override\r\n    public List&lt;TaxeIR&gt; findByEmployeICE(String rc) {\r\n        return taxeIRDao.findByEmployeICE(rc);}\r\n    @Override\r\n    public int save(TaxeIR taxeIR) {\r\n        TaxeIR taxeIRfound = findbyMoisAndAnneAndEmploye(taxeIR.getMois(),taxeIR.getAnnee(),taxeIR.getEmploye());\r\n        if(taxeIRfound!=null)\r\n            return -1;\r\n        else {\r\n            taxeIRDao.save(taxeIR);\r\n            return 1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/taxeIR&quot;)\r\npublic class TaxeIRWs {\r\n    @Autowired\r\n    private TaxeIRImpl taxeIRImpl;\r\n    @GetMapping(&quot;/cin/{cin}&quot;)\r\n    public List&lt;TaxeIR&gt; findByEmployeCin(@PathVariable String cin) {\r\n        return taxeIRImpl.findByEmployeCin(cin);\r\n    }\r\n    @GetMapping(&quot;/login/{login}&quot;)\r\n    public List&lt;TaxeIR&gt; findByUserLogin(@PathVariable String login) {\r\n        return taxeIRImpl.findByUserLogin(login);\r\n    }\r\n    @GetMapping(&quot;/mois/{mois}/annee/{annee}&quot;)\r\n    public TaxeIR findbyMoisAndAnneAndEmploye(@PathVariable int mois,@PathVariable int annee,@RequestBody  Employe employe) {\r\n        return taxeIRImpl.findbyMoisAndAnneAndEmploye(mois, annee, employe);\r\n    }\r\n\r\n    @GetMapping(&quot;/rc/{rc}&quot;)\r\n    public List&lt;TaxeIR&gt; findByEmployeICE(@PathVariable String rc) {\r\n        return taxeIRImpl.findByEmployeICE(rc);\r\n    }\r\n    @PostMapping(&quot;/&quot;)\r\n    public int save(@RequestBody TaxeIR TaxeIR) {\r\n        return taxeIRImpl.save(TaxeIR);\r\n    }\r\n}\r\n```\r\n\r\nI reviewed all my files and I can&#39;t seem to find the error myself, like I said in the title I am a beginner and I would like some help.\r\n\r\nThe expected result is for it to just run and for me to be able to interact with it through Postman","title":"Error creating bean with name &#39;taxeIRImpl&#39;","body":"<p>When I try to run my project I get this error :</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'taxeIRImpl': Unsatisfied dependency expressed through field 'taxeIRDao'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'taxeIRDao' defined in com.example.taxe.dao.TaxeIRDao defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! Reason: Failed to create query for method public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! No property findbyMois found for type TaxeIR!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.taxe.bean.TaxeIR com.example.taxe.dao.TaxeIRDao.findbyMoisAndAnneAndEmploye(int,int,com.example.taxe.bean.Employe)! No property findbyMois found for type TaxeIR!   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.15.jar:5.3.15]   at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.15.jar:5.3.15]  at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.15.jar:5.3.15]  at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.15.jar:5.3.15]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.15.jar:5.3.15]    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.15.jar:5.3.15]     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]  at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.15.jar:5.3.15]     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.15.jar:5.3.15]  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]     at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]   at com.example.taxe.ProjetTaxeIrApplication.main(ProjetTaxeIrApplication.java:10) ~[classes/:na]\n</code></pre>\n<p>Here are my beans :</p>\n<pre><code>@Entity\npublic class TaxeIR {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private int mois;\n    private int annee;\n    @ManyToOne\n    private Employe employe;\n    @ManyToOne\n    private Employeur employeur;\n    private double salaire;\n    private double cotisation;\n    private String employeICE;\n    @ManyToOne\n    private User user;\n</code></pre>\n<pre><code>@Entity\npublic class Employe {\n    @Id @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String cin;\n    private String nom;\n    private String prenom;\n    private double salaire;\n    @ManyToOne\n    private Employeur employeur;\n</code></pre>\n<pre><code>@Repository\npublic interface TaxeIRDao extends JpaRepository&lt;TaxeIR, Long&gt; {\n    TaxeIR findbyMoisAndAnneAndEmploye(int mois,int annee,Employe employe);\n    List&lt;TaxeIR&gt; findByEmployeCin(String cin);\n    List&lt;TaxeIR&gt; findByUserLogin(String login);\n    List&lt;TaxeIR&gt; findByEmployeICE(String rc);\n}\n</code></pre>\n<pre><code>\n@Service\npublic class TaxeIRImpl implements TaxeIRService {\n    @Autowired\n    TaxeIRDao taxeIRDao;\n\n    @Override\n    public List&lt;TaxeIR&gt; findByEmployeCin(String cin) {\n        return findByEmployeCin(cin);}\n\n    @Override\n    public List&lt;TaxeIR&gt; findByUserLogin(String login) {\n        return findByUserLogin(login);}\n\n    @Override\n    public TaxeIR findbyMoisAndAnneAndEmploye(int mois, int annee, Employe employe) {\n        return findbyMoisAndAnneAndEmploye(mois,annee,employe);}\n\n    @Override\n    public List&lt;TaxeIR&gt; findByEmployeICE(String rc) {\n        return taxeIRDao.findByEmployeICE(rc);}\n    @Override\n    public int save(TaxeIR taxeIR) {\n        TaxeIR taxeIRfound = findbyMoisAndAnneAndEmploye(taxeIR.getMois(),taxeIR.getAnnee(),taxeIR.getEmploye());\n        if(taxeIRfound!=null)\n            return -1;\n        else {\n            taxeIRDao.save(taxeIR);\n            return 1;\n        }\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/taxeIR&quot;)\npublic class TaxeIRWs {\n    @Autowired\n    private TaxeIRImpl taxeIRImpl;\n    @GetMapping(&quot;/cin/{cin}&quot;)\n    public List&lt;TaxeIR&gt; findByEmployeCin(@PathVariable String cin) {\n        return taxeIRImpl.findByEmployeCin(cin);\n    }\n    @GetMapping(&quot;/login/{login}&quot;)\n    public List&lt;TaxeIR&gt; findByUserLogin(@PathVariable String login) {\n        return taxeIRImpl.findByUserLogin(login);\n    }\n    @GetMapping(&quot;/mois/{mois}/annee/{annee}&quot;)\n    public TaxeIR findbyMoisAndAnneAndEmploye(@PathVariable int mois,@PathVariable int annee,@RequestBody  Employe employe) {\n        return taxeIRImpl.findbyMoisAndAnneAndEmploye(mois, annee, employe);\n    }\n\n    @GetMapping(&quot;/rc/{rc}&quot;)\n    public List&lt;TaxeIR&gt; findByEmployeICE(@PathVariable String rc) {\n        return taxeIRImpl.findByEmployeICE(rc);\n    }\n    @PostMapping(&quot;/&quot;)\n    public int save(@RequestBody TaxeIR TaxeIR) {\n        return taxeIRImpl.save(TaxeIR);\n    }\n}\n</code></pre>\n<p>I reviewed all my files and I can't seem to find the error myself, like I said in the title I am a beginner and I would like some help.</p>\n<p>The expected result is for it to just run and for me to be able to interact with it through Postman</p>\n"},{"tags":["java","wordpress","hide"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1648134830,"post_id":71604938,"comment_id":126552397,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"score":0,"creation_date":1649416470,"post_id":71604938,"comment_id":126875557,"body_markdown":"I think you have solved the problem, right? You can anwser your own question so other might learn from it","body":"I think you have solved the problem, right? You can anwser your own question so other might learn from it"}],"owner":{"account_id":12941271,"reputation":1,"user_id":9357007,"display_name":"Alexander Ortmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648134516,"creation_date":1648134516,"question_id":71604938,"body_markdown":"maybe someone can help me? I tried a few codes from stackoverflow already, but no one is working correctly.\r\n\r\nhttps://espressoperfetto.de/slayer-espresso-v3-espressomaschine-single\r\n\r\nOn this Page - above the Footer we have the same Postmodule in Uncode Wordpress Theme like here: https://espressoperfetto.de/stone-espresso-plus-schwarz/\r\n\r\nThe Module should show the related products, anyway, some products are not configured yet but the Module should be active. Is it possible to hide the Module, if its saying &quot;nothing found.&quot;? The hole Div with the Heading &quot;Passende Produkte entdecken&quot; should be hidden. Many thanks in advance! (Java noob, who wants to learn).","title":"Hide Div with empty Product Module Wordpress","body":"<p>maybe someone can help me? I tried a few codes from stackoverflow already, but no one is working correctly.</p>\n<p><a href=\"https://espressoperfetto.de/slayer-espresso-v3-espressomaschine-single\" rel=\"nofollow noreferrer\">https://espressoperfetto.de/slayer-espresso-v3-espressomaschine-single</a></p>\n<p>On this Page - above the Footer we have the same Postmodule in Uncode Wordpress Theme like here: <a href=\"https://espressoperfetto.de/stone-espresso-plus-schwarz/\" rel=\"nofollow noreferrer\">https://espressoperfetto.de/stone-espresso-plus-schwarz/</a></p>\n<p>The Module should show the related products, anyway, some products are not configured yet but the Module should be active. Is it possible to hide the Module, if its saying &quot;nothing found.&quot;? The hole Div with the Heading &quot;Passende Produkte entdecken&quot; should be hidden. Many thanks in advance! (Java noob, who wants to learn).</p>\n"},{"tags":["java","exception","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648130377,"post_id":71603809,"comment_id":126550372,"body_markdown":"what is line 191? Since that &#39;s where it &#39;s thrown in your code","body":"what is line 191? Since that &#39;s where it &#39;s thrown in your code"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1648130416,"post_id":71603809,"comment_id":126550390,"body_markdown":"What is `input2` and where is is declared and initiated? We can&#39;t really tell you what goes wrong when you call `nextLine()` on that Scanner object if you keep it a mystery object by including no details about it.","body":"What is <code>input2</code> and where is is declared and initiated? We can&#39;t really tell you what goes wrong when you call <code>nextLine()</code> on that Scanner object if you keep it a mystery object by including no details about it."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1648130490,"post_id":71603809,"comment_id":126550420,"body_markdown":"In addition to @OH GOD SPIDERS said, what is `file2` and `html`, you don&#39;t actually declare them anywhere here.  Also, if `input2` is opened with `new Scanner(System.in)` you should _not_ be calling `.close()` on it.","body":"In addition to @OH GOD SPIDERS said, what is <code>file2</code> and <code>html</code>, you don&#39;t actually declare them anywhere here.  Also, if <code>input2</code> is opened with <code>new Scanner(System.in)</code> you should <i>not</i> be calling <code>.close()</code> on it."},{"owner":{"account_id":22963383,"reputation":59,"user_id":17360950,"display_name":"giotto1"},"score":0,"creation_date":1648134523,"post_id":71603809,"comment_id":126552261,"body_markdown":"@Stultuske line 191 is:  String fileName = input2.nextLine(); (I&#39;ve added a comment in the code to show where it is, sorry about the confusion)","body":"@Stultuske line 191 is:  String fileName = input2.nextLine(); (I&#39;ve added a comment in the code to show where it is, sorry about the confusion)"},{"owner":{"account_id":22963383,"reputation":59,"user_id":17360950,"display_name":"giotto1"},"score":0,"creation_date":1648134585,"post_id":71603809,"comment_id":126552290,"body_markdown":"@OHGODSPIDERS I&#39;ve added the code, it&#39;s declared within the secondChance() method, right before the try block.","body":"@OHGODSPIDERS I&#39;ve added the code, it&#39;s declared within the secondChance() method, right before the try block."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648130870,"creation_date":1648130870,"answer_id":71603987,"question_id":71603809,"body_markdown":"There are only 2 explanations for `scanner.nextLine()` throwing that exception. From the way you wrote the question, only one of those two is feasible here:\r\n\r\n## You have `close()`d System.in!\r\n\r\nSystem.in is your applications standard input. Assuming you just started the app as normal, that&#39;ll be &#39;the keyboard&#39;, effectively, which is endless, and therefore that exception cannot _ordinarily_ happen. If you start it with `java -jar yourapp.jar &lt;somefile.txt`, you&#39;re telling the OS to use `somefile.txt` as &#39;the keyboard&#39;, and that certainly _can_ run out of lines, and that&#39;s the other unlikely explanation. (If you&#39;re actually starting your app that way, then that&#39;s your explanation: The scanner&#39;s consumed all lines. There&#39;s probably a bug in your code which results in reading &#39;too many&#39; lines, step through with a debugger).\r\n\r\nHowever, you can _close_ this resource, which means any further attempts to read from System.in will just fail exactly like you&#39;re seeing. The solution is trivial: _Do not ever close `System.in`_.\r\n\r\nScanner is a filter and if you close a scanner, then the scanner closes the underlying resource. Thus, assuming you have a scanner of System.in (`new Scanner(System.in)`), the rule &quot;do no close System.in&quot; expands to: &quot;... _and also never close those scanners either_&quot;.\r\n\r\nYou have either written:\r\n\r\n```\r\nscanner.close();\r\n```\r\n\r\nor you have written:\r\n\r\n```\r\ntry (Scanner s = new Scanner(System.in)) {\r\n  // stuff with scanner here\r\n}\r\n```\r\n\r\nThat construct invokes the `close()` method on the thing in the try parentheses when the code &#39;walks out&#39; of the try block, regardless of how it walks out (control flow, such as a `return` statement, exception thrown, or just run to the end of it).\r\n\r\nSome IDEs will notice you&#39;re using a class marked as being a resource (or even just anything that can be used in a try-with as above) and will warn you that you should use try-with. __The editor / linting tool is WRONG and you must ignore it__. The concept of &#39;which things should be closed or not&#39; is vastly more complicated than these simplistic tools act like they are. This is one of those resources that you must in fact _not_ close.\r\n\r\nJust get rid of it. Delete `scanner.close()` / replace:\r\n\r\n```\r\ntry (Scanner s = new Scanner(System.in)) {\r\n  codeHere();\r\n}\r\n```\r\n\r\nwith just:\r\n\r\n```\r\nScanner s = new Scanner(System.in);\r\ncodeHere();\r\n```\r\n\r\n","title":"Why am I getting NoSuchElementException for this code? Java method for giving users a second chance for correct input","body":"<p>There are only 2 explanations for <code>scanner.nextLine()</code> throwing that exception. From the way you wrote the question, only one of those two is feasible here:</p>\n<h2>You have <code>close()</code>d System.in!</h2>\n<p>System.in is your applications standard input. Assuming you just started the app as normal, that'll be 'the keyboard', effectively, which is endless, and therefore that exception cannot <em>ordinarily</em> happen. If you start it with <code>java -jar yourapp.jar &lt;somefile.txt</code>, you're telling the OS to use <code>somefile.txt</code> as 'the keyboard', and that certainly <em>can</em> run out of lines, and that's the other unlikely explanation. (If you're actually starting your app that way, then that's your explanation: The scanner's consumed all lines. There's probably a bug in your code which results in reading 'too many' lines, step through with a debugger).</p>\n<p>However, you can <em>close</em> this resource, which means any further attempts to read from System.in will just fail exactly like you're seeing. The solution is trivial: <em>Do not ever close <code>System.in</code></em>.</p>\n<p>Scanner is a filter and if you close a scanner, then the scanner closes the underlying resource. Thus, assuming you have a scanner of System.in (<code>new Scanner(System.in)</code>), the rule &quot;do no close System.in&quot; expands to: &quot;... <em>and also never close those scanners either</em>&quot;.</p>\n<p>You have either written:</p>\n<pre><code>scanner.close();\n</code></pre>\n<p>or you have written:</p>\n<pre><code>try (Scanner s = new Scanner(System.in)) {\n  // stuff with scanner here\n}\n</code></pre>\n<p>That construct invokes the <code>close()</code> method on the thing in the try parentheses when the code 'walks out' of the try block, regardless of how it walks out (control flow, such as a <code>return</code> statement, exception thrown, or just run to the end of it).</p>\n<p>Some IDEs will notice you're using a class marked as being a resource (or even just anything that can be used in a try-with as above) and will warn you that you should use try-with. <strong>The editor / linting tool is WRONG and you must ignore it</strong>. The concept of 'which things should be closed or not' is vastly more complicated than these simplistic tools act like they are. This is one of those resources that you must in fact <em>not</em> close.</p>\n<p>Just get rid of it. Delete <code>scanner.close()</code> / replace:</p>\n<pre><code>try (Scanner s = new Scanner(System.in)) {\n  codeHere();\n}\n</code></pre>\n<p>with just:</p>\n<pre><code>Scanner s = new Scanner(System.in);\ncodeHere();\n</code></pre>\n"}],"owner":{"account_id":22963383,"reputation":59,"user_id":17360950,"display_name":"giotto1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648134445,"creation_date":1648130181,"question_id":71603809,"body_markdown":"I&#39;m writing a program and have been having some trouble with my code. I invoke a method called ```secondChance()``` which gives users a second opportunity to enter a valid input. The method is defined as follows: \r\n\r\n```java \r\n    Scanner input2 = new Scanner(System.in);\r\n    StringBuilder html = new StringBuilder();\r\n    String val;\r\n\r\n try {\r\n      System.out.println(&quot;Please enter file name you would like to view (include .csv at the end):&quot;);\r\n      String fileName = input2.nextLine(); //LINE 191\r\n\r\n      if (!(fileName.equals(&quot;doctorList.csv&quot;))) {\r\n        input2.close();\r\n        throw new FileNotFoundException();\r\n      } else {\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(file2));\r\n        while ((val = br.readLine()) != null) {\r\n          html.append(val);\r\n        }\r\n        br.close();\r\n        input2.close();\r\n        String output = html.toString();\r\n        System.out.println(output);\r\n      }\r\n    } catch (FileNotFoundException e) {\r\n      System.out.println(&quot;Invalid file input. Terminating program.&quot;);\r\n      System.exit(0);\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;Error occured. Terminating program.&quot;);\r\n      input2.close();\r\n      System.exit(0);\r\n    }\r\n\r\n  }\r\n```\r\n\r\nThe output/error I get is: \r\n```Invalid file input. Now initiating second chance.\r\nPlease enter file name you would like to view (include .csv at the end):\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at CSV2HTML.secondChance(CSV2HTML.java:191)\r\n        at CSV2HTML.main(CSV2HTML.java:68)\r\n```\r\n\r\nLine 68 in the exception is the line where the method is invoked. The code that is in the method for asking user input is identical to the code shown inside the secondChance() method. For reference, here is the code which invokes the secondChance() method: \r\n\r\n```java \r\n} catch (FileNotFoundException e) {\r\n      System.out.println(&quot;Invalid file input. Now initiating second chance.&quot;);\r\n      secondChance(); //THIS IS LINE 68\r\n    }\r\n```\r\n\r\n**EDIT:** I&#39;ve added input2 at the top of my code block, to show where/how it is initialized. ","title":"Why am I getting NoSuchElementException for this code? Java method for giving users a second chance for correct input","body":"<p>I'm writing a program and have been having some trouble with my code. I invoke a method called <code>secondChance()</code> which gives users a second opportunity to enter a valid input. The method is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Scanner input2 = new Scanner(System.in);\n    StringBuilder html = new StringBuilder();\n    String val;\n\n try {\n      System.out.println(&quot;Please enter file name you would like to view (include .csv at the end):&quot;);\n      String fileName = input2.nextLine(); //LINE 191\n\n      if (!(fileName.equals(&quot;doctorList.csv&quot;))) {\n        input2.close();\n        throw new FileNotFoundException();\n      } else {\n\n        BufferedReader br = new BufferedReader(new FileReader(file2));\n        while ((val = br.readLine()) != null) {\n          html.append(val);\n        }\n        br.close();\n        input2.close();\n        String output = html.toString();\n        System.out.println(output);\n      }\n    } catch (FileNotFoundException e) {\n      System.out.println(&quot;Invalid file input. Terminating program.&quot;);\n      System.exit(0);\n    } catch (IOException e) {\n      System.out.println(&quot;Error occured. Terminating program.&quot;);\n      input2.close();\n      System.exit(0);\n    }\n\n  }\n</code></pre>\n<p>The output/error I get is:</p>\n<pre><code>Please enter file name you would like to view (include .csv at the end):\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at CSV2HTML.secondChance(CSV2HTML.java:191)\n        at CSV2HTML.main(CSV2HTML.java:68)\n</code></pre>\n<p>Line 68 in the exception is the line where the method is invoked. The code that is in the method for asking user input is identical to the code shown inside the secondChance() method. For reference, here is the code which invokes the secondChance() method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>} catch (FileNotFoundException e) {\n      System.out.println(&quot;Invalid file input. Now initiating second chance.&quot;);\n      secondChance(); //THIS IS LINE 68\n    }\n</code></pre>\n<p><strong>EDIT:</strong> I've added input2 at the top of my code block, to show where/how it is initialized.</p>\n"},{"tags":["java","spring","keycloak"],"answers":[{"tags":[],"owner":{"account_id":3965589,"reputation":734,"user_id":3271648,"display_name":"Umakanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648134382,"creation_date":1648134382,"answer_id":71604908,"question_id":71603586,"body_markdown":"SAML is one of the supported protocol by Keycloak to secure your applications.\r\n&lt;br&gt; Applications here could be a spring boot app which serves some business logic.&lt;br&gt;\r\nThere is question which you could look into to understand the\r\nhttps://stackoverflow.com/questions/27314076/difference-between-jwt-and-saml\r\n","title":"keycloak for better authorization in spring cloud","body":"<p>SAML is one of the supported protocol by Keycloak to secure your applications.\n<br> Applications here could be a spring boot app which serves some business logic.<br>\nThere is question which you could look into to understand the\n<a href=\"https://stackoverflow.com/questions/27314076/difference-between-jwt-and-saml\">Difference between JWT and SAML?</a></p>\n"}],"owner":{"account_id":18446741,"reputation":23,"user_id":13437832,"display_name":"kon zu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648134382,"creation_date":1648129256,"question_id":71603586,"body_markdown":"What is SAML of Keycloak, why do you need it, is it important, when should it replace with JWT, can I integrate with purpose authorization and authenticaion","title":"keycloak for better authorization in spring cloud","body":"<p>What is SAML of Keycloak, why do you need it, is it important, when should it replace with JWT, can I integrate with purpose authorization and authenticaion</p>\n"},{"tags":["java","create-react-app","java-11","java-http-client"],"comments":[{"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"score":0,"creation_date":1580786421,"post_id":60019467,"comment_id":106203051,"body_markdown":"Is it reproducible only in JShell? Because I could not reproduce it with  `.java` file on java 11 as well as on java 13.","body":"Is it reproducible only in JShell? Because I could not reproduce it with  <code>.java</code> file on java 11 as well as on java 13."},{"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"score":0,"creation_date":1580801077,"post_id":60019467,"comment_id":106207024,"body_markdown":"@GovindaSakhare No it&#39;s reproducible in regular Java programs as well. Could you share your working java file with me please?","body":"@GovindaSakhare No it&#39;s reproducible in regular Java programs as well. Could you share your working java file with me please?"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1580819908,"post_id":60019467,"comment_id":106216426,"body_markdown":"It might be helpful to get more high level logging with:\n`-Djdk.httpclient.HttpClient.log=errors,requests,headers`","body":"It might be helpful to get more high level logging with: <code>-Djdk.httpclient.HttpClient.log=errors,requests,headers</code>"}],"answers":[{"tags":[],"owner":{"account_id":22509,"reputation":1134,"user_id":55588,"accept_rate":78,"display_name":"Erik L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648134264,"creation_date":1648134264,"answer_id":71604877,"question_id":60019467,"body_markdown":"Stumbled upon this today too! Looks like the Java client wants to try and upgrade from a HTTP/1.1 to a HTTP/2.0 connection (the header `Connection: Upgrade, HTTP2-Settings` is passed to the dev server)\r\n\r\nForcing the client to stay HTTP/1.1 fixes the issues, here is the change for the HttpClient:\r\n\r\n```java\r\nHttpClient.newBuilder().version(Version.HTTP_1_1).build()\r\n```","title":"Java 11 HttpClient cannot call React development server","body":"<p>Stumbled upon this today too! Looks like the Java client wants to try and upgrade from a HTTP/1.1 to a HTTP/2.0 connection (the header <code>Connection: Upgrade, HTTP2-Settings</code> is passed to the dev server)</p>\n<p>Forcing the client to stay HTTP/1.1 fixes the issues, here is the change for the HttpClient:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpClient.newBuilder().version(Version.HTTP_1_1).build()\n</code></pre>\n"}],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71604877,"answer_count":1,"score":1,"last_activity_date":1648134264,"creation_date":1580578796,"question_id":60019467,"body_markdown":"Java 11&#39;s new `HttpClient` doesn&#39;t work with `create-react-app`&#39;s React development server (which starts via `npm start`). The client hangs indefinitely w/o any error.\r\n\r\n_It works with other URLs `https://google.com` and other local servers like_\r\n\r\n* Node.js servers. for example with `http-server` (npm install http-server -g)\r\n* Python server (`python3 -m http.server 3000`)\r\n\r\n**Any idea why this happens with React development server?**\r\n\r\nTo reproduce the state:\r\n\r\n* create a react app via `npx create-react-app my-app` (you just need [Node.js][1] , `npx` is a part of it)\r\n* then run it `cd my-app`, `npm start`. The development server starts on `http://localhost:3000/`\r\n* then open Java console: `jshell`\r\n\r\nWhile React development server is working open a `jShell` and copy/paste the following code:\r\n\r\n```java\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nvar httpClient = HttpClient.newHttpClient();\r\nvar request = HttpRequest.newBuilder(URI.create(&quot;http://localhost:3000&quot;)).build();\r\nvar response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nafter that it hangs there indefinitely.\r\n\r\nWhen try this from a Java app in order to see the logs with `-Djdk.internal.httpclient.debug=true` parameter the logs are as follows:\r\n\r\n```\r\nDEBUG: [http-nio-8080-exec-1] [327ms] HttpClientImpl(1) proxySelector is sun.net.spi.DefaultProxySelector@1ad21384 (user-supplied=false)\r\nDEBUG: [http-nio-8080-exec-1] [453ms] HttpClientImpl(1) ClientImpl (async) send http://localhost:3000/ GET\r\nDEBUG: [http-nio-8080-exec-1] [476ms] Exchange establishing exchange for http://localhost:3000/ GET,\r\n\t proxy=null\r\nDEBUG: [http-nio-8080-exec-1] [514ms] Http2ClientImpl not found in connection pool\r\nDEBUG: [http-nio-8080-exec-1] [514ms] ExchangeImpl get: Trying to get HTTP/2 connection\r\nDEBUG: [http-nio-8080-exec-1] [515ms] ExchangeImpl handling HTTP/2 connection creation result\r\nDEBUG: [http-nio-8080-exec-1] [515ms] ExchangeImpl new Http1Exchange, try to upgrade\r\nDEBUG: [http-nio-8080-exec-1] [535ms] PlainHttpConnection(?) Initial receive buffer size is: 65536\r\nDEBUG: [http-nio-8080-exec-1] [564ms] Exchange checkFor407: all clear\r\nDEBUG: [http-nio-8080-exec-1] [564ms] Http1Exchange Sending headers only\r\nDEBUG: [http-nio-8080-exec-1] [610ms] Http1AsyncReceiver(SocketTube(1)) Subscribed pending jdk.internal.net.http.Http1Response$HeadersReader@19d6f6a9 queue.isEmpty: true\r\nDEBUG: [http-nio-8080-exec-1] [655ms] Http1AsyncReceiver(SocketTube(1)) delegate is now jdk.internal.net.http.Http1Response$HeadersReader@19d6f6a9, demand=1, canRequestMore=true, queue.isEmpty=true\r\nDEBUG: [http-nio-8080-exec-1] [656ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\r\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\r\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\r\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\r\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1Exchange response created in advance\r\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1Exchange initiating connect async\r\nDEBUG: [http-nio-8080-exec-1] [676ms] PlainHttpConnection(SocketTube(1)) registering connect event\r\nDEBUG: [HttpClient-1-SelectorManager] [678ms] SelectorAttachment Registering jdk.internal.net.http.PlainHttpConnection$ConnectEvent@340a1657 for 8 (true)\r\nDEBUG: [HttpClient-1-SelectorManager] [679ms] PlainHttpConnection(SocketTube(1)) ConnectEvent: finishing connect\r\nDEBUG: [HttpClient-1-SelectorManager] [680ms] PlainHttpConnection(SocketTube(1)) ConnectEvent: connect finished: true Local addr: /127.0.0.1:58174\r\nDEBUG: [HttpClient-1-Worker-0] [709ms] PlainHttpConnection(SocketTube(1)) finishConnect, setting connected=true\r\nDEBUG: [HttpClient-1-Worker-0] [710ms] Http1Exchange SocketTube(1) connecting flows\r\nDEBUG: [HttpClient-1-Worker-0] [710ms] SocketTube(1) connecting flows\r\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) read publisher got subscriber\r\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) registering subscribe event\r\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) leaving read.subscribe:  Reading: [ops=0, demand=0, stopped=false], Writing: [ops=0, demand=0]\r\nDEBUG: [HttpClient-1-Worker-0] [711ms] Http1Publisher(SocketTube(1)) got subscriber: SocketTube(1)\r\nDEBUG: [HttpClient-1-Worker-0] [712ms] SocketTube(1) subscribed for writing\r\nDEBUG: [HttpClient-1-Worker-0] [712ms] SocketTube(1) write: registering startSubscription event\r\nDEBUG: [HttpClient-1-Worker-0] [712ms] Http1Exchange requestAction.headers\r\nDEBUG: [HttpClient-1-Worker-0] [714ms] Http1Exchange setting outgoing with headers\r\nDEBUG: [HttpClient-1-SelectorManager] [715ms] SocketTube(1) subscribe event raised\r\nDEBUG: [HttpClient-1-SelectorManager] [715ms] SocketTube(1) handling pending subscription for jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber@4c1c390e\r\nDEBUG: [HttpClient-1-SelectorManager] [716ms] SocketTube(1) read demand reset to 0\r\nDEBUG: [HttpClient-1-SelectorManager] [722ms] SocketTube(1) calling onSubscribe\r\nDEBUG: [HttpClient-1-SelectorManager] [722ms] Http1AsyncReceiver(SocketTube(1)) Received onSubscribed from upstream\r\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) onSubscribe called\r\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) pending subscriber subscribed\r\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) write: starting subscription\r\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) write: offloading requestMore\r\nDEBUG: [HttpClient-1-Worker-1] [733ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\r\nDEBUG: [HttpClient-1-Worker-1] [734ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\r\nDEBUG: [HttpClient-1-Worker-1] [734ms] Http1AsyncReceiver(SocketTube(1)) Http1TubeSubscriber: requesting one more from upstream\r\nDEBUG: [HttpClient-1-Worker-1] [734ms] SocketTube(1) got some demand for reading\r\nDEBUG: [HttpClient-1-Worker-1] [734ms] SocketTube(1) resuming read event\r\nDEBUG: [HttpClient-1-Worker-1] [735ms] SocketTube(1) leaving request(1):  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=0]\r\nDEBUG: [HttpClient-1-SelectorManager] [753ms] SelectorAttachment Registering jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent@3d7cf066 for 1 (true)\r\nDEBUG: [HttpClient-1-Worker-2] [753ms] SocketTube(1) write: requesting more...\r\nDEBUG: [HttpClient-1-Worker-2] [753ms] Http1Publisher(SocketTube(1)) subscription request(1), demand=1\r\nDEBUG: [HttpClient-1-Worker-2] [753ms] Http1Publisher(SocketTube(1)) WriteTask\r\nDEBUG: [HttpClient-1-Worker-0] [754ms] Http1Exchange appending to outgoing DataPair [data=[java.nio.HeapByteBuffer[pos=0 lim=205 cap=205]], throwable=null]\r\nDEBUG: [HttpClient-1-Worker-2] [756ms] Http1Publisher(SocketTube(1)) hasOutgoing = false\r\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange initiating completion of headersSentCF\r\nDEBUG: [HttpClient-1-Worker-2] [757ms] Exchange checkFor407: all clear\r\nDEBUG: [HttpClient-1-Worker-2] [757ms] Exchange sendRequestBody\r\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange sendBodyAsync\r\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange bodySubscriber is null\r\nDEBUG: [HttpClient-1-Worker-2] [758ms] Http1Exchange appending to outgoing DataPair [data=[java.nio.HeapByteBuffer[pos=0 lim=0 cap=0]], throwable=null]\r\nDEBUG: [HttpClient-1-Worker-2] [761ms] Http1Publisher(SocketTube(1)) onNext with 205 bytes\r\nDEBUG: [HttpClient-1-Worker-2] [761ms] SocketTube(1) trying to write: 205\r\nDEBUG: [HttpClient-1-Worker-2] [762ms] SocketTube(1) wrote: 205\r\nDEBUG: [HttpClient-1-Worker-2] [762ms] SocketTube(1) write: requesting more...\r\nDEBUG: [HttpClient-1-Worker-2] [763ms] Http1Publisher(SocketTube(1)) subscription request(1), demand=1\r\nDEBUG: [HttpClient-1-Worker-2] [763ms] SocketTube(1) leaving requestMore:  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\r\nDEBUG: [HttpClient-1-Worker-2] [763ms] SocketTube(1) leaving w.onNext Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\r\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange initiating completion of bodySentCF\r\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange sendBodyAsync completed successfully\r\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange reading headers\r\nDEBUG: [HttpClient-1-Worker-2] [814ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) Reading Headers: (remaining: 0) READING_HEADERS\r\nDEBUG: [HttpClient-1-Worker-2] [814ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) First time around\r\nDEBUG: [HttpClient-1-Worker-2] [815ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) headersReader is not yet completed\r\nDEBUG: [HttpClient-1-Worker-2] [816ms] Http1Publisher(SocketTube(1)) completed, stopping jdk.internal.net.http.common.SequentialScheduler@65a12c17\r\nDEBUG: [HttpClient-1-Worker-2] [816ms] SocketTube(1) leaving requestMore:  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\r\n```\r\n\r\n\r\n  [1]: https://nodejs.org/en/download/","title":"Java 11 HttpClient cannot call React development server","body":"<p>Java 11's new <code>HttpClient</code> doesn't work with <code>create-react-app</code>'s React development server (which starts via <code>npm start</code>). The client hangs indefinitely w/o any error.</p>\n\n<p><em>It works with other URLs <code>https://google.com</code> and other local servers like</em></p>\n\n<ul>\n<li>Node.js servers. for example with <code>http-server</code> (npm install http-server -g)</li>\n<li>Python server (<code>python3 -m http.server 3000</code>)</li>\n</ul>\n\n<p><strong>Any idea why this happens with React development server?</strong></p>\n\n<p>To reproduce the state:</p>\n\n<ul>\n<li>create a react app via <code>npx create-react-app my-app</code> (you just need <a href=\"https://nodejs.org/en/download/\" rel=\"nofollow noreferrer\">Node.js</a> , <code>npx</code> is a part of it)</li>\n<li>then run it <code>cd my-app</code>, <code>npm start</code>. The development server starts on <code>http://localhost:3000/</code></li>\n<li>then open Java console: <code>jshell</code></li>\n</ul>\n\n<p>While React development server is working open a <code>jShell</code> and copy/paste the following code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nvar httpClient = HttpClient.newHttpClient();\nvar request = HttpRequest.newBuilder(URI.create(\"http://localhost:3000\")).build();\nvar response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n\n<p>after that it hangs there indefinitely.</p>\n\n<p>When try this from a Java app in order to see the logs with <code>-Djdk.internal.httpclient.debug=true</code> parameter the logs are as follows:</p>\n\n<pre><code>DEBUG: [http-nio-8080-exec-1] [327ms] HttpClientImpl(1) proxySelector is sun.net.spi.DefaultProxySelector@1ad21384 (user-supplied=false)\nDEBUG: [http-nio-8080-exec-1] [453ms] HttpClientImpl(1) ClientImpl (async) send http://localhost:3000/ GET\nDEBUG: [http-nio-8080-exec-1] [476ms] Exchange establishing exchange for http://localhost:3000/ GET,\n     proxy=null\nDEBUG: [http-nio-8080-exec-1] [514ms] Http2ClientImpl not found in connection pool\nDEBUG: [http-nio-8080-exec-1] [514ms] ExchangeImpl get: Trying to get HTTP/2 connection\nDEBUG: [http-nio-8080-exec-1] [515ms] ExchangeImpl handling HTTP/2 connection creation result\nDEBUG: [http-nio-8080-exec-1] [515ms] ExchangeImpl new Http1Exchange, try to upgrade\nDEBUG: [http-nio-8080-exec-1] [535ms] PlainHttpConnection(?) Initial receive buffer size is: 65536\nDEBUG: [http-nio-8080-exec-1] [564ms] Exchange checkFor407: all clear\nDEBUG: [http-nio-8080-exec-1] [564ms] Http1Exchange Sending headers only\nDEBUG: [http-nio-8080-exec-1] [610ms] Http1AsyncReceiver(SocketTube(1)) Subscribed pending jdk.internal.net.http.Http1Response$HeadersReader@19d6f6a9 queue.isEmpty: true\nDEBUG: [http-nio-8080-exec-1] [655ms] Http1AsyncReceiver(SocketTube(1)) delegate is now jdk.internal.net.http.Http1Response$HeadersReader@19d6f6a9, demand=1, canRequestMore=true, queue.isEmpty=true\nDEBUG: [http-nio-8080-exec-1] [656ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1Exchange response created in advance\nDEBUG: [http-nio-8080-exec-1] [667ms] Http1Exchange initiating connect async\nDEBUG: [http-nio-8080-exec-1] [676ms] PlainHttpConnection(SocketTube(1)) registering connect event\nDEBUG: [HttpClient-1-SelectorManager] [678ms] SelectorAttachment Registering jdk.internal.net.http.PlainHttpConnection$ConnectEvent@340a1657 for 8 (true)\nDEBUG: [HttpClient-1-SelectorManager] [679ms] PlainHttpConnection(SocketTube(1)) ConnectEvent: finishing connect\nDEBUG: [HttpClient-1-SelectorManager] [680ms] PlainHttpConnection(SocketTube(1)) ConnectEvent: connect finished: true Local addr: /127.0.0.1:58174\nDEBUG: [HttpClient-1-Worker-0] [709ms] PlainHttpConnection(SocketTube(1)) finishConnect, setting connected=true\nDEBUG: [HttpClient-1-Worker-0] [710ms] Http1Exchange SocketTube(1) connecting flows\nDEBUG: [HttpClient-1-Worker-0] [710ms] SocketTube(1) connecting flows\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) read publisher got subscriber\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) registering subscribe event\nDEBUG: [HttpClient-1-Worker-0] [711ms] SocketTube(1) leaving read.subscribe:  Reading: [ops=0, demand=0, stopped=false], Writing: [ops=0, demand=0]\nDEBUG: [HttpClient-1-Worker-0] [711ms] Http1Publisher(SocketTube(1)) got subscriber: SocketTube(1)\nDEBUG: [HttpClient-1-Worker-0] [712ms] SocketTube(1) subscribed for writing\nDEBUG: [HttpClient-1-Worker-0] [712ms] SocketTube(1) write: registering startSubscription event\nDEBUG: [HttpClient-1-Worker-0] [712ms] Http1Exchange requestAction.headers\nDEBUG: [HttpClient-1-Worker-0] [714ms] Http1Exchange setting outgoing with headers\nDEBUG: [HttpClient-1-SelectorManager] [715ms] SocketTube(1) subscribe event raised\nDEBUG: [HttpClient-1-SelectorManager] [715ms] SocketTube(1) handling pending subscription for jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber@4c1c390e\nDEBUG: [HttpClient-1-SelectorManager] [716ms] SocketTube(1) read demand reset to 0\nDEBUG: [HttpClient-1-SelectorManager] [722ms] SocketTube(1) calling onSubscribe\nDEBUG: [HttpClient-1-SelectorManager] [722ms] Http1AsyncReceiver(SocketTube(1)) Received onSubscribed from upstream\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) onSubscribe called\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) pending subscriber subscribed\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) write: starting subscription\nDEBUG: [HttpClient-1-SelectorManager] [732ms] SocketTube(1) write: offloading requestMore\nDEBUG: [HttpClient-1-Worker-1] [733ms] Http1AsyncReceiver(SocketTube(1)) downstream subscription demand is 1\nDEBUG: [HttpClient-1-Worker-1] [734ms] Http1AsyncReceiver(SocketTube(1)) checkRequestMore: canRequestMore=true, hasDemand=true\nDEBUG: [HttpClient-1-Worker-1] [734ms] Http1AsyncReceiver(SocketTube(1)) Http1TubeSubscriber: requesting one more from upstream\nDEBUG: [HttpClient-1-Worker-1] [734ms] SocketTube(1) got some demand for reading\nDEBUG: [HttpClient-1-Worker-1] [734ms] SocketTube(1) resuming read event\nDEBUG: [HttpClient-1-Worker-1] [735ms] SocketTube(1) leaving request(1):  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=0]\nDEBUG: [HttpClient-1-SelectorManager] [753ms] SelectorAttachment Registering jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent@3d7cf066 for 1 (true)\nDEBUG: [HttpClient-1-Worker-2] [753ms] SocketTube(1) write: requesting more...\nDEBUG: [HttpClient-1-Worker-2] [753ms] Http1Publisher(SocketTube(1)) subscription request(1), demand=1\nDEBUG: [HttpClient-1-Worker-2] [753ms] Http1Publisher(SocketTube(1)) WriteTask\nDEBUG: [HttpClient-1-Worker-0] [754ms] Http1Exchange appending to outgoing DataPair [data=[java.nio.HeapByteBuffer[pos=0 lim=205 cap=205]], throwable=null]\nDEBUG: [HttpClient-1-Worker-2] [756ms] Http1Publisher(SocketTube(1)) hasOutgoing = false\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange initiating completion of headersSentCF\nDEBUG: [HttpClient-1-Worker-2] [757ms] Exchange checkFor407: all clear\nDEBUG: [HttpClient-1-Worker-2] [757ms] Exchange sendRequestBody\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange sendBodyAsync\nDEBUG: [HttpClient-1-Worker-2] [757ms] Http1Exchange bodySubscriber is null\nDEBUG: [HttpClient-1-Worker-2] [758ms] Http1Exchange appending to outgoing DataPair [data=[java.nio.HeapByteBuffer[pos=0 lim=0 cap=0]], throwable=null]\nDEBUG: [HttpClient-1-Worker-2] [761ms] Http1Publisher(SocketTube(1)) onNext with 205 bytes\nDEBUG: [HttpClient-1-Worker-2] [761ms] SocketTube(1) trying to write: 205\nDEBUG: [HttpClient-1-Worker-2] [762ms] SocketTube(1) wrote: 205\nDEBUG: [HttpClient-1-Worker-2] [762ms] SocketTube(1) write: requesting more...\nDEBUG: [HttpClient-1-Worker-2] [763ms] Http1Publisher(SocketTube(1)) subscription request(1), demand=1\nDEBUG: [HttpClient-1-Worker-2] [763ms] SocketTube(1) leaving requestMore:  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\nDEBUG: [HttpClient-1-Worker-2] [763ms] SocketTube(1) leaving w.onNext Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange initiating completion of bodySentCF\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange sendBodyAsync completed successfully\nDEBUG: [HttpClient-1-Worker-2] [780ms] Http1Exchange reading headers\nDEBUG: [HttpClient-1-Worker-2] [814ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) Reading Headers: (remaining: 0) READING_HEADERS\nDEBUG: [HttpClient-1-Worker-2] [814ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) First time around\nDEBUG: [HttpClient-1-Worker-2] [815ms] Http1Response(id=1, PlainHttpConnection(SocketTube(1))) headersReader is not yet completed\nDEBUG: [HttpClient-1-Worker-2] [816ms] Http1Publisher(SocketTube(1)) completed, stopping jdk.internal.net.http.common.SequentialScheduler@65a12c17\nDEBUG: [HttpClient-1-Worker-2] [816ms] SocketTube(1) leaving requestMore:  Reading: [ops=1, demand=1, stopped=false], Writing: [ops=0, demand=1]\n</code></pre>\n"},{"tags":["java","random","enums"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1262048279,"post_id":1972392,"comment_id":1886930,"body_markdown":"what do you think is wrong with your solution? It looks pretty good to me.","body":"what do you think is wrong with your solution? It looks pretty good to me."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1262052824,"post_id":1972392,"comment_id":1887153,"body_markdown":"@GregS - the problem is that each call to `Letter.values()` has to create a new copy of the internal `Letter` value array.","body":"@GregS - the problem is that each call to <code>Letter.values()</code> has to create a new copy of the internal <code>Letter</code> value array."},{"owner":{"account_id":19479,"reputation":911,"user_id":45708,"display_name":"ddcruver"},"score":0,"creation_date":1614799296,"post_id":1972392,"comment_id":117498045,"body_markdown":"Also not sure if you should be creating a new Random object each time you execute that function.","body":"Also not sure if you should be creating a new Random object each time you execute that function."}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":1,"up_vote_count":179,"is_accepted":true,"score":178,"last_activity_date":1262048554,"creation_date":1262048215,"answer_id":1972399,"question_id":1972392,"body_markdown":"The only thing I would suggest is caching the result of `values()` because each call copies an array. Also, don&#39;t create a `Random` every time. Keep one. Other than that what you&#39;re doing is fine. So:\r\n\r\n    public enum Letter {\r\n      A,\r\n      B,\r\n      C,\r\n      //...\r\n    \r\n      private static final List&lt;Letter&gt; VALUES =\r\n        Collections.unmodifiableList(Arrays.asList(values()));\r\n      private static final int SIZE = VALUES.size();\r\n      private static final Random RANDOM = new Random();\r\n    \r\n      public static Letter randomLetter()  {\r\n        return VALUES.get(RANDOM.nextInt(SIZE));\r\n      }\r\n    }\r\n\r\n","title":"Pick a random value from an enum?","body":"<p>The only thing I would suggest is caching the result of <code>values()</code> because each call copies an array. Also, don't create a <code>Random</code> every time. Keep one. Other than that what you're doing is fine. So:</p>\n\n<pre><code>public enum Letter {\n  A,\n  B,\n  C,\n  //...\n\n  private static final List&lt;Letter&gt; VALUES =\n    Collections.unmodifiableList(Arrays.asList(values()));\n  private static final int SIZE = VALUES.size();\n  private static final Random RANDOM = new Random();\n\n  public static Letter randomLetter()  {\n    return VALUES.get(RANDOM.nextInt(SIZE));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1534263539,"creation_date":1262063332,"answer_id":1973018,"question_id":1972392,"body_markdown":"Combining the suggestions of [cletus](https://stackoverflow.com/users/18393/cletus) and [helios](https://stackoverflow.com/users/9686/helios),\r\n\r\n    import java.util.Random;\r\n    \r\n    public class EnumTest {\r\n    \r\n        private enum Season { WINTER, SPRING, SUMMER, FALL }\r\n    \r\n        private static final RandomEnum&lt;Season&gt; r =\r\n            new RandomEnum&lt;Season&gt;(Season.class);\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(r.random());\r\n        }\r\n    \r\n        private static class RandomEnum&lt;E extends Enum&lt;E&gt;&gt; {\r\n    \r\n            private static final Random RND = new Random();\r\n            private final E[] values;\r\n    \r\n            public RandomEnum(Class&lt;E&gt; token) {\r\n                values = token.getEnumConstants();\r\n            }\r\n    \r\n            public E random() {\r\n                return values[RND.nextInt(values.length)];\r\n            }\r\n        }\r\n    }\r\n\r\nEdit: Oops, I forgot the bounded type parameter, `&lt;E extends Enum&lt;E&gt;&gt;`.","title":"Pick a random value from an enum?","body":"<p>Combining the suggestions of <a href=\"https://stackoverflow.com/users/18393/cletus\">cletus</a> and <a href=\"https://stackoverflow.com/users/9686/helios\">helios</a>,</p>\n\n<pre><code>import java.util.Random;\n\npublic class EnumTest {\n\n    private enum Season { WINTER, SPRING, SUMMER, FALL }\n\n    private static final RandomEnum&lt;Season&gt; r =\n        new RandomEnum&lt;Season&gt;(Season.class);\n\n    public static void main(String[] args) {\n        System.out.println(r.random());\n    }\n\n    private static class RandomEnum&lt;E extends Enum&lt;E&gt;&gt; {\n\n        private static final Random RND = new Random();\n        private final E[] values;\n\n        public RandomEnum(Class&lt;E&gt; token) {\n            values = token.getEnumConstants();\n        }\n\n        public E random() {\n            return values[RND.nextInt(values.length)];\n        }\n    }\n}\n</code></pre>\n\n<p>Edit: Oops, I forgot the bounded type parameter, <code>&lt;E extends Enum&lt;E&gt;&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":50098,"reputation":32598,"user_id":149311,"accept_rate":80,"display_name":"Thomas Jung"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1262079906,"creation_date":1262078921,"answer_id":1973722,"question_id":1972392,"body_markdown":"If you do this for testing you could use [Quickcheck][1] ([this is a Java port I&#39;ve been working on][2]). \r\n\r\n    import static net.java.quickcheck.generator.PrimitiveGeneratorSamples.*;\r\n\r\n    TimeUnit anyEnumValue = anyEnumValue(TimeUnit.class); //one value\r\n    \r\nIt supports all primitive types, type composition, collections, different distribution functions, bounds etc. It has support for runners executing multiple values:\r\n\r\n    import static net.java.quickcheck.generator.PrimitiveGeneratorsIterables.*;\r\n\r\n    for(TimeUnit timeUnit : someEnumValues(TimeUnit.class)){\r\n        //..test multiple values\r\n    }\r\n\r\nThe advantage of Quickcheck is that you can define tests based on a [specification][3] where plain TDD works with scenarios.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/QuickCheck\r\n  [2]: https://quickcheck.dev.java.net/\r\n  [3]: http://theyougen.blogspot.com/2009/06/defining-collectionadd-contract-in.html","title":"Pick a random value from an enum?","body":"<p>If you do this for testing you could use <a href=\"http://en.wikipedia.org/wiki/QuickCheck\" rel=\"nofollow noreferrer\">Quickcheck</a> (<a href=\"https://quickcheck.dev.java.net/\" rel=\"nofollow noreferrer\">this is a Java port I've been working on</a>). </p>\n\n<pre><code>import static net.java.quickcheck.generator.PrimitiveGeneratorSamples.*;\n\nTimeUnit anyEnumValue = anyEnumValue(TimeUnit.class); //one value\n</code></pre>\n\n<p>It supports all primitive types, type composition, collections, different distribution functions, bounds etc. It has support for runners executing multiple values:</p>\n\n<pre><code>import static net.java.quickcheck.generator.PrimitiveGeneratorsIterables.*;\n\nfor(TimeUnit timeUnit : someEnumValues(TimeUnit.class)){\n    //..test multiple values\n}\n</code></pre>\n\n<p>The advantage of Quickcheck is that you can define tests based on a <a href=\"http://theyougen.blogspot.com/2009/06/defining-collectionadd-contract-in.html\" rel=\"nofollow noreferrer\">specification</a> where plain TDD works with scenarios.</p>\n"},{"tags":[],"owner":{"account_id":1039242,"reputation":111,"user_id":1045682,"display_name":"anonymous"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1505815467,"creation_date":1321277671,"answer_id":8122348,"question_id":1972392,"body_markdown":"\r\n    Letter lettre = Letter.values()[(int)(Math.random()*Letter.values().length)];\r\n","title":"Pick a random value from an enum?","body":"<pre><code>Letter lettre = Letter.values()[(int)(Math.random()*Letter.values().length)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"down_vote_count":2,"up_vote_count":170,"is_accepted":false,"score":168,"last_activity_date":1487692952,"creation_date":1357819443,"answer_id":14257525,"question_id":1972392,"body_markdown":"A single method is all you need for all your random enums:\r\n\r\n        public static &lt;T extends Enum&lt;?&gt;&gt; T randomEnum(Class&lt;T&gt; clazz){\r\n            int x = random.nextInt(clazz.getEnumConstants().length);\r\n            return clazz.getEnumConstants()[x];\r\n        }\r\n\r\nWhich you&#39;ll use:\r\n\r\n    randomEnum(MyEnum.class);\r\n\r\nI also prefer to use [SecureRandom][1] as:\r\n\r\n    private static final SecureRandom random = new SecureRandom();\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html","title":"Pick a random value from an enum?","body":"<p>A single method is all you need for all your random enums:</p>\n\n<pre><code>    public static &lt;T extends Enum&lt;?&gt;&gt; T randomEnum(Class&lt;T&gt; clazz){\n        int x = random.nextInt(clazz.getEnumConstants().length);\n        return clazz.getEnumConstants()[x];\n    }\n</code></pre>\n\n<p>Which you'll use:</p>\n\n<pre><code>randomEnum(MyEnum.class);\n</code></pre>\n\n<p>I also prefer to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\">SecureRandom</a> as:</p>\n\n<pre><code>private static final SecureRandom random = new SecureRandom();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1703487,"reputation":9978,"user_id":1563039,"accept_rate":100,"display_name":"Joseph Thomson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1384774490,"creation_date":1384774490,"answer_id":20046750,"question_id":1972392,"body_markdown":"It&#39;s probably easiest to have a function to pick a random value from an array.  This is more generic, and is straightforward to call.\r\n\r\n    &lt;T&gt; T randomValue(T[] values) {\r\n        return values[mRandom.nextInt(values.length)];\r\n    }\r\n\r\nCall like so:\r\n\r\n    MyEnum value = randomValue(MyEnum.values());","title":"Pick a random value from an enum?","body":"<p>It's probably easiest to have a function to pick a random value from an array.  This is more generic, and is straightforward to call.</p>\n\n<pre><code>&lt;T&gt; T randomValue(T[] values) {\n    return values[mRandom.nextInt(values.length)];\n}\n</code></pre>\n\n<p>Call like so:</p>\n\n<pre><code>MyEnum value = randomValue(MyEnum.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4621409,"reputation":29,"user_id":3746405,"display_name":"Folea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402952990,"creation_date":1402952990,"answer_id":24252249,"question_id":1972392,"body_markdown":"It&#180;s eaiser to implement an random function on the enum.\r\n\r\n    public enum Via {\r\n    \tA, B;\r\n    \r\n    public static Via viaAleatoria(){\r\n    \tVia[] vias = Via.values();\r\n    \tRandom generator = new Random();\r\n    \treturn vias[generator.nextInt(vias.length)];\r\n    \t}\r\n    }\r\n\r\nand then you call it from the class you need it like this\r\n\r\n    public class Guardia{\r\n\tprivate Via viaActiva;\r\n\t\r\n\tpublic Guardia(){\r\n\t\tviaActiva = Via.viaAleatoria();\r\n\t}","title":"Pick a random value from an enum?","body":"<p>It´s eaiser to implement an random function on the enum.</p>\n\n<pre><code>public enum Via {\n    A, B;\n\npublic static Via viaAleatoria(){\n    Via[] vias = Via.values();\n    Random generator = new Random();\n    return vias[generator.nextInt(vias.length)];\n    }\n}\n</code></pre>\n\n<p>and then you call it from the class you need it like this</p>\n\n<pre><code>public class Guardia{\nprivate Via viaActiva;\n\npublic Guardia(){\n    viaActiva = Via.viaAleatoria();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3858967,"reputation":944,"user_id":3197155,"display_name":"Deepti"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1429779348,"creation_date":1429779348,"answer_id":29818452,"question_id":1972392,"body_markdown":"Agree with Stphen C &amp; helios. Better way to fetch random element from Enum is: \r\n\r\n    public enum Letter {\r\n      A,\r\n      B,\r\n      C,\r\n      //...\r\n\r\n      private static final Letter[] VALUES = values();\r\n      private static final int SIZE = VALUES.length;\r\n      private static final Random RANDOM = new Random();\r\n\r\n      public static Letter getRandomLetter()  {\r\n        return VALUES[RANDOM.nextInt(SIZE)];\r\n      }\r\n    }","title":"Pick a random value from an enum?","body":"<p>Agree with Stphen C &amp; helios. Better way to fetch random element from Enum is: </p>\n\n<pre><code>public enum Letter {\n  A,\n  B,\n  C,\n  //...\n\n  private static final Letter[] VALUES = values();\n  private static final int SIZE = VALUES.length;\n  private static final Random RANDOM = new Random();\n\n  public static Letter getRandomLetter()  {\n    return VALUES[RANDOM.nextInt(SIZE)];\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1006247,"reputation":15843,"user_id":1019952,"accept_rate":60,"display_name":"Mohamed Taher Alrefaie"},"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1433416638,"creation_date":1433413198,"answer_id":30641206,"question_id":1972392,"body_markdown":"Single line \r\n\r\n    return Letter.values()[new Random().nextInt(Letter.values().length)];","title":"Pick a random value from an enum?","body":"<p>Single line </p>\n\n<pre><code>return Letter.values()[new Random().nextInt(Letter.values().length)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6125523,"reputation":61,"user_id":4777665,"display_name":"major seitan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437595619,"creation_date":1437595619,"answer_id":31572993,"question_id":1972392,"body_markdown":"Here a version that uses shuffle and streams\r\n\r\n    List&lt;Direction&gt; letters = Arrays.asList(Direction.values());\r\n    Collections.shuffle(letters);\r\n    return letters.stream().findFirst().get();\r\n\r\n","title":"Pick a random value from an enum?","body":"<p>Here a version that uses shuffle and streams</p>\n\n<pre><code>List&lt;Direction&gt; letters = Arrays.asList(Direction.values());\nCollections.shuffle(letters);\nreturn letters.stream().findFirst().get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496181,"reputation":1241,"user_id":2172507,"accept_rate":92,"display_name":"Adilli Adil"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1450513513,"creation_date":1450513513,"answer_id":34368790,"question_id":1972392,"body_markdown":"This is probably the most concise way of achieving your goal.All you need to do is to call `Letter.getRandom()` and you will get a random enum letter.\r\n\r\n    public enum Letter {\r\n        A,\r\n        B,\r\n        C,\r\n        //...\r\n    \r\n        public static Letter getRandom() {\r\n            return values()[(int) (Math.random() * values().length)];\r\n        }\r\n    }","title":"Pick a random value from an enum?","body":"<p>This is probably the most concise way of achieving your goal.All you need to do is to call <code>Letter.getRandom()</code> and you will get a random enum letter.</p>\n\n<pre><code>public enum Letter {\n    A,\n    B,\n    C,\n    //...\n\n    public static Letter getRandom() {\n        return values()[(int) (Math.random() * values().length)];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5910225"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1472384088,"creation_date":1455132792,"answer_id":35324299,"question_id":1972392,"body_markdown":"I would use this:\r\n\r\n    private static Random random = new Random();\r\n    \r\n    public Object getRandomFromEnum(Class&lt;? extends Enum&lt;?&gt;&gt; clazz) {\r\n        return clazz.values()[random.nextInt(clazz.values().length)];\r\n    }","title":"Pick a random value from an enum?","body":"<p>I would use this:</p>\n\n<pre><code>private static Random random = new Random();\n\npublic Object getRandomFromEnum(Class&lt;? extends Enum&lt;?&gt;&gt; clazz) {\n    return clazz.values()[random.nextInt(clazz.values().length)];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":946995,"reputation":43606,"user_id":974045,"display_name":"Gibolt"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1587115136,"creation_date":1579288702,"answer_id":59793624,"question_id":1972392,"body_markdown":"## Simple Kotlin Solution\r\n\r\n    MyEnum.values().random()\r\n\r\n`random()` is a default extension function included in base Kotlin on the `Collection` object. [Kotlin Documentation Link][1]\r\n\r\n###If you&#39;d like to simplify it with an extension function, try this:\r\n\r\n    inline fun &lt;reified T : Enum&lt;T&gt;&gt; random(): T = enumValues&lt;T&gt;().random()\r\n\r\n    // Then call\r\n    random&lt;MyEnum&gt;()\r\n\r\nTo make it static on your enum class. Make sure to import `my.package.random` in your enum file\r\n\r\n    MyEnum.randomValue()\r\n\r\n    // Add this to your enum class\r\n    companion object {\r\n        fun randomValue(): MyEnum {\r\n            return random()\r\n        }\r\n    }\r\n\r\n###If you need to do it from an instance of the enum, try this extension\r\n\r\n    inline fun &lt;reified T : Enum&lt;T&gt;&gt; T.random() = enumValues&lt;T&gt;().random()\r\n\r\n    // Then call\r\n    MyEnum.VALUE.random() // or myEnumVal.random() \r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/random.html","title":"Pick a random value from an enum?","body":"<h2>Simple Kotlin Solution</h2>\n\n<pre><code>MyEnum.values().random()\n</code></pre>\n\n<p><code>random()</code> is a default extension function included in base Kotlin on the <code>Collection</code> object. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/random.html\" rel=\"noreferrer\">Kotlin Documentation Link</a></p>\n\n<h3>If you'd like to simplify it with an extension function, try this:</h3>\n\n<pre><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; random(): T = enumValues&lt;T&gt;().random()\n\n// Then call\nrandom&lt;MyEnum&gt;()\n</code></pre>\n\n<p>To make it static on your enum class. Make sure to import <code>my.package.random</code> in your enum file</p>\n\n<pre><code>MyEnum.randomValue()\n\n// Add this to your enum class\ncompanion object {\n    fun randomValue(): MyEnum {\n        return random()\n    }\n}\n</code></pre>\n\n<h3>If you need to do it from an instance of the enum, try this extension</h3>\n\n<pre><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; T.random() = enumValues&lt;T&gt;().random()\n\n// Then call\nMyEnum.VALUE.random() // or myEnumVal.random() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17289511,"reputation":31,"user_id":12521400,"display_name":"Muhammad Zidan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593342512,"creation_date":1593342512,"answer_id":62621662,"question_id":1972392,"body_markdown":"I guess that this single-line-return method is efficient enough to be used in such a simple job:\r\n```\r\npublic enum Day {\r\n    SUNDAY,\r\n    MONDAY,\r\n    THURSDAY,\r\n    WEDNESDAY,\r\n    TUESDAY,\r\n    FRIDAY;\r\n\r\n    public static Day getRandom() {\r\n        return values()[(int) (Math.random() * values().length)];\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Day.getRandom());\r\n    }\r\n}\r\n```","title":"Pick a random value from an enum?","body":"<p>I guess that this single-line-return method is efficient enough to be used in such a simple job:</p>\n<pre><code>public enum Day {\n    SUNDAY,\n    MONDAY,\n    THURSDAY,\n    WEDNESDAY,\n    TUESDAY,\n    FRIDAY;\n\n    public static Day getRandom() {\n        return values()[(int) (Math.random() * values().length)];\n    }\n\n    public static void main(String[] args) {\n        System.out.println(Day.getRandom());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18301796,"reputation":86,"user_id":13326417,"display_name":"Zeeshan Liaqat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635168964,"creation_date":1635168964,"answer_id":69709028,"question_id":1972392,"body_markdown":"enum ShapeColor {\r\n    Blue,\r\n    Yellow,\r\n    Red,\r\n    Green,\r\n    White,\r\n}\r\n\r\n        Random random=new Random();\r\n        ShapeColor[] values=ShapeColor.values();\r\n        int size=values.length;\r\n        return values[random.nextInt(size)];","title":"Pick a random value from an enum?","body":"<p>enum ShapeColor {\nBlue,\nYellow,\nRed,\nGreen,\nWhite,\n}</p>\n<pre><code>    Random random=new Random();\n    ShapeColor[] values=ShapeColor.values();\n    int size=values.length;\n    return values[random.nextInt(size)];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17858091,"reputation":1,"user_id":12972239,"display_name":"Izzy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648134214,"creation_date":1648108827,"answer_id":71598836,"question_id":1972392,"body_markdown":"```\r\npublic static Letter randomLetter() {\r\n    return List.of(values()).get(Random.randomInt(List.of(values()).size()));\r\n\r\n}\r\n```","title":"Pick a random value from an enum?","body":"<pre><code>public static Letter randomLetter() {\n    return List.of(values()).get(Random.randomInt(List.of(values()).size()));\n\n}\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119884,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232650,"favorite_count":0,"down_vote_count":0,"up_vote_count":217,"accepted_answer_id":1972399,"answer_count":16,"score":217,"last_activity_date":1648134214,"creation_date":1262048069,"question_id":1972392,"body_markdown":"If I have an enum like this:\r\n\r\n    public enum Letter {\r\n    \tA,\r\n    \tB,\r\n    \tC,\r\n        //...\r\n    }\r\n\r\nWhat is the best way to pick one randomly? It doesn&#39;t need to be production quality bulletproof, but a fairly even distribution would be nice.\r\n\r\nI could do something like this\r\n\r\n\tprivate Letter randomLetter() {\r\n\t\tint pick = new Random().nextInt(Letter.values().length);\r\n\t\treturn Letter.values()[pick];\r\n\t}\r\n\r\nBut is there a better way? I feel like this is something that&#39;s been solved before.\r\n","title":"Pick a random value from an enum?","body":"<p>If I have an enum like this:</p>\n\n<pre><code>public enum Letter {\n    A,\n    B,\n    C,\n    //...\n}\n</code></pre>\n\n<p>What is the best way to pick one randomly? It doesn't need to be production quality bulletproof, but a fairly even distribution would be nice.</p>\n\n<p>I could do something like this</p>\n\n<pre><code>private Letter randomLetter() {\n    int pick = new Random().nextInt(Letter.values().length);\n    return Letter.values()[pick];\n}\n</code></pre>\n\n<p>But is there a better way? I feel like this is something that's been solved before.</p>\n"},{"tags":["java","android","android-camera","android-camera-intent"],"answers":[{"tags":[],"owner":{"account_id":11814576,"reputation":173,"user_id":8645145,"display_name":"Paul Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648133317,"creation_date":1648132993,"answer_id":71604544,"question_id":71604102,"body_markdown":"**After some research, it appears that this is a known bug, which has been unresolved for 10+ years now.**\r\n\r\nSee: [Emulator does not honour Camera support flag](https://issuetracker.google.com/u/1/issues/36925409)\r\n\r\nIt seems that the only know work-around is to detect the number of cameras using the `Camera.getNumberOfCameras()` method, which has been deprecated since Android 5.0.\r\n\r\n```java\r\nboolean hasCamera = Camera.getNumberOfCameras() &gt; 0;\r\nLog.i(LOG_TAG, &quot;hasCamera = &quot; + hasCamera);\r\n```\r\n\r\nThe above method seems to work on my emulator, despite the warning that it is deprecated.\r\n\r\n---\r\n\r\nNow according to the docs for [Camera.getNumberOfCameras()](https://developer.android.com/reference/android/hardware/Camera#getNumberOfCameras()):\r\n\r\n&quot;The return value of [getNumberOfCameras()] might change dynamically if the device supports external cameras and an external camera is connected or disconnected.&quot;\r\n\r\nSo perhaps `hasSystemFeature()` always returns `true`, because the device might later have an external camera attached?","title":"How do you detect if an Android device has a camera?","body":"<p><strong>After some research, it appears that this is a known bug, which has been unresolved for 10+ years now.</strong></p>\n<p>See: <a href=\"https://issuetracker.google.com/u/1/issues/36925409\" rel=\"nofollow noreferrer\">Emulator does not honour Camera support flag</a></p>\n<p>It seems that the only know work-around is to detect the number of cameras using the <code>Camera.getNumberOfCameras()</code> method, which has been deprecated since Android 5.0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean hasCamera = Camera.getNumberOfCameras() &gt; 0;\nLog.i(LOG_TAG, &quot;hasCamera = &quot; + hasCamera);\n</code></pre>\n<p>The above method seems to work on my emulator, despite the warning that it is deprecated.</p>\n<hr />\n<p>Now according to the docs for <a href=\"https://developer.android.com/reference/android/hardware/Camera#getNumberOfCameras()\" rel=\"nofollow noreferrer\">Camera.getNumberOfCameras()</a>:</p>\n<p>&quot;The return value of [getNumberOfCameras()] might change dynamically if the device supports external cameras and an external camera is connected or disconnected.&quot;</p>\n<p>So perhaps <code>hasSystemFeature()</code> always returns <code>true</code>, because the device might later have an external camera attached?</p>\n"},{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648133993,"creation_date":1648133993,"answer_id":71604817,"question_id":71604102,"body_markdown":"An emulator started by using a hardware configuration which enables or disables some features in runtime. It would be possible to add / change some configuration for your emulator.\r\n\r\nI think, It is not removing camera hardware, just disables them. I created an emulator as you mentionned and there was no camera. When I changed the configuration I was able to use the camera. However, hasSystemFeature returned true for both situtation.\r\n\r\nWhen you create an emulator, the settings you choose is written in hardware-qemu.ini for that AVD. You can find it in `~/.android/avd/YOUR_EMULATOR.avd/hardware-qemu.ini`. You can get exact path in `show on disk` on Device Manager.","title":"How do you detect if an Android device has a camera?","body":"<p>An emulator started by using a hardware configuration which enables or disables some features in runtime. It would be possible to add / change some configuration for your emulator.</p>\n<p>I think, It is not removing camera hardware, just disables them. I created an emulator as you mentionned and there was no camera. When I changed the configuration I was able to use the camera. However, hasSystemFeature returned true for both situtation.</p>\n<p>When you create an emulator, the settings you choose is written in hardware-qemu.ini for that AVD. You can find it in <code>~/.android/avd/YOUR_EMULATOR.avd/hardware-qemu.ini</code>. You can get exact path in <code>show on disk</code> on Device Manager.</p>\n"}],"owner":{"account_id":11814576,"reputation":173,"user_id":8645145,"display_name":"Paul Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71604544,"answer_count":2,"score":2,"last_activity_date":1648133993,"creation_date":1648131244,"question_id":71604102,"body_markdown":"I want to disable camera functionality in my app, if the device does not have a camera. However, I seem to have stumbled into a bug when doing so.\r\n\r\nAccording to the official Android Developer docs, I can use `hasSystemFeature()` to detect device features at runtime, as shown below:\r\n\r\n```java\r\nboolean hasAnyCamera = this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY);\r\nLog.i(LOG_TAG, &quot;hasAnyCamera = &quot; + hasAnyCamera);\r\n\r\nboolean hasBackCamera = this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA);\r\nLog.i(LOG_TAG, &quot;hasBackCamera = &quot; + hasBackCamera);\r\n```\r\n\r\nHowever, I tried to create an emulator without a front-facing or back-facing camera, and it still returns `true` for both checks. Is there some other way that I can detect the camera in Android?\r\n\r\nRelevant documentation: \r\n- [Take Photos &gt; Request the camera feature](https://developer.android.com/training/camera/photobasics#TaskManifest)\r\n- [PackageManager.hasSystemFeature()](https://developer.android.com/reference/android/content/pm/PackageManager#hasSystemFeature(java.lang.String))\r\n- [PackageManager.FEATURE_CAMERA_ANY](https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CAMERA_ANY)\r\n- [PackageManager.FEATURE_CAMERA](https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CAMERA)\r\n\r\n\r\n[![AVD Manager, device with camera front and back set to &quot;None&quot;][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2K1TV.png","title":"How do you detect if an Android device has a camera?","body":"<p>I want to disable camera functionality in my app, if the device does not have a camera. However, I seem to have stumbled into a bug when doing so.</p>\n<p>According to the official Android Developer docs, I can use <code>hasSystemFeature()</code> to detect device features at runtime, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean hasAnyCamera = this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY);\nLog.i(LOG_TAG, &quot;hasAnyCamera = &quot; + hasAnyCamera);\n\nboolean hasBackCamera = this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA);\nLog.i(LOG_TAG, &quot;hasBackCamera = &quot; + hasBackCamera);\n</code></pre>\n<p>However, I tried to create an emulator without a front-facing or back-facing camera, and it still returns <code>true</code> for both checks. Is there some other way that I can detect the camera in Android?</p>\n<p>Relevant documentation:</p>\n<ul>\n<li><a href=\"https://developer.android.com/training/camera/photobasics#TaskManifest\" rel=\"nofollow noreferrer\">Take Photos &gt; Request the camera feature</a></li>\n<li><a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#hasSystemFeature(java.lang.String)\" rel=\"nofollow noreferrer\">PackageManager.hasSystemFeature()</a></li>\n<li><a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CAMERA_ANY\" rel=\"nofollow noreferrer\">PackageManager.FEATURE_CAMERA_ANY</a></li>\n<li><a href=\"https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CAMERA\" rel=\"nofollow noreferrer\">PackageManager.FEATURE_CAMERA</a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/2K1TV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2K1TV.png\" alt=\"AVD Manager, device with camera front and back set to &quot;None&quot;\" /></a></p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648102416,"post_id":71589124,"comment_id":126540240,"body_markdown":"I cannot reproduce this. Both given examples works fine for me in Eclipse 2022-03 (4.23).","body":"I cannot reproduce this. Both given examples works fine for me in Eclipse 2022-03 (4.23)."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648110193,"post_id":71589124,"comment_id":126542328,"body_markdown":"It works for me on another machine using Eclipse 2021-09, but I can&#39;t find out how to reproduce that now, as that version needs &quot;Java 17 Support for 2021-09&quot; from the Marketplace &amp; that has been removed.","body":"It works for me on another machine using Eclipse 2021-09, but I can&#39;t find out how to reproduce that now, as that version needs &quot;Java 17 Support for 2021-09&quot; from the Marketplace &amp; that has been removed."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648110922,"post_id":71589124,"comment_id":126542616,"body_markdown":"Maybe an environment variable? The Maven Console output for both the &lt;build&gt; &amp; &lt;properties&gt; methods are identical.","body":"Maybe an environment variable? The Maven Console output for both the &lt;build&gt; &amp; &lt;properties&gt; methods are identical."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648110924,"post_id":71589124,"comment_id":126542617,"body_markdown":"It works in the current version of Eclipse 2022-03 (4.23) which has built-in Java 17 support. Your assumption that it is not working in Eclipse 2022-03 (4.23) is not reproducible. Double-check your given example in a fresh workspace with a fresh project.","body":"It works in the current version of Eclipse 2022-03 (4.23) which has built-in Java 17 support. Your assumption that it is not working in Eclipse 2022-03 (4.23) is not reproducible. Double-check your given example in a fresh workspace with a fresh project."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648111307,"post_id":71589124,"comment_id":126542757,"body_markdown":"It is fresh: Downloaded from eclipse.org, unzipped, fired up with a new workspace &amp; just this one project. Its also happening with Eclipse 2021-12. As I just mentioned (above), I can&#39;t check it with 2021-09 as the necessary &quot;Java 17 Support for Eclipse 2021-09&quot; (which used to be in the Marketplace) has been removed.","body":"It is fresh: Downloaded from eclipse.org, unzipped, fired up with a new workspace &amp; just this one project. Its also happening with Eclipse 2021-12. As I just mentioned (above), I can&#39;t check it with 2021-09 as the necessary &quot;Java 17 Support for Eclipse 2021-09&quot; (which used to be in the Marketplace) has been removed."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648112051,"post_id":71589124,"comment_id":126543044,"body_markdown":"What do you have configured in _Window &gt; Preferences: Java &gt; Installed JREs_?","body":"What do you have configured in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>?"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648114708,"post_id":71589124,"comment_id":126543962,"body_markdown":"Have added JRE-Config Screenshot to original Posting","body":"Have added JRE-Config Screenshot to original Posting"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648115894,"post_id":71589124,"comment_id":126544425,"body_markdown":"Thanks, this looks good. Could you please try it with a fresh workspace without copy the setting (_File &gt; Switch Workspace &gt; Other..._). In a fresh workspace you should see only the in Eclipse embedded Java 17 in _Window &gt; Preferences: Java &gt; Installed JREs_. Please show also what you have in _Project &gt; Properties: Java Compiler_ after you right-clicked the project and chosen _Maven &gt; Update Project..._","body":"Thanks, this looks good. Could you please try it with a fresh workspace without copy the setting (<i>File &gt; Switch Workspace &gt; Other...</i>). In a fresh workspace you should see only the in Eclipse embedded Java 17 in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>. Please show also what you have in <i>Project &gt; Properties: Java Compiler</i> after you right-clicked the project and chosen <i>Maven &gt; Update Project...</i>"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648121448,"post_id":71589124,"comment_id":126546536,"body_markdown":"After BOTH &quot;Switch Workspace&quot; &amp; Exit/Restart, new Maven Project &amp; &quot;Maven/Update Project&quot; -&gt; &quot;Use compliance from execution environment &#39;JavaSE-1,8&#39; (which yields a warning as the only JRE available is the builtin eclipse 17.0.2 hotspot.","body":"After BOTH &quot;Switch Workspace&quot; &amp; Exit/Restart, new Maven Project &amp; &quot;Maven/Update Project&quot; -&gt; &quot;Use compliance from execution environment &#39;JavaSE-1,8&#39; (which yields a warning as the only JRE available is the builtin eclipse 17.0.2 hotspot."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648124217,"post_id":71589124,"comment_id":126547577,"body_markdown":"When creating a Maven project, you skipped archetype selection, right? Please show what you have in _Project &gt; Properties: Java Compiler_, tell whether do you have a `settings.xml` file in your local Maven `.m2` directory and if you have one, show its content.","body":"When creating a Maven project, you skipped archetype selection, right? Please show what you have in <i>Project &gt; Properties: Java Compiler</i>, tell whether do you have a <code>settings.xml</code> file in your local Maven <code>.m2</code> directory and if you have one, show its content."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648125723,"post_id":71589124,"comment_id":126548183,"body_markdown":"Yes, I skipped archetype selection. The settings.xml file is unchanged for the last 5 years, but with my Eclipse Mars (v4.5 from 2015 it still works fine). See Addendum to original Posting for contents.","body":"Yes, I skipped archetype selection. The settings.xml file is unchanged for the last 5 years, but with my Eclipse Mars (v4.5 from 2015 it still works fine). See Addendum to original Posting for contents."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648126641,"post_id":71589124,"comment_id":126548607,"body_markdown":"Does it work when deleting the `settings.xml` file?","body":"Does it work when deleting the <code>settings.xml</code> file?"},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648127273,"post_id":71589124,"comment_id":126548885,"body_markdown":"Thanks. That fixed it.  Can I leave it like that or do I need a more up-to-date settings.xml?","body":"Thanks. That fixed it.  Can I leave it like that or do I need a more up-to-date settings.xml?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648127505,"post_id":71589124,"comment_id":126548973,"body_markdown":"You can leave it like that since there is no `settings.xml` file needed. If you are sure that `settings.xml` should not override the `pom.xml` here, please [report it to m2e](https://github.com/eclipse-m2e/m2e-core/issues).","body":"You can leave it like that since there is no <code>settings.xml</code> file needed. If you are sure that <code>settings.xml</code> should not override the <code>pom.xml</code> here, please <a href=\"https://github.com/eclipse-m2e/m2e-core/issues\" rel=\"nofollow noreferrer\">report it to m2e</a>."},{"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"score":0,"creation_date":1648127664,"post_id":71589124,"comment_id":126549038,"body_markdown":"I don&#39;t quite get what you mean by &quot;If you are sure that settings.xml should not override the pom.xml here&quot;. Could you elaborate on that a bit?","body":"I don&#39;t quite get what you mean by &quot;If you are sure that settings.xml should not override the pom.xml here&quot;. Could you elaborate on that a bit?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1648129894,"post_id":71589124,"comment_id":126550131,"body_markdown":"I wasn&#39;t sure if this is an issue of m2e or of Maven or whether this is the behavior of Maven, which seems counterintuitive to me. So I created a record and run `mvn clean install` with and without your `settings.xml`: it fails with `settings.xml` and works without `settings.xml`. That proves it&#39;s not an issue of m2e, but either an issue of Maven 3.8.4 (which is embedded in Eclipse 2022-03 and probably used here) or the expected behavior of Maven.","body":"I wasn&#39;t sure if this is an issue of m2e or of Maven or whether this is the behavior of Maven, which seems counterintuitive to me. So I created a record and run <code>mvn clean install</code> with and without your <code>settings.xml</code>: it fails with <code>settings.xml</code> and works without <code>settings.xml</code>. That proves it&#39;s not an issue of m2e, but either an issue of Maven 3.8.4 (which is embedded in Eclipse 2022-03 and probably used here) or the expected behavior of Maven."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648133756,"creation_date":1648130742,"answer_id":71603951,"question_id":71589124,"body_markdown":"This is **caused by your Maven `.m2/settings.xml`** file which overrides the properties of your `pom.xml` file.\r\n\r\nMaven on the command line also behaves this way (you can test this e.g. with a record: with your `settings.xml` file the build fails and without your `settings.xml` file the build will be successful).\r\n\r\n**Rather set the Java version in each parent `pom.xml`** file **than** the (default) Java version **in your Maven `.m2/settings.xml`** file this way.","title":"Update Maven Project to Java 17 in Eclipse 2022-03 is not working","body":"<p>This is <strong>caused by your Maven <code>.m2/settings.xml</code></strong> file which overrides the properties of your <code>pom.xml</code> file.</p>\n<p>Maven on the command line also behaves this way (you can test this e.g. with a record: with your <code>settings.xml</code> file the build fails and without your <code>settings.xml</code> file the build will be successful).</p>\n<p><strong>Rather set the Java version in each parent <code>pom.xml</code></strong> file <strong>than</strong> the (default) Java version <strong>in your Maven <code>.m2/settings.xml</code></strong> file this way.</p>\n"}],"owner":{"account_id":8405686,"reputation":764,"user_id":6309242,"display_name":"Dave The Dane"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71603951,"answer_count":1,"score":3,"last_activity_date":1648133756,"creation_date":1648046307,"question_id":71589124,"body_markdown":"I have a pristine `Eclipse 2022-03` with `JRE&#39;s 1.8 &amp; 17` defined under `Windows 10`.\r\n\r\nHaving created a new Maven Project I tried `Maven/Update Project...` but it has no effect: the JDK remains 1.8.\r\n\r\nMy pom.xml looks like this:\r\n\r\n    &lt;project\r\n            xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;de.domain&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jdk17.project&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;JDK 17 Project&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nI then changed it to:\r\n\r\n    &lt;project\r\n            xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;de.domain&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jdk17.project&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;JDK 17 Project&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;17&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThis worked, the JDK was updated to 17. However, I find it rather long-winded.\r\n\r\nAnyone know why the other pom is not working?\r\n\r\nAddendum: the following 2 JRE&#39;s are configuered&lt;br&gt;\r\n- 1.8 Oracle + unlimited Crypto&lt;br&gt;\r\n- 17 openJDK (Zulu Release with JavaFX bundled)&lt;br&gt;\r\n\r\n[![JRE&#39;s][1]][1]\r\n\r\nAddendum: Maven settings.xml\r\n\r\n    &lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\r\n                          http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n      &lt;localRepository/&gt;\r\n      &lt;interactiveMode/&gt;\r\n      &lt;usePluginRegistry/&gt;\r\n      &lt;offline/&gt;\r\n      &lt;pluginGroups/&gt;\r\n      &lt;servers/&gt;\r\n      &lt;mirrors/&gt;\r\n      &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t\t&lt;id&gt;java8&lt;/id&gt;\r\n    \t\t&lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t&lt;/activation&gt;\r\n    \t\t&lt;properties&gt;\r\n    \t\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;/properties&gt;\r\n    \t&lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n      &lt;activeProfiles/&gt;\r\n    &lt;/settings&gt;\r\n\r\nAddendum: Project/Java Compiler\r\n\r\n[![Project/Java Compiler][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TatV5.png\r\n  [2]: https://i.stack.imgur.com/y7bOD.png","title":"Update Maven Project to Java 17 in Eclipse 2022-03 is not working","body":"<p>I have a pristine <code>Eclipse 2022-03</code> with <code>JRE's 1.8 &amp; 17</code> defined under <code>Windows 10</code>.</p>\n<p>Having created a new Maven Project I tried <code>Maven/Update Project...</code> but it has no effect: the JDK remains 1.8.</p>\n<p>My pom.xml looks like this:</p>\n<pre><code>&lt;project\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;de.domain&lt;/groupId&gt;\n    &lt;artifactId&gt;jdk17.project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JDK 17 Project&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I then changed it to:</p>\n<pre><code>&lt;project\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;de.domain&lt;/groupId&gt;\n    &lt;artifactId&gt;jdk17.project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JDK 17 Project&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This worked, the JDK was updated to 17. However, I find it rather long-winded.</p>\n<p>Anyone know why the other pom is not working?</p>\n<p>Addendum: the following 2 JRE's are configuered<br></p>\n<ul>\n<li>1.8 Oracle + unlimited Crypto<br></li>\n<li>17 openJDK (Zulu Release with JavaFX bundled)<br></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/TatV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TatV5.png\" alt=\"JRE's\" /></a></p>\n<p>Addendum: Maven settings.xml</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0\n                      http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;localRepository/&gt;\n  &lt;interactiveMode/&gt;\n  &lt;usePluginRegistry/&gt;\n  &lt;offline/&gt;\n  &lt;pluginGroups/&gt;\n  &lt;servers/&gt;\n  &lt;mirrors/&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;java8&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n  &lt;activeProfiles/&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Addendum: Project/Java Compiler</p>\n<p><a href=\"https://i.stack.imgur.com/y7bOD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y7bOD.png\" alt=\"Project/Java Compiler\" /></a></p>\n"},{"tags":["java","hibernate","jpa","spring-data","criteria-api"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1665649035,"post_id":71583550,"comment_id":130750577,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648133588,"creation_date":1648024259,"answer_id":71583996,"question_id":71583550,"body_markdown":"First of all, it&#39;s better to define the relationship in both classes.\r\n\r\nTherefore, from `Entity1` to `Entity2` there is a `@ManyToOne` relationship and from `Entity2` to `Entity1` there is a `@OneToMany` relationship.\r\n\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;table1&quot;)\r\npublic class Entity1 {\r\n  @Id\r\n  private String id;\r\n\r\n  @Column(name = &quot;value&quot;)\r\n  private Integer value;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;id_table2&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\r\n  private Entity2 entity2;\r\n\r\n  // ...\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;table2&quot;)\r\n@Where(clause = &quot;deletedat is null&quot;)\r\npublic class Entity2 {\r\n  @Id\r\n  private String id;\r\n\r\n  @Column(name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @OneToMany(mappedBy = &quot;entity2&quot;)\r\n  private List&lt;Entity1&gt; entities1;\r\n  // ...\r\n}\r\n```\r\n\r\nIn the end, you have to return a list of entity1, therefore you can reverse the selection and you can start from entity1. In this way, you can use fetch to avoid extra queries and you can navigate with `get`.\r\n\r\n\r\n```java\r\nprivate Specification&lt;Entity1&gt; createSpecification(SomeFilter filter) {\r\n  return (root, query, criteriaBuilder) -&gt; {\r\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n    root.fetch(&quot;entity2&quot;);\r\n    predicates.add(criteriaBuilder.equal(root.get(&quot;entity2&quot;).get(&quot;name&quot;), \r\n                                     filter.getName()));\r\n    predicates.add(criteriaBuilder.greaterThanOrEqualTo(\r\n                                             root.get(&quot;value&quot;), \r\n                                             filter.getMinValue()));\r\n    query.distinct(true);\r\n    return criteriaBuilder.and(predicates.stream().toArray(Predicate[]::new));\r\n  };\r\n}\r\n```\r\n\r\n\r\n  [1]: https://dzone.com/articles/how-to-decide-between-join-and-join-fetch","title":"How to filter both entity and @OneToMany relationship by criteria api","body":"<p>First of all, it's better to define the relationship in both classes.</p>\n<p>Therefore, from <code>Entity1</code> to <code>Entity2</code> there is a <code>@ManyToOne</code> relationship and from <code>Entity2</code> to <code>Entity1</code> there is a <code>@OneToMany</code> relationship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;table1&quot;)\npublic class Entity1 {\n  @Id\n  private String id;\n\n  @Column(name = &quot;value&quot;)\n  private Integer value;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;id_table2&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\n  private Entity2 entity2;\n\n  // ...\n}\n\n@Entity\n@Table(name = &quot;table2&quot;)\n@Where(clause = &quot;deletedat is null&quot;)\npublic class Entity2 {\n  @Id\n  private String id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @OneToMany(mappedBy = &quot;entity2&quot;)\n  private List&lt;Entity1&gt; entities1;\n  // ...\n}\n</code></pre>\n<p>In the end, you have to return a list of entity1, therefore you can reverse the selection and you can start from entity1. In this way, you can use fetch to avoid extra queries and you can navigate with <code>get</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Specification&lt;Entity1&gt; createSpecification(SomeFilter filter) {\n  return (root, query, criteriaBuilder) -&gt; {\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    root.fetch(&quot;entity2&quot;);\n    predicates.add(criteriaBuilder.equal(root.get(&quot;entity2&quot;).get(&quot;name&quot;), \n                                     filter.getName()));\n    predicates.add(criteriaBuilder.greaterThanOrEqualTo(\n                                             root.get(&quot;value&quot;), \n                                             filter.getMinValue()));\n    query.distinct(true);\n    return criteriaBuilder.and(predicates.stream().toArray(Predicate[]::new));\n  };\n}\n</code></pre>\n"}],"owner":{"account_id":128166,"reputation":173,"user_id":3615209,"accept_rate":83,"display_name":"QStorm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1648133588,"creation_date":1648022138,"question_id":71583550,"body_markdown":"The following example filters &quot;Entity2&quot; according to the given criteria. However, the List of the @OneToMany relationship remains unfiltered (all entities are included, regardless of whether they match the filter). How to expand the filter so that these are also filtered? In this example entity2.entities1 may only include an Entity1 if the &quot;value&quot; is greater or equals the given one.\r\n\r\n(postgres) database structure:\r\n\r\n    table1\r\n    -------------------\r\n    id character\r\n    id_table2 character\r\n    value integer\r\n\r\n    table2                                      \r\n    --------------                              \r\n    id character                                \r\n    name character                              \r\n    deletedat timestamp without time zone\r\n\r\n    \r\n\r\nentity model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;table1&quot;)\r\n    public class Entity1 {\r\n      @Id\r\n      private String id;\r\n    \r\n      @Column(name = &quot;value&quot;)\r\n      private Integer value;\r\n      // ...\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;table2&quot;)\r\n    @Where(clause = &quot;deletedat is null&quot;)\r\n    public class Entity2 {\r\n      @Id\r\n      private String id;\r\n    \r\n      @Column(name = &quot;name&quot;)\r\n      private String name;\r\n\r\n      @OneToMany\r\n      @JoinColumn(name = &quot;id_table1&quot;, updatable = false)\r\n      private List&lt;Entity1&gt; entities1;\r\n      // ...\r\n    }\r\n\r\ncall and specification:\r\n\r\n    public Page&lt;Entity2&gt; findByFilter(SomeFilter filter) {\r\n      Pageable pageable = //...\r\n      return entity2Repository.findAll(createSpecification(filter), pageable);\r\n    }\r\n\r\n    private Specification&lt;Entity2&gt; createSpecification(SomeFilter filter) {\r\n      return (root, query, criteriaBuilder) -&gt; {\r\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n        predicates.add(criteriaBuilder.equal(root.get(&quot;name&quot;), filter.getName()));\r\n        root.join(&quot;entities1&quot;).on(criteriaBuilder.greaterThanOrEqualTo(join.get(&quot;value&quot;), filter.getMinValue()));\r\n        query.distinct(true);\r\n        return criteriaBuilder.and(predicates.stream().toArray(Predicate[]::new));\r\n      };\r\n    }\r\n\r\nI already tired solutions from this questions but without success:\r\n\r\n - https://stackoverflow.com/questions/41379226/jpa-criteria-join-onetomany-table-where-clause-does-not-work\r\n - https://stackoverflow.com/questions/29145958/jpa-criteria-builder-onetomany-restrictions\r\n - https://stackoverflow.com/a/48441456/3615209","title":"How to filter both entity and @OneToMany relationship by criteria api","body":"<p>The following example filters &quot;Entity2&quot; according to the given criteria. However, the List of the @OneToMany relationship remains unfiltered (all entities are included, regardless of whether they match the filter). How to expand the filter so that these are also filtered? In this example entity2.entities1 may only include an Entity1 if the &quot;value&quot; is greater or equals the given one.</p>\n<p>(postgres) database structure:</p>\n<pre><code>table1\n-------------------\nid character\nid_table2 character\nvalue integer\n\ntable2                                      \n--------------                              \nid character                                \nname character                              \ndeletedat timestamp without time zone\n</code></pre>\n<p>entity model:</p>\n<pre><code>@Entity\n@Table(name = &quot;table1&quot;)\npublic class Entity1 {\n  @Id\n  private String id;\n\n  @Column(name = &quot;value&quot;)\n  private Integer value;\n  // ...\n}\n\n@Entity\n@Table(name = &quot;table2&quot;)\n@Where(clause = &quot;deletedat is null&quot;)\npublic class Entity2 {\n  @Id\n  private String id;\n\n  @Column(name = &quot;name&quot;)\n  private String name;\n\n  @OneToMany\n  @JoinColumn(name = &quot;id_table1&quot;, updatable = false)\n  private List&lt;Entity1&gt; entities1;\n  // ...\n}\n</code></pre>\n<p>call and specification:</p>\n<pre><code>public Page&lt;Entity2&gt; findByFilter(SomeFilter filter) {\n  Pageable pageable = //...\n  return entity2Repository.findAll(createSpecification(filter), pageable);\n}\n\nprivate Specification&lt;Entity2&gt; createSpecification(SomeFilter filter) {\n  return (root, query, criteriaBuilder) -&gt; {\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    predicates.add(criteriaBuilder.equal(root.get(&quot;name&quot;), filter.getName()));\n    root.join(&quot;entities1&quot;).on(criteriaBuilder.greaterThanOrEqualTo(join.get(&quot;value&quot;), filter.getMinValue()));\n    query.distinct(true);\n    return criteriaBuilder.and(predicates.stream().toArray(Predicate[]::new));\n  };\n}\n</code></pre>\n<p>I already tired solutions from this questions but without success:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41379226/jpa-criteria-join-onetomany-table-where-clause-does-not-work\">JPA Criteria Join OneToMany table where clause does not work</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29145958/jpa-criteria-builder-onetomany-restrictions\">JPA Criteria Builder OneToMany Restrictions</a></li>\n<li><a href=\"https://stackoverflow.com/a/48441456/3615209\">https://stackoverflow.com/a/48441456/3615209</a></li>\n</ul>\n"},{"tags":["java","json","rest"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1648133673,"post_id":71557890,"comment_id":126551854,"body_markdown":"The exception pretty much says it: &quot;JSONObject cannot be cast to class JSONArray&quot;. Your JSON top level element is an object, not an array, so assign / cast it to that.","body":"The exception pretty much says it: &quot;JSONObject cannot be cast to class JSONArray&quot;. Your JSON top level element is an object, not an array, so assign / cast it to that."}],"owner":{"account_id":24630130,"reputation":1,"user_id":18529451,"display_name":"Varun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648133578,"creation_date":1647866943,"question_id":71557890,"body_markdown":"I am trying to automate restapi. However, I am getting a class cast exception error on running the code.\r\n\r\njson:\r\n\r\n```json\r\n{\r\n  &quot;argument&quot;: {\r\n    &quot;ContinueWithWarningsToken&quot;: &quot;string&quot;,\r\n    &quot;Orders&quot;: [\r\n      {\r\n\t    &quot;OrderId&quot;: &quot;20220321000002&quot;,\r\n\t    &quot;AmountType&quot;: &quot;BaseCurrency&quot;,\r\n        &quot;BaseCurrency&quot;: &quot;EUR&quot;,\r\n        &quot;ExpiryTime&quot;: 360000000,\r\n        &quot;ModelPortfolio&quot;: &quot;CURXCOMMON&quot;,\r\n        &quot;NominalLots&quot;: 100,   \r\n        &quot;Portfolio&quot;: &quot;S6007-LUA&quot;,\r\n\t    &quot;PortfolioGroup&quot;: &quot;F-S6007LU&quot;,\r\n\t    &quot;OrderFreeCode3&quot;: &quot;F&quot;,\r\n        &quot;PriceCurrency&quot;: &quot;USD&quot;,\r\n        &quot;Security&quot;: &quot;FX FWD&quot;,\r\n\t    &quot;MaturityDate&quot;: &quot;2022-03-21&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nUsing below code:\r\n\r\n```java\r\nFile jsonDataInFile = new File(&quot;src/test/resources/data/orderCreationBegin.json&quot;);\r\nJSONParser parser = new JSONParser();\r\nObject obj = parser.parse(new FileReader(&quot;src/test/resources/data/orderCreationBegin.json&quot;));\r\nSystem.out.println(obj.toString());\r\nJSONArray orderjason = (JSONArray) obj;\r\n```\r\n\r\nI get: \r\n\r\n```none \r\njava.lang.ClassCastException: class net.minidev.json.JSONObject cannot be cast to class org.json.JSONArray (net.minidev.json.JSONObject and org.json.JSONArray are in unnamed module of loader &#39;app&#39;)\r\n\tat com.nordea.gtaf.testprocedures.APIOrderCreation.apiOrderCreationPortfolioOrders(APIOrderCreation.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n```","title":"Error class net.minidev.json.JSONObject cannot be cast to class org.json.JSONArray on parsing the json file","body":"<p>I am trying to automate restapi. However, I am getting a class cast exception error on running the code.</p>\n<p>json:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;argument&quot;: {\n    &quot;ContinueWithWarningsToken&quot;: &quot;string&quot;,\n    &quot;Orders&quot;: [\n      {\n        &quot;OrderId&quot;: &quot;20220321000002&quot;,\n        &quot;AmountType&quot;: &quot;BaseCurrency&quot;,\n        &quot;BaseCurrency&quot;: &quot;EUR&quot;,\n        &quot;ExpiryTime&quot;: 360000000,\n        &quot;ModelPortfolio&quot;: &quot;CURXCOMMON&quot;,\n        &quot;NominalLots&quot;: 100,   \n        &quot;Portfolio&quot;: &quot;S6007-LUA&quot;,\n        &quot;PortfolioGroup&quot;: &quot;F-S6007LU&quot;,\n        &quot;OrderFreeCode3&quot;: &quot;F&quot;,\n        &quot;PriceCurrency&quot;: &quot;USD&quot;,\n        &quot;Security&quot;: &quot;FX FWD&quot;,\n        &quot;MaturityDate&quot;: &quot;2022-03-21&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Using below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File jsonDataInFile = new File(&quot;src/test/resources/data/orderCreationBegin.json&quot;);\nJSONParser parser = new JSONParser();\nObject obj = parser.parse(new FileReader(&quot;src/test/resources/data/orderCreationBegin.json&quot;));\nSystem.out.println(obj.toString());\nJSONArray orderjason = (JSONArray) obj;\n</code></pre>\n<p>I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ClassCastException: class net.minidev.json.JSONObject cannot be cast to class org.json.JSONArray (net.minidev.json.JSONObject and org.json.JSONArray are in unnamed module of loader 'app')\n    at com.nordea.gtaf.testprocedures.APIOrderCreation.apiOrderCreationPortfolioOrders(APIOrderCreation.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n</code></pre>\n"},{"tags":["java","generics","jooq"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648132832,"post_id":71604430,"comment_id":126551477,"body_markdown":"Does `ActorRecord` actually implement `Record`?","body":"Does <code>ActorRecord</code> actually implement <code>Record</code>?"},{"owner":{"account_id":2717903,"reputation":256,"user_id":2344841,"accept_rate":75,"display_name":"jasondlee"},"score":0,"creation_date":1648133000,"post_id":71604430,"comment_id":126551554,"body_markdown":"Ultimately, yes. FWIW, RecordMapper (and the RecordMapperProvider method I&#39;m working with) are jOOQ APIs, and ActorRecord is jOOQ-generated code.","body":"Ultimately, yes. FWIW, RecordMapper (and the RecordMapperProvider method I&#39;m working with) are jOOQ APIs, and ActorRecord is jOOQ-generated code."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648133554,"creation_date":1648133554,"answer_id":71604687,"question_id":71604430,"body_markdown":"The signature you mentioned is from [`RecordMapperProvider`][1], a general purpose SPI that allows for providing custom `RecordMapper&lt;R, E&gt;` instances for `(RecordType&lt;R&gt;, Class&lt;E&gt;)` pairs. The generics on this method are mostly for documentation purposes, meaning that for whatever you&#39;re receiving as input types, you must support in your output mapper function.\r\n\r\nThere&#39;s no way to capture the *actual* types you&#39;re receiving at runtime in a type safe way because your `RecordMapperProvider` implementation will have to decide for *every* input pair whether it can provide a `RecordMapper`, or return `null` if it cannot, and it can return the same `RecordMapper` for multiple input pairs, if that `RecordMapper` is sufficiently capable.\r\n\r\nSo, you&#39;ll have to unsafe cast or work with raw types.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/RecordMapperProvider.html","title":"Incompatible types trying to return class implementing parameterized interface","body":"<p>The signature you mentioned is from <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/RecordMapperProvider.html\" rel=\"nofollow noreferrer\"><code>RecordMapperProvider</code></a>, a general purpose SPI that allows for providing custom <code>RecordMapper&lt;R, E&gt;</code> instances for <code>(RecordType&lt;R&gt;, Class&lt;E&gt;)</code> pairs. The generics on this method are mostly for documentation purposes, meaning that for whatever you're receiving as input types, you must support in your output mapper function.</p>\n<p>There's no way to capture the <em>actual</em> types you're receiving at runtime in a type safe way because your <code>RecordMapperProvider</code> implementation will have to decide for <em>every</em> input pair whether it can provide a <code>RecordMapper</code>, or return <code>null</code> if it cannot, and it can return the same <code>RecordMapper</code> for multiple input pairs, if that <code>RecordMapper</code> is sufficiently capable.</p>\n<p>So, you'll have to unsafe cast or work with raw types.</p>\n"}],"owner":{"account_id":2717903,"reputation":256,"user_id":2344841,"accept_rate":75,"display_name":"jasondlee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71604687,"answer_count":1,"score":1,"last_activity_date":1648133554,"creation_date":1648132547,"question_id":71604430,"body_markdown":"I have defined this class: \r\n\r\n```\r\npublic class ActorMapper implements RecordMapper&lt;ActorRecord, ActorModel&gt;\r\n```\r\nElsewhere, in a function with this signature: \r\n```\r\npublic &lt;R extends Record, E&gt; RecordMapper&lt;R, E&gt; \r\n    provide(RecordType&lt;R&gt; recordType, Class&lt;? extends E&gt; clazz)\r\n```\r\nI try to  return new ActorMapper(), but javac complains: \r\n```\r\nincompatible types: com.steeplesoft.jooq.codegen.mapper.ActorMapper cannot be \r\nconverted to org.jooq.RecordMapper&lt;R,E&gt;\r\n```\r\nI can cast it and it works fine, but why won&#39;t that compile. Can someone help me out? :)\r\n","title":"Incompatible types trying to return class implementing parameterized interface","body":"<p>I have defined this class:</p>\n<pre><code>public class ActorMapper implements RecordMapper&lt;ActorRecord, ActorModel&gt;\n</code></pre>\n<p>Elsewhere, in a function with this signature:</p>\n<pre><code>public &lt;R extends Record, E&gt; RecordMapper&lt;R, E&gt; \n    provide(RecordType&lt;R&gt; recordType, Class&lt;? extends E&gt; clazz)\n</code></pre>\n<p>I try to  return new ActorMapper(), but javac complains:</p>\n<pre><code>incompatible types: com.steeplesoft.jooq.codegen.mapper.ActorMapper cannot be \nconverted to org.jooq.RecordMapper&lt;R,E&gt;\n</code></pre>\n<p>I can cast it and it works fine, but why won't that compile. Can someone help me out? :)</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648132537,"post_id":71604394,"comment_id":126551340,"body_markdown":"`query.replaceAll(&quot;\\n&quot;, &quot;\\\\n&quot;)` etc.","body":"<code>query.replaceAll(&quot;\\n&quot;, &quot;\\\\n&quot;)</code> etc."},{"owner":{"account_id":11842586,"reputation":11,"user_id":8666029,"display_name":"NerdCaps"},"score":0,"creation_date":1648132590,"post_id":71604394,"comment_id":126551362,"body_markdown":"There&#39;s also &quot;\\r&quot; present in the input","body":"There&#39;s also &quot;\\r&quot; present in the input"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1648133016,"post_id":71604394,"comment_id":126551558,"body_markdown":"Please show an [MCVE](https://stackoverflow.com/help/mcve) that especially shows the precise characters in your string.","body":"Please show an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> that especially shows the precise characters in your string."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1648136695,"post_id":71604394,"comment_id":126553242,"body_markdown":"@AndyTurner There&#39;s no need for regular expressions here.","body":"@AndyTurner There&#39;s no need for regular expressions here."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648133429,"creation_date":1648133429,"answer_id":71604652,"question_id":71604394,"body_markdown":"You have carriage return and newline characters, not escaped r or n.\r\n    \r\n    replacedToken = replacedToken.replace(&quot;\\n&quot;, &quot;\\\\n&quot;).replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\r\n\r\nThis replaces all carriage return and newline characters with their escaped equivalents.","title":"Issue with replacing part of string in Java","body":"<p>You have carriage return and newline characters, not escaped r or n.</p>\n<pre><code>replacedToken = replacedToken.replace(&quot;\\n&quot;, &quot;\\\\n&quot;).replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\n</code></pre>\n<p>This replaces all carriage return and newline characters with their escaped equivalents.</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648133521,"creation_date":1648133521,"answer_id":71604679,"question_id":71604394,"body_markdown":"I assume that your goal is simply to convert characters `\\r`, `\\t` and `\\n` in an input `String` to double-quoted two-character strings `&quot;\\\\r&quot;` and so on, so that printing the string does not result in newlines or tabs. \r\n\r\nNote that the *character* `\\n` does not really contain the *character* `\\` at all. We simply agree to write `\\n` to represent it. This should work:\r\n\r\n       public static String escapeWhitespaceEscapes(String input) {\r\n           return input\r\n               .replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\r\n               .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\r\n               .replace(&quot;\\t&quot;, &quot;\\\\t&quot;);\r\n       }\r\n\r\nBut note that you will have to perform the reverse operation to get back the original string.","title":"Issue with replacing part of string in Java","body":"<p>I assume that your goal is simply to convert characters <code>\\r</code>, <code>\\t</code> and <code>\\n</code> in an input <code>String</code> to double-quoted two-character strings <code>&quot;\\\\r&quot;</code> and so on, so that printing the string does not result in newlines or tabs.</p>\n<p>Note that the <em>character</em> <code>\\n</code> does not really contain the <em>character</em> <code>\\</code> at all. We simply agree to write <code>\\n</code> to represent it. This should work:</p>\n<pre><code>   public static String escapeWhitespaceEscapes(String input) {\n       return input\n           .replace(&quot;\\n&quot;, &quot;\\\\n&quot;)\n           .replace(&quot;\\r&quot;, &quot;\\\\r&quot;)\n           .replace(&quot;\\t&quot;, &quot;\\\\t&quot;);\n   }\n</code></pre>\n<p>But note that you will have to perform the reverse operation to get back the original string.</p>\n"}],"owner":{"account_id":11842586,"reputation":11,"user_id":8666029,"display_name":"NerdCaps"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71604652,"answer_count":2,"score":0,"last_activity_date":1648133521,"creation_date":1648132424,"question_id":71604394,"body_markdown":"I have a method that reads a sql query as a string and needs to replace all &#39;\\\\&#39; with &#39;\\\\\\\\&#39;. This is done to prevent \\\\n and \\\\r being processed as line breaks in the output.\r\n\r\n    private static String cleanTokenForCsv(String inputToken) {\r\n            if (inputToken == null) {\r\n                return &quot;&quot;;\r\n            }\r\n            if (inputToken.length() == 0 || inputToken.contains(&quot;,&quot;) || inputToken.contains(&quot;\\&quot;&quot;)\r\n                    || inputToken.contains(&quot;\\n&quot;) || inputToken.contains(&quot;\\r&quot;)) {\r\n                String replacedToken = inputToken.replace(&quot;,&quot;, &quot;;&quot;);\r\n                return String.format(&quot;\\&quot;%s\\&quot;&quot;, replacedToken.replace(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;));\r\n            } else {\r\n                return inputToken;\r\n            }\r\n        }\r\n\r\n**Sample Input**\r\n\r\n(\\nSELECT\\n\ta.population_id\\n\t,a.empi_id\\n\\r\t,a.encounter_id\\n\t,SPLIT_PART(MIN(a.service_date||&#39;|&#39;||a.norm_numeric_value),&#39;|&#39;,2)::FLOAT as earliest_temperature\\nFROM\\n\tph_f_result a)\r\n\r\nThe expected output for the query would be along the lines of\r\n\r\n`&quot;(\\nSELECT\\n\ta.population_id\\n\t;a.empi_id\\n\\r\t;a.encounter_id\\n\t;SPLIT_PART(MIN(a.service_date||&#39;|&#39;||a.norm_numeric_value);&#39;|&#39;;2)::FLOAT as earliest_temperature\\nFROM\\n\tph_f_result a)&quot;`\r\n\r\nThe entire query in one line with the line breaks intact\r\n\r\nHowever, the output instead is\r\n\r\n    &quot;(\r\n    SELECT\r\n    \ta.population_id\r\n    \t;a.empi_id\r\n    \r\n    \t;a.encounter_id\r\n    \t;SPLIT_PART(MIN(a.service_date||&#39;|&#39;||a.norm_numeric_value);&#39;|&#39;;2)::FLOAT as earliest_temperature\r\n    FROM\r\n    \tph_f_result a)&quot;\r\n\r\nI also tried the following:\r\n\r\n    replacedToken = replacedToken.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n\r\nWith Regex\r\n\r\n    replacedToken = replacedToken.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\r\n\r\nEdit: So I can get it to work if I add individual replace calls for \\n and \\r like below\r\n\r\n    replacedToken = replacedToken.replace(&quot;\\n&quot;,&quot;\\\\n&quot;); \r\n    replacedToken = replacedToken.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\r\n\r\nBut I am looking for something more generic for all &#39;\\n&#39; instances","title":"Issue with replacing part of string in Java","body":"<p>I have a method that reads a sql query as a string and needs to replace all '\\' with '\\\\'. This is done to prevent \\n and \\r being processed as line breaks in the output.</p>\n<pre><code>private static String cleanTokenForCsv(String inputToken) {\n        if (inputToken == null) {\n            return &quot;&quot;;\n        }\n        if (inputToken.length() == 0 || inputToken.contains(&quot;,&quot;) || inputToken.contains(&quot;\\&quot;&quot;)\n                || inputToken.contains(&quot;\\n&quot;) || inputToken.contains(&quot;\\r&quot;)) {\n            String replacedToken = inputToken.replace(&quot;,&quot;, &quot;;&quot;);\n            return String.format(&quot;\\&quot;%s\\&quot;&quot;, replacedToken.replace(&quot;\\&quot;&quot;, &quot;\\&quot;\\&quot;&quot;));\n        } else {\n            return inputToken;\n        }\n    }\n</code></pre>\n<p><strong>Sample Input</strong></p>\n<p>(\\nSELECT\\n a.population_id\\n   ,a.empi_id\\n\\r  ,a.encounter_id\\n   ,SPLIT_PART(MIN(a.service_date||'|'||a.norm_numeric_value),'|',2)::FLOAT as earliest_temperature\\nFROM\\n    ph_f_result a)</p>\n<p>The expected output for the query would be along the lines of</p>\n<p><code>&quot;(\\nSELECT\\n   a.population_id\\n   ;a.empi_id\\n\\r  ;a.encounter_id\\n   ;SPLIT_PART(MIN(a.service_date||'|'||a.norm_numeric_value);'|';2)::FLOAT as earliest_temperature\\nFROM\\n    ph_f_result a)&quot;</code></p>\n<p>The entire query in one line with the line breaks intact</p>\n<p>However, the output instead is</p>\n<pre><code>&quot;(\nSELECT\n    a.population_id\n    ;a.empi_id\n\n    ;a.encounter_id\n    ;SPLIT_PART(MIN(a.service_date||'|'||a.norm_numeric_value);'|';2)::FLOAT as earliest_temperature\nFROM\n    ph_f_result a)&quot;\n</code></pre>\n<p>I also tried the following:</p>\n<pre><code>replacedToken = replacedToken.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n</code></pre>\n<p>With Regex</p>\n<pre><code>replacedToken = replacedToken.replaceAll(&quot;\\\\\\\\&quot;, &quot;\\\\\\\\\\\\\\\\&quot;);\n</code></pre>\n<p>Edit: So I can get it to work if I add individual replace calls for \\n and \\r like below</p>\n<pre><code>replacedToken = replacedToken.replace(&quot;\\n&quot;,&quot;\\\\n&quot;); \nreplacedToken = replacedToken.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\n</code></pre>\n<p>But I am looking for something more generic for all '\\n' instances</p>\n"},{"tags":["java","json","polymorphism","jackson"],"comments":[{"owner":{"account_id":3618851,"reputation":10439,"user_id":3018212,"accept_rate":100,"display_name":"Eric D. Johnson"},"score":0,"creation_date":1409852728,"post_id":25671806,"comment_id":40118939,"body_markdown":"Any tips from @ProgrammerBruce would just make my day :) !","body":"Any tips from @ProgrammerBruce would just make my day :) !"},{"owner":{"account_id":3618851,"reputation":10439,"user_id":3018212,"accept_rate":100,"display_name":"Eric D. Johnson"},"score":1,"creation_date":1409860047,"post_id":25671806,"comment_id":40122690,"body_markdown":"Found what looks like the same question from about 3 years back http://stackoverflow.com/questions/7502972/jackson-deserialization-unexpected-token-end-object","body":"Found what looks like the same question from about 3 years back <a href=\"http://stackoverflow.com/questions/7502972/jackson-deserialization-unexpected-token-end-object\" title=\"jackson deserialization unexpected token end object\">stackoverflow.com/questions/7502972/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1531965924,"creation_date":1409871838,"answer_id":25676286,"question_id":25671806,"body_markdown":"I am not sure that you can do it with specifying inner property: `type.id`. In my opinion you should change your JSON to simpler version. If you can not force your JSON supplier to change JSON schema you have to do it manually. Assume that your JSON looks like below:\r\n\r\n    {\r\n        &quot;activityDisplayModel&quot;: {\r\n            &quot;name&quot;: &quot;lunch with friends&quot;,\r\n            &quot;type&quot;: {\r\n                &quot;id&quot;: &quot;MEAL&quot;,\r\n                &quot;description&quot;: &quot;Meal&quot;\r\n            },\r\n            &quot;complete&quot;: false\r\n        }\r\n    }\r\n\r\nBelow POJO classes fit to above JSON:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({\r\n    \t@JsonSubTypes.Type(value = MealDisplayModel.class, name = &quot;MEAL&quot;),\r\n    \t@JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = &quot;ENTERTAINMENT&quot;)\r\n    })\r\n    abstract class ActivityDisplayModel {\r\n    \r\n    \tprotected String name;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn name;\r\n    \t}\r\n    }\r\n    \r\n    class MealDisplayModel extends ActivityDisplayModel {\r\n    \r\n    \tprivate boolean complete;\r\n    \r\n    \tpublic boolean isComplete() {\r\n    \t\treturn complete;\r\n    \t}\r\n    \r\n    \tpublic void setComplete(boolean complete) {\r\n    \t\tthis.complete = complete;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;MealDisplayModel [complete=&quot; + complete + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\r\n    \t}\r\n    }\r\n    \r\n    @JsonIgnoreProperties(&quot;complete&quot;)\r\n    class EntertainmentDisplayModel extends ActivityDisplayModel {\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;EntertainmentDisplayModel [toString()=&quot; + super.toString() + &quot;]&quot;;\r\n    \t}\r\n    }\r\n    \r\n    class Root {\r\n    \r\n    \tprivate ActivityDisplayModel activityDisplayModel;\r\n    \r\n    \tpublic ActivityDisplayModel getActivityDisplayModel() {\r\n    \t\treturn activityDisplayModel;\r\n    \t}\r\n    \r\n    \tpublic void setActivityDisplayModel(ActivityDisplayModel activityDisplayModel) {\r\n    \t\tthis.activityDisplayModel = activityDisplayModel;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn activityDisplayModel.toString();\r\n    \t}\r\n    }\r\n\r\nBelow script shows how you can parse above JSON:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    // Updated JSON in memory\r\n    ObjectNode rootNode = (ObjectNode)mapper.readTree(json);\r\n    ObjectNode activityDisplayModelNode = (ObjectNode)rootNode.path(&quot;activityDisplayModel&quot;);\r\n    JsonNode typeNode = activityDisplayModelNode.path(&quot;type&quot;);\r\n    activityDisplayModelNode.set(&quot;type&quot;, typeNode.path(&quot;id&quot;));\r\n    \r\n    System.out.println(&quot;Result: &quot; + mapper.convertValue(rootNode, Root.class));\r\n\r\nAbove script prints:\r\n\r\n    Result: MealDisplayModel [complete=false, toString()=lunch with friends]\r\n\r\nAlso see:\r\n\r\n 1. [Jackson Tree Model Example][1].\r\n 2. [Convert Java Object to JsonNode in Jackson][2].\r\n\r\n\r\n  [1]: http://www.mkyong.com/java/jackson-tree-model-example/\r\n  [2]: https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson","title":"What @JsonTypeInfo.ID to choose for property = &quot;type.id&quot; for deserialization, JsonTypeInfo.Id.CUSTOM?","body":"<p>I am not sure that you can do it with specifying inner property: <code>type.id</code>. In my opinion you should change your JSON to simpler version. If you can not force your JSON supplier to change JSON schema you have to do it manually. Assume that your JSON looks like below:</p>\n\n<pre><code>{\n    \"activityDisplayModel\": {\n        \"name\": \"lunch with friends\",\n        \"type\": {\n            \"id\": \"MEAL\",\n            \"description\": \"Meal\"\n        },\n        \"complete\": false\n    }\n}\n</code></pre>\n\n<p>Below POJO classes fit to above JSON:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = MealDisplayModel.class, name = \"MEAL\"),\n    @JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = \"ENTERTAINMENT\")\n})\nabstract class ActivityDisplayModel {\n\n    protected String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n\nclass MealDisplayModel extends ActivityDisplayModel {\n\n    private boolean complete;\n\n    public boolean isComplete() {\n        return complete;\n    }\n\n    public void setComplete(boolean complete) {\n        this.complete = complete;\n    }\n\n    @Override\n    public String toString() {\n        return \"MealDisplayModel [complete=\" + complete + \", toString()=\" + super.toString() + \"]\";\n    }\n}\n\n@JsonIgnoreProperties(\"complete\")\nclass EntertainmentDisplayModel extends ActivityDisplayModel {\n\n    @Override\n    public String toString() {\n        return \"EntertainmentDisplayModel [toString()=\" + super.toString() + \"]\";\n    }\n}\n\nclass Root {\n\n    private ActivityDisplayModel activityDisplayModel;\n\n    public ActivityDisplayModel getActivityDisplayModel() {\n        return activityDisplayModel;\n    }\n\n    public void setActivityDisplayModel(ActivityDisplayModel activityDisplayModel) {\n        this.activityDisplayModel = activityDisplayModel;\n    }\n\n    @Override\n    public String toString() {\n        return activityDisplayModel.toString();\n    }\n}\n</code></pre>\n\n<p>Below script shows how you can parse above JSON:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n// Updated JSON in memory\nObjectNode rootNode = (ObjectNode)mapper.readTree(json);\nObjectNode activityDisplayModelNode = (ObjectNode)rootNode.path(\"activityDisplayModel\");\nJsonNode typeNode = activityDisplayModelNode.path(\"type\");\nactivityDisplayModelNode.set(\"type\", typeNode.path(\"id\"));\n\nSystem.out.println(\"Result: \" + mapper.convertValue(rootNode, Root.class));\n</code></pre>\n\n<p>Above script prints:</p>\n\n<pre><code>Result: MealDisplayModel [complete=false, toString()=lunch with friends]\n</code></pre>\n\n<p>Also see:</p>\n\n<ol>\n<li><a href=\"http://www.mkyong.com/java/jackson-tree-model-example/\" rel=\"noreferrer\">Jackson Tree Model Example</a>.</li>\n<li><a href=\"https://stackoverflow.com/questions/11828368/convert-java-object-to-jsonnode-in-jackson\">Convert Java Object to JsonNode in Jackson</a>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2414424,"reputation":426,"user_id":2108807,"accept_rate":100,"display_name":"Strumbles"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1506806275,"creation_date":1506699573,"answer_id":46492399,"question_id":25671806,"body_markdown":"I know it&#39;s been 3 years since the original question, but dot-nested properties are still not supported and maybe this will help someone out.  I ended up creating a class `NestedTypeResolver` so we can use the dot-syntax as expected. Simply add `@JsonTypeResolver(NestedTypeResolver.class)` to any class with nested discriminators and the poster&#39;s original attempt will work:\r\n\r\n    /** \r\n     * My ActivityDisplayModel Abstract Class\r\n     */\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type.id&quot;)\r\n      @JsonSubTypes({\r\n      @JsonSubTypes.Type(value = MealDisplayModel.class, name = &quot;MEAL&quot;),\r\n      @JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = &quot;ENTERTAINMENT&quot;)\r\n    })\r\n    @JsonTypeResolver(NestedTypeResolver.class)\r\n    public abstract class ActivityDisplayModel {\r\n\r\nNestedTypeResolver:\r\n\r\n    /**\r\n     * Allows using nested &quot;dot&quot; dyntax for type discriminators. To use, annotate class with @JsonTypeResolver(NestedTypeResolver.class)\r\n     */\r\n    public class NestedTypeResolver extends StdTypeResolverBuilder {\r\n        @Override\r\n        public TypeDeserializer buildTypeDeserializer(DeserializationConfig config, JavaType baseType,\r\n                Collection&lt;NamedType&gt; subtypes) {\r\n                //Copied this code from parent class, StdTypeResolverBuilder with same method name\r\n                TypeIdResolver idRes = idResolver(config, baseType, subtypes, false, true);\r\n                return new NestedTypeDeserializer(baseType, idRes, _typeProperty, _typeIdVisible,\r\n                    null, _includeAs);\r\n        }\r\n    }\r\n\r\nAll the heavy work is done in here, NestedTypeDeserializer:\r\n\r\n    /**\r\n     * Heavy work to support {@link NestedTypeResolver}\r\n     */\r\n    public class NestedTypeDeserializer extends AsPropertyTypeDeserializer {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(NestedTypeDeserializer.class);\r\n    \r\n        public NestedTypeDeserializer(JavaType bt,\r\n                TypeIdResolver idRes, String typePropertyName, boolean typeIdVisible,\r\n                JavaType defaultImpl) {\r\n            super(bt, idRes, typePropertyName, typeIdVisible, defaultImpl);\r\n        }\r\n    \r\n        public NestedTypeDeserializer(JavaType bt, TypeIdResolver idRes, String typePropertyName, boolean typeIdVisible,\r\n                JavaType defaultImpl, JsonTypeInfo.As inclusion) {\r\n            super(bt, idRes, typePropertyName, typeIdVisible, defaultImpl, inclusion);\r\n        }\r\n    \r\n        public NestedTypeDeserializer(AsPropertyTypeDeserializer src, BeanProperty property) {\r\n            super(src, property);\r\n        }\r\n    \r\n        @Override\r\n        public TypeDeserializer forProperty(BeanProperty prop) {\r\n            return (prop == _property) ? this : new NestedTypeDeserializer(this, prop);\r\n        }\r\n    \r\n        @Override\r\n        public Object deserializeTypedFromObject(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            JsonNode originalNode = p.readValueAsTree();\r\n            JsonNode node = originalNode;\r\n            //_typePropertyName is the dot separated value of &quot;property&quot; in @JsonTypeInfo\r\n            LOGGER.debug(&quot;Searching for type discriminator [{}]...&quot;, _typePropertyName);\r\n            for (String property : _typePropertyName.split(&quot;\\\\.&quot;)) { //traverse down any nested properties\r\n                JsonNode nestedProp = node.get(property);\r\n                if (nestedProp == null) {\r\n                    ctxt.reportWrongTokenException(p, JsonToken.FIELD_NAME,\r\n                            &quot;missing property &#39;&quot; + _typePropertyName + &quot;&#39; that is to contain type id  (for class &quot;\r\n                                    + baseTypeName() + &quot;)&quot;);\r\n                    return null;\r\n                }\r\n                node = nestedProp;\r\n            }\r\n            LOGGER.debug(&quot;Found [{}] with value [{}]&quot;, _typePropertyName, node.asText());\r\n            JsonDeserializer&lt;Object&gt; deser = _findDeserializer(ctxt, &quot;&quot; + node.asText());\r\n            //Since JsonParser is a forward-only operation and finding the &quot;type&quot; discriminator advanced the pointer, we need to reset it\r\n            //Got clues from https://www.dilipkumarg.com/dynamic-polymorphic-type-handling-jackson/\r\n            JsonParser jsonParser = new TreeTraversingParser(originalNode, p.getCodec());\r\n            if (jsonParser.getCurrentToken() == null) {\r\n                jsonParser.nextToken();\r\n            }\r\n            return deser.deserialize(jsonParser, ctxt);\r\n        }\r\n    }\r\n\r\nDisclaimer: we&#39;ve been using this for a month with Jackson 2.8.10 and have had no issues, but we had to go deep into the Jackson source code weeds to accomplish it, so YMMV. \r\nHopefully Jackson will allow this out-of-the-box someday so we dont need these workarounds.","title":"What @JsonTypeInfo.ID to choose for property = &quot;type.id&quot; for deserialization, JsonTypeInfo.Id.CUSTOM?","body":"<p>I know it's been 3 years since the original question, but dot-nested properties are still not supported and maybe this will help someone out.  I ended up creating a class <code>NestedTypeResolver</code> so we can use the dot-syntax as expected. Simply add <code>@JsonTypeResolver(NestedTypeResolver.class)</code> to any class with nested discriminators and the poster's original attempt will work:</p>\n\n<pre><code>/** \n * My ActivityDisplayModel Abstract Class\n */\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type.id\")\n  @JsonSubTypes({\n  @JsonSubTypes.Type(value = MealDisplayModel.class, name = \"MEAL\"),\n  @JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = \"ENTERTAINMENT\")\n})\n@JsonTypeResolver(NestedTypeResolver.class)\npublic abstract class ActivityDisplayModel {\n</code></pre>\n\n<p>NestedTypeResolver:</p>\n\n<pre><code>/**\n * Allows using nested \"dot\" dyntax for type discriminators. To use, annotate class with @JsonTypeResolver(NestedTypeResolver.class)\n */\npublic class NestedTypeResolver extends StdTypeResolverBuilder {\n    @Override\n    public TypeDeserializer buildTypeDeserializer(DeserializationConfig config, JavaType baseType,\n            Collection&lt;NamedType&gt; subtypes) {\n            //Copied this code from parent class, StdTypeResolverBuilder with same method name\n            TypeIdResolver idRes = idResolver(config, baseType, subtypes, false, true);\n            return new NestedTypeDeserializer(baseType, idRes, _typeProperty, _typeIdVisible,\n                null, _includeAs);\n    }\n}\n</code></pre>\n\n<p>All the heavy work is done in here, NestedTypeDeserializer:</p>\n\n<pre><code>/**\n * Heavy work to support {@link NestedTypeResolver}\n */\npublic class NestedTypeDeserializer extends AsPropertyTypeDeserializer {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(NestedTypeDeserializer.class);\n\n    public NestedTypeDeserializer(JavaType bt,\n            TypeIdResolver idRes, String typePropertyName, boolean typeIdVisible,\n            JavaType defaultImpl) {\n        super(bt, idRes, typePropertyName, typeIdVisible, defaultImpl);\n    }\n\n    public NestedTypeDeserializer(JavaType bt, TypeIdResolver idRes, String typePropertyName, boolean typeIdVisible,\n            JavaType defaultImpl, JsonTypeInfo.As inclusion) {\n        super(bt, idRes, typePropertyName, typeIdVisible, defaultImpl, inclusion);\n    }\n\n    public NestedTypeDeserializer(AsPropertyTypeDeserializer src, BeanProperty property) {\n        super(src, property);\n    }\n\n    @Override\n    public TypeDeserializer forProperty(BeanProperty prop) {\n        return (prop == _property) ? this : new NestedTypeDeserializer(this, prop);\n    }\n\n    @Override\n    public Object deserializeTypedFromObject(JsonParser p, DeserializationContext ctxt) throws IOException {\n        JsonNode originalNode = p.readValueAsTree();\n        JsonNode node = originalNode;\n        //_typePropertyName is the dot separated value of \"property\" in @JsonTypeInfo\n        LOGGER.debug(\"Searching for type discriminator [{}]...\", _typePropertyName);\n        for (String property : _typePropertyName.split(\"\\\\.\")) { //traverse down any nested properties\n            JsonNode nestedProp = node.get(property);\n            if (nestedProp == null) {\n                ctxt.reportWrongTokenException(p, JsonToken.FIELD_NAME,\n                        \"missing property '\" + _typePropertyName + \"' that is to contain type id  (for class \"\n                                + baseTypeName() + \")\");\n                return null;\n            }\n            node = nestedProp;\n        }\n        LOGGER.debug(\"Found [{}] with value [{}]\", _typePropertyName, node.asText());\n        JsonDeserializer&lt;Object&gt; deser = _findDeserializer(ctxt, \"\" + node.asText());\n        //Since JsonParser is a forward-only operation and finding the \"type\" discriminator advanced the pointer, we need to reset it\n        //Got clues from https://www.dilipkumarg.com/dynamic-polymorphic-type-handling-jackson/\n        JsonParser jsonParser = new TreeTraversingParser(originalNode, p.getCodec());\n        if (jsonParser.getCurrentToken() == null) {\n            jsonParser.nextToken();\n        }\n        return deser.deserialize(jsonParser, ctxt);\n    }\n}\n</code></pre>\n\n<p>Disclaimer: we've been using this for a month with Jackson 2.8.10 and have had no issues, but we had to go deep into the Jackson source code weeds to accomplish it, so YMMV. \nHopefully Jackson will allow this out-of-the-box someday so we dont need these workarounds.</p>\n"}],"owner":{"account_id":3618851,"reputation":10439,"user_id":3018212,"accept_rate":100,"display_name":"Eric D. Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22978,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":25676286,"answer_count":2,"score":21,"last_activity_date":1648133512,"creation_date":1409852482,"question_id":25671806,"body_markdown":"So I have JSON that looks like this:\r\n\r\n    {\r\n    \t&quot;ActivityDisplayModel&quot; : {\r\n    \t\t&quot;name&quot; : &quot;lunch with friends&quot;,\r\n    \t\t&quot;startTime&quot; : &quot;12:00:00&quot;,\r\n    \t\t&quot;type&quot; : {\r\n    \t\t\t&quot;id&quot; : &quot;MEAL&quot;,\r\n    \t\t\t&quot;description&quot; : &quot;Meal&quot;\r\n    \t\t},\r\n    \t\t&quot;complete&quot; : false\r\n    \t}\r\n    }\r\n\r\nI&#39;m trying to find the way to get `@JsonTypeInfo` to not be mad at me for having the type parameter inside the `type` object. I&#39;ve got this working before when the field `type` was a String and not an object itself, but for later processing I need it as an object. I know the following doesn&#39;t work, and I&#39;m guessing theres a way to use [JsonTypeInfo.Id.CUSTOM](http://fasterxml.github.io/jackson-annotations/javadoc/2.3.0/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#CUSTOM), but after looking all over on the internet, no full examples with JSON have come up. Also, if this is possible with an objectMapper setting, I&#39;m all ears.\r\n\r\n    /** \r\n     * My ActivityDisplayModel Abstract Class\r\n     */\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type.id&quot;)\r\n    @JsonSubTypes({\r\n    @JsonSubTypes.Type(value = MealDisplayModel.class, name = &quot;MEAL&quot;),\r\n    @JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = &quot;ENTERTAINMENT&quot;)\r\n    })\r\n    public abstract class ActivityDisplayModel { \r\n        ...\r\n\r\nThe above is essentially what I want to do, but of course I get an exception of: \r\n\r\n    Could not read JSON: Could not resolve type id &#39;{&#39; into a subtype of  [simple type, class ... .ActivityDisplayModel]\r\n\r\nFor such a simple problem of just looking one level deeper in the JSON, who would have thought it would have been so much trouble?","title":"What @JsonTypeInfo.ID to choose for property = &quot;type.id&quot; for deserialization, JsonTypeInfo.Id.CUSTOM?","body":"<p>So I have JSON that looks like this:</p>\n<pre><code>{\n    &quot;ActivityDisplayModel&quot; : {\n        &quot;name&quot; : &quot;lunch with friends&quot;,\n        &quot;startTime&quot; : &quot;12:00:00&quot;,\n        &quot;type&quot; : {\n            &quot;id&quot; : &quot;MEAL&quot;,\n            &quot;description&quot; : &quot;Meal&quot;\n        },\n        &quot;complete&quot; : false\n    }\n}\n</code></pre>\n<p>I'm trying to find the way to get <code>@JsonTypeInfo</code> to not be mad at me for having the type parameter inside the <code>type</code> object. I've got this working before when the field <code>type</code> was a String and not an object itself, but for later processing I need it as an object. I know the following doesn't work, and I'm guessing theres a way to use <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.3.0/com/fasterxml/jackson/annotation/JsonTypeInfo.Id.html#CUSTOM\" rel=\"nofollow noreferrer\">JsonTypeInfo.Id.CUSTOM</a>, but after looking all over on the internet, no full examples with JSON have come up. Also, if this is possible with an objectMapper setting, I'm all ears.</p>\n<pre><code>/** \n * My ActivityDisplayModel Abstract Class\n */\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type.id&quot;)\n@JsonSubTypes({\n@JsonSubTypes.Type(value = MealDisplayModel.class, name = &quot;MEAL&quot;),\n@JsonSubTypes.Type(value = EntertainmentDisplayModel.class, name = &quot;ENTERTAINMENT&quot;)\n})\npublic abstract class ActivityDisplayModel { \n    ...\n</code></pre>\n<p>The above is essentially what I want to do, but of course I get an exception of:</p>\n<pre><code>Could not read JSON: Could not resolve type id '{' into a subtype of  [simple type, class ... .ActivityDisplayModel]\n</code></pre>\n<p>For such a simple problem of just looking one level deeper in the JSON, who would have thought it would have been so much trouble?</p>\n"},{"tags":["java","swing","jtree"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1648050031,"post_id":71589832,"comment_id":126527186,"body_markdown":"For better help sooner, [edit] to add a [mre].","body":"For better help sooner, <a href=\"https://stackoverflow.com/posts/71589832/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":10455387,"reputation":1093,"user_id":8387076,"display_name":"Wrichik Basu"},"score":0,"creation_date":1648053410,"post_id":71589832,"comment_id":126528702,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1648064146,"post_id":71589832,"comment_id":126532624,"body_markdown":"You&#39;re going to have to [expand the node yourself](https://stackoverflow.com/questions/30042356/how-to-expand-to-specific-treenode-in-jtree) in the `JButton` `ActionListener` after you update the new values.","body":"You&#39;re going to have to <a href=\"https://stackoverflow.com/questions/30042356/how-to-expand-to-specific-treenode-in-jtree\">expand the node yourself</a> in the <code>JButton</code> <code>ActionListener</code> after you update the new values."}],"owner":{"account_id":24662119,"reputation":1,"user_id":18558231,"display_name":"lina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648132987,"creation_date":1648049111,"question_id":71589832,"body_markdown":"I am new to Java Swing and need your advice on the following issue to resolve the issue.\r\n\r\nI&#39;m trying to  reset a specific node  that was expanded before loading a new value in the tree table,  the new values will be loaded without collapsing the whole tree.\r\n\r\nThe problem is that each time I open a file via open menu to load a new value in the tree table. Once I clicked the button &quot;ok&quot; in the open dialog, the new values are loaded but whole tree is automatically collapsed while executing the following line:\r\n\r\n     buttonOk.setText(&quot;OK&quot;);\r\n     buttonOk.addActionListener(evt -&gt; buttonOkActionPerformed());\r\n\r\n     private void buttonOkActionPerformed() {// GEN- \r\n     FIRST:event_buttonOkActionPerformed\r\n\t\r\n\t    final OpenFiles selectedFiles = new OpenFiles(\r\n\t\t    new File(textParamDir.getText(), comboFile.getSelectedItem().toString());\r\n\r\n\t    switch (controller.performActionOpen(selectedFiles)) {\r\n\t    case OPEN_FAILED:\r\n\t\tnew JCBPOptionPane(&quot;Cannot Open. &quot;, WARNING, JOptionPane.WARNING_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\r\n\t\tcontroller.setControllerAfterDialog();\r\n\t\tbreak;\r\n\t    case ERROR_INTERNAL:\r\n\t\tnew JCBPOptionPane(&quot;Internal Error&quot;, WARNING, JOptionPane.ERROR_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\r\n\t\tbreak;\r\n\t    case OPEN_SUCCESSFUL:\r\n\t\topenMRPDialog.setVisible(false);\r\n\t\topenMRPDialog.dispose();\r\n\t\tbreak;\r\n\t    case ERROR_NOVALUES:\r\n\t\tnew JCBPOptionPane(&quot;No file chosen&quot;, WARNING, JOptionPane.WARNING_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\r\n\t\tcontroller.setControllerAfterDialog();\r\n\t\tbreak;\r\n\t    default:\r\n\t    }\t\r\n    }// GEN-LAST:event_buttonOkActionPerformed\r\n   \r\nHere, I need to keep a node as expanded that user expanded before opening the file to reload a value.\r\n\r\nWhile debugging, the class EventDispatchThread lead to collapse the whole tree after loading a new value in the treetable.\r\n\r\nCan anyone tell me how to refresh a node of a tree without collapsing the whole tree?\r\n","title":"Restore all expanded node after file opening without collapsing whole tree","body":"<p>I am new to Java Swing and need your advice on the following issue to resolve the issue.</p>\n<p>I'm trying to  reset a specific node  that was expanded before loading a new value in the tree table,  the new values will be loaded without collapsing the whole tree.</p>\n<p>The problem is that each time I open a file via open menu to load a new value in the tree table. Once I clicked the button &quot;ok&quot; in the open dialog, the new values are loaded but whole tree is automatically collapsed while executing the following line:</p>\n<pre><code> buttonOk.setText(&quot;OK&quot;);\n buttonOk.addActionListener(evt -&gt; buttonOkActionPerformed());\n\n private void buttonOkActionPerformed() {// GEN- \n FIRST:event_buttonOkActionPerformed\n\n    final OpenFiles selectedFiles = new OpenFiles(\n        new File(textParamDir.getText(), comboFile.getSelectedItem().toString());\n\n    switch (controller.performActionOpen(selectedFiles)) {\n    case OPEN_FAILED:\n    new JCBPOptionPane(&quot;Cannot Open. &quot;, WARNING, JOptionPane.WARNING_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\n    controller.setControllerAfterDialog();\n    break;\n    case ERROR_INTERNAL:\n    new JCBPOptionPane(&quot;Internal Error&quot;, WARNING, JOptionPane.ERROR_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\n    break;\n    case OPEN_SUCCESSFUL:\n    openMRPDialog.setVisible(false);\n    openMRPDialog.dispose();\n    break;\n    case ERROR_NOVALUES:\n    new JCBPOptionPane(&quot;No file chosen&quot;, WARNING, JOptionPane.WARNING_MESSAGE, JOptionPane.OK_OPTION, new String[] { &quot;OK&quot; });\n    controller.setControllerAfterDialog();\n    break;\n    default:\n    }   \n}// GEN-LAST:event_buttonOkActionPerformed\n</code></pre>\n<p>Here, I need to keep a node as expanded that user expanded before opening the file to reload a value.</p>\n<p>While debugging, the class EventDispatchThread lead to collapse the whole tree after loading a new value in the treetable.</p>\n<p>Can anyone tell me how to refresh a node of a tree without collapsing the whole tree?</p>\n"},{"tags":["java","parameters","polymorphism"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1648132597,"post_id":71604362,"comment_id":126551364,"body_markdown":"Welcome to the site. I have tried to make your code readable. For the future, please indent your code readably, and see [How do I format my code blocks?](https://meta.stackoverflow.com/q/251361/3890632)","body":"Welcome to the site. I have tried to make your code readable. For the future, please indent your code readably, and see <a href=\"https://meta.stackoverflow.com/q/251361/3890632\">How do I format my code blocks?</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1648132839,"post_id":71604362,"comment_id":126551483,"body_markdown":"There are so many posts dealing with overloaded and overridden methods. Please read them.","body":"There are so many posts dealing with overloaded and overridden methods. Please read them."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1648133023,"post_id":71604362,"comment_id":126551562,"body_markdown":"As a quick answer: Your variable _a2_ is declared with type `A`. So, when creating bytecode for the call `a2.show(b)`, the compiler looks for the best fit in that type. And there is only one: `A.show(A obj)`. At runtime, the object referred to by _a2_ is of type `B`. That means, now the overridden method - here `B.show(A obj)` is called. That&#39;s it.","body":"As a quick answer: Your variable <i>a2</i> is declared with type <code>A</code>. So, when creating bytecode for the call <code>a2.show(b)</code>, the compiler looks for the best fit in that type. And there is only one: <code>A.show(A obj)</code>. At runtime, the object referred to by <i>a2</i> is of type <code>B</code>. That means, now the overridden method - here <code>B.show(A obj)</code> is called. That&#39;s it."}],"owner":{"account_id":24674823,"reputation":1,"user_id":18569368,"display_name":"Peter Meshkov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648132800,"answer_count":0,"score":0,"last_activity_date":1648132814,"creation_date":1648132263,"question_id":71604362,"body_markdown":"This is for an ungraded recitation assignment for a 200 level CS course at my University. I am just asking for my own understanding.\r\n\r\nIn the following code, why does line 4 print B and A instead of B and B? Also, in Intellij I am told that the objs after the A in A.show(D obj) and B.show(B obj) are not used, while the A.show(A obj) and A.show(B obj) are used, even though they are seemingly both used the same way; just to identify which overloaded method to use.\r\n```\r\npublic class Polymor {\r\n    class A {\r\n        public String show(D obj) {\r\n            return (&quot;A and D&quot;);\r\n        }\r\n        public String show(A obj) {\r\n            return (&quot;A and A&quot;);\r\n        }\r\n    }\r\n    class B extends A {\r\n        public String show(B obj) {\r\n            return (&quot;B and B&quot;);\r\n        }\r\n        public String show(A obj) {\r\n            return (&quot;B and A&quot;);\r\n        }\t\r\n    }\r\n    class C extends B {}\r\n    class D extends B {}\r\n\r\n    public static void main(String[] args) {\r\n        Polymor outerclass = new Polymor();\r\n        A a1 = outerclass.new A();\r\n        A a2 = outerclass.new B();\r\n        B b = outerclass.new B();\r\n        C c = outerclass.new C();\r\n        D d = outerclass.new D();\r\n        System.out.println(&quot;1:&quot; + a1.show(b));\r\n        System.out.println(&quot;2:&quot; + a1.show(c));\r\n        System.out.println(&quot;3:&quot; + a1.show(d));\r\n\r\n        System.out.println(&quot;4:&quot; + a2.show(b));\r\n        System.out.println(&quot;5:&quot; + a2.show(c));\r\n        System.out.println(&quot;6:&quot; + a2.show(d));\r\n\r\n        System.out.println(&quot;7:&quot; + b.show(b));\r\n        System.out.println(&quot;8:&quot; + b.show(c));\r\n        System.out.println(&quot;9:&quot; + b.show(d));\r\n    }\r\n}\r\n```\r\nI understand all of the outputs except for the ones I mentioned. I have searched online for this unused parameter issue but cannot find anything.","title":"Polymorphic Methods in Java (from recitation)","body":"<p>This is for an ungraded recitation assignment for a 200 level CS course at my University. I am just asking for my own understanding.</p>\n<p>In the following code, why does line 4 print B and A instead of B and B? Also, in Intellij I am told that the objs after the A in A.show(D obj) and B.show(B obj) are not used, while the A.show(A obj) and A.show(B obj) are used, even though they are seemingly both used the same way; just to identify which overloaded method to use.</p>\n<pre><code>public class Polymor {\n    class A {\n        public String show(D obj) {\n            return (&quot;A and D&quot;);\n        }\n        public String show(A obj) {\n            return (&quot;A and A&quot;);\n        }\n    }\n    class B extends A {\n        public String show(B obj) {\n            return (&quot;B and B&quot;);\n        }\n        public String show(A obj) {\n            return (&quot;B and A&quot;);\n        }   \n    }\n    class C extends B {}\n    class D extends B {}\n\n    public static void main(String[] args) {\n        Polymor outerclass = new Polymor();\n        A a1 = outerclass.new A();\n        A a2 = outerclass.new B();\n        B b = outerclass.new B();\n        C c = outerclass.new C();\n        D d = outerclass.new D();\n        System.out.println(&quot;1:&quot; + a1.show(b));\n        System.out.println(&quot;2:&quot; + a1.show(c));\n        System.out.println(&quot;3:&quot; + a1.show(d));\n\n        System.out.println(&quot;4:&quot; + a2.show(b));\n        System.out.println(&quot;5:&quot; + a2.show(c));\n        System.out.println(&quot;6:&quot; + a2.show(d));\n\n        System.out.println(&quot;7:&quot; + b.show(b));\n        System.out.println(&quot;8:&quot; + b.show(c));\n        System.out.println(&quot;9:&quot; + b.show(d));\n    }\n}\n</code></pre>\n<p>I understand all of the outputs except for the ones I mentioned. I have searched online for this unused parameter issue but cannot find anything.</p>\n"},{"tags":["java","oracle","jdbc","oracle-cloud-infrastructure","oracle-soda"],"comments":[{"owner":{"account_id":10003396,"reputation":1990,"user_id":7398653,"display_name":"gsalem"},"score":1,"creation_date":1606433876,"post_id":65029729,"comment_id":114968513,"body_markdown":"your connection string is not good, use jdbc:oracle:thin:@testDb_high... have a look at this link https://www.oracle.com/database/technologies/java-connectivity-to-atp.html","body":"your connection string is not good, use jdbc:oracle:thin:@testDb_high... have a look at this link <a href=\"https://www.oracle.com/database/technologies/java-connectivity-to-atp.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/java-connectivity-to-atp.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":1,"creation_date":1606466751,"post_id":65029729,"comment_id":114974799,"body_markdown":"Your jdbc url is wrong should look like DB_URL=&quot;jdbc:oracle:thin:@dbname_high?TNS_ADMIN=C:\\\\Users\\\\test\\\\wallet_dbname&quot;","body":"Your jdbc url is wrong should look like DB_URL=&quot;jdbc:oracle:thin:@dbname_high?TNS_ADMIN=C:\\\\Users\\\\t&zwnj;&#8203;est\\\\wallet_dbname&quot;"},{"owner":{"account_id":15173981,"reputation":41,"user_id":10949230,"display_name":"rohithrajan"},"score":0,"creation_date":1606469362,"post_id":65029729,"comment_id":114975823,"body_markdown":"I tried these and still end up with **Invalid character at 28 : \\** error","body":"I tried these and still end up with <i>*Invalid character at 28 : *</i> error"},{"owner":{"account_id":19136694,"reputation":174,"user_id":13977549,"display_name":"mrtaylor2112"},"score":0,"creation_date":1606847759,"post_id":65029729,"comment_id":115084704,"body_markdown":"@rohithrajan - were you able to resolve your issue?","body":"@rohithrajan - were you able to resolve your issue?"}],"answers":[{"tags":[],"owner":{"account_id":19136694,"reputation":174,"user_id":13977549,"display_name":"mrtaylor2112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606918673,"creation_date":1606918673,"answer_id":65109886,"question_id":65029729,"body_markdown":"If you haven&#39;t referred to this document, it should assist in connecting to Oracle databases - https://docs.oracle.com/cd/E11882_01/appdev.112/e12137/getconn.htm#TDPJD138\r\n\r\nrefer to section 3.2 regarding specifying database urls specifically","title":"Unable to establish a connection with Oracle Autonomous Data warehouse (ADW) or with Autonomous JSON Database from windows machine","body":"<p>If you haven't referred to this document, it should assist in connecting to Oracle databases - <a href=\"https://docs.oracle.com/cd/E11882_01/appdev.112/e12137/getconn.htm#TDPJD138\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E11882_01/appdev.112/e12137/getconn.htm#TDPJD138</a></p>\n<p>refer to section 3.2 regarding specifying database urls specifically</p>\n"},{"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648132785,"creation_date":1648132785,"answer_id":71604484,"question_id":65029729,"body_markdown":"The problem is your TNS_ADMIN path for a windows machine:\r\n\r\n      String url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:\\\\Users\\\\RohithGovindarajan\\\\Downloads\\\\Wallet_dspmsaajd1&quot;;\r\n\r\n  \r\nyou need to change from `\\\\` to `/`\r\n\r\n      String url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:/Users/RohithGovindarajan/Downloads/Wallet_dspmsaajd1&quot;;\r\n\r\nAnd it should work.\r\n","title":"Unable to establish a connection with Oracle Autonomous Data warehouse (ADW) or with Autonomous JSON Database from windows machine","body":"<p>The problem is your TNS_ADMIN path for a windows machine:</p>\n<pre><code>  String url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:\\\\Users\\\\RohithGovindarajan\\\\Downloads\\\\Wallet_dspmsaajd1&quot;;\n</code></pre>\n<p>you need to change from <code>\\\\</code> to <code>/</code></p>\n<pre><code>  String url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:/Users/RohithGovindarajan/Downloads/Wallet_dspmsaajd1&quot;;\n</code></pre>\n<p>And it should work.</p>\n"}],"owner":{"account_id":15173981,"reputation":41,"user_id":10949230,"display_name":"rohithrajan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1648132785,"creation_date":1606428048,"question_id":65029729,"body_markdown":"I have been trying to establish a connection with my database on Oracle OCI, their database being ADW or AJD, but the connection does not establish even with the correct credentials passed. Please find my code below for reference.  \r\nI have used and referred to the Docs at Oracle but it does not solve this error.\r\n\r\nPSA: Windows machine running Java to connect to OCI.\r\n\r\nhttps://www.youtube.com/watch?v=3L1goERwqXI\r\n\r\nhttps://docs.oracle.com/en/database/oracle/simple-oracle-document-access/java/adsda/using-soda-java.html#GUID-F22DD57A-C904-4EF9-8A55-6066F9C5FD6F\r\n\r\nhttps://blogs.oracle.com/developers/launch-persist-json-documents-in-the-cloud-in-10-minutes-or-less-with-autonomous-json-database\r\n```\r\npublic void testSoda() throws SQLException {\r\n\tString url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:\\\\Users\\\\RohithGovindarajan\\\\Downloads\\\\Wallet_dspmsaajd1&quot;;\r\n\t// String url\r\n\tProperties props = new Properties();\r\n\tprops.setProperty(&quot;user&quot;, userName);\r\n\tprops.setProperty(&quot;password&quot;, password);\r\n\t\r\n\tConnection conn = null;\r\n\ttry {\r\n\t\t// Get a JDBC connection to an Oracle instance.\r\n\t\tconn = DriverManager.getConnection(url, props);\r\n\t\t\r\n\t\tOracleRDBMSClient cl = new OracleRDBMSClient();\r\n\t\r\n\t\tOracleDatabase db = cl.getDatabase(conn);\r\n\r\n\t\tOracleCursor c = null;\r\n\t\tOracleCollection col = db.openCollection(&quot;Test&quot;);\r\n\t\ttry {\r\n\t\t\tc = col.find().getCursor();\r\n\t\t\tOracleDocument resultDoc;\r\n\r\n\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t// Get the next document.\r\n\t\t\t\tresultDoc = c.next();\r\n\r\n\t\t\t\t// Print document components\r\n\t\t\t\tSystem.out.println(&quot;Key:         &quot; + resultDoc.getKey());\r\n\t\t\t\tSystem.out.println(&quot;Content:     &quot; + resultDoc.getContentAsString());\r\n\t\t\t\tSystem.out.println(&quot;Version:     &quot; + resultDoc.getVersion());\r\n\t\t\t\tSystem.out.println(&quot;Last modified: &quot; + resultDoc.getLastModified());\r\n\t\t\t\tSystem.out.println(&quot;Created on:    &quot; + resultDoc.getCreatedOn());\r\n\t\t\t\tSystem.out.println(&quot;Media:         &quot; + resultDoc.getMediaType());\r\n\t\t\t\tSystem.out.println(&quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\t// IMPORTANT: YOU MUST CLOSE THE CURSOR TO RELEASE RESOURCES.\r\n\t\t\tif (c != null)\r\n\t\t\t\tc.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// SODA for Java throws a checked OracleException\r\n\tcatch (OracleException e) {\r\n\t\te.printStackTrace();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t} finally {\r\n\t\ttry {\r\n\t\t\tif (conn != null)\r\n\t\t\t\tconn.close();\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nStack trace:\r\n```\r\njava.lang.RuntimeException: Invalid character at 13 : \\\r\n\tat oracle.net.resolver.EZConnectResolver.parseExtendedProperties(EZConnectResolver.java:393) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.net.resolver.EZConnectResolver.parseExtendedSettings(EZConnectResolver.java:366) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.net.resolver.EZConnectResolver.parse(EZConnectResolver.java:171) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.net.resolver.EZConnectResolver.&lt;init&gt;(EZConnectResolver.java:130) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.net.resolver.EZConnectResolver.newInstance(EZConnectResolver.java:139) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:665) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562) ~[ojdbc10.jar:19.8.0.0.0]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189) ~[java.sql:na]\r\n\tat com.dsp.oracle.service.OracleService.testSoda(OracleService.java:370) ~[classes/:na]\r\n\tat com.dsp.oracle.controller.ApplicationController.noSqlTest(ApplicationController.java:889) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\njava.sql.SQLException: Invalid Oracle URL specified\r\n\tat oracle.jdbc.driver.PhysicalConnection.parseUrl(PhysicalConnection.java:1335)\r\n\tat oracle.jdbc.driver.PhysicalConnection.readConnectionProperties(PhysicalConnection.java:1035)\r\n\tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:747)\r\n\tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:502)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:56)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n\tat com.dsp.oracle.service.OracleService.testSoda(OracleService.java:370)\r\n\tat com.dsp.oracle.controller.ApplicationController.noSqlTest(ApplicationController.java:889)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\n\r\n```","title":"Unable to establish a connection with Oracle Autonomous Data warehouse (ADW) or with Autonomous JSON Database from windows machine","body":"<p>I have been trying to establish a connection with my database on Oracle OCI, their database being ADW or AJD, but the connection does not establish even with the correct credentials passed. Please find my code below for reference.<br />\nI have used and referred to the Docs at Oracle but it does not solve this error.</p>\n<p>PSA: Windows machine running Java to connect to OCI.</p>\n<p><a href=\"https://www.youtube.com/watch?v=3L1goERwqXI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=3L1goERwqXI</a></p>\n<p><a href=\"https://docs.oracle.com/en/database/oracle/simple-oracle-document-access/java/adsda/using-soda-java.html#GUID-F22DD57A-C904-4EF9-8A55-6066F9C5FD6F\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/simple-oracle-document-access/java/adsda/using-soda-java.html#GUID-F22DD57A-C904-4EF9-8A55-6066F9C5FD6F</a></p>\n<p><a href=\"https://blogs.oracle.com/developers/launch-persist-json-documents-in-the-cloud-in-10-minutes-or-less-with-autonomous-json-database\" rel=\"nofollow noreferrer\">https://blogs.oracle.com/developers/launch-persist-json-documents-in-the-cloud-in-10-minutes-or-less-with-autonomous-json-database</a></p>\n<pre><code>public void testSoda() throws SQLException {\n    String url = &quot;jdbc:oracle:thin:testDb_high@?TNS_ADMIN=C:\\\\Users\\\\RohithGovindarajan\\\\Downloads\\\\Wallet_dspmsaajd1&quot;;\n    // String url\n    Properties props = new Properties();\n    props.setProperty(&quot;user&quot;, userName);\n    props.setProperty(&quot;password&quot;, password);\n    \n    Connection conn = null;\n    try {\n        // Get a JDBC connection to an Oracle instance.\n        conn = DriverManager.getConnection(url, props);\n        \n        OracleRDBMSClient cl = new OracleRDBMSClient();\n    \n        OracleDatabase db = cl.getDatabase(conn);\n\n        OracleCursor c = null;\n        OracleCollection col = db.openCollection(&quot;Test&quot;);\n        try {\n            c = col.find().getCursor();\n            OracleDocument resultDoc;\n\n            while (c.hasNext()) {\n                // Get the next document.\n                resultDoc = c.next();\n\n                // Print document components\n                System.out.println(&quot;Key:         &quot; + resultDoc.getKey());\n                System.out.println(&quot;Content:     &quot; + resultDoc.getContentAsString());\n                System.out.println(&quot;Version:     &quot; + resultDoc.getVersion());\n                System.out.println(&quot;Last modified: &quot; + resultDoc.getLastModified());\n                System.out.println(&quot;Created on:    &quot; + resultDoc.getCreatedOn());\n                System.out.println(&quot;Media:         &quot; + resultDoc.getMediaType());\n                System.out.println(&quot;\\n&quot;);\n            }\n        } finally {\n            // IMPORTANT: YOU MUST CLOSE THE CURSOR TO RELEASE RESOURCES.\n            if (c != null)\n                c.close();\n        }\n    }\n    \n    // SODA for Java throws a checked OracleException\n    catch (OracleException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (conn != null)\n                conn.close();\n        } catch (Exception e) {\n        }\n    }\n}\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>java.lang.RuntimeException: Invalid character at 13 : \\\n    at oracle.net.resolver.EZConnectResolver.parseExtendedProperties(EZConnectResolver.java:393) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.net.resolver.EZConnectResolver.parseExtendedSettings(EZConnectResolver.java:366) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.net.resolver.EZConnectResolver.parse(EZConnectResolver.java:171) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.net.resolver.EZConnectResolver.&lt;init&gt;(EZConnectResolver.java:130) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.net.resolver.EZConnectResolver.newInstance(EZConnectResolver.java:139) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:665) ~[ojdbc10.jar:19.8.0.0.0]\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562) ~[ojdbc10.jar:19.8.0.0.0]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677) ~[java.sql:na]\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189) ~[java.sql:na]\n    at com.dsp.oracle.service.OracleService.testSoda(OracleService.java:370) ~[classes/:na]\n    at com.dsp.oracle.controller.ApplicationController.noSqlTest(ApplicationController.java:889) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.37.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.3.4.RELEASE.jar:5.3.4.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.37.jar:9.0.37]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\njava.sql.SQLException: Invalid Oracle URL specified\n    at oracle.jdbc.driver.PhysicalConnection.parseUrl(PhysicalConnection.java:1335)\n    at oracle.jdbc.driver.PhysicalConnection.readConnectionProperties(PhysicalConnection.java:1035)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:747)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:502)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:56)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    at com.dsp.oracle.service.OracleService.testSoda(OracleService.java:370)\n    at com.dsp.oracle.controller.ApplicationController.noSqlTest(ApplicationController.java:889)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:204)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:832)\n\n</code></pre>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1648110612,"post_id":71598996,"comment_id":126542490,"body_markdown":"Welcome to SO, please consider to approve provided answers if it satisfy the requirement, otherwise feel free to eace comment.","body":"Welcome to SO, please consider to approve provided answers if it satisfy the requirement, otherwise feel free to eace comment."},{"owner":{"account_id":24670970,"reputation":33,"user_id":18565993,"display_name":"Beharat"},"score":0,"creation_date":1648112456,"post_id":71598996,"comment_id":126543180,"body_markdown":"Thanks, the issue was on initializing the sprite batch inside create method.","body":"Thanks, the issue was on initializing the sprite batch inside create method."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648110561,"creation_date":1648110561,"answer_id":71599161,"question_id":71598996,"body_markdown":"The exception is a cause and issue lives on `create` method on `ApplicationListener` Called when the Application is first created, on the other hand SpriteBatch is a Batch which is used for drawing Sprites, more specifically, it deals with drawing a bunch of textures on Quads in OpenGL thus is must be initialized inside of create method and not in the root class level.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n        @Override\r\n        public void create() {\r\n            batch = new SpriteBatch();\r\n            setScreen(new LandingMenu(this));\r\n        }\r\n        \r\n        ...\r\n        \r\n        private SpriteBatch batch;\r\n\r\n\r\n\r\nFind more in [here][1].\r\n\r\n\r\n  [1]: https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/graphics/g2d/SpriteBatch.html","title":"Receiving java.lang.UnsatisfiedLinkError on badlogic.BufferUtils","body":"<p>The exception is a cause and issue lives on <code>create</code> method on <code>ApplicationListener</code> Called when the Application is first created, on the other hand SpriteBatch is a Batch which is used for drawing Sprites, more specifically, it deals with drawing a bunch of textures on Quads in OpenGL thus is must be initialized inside of create method and not in the root class level.</p>\n\n<pre><code>    @Override\n    public void create() {\n        batch = new SpriteBatch();\n        setScreen(new LandingMenu(this));\n    }\n    \n    ...\n    \n    private SpriteBatch batch;\n</code></pre>\n<p>Find more in <a href=\"https://libgdx.badlogicgames.com/ci/nightlies/docs/api/com/badlogic/gdx/graphics/g2d/SpriteBatch.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24670970,"reputation":33,"user_id":18565993,"display_name":"Beharat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71599161,"answer_count":1,"score":3,"last_activity_date":1648132781,"creation_date":1648109753,"question_id":71598996,"body_markdown":"When lunching the application with **DesktopLuncher** i experience `UnsatisfiedLinkError` on root class (Main) in core module inside the project.\r\n\r\n\r\n\r\n    public class Main extends Game {\r\n\r\n        @Override\r\n        public void create() {\r\n            this.cameraBuilder = ...\r\n            setScreen(new LandingMenu(this));\r\n        }\r\n        \r\n        @Override\r\n        public void render() {\r\n            super.render();\r\n        }\r\n        \r\n        @Override\r\n        public void dispose() {\r\n            batch.dispose();\r\n        }\r\n        \r\n        public World getWorld() {\r\n            return world;\r\n        }\r\n        \r\n        public SpriteBatch getBatch() {\r\n            return batch;\r\n        }\r\n        \r\n        public CameraBuilder&lt;OrthographicCamera&gt; getCameraBuilder() {\r\n            return cameraBuilder;\r\n        }\r\n        \r\n        private final SpriteBatch batch = new SpriteBatch();;\r\n        \r\n        private CameraBuilder&lt;OrthographicCamera&gt; cameraBuilder;\r\n        \r\n        private final World world = new World(new Vector2(0, -9.8f), true);\r\n    }\r\n\r\n\r\nany answer will be appreciated.","title":"Receiving java.lang.UnsatisfiedLinkError on badlogic.BufferUtils","body":"<p>When lunching the application with <strong>DesktopLuncher</strong> i experience <code>UnsatisfiedLinkError</code> on root class (Main) in core module inside the project.</p>\n<pre><code>public class Main extends Game {\n\n    @Override\n    public void create() {\n        this.cameraBuilder = ...\n        setScreen(new LandingMenu(this));\n    }\n    \n    @Override\n    public void render() {\n        super.render();\n    }\n    \n    @Override\n    public void dispose() {\n        batch.dispose();\n    }\n    \n    public World getWorld() {\n        return world;\n    }\n    \n    public SpriteBatch getBatch() {\n        return batch;\n    }\n    \n    public CameraBuilder&lt;OrthographicCamera&gt; getCameraBuilder() {\n        return cameraBuilder;\n    }\n    \n    private final SpriteBatch batch = new SpriteBatch();;\n    \n    private CameraBuilder&lt;OrthographicCamera&gt; cameraBuilder;\n    \n    private final World world = new World(new Vector2(0, -9.8f), true);\n}\n</code></pre>\n<p>any answer will be appreciated.</p>\n"},{"tags":["java","android","listview"],"comments":[{"owner":{"account_id":3242958,"reputation":6768,"user_id":2735471,"display_name":"Neerajlal K"},"score":1,"creation_date":1495089423,"post_id":44040169,"comment_id":75106464,"body_markdown":"Use `return expenseslist.get(position);` inside `getItem` in `ListAdapter`.","body":"Use <code>return expenseslist.get(position);</code> inside <code>getItem</code> in <code>ListAdapter</code>."},{"owner":{"account_id":3741356,"reputation":3959,"user_id":3111083,"accept_rate":74,"display_name":"Sunil Sunny"},"score":0,"creation_date":1495089427,"post_id":44040169,"comment_id":75106468,"body_markdown":"Try passing the arraylist to the adapter  rather than using it globally. Yes @KNeerajLal is right.. That&#39;s the issue.","body":"Try passing the arraylist to the adapter  rather than using it globally. Yes @KNeerajLal is right.. That&#39;s the issue."},{"owner":{"account_id":9074424,"reputation":2576,"user_id":6756514,"display_name":"Divyesh Patel"},"score":0,"creation_date":1495089500,"post_id":44040169,"comment_id":75106513,"body_markdown":"try this:  \n    public Object getItem(int position) {\n        return null;\n    }\n\n    \n    public long getItemId(int position) {\n        return 0;\n    }","body":"try this:       public Object getItem(int position) {         return null;     }           public long getItemId(int position) {         return 0;     }"},{"owner":{"account_id":10545482,"reputation":61,"user_id":7769925,"display_name":"Pavan kumar"},"score":0,"creation_date":1495089538,"post_id":44040169,"comment_id":75106534,"body_markdown":"You should set **DataSet** for adapter before calling **notifyDataSetChanged()**","body":"You should set <b>DataSet</b> for adapter before calling <b>notifyDataSetChanged()</b>"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1495089563,"post_id":44040169,"comment_id":75106547,"body_markdown":"@KNeerajLal What does that do? it does not changed anything","body":"@KNeerajLal What does that do? it does not changed anything"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1495089663,"post_id":44040169,"comment_id":75106598,"body_markdown":"@DivyeshPatel Nope it is still not refreshing the list view","body":"@DivyeshPatel Nope it is still not refreshing the list view"},{"owner":{"account_id":3741356,"reputation":3959,"user_id":3111083,"accept_rate":74,"display_name":"Sunil Sunny"},"score":0,"creation_date":1495089673,"post_id":44040169,"comment_id":75106600,"body_markdown":"Changed lot of things. You are currently returning position of the object instead of the object itselt.","body":"Changed lot of things. You are currently returning position of the object instead of the object itselt."}],"answers":[{"tags":[],"owner":{"account_id":4391605,"reputation":5187,"user_id":3579786,"display_name":"Jiyeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495091758,"creation_date":1495089698,"answer_id":44040390,"question_id":44040169,"body_markdown":"You need to keep a list of your data in adapter for `notifyDataSetChanged` to work:\r\n\r\nChange \r\n\r\n    mAdapter = new ListAdapter(getActivity(), expenseslist);\r\n\r\nAnd inside your adapter:\r\n\r\n    list&lt;Transaction&gt; expenseslist;\r\n\r\n    public ListAdapter(Context context, list&lt;Transaction&gt; expenseslist) {\r\n        inflater = LayoutInflater.from(context);\r\n        this.expenseslist = expenseslist;\r\n    }\r\n\r\n**EDIT:**\r\n\r\nAlso change these methods:\r\n\r\n        public Transaction getItem(int position) {\r\n            return expenseslist.get(position);\r\n        }\r\n\r\n        public long getItemId(int position) {\r\n            return expenseslist.get(position).getId();\r\n        }","title":"Android listview content won&#39;t refresh upon call back","body":"<p>You need to keep a list of your data in adapter for <code>notifyDataSetChanged</code> to work:</p>\n\n<p>Change </p>\n\n<pre><code>mAdapter = new ListAdapter(getActivity(), expenseslist);\n</code></pre>\n\n<p>And inside your adapter:</p>\n\n<pre><code>list&lt;Transaction&gt; expenseslist;\n\npublic ListAdapter(Context context, list&lt;Transaction&gt; expenseslist) {\n    inflater = LayoutInflater.from(context);\n    this.expenseslist = expenseslist;\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Also change these methods:</p>\n\n<pre><code>    public Transaction getItem(int position) {\n        return expenseslist.get(position);\n    }\n\n    public long getItemId(int position) {\n        return expenseslist.get(position).getId();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7028675,"reputation":1029,"user_id":5385214,"display_name":"Rishabh Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495093295,"creation_date":1495089779,"answer_id":44040414,"question_id":44040169,"body_markdown":"Hi Denise in your adapter create a new function called updateTransactions(). This is the code for function where expenseslist is the list your passing to adapter.\r\n\r\n    public void updateTransactions(List&lt;Transaction&gt; list) {\r\n        expenseslist.clear();\r\n        expenseslist.addAll(list);\r\n        notifyDataSetChanged();\r\n    \r\n        Log.d(&quot;SIZE&quot;, String.valueOf(expensesList.size()));\r\n    }\r\n        \r\nThen in your callback function call updateTransactions() using instance of adapter like this\r\n\r\n    public void callback(ArrayList&lt;Transaction&gt; list)\r\n    {\r\n        mAdapter.updateTransactions(list);\r\n    }\r\n\r\nEdit: Demo run code\r\n\r\n    package ********;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.os.Bundle;\r\n    import android.support.annotation.Nullable;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.AdapterView;\r\n    import android.widget.BaseAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    /**\r\n     * Created by Rishabh Bhatia on 18/5/17.\r\n     */\r\n    \r\n    public class TestActivity extends Activity {\r\n    \r\n        private ListView list;\r\n        private ListAdapter adapter;\r\n        private ArrayList&lt;String&gt; dataList;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.test);\r\n    \r\n            list = (ListView) findViewById(R.id.list);\r\n            dataList = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; 20; i++) {\r\n                String string = &quot;abc&quot;;\r\n                dataList.add(string);\r\n            }\r\n    \r\n            adapter = new ListAdapter(this, dataList);\r\n            list.setAdapter(adapter);\r\n    \r\n            list.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                    Log.d(&quot;rishabh&quot;, &quot;something is selected&quot;);\r\n                    String transaction = dataList.get(0);\r\n                    transaction = &quot;xyz&quot;;\r\n                    dataList.remove(0);\r\n                    dataList.add(0, transaction);\r\n                    adapter.updateExpenses(dataList);\r\n                }\r\n            });\r\n        }\r\n    \r\n        private class ListAdapter extends BaseAdapter {\r\n    \r\n            private ArrayList&lt;String&gt; expenseslist;\r\n    \r\n            LayoutInflater inflater;\r\n            ViewHolder viewHolder;\r\n    \r\n            public ListAdapter(Context context, ArrayList&lt;String&gt; list) {\r\n                inflater = LayoutInflater.from(context);\r\n                this.expenseslist = (ArrayList&lt;String&gt;) list.clone();\r\n            }\r\n    \r\n            public int getCount() {\r\n                return expenseslist.size();\r\n            }\r\n    \r\n            public Object getItem(int position) {\r\n                return expenseslist.get(position);\r\n            }\r\n    \r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n                if (convertView == null) {\r\n    \r\n                    convertView = inflater.inflate(R.layout.row,\r\n                            null);\r\n                    viewHolder = new ViewHolder();\r\n    \r\n                    viewHolder.text = (TextView) convertView\r\n                            .findViewById(R.id.tvRow);\r\n    \r\n                    convertView.setTag(viewHolder);\r\n                } else {\r\n                    viewHolder = (ViewHolder) convertView.getTag();\r\n                }\r\n    \r\n                viewHolder.text.setText(expenseslist.get(position));\r\n    \r\n                return convertView;\r\n            }\r\n    \r\n            public void updateExpenses(ArrayList&lt;String&gt; list) {\r\n                Log.d(&quot;rishabh&quot;, &quot;updating the expenses &quot;+list.size());\r\n                expenseslist.clear();\r\n                for(int i =0; i&lt;list.size(); i++) {\r\n                    Log.d(&quot;rishabh&quot;, &quot;inside for loop&quot;);\r\n                    expenseslist.add(list.get(i));\r\n                    Log.d(&quot;rishabh&quot;, &quot;updating item to list &quot;+list.get(i));\r\n                }\r\n                notifyDataSetChanged();\r\n                Log.d(&quot;rishabh&quot;, &quot;updating the expenses &quot;+expenseslist.size());\r\n            }\r\n        }\r\n    \r\n        static class ViewHolder {\r\n            private TextView text;\r\n        }\r\n    \r\n    }\r\n\r\nHopefully it helps.\r\n","title":"Android listview content won&#39;t refresh upon call back","body":"<p>Hi Denise in your adapter create a new function called updateTransactions(). This is the code for function where expenseslist is the list your passing to adapter.</p>\n\n<pre><code>public void updateTransactions(List&lt;Transaction&gt; list) {\n    expenseslist.clear();\n    expenseslist.addAll(list);\n    notifyDataSetChanged();\n\n    Log.d(\"SIZE\", String.valueOf(expensesList.size()));\n}\n</code></pre>\n\n<p>Then in your callback function call updateTransactions() using instance of adapter like this</p>\n\n<pre><code>public void callback(ArrayList&lt;Transaction&gt; list)\n{\n    mAdapter.updateTransactions(list);\n}\n</code></pre>\n\n<p>Edit: Demo run code</p>\n\n<pre><code>package ********;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.support.annotation.Nullable;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.BaseAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\n/**\n * Created by Rishabh Bhatia on 18/5/17.\n */\n\npublic class TestActivity extends Activity {\n\n    private ListView list;\n    private ListAdapter adapter;\n    private ArrayList&lt;String&gt; dataList;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.test);\n\n        list = (ListView) findViewById(R.id.list);\n        dataList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 20; i++) {\n            String string = \"abc\";\n            dataList.add(string);\n        }\n\n        adapter = new ListAdapter(this, dataList);\n        list.setAdapter(adapter);\n\n        list.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                Log.d(\"rishabh\", \"something is selected\");\n                String transaction = dataList.get(0);\n                transaction = \"xyz\";\n                dataList.remove(0);\n                dataList.add(0, transaction);\n                adapter.updateExpenses(dataList);\n            }\n        });\n    }\n\n    private class ListAdapter extends BaseAdapter {\n\n        private ArrayList&lt;String&gt; expenseslist;\n\n        LayoutInflater inflater;\n        ViewHolder viewHolder;\n\n        public ListAdapter(Context context, ArrayList&lt;String&gt; list) {\n            inflater = LayoutInflater.from(context);\n            this.expenseslist = (ArrayList&lt;String&gt;) list.clone();\n        }\n\n        public int getCount() {\n            return expenseslist.size();\n        }\n\n        public Object getItem(int position) {\n            return expenseslist.get(position);\n        }\n\n        public long getItemId(int position) {\n            return position;\n        }\n\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n\n                convertView = inflater.inflate(R.layout.row,\n                        null);\n                viewHolder = new ViewHolder();\n\n                viewHolder.text = (TextView) convertView\n                        .findViewById(R.id.tvRow);\n\n                convertView.setTag(viewHolder);\n            } else {\n                viewHolder = (ViewHolder) convertView.getTag();\n            }\n\n            viewHolder.text.setText(expenseslist.get(position));\n\n            return convertView;\n        }\n\n        public void updateExpenses(ArrayList&lt;String&gt; list) {\n            Log.d(\"rishabh\", \"updating the expenses \"+list.size());\n            expenseslist.clear();\n            for(int i =0; i&lt;list.size(); i++) {\n                Log.d(\"rishabh\", \"inside for loop\");\n                expenseslist.add(list.get(i));\n                Log.d(\"rishabh\", \"updating item to list \"+list.get(i));\n            }\n            notifyDataSetChanged();\n            Log.d(\"rishabh\", \"updating the expenses \"+expenseslist.size());\n        }\n    }\n\n    static class ViewHolder {\n        private TextView text;\n    }\n\n}\n</code></pre>\n\n<p>Hopefully it helps.</p>\n"},{"tags":[],"owner":{"account_id":8898907,"reputation":8529,"user_id":6642927,"display_name":"Dishonered"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495090277,"creation_date":1495090277,"answer_id":44040557,"question_id":44040169,"body_markdown":"Make this change\r\n\r\n \r\n\r\n\r\n    public Object getItem(int position) {\r\n        return expenseslist.get(position);\r\n    }","title":"Android listview content won&#39;t refresh upon call back","body":"<p>Make this change</p>\n\n<pre><code>public Object getItem(int position) {\n    return expenseslist.get(position);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4684486,"reputation":94,"user_id":3792261,"display_name":"SangLe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495101257,"creation_date":1495101257,"answer_id":44044467,"question_id":44040169,"body_markdown":"Are you are coding within a fragment? Could i ask where/when you call this method\r\n\r\npublic void callback(ArrayList&lt;Transaction&gt; list);\r\n\r\nAs I guess you call this method from an activity on a lifecycle method right after you add the fragment. Or maybe you call this method not in a UI thread with a try - catch block. \r\n\r\n","title":"Android listview content won&#39;t refresh upon call back","body":"<p>Are you are coding within a fragment? Could i ask where/when you call this method</p>\n\n<p>public void callback(ArrayList list);</p>\n\n<p>As I guess you call this method from an activity on a lifecycle method right after you add the fragment. Or maybe you call this method not in a UI thread with a try - catch block. </p>\n"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1648132764,"creation_date":1495088943,"question_id":44040169,"body_markdown":"I got some problem when trying to refresh the list view content on call back. Inside my `onCreate()`:\r\n\r\n    private ListAdapter mAdapter;\r\n    private ListView listview;\r\n\r\n    mAdapter = new ListAdapter(getActivity());\r\n    listview.setAdapter(mAdapter);\r\n\r\nThen, inside my callback which is working as I managed to print out the data:\r\n\r\n    public void callback(ArrayList&lt;Transaction&gt; list)\r\n    {\r\n        expenseslist.clear();\r\n\r\n        Log.d(&quot;SIZE&quot;, String.valueOf(list.size()));\r\n        for(int i = 0; i &lt; list.size(); i++){\r\n            expenseslist.add(list.get(i));\r\n        }\r\n\r\n        mAdapter.notifyDataSetChanged();\r\n        listview.invalidateViews();\r\n    }\r\n\r\n\r\n    private class ListAdapter extends BaseAdapter {\r\n        LayoutInflater inflater;\r\n        ViewHolder viewHolder;\r\n\r\n        public ListAdapter(Context context) {\r\n            inflater = LayoutInflater.from(context);\r\n        }\r\n\r\n        public int getCount() {\r\n            return expenseslist.size();\r\n        }\r\n\r\n        public Object getItem(int position) {\r\n            return position;\r\n        }\r\n\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            if (convertView == null) {\r\n\r\n                convertView = inflater.inflate(R.layout.transactioncat_listview_row,\r\n                        null);\r\n                viewHolder = new ViewHolder();\r\n\r\n                viewHolder.txt_dcatTitle = (TextView) convertView\r\n                        .findViewById(R.id.txtCatTitle);\r\n                viewHolder.txt_dcatTotal = (TextView) convertView\r\n                        .findViewById(R.id.txtCatTotal);\r\n\r\n                convertView.setTag(viewHolder);\r\n            } else {\r\n                viewHolder = (ViewHolder) convertView.getTag();\r\n            }\r\n\r\n            viewHolder.txt_dcatTitle.setText(expenseslist.get(position)\r\n                    .getCategory().getCategoryName().trim());\r\n            viewHolder.txt_dcatTotal.setText(Extra.formatCurrency(expenseslist.get(position)\r\n                    .getTransactionAmt()));\r\n\r\n            return convertView;\r\n        }\r\n    }\r\n\r\n\r\nI called the `notifyDataSetChanged()` and `invalidateViews()` but it is not refreshing. I am not adding new rows to the list view but rather, updating the content in each row.\r\n\r\nHow can I do this correctly?\r\n\r\n    public class ExpenseActivity extends Fragment implements TransactionListCallBack{\r\n    \r\n        private ArrayList&lt;Transaction&gt; transactionlist = new ArrayList&lt;Transaction&gt;();\r\n        private ArrayList&lt;Transaction&gt; expenseslist = new ArrayList&lt;Transaction&gt;();\r\n    \r\n        private ListAdapter mAdapter;\r\n        private ListView listview;\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.activity_expense,container,false);\r\n    \t\t\r\n            expenseslist.clear();\r\n    \r\n            transactionlist = (ArrayList&lt;Transaction&gt;)getArguments().getSerializable(&quot;transactionlist&quot;);\r\n            for(int j = 0; j &lt; transactionlist.size(); j++){\r\n                expenseslist.add(transactionlist.get(j));\r\n            }\r\n    \r\n            listview = (ListView) v.findViewById(R.id.transactionCatListview);\r\n    \r\n            // Binding the list into list view\r\n            mAdapter = new ListAdapter(getActivity());\r\n            listview.setAdapter(mAdapter);\r\n            \r\n            return v;\r\n        }\r\n    \r\n        @Override\r\n        public void callback(ArrayList&lt;Transaction&gt; list)\r\n        {\r\n            total = 0;\r\n            expenseslist.clear();\r\n    \r\n            for(int i = 0; i &lt; list.size(); i++){\r\n                expenseslist.add(list.get(i));\r\n                }\r\n            }\r\n    \r\n            mAdapter.notifyDataSetChanged();\r\n            listview.invalidateViews();\r\n        }\r\n    \r\n        private class ListAdapter extends BaseAdapter {\r\n            LayoutInflater inflater;\r\n            ViewHolder viewHolder;\r\n    \r\n            public ListAdapter(Context context) {\r\n                inflater = LayoutInflater.from(context);\r\n            }\r\n    \r\n            public int getCount() {\r\n                return expenseslist.size();\r\n            }\r\n    \r\n            public Object getItem(int position) {\r\n                return expenseslist.get(position);\r\n            }\r\n    \r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n                if (convertView == null) {\r\n    \r\n                    convertView = inflater.inflate(R.layout.transactioncat_listview_row,\r\n                            null);\r\n                    viewHolder = new ViewHolder();\r\n    \r\n                    viewHolder.txt_dcatTitle = (TextView) convertView\r\n                            .findViewById(R.id.txtCatTitle);\r\n                    viewHolder.txt_dcatTotal = (TextView) convertView\r\n                            .findViewById(R.id.txtCatTotal);\r\n    \r\n                    convertView.setTag(viewHolder);\r\n                } else {\r\n                    viewHolder = (ViewHolder) convertView.getTag();\r\n                }\r\n    \r\n                viewHolder.txt_dcatTitle.setText(expenseslist.get(position)\r\n                        .getCategory().getCategoryName().trim());\r\n    \r\n                viewHolder.txt_dcatTotal.setText(Extra.formatCurrency(expenseslist.get(position)\r\n                        .getTransactionAmt()));\r\n    \t\t\t\t\t\r\n                return convertView;\r\n            }\r\n        }\r\n    \r\n        private class ViewHolder {\r\n            CircularProgressBar progressBar;\r\n            ImageView background_catview;\r\n            ImageView icon_catview;\r\n            TextView txt_dcatTitle;\r\n            TextView txt_dcatTotal;\r\n        }\r\n    \r\n        // override menu item to add new transaction\r\n        @Override\r\n        public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n            menu.clear();\r\n            inflater.inflate(R.menu.menu_main_addtransaction, menu);\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            int id = item.getItemId();\r\n    \r\n            if (id == R.id.action_openNewTransaction) {\r\n                new GetAllCategoriesAsyncTask(\r\n                        new GetAllCategoriesAsyncTask.OnRoutineFinished() {\r\n                            public void onFinish() {\r\n                                AddTransactionActivity addFragment = new AddTransactionActivity();\r\n                                FragmentTransaction tt = getFragmentManager().beginTransaction();\r\n      \r\n                                addFragment.setTransactionListCallBack(ExpenseActivity.this);\r\n    \r\n                                tt.replace(R.id.frame,addFragment);\r\n                                tt.addToBackStack(&quot;tag&quot;);\r\n                                tt.commit();\r\n                            }\r\n                        }).execute();\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }","title":"Android listview content won&#39;t refresh upon call back","body":"<p>I got some problem when trying to refresh the list view content on call back. Inside my <code>onCreate()</code>:</p>\n<pre><code>private ListAdapter mAdapter;\nprivate ListView listview;\n\nmAdapter = new ListAdapter(getActivity());\nlistview.setAdapter(mAdapter);\n</code></pre>\n<p>Then, inside my callback which is working as I managed to print out the data:</p>\n<pre><code>public void callback(ArrayList&lt;Transaction&gt; list)\n{\n    expenseslist.clear();\n\n    Log.d(&quot;SIZE&quot;, String.valueOf(list.size()));\n    for(int i = 0; i &lt; list.size(); i++){\n        expenseslist.add(list.get(i));\n    }\n\n    mAdapter.notifyDataSetChanged();\n    listview.invalidateViews();\n}\n\n\nprivate class ListAdapter extends BaseAdapter {\n    LayoutInflater inflater;\n    ViewHolder viewHolder;\n\n    public ListAdapter(Context context) {\n        inflater = LayoutInflater.from(context);\n    }\n\n    public int getCount() {\n        return expenseslist.size();\n    }\n\n    public Object getItem(int position) {\n        return position;\n    }\n\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n\n            convertView = inflater.inflate(R.layout.transactioncat_listview_row,\n                    null);\n            viewHolder = new ViewHolder();\n\n            viewHolder.txt_dcatTitle = (TextView) convertView\n                    .findViewById(R.id.txtCatTitle);\n            viewHolder.txt_dcatTotal = (TextView) convertView\n                    .findViewById(R.id.txtCatTotal);\n\n            convertView.setTag(viewHolder);\n        } else {\n            viewHolder = (ViewHolder) convertView.getTag();\n        }\n\n        viewHolder.txt_dcatTitle.setText(expenseslist.get(position)\n                .getCategory().getCategoryName().trim());\n        viewHolder.txt_dcatTotal.setText(Extra.formatCurrency(expenseslist.get(position)\n                .getTransactionAmt()));\n\n        return convertView;\n    }\n}\n</code></pre>\n<p>I called the <code>notifyDataSetChanged()</code> and <code>invalidateViews()</code> but it is not refreshing. I am not adding new rows to the list view but rather, updating the content in each row.</p>\n<p>How can I do this correctly?</p>\n<pre><code>public class ExpenseActivity extends Fragment implements TransactionListCallBack{\n\n    private ArrayList&lt;Transaction&gt; transactionlist = new ArrayList&lt;Transaction&gt;();\n    private ArrayList&lt;Transaction&gt; expenseslist = new ArrayList&lt;Transaction&gt;();\n\n    private ListAdapter mAdapter;\n    private ListView listview;\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.activity_expense,container,false);\n        \n        expenseslist.clear();\n\n        transactionlist = (ArrayList&lt;Transaction&gt;)getArguments().getSerializable(&quot;transactionlist&quot;);\n        for(int j = 0; j &lt; transactionlist.size(); j++){\n            expenseslist.add(transactionlist.get(j));\n        }\n\n        listview = (ListView) v.findViewById(R.id.transactionCatListview);\n\n        // Binding the list into list view\n        mAdapter = new ListAdapter(getActivity());\n        listview.setAdapter(mAdapter);\n        \n        return v;\n    }\n\n    @Override\n    public void callback(ArrayList&lt;Transaction&gt; list)\n    {\n        total = 0;\n        expenseslist.clear();\n\n        for(int i = 0; i &lt; list.size(); i++){\n            expenseslist.add(list.get(i));\n            }\n        }\n\n        mAdapter.notifyDataSetChanged();\n        listview.invalidateViews();\n    }\n\n    private class ListAdapter extends BaseAdapter {\n        LayoutInflater inflater;\n        ViewHolder viewHolder;\n\n        public ListAdapter(Context context) {\n            inflater = LayoutInflater.from(context);\n        }\n\n        public int getCount() {\n            return expenseslist.size();\n        }\n\n        public Object getItem(int position) {\n            return expenseslist.get(position);\n        }\n\n        public long getItemId(int position) {\n            return position;\n        }\n\n        public View getView(int position, View convertView, ViewGroup parent) {\n            if (convertView == null) {\n\n                convertView = inflater.inflate(R.layout.transactioncat_listview_row,\n                        null);\n                viewHolder = new ViewHolder();\n\n                viewHolder.txt_dcatTitle = (TextView) convertView\n                        .findViewById(R.id.txtCatTitle);\n                viewHolder.txt_dcatTotal = (TextView) convertView\n                        .findViewById(R.id.txtCatTotal);\n\n                convertView.setTag(viewHolder);\n            } else {\n                viewHolder = (ViewHolder) convertView.getTag();\n            }\n\n            viewHolder.txt_dcatTitle.setText(expenseslist.get(position)\n                    .getCategory().getCategoryName().trim());\n\n            viewHolder.txt_dcatTotal.setText(Extra.formatCurrency(expenseslist.get(position)\n                    .getTransactionAmt()));\n                    \n            return convertView;\n        }\n    }\n\n    private class ViewHolder {\n        CircularProgressBar progressBar;\n        ImageView background_catview;\n        ImageView icon_catview;\n        TextView txt_dcatTitle;\n        TextView txt_dcatTotal;\n    }\n\n    // override menu item to add new transaction\n    @Override\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n        menu.clear();\n        inflater.inflate(R.menu.menu_main_addtransaction, menu);\n        super.onCreateOptionsMenu(menu, inflater);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        int id = item.getItemId();\n\n        if (id == R.id.action_openNewTransaction) {\n            new GetAllCategoriesAsyncTask(\n                    new GetAllCategoriesAsyncTask.OnRoutineFinished() {\n                        public void onFinish() {\n                            AddTransactionActivity addFragment = new AddTransactionActivity();\n                            FragmentTransaction tt = getFragmentManager().beginTransaction();\n  \n                            addFragment.setTransactionListCallBack(ExpenseActivity.this);\n\n                            tt.replace(R.id.frame,addFragment);\n                            tt.addToBackStack(&quot;tag&quot;);\n                            tt.commit();\n                        }\n                    }).execute();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n"},{"tags":["java","events","plugins","minecraft","projectile"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1648070804,"post_id":71594201,"comment_id":126534646,"body_markdown":"What do you mean with &quot;does not work&quot; ?","body":"What do you mean with &quot;does not work&quot; ?"},{"owner":{"account_id":24665944,"reputation":7,"user_id":18561599,"display_name":"Nova__A"},"score":0,"creation_date":1648077359,"post_id":71594201,"comment_id":126536247,"body_markdown":"oh, i see , it does detect it, but it doesn&#39;t run my code propery.","body":"oh, i see , it does detect it, but it doesn&#39;t run my code propery."},{"owner":{"account_id":24665944,"reputation":7,"user_id":18561599,"display_name":"Nova__A"},"score":0,"creation_date":1648077440,"post_id":71594201,"comment_id":126536265,"body_markdown":"sorry about that","body":"sorry about that"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648132680,"creation_date":1648115231,"answer_id":71600165,"question_id":71594201,"body_markdown":"You should not use the item meta to check the type, but `getType()` :\r\n\r\n```\r\n@EventHandler\r\npublic void playerBowShoot(EntityShootBowEvent e) {\r\n    Entity entity = e.getEntity();\r\n    Entity arrow = e.getProjectile();\r\n    if (entity instanceof Player) {\r\n        Player p = (Player) entity;\r\n        ItemStack hand = p.getInventory().getItemInMainHand();\r\n        if(hand == null) { // nothing in hand\r\n        }  else if (hand.getType().equals(Material.CROSSBOW) &amp;&amp; hand.getItemMeta().getDisplayName().equals(theNameOfTheCrossbow)) { // it&#39;s a crossbow\r\n            Bukkit.broadcastMessage(&quot;fire&quot;);\r\n            arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\r\n        }\r\n    }\r\n}\r\n```\r\nTo check if it&#39;s the good item, you can:\r\n- Just check the type if you want to apply to all items\r\n- Check for custom names/lores/enchants etc...\r\n- Check is similar. Can&#39;t be used if the item can be damaged (for example with a sword with durability) or you should copy item, set same durability to check both with `firstItem.isSimilar(secondItem)`","title":"How to detect a custom Crossbow in mainhand?","body":"<p>You should not use the item meta to check the type, but <code>getType()</code> :</p>\n<pre><code>@EventHandler\npublic void playerBowShoot(EntityShootBowEvent e) {\n    Entity entity = e.getEntity();\n    Entity arrow = e.getProjectile();\n    if (entity instanceof Player) {\n        Player p = (Player) entity;\n        ItemStack hand = p.getInventory().getItemInMainHand();\n        if(hand == null) { // nothing in hand\n        }  else if (hand.getType().equals(Material.CROSSBOW) &amp;&amp; hand.getItemMeta().getDisplayName().equals(theNameOfTheCrossbow)) { // it's a crossbow\n            Bukkit.broadcastMessage(&quot;fire&quot;);\n            arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\n        }\n    }\n}\n</code></pre>\n<p>To check if it's the good item, you can:</p>\n<ul>\n<li>Just check the type if you want to apply to all items</li>\n<li>Check for custom names/lores/enchants etc...</li>\n<li>Check is similar. Can't be used if the item can be damaged (for example with a sword with durability) or you should copy item, set same durability to check both with <code>firstItem.isSimilar(secondItem)</code></li>\n</ul>\n"}],"owner":{"account_id":24665944,"reputation":7,"user_id":18561599,"display_name":"Nova__A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71600165,"answer_count":1,"score":0,"last_activity_date":1648132680,"creation_date":1648070561,"question_id":71594201,"body_markdown":"I am trying to detect the crossbow in the players hand (it is a cutom item), but only the bow (also a custom item) seems to be working the way I have it set up right now. Only the bow will show &quot;fire&quot; (and run the code properly) when I test each item.\r\n\r\n        @EventHandler\r\n    public void playerBowShoot(EntityShootBowEvent e) {\r\n        Entity entity = e.getEntity();\r\n        Entity arrow = e.getProjectile();\r\n        if (entity.getType().equals(EntityType.PLAYER)) {\r\n            Player p = (Player) entity;\r\n            if (p.getInventory().getItemInMainHand().getItemMeta().equals(Weapons.crossbow.getItemMeta())) {\r\n                Bukkit.broadcastMessage(&quot;fire&quot;);\r\n                arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\r\n            }\r\n            if (p.getInventory().getItemInMainHand().getItemMeta().equals(Weapons.bow.getItemMeta())) {\r\n                Bukkit.broadcastMessage(&quot;fire&quot;);\r\n                arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    ","title":"How to detect a custom Crossbow in mainhand?","body":"<p>I am trying to detect the crossbow in the players hand (it is a cutom item), but only the bow (also a custom item) seems to be working the way I have it set up right now. Only the bow will show &quot;fire&quot; (and run the code properly) when I test each item.</p>\n<pre><code>    @EventHandler\npublic void playerBowShoot(EntityShootBowEvent e) {\n    Entity entity = e.getEntity();\n    Entity arrow = e.getProjectile();\n    if (entity.getType().equals(EntityType.PLAYER)) {\n        Player p = (Player) entity;\n        if (p.getInventory().getItemInMainHand().getItemMeta().equals(Weapons.crossbow.getItemMeta())) {\n            Bukkit.broadcastMessage(&quot;fire&quot;);\n            arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\n        }\n        if (p.getInventory().getItemInMainHand().getItemMeta().equals(Weapons.bow.getItemMeta())) {\n            Bukkit.broadcastMessage(&quot;fire&quot;);\n            arrow.setVelocity(p.getLocation().getDirection().multiply(100.0D));\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","testing","build","jmeter"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1648130985,"post_id":71603990,"comment_id":126550635,"body_markdown":"Yeah: write functional/end2end tests that cover all the relevant APIs.","body":"Yeah: write functional/end2end tests that cover all the relevant APIs."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1648131025,"post_id":71603990,"comment_id":126550654,"body_markdown":"@luk2302: Thanks. Can you please suggest some technologies that I can use?","body":"@luk2302: Thanks. Can you please suggest some technologies that I can use?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1648131107,"post_id":71603990,"comment_id":126550700,"body_markdown":"They are just a little bit more complicated then unit or integration tests, you can just use the normal junit, assertj, ... stuff to write and run them.","body":"They are just a little bit more complicated then unit or integration tests, you can just use the normal junit, assertj, ... stuff to write and run them."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1648131204,"post_id":71603990,"comment_id":126550742,"body_markdown":"@luk2302 : I don&#39;t have access to the code. I can only access the website.","body":"@luk2302 : I don&#39;t have access to the code. I can only access the website."}],"answers":[{"tags":[],"owner":{"account_id":6862765,"reputation":303,"user_id":7671265,"display_name":"Kenneth Billones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648131305,"creation_date":1648131305,"answer_id":71604123,"question_id":71603990,"body_markdown":"I am not sure if this fit to your question. On my end when I test and search for broken links to my website I used &quot;xenulink&quot; tools. It is a bit old but still works fine on my end\r\n\r\n\r\nCheers","title":"Test a website to see if all the links/URL&#39;s (XHR URL&#39;s) are working fine","body":"<p>I am not sure if this fit to your question. On my end when I test and search for broken links to my website I used &quot;xenulink&quot; tools. It is a bit old but still works fine on my end</p>\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648132397,"creation_date":1648132397,"answer_id":71604391,"question_id":71603990,"body_markdown":"JMeter comes with [HTML Link Parser][1] which can be used for automatic checking for &quot;dead&quot; links\r\n\r\n&gt;**Spidering Example**\r\n&gt;\r\n&gt;Consider a simple example: let&#39;s say you wanted JMeter to &quot;spider&quot; through your site, hitting link after link parsed from the HTML returned from your server (this is not actually the most useful thing to do, but it serves as a good example). You would create a [Simple Controller][2], and add the &quot;HTML Link Parser&quot; to it. Then, create an HTTP Request, and set the domain to &quot;.*&quot;, and the path likewise. This will cause your test sample to match with any link found on the returned pages. If you wanted to restrict the spidering to a particular domain, then change the domain value to the one you want. Then, only links to that domain will be followed.\r\n\r\nYou may also find [How to Spider a Site with JMeter - A Tutorial][3] article useful. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#HTML_Link_Parser\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Simple_Controller\r\n  [3]: https://www.blazemeter.com/blog/how-spider-site-jmeter-tutorial","title":"Test a website to see if all the links/URL&#39;s (XHR URL&#39;s) are working fine","body":"<p>JMeter comes with <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#HTML_Link_Parser\" rel=\"nofollow noreferrer\">HTML Link Parser</a> which can be used for automatic checking for &quot;dead&quot; links</p>\n<blockquote>\n<p><strong>Spidering Example</strong></p>\n<p>Consider a simple example: let's say you wanted JMeter to &quot;spider&quot; through your site, hitting link after link parsed from the HTML returned from your server (this is not actually the most useful thing to do, but it serves as a good example). You would create a <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Simple_Controller\" rel=\"nofollow noreferrer\">Simple Controller</a>, and add the &quot;HTML Link Parser&quot; to it. Then, create an HTTP Request, and set the domain to &quot;.*&quot;, and the path likewise. This will cause your test sample to match with any link found on the returned pages. If you wanted to restrict the spidering to a particular domain, then change the domain value to the one you want. Then, only links to that domain will be followed.</p>\n</blockquote>\n<p>You may also find <a href=\"https://www.blazemeter.com/blog/how-spider-site-jmeter-tutorial\" rel=\"nofollow noreferrer\">How to Spider a Site with JMeter - A Tutorial</a> article useful.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648132397,"creation_date":1648130874,"question_id":71603990,"body_markdown":"It may sound like a naive issue but I can&#39;t find a perfect solution for this.\r\n\r\n***My solution:***\r\n\r\n 1. Copy every single URL.\r\n2.  Paste it in Jmeter. \r\n3. Run Jmeter after every\r\n    build.\r\n\r\nSurely, there must be a better solution.","title":"Test a website to see if all the links/URL&#39;s (XHR URL&#39;s) are working fine","body":"<p>It may sound like a naive issue but I can't find a perfect solution for this.</p>\n<p><em><strong>My solution:</strong></em></p>\n<ol>\n<li>Copy every single URL.</li>\n<li>Paste it in Jmeter.</li>\n<li>Run Jmeter after every\nbuild.</li>\n</ol>\n<p>Surely, there must be a better solution.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1648119546,"post_id":71601095,"comment_id":126545837,"body_markdown":"_i dont know how to add my block of code correctly_ so what did you do to learn it? Hint: move the mouse over the icons in the header of the edit box, stop at the curly-brackets-icon, read .. and act :) Or directly: every code line must start with 4 spaces, indent further with more spaces (no tabs!)","body":"<i>i dont know how to add my block of code correctly</i> so what did you do to learn it? Hint: move the mouse over the icons in the header of the edit box, stop at the curly-brackets-icon, read .. and act :) Or directly: every code line must start with 4 spaces, indent further with more spaces (no tabs!)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1648119911,"post_id":71601095,"comment_id":126545981,"body_markdown":"as to the content: work through a tutorial on fx concurrency support, namely animation/timeline - _apply_ what you learned to your context when stuck come back with a [mcve] demonstrating what&#39;s wrong","body":"as to the content: work through a tutorial on fx concurrency support, namely animation/timeline - <i>apply</i> what you learned to your context when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating what&#39;s wrong"},{"owner":{"account_id":24672723,"reputation":1,"user_id":18567536,"display_name":"HappyMadtec"},"score":0,"creation_date":1648120964,"post_id":71601095,"comment_id":126546365,"body_markdown":"i will, well mostly i learnt from books(Head first Java) and tutorials about javafx but then i wanted to create a project of my own so i went through without any guidance and kind lost in my code actually ^^&#39; , but is it really the refresh rate or like the refresh of the application during the runtime that is the problem?","body":"i will, well mostly i learnt from books(Head first Java) and tutorials about javafx but then i wanted to create a project of my own so i went through without any guidance and kind lost in my code actually ^^&#39; , but is it really the refresh rate or like the refresh of the application during the runtime that is the problem?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1648129367,"post_id":71601095,"comment_id":126549861,"body_markdown":"See if [this](https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads/52594017#52594017) helps.","body":"See if <a href=\"https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads/52594017#52594017\">this</a> helps."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648132348,"creation_date":1648132348,"answer_id":71604380,"question_id":71601095,"body_markdown":"Instead of using a pure `Thread` use a `Task`. The rectangle is set to black while the `Task` is running. When the `Task` completes, the rectangle is set to green.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n *\r\n * @author blj0011\r\n */\r\npublic class App extends Application\r\n{\r\n    \r\n\r\n    @Override\r\n    public void start(Stage primaryStage)\r\n    {\r\n        Rectangle rectangle = new Rectangle(200, 100);\r\n        rectangle.setFill(Color.GREEN);\r\n        Task&lt;Void&gt; task = new Task&lt;Void&gt;() {\r\n            @Override protected Void call() throws Exception {\r\n                for (int iterations = 0; iterations &lt; 300000; iterations++) {\r\n                    System.out.println(&quot;running: &quot; + iterations);\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n        task.setOnSucceeded((t) -&gt; {\r\n            rectangle.setFill(Color.GREEN);\r\n            System.out.println(&quot;Stopped!&quot;);\r\n        });\r\n        \r\n        Thread thread = new Thread(task);\r\n        thread.setDaemon(true);\r\n        rectangle.setFill(Color.BLACK);\r\n        thread.start();\r\n        \r\n        \r\n        \r\n        StackPane root = new StackPane(rectangle);\r\n        Scene scene = new Scene(root, 500, 500);\r\n\r\n        primaryStage.setTitle(&quot;Hello World!&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args)\r\n    {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pYPae.gif","title":"Changing colors of one rectangle two times in simulation java","body":"<p>Instead of using a pure <code>Thread</code> use a <code>Task</code>. The rectangle is set to black while the <code>Task</code> is running. When the <code>Task</code> completes, the rectangle is set to green.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author blj0011\n */\npublic class App extends Application\n{\n    \n\n    @Override\n    public void start(Stage primaryStage)\n    {\n        Rectangle rectangle = new Rectangle(200, 100);\n        rectangle.setFill(Color.GREEN);\n        Task&lt;Void&gt; task = new Task&lt;Void&gt;() {\n            @Override protected Void call() throws Exception {\n                for (int iterations = 0; iterations &lt; 300000; iterations++) {\n                    System.out.println(&quot;running: &quot; + iterations);\n                }\n                return null;\n            }\n        };\n        task.setOnSucceeded((t) -&gt; {\n            rectangle.setFill(Color.GREEN);\n            System.out.println(&quot;Stopped!&quot;);\n        });\n        \n        Thread thread = new Thread(task);\n        thread.setDaemon(true);\n        rectangle.setFill(Color.BLACK);\n        thread.start();\n        \n        \n        \n        StackPane root = new StackPane(rectangle);\n        Scene scene = new Scene(root, 500, 500);\n\n        primaryStage.setTitle(&quot;Hello World!&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args)\n    {\n        launch(args);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pYPae.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYPae.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24672723,"reputation":1,"user_id":18567536,"display_name":"HappyMadtec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648132348,"creation_date":1648118977,"question_id":71601095,"body_markdown":"Hello i am trying to develop a simple javafx application where i can change the color of the rectangle using threads but without pressing the any buttons just while the thread is running it will be black and after the sleep it will be green\r\nI thought the problem might be in the UI because it cant load the change as quickly as code so that s why i used timer and pause.play etc etc but no result \r\n\r\nI am also new in java so yeah sorry about the horrible coding\r\n\r\nusing these libraries \r\n\r\n```\r\nimport java.lang.*;\r\nimport javafx.animation.Animation;\r\nimport javafx.animation.AnimationTimer;\r\nimport javafx.animation.PauseTransition;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.util.Duration;\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        AnimationTimer timer = new AnimationTimer() {\r\n            int count = 2;\r\n            public void handle(long l) {\r\n\r\n                {\r\n                    if (--count &lt;= 0) {\r\n                        stage.setIconified(true);\r\n                        this.stop();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        PauseTransition pause = new PauseTransition(Duration.seconds(3));\r\n        Thread recthread = new Thread();\r\n        Rectangle rect = new Rectangle();\r\n        rect.setX(150.0 f);\r\n        rect.setY(75.0 f);\r\n        rect.setWidth(300.0 f);\r\n        rect.setHeight(150.0 f);\r\n        rect.setFill(Color.BLACK);\r\n        Group root = new Group(rect);\r\n        Scene scene = new Scene(root, 600, 300);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        //for (int i = 0; i &lt; 5; i++) {\r\n        pause.play();\r\n        rect.setFill(Color.BLACK);\r\n        recthread.start();\r\n        pause.play();\r\n        try {\r\n            timer.start();\r\n            System.out.println(&quot;Hello next step is chocolate&quot;);\r\n            rect.setFill(Color.BLACK);\r\n            pause.play();\r\n\r\n            recthread.sleep(5000);\r\n            System.out.println(&quot;Hello Next step is green&quot;);\r\n            rect.setFill(Color.GREEN);\r\n\r\n\r\n        } catch (InterruptedException e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n        //}\r\n    }\r\n    public static void main(String[] args) {\r\n\r\n\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\nPS: new to stackoverflow so i dont know how to add my block of code correctly sorry","title":"Changing colors of one rectangle two times in simulation java","body":"<p>Hello i am trying to develop a simple javafx application where i can change the color of the rectangle using threads but without pressing the any buttons just while the thread is running it will be black and after the sleep it will be green\nI thought the problem might be in the UI because it cant load the change as quickly as code so that s why i used timer and pause.play etc etc but no result</p>\n<p>I am also new in java so yeah sorry about the horrible coding</p>\n<p>using these libraries</p>\n<pre><code>import java.lang.*;\nimport javafx.animation.Animation;\nimport javafx.animation.AnimationTimer;\nimport javafx.animation.PauseTransition;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        AnimationTimer timer = new AnimationTimer() {\n            int count = 2;\n            public void handle(long l) {\n\n                {\n                    if (--count &lt;= 0) {\n                        stage.setIconified(true);\n                        this.stop();\n                    }\n                }\n            }\n        };\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        PauseTransition pause = new PauseTransition(Duration.seconds(3));\n        Thread recthread = new Thread();\n        Rectangle rect = new Rectangle();\n        rect.setX(150.0 f);\n        rect.setY(75.0 f);\n        rect.setWidth(300.0 f);\n        rect.setHeight(150.0 f);\n        rect.setFill(Color.BLACK);\n        Group root = new Group(rect);\n        Scene scene = new Scene(root, 600, 300);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n        //for (int i = 0; i &lt; 5; i++) {\n        pause.play();\n        rect.setFill(Color.BLACK);\n        recthread.start();\n        pause.play();\n        try {\n            timer.start();\n            System.out.println(&quot;Hello next step is chocolate&quot;);\n            rect.setFill(Color.BLACK);\n            pause.play();\n\n            recthread.sleep(5000);\n            System.out.println(&quot;Hello Next step is green&quot;);\n            rect.setFill(Color.GREEN);\n\n\n        } catch (InterruptedException e) {\n            System.out.println(e);\n        }\n\n        //}\n    }\n    public static void main(String[] args) {\n\n\n        launch();\n    }\n}\n</code></pre>\n<p>PS: new to stackoverflow so i dont know how to add my block of code correctly sorry</p>\n"},{"tags":["java","github","bluej"],"answers":[{"tags":[],"owner":{"account_id":18231926,"reputation":111,"user_id":13270701,"display_name":"hayden.mumm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648131501,"creation_date":1648131501,"answer_id":71604168,"question_id":71601971,"body_markdown":"First thing to check, do you for sure have access to that repository? Do you own it?\r\n\r\nIf that&#39;s the case then one thing you can try is to create a [personal access token and use that][1] instead of your password. I haven&#39;t used BlueJ in a while, but GitHub recently stopped allowing using passwords and now requires access tokens, [more info here][2]. BlueJ may not have been updated since then.\r\n\r\n\r\n  [1]: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\r\n  [2]: https://stackoverflow.com/questions/68775869/support-for-password-authentication-was-removed-please-use-a-personal-access-to","title":"Why can&#39;t I push changes from BlueJ to GitHub?","body":"<p>First thing to check, do you for sure have access to that repository? Do you own it?</p>\n<p>If that's the case then one thing you can try is to create a <a href=\"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token\" rel=\"nofollow noreferrer\">personal access token and use that</a> instead of your password. I haven't used BlueJ in a while, but GitHub recently stopped allowing using passwords and now requires access tokens, <a href=\"https://stackoverflow.com/questions/68775869/support-for-password-authentication-was-removed-please-use-a-personal-access-to\">more info here</a>. BlueJ may not have been updated since then.</p>\n"}],"owner":{"account_id":22589351,"reputation":11,"user_id":16772717,"display_name":"ad_ab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648131501,"creation_date":1648122614,"question_id":71601971,"body_markdown":"I have stumbled upon the problem that when I try to push something to my repository through BlueJ (I have connected the BlueJ file with the repository by entering my GitHub credentials), the following error occurs:\r\n\r\n&quot;The operation was not authorised by the server. Check your username, password and repository in team settings&quot;\r\n\r\nWhat can I do to solve this problem?\r\n\r\nMy Repository:\r\nhttps://github.com/zkurs4np/gitserver\r\n\r\nI tried to push a change to my repository and ended up not being able to because of said error.","title":"Why can&#39;t I push changes from BlueJ to GitHub?","body":"<p>I have stumbled upon the problem that when I try to push something to my repository through BlueJ (I have connected the BlueJ file with the repository by entering my GitHub credentials), the following error occurs:</p>\n<p>&quot;The operation was not authorised by the server. Check your username, password and repository in team settings&quot;</p>\n<p>What can I do to solve this problem?</p>\n<p>My Repository:\n<a href=\"https://github.com/zkurs4np/gitserver\" rel=\"nofollow noreferrer\">https://github.com/zkurs4np/gitserver</a></p>\n<p>I tried to push a change to my repository and ended up not being able to because of said error.</p>\n"},{"tags":["java","gremlin","janusgraph","gremlin-server"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1648131974,"post_id":71592816,"comment_id":126551092,"body_markdown":"The error in your question does not suggest a problem with being able to connect to or properly authenticate with ElasticSearch.  Any problem of that sort would lead to either a connection time out or some error message relating to networking. The equivalent of the `-k` flag would only help if you were getting some sort of SSL certificate verification error.  What you&#39;re getting sounds like a fundamental problem with how your application is built or configured.","body":"The error in your question does not suggest a problem with being able to connect to or properly authenticate with ElasticSearch.  Any problem of that sort would lead to either a connection time out or some error message relating to networking. The equivalent of the <code>-k</code> flag would only help if you were getting some sort of SSL certificate verification error.  What you&#39;re getting sounds like a fundamental problem with how your application is built or configured."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1648132169,"post_id":71592816,"comment_id":126551184,"body_markdown":"btw...please do not supply textual information by way of an image.  Rather, you should copy/paste the text of the message into your question and format it so that it readable.  I wanted to do a Google search for the error you&#39;re getting, but I couldn&#39;t copy/paste from the error message, so I passed on doing that.  This is one reason to not supply images.","body":"btw...please do not supply textual information by way of an image.  Rather, you should copy/paste the text of the message into your question and format it so that it readable.  I wanted to do a Google search for the error you&#39;re getting, but I couldn&#39;t copy/paste from the error message, so I passed on doing that.  This is one reason to not supply images."},{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1648137727,"post_id":71592816,"comment_id":126553716,"body_markdown":"@CryptoFool - I spoke with a coworker that said they had to setup a truststore in order to connect to the ES cluster.  I&#39;m not too familiar with that which is why I was hoping there was an option to not check the cert (like the -k flag)","body":"@CryptoFool - I spoke with a coworker that said they had to setup a truststore in order to connect to the ES cluster.  I&#39;m not too familiar with that which is why I was hoping there was an option to not check the cert (like the -k flag)"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1648148554,"post_id":71592816,"comment_id":126557806,"body_markdown":"There may be such an option.  I still think that your problem has nothing to do with anything you just said.  Being unable to connect to ES isn&#39;t what&#39;s causing this problem.  I mean, it&#39;s remotely possible, like if your app were catching network error exceptions and then doing something completely different if a network error occurs, and that completely different thing is broken.  But even then, it is not ES or the network that is causing this problem.  It would just be that a properly working ES would mask this problem.","body":"There may be such an option.  I still think that your problem has nothing to do with anything you just said.  Being unable to connect to ES isn&#39;t what&#39;s causing this problem.  I mean, it&#39;s remotely possible, like if your app were catching network error exceptions and then doing something completely different if a network error occurs, and that completely different thing is broken.  But even then, it is not ES or the network that is causing this problem.  It would just be that a properly working ES would mask this problem."}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648131367,"creation_date":1648062861,"question_id":71592816,"body_markdown":"We previously had JG (v0.5.2) up and running without any issues using HBASE as our backend storage. To try and speed up queries we stood up an elasticsearch cluster, however now our JG instance is not starting up, saying that &quot;could not get type for name org.janusgraph.example.GraphApp&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOur elastic properties are setup like:\r\n\r\n    index.search.backend=&quot;elasticsearch&quot;\r\n    index.search.hostname = &quot;myhost.elasticsearch:9200&quot;  ## https://myhost.elasticsearch:9200/janusgraph  &lt;-- returns index values\r\n    index.search.elasticsearch.client-only=true\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/48ZOg.png\r\n\r\n\r\nIn order to hit ES using curl, I have to run with the -k flag\r\n&gt; curl -k https://myhost.elasticsearch:9200\r\n\r\nI assume there has to be an option like that for JG, no?\r\n\r\n\r\nI&#39;ve been banging my head on this one for a while. Is there anything that I am missing??","title":"JanusGraph cannot connect to remote elasticsearch cluster","body":"<p>We previously had JG (v0.5.2) up and running without any issues using HBASE as our backend storage. To try and speed up queries we stood up an elasticsearch cluster, however now our JG instance is not starting up, saying that &quot;could not get type for name org.janusgraph.example.GraphApp&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/48ZOg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/48ZOg.png\" alt=\"enter image description here\" /></a></p>\n<p>Our elastic properties are setup like:</p>\n<pre><code>index.search.backend=&quot;elasticsearch&quot;\nindex.search.hostname = &quot;myhost.elasticsearch:9200&quot;  ## https://myhost.elasticsearch:9200/janusgraph  &lt;-- returns index values\nindex.search.elasticsearch.client-only=true\n</code></pre>\n<p>In order to hit ES using curl, I have to run with the -k flag</p>\n<blockquote>\n<p>curl -k <a href=\"https://myhost.elasticsearch:9200\" rel=\"nofollow noreferrer\">https://myhost.elasticsearch:9200</a></p>\n</blockquote>\n<p>I assume there has to be an option like that for JG, no?</p>\n<p>I've been banging my head on this one for a while. Is there anything that I am missing??</p>\n"},{"tags":["java","date","date-formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1648131406,"post_id":71591151,"comment_id":126550834,"body_markdown":"Where did you put your search engine? Please learn that you are supposed to search before asking a question here and when you post a question, tell us what your search brought up and specify how it fell short of solving your problem. It’s for your own sake since (1) you often find a better answer faster that way (2) it allows us to give preciser and more focused answers. It also tends to prevent or at least reduce the number of downvotes.","body":"Where did you put your search engine? Please learn that you are supposed to search before asking a question here and when you post a question, tell us what your search brought up and specify how it fell short of solving your problem. It’s for your own sake since (1) you often find a better answer faster that way (2) it allows us to give preciser and more focused answers. It also tends to prevent or at least reduce the number of downvotes."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648060303,"creation_date":1648055132,"answer_id":71591223,"question_id":71591151,"body_markdown":"\r\n    LocalDate.parse(&quot;2022-02-02&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-dd-MM&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;));","title":"How to convert Date 2022-02-02 (yyyy-dd-MM) to 02-Feb-2022 in Java?","body":"<pre><code>LocalDate.parse(&quot;2022-02-02&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-dd-MM&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;));\n</code></pre>\n"}],"owner":{"account_id":14896017,"reputation":79,"user_id":10756300,"display_name":"R M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1675,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1648131602,"accepted_answer_id":71591223,"answer_count":1,"score":-2,"last_activity_date":1648131355,"creation_date":1648054773,"question_id":71591151,"body_markdown":"Date 2022-02-02 (yyyy-dd-MM)  to 02-Feb-2022 in Java\r\n\r\nneed help in converting Date 2022-02-02 to format 02-Feb-2022","title":"How to convert Date 2022-02-02 (yyyy-dd-MM) to 02-Feb-2022 in Java?","body":"<p>Date 2022-02-02 (yyyy-dd-MM)  to 02-Feb-2022 in Java</p>\n<p>need help in converting Date 2022-02-02 to format 02-Feb-2022</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1648131710,"post_id":71604101,"comment_id":126550975,"body_markdown":"you can add your own custom serializer to gson.  read the docs for examples","body":"you can add your own custom serializer to gson.  read the docs for examples"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1648188699,"post_id":71604101,"comment_id":126565965,"body_markdown":"Introduce a common, non `java.lang.Object` class, and take a look at https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java to learn how to introduce a discriminator field to your `opts`.","body":"Introduce a common, non <code>java.lang.Object</code> class, and take a look at <a href=\"https://github.com/google/gson/blob/master/extras/src/main/java/com/google/gson/typeadapters/RuntimeTypeAdapterFactory.java\" rel=\"nofollow noreferrer\">github.com/google/gson/blob/master/extras/src/main/java/com/&zwnj;&#8203;&hellip;</a> to learn how to introduce a discriminator field to your <code>opts</code>."}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648131242,"creation_date":1648131242,"question_id":71604101,"body_markdown":"I have the POJO that looks like the following:\r\n```\r\npublic class Person {\r\n    public String name;\r\n    public int age;\r\n    public Map&lt;String, Object&gt; options = new HashMap&lt;&gt;();\r\n}\r\n\r\npublic class Opt {\r\n   public int id;\r\n   public String test\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args) {\r\n        Gson gson = new GsonBuilder().excludeFieldsWithModifiers(Modifier.TRANSIENT, Modifier.STATIC).create();\r\n        Opt opt = new Opt();\r\n        opt.id = 1;\r\n        List&lt;Opt&gt; opts = new ArrayList();\r\n        opts.add(opt);\r\n        opt.name = &quot;options&quot;;\r\n        Person person = new Person();\r\n        person.name = &quot;John&quot;;\r\n        person.age = 23;\r\n        person.options.put(&quot;opts&quot;, opts);\r\n        String json = gson.toJson(person);\r\n        System.out.println(json);\r\n    }\r\n}\r\n```\r\nand I get the JSON looks like the following:\r\n```\r\n{\r\n  &quot;name&quot;: &quot;John&quot;,\r\n  &quot;age&quot;: 23,\r\n  &quot;options&quot;: {\r\n    &quot;opts&quot;: [{\r\n      // how to add &quot;className&quot;: &quot;com.example.Opt&quot;\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;options&quot;\r\n    }]\r\n  }\r\n}\r\n```\r\nand I need to add to every options data ```className```. &lt;br/&gt;\r\nHow can I do it using Gson library?","title":"How to add class name to specified Object","body":"<p>I have the POJO that looks like the following:</p>\n<pre><code>public class Person {\n    public String name;\n    public int age;\n    public Map&lt;String, Object&gt; options = new HashMap&lt;&gt;();\n}\n\npublic class Opt {\n   public int id;\n   public String test\n}\n\npublic class Main {\n    public static void main(String... args) {\n        Gson gson = new GsonBuilder().excludeFieldsWithModifiers(Modifier.TRANSIENT, Modifier.STATIC).create();\n        Opt opt = new Opt();\n        opt.id = 1;\n        List&lt;Opt&gt; opts = new ArrayList();\n        opts.add(opt);\n        opt.name = &quot;options&quot;;\n        Person person = new Person();\n        person.name = &quot;John&quot;;\n        person.age = 23;\n        person.options.put(&quot;opts&quot;, opts);\n        String json = gson.toJson(person);\n        System.out.println(json);\n    }\n}\n</code></pre>\n<p>and I get the JSON looks like the following:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;John&quot;,\n  &quot;age&quot;: 23,\n  &quot;options&quot;: {\n    &quot;opts&quot;: [{\n      // how to add &quot;className&quot;: &quot;com.example.Opt&quot;\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;options&quot;\n    }]\n  }\n}\n</code></pre>\n<p>and I need to add to every options data <code>className</code>. <br/>\nHow can I do it using Gson library?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1481187697,"post_id":41035212,"comment_id":69278086,"body_markdown":"I have no idea at all why IntelliJ won&#39;t compile this.  And I don&#39;t have my own copy of IntelliJ to try it out on.  However, to make this code work, you&#39;ll need to add `first = new Node();` between lines 11 and 12.  Otherwise you&#39;ll get a null pointer exception the first time you call `push`.","body":"I have no idea at all why IntelliJ won&#39;t compile this.  And I don&#39;t have my own copy of IntelliJ to try it out on.  However, to make this code work, you&#39;ll need to add <code>first = new Node();</code> between lines 11 and 12.  Otherwise you&#39;ll get a null pointer exception the first time you call <code>push</code>."},{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1481188206,"post_id":41035212,"comment_id":69278404,"body_markdown":"Move mouse on error and read description","body":"Move mouse on error and read description"}],"answers":[{"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481973364,"creation_date":1481188333,"answer_id":41035640,"question_id":41035212,"body_markdown":"I tested your code, and it just compiles without error in my version of IntelliJ (Recent version of community edition + java 8). Which version are you using ? My guess is that it&#39;s just a temporary error.\r\n\r\nAnd as David Wallace mentioned, you will get a NullPointerExeption on invoking push().","title":"Intellij cannot access","body":"<p>I tested your code, and it just compiles without error in my version of IntelliJ (Recent version of community edition + java 8). Which version are you using ? My guess is that it's just a temporary error.</p>\n\n<p>And as David Wallace mentioned, you will get a NullPointerExeption on invoking push().</p>\n"}],"owner":{"account_id":9807238,"reputation":33,"user_id":7266561,"display_name":"Mil Mil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3849,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1648131100,"creation_date":1481186907,"question_id":41035212,"body_markdown":"I&#39;ve tried to write this code in IntelliJ Idea, but it didn&#39;t allow me to compile.Error log: Cannot access Stack.Node.\r\nBut if I compile it using windows cmd, code will be compiled.\r\nWhat&#39;s wrong with ItelliJ?\r\n\r\n    public class Stack {\r\n\r\n        private Node first ;\r\n\r\n        private class Node {\r\n            private String item ;\r\n            private Node next ;\r\n        }\r\n\r\n        public void push(String item) {\r\n            Node second = first ;\r\n            first.item = item ;\r\n            first.next = second ;\r\n        }\r\n    }\r\n\r\n   [IntelliJ screen-shot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r9Moy.png","title":"Intellij cannot access","body":"<p>I've tried to write this code in IntelliJ Idea, but it didn't allow me to compile.Error log: Cannot access Stack.Node.\nBut if I compile it using windows cmd, code will be compiled.\nWhat's wrong with ItelliJ?</p>\n\n<pre><code>public class Stack {\n\n    private Node first ;\n\n    private class Node {\n        private String item ;\n        private Node next ;\n    }\n\n    public void push(String item) {\n        Node second = first ;\n        first.item = item ;\n        first.next = second ;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/r9Moy.png\" rel=\"nofollow noreferrer\">IntelliJ screen-shot</a></p>\n"},{"tags":["java","mapping","dto","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592974987,"creation_date":1592974987,"answer_id":62548001,"question_id":62423825,"body_markdown":"You can write your own custom qualified method for doing the decryption.\r\n\r\ne.g.\r\n\r\n```\r\n@Mapper\r\npublic MyMapper {\r\n\r\n    @Mapping(target = &quot;id&quot;, source = &quot;idEncrypted&quot;, qualifiedByName = &quot;decryptId&quot;)\r\n    MyEntity map(MyDTO dto);\r\n\r\n    @Named(&quot;decryptId&quot;)\r\n    default Long decryptId(String id) {\r\n        return id != null ? Long.parseLong(MyUtils.decrypt(id)) : null;\r\n    }\r\n}\r\n```","title":"MapStruct DTO property","body":"<p>You can write your own custom qualified method for doing the decryption.</p>\n<p>e.g.</p>\n<pre><code>@Mapper\npublic MyMapper {\n\n    @Mapping(target = &quot;id&quot;, source = &quot;idEncrypted&quot;, qualifiedByName = &quot;decryptId&quot;)\n    MyEntity map(MyDTO dto);\n\n    @Named(&quot;decryptId&quot;)\n    default Long decryptId(String id) {\n        return id != null ? Long.parseLong(MyUtils.decrypt(id)) : null;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62548001,"answer_count":1,"score":0,"last_activity_date":1648131030,"creation_date":1592379558,"question_id":62423825,"body_markdown":"I need to have a property on my DTO like idEncrypted because they can pass me only encrypted, however, I need to map the decrypt id as I find on DB. I already have a decrypt method, but I don&#39;t know how to map it and ignore the idEncrypted.\r\n\r\n    @Data\r\n    @EqualsAndHashCode(callSuper=false)\r\n    @NoArgsConstructor\r\n    public class MyDTO {  \r\n  \r\n\t    private String idEncrypted;\r\n      \r\n        ...\r\n        ...\r\n\r\n    }\r\n\r\nI don&#39;t know where to do the conversion \r\n   \r\n    idDecrypted = Long.parseLong(MyUtils.decrypt(idEncrypted));","title":"MapStruct DTO property","body":"<p>I need to have a property on my DTO like idEncrypted because they can pass me only encrypted, however, I need to map the decrypt id as I find on DB. I already have a decrypt method, but I don't know how to map it and ignore the idEncrypted.</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper=false)\n@NoArgsConstructor\npublic class MyDTO {  \n\n    private String idEncrypted;\n  \n    ...\n    ...\n\n}\n</code></pre>\n<p>I don't know where to do the conversion</p>\n<pre><code>idDecrypted = Long.parseLong(MyUtils.decrypt(idEncrypted));\n</code></pre>\n"},{"tags":["java","android","sql","database","android-cursor"],"comments":[{"owner":{"account_id":163820,"reputation":11607,"user_id":386201,"accept_rate":75,"display_name":"Stuck"},"score":0,"creation_date":1308163242,"post_id":6362572,"comment_id":7449068,"body_markdown":"in the db... is COLUMN_A = 0? ... and what is the `rand` for?","body":"in the db... is COLUMN_A = 0? ... and what is the <code>rand</code> for?"},{"owner":{"account_id":421778,"reputation":657,"user_id":800190,"accept_rate":82,"display_name":"RedLeader"},"score":0,"creation_date":1308164173,"post_id":6362572,"comment_id":7449335,"body_markdown":"STRING COLUMN_A = &quot;_id&quot;;, sorry, should have included that.","body":"STRING COLUMN_A = &quot;_id&quot;;, sorry, should have included that."},{"owner":{"account_id":421778,"reputation":657,"user_id":800190,"accept_rate":82,"display_name":"RedLeader"},"score":0,"creation_date":1308164323,"post_id":6362572,"comment_id":7449379,"body_markdown":"I took out the random to isolate the problem to the Cursor. No matter if I look for COLUMN_A = 0,1,2.... (where COLUMN_A is the _id column in the database).","body":"I took out the random to isolate the problem to the Cursor. No matter if I look for COLUMN_A = 0,1,2.... (where COLUMN_A is the _id column in the database)."}],"answers":[{"tags":[],"owner":{"account_id":138557,"reputation":42623,"user_id":343568,"accept_rate":100,"display_name":"nicholas.hauschild"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1308163080,"creation_date":1308163080,"answer_id":6362618,"question_id":6362572,"body_markdown":"Nothing seems random here at all.  It appears that you are looking for column_a with a value of 0 every time.\r\n\r\nI would assume that column_a has nothing with a value of 0.","title":"Android SQLLiteDataBase cursor returning 0 rows","body":"<p>Nothing seems random here at all.  It appears that you are looking for column_a with a value of 0 every time.</p>\n\n<p>I would assume that column_a has nothing with a value of 0.</p>\n"},{"tags":[],"owner":{"account_id":259637,"reputation":4095,"user_id":542659,"display_name":"woodshy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308163205,"creation_date":1308163205,"answer_id":6362640,"question_id":6362572,"body_markdown":"First of all try to query this way:\r\n\r\n    String args[] = new String[]{&quot;0&quot;};\r\n\r\n    Cursor cursor = db.rawQuery(\r\n            &quot;SELECT * FROM &quot; + DATABASE_TABLE + &quot; WHERE &quot; + COLUMN_A + &quot; = ?&quot;, args);\r\n\r\nIf this not helps check your db with external tool if you query return rows there.","title":"Android SQLLiteDataBase cursor returning 0 rows","body":"<p>First of all try to query this way:</p>\n\n<pre><code>String args[] = new String[]{\"0\"};\n\nCursor cursor = db.rawQuery(\n        \"SELECT * FROM \" + DATABASE_TABLE + \" WHERE \" + COLUMN_A + \" = ?\", args);\n</code></pre>\n\n<p>If this not helps check your db with external tool if you query return rows there.</p>\n"}],"owner":{"account_id":421778,"reputation":657,"user_id":800190,"accept_rate":82,"display_name":"RedLeader"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1766,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6362618,"answer_count":2,"score":4,"last_activity_date":1648130943,"creation_date":1308162808,"question_id":6362572,"body_markdown":"For the life of me, I can&#39;t get the cursor to return any data. I&#39;ve verified that their is data in the database and my insertions are working. The official error is:\r\n\r\n&gt; CursorIndexOutOfBoundsException: Index 0 requested, **with a size of 0**\r\n\r\n\r\nTop level declarations:\r\n\r\n    private DatabaseHelper DBHelper;\r\n    private SQLiteDatabase db;\r\n \r\n    public DBAdapter(Context ctx) \r\n    {\r\n        this.context = ctx;\r\n        DBHelper = new DatabaseHelper(context);\r\n        this.db = this.DBHelper.getWritableDatabase();\r\n    }\r\nMy function:\r\n\r\n    public String getRandomEntry()\r\n        {\r\n    \tint rand;\r\n    \tRandom random = new Random();\r\n        int numEntries = (int)this.getCount();\r\n        \r\n    \tif(numEntries == 0)\r\n    \t\treturn &quot;ERROR: Database is empty.&quot;;\r\n    \trand = random.nextInt(numEntries);\r\n\r\n        Cursor cursor = DBHelper.getWritableDatabase().rawQuery(\r\n        \t\t&quot;SELECT * FROM &quot; + DATABASE_TABLE \r\n        \t\t+ &quot; WHERE &quot; + COLUMN_A + &quot; = &quot; + 0, null);\r\n        \r\n        Log.i(&quot;numEntries&quot;, Integer.toString(numEntries));\r\n    \tLog.i(&quot;rand&quot;, Integer.toString(rand));\r\n        Log.i(&quot;cursor&quot;, Integer.toString(cursor.getCount()));\r\n        \r\n        cursor.moveToFirst();\r\n        return cursor.getString(0);\r\n    }\r\n\r\nI&#39;ve also tried grabbing the cursor as such:\r\n\r\n    Cursor cursor = db.rawQuery(\r\n        \t\t&quot;SELECT * FROM &quot; + DATABASE_TABLE \r\n        \t\t+ &quot; WHERE &quot; + COLUMN_A + &quot; = &quot; + 0, null);\r\n\r\nPlease give me your thoughts! Thank you!!","title":"Android SQLLiteDataBase cursor returning 0 rows","body":"<p>For the life of me, I can't get the cursor to return any data. I've verified that their is data in the database and my insertions are working. The official error is:</p>\n\n<blockquote>\n  <p>CursorIndexOutOfBoundsException: Index 0 requested, <strong>with a size of 0</strong></p>\n</blockquote>\n\n<p>Top level declarations:</p>\n\n<pre><code>private DatabaseHelper DBHelper;\nprivate SQLiteDatabase db;\n\npublic DBAdapter(Context ctx) \n{\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n    this.db = this.DBHelper.getWritableDatabase();\n}\n</code></pre>\n\n<p>My function:</p>\n\n<pre><code>public String getRandomEntry()\n    {\n    int rand;\n    Random random = new Random();\n    int numEntries = (int)this.getCount();\n\n    if(numEntries == 0)\n        return \"ERROR: Database is empty.\";\n    rand = random.nextInt(numEntries);\n\n    Cursor cursor = DBHelper.getWritableDatabase().rawQuery(\n            \"SELECT * FROM \" + DATABASE_TABLE \n            + \" WHERE \" + COLUMN_A + \" = \" + 0, null);\n\n    Log.i(\"numEntries\", Integer.toString(numEntries));\n    Log.i(\"rand\", Integer.toString(rand));\n    Log.i(\"cursor\", Integer.toString(cursor.getCount()));\n\n    cursor.moveToFirst();\n    return cursor.getString(0);\n}\n</code></pre>\n\n<p>I've also tried grabbing the cursor as such:</p>\n\n<pre><code>Cursor cursor = db.rawQuery(\n            \"SELECT * FROM \" + DATABASE_TABLE \n            + \" WHERE \" + COLUMN_A + \" = \" + 0, null);\n</code></pre>\n\n<p>Please give me your thoughts! Thank you!!</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1647541523,"post_id":71461857,"comment_id":126403258,"body_markdown":"you need to provide `AuthServiceImpl` class and it&#39;s usage","body":"you need to provide <code>AuthServiceImpl</code> class and it&#39;s usage"},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1647879229,"post_id":71461857,"comment_id":126476628,"body_markdown":"Your sample code for class `PasswordRecovery` is missing the imports. As such I cannot compile.  I have no idea what import should exist for attribute `@Data` or `@Email`.  As such the main logic cannot call `setEmail()` or others similar.  Please include complete snippets including imports.","body":"Your sample code for class <code>PasswordRecovery</code> is missing the imports. As such I cannot compile.  I have no idea what import should exist for attribute <code>@Data</code> or <code>@Email</code>.  As such the main logic cannot call <code>setEmail()</code> or others similar.  Please include complete snippets including imports."},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1647881093,"post_id":71461857,"comment_id":126477391,"body_markdown":"For those following along - add the following dependency...\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;","body":"For those following along - add the following dependency...  &lt;dependency&gt;     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;     &lt;artifactId&gt;lombok&lt;/artifactId&gt;     &lt;version&gt;1.18.22&lt;/version&gt;     &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647699016,"creation_date":1647555221,"answer_id":71519642,"question_id":71461857,"body_markdown":"I think you are totally right and the issue was caused by the value of the property `_class` saved password recovery document in MongoDB: in a nutshell, MongoDB is unable to create a new instance of the class stored in the `_class` field when you try to read it later.\r\n\r\nIf your question is accurate, my guess is that the following code fragment is defined in the `AuthServiceImpl` class:\r\n\r\n```java\r\nPasswordRecovery passwordRecovery = new PasswordRecovery() {};\r\npasswordRecovery.setToken(UUID.randomUUID().toString());\r\npasswordRecovery.setEmail(email);\r\npasswordRecovery.setCreated(LocalDateTime.now());\r\npasswordRecovery.setExpired(LocalDateTime.now().plusDays(1));\r\npasswordRecovery.setUsed(false);\r\n\r\npasswordRecoveryRepository.save(passwordRecovery);\r\n```\r\n\r\nPlease, note the following line, especially the curly braces at the end of the statement:\r\n\r\n```java\r\nPasswordRecovery passwordRecovery = new PasswordRecovery() {};\r\n```\r\n\r\nWhen using these curly braces after the `PasswordRecovery` constructor invocation you are creating an instance of an [an anonymous class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html), not just instantiating a new `PasswordRecovery` object.\r\n\r\nTo make the point clear, please, consider the following test case.\r\n\r\nGiven:\r\n\r\n```java\r\npackage com.website.opdash.shared.service.auth;\r\n\r\npublic class AuthServiceImpl {\r\n\r\n  public void setPasswordRecoveryData() {\r\n    PasswordRecovery passwordRecovery = new PasswordRecovery() {};\r\n    System.out.println(passwordRecovery.getClass());\r\n  }\r\n\r\n  public static void main(String[] args){\r\n    AuthServiceImpl impl = new AuthServiceImpl();\r\n    impl.setPasswordRecoveryData();\r\n  }\r\n  \r\n}\r\n``` \r\n\r\nThen, the `System.println` statement will output:\r\n\r\n```\r\ncom.website.opdash.shared.service.auth.AuthServiceImpl$1\r\n```\r\n\r\nAs you can see, this value is the one MongoDB is actually storing when saving your data in the `_class` field.\r\n\r\nTo solve the problem, just get rid of these curly braces when creating your `PasswordRecovery` object:\r\n\r\n```java\r\n// Just instantiate the object\r\nPasswordRecovery passwordRecovery = new PasswordRecovery();\r\npasswordRecovery.setToken(UUID.randomUUID().toString());\r\npasswordRecovery.setEmail(email);\r\npasswordRecovery.setCreated(LocalDateTime.now());\r\npasswordRecovery.setExpired(LocalDateTime.now().plusDays(1));\r\npasswordRecovery.setUsed(false);\r\n\r\npasswordRecoveryRepository.save(passwordRecovery);\r\n```\r\n\r\nIt will allow you to successfully recover the information later.","title":"Why do I get an error when I try to fetch a document from MongoDB?","body":"<p>I think you are totally right and the issue was caused by the value of the property <code>_class</code> saved password recovery document in MongoDB: in a nutshell, MongoDB is unable to create a new instance of the class stored in the <code>_class</code> field when you try to read it later.</p>\n<p>If your question is accurate, my guess is that the following code fragment is defined in the <code>AuthServiceImpl</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PasswordRecovery passwordRecovery = new PasswordRecovery() {};\npasswordRecovery.setToken(UUID.randomUUID().toString());\npasswordRecovery.setEmail(email);\npasswordRecovery.setCreated(LocalDateTime.now());\npasswordRecovery.setExpired(LocalDateTime.now().plusDays(1));\npasswordRecovery.setUsed(false);\n\npasswordRecoveryRepository.save(passwordRecovery);\n</code></pre>\n<p>Please, note the following line, especially the curly braces at the end of the statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PasswordRecovery passwordRecovery = new PasswordRecovery() {};\n</code></pre>\n<p>When using these curly braces after the <code>PasswordRecovery</code> constructor invocation you are creating an instance of an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">an anonymous class</a>, not just instantiating a new <code>PasswordRecovery</code> object.</p>\n<p>To make the point clear, please, consider the following test case.</p>\n<p>Given:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.website.opdash.shared.service.auth;\n\npublic class AuthServiceImpl {\n\n  public void setPasswordRecoveryData() {\n    PasswordRecovery passwordRecovery = new PasswordRecovery() {};\n    System.out.println(passwordRecovery.getClass());\n  }\n\n  public static void main(String[] args){\n    AuthServiceImpl impl = new AuthServiceImpl();\n    impl.setPasswordRecoveryData();\n  }\n  \n}\n</code></pre>\n<p>Then, the <code>System.println</code> statement will output:</p>\n<pre><code>com.website.opdash.shared.service.auth.AuthServiceImpl$1\n</code></pre>\n<p>As you can see, this value is the one MongoDB is actually storing when saving your data in the <code>_class</code> field.</p>\n<p>To solve the problem, just get rid of these curly braces when creating your <code>PasswordRecovery</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Just instantiate the object\nPasswordRecovery passwordRecovery = new PasswordRecovery();\npasswordRecovery.setToken(UUID.randomUUID().toString());\npasswordRecovery.setEmail(email);\npasswordRecovery.setCreated(LocalDateTime.now());\npasswordRecovery.setExpired(LocalDateTime.now().plusDays(1));\npasswordRecovery.setUsed(false);\n\npasswordRecoveryRepository.save(passwordRecovery);\n</code></pre>\n<p>It will allow you to successfully recover the information later.</p>\n"}],"owner":{"account_id":1067937,"reputation":13238,"user_id":1067943,"accept_rate":65,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1648130936,"creation_date":1647216673,"question_id":71461857,"body_markdown":"I use Java Spring Framework and MongoDB in my project.\r\n\r\nI create a PasswordRecovery object and save it in MongoDB document using the MongoRepository.\r\n\r\nWhen I try to fetch back from MongoDB the stored object I get an error.\r\n\r\nHere is the class that I save in MongoDB:\r\n\r\n    @Document(&quot;password_recovery_data&quot;)\r\n    @Data\r\n    public class PasswordRecovery {\r\n    @Id\r\n    private String id;\r\n    @Indexed\r\n    private String token;\r\n    @Email\r\n    private String email;\r\n    private LocalDateTime created;\r\n    private LocalDateTime expired;\r\n    private boolean isUsed;\r\n    }\r\n\r\nHere is repository defenition:\r\n\r\n\tpackage com.priceandbuild.operationaldashboardapi.shared.repository;\r\n\timport com.priceandbuild.operationaldashboardapi.shared.model.PasswordRecovery;\r\n\timport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\tpublic interface PasswordRecoveryRepository extends MongoRepository&lt;PasswordRecovery, String&gt; {\r\n\t\tOptional&lt;PasswordRecovery&gt; findPasswordRecoveryByToken(String token);\r\n\t}\r\n\t\r\nHere is how I save the new PasswordRecovery:\r\n\r\n\tprivate final PasswordRecoveryRepository passwordRecoveryRepository;\r\n\tPasswordRecovery passwordRecovery = new PasswordRecovery() {};\r\n    passwordRecovery.setToken(UUID.randomUUID().toString());\r\n    passwordRecovery.setEmail(email);\r\n    passwordRecovery.setCreated(LocalDateTime.now());\r\n    passwordRecovery.setExpired(LocalDateTime.now().plusDays(1));\r\n    passwordRecovery.setUsed(false);\r\n\r\n    passwordRecoveryRepository.save(passwordRecovery);\r\n\t\r\nAfter the save function is executed the password recovery object is saved in MongoDB:\r\n\r\n  \t\r\n\t{\r\n\t\t&quot;_id&quot;: {\r\n\t\t\t&quot;$oid&quot;: &quot;3456345635g56756h65&quot;\r\n\t\t},\r\n\t\t&quot;token&quot;: &quot;dasdasd34235-ded6-4442-234dsfdsf-334terffe4&quot;,\r\n\t\t&quot;email&quot;: &quot;don@mail.com&quot;,\r\n\t\t&quot;created&quot;: {\r\n\t\t\t&quot;$date&quot;: &quot;2022-03-13T23:32:19.702Z&quot;\r\n\t\t},\r\n\t\t&quot;expired&quot;: {\r\n\t\t\t&quot;$date&quot;: &quot;2022-03-14T23:32:19.885Z&quot;\r\n\t\t},\r\n\t\t&quot;isUsed&quot;: false,\r\n\t\t&quot;_class&quot;: &quot;com.website.opdash.shared.service.auth.AuthServiceImpl$1&quot;\r\n\t}\r\n\r\nI am trying to get the value from the MongoDB document saved like that:\r\n\r\n\tOptional&lt;PasswordRecovery&gt; passwordRecoveryOptional =\r\n\tpasswordRecoveryRepository.findPasswordRecoveryByToken(token);\r\n\t\r\nBut I get an error when I try to fetch saved earlier document:\r\n\r\n\tNo property this$0 found on entity class com.website.opdash.shared.service.auth.AuthServiceImpl$1 to bind constructor parameter to!\t\r\n\r\nIt looks like the issue was caused by the value of the property _class saved password recovery document in MongoDB.\r\n\r\nI spent a couple of hours on this issue, but I don&#39;t understand why exactly I get this error, please help me to solve this issue.","title":"Why do I get an error when I try to fetch a document from MongoDB?","body":"<p>I use Java Spring Framework and MongoDB in my project.</p>\n<p>I create a PasswordRecovery object and save it in MongoDB document using the MongoRepository.</p>\n<p>When I try to fetch back from MongoDB the stored object I get an error.</p>\n<p>Here is the class that I save in MongoDB:</p>\n<pre><code>@Document(&quot;password_recovery_data&quot;)\n@Data\npublic class PasswordRecovery {\n@Id\nprivate String id;\n@Indexed\nprivate String token;\n@Email\nprivate String email;\nprivate LocalDateTime created;\nprivate LocalDateTime expired;\nprivate boolean isUsed;\n}\n</code></pre>\n<p>Here is repository defenition:</p>\n<pre><code>package com.priceandbuild.operationaldashboardapi.shared.repository;\nimport com.priceandbuild.operationaldashboardapi.shared.model.PasswordRecovery;\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport java.util.Optional;\n\npublic interface PasswordRecoveryRepository extends MongoRepository&lt;PasswordRecovery, String&gt; {\n    Optional&lt;PasswordRecovery&gt; findPasswordRecoveryByToken(String token);\n}\n</code></pre>\n<p>Here is how I save the new PasswordRecovery:</p>\n<pre><code>private final PasswordRecoveryRepository passwordRecoveryRepository;\nPasswordRecovery passwordRecovery = new PasswordRecovery() {};\npasswordRecovery.setToken(UUID.randomUUID().toString());\npasswordRecovery.setEmail(email);\npasswordRecovery.setCreated(LocalDateTime.now());\npasswordRecovery.setExpired(LocalDateTime.now().plusDays(1));\npasswordRecovery.setUsed(false);\n\npasswordRecoveryRepository.save(passwordRecovery);\n</code></pre>\n<p>After the save function is executed the password recovery object is saved in MongoDB:</p>\n<pre><code>{\n    &quot;_id&quot;: {\n        &quot;$oid&quot;: &quot;3456345635g56756h65&quot;\n    },\n    &quot;token&quot;: &quot;dasdasd34235-ded6-4442-234dsfdsf-334terffe4&quot;,\n    &quot;email&quot;: &quot;don@mail.com&quot;,\n    &quot;created&quot;: {\n        &quot;$date&quot;: &quot;2022-03-13T23:32:19.702Z&quot;\n    },\n    &quot;expired&quot;: {\n        &quot;$date&quot;: &quot;2022-03-14T23:32:19.885Z&quot;\n    },\n    &quot;isUsed&quot;: false,\n    &quot;_class&quot;: &quot;com.website.opdash.shared.service.auth.AuthServiceImpl$1&quot;\n}\n</code></pre>\n<p>I am trying to get the value from the MongoDB document saved like that:</p>\n<pre><code>Optional&lt;PasswordRecovery&gt; passwordRecoveryOptional =\npasswordRecoveryRepository.findPasswordRecoveryByToken(token);\n</code></pre>\n<p>But I get an error when I try to fetch saved earlier document:</p>\n<pre><code>No property this$0 found on entity class com.website.opdash.shared.service.auth.AuthServiceImpl$1 to bind constructor parameter to! \n</code></pre>\n<p>It looks like the issue was caused by the value of the property _class saved password recovery document in MongoDB.</p>\n<p>I spent a couple of hours on this issue, but I don't understand why exactly I get this error, please help me to solve this issue.</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648129656,"post_id":71603507,"comment_id":126549995,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24599404,"reputation":41,"user_id":18502458,"display_name":"Govind Dhage"},"score":0,"creation_date":1648130357,"post_id":71603507,"comment_id":126550365,"body_markdown":"When i Entered above method.. android ide send bydefault code .. in above code there are some comments line ..what will be the code in that space.","body":"When i Entered above method.. android ide send bydefault code .. in above code there are some comments line ..what will be the code in that space."}],"owner":{"account_id":24599404,"reputation":41,"user_id":18502458,"display_name":"Govind Dhage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648130928,"creation_date":1648128908,"question_id":71603507,"body_markdown":"if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                  \r\n  // TODO: Consider calling\r\n        \r\n//ActivityCompat#requestPermissions\r\n                  \r\n  // here to request the missing permissions, and then overriding\r\n                  \r\n  //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                                  int[] grantResults)\r\n                   \r\n // to handle the case where the user grants the permission. See the documentation\r\n                  \r\n  for ActivityCompat#requestPermissions for more details.\r\n                   \r\n return;\r\n\r\n                }\r\n\r\n - \r\n\r\n\r\n----------\r\n","title":"Facing this issue whenever adding permissions. and what i do code instead on comment lines?","body":"<p>if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {</p>\n<p>// TODO: Consider calling</p>\n<p>//ActivityCompat#requestPermissions</p>\n<p>// here to request the missing permissions, and then overriding</p>\n<p>//   public void onRequestPermissionsResult(int requestCode, String[] permissions,\nint[] grantResults)</p>\n<p>// to handle the case where the user grants the permission. See the documentation</p>\n<p>for ActivityCompat#requestPermissions for more details.</p>\n<p>return;</p>\n<pre><code>            }\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<hr />\n"},{"tags":["java","database","sybase"],"comments":[{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1442691677,"post_id":32672407,"comment_id":53190546,"body_markdown":"Looks like you are missing a native library (`.dll` on Windows, `.so` on Linux) - does that help with anything?","body":"Looks like you are missing a native library (<code>.dll</code> on Windows, <code>.so</code> on Linux) - does that help with anything?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1442694485,"post_id":32672407,"comment_id":53191381,"body_markdown":"`sajdbc4.jar` is not a pure Java driver and requires the `dbjdbc12.dll` - just as the error message says. See item 5) here: http://scn.sap.com/community/sql-anywhere/blog/2014/05/02/connecting-to-sql-anywhere-using-jdbc","body":"<code>sajdbc4.jar</code> is not a pure Java driver and requires the <code>dbjdbc12.dll</code> - just as the error message says. See item 5) here: <a href=\"http://scn.sap.com/community/sql-anywhere/blog/2014/05/02/connecting-to-sql-anywhere-using-jdbc\" rel=\"nofollow noreferrer\">scn.sap.com/community/sql-anywhere/blog/2014/05/02/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4303461,"reputation":6948,"user_id":5171540,"display_name":"WillShackleford"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442694483,"creation_date":1442694483,"answer_id":32672871,"question_id":32672407,"body_markdown":"\r\nFor windows find this file in your computer:\r\n\r\n    dbjdbc12.dll\r\n\r\nFor linux find this file:\r\n\r\n    libdbjdbc12.so\r\n\r\nPut the location of this file on the java.library.path either with a command line option:\r\n\r\n    java -Djava.library.path=DIRECTORYWITHDLL ...\r\n\r\nor  using System.setProperty in your code:\r\n\r\n    System.setProperty(&quot;java.library.path&quot;,&quot;DIRECTORYWITHDLL&quot;);\r\n","title":"Error connecting Java to SQL Anywhere database","body":"<p>For windows find this file in your computer:</p>\n\n<pre><code>dbjdbc12.dll\n</code></pre>\n\n<p>For linux find this file:</p>\n\n<pre><code>libdbjdbc12.so\n</code></pre>\n\n<p>Put the location of this file on the java.library.path either with a command line option:</p>\n\n<pre><code>java -Djava.library.path=DIRECTORYWITHDLL ...\n</code></pre>\n\n<p>or  using System.setProperty in your code:</p>\n\n<pre><code>System.setProperty(\"java.library.path\",\"DIRECTORYWITHDLL\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6788385,"reputation":380,"user_id":5226285,"display_name":"Nishant Dwivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598470123,"creation_date":1598470123,"answer_id":63604506,"question_id":32672407,"body_markdown":"For Linux, you need to add the dbjdbc12.so to java.library.path using:\r\n\r\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/some/path/that/contain/dbjdbc12.so\r\n\r\nthis is the same for dbjdbc16 also.\r\nSince, sybase.jdbc4 driver need this file. Please refer- https://blogs.sap.com/2014/05/02/connecting-to-sql-anywhere-using-jdbc-2/#:~:text=jar%20is%20in%20the%20classpath,Connection%20con%20%3D%20DriverManager.\r\n\r\nSimilarly, for windows add dbjdbc12.dll file.","title":"Error connecting Java to SQL Anywhere database","body":"<p>For Linux, you need to add the dbjdbc12.so to java.library.path using:</p>\n<p>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/some/path/that/contain/dbjdbc12.so</p>\n<p>this is the same for dbjdbc16 also.\nSince, sybase.jdbc4 driver need this file. Please refer- <a href=\"https://blogs.sap.com/2014/05/02/connecting-to-sql-anywhere-using-jdbc-2/#:%7E:text=jar%20is%20in%20the%20classpath,Connection%20con%20%3D%20DriverManager\" rel=\"nofollow noreferrer\">https://blogs.sap.com/2014/05/02/connecting-to-sql-anywhere-using-jdbc-2/#:~:text=jar%20is%20in%20the%20classpath,Connection%20con%20%3D%20DriverManager</a>.</p>\n<p>Similarly, for windows add dbjdbc12.dll file.</p>\n"},{"tags":[],"owner":{"account_id":24672989,"reputation":1,"user_id":18567763,"display_name":"jensa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648130641,"creation_date":1648130641,"answer_id":71603929,"question_id":32672407,"body_markdown":"For SQL Anywhere 17 `libdbjdbc17.so` was not suffiecient, it was then complaning about the next file:\r\n\r\n```\r\nfailed: java.lang.UnsatisfiedLinkError: /usr/local/tomcat/native-jni-lib/libdbjdbc17.so: libdbtasks17_r.so: cannot open shared object file: No such file or directory\r\n```\r\n\r\nSo I ended up adding all files from the `lib64` folder from the [Database client](https://wiki.scn.sap.com/wiki/display/SQLANY/SAP+SQL+Anywhere+Database+Client+Download) (after I installed it on some other linux machine) to my tomcat lib path and it worked.","title":"Error connecting Java to SQL Anywhere database","body":"<p>For SQL Anywhere 17 <code>libdbjdbc17.so</code> was not suffiecient, it was then complaning about the next file:</p>\n<pre><code>failed: java.lang.UnsatisfiedLinkError: /usr/local/tomcat/native-jni-lib/libdbjdbc17.so: libdbtasks17_r.so: cannot open shared object file: No such file or directory\n</code></pre>\n<p>So I ended up adding all files from the <code>lib64</code> folder from the <a href=\"https://wiki.scn.sap.com/wiki/display/SQLANY/SAP+SQL+Anywhere+Database+Client+Download\" rel=\"nofollow noreferrer\">Database client</a> (after I installed it on some other linux machine) to my tomcat lib path and it worked.</p>\n"}],"owner":{"account_id":6981894,"reputation":31,"user_id":5354476,"display_name":"Margarida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8211,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1648130641,"creation_date":1442691334,"question_id":32672407,"body_markdown":"I am trying to connect a java program to a database. I have sajdbc4.jar in the build path and it worked before, but now I keep getting this error when I try to make the connection:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no dbjdbc12 in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n\tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n\tat java.lang.System.loadLibrary(Unknown Source)\r\n\tat sybase.jdbc4.sqlanywhere.IDriver.try_load(IDriver.java:455)\r\n\tat sybase.jdbc4.sqlanywhere.IDriver.&lt;clinit&gt;(IDriver.java:396)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n\tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n\tat java.lang.Class.newInstance(Unknown Source)\r\n\tat java.util.ServiceLoader$LazyIterator.nextService(Unknown Source)\r\n\tat java.util.ServiceLoader$LazyIterator.next(Unknown Source)\r\n\tat java.util.ServiceLoader$1.next(Unknown Source)\r\n\tat java.sql.DriverManager$2.run(Unknown Source)\r\n\tat java.sql.DriverManager$2.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.sql.DriverManager.loadInitialDrivers(Unknown Source)\r\n\tat java.sql.DriverManager.&lt;clinit&gt;(Unknown Source)\r\n\tat Main.main(Main.java:26)\r\n\r\nCan someome please help me? Can&#39;t find anything abount this issue online.","title":"Error connecting Java to SQL Anywhere database","body":"<p>I am trying to connect a java program to a database. I have sajdbc4.jar in the build path and it worked before, but now I keep getting this error when I try to make the connection:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no dbjdbc12 in java.library.path\n      at java.lang.ClassLoader.loadLibrary(Unknown Source)\n      at java.lang.Runtime.loadLibrary0(Unknown Source)\n      at java.lang.System.loadLibrary(Unknown Source)\n      at sybase.jdbc4.sqlanywhere.IDriver.try_load(IDriver.java:455)\n      at sybase.jdbc4.sqlanywhere.IDriver.(IDriver.java:396)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n      at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n      at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n      at java.lang.reflect.Constructor.newInstance(Unknown Source)\n      at java.lang.Class.newInstance(Unknown Source)\n      at java.util.ServiceLoader$LazyIterator.nextService(Unknown Source)\n      at java.util.ServiceLoader$LazyIterator.next(Unknown Source)\n      at java.util.ServiceLoader$1.next(Unknown Source)\n      at java.sql.DriverManager$2.run(Unknown Source)\n      at java.sql.DriverManager$2.run(Unknown Source)\n      at java.security.AccessController.doPrivileged(Native Method)\n      at java.sql.DriverManager.loadInitialDrivers(Unknown Source)\n      at java.sql.DriverManager.(Unknown Source)\n      at Main.main(Main.java:26)</p>\n</blockquote>\n\n<p>Can someome please help me? Can't find anything abount this issue online.</p>\n"},{"tags":["java","android","android-recyclerview","android-cardview","pass-data"],"comments":[{"owner":{"account_id":12847929,"reputation":106,"user_id":9293720,"display_name":"rxabin"},"score":0,"creation_date":1648043284,"post_id":71587602,"comment_id":126523924,"body_markdown":"To show any kind of data in a recycler view you need to implement your own RecyclerView.Adapter.","body":"To show any kind of data in a recycler view you need to implement your own RecyclerView.Adapter."},{"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"score":0,"creation_date":1648044075,"post_id":71587602,"comment_id":126524374,"body_markdown":"You mean it’s can’t be possible to put data from user interface?","body":"You mean it’s can’t be possible to put data from user interface?"},{"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"score":0,"creation_date":1648044122,"post_id":71587602,"comment_id":126524397,"body_markdown":"I have also adapter it’s working but I want it get data from another activity","body":"I have also adapter it’s working but I want it get data from another activity"},{"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"score":0,"creation_date":1648044141,"post_id":71587602,"comment_id":126524412,"body_markdown":"Is there is any way?","body":"Is there is any way?"},{"owner":{"account_id":12847929,"reputation":106,"user_id":9293720,"display_name":"rxabin"},"score":0,"creation_date":1648044519,"post_id":71587602,"comment_id":126524576,"body_markdown":"You could get the user input from an activity by using Intent.putExtra() then get that data on another activity with getIntent.getExtra() and then feed your adapter with that data, but that has nothing to do with the question you asked. Could you be more clear? What&#39;s the problem?","body":"You could get the user input from an activity by using Intent.putExtra() then get that data on another activity with getIntent.getExtra() and then feed your adapter with that data, but that has nothing to do with the question you asked. Could you be more clear? What&#39;s the problem?"},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1648045673,"post_id":71587602,"comment_id":126525167,"body_markdown":"Can you share your adapter class and activity where recycler view is initialized.","body":"Can you share your adapter class and activity where recycler view is initialized."},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1648046169,"post_id":71587602,"comment_id":126525377,"body_markdown":"You can achieve this functionality by linking your recycler to activity&#39;s instance of list.  This will allow you to modify list contents from the activity.  Calling the updateDataSet() on the adopter will update changes in your recycler view.","body":"You can achieve this functionality by linking your recycler to activity&#39;s instance of list.  This will allow you to modify list contents from the activity.  Calling the updateDataSet() on the adopter will update changes in your recycler view."},{"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"score":0,"creation_date":1648048999,"post_id":71587602,"comment_id":126526656,"body_markdown":"@rxabin I used getExtra but it’s not working I have shared it’s image could you please check it.","body":"@rxabin I used getExtra but it’s not working I have shared it’s image could you please check it."},{"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"score":0,"creation_date":1648050068,"post_id":71587602,"comment_id":126527200,"body_markdown":"The image is not accessable. :d","body":"The image is not accessable. :d"},{"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"score":0,"creation_date":1648051005,"post_id":71587602,"comment_id":126527643,"body_markdown":"https://i.stack.imgur.com/rQ4Uo.png","body":"<a href=\"https://i.stack.imgur.com/rQ4Uo.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/rQ4Uo.png</a>"}],"answers":[{"tags":[],"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648053974,"creation_date":1648053974,"answer_id":71590982,"question_id":71587602,"body_markdown":"Here is what you can do.\r\nCreate a private list in your activity.\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)  {\r\n            super.onCreate(savedInstanceState);\r\n            myModel = new ArrayList&lt;&gt;();\r\n        }\r\nNow change the constructor of your adapter.\r\n\r\n     public Handler_Adapter(Context context, ArrayList&lt;MyModels&gt; list, ...) \r\n     {\r\n      ...\r\n      this.myModelList = list;\r\n      ...\r\n      }\r\nNow when you modify &quot;myModel&quot; than this is visible to your adapter.\r\nAll you have to do is to call the following once you modify it.\r\n\r\n    mHandlerAdapter.notifyDataSetChanged();\r\n","title":"How to pass data from a user activity to a recyclerview?","body":"<p>Here is what you can do.\nCreate a private list in your activity.</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState)  {\n        super.onCreate(savedInstanceState);\n        myModel = new ArrayList&lt;&gt;();\n    }\n</code></pre>\n<p>Now change the constructor of your adapter.</p>\n<pre><code> public Handler_Adapter(Context context, ArrayList&lt;MyModels&gt; list, ...) \n {\n  ...\n  this.myModelList = list;\n  ...\n  }\n</code></pre>\n<p>Now when you modify &quot;myModel&quot; than this is visible to your adapter.\nAll you have to do is to call the following once you modify it.</p>\n<pre><code>mHandlerAdapter.notifyDataSetChanged();\n</code></pre>\n"}],"owner":{"account_id":23881538,"reputation":1,"user_id":17882168,"display_name":"Azami"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":923,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1648130504,"creation_date":1648040011,"question_id":71587602,"body_markdown":"I want to make a interface which user can add its data to activity and after its must be show on in recyclerview, I used manual data adding in code it&#39;s working but I want to user must be able to store its data on application and can see &amp; modified.\r\n\r\nI used put_extra function but is not working.`\r\n\r\n\r\n    [code for put_put Extra]\r\n\r\n**Here is adapter class:**\r\n\r\n    public class Handler_Adapter extends RecyclerView.Adapter&lt;Handler_Adapter.MyViewHolders&gt; {\r\n        ArrayList&lt;MyMode&gt; myModel;\r\n        View ReceivedImages;\r\n        Context context;\r\n        public Handler_Adapter (Context context, ArrayList&lt;MyMode&gt; list, View myImagesF){\r\n           this.context=context;\r\n            this.myModel=list;\r\n            ReceivedImages=myImagesF;\r\n        }\r\n    \r\n        @Override\r\n        public MyViewHolders onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater= LayoutInflater.from(context);\r\n            View view = inflater.inflate(R.layout.row,parent,false);\r\n            return null;\r\n        }\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolders holder, int position) {\r\n        holder.EName.setText(myModel.get(position).getLangName());\r\n        holder.E_Des.setText(myModel.get(position).getLangName());\r\n        holder.Price.setText(myModel.get(position).getLangName());\r\n        holder.itemsSize.setText(myModel.get(position).getLangName());\r\n        holder.myImages.setImageResource(myModel.get(position).getLangLogo());\r\n        holder.rows.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() { return myModel.size();\r\n    }\r\n\r\n    public class MyViewHolders extends RecyclerView.ViewHolder {\r\n        TextView EName,E_Des,Price,itemsSize;\r\n        ImageView myImages;\r\n        RelativeLayout rows;\r\n        public MyViewHolders(@NonNull View itemView) {\r\n            super(itemView);\r\n            EName=itemView.findViewById(R.id.EName);\r\n            E_Des=itemView.findViewById(R.id.E_Des);\r\n        ReceivedImages=itemView.findViewById(R.id.my_Imaage);\r\n            Price=itemView.findViewById(R.id.E_Price);\r\n            itemsSize=itemView.findViewById(R.id.itemsSize);\r\n           rows=itemView.findViewById(R.id.rows);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n**Here is UserActivity**\r\n\r\n    public class AddMenu extends AppCompatActivity {\r\n    public static final String TEXT_TO_SEND=&quot;com.example.EMenu.TEXT_TO_SEND&quot;;\r\n    private ImageView mImageView;\r\n    private EditText EName,E_Des,E_Price,E_size;\r\n    private Button Import;\r\n    private String TextToSend;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_menu);\r\n    \r\n    \r\n    \r\n            mImageView=findViewById(R.id.imageFilterView);\r\n            mImageView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ImagePicker.Companion.with(AddMenu.this)\r\n                    .crop()\r\n                   // .cropOval()\r\n                            .compress(1024)\r\n                            .maxResultSize(1080,1080)\r\n                            .start();\r\n                }\r\n            });\r\n        Import=findViewById(R.id.Import);\r\n        EName=findViewById(R.id.EName);\r\n        E_Des=findViewById(R.id.E_Des);\r\n        E_Price=findViewById(R.id.E_Price);\r\n        E_size=findViewById(R.id.E_size);\r\n        Import.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                 TextToSend=EName.toString().toUpperCase().trim();\r\n                 TextToSend=E_Des.toString().toLowerCase().trim();\r\n                 TextToSend=E_Price.toString().toUpperCase().trim();\r\n                 TextToSend=E_size.toString().toUpperCase().trim();\r\n                gotoActivity();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void gotoActivity() {\r\n        Intent on=new Intent(AddMenu.this,Mainpage.class);\r\n         on.putExtra(&quot;Selected_Image&quot;,R.id.imageFilterView);\r\n           on.putExtra(TEXT_TO_SEND, String.valueOf(EName).toUpperCase());\r\n           on.putExtra(TEXT_TO_SEND, String.valueOf(E_Des));\r\n           on.putExtra(TEXT_TO_SEND, String.valueOf (E_Price).toUpperCase());\r\n           on.putExtra(TEXT_TO_SEND, String.valueOf(E_size).toUpperCase());\r\n        startActivity(on);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        Uri uri=data.getData();\r\n        mImageView.setImageURI(uri);\r\n    }\r\n\r\n\r\n**Main page code_ at there is\r\n&gt;  used adding images manually\r\n but I want to its added it by user activity**\r\n\r\n\r\n    public class Mainpage extends AppCompatActivity {\r\n        RecyclerView Recycler;\r\n        ArrayList&lt;MainModels&gt; mainModel;\r\n        MainAdapter mainAdapter;\r\n        Handler_Adapter mHandler_adapter;\r\n        ArrayList&lt;MyMode&gt; myModel;\r\n        SearchView SearchView;\r\n        ImageView mImageView,myImagesF;\r\n    \r\n        ////////////////////////////////////////////////////////: Images resource file..\r\n        String s1[],s2[],s3[],s4[];\r\n    \r\n        /////////////////////////////////////////////////////.......... continue..............\r\n        RecyclerView recyclerView;\r\n        NavigationView click;\r\n        private FirebaseAuth fAuth;\r\n        private String currentUserId;\r\n        private DatabaseReference databaseReference;\r\n        Button Navigation;\r\n        //Menu Account,Settings,Restaurant,Menu;\r\n        private DrawerLayout mDrawerLayout;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_mainpage);\r\n            myModel = new ArrayList&lt;&gt;();\r\n            int images[]={R.drawable.delfina_cocciardi_ndpbk_d_03m_unsplash,R.drawable.ic_launcher_foreground,\r\n                    R.drawable.ic_launcher_foreground,R.drawable.ic_launcher_foreground,R.drawable.ic_launcher_foreground    };\r\n             /////////////////////////////////////.......Goat it data from input data fragment\r\n        mImageView=findViewById(R.id.my_Imaage);\r\n        Bundle bundle=getIntent().getExtras();\r\n        if (bundle != null){\r\n            int res_image=bundle.getInt(&quot;Selected_Image&quot;);\r\n//            mImageView.setImageResource(res_image);\r\n\r\n        }\r\n        //////////////////////////////////////////////////................!!!\r\n\r\n        recyclerView=findViewById(R.id.recyclerView);\r\n        Intent intent=getIntent();\r\n        s1=getResources().getStringArray(R.array.Menu_items);\r\n        s2=getResources().getStringArray(R.array.Description);\r\n        s3=getResources().getStringArray(R.array.Prices);\r\n        s4=getResources().getStringArray(R.array.Prices);\r\n        Adapter mAdapter=new Adapter(this,s1,s2,s3,s4,images);\r\n        recyclerView.setAdapter(mAdapter);\r\n        recyclerView.setLayoutManager(new GridLayoutManager(this,2,RecyclerView.VERTICAL,false));\r\n\r\n\r\n        /*\r\n        recyclerView=findViewById(R.id.recyclerView);\r\n        Integer[] langLogos={R.id.imageFilterView};\r\n\r\n        Intent intent=getIntent();\r\n        String langNames=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\r\n        if (langNames!=null){\r\n            TextView textView=findViewById(R.id.Menu_Name);\r\n            textView.setText(langNames);\r\n        }\r\n\r\n        String langPrice=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\r\n        if (langPrice!=null){\r\n            TextView textView2=findViewById(R.id.Description_name);\r\n            textView2.setText(langPrice);\r\n        }\r\n        String langDisc=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\r\n        if (langDisc!=null){\r\n            TextView textView3=findViewById(R.id.Price);\r\n            textView3.setText(langDisc);\r\n        }\r\n        String langSize=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\r\n        if (langSize!=null){\r\n            TextView textView4=findViewById(R.id.itemsSize);\r\n            textView4.setText(langSize);\r\n        }\r\n\r\n        myModel=new ArrayList&lt;&gt;();\r\n        MyMode so=new MyMode(langLogos,langNames,langDisc,langPrice,langSize);\r\n        myModel.add(so);\r\n        GridLayoutManager gridLayoutManager= new GridLayoutManager(Mainpage.this,2,GridLayoutManager.VERTICAL,false);\r\n        recyclerView.setLayoutManager(gridLayoutManager);\r\n        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        mHandler_adapter=new Handler_Adapter(Mainpage.this,myModel,myImagesF);\r\n        recyclerView.setAdapter(mHandler_adapter);\r\n\r\n\r\n         */\r\n       // for (int j=0;j&lt;langLogos.length;j++){\r\n      //  }\r\n","title":"How to pass data from a user activity to a recyclerview?","body":"<p>I want to make a interface which user can add its data to activity and after its must be show on in recyclerview, I used manual data adding in code it's working but I want to user must be able to store its data on application and can see &amp; modified.</p>\n<p>I used put_extra function but is not working.`</p>\n<pre><code>[code for put_put Extra]\n</code></pre>\n<p><strong>Here is adapter class:</strong></p>\n<pre><code>public class Handler_Adapter extends RecyclerView.Adapter&lt;Handler_Adapter.MyViewHolders&gt; {\n    ArrayList&lt;MyMode&gt; myModel;\n    View ReceivedImages;\n    Context context;\n    public Handler_Adapter (Context context, ArrayList&lt;MyMode&gt; list, View myImagesF){\n       this.context=context;\n        this.myModel=list;\n        ReceivedImages=myImagesF;\n    }\n\n    @Override\n    public MyViewHolders onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater= LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.row,parent,false);\n        return null;\n    }\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolders holder, int position) {\n    holder.EName.setText(myModel.get(position).getLangName());\n    holder.E_Des.setText(myModel.get(position).getLangName());\n    holder.Price.setText(myModel.get(position).getLangName());\n    holder.itemsSize.setText(myModel.get(position).getLangName());\n    holder.myImages.setImageResource(myModel.get(position).getLangLogo());\n    holder.rows.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n        }\n    });\n}\n\n@Override\npublic int getItemCount() { return myModel.size();\n}\n\npublic class MyViewHolders extends RecyclerView.ViewHolder {\n    TextView EName,E_Des,Price,itemsSize;\n    ImageView myImages;\n    RelativeLayout rows;\n    public MyViewHolders(@NonNull View itemView) {\n        super(itemView);\n        EName=itemView.findViewById(R.id.EName);\n        E_Des=itemView.findViewById(R.id.E_Des);\n    ReceivedImages=itemView.findViewById(R.id.my_Imaage);\n        Price=itemView.findViewById(R.id.E_Price);\n        itemsSize=itemView.findViewById(R.id.itemsSize);\n       rows=itemView.findViewById(R.id.rows);\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Here is UserActivity</strong></p>\n<pre><code>public class AddMenu extends AppCompatActivity {\npublic static final String TEXT_TO_SEND=&quot;com.example.EMenu.TEXT_TO_SEND&quot;;\nprivate ImageView mImageView;\nprivate EditText EName,E_Des,E_Price,E_size;\nprivate Button Import;\nprivate String TextToSend;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_menu);\n\n\n\n        mImageView=findViewById(R.id.imageFilterView);\n        mImageView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ImagePicker.Companion.with(AddMenu.this)\n                .crop()\n               // .cropOval()\n                        .compress(1024)\n                        .maxResultSize(1080,1080)\n                        .start();\n            }\n        });\n    Import=findViewById(R.id.Import);\n    EName=findViewById(R.id.EName);\n    E_Des=findViewById(R.id.E_Des);\n    E_Price=findViewById(R.id.E_Price);\n    E_size=findViewById(R.id.E_size);\n    Import.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n             TextToSend=EName.toString().toUpperCase().trim();\n             TextToSend=E_Des.toString().toLowerCase().trim();\n             TextToSend=E_Price.toString().toUpperCase().trim();\n             TextToSend=E_size.toString().toUpperCase().trim();\n            gotoActivity();\n        }\n    });\n}\n\nprivate void gotoActivity() {\n    Intent on=new Intent(AddMenu.this,Mainpage.class);\n     on.putExtra(&quot;Selected_Image&quot;,R.id.imageFilterView);\n       on.putExtra(TEXT_TO_SEND, String.valueOf(EName).toUpperCase());\n       on.putExtra(TEXT_TO_SEND, String.valueOf(E_Des));\n       on.putExtra(TEXT_TO_SEND, String.valueOf (E_Price).toUpperCase());\n       on.putExtra(TEXT_TO_SEND, String.valueOf(E_size).toUpperCase());\n    startActivity(on);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    Uri uri=data.getData();\n    mImageView.setImageURI(uri);\n}\n</code></pre>\n<p>**Main page code_ at there is</p>\n<blockquote>\n<p>used adding images manually\nbut I want to its added it by user activity**</p>\n</blockquote>\n<pre><code>public class Mainpage extends AppCompatActivity {\n    RecyclerView Recycler;\n    ArrayList&lt;MainModels&gt; mainModel;\n    MainAdapter mainAdapter;\n    Handler_Adapter mHandler_adapter;\n    ArrayList&lt;MyMode&gt; myModel;\n    SearchView SearchView;\n    ImageView mImageView,myImagesF;\n\n    ////////////////////////////////////////////////////////: Images resource file..\n    String s1[],s2[],s3[],s4[];\n\n    /////////////////////////////////////////////////////.......... continue..............\n    RecyclerView recyclerView;\n    NavigationView click;\n    private FirebaseAuth fAuth;\n    private String currentUserId;\n    private DatabaseReference databaseReference;\n    Button Navigation;\n    //Menu Account,Settings,Restaurant,Menu;\n    private DrawerLayout mDrawerLayout;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_mainpage);\n        myModel = new ArrayList&lt;&gt;();\n        int images[]={R.drawable.delfina_cocciardi_ndpbk_d_03m_unsplash,R.drawable.ic_launcher_foreground,\n                R.drawable.ic_launcher_foreground,R.drawable.ic_launcher_foreground,R.drawable.ic_launcher_foreground    };\n         /////////////////////////////////////.......Goat it data from input data fragment\n    mImageView=findViewById(R.id.my_Imaage);\n    Bundle bundle=getIntent().getExtras();\n    if (bundle != null){\n        int res_image=bundle.getInt(&quot;Selected_Image&quot;);\n</code></pre>\n<p>//            mImageView.setImageResource(res_image);</p>\n<pre><code>    }\n    //////////////////////////////////////////////////................!!!\n\n    recyclerView=findViewById(R.id.recyclerView);\n    Intent intent=getIntent();\n    s1=getResources().getStringArray(R.array.Menu_items);\n    s2=getResources().getStringArray(R.array.Description);\n    s3=getResources().getStringArray(R.array.Prices);\n    s4=getResources().getStringArray(R.array.Prices);\n    Adapter mAdapter=new Adapter(this,s1,s2,s3,s4,images);\n    recyclerView.setAdapter(mAdapter);\n    recyclerView.setLayoutManager(new GridLayoutManager(this,2,RecyclerView.VERTICAL,false));\n\n\n    /*\n    recyclerView=findViewById(R.id.recyclerView);\n    Integer[] langLogos={R.id.imageFilterView};\n\n    Intent intent=getIntent();\n    String langNames=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\n    if (langNames!=null){\n        TextView textView=findViewById(R.id.Menu_Name);\n        textView.setText(langNames);\n    }\n\n    String langPrice=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\n    if (langPrice!=null){\n        TextView textView2=findViewById(R.id.Description_name);\n        textView2.setText(langPrice);\n    }\n    String langDisc=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\n    if (langDisc!=null){\n        TextView textView3=findViewById(R.id.Price);\n        textView3.setText(langDisc);\n    }\n    String langSize=intent.getStringExtra(AddMenu.TEXT_TO_SEND);\n    if (langSize!=null){\n        TextView textView4=findViewById(R.id.itemsSize);\n        textView4.setText(langSize);\n    }\n\n    myModel=new ArrayList&lt;&gt;();\n    MyMode so=new MyMode(langLogos,langNames,langDisc,langPrice,langSize);\n    myModel.add(so);\n    GridLayoutManager gridLayoutManager= new GridLayoutManager(Mainpage.this,2,GridLayoutManager.VERTICAL,false);\n    recyclerView.setLayoutManager(gridLayoutManager);\n    recyclerView.setItemAnimator(new DefaultItemAnimator());\n    mHandler_adapter=new Handler_Adapter(Mainpage.this,myModel,myImagesF);\n    recyclerView.setAdapter(mHandler_adapter);\n\n\n     */\n   // for (int j=0;j&lt;langLogos.length;j++){\n  //  }\n</code></pre>\n"},{"tags":["java","android","android-studio","exception","build"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":1,"creation_date":1648043729,"post_id":71587423,"comment_id":126524200,"body_markdown":"on which line of code does it not work?","body":"on which line of code does it not work?"},{"owner":{"account_id":4797714,"reputation":185,"user_id":3875151,"display_name":"9 Guy"},"score":0,"creation_date":1655218975,"post_id":71587423,"comment_id":128277604,"body_markdown":"The error does not specify. Source: also experiencing this issue. Log is : ```10:00:11 AM: Executing &#39;:classes&#39;...\n\n10:00:11 AM: Execution finished &#39;:classes&#39;.```   \n\nThen error","body":"The error does not specify. Source: also experiencing this issue. Log is : <code>10:00:11 AM: Executing &#39;:classes&#39;...  10:00:11 AM: Execution finished &#39;:classes&#39;.</code>     Then error"}],"answers":[{"tags":[],"owner":{"account_id":24660105,"reputation":11,"user_id":18556426,"display_name":"DomS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648130408,"creation_date":1648130408,"answer_id":71603865,"question_id":71587423,"body_markdown":"Following the thread on: https://github.com/googlesamples/android-testdpc/issues/136\r\nI updated gradle which solved both issues.\r\nRemark: I sticked to my original JDK.","title":"Building apps with Android Studio failing - Unable to make field private static final java.util.Map","body":"<p>Following the thread on: <a href=\"https://github.com/googlesamples/android-testdpc/issues/136\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-testdpc/issues/136</a>\nI updated gradle which solved both issues.\nRemark: I sticked to my original JDK.</p>\n"}],"owner":{"account_id":24660105,"reputation":11,"user_id":18556426,"display_name":"DomS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648130408,"creation_date":1648039316,"question_id":71587423,"body_markdown":"I am new here and just started with Android Studio (Coursera Learning) and have continous problems to build and run the provided apps.\r\n\r\nSetup:\r\n - Windows 10\r\n - Android Studio Bumblebee | 2021.1.1 Patch 2\r\n - SDK Platform Packages: Android API 32; Android 11.0(R)\r\n - Configured Environment Variable in Windows: JAVA_HOME = C:\\Program Files (x86)\\Java\\jre1.8.0_321\r\n - Gradle JDK: C:/Program Files/Java/jdk-17.0.2\r\n\r\nI could successfully build and run the first provided app on a virtual device.\r\n\r\nHowever, when I try to build and run the second app (which has just some extension to the first app) I get following error when building with the same setup:\r\n\r\n**Unable to make field private static final java.util.Map java.lang.ProcessEnvironment.theCaseInsensitiveEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7dc36524**\r\n\r\n[Failure Screenshot - same setup][1]\r\n\r\n\r\n\r\n\r\nWhen I use the embedded JDK, I get following error:\r\n\r\n**Algorithm HmacPBESHA256 not available**\r\n\r\n[Failure description - different JDK][2]\r\n\r\nI really dont know what is the reason and why the apps behave differently, so I appreciate every hint or help. Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGJMW.png\r\n  [2]: https://i.stack.imgur.com/eN04C.png","title":"Building apps with Android Studio failing - Unable to make field private static final java.util.Map","body":"<p>I am new here and just started with Android Studio (Coursera Learning) and have continous problems to build and run the provided apps.</p>\n<p>Setup:</p>\n<ul>\n<li>Windows 10</li>\n<li>Android Studio Bumblebee | 2021.1.1 Patch 2</li>\n<li>SDK Platform Packages: Android API 32; Android 11.0(R)</li>\n<li>Configured Environment Variable in Windows: JAVA_HOME = C:\\Program Files (x86)\\Java\\jre1.8.0_321</li>\n<li>Gradle JDK: C:/Program Files/Java/jdk-17.0.2</li>\n</ul>\n<p>I could successfully build and run the first provided app on a virtual device.</p>\n<p>However, when I try to build and run the second app (which has just some extension to the first app) I get following error when building with the same setup:</p>\n<p><strong>Unable to make field private static final java.util.Map java.lang.ProcessEnvironment.theCaseInsensitiveEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7dc36524</strong></p>\n<p><a href=\"https://i.stack.imgur.com/nGJMW.png\" rel=\"nofollow noreferrer\">Failure Screenshot - same setup</a></p>\n<p>When I use the embedded JDK, I get following error:</p>\n<p><strong>Algorithm HmacPBESHA256 not available</strong></p>\n<p><a href=\"https://i.stack.imgur.com/eN04C.png\" rel=\"nofollow noreferrer\">Failure description - different JDK</a></p>\n<p>I really dont know what is the reason and why the apps behave differently, so I appreciate every hint or help. Thank you!</p>\n"},{"tags":["java","android","android-studio","kotlin","onkeyup"],"answers":[{"tags":[],"owner":{"account_id":5768402,"reputation":334,"user_id":4552585,"display_name":"Feryal Sharifzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648130398,"creation_date":1648130398,"answer_id":71603863,"question_id":71602043,"body_markdown":"I suggest using a delay on `ACTION_DOWN` and after the delay do your operation.\r\n\r\n    \r\n    private var volumeUpJob : Job? = null\r\n    override fun dispatchKeyEvent(event: KeyEvent): Boolean {\r\n        if (event.keyCode == KEYCODE_VOLUME_UP) {\r\n            if (event.action == ACTION_DOWN) {\r\n                if (volumeUpJob?.isActive != true) {\r\n                    volumeUpJob = lifecycleScope.launch {\r\n                        delay(5_000)\r\n                        println(&quot;pressed for 5 sec&quot;)\r\n                        // do your operation here\r\n                        volumeUpJob?.cancel()\r\n                    }\r\n                }\r\n            } else {\r\n                volumeUpJob?.cancel()\r\n            }\r\n        }\r\n        return super.dispatchKeyEvent(event)\r\n    }\r\n\r\nNote that you need to cancel the job when user pull their finger up of the button. and also when we caught the 5 seconds as well.","title":"Handle press on volume button for certain time","body":"<p>I suggest using a delay on <code>ACTION_DOWN</code> and after the delay do your operation.</p>\n<pre><code>private var volumeUpJob : Job? = null\noverride fun dispatchKeyEvent(event: KeyEvent): Boolean {\n    if (event.keyCode == KEYCODE_VOLUME_UP) {\n        if (event.action == ACTION_DOWN) {\n            if (volumeUpJob?.isActive != true) {\n                volumeUpJob = lifecycleScope.launch {\n                    delay(5_000)\n                    println(&quot;pressed for 5 sec&quot;)\n                    // do your operation here\n                    volumeUpJob?.cancel()\n                }\n            }\n        } else {\n            volumeUpJob?.cancel()\n        }\n    }\n    return super.dispatchKeyEvent(event)\n}\n</code></pre>\n<p>Note that you need to cancel the job when user pull their finger up of the button. and also when we caught the 5 seconds as well.</p>\n"}],"owner":{"account_id":24629819,"reputation":23,"user_id":18529181,"display_name":"Ayman Mazra&#39;awi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648130398,"creation_date":1648122874,"question_id":71602043,"body_markdown":"How can I handle press on volume button up for 5 seconds in this override function\r\n\r\n```\r\noverride fun dispatchKeyEvent(event: KeyEvent?): Boolean {\r\n        val action = event!!.action\r\n        return when (val keyCode = event.keyCode) {\r\n\r\n            //handle press on volume up button\r\n            KeyEvent.KEYCODE_VOLUME_UP -&gt; {\r\n                true\r\n            }\r\n\r\n       \r\n            else -&gt; super.dispatchKeyEvent(event)\r\n        }\r\n    } \r\n\r\n\r\n\r\n```","title":"Handle press on volume button for certain time","body":"<p>How can I handle press on volume button up for 5 seconds in this override function</p>\n<pre><code>override fun dispatchKeyEvent(event: KeyEvent?): Boolean {\n        val action = event!!.action\n        return when (val keyCode = event.keyCode) {\n\n            //handle press on volume up button\n            KeyEvent.KEYCODE_VOLUME_UP -&gt; {\n                true\n            }\n\n       \n            else -&gt; super.dispatchKeyEvent(event)\n        }\n    } \n\n\n\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1648077593,"post_id":71592894,"comment_id":126536299,"body_markdown":"*jdbc:mysql://(IP Address):3306/my_db* For that to work, the bind address of MySql would either have to be your LAN IP address or 0.0.0.0. Unfortunately the default is 127.0.0.1","body":"<i>jdbc:mysql://(IP Address):3306/my_db</i> For that to work, the bind address of MySql would either have to be your LAN IP address or 0.0.0.0. Unfortunately the default is 127.0.0.1"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1648130181,"post_id":71592894,"comment_id":126550276,"body_markdown":"PHPMyAdmin is not your database, it is a web application to execute queries against a database.","body":"PHPMyAdmin is not your database, it is a web application to execute queries against a database."},{"owner":{"account_id":24269085,"reputation":179,"user_id":18217497,"display_name":"Ghost"},"score":0,"creation_date":1648133671,"post_id":71592894,"comment_id":126551852,"body_markdown":"but the path I add is referring to what then?","body":"but the path I add is referring to what then?"}],"owner":{"account_id":24269085,"reputation":179,"user_id":18217497,"display_name":"Ghost"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648130144,"creation_date":1648063377,"question_id":71592894,"body_markdown":"For now I&#39;m using localhost \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/my_db\r\n\r\nHowever, when I change the path to the remote database path, it doesn&#39;t work and I get an error saying that the host (IP address) is  unauthorized to connect to the MySQL server.\r\n\r\nI passed this path for the database\r\n\r\n    spring.datasource.url=jdbc:mysql://(IP Address):3306/my_db\r\n\r\nAssuming that the database is already accessible and writable/readable if I type in the browser IP_Adress/phpmyadmin/index.php, how can I get access through Spring Boot ( I&#39;m using the root/&#39;&#39; so I have the highest privileges possible).\r\nNote that the use of the database is going to be in LAN and not in WAN.","title":"How to add remote MySQL database path in application.properties?","body":"<p>For now I'm using localhost</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/my_db\n</code></pre>\n<p>However, when I change the path to the remote database path, it doesn't work and I get an error saying that the host (IP address) is  unauthorized to connect to the MySQL server.</p>\n<p>I passed this path for the database</p>\n<pre><code>spring.datasource.url=jdbc:mysql://(IP Address):3306/my_db\n</code></pre>\n<p>Assuming that the database is already accessible and writable/readable if I type in the browser IP_Adress/phpmyadmin/index.php, how can I get access through Spring Boot ( I'm using the root/'' so I have the highest privileges possible).\nNote that the use of the database is going to be in LAN and not in WAN.</p>\n"},{"tags":["java","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1648130135,"creation_date":1533977316,"answer_id":51798043,"question_id":51798003,"body_markdown":"There are two ways to solve this problem.\r\n\r\ni. Disable jmx\r\n\r\nii. set default-domain and unique name( its required if you want to enable jmx and have multiple instance of same application)\r\n\r\n**For disable jmx:** \r\n\r\napplication.yml:\r\n\r\n    spring:\r\n      jmx:\r\n        enabled: false\r\n\r\nor application.properties:\r\n\r\n    spring.jmx.enabled= false\r\n\r\n**Set below properties if need to enable jmx.**\r\n\r\napplication.yml:\r\n\r\n    spring:\r\n      jmx:\r\n        default-domain: com.application.name\r\n        unique-names: true\r\n\r\nor application.properties:\r\n\r\n    spring.jmx.default-domain=com.application.name\r\n    ","title":"javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource","body":"<p>There are two ways to solve this problem.</p>\n<p>i. Disable jmx</p>\n<p>ii. set default-domain and unique name( its required if you want to enable jmx and have multiple instance of same application)</p>\n<p><strong>For disable jmx:</strong></p>\n<p>application.yml:</p>\n<pre><code>spring:\n  jmx:\n    enabled: false\n</code></pre>\n<p>or application.properties:</p>\n<pre><code>spring.jmx.enabled= false\n</code></pre>\n<p><strong>Set below properties if need to enable jmx.</strong></p>\n<p>application.yml:</p>\n<pre><code>spring:\n  jmx:\n    default-domain: com.application.name\n    unique-names: true\n</code></pre>\n<p>or application.properties:</p>\n<pre><code>spring.jmx.default-domain=com.application.name\n</code></pre>\n"}],"owner":{"account_id":10401880,"reputation":221,"user_id":7669884,"display_name":"Naranmandakh Tsogoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13139,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":1,"score":9,"last_activity_date":1648130135,"creation_date":1533976940,"question_id":51798003,"body_markdown":"How can i solve this problem? Which is best choice and how to do that\r\n\r\n1. set unique poolName \r\n2. destroy previous connection pool \r\n\r\n![error message screenshot][1]\r\n\r\n  [1]: https://i.stack.imgur.com/KBsUX.png\r\n\r\n\r\n    org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\r\n    11-Aug-2018 16:05:53.863 SEVERE [Catalina-startStop-1] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\r\n     java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[sss].StandardContext[]]\r\n            at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n            at java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n            at ..........\r\n    ...............\r\n    ......\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[sss].StandardContext[]]\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n            ... 6 more\r\n    Caused by: org.springframework.jmx.export.UnableToRegisterMBeanException: Unable to register MBean [HikariDataSource (HikariPool-2)] with key &#39;dataSource&#39;; nested exception is javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource\r\n            at org.springframework.jmx.export.MBeanExporter.registerBeanNameOrInstance(MBeanExporter.java:625)\r\n            at \r\n    ..........................\r\n    \r\n    org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5245)\r\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n            ... 6 more\r\n    Caused by: javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource\r\n            at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\r\n            at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\r\n            at .................\r\n    ............\r\n            at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)`","title":"javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource","body":"<p>How can i solve this problem? Which is best choice and how to do that</p>\n<ol>\n<li>set unique poolName</li>\n<li>destroy previous connection pool</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/KBsUX.png\" alt=\"error message screenshot\" /></p>\n<pre><code>org.apache.catalina.core.ApplicationContext.log Initializing Spring embedded WebApplicationContext\n11-Aug-2018 16:05:53.863 SEVERE [Catalina-startStop-1] org.apache.catalina.core.ContainerBase.startInternal A child container failed during start\n java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[sss].StandardContext[]]\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n        at ..........\n...............\n......\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[sss].StandardContext[]]\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n        ... 6 more\nCaused by: org.springframework.jmx.export.UnableToRegisterMBeanException: Unable to register MBean [HikariDataSource (HikariPool-2)] with key 'dataSource'; nested exception is javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource\n        at org.springframework.jmx.export.MBeanExporter.registerBeanNameOrInstance(MBeanExporter.java:625)\n        at \n..........................\n\norg.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5245)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        ... 6 more\nCaused by: javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource\n        at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)\n        at .................\n............\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)`\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":12362178,"reputation":4231,"user_id":9015942,"display_name":"Adrian K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648123387,"creation_date":1648120937,"answer_id":71601572,"question_id":71601096,"body_markdown":"The main point of using `callbackFlow` would be that it automatically registers and unregisters a listener upon being started/cancelled. A possible solution to deal with multiple callback methods would be to create corresponding event classes and emit those.\r\n\r\n```\r\nsealed interface ActionListenerEvent {\r\n    class Started(val actionId: Int) : ActionListenerEvent\r\n    class ProgressChanged(val actionId: Int, val progress: Float, val elementCreated: ExampleElement) : ActionListenerEvent\r\n    class Finished(val actionId: Int) : ActionListenerEvent\r\n}\r\n\r\n\r\nfun actionEvents() = callbackFlow {\r\n    val listener = object : ActionListener {\r\n        override fun actionStarted(actionId: Int) {\r\n            trySend(ActionListenerEvent.Started(actionId))\r\n        }\r\n\r\n        override fun actionProgress(actionId: Int, progress: Float, elementCreated: ExampleElement) {\r\n            trySend(ActionListenerEvent.ProgressChanged(actionId, progress, elementCreated))\r\n        }\r\n\r\n        override fun actionEnd(actionId: Int) {\r\n            trySend(ActionListenerEvent.Finished(actionId))\r\n        }\r\n    }\r\n\r\n    registerListener(listener)\r\n\r\n    awaitClose {\r\n        unregisterListener(listener)\r\n    }\r\n}\r\n```\r\n\r\n\r\nIf you want a solution that has more control over when your listener is registered/unregistered, you can also use `MutableSharedFlow` to expose the events.\r\n\r\n```\r\nclass MainProductor{\r\n    val events = MutableSharedFlow&lt;ActionListenerEvent&gt;() // may need to configure replay and buffer depending on your specific use case\r\n    private val listener  = object : ActionListener {\r\n        override fun actionStarted(actionId: Int) {\r\n            events.tryEmit(ActionListenerEvent.Started(actionId))\r\n        }\r\n\r\n        override fun actionProgress(actionId: Int, progress: Float, elementCreated: ExampleElement) {\r\n            events.tryEmit(ActionListenerEvent.ProgressChanged(actionId, progress, elementCreated))\r\n        }\r\n\r\n        override fun actionEnd(actionId: Int) {\r\n            events.tryEmit(ActionListenerEvent.Finished(actionId))\r\n        }\r\n    }\r\n    \r\n    fun start(){\r\n        registerListener(this.listener)\r\n    }\r\n    \r\n    fun stop(){\r\n        unregisterListener(this.listener)\r\n    }\r\n}\r\n```\r\n\r\n---- \r\n#### Edit: example usage\r\n\r\nAlthough I am not entirely sure about the expected behavior, especially what to do with the `elementCreated: ExampleElement` part, I would assume you want to display a list of currently running actions with their respective progress. Aggregating events into such a list might look something like this:\r\n\r\n```\r\ndata class RunningAction(val id: Int, val progress: Float)// TODO integrate &quot;elementCreated&quot;\r\n\r\nfun collectEvents() = flow {\r\n    val runningActions = mutableMapOf&lt;Int, RunningAction&gt;()\r\n    actionEvents().collect { event -&gt;\r\n        when (event) {\r\n            is ActionListenerEvent.Started -&gt; {\r\n                runningActions[event.actionId] = RunningAction(id = event.actionId, progress = 0f)\r\n            }\r\n            is ActionListenerEvent.ProgressChanged -&gt; {\r\n                val action = runningActions[event.actionId]\r\n                if(action != null){\r\n                    runningActions[event.actionId] = action.copy(progress = event.progress) // TODO integrate &quot;elementCreated&quot;\r\n                }\r\n            }\r\n            is ActionListenerEvent.Finished -&gt; {\r\n                runningActions.remove(event.actionId)\r\n            }\r\n        }\r\n        emit(runningActions.values)\r\n    }\r\n}\r\n```","title":"Convert java listeners to kotlin flow","body":"<p>The main point of using <code>callbackFlow</code> would be that it automatically registers and unregisters a listener upon being started/cancelled. A possible solution to deal with multiple callback methods would be to create corresponding event classes and emit those.</p>\n<pre><code>sealed interface ActionListenerEvent {\n    class Started(val actionId: Int) : ActionListenerEvent\n    class ProgressChanged(val actionId: Int, val progress: Float, val elementCreated: ExampleElement) : ActionListenerEvent\n    class Finished(val actionId: Int) : ActionListenerEvent\n}\n\n\nfun actionEvents() = callbackFlow {\n    val listener = object : ActionListener {\n        override fun actionStarted(actionId: Int) {\n            trySend(ActionListenerEvent.Started(actionId))\n        }\n\n        override fun actionProgress(actionId: Int, progress: Float, elementCreated: ExampleElement) {\n            trySend(ActionListenerEvent.ProgressChanged(actionId, progress, elementCreated))\n        }\n\n        override fun actionEnd(actionId: Int) {\n            trySend(ActionListenerEvent.Finished(actionId))\n        }\n    }\n\n    registerListener(listener)\n\n    awaitClose {\n        unregisterListener(listener)\n    }\n}\n</code></pre>\n<p>If you want a solution that has more control over when your listener is registered/unregistered, you can also use <code>MutableSharedFlow</code> to expose the events.</p>\n<pre><code>class MainProductor{\n    val events = MutableSharedFlow&lt;ActionListenerEvent&gt;() // may need to configure replay and buffer depending on your specific use case\n    private val listener  = object : ActionListener {\n        override fun actionStarted(actionId: Int) {\n            events.tryEmit(ActionListenerEvent.Started(actionId))\n        }\n\n        override fun actionProgress(actionId: Int, progress: Float, elementCreated: ExampleElement) {\n            events.tryEmit(ActionListenerEvent.ProgressChanged(actionId, progress, elementCreated))\n        }\n\n        override fun actionEnd(actionId: Int) {\n            events.tryEmit(ActionListenerEvent.Finished(actionId))\n        }\n    }\n    \n    fun start(){\n        registerListener(this.listener)\n    }\n    \n    fun stop(){\n        unregisterListener(this.listener)\n    }\n}\n</code></pre>\n<hr />\n<h4>Edit: example usage</h4>\n<p>Although I am not entirely sure about the expected behavior, especially what to do with the <code>elementCreated: ExampleElement</code> part, I would assume you want to display a list of currently running actions with their respective progress. Aggregating events into such a list might look something like this:</p>\n<pre><code>data class RunningAction(val id: Int, val progress: Float)// TODO integrate &quot;elementCreated&quot;\n\nfun collectEvents() = flow {\n    val runningActions = mutableMapOf&lt;Int, RunningAction&gt;()\n    actionEvents().collect { event -&gt;\n        when (event) {\n            is ActionListenerEvent.Started -&gt; {\n                runningActions[event.actionId] = RunningAction(id = event.actionId, progress = 0f)\n            }\n            is ActionListenerEvent.ProgressChanged -&gt; {\n                val action = runningActions[event.actionId]\n                if(action != null){\n                    runningActions[event.actionId] = action.copy(progress = event.progress) // TODO integrate &quot;elementCreated&quot;\n                }\n            }\n            is ActionListenerEvent.Finished -&gt; {\n                runningActions.remove(event.actionId)\n            }\n        }\n        emit(runningActions.values)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4531209,"reputation":1034,"user_id":3681634,"accept_rate":39,"display_name":"aeroxr1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71601572,"answer_count":1,"score":1,"last_activity_date":1648130115,"creation_date":1648118980,"question_id":71601096,"body_markdown":"I&#39;m developing on Android and in my source code there are a lot of listeners based on callback .\r\nI want to convert some part of those to a kotlin flow. \r\nI read many articles, where talks about callbackFlow, but I don&#39;t think it right choice to me.\r\n\r\nIn my case there is something like this:\r\n\r\n    interface ActionListener{\r\n\t   public void actionStarted(actionId:Int)\r\n\t   public void actionProgress(actionId:Int, elementCreated:ExampleElement)\r\n\t   public void actionEnd(actionId:Int)\r\n    }\r\n    \r\n    class MainProductor{\r\n       ActionListener actionListener;\r\n       \r\n       MainProductor(ActionListener actionListener){\r\n    \tthis.actionListener = actionListener\r\n       }\r\n       \r\n       void start(){\r\n    \t\t//start some heavy works that start to call actionListener\r\n       }\r\n    }\r\n\r\n**UseCase**:\r\nwhen I call start  some action with certain id starts and begin to create some ExampleElement\r\nIn the UI I have to show a list of ExampleElement produced by the actions with id A and with id B. \r\n\r\nIn the UI I have to show a progress when one of both action starts and until all elements produced by the two actionIds are been created, \r\n(this part is soo tricky)\r\n\r\nhow can continue to use this ActionListener and adapt it to new kotlin flow ? Is possible way ?\r\n","title":"Convert java listeners to kotlin flow","body":"<p>I'm developing on Android and in my source code there are a lot of listeners based on callback .\nI want to convert some part of those to a kotlin flow.\nI read many articles, where talks about callbackFlow, but I don't think it right choice to me.</p>\n<p>In my case there is something like this:</p>\n<pre><code>interface ActionListener{\n   public void actionStarted(actionId:Int)\n   public void actionProgress(actionId:Int, elementCreated:ExampleElement)\n   public void actionEnd(actionId:Int)\n}\n\nclass MainProductor{\n   ActionListener actionListener;\n   \n   MainProductor(ActionListener actionListener){\n    this.actionListener = actionListener\n   }\n   \n   void start(){\n        //start some heavy works that start to call actionListener\n   }\n}\n</code></pre>\n<p><strong>UseCase</strong>:\nwhen I call start  some action with certain id starts and begin to create some ExampleElement\nIn the UI I have to show a list of ExampleElement produced by the actions with id A and with id B.</p>\n<p>In the UI I have to show a progress when one of both action starts and until all elements produced by the two actionIds are been created,\n(this part is soo tricky)</p>\n<p>how can continue to use this ActionListener and adapt it to new kotlin flow ? Is possible way ?</p>\n"},{"tags":["java","kml","jak"],"answers":[{"tags":[],"owner":{"account_id":260424,"reputation":23080,"user_id":543969,"accept_rate":86,"display_name":"CodeMonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1506030578,"creation_date":1506030578,"answer_id":46353671,"question_id":46346531,"body_markdown":"Using Java API for KML (JAK), you can parse a KML file then extract its coordinates.\r\n\r\nHere is a snippet of Java code to extract the coordinates from a KML file.\r\n\r\n    JAXBContext jc = JAXBContext.newInstance(Kml.class);\r\n\r\n    // create KML reader to parse arbitrary KML into Java Object structure\r\n    Unmarshaller u = jc.createUnmarshaller();\r\n    Kml kml = (Kml) u.unmarshal(new File(&quot;test.kml&quot;));\r\n\r\n    Placemark placemark = (Placemark) kml.getFeature();\r\n    Polygon geom = (Polygon) placemark.getGeometry();\r\n    LinearRing linearRing = geom.getOuterBoundaryIs().getLinearRing();\r\n    List&lt;Coordinate&gt; coordinates = linearRing.getCoordinates();\r\n    for (Coordinate coordinate : coordinates) {\r\n        System.out.println(coordinate.getLongitude());\r\n        System.out.println(coordinate.getLatitude());\r\n        System.out.println(coordinate.getAltitude());\r\n    }","title":"Parsing kml in java","body":"<p>Using Java API for KML (JAK), you can parse a KML file then extract its coordinates.</p>\n\n<p>Here is a snippet of Java code to extract the coordinates from a KML file.</p>\n\n<pre><code>JAXBContext jc = JAXBContext.newInstance(Kml.class);\n\n// create KML reader to parse arbitrary KML into Java Object structure\nUnmarshaller u = jc.createUnmarshaller();\nKml kml = (Kml) u.unmarshal(new File(\"test.kml\"));\n\nPlacemark placemark = (Placemark) kml.getFeature();\nPolygon geom = (Polygon) placemark.getGeometry();\nLinearRing linearRing = geom.getOuterBoundaryIs().getLinearRing();\nList&lt;Coordinate&gt; coordinates = linearRing.getCoordinates();\nfor (Coordinate coordinate : coordinates) {\n    System.out.println(coordinate.getLongitude());\n    System.out.println(coordinate.getLatitude());\n    System.out.println(coordinate.getAltitude());\n}\n</code></pre>\n"}],"owner":{"account_id":8972448,"reputation":7,"user_id":6868897,"display_name":"user217053"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1502,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":46353671,"answer_count":1,"score":-2,"last_activity_date":1648129793,"creation_date":1506003939,"question_id":46346531,"body_markdown":"How to determine the latitude and longitude of a point in a polygon?   \r\n     \r\n\r\n\r\n\r\n    &lt;Polygon&gt;\r\n    &lt;extrude&gt;0&lt;/extrude&gt;\r\n    &lt;tessellate&gt;1&lt;/tessellate&gt;\r\n    &lt;altitudeMode&gt;clampToGround&lt;/altitudeMode&gt;\r\n    &lt;outerBoundaryIs&gt;\r\n    &lt;LinearRing&gt;\r\n    &lt;coordinates&gt;-88.346745,30.390702,0.0 -88.346823,30.389936,0.0 -88.345543,30.389914,0.0 -88.344316,30.389981,0.0 -88.342645,30.390004,0.0 -88.340765,30.390161,0.0 -88.335731,30.388969,0.0 -88.33412,30.388741,0.0 -88.33289,30.389146,0.0 -88.333095,30.389878,0.0 -88.335702,30.389727,0.0 -88.340504,30.391513,0.0 -88.341235,30.391738,0.0 -88.342384,30.391468,0.0 -88.343507,30.391445,0.0 -88.345047,30.3914,0.0 -88.346745,30.390702,0.0&lt;/coordinates&gt;\r\n    &lt;/LinearRing&gt;\r\n    &lt;/outerBoundaryIs&gt;\r\n    &lt;/Polygon&gt;`","title":"Parsing kml in java","body":"<p>How to determine the latitude and longitude of a point in a polygon?   </p>\n\n<pre><code>&lt;Polygon&gt;\n&lt;extrude&gt;0&lt;/extrude&gt;\n&lt;tessellate&gt;1&lt;/tessellate&gt;\n&lt;altitudeMode&gt;clampToGround&lt;/altitudeMode&gt;\n&lt;outerBoundaryIs&gt;\n&lt;LinearRing&gt;\n&lt;coordinates&gt;-88.346745,30.390702,0.0 -88.346823,30.389936,0.0 -88.345543,30.389914,0.0 -88.344316,30.389981,0.0 -88.342645,30.390004,0.0 -88.340765,30.390161,0.0 -88.335731,30.388969,0.0 -88.33412,30.388741,0.0 -88.33289,30.389146,0.0 -88.333095,30.389878,0.0 -88.335702,30.389727,0.0 -88.340504,30.391513,0.0 -88.341235,30.391738,0.0 -88.342384,30.391468,0.0 -88.343507,30.391445,0.0 -88.345047,30.3914,0.0 -88.346745,30.390702,0.0&lt;/coordinates&gt;\n&lt;/LinearRing&gt;\n&lt;/outerBoundaryIs&gt;\n&lt;/Polygon&gt;`\n</code></pre>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"score":2,"creation_date":1648042160,"post_id":71587657,"comment_id":126523390,"body_markdown":"Do the tables have identical primary keys and different data, or different primary keys and the same data?","body":"Do the tables have identical primary keys and different data, or different primary keys and the same data?"},{"owner":{"account_id":24151685,"reputation":11,"user_id":18116437,"display_name":"prenses_mahmut"},"score":0,"creation_date":1648098841,"post_id":71587657,"comment_id":126539555,"body_markdown":"There can be different data with same primary key, so comparing with primaries are not true in my problem.","body":"There can be different data with same primary key, so comparing with primaries are not true in my problem."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648131539,"post_id":71587657,"comment_id":126550891,"body_markdown":"Can either table be missing IDs?","body":"Can either table be missing IDs?"},{"owner":{"account_id":24151685,"reputation":11,"user_id":18116437,"display_name":"prenses_mahmut"},"score":0,"creation_date":1648707500,"post_id":71587657,"comment_id":126693779,"body_markdown":"@Bohemian, no ids are primary","body":"@Bohemian, no ids are primary"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648724724,"post_id":71587657,"comment_id":126700041,"body_markdown":"@prenses_mahmut that&#39;s not what I meant: I am asking if both tables have exactly the same ids for their rows, so that no table has an id that the other table does not.","body":"@prenses_mahmut that&#39;s not what I meant: I am asking if both tables have exactly the same ids for their rows, so that no table has an id that the other table does not."}],"answers":[{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648040984,"creation_date":1648040675,"answer_id":71587745,"question_id":71587657,"body_markdown":"What about pure SQL? You can translate it into JDBC then\r\n\r\nFrom [this website][1]\r\n\r\n    SELECT\r\n    \tID,\r\n    \tNAME,\r\n    \t&#39;not in bar&#39; AS note\r\n    FROM\r\n    \tfoo\r\n    EXCEPT\r\n    \tSELECT\r\n    \t\tID,\r\n    \t\tNAME,\r\n    \t\t&#39;not in bar&#39; AS note\r\n    \tFROM\r\n    \t\tbar\r\n\r\nOR this\r\n\r\n    SELECT\r\n    \tid,\r\n    \tname\r\n    FROM\r\n    \tfoo\r\n    FULL OUTER JOIN bar USING (id, name)\r\n    WHERE\r\n    \tfoo.id IS NULL\r\n    OR bar.id IS NULL;\r\n\r\n\r\n  [1]: https://www.postgresqltutorial.com/compare-two-tables-in-postgresql/","title":"How can I compare two same PostgreSQL tables for equality of the data at row level?","body":"<p>What about pure SQL? You can translate it into JDBC then</p>\n<p>From <a href=\"https://www.postgresqltutorial.com/compare-two-tables-in-postgresql/\" rel=\"nofollow noreferrer\">this website</a></p>\n<pre><code>SELECT\n    ID,\n    NAME,\n    'not in bar' AS note\nFROM\n    foo\nEXCEPT\n    SELECT\n        ID,\n        NAME,\n        'not in bar' AS note\n    FROM\n        bar\n</code></pre>\n<p>OR this</p>\n<pre><code>SELECT\n    id,\n    name\nFROM\n    foo\nFULL OUTER JOIN bar USING (id, name)\nWHERE\n    foo.id IS NULL\nOR bar.id IS NULL;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648120939,"creation_date":1648120939,"answer_id":71601573,"question_id":71587657,"body_markdown":"Based on your comment, you have the same primary key but may have different data.\r\nLets consider two tables `customer` and `customer_backup` with the following schema:\r\n\r\n    create table customer (id integer, firstname varchar(100), lastname varchar(100));\r\n\t\tinsert into customer (id, firstname, lastname) values (1, &#39;John&#39;, &#39;Doe&#39;);\r\n\t\tinsert into customer (id, firstname, lastname) values (2, &#39;Test&#39;, &#39;Test&#39;);\r\n\t\tinsert into customer (id, firstname, lastname) values (3, &#39;Jack&#39;, &#39;Smith&#39;);\r\n        \r\n    create table customer_backup (id integer, firstname varchar(100), lastname varchar(100));\r\n\t\tinsert into customer_backup (id, firstname, lastname) values (1, &#39;John&#39;, &#39;Doe&#39;);\r\n\t\tinsert into customer_backup (id, firstname, lastname) values (2, &#39;Test&#39;, &#39;Jack&#39;);\r\n\t\tinsert into customer_backup (id, firstname, lastname) values (3, &#39;Will&#39;, &#39;Smith&#39;);\r\n\r\nSo to find the diffrences you could specify in the `where` clause all the fields from the first table, that must not be equal to all the fields from the second table:\r\n\r\n    select *\r\n    from customer c\r\n             join customer_backup b on c.id = b.id\r\n    where c.firstname &lt;&gt; b.firstname\r\n       or c.lastname &lt;&gt; b.lastname\r\n     # or c.otherField &lt;&gt; (not equal) b.otherField\r\n\r\nYou can check this [working example][1].\r\n\r\n\r\n  [1]: http://sqlfiddle.com/#!17/3076d4/6","title":"How can I compare two same PostgreSQL tables for equality of the data at row level?","body":"<p>Based on your comment, you have the same primary key but may have different data.\nLets consider two tables <code>customer</code> and <code>customer_backup</code> with the following schema:</p>\n<pre><code>create table customer (id integer, firstname varchar(100), lastname varchar(100));\n    insert into customer (id, firstname, lastname) values (1, 'John', 'Doe');\n    insert into customer (id, firstname, lastname) values (2, 'Test', 'Test');\n    insert into customer (id, firstname, lastname) values (3, 'Jack', 'Smith');\n    \ncreate table customer_backup (id integer, firstname varchar(100), lastname varchar(100));\n    insert into customer_backup (id, firstname, lastname) values (1, 'John', 'Doe');\n    insert into customer_backup (id, firstname, lastname) values (2, 'Test', 'Jack');\n    insert into customer_backup (id, firstname, lastname) values (3, 'Will', 'Smith');\n</code></pre>\n<p>So to find the diffrences you could specify in the <code>where</code> clause all the fields from the first table, that must not be equal to all the fields from the second table:</p>\n<pre><code>select *\nfrom customer c\n         join customer_backup b on c.id = b.id\nwhere c.firstname &lt;&gt; b.firstname\n   or c.lastname &lt;&gt; b.lastname\n # or c.otherField &lt;&gt; (not equal) b.otherField\n</code></pre>\n<p>You can check this <a href=\"http://sqlfiddle.com/#!17/3076d4/6\" rel=\"nofollow noreferrer\">working example</a>.</p>\n"}],"owner":{"account_id":24151685,"reputation":11,"user_id":18116437,"display_name":"prenses_mahmut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648129655,"creation_date":1648040289,"question_id":71587657,"body_markdown":"I want to compare two same PostgreSQL tables to check if they are equals in rows data, so if they are not equals I want to see the different rows. How can I do that automatically? Is there any library or a tool for that?\r\n\r\n(I need to check that with Java language but if you know other ways please share)","title":"How can I compare two same PostgreSQL tables for equality of the data at row level?","body":"<p>I want to compare two same PostgreSQL tables to check if they are equals in rows data, so if they are not equals I want to see the different rows. How can I do that automatically? Is there any library or a tool for that?</p>\n<p>(I need to check that with Java language but if you know other ways please share)</p>\n"},{"tags":["java","spring-boot","spring-websocket","stomp","sockjs"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648128724,"post_id":71603377,"comment_id":126549544,"body_markdown":"FWIW, STOMP is just a protocol. It doesn&#39;t &quot;give&quot; TCP connection failures or disconnection errors. The server which implements STOMP does that.","body":"FWIW, STOMP is just a protocol. It doesn&#39;t &quot;give&quot; TCP connection failures or disconnection errors. The server which implements STOMP does that."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648128788,"post_id":71603377,"comment_id":126549574,"body_markdown":"More information is needed. Code block or sample code of server side implementation","body":"More information is needed. Code block or sample code of server side implementation"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648128829,"post_id":71603377,"comment_id":126549599,"body_markdown":"You send Disconnect but channel is already closed.","body":"You send Disconnect but channel is already closed."},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1648129001,"post_id":71603377,"comment_id":126549679,"body_markdown":"@Gurkanİlleez Disconnect is send from the frontend side right?","body":"@Gurkanİlleez Disconnect is send from the frontend side right?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648129048,"post_id":71603377,"comment_id":126549696,"body_markdown":"yes it seems so","body":"yes it seems so"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1648129124,"post_id":71603377,"comment_id":126549737,"body_markdown":"@Gurkanİlleez if that&#39;s the case how does it cause error in the backend? Where is disconnection being forwarded to?","body":"@Gurkanİlleez if that&#39;s the case how does it cause error in the backend? Where is disconnection being forwarded to?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648129262,"post_id":71603377,"comment_id":126549807,"body_markdown":"When you send Disconnect and you get Disconnect logic from backend. If you immediately closes socket no response will  be given and throws exception like in example. How are you closing your socket? can you send detail?","body":"When you send Disconnect and you get Disconnect logic from backend. If you immediately closes socket no response will  be given and throws exception like in example. How are you closing your socket? can you send detail?"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1648129516,"post_id":71603377,"comment_id":126549922,"body_markdown":"@JustinBertram I have added more details to this question. Do you see any reason why this would be happening?","body":"@JustinBertram I have added more details to this question. Do you see any reason why this would be happening?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1648130328,"post_id":71603377,"comment_id":126550350,"body_markdown":"IMHO it is related to server side","body":"IMHO it is related to server side"},{"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"score":0,"creation_date":1648130583,"post_id":71603377,"comment_id":126550466,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243288/discussion-between-pacman-and-gurkan-lleez).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243288/discussion-between-pacman-and-gurkan-lleez\">continue this discussion in chat</a>."}],"owner":{"account_id":11322917,"reputation":765,"user_id":15074748,"display_name":"pacman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648129439,"creation_date":1648128425,"question_id":71603377,"body_markdown":"I have been using STOMP and sockjs for some time now, but the error below happens at times. \r\n```\r\n12:57:30.976 [48] [tcp-client-loop-nio-4] INFO  org.springframework.messaging.simp.stomp.StompBrokerRelayMessageHandler - TCP connection failure in session w6s21o5d: failed to forward DISCONNECT session=w6s21o5d\r\nreactor.netty.channel.AbortedException: io.netty.channel.StacklessClosedChannelException\r\n  at reactor.netty.FutureMono$FutureSubscription.wrapError(FutureMono.java:186) ~[reactor-netty-core-1.0.7.jar!/:1.0.7]\r\n  at reactor.netty.FutureMono$FutureSubscription.operationComplete(FutureMono.java:177) [reactor-netty-core-1.0.7.jar!/:1.0.7]\r\n  at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:1021) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:882) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:304) [netty-handler-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\r\n  at java.lang.Thread.run(Thread.java:829) [?:?]\r\nCaused by: io.netty.channel.StacklessClosedChannelException\r\n```\r\nThe disconnection message is send from frontend as shown below before page reload.\r\n\r\n```\r\n    window.addEventListener(&quot;beforeunload&quot;, function () {\r\n        client.disconnect(function () {\r\n            log(&quot;disconnect websocket..&quot;);\r\n        });\r\n    });\r\n```\r\nNo logic is written in backend to handle this spring-stomp handles rest of it.\r\n\r\nI have gone through resources in STOMP and there is still no explanation on why or exactly on what scenarios this is happening. What could be the possible reasons for this error.","title":"Stomp gives TCP connection failure and disconnection error","body":"<p>I have been using STOMP and sockjs for some time now, but the error below happens at times.</p>\n<pre><code>12:57:30.976 [48] [tcp-client-loop-nio-4] INFO  org.springframework.messaging.simp.stomp.StompBrokerRelayMessageHandler - TCP connection failure in session w6s21o5d: failed to forward DISCONNECT session=w6s21o5d\nreactor.netty.channel.AbortedException: io.netty.channel.StacklessClosedChannelException\n  at reactor.netty.FutureMono$FutureSubscription.wrapError(FutureMono.java:186) ~[reactor-netty-core-1.0.7.jar!/:1.0.7]\n  at reactor.netty.FutureMono$FutureSubscription.operationComplete(FutureMono.java:177) [reactor-netty-core-1.0.7.jar!/:1.0.7]\n  at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:1021) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:882) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:709) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:792) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:702) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.handler.timeout.IdleStateHandler.write(IdleStateHandler.java:304) [netty-handler-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:717) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:764) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1071) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:497) [netty-transport-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.65.Final.jar!/:4.1.65.Final]\n  at java.lang.Thread.run(Thread.java:829) [?:?]\nCaused by: io.netty.channel.StacklessClosedChannelException\n</code></pre>\n<p>The disconnection message is send from frontend as shown below before page reload.</p>\n<pre><code>    window.addEventListener(&quot;beforeunload&quot;, function () {\n        client.disconnect(function () {\n            log(&quot;disconnect websocket..&quot;);\n        });\n    });\n</code></pre>\n<p>No logic is written in backend to handle this spring-stomp handles rest of it.</p>\n<p>I have gone through resources in STOMP and there is still no explanation on why or exactly on what scenarios this is happening. What could be the possible reasons for this error.</p>\n"},{"tags":["java","obfuscation","yguard"],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648129427,"creation_date":1648129427,"answer_id":71603630,"question_id":70879811,"body_markdown":"yGuard is able to replace either file/path names or class names in resource files, but not both at once.\r\n\r\nI.e.\r\n\r\n    &lt;adjust replaceContent=&quot;true&quot;&gt;\r\n\r\nwill adjust\r\n\r\n    &lt;example&gt;\r\n      &lt;class&gt;com.yworks.yguard.StringReplacer&lt;/class&gt;\r\n      &lt;file&gt;com/yworks/yguard/StringReplacer.properties&lt;/file&gt;\r\n    &lt;/example&gt;\r\n\r\nto\r\n\r\n    &lt;example&gt;\r\n      &lt;class&gt;com.yworks.yguard.StringReplacer&lt;/class&gt;\r\n      &lt;file&gt;A/A/A/SR.properties&lt;/file&gt;\r\n    &lt;/example&gt;\r\n\r\nWith\r\n\r\n    &lt;adjust replaceContent=&quot;true&quot; replaceContentSeparator=&quot;.&quot;&gt;\r\n\r\nthe result will be\r\n\r\n    &lt;example&gt;\r\n      &lt;class&gt;A.A.A.SR&lt;/class&gt;\r\n      &lt;file&gt;com/yworks/yguard/StringReplacer.properties&lt;/file&gt;\r\n    &lt;/example&gt;\r\n\r\nHowever, the desired result\r\n\r\n    &lt;example&gt;\r\n      &lt;class&gt;A.A.A.SR&lt;/class&gt;\r\n      &lt;file&gt;A/A/A/SR.properties&lt;/file&gt;\r\n    &lt;/example&gt;\r\n\r\nis not (yet) supported.","title":"Yguard does not modify my classnames properly (with the obfuscated ones)","body":"<p>yGuard is able to replace either file/path names or class names in resource files, but not both at once.</p>\n<p>I.e.</p>\n<pre><code>&lt;adjust replaceContent=&quot;true&quot;&gt;\n</code></pre>\n<p>will adjust</p>\n<pre><code>&lt;example&gt;\n  &lt;class&gt;com.yworks.yguard.StringReplacer&lt;/class&gt;\n  &lt;file&gt;com/yworks/yguard/StringReplacer.properties&lt;/file&gt;\n&lt;/example&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;example&gt;\n  &lt;class&gt;com.yworks.yguard.StringReplacer&lt;/class&gt;\n  &lt;file&gt;A/A/A/SR.properties&lt;/file&gt;\n&lt;/example&gt;\n</code></pre>\n<p>With</p>\n<pre><code>&lt;adjust replaceContent=&quot;true&quot; replaceContentSeparator=&quot;.&quot;&gt;\n</code></pre>\n<p>the result will be</p>\n<pre><code>&lt;example&gt;\n  &lt;class&gt;A.A.A.SR&lt;/class&gt;\n  &lt;file&gt;com/yworks/yguard/StringReplacer.properties&lt;/file&gt;\n&lt;/example&gt;\n</code></pre>\n<p>However, the desired result</p>\n<pre><code>&lt;example&gt;\n  &lt;class&gt;A.A.A.SR&lt;/class&gt;\n  &lt;file&gt;A/A/A/SR.properties&lt;/file&gt;\n&lt;/example&gt;\n</code></pre>\n<p>is not (yet) supported.</p>\n"}],"owner":{"account_id":1879731,"reputation":180,"user_id":1700201,"accept_rate":46,"display_name":"Ivan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648129427,"creation_date":1643291930,"question_id":70879811,"body_markdown":"I&#39;m trying to obfuscate a JAR file using the yguard 3.0.0 maven plugin. The obfuscated JAR is as almost as expected, it is shrinked and with all the private methods and variables renamed. I need that package names will be renamed too and this is performed, but the spring XML files needed to start my Tomcat are not being updated with the obfuscated packages.\r\n\r\nMy ant task is the following:\r\n\r\n````\r\n&lt;configuration&gt;\r\n \t&lt;tasks&gt;\r\n    \t&lt;property name=&quot;runtime-classpath&quot; refid=&quot;maven.runtime.classpath&quot;/&gt;\r\n    \t&lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${runtime-classpath}&quot;/&gt;\r\n       \t\t&lt;yguard&gt;\r\n           \t\t&lt;inoutpair in=&quot;C:/test/webapp.jar&quot; out=&quot;C:/test/webapp_obfuscated.jar&quot; /&gt;\r\n           \t\t&lt;shrink&gt;\r\n           \t\t\t&lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot;/&gt;\r\n           \t\t&lt;/shrink&gt;\r\n\t      \t    &lt;rename&gt;\r\n\t\t\t\t    &lt;adjust replaceContent=&quot;true&quot; replaceName=&quot;true&quot;&gt;\r\n            \t\t     &lt;include name=&quot;ApplicationContext.xml&quot;/&gt;\r\n        \t\t\t&lt;/adjust&gt;\r\n            \t&lt;/rename&gt;            \t\t\t\t\t                            \t\t\r\n            &lt;/yguard&gt;\r\n       &lt;/tasks&gt;\r\n&lt;/configuration&gt;\r\n````\r\n\r\nNote that here in my example, I&#39;m only trying to deal with the ApplicationContext.xml, but this file remains with the same classnames that the no obfuscated version. I&#39;m sure that the yguard task is doing something into my ApplicationContext.xml because I have a &lt;value&gt; tag in the file and the path to a file is properly obfuscated but the classnames and the other stuff no:\r\n\r\n````\r\n\t&lt;!-- Properties ldap --&gt;\r\n\t&lt;bean id=&quot;ldapProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot; scope=&quot;singleton&quot;&gt;\r\n\t  &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot;/&gt;\r\n\t  &lt;property name=&quot;locations&quot;&gt;\r\n            &lt;list&gt;              \r\n              &lt;value&gt;classpath:A/A/B/E/ldap.properties&lt;/value&gt;     &lt;--Obfuscated!--&gt; \r\n            &lt;/list&gt;\r\n\t  &lt;/property&gt;\r\n\t&lt;/bean&gt;\t\r\n\t\r\n\t&lt;bean id=&quot;authenticationBO&quot; class=&quot;com.grifols.grb.authentication.bo.AuthenticationBO&quot; scope=&quot;singleton&quot;&gt;\r\n\t\t&lt;property name=&quot;dbAccess&quot; ref=&quot;dbAccessGRB&quot;/&gt;\r\n\t\t&lt;property name=&quot;usersSecurityBO&quot; ref=&quot;usersSecurityBO&quot; /&gt;\t\r\n\t\t&lt;property name=&quot;settings&quot; ref=&quot;settings&quot; /&gt;\t\r\n\t\t&lt;property name=&quot;ldapProperties&quot; ref=&quot;ldapProperties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n````\r\n\r\nAccording to the [Yguard documentation][1] I think that I only have to use replaceContent=&quot;true&quot; and detail which file but I&#39;m not \r\n\r\nAny idea? I really appreciate any help you can provide.\r\n\r\nIvan\r\n\r\n\r\n  [1]: https://yworks.github.io/yGuard/task_documentation/#the-adjust-element","title":"Yguard does not modify my classnames properly (with the obfuscated ones)","body":"<p>I'm trying to obfuscate a JAR file using the yguard 3.0.0 maven plugin. The obfuscated JAR is as almost as expected, it is shrinked and with all the private methods and variables renamed. I need that package names will be renamed too and this is performed, but the spring XML files needed to start my Tomcat are not being updated with the obfuscated packages.</p>\n<p>My ant task is the following:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;tasks&gt;\n        &lt;property name=&quot;runtime-classpath&quot; refid=&quot;maven.runtime.classpath&quot;/&gt;\n        &lt;taskdef name=&quot;yguard&quot; classname=&quot;com.yworks.yguard.YGuardTask&quot; classpath=&quot;${runtime-classpath}&quot;/&gt;\n            &lt;yguard&gt;\n                &lt;inoutpair in=&quot;C:/test/webapp.jar&quot; out=&quot;C:/test/webapp_obfuscated.jar&quot; /&gt;\n                &lt;shrink&gt;\n                    &lt;property name=&quot;error-checking&quot; value=&quot;pedantic&quot;/&gt;\n                &lt;/shrink&gt;\n                &lt;rename&gt;\n                    &lt;adjust replaceContent=&quot;true&quot; replaceName=&quot;true&quot;&gt;\n                         &lt;include name=&quot;ApplicationContext.xml&quot;/&gt;\n                    &lt;/adjust&gt;\n                &lt;/rename&gt;                                                                   \n            &lt;/yguard&gt;\n       &lt;/tasks&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Note that here in my example, I'm only trying to deal with the ApplicationContext.xml, but this file remains with the same classnames that the no obfuscated version. I'm sure that the yguard task is doing something into my ApplicationContext.xml because I have a  tag in the file and the path to a file is properly obfuscated but the classnames and the other stuff no:</p>\n<pre><code>    &lt;!-- Properties ldap --&gt;\n    &lt;bean id=&quot;ldapProperties&quot; class=&quot;org.springframework.beans.factory.config.PropertiesFactoryBean&quot; scope=&quot;singleton&quot;&gt;\n      &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot;/&gt;\n      &lt;property name=&quot;locations&quot;&gt;\n            &lt;list&gt;              \n              &lt;value&gt;classpath:A/A/B/E/ldap.properties&lt;/value&gt;     &lt;--Obfuscated!--&gt; \n            &lt;/list&gt;\n      &lt;/property&gt;\n    &lt;/bean&gt; \n    \n    &lt;bean id=&quot;authenticationBO&quot; class=&quot;com.grifols.grb.authentication.bo.AuthenticationBO&quot; scope=&quot;singleton&quot;&gt;\n        &lt;property name=&quot;dbAccess&quot; ref=&quot;dbAccessGRB&quot;/&gt;\n        &lt;property name=&quot;usersSecurityBO&quot; ref=&quot;usersSecurityBO&quot; /&gt;   \n        &lt;property name=&quot;settings&quot; ref=&quot;settings&quot; /&gt; \n        &lt;property name=&quot;ldapProperties&quot; ref=&quot;ldapProperties&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>According to the <a href=\"https://yworks.github.io/yGuard/task_documentation/#the-adjust-element\" rel=\"nofollow noreferrer\">Yguard documentation</a> I think that I only have to use replaceContent=&quot;true&quot; and detail which file but I'm not</p>\n<p>Any idea? I really appreciate any help you can provide.</p>\n<p>Ivan</p>\n"},{"tags":["java","blob"],"comments":[{"owner":{"account_id":5846644,"reputation":527,"user_id":4606579,"display_name":"Richard"},"score":0,"creation_date":1648125956,"post_id":71602399,"comment_id":126548299,"body_markdown":"Welcome to StackOverflow. If all the values are in a single BLOB, I would expand getValueFromBLOB to `public static Map&lt;String, Integer&gt; convertBLOB(final Object o)` which will parse the whole blob once.","body":"Welcome to StackOverflow. If all the values are in a single BLOB, I would expand getValueFromBLOB to <code>public static Map&lt;String, Integer&gt; convertBLOB(final Object o)</code> which will parse the whole blob once."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648129796,"post_id":71602399,"comment_id":126550071,"body_markdown":"Strange you&#39;d use BLOB instead of JSON text to store that data","body":"Strange you&#39;d use BLOB instead of JSON text to store that data"},{"owner":{"account_id":23730417,"reputation":1,"user_id":17749751,"display_name":"rob hart"},"score":0,"creation_date":1648226052,"post_id":71602399,"comment_id":126578807,"body_markdown":"@Richard yes, they are in a single BLOB, I posted another question about how to make a map of the object","body":"@Richard yes, they are in a single BLOB, I posted another question about how to make a map of the object"},{"owner":{"account_id":23730417,"reputation":1,"user_id":17749751,"display_name":"rob hart"},"score":0,"creation_date":1648226223,"post_id":71602399,"comment_id":126578870,"body_markdown":"@OneCricketeer idk why they used BLOB, would be easier for if they were normal columns/rows in db table","body":"@OneCricketeer idk why they used BLOB, would be easier for if they were normal columns/rows in db table"}],"owner":{"account_id":23730417,"reputation":1,"user_id":17749751,"display_name":"rob hart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648129390,"creation_date":1648124247,"question_id":71602399,"body_markdown":"An SQL Server database holds some data like this:\r\n\r\n```none\r\nkeyname(string) / value(int)\r\nM01 / null\r\nM02 / 10\r\nM03 / 4\r\nM99 / null\r\n```\r\n\r\nThese data are in BLOBs in the db, I found out how to deserialise the BLOBs to a string and this is what&#39;s inside:\r\n\r\n```none\r\n[self (wt.fc.ObjectReference), OR:wt.workflow.work.WfAssignedActivity:823568909, not required]\r\n[primaryBusinessObject (wt.fc.WTObject), VR:wt.change2.WTChangeActivity2:823534981, not required]\r\n[M01 (int), null, not required]\r\n[M02 (int), null, not required]\r\n[M03 (int), null, not required]\r\n[M04 (int), null, not required]\r\n[M05 (int), null, not required]\r\n[M06 (int), null, not required]\r\n[M07 (int), null, not required]\r\n[M08 (int), null, not required]\r\n[M09 (int), null, not required]\r\n[M10 (int), null, not required]\r\n[M11 (int), null, not required]\r\n[M12 (int), null, not required]\r\n[M13 (int), null, not required]\r\n[M14 (int), null, not required]\r\n[M15 (int), null, not required]\r\n[M16 (int), null, not required]\r\n[M99 (int), 1, not required]\r\n```\r\n \r\nI tried to write some Java to extract the key/value pairs, it works but it&#39;s very slow. Is there a better way to get the value for a given key out of this string. E.g. M99 is 1 in the example above.\r\n\r\n```java\r\npackage ext.tools;\r\n\r\nimport wt.util.WTException;\r\nimport java.io.ObjectInputStream;\r\nimport java.io.IOException;\r\nimport wt.pom.DatastoreException;\r\nimport java.io.InputStream;\r\nimport java.sql.Blob;\r\nimport wt.method.RemoteMethodServer;\r\nimport wt.pds.PDSEncoder;\r\n\r\npublic class BLOBConversionHelper {\r\n    //pass in a BLOB (Object o) and Workflow Variable name (String s)\r\n    //returns the value of the workflow variable (int)\r\n    public static int getValueFromBLOB(final Object o, final String s) throws WTException {\r\n        // deserizlize method similar to wt.pds.ConversionHelper\r\n        Object object = null;\r\n        if (RemoteMethodServer.ServerFlag) {\r\n            ObjectInputStream objectInputStream = null;\r\n            PDSEncoder encoder = null;\r\n            try {\r\n                encoder = PDSEncoder.getEncoder();\r\n                if (o instanceof String) {\r\n                    objectInputStream = encoder.setInput((String)o);\r\n                }\r\n                else {\r\n                    InputStream binaryStream = null;\r\n                    if (o instanceof Blob) {\r\n                        binaryStream = ((Blob)o).getBinaryStream();\r\n                    }\r\n                    else if (o instanceof InputStream) {\r\n                        binaryStream = (InputStream)o;\r\n                    }\r\n                    if (binaryStream != null) {\r\n                        objectInputStream = encoder.setInput(binaryStream);\r\n                    }\r\n                }\r\n                if (objectInputStream != null) {\r\n                    object = objectInputStream.readObject();\r\n                }\r\n            }\r\n            catch (Exception ex) {\r\n                throw new DatastoreException(ex);\r\n            }\r\n            finally {\r\n                if (objectInputStream != null) {\r\n                    try {\r\n                        objectInputStream.close();\r\n                    }\r\n                    catch (IOException ex2) {}\r\n                }\r\n                PDSEncoder.freeEncoder(encoder);\r\n            }\r\n        }\r\n\r\n\t\t//find the comma after the variable name and the next comma after\r\n\t\t//the split the string\r\n\t\t//convert the string to an int\r\n\t\tint val;\r\n\t\tint indexOfs = object.toString().indexOf(s);\r\n\t\tint indexOfcomma = object.toString().indexOf(&quot;,&quot;, indexOfs);\r\n\t\tint indexOfEndcomma = object.toString().indexOf(&quot;,&quot;, (indexOfcomma + 1));\r\n\t\tString checkNull = object.toString().substring((indexOfcomma + 2),(indexOfcomma + 6));\r\n\t\t\t\r\n\t\tif (checkNull.equals(&quot;null&quot;)){\r\n\t\t\tval = 0;\r\n\t\t} else {\t\t\r\n\t\t\ttry {\r\n\t\t\t\tval = Integer.valueOf(object.toString().substring((indexOfcomma + 2),indexOfEndcomma));\r\n\t\t\t} catch (NumberFormatException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t\tval = 99999;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\treturn val;\r\n\t\t\r\n    }\r\n\t\r\n}\r\n```\r\n\r\n","title":"How to deserialise a BLOB and then extract key/value pairs with Java","body":"<p>An SQL Server database holds some data like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>keyname(string) / value(int)\nM01 / null\nM02 / 10\nM03 / 4\nM99 / null\n</code></pre>\n<p>These data are in BLOBs in the db, I found out how to deserialise the BLOBs to a string and this is what's inside:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[self (wt.fc.ObjectReference), OR:wt.workflow.work.WfAssignedActivity:823568909, not required]\n[primaryBusinessObject (wt.fc.WTObject), VR:wt.change2.WTChangeActivity2:823534981, not required]\n[M01 (int), null, not required]\n[M02 (int), null, not required]\n[M03 (int), null, not required]\n[M04 (int), null, not required]\n[M05 (int), null, not required]\n[M06 (int), null, not required]\n[M07 (int), null, not required]\n[M08 (int), null, not required]\n[M09 (int), null, not required]\n[M10 (int), null, not required]\n[M11 (int), null, not required]\n[M12 (int), null, not required]\n[M13 (int), null, not required]\n[M14 (int), null, not required]\n[M15 (int), null, not required]\n[M16 (int), null, not required]\n[M99 (int), 1, not required]\n</code></pre>\n<p>I tried to write some Java to extract the key/value pairs, it works but it's very slow. Is there a better way to get the value for a given key out of this string. E.g. M99 is 1 in the example above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ext.tools;\n\nimport wt.util.WTException;\nimport java.io.ObjectInputStream;\nimport java.io.IOException;\nimport wt.pom.DatastoreException;\nimport java.io.InputStream;\nimport java.sql.Blob;\nimport wt.method.RemoteMethodServer;\nimport wt.pds.PDSEncoder;\n\npublic class BLOBConversionHelper {\n    //pass in a BLOB (Object o) and Workflow Variable name (String s)\n    //returns the value of the workflow variable (int)\n    public static int getValueFromBLOB(final Object o, final String s) throws WTException {\n        // deserizlize method similar to wt.pds.ConversionHelper\n        Object object = null;\n        if (RemoteMethodServer.ServerFlag) {\n            ObjectInputStream objectInputStream = null;\n            PDSEncoder encoder = null;\n            try {\n                encoder = PDSEncoder.getEncoder();\n                if (o instanceof String) {\n                    objectInputStream = encoder.setInput((String)o);\n                }\n                else {\n                    InputStream binaryStream = null;\n                    if (o instanceof Blob) {\n                        binaryStream = ((Blob)o).getBinaryStream();\n                    }\n                    else if (o instanceof InputStream) {\n                        binaryStream = (InputStream)o;\n                    }\n                    if (binaryStream != null) {\n                        objectInputStream = encoder.setInput(binaryStream);\n                    }\n                }\n                if (objectInputStream != null) {\n                    object = objectInputStream.readObject();\n                }\n            }\n            catch (Exception ex) {\n                throw new DatastoreException(ex);\n            }\n            finally {\n                if (objectInputStream != null) {\n                    try {\n                        objectInputStream.close();\n                    }\n                    catch (IOException ex2) {}\n                }\n                PDSEncoder.freeEncoder(encoder);\n            }\n        }\n\n        //find the comma after the variable name and the next comma after\n        //the split the string\n        //convert the string to an int\n        int val;\n        int indexOfs = object.toString().indexOf(s);\n        int indexOfcomma = object.toString().indexOf(&quot;,&quot;, indexOfs);\n        int indexOfEndcomma = object.toString().indexOf(&quot;,&quot;, (indexOfcomma + 1));\n        String checkNull = object.toString().substring((indexOfcomma + 2),(indexOfcomma + 6));\n            \n        if (checkNull.equals(&quot;null&quot;)){\n            val = 0;\n        } else {        \n            try {\n                val = Integer.valueOf(object.toString().substring((indexOfcomma + 2),indexOfEndcomma));\n            } catch (NumberFormatException ex) {\n                ex.printStackTrace();\n                val = 99999;\n            }\n        }\n            \n        return val;\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","kotlin","automation","administrator"],"comments":[{"owner":{"account_id":7092062,"reputation":722,"user_id":5426939,"accept_rate":78,"display_name":"Kev_T"},"score":1,"creation_date":1648129646,"post_id":71603601,"comment_id":126549991,"body_markdown":"Have you heard about parental controls? https://support.google.com/googleplay/answer/1075738?hl=en","body":"Have you heard about parental controls? <a href=\"https://support.google.com/googleplay/answer/1075738?hl=en\" rel=\"nofollow noreferrer\">support.google.com/googleplay/answer/1075738?hl=en</a>"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1648131654,"post_id":71603601,"comment_id":126550953,"body_markdown":"I think this is more relevant: https://developer.android.com/work/dpc/dedicated-devices","body":"I think this is more relevant: <a href=\"https://developer.android.com/work/dpc/dedicated-devices\" rel=\"nofollow noreferrer\">developer.android.com/work/dpc/dedicated-devices</a>"}],"owner":{"account_id":21277430,"reputation":82,"user_id":15656233,"display_name":"Ghulam Rasool"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648129324,"creation_date":1648129324,"question_id":71603601,"body_markdown":"It&#39;s about industrial automation. We want to provide users android phones on which they can only use our own Mobile App Nothing else!\r\n\r\nI hope, it&#39;s an interesting topic to debate on. Please mention if there is any way to implement this. \r\n\r\nPS: We can utilise old versions of Android as well :) ","title":"How can i make my app the only app that can run on a specific phone?","body":"<p>It's about industrial automation. We want to provide users android phones on which they can only use our own Mobile App Nothing else!</p>\n<p>I hope, it's an interesting topic to debate on. Please mention if there is any way to implement this.</p>\n<p>PS: We can utilise old versions of Android as well :)</p>\n"},{"tags":["java","arrays","double-pointer"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1648129773,"post_id":71603595,"comment_id":126550057,"body_markdown":"I do not believe this task requires any loops.","body":"I do not believe this task requires any loops."},{"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"score":0,"creation_date":1648129892,"post_id":71603595,"comment_id":126550129,"body_markdown":"I know there is a formula for the question. But what is wrong with this solution?","body":"I know there is a formula for the question. But what is wrong with this solution?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1648130225,"post_id":71603595,"comment_id":126550292,"body_markdown":"`int ar[]=new int[N];` Maybe you run out of memory for large `N`? You can do it without the array. `for (int start=1, end=2*m; start &lt; end; start++, end--) {...}` Or use the method in the first comment.","body":"<code>int ar[]=new int[N];</code> Maybe you run out of memory for large <code>N</code>? You can do it without the array. <code>for (int start=1, end=2*m; start &lt; end; start++, end--) {...}</code> Or use the method in the first comment."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1648130536,"post_id":71603595,"comment_id":126550444,"body_markdown":"Are you guaranteed that `X` is between `1` and `2N`?","body":"Are you guaranteed that <code>X</code> is between <code>1</code> and <code>2N</code>?"},{"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"score":0,"creation_date":1648130802,"post_id":71603595,"comment_id":126550557,"body_markdown":"@JohnnyMopp for (int start=1, end=2*m; start &lt; end; start++, end--) {...} still getting TLE.","body":"@JohnnyMopp for (int start=1, end=2*m; start &lt; end; start++, end--) {...} still getting TLE."}],"owner":{"account_id":24050842,"reputation":1,"user_id":18029355,"display_name":"Naina Mathur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648129290,"creation_date":1648129290,"question_id":71603595,"body_markdown":"I was trying out this problem named Group Assignment on CodeChef &lt;https://www.codechef.com/START31D/problems/GROUPASSGN&gt;\r\n\r\nwhere the problem says\r\n\r\nChef&#39;s professor is planning to give his class a group assignment. There are 2N students in the class, with distinct roll numbers ranging from 1 to 2N. Chef&#39;s roll number is X.\r\n\r\nThe professor decided to create N groups of 2 students each. The groups were created as follows: the first group consists of roll numbers 1 and 2N, the second group of roll numbers 2 and 2N−1, and so on, with the final group consisting of roll numbers N and N+1.\r\n\r\nChef wonders who his partner will be. Can you help Chef by telling him the roll number of his partner?\r\n\r\n    EXAMPLE:\r\n    3\r\n    2 2\r\n    3 1\r\n    3 4\r\n\r\n    OUTPUT:\r\n    3\r\n    6\r\n    3\r\n\r\nMy code for the above problem is:\r\n\r\n\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n\r\n\r\n    class Codechef\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\t// your code goes here\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint t=sc.nextInt();\r\n    \t\tfor(int i=1;i&lt;=t;i++)\r\n    \t\t{\r\n    \t\t    int m=sc.nextInt();\r\n    \t\t    int X=sc.nextInt();\r\n    \t\t    int N=2*m;\r\n    \t\t    int ar[]=new int[N];\r\n    \t\t    int start=0;\r\n    \t\t    int end=ar.length-1;\r\n    \t\t    for(int j=0;j&lt;N;j++)\r\n    \t\t    {\r\n    \t\t        ar[j]=j+1;\r\n    \t\t    }\r\n    \t\t    while(start&lt;=end)\r\n    \t\t    {\r\n    \t\t        if(ar[start]==X)\r\n    \t\t        {\r\n    \t\t            System.out.println(ar[end]);\r\n    \t\t            break;\r\n    \t\t        }\r\n    \t\t        else if(ar[end]==X)\r\n    \t\t        {\r\n    \t\t            System.out.println(ar[start]);\r\n    \t\t            break;\r\n    \t\t        }\r\n    \t\t        else\r\n    \t\t        {\r\n    \t\t            start++;\r\n    \t\t            end--;\r\n    \t\t        }\r\n    \t\t    }\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nwhere I&#39;m getting one test case wrong which is invisible. Can someone help me with the solution?\r\n\r\n","title":"Group Assignment Codechef","body":"<p>I was trying out this problem named Group Assignment on CodeChef <a href=\"https://www.codechef.com/START31D/problems/GROUPASSGN\" rel=\"nofollow noreferrer\">https://www.codechef.com/START31D/problems/GROUPASSGN</a></p>\n<p>where the problem says</p>\n<p>Chef's professor is planning to give his class a group assignment. There are 2N students in the class, with distinct roll numbers ranging from 1 to 2N. Chef's roll number is X.</p>\n<p>The professor decided to create N groups of 2 students each. The groups were created as follows: the first group consists of roll numbers 1 and 2N, the second group of roll numbers 2 and 2N−1, and so on, with the final group consisting of roll numbers N and N+1.</p>\n<p>Chef wonders who his partner will be. Can you help Chef by telling him the roll number of his partner?</p>\n<pre><code>EXAMPLE:\n3\n2 2\n3 1\n3 4\n\nOUTPUT:\n3\n6\n3\n</code></pre>\n<p>My code for the above problem is:</p>\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\n\nclass Codechef\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        // your code goes here\n        Scanner sc=new Scanner(System.in);\n        int t=sc.nextInt();\n        for(int i=1;i&lt;=t;i++)\n        {\n            int m=sc.nextInt();\n            int X=sc.nextInt();\n            int N=2*m;\n            int ar[]=new int[N];\n            int start=0;\n            int end=ar.length-1;\n            for(int j=0;j&lt;N;j++)\n            {\n                ar[j]=j+1;\n            }\n            while(start&lt;=end)\n            {\n                if(ar[start]==X)\n                {\n                    System.out.println(ar[end]);\n                    break;\n                }\n                else if(ar[end]==X)\n                {\n                    System.out.println(ar[start]);\n                    break;\n                }\n                else\n                {\n                    start++;\n                    end--;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>where I'm getting one test case wrong which is invisible. Can someone help me with the solution?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":269622,"reputation":58936,"user_id":559070,"accept_rate":74,"display_name":"Harry Joy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302257093,"creation_date":1302257093,"answer_id":5593524,"question_id":5593492,"body_markdown":"try: `Integer.parseInt(a)+Integer.parseInt(b)`\r\n\r\n     String a= txtnum1.getText();\r\n     String b= txtnum2.getText(); \r\n     JOptionPane.showMessageDialog(null,Integer.parseInt(a)+Integer.parseInt(b));","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>try: <code>Integer.parseInt(a)+Integer.parseInt(b)</code></p>\n\n<pre><code> String a= txtnum1.getText();\n String b= txtnum2.getText(); \n JOptionPane.showMessageDialog(null,Integer.parseInt(a)+Integer.parseInt(b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1580824684,"creation_date":1302257288,"answer_id":5593572,"question_id":5593492,"body_markdown":"Java provides parse methods for Primitive Types. So depending on your input you can use Integer.parseInt, Double.parseDouble or others.\r\n\r\n\r\n    String result;\r\n    try{\r\n     int value = Integer.parseInt(a)+Integer.parseInt(b);\r\n     result = String. valueOf(value) ;\r\n    }catch(NumberFormatException ex){\r\n     //either a or b is not a number\r\n     result = &quot;Invalid input&quot;;\r\n    }\r\n    JOptionPane.showMessageDialog(null,result);\r\n\r\n","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>Java provides parse methods for Primitive Types. So depending on your input you can use Integer.parseInt, Double.parseDouble or others.</p>\n\n<pre><code>String result;\ntry{\n int value = Integer.parseInt(a)+Integer.parseInt(b);\n result = String. valueOf(value) ;\n}catch(NumberFormatException ex){\n //either a or b is not a number\n result = \"Invalid input\";\n}\nJOptionPane.showMessageDialog(null,result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339563,"reputation":686,"user_id":669112,"display_name":"floxyz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302257329,"creation_date":1302257329,"answer_id":5593582,"question_id":5593492,"body_markdown":"Because you want to concat Strings they won&#39;t add up. You have to parse them to an Integer which works like:\r\n\r\n    Integer.parseInt(a) + Integer.parseInt(b)\r\n\r\nTo sum this up + concats Strings and doesn&#39;t add them up.","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>Because you want to concat Strings they won't add up. You have to parse them to an Integer which works like:</p>\n\n<pre><code>Integer.parseInt(a) + Integer.parseInt(b)\n</code></pre>\n\n<p>To sum this up + concats Strings and doesn't add them up.</p>\n"},{"tags":[],"owner":{"account_id":354301,"reputation":45,"user_id":692567,"display_name":"celikgumusdag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302257667,"creation_date":1302257667,"answer_id":5593650,"question_id":5593492,"body_markdown":"    public void actionPerformed(ActionEvent arg0) \r\n    {\r\n    \tString a= txtnum1.getText(); \r\n    \tString b= txtnum2.getText(); \r\n    \tString result = &quot;&quot;;\r\n    \ttry{\r\n    \tint value = Integer.parseInt(a)+Integer.parseInt(b);\r\n    \t result = &quot;&quot;+value;\r\n    \t}catch(NumberFormatException ex){\r\n    \t\r\n    \t result = &quot;Invalid input&quot;;\r\n    \t}\r\n    \tJOptionPane.showMessageDialog(null,result);\r\n    \r\n    \t\r\n    \t \t\r\n    }\r\n\r\nit is work","title":"How can I find the sum of two numbers which are in String variables?","body":"<pre><code>public void actionPerformed(ActionEvent arg0) \n{\n    String a= txtnum1.getText(); \n    String b= txtnum2.getText(); \n    String result = \"\";\n    try{\n    int value = Integer.parseInt(a)+Integer.parseInt(b);\n     result = \"\"+value;\n    }catch(NumberFormatException ex){\n\n     result = \"Invalid input\";\n    }\n    JOptionPane.showMessageDialog(null,result);\n\n\n\n}\n</code></pre>\n\n<p>it is work</p>\n"},{"tags":[],"owner":{"account_id":5306981,"reputation":896,"user_id":4234503,"accept_rate":25,"display_name":"Vishal Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462433806,"creation_date":1462433495,"answer_id":37044961,"question_id":5593492,"body_markdown":"Integer wrapper class has constructor which takes String parameter representing numbers.\r\n\r\n    String a= txtnum1.getText();//a=&quot;100&quot;\r\n    String b= txtnum2.getText();//b=&quot;200&quot; \r\n\r\n    Integer result;\r\n    int result_1;\r\n    String result_2;\r\n\r\n    try{\r\n    result = new Integer(a) + new Integer(b); // here variables a and b are Strings representing numbers. If not numbers, then new Integer(String) will throw number format exception.\r\n\r\n    int result_1=result.intValue();//convert to primitive datatype int if required.\r\n\r\n`result_2 = &quot;&quot;+result;  //or result_2 = &quot;&quot;+result_1;  both will work to convert in String format`\r\n\r\n    }catch(NumberFormatException ex){\r\n    //if either a or b are Strings not representing numbers\r\n    result_2 = &quot;Invalid input&quot;;\r\n    }","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>Integer wrapper class has constructor which takes String parameter representing numbers.</p>\n\n<pre><code>String a= txtnum1.getText();//a=\"100\"\nString b= txtnum2.getText();//b=\"200\" \n\nInteger result;\nint result_1;\nString result_2;\n\ntry{\nresult = new Integer(a) + new Integer(b); // here variables a and b are Strings representing numbers. If not numbers, then new Integer(String) will throw number format exception.\n\nint result_1=result.intValue();//convert to primitive datatype int if required.\n</code></pre>\n\n<p><code>result_2 = \"\"+result;  //or result_2 = \"\"+result_1;  both will work to convert in String format</code></p>\n\n<pre><code>}catch(NumberFormatException ex){\n//if either a or b are Strings not representing numbers\nresult_2 = \"Invalid input\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8017626,"reputation":2089,"user_id":6613299,"accept_rate":75,"display_name":"Rohit-Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491191544,"creation_date":1483986483,"answer_id":41554535,"question_id":5593492,"body_markdown":"We can change string to BigInteger and then sum its values.\r\n\r\n    import java.util.*;\r\n    import java.math.*;\r\n    class stack\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            Scanner s=new Scanner(System.in); \r\n            String aa=s.next();\r\n            String bb=s.next();\r\n            BigInteger a=new BigInteger(aa);\r\n            BigInteger b=new BigInteger(bb);\r\n            System.out.println(a.add(b));\r\n        }\r\n    }\r\n\r\n ","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>We can change string to BigInteger and then sum its values.</p>\n\n<pre><code>import java.util.*;\nimport java.math.*;\nclass stack\n{\n    public static void main(String args[])\n    {\n        Scanner s=new Scanner(System.in); \n        String aa=s.next();\n        String bb=s.next();\n        BigInteger a=new BigInteger(aa);\n        BigInteger b=new BigInteger(bb);\n        System.out.println(a.add(b));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1512803460,"creation_date":1512803460,"answer_id":47726260,"question_id":5593492,"body_markdown":"use BigInteger class to perform largely in length string addition operation.\r\n\r\n    BigInteger big = new BigInteger(&quot;77777777777777777777888888888888888888888888888856666666666666666666666666666666&quot;);\r\n    \t\tBigInteger big1 = new BigInteger(&quot;99999999999999995455555555555555556&quot;);\r\n    \t\tBigInteger big3 =\tbig.add(big1);","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>use BigInteger class to perform largely in length string addition operation.</p>\n\n<pre><code>BigInteger big = new BigInteger(\"77777777777777777777888888888888888888888888888856666666666666666666666666666666\");\n        BigInteger big1 = new BigInteger(\"99999999999999995455555555555555556\");\n        BigInteger big3 =   big.add(big1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16475654,"reputation":111,"user_id":11903711,"display_name":"Tsar Nicotine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567535020,"creation_date":1567535020,"answer_id":57776939,"question_id":5593492,"body_markdown":"Since + is used to concat strings, you can&#39;t use it to add two strings containing number. But subtraction works perfectly fine with such strings. Hence, you can use this basic mathematical concept to make that possible:\r\n\r\n    a-(-b)","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>Since + is used to concat strings, you can't use it to add two strings containing number. But subtraction works perfectly fine with such strings. Hence, you can use this basic mathematical concept to make that possible:</p>\n\n<pre><code>a-(-b)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580815232,"creation_date":1580815232,"answer_id":60056263,"question_id":5593492,"body_markdown":"Integer.parseInt() is used to convert String to Integer.In order to perform sum of two strings first strings need to be converted to Integers and then need to perform sum otherwise it just concatenates two strings instead of performing sum.\r\n\r\nString a = &quot;10&quot;;\r\nString b = &quot;20&quot;; \r\n\r\nJOptionPane.showMessageDialog(null,Integer.parseInt(a)+Integer.parseInt(b));\r\n\r\n","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>Integer.parseInt() is used to convert String to Integer.In order to perform sum of two strings first strings need to be converted to Integers and then need to perform sum otherwise it just concatenates two strings instead of performing sum.</p>\n\n<p>String a = \"10\";\nString b = \"20\"; </p>\n\n<p>JOptionPane.showMessageDialog(null,Integer.parseInt(a)+Integer.parseInt(b));</p>\n"},{"tags":[],"owner":{"account_id":3638590,"reputation":11,"user_id":3033355,"display_name":"Douglas Ahlquist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648128951,"creation_date":1648074647,"answer_id":71594838,"question_id":5593492,"body_markdown":"\r\n    public String addTwoNumbers(final String n1, final String n2) {\r\n        StringBuilder sb = new StringBuilder();\r\n        int carry =0;\r\n        byte[] nb1; byte[] nb2; \r\n        if (n1.length() &gt; n2.length()){\r\n            nb1 = n1.getBytes();\r\n            nb2 = n2.getBytes();\r\n        } else {\r\n            nb2 = n1.getBytes();\r\n            nb1 = n2.getBytes();\r\n        }\r\n          \r\n        int maxLen=n1.length()&gt;=n2.length()?n1.length():n2.length();\r\n        for (int i = 1; i &lt;= maxLen ; i++) {\r\n            int a = nb1.length-i &gt;= 0 ? nb1[nb1.length-i] - 48 : 0;\r\n            int b = nb2.length-i &gt;= 0 ? nb2[nb2.length-i] - 48 : 0;        \r\n            int result = a + b + carry;\r\n            \r\n            if (result &gt;= 10){\r\n                carry = 1;\r\n                result = result-10;\r\n            } else {\r\n                carry = 0;\r\n            }\r\n            sb.insert(0, result);\r\n        }\r\n        if(carry&gt;0){\r\n            sb.insert(0, carry);\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n","title":"How can I find the sum of two numbers which are in String variables?","body":"<pre><code>public String addTwoNumbers(final String n1, final String n2) {\n    StringBuilder sb = new StringBuilder();\n    int carry =0;\n    byte[] nb1; byte[] nb2; \n    if (n1.length() &gt; n2.length()){\n        nb1 = n1.getBytes();\n        nb2 = n2.getBytes();\n    } else {\n        nb2 = n1.getBytes();\n        nb1 = n2.getBytes();\n    }\n      \n    int maxLen=n1.length()&gt;=n2.length()?n1.length():n2.length();\n    for (int i = 1; i &lt;= maxLen ; i++) {\n        int a = nb1.length-i &gt;= 0 ? nb1[nb1.length-i] - 48 : 0;\n        int b = nb2.length-i &gt;= 0 ? nb2[nb2.length-i] - 48 : 0;        \n        int result = a + b + carry;\n        \n        if (result &gt;= 10){\n            carry = 1;\n            result = result-10;\n        } else {\n            carry = 0;\n        }\n        sb.insert(0, result);\n    }\n    if(carry&gt;0){\n        sb.insert(0, carry);\n    }\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":354301,"reputation":45,"user_id":692567,"display_name":"celikgumusdag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74763,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5593572,"answer_count":10,"score":3,"last_activity_date":1648128951,"creation_date":1302256938,"question_id":5593492,"body_markdown":"In this code fragment, I can&#39;t sum `a` and `b`:\r\n\r\n    String a = &quot;10&quot;;\r\n    String b = &quot;20&quot;; \r\n    JOptionPane.showMessageDialog(null,a+b);\r\n\r\nSince `a` and `b` are defined as `String`, this code will concatenate the strings and output `10+20=1020`.\r\n\r\nHow can I get it to instead sum `a` and `b` and output `10+20=30`?\r\n","title":"How can I find the sum of two numbers which are in String variables?","body":"<p>In this code fragment, I can't sum <code>a</code> and <code>b</code>:</p>\n\n<pre><code>String a = \"10\";\nString b = \"20\"; \nJOptionPane.showMessageDialog(null,a+b);\n</code></pre>\n\n<p>Since <code>a</code> and <code>b</code> are defined as <code>String</code>, this code will concatenate the strings and output <code>10+20=1020</code>.</p>\n\n<p>How can I get it to instead sum <code>a</code> and <code>b</code> and output <code>10+20=30</code>?</p>\n"},{"tags":["java","reactjs","spring-boot","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":20351352,"reputation":1,"user_id":14927971,"display_name":"Ming Zoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647959919,"creation_date":1647959919,"answer_id":71573977,"question_id":71572983,"body_markdown":"This class below to config CORS policy it worked for me.And i think your poblem is @CrossOrigin should be located in controller class.\r\n```java\r\n@Configuration\r\npublic class AppConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;);\r\n    }\r\n}\r\n```\r\nIf you want more config follow this link https://spring.io/guides/gs/rest-service-cors/\r\n","title":"Spring Security+ReactJS - Preflight Request","body":"<p>This class below to config CORS policy it worked for me.And i think your poblem is @CrossOrigin should be located in controller class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AppConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;);\n    }\n}\n</code></pre>\n<p>If you want more config follow this link <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a></p>\n"},{"tags":[],"owner":{"account_id":5025978,"reputation":998,"user_id":4037954,"accept_rate":67,"display_name":"It Assistors"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647970998,"creation_date":1647970998,"answer_id":71576669,"question_id":71572983,"body_markdown":"As per [MDN docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#:~:text=Credentialed%20requests%20and,Methods%3A%20POST%2C%20GET), the pre-flight response headers for a credentialed request should include a specific set of `Access-Control-Allow-Origin` and not a wild-card `*` .The cors config for the service can be setup by extending the `WebSecurityConfigurerAdapter`. \r\n\r\nWe faced a similar challenge with our spring-boot project and the following configuration helped overcome the cors failure\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class DefaultAuthConfiguration extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n       http.cors(cors -&gt; {\r\n            CorsConfigurationSource cs = resources -&gt; {\r\n                CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n                corsConfiguration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;,&quot;http://localhost:3001&quot;));\r\n                corsConfiguration.setAllowedMethods(List.of(&quot;POST&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;,\r\n                        &quot;Content-Type&quot;,\r\n                        &quot;X-Requested-With&quot;,\r\n                        &quot;Accept&quot;,\r\n                        &quot;X-XSRF-TOKEN&quot;));\r\n                corsConfiguration.setAllowCredentials(true);\r\n                return corsConfiguration;\r\n            };\r\n\r\n            cors.configurationSource(cs);\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n","title":"Spring Security+ReactJS - Preflight Request","body":"<p>As per <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#:%7E:text=Credentialed%20requests%20and,Methods%3A%20POST%2C%20GET\" rel=\"nofollow noreferrer\">MDN docs</a>, the pre-flight response headers for a credentialed request should include a specific set of <code>Access-Control-Allow-Origin</code> and not a wild-card <code>*</code> .The cors config for the service can be setup by extending the <code>WebSecurityConfigurerAdapter</code>.</p>\n<p>We faced a similar challenge with our spring-boot project and the following configuration helped overcome the cors failure</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class DefaultAuthConfiguration extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n       http.cors(cors -&gt; {\n            CorsConfigurationSource cs = resources -&gt; {\n                CorsConfiguration corsConfiguration = new CorsConfiguration();\n                corsConfiguration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;,&quot;http://localhost:3001&quot;));\n                corsConfiguration.setAllowedMethods(List.of(&quot;POST&quot;, &quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n                corsConfiguration.setAllowedHeaders(List.of(&quot;Authorization&quot;,\n                        &quot;Content-Type&quot;,\n                        &quot;X-Requested-With&quot;,\n                        &quot;Accept&quot;,\n                        &quot;X-XSRF-TOKEN&quot;));\n                corsConfiguration.setAllowCredentials(true);\n                return corsConfiguration;\n            };\n\n            cors.configurationSource(cs);\n        });\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23842023,"reputation":1,"user_id":17846957,"display_name":"Ann Mary Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648128944,"creation_date":1647956095,"question_id":71572983,"body_markdown":"I am working on a project with FE as react and BE as Springboot. I am trying to add FE to the application. After registration, I have tried to login to the application. After successful login, we get JWT Token. For that we need to send username, password and grant type in body and Basic authentication details in header. The is\r\n\r\n\r\n```javascript \r\r\nvar postData = {\r\n      username: a,\r\n      password: b,\r\n      grant_type:&#39;c&#39;\r\n    };\r\n\r\n    let axiosConfig = {\r\n      headers: {\r\n          &#39;Content-Type&#39;: &#39;application/json;charset=UTF-8&#39;,\r\n          &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\r\n          &quot;Accept&quot;: &quot;application/json&quot; ,\r\n          &quot;Authorization&quot;:&quot;Basic&quot; + &quot; &quot; +base64.encode(&quot;U&quot; + &quot;:&quot; + &quot;p&quot;)\r\n      }\r\n    };\r\n    \r\n    axios.post(&#39;http://localhost:9003/login/token&#39;, postData,axiosConfig)\r\n    .then((res) =&gt; {\r\n      console.log(&quot;RESPONSE RECEIVED: &quot;, res);\r\n    })\r\n    .catch((err) =&gt; {\r\n      console.log(&quot;AXIOS ERROR: &quot;, err);\r\n    })\n```\r\n\r\nWhen I run this program, I got the error,\r\n\n```\r\nAccess to XMLHttpRequest at &#39;http://localhost:9003/login/token&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n```\n\r\nAnd My Spring boot Code is\r\n\r\n```java\r\n @Override\r\n\t  \r\n\t  @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;) public void\r\n\t  configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t  \r\n\t  http.cors().and().exceptionHandling() .authenticationEntryPoint( (request,\r\n\t  response, authException) -&gt;\r\n\t  response.sendError(HttpServletResponse.SC_UNAUTHORIZED))\r\n\t  .and().authorizeRequests().antMatchers(&quot;/*&quot;).authenticated().and().httpBasic();\r\n\t\r\n\t  http.exceptionHandling().authenticationEntryPoint(new\r\n\t  CustomAuthenticationEntryPoint());\r\n\t \r\n\t  \r\n\t  \r\n\t  }\r\n\r\n\r\n     @Override\r\n\t@CrossOrigin(origins = &quot;*&quot;,allowedHeaders=&quot;*&quot;)\r\n\tpublic void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n\r\n\t\tendpoints.pathMapping(&quot;/oauth/token&quot;, &quot;/login/token&quot;).tokenStore(tokenStore())\r\n\t\t\t\t.tokenEnhancer(jwtAccessTokenConverter()).authenticationManager(authenticationManager)\r\n\t\t\t\t.userDetailsService(userDetailsService);\r\n```\r\n\r\n\r\n\t\t\r\nAnybody know how to solve this?","title":"Spring Security+ReactJS - Preflight Request","body":"<p>I am working on a project with FE as react and BE as Springboot. I am trying to add FE to the application. After registration, I have tried to login to the application. After successful login, we get JWT Token. For that we need to send username, password and grant type in body and Basic authentication details in header. The is</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nvar postData = {\n      username: a,\n      password: b,\n      grant_type:'c'\n    };\n\n    let axiosConfig = {\n      headers: {\n          'Content-Type': 'application/json;charset=UTF-8',\n          &quot;Access-Control-Allow-Origin&quot;: &quot;*&quot;,\n          &quot;Accept&quot;: &quot;application/json&quot; ,\n          &quot;Authorization&quot;:&quot;Basic&quot; + &quot; &quot; +base64.encode(&quot;U&quot; + &quot;:&quot; + &quot;p&quot;)\n      }\n    };\n    \n    axios.post('http://localhost:9003/login/token', postData,axiosConfig)\n    .then((res) =&gt; {\n      console.log(&quot;RESPONSE RECEIVED: &quot;, res);\n    })\n    .catch((err) =&gt; {\n      console.log(&quot;AXIOS ERROR: &quot;, err);\n    })\n</code></pre>\n<p>When I run this program, I got the error,</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:9003/login/token' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>And My Spring boot Code is</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n      \n      @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;) public void\n      configure(HttpSecurity http) throws Exception {\n        \n      \n      http.cors().and().exceptionHandling() .authenticationEntryPoint( (request,\n      response, authException) -&gt;\n      response.sendError(HttpServletResponse.SC_UNAUTHORIZED))\n      .and().authorizeRequests().antMatchers(&quot;/*&quot;).authenticated().and().httpBasic();\n    \n      http.exceptionHandling().authenticationEntryPoint(new\n      CustomAuthenticationEntryPoint());\n     \n      \n      \n      }\n\n\n     @Override\n    @CrossOrigin(origins = &quot;*&quot;,allowedHeaders=&quot;*&quot;)\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n\n        endpoints.pathMapping(&quot;/oauth/token&quot;, &quot;/login/token&quot;).tokenStore(tokenStore())\n                .tokenEnhancer(jwtAccessTokenConverter()).authenticationManager(authenticationManager)\n                .userDetailsService(userDetailsService);\n</code></pre>\n<p>Anybody know how to solve this?</p>\n"},{"tags":["java","spring-boot","amazon-dynamodb","hazelcast","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648128940,"creation_date":1648128532,"answer_id":71603402,"question_id":71602756,"body_markdown":"[Spring Boot actuator](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html) provides a lot of useful endpoints, one of which is the health endpoint. The health endpoint returns the health status of your application based on its dependencies (databases, third party APIs, ...).\r\n\r\nThere are already builtin [health indicators](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.health.auto-configured-health-indicators) for RabbitMQ, Hazelcast and Elastic. There is no builtin health indicator for DynamoDB as far as I know, but you can also write your own health indicator, as seen in [this question](https://stackoverflow.com/q/54019312/1915448).\r\n\r\nNow, to send you an email there are a two options:\r\n\r\n1. You can use an external program (eg. monitoring software) to regularly check the health actuator\r\n2. You can write it as part of your Spring boot application\r\n\r\n## Using an external program\r\n\r\nIf you use an external program, you can make it consume the `/actuator/health` endpoint. To enable this endpoint, configure the following property:\r\n\r\n```\r\nmanagement.endpoints.web.exposure.include=health\r\n````\r\n\r\nBy default this endpoint only exposes a single aggregated status of all health indicators combined. If you want to individually see which service is down, you can show more details by setting the following property to `always` or `when_authorized`:\r\n\r\n```\r\nmanagement.endpoint.health.show-details=always | when_authorized\r\n```\r\n\r\nThe response will look something like this:\r\n\r\n```json\r\n{\r\n  &quot;status&quot;: &quot;DOWN&quot;,\r\n  &quot;rabbit&quot;: {\r\n    &quot;status&quot;: &quot;DOWN&quot;,\r\n    &quot;error&quot;: &quot;org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused (Connection refused)&quot;\r\n  }\r\n}\r\n```\r\n\r\n## Writing your own\r\n\r\nYou can write a [scheduled task](https://spring.io/guides/gs/scheduling-tasks/) by using the `@Scheduled` annotation to regularly check the health status. To obtain the health status, you can autowire `HealthEndpoint` as seen in [this question](https://stackoverflow.com/q/63510634/1915448).\r\n\r\nThen you can send an email with [Spring](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-email.html).\r\n\r\n```java\r\n@Component\r\npublic class HealthEmailSender {\r\n    private final HealthEndpoint healthEndpoint;\r\n    private final JavaMailSender mailSender;\r\n\r\n    // TODO: Implement constructor to autowire healthEndpoint + mailSender\r\n\r\n    @Scheduled(fixedRate = 10 * 60 * 1000) // Check once every 10 minutes\r\n    public void sendEmailWhenBadHealth() {\r\n        if (isHealthDown()) {\r\n            sendMail();\r\n        }\r\n    }\r\n    \r\n    private boolean isHealthDown() {\r\n        return Status.DOWN.equals(healthEndpoint.health().getStatus());\r\n    }\r\n\r\n    private void sendMail() {\r\n        MimeMessage message = mailsender.createMimeMessage();\r\n        // TODO: Set from / to / title / content\r\n        mailSender.send(message);\r\n    }\r\n}\r\n```\r\n\r\nThis code snippet above would send an e-mail as soon as any health indicator goes down (not only from the services you mentioned).\r\n\r\nTo obtain the health status of one of the services you&#39;re interested in, you can use `healthEndpoint.healthForPath(&quot;rabbit&quot;).getStatus()`.","title":"Is it possible to get a list of service that dynamically get down on my application that is on spring boot","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html\" rel=\"nofollow noreferrer\">Spring Boot actuator</a> provides a lot of useful endpoints, one of which is the health endpoint. The health endpoint returns the health status of your application based on its dependencies (databases, third party APIs, ...).</p>\n<p>There are already builtin <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.health.auto-configured-health-indicators\" rel=\"nofollow noreferrer\">health indicators</a> for RabbitMQ, Hazelcast and Elastic. There is no builtin health indicator for DynamoDB as far as I know, but you can also write your own health indicator, as seen in <a href=\"https://stackoverflow.com/q/54019312/1915448\">this question</a>.</p>\n<p>Now, to send you an email there are a two options:</p>\n<ol>\n<li>You can use an external program (eg. monitoring software) to regularly check the health actuator</li>\n<li>You can write it as part of your Spring boot application</li>\n</ol>\n<h2>Using an external program</h2>\n<p>If you use an external program, you can make it consume the <code>/actuator/health</code> endpoint. To enable this endpoint, configure the following property:</p>\n<pre><code>management.endpoints.web.exposure.include=health\n</code></pre>\n<p>By default this endpoint only exposes a single aggregated status of all health indicators combined. If you want to individually see which service is down, you can show more details by setting the following property to <code>always</code> or <code>when_authorized</code>:</p>\n<pre><code>management.endpoint.health.show-details=always | when_authorized\n</code></pre>\n<p>The response will look something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;status&quot;: &quot;DOWN&quot;,\n  &quot;rabbit&quot;: {\n    &quot;status&quot;: &quot;DOWN&quot;,\n    &quot;error&quot;: &quot;org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused (Connection refused)&quot;\n  }\n}\n</code></pre>\n<h2>Writing your own</h2>\n<p>You can write a <a href=\"https://spring.io/guides/gs/scheduling-tasks/\" rel=\"nofollow noreferrer\">scheduled task</a> by using the <code>@Scheduled</code> annotation to regularly check the health status. To obtain the health status, you can autowire <code>HealthEndpoint</code> as seen in <a href=\"https://stackoverflow.com/q/63510634/1915448\">this question</a>.</p>\n<p>Then you can send an email with <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-email.html\" rel=\"nofollow noreferrer\">Spring</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class HealthEmailSender {\n    private final HealthEndpoint healthEndpoint;\n    private final JavaMailSender mailSender;\n\n    // TODO: Implement constructor to autowire healthEndpoint + mailSender\n\n    @Scheduled(fixedRate = 10 * 60 * 1000) // Check once every 10 minutes\n    public void sendEmailWhenBadHealth() {\n        if (isHealthDown()) {\n            sendMail();\n        }\n    }\n    \n    private boolean isHealthDown() {\n        return Status.DOWN.equals(healthEndpoint.health().getStatus());\n    }\n\n    private void sendMail() {\n        MimeMessage message = mailsender.createMimeMessage();\n        // TODO: Set from / to / title / content\n        mailSender.send(message);\n    }\n}\n</code></pre>\n<p>This code snippet above would send an e-mail as soon as any health indicator goes down (not only from the services you mentioned).</p>\n<p>To obtain the health status of one of the services you're interested in, you can use <code>healthEndpoint.healthForPath(&quot;rabbit&quot;).getStatus()</code>.</p>\n"}],"owner":{"account_id":23990872,"reputation":51,"user_id":17977063,"display_name":"Siddhant Bhatia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71603402,"answer_count":1,"score":1,"last_activity_date":1648128940,"creation_date":1648125761,"question_id":71602756,"body_markdown":"My application contains rabbitmq,hazelcast,dynamodb,elastic I want build a mechanism that can tell me whenever any of my application get down I should be notified on an email.Can we include any service which i can track to get status of all application that are integrated in my spring boot application\r\n\r\nI tried using try catch block but line of code got increased and it made my code very cumbersome as it difficult for me to add try catch at every method","title":"Is it possible to get a list of service that dynamically get down on my application that is on spring boot","body":"<p>My application contains rabbitmq,hazelcast,dynamodb,elastic I want build a mechanism that can tell me whenever any of my application get down I should be notified on an email.Can we include any service which i can track to get status of all application that are integrated in my spring boot application</p>\n<p>I tried using try catch block but line of code got increased and it made my code very cumbersome as it difficult for me to add try catch at every method</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1648127396,"post_id":71603105,"comment_id":126548939,"body_markdown":"Logically, you can&#39;t chain an arbitrarily-long list of functions unless their input and output types are the same. That is, T must equal R.","body":"Logically, you can&#39;t chain an arbitrarily-long list of functions unless their input and output types are the same. That is, T must equal R."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1648127453,"post_id":71603105,"comment_id":126548956,"body_markdown":"Honestly, an easier way of doing this is to construct a single function using `l1.andThen(l2)`.","body":"Honestly, an easier way of doing this is to construct a single function using <code>l1.andThen(l2)</code>."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1648127849,"post_id":71603105,"comment_id":126549127,"body_markdown":"You could probably model this with a heterogeneous list of some sort, but that is very cumbersome in Java (or maybe it&#39;s not even possible to achieve with full type safety?). You could do it in Scala 3 though: https://www.scala-lang.org/2021/02/26/tuples-bring-generic-programming-to-scala-3.html. Just chaining `andThen`-calls is much easier :)","body":"You could probably model this with a heterogeneous list of some sort, but that is very cumbersome in Java (or maybe it&#39;s not even possible to achieve with full type safety?). You could do it in Scala 3 though: <a href=\"https://www.scala-lang.org/2021/02/26/tuples-bring-generic-programming-to-scala-3.html\" rel=\"nofollow noreferrer\">scala-lang.org/2021/02/26/&hellip;</a>. Just chaining <code>andThen</code>-calls is much easier :)"},{"owner":{"account_id":3475750,"reputation":840,"user_id":2908993,"accept_rate":75,"display_name":"MarcinG"},"score":0,"creation_date":1648128026,"post_id":71603105,"comment_id":126549200,"body_markdown":"@AndyTurner before calling convertBy? \nInteger ret = convertBy(&quot;Lorem ipsum&quot;, l1.andThen(l2));\nThis is unfortunately not possible in this case, it must accept a variadic list of functions.","body":"@AndyTurner before calling convertBy?  Integer ret = convertBy(&quot;Lorem ipsum&quot;, l1.andThen(l2)); This is unfortunately not possible in this case, it must accept a variadic list of functions."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648128868,"creation_date":1648128868,"answer_id":71603494,"question_id":71603105,"body_markdown":"You can&#39;t do this with a variadic argument, because you then need all of the functions to be of the same type: that means that all of the functions have to have the same input and output type, in order that the output of one call can be passed as the input to the next.\r\n\r\nIn other words, `R` must be equal to `T`.\r\n\r\n```\r\nstatic public&lt;T&gt; T convertBy(T data, Function&lt;T, T&gt;... fs) { ... }\r\n```\r\n\r\nYou can _pretend_ to support variadic arguments by providing a number of overloads, for the 1, 2, 3, ... N cases:\r\n\r\n```\r\nstatic public&lt;T0, T1&gt; T1 convertBy(T0 data, Function&lt;T0, T1&gt; f0) { ... }\r\nstatic public&lt;T0, T1, T2&gt; T2 convertBy(T0 data, Function&lt;T0, T1&gt; f0, Function&lt;T1, T2&gt; f1) { ... }\r\nstatic public&lt;T0, T1, T2, T3&gt; T3 convertBy(T0 data, Function&lt;T0, T1&gt; f0, Function&lt;T1, T2&gt; f1, Function&lt;T2, T3&gt; f2) { ... }\r\n```\r\n\r\nWhich obviously involves a fair bit of code duplication. (There is prior art for this, for example in the [`List.of` methods](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of()))\r\n\r\nBut other than that, there is no good way of expressing it in a type-safe way.\r\n\r\nHowever, because these aren&#39;t _actually_ variadic methods, you can&#39;t call them with an array of functions. Given that, it doesn&#39;t make much sense to have all of these overloads, because you can just use `andThen` to chain the functions; and then just use the `apply` method:\r\n\r\n```\r\nT result = f0.andThen(f1).andThen(f2).apply(data);\r\n```","title":"Combining funtions with different types","body":"<p>You can't do this with a variadic argument, because you then need all of the functions to be of the same type: that means that all of the functions have to have the same input and output type, in order that the output of one call can be passed as the input to the next.</p>\n<p>In other words, <code>R</code> must be equal to <code>T</code>.</p>\n<pre><code>static public&lt;T&gt; T convertBy(T data, Function&lt;T, T&gt;... fs) { ... }\n</code></pre>\n<p>You can <em>pretend</em> to support variadic arguments by providing a number of overloads, for the 1, 2, 3, ... N cases:</p>\n<pre><code>static public&lt;T0, T1&gt; T1 convertBy(T0 data, Function&lt;T0, T1&gt; f0) { ... }\nstatic public&lt;T0, T1, T2&gt; T2 convertBy(T0 data, Function&lt;T0, T1&gt; f0, Function&lt;T1, T2&gt; f1) { ... }\nstatic public&lt;T0, T1, T2, T3&gt; T3 convertBy(T0 data, Function&lt;T0, T1&gt; f0, Function&lt;T1, T2&gt; f1, Function&lt;T2, T3&gt; f2) { ... }\n</code></pre>\n<p>Which obviously involves a fair bit of code duplication. (There is prior art for this, for example in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of()\" rel=\"nofollow noreferrer\"><code>List.of</code> methods</a>)</p>\n<p>But other than that, there is no good way of expressing it in a type-safe way.</p>\n<p>However, because these aren't <em>actually</em> variadic methods, you can't call them with an array of functions. Given that, it doesn't make much sense to have all of these overloads, because you can just use <code>andThen</code> to chain the functions; and then just use the <code>apply</code> method:</p>\n<pre><code>T result = f0.andThen(f1).andThen(f2).apply(data);\n</code></pre>\n"}],"owner":{"account_id":3475750,"reputation":840,"user_id":2908993,"accept_rate":75,"display_name":"MarcinG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71603494,"answer_count":1,"score":0,"last_activity_date":1648128868,"creation_date":1648127358,"question_id":71603105,"body_markdown":"I am writing a method that is executing a variadic list of lambdas on an argument:\r\n\r\n```\r\npublic class Main {\r\n    static public&lt;T, R&gt; R convertBy(T data, Function... f) {\r\n        Function composer = Function.identity();\r\n        for (var fi: f ) {\r\n            composer = composer.andThen(fi);\r\n        }\r\n\r\n        return (R)composer.apply(data);\r\n    }\r\n\r\n     public static void main(String[] args) {\r\n        Function&lt;String, String&gt; l1 = x -&gt; x.toLowerCase(Locale.ROOT);\r\n        Function&lt;String, Integer&gt; l2 = String::length;\r\n\r\n        Integer ret = convertBy(&quot;Lorem ipsum&quot;, l1, l2);\r\n      }\r\n}\r\n```\r\nIs there a way to use templates and not raw Functions? \r\nBy that I mean some kind of way to express this transformation using templates: T -&gt; ... -&gt; R. Or at least get rid of the casting to R in return.","title":"Combining funtions with different types","body":"<p>I am writing a method that is executing a variadic list of lambdas on an argument:</p>\n<pre><code>public class Main {\n    static public&lt;T, R&gt; R convertBy(T data, Function... f) {\n        Function composer = Function.identity();\n        for (var fi: f ) {\n            composer = composer.andThen(fi);\n        }\n\n        return (R)composer.apply(data);\n    }\n\n     public static void main(String[] args) {\n        Function&lt;String, String&gt; l1 = x -&gt; x.toLowerCase(Locale.ROOT);\n        Function&lt;String, Integer&gt; l2 = String::length;\n\n        Integer ret = convertBy(&quot;Lorem ipsum&quot;, l1, l2);\n      }\n}\n</code></pre>\n<p>Is there a way to use templates and not raw Functions?\nBy that I mean some kind of way to express this transformation using templates: T -&gt; ... -&gt; R. Or at least get rid of the casting to R in return.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":2,"creation_date":1648012298,"post_id":71582029,"comment_id":126513233,"body_markdown":"I don&#39;t see a `RecyclerView` in above layout . why don&#39;t you add the part where u have `RecyclerView` and the code also .","body":"I don&#39;t see a <code>RecyclerView</code> in above layout . why don&#39;t you add the part where u have <code>RecyclerView</code> and the code also ."}],"answers":[{"tags":[],"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648012664,"creation_date":1648012664,"answer_id":71582150,"question_id":71582029,"body_markdown":"Try this custom view \r\n\r\n    package com.avatus.util\r\n\r\n    import android.content.Context\r\n    import android.util.AttributeSet\r\n    import android.view.MotionEvent\r\n    import android.widget.LinearLayout\r\n\r\n\r\n    class DisallowInterceptView : LinearLayout {\r\n    constructor(context: Context?) : super(context) {\r\n        requestDisallowInterceptTouchEvent(true)\r\n    }\r\n\r\n    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {\r\n        requestDisallowInterceptTouchEvent(true)\r\n    }\r\n\r\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(\r\n        context,\r\n        attrs,\r\n        defStyleAttr\r\n    ) {\r\n        requestDisallowInterceptTouchEvent(true)\r\n    }\r\n\r\n    override fun dispatchTouchEvent(ev: MotionEvent): Boolean {\r\n        parent.requestDisallowInterceptTouchEvent(true)\r\n        return super.dispatchTouchEvent(ev)\r\n    }\r\n\r\n    override fun onTouchEvent(event: MotionEvent): Boolean {\r\n        when (event.action) {\r\n            MotionEvent.ACTION_MOVE -&gt; requestDisallowInterceptTouchEvent(true)\r\n            MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; requestDisallowInterceptTouchEvent(\r\n                false\r\n            )\r\n        }\r\n        return super.onTouchEvent(event)\r\n    }\r\n    }\r\n\r\n     &lt;com.avatus.util.DisallowInterceptView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:padding=&quot;@dimen/_16sdp&quot;\r\n        android:background=&quot;#17141A&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n        // Your view here \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n     &lt;/com.avatus.util.DisallowInterceptView&gt;\r\n\r\n","title":"RecyclerView on Bottom sheet can not scroll?","body":"<p>Try this custom view</p>\n<pre><code>package com.avatus.util\n\nimport android.content.Context\nimport android.util.AttributeSet\nimport android.view.MotionEvent\nimport android.widget.LinearLayout\n\n\nclass DisallowInterceptView : LinearLayout {\nconstructor(context: Context?) : super(context) {\n    requestDisallowInterceptTouchEvent(true)\n}\n\nconstructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {\n    requestDisallowInterceptTouchEvent(true)\n}\n\nconstructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(\n    context,\n    attrs,\n    defStyleAttr\n) {\n    requestDisallowInterceptTouchEvent(true)\n}\n\noverride fun dispatchTouchEvent(ev: MotionEvent): Boolean {\n    parent.requestDisallowInterceptTouchEvent(true)\n    return super.dispatchTouchEvent(ev)\n}\n\noverride fun onTouchEvent(event: MotionEvent): Boolean {\n    when (event.action) {\n        MotionEvent.ACTION_MOVE -&gt; requestDisallowInterceptTouchEvent(true)\n        MotionEvent.ACTION_UP, MotionEvent.ACTION_CANCEL -&gt; requestDisallowInterceptTouchEvent(\n            false\n        )\n    }\n    return super.onTouchEvent(event)\n}\n}\n\n &lt;com.avatus.util.DisallowInterceptView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:padding=&quot;@dimen/_16sdp&quot;\n    android:background=&quot;#17141A&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    // Your view here \n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n &lt;/com.avatus.util.DisallowInterceptView&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18361792,"reputation":21,"user_id":13373748,"display_name":"G Anil Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648128526,"creation_date":1648128526,"answer_id":71603399,"question_id":71582029,"body_markdown":"I had the same requirement and solved it like below\r\n\r\n**Make BottomSheetDialog object attribute set cancelable false like below**\r\n\r\n    viewIndentItemBottomSheetDialog.setCancelable(false)","title":"RecyclerView on Bottom sheet can not scroll?","body":"<p>I had the same requirement and solved it like below</p>\n<p><strong>Make BottomSheetDialog object attribute set cancelable false like below</strong></p>\n<pre><code>viewIndentItemBottomSheetDialog.setCancelable(false)\n</code></pre>\n"}],"owner":{"account_id":23446652,"reputation":1,"user_id":17503371,"display_name":"linh trần"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648128526,"creation_date":1648011642,"question_id":71582029,"body_markdown":"I want to recyclerView on Bottom sheet can scroll but i cant . I try use OntouchListenner in RecyclerView but which can not scroll. Pls help me....\r\n\r\nMain layout\r\n\r\n```\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#efefef&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/conten_main&quot; /&gt;\r\n\r\n    &lt;include layout=&quot;@layout/layout_bottom_sheet&quot; /&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;250dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:srcCompat=&quot;@drawable/air&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; \r\n```\r\n\r\nI want to know how to Scroll in RecyclerView","title":"RecyclerView on Bottom sheet can not scroll?","body":"<p>I want to recyclerView on Bottom sheet can scroll but i cant . I try use OntouchListenner in RecyclerView but which can not scroll. Pls help me....</p>\n<p>Main layout</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#efefef&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/conten_main&quot; /&gt;\n\n    &lt;include layout=&quot;@layout/layout_bottom_sheet&quot; /&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;250dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:srcCompat=&quot;@drawable/air&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt; \n</code></pre>\n<p>I want to know how to Scroll in RecyclerView</p>\n"},{"tags":["java","spring","hibernate","jpa","testing"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1648128310,"post_id":71603195,"comment_id":126549336,"body_markdown":"DataJpaTest already has a transactional annotation. why don&#39;t you remove rollback annotation?","body":"DataJpaTest already has a transactional annotation. why don&#39;t you remove rollback annotation?"},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1648128485,"post_id":71603195,"comment_id":126549421,"body_markdown":"@JoonseoLee I guess I could? And I tried, but I want my test not to rollback db state, because I use side-effects in other tests. In one test, I add some cash to user, and in other I use that cash to interact with market.","body":"@JoonseoLee I guess I could? And I tried, but I want my test not to rollback db state, because I use side-effects in other tests. In one test, I add some cash to user, and in other I use that cash to interact with market."},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1648128555,"post_id":71603195,"comment_id":126549455,"body_markdown":"@JoonseoLee yeah, once again I removed the annotation and it failed with the same error. Most likely it&#39;s not about this annotation.","body":"@JoonseoLee yeah, once again I removed the annotation and it failed with the same error. Most likely it&#39;s not about this annotation."},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1648128612,"post_id":71603195,"comment_id":126549496,"body_markdown":"@JoonseoLee if you think that it is a bad idea, maybe you could suggest a better solution for this task?","body":"@JoonseoLee if you think that it is a bad idea, maybe you could suggest a better solution for this task?"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1648129778,"post_id":71603195,"comment_id":126550061,"body_markdown":"ahh I didn&#39;t get the point. well in my point of view, I just create unit test without db connections. because I just want to check the logic in the unit test. so to satisfy your expectation I have to offer other solutions,","body":"ahh I didn&#39;t get the point. well in my point of view, I just create unit test without db connections. because I just want to check the logic in the unit test. so to satisfy your expectation I have to offer other solutions,"},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1648129987,"post_id":71603195,"comment_id":126550183,"body_markdown":"@JoonseoLee I think that it&#39;s more like integration test because main purpose of this test is to check if endpoints and services work fine together.. but maybe I could just have checked if services to what they are supposed to do?","body":"@JoonseoLee I think that it&#39;s more like integration test because main purpose of this test is to check if endpoints and services work fine together.. but maybe I could just have checked if services to what they are supposed to do?"}],"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648127718,"creation_date":1648127718,"question_id":71603195,"body_markdown":"I have looked for simillar questions here on stackoverflow, but it seems like everyone has different problems occuring due to lack of understanding how spring does transactions for you. \r\nWell, I am writing some test for endpoints. First I made a higher order class to populate with class for each endpoint I have. I still think it&#39;s supposed to only serve as a method of logical separation, so that it&#39;s easier to distinguish between each other and not test directory with tons of different files. But it might be not that way:\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase\r\n@Rollback(false)\r\npublic class EndpointTest {\r\n    User user, user2;\r\n    Item card, token;\r\n    AuctionLot auctionLot;\r\n    Bid bid;\r\n\r\n    TestEntityManager testEntityManager;\r\n    UserRepository userRepository;\r\n    CardRepository cardRepository;\r\n    TokenRepository tokenRepository;\r\n    AuctionLotRepository auctionLotRepository;\r\n\r\n    @Autowired\r\n    public EndpointTest(TestEntityManager testEntityManager, UserRepository userRepository,\r\n            TokenRepository tokenRepository, CardRepository cardRepository, AuctionLotRepository auctionLotRepository) {\r\n        this.testEntityManager = testEntityManager;\r\n        this.cardRepository = cardRepository;\r\n        this.userRepository = userRepository;\r\n        this.tokenRepository = tokenRepository;\r\n        this.auctionLotRepository = auctionLotRepository;\r\n\r\n        User user = new User(&quot;user1&quot;, &quot;0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;, &quot;example@gmail.com&quot;, RoleEnum.USER),\r\n                user2 = new User(&quot;user2&quot;, &quot;0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA&quot;, &quot;example1@gmail.com&quot;,\r\n                        RoleEnum.USER);\r\n        Token token = new Token(BigInteger.valueOf(1l), &quot;someuri&quot;, &quot;addressFactory&quot;, &quot;addressNFT&quot;, &quot;token1&quot;,\r\n                &quot;Some token&quot;, BigInteger.valueOf(100l), user);\r\n        testEntityManager.persist(user);\r\n        testEntityManager.persist(user2);\r\n        testEntityManager.persist(token);\r\n        testEntityManager.persistAndFlush(new Card(&quot;card1&quot;, &quot;someurl&quot;, &quot;Some card&quot;, new Date(), token));\r\n    }\r\n\r\n    @Nested\r\n    public class CurrencyExchangeEndpointTest {\r\n        @Autowired\r\n        private CurrencyExchangeEndpoint endpoint;\r\n\r\n        @Test\r\n        public void exchangeEthToGoldCoinTest() {\r\n            endpoint.exchangeEthToGoldCoin(BigInteger.valueOf(100l), user.getId());\r\n            assertEquals(userRepository.findByProfileUsername(user.getUsername()).getWallet().getBalanceGoldCoin(),\r\n                    100L);\r\n        }\r\n\r\n        @Test\r\n        public void exchangeGExtraToEthTest() {\r\n            user.getWallet().addBalanceGExtra(BigInteger.valueOf(100l));\r\n            userRepository.save(user);\r\n            endpoint.exchangeGExtraToEth(BigInteger.valueOf(40l), user.getId());\r\n            assertEquals(userRepository.findByProfileUsername(user.getUsername()).getWallet().getBalanceGExtra(), 60l);\r\n        }\r\n    }\r\n...\r\n}\r\n```\r\n\r\nI purposefully added @Rollback(false) for convenience, because it&#39;s obvious to me how to work with side-effects of each test (it&#39;s some sort of end-to-end test I think). But there&#39;s an error, and it&#39;s has to be peace of a cake, but I just have no clue what should I do in order to fix this. I tried removing rollback annotation, but it didn&#39;t help. Does it have something to do with nesting? Error messages are the same for all tests: \r\n```java\r\nEndpointTest &gt; CurrencyExchangeEndpointTest &gt; exchangeGExtraToEthTest() FAILED\r\n    java.lang.IllegalStateException: No transactional EntityManager found, is your test running in a transaction?\r\n        at org.springframework.util.Assert.state(Assert.java:76)\r\n        at org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.getEntityManager(TestEntityManager.java:237)\r\n        at org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.persist(TestEntityManager.java:92)\r\n        at com.suplab.suplabethereum.controller.EndpointTest.&lt;init&gt;(EndpointTest.java:66)\r\n...\r\n```\r\nTests outside of this file work just fine, so that has to be something wrong with coonfiguration I guess.","title":"No transactional EntityManager found","body":"<p>I have looked for simillar questions here on stackoverflow, but it seems like everyone has different problems occuring due to lack of understanding how spring does transactions for you.\nWell, I am writing some test for endpoints. First I made a higher order class to populate with class for each endpoint I have. I still think it's supposed to only serve as a method of logical separation, so that it's easier to distinguish between each other and not test directory with tons of different files. But it might be not that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\n@AutoConfigureTestDatabase\n@Rollback(false)\npublic class EndpointTest {\n    User user, user2;\n    Item card, token;\n    AuctionLot auctionLot;\n    Bid bid;\n\n    TestEntityManager testEntityManager;\n    UserRepository userRepository;\n    CardRepository cardRepository;\n    TokenRepository tokenRepository;\n    AuctionLotRepository auctionLotRepository;\n\n    @Autowired\n    public EndpointTest(TestEntityManager testEntityManager, UserRepository userRepository,\n            TokenRepository tokenRepository, CardRepository cardRepository, AuctionLotRepository auctionLotRepository) {\n        this.testEntityManager = testEntityManager;\n        this.cardRepository = cardRepository;\n        this.userRepository = userRepository;\n        this.tokenRepository = tokenRepository;\n        this.auctionLotRepository = auctionLotRepository;\n\n        User user = new User(&quot;user1&quot;, &quot;0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&quot;, &quot;example@gmail.com&quot;, RoleEnum.USER),\n                user2 = new User(&quot;user2&quot;, &quot;0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA&quot;, &quot;example1@gmail.com&quot;,\n                        RoleEnum.USER);\n        Token token = new Token(BigInteger.valueOf(1l), &quot;someuri&quot;, &quot;addressFactory&quot;, &quot;addressNFT&quot;, &quot;token1&quot;,\n                &quot;Some token&quot;, BigInteger.valueOf(100l), user);\n        testEntityManager.persist(user);\n        testEntityManager.persist(user2);\n        testEntityManager.persist(token);\n        testEntityManager.persistAndFlush(new Card(&quot;card1&quot;, &quot;someurl&quot;, &quot;Some card&quot;, new Date(), token));\n    }\n\n    @Nested\n    public class CurrencyExchangeEndpointTest {\n        @Autowired\n        private CurrencyExchangeEndpoint endpoint;\n\n        @Test\n        public void exchangeEthToGoldCoinTest() {\n            endpoint.exchangeEthToGoldCoin(BigInteger.valueOf(100l), user.getId());\n            assertEquals(userRepository.findByProfileUsername(user.getUsername()).getWallet().getBalanceGoldCoin(),\n                    100L);\n        }\n\n        @Test\n        public void exchangeGExtraToEthTest() {\n            user.getWallet().addBalanceGExtra(BigInteger.valueOf(100l));\n            userRepository.save(user);\n            endpoint.exchangeGExtraToEth(BigInteger.valueOf(40l), user.getId());\n            assertEquals(userRepository.findByProfileUsername(user.getUsername()).getWallet().getBalanceGExtra(), 60l);\n        }\n    }\n...\n}\n</code></pre>\n<p>I purposefully added @Rollback(false) for convenience, because it's obvious to me how to work with side-effects of each test (it's some sort of end-to-end test I think). But there's an error, and it's has to be peace of a cake, but I just have no clue what should I do in order to fix this. I tried removing rollback annotation, but it didn't help. Does it have something to do with nesting? Error messages are the same for all tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EndpointTest &gt; CurrencyExchangeEndpointTest &gt; exchangeGExtraToEthTest() FAILED\n    java.lang.IllegalStateException: No transactional EntityManager found, is your test running in a transaction?\n        at org.springframework.util.Assert.state(Assert.java:76)\n        at org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.getEntityManager(TestEntityManager.java:237)\n        at org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager.persist(TestEntityManager.java:92)\n        at com.suplab.suplabethereum.controller.EndpointTest.&lt;init&gt;(EndpointTest.java:66)\n...\n</code></pre>\n<p>Tests outside of this file work just fine, so that has to be something wrong with coonfiguration I guess.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648123796,"post_id":71602222,"comment_id":126547399,"body_markdown":"You can split over space if the command is always two words with the second being the number, or you can use regular expressions to match a number in the command","body":"You can split over space if the command is always two words with the second being the number, or you can use regular expressions to match a number in the command"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1648201292,"post_id":71602222,"comment_id":126569575,"body_markdown":"Why is `S` in system not capital here: `system.out.print(&quot;Enter your character action and value amount: &quot;);`?","body":"Why is <code>S</code> in system not capital here: <code>system.out.print(&quot;Enter your character action and value amount: &quot;);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648127636,"creation_date":1648123898,"answer_id":71602305,"question_id":71602222,"body_markdown":"Given your described input format, it should be as easy as :\r\n\r\n    gameInput.split(&quot; &quot;)[1]\r\n\r\nThe `split` method will split the string into an array of tokens separated by space. The second one should correspond to your number.","title":"How can I get the value at the end of a string?","body":"<p>Given your described input format, it should be as easy as :</p>\n<pre><code>gameInput.split(&quot; &quot;)[1]\n</code></pre>\n<p>The <code>split</code> method will split the string into an array of tokens separated by space. The second one should correspond to your number.</p>\n"},{"tags":[],"owner":{"account_id":23992494,"reputation":68,"user_id":17978414,"display_name":"pandaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648124837,"creation_date":1648124145,"answer_id":71602379,"question_id":71602222,"body_markdown":"use String#split like:\r\n\r\n```\r\nString[] args = userInput.split(&quot; &quot;);\r\n```\r\n\r\nit will split the string by space.\r\n\r\nthen to get the last argument use:\r\n\r\n```\r\nString lastArg = args[args.length - 1];\r\n```\r\n\r\nI hope I helped :)\r\n\r\n\r\n\r\n","title":"How can I get the value at the end of a string?","body":"<p>use String#split like:</p>\n<pre><code>String[] args = userInput.split(&quot; &quot;);\n</code></pre>\n<p>it will split the string by space.</p>\n<p>then to get the last argument use:</p>\n<pre><code>String lastArg = args[args.length - 1];\n</code></pre>\n<p>I hope I helped :)</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648124190,"creation_date":1648124190,"answer_id":71602390,"question_id":71602222,"body_markdown":"One practice is to use String `split` method\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class StackOverFlow {\r\n        public static void main(String[] args) {\r\n            String first = &quot;EAS 1427&quot;;\r\n            String second = &quot;CST 2&quot;;\r\n            System.out.println(extract(first));\r\n        }\r\n\r\n        public static String extract(String input){\r\n            String [] value = input.split(&quot; &quot;);\r\n            return value[1];\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How can I get the value at the end of a string?","body":"<p>One practice is to use String <code>split</code> method</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>public class StackOverFlow {\n    public static void main(String[] args) {\n        String first = &quot;EAS 1427&quot;;\n        String second = &quot;CST 2&quot;;\n        System.out.println(extract(first));\n    }\n\n    public static String extract(String input){\n        String [] value = input.split(&quot; &quot;);\n        return value[1];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":472406,"reputation":6519,"user_id":880874,"accept_rate":88,"display_name":"SkyeBoniwell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71602379,"answer_count":3,"score":-1,"last_activity_date":1648127636,"creation_date":1648123566,"question_id":71602222,"body_markdown":"I&#39;m trying to write a simple and quick text-based java dungeon crawler.\r\n\r\nThe player can type in simple 3 letter commands followed by a number value like this:\r\n\r\n&gt; NTH 21, or ATT 3, or CST 102, etc...\r\n\r\nI know how to get the first 3 letter command using `substring()`.\r\n\r\nI also know I can use `substring()` to get the end of a string like this:\r\n\r\n    amount = gameInput.substring(gameInput.length() - 3)\r\n\r\nBut I&#39;m not sure how to handle it since the amount can be any size of number like 1, or 28, 490, 4329, etc...\r\n\r\nHere is what I have so far:\r\n\r\n    // example move commands &#39;NTH 10&#39;, &#39;EST 3&#39;, &#39;WST 320&#39;, &#39;STH 11&#39;\r\n    // example combat commands &#39;ATT 333&#39;, &#39;CST 7102&#39;, &#39;STH 4&#39;\r\n\r\n    system.out.print(&quot;Enter your character action and value amount: &quot;);\r\n    system.out.print(&quot;\\n ** Enter &#39;END 9&#39; to end game **&quot;);\r\n\r\n    while(userInput != &quot;END 9&quot;)\r\n    { \r\n        gameInput = myScanner.nextLine();\r\n\r\n        // character action\r\n        direction = gameInput.substring(0, 2);\r\n        \r\n        // action amount\r\n        amount = \r\n\r\n    }\r\n\r\nThanks!","title":"How can I get the value at the end of a string?","body":"<p>I'm trying to write a simple and quick text-based java dungeon crawler.</p>\n<p>The player can type in simple 3 letter commands followed by a number value like this:</p>\n<blockquote>\n<p>NTH 21, or ATT 3, or CST 102, etc...</p>\n</blockquote>\n<p>I know how to get the first 3 letter command using <code>substring()</code>.</p>\n<p>I also know I can use <code>substring()</code> to get the end of a string like this:</p>\n<pre><code>amount = gameInput.substring(gameInput.length() - 3)\n</code></pre>\n<p>But I'm not sure how to handle it since the amount can be any size of number like 1, or 28, 490, 4329, etc...</p>\n<p>Here is what I have so far:</p>\n<pre><code>// example move commands 'NTH 10', 'EST 3', 'WST 320', 'STH 11'\n// example combat commands 'ATT 333', 'CST 7102', 'STH 4'\n\nsystem.out.print(&quot;Enter your character action and value amount: &quot;);\nsystem.out.print(&quot;\\n ** Enter 'END 9' to end game **&quot;);\n\nwhile(userInput != &quot;END 9&quot;)\n{ \n    gameInput = myScanner.nextLine();\n\n    // character action\n    direction = gameInput.substring(0, 2);\n    \n    // action amount\n    amount = \n\n}\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":1,"creation_date":1648124152,"post_id":71602296,"comment_id":126547549,"body_markdown":"Replace ```int arr[] = new int[size];```  with ```arr = new int[size]``` in your constructor","body":"Replace <code>int arr[] = new int[size];</code>  with <code>arr = new int[size]</code> in your constructor"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648124062,"creation_date":1648124062,"answer_id":71602350,"question_id":71602296,"body_markdown":"    int size, top;\r\n    int arr[];\r\n    \r\n    stack(int n){\r\n        size = n;\r\n        top = -1;\r\n        int arr[] = new int[size]; // these creates a local variable arr\r\n    }\r\n\r\nYour problem here is that you are not instantiating your instance member, but creating a second, local array.\r\n\r\n    int size, top;\r\n    int arr[];\r\n\r\n    stack(int n){\r\n        size = n;\r\n        top = -1;\r\n        arr = new int[size]; // Don&#39;t redeclare arr, but use the existing one\r\n    }\r\n\r\nThis should fix the issue.","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<pre><code>int size, top;\nint arr[];\n\nstack(int n){\n    size = n;\n    top = -1;\n    int arr[] = new int[size]; // these creates a local variable arr\n}\n</code></pre>\n<p>Your problem here is that you are not instantiating your instance member, but creating a second, local array.</p>\n<pre><code>int size, top;\nint arr[];\n\nstack(int n){\n    size = n;\n    top = -1;\n    arr = new int[size]; // Don't redeclare arr, but use the existing one\n}\n</code></pre>\n<p>This should fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":13269545,"reputation":84,"user_id":9581080,"display_name":"Akshita Chawla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127500,"creation_date":1648127500,"answer_id":71603144,"question_id":71602296,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     stack(int n){\r\n            size = n;\r\n            top = -1;\r\n            int arr[] = new int[size];\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn the constructor , you are creating a new local variable arr[].\r\nThe instance variable is still uninitialised. \r\nAnd by default, the value given to it is null.\r\nHence when you are trying to call an action on it, it is throwing Null Pointer Exception\r\n\r\nTry this:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    stack(int n){\r\n            size = n;\r\n            top = -1;\r\n            arr[] = new int[size];\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nFor better understanding of variable scoping refer to this :https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> stack(int n){\n        size = n;\n        top = -1;\n        int arr[] = new int[size];\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>In the constructor , you are creating a new local variable arr[].\nThe instance variable is still uninitialised.\nAnd by default, the value given to it is null.\nHence when you are trying to call an action on it, it is throwing Null Pointer Exception</p>\n<p>Try this:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>stack(int n){\n        size = n;\n        top = -1;\n        arr[] = new int[size];\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>For better understanding of variable scoping refer to this :<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-6.html#jls-6.3</a></p>\n"}],"owner":{"account_id":24673377,"reputation":1,"user_id":18568084,"display_name":"Himanshu Saini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649317697,"answer_count":2,"score":-1,"last_activity_date":1648127500,"creation_date":1648123868,"question_id":71602296,"body_markdown":"In the following java program, I am trying to implement a stack using array\r\n\r\n```\r\nclass stack{\r\n\tint size, top;\r\n\tint arr[];\r\n\r\n\tstack(int n){\r\n\t\tsize = n;\r\n\t\ttop = -1;\r\n\t\tint arr[] = new int[size];\r\n\t}\r\n\r\n\tvoid push(int x){\r\n\t\t++top;\r\n\t\tif(top &gt;= size){\r\n\t\t\tSystem.out.println(&quot;Stack overflow&quot;);\r\n\t\t\ttop = size-1;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Data pushed: &quot;+x);\r\n\t\t\tarr[top] = x;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\n\tvoid pop(){\r\n\t\tif(top &lt; 0){\r\n\t\t\tSystem.out.println(&quot;Stack Underflow&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tSystem.out.println(&quot;Data popped: &quot;+arr[top]);\r\n\t\t\t--top;\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\npublic class test{\r\n\tpublic static void main(String[] args){\r\n\t\tstack S = new stack(3);\r\n\t\tS.push(5);\r\n\t\tS.push(6);\r\n\t\tS.push(7);\r\n\t\tS.push(8);\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t\tS.pop();\r\n\t}\r\n}\r\n```\r\n\r\nAfter the first &quot;push&quot; operation the program throws the error: **Exception in thread &quot;main&quot; java.lang.NullPointerException** .\r\n\r\nI tried initializing the array out of the constructor and it solves the problem, so I wanted to know what is wrong with the approach given above?\r\n\r\n```\r\nclass stack{\r\n\tint size, top;\r\n\tint arr[] = new int[100];\r\n\r\n\tstack(int n){\r\n\t\tsize = n;\r\n\t\ttop = -1;\r\n\t\t//int arr[] = new int[size];\r\n\t}\r\n```","title":"Stack, Exception in thread &quot;main&quot; java.lang.NullPointerException","body":"<p>In the following java program, I am trying to implement a stack using array</p>\n<pre><code>class stack{\n    int size, top;\n    int arr[];\n\n    stack(int n){\n        size = n;\n        top = -1;\n        int arr[] = new int[size];\n    }\n\n    void push(int x){\n        ++top;\n        if(top &gt;= size){\n            System.out.println(&quot;Stack overflow&quot;);\n            top = size-1;\n        }\n        else{\n            System.out.println(&quot;Data pushed: &quot;+x);\n            arr[top] = x;\n        }\n        return;\n    }\n\n    void pop(){\n        if(top &lt; 0){\n            System.out.println(&quot;Stack Underflow&quot;);\n        }\n        else{\n            System.out.println(&quot;Data popped: &quot;+arr[top]);\n            --top;\n        }\n        return;\n    }\n}\n\npublic class test{\n    public static void main(String[] args){\n        stack S = new stack(3);\n        S.push(5);\n        S.push(6);\n        S.push(7);\n        S.push(8);\n        S.pop();\n        S.pop();\n        S.pop();\n        S.pop();\n    }\n}\n</code></pre>\n<p>After the first &quot;push&quot; operation the program throws the error: <strong>Exception in thread &quot;main&quot; java.lang.NullPointerException</strong> .</p>\n<p>I tried initializing the array out of the constructor and it solves the problem, so I wanted to know what is wrong with the approach given above?</p>\n<pre><code>class stack{\n    int size, top;\n    int arr[] = new int[100];\n\n    stack(int n){\n        size = n;\n        top = -1;\n        //int arr[] = new int[size];\n    }\n</code></pre>\n"},{"tags":["java","eclipse","junit","cucumber"],"comments":[{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":0,"creation_date":1648017661,"post_id":71564025,"comment_id":126514218,"body_markdown":"Can you please add some examples of your code? Please add the feature files, stepDefinitions and TestRunner that you mention.","body":"Can you please add some examples of your code? Please add the feature files, stepDefinitions and TestRunner that you mention."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648018116,"creation_date":1648018116,"answer_id":71582878,"question_id":71564025,"body_markdown":"Please be aware that Cucumber doesn&#39;t distinguish between different stepDefinition files; they are all considered the &quot;glue&quot;. So just because you define one stepDefinition file for one feature, and another stepDefinition file for another feature (which btw is an [anti-pattern][1]), doesn&#39;t mean Cucumber sees these as separate. \r\n\r\nCucumber - by design - runs all [hooks][2] as defined; @Before hooks run before the first step of each scenario. \r\nIf you want the hooks to be run only for certain features / scenarios, you will have to use Conditional Hooks, and tag your hooks with a tag expression:\r\n\r\nFrom the docs on Conditional Hooks: \r\n&quot;Hooks can be conditionally selected for execution based on the tags of the scenario. To run a particular hook only for certain scenarios, you can associate a Before or After hook with a tag expression.\r\n\r\nAnnotated method style:\r\n\r\n    @After(&quot;@browser and not @headless&quot;)\r\n    public void doSomethingAfter(Scenario scenario){\r\n    }\r\n\r\nLambda style:\r\n\r\n    After(&quot;@browser and not @headless&quot;, (Scenario scenario) -&gt; {\r\n    });\r\n\r\n&quot;\r\n\r\nFor more information on tags, see [tags][3]\r\n\r\n\r\n  [1]: https://docs.cucumber.io/docs/guides/anti-patterns/\r\n  [2]: https://docs.cucumber.io/docs/cucumber/api/#hooks\r\n  [3]: https://docs.cucumber.io/docs/cucumber/api/#tags","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>Please be aware that Cucumber doesn't distinguish between different stepDefinition files; they are all considered the &quot;glue&quot;. So just because you define one stepDefinition file for one feature, and another stepDefinition file for another feature (which btw is an <a href=\"https://docs.cucumber.io/docs/guides/anti-patterns/\" rel=\"nofollow noreferrer\">anti-pattern</a>), doesn't mean Cucumber sees these as separate.</p>\n<p>Cucumber - by design - runs all <a href=\"https://docs.cucumber.io/docs/cucumber/api/#hooks\" rel=\"nofollow noreferrer\">hooks</a> as defined; @Before hooks run before the first step of each scenario.\nIf you want the hooks to be run only for certain features / scenarios, you will have to use Conditional Hooks, and tag your hooks with a tag expression:</p>\n<p>From the docs on Conditional Hooks:\n&quot;Hooks can be conditionally selected for execution based on the tags of the scenario. To run a particular hook only for certain scenarios, you can associate a Before or After hook with a tag expression.</p>\n<p>Annotated method style:</p>\n<pre><code>@After(&quot;@browser and not @headless&quot;)\npublic void doSomethingAfter(Scenario scenario){\n}\n</code></pre>\n<p>Lambda style:</p>\n<pre><code>After(&quot;@browser and not @headless&quot;, (Scenario scenario) -&gt; {\n});\n</code></pre>\n<p>&quot;</p>\n<p>For more information on tags, see <a href=\"https://docs.cucumber.io/docs/cucumber/api/#tags\" rel=\"nofollow noreferrer\">tags</a></p>\n"},{"tags":[],"owner":{"account_id":24635246,"reputation":1,"user_id":18533975,"display_name":"PAlby1827"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127473,"creation_date":1648127473,"answer_id":71603131,"question_id":71564025,"body_markdown":"I actually figured this out. I ended up creating a separate hooks class for the @Before/@After and removed them from the stepdefinition files. I then setup a dependency injection and made it so I could use the WebDriver instances in a more flexible way. Learned from this https://youtu.be/vxf1vq_da6E. ","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>I actually figured this out. I ended up creating a separate hooks class for the @Before/@After and removed them from the stepdefinition files. I then setup a dependency injection and made it so I could use the WebDriver instances in a more flexible way. Learned from this <a href=\"https://youtu.be/vxf1vq_da6E\" rel=\"nofollow noreferrer\">https://youtu.be/vxf1vq_da6E</a>.</p>\n"}],"owner":{"account_id":24635246,"reputation":1,"user_id":18533975,"display_name":"PAlby1827"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127473,"creation_date":1647896280,"question_id":71564025,"body_markdown":"I&#39;m having an issue where @Before blocks are being run, even if they are excluded from the Tag setting in the TestRunner file.\r\n\r\nSo when I run the testRunner file, it will start running the test I want with no issues, but at the same time, it will load a 2nd WebDriver window for the other test I dont want to run. This other test is only executing the @Before portion.\r\n\r\nI have two cucumber feature files, with two step definition files. The feature files are in the &quot;features&quot; package while the stepdef files are in the &quot;stepDefinition&quot; package. Both stepdef files have an @Before code block that basically does my WebDriver setup and &quot;getUrl&quot; stuff.\r\n\r\nCurrently in my TestRunner file, I have it set to run only one tagged feature, and I tagged it appropriately in the corresponding feature file.\r\n\r\nMy problem is when I try to run my test, it still executes the @Before code in the other stepDef file.\r\n\r\nThe only way I found to prevent this is to put a &quot;not @tagname&quot; on the @Before code I dont want run. This is sort of cumbersome as I would have to do this for every single stepDef file I dont want to run.\r\n\r\nIs there any other way to prevent @Before code from being run in tests you dont want run?","title":"How do I prevent Cucumber from running all @before code blocks even if the test is excluded from Tag setting in TestRunner?","body":"<p>I'm having an issue where @Before blocks are being run, even if they are excluded from the Tag setting in the TestRunner file.</p>\n<p>So when I run the testRunner file, it will start running the test I want with no issues, but at the same time, it will load a 2nd WebDriver window for the other test I dont want to run. This other test is only executing the @Before portion.</p>\n<p>I have two cucumber feature files, with two step definition files. The feature files are in the &quot;features&quot; package while the stepdef files are in the &quot;stepDefinition&quot; package. Both stepdef files have an @Before code block that basically does my WebDriver setup and &quot;getUrl&quot; stuff.</p>\n<p>Currently in my TestRunner file, I have it set to run only one tagged feature, and I tagged it appropriately in the corresponding feature file.</p>\n<p>My problem is when I try to run my test, it still executes the @Before code in the other stepDef file.</p>\n<p>The only way I found to prevent this is to put a &quot;not @tagname&quot; on the @Before code I dont want run. This is sort of cumbersome as I would have to do this for every single stepDef file I dont want to run.</p>\n<p>Is there any other way to prevent @Before code from being run in tests you dont want run?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1648127876,"post_id":71603091,"comment_id":126549140,"body_markdown":"Somewhere deep inside this wall of text is the error message: _Cannot run program &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android&quot;): CreateProcess error=2, The system cannot find the file specified_ . Are you sure that you have a directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android\\tools&quot; that contains an executable file &quot;hash&quot;?","body":"Somewhere deep inside this wall of text is the error message: <i>Cannot run program &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android&quot;): CreateProcess error=2, The system cannot find the file specified</i> . Are you sure that you have a directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart - Android\\tools&quot; that contains an executable file &quot;hash&quot;?"},{"owner":{"account_id":6393468,"reputation":1159,"user_id":4958766,"accept_rate":50,"display_name":"Ali Ahmed"},"score":0,"creation_date":1648141493,"post_id":71603091,"comment_id":126555281,"body_markdown":"@ThomasKl&#228;ger Yes it contains an executable file &quot;hash&quot;","body":"@ThomasKl&#228;ger Yes it contains an executable file &quot;hash&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1648199856,"post_id":71603091,"comment_id":126569048,"body_markdown":"And this file is actually called &quot;hash&quot;, not &quot;hash.exe&quot; or &quot;hash.bat&quot;? You seem to be using Windows, and the Windows Explorer &quot;helpfully&quot; hides known file extensions like &quot;.bat&quot;, &quot;.exe&quot; etc.","body":"And this file is actually called &quot;hash&quot;, not &quot;hash.exe&quot; or &quot;hash.bat&quot;? You seem to be using Windows, and the Windows Explorer &quot;helpfully&quot; hides known file extensions like &quot;.bat&quot;, &quot;.exe&quot; etc."}],"owner":{"account_id":6393468,"reputation":1159,"user_id":4958766,"accept_rate":50,"display_name":"Ali Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648127297,"creation_date":1648127297,"question_id":71603091,"body_markdown":"I have an executable methodin my build.gradle (app level) file which is:\r\n\r\n    exec {\r\n        // requires JRE\r\n        commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId\r\n        workingDir &quot;..&quot;\r\n        standardOutput = hashStdoutDebug\r\n    }\r\n\r\nBut when I declare these lines application is not building successfully, and given the below error:\r\n\r\n&gt; &gt; A problem occurred evaluating project &#39;:app&#39;.\r\n&gt;\r\n&gt; &gt; A problem occurred starting process &#39;command &#39;tools/hash&#39;&#39;\r\n&gt; \r\n&gt; * Try: Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n&gt; \r\n&gt; * Exception is: org.gradle.api.GradleScriptException: A problem occurred evaluating project &#39;:app&#39;. \tat\r\n&gt; org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:352)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\r\n&gt; \tat\r\n&gt; org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:750)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:298)\r\n&gt; \tat\r\n&gt; org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\r\n&gt; \tat\r\n&gt; org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\r\n&gt; \tat\r\n&gt; org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:97)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\r\n&gt; \tat\r\n&gt; org.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withModelOrThrow$5(DefaultBuildLifecycleController.java:142)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:157)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.withModelOrThrow(DefaultBuildLifecycleController.java:140)\r\n&gt; \tat\r\n&gt; org.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:102)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$1(DefaultBuildTreeLifecycleController.java:83)\r\n&gt; \tat\r\n&gt; org.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:82)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:71)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n&gt; \tat\r\n&gt; org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n&gt; \tat\r\n&gt; org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n&gt; \tat org.gradle.util.internal.Swapper.swap(Swapper.java:38) \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n&gt; \tat\r\n&gt; org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n&gt; \tat\r\n&gt; org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n&gt; Caused by: org.gradle.process.internal.ExecException: A problem\r\n&gt; occurred starting process &#39;command &#39;tools/hash&#39;&#39; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:369)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\r\n&gt; \tat\r\n&gt; org.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\r\n&gt; \t... 3 more Caused by: net.rubygrapefruit.platform.NativeException:\r\n&gt; Could not start &#39;tools/hash&#39; \tat\r\n&gt; net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\r\n&gt; \tat\r\n&gt; net.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\r\n&gt; \tat\r\n&gt; net.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\r\n&gt; \t... 4 more Caused by: java.io.IOException: Cannot run program\r\n&gt; &quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart -\r\n&gt; Android&quot;): CreateProcess error=2, The system cannot find the file\r\n&gt; specified \tat\r\n&gt; net.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\r\n&gt; \t... 8 more Caused by: java.io.IOException: CreateProcess error=2, The\r\n&gt; system cannot find the file specified \t... 9 more\r\n\r\n\r\nwhen I comment out these lines application is building successfully,\r\n\r\nMy JRE is installed successfully on my PC as well as I can access Java from the terminal.\r\n\r\nCan you please check and help me out?\r\n","title":"Why commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId is not working?","body":"<p>I have an executable methodin my build.gradle (app level) file which is:</p>\n<pre><code>exec {\n    // requires JRE\n    commandLine &quot;tools/hash&quot;, &quot;--debug&quot;, appId\n    workingDir &quot;..&quot;\n    standardOutput = hashStdoutDebug\n}\n</code></pre>\n<p>But when I declare these lines application is not building successfully, and given the below error:</p>\n<blockquote>\n<blockquote>\n<p>A problem occurred evaluating project ':app'.</p>\n</blockquote>\n<blockquote>\n<p>A problem occurred starting process 'command 'tools/hash''</p>\n</blockquote>\n<ul>\n<li><p>Try: Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is: org.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'.   at\norg.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\nat\norg.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\nat\norg.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\nat\norg.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\nat\norg.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\nat\norg.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\nat\norg.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:352)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\nat\norg.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\nat\norg.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\nat\norg.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:100)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:325)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$withProjectLock$3(DefaultProjectStateRegistry.java:385)\nat\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:385)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:366)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:324)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:91)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:63)\nat\norg.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:750)\nat\norg.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:150)\nat\norg.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:298)\nat\norg.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:41)\nat\norg.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:57)\nat\norg.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:50)\nat\norg.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\nat\norg.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:74)\nat\norg.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\nat\norg.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:97)\nat\norg.gradle.initialization.VintageBuildModelController.doBuildStages(VintageBuildModelController.java:77)\nat\norg.gradle.initialization.VintageBuildModelController.prepareToScheduleTasks(VintageBuildModelController.java:64)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.lambda$prepareToScheduleTasks$0(DefaultBuildLifecycleController.java:104)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.lambda$withModelOrThrow$5(DefaultBuildLifecycleController.java:142)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.withModel(DefaultBuildLifecycleController.java:157)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.withModelOrThrow(DefaultBuildLifecycleController.java:140)\nat\norg.gradle.internal.build.DefaultBuildLifecycleController.prepareToScheduleTasks(DefaultBuildLifecycleController.java:102)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeWorkPreparer.scheduleRequestedTasks(DefaultBuildTreeWorkPreparer.java:33)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$doScheduleAndRunTasks$1(DefaultBuildTreeLifecycleController.java:83)\nat\norg.gradle.composite.internal.DefaultIncludedBuildTaskGraph.withNewTaskGraph(DefaultIncludedBuildTaskGraph.java:94)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.doScheduleAndRunTasks(DefaultBuildTreeLifecycleController.java:82)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$0(DefaultBuildTreeLifecycleController.java:71)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:104)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:69)\nat\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:56)\nat\norg.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\nat\norg.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat\norg.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:47)\nat\norg.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:69)\nat\norg.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:91)\nat\norg.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\nat\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\nat\norg.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:154)\nat\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\nat\norg.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\nat\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\nat\norg.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\nat\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\nat\norg.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\nat\norg.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\nat\norg.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\nat\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\nat\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\nat\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\nat\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\nat\norg.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\nat\norg.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\nat\norg.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\nat\norg.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\nat\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\nat\norg.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\nat\norg.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\nat\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\nat\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\nat\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\nat\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\nat\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\nat\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\nat\norg.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\nat\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\nat org.gradle.util.internal.Swapper.swap(Swapper.java:38)   at\norg.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\nat\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\nat\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\nat\norg.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\nat\norg.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\nat\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\nat\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nat\norg.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.process.internal.ExecException: A problem\noccurred starting process 'command 'tools/hash''  at\norg.gradle.process.internal.DefaultExecHandle.execExceptionFor(DefaultExecHandle.java:241)\nat\norg.gradle.process.internal.DefaultExecHandle.setEndStateInfo(DefaultExecHandle.java:218)\nat\norg.gradle.process.internal.DefaultExecHandle.failed(DefaultExecHandle.java:369)\nat\norg.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:87)\nat\norg.gradle.internal.operations.CurrentBuildOperationPreservingRunnable.run(CurrentBuildOperationPreservingRunnable.java:42)\n... 3 more Caused by: net.rubygrapefruit.platform.NativeException:\nCould not start 'tools/hash'  at\nnet.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:27)\nat\nnet.rubygrapefruit.platform.internal.WindowsProcessLauncher.start(WindowsProcessLauncher.java:22)\nat\nnet.rubygrapefruit.platform.internal.WrapperProcessLauncher.start(WrapperProcessLauncher.java:36)\nat\norg.gradle.process.internal.ExecHandleRunner.startProcess(ExecHandleRunner.java:98)\nat\norg.gradle.process.internal.ExecHandleRunner.run(ExecHandleRunner.java:71)\n... 4 more Caused by: java.io.IOException: Cannot run program\n&quot;tools/hash&quot; (in directory &quot;C:\\Users\\ali.ahmed\\Documents\\VSmart -\nAndroid&quot;): CreateProcess error=2, The system cannot find the file\nspecified     at\nnet.rubygrapefruit.platform.internal.DefaultProcessLauncher.start(DefaultProcessLauncher.java:25)\n... 8 more Caused by: java.io.IOException: CreateProcess error=2, The\nsystem cannot find the file specified     ... 9 more</p>\n</li>\n</ul>\n</blockquote>\n<p>when I comment out these lines application is building successfully,</p>\n<p>My JRE is installed successfully on my PC as well as I can access Java from the terminal.</p>\n<p>Can you please check and help me out?</p>\n"},{"tags":["java","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3246646,"reputation":258,"user_id":2738014,"display_name":"Nabeel Ahmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536316453,"creation_date":1536055332,"answer_id":52163729,"question_id":52152337,"body_markdown":"I solve this issue by adding the these line&#39;s\r\n\r\n    files.stream().forEach(file -&gt; {\r\n       System.out.println(file.getOriginalFilename());\r\n       Resource resouceFile = new FileSystemResource(file.getBytes(), file.getOriginalFilename());\r\n       body.add(&quot;files&quot;,  resouceFile);\r\n    });\r\n\r\n\r\n    public static class FileSystemResource extends ByteArrayResource {\r\n\r\n        private String fileName;\r\n\r\n        public FileSystemResource(byte[] byteArray , String filename) {\r\n            super(byteArray);\r\n            this.fileName = filename;\r\n        }\r\n\r\n        public String getFilename() { return fileName; }\r\n        public void setFilename(String fileName) { this.fileName= fileName; }\r\n\r\n    }\r\n\r\n\r\n","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>I solve this issue by adding the these line's</p>\n\n<pre><code>files.stream().forEach(file -&gt; {\n   System.out.println(file.getOriginalFilename());\n   Resource resouceFile = new FileSystemResource(file.getBytes(), file.getOriginalFilename());\n   body.add(\"files\",  resouceFile);\n});\n\n\npublic static class FileSystemResource extends ByteArrayResource {\n\n    private String fileName;\n\n    public FileSystemResource(byte[] byteArray , String filename) {\n        super(byteArray);\n        this.fileName = filename;\n    }\n\n    public String getFilename() { return fileName; }\n    public void setFilename(String fileName) { this.fileName= fileName; }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13836808,"reputation":165,"user_id":9988140,"display_name":"Sagar Shetty"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541482184,"creation_date":1541482184,"answer_id":53166228,"question_id":52152337,"body_markdown":"I was facing the same issue , but using the below code i fixed it.\r\n\r\n     \r\n\t@RequestMapping(&quot;/upload&quot;)\r\n\tpublic void postData(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\r\n          String url = &quot;https://localhost:8080/upload&quot;;\r\n\t\t MultiValueMap&lt;String, Object&gt; bodyMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t      bodyMap.add(&quot;file&quot;, new FileSystemResource(convert(file)));\r\n\t      HttpHeaders headers = new HttpHeaders();\r\n\t      headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t      HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyMap, headers);\r\n\t      RestTemplate restTemplate = new RestTemplate();\r\n\t      ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\r\n\t              HttpMethod.POST, requestEntity, String.class);\r\n        }\r\n      public static File convert(MultipartFile file)\r\n\t  {    \r\n\t    File convFile = new File(file.getOriginalFilename());\r\n\t    try {\r\n\t\t\tconvFile.createNewFile();\r\n\t\t\t  FileOutputStream fos = new FileOutputStream(convFile); \r\n\t\t\t    fos.write(file.getBytes());\r\n\t\t\t    fos.close(); \r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\t  \r\n\t    return convFile;\r\n\t }","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>I was facing the same issue , but using the below code i fixed it.</p>\n\n<pre><code>@RequestMapping(\"/upload\")\npublic void postData(@RequestParam(\"file\") MultipartFile file) throws IOException {\n      String url = \"https://localhost:8080/upload\";\n     MultiValueMap&lt;String, Object&gt; bodyMap = new LinkedMultiValueMap&lt;&gt;();\n      bodyMap.add(\"file\", new FileSystemResource(convert(file)));\n      HttpHeaders headers = new HttpHeaders();\n      headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n      HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyMap, headers);\n      RestTemplate restTemplate = new RestTemplate();\n      ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,\n              HttpMethod.POST, requestEntity, String.class);\n    }\n  public static File convert(MultipartFile file)\n  {    \n    File convFile = new File(file.getOriginalFilename());\n    try {\n        convFile.createNewFile();\n          FileOutputStream fos = new FileOutputStream(convFile); \n            fos.write(file.getBytes());\n            fos.close(); \n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } \n\n    return convFile;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11498901,"reputation":144,"user_id":8427285,"display_name":"Adil Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648127173,"creation_date":1648127173,"answer_id":71603065,"question_id":52152337,"body_markdown":" Make use of multipartFile.getResource() - neat and simple solution\r\n\r\n\r\n    public void exFunction(MultipartFile multipartFile) throws IOException {\r\n\r\n    Resource multipartFile = multipartFile.getResource();\r\n\r\n    LinkedMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\r\n    parts.add(&quot;file&quot;, multipartFile);\r\n\r\n    HttpHeaders httpHeaders = new HttpHeaders();\r\n    httpHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    HttpEntity&lt;LinkedMultiValueMap&lt;String, Object&gt;&gt; httpEntity = new \r\n    HttpEntity&lt;&gt;(parts, httpHeaders);\r\n\r\n    restTemplate.postForEntity(&quot;my/url&quot;, httpEntity, SommeClass.class);\r\n}","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p>Make use of multipartFile.getResource() - neat and simple solution</p>\n<pre><code>public void exFunction(MultipartFile multipartFile) throws IOException {\n\nResource multipartFile = multipartFile.getResource();\n\nLinkedMultiValueMap&lt;String, Object&gt; parts = new LinkedMultiValueMap&lt;&gt;();\nparts.add(&quot;file&quot;, multipartFile);\n\nHttpHeaders httpHeaders = new HttpHeaders();\nhttpHeaders.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nHttpEntity&lt;LinkedMultiValueMap&lt;String, Object&gt;&gt; httpEntity = new \nHttpEntity&lt;&gt;(parts, httpHeaders);\n\nrestTemplate.postForEntity(&quot;my/url&quot;, httpEntity, SommeClass.class);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3246646,"reputation":258,"user_id":2738014,"display_name":"Nabeel Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9673,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1648127173,"creation_date":1535987456,"question_id":52152337,"body_markdown":"&lt;br&gt;\r\nI need your help. I have 2 Api in Same Class both use for Upload the file. I&#39;m trying to upload the file from 1 api to other api by using of `RestTemplate` but it&#39;s show error like.\r\n\r\nError :- `MessageType definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\r\n`\r\nFile Store Api Not Calling through `RestTemplate` due to above error.\r\n  \r\n\r\nAPI-1:- File Store Api\r\n   \r\n    @RequestMapping(value = PathConst.UPLOAD_MULTIPART_FILE, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; uploadMultipleFiles(@RequestPart(&quot;files&quot;) @NotNull List&lt;MultipartFile&gt; files) {\r\n\t   try {\r\n\t\t   this.apiResponse = new APIResponse();\r\n\r\n\t\t// Note :- &#39;here this upload file dto help to collect the non-support file info&#39;\r\n\t\tList&lt;UploadFileDto&gt; wrongTypeFile = files.stream().\r\n\t\t\t\tfilter(file -&gt; {\r\n\t\t\t\t\treturn !isSupportedContentType(file.getContentType());\r\n\t\t\t\t}).map(file -&gt; {\r\n\t\t\t\t\tUploadFileDto wrongTypeFileDto = new UploadFileDto();\r\n\t\t\t\t\twrongTypeFileDto.setSize(String.valueOf(file.getSize()));\r\n\t\t\t\t\twrongTypeFileDto.setFileName(file.getOriginalFilename());\r\n\t\t\t\t\twrongTypeFileDto.setContentType(file.getContentType());\r\n\t\t\t\t\treturn wrongTypeFileDto;\r\n\t\t\t\t}).collect(Collectors.toList());\r\n\r\n\t\tif(!wrongTypeFile.isEmpty()) { throw new FileStorageException(wrongTypeFile.toString()); }\r\n\r\n\t\tthis.apiResponse.setReturnCode(HttpStatus.OK.getReasonPhrase());\r\n\t\tthis.apiResponse.setMessage(&quot;File Store Success full&quot;);\r\n\t\tthis.apiResponse.setEntity(\r\n\t\t\tfiles.stream().map(file -&gt; {\r\n\t\t\t\tString fileName = this.fileStoreManager.storeFile(file);\r\n\t\t\t\tString fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.DOWNLOAD_FILE).path(fileName).toUriString();\r\n\r\n\t\t\t\tUploadFileDto uploadFile = new UploadFileDto();\r\n\t\t\t\tuploadFile.setFileName(fileName);\r\n\t\t\t\tuploadFile.setUrl(fileDownloadUri);\r\n\t\t\t\tuploadFile.setSize(String.valueOf(file.getSize()));\r\n\r\n\t\t\t\treturn uploadFile;\r\n\t\t\t}).collect(Collectors.toList()));\r\n\r\n\t}catch (Exception e) {\r\n\t\tSystem.out.println(&quot;Message&quot; + e.getMessage());\r\n\r\n\t\tthis.errorResponse = new ExceptionResponse();\r\n\t\tthis.errorResponse.setErrorCode(HttpStatus.BAD_REQUEST.getReasonPhrase());\r\n\t\tthis.errorResponse.setErrorMessage(&quot;Sorry! Filename contains invalid Type&#39;s,&quot;);\r\n\t\tthis.errorResponse.setErrors(Collections.singletonList(e.getMessage()));\r\n\t\treturn new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\r\n\r\n\t}\r\n\r\n\treturn new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\r\n}\r\n\r\nAPI-2:- Product Store Api With List Of Image File\r\n\r\n        @RequestMapping(value = &quot;/save/product&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;?&gt; saveProduct(@Valid @RequestPart(&quot;request&quot;) ProductDto productDto, @RequestPart(&quot;files&quot;) @NotNull List&lt;MultipartFile&gt; files) {\r\n            try {\r\n                this.apiResponse = new APIResponse();\r\n                this.restTemplate = new RestTemplate();\r\n    \r\n                if(!files.isEmpty()) { new NullPointerException(&quot;List of File Empty&quot;); }\r\n                // call-api of File controller\r\n                try {\r\n                    // file&#39;s\r\n    \r\n                    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n                    files.stream().forEach(file -&gt; { body.add(&quot;files&quot;, file); });\r\n    \r\n                    // header-type\r\n                    HttpHeaders headers = new HttpHeaders();\r\n                    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n                    // request real form\r\n                    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n                    // request-url\r\n                    this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\r\n                    // response-result\r\n                    System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\r\n    //                if(!response.getStatusCode().equals(200)) {\r\n    //                    // error will send\r\n    //                }\r\n    \r\n                }catch (NullPointerException e) {\r\n                    throw new NullPointerException(&quot;Product Image&#39;s Not Save Scuessfully. &quot; + e);\r\n                }\r\n    \r\n            }catch (Exception e) {\r\n                System.out.println(&quot;Message&quot; + e.getMessage());\r\n                this.errorResponse = new ExceptionResponse();\r\n                this.errorResponse.setErrorCode(HttpStatus.NO_CONTENT.getReasonPhrase());\r\n                this.errorResponse.setErrorMessage(e.getMessage());\r\n                return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\r\n            }\r\n            return new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\r\n        }\r\n\r\nMain Code :-\r\n\r\n\ttry {\r\n\t\t// file&#39;s\r\n\r\n\t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tfiles.stream().forEach(file -&gt; { body.add(&quot;files&quot;, file); });\r\n\r\n\t\t// header-type\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t\t// request real form\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\r\n\t\t// request-url\r\n\t\tthis.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\r\n\t\t// response-result\r\n\t\tSystem.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\r\n             //if(!response.getStatusCode().equals(200)) {\r\n             //   // error will send\r\n             //}\r\n\r\n\t}catch (NullPointerException e) {\r\n\t\tthrow new NullPointerException(&quot;Product Image&#39;s Not Save Scuessfully. &quot; + e);\r\n\t}","title":"Rest-Api Call Other Rest-Api In Spring boot Not Working for (Multipart-File)","body":"<p><br>\nI need your help. I have 2 Api in Same Class both use for Upload the file. I'm trying to upload the file from 1 api to other api by using of <code>RestTemplate</code> but it's show error like.</p>\n\n<p>Error :- <code>MessageType definition error: [simple type, class java.io.FileDescriptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[\"inputStream\"]-&gt;java.io.FileInputStream[\"fd\"])\n</code>\nFile Store Api Not Calling through <code>RestTemplate</code> due to above error.</p>\n\n<p>API-1:- File Store Api</p>\n\n<pre><code>@RequestMapping(value = PathConst.UPLOAD_MULTIPART_FILE, method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; uploadMultipleFiles(@RequestPart(\"files\") @NotNull List&lt;MultipartFile&gt; files) {\n   try {\n       this.apiResponse = new APIResponse();\n\n    // Note :- 'here this upload file dto help to collect the non-support file info'\n    List&lt;UploadFileDto&gt; wrongTypeFile = files.stream().\n            filter(file -&gt; {\n                return !isSupportedContentType(file.getContentType());\n            }).map(file -&gt; {\n                UploadFileDto wrongTypeFileDto = new UploadFileDto();\n                wrongTypeFileDto.setSize(String.valueOf(file.getSize()));\n                wrongTypeFileDto.setFileName(file.getOriginalFilename());\n                wrongTypeFileDto.setContentType(file.getContentType());\n                return wrongTypeFileDto;\n            }).collect(Collectors.toList());\n\n    if(!wrongTypeFile.isEmpty()) { throw new FileStorageException(wrongTypeFile.toString()); }\n\n    this.apiResponse.setReturnCode(HttpStatus.OK.getReasonPhrase());\n    this.apiResponse.setMessage(\"File Store Success full\");\n    this.apiResponse.setEntity(\n        files.stream().map(file -&gt; {\n            String fileName = this.fileStoreManager.storeFile(file);\n            String fileDownloadUri = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.DOWNLOAD_FILE).path(fileName).toUriString();\n\n            UploadFileDto uploadFile = new UploadFileDto();\n            uploadFile.setFileName(fileName);\n            uploadFile.setUrl(fileDownloadUri);\n            uploadFile.setSize(String.valueOf(file.getSize()));\n\n            return uploadFile;\n        }).collect(Collectors.toList()));\n\n}catch (Exception e) {\n    System.out.println(\"Message\" + e.getMessage());\n\n    this.errorResponse = new ExceptionResponse();\n    this.errorResponse.setErrorCode(HttpStatus.BAD_REQUEST.getReasonPhrase());\n    this.errorResponse.setErrorMessage(\"Sorry! Filename contains invalid Type's,\");\n    this.errorResponse.setErrors(Collections.singletonList(e.getMessage()));\n    return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\n\n}\n\nreturn new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\n</code></pre>\n\n<p>}</p>\n\n<p>API-2:- Product Store Api With List Of Image File</p>\n\n<pre><code>    @RequestMapping(value = \"/save/product\", method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; saveProduct(@Valid @RequestPart(\"request\") ProductDto productDto, @RequestPart(\"files\") @NotNull List&lt;MultipartFile&gt; files) {\n        try {\n            this.apiResponse = new APIResponse();\n            this.restTemplate = new RestTemplate();\n\n            if(!files.isEmpty()) { new NullPointerException(\"List of File Empty\"); }\n            // call-api of File controller\n            try {\n                // file's\n\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n                files.stream().forEach(file -&gt; { body.add(\"files\", file); });\n\n                // header-type\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n                // request real form\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\n                // request-url\n                this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\n                // response-result\n                System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\n//                if(!response.getStatusCode().equals(200)) {\n//                    // error will send\n//                }\n\n            }catch (NullPointerException e) {\n                throw new NullPointerException(\"Product Image's Not Save Scuessfully. \" + e);\n            }\n\n        }catch (Exception e) {\n            System.out.println(\"Message\" + e.getMessage());\n            this.errorResponse = new ExceptionResponse();\n            this.errorResponse.setErrorCode(HttpStatus.NO_CONTENT.getReasonPhrase());\n            this.errorResponse.setErrorMessage(e.getMessage());\n            return new ResponseEntity&lt;ExceptionResponse&gt;(this.errorResponse, HttpStatus.BAD_REQUEST);\n        }\n        return new ResponseEntity&lt;APIResponse&gt;(this.apiResponse, HttpStatus.OK);\n    }\n</code></pre>\n\n<p>Main Code :-</p>\n\n<pre><code>try {\n    // file's\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    files.stream().forEach(file -&gt; { body.add(\"files\", file); });\n\n    // header-type\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    // request real form\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; request = new HttpEntity&lt;&gt;(body, headers);\n    // request-url\n    this.RESOURCE_URL = ServletUriComponentsBuilder.fromCurrentContextPath().path(PathConst.FILE + PathConst.UPLOAD_MULTIPART_FILE).toUriString();\n    // response-result\n    System.out.println(this.restTemplate.exchange(this.RESOURCE_URL, HttpMethod.POST, request, Object.class).getStatusCode());\n         //if(!response.getStatusCode().equals(200)) {\n         //   // error will send\n         //}\n\n}catch (NullPointerException e) {\n    throw new NullPointerException(\"Product Image's Not Save Scuessfully. \" + e);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1953040,"reputation":5716,"user_id":1756721,"accept_rate":67,"display_name":"Marcin Kunert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646684172,"creation_date":1646684172,"answer_id":71386780,"question_id":71386631,"body_markdown":"&gt; What is the best way for fetching the relations? Is projection faster then the first method mentioned?\r\n\r\nDepends on what is your use case and expectations. Sometimes it will be better to lazy load StudyGroup, and sometimes it&#39;s better to avoid that and load all the data at once.\r\n\r\nI assume you want to fetch the data at once. Then I would suggest the 3rd approach using simple JPQL custom query:\r\n\r\n    @Query(&quot;FROM Student s FETCH JOIN s.studyGroups&quot;)\r\n    Set&lt;Student&gt; findAllFetchStudyGroups();\r\n\r\n(may contain syntax errors, I didn&#39;t check it)\r\n\r\nBtw.\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;StudyGroup&gt; studyGroups;\r\n\r\nAs far as I know if using Spring Data repositories, the `FetchType` is ignored.\r\n\r\n","title":"Spring boot entity relationship fetching","body":"<blockquote>\n<p>What is the best way for fetching the relations? Is projection faster then the first method mentioned?</p>\n</blockquote>\n<p>Depends on what is your use case and expectations. Sometimes it will be better to lazy load StudyGroup, and sometimes it's better to avoid that and load all the data at once.</p>\n<p>I assume you want to fetch the data at once. Then I would suggest the 3rd approach using simple JPQL custom query:</p>\n<pre><code>@Query(&quot;FROM Student s FETCH JOIN s.studyGroups&quot;)\nSet&lt;Student&gt; findAllFetchStudyGroups();\n</code></pre>\n<p>(may contain syntax errors, I didn't check it)</p>\n<p>Btw.</p>\n<pre><code>@ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;StudyGroup&gt; studyGroups;\n</code></pre>\n<p>As far as I know if using Spring Data repositories, the <code>FetchType</code> is ignored.</p>\n"},{"tags":[],"owner":{"account_id":2876259,"reputation":470,"user_id":2468241,"accept_rate":75,"display_name":"XII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127134,"creation_date":1648127134,"answer_id":71603060,"question_id":71386631,"body_markdown":"My experience showed me over the years that :\r\n\r\n1) make all relations between objects lazy , it&#39;s the most flexible approach and keeps the performance optimal.\r\n2) create as many custom queries as needed with join fetches to fetch only what data you need when you need them.\r\n\r\nThere are some cool libraries that offer even better functionality like this one https://github.com/Blazebit/blaze-persistence\r\n\r\nIt offers some cool features that jpa / hibernate do not offer by them selves.","title":"Spring boot entity relationship fetching","body":"<p>My experience showed me over the years that :</p>\n<ol>\n<li>make all relations between objects lazy , it's the most flexible approach and keeps the performance optimal.</li>\n<li>create as many custom queries as needed with join fetches to fetch only what data you need when you need them.</li>\n</ol>\n<p>There are some cool libraries that offer even better functionality like this one <a href=\"https://github.com/Blazebit/blaze-persistence\" rel=\"nofollow noreferrer\">https://github.com/Blazebit/blaze-persistence</a></p>\n<p>It offers some cool features that jpa / hibernate do not offer by them selves.</p>\n"}],"owner":{"account_id":24356269,"reputation":96,"user_id":18291382,"display_name":"Fambo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127134,"creation_date":1646683295,"question_id":71386631,"body_markdown":"I&#39;m wondering about what is the best ways to fetch entity relations.\r\n\r\nAssume we have these these entities:\r\n\r\n    public class Student {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(min = 5, max = 64)\r\n    @Column(unique=true)\r\n    private String nickname;\r\n\r\n    @NotBlank\r\n    @Email\r\n    @Column(unique=true)\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(min = 8, max = 64)\r\n    private String password;\r\n\r\n    @ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;StudyGroup&gt; studyGroups;\r\n\r\n    }\r\n\r\nAnd\r\n\r\n    public class StudyGroup {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @ManyToOne\r\n    private Student creator;\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\r\n    private Set&lt;Notification&gt; notifications;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    private Set&lt;Student&gt; students;\r\n\r\n    }\r\n\r\nI know of three different ways to fetch the relations.\r\n\r\n1. Fetch the study groups from the student by fetching the student and the using student.getStudyGroups();\r\n\r\n2. Using projection.\r\nSomething like: \r\n\r\n        ReturnStudyGroups findStudentById(Long id);\r\n\r\n        interface ReturnStudyGroups {\r\n            Set&lt;StudyGroup&gt; getStudyGroups();\r\n        }\r\n\r\n3. In the study group repository, making a custom query that searches for study groups that have the student in the students field.\r\n\r\nWhat is the best way for fetching the relations? Is projection faster then the first method mentioned?","title":"Spring boot entity relationship fetching","body":"<p>I'm wondering about what is the best ways to fetch entity relations.</p>\n<p>Assume we have these these entities:</p>\n<pre><code>public class Student {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotBlank\n@Size(min = 5, max = 64)\n@Column(unique=true)\nprivate String nickname;\n\n@NotBlank\n@Email\n@Column(unique=true)\nprivate String email;\n\n@NotBlank\n@Size(min = 8, max = 64)\nprivate String password;\n\n@ManyToMany(mappedBy = &quot;students&quot;, fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;StudyGroup&gt; studyGroups;\n\n}\n</code></pre>\n<p>And</p>\n<pre><code>public class StudyGroup {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotBlank\nprivate String name;\n\n@ManyToOne\nprivate Student creator;\n\n@OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.REMOVE)\nprivate Set&lt;Notification&gt; notifications;\n\n@ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\nprivate Set&lt;Student&gt; students;\n\n}\n</code></pre>\n<p>I know of three different ways to fetch the relations.</p>\n<ol>\n<li><p>Fetch the study groups from the student by fetching the student and the using student.getStudyGroups();</p>\n</li>\n<li><p>Using projection.\nSomething like:</p>\n<pre><code> ReturnStudyGroups findStudentById(Long id);\n\n interface ReturnStudyGroups {\n     Set&lt;StudyGroup&gt; getStudyGroups();\n }\n</code></pre>\n</li>\n<li><p>In the study group repository, making a custom query that searches for study groups that have the student in the students field.</p>\n</li>\n</ol>\n<p>What is the best way for fetching the relations? Is projection faster then the first method mentioned?</p>\n"},{"tags":["java","drools","optaplanner"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1648126551,"post_id":71602788,"comment_id":126548570,"body_markdown":"I know nothing of optaplanner, but are you sure that it *knows* when a given solution is optimal?","body":"I know nothing of optaplanner, but are you sure that it <i>knows</i> when a given solution is optimal?"},{"owner":{"account_id":20907532,"reputation":31,"user_id":15359122,"display_name":"Rukawaa11"},"score":0,"creation_date":1648172907,"post_id":71602788,"comment_id":126563542,"body_markdown":"I can observe the change in the score, and if the score does not change within the time frame, I understand that the best solution should be reached.","body":"I can observe the change in the score, and if the score does not change within the time frame, I understand that the best solution should be reached."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1648201167,"post_id":71602788,"comment_id":126569531,"body_markdown":"that just means that the score is no longer improving. In general that doesn&#39;t *necessarily* that the best solution is found. The optimizer might be stuck in a local optimum and will never find the best solution.","body":"that just means that the score is no longer improving. In general that doesn&#39;t <i>necessarily</i> that the best solution is found. The optimizer might be stuck in a local optimum and will never find the best solution."}],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648126857,"creation_date":1648126857,"answer_id":71602990,"question_id":71602788,"body_markdown":"OptaPlanner does not know what the best solution is. If you know what the best solution is, you can have it [terminate when that solution is reached][1].\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>OptaPlanner does not know what the best solution is. If you know what the best solution is, you can have it <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\" rel=\"nofollow noreferrer\">terminate when that solution is reached</a>.</p>\n"},{"tags":[],"owner":{"account_id":1868145,"reputation":2268,"user_id":1691152,"display_name":"yurloc"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1648127112,"creation_date":1648127112,"answer_id":71603052,"question_id":71602788,"body_markdown":"TLDR: if you _know_ what the optimal solution to your problem is, then you don&#39;t need OptaPlanner :)\r\n\r\nPresuming you really have an optimization problem, then you don&#39;t know how an optimal solution looks like, what its score is, neither how to find it. You only have a scoring function that is used to quickly compare quality of different solutions.\r\n\r\nWith a good local search algorithm configuration, OptaPlanner will keep providing you with better and better solutions with varying frequency. And *you will never know* if the last solution OptaPlanner has found is the optimal one.\r\n\r\nYou have a couple of basic options to tell OptaPlanner when to stop solving:\r\n\r\n1. You have a limited time to spend optimizing the problem. Then use [time based termination][1].\r\n\r\n2. You have a rough idea what the score of a &quot;good enough&quot; solution should be. Then use [best score termination][2].\r\n\r\n3. You have a vague idea of the time available for solving. Then you can think: if OptaPlanner is unable to improve the solution for say 1 hour, then stop. Use [unimproved time spent termination][3] for that.\r\n\r\n4. Finally, you can [terminate solving asynchronously][4] based on some external event (user&#39;s decision, etc.).\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#timeMillisSpentTermination\r\n  [2]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\r\n  [3]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#unimprovedTimeMillisSpentTermination\r\n  [4]: https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#asynchronousTermination","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>TLDR: if you <em>know</em> what the optimal solution to your problem is, then you don't need OptaPlanner :)</p>\n<p>Presuming you really have an optimization problem, then you don't know how an optimal solution looks like, what its score is, neither how to find it. You only have a scoring function that is used to quickly compare quality of different solutions.</p>\n<p>With a good local search algorithm configuration, OptaPlanner will keep providing you with better and better solutions with varying frequency. And <em>you will never know</em> if the last solution OptaPlanner has found is the optimal one.</p>\n<p>You have a couple of basic options to tell OptaPlanner when to stop solving:</p>\n<ol>\n<li><p>You have a limited time to spend optimizing the problem. Then use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#timeMillisSpentTermination\" rel=\"nofollow noreferrer\">time based termination</a>.</p>\n</li>\n<li><p>You have a rough idea what the score of a &quot;good enough&quot; solution should be. Then use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#bestScoreTermination\" rel=\"nofollow noreferrer\">best score termination</a>.</p>\n</li>\n<li><p>You have a vague idea of the time available for solving. Then you can think: if OptaPlanner is unable to improve the solution for say 1 hour, then stop. Use <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#unimprovedTimeMillisSpentTermination\" rel=\"nofollow noreferrer\">unimproved time spent termination</a> for that.</p>\n</li>\n<li><p>Finally, you can <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/optimization-algorithms/optimization-algorithms.html#asynchronousTermination\" rel=\"nofollow noreferrer\">terminate solving asynchronously</a> based on some external event (user's decision, etc.).</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20907532,"reputation":31,"user_id":15359122,"display_name":"Rukawaa11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127112,"creation_date":1648125944,"question_id":71602788,"body_markdown":"Using Optaplanner to solve the problem, I configured the first fit algorithm. At present, I can only set a fixed time for the solution. Even if the optimal solution has been found in advance, I need to continue to wait for the end of the solution. How can I set the solution to stop automatically when the optimal solution is found?","title":"Using the Optaplanner algorithm to solve, how can I set the solution to automatically stop when the optimal solution is found?","body":"<p>Using Optaplanner to solve the problem, I configured the first fit algorithm. At present, I can only set a fixed time for the solution. Even if the optimal solution has been found in advance, I need to continue to wait for the end of the solution. How can I set the solution to stop automatically when the optimal solution is found?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1648040228,"post_id":71581492,"comment_id":126522536,"body_markdown":"Since you tagged [tag:spring-kafka], have you looked here: https://docs.spring.io/spring-kafka/docs/current/reference/html/#micrometer-native - metrics (including lags, etc) are maintained by Micrometer which can be consumed by graphana etc.","body":"Since you tagged <a href=\"https://stackoverflow.com/questions/tagged/spring-kafka\">spring-kafka</a>, have you looked here: <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#micrometer-native\" rel=\"nofollow noreferrer\">docs.spring.io/spring-kafka/docs/current/reference/html/&hellip;</a> - metrics (including lags, etc) are maintained by Micrometer which can be consumed by graphana etc."},{"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"score":0,"creation_date":1648084407,"post_id":71581492,"comment_id":126537517,"body_markdown":"thanks @GaryRussell I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE) and do not see an option to add the listeners.","body":"thanks @GaryRussell I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE) and do not see an option to add the listeners."}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648007987,"creation_date":1648007987,"answer_id":71581660,"question_id":71581492,"body_markdown":"**Grafana** \r\n\r\nThe following Grafana Dashboards are usefulfor proper Kafka monitoring\r\n\r\n- https://grafana.com/grafana/dashboards/7589 \r\n- https://grafana.com/grafana/dashboards/721 \r\n\r\nYou can follow this [blog][1] for set up\r\n\r\n**Strimzi**\r\n\r\nIf you provision your Kafka cluster with [Strimzi][2], it will automatically provide great dashboards. \r\n\r\n\r\n**Datadog**\r\n\r\nYou can also use the [datadog kafka dashboard][3] for in depth monitoring of kafka cluster\r\n\r\n\r\n  [1]: http://www.liferaysavvy.com/2021/07/kafka-cluster-monitoring-with.html\r\n  [2]: https://strimzi.io/\r\n  [3]: https://www.datadoghq.com/dashboards/kafka-dashboard/","title":"Kafka producer and consumer motrics/monitoring","body":"<p><strong>Grafana</strong></p>\n<p>The following Grafana Dashboards are usefulfor proper Kafka monitoring</p>\n<ul>\n<li><a href=\"https://grafana.com/grafana/dashboards/7589\" rel=\"nofollow noreferrer\">https://grafana.com/grafana/dashboards/7589</a></li>\n<li><a href=\"https://grafana.com/grafana/dashboards/721\" rel=\"nofollow noreferrer\">https://grafana.com/grafana/dashboards/721</a></li>\n</ul>\n<p>You can follow this <a href=\"http://www.liferaysavvy.com/2021/07/kafka-cluster-monitoring-with.html\" rel=\"nofollow noreferrer\">blog</a> for set up</p>\n<p><strong>Strimzi</strong></p>\n<p>If you provision your Kafka cluster with <a href=\"https://strimzi.io/\" rel=\"nofollow noreferrer\">Strimzi</a>, it will automatically provide great dashboards.</p>\n<p><strong>Datadog</strong></p>\n<p>You can also use the <a href=\"https://www.datadoghq.com/dashboards/kafka-dashboard/\" rel=\"nofollow noreferrer\">datadog kafka dashboard</a> for in depth monitoring of kafka cluster</p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648127090,"creation_date":1648127090,"answer_id":71603047,"question_id":71581492,"body_markdown":"&gt;I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE)\r\n\r\n2.2.x has been out of support for several years...\r\n\r\nhttps://spring.io/projects/spring-kafka#support\r\n\r\nThe micrometer listeners were added in 2.5.","title":"Kafka producer and consumer motrics/monitoring","body":"<blockquote>\n<p>I am using ConcurrentKafkaListenerContainerFactory (spring-kafka 2.2.7.RELEASE)</p>\n</blockquote>\n<p>2.2.x has been out of support for several years...</p>\n<p><a href=\"https://spring.io/projects/spring-kafka#support\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-kafka#support</a></p>\n<p>The micrometer listeners were added in 2.5.</p>\n"}],"owner":{"account_id":7036011,"reputation":23,"user_id":5390096,"display_name":"Anup"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648127090,"creation_date":1648006143,"question_id":71581492,"body_markdown":"I am trying to setup a Kafka monitoring dashboard (based on the app logs) to show the consumer lag for the given topic. I am looking for the consumer lag for following scenarios:\r\n\r\n1) Producer is publishing to the topic when there are no active consumers - in this case the latest offset would be considered as the consumer lag\r\n2) Producer is publishing to the topic and there are active consumers - find the lag for each consumer\r\n\r\nI followed this article which does something similar to my requirements https://www.baeldung.com/java-kafka-consumer-lag but for creating AdminClient as per this article, I need to have access to the make Zookeeper configs which is currently not possible.\r\n\r\nAny suggestions? Thanks.","title":"Kafka producer and consumer motrics/monitoring","body":"<p>I am trying to setup a Kafka monitoring dashboard (based on the app logs) to show the consumer lag for the given topic. I am looking for the consumer lag for following scenarios:</p>\n<ol>\n<li>Producer is publishing to the topic when there are no active consumers - in this case the latest offset would be considered as the consumer lag</li>\n<li>Producer is publishing to the topic and there are active consumers - find the lag for each consumer</li>\n</ol>\n<p>I followed this article which does something similar to my requirements <a href=\"https://www.baeldung.com/java-kafka-consumer-lag\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-kafka-consumer-lag</a> but for creating AdminClient as per this article, I need to have access to the make Zookeeper configs which is currently not possible.</p>\n<p>Any suggestions? Thanks.</p>\n"},{"tags":["java","android","location"],"comments":[{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1646640788,"post_id":71377805,"comment_id":126164767,"body_markdown":"Please go through android official documents-https://developer.android.com/guide/background","body":"Please go through android official documents-<a href=\"https://developer.android.com/guide/background\" rel=\"nofollow noreferrer\">developer.android.com/guide/background</a>"},{"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"score":0,"creation_date":1646640970,"post_id":71377805,"comment_id":126164817,"body_markdown":"So according to it I should use `WorkManager`","body":"So according to it I should use <code>WorkManager</code>"}],"answers":[{"tags":[],"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646644810,"creation_date":1646644810,"answer_id":71378801,"question_id":71377805,"body_markdown":"You need to keep a foreground service always running. You need to start it when the app is in the foreground and then keep it running all the time even when the app is in the background.\r\n\r\n","title":"Continuously get user location when app is paused or killed in android","body":"<p>You need to keep a foreground service always running. You need to start it when the app is in the foreground and then keep it running all the time even when the app is in the background.</p>\n"},{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648126689,"creation_date":1646985985,"answer_id":71435391,"question_id":71377805,"body_markdown":"You should use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\r\nHere below an example of Foreground Service Class that implements a Wakelock:\r\n\r\n    public class ICService extends Service {\r\n        \r\n        private static final int ID = 1;                        // The id of the notification\r\n        \r\n        private NotificationCompat.Builder builder;\r\n        private NotificationManager mNotificationManager;\r\n        private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\r\n        \r\n        /**\r\n         * Returns the instance of the service\r\n         */\r\n        public class LocalBinder extends Binder {\r\n            public ICService getServiceInstance(){\r\n                return ICService.this;\r\n            }\r\n        }\r\n        private final IBinder mBinder = new LocalBinder();      // IBinder\r\n        \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // PARTIAL_WAKELOCK\r\n            PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\n            wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n            startForeground(ID, getNotification());\r\n            return START_NOT_STICKY;\r\n        }\r\n        \r\n        @SuppressLint(&quot;WakelockTimeout&quot;)\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\r\n                wakeLock.acquire();\r\n            }\r\n            return mBinder;\r\n        }\r\n        \r\n        @Override\r\n        public void onDestroy() {\r\n            // PARTIAL_WAKELOCK\r\n            if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\r\n                wakeLock.release();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private Notification getNotification() {\r\n            final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\r\n    \r\n            builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n            //builder.setSmallIcon(R.drawable.ic_notification_24dp)\r\n            builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\r\n                .setColor(getResources().getColor(R.color.colorPrimaryLight))\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setShowWhen(false)\r\n                .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                .setCategory(NotificationCompat.CATEGORY_SERVICE)\r\n                .setOngoing(true)\r\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                .setContentText(composeContentText());\r\n    \r\n            final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\r\n            startIntent.setAction(Intent.ACTION_MAIN);\r\n            startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\r\n            builder.setContentIntent(contentIntent);\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\nObviously you still have also to disable battery optimization for your app.\r\nYou can browse a real working example of this service on a GPS Logging app [here][1].\r\n\r\nDon&#39;t forget to declare your service type as &quot;location&quot; into your `AndroidManifest.xml`, in order to allow your application to receive the GPS updates also after a momentary signal loss when running in background, and to add the FOREGROUND_SERVICE and WAKE_LOCK permissions:\r\n\r\nIn your manifest you should declare:\r\n\r\n```xml\r\n    ...\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    ...\r\n    &lt;!-- Recommended for Android 9 (API level 28) and lower. --&gt;\r\n    &lt;!-- Required for Android 10 (API level 29) and higher. --&gt;\r\n    &lt;service\r\n        android:name=&quot;MyGPSService&quot;\r\n        android:foregroundServiceType=&quot;location&quot; ... &gt;\r\n    &lt;/service&gt;\r\n    ...\r\n```\r\n\r\nAs a note, if the location requests start when the app is in the foreground, you don&#39;t need to request the `android.permission.ACCESS_BACKGROUND_LOCATION` permission to continue to receive locations in background, also in case of momentary signal loss.&lt;br&gt; the `android.permission.ACCESS_FINE_LOCATION` (and, if you target API31, also `android.permission.ACCESS_COARSE_LOCATION`) is enough for your use.\r\n\r\n  [1]: https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\r\n","title":"Continuously get user location when app is paused or killed in android","body":"<p>You should use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\nHere below an example of Foreground Service Class that implements a Wakelock:</p>\n<pre><code>public class ICService extends Service {\n    \n    private static final int ID = 1;                        // The id of the notification\n    \n    private NotificationCompat.Builder builder;\n    private NotificationManager mNotificationManager;\n    private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\n    \n    /**\n     * Returns the instance of the service\n     */\n    public class LocalBinder extends Binder {\n        public ICService getServiceInstance(){\n            return ICService.this;\n        }\n    }\n    private final IBinder mBinder = new LocalBinder();      // IBinder\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // PARTIAL_WAKELOCK\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\n    }\n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        startForeground(ID, getNotification());\n        return START_NOT_STICKY;\n    }\n    \n    @SuppressLint(&quot;WakelockTimeout&quot;)\n    @Override\n    public IBinder onBind(Intent intent) {\n        if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\n            wakeLock.acquire();\n        }\n        return mBinder;\n    }\n    \n    @Override\n    public void onDestroy() {\n        // PARTIAL_WAKELOCK\n        if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\n            wakeLock.release();\n        }\n        super.onDestroy();\n    }\n\n    private Notification getNotification() {\n        final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        //builder.setSmallIcon(R.drawable.ic_notification_24dp)\n        builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\n            .setColor(getResources().getColor(R.color.colorPrimaryLight))\n            .setContentTitle(getString(R.string.app_name))\n            .setShowWhen(false)\n            .setPriority(NotificationCompat.PRIORITY_LOW)\n            .setCategory(NotificationCompat.CATEGORY_SERVICE)\n            .setOngoing(true)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setContentText(composeContentText());\n\n        final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\n        startIntent.setAction(Intent.ACTION_MAIN);\n        startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n        startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\n        builder.setContentIntent(contentIntent);\n        return builder.build();\n    }\n}\n</code></pre>\n<p>Obviously you still have also to disable battery optimization for your app.\nYou can browse a real working example of this service on a GPS Logging app <a href=\"https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Don't forget to declare your service type as &quot;location&quot; into your <code>AndroidManifest.xml</code>, in order to allow your application to receive the GPS updates also after a momentary signal loss when running in background, and to add the FOREGROUND_SERVICE and WAKE_LOCK permissions:</p>\n<p>In your manifest you should declare:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    ...\n    &lt;!-- Recommended for Android 9 (API level 28) and lower. --&gt;\n    &lt;!-- Required for Android 10 (API level 29) and higher. --&gt;\n    &lt;service\n        android:name=&quot;MyGPSService&quot;\n        android:foregroundServiceType=&quot;location&quot; ... &gt;\n    &lt;/service&gt;\n    ...\n</code></pre>\n<p>As a note, if the location requests start when the app is in the foreground, you don't need to request the <code>android.permission.ACCESS_BACKGROUND_LOCATION</code> permission to continue to receive locations in background, also in case of momentary signal loss.<br> the <code>android.permission.ACCESS_FINE_LOCATION</code> (and, if you target API31, also <code>android.permission.ACCESS_COARSE_LOCATION</code>) is enough for your use.</p>\n"}],"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71435391,"answer_count":2,"score":1,"last_activity_date":1648126689,"creation_date":1646639106,"question_id":71377805,"body_markdown":"I want to continuously get location updates in the background using service even app is paused I tried much but when the app is paused it won&#39;t get any of the user&#39;s locations.\r\n\r\nHere is my `service.java`\r\n```\r\npackage com.app.testservices;\r\n\r\n\r\nimport android.app.AlarmManager;\r\nimport android.app.Notification;\r\nimport android.app.PendingIntent;\r\nimport android.app.Service;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.location.Location;\r\nimport android.os.IBinder;\r\nimport android.os.Looper;\r\nimport android.os.SystemClock;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.NotificationCompat;\r\n\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\n\r\npublic class MyService extends Service {\r\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 3000;\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationSettingsRequest locationSettingsRequest;\r\n    Notification notification;\r\n    NotificationCompat.Builder builder;\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        prepareNotification(intent);\r\n        startLocationUpdates();\r\n        return START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        initData();\r\n    }\r\n\r\n\r\n    //Location Callback\r\n    private LocationCallback locationCallback = new LocationCallback() {\r\n        @Override\r\n        public void onLocationResult(LocationResult locationResult) {\r\n            super.onLocationResult(locationResult);\r\n            Location currentLocation = locationResult.getLastLocation();\r\n            Log.d(&quot;Locations&quot;, currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\r\n            //Share/Publish Location\r\n            builder.setContentText(currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\r\n            Notification nm = builder.build();\r\n            startForeground(2, nm);\r\n        }\r\n    };\r\n\r\n    private void startLocationUpdates() {\r\n        mFusedLocationClient.requestLocationUpdates(this.locationRequest,\r\n                this.locationCallback, Looper.getMainLooper());\r\n    }\r\n\r\n    public void prepareNotification(Intent intent) {\r\n        String input = intent.getStringExtra(&quot;input&quot;);\r\n        Intent notificationIntent = new Intent(this, MyService.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\r\n                0, notificationIntent, 0);\r\n        builder = new NotificationCompat.Builder(this, MyChannel.CHANNEL_ID)\r\n                .setContentTitle(&quot;My notification&quot;)\r\n                .setContentText(input)\r\n                .setSmallIcon(R.drawable.ic_android_black_24dp)\r\n                .setContentIntent(pendingIntent);\r\n        notification = builder.build();\r\n        startForeground(1, notification);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        Intent broadcastIntent = new Intent();\r\n        broadcastIntent.setAction(&quot;restartservice&quot;);\r\n        broadcastIntent.setClass(this, Restarter.class);\r\n        this.sendBroadcast(broadcastIntent);\r\n    }\r\n\r\n    private void initData() {\r\n        locationRequest = LocationRequest.create();\r\n        locationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        locationRequest.setNumUpdates(Integer.MAX_VALUE);\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onTaskRemoved(Intent rootIntent){\r\n        Intent restartServiceIntent = new Intent(getApplicationContext(), this.getClass());\r\n        restartServiceIntent.setPackage(getPackageName());\r\n\r\n        PendingIntent restartServicePendingIntent = PendingIntent.getService(getApplicationContext(), 1, restartServiceIntent, PendingIntent.FLAG_ONE_SHOT);\r\n        AlarmManager alarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\r\n        alarmService.set(\r\n                AlarmManager.ELAPSED_REALTIME,\r\n                SystemClock.elapsedRealtime() + 10,\r\n                restartServicePendingIntent);\r\n\r\n        super.onTaskRemoved(rootIntent);\r\n    }\r\n}\r\n\r\n```\r\n\r\n``` Channel.java```\r\n\r\n```\r\npackage com.app.testservices;\r\n\r\nimport android.app.Application;\r\nimport android.app.NotificationChannel;\r\nimport android.app.NotificationManager;\r\nimport android.os.Build;\r\n\r\npublic class MyChannel extends Application {\r\n    public static final String CHANNEL_ID = &quot;serviceChannel&quot;;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        createNotificationChannel();\r\n    }\r\n    private void createNotificationChannel() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel serviceChannel = new NotificationChannel(\r\n                    CHANNEL_ID,\r\n                    &quot;Notification service&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT\r\n            );\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(serviceChannel);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also tried to write a restarter to restart the service to fetch the location ```Restarter.java```\r\n\r\n    package com.app.testservices;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.os.Build;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class Restarter extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Log.i(&quot;Broadcast Listened&quot;, &quot;Service tried to stop&quot;);\r\n            Toast.makeText(context, &quot;Service restarted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                context.startForegroundService(new Intent(context, MyService.class));\r\n            } else {\r\n                context.startService(new Intent(context, MyService.class));\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is my `MainActivity.java`\r\n\r\n```\r\npackage com.app.testservices;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentSender;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport android.provider.Settings;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport com.google.android.gms.common.api.ResolvableApiException;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationResult;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.LocationSettingsRequest;\r\nimport com.google.android.gms.location.LocationSettingsResponse;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private EditText etInput;\r\n    protected static final int REQUEST_CHECK_SETTINGS = 0x1;\r\n    FusedLocationProviderClient mFusedLocationClient;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        etInput = findViewById(R.id.et_input_text);\r\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            // TODO: Consider calling\r\n            //    ActivityCompat#requestPermissions\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n            }, 1);\r\n\r\n            return;\r\n        }\r\n    }\r\n\r\n    public void startService(View view) {\r\n        String input = etInput.getText().toString();\r\n        Intent serviceIntent = new Intent(this, MyService.class);\r\n        serviceIntent.putExtra(&quot;input&quot;, input);\r\n        startService(serviceIntent);\r\n    }\r\n\r\n    public void stopService(View view) {\r\n        Intent serviceIntent = new Intent(this, MyService.class);\r\n        stopService(serviceIntent);\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n\r\n        // If request is cancelled, the result arrays are empty.\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length &gt; 0\r\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                        mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                                Location location = task.getResult();\r\n                                LocationCallback mLocationCallback = new LocationCallback() {\r\n\r\n                                    @Override\r\n                                    public void onLocationResult(LocationResult locationResult) {\r\n                                        Location mLastLocation = locationResult.getLastLocation();\r\n                                    }\r\n                                };\r\n                                if (location == null) {\r\n                                    LocationRequest mLocationRequest = new LocationRequest();\r\n                                    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                                    mLocationRequest.setInterval(5);\r\n                                    mLocationRequest.setFastestInterval(0);\r\n                                    mLocationRequest.setNumUpdates(2);\r\n\r\n                                    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                        // TODO: Consider calling\r\n                                        //    ActivityCompat#requestPermissions\r\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                                                Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n                                        }, 1);\r\n\r\n                                        return;\r\n                                    }\r\n                                    mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n\r\n                                } else {\r\n                                    System.out.println(&quot;Location: &quot; + location);\r\n\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n\r\n        }\r\n    }\r\n\r\n    public void enableLocationSettings() {\r\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\r\n            LocationRequest locationRequest = LocationRequest.create()\r\n                    .setInterval(5)\r\n                    .setFastestInterval(0)\r\n                    .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n\r\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest);\r\n            LocationServices.getSettingsClient(this).checkLocationSettings(builder.build())\r\n                    .addOnSuccessListener(this, (LocationSettingsResponse response) -&gt; {\r\n                        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                    mFusedLocationClient.getLastLocation().addOnCompleteListener(task -&gt; {\r\n                                        Location location = task.getResult();\r\n                                        LocationCallback mLocationCallback = new LocationCallback() {\r\n\r\n                                            @Override\r\n                                            public void onLocationResult(LocationResult locationResult) {\r\n                                                Location mLastLocation = locationResult.getLastLocation();\r\n                                            }\r\n                                        };\r\n                                        if (location == null) {\r\n                                            LocationRequest mLocationRequest = new LocationRequest();\r\n                                            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n                                            mLocationRequest.setInterval(5);\r\n                                            mLocationRequest.setFastestInterval(0);\r\n                                            mLocationRequest.setNumUpdates(2);\r\n\r\n                                            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\r\n                                            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                                                // TODO: Consider calling\r\n                                                //    ActivityCompat#requestPermissions\r\n                                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{\r\n                                                        Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\r\n                                                }, 1);\r\n\r\n                                                return;\r\n                                            }\r\n                                            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\r\n\r\n                                        } else {\r\n                                            System.out.println(&quot;Location: &quot; + location);\r\n\r\n                                        }\r\n                                    });\r\n                                }\r\n\r\n                            }).addOnFailureListener(this, ex -&gt; {\r\n                if (ex instanceof ResolvableApiException) {\r\n                    // Location settings are NOT satisfied,  but this can be fixed  by showing the user a dialog.\r\n                    try {\r\n                        startActivityForResult(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS), 1);\r\n                        ResolvableApiException resolvable = (ResolvableApiException) ex;\r\n                        resolvable.startResolutionForResult(MainActivity.this, REQUEST_CHECK_SETTINGS);\r\n                    } catch (IntentSender.SendIntentException sendEx) {\r\n                        // Ignore the error.\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (REQUEST_CHECK_SETTINGS == requestCode) {\r\n            if (Activity.RESULT_OK == resultCode) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAny help or guidance will be appreciated. Moreover, \r\nI also tried https://stackoverflow.com/questions/36473546/android-how-to-get-user-location-continuously-even-your-app-is-killed\r\nthis but it didn&#39;t work for me.","title":"Continuously get user location when app is paused or killed in android","body":"<p>I want to continuously get location updates in the background using service even app is paused I tried much but when the app is paused it won't get any of the user's locations.</p>\n<p>Here is my <code>service.java</code></p>\n<pre><code>package com.app.testservices;\n\n\nimport android.app.AlarmManager;\nimport android.app.Notification;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.location.Location;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.os.SystemClock;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\nimport androidx.core.app.NotificationCompat;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\n\npublic class MyService extends Service {\n    private static final long UPDATE_INTERVAL_IN_MILLISECONDS = 3000;\n    private FusedLocationProviderClient mFusedLocationClient;\n    private LocationRequest locationRequest;\n    private LocationSettingsRequest locationSettingsRequest;\n    Notification notification;\n    NotificationCompat.Builder builder;\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        prepareNotification(intent);\n        startLocationUpdates();\n        return START_STICKY;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        initData();\n    }\n\n\n    //Location Callback\n    private LocationCallback locationCallback = new LocationCallback() {\n        @Override\n        public void onLocationResult(LocationResult locationResult) {\n            super.onLocationResult(locationResult);\n            Location currentLocation = locationResult.getLastLocation();\n            Log.d(&quot;Locations&quot;, currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\n            //Share/Publish Location\n            builder.setContentText(currentLocation.getLatitude() + &quot;,&quot; + currentLocation.getLongitude());\n            Notification nm = builder.build();\n            startForeground(2, nm);\n        }\n    };\n\n    private void startLocationUpdates() {\n        mFusedLocationClient.requestLocationUpdates(this.locationRequest,\n                this.locationCallback, Looper.getMainLooper());\n    }\n\n    public void prepareNotification(Intent intent) {\n        String input = intent.getStringExtra(&quot;input&quot;);\n        Intent notificationIntent = new Intent(this, MyService.class);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\n                0, notificationIntent, 0);\n        builder = new NotificationCompat.Builder(this, MyChannel.CHANNEL_ID)\n                .setContentTitle(&quot;My notification&quot;)\n                .setContentText(input)\n                .setSmallIcon(R.drawable.ic_android_black_24dp)\n                .setContentIntent(pendingIntent);\n        notification = builder.build();\n        startForeground(1, notification);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Intent broadcastIntent = new Intent();\n        broadcastIntent.setAction(&quot;restartservice&quot;);\n        broadcastIntent.setClass(this, Restarter.class);\n        this.sendBroadcast(broadcastIntent);\n    }\n\n    private void initData() {\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(UPDATE_INTERVAL_IN_MILLISECONDS);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        locationRequest.setNumUpdates(Integer.MAX_VALUE);\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(getApplicationContext());\n\n    }\n\n    @Override\n    public void onTaskRemoved(Intent rootIntent){\n        Intent restartServiceIntent = new Intent(getApplicationContext(), this.getClass());\n        restartServiceIntent.setPackage(getPackageName());\n\n        PendingIntent restartServicePendingIntent = PendingIntent.getService(getApplicationContext(), 1, restartServiceIntent, PendingIntent.FLAG_ONE_SHOT);\n        AlarmManager alarmService = (AlarmManager) getApplicationContext().getSystemService(Context.ALARM_SERVICE);\n        alarmService.set(\n                AlarmManager.ELAPSED_REALTIME,\n                SystemClock.elapsedRealtime() + 10,\n                restartServicePendingIntent);\n\n        super.onTaskRemoved(rootIntent);\n    }\n}\n\n</code></pre>\n<p><code> Channel.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport android.app.Application;\nimport android.app.NotificationChannel;\nimport android.app.NotificationManager;\nimport android.os.Build;\n\npublic class MyChannel extends Application {\n    public static final String CHANNEL_ID = &quot;serviceChannel&quot;;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        createNotificationChannel();\n    }\n    private void createNotificationChannel() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel serviceChannel = new NotificationChannel(\n                    CHANNEL_ID,\n                    &quot;Notification service&quot;,\n                    NotificationManager.IMPORTANCE_DEFAULT\n            );\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(serviceChannel);\n        }\n    }\n}\n</code></pre>\n<p>I also tried to write a restarter to restart the service to fetch the location <code>Restarter.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.os.Build;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class Restarter extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Log.i(&quot;Broadcast Listened&quot;, &quot;Service tried to stop&quot;);\n        Toast.makeText(context, &quot;Service restarted&quot;, Toast.LENGTH_SHORT).show();\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            context.startForegroundService(new Intent(context, MyService.class));\n        } else {\n            context.startService(new Intent(context, MyService.class));\n        }\n    }\n}\n</code></pre>\n<p>Here is my <code>MainActivity.java</code></p>\n<pre><code>package com.app.testservices;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentSender;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationManager;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\nimport android.os.Looper;\nimport android.provider.Settings;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.google.android.gms.common.api.ResolvableApiException;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.LocationSettingsRequest;\nimport com.google.android.gms.location.LocationSettingsResponse;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\n\npublic class MainActivity extends AppCompatActivity {\n    private EditText etInput;\n    protected static final int REQUEST_CHECK_SETTINGS = 0x1;\n    FusedLocationProviderClient mFusedLocationClient;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        etInput = findViewById(R.id.et_input_text);\n        if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                    Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n            }, 1);\n\n            return;\n        }\n    }\n\n    public void startService(View view) {\n        String input = etInput.getText().toString();\n        Intent serviceIntent = new Intent(this, MyService.class);\n        serviceIntent.putExtra(&quot;input&quot;, input);\n        startService(serviceIntent);\n    }\n\n    public void stopService(View view) {\n        Intent serviceIntent = new Intent(this, MyService.class);\n        stopService(serviceIntent);\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n\n        // If request is cancelled, the result arrays are empty.\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (grantResults.length &gt; 0\n                &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                        mFusedLocationClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;Location&gt; task) {\n                                Location location = task.getResult();\n                                LocationCallback mLocationCallback = new LocationCallback() {\n\n                                    @Override\n                                    public void onLocationResult(LocationResult locationResult) {\n                                        Location mLastLocation = locationResult.getLastLocation();\n                                    }\n                                };\n                                if (location == null) {\n                                    LocationRequest mLocationRequest = new LocationRequest();\n                                    mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                                    mLocationRequest.setInterval(5);\n                                    mLocationRequest.setFastestInterval(0);\n                                    mLocationRequest.setNumUpdates(2);\n\n                                    mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                    if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                        // TODO: Consider calling\n                                        //    ActivityCompat#requestPermissions\n                                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                                                Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n                                        }, 1);\n\n                                        return;\n                                    }\n                                    mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n\n                                } else {\n                                    System.out.println(&quot;Location: &quot; + location);\n\n                                }\n                            }\n                        });\n                    }\n\n        }\n    }\n\n    public void enableLocationSettings() {\n        LocationManager locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n        if (!locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n            LocationRequest locationRequest = LocationRequest.create()\n                    .setInterval(5)\n                    .setFastestInterval(0)\n                    .setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n            LocationSettingsRequest.Builder builder = new LocationSettingsRequest.Builder().addLocationRequest(locationRequest);\n            LocationServices.getSettingsClient(this).checkLocationSettings(builder.build())\n                    .addOnSuccessListener(this, (LocationSettingsResponse response) -&gt; {\n                        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                    mFusedLocationClient.getLastLocation().addOnCompleteListener(task -&gt; {\n                                        Location location = task.getResult();\n                                        LocationCallback mLocationCallback = new LocationCallback() {\n\n                                            @Override\n                                            public void onLocationResult(LocationResult locationResult) {\n                                                Location mLastLocation = locationResult.getLastLocation();\n                                            }\n                                        };\n                                        if (location == null) {\n                                            LocationRequest mLocationRequest = new LocationRequest();\n                                            mLocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n                                            mLocationRequest.setInterval(5);\n                                            mLocationRequest.setFastestInterval(0);\n                                            mLocationRequest.setNumUpdates(2);\n\n                                            mFusedLocationClient = LocationServices.getFusedLocationProviderClient(MainActivity.this);\n                                            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                                                // TODO: Consider calling\n                                                //    ActivityCompat#requestPermissions\n                                                ActivityCompat.requestPermissions(MainActivity.this, new String[]{\n                                                        Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION\n                                                }, 1);\n\n                                                return;\n                                            }\n                                            mFusedLocationClient.requestLocationUpdates(mLocationRequest, mLocationCallback, Looper.myLooper());\n\n                                        } else {\n                                            System.out.println(&quot;Location: &quot; + location);\n\n                                        }\n                                    });\n                                }\n\n                            }).addOnFailureListener(this, ex -&gt; {\n                if (ex instanceof ResolvableApiException) {\n                    // Location settings are NOT satisfied,  but this can be fixed  by showing the user a dialog.\n                    try {\n                        startActivityForResult(new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS), 1);\n                        ResolvableApiException resolvable = (ResolvableApiException) ex;\n                        resolvable.startResolutionForResult(MainActivity.this, REQUEST_CHECK_SETTINGS);\n                    } catch (IntentSender.SendIntentException sendEx) {\n                        // Ignore the error.\n                    }\n                }\n            });\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (REQUEST_CHECK_SETTINGS == requestCode) {\n            if (Activity.RESULT_OK == resultCode) {\n            }\n        }\n    }\n}\n</code></pre>\n<p>Any help or guidance will be appreciated. Moreover,\nI also tried <a href=\"https://stackoverflow.com/questions/36473546/android-how-to-get-user-location-continuously-even-your-app-is-killed\">Android How to get user location continuously even your app is killed</a>\nthis but it didn't work for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648048361,"post_id":71589088,"comment_id":126526363,"body_markdown":"You mean like [Scanner.nextLine()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Scanner.html#nextLine()) or [BufferedReader.readLine()](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#readLine())?","body":"You mean like <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">Scanner.nextLine()</a> or <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/BufferedReader.html#readLine()\" rel=\"nofollow noreferrer\">BufferedReader.readLine()</a>?"},{"owner":{"account_id":24370067,"reputation":1,"user_id":18303165,"display_name":"JOHNTY SINGH"},"score":0,"creation_date":1648048991,"post_id":71589088,"comment_id":126526653,"body_markdown":"i meant the Scanner.nextLine(); i dont know about Buffer that much","body":"i meant the Scanner.nextLine(); i dont know about Buffer that much"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648050746,"post_id":71589088,"comment_id":126527525,"body_markdown":"Where are you having trouble?  If you only care about the first character in a line, just examine that character in the string.","body":"Where are you having trouble?  If you only care about the first character in a line, just examine that character in the string."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648055636,"creation_date":1648055636,"answer_id":71591336,"question_id":71589088,"body_markdown":"Open the file in a try-with-resources block for proper closing\r\n\r\n    try(BufferedReader reader = new BufferedReader(new FileReader(&quot;/your/file/location&quot;))) {\r\n        //read the first line\r\n\t\tString line = reader.readLine();\r\n        //keep reading until done\r\n\t\twhile (line != null) {\r\n\t\t\t//process line\r\n\t\t}\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}","title":"Java File io. How to get char without using streamclass or any way to read char from the next line in txt","body":"<p>Open the file in a try-with-resources block for proper closing</p>\n<pre><code>try(BufferedReader reader = new BufferedReader(new FileReader(&quot;/your/file/location&quot;))) {\n    //read the first line\n    String line = reader.readLine();\n    //keep reading until done\n    while (line != null) {\n        //process line\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":24370067,"reputation":1,"user_id":18303165,"display_name":"JOHNTY SINGH"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648126480,"creation_date":1648046182,"question_id":71589088,"body_markdown":"I have been wondering like is there any way we can read char from a txt file without using stream class in java. i know stream class is much more efficient. But i want to read file line by line.\r\n\r\nFor example:\r\n\r\nName(String read this)\r\n\r\nsex(char read in next line)\r\n\r\nSo can I use stream class for this purpose or is there any way to read char using simple scanner?","title":"Java File io. How to get char without using streamclass or any way to read char from the next line in txt","body":"<p>I have been wondering like is there any way we can read char from a txt file without using stream class in java. i know stream class is much more efficient. But i want to read file line by line.</p>\n<p>For example:</p>\n<p>Name(String read this)</p>\n<p>sex(char read in next line)</p>\n<p>So can I use stream class for this purpose or is there any way to read char using simple scanner?</p>\n"},{"tags":["java","android","android-studio","android-wifi"],"answers":[{"tags":[],"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648126437,"creation_date":1648126437,"answer_id":71602898,"question_id":71599735,"body_markdown":"If you want to monitor it continuously, you could use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\r\nHere below an example of Foreground Service Class that implements a Wakelock:\r\n\r\n    public class ICService extends Service {\r\n        \r\n        private static final int ID = 1;                        // The id of the notification\r\n        \r\n        private NotificationCompat.Builder builder;\r\n        private NotificationManager mNotificationManager;\r\n        private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\r\n        \r\n        /**\r\n         * Returns the instance of the service\r\n         */\r\n        public class LocalBinder extends Binder {\r\n            public ICService getServiceInstance(){\r\n                return ICService.this;\r\n            }\r\n        }\r\n        private final IBinder mBinder = new LocalBinder();      // IBinder\r\n        \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            // PARTIAL_WAKELOCK\r\n            PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\r\n            wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\r\n        }\r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n            startForeground(ID, getNotification());\r\n            return START_NOT_STICKY;\r\n        }\r\n        \r\n        @SuppressLint(&quot;WakelockTimeout&quot;)\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\r\n                wakeLock.acquire();\r\n            }\r\n            return mBinder;\r\n        }\r\n        \r\n        @Override\r\n        public void onDestroy() {\r\n            // PARTIAL_WAKELOCK\r\n            if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\r\n                wakeLock.release();\r\n            }\r\n            super.onDestroy();\r\n        }\r\n    \r\n        private Notification getNotification() {\r\n            final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\r\n    \r\n            builder = new NotificationCompat.Builder(this, CHANNEL_ID);\r\n            //builder.setSmallIcon(R.drawable.ic_notification_24dp)\r\n            builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\r\n                .setColor(getResources().getColor(R.color.colorPrimaryLight))\r\n                .setContentTitle(getString(R.string.app_name))\r\n                .setShowWhen(false)\r\n                .setPriority(NotificationCompat.PRIORITY_LOW)\r\n                .setCategory(NotificationCompat.CATEGORY_SERVICE)\r\n                .setOngoing(true)\r\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                .setContentText(composeContentText());\r\n    \r\n            final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\r\n            startIntent.setAction(Intent.ACTION_MAIN);\r\n            startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\r\n            startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\r\n            PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\r\n            builder.setContentIntent(contentIntent);\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\nIn your manifest you should declare:\r\n\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n```\r\nObviously you still have also to disable battery optimization and monitoring for your app, and allow the background network activity.\r\nYou can browse a real working example of this service on a GPS Logging app [here][1].\r\n\r\nUsing a foreground service, a notification icon will be present on your system bar.\r\n\r\n  [1]: https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\r\n","title":"Android how to keep NetworkCallback alive in background","body":"<p>If you want to monitor it continuously, you could use a Foreground Service with a partial wakelock, in order to prevent the phone from sleeping.\nHere below an example of Foreground Service Class that implements a Wakelock:</p>\n<pre><code>public class ICService extends Service {\n    \n    private static final int ID = 1;                        // The id of the notification\n    \n    private NotificationCompat.Builder builder;\n    private NotificationManager mNotificationManager;\n    private PowerManager.WakeLock wakeLock;                 // PARTIAL_WAKELOCK\n    \n    /**\n     * Returns the instance of the service\n     */\n    public class LocalBinder extends Binder {\n        public ICService getServiceInstance(){\n            return ICService.this;\n        }\n    }\n    private final IBinder mBinder = new LocalBinder();      // IBinder\n    \n    @Override\n    public void onCreate() {\n        super.onCreate();\n        // PARTIAL_WAKELOCK\n        PowerManager powerManager = (PowerManager) getSystemService(POWER_SERVICE);\n        wakeLock = powerManager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,&quot;INSERT_YOUR_APP_NAME:wakelock&quot;);\n    }\n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        mNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n        startForeground(ID, getNotification());\n        return START_NOT_STICKY;\n    }\n    \n    @SuppressLint(&quot;WakelockTimeout&quot;)\n    @Override\n    public IBinder onBind(Intent intent) {\n        if (wakeLock != null &amp;&amp; !wakeLock.isHeld()) {\n            wakeLock.acquire();\n        }\n        return mBinder;\n    }\n    \n    @Override\n    public void onDestroy() {\n        // PARTIAL_WAKELOCK\n        if (wakeLock != null &amp;&amp; wakeLock.isHeld()) {\n            wakeLock.release();\n        }\n        super.onDestroy();\n    }\n\n    private Notification getNotification() {\n        final String CHANNEL_ID = &quot;YOUR_SERVICE_CHANNEL&quot;;\n\n        builder = new NotificationCompat.Builder(this, CHANNEL_ID);\n        //builder.setSmallIcon(R.drawable.ic_notification_24dp)\n        builder.setSmallIcon(R.mipmap.YOUR_RESOURCE_ICON)\n            .setColor(getResources().getColor(R.color.colorPrimaryLight))\n            .setContentTitle(getString(R.string.app_name))\n            .setShowWhen(false)\n            .setPriority(NotificationCompat.PRIORITY_LOW)\n            .setCategory(NotificationCompat.CATEGORY_SERVICE)\n            .setOngoing(true)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setContentText(composeContentText());\n\n        final Intent startIntent = new Intent(getApplicationContext(), ICActivity.class);\n        startIntent.setAction(Intent.ACTION_MAIN);\n        startIntent.addCategory(Intent.CATEGORY_LAUNCHER);\n        startIntent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n        PendingIntent contentIntent = PendingIntent.getActivity(getApplicationContext(), 1, startIntent, 0);\n        builder.setContentIntent(contentIntent);\n        return builder.build();\n    }\n}\n</code></pre>\n<p>In your manifest you should declare:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n</code></pre>\n<p>Obviously you still have also to disable battery optimization and monitoring for your app, and allow the background network activity.\nYou can browse a real working example of this service on a GPS Logging app <a href=\"https://github.com/BasicAirData/GPSLogger/blob/master/app/src/main/java/eu/basicairdata/graziano/gpslogger/GPSService.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Using a foreground service, a notification icon will be present on your system bar.</p>\n"}],"owner":{"account_id":11956435,"reputation":165,"user_id":8748646,"display_name":"Nuubles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648126437,"creation_date":1648113314,"question_id":71599735,"body_markdown":"I&#39;m trying to monitor the WiFi state (connect/disconnect) of the phone in background, but whenever I close the application ConnectivityManager will no longer call the provided method. How would I keep the registration alive even in the background?\r\n\r\nSome SO questions pointed to [this](https://developer.android.com/reference/android/app/Service.html) source that instructs on how to use Services in android, and has been implemented here. Unfortunately the method does not work, even after trying to test and tweak it multiple times (such as using alternative classes to AsyncTask).\r\n\r\n## Service that should keep the process alive in the background ##\r\n```java\r\npublic class MonitorService extends Service implements Runnable {\r\n    private final LocalBinder binder;\r\n    private WifiChecker checker;\r\n\r\n    {\r\n        binder = new LocalBinder();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        checker = new CallbackChecker(MonitorService.this, new WallPaperChanger());\r\n    }\r\n\r\n    public class LocalBinder extends Binder {\r\n        public MonitorService getService() {\r\n            return MonitorService.this;\r\n        }\r\n    }\r\n\r\n    public MonitorService() {\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return binder;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        checker.destroy();\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        AsyncTask.execute(this);\r\n        return Service.START_STICKY;\r\n    }\r\n}\r\n```\r\n\r\n## How MainActivity starts the service above ##\r\n```java\r\nIntent serviceIntent = new Intent(this, MonitorService.class);\r\nstartService(serviceIntent);\r\n```\r\n\r\n## How ConnectivityManager is being used ##\r\n```java\r\npublic class CallbackChecker extends WifiChecker {\r\n    private ConnectivityManager.NetworkCallback callback;\r\n\r\n    public CallbackChecker(Context context, WifiListener... listeners) {\r\n        super(context, listeners);\r\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkRequest.Builder builder = new NetworkRequest.Builder();\r\n\r\n        cm.registerNetworkCallback(builder.build(), callback = new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n                WifiManager wifiManager = (WifiManager)getContext().getSystemService(Context.WIFI_SERVICE);\r\n                WifiInfo wifiInfo = wifiManager.getConnectionInfo();\r\n                // Some code that runs when wifi is connected\r\n            }\r\n\r\n            @Override\r\n            public void onLost(Network network) {\r\n                // Some code that runs when wifi is disconnected\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.d(&quot;DEBUG&quot;, &quot;DESTROYED&quot;);\r\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        cm.unregisterNetworkCallback(callback);\r\n    }\r\n}\r\n\r\n```\r\nIn the code we can see that a debug message should be sent when the service is destroyed, but this never gets printed to the console. The method should be called when the service is destroyed, and as such it may point out that the service itself never gets destroyed. Unfortunately due to my lack of expertise on Android development (first app) I don&#39;t know how I would continue with this problem/question","title":"Android how to keep NetworkCallback alive in background","body":"<p>I'm trying to monitor the WiFi state (connect/disconnect) of the phone in background, but whenever I close the application ConnectivityManager will no longer call the provided method. How would I keep the registration alive even in the background?</p>\n<p>Some SO questions pointed to <a href=\"https://developer.android.com/reference/android/app/Service.html\" rel=\"nofollow noreferrer\">this</a> source that instructs on how to use Services in android, and has been implemented here. Unfortunately the method does not work, even after trying to test and tweak it multiple times (such as using alternative classes to AsyncTask).</p>\n<h2>Service that should keep the process alive in the background</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class MonitorService extends Service implements Runnable {\n    private final LocalBinder binder;\n    private WifiChecker checker;\n\n    {\n        binder = new LocalBinder();\n    }\n\n    @Override\n    public void run() {\n        checker = new CallbackChecker(MonitorService.this, new WallPaperChanger());\n    }\n\n    public class LocalBinder extends Binder {\n        public MonitorService getService() {\n            return MonitorService.this;\n        }\n    }\n\n    public MonitorService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return binder;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public void onDestroy() {\n        checker.destroy();\n        super.onDestroy();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        AsyncTask.execute(this);\n        return Service.START_STICKY;\n    }\n}\n</code></pre>\n<h2>How MainActivity starts the service above</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Intent serviceIntent = new Intent(this, MonitorService.class);\nstartService(serviceIntent);\n</code></pre>\n<h2>How ConnectivityManager is being used</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class CallbackChecker extends WifiChecker {\n    private ConnectivityManager.NetworkCallback callback;\n\n    public CallbackChecker(Context context, WifiListener... listeners) {\n        super(context, listeners);\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkRequest.Builder builder = new NetworkRequest.Builder();\n\n        cm.registerNetworkCallback(builder.build(), callback = new ConnectivityManager.NetworkCallback() {\n            @Override\n            public void onAvailable(Network network) {\n                WifiManager wifiManager = (WifiManager)getContext().getSystemService(Context.WIFI_SERVICE);\n                WifiInfo wifiInfo = wifiManager.getConnectionInfo();\n                // Some code that runs when wifi is connected\n            }\n\n            @Override\n            public void onLost(Network network) {\n                // Some code that runs when wifi is disconnected\n            }\n        });\n    }\n\n    @Override\n    public void onDestroy() {\n        Log.d(&quot;DEBUG&quot;, &quot;DESTROYED&quot;);\n        ConnectivityManager cm = (ConnectivityManager) getContext().getSystemService(Context.CONNECTIVITY_SERVICE);\n        cm.unregisterNetworkCallback(callback);\n    }\n}\n\n</code></pre>\n<p>In the code we can see that a debug message should be sent when the service is destroyed, but this never gets printed to the console. The method should be called when the service is destroyed, and as such it may point out that the service itself never gets destroyed. Unfortunately due to my lack of expertise on Android development (first app) I don't know how I would continue with this problem/question</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8503,"page":1489,"page_size":100}
