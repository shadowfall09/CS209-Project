{"items":[{"tags":["java","azure","debugging","intellij-idea","azure-functions"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1644822608,"post_id":71107354,"comment_id":125698319,"body_markdown":"You are right, it is needed to use remote debugging. Start the deployed app in [debug mode](https://stackoverflow.com/a/138518/8203759) and attach your IDE to it via &quot;Remote Application&quot; run configuration","body":"You are right, it is needed to use remote debugging. Start the deployed app in <a href=\"https://stackoverflow.com/a/138518/8203759\">debug mode</a> and attach your IDE to it via &quot;Remote Application&quot; run configuration"},{"owner":{"account_id":1792975,"reputation":120,"user_id":1632989,"display_name":"sp14"},"score":0,"creation_date":1644837410,"post_id":71107354,"comment_id":125703117,"body_markdown":"Referred link for debug mode; but couldn&#39;t find how I can control that in Azure portal. Can you please throw some light on how I can enable this for Azure functions?","body":"Referred link for debug mode; but couldn&#39;t find how I can control that in Azure portal. Can you please throw some light on how I can enable this for Azure functions?"},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1644895666,"post_id":71107354,"comment_id":125720477,"body_markdown":"In [function properties](https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij#manage-function-apps-from-idea) insert java options from run configuration as shown [here](https://i.imgur.com/qSHkfze.png). Syntax is like [that](https://github.com/Azure/azure-functions-java-worker/issues/171#issuecomment-488521080)","body":"In <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-create-maven-intellij#manage-function-apps-from-idea\" rel=\"nofollow noreferrer\">function properties</a> insert java options from run configuration as shown <a href=\"https://i.imgur.com/qSHkfze.png\" rel=\"nofollow noreferrer\">here</a>. Syntax is like <a href=\"https://github.com/Azure/azure-functions-java-worker/issues/171#issuecomment-488521080\" rel=\"nofollow noreferrer\">that</a>"}],"answers":[{"tags":[],"owner":{"account_id":21681667,"reputation":4284,"user_id":15997690,"display_name":"Delliganesh Sevanesan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645017414,"creation_date":1645017414,"answer_id":71142579,"question_id":71107354,"body_markdown":"Currently, it is **not possible to Remote Debug** the function app with **Intellij IDE**.\r\n\r\n**Here is the workaround I tried to do Remote Debugging of azure Function using Intellij IDE.**\r\n\r\nAfter Deploying your function app into azure we can debug using **(REMOTE DEBUG)** while enabling it into the Azure portal. That is possible only in **Visual Studio** only.\r\n\r\n![enter image description here](https://i.stack.imgur.com/38tYM.png)\r\n\r\nAfter ***enabling*** **Remote Debug** in the Azure portal. The port of related visual studio can enable after enabling this Remote Debugging feature. I tried to add the Visual Studio debugging port like (`VS19 - 4024`) [remote debugger port assignments](https://learn.microsoft.com/en-us/visualstudio/debugger/remote-debugger-port-assignments?view=vs-2022) &amp; other visual studio port.\r\n\r\nI end up unable to open the port.\r\n\r\n![enter image description here](https://i.stack.imgur.com/oGFif.png)\r\n\r\n**Note:**\r\n\r\n&gt; In Azure except for the 8080/443 port, other ports are blocked in Azure.\r\n\r\n","title":"Can we debug deployed azure function from intellij?","body":"<p>Currently, it is <strong>not possible to Remote Debug</strong> the function app with <strong>Intellij IDE</strong>.</p>\n<p><strong>Here is the workaround I tried to do Remote Debugging of azure Function using Intellij IDE.</strong></p>\n<p>After Deploying your function app into azure we can debug using <strong>(REMOTE DEBUG)</strong> while enabling it into the Azure portal. That is possible only in <strong>Visual Studio</strong> only.</p>\n<p><img src=\"https://i.stack.imgur.com/38tYM.png\" alt=\"enter image description here\" /></p>\n<p>After <em><strong>enabling</strong></em> <strong>Remote Debug</strong> in the Azure portal. The port of related visual studio can enable after enabling this Remote Debugging feature. I tried to add the Visual Studio debugging port like (<code>VS19 - 4024</code>) <a href=\"https://learn.microsoft.com/en-us/visualstudio/debugger/remote-debugger-port-assignments?view=vs-2022\" rel=\"nofollow noreferrer\">remote debugger port assignments</a> &amp; other visual studio port.</p>\n<p>I end up unable to open the port.</p>\n<p><img src=\"https://i.stack.imgur.com/oGFif.png\" alt=\"enter image description here\" /></p>\n<p><strong>Note:</strong></p>\n<blockquote>\n<p>In Azure except for the 8080/443 port, other ports are blocked in Azure.</p>\n</blockquote>\n"}],"owner":{"account_id":1792975,"reputation":120,"user_id":1632989,"display_name":"sp14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":930,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71142579,"answer_count":1,"score":0,"last_activity_date":1645017414,"creation_date":1644815022,"question_id":71107354,"body_markdown":"I have developed a Java azure function and deployed it through IntelliJ(with Azure toolkit plugin support). I can do local run/debug on the function app from ide, as it nicely supports local run/debug.\r\n\r\nNow the question is, Is there any way to debug code(or jar) that is deployed on Azure function(not sure if this has to be called remote debugging)? I searched through internet, was only seeing options to debug the app that is under development in ide(i.e., local code), but not able to find a way for deployed version. Is it possible to do this? or am I over-expecting from ides?","title":"Can we debug deployed azure function from intellij?","body":"<p>I have developed a Java azure function and deployed it through IntelliJ(with Azure toolkit plugin support). I can do local run/debug on the function app from ide, as it nicely supports local run/debug.</p>\n<p>Now the question is, Is there any way to debug code(or jar) that is deployed on Azure function(not sure if this has to be called remote debugging)? I searched through internet, was only seeing options to debug the app that is under development in ide(i.e., local code), but not able to find a way for deployed version. Is it possible to do this? or am I over-expecting from ides?</p>\n"},{"tags":["java","spring","swagger-ui","openapi","springdoc"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645022478,"post_id":71141707,"comment_id":125760254,"body_markdown":"What URL are you using to access swagger?","body":"What URL are you using to access swagger?"},{"owner":{"account_id":8645884,"reputation":940,"user_id":6473089,"accept_rate":40,"display_name":"Varad"},"score":0,"creation_date":1645024700,"post_id":71141707,"comment_id":125761310,"body_markdown":"I am using `http://localhost:8080/swagger-ui.html`","body":"I am using <code>http:&#47;&#47;localhost:8080&#47;swagger-ui.html</code>"}],"owner":{"account_id":8645884,"reputation":940,"user_id":6473089,"accept_rate":40,"display_name":"Varad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645017111,"creation_date":1645013786,"question_id":71141707,"body_markdown":"    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\nI followed the steps from sprinddoc github and added the below \r\n\r\n```java\r\n@SpringBootApplication\r\n@OpenAPIDefinition(info = @Info(title = &quot;Amazingbabbage&quot;, version = &quot;1.0&quot;, description = &quot;Documentation APIs v1.0&quot;))\r\n@EnableConfigurationProperties({ LiquibaseProperties.class, ApplicationProperties.class })\r\npublic class AmazingbabbageApp {\r\n```\r\n\r\nThe application starts successfully. It also services the documentation at `/v3/api-docs`\r\n\r\nWhen I launch `swagger-ui.html` it gives me `whitelabel` page with 404. \r\n\r\nI also tried adding webconfig\r\n\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.reactive.config.ResourceHandlerRegistry;\r\nimport org.springframework.web.reactive.config.WebFluxConfigurer;\r\nimport org.springframework.web.reactive.resource.WebJarsResourceResolver;\r\n\r\nimport static org.springdoc.core.Constants.CLASSPATH_RESOURCE_LOCATION;\r\n\r\n@Configuration\r\npublic class WebConfig  implements WebFluxConfigurer {\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                .addResourceLocations(CLASSPATH_RESOURCE_LOCATION+&quot;/webjars/&quot;)\r\n                .resourceChain(true)\r\n                .addResolver(new WebJarsResourceResolver());\r\n    }\r\n}\r\n\r\n```\r\n\r\nStill there is not change. Any help would be really appreciated. \r\n\r\nThanks","title":"Swagger-UI not showing up for spring-reactive app created using jhipster","body":"<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-webflux-core&lt;/artifactId&gt;\n  &lt;version&gt;1.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-webflux-ui&lt;/artifactId&gt;\n  &lt;version&gt;1.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I followed the steps from sprinddoc github and added the below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@OpenAPIDefinition(info = @Info(title = &quot;Amazingbabbage&quot;, version = &quot;1.0&quot;, description = &quot;Documentation APIs v1.0&quot;))\n@EnableConfigurationProperties({ LiquibaseProperties.class, ApplicationProperties.class })\npublic class AmazingbabbageApp {\n</code></pre>\n<p>The application starts successfully. It also services the documentation at <code>/v3/api-docs</code></p>\n<p>When I launch <code>swagger-ui.html</code> it gives me <code>whitelabel</code> page with 404.</p>\n<p>I also tried adding webconfig</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.reactive.config.ResourceHandlerRegistry;\nimport org.springframework.web.reactive.config.WebFluxConfigurer;\nimport org.springframework.web.reactive.resource.WebJarsResourceResolver;\n\nimport static org.springdoc.core.Constants.CLASSPATH_RESOURCE_LOCATION;\n\n@Configuration\npublic class WebConfig  implements WebFluxConfigurer {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n                .addResourceLocations(CLASSPATH_RESOURCE_LOCATION+&quot;/webjars/&quot;)\n                .resourceChain(true)\n                .addResolver(new WebJarsResourceResolver());\n    }\n}\n\n</code></pre>\n<p>Still there is not change. Any help would be really appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","kotlin","lombok"],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1645016941,"creation_date":1645016373,"answer_id":71142334,"question_id":71142140,"body_markdown":"According to https://kotlinlang.org/docs/lombok.html\r\n\r\n&gt;The Kotlin Lombok compiler plugin allows the generation and use of Java&#39;s Lombok declarations by Kotlin code in the same **mixed Java/Kotlin module**. If you call such declarations from another module, then you don&#39;t need to use this plugin for the compilation of that module.\r\n\r\n&gt;The Lombok compiler plugin cannot replace Lombok, but it helps Lombok work in **mixed Java/Kotlin modules**. Thus, you still need to configure Lombok as usual when using this plugin.\r\n\r\nSo it&#39;s just an auxiliary tool for those developers who have both Java and Kotlin code within same module. For other developers this plugin is useless.","title":"Why does Kotlin allow to use Lombok although Kotlin offers its own annotations?","body":"<p>According to <a href=\"https://kotlinlang.org/docs/lombok.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/lombok.html</a></p>\n<blockquote>\n<p>The Kotlin Lombok compiler plugin allows the generation and use of Java's Lombok declarations by Kotlin code in the same <strong>mixed Java/Kotlin module</strong>. If you call such declarations from another module, then you don't need to use this plugin for the compilation of that module.</p>\n</blockquote>\n<blockquote>\n<p>The Lombok compiler plugin cannot replace Lombok, but it helps Lombok work in <strong>mixed Java/Kotlin modules</strong>. Thus, you still need to configure Lombok as usual when using this plugin.</p>\n</blockquote>\n<p>So it's just an auxiliary tool for those developers who have both Java and Kotlin code within same module. For other developers this plugin is useless.</p>\n"},{"tags":[],"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645016833,"creation_date":1645016524,"answer_id":71142372,"question_id":71142140,"body_markdown":"Kotlin was created to be (and is 100%) interoperable with Java code.\r\n\r\nLombok is just a java dependency that provided such features for Java based projects. The compiler does not care (or it shouldn&#39;t care) that the dependency provides features that the language already provides.\r\n\r\nIt should be no different from any other annotation based dependencies because since you would be able to use it in a Java project you _should also be able to use it_. Although the obvious choice is to start adopting Kotlin&#39;s alternatives.\r\n\r\nOff the top of my head, a valid use-case for this would be if someone would be migrating a Java project that is using Lombok to kotlin. The devs shouldn&#39;t migrate the entire app to Kotlin because of one JVM dependency; hence the bridge &#175;\\_(ツ)_/&#175;\r\n\r\nRegardless: Since it&#39;s a Java dependency, it should also be compatible with Kotlin","title":"Why does Kotlin allow to use Lombok although Kotlin offers its own annotations?","body":"<p>Kotlin was created to be (and is 100%) interoperable with Java code.</p>\n<p>Lombok is just a java dependency that provided such features for Java based projects. The compiler does not care (or it shouldn't care) that the dependency provides features that the language already provides.</p>\n<p>It should be no different from any other annotation based dependencies because since you would be able to use it in a Java project you <em>should also be able to use it</em>. Although the obvious choice is to start adopting Kotlin's alternatives.</p>\n<p>Off the top of my head, a valid use-case for this would be if someone would be migrating a Java project that is using Lombok to kotlin. The devs shouldn't migrate the entire app to Kotlin because of one JVM dependency; hence the bridge ¯_(ツ)_/¯</p>\n<p>Regardless: Since it's a Java dependency, it should also be compatible with Kotlin</p>\n"}],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1473,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1645016941,"creation_date":1645015581,"question_id":71142140,"body_markdown":"I do not quite understand the reason why Kotlin allows to use Lombok (https://kotlinlang.org/docs/releases.html#ide-support) starting from v1.5.20.\r\n\r\nContext:\r\n&gt; I am recently at a point to decide for a rather simple REST-API project to choose between Java 17 and Kotlin. The project is not located in an Android-Context. Spring Boot is considered, but let&#39;s leave this aside here.\r\n\r\n\r\nBoth Lombok and Kotlin offer ways to reduce Boilerplate-Code for a faster pace or improved readability (choose what fits best).\r\n\r\nThere are several articles which compare the Lombok library with features delivered by Kotlin e.g.:\r\n- https://levelup.gitconnected.com/kotlin-makes-lombok-obsolete-9ed3318596cb\r\n- https://justabloginthepark.com/2017/12/23/why-kotlin-over-lombok/).\r\n\r\nAdditionally Lombok feels like a giant intruder into your IDE setup from my unaware eyes which might be cumbersome to get rid of.\r\n\r\nHence I wonder why Kotlin did not &#39;just&#39; implement the missing functionality instead of building a bridge here.\r\nProbably I miss something fundamental.\r\n\r\nThanks for any advice   :)\r\n\r\n","title":"Why does Kotlin allow to use Lombok although Kotlin offers its own annotations?","body":"<p>I do not quite understand the reason why Kotlin allows to use Lombok (<a href=\"https://kotlinlang.org/docs/releases.html#ide-support\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/releases.html#ide-support</a>) starting from v1.5.20.</p>\n<p>Context:</p>\n<blockquote>\n<p>I am recently at a point to decide for a rather simple REST-API project to choose between Java 17 and Kotlin. The project is not located in an Android-Context. Spring Boot is considered, but let's leave this aside here.</p>\n</blockquote>\n<p>Both Lombok and Kotlin offer ways to reduce Boilerplate-Code for a faster pace or improved readability (choose what fits best).</p>\n<p>There are several articles which compare the Lombok library with features delivered by Kotlin e.g.:</p>\n<ul>\n<li><a href=\"https://levelup.gitconnected.com/kotlin-makes-lombok-obsolete-9ed3318596cb\" rel=\"nofollow noreferrer\">https://levelup.gitconnected.com/kotlin-makes-lombok-obsolete-9ed3318596cb</a></li>\n<li><a href=\"https://justabloginthepark.com/2017/12/23/why-kotlin-over-lombok/\" rel=\"nofollow noreferrer\">https://justabloginthepark.com/2017/12/23/why-kotlin-over-lombok/</a>).</li>\n</ul>\n<p>Additionally Lombok feels like a giant intruder into your IDE setup from my unaware eyes which might be cumbersome to get rid of.</p>\n<p>Hence I wonder why Kotlin did not 'just' implement the missing functionality instead of building a bridge here.\nProbably I miss something fundamental.</p>\n<p>Thanks for any advice   :)</p>\n"},{"tags":["java","apache-kafka","spring-cloud","avro","confluent-schema-registry"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1644931413,"post_id":71121890,"comment_id":125731307,"body_markdown":"So this &quot;unrelated type&quot; exists nowhere on your classpath and you&#39;ve not set that type as the specific type being consumed, and that type is not part of the registered schema ? In other words, why would the error include it, then? Also is &quot;production mode&quot; using a different registry?","body":"So this &quot;unrelated type&quot; exists nowhere on your classpath and you&#39;ve not set that type as the specific type being consumed, and that type is not part of the registered schema ? In other words, why would the error include it, then? Also is &quot;production mode&quot; using a different registry?"},{"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"score":0,"creation_date":1644935213,"post_id":71121890,"comment_id":125733049,"body_markdown":"I should elaborate -- I have spun up a number of dockerised services which are involved in a particular flow. The spring cloud service in question (running on the host) sits in the middle of that flow. The upstream service registers a bunch of types in the schema registry. The downstream service is where I see an error, complaining that it cannot deserialize the message that my spring cloud service has produced. The downstream service doesn&#39;t have the class mentioned in the error message on its classpath. All services are using the same schema registry.","body":"I should elaborate -- I have spun up a number of dockerised services which are involved in a particular flow. The spring cloud service in question (running on the host) sits in the middle of that flow. The upstream service registers a bunch of types in the schema registry. The downstream service is where I see an error, complaining that it cannot deserialize the message that my spring cloud service has produced. The downstream service doesn&#39;t have the class mentioned in the error message on its classpath. All services are using the same schema registry."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1644937046,"post_id":71121890,"comment_id":125733946,"body_markdown":"And you are trying to use `specific` reader during deserialization, as compared to using `GenericRecord`? If so, then the writer&#39;s classes must be on the consumer&#39;s classpath. Outside of this, your local tests should be isolated from external services","body":"And you are trying to use <code>specific</code> reader during deserialization, as compared to using <code>GenericRecord</code>? If so, then the writer&#39;s classes must be on the consumer&#39;s classpath. Outside of this, your local tests should be isolated from external services"},{"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"score":1,"creation_date":1644937751,"post_id":71121890,"comment_id":125734276,"body_markdown":"Yep, I&#39;m using a `SpecificRecord` reader. The unrelated type that is identified by the downstream service is written to a different topic (and, in fact, no messages of that type are written anywhere during the test). The type of the message that is written to the topic is on the classpath of both the &#39;locally running&#39; service and the downstream service. The random type that the downstream service tries to deserialize the message to is different for each execution of the same test - like the first n bytes of the message usually used to identify the schema are not being used for that at all.","body":"Yep, I&#39;m using a <code>SpecificRecord</code> reader. The unrelated type that is identified by the downstream service is written to a different topic (and, in fact, no messages of that type are written anywhere during the test). The type of the message that is written to the topic is on the classpath of both the &#39;locally running&#39; service and the downstream service. The random type that the downstream service tries to deserialize the message to is different for each execution of the same test - like the first n bytes of the message usually used to identify the schema are not being used for that at all."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1644938459,"post_id":71121890,"comment_id":125734620,"body_markdown":"Last I checked, you cannot bypass the KafkaAvroDeserializer ID byte check. But still unclear why any class that isn&#39;t being produced would be mentioned unless some producer process sent this record to the topic you&#39;re consuming, and you just don&#39;t know about it.","body":"Last I checked, you cannot bypass the KafkaAvroDeserializer ID byte check. But still unclear why any class that isn&#39;t being produced would be mentioned unless some producer process sent this record to the topic you&#39;re consuming, and you just don&#39;t know about it."},{"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"score":0,"creation_date":1644943813,"post_id":71121890,"comment_id":125737035,"body_markdown":"Ah, sorry - what I meant, but articulated poorly, is that perhaps the first n bytes of the message that is serialized by the locally running service do not indicate the schema registry identifier because the wrong encoding has been used to write the message to the topic (for some reason) but when the downstream service deserializes the message, it reads the first n bytes and assumes that they identify an avro type in the schema registry, which is why the downstream service is trying to deserialize it to a seemingly random type each time","body":"Ah, sorry - what I meant, but articulated poorly, is that perhaps the first n bytes of the message that is serialized by the locally running service do not indicate the schema registry identifier because the wrong encoding has been used to write the message to the topic (for some reason) but when the downstream service deserializes the message, it reads the first n bytes and assumes that they identify an avro type in the schema registry, which is why the downstream service is trying to deserialize it to a seemingly random type each time"}],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644925838,"creation_date":1644925838,"answer_id":71125943,"question_id":71121890,"body_markdown":"[Testcontainers Kafka module](https://www.testcontainers.org/modules/kafka/) runs a single node Kafka installation. It doesn&#39;t spin up a Schema Registry. Which I suspect might be a problem for Avro serialization. \r\n\r\nYou can add it manually to the tests. Testcontainers allows to run any Docker image programmatically with a simple API call: \r\n\r\n```\r\nvar schemaRegistry = new GenericContainer(DockerImageName.parse(&quot;confluentcp/cp-schema-registry:version&quot;)); \r\n```\r\n\r\nI don&#39;t know for certain, but you probably need to connect Kafka and the schema registry, which you can do with the `Network`, see the [Advanced networking](https://www.testcontainers.org/features/networking/#advanced-networking) chapter in the docs. \r\n\r\nUnfortunately, I don&#39;t have a good example to refer to. \r\n\r\nYou can also look at something like this: https://github.com/kreuzwerker/kafka-consumer-testing. \r\n\r\nThey mock schema registry url so there&#39;s no separate schema registry container.\r\n","title":"Spring Cloud message serialisation problem with Kafka running in docker container","body":"<p><a href=\"https://www.testcontainers.org/modules/kafka/\" rel=\"nofollow noreferrer\">Testcontainers Kafka module</a> runs a single node Kafka installation. It doesn't spin up a Schema Registry. Which I suspect might be a problem for Avro serialization.</p>\n<p>You can add it manually to the tests. Testcontainers allows to run any Docker image programmatically with a simple API call:</p>\n<pre><code>var schemaRegistry = new GenericContainer(DockerImageName.parse(&quot;confluentcp/cp-schema-registry:version&quot;)); \n</code></pre>\n<p>I don't know for certain, but you probably need to connect Kafka and the schema registry, which you can do with the <code>Network</code>, see the <a href=\"https://www.testcontainers.org/features/networking/#advanced-networking\" rel=\"nofollow noreferrer\">Advanced networking</a> chapter in the docs.</p>\n<p>Unfortunately, I don't have a good example to refer to.</p>\n<p>You can also look at something like this: <a href=\"https://github.com/kreuzwerker/kafka-consumer-testing\" rel=\"nofollow noreferrer\">https://github.com/kreuzwerker/kafka-consumer-testing</a>.</p>\n<p>They mock schema registry url so there's no separate schema registry container.</p>\n"}],"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645016700,"creation_date":1644906153,"question_id":71121890,"body_markdown":"I&#39;m trying to write a test for my Spring Cloud service while it runs against Kafka and Schema Registry which run inside Docker containers.\r\n\r\nKafka and Schema Registry communicate with each other via a docker network, and have ports that are exposed on the host. The service I am testing is running on the host - it is able to communicate with both the docker kafka broker and docker schema registry. I am starting it up from a JUnit test which is annotated as shown below.\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@EnableAutoConfiguration(exclude = TestSupportBinderAutoConfiguration.class)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic class MyTest {\r\n    ...\r\n}\r\n```\r\n\r\nMy service spins up and is able to write a message to the Kafka broker running inside the Docker container, however when my service is started using the various Spring / JUnit test annotations, there appears to be something different about the way the message it writes is serialized compared to when my service runs in &#39;production mode&#39; (i.e. if I run it using using `java -jar com.xyz.MyService`).\r\n\r\nThe message needs to be written in Avro format, so I&#39;ve configured the binder in application.yml as \r\n\r\n```\r\nmy-topic:\r\n   destination: my-topic\r\n   contentType: application/*+avro\r\n   producer:\r\n      useNativeEncoding: true\r\n```\r\n\r\nWhen attempting to consume the message that my service has written, `AbstractKafkaAvroDeserializer` blows up, complaining that it was unable to marshal it into a completely unrelated Avro type:\r\n\r\n```\r\n{&quot;logger_name&quot;:&quot;org.apache.kafka.streams.errors.LogAndFailExceptionHandler&quot;,&quot;message&quot;:&quot;Exception caught during Deserialization, taskId: 0_0, topic: my-topic, partition: 0, offset: 1&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.SerializationException: Could not find class com.xyz.SomeOtherMessageType specified in writer&#39;s schema whilst finding reader&#39;s schema for a SpecificRecord.\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:265)\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:247)\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getDatumReader(AbstractKafkaAvroDeserializer.java:194)\r\n...\r\n```\r\n\r\nThis does not happen if my service runs in &#39;production mode&#39;.\r\n\r\nI think therefore that some setting is being applied to my service when I spin it up in &#39;test mode&#39;, which changes the way messages are encoded or serialized.\r\n\r\nCan anyone suggest some things I can try to resolve this?\r\n\r\n**Update 1**\r\n\r\nSo, it turns out that the messages looks pretty much identical when they are written to the topic and then read back (UUIDs are random for each test run):\r\n\r\nWritten to topic by service running in &#39;test mode&#39;:\r\n\r\n```\r\nAddress  0 1 2 3  4 5 6 7  8 9 A B  C D E F  0123456789ABCDEF\r\n------- -------- -------- -------- --------  ----------------\r\n000000: 00000000 01483335 63616366 62642D30  .....H35cacfbd-0\r\n000010: 3165642D 34653564 2D613936 652D6665  1ed-4e5d-a96e-fe\r\n000020: 30626339 65313033 34664832 35313436  0bc9e1034fH25146\r\n000030: 6237392D 66643334 2D346430 322D6261  b79-fd34-4d02-ba\r\n000040: 37362D36 61396535 62623861 31343448  76-6a9e5bb8a144H\r\n000050: 30653364 30326536 2D383732 372D3466  0e3d02e6-8727-4f\r\n000060: 64312D38 3730662D 33646633 35353166  d1-870f-3df3551f\r\n000070: 37343861 084D7220 54064D72 730A4A69  748a.Mr T.Mrs.Ji\r\n000080: 6D6D790A 57686974 6514536E 6F772068  mmy.White.Snow h\r\n000090: 6F757365 00000012 4C697665 72706F6F  ouse....Liverpoo\r\n0000A0: 6C0C4C4C 32335252 0E456E67 6C616E64  l.XXXXXX.England\r\n0000B0: 16303735 31323334 35363738 021E4D72  .XXXXXXXXXXX..Mr\r\n0000C0: 20542773 20427573 696E6573 73483737   T&#39;s BusinessH77\r\n0000D0: 32383064 36352D36 3633362D 34376565  280d65-6636-47ee\r\n0000E0: 2D393864 302D6361 36646531 32373838  -98d0-ca6de12788\r\n0000F0: 63610000                             ca..     \r\n```\r\nWritten to topic by service running in &#39;production mode&#39;:\r\n```\r\nAddress  0 1 2 3  4 5 6 7  8 9 A B  C D E F  0123456789ABCDEF\r\n------- -------- -------- -------- --------  ----------------\r\n000000: 00000000 57483433 64343264 61372D30  ....WH43d42da7-0\r\n000010: 6533392D 34646665 2D383966 362D6531  e39-4dfe-89f6-e1\r\n000020: 37363036 34383730 61344833 38663864  76064870a4H38f8d\r\n000030: 3561342D 65386532 2D346134 372D6235  5a4-e8e2-4a47-b5\r\n000040: 30662D37 31623435 36653837 33393348  0f-71b456e87393H\r\n000050: 63666463 33653964 2D303362 612D3464  cfdc3e9d-03ba-4d\r\n000060: 62372D62 3034622D 31393137 37323634  b7-b04b-19177264\r\n000070: 36623665 084D7220 54064D72 730A4A69  6b6e.Mr T.Mrs.Ji\r\n000080: 6D6D790A 57686974 6514536E 6F772068  mmy.White.Snow h\r\n000090: 6F757365 00000012 4C697665 72706F6F  ouse....Liverpoo\r\n0000A0: 6C0C4C4C 32335252 0E456E67 6C616E64  l.XXXXXX.England\r\n0000B0: 16303735 31323334 35363738 021E4D72  .XXXXXXXXXXX..Mr\r\n0000C0: 20542773 20427573 696E6573 73486161   T&#39;s BusinessHaa\r\n0000D0: 35326636 34662D36 6131642D 34393030  52f64f-6a1d-4900\r\n0000E0: 2D616537 612D3432 33326333 65613938  -ae7a-4232c3ea98\r\n0000F0: 38330000                             83..            \r\n```\r\n","title":"Spring Cloud message serialisation problem with Kafka running in docker container","body":"<p>I'm trying to write a test for my Spring Cloud service while it runs against Kafka and Schema Registry which run inside Docker containers.</p>\n<p>Kafka and Schema Registry communicate with each other via a docker network, and have ports that are exposed on the host. The service I am testing is running on the host - it is able to communicate with both the docker kafka broker and docker schema registry. I am starting it up from a JUnit test which is annotated as shown below.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@EnableAutoConfiguration(exclude = TestSupportBinderAutoConfiguration.class)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class MyTest {\n    ...\n}\n</code></pre>\n<p>My service spins up and is able to write a message to the Kafka broker running inside the Docker container, however when my service is started using the various Spring / JUnit test annotations, there appears to be something different about the way the message it writes is serialized compared to when my service runs in 'production mode' (i.e. if I run it using using <code>java -jar com.xyz.MyService</code>).</p>\n<p>The message needs to be written in Avro format, so I've configured the binder in application.yml as</p>\n<pre><code>my-topic:\n   destination: my-topic\n   contentType: application/*+avro\n   producer:\n      useNativeEncoding: true\n</code></pre>\n<p>When attempting to consume the message that my service has written, <code>AbstractKafkaAvroDeserializer</code> blows up, complaining that it was unable to marshal it into a completely unrelated Avro type:</p>\n<pre><code>{&quot;logger_name&quot;:&quot;org.apache.kafka.streams.errors.LogAndFailExceptionHandler&quot;,&quot;message&quot;:&quot;Exception caught during Deserialization, taskId: 0_0, topic: my-topic, partition: 0, offset: 1&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.SerializationException: Could not find class com.xyz.SomeOtherMessageType specified in writer's schema whilst finding reader's schema for a SpecificRecord.\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getSpecificReaderSchema(AbstractKafkaAvroDeserializer.java:265)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getReaderSchema(AbstractKafkaAvroDeserializer.java:247)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.getDatumReader(AbstractKafkaAvroDeserializer.java:194)\n...\n</code></pre>\n<p>This does not happen if my service runs in 'production mode'.</p>\n<p>I think therefore that some setting is being applied to my service when I spin it up in 'test mode', which changes the way messages are encoded or serialized.</p>\n<p>Can anyone suggest some things I can try to resolve this?</p>\n<p><strong>Update 1</strong></p>\n<p>So, it turns out that the messages looks pretty much identical when they are written to the topic and then read back (UUIDs are random for each test run):</p>\n<p>Written to topic by service running in 'test mode':</p>\n<pre><code>Address  0 1 2 3  4 5 6 7  8 9 A B  C D E F  0123456789ABCDEF\n------- -------- -------- -------- --------  ----------------\n000000: 00000000 01483335 63616366 62642D30  .....H35cacfbd-0\n000010: 3165642D 34653564 2D613936 652D6665  1ed-4e5d-a96e-fe\n000020: 30626339 65313033 34664832 35313436  0bc9e1034fH25146\n000030: 6237392D 66643334 2D346430 322D6261  b79-fd34-4d02-ba\n000040: 37362D36 61396535 62623861 31343448  76-6a9e5bb8a144H\n000050: 30653364 30326536 2D383732 372D3466  0e3d02e6-8727-4f\n000060: 64312D38 3730662D 33646633 35353166  d1-870f-3df3551f\n000070: 37343861 084D7220 54064D72 730A4A69  748a.Mr T.Mrs.Ji\n000080: 6D6D790A 57686974 6514536E 6F772068  mmy.White.Snow h\n000090: 6F757365 00000012 4C697665 72706F6F  ouse....Liverpoo\n0000A0: 6C0C4C4C 32335252 0E456E67 6C616E64  l.XXXXXX.England\n0000B0: 16303735 31323334 35363738 021E4D72  .XXXXXXXXXXX..Mr\n0000C0: 20542773 20427573 696E6573 73483737   T's BusinessH77\n0000D0: 32383064 36352D36 3633362D 34376565  280d65-6636-47ee\n0000E0: 2D393864 302D6361 36646531 32373838  -98d0-ca6de12788\n0000F0: 63610000                             ca..     \n</code></pre>\n<p>Written to topic by service running in 'production mode':</p>\n<pre><code>Address  0 1 2 3  4 5 6 7  8 9 A B  C D E F  0123456789ABCDEF\n------- -------- -------- -------- --------  ----------------\n000000: 00000000 57483433 64343264 61372D30  ....WH43d42da7-0\n000010: 6533392D 34646665 2D383966 362D6531  e39-4dfe-89f6-e1\n000020: 37363036 34383730 61344833 38663864  76064870a4H38f8d\n000030: 3561342D 65386532 2D346134 372D6235  5a4-e8e2-4a47-b5\n000040: 30662D37 31623435 36653837 33393348  0f-71b456e87393H\n000050: 63666463 33653964 2D303362 612D3464  cfdc3e9d-03ba-4d\n000060: 62372D62 3034622D 31393137 37323634  b7-b04b-19177264\n000070: 36623665 084D7220 54064D72 730A4A69  6b6e.Mr T.Mrs.Ji\n000080: 6D6D790A 57686974 6514536E 6F772068  mmy.White.Snow h\n000090: 6F757365 00000012 4C697665 72706F6F  ouse....Liverpoo\n0000A0: 6C0C4C4C 32335252 0E456E67 6C616E64  l.XXXXXX.England\n0000B0: 16303735 31323334 35363738 021E4D72  .XXXXXXXXXXX..Mr\n0000C0: 20542773 20427573 696E6573 73486161   T's BusinessHaa\n0000D0: 35326636 34662D36 6131642D 34393030  52f64f-6a1d-4900\n0000E0: 2D616537 612D3432 33326333 65613938  -ae7a-4232c3ea98\n0000F0: 38330000                             83..            \n</code></pre>\n"},{"tags":["java","android","xml","imageview"],"answers":[{"tags":[],"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645016630,"creation_date":1645016630,"answer_id":71142402,"question_id":71142117,"body_markdown":"It&#39;s because you are giving android:width=&quot;wrap_content&quot; which takes as the actual with of the image. So, please make it 0dp like below: and, also provide fixed height else it will take a whole screen. And, I have given a margin to each imageview so that it looks nice.\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/main_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;?attr/colorSecondary&quot; /&gt;\r\n\r\n    &lt;GridLayout\r\n        android:id=&quot;@+id/grid_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/main_toolbar&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:rowCount=&quot;1&quot;\r\n        android:useDefaultMargins=&quot;true&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/dal_bati&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:onClick=&quot;buyDalBati&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:src=&quot;@drawable/dal_bati&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/gulab_jamun&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:onClick=&quot;buyGulabJamun&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:src=&quot;@drawable/gulab_jamun&quot;\r\n            /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/gajar_halwa&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:onClick=&quot;buyGajarHalwa&quot;\r\n            android:src=&quot;@drawable/gajar_halwa&quot;\r\n            /&gt;\r\n       &lt;/GridLayout&gt;\r\n     &lt;/RelativeLayout&gt;","title":"GridLayout not showing images in Android","body":"<p>It's because you are giving android:width=&quot;wrap_content&quot; which takes as the actual with of the image. So, please make it 0dp like below: and, also provide fixed height else it will take a whole screen. And, I have given a margin to each imageview so that it looks nice.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/main_toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;?attr/colorSecondary&quot; /&gt;\n\n&lt;GridLayout\n    android:id=&quot;@+id/grid_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@id/main_toolbar&quot;\n    android:layout_marginTop=&quot;50dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:rowCount=&quot;1&quot;\n    android:useDefaultMargins=&quot;true&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/dal_bati&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_columnWeight=&quot;1&quot;\n        android:onClick=&quot;buyDalBati&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:src=&quot;@drawable/dal_bati&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/gulab_jamun&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_columnWeight=&quot;1&quot;\n        android:onClick=&quot;buyGulabJamun&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:src=&quot;@drawable/gulab_jamun&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/gajar_halwa&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_columnWeight=&quot;1&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:onClick=&quot;buyGajarHalwa&quot;\n        android:src=&quot;@drawable/gajar_halwa&quot;\n        /&gt;\n   &lt;/GridLayout&gt;\n &lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":16740350,"reputation":307,"user_id":12100211,"display_name":"Kanha Tomar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71142402,"answer_count":1,"score":0,"last_activity_date":1645016630,"creation_date":1645015495,"question_id":71142117,"body_markdown":"**So this is xml file having GridLayout inside RelativeLayout**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/main_toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;?attr/colorSecondary&quot; /&gt;\r\n\r\n    &lt;GridLayout\r\n        android:id=&quot;@+id/grid_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/main_toolbar&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:rowCount=&quot;1&quot;\r\n        android:useDefaultMargins=&quot;true&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/dal_bati&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:onClick=&quot;buyDalBati&quot;\r\n            android:src=&quot;@drawable/dal_bati&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/gulab_jamun&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:onClick=&quot;buyGulabJamun&quot;\r\n            android:src=&quot;@drawable/gulab_jamun&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/gajar_halwa&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_columnWeight=&quot;1&quot;\r\n            android:onClick=&quot;buyGajarHalwa&quot;\r\n            android:src=&quot;@drawable/gajar_halwa&quot; /&gt;\r\n    &lt;/GridLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n*I tried with image format jpeg, jpg and png no image format show up the images.*\r\n\r\nDrawable folder having images\r\n[![Drawable folder having images][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qKjrI.png\r\n\r\nI set the onclick listner over each image so if I click assuming that it is gonna be image here then it will open&#39;s up the next activity to buy it means onClickListener is working only the image is not showing.\r\n\r\n**MainActivity code**\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Toolbar toolbar;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        toolbar = findViewById(R.id.main_toolbar);\r\n\r\n        //setting the toolbar\r\n        setSupportActionBar(toolbar);\r\n        if(getSupportActionBar() != null) {\r\n            getSupportActionBar().setTitle(&quot;Click To Buy&quot;);\r\n        }\r\n    }\r\n\r\n    public void buyGajarHalwa(View view) {\r\n        Intent intent = new Intent(this,GajarHalwa.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void buyGulabJamun(View view) {\r\n        Intent intent = new Intent(this,GulabJamun.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    public void buyDalBati(View view) {\r\n        Intent intent = new Intent(this,DalBati.class);\r\n        startActivity(intent);\r\n    }\r\n}\r\n```\r\n\r\n***\r\nAnd this is the theme&#39;s code\r\n***\r\n```\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.GridLayoutExperiment&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```","title":"GridLayout not showing images in Android","body":"<p><strong>So this is xml file having GridLayout inside RelativeLayout</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/main_toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?attr/actionBarSize&quot;\n        android:background=&quot;?attr/colorSecondary&quot; /&gt;\n\n    &lt;GridLayout\n        android:id=&quot;@+id/grid_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/main_toolbar&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:rowCount=&quot;1&quot;\n        android:useDefaultMargins=&quot;true&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/dal_bati&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:onClick=&quot;buyDalBati&quot;\n            android:src=&quot;@drawable/dal_bati&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/gulab_jamun&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:onClick=&quot;buyGulabJamun&quot;\n            android:src=&quot;@drawable/gulab_jamun&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/gajar_halwa&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_columnWeight=&quot;1&quot;\n            android:onClick=&quot;buyGajarHalwa&quot;\n            android:src=&quot;@drawable/gajar_halwa&quot; /&gt;\n    &lt;/GridLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p><em>I tried with image format jpeg, jpg and png no image format show up the images.</em></p>\n<p>Drawable folder having images\n<a href=\"https://i.stack.imgur.com/qKjrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKjrI.png\" alt=\"Drawable folder having images\" /></a></p>\n<p>I set the onclick listner over each image so if I click assuming that it is gonna be image here then it will open's up the next activity to buy it means onClickListener is working only the image is not showing.</p>\n<p><strong>MainActivity code</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private Toolbar toolbar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        toolbar = findViewById(R.id.main_toolbar);\n\n        //setting the toolbar\n        setSupportActionBar(toolbar);\n        if(getSupportActionBar() != null) {\n            getSupportActionBar().setTitle(&quot;Click To Buy&quot;);\n        }\n    }\n\n    public void buyGajarHalwa(View view) {\n        Intent intent = new Intent(this,GajarHalwa.class);\n        startActivity(intent);\n    }\n\n    public void buyGulabJamun(View view) {\n        Intent intent = new Intent(this,GulabJamun.class);\n        startActivity(intent);\n    }\n\n    public void buyDalBati(View view) {\n        Intent intent = new Intent(this,DalBati.class);\n        startActivity(intent);\n    }\n}\n</code></pre>\n<hr />\n<p>And this is the theme's code</p>\n<hr />\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.GridLayoutExperiment&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_500&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_700&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;!-- Customize your theme here. --&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645018617,"post_id":71141881,"comment_id":125758468,"body_markdown":"[Do not use double-brace initialization.](https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java)","body":"<a href=\"https://stackoverflow.com/questions/1958636/what-is-double-brace-initialization-in-java\">Do not use double-brace initialization.</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645016214,"creation_date":1645016214,"answer_id":71142286,"question_id":71141881,"body_markdown":"What you store for the key &quot;correct&quot; is `new ArrayList&lt;MyClass&gt;()`:\r\n\r\n       put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\r\n\r\nBut on reading it back you try to cast it into a `(Set&lt;List&lt;MyClass&gt;&gt;)` which will not work.\r\n\r\nIn a similar way later on you try the cast `(List&lt;MyClass&gt;) new MyClass()` which will also fail.\r\n\r\nTo add a new element you need to write\r\n\r\n    ((List&lt;MyClass&gt;) data.get(&quot;correct&quot;)).add(new MyClass());","title":"How can I define a HashMap with multiple value types in Java?","body":"<p>What you store for the key &quot;correct&quot; is <code>new ArrayList&lt;MyClass&gt;()</code>:</p>\n<pre><code>   put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\n</code></pre>\n<p>But on reading it back you try to cast it into a <code>(Set&lt;List&lt;MyClass&gt;&gt;)</code> which will not work.</p>\n<p>In a similar way later on you try the cast <code>(List&lt;MyClass&gt;) new MyClass()</code> which will also fail.</p>\n<p>To add a new element you need to write</p>\n<pre><code>((List&lt;MyClass&gt;) data.get(&quot;correct&quot;)).add(new MyClass());\n</code></pre>\n"}],"owner":{"account_id":21739961,"reputation":1106,"user_id":16047487,"display_name":"Maik Hasler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71142286,"answer_count":1,"score":0,"last_activity_date":1645016214,"creation_date":1645014466,"question_id":71141881,"body_markdown":"My current HashMap has the following structure, which is working fine for me.\r\n```java\r\nMap&lt;String, List&lt;MyClass&gt;&gt; data = new HashMap&lt;String, List&lt;MyClass&gt;&gt;() {{\r\n   put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\r\n   put(&quot;incorrect&quot;, new ArrayList&lt;MyClass&gt;());\r\n}}\r\n```\r\nNevertheless I want to add a string to the same HashMap. I already tried the following, but it leads to an error when I want to add new elements to the ArrayList&#39;s.\r\n```java\r\nMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;() {{\r\n   put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\r\n   put(&quot;incorrect&quot;, new ArrayList&lt;MyClass&gt;());\r\n   put(&quot;filestring&quot;, new String());\r\n}}\r\n```\r\nThe error:\r\n```\r\nclass java.util.ArrayList cannot be cast to class java.util.Set (java.util.ArrayList and java.util.Set are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\nThe way I try to add new elements to the ArrayList&#39;s:\r\n```\r\n((Set&lt;List&lt;MyClass&gt;&gt;) data.get(&quot;correct&quot;)).add((List&lt;MyClass&gt;) new MyClass());\r\n```\r\nDoes anybody know how I can achieve the above? I highly appreciate any kind of help, cheers!","title":"How can I define a HashMap with multiple value types in Java?","body":"<p>My current HashMap has the following structure, which is working fine for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;MyClass&gt;&gt; data = new HashMap&lt;String, List&lt;MyClass&gt;&gt;() {{\n   put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\n   put(&quot;incorrect&quot;, new ArrayList&lt;MyClass&gt;());\n}}\n</code></pre>\n<p>Nevertheless I want to add a string to the same HashMap. I already tried the following, but it leads to an error when I want to add new elements to the ArrayList's.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;() {{\n   put(&quot;correct&quot;, new ArrayList&lt;MyClass&gt;());\n   put(&quot;incorrect&quot;, new ArrayList&lt;MyClass&gt;());\n   put(&quot;filestring&quot;, new String());\n}}\n</code></pre>\n<p>The error:</p>\n<pre><code>class java.util.ArrayList cannot be cast to class java.util.Set (java.util.ArrayList and java.util.Set are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>The way I try to add new elements to the ArrayList's:</p>\n<pre><code>((Set&lt;List&lt;MyClass&gt;&gt;) data.get(&quot;correct&quot;)).add((List&lt;MyClass&gt;) new MyClass());\n</code></pre>\n<p>Does anybody know how I can achieve the above? I highly appreciate any kind of help, cheers!</p>\n"},{"tags":["java","collections","hashmap"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":173,"is_accepted":true,"score":173,"last_activity_date":1645015978,"creation_date":1259064848,"answer_id":1789696,"question_id":1789679,"body_markdown":"Just use [`Map#get(key)`][1] ?\r\n\r\n    Object value = map.get(myCode);\r\n\r\nHere&#39;s a tutorial about maps, you may find it useful: https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html.\r\n\r\n\r\n**Edit:** you edited your question with the following:\r\n\r\n&gt; *I&#39;m expecting to see a String, such as &quot;ABC&quot; or &quot;DEF&quot; as that is what I put in there initially, but if I do a System.out.println() I get something like java.lang.string#F0454*\r\n&gt; \r\n&gt; *Sorry, I&#39;m not too familiar with maps as you can probably guess ;)*\r\n\r\nYou&#39;re seeing the outcome of [`Object#toString()`][2]. But the `java.lang.String` should already have one implemented, unless you created a **custom** implementation with a lowercase `s` in the name: `java.lang.string`. If it is actually a custom object, then you need to override `Object#toString()` to get a &quot;human readable string&quot; whenever you do a `System.out.println()` or `toString()` on the desired object. For example:\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;This is Object X with a property value &quot; + value;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#get(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()","title":"get string value from HashMap depending on key name","body":"<p>Just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Map#get(key)</code></a> ?</p>\n<pre><code>Object value = map.get(myCode);\n</code></pre>\n<p>Here's a tutorial about maps, you may find it useful: <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html</a>.</p>\n<p><strong>Edit:</strong> you edited your question with the following:</p>\n<blockquote>\n<p><em>I'm expecting to see a String, such as &quot;ABC&quot; or &quot;DEF&quot; as that is what I put in there initially, but if I do a System.out.println() I get something like java.lang.string#F0454</em></p>\n<p><em>Sorry, I'm not too familiar with maps as you can probably guess ;)</em></p>\n</blockquote>\n<p>You're seeing the outcome of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object#toString()</code></a>. But the <code>java.lang.String</code> should already have one implemented, unless you created a <strong>custom</strong> implementation with a lowercase <code>s</code> in the name: <code>java.lang.string</code>. If it is actually a custom object, then you need to override <code>Object#toString()</code> to get a &quot;human readable string&quot; whenever you do a <code>System.out.println()</code> or <code>toString()</code> on the desired object. For example:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;This is Object X with a property value &quot; + value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1259064865,"creation_date":1259064865,"answer_id":1789697,"question_id":1789679,"body_markdown":"Your question isn&#39;t at all clear I&#39;m afraid. A key doesn&#39;t have a &quot;name&quot;; it&#39;s not &quot;called&quot; anything as far as the map is concerned - it&#39;s just a key, and will be compared with other keys. If you have lots of different kinds of keys, I strongly suggest you put them in different maps for the sake of sanity.\r\n\r\nIf this doesn&#39;t help, please clarify the question - preferrably with some code to show what you mean.","title":"get string value from HashMap depending on key name","body":"<p>Your question isn't at all clear I'm afraid. A key doesn't have a \"name\"; it's not \"called\" anything as far as the map is concerned - it's just a key, and will be compared with other keys. If you have lots of different kinds of keys, I strongly suggest you put them in different maps for the sake of sanity.</p>\n\n<p>If this doesn't help, please clarify the question - preferrably with some code to show what you mean.</p>\n"},{"tags":[],"owner":{"account_id":446,"reputation":70492,"user_id":573,"accept_rate":65,"display_name":"abyx"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1259064872,"creation_date":1259064872,"answer_id":1789698,"question_id":1789679,"body_markdown":"`map.get(myCode)`","title":"get string value from HashMap depending on key name","body":"<p><code>map.get(myCode)</code></p>\n"},{"tags":[],"owner":{"account_id":72954,"reputation":2427,"user_id":210380,"accept_rate":55,"display_name":"raffael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259065060,"creation_date":1259065060,"answer_id":1789719,"question_id":1789679,"body_markdown":"You can use the get(Object key) method from the HashMap.\r\nBe aware that i many cases your Key Class should override the equals method, to be a useful class for a Map key.","title":"get string value from HashMap depending on key name","body":"<p>You can use the get(Object key) method from the HashMap.\nBe aware that i many cases your Key Class should override the equals method, to be a useful class for a Map key.</p>\n"},{"tags":[],"owner":{"account_id":13357,"reputation":6580,"user_id":26778,"accept_rate":72,"display_name":"jeff porter"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1514321723,"creation_date":1259069202,"answer_id":1790058,"question_id":1789679,"body_markdown":"If you are storing keys/values as strings, then this will work:\r\n\r\n    HashMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n    newMap.put(&quot;my_code&quot;, &quot;shhh_secret&quot;);\r\n    String value = newMap.get(&quot;my_code&quot;);\r\n\r\nThe question is what gets populated in the HashMap (key &amp; value)\r\n","title":"get string value from HashMap depending on key name","body":"<p>If you are storing keys/values as strings, then this will work:</p>\n\n<pre><code>HashMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\nnewMap.put(\"my_code\", \"shhh_secret\");\nString value = newMap.get(\"my_code\");\n</code></pre>\n\n<p>The question is what gets populated in the HashMap (key &amp; value)</p>\n"},{"tags":[],"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1397193523,"creation_date":1397193523,"answer_id":23004083,"question_id":1789679,"body_markdown":"If you will use Generics and define your map as \r\n     \r\n    Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\r\nthen fetching value as \r\n\r\n     String s = map.get(&quot;keyStr&quot;); \r\n\r\nyou wont be required to typecast the map.get() or call toString method to get String value","title":"get string value from HashMap depending on key name","body":"<p>If you will use Generics and define your map as </p>\n\n<pre><code>Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();\n</code></pre>\n\n<p>then fetching value as </p>\n\n<pre><code> String s = map.get(\"keyStr\"); \n</code></pre>\n\n<p>you wont be required to typecast the map.get() or call toString method to get String value</p>\n"},{"tags":[],"owner":{"account_id":5658733,"reputation":135,"user_id":4476978,"display_name":"Sreeja Mohan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1421822862,"creation_date":1421822862,"answer_id":28061148,"question_id":1789679,"body_markdown":"An important point to be noted here is that if your key is an object of user-defined class in java then make it a point to override the equals method. Because the HashMap.get(Object key) method uses the equals method for matching the key value. If you do not override the equals method then it will try to find the value simply based on the reference of the key and not the actual value of key in which case it will always return a null.","title":"get string value from HashMap depending on key name","body":"<p>An important point to be noted here is that if your key is an object of user-defined class in java then make it a point to override the equals method. Because the HashMap.get(Object key) method uses the equals method for matching the key value. If you do not override the equals method then it will try to find the value simply based on the reference of the key and not the actual value of key in which case it will always return a null.</p>\n"},{"tags":[],"owner":{"account_id":9493058,"reputation":883,"user_id":7057132,"display_name":"Gaurav Sachdeva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1514878757,"creation_date":1514878274,"answer_id":48057171,"question_id":1789679,"body_markdown":"Suppose you declared HashMap as :- \r\n\r\n    HashMap&lt;Character,Integer&gt; hs = new HashMap&lt;&gt;();\r\nThen,key in map is of type Character data type and value of int type.Now,to get value corresponding to key irrespective of type of key,value type, syntax is :-\r\n\r\n        char temp = &#39;a&#39;;\r\n        if(hs.containsKey(temp)){\r\n    `       int val = hs.get(temp); //val is the value corresponding to key temp\r\n        }\r\n\r\n    \r\n\r\nSo, according to your question you want to get string value corresponding to a key.For this, just declare HashMap as HashMap&lt;&quot;datatype of key&quot;,&quot;datatype of value&quot; hs = new HashMap&lt;&gt;();\r\nUsing this will make your code cleaner and also you don&#39;t have to convert the result of hs.get(&quot;my_code&quot;) to string as by default it returns value of string if at entry time one has kept value as a string.\r\n","title":"get string value from HashMap depending on key name","body":"<p>Suppose you declared HashMap as :- </p>\n\n<pre><code>HashMap&lt;Character,Integer&gt; hs = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Then,key in map is of type Character data type and value of int type.Now,to get value corresponding to key irrespective of type of key,value type, syntax is :-</p>\n\n<pre><code>    char temp = 'a';\n    if(hs.containsKey(temp)){\n`       int val = hs.get(temp); //val is the value corresponding to key temp\n    }\n</code></pre>\n\n<p>So, according to your question you want to get string value corresponding to a key.For this, just declare HashMap as HashMap&lt;\"datatype of key\",\"datatype of value\" hs = new HashMap&lt;>();\nUsing this will make your code cleaner and also you don't have to convert the result of hs.get(\"my_code\") to string as by default it returns value of string if at entry time one has kept value as a string.</p>\n"},{"tags":[],"owner":{"account_id":14339478,"reputation":49,"user_id":10358046,"display_name":"Jabar Shahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571156373,"creation_date":1571151382,"answer_id":58397539,"question_id":1789679,"body_markdown":"     HashMap&lt;Integer, String&gt; hmap = new HashMap&lt;Integer, String&gt;();\r\n     hmap.put(4, &quot;DD&quot;);\r\n\r\nThe Value mapped to Key `4` is `DD`","title":"get string value from HashMap depending on key name","body":"<pre><code> HashMap&lt;Integer, String&gt; hmap = new HashMap&lt;Integer, String&gt;();\n hmap.put(4, \"DD\");\n</code></pre>\n\n<p>The Value mapped to Key <code>4</code> is <code>DD</code></p>\n"},{"tags":[],"owner":{"account_id":4531682,"reputation":463,"user_id":3681934,"display_name":"hel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581736173,"creation_date":1581736173,"answer_id":60235675,"question_id":1789679,"body_markdown":"This is another example of how to use keySet(), get(), values() and entrySet() functions to obtain Keys and Values in a Map:\r\n\r\n            Map&lt;Integer, String&gt; testKeyset = new HashMap&lt;Integer, String&gt;();\r\n    \t\t\r\n    \t\ttestKeyset.put(1, &quot;first&quot;);\r\n    \t\ttestKeyset.put(2, &quot;second&quot;);\r\n    \t\ttestKeyset.put(3, &quot;third&quot;);\r\n    \t\ttestKeyset.put(4, &quot;fourth&quot;);\r\n    \t\t\r\n    \t\t// Print a single value relevant to a specified Key. (uses keySet())\r\n    \t\tfor(int mapKey: testKeyset.keySet())\r\n    \t\t\tSystem.out.println(testKeyset.get(mapKey));\r\n    \t\t\r\n    \t\t// Print all values regardless of the key.\r\n    \t\tfor(String mapVal: testKeyset.values())\r\n    \t\t\tSystem.out.println(mapVal.trim());\r\n    \t\t\r\n    \t\t// Displays the Map in Key-Value pairs (e.g: [1=first, 2=second, 3=third, 4=fourth])\r\n    \t\tSystem.out.println(testKeyset.entrySet());\r\n\r\n","title":"get string value from HashMap depending on key name","body":"<p>This is another example of how to use keySet(), get(), values() and entrySet() functions to obtain Keys and Values in a Map:</p>\n\n<pre><code>        Map&lt;Integer, String&gt; testKeyset = new HashMap&lt;Integer, String&gt;();\n\n        testKeyset.put(1, \"first\");\n        testKeyset.put(2, \"second\");\n        testKeyset.put(3, \"third\");\n        testKeyset.put(4, \"fourth\");\n\n        // Print a single value relevant to a specified Key. (uses keySet())\n        for(int mapKey: testKeyset.keySet())\n            System.out.println(testKeyset.get(mapKey));\n\n        // Print all values regardless of the key.\n        for(String mapVal: testKeyset.values())\n            System.out.println(mapVal.trim());\n\n        // Displays the Map in Key-Value pairs (e.g: [1=first, 2=second, 3=third, 4=fourth])\n        System.out.println(testKeyset.entrySet());\n</code></pre>\n"}],"owner":{"account_id":52109,"reputation":16183,"user_id":155695,"accept_rate":86,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":617574,"favorite_count":0,"down_vote_count":2,"up_vote_count":133,"accepted_answer_id":1789696,"answer_count":10,"score":131,"last_activity_date":1645015978,"creation_date":1259064702,"question_id":1789679,"body_markdown":"I have a `HashMap` with various keys and values, how can I get one value out?\r\n\r\nI have a key in the map called `my_code`, it should contain a string, how can I just get that without having to iterate through the map?\r\n\r\nSo far I&#39;ve got..\r\n\r\n       HashMap newMap = new HashMap(paramMap);\r\n       String s = newMap.get(&quot;my_code&quot;).toString();\r\n\r\nI&#39;m expecting to see a `String`, such as &quot;ABC&quot; or &quot;DEF&quot; as that is what I put in there initially, but if I do a `System.out.println()` I get something like `java.lang.string#F0454`\r\n\r\nSorry, I&#39;m not too familiar with maps as you can probably guess ;)","title":"get string value from HashMap depending on key name","body":"<p>I have a <code>HashMap</code> with various keys and values, how can I get one value out?</p>\n\n<p>I have a key in the map called <code>my_code</code>, it should contain a string, how can I just get that without having to iterate through the map?</p>\n\n<p>So far I've got..</p>\n\n<pre><code>   HashMap newMap = new HashMap(paramMap);\n   String s = newMap.get(\"my_code\").toString();\n</code></pre>\n\n<p>I'm expecting to see a <code>String</code>, such as \"ABC\" or \"DEF\" as that is what I put in there initially, but if I do a <code>System.out.println()</code> I get something like <code>java.lang.string#F0454</code></p>\n\n<p>Sorry, I'm not too familiar with maps as you can probably guess ;)</p>\n"},{"tags":["java","android","android-recyclerview","drag-and-drop"],"comments":[{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644930857,"post_id":71127053,"comment_id":125731057,"body_markdown":"Can you post the code snippet.","body":"Can you post the code snippet."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644931084,"post_id":71127053,"comment_id":125731164,"body_markdown":"code snippet added.","body":"code snippet added."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644932450,"post_id":71127053,"comment_id":125731782,"body_markdown":"&quot;I can&#39;t set the page number&quot;? Which page number? Can you elaborate your issue in terms of code instead of what you are seeing on your App","body":"&quot;I can&#39;t set the page number&quot;? Which page number? Can you elaborate your issue in terms of code instead of what you are seeing on your App"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644932729,"post_id":71127053,"comment_id":125731928,"body_markdown":"after onItemMove occurred, I want set position numbers in order for all items.","body":"after onItemMove occurred, I want set position numbers in order for all items."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644933355,"post_id":71127053,"comment_id":125732208,"body_markdown":"Do you mean after arranging the pages, you want the page numbers to be refreshed in sequence but the page numbers are showing as they were prior to arranging the pages of document?","body":"Do you mean after arranging the pages, you want the page numbers to be refreshed in sequence but the page numbers are showing as they were prior to arranging the pages of document?"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644933791,"post_id":71127053,"comment_id":125732414,"body_markdown":"Yes, I want to refresh page numbers in all items.","body":"Yes, I want to refresh page numbers in all items."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644933993,"post_id":71127053,"comment_id":125732503,"body_markdown":"check is your onBindViewHolder is getting called after onItemMoved and let me know your findings","body":"check is your onBindViewHolder is getting called after onItemMoved and let me know your findings"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644934200,"post_id":71127053,"comment_id":125732589,"body_markdown":"No,onBindViewHolder not called after onItemMoved .that&#39;s why I can&#39;t refresh items.","body":"No,onBindViewHolder not called after onItemMoved .that&#39;s why I can&#39;t refresh items."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644934349,"post_id":71127053,"comment_id":125732641,"body_markdown":"then you might not be seeing the correct sequence of pages also right? as onBindViewHolder is not called","body":"then you might not be seeing the correct sequence of pages also right? as onBindViewHolder is not called"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644934387,"post_id":71127053,"comment_id":125732655,"body_markdown":"Yes,now you got it.","body":"Yes,now you got it."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644934506,"post_id":71127053,"comment_id":125732697,"body_markdown":"try calling notifyDataSetChanged once and why are you retuning false from onItemMove, isn&#39;t it should be true since you consumed the event?","body":"try calling notifyDataSetChanged once and why are you retuning false from onItemMove, isn&#39;t it should be true since you consumed the event?"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644934601,"post_id":71127053,"comment_id":125732739,"body_markdown":"already tried, but it throws an exception.","body":"already tried, but it throws an exception."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644934642,"post_id":71127053,"comment_id":125732767,"body_markdown":"tried what? notifydataSetChanged or retuning true?","body":"tried what? notifydataSetChanged or retuning true?"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644934650,"post_id":71127053,"comment_id":125732772,"body_markdown":"notifydataSetChanged","body":"notifydataSetChanged"},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644934697,"post_id":71127053,"comment_id":125732787,"body_markdown":"what was the exception? can you poset here. Also what about the retuning value of onItemMoved?","body":"what was the exception? can you poset here. Also what about the retuning value of onItemMoved?"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644934826,"post_id":71127053,"comment_id":125732858,"body_markdown":"sorry, it&#39;s not throwing an exception, but it will arrange without animation and returning true also not a solution.","body":"sorry, it&#39;s not throwing an exception, but it will arrange without animation and returning true also not a solution."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644934917,"post_id":71127053,"comment_id":125732894,"body_markdown":"got it! But when you were using notifyDatasetChanged, were your page numbers correct? (if we do not consider animation for a minute)","body":"got it! But when you were using notifyDatasetChanged, were your page numbers correct? (if we do not consider animation for a minute)"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644935036,"post_id":71127053,"comment_id":125732962,"body_markdown":"yes, at this way, i can set the page number,but only once,after that drag stops working...","body":"yes, at this way, i can set the page number,but only once,after that drag stops working..."},{"owner":{"account_id":11974931,"reputation":1042,"user_id":8762338,"display_name":"Astha Garg"},"score":0,"creation_date":1644935263,"post_id":71127053,"comment_id":125733069,"body_markdown":"Check this https://stackoverflow.com/q/52286338/8762338","body":"Check this <a href=\"https://stackoverflow.com/q/52286338/8762338\">stackoverflow.com/q/52286338/8762338</a>"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644935711,"post_id":71127053,"comment_id":125733276,"body_markdown":"No,it&#39;s not working,only jurking items on drag.","body":"No,it&#39;s not working,only jurking items on drag."},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1644936359,"post_id":71127053,"comment_id":125733588,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242037/discussion-between-eas-and-astha-garg).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242037/discussion-between-eas-and-astha-garg\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9101183,"reputation":195,"user_id":6773266,"display_name":"mohammed ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645015843,"creation_date":1645010593,"answer_id":71140915,"question_id":71127053,"body_markdown":"You have to call notifyDataSetChanged() when an item position is changed. The easiest way it to used onItemClear(), it will be called when an item is de-selected. Add it like following.\r\n\r\n        @Override\r\n        public void onItemClear() {\r\n              notifyDataSetChanged();\r\n        }\r\n\r\nOne thing you have to add is check weather the position is actually changed after the drag operation or not other wise it will always update the whole dataset whenever an item is selected and than de-selected.\r\n\r\n**Edit**\r\n\r\nCreate a local variable in view-holder class. Than you just have to set it in onItemSelected() and check it in onItemClear();\r\n\r\n        @Override\r\n        public void onItemSelected() {\r\n            lastpos = getAdapterPosition();\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onItemClear() {\r\n             if(lastpos != getAdapterPosition())\r\n                  notifyDataSetChanged();\r\n        }\r\n\r\n\r\n","title":"How to set Item position in order after using ItemTouchHelper.Callback","body":"<p>You have to call notifyDataSetChanged() when an item position is changed. The easiest way it to used onItemClear(), it will be called when an item is de-selected. Add it like following.</p>\n<pre><code>    @Override\n    public void onItemClear() {\n          notifyDataSetChanged();\n    }\n</code></pre>\n<p>One thing you have to add is check weather the position is actually changed after the drag operation or not other wise it will always update the whole dataset whenever an item is selected and than de-selected.</p>\n<p><strong>Edit</strong></p>\n<p>Create a local variable in view-holder class. Than you just have to set it in onItemSelected() and check it in onItemClear();</p>\n<pre><code>    @Override\n    public void onItemSelected() {\n        lastpos = getAdapterPosition();\n    }\n\n\n    @Override\n    public void onItemClear() {\n         if(lastpos != getAdapterPosition())\n              notifyDataSetChanged();\n    }\n</code></pre>\n"}],"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71140915,"answer_count":1,"score":0,"last_activity_date":1645015843,"creation_date":1644930693,"question_id":71127053,"body_markdown":"I am creating a document arrangement activity with `RecyclerView`. I want to arrange the document with drag and drop. It was done by using `ItemTouchHelper.Callback`but after that **I can&#39;t set the page number after the `OnItemMove` callback.** what should I do?\r\n\r\n**EDIT: added code snippet**\r\n\r\n\r\n\r\n\r\n    package adapters;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Matrix;\r\n    import android.graphics.pdf.PdfRenderer;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.CheckBox;\r\n    import android.widget.CompoundButton;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.recyclerview.widget.ItemTouchHelper;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.mobilix.docscanner.R;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    import helper.ItemTouchHelperAdapter;\r\n    import helper.ItemTouchHelperViewHolder;\r\n    import helper.OnStartDragListener;\r\n    import helper.SimpleItemTouchHelperCallback;\r\n    \r\n    public class PageAjdustAdapter extends RecyclerView.Adapter&lt;PageAjdustAdapter.PageAdjustHolder&gt; implements ItemTouchHelperAdapter, OnStartDragListener {\r\n        private final String TAG = getClass().getName();\r\n        Context mContext;\r\n        ArrayList&lt;PdfPage&gt; pdfPages = new ArrayList&lt;&gt;();\r\n        private ItemTouchHelper itemTouchHelper;\r\n    \r\n        public PageAjdustAdapter(Context context, ArrayList&lt;PdfPage&gt; pages) {\r\n            this.mContext = context;\r\n            pdfPages = pages;\r\n    \r\n    \r\n            ItemTouchHelper.Callback callback = new SimpleItemTouchHelperCallback(this);\r\n            itemTouchHelper = new ItemTouchHelper(callback);\r\n            itemTouchHelper.attachToRecyclerView(((Activity) context).findViewById(R.id.rcvPageArrange));\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public PageAdjustHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(mContext).inflate(R.layout.item_page_adajustment, parent, false);\r\n            return new PageAdjustHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull PageAdjustHolder holder, int position) {\r\n            Log.d(TAG, &quot;onBindViewHolder: &quot;);\r\n            holder.ivPage.setImageBitmap(pdfPages.get(position).bitmap);\r\n            holder.cbPage.setChecked(pdfPages.get(position).isSelected);\r\n            holder.tvPageNo.setText(String.valueOf(position + 1));\r\n    \r\n            holder.cbPage.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    pdfPages.get(holder.getAdapterPosition()).isSelected = isChecked;\r\n                }\r\n            });\r\n    \r\n            holder.ivRotate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    int pos = holder.getAdapterPosition();\r\n                    pdfPages.get(pos).bitmap = Bitmap.createBitmap(//\r\n                            pdfPages.get(pos).bitmap, 0, 0, pdfPages.get(pos).bitmap.getWidth(),//\r\n                            pdfPages.get(pos).bitmap.getHeight(), pdfPages.get(pos).matrix, true);//\r\n    \r\n                    notifyItemChanged(pos);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return pdfPages.size();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onItemMove(int fromPosition, int toPosition) {\r\n            Log.d(TAG, &quot;onItemMove: -&gt;fp &quot; + (fromPosition + 1) + &quot; tp-&gt; &quot; + (toPosition + 1));\r\n            Collections.swap(pdfPages, fromPosition, toPosition);\r\n            notifyItemMoved(fromPosition, toPosition);\r\n    \r\n            \r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public void onItemDismiss(int position) {\r\n            pdfPages.remove(position);\r\n            notifyItemRemoved(position);\r\n        }\r\n    \r\n        @Override\r\n        public void onStartDrag(RecyclerView.ViewHolder viewHolder) {\r\n            itemTouchHelper.startDrag(viewHolder);\r\n    \r\n        }\r\n    \r\n    \r\n        public static class PageAdjustHolder extends RecyclerView.ViewHolder implements\r\n                ItemTouchHelperViewHolder {\r\n            ImageView ivPage, ivRotate;\r\n            CheckBox cbPage;\r\n            TextView tvPageNo;\r\n    \r\n            public PageAdjustHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                ivPage = itemView.findViewById(R.id.ivPage);\r\n                ivRotate = itemView.findViewById(R.id.ivRotate);\r\n                cbPage = itemView.findViewById(R.id.cbPage);\r\n                tvPageNo = itemView.findViewById(R.id.tvPageNo);\r\n            }\r\n    \r\n            @Override\r\n            public void onItemSelected() {\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onItemClear() {\r\n    \r\n            }\r\n        }\r\n    \r\n        public static class PdfPage {\r\n            PdfRenderer.Page page;\r\n            Bitmap bitmap;\r\n            boolean isSelected;\r\n            Matrix matrix;\r\n            int rotate = 0;\r\n    \r\n            public PdfPage(PdfRenderer.Page page, Bitmap bitmap) {\r\n                this.page = page;\r\n                this.bitmap = bitmap;\r\n                matrix = new Matrix();\r\n                rotate += 90;\r\n                matrix.postRotate(90);//martix work on +=90\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to set Item position in order after using ItemTouchHelper.Callback","body":"<p>I am creating a document arrangement activity with <code>RecyclerView</code>. I want to arrange the document with drag and drop. It was done by using <code>ItemTouchHelper.Callback</code>but after that <strong>I can't set the page number after the <code>OnItemMove</code> callback.</strong> what should I do?</p>\n<p><strong>EDIT: added code snippet</strong></p>\n<pre><code>package adapters;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.graphics.Bitmap;\nimport android.graphics.Matrix;\nimport android.graphics.pdf.PdfRenderer;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.CheckBox;\nimport android.widget.CompoundButton;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.ItemTouchHelper;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.mobilix.docscanner.R;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\n\nimport helper.ItemTouchHelperAdapter;\nimport helper.ItemTouchHelperViewHolder;\nimport helper.OnStartDragListener;\nimport helper.SimpleItemTouchHelperCallback;\n\npublic class PageAjdustAdapter extends RecyclerView.Adapter&lt;PageAjdustAdapter.PageAdjustHolder&gt; implements ItemTouchHelperAdapter, OnStartDragListener {\n    private final String TAG = getClass().getName();\n    Context mContext;\n    ArrayList&lt;PdfPage&gt; pdfPages = new ArrayList&lt;&gt;();\n    private ItemTouchHelper itemTouchHelper;\n\n    public PageAjdustAdapter(Context context, ArrayList&lt;PdfPage&gt; pages) {\n        this.mContext = context;\n        pdfPages = pages;\n\n\n        ItemTouchHelper.Callback callback = new SimpleItemTouchHelperCallback(this);\n        itemTouchHelper = new ItemTouchHelper(callback);\n        itemTouchHelper.attachToRecyclerView(((Activity) context).findViewById(R.id.rcvPageArrange));\n\n    }\n\n    @NonNull\n    @Override\n    public PageAdjustHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.item_page_adajustment, parent, false);\n        return new PageAdjustHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PageAdjustHolder holder, int position) {\n        Log.d(TAG, &quot;onBindViewHolder: &quot;);\n        holder.ivPage.setImageBitmap(pdfPages.get(position).bitmap);\n        holder.cbPage.setChecked(pdfPages.get(position).isSelected);\n        holder.tvPageNo.setText(String.valueOf(position + 1));\n\n        holder.cbPage.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                pdfPages.get(holder.getAdapterPosition()).isSelected = isChecked;\n            }\n        });\n\n        holder.ivRotate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int pos = holder.getAdapterPosition();\n                pdfPages.get(pos).bitmap = Bitmap.createBitmap(//\n                        pdfPages.get(pos).bitmap, 0, 0, pdfPages.get(pos).bitmap.getWidth(),//\n                        pdfPages.get(pos).bitmap.getHeight(), pdfPages.get(pos).matrix, true);//\n\n                notifyItemChanged(pos);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return pdfPages.size();\n    }\n\n    @Override\n    public boolean onItemMove(int fromPosition, int toPosition) {\n        Log.d(TAG, &quot;onItemMove: -&gt;fp &quot; + (fromPosition + 1) + &quot; tp-&gt; &quot; + (toPosition + 1));\n        Collections.swap(pdfPages, fromPosition, toPosition);\n        notifyItemMoved(fromPosition, toPosition);\n\n        \n        return false;\n    }\n\n    @Override\n    public void onItemDismiss(int position) {\n        pdfPages.remove(position);\n        notifyItemRemoved(position);\n    }\n\n    @Override\n    public void onStartDrag(RecyclerView.ViewHolder viewHolder) {\n        itemTouchHelper.startDrag(viewHolder);\n\n    }\n\n\n    public static class PageAdjustHolder extends RecyclerView.ViewHolder implements\n            ItemTouchHelperViewHolder {\n        ImageView ivPage, ivRotate;\n        CheckBox cbPage;\n        TextView tvPageNo;\n\n        public PageAdjustHolder(@NonNull View itemView) {\n            super(itemView);\n            ivPage = itemView.findViewById(R.id.ivPage);\n            ivRotate = itemView.findViewById(R.id.ivRotate);\n            cbPage = itemView.findViewById(R.id.cbPage);\n            tvPageNo = itemView.findViewById(R.id.tvPageNo);\n        }\n\n        @Override\n        public void onItemSelected() {\n\n        }\n\n        @Override\n        public void onItemClear() {\n\n        }\n    }\n\n    public static class PdfPage {\n        PdfRenderer.Page page;\n        Bitmap bitmap;\n        boolean isSelected;\n        Matrix matrix;\n        int rotate = 0;\n\n        public PdfPage(PdfRenderer.Page page, Bitmap bitmap) {\n            this.page = page;\n            this.bitmap = bitmap;\n            matrix = new Matrix();\n            rotate += 90;\n            matrix.postRotate(90);//martix work on +=90\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","loops","keyword","helper","goto"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1645015491,"post_id":71141963,"comment_id":125757149,"body_markdown":"Java doesn&#39;t have a `goto` statement (for good reason), and you&#39;re trying to do too much with whichever method your code is in. Consider using a [`switch` statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html) and separating the game logic out into separate methods and classes.","body":"Java doesn&#39;t have a <code>goto</code> statement (for good reason), and you&#39;re trying to do too much with whichever method your code is in. Consider using a <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow noreferrer\"><code>switch</code> statement</a> and separating the game logic out into separate methods and classes."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1645015598,"post_id":71141963,"comment_id":125757185,"body_markdown":"If you want to execute a certain piece of code multiple times, then wrap it in a method and call the method. It appears that using a [Map](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html) data structure, to map actions to blurbs, would also be appropriate.","body":"If you want to execute a certain piece of code multiple times, then wrap it in a method and call the method. It appears that using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> data structure, to map actions to blurbs, would also be appropriate."}],"answers":[{"tags":[],"owner":{"account_id":17939065,"reputation":582,"user_id":13034776,"display_name":"brudi4550"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645015783,"creation_date":1645015783,"answer_id":71142188,"question_id":71141963,"body_markdown":"What you could do is put everything inside a while loop. A simplified version:\r\n\r\n```\r\nif(input3.equalsIgnoreCase(&quot;Inside&quot;)) {\r\n    while(true) {\r\n        System.out.println(&quot;Some text&quot;);\r\n        System.out.println(&quot;Some options:&quot;);\r\n        String input4 = in.nextLine();\r\n        if(input4.equalsIgnoreCase(&quot;Sleep&quot;)) {\r\n            System.out.println(&quot;Some text&quot;);\r\n            break;\r\n        } else if(input4.equalsIgnoreCase(&quot;Outside&quot;) {\r\n            System.out.println(&quot;Some text&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nNormally I would say that `while(true)` is bad practice but I think in this case it&#39;s ok.\r\n","title":"Jump back to a line in code(goto function) when a certain word is entered in java","body":"<p>What you could do is put everything inside a while loop. A simplified version:</p>\n<pre><code>if(input3.equalsIgnoreCase(&quot;Inside&quot;)) {\n    while(true) {\n        System.out.println(&quot;Some text&quot;);\n        System.out.println(&quot;Some options:&quot;);\n        String input4 = in.nextLine();\n        if(input4.equalsIgnoreCase(&quot;Sleep&quot;)) {\n            System.out.println(&quot;Some text&quot;);\n            break;\n        } else if(input4.equalsIgnoreCase(&quot;Outside&quot;) {\n            System.out.println(&quot;Some text&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Normally I would say that <code>while(true)</code> is bad practice but I think in this case it's ok.</p>\n"}],"owner":{"account_id":24275987,"reputation":3,"user_id":18223293,"display_name":"Skylar Helter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71142188,"answer_count":1,"score":-1,"last_activity_date":1645015783,"creation_date":1645014864,"question_id":71141963,"body_markdown":"So I need some line of code to make it so that if one of the four words is entered, it jumps back to a certain line. This is for a text-based rpg game.\r\n\r\n    if(input3.equalsIgnoreCase(&quot;Inside&quot;)) {                        \r\n    System.out.println(&quot;------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You go inside the tent right as the sky becomes a dark shade, zipping yourself shut inside. -&quot;);\r\n    System.out.println(&quot;- You scan over the things in the tent. -&quot;);\r\n    System.out.println(&quot;- There is a lantern in the corner, a sleeping bad next to it, and a walkie talkie on the pillow. -\\n&quot;);\r\n    System.out.println(&quot;-----------------------------------------------&quot;);    \r\n    System.out.println(&quot;\\t\\nWhat would you like to do?\\n&quot;);\r\n    System.out.println(&quot;\\tSleep. Get into the sleeping bag and go to sleep.&quot;);\r\n    System.out.println(&quot;\\tCall. Use the walkie talkie to try to reach out to someone.&quot;);\r\n    System.out.println(&quot;\\tIntrospect. Think about what is going on and how you are here.&quot;);\r\n    System.out.println(&quot;\\tOutside. Go outside the tent.\\n&quot;);\r\n    String input4 = in.nextLine();\r\n    if(input4.equalsIgnoreCase(&quot;Sleep&quot;)) {\r\n    System.out.println(&quot;-----------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You move the walkie talkie and get into the sleeping bag. You slowly drift off into a deep slumber. -\\n&quot;);\r\n    }\r\n    else if(input4.equalsIgnoreCase(&quot;Call&quot;)) {\r\n    System.out.println(&quot;-----------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You grab the walkie talkie and press a couple of buttons, trying to figure out how it works. -&quot;);\r\n    System.out.println(&quot;- After a little bit of fiddling with it, you give up, thinking it&#39;s ran out of battery. -&quot;);\r\n    System.out.println(&quot;- You feel your eyes droop and decide to get into the sleeping bad and go to sleep. -\\n&quot;);\r\n    }\r\n    else if(input4.equalsIgnoreCase(&quot;Introspect&quot;)) {\r\n    System.out.println(&quot;-----------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You huddle into the corner, thinking. -\\n&quot;);\r\n    System.out.println(&quot;- &#39;How are you here?&#39; Your mind wanders. -&quot;);\r\n    System.out.println(&quot;- &#39;Why are you here?&#39; You don&#39;t know. -&quot;);\r\n    System.out.println(&quot;- &#39;You don&#39;t even know what you look like. -&quot;);\r\n    System.out.println(&quot;- Before long, your eyes slowly close shut, as you head into a deep slumber. -\\n&quot;);\r\n    }\r\n    else if(input4.equalsIgnoreCase(&quot;Outside&quot;)) {\r\n    System.out.println(&quot;-----------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You unzip the tent and step outside. -&quot;);\r\n    System.out.println(&quot;- A cold shudder washes over you, making you quickly go back inside, zipping yourself back inside. -\\n&quot;);\r\n    }\r\n\r\nI basically want it so that when the user types &quot;Outside&quot;, this function...\r\n\r\n    else if(input4.equalsIgnoreCase(&quot;Outside&quot;)) {\r\n        System.out.println(&quot;-----------------------------------------------&quot;);\r\n        System.out.println(&quot;\\n- You unzip the tent and step outside. -&quot;);\r\n        System.out.println(&quot;- A cold shudder washes over you, making you quickly go back inside, zipping yourself back inside. -\\n&quot;);\r\n        }\r\n\r\n...is run and after the print lines I want it to jump back to..\r\n\r\n    if(input3.equalsIgnoreCase(&quot;Inside&quot;)) {                        \r\n    System.out.println(&quot;------------------------------------------&quot;);\r\n    System.out.println(&quot;\\n- You go inside the tent right as the sky becomes a dark shade, zipping yourself shut inside. -&quot;);\r\n    System.out.println(&quot;- You scan over the things in the tent. -&quot;);\r\n    System.out.println(&quot;- There is a lantern in the corner, a sleeping bad next to it, and a walkie talkie on the pillow. -\\n&quot;);\r\n    System.out.println(&quot;-----------------------------------------------&quot;);  \r\n\r\n...and run everything after it again.","title":"Jump back to a line in code(goto function) when a certain word is entered in java","body":"<p>So I need some line of code to make it so that if one of the four words is entered, it jumps back to a certain line. This is for a text-based rpg game.</p>\n<pre><code>if(input3.equalsIgnoreCase(&quot;Inside&quot;)) {                        \nSystem.out.println(&quot;------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You go inside the tent right as the sky becomes a dark shade, zipping yourself shut inside. -&quot;);\nSystem.out.println(&quot;- You scan over the things in the tent. -&quot;);\nSystem.out.println(&quot;- There is a lantern in the corner, a sleeping bad next to it, and a walkie talkie on the pillow. -\\n&quot;);\nSystem.out.println(&quot;-----------------------------------------------&quot;);    \nSystem.out.println(&quot;\\t\\nWhat would you like to do?\\n&quot;);\nSystem.out.println(&quot;\\tSleep. Get into the sleeping bag and go to sleep.&quot;);\nSystem.out.println(&quot;\\tCall. Use the walkie talkie to try to reach out to someone.&quot;);\nSystem.out.println(&quot;\\tIntrospect. Think about what is going on and how you are here.&quot;);\nSystem.out.println(&quot;\\tOutside. Go outside the tent.\\n&quot;);\nString input4 = in.nextLine();\nif(input4.equalsIgnoreCase(&quot;Sleep&quot;)) {\nSystem.out.println(&quot;-----------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You move the walkie talkie and get into the sleeping bag. You slowly drift off into a deep slumber. -\\n&quot;);\n}\nelse if(input4.equalsIgnoreCase(&quot;Call&quot;)) {\nSystem.out.println(&quot;-----------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You grab the walkie talkie and press a couple of buttons, trying to figure out how it works. -&quot;);\nSystem.out.println(&quot;- After a little bit of fiddling with it, you give up, thinking it's ran out of battery. -&quot;);\nSystem.out.println(&quot;- You feel your eyes droop and decide to get into the sleeping bad and go to sleep. -\\n&quot;);\n}\nelse if(input4.equalsIgnoreCase(&quot;Introspect&quot;)) {\nSystem.out.println(&quot;-----------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You huddle into the corner, thinking. -\\n&quot;);\nSystem.out.println(&quot;- 'How are you here?' Your mind wanders. -&quot;);\nSystem.out.println(&quot;- 'Why are you here?' You don't know. -&quot;);\nSystem.out.println(&quot;- 'You don't even know what you look like. -&quot;);\nSystem.out.println(&quot;- Before long, your eyes slowly close shut, as you head into a deep slumber. -\\n&quot;);\n}\nelse if(input4.equalsIgnoreCase(&quot;Outside&quot;)) {\nSystem.out.println(&quot;-----------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You unzip the tent and step outside. -&quot;);\nSystem.out.println(&quot;- A cold shudder washes over you, making you quickly go back inside, zipping yourself back inside. -\\n&quot;);\n}\n</code></pre>\n<p>I basically want it so that when the user types &quot;Outside&quot;, this function...</p>\n<pre><code>else if(input4.equalsIgnoreCase(&quot;Outside&quot;)) {\n    System.out.println(&quot;-----------------------------------------------&quot;);\n    System.out.println(&quot;\\n- You unzip the tent and step outside. -&quot;);\n    System.out.println(&quot;- A cold shudder washes over you, making you quickly go back inside, zipping yourself back inside. -\\n&quot;);\n    }\n</code></pre>\n<p>...is run and after the print lines I want it to jump back to..</p>\n<pre><code>if(input3.equalsIgnoreCase(&quot;Inside&quot;)) {                        \nSystem.out.println(&quot;------------------------------------------&quot;);\nSystem.out.println(&quot;\\n- You go inside the tent right as the sky becomes a dark shade, zipping yourself shut inside. -&quot;);\nSystem.out.println(&quot;- You scan over the things in the tent. -&quot;);\nSystem.out.println(&quot;- There is a lantern in the corner, a sleeping bad next to it, and a walkie talkie on the pillow. -\\n&quot;);\nSystem.out.println(&quot;-----------------------------------------------&quot;);  \n</code></pre>\n<p>...and run everything after it again.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"display_name":"user1373996"},"score":0,"creation_date":1645015977,"post_id":71142187,"comment_id":125757333,"body_markdown":"Look like your PC&#39;s fonts issue.","body":"Look like your PC&#39;s fonts issue."},{"owner":{"account_id":15592938,"reputation":1,"user_id":11249379,"display_name":"Ambigoues"},"score":0,"creation_date":1645016420,"post_id":71142187,"comment_id":125757529,"body_markdown":"ok I will try to change my PC font","body":"ok I will try to change my PC font"}],"owner":{"account_id":15592938,"reputation":1,"user_id":11249379,"display_name":"Ambigoues"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645016639,"answer_count":0,"score":0,"last_activity_date":1645015779,"creation_date":1645015779,"question_id":71142187,"body_markdown":"I have tried changing font and color and it does not work please help. [random symbol on file name][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/acSwQ.png","title":"eclipse did not display the name of file from a project","body":"<p>I have tried changing font and color and it does not work please help. <a href=\"https://i.stack.imgur.com/acSwQ.png\" rel=\"nofollow noreferrer\">random symbol on file name</a></p>\n"},{"tags":["java","dependency-injection","guice"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1644939019,"post_id":71129036,"comment_id":125734910,"body_markdown":"May be an X-Y problem.  What answer do you need to have?","body":"May be an X-Y problem.  What answer do you need to have?"},{"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"score":0,"creation_date":1644943265,"post_id":71129036,"comment_id":125736790,"body_markdown":"added more details to question, as you can see, I want to have a `total`","body":"added more details to question, as you can see, I want to have a <code>total</code>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1644943427,"post_id":71129036,"comment_id":125736855,"body_markdown":"Why do you want to have a total?","body":"Why do you want to have a total?"},{"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"score":0,"creation_date":1645002190,"post_id":71129036,"comment_id":125751911,"body_markdown":"I use the `total` as a variable to be monitored over time, for example, if `ClassX` is instead `ThreadPoolExecutor`, I would like to know how many threads are running every minute in each pool created","body":"I use the <code>total</code> as a variable to be monitored over time, for example, if <code>ClassX</code> is instead <code>ThreadPoolExecutor</code>, I would like to know how many threads are running every minute in each pool created"}],"answers":[{"tags":[],"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645015676,"creation_date":1645015676,"answer_id":71142167,"question_id":71129036,"body_markdown":"Would the simple case of just maintaining the list inside of the `Provider` do the trick?  Work in your preferred method of thread safety around `instances`.\r\n\r\n```\r\nclass MyProvider implements Provider {\r\n   Set&lt;ClassX&gt; instances = new HashSet&lt;&gt;();\r\n\r\n   public ClassX get() {\r\n        ClassX classX = new ClassX();\r\n        instances.add(classX);\r\n        return classX;\r\n   }\r\n\r\n   public Set&lt;ClassX&gt; getInstances() {\r\n      // ... calculate what you need\r\n   }\r\n}\r\n```\r\n\r\nI don&#39;t believe there is any way to tell Guice to save all of the instances it&#39;s created or provided.","title":"Get all instances created by Guice Provider","body":"<p>Would the simple case of just maintaining the list inside of the <code>Provider</code> do the trick?  Work in your preferred method of thread safety around <code>instances</code>.</p>\n<pre><code>class MyProvider implements Provider {\n   Set&lt;ClassX&gt; instances = new HashSet&lt;&gt;();\n\n   public ClassX get() {\n        ClassX classX = new ClassX();\n        instances.add(classX);\n        return classX;\n   }\n\n   public Set&lt;ClassX&gt; getInstances() {\n      // ... calculate what you need\n   }\n}\n</code></pre>\n<p>I don't believe there is any way to tell Guice to save all of the instances it's created or provided.</p>\n"}],"owner":{"account_id":1682228,"reputation":3337,"user_id":2011421,"accept_rate":88,"display_name":"Sergio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71142167,"answer_count":1,"score":0,"last_activity_date":1645015676,"creation_date":1644938794,"question_id":71129036,"body_markdown":"Assuming a `ClassX` as:\r\n\r\n    class ClassX {\r\n        \r\n        int value;\r\n        \r\n        ClassX() {\r\n            this.value = new Random().nextInt(10);\r\n        }\r\n\r\n        //equals and hashCode depend on &quot;value&quot;\r\n    }\r\n\r\nIf I have a `Provider` as:\r\n\r\n    @Provides\r\n    public ClassX createInstance() {\r\n        return new ClassX();\r\n    }\r\n\r\nIs there a way to inject all the instances created, so I can sum up all values in `total`? I tried something like:\r\n\r\n    @Inject\r\n    public Test(Set&lt;ClassX&gt; set) {\r\n        this.set = set\r\n    }\r\n    \r\n    int total() {\r\n        return this.set.stream()\r\n                .map(classX -&gt; classX.value)\r\n                .reduce(0, Integer::sum);\r\n    }\r\n\r\nbut it fails. Worth mentioning that I read about `MultiBinder` but I would need the instances in order to add them to the `Set`, so, does not seem an option for this case.","title":"Get all instances created by Guice Provider","body":"<p>Assuming a <code>ClassX</code> as:</p>\n<pre><code>class ClassX {\n    \n    int value;\n    \n    ClassX() {\n        this.value = new Random().nextInt(10);\n    }\n\n    //equals and hashCode depend on &quot;value&quot;\n}\n</code></pre>\n<p>If I have a <code>Provider</code> as:</p>\n<pre><code>@Provides\npublic ClassX createInstance() {\n    return new ClassX();\n}\n</code></pre>\n<p>Is there a way to inject all the instances created, so I can sum up all values in <code>total</code>? I tried something like:</p>\n<pre><code>@Inject\npublic Test(Set&lt;ClassX&gt; set) {\n    this.set = set\n}\n\nint total() {\n    return this.set.stream()\n            .map(classX -&gt; classX.value)\n            .reduce(0, Integer::sum);\n}\n</code></pre>\n<p>but it fails. Worth mentioning that I read about <code>MultiBinder</code> but I would need the instances in order to add them to the <code>Set</code>, so, does not seem an option for this case.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1645078848,"post_id":71142162,"comment_id":125776350,"body_markdown":"`preferenceEditor.clear();` will remove all data from your Shared preferences.call this `preferenceEditor.apply();` after clear.","body":"<code>preferenceEditor.clear();</code> will remove all data from your Shared preferences.call this <code>preferenceEditor.apply();</code> after clear."},{"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"score":0,"creation_date":1645173224,"post_id":71142162,"comment_id":125805544,"body_markdown":"i am migrating from shared preferences to datastore preferences.So i can not use this editor","body":"i am migrating from shared preferences to datastore preferences.So i can not use this editor"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1645175707,"post_id":71142162,"comment_id":125806453,"body_markdown":"then use `yourSharedPref.getAll().clear();` for deleting Shared Preferences.","body":"then use <code>yourSharedPref.getAll().clear();</code> for deleting Shared Preferences."}],"owner":{"account_id":24276211,"reputation":1,"user_id":18223485,"display_name":"Rupali Singla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645015655,"creation_date":1645015655,"question_id":71142162,"body_markdown":"I migrate the shared preferences to data store migration using   :\r\n \r\n\r\n    val data Store = getImAppContext().createDataStore(\r\n                name = OTP_PREFERENCES,\r\n                migrations = listOf(\r\n                    SharedPreferencesMigration(\r\n                        getImAppContext(),\r\n                        OTP_PREFERENCES\r\n                    )\r\n                )\r\n            )\r\n\r\nbut how to delete shared preferences after successful migration so that if i relaunch the app i should access all data from data store preferences .Shared preferences should not get migrating again after relaunching.","title":"How to delete Shared Preferences file after migrating it to DataStore Preferences?","body":"<p>I migrate the shared preferences to data store migration using   :</p>\n<pre><code>val data Store = getImAppContext().createDataStore(\n            name = OTP_PREFERENCES,\n            migrations = listOf(\n                SharedPreferencesMigration(\n                    getImAppContext(),\n                    OTP_PREFERENCES\n                )\n            )\n        )\n</code></pre>\n<p>but how to delete shared preferences after successful migration so that if i relaunch the app i should access all data from data store preferences .Shared preferences should not get migrating again after relaunching.</p>\n"},{"tags":["java","spring","spring-boot","junit4","autowired"],"answers":[{"tags":[],"owner":{"account_id":14301063,"reputation":754,"user_id":10330374,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645013985,"creation_date":1645013985,"answer_id":71141757,"question_id":71141489,"body_markdown":"Try to put `org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest` annotation on your test class. It will bring up required beans for mongo repository context\r\n\r\nSee [Spring boot docs](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.autoconfigured-spring-data-mongodb)","title":"How do I connect to the MongoDB from my Spring Boot test class?","body":"<p>Try to put <code>org.springframework.boot.test.autoconfigure.data.mongo.DataMongoTest</code> annotation on your test class. It will bring up required beans for mongo repository context</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.autoconfigured-spring-data-mongodb\" rel=\"nofollow noreferrer\">Spring boot docs</a></p>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71141757,"answer_count":1,"score":0,"last_activity_date":1645015427,"creation_date":1645012892,"question_id":71141489,"body_markdown":"I&#39;m trying to use a test MongoDB to run my test class.\r\n\r\nThis is the hierarchy of the project:\r\n\r\n    ▼ server\r\n      ▼ myproject\r\n        ▼ src\r\n          ▼ main\r\n            ▼ java\r\n              ▼ com\r\n                ▼ youben\r\n                  ▼ rest\r\n                    ▼ repository\r\n                      Ⓘ MyRepository\r\n                    Ⓒ Application\r\n            ▶ resources\r\n          ▼ test\r\n            ▼ java\r\n              ▼ com\r\n                ▼ youben\r\n                  ▼ rest\r\n                    Ⓒ MyRepositoryTest\r\n            ▼ resources\r\n            application-test.properties\r\n\r\nThis is the **application-test.properties** class:\r\n\r\n    spring.data.mongodb.uri=mongodb+srv://party:**********.*****.mongodb.net/MyTest?retryWrites=true&amp;w=majority\r\n    spring.data.mongodb.database=MyTest\r\n\r\nThis is the **MyRepositoryTest** class:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @ActiveProfiles(profiles = {&quot;test&quot;})\r\n    public class MyRepositoryTest {\r\n\r\n        ...\r\n\r\n        @Autowired MyRepository myRepository;\r\n\r\n        @BeforeEach\r\n        void setup() throws Exception {\r\n            [Here I save some data in the database through MyRepository]\r\n        }\r\n\r\n        @AfterEach\r\n        void clean() throws Exception {\r\n            [Here I clear all the data from the database]\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nWhen I run **MyTest** class I get the following error:\r\n\r\n`org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.youben.rest.MyRepositoryTest&#39;: Unsatisfied dependency expressed through field &#39;myRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.youben.rest.repository.MyRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`\r\n\r\nI&#39;ve tried to add `@SpringBootTest` to my test class, but then i get another error:\r\n\r\n`java.lang.IllegalStateException: Failed to load ApplicationContext`\r\n\r\nStackTrace:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\r\n\tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;embeddedMongoServer&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;embeddedMongoServer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMongoConfiguration&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method &#39;embeddedMongoConfiguration&#39; threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 72 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMongoConfiguration&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method &#39;embeddedMongoConfiguration&#39; threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n\t... 90 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method &#39;embeddedMongoConfiguration&#39; threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n\t... 104 more\r\n    Caused by: java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\r\n\tat org.springframework.util.Assert.state(Assert.java:76)\r\n\tat org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.determineVersion(EmbeddedMongoAutoConfiguration.java:148)\r\n\tat org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoConfiguration(EmbeddedMongoAutoConfiguration.java:128)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 105 more`","title":"How do I connect to the MongoDB from my Spring Boot test class?","body":"<p>I'm trying to use a test MongoDB to run my test class.</p>\n<p>This is the hierarchy of the project:</p>\n<pre><code>▼ server\n  ▼ myproject\n    ▼ src\n      ▼ main\n        ▼ java\n          ▼ com\n            ▼ youben\n              ▼ rest\n                ▼ repository\n                  Ⓘ MyRepository\n                Ⓒ Application\n        ▶ resources\n      ▼ test\n        ▼ java\n          ▼ com\n            ▼ youben\n              ▼ rest\n                Ⓒ MyRepositoryTest\n        ▼ resources\n        application-test.properties\n</code></pre>\n<p>This is the <strong>application-test.properties</strong> class:</p>\n<pre><code>spring.data.mongodb.uri=mongodb+srv://party:**********.*****.mongodb.net/MyTest?retryWrites=true&amp;w=majority\nspring.data.mongodb.database=MyTest\n</code></pre>\n<p>This is the <strong>MyRepositoryTest</strong> class:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ActiveProfiles(profiles = {&quot;test&quot;})\npublic class MyRepositoryTest {\n\n    ...\n\n    @Autowired MyRepository myRepository;\n\n    @BeforeEach\n    void setup() throws Exception {\n        [Here I save some data in the database through MyRepository]\n    }\n\n    @AfterEach\n    void clean() throws Exception {\n        [Here I clear all the data from the database]\n    }\n\n    ...\n}\n</code></pre>\n<p>When I run <strong>MyTest</strong> class I get the following error:</p>\n<p><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.youben.rest.MyRepositoryTest': Unsatisfied dependency expressed through field 'myRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.youben.rest.repository.MyRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}</code></p>\n<p>I've tried to add <code>@SpringBootTest</code> to my test class, but then i get another error:</p>\n<p><code>java.lang.IllegalStateException: Failed to load ApplicationContext</code></p>\n<p>StackTrace:</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118)\nat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\nat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\nat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)\nat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\nat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'embeddedMongoServer' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Unsatisfied dependency expressed through method 'embeddedMongoServer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoConfiguration' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method 'embeddedMongoConfiguration' threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:302)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n... 72 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMongoConfiguration' defined in class path resource [org/springframework/boot/autoconfigure/mongo/embedded/EmbeddedMongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method 'embeddedMongoConfiguration' threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\nat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n... 90 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [de.flapdoodle.embed.mongo.config.MongodConfig]: Factory method 'embeddedMongoConfiguration' threw exception; nested exception is java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n... 104 more\nCaused by: java.lang.IllegalStateException: Set the spring.mongodb.embedded.version property or define your own MongodConfig bean to use embedded MongoDB\nat org.springframework.util.Assert.state(Assert.java:76)\nat org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.determineVersion(EmbeddedMongoAutoConfiguration.java:148)\nat org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration.embeddedMongoConfiguration(EmbeddedMongoAutoConfiguration.java:128)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 105 more`\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645019149,"post_id":71142100,"comment_id":125758704,"body_markdown":"You need to do two passes. I.e. sign the first, save incremental, then repeat.","body":"You need to do two passes. I.e. sign the first, save incremental, then repeat."},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1645019962,"post_id":71142100,"comment_id":125759070,"body_markdown":"Thank you for answer. Actually, I already do the save incremental for each signature. It works fine if I don&#39;t add any annotation in between both signatures (ie: The first and second signatures are both valid) My goal is to set the annotation associated to the second signature field as &quot;not impacting&quot; the first signature validation. Do you know if it is possible ?","body":"Thank you for answer. Actually, I already do the save incremental for each signature. It works fine if I don&#39;t add any annotation in between both signatures (ie: The first and second signatures are both valid) My goal is to set the annotation associated to the second signature field as &quot;not impacting&quot; the first signature validation. Do you know if it is possible ?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645021975,"post_id":71142100,"comment_id":125760018,"body_markdown":"I&#39;m confused, a signature has only 1 annotation and it&#39;s not added as a separate step (value 2 means &quot;Permitted changes shall be filling in forms, instantiating page templates, and signing; other changes shall invalidate the signature&quot; so only adding an annotation wouldn&#39;t work). The best is to start with the examples, get it to build/work and then start to modify.","body":"I&#39;m confused, a signature has only 1 annotation and it&#39;s not added as a separate step (value 2 means &quot;Permitted changes shall be filling in forms, instantiating page templates, and signing; other changes shall invalidate the signature&quot; so only adding an annotation wouldn&#39;t work). The best is to start with the examples, get it to build/work and then start to modify."},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1645022944,"post_id":71142100,"comment_id":125760432,"body_markdown":"The thing is that the annotation is added by an external tool which is not PDFBox. If I understand you correctly, there is no way to tell the signature field &quot;every annotation that comes upon you will be ignored during signature validation process&quot;.... My goal would then to be able to retrieve the annotation within the new document,  and recreate it inside PDFBox in the original document, and save it incrementally with signature... Am I correct ? :)","body":"The thing is that the annotation is added by an external tool which is not PDFBox. If I understand you correctly, there is no way to tell the signature field &quot;every annotation that comes upon you will be ignored during signature validation process&quot;.... My goal would then to be able to retrieve the annotation within the new document,  and recreate it inside PDFBox in the original document, and save it incrementally with signature... Am I correct ? :)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645023738,"post_id":71142100,"comment_id":125760804,"body_markdown":"See in the PDF specification, look for &quot;Entries in the DocMDP transform parameters dictionary&quot;, there is no fine tuned setting like that. Yes it might be possible to get the annotation from an external PDF. I&#39;d use the CreateVisualSignature2.java example and replace `createVisualSignatureTemplate`.","body":"See in the PDF specification, look for &quot;Entries in the DocMDP transform parameters dictionary&quot;, there is no fine tuned setting like that. Yes it might be possible to get the annotation from an external PDF. I&#39;d use the CreateVisualSignature2.java example and replace <code>createVisualSignatureTemplate</code>."},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1645024735,"post_id":71142100,"comment_id":125761330,"body_markdown":"Thank you for the advice. The example in CreateVisibleSignature2 can add an annotation  to a signature field (if I am correct). How would you proceed to extract the annotation associated to the signature field in the other PDF ? Is there a feature in PDFBox that allows this ? Thank you!","body":"Thank you for the advice. The example in CreateVisibleSignature2 can add an annotation  to a signature field (if I am correct). How would you proceed to extract the annotation associated to the signature field in the other PDF ? Is there a feature in PDFBox that allows this ? Thank you!"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1645029626,"post_id":71142100,"comment_id":125763565,"body_markdown":"PDPage.getAnnotation() and then find out which one is yours.","body":"PDPage.getAnnotation() and then find out which one is yours."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1645055896,"post_id":71142100,"comment_id":125772279,"body_markdown":"Please share both example PDFs illustrating the issue and some actual code. But as @Tilman already said, certification level 2 does not allow for adding new annotations.","body":"Please share both example PDFs illustrating the issue and some actual code. But as @Tilman already said, certification level 2 does not allow for adding new annotations."},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1645087097,"post_id":71142100,"comment_id":125778678,"body_markdown":"Thank you for your answers, I think my goal is not reachable as I would like to add an annotation from an external tool to the PDF without breaking the signature validation. Which is not possible according to PDF standard specification (the annotation needs to be added with PDFBox as an incremental save)","body":"Thank you for your answers, I think my goal is not reachable as I would like to add an annotation from an external tool to the PDF without breaking the signature validation. Which is not possible according to PDF standard specification (the annotation needs to be added with PDFBox as an incremental save)"}],"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645015425,"creation_date":1645015425,"question_id":71142100,"body_markdown":"I am trying to create a workflow in which a single document is signed twice in a row by two different recipients, keeping all the signatures valid at the end.\r\n\r\nThis is what I did:\r\n\r\n- from a clean pdf file, I add two PDSignatureField to the first page of the document, each named according to the recipient name\r\n- I then add an annotation (with PDFTron viewer) on the first signature field.\r\n- I digitally sign the document for the first signature and add DocMDP permissions :\r\n\r\n        if (document.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0) {\r\n\t\t\tSigUtils.setMDPPermission(document, signature, 2);\r\n\t\t}\r\n- everything is fine here, the document is signed and valid\r\n- I then add another annotation to the second signature field and save the doc\r\n- From this point, the previous signature is invalid, although I did add some permissions on signature fields to the document.\r\n\r\nCould anybody help me out on this ? =)","title":"PDFBox : add multiple signatures","body":"<p>I am trying to create a workflow in which a single document is signed twice in a row by two different recipients, keeping all the signatures valid at the end.</p>\n<p>This is what I did:</p>\n<ul>\n<li><p>from a clean pdf file, I add two PDSignatureField to the first page of the document, each named according to the recipient name</p>\n</li>\n<li><p>I then add an annotation (with PDFTron viewer) on the first signature field.</p>\n</li>\n<li><p>I digitally sign the document for the first signature and add DocMDP permissions :</p>\n<pre><code>  if (document.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0) {\n      SigUtils.setMDPPermission(document, signature, 2);\n  }\n</code></pre>\n</li>\n<li><p>everything is fine here, the document is signed and valid</p>\n</li>\n<li><p>I then add another annotation to the second signature field and save the doc</p>\n</li>\n<li><p>From this point, the previous signature is invalid, although I did add some permissions on signature fields to the document.</p>\n</li>\n</ul>\n<p>Could anybody help me out on this ? =)</p>\n"},{"tags":["java","android","pdf","okhttp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645010132,"post_id":71140539,"comment_id":125755015,"body_markdown":"`pdfViewIntent.setDataAndType(Uri.parse(pdfUrl)` If that should open the pdf viewer then you should tell it not the download url but path to your file to begin with. Please updat your code first.","body":"<code>pdfViewIntent.setDataAndType(Uri.parse(pdfUrl)</code> If that should open the pdf viewer then you should tell it not the download url but path to your file to begin with. Please updat your code first."},{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":0,"creation_date":1645010782,"post_id":71140539,"comment_id":125755288,"body_markdown":"@blackapps in this case I&#39;m sending the path as an argument. It&#39;s value is `/storage/emulated/0/Android/data/com.example.package/files/Documents/PDF_172417_2718497032023319439.pdf`","body":"@blackapps in this case I&#39;m sending the path as an argument. It&#39;s value is <code>&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.example.package&#47;files&#47;D&zwnj;&#8203;ocuments&#47;PDF_172417_&zwnj;&#8203;2718497032023319439.&zwnj;&#8203;pdf</code>"}],"answers":[{"tags":[],"owner":{"account_id":18503983,"reputation":15,"user_id":13480697,"display_name":"Vikash Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645009646,"creation_date":1645009646,"answer_id":71140677,"question_id":71140539,"body_markdown":"You need to download on device download directory.\r\nYour directory is not visible to other&#39;s application that&#39;s by its not opening.\r\nOnly your application can use this directory.\r\n\r\nNot able to comment due to less reputation ","title":"Cannot open pdf file that was generated from an InputStream","body":"<p>You need to download on device download directory.\nYour directory is not visible to other's application that's by its not opening.\nOnly your application can use this directory.</p>\n<p>Not able to comment due to less reputation</p>\n"},{"tags":[],"owner":{"account_id":3294730,"reputation":17,"user_id":2772255,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645011221,"creation_date":1645011221,"answer_id":71141071,"question_id":71140539,"body_markdown":"I am not sure if this helps but I see that the `file` you copy the InputStream into seems not be closed before you call `openPdf(pdfFilePath);` which means the pdf viewers get trouble opening it either because it is blocked or not all content has been written into the file.","title":"Cannot open pdf file that was generated from an InputStream","body":"<p>I am not sure if this helps but I see that the <code>file</code> you copy the InputStream into seems not be closed before you call <code>openPdf(pdfFilePath);</code> which means the pdf viewers get trouble opening it either because it is blocked or not all content has been written into the file.</p>\n"}],"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":938,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645015299,"creation_date":1645009099,"question_id":71140539,"body_markdown":"I have an API that provides me with `InputStream` of a pdf file. And my objective is to allow user to view this file with another pdf viewer application.\r\n\r\nIn order to acheive this, I copied the InputStream to a pdf file that has been created programmatically. Then I tried to open that pdf file.\r\n\r\nHowever, I&#39;m not able to open the pdf file through my application or file explorer. Drive PDF viewer tells in toast that it cannot open the pdf file, Adobe Acrobat tells that the pdf file cannot be accessed, and Mi PDF reader tells that the pdf is in invalid format.\r\n\r\nHere&#39;s the code inside `onResponse()` of OkHttpClient&#39;s call:\r\n\r\n```java\r\n                if (response.isSuccessful()) {\r\n                    InputStream inputStream = responseBody.byteStream();\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            File file = null;\r\n                            try {\r\n                                file = MyFileUtils.createPdfFile(PdfViewActivity.this);\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                            MyFileUtils.copyInputStreamToFile(inputStream, file);\r\n                            String pdfFilePath = file.getAbsolutePath();\r\n                            openPdf(pdfFilePath);\r\n                        }\r\n                    });\r\n                }\r\n```\r\n\r\nHere&#39;s the method responsible for opening pdf:\r\n```java\r\n    private void openPdf(String pdfFilePath) {\r\n        Intent pdfViewIntent = new Intent(Intent.ACTION_VIEW);\r\n        pdfViewIntent.setDataAndType(Uri.parse(pdfFilePath), &quot;application/pdf&quot;);\r\n        Intent chooser = Intent.createChooser(pdfViewIntent, &quot;Open this note with&quot;);\r\n        startActivity(chooser);\r\n        finish();\r\n    }\r\n```\r\n\r\nI created the pdf using `MyFileUtils.createPdfFile()` method. Here&#39;s how I implemented it:\r\n\r\n```java\r\n    public static File createPdfFile(Activity associatedActivity) throws IOException {\r\n        String timeStamp = new SimpleDateFormat(&quot;HHmmss&quot;).format(new Date());\r\n        String pdfFileName = &quot;PDF_&quot; + timeStamp + &quot;_&quot;;\r\n\r\n        File storageDir = associatedActivity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\r\n        Log.d(TAG, &quot;createPdfFile: storageDir: &quot; + storageDir.getAbsolutePath());\r\n\r\n        return File.createTempFile(\r\n                pdfFileName,  /* prefix */\r\n                &quot;.pdf&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n    }\r\n```\r\n\r\nI copied the InputStream to that file using the following method in `MyFileUtils` class:\r\n\r\n```java\r\n    // Copy an InputStream to a File.\r\n    public static void copyInputStreamToFile(InputStream in, File file) {\r\n        OutputStream out = null;\r\n\r\n        try {\r\n            out = new FileOutputStream(file);\r\n            byte[] buf = new byte[1024];\r\n            int len;\r\n            while ((len = in.read(buf)) &gt; 0) {\r\n                out.write(buf, 0, len);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            // Ensure that the InputStreams are closed even if there&#39;s an exception.\r\n            try {\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n\r\n                // If you want to close the &quot;in&quot; InputStream yourself then remove this\r\n                // from here but ensure that you close it yourself eventually.\r\n                in.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve implemented the provider in the following way:\r\n\r\n**AndroidManifest.xml :**\r\n```\r\n    &lt;application&gt;\r\n        ...\r\n        ...\r\n        ...\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.xyz.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\n**file_paths.xml :**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-files-path name=&quot;my_images&quot; path=&quot;Pictures&quot; /&gt;\r\n    &lt;external-files-path name=&quot;my_documents&quot; path=&quot;Documents&quot; /&gt;\r\n&lt;/paths&gt;\r\n```\r\n\r\n**NOTE:**\r\n\r\n - The application has necessary read-write permissions. I&#39;ve tested it programmatically. I&#39;m not including those codes here because it might not be relevant.\r\n - The absolute path of the created pdf file is something like this: `/storage/emulated/0/Android/data/&lt;package name&gt;/files/Documents/PDF_164257_4832620770047519807.pdf`\r\n","title":"Cannot open pdf file that was generated from an InputStream","body":"<p>I have an API that provides me with <code>InputStream</code> of a pdf file. And my objective is to allow user to view this file with another pdf viewer application.</p>\n<p>In order to acheive this, I copied the InputStream to a pdf file that has been created programmatically. Then I tried to open that pdf file.</p>\n<p>However, I'm not able to open the pdf file through my application or file explorer. Drive PDF viewer tells in toast that it cannot open the pdf file, Adobe Acrobat tells that the pdf file cannot be accessed, and Mi PDF reader tells that the pdf is in invalid format.</p>\n<p>Here's the code inside <code>onResponse()</code> of OkHttpClient's call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>                if (response.isSuccessful()) {\n                    InputStream inputStream = responseBody.byteStream();\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            File file = null;\n                            try {\n                                file = MyFileUtils.createPdfFile(PdfViewActivity.this);\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                            }\n                            MyFileUtils.copyInputStreamToFile(inputStream, file);\n                            String pdfFilePath = file.getAbsolutePath();\n                            openPdf(pdfFilePath);\n                        }\n                    });\n                }\n</code></pre>\n<p>Here's the method responsible for opening pdf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void openPdf(String pdfFilePath) {\n        Intent pdfViewIntent = new Intent(Intent.ACTION_VIEW);\n        pdfViewIntent.setDataAndType(Uri.parse(pdfFilePath), &quot;application/pdf&quot;);\n        Intent chooser = Intent.createChooser(pdfViewIntent, &quot;Open this note with&quot;);\n        startActivity(chooser);\n        finish();\n    }\n</code></pre>\n<p>I created the pdf using <code>MyFileUtils.createPdfFile()</code> method. Here's how I implemented it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static File createPdfFile(Activity associatedActivity) throws IOException {\n        String timeStamp = new SimpleDateFormat(&quot;HHmmss&quot;).format(new Date());\n        String pdfFileName = &quot;PDF_&quot; + timeStamp + &quot;_&quot;;\n\n        File storageDir = associatedActivity.getExternalFilesDir(Environment.DIRECTORY_DOCUMENTS);\n        Log.d(TAG, &quot;createPdfFile: storageDir: &quot; + storageDir.getAbsolutePath());\n\n        return File.createTempFile(\n                pdfFileName,  /* prefix */\n                &quot;.pdf&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n    }\n</code></pre>\n<p>I copied the InputStream to that file using the following method in <code>MyFileUtils</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Copy an InputStream to a File.\n    public static void copyInputStreamToFile(InputStream in, File file) {\n        OutputStream out = null;\n\n        try {\n            out = new FileOutputStream(file);\n            byte[] buf = new byte[1024];\n            int len;\n            while ((len = in.read(buf)) &gt; 0) {\n                out.write(buf, 0, len);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            // Ensure that the InputStreams are closed even if there's an exception.\n            try {\n                if (out != null) {\n                    out.close();\n                }\n\n                // If you want to close the &quot;in&quot; InputStream yourself then remove this\n                // from here but ensure that you close it yourself eventually.\n                in.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n<p>I've implemented the provider in the following way:</p>\n<p><strong>AndroidManifest.xml :</strong></p>\n<pre><code>    &lt;application&gt;\n        ...\n        ...\n        ...\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.xyz.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n</code></pre>\n<p><strong>file_paths.xml :</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-files-path name=&quot;my_images&quot; path=&quot;Pictures&quot; /&gt;\n    &lt;external-files-path name=&quot;my_documents&quot; path=&quot;Documents&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p><strong>NOTE:</strong></p>\n<ul>\n<li>The application has necessary read-write permissions. I've tested it programmatically. I'm not including those codes here because it might not be relevant.</li>\n<li>The absolute path of the created pdf file is something like this: <code>/storage/emulated/0/Android/data/&lt;package name&gt;/files/Documents/PDF_164257_4832620770047519807.pdf</code></li>\n</ul>\n"},{"tags":["java","arraylist","hashset"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645015144,"creation_date":1645014828,"answer_id":71141952,"question_id":71141841,"body_markdown":"This instruction `HashSet&lt;Integer&gt; temp = set.get(i);` makes you are accessing the same collection that is &quot;inside&quot; *set* in position *i*. That&#39;s why it&#39;s modifying. \r\n\r\nYou have to create a new collection\r\n\r\n    Set&lt;Integer&gt; temp = new HashSet&lt;&gt;(set.get(i));\r\n\r\nThis way both will point to different collections.\r\n\r\nMaybe the following will help in a deeper understanding of this: https://stackoverflow.com/questions/12072727/duplicating-objects-in-java","title":"I am creating a temporary variable &quot;temp&quot; so that I don&#39;t change the actual set value but it still is making changes in the original set. WHY?","body":"<p>This instruction <code>HashSet&lt;Integer&gt; temp = set.get(i);</code> makes you are accessing the same collection that is &quot;inside&quot; <em>set</em> in position <em>i</em>. That's why it's modifying.</p>\n<p>You have to create a new collection</p>\n<pre><code>Set&lt;Integer&gt; temp = new HashSet&lt;&gt;(set.get(i));\n</code></pre>\n<p>This way both will point to different collections.</p>\n<p>Maybe the following will help in a deeper understanding of this: <a href=\"https://stackoverflow.com/questions/12072727/duplicating-objects-in-java\">Duplicating objects in Java</a></p>\n"}],"owner":{"account_id":24274307,"reputation":7,"user_id":18221824,"display_name":"Nobil Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71141952,"answer_count":1,"score":-1,"last_activity_date":1645015144,"creation_date":1645014297,"question_id":71141841,"body_markdown":"I have an ArrayList of HashSets named &quot;set&quot; and to operate on the individual HashSets I am copying the Set&#39;s value to a temporary HashSet &quot;temp&quot; but when I make changes to temp by the command &quot;temp.retainAll(set.get(i))&quot; it changes the original Set... please help me. the code is given below:\r\n\r\n    public class newques { \r\n\tpublic boolean ValidCorner(int matrix[][]) \r\n\t{ \r\n\t    // Your code goes here\r\n        boolean result = false;\r\n\t\tint r = matrix.length;\r\n        int c = matrix[0].length;\r\n        ArrayList&lt;HashSet&lt;Integer&gt;&gt; set = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; r; i++) {\r\n\t\t\tHashSet&lt;Integer&gt; temp = new HashSet&lt;&gt;();\r\n            for (int j = 0; j &lt; c; j++) {\r\n                if (matrix[i][j]==1) {\r\n\t\t\t\t\ttemp.add(j);\r\n\t\t\t\t}\r\n            }\r\n\t\t\tset.add(temp);\r\n        }\r\n\r\n        System.out.println(set);\r\n        System.out.println(&quot;Size of set is: &quot; + set.size());\r\n\r\n\t\tfor (int i = 0; i &lt; set.size(); i++) {\r\n\t\t\tfor (int j = i+1; j &lt; set.size(); j++) {\r\n\t\t\t\tHashSet&lt;Integer&gt; temp = set.get(i);\r\n\t\t\t\tSystem.out.println(temp);\r\n\t\t\t\tSystem.out.println(set.get(j));\r\n\t\t\t\ttemp.retainAll(set.get(j));\r\n\t\t\t\tSystem.out.println(set.get(i));\r\n\t\t\t\tSystem.out.println(&quot;Temp set is: &quot; + temp);\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t\tif (temp.size() % 2 == 0 &amp;&amp; temp.size() != 0) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n        return result;\r\n\t}\r\n}","title":"I am creating a temporary variable &quot;temp&quot; so that I don&#39;t change the actual set value but it still is making changes in the original set. WHY?","body":"<p>I have an ArrayList of HashSets named &quot;set&quot; and to operate on the individual HashSets I am copying the Set's value to a temporary HashSet &quot;temp&quot; but when I make changes to temp by the command &quot;temp.retainAll(set.get(i))&quot; it changes the original Set... please help me. the code is given below:</p>\n<pre><code>public class newques { \npublic boolean ValidCorner(int matrix[][]) \n{ \n    // Your code goes here\n    boolean result = false;\n    int r = matrix.length;\n    int c = matrix[0].length;\n    ArrayList&lt;HashSet&lt;Integer&gt;&gt; set = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; r; i++) {\n        HashSet&lt;Integer&gt; temp = new HashSet&lt;&gt;();\n        for (int j = 0; j &lt; c; j++) {\n            if (matrix[i][j]==1) {\n                temp.add(j);\n            }\n        }\n        set.add(temp);\n    }\n\n    System.out.println(set);\n    System.out.println(&quot;Size of set is: &quot; + set.size());\n\n    for (int i = 0; i &lt; set.size(); i++) {\n        for (int j = i+1; j &lt; set.size(); j++) {\n            HashSet&lt;Integer&gt; temp = set.get(i);\n            System.out.println(temp);\n            System.out.println(set.get(j));\n            temp.retainAll(set.get(j));\n            System.out.println(set.get(i));\n            System.out.println(&quot;Temp set is: &quot; + temp);\n            System.out.println();\n            if (temp.size() % 2 == 0 &amp;&amp; temp.size() != 0) {\n                result = true;\n                break;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","algorithm","count","space-complexity"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1644405664,"post_id":71048612,"comment_id":125596653,"body_markdown":"What parameters are you starting the jvm with?","body":"What parameters are you starting the jvm with?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1644405833,"post_id":71048612,"comment_id":125596733,"body_markdown":"What is giving you the &quot;Memory Limit Exceeded&quot; message? Is it an online testing website?","body":"What is giving you the &quot;Memory Limit Exceeded&quot; message? Is it an online testing website?"},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":0,"creation_date":1644405947,"post_id":71048612,"comment_id":125596781,"body_markdown":"@tgdavies, a line of string","body":"@tgdavies, a line of string"},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":0,"creation_date":1644406025,"post_id":71048612,"comment_id":125596813,"body_markdown":"@k314159, yes, which indicates that there are better algorithms.","body":"@k314159, yes, which indicates that there are better algorithms."},{"owner":{"account_id":4531157,"reputation":3278,"user_id":3681607,"display_name":"St&#233;phane Millien"},"score":0,"creation_date":1644406273,"post_id":71048612,"comment_id":125596908,"body_markdown":"Can you try with `++(count[0])` or `count[0] =+ 1` ?","body":"Can you try with <code>++(count[0])</code> or <code>count[0] =+ 1</code> ?"},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":0,"creation_date":1644406541,"post_id":71048612,"comment_id":125597011,"body_markdown":"@St&#233;phaneMillien, I just tried it and the result is still MLE.","body":"@St&#233;phaneMillien, I just tried it and the result is still MLE."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1644406552,"post_id":71048612,"comment_id":125597015,"body_markdown":"I don&#39;t think you are using much memory at all. Maybe try not creating a string at all, but just read System.in directly, character by character (without using Scanner).","body":"I don&#39;t think you are using much memory at all. Maybe try not creating a string at all, but just read System.in directly, character by character (without using Scanner)."},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":1,"creation_date":1644408256,"post_id":71048612,"comment_id":125597657,"body_markdown":"@k314159, Thanks so much! As you said, I just deleted the String variable in the middle and passed the problem successfully. I changed the input codes to ```int temp = System.in.read();``` , and change the condition to exit the loop to ```temp == &#39;\\n&#39;```.","body":"@k314159, Thanks so much! As you said, I just deleted the String variable in the middle and passed the problem successfully. I changed the input codes to <code>int temp = System.in.read();</code> , and change the condition to exit the loop to <code>temp == &#39;\\n&#39;</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1644420506,"post_id":71048612,"comment_id":125602937,"body_markdown":"btw you shouldn&#39;t close System.in. The convention is that any method only closes a resource if it had opened it in the first place.","body":"btw you shouldn&#39;t close System.in. The convention is that any method only closes a resource if it had opened it in the first place."},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":0,"creation_date":1644664409,"post_id":71048612,"comment_id":125669998,"body_markdown":"@k314159, well, I got it.","body":"@k314159, well, I got it."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1644665094,"post_id":71048612,"comment_id":125670149,"body_markdown":"If you manage to solve your problem, then do not edit to solution into your *question*, but instead post it as an *answer* and accept it after the timeout.","body":"If you manage to solve your problem, then do not edit to solution into your <i>question</i>, but instead post it as an <i>answer</i> and accept it after the timeout."},{"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"score":0,"creation_date":1645014815,"post_id":71048612,"comment_id":125756907,"body_markdown":"@MarkRotteveel, You&#39;re right, I&#39;ve moved the position of the answer now","body":"@MarkRotteveel, You&#39;re right, I&#39;ve moved the position of the answer now"}],"answers":[{"tags":[],"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645015117,"creation_date":1645015117,"answer_id":71142033,"question_id":71048612,"body_markdown":"\r\n### Summary  \r\nDeleted the call of the ```Scanner``` class and read characters one by one directly from ```System.in```\r\n```java\r\nimport java.io.IOException;\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tint[] count = new int[5];  // a e i o u\r\n\t\tint temp = System.in.read();\r\n\t\twhile(temp != &#39;\\n&#39;) {\r\n\t\t\tswitch(temp) {\r\n\t\t\t\tcase &#39;a&#39;: // 97\r\n\t\t\t\t\t++count[0];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\t\t++count[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;i&#39;:\r\n\t\t\t\t\t++count[2];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;o&#39;:\r\n\t\t\t\t\t++count[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;u&#39;:\r\n\t\t\t\t\t++count[4];\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttemp = System.in.read();\r\n\t\t}\r\n\t\t// System.in.close();\r\n\t\tfor(int item: count) {\r\n\t\t\tSystem.out.print(item);\r\n\t\t\tSystem.out.print(&#39; &#39;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Decrease the space complexity of finding certain letters in String in Java","body":"<h3>Summary</h3>\n<p>Deleted the call of the <code>Scanner</code> class and read characters one by one directly from <code>System.in</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        \n        int[] count = new int[5];  // a e i o u\n        int temp = System.in.read();\n        while(temp != '\\n') {\n            switch(temp) {\n                case 'a': // 97\n                    ++count[0];\n                    break;\n                case 'e':\n                    ++count[1];\n                    break;\n                case 'i':\n                    ++count[2];\n                    break;\n                case 'o':\n                    ++count[3];\n                    break;\n                case 'u':\n                    ++count[4];\n                    break;\n            }\n            temp = System.in.read();\n        }\n        // System.in.close();\n        for(int item: count) {\n            System.out.print(item);\n            System.out.print(' ');\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24015774,"reputation":303,"user_id":17998741,"display_name":"Bowen"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71142033,"answer_count":1,"score":1,"last_activity_date":1645015117,"creation_date":1644405416,"question_id":71048612,"body_markdown":"**Problem**  \r\n\r\nI have a problem that finding certain letters in a given String cost too much memory which caused a _&quot;Memory Limit Exceeded&quot;_. I am wondering the reason of it. The question and my codes are below.  \r\n\r\n**Question**  \r\n- describe: Find the number of times the vowels a, e, i, o, u appear in a string.\r\n- Enter: Enter a line of string, the string length is less than 80 characters. So the characters are all lowercase letters.\r\n- Output: Output a line, and output the number of times a, e, i, o, u appear in the input string in sequence, and the integers are separated by spaces.    \r\n\r\n**Codes**   \r\n```java\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\t\r\n\t\tint[] count = new int[5];  // refers to &#39;a&#39; &#39;e&#39; &#39;i&#39; &#39;o&#39; &#39;u&#39;\r\n\t\tScanner buf = new Scanner(System.in);\r\n\t\tString input = buf.nextLine();\r\n\t\tbuf.close();\r\n\t\tfor(int i = 0; i &lt; input.length(); i++) {\r\n\t\t\tswitch(input.charAt(i)) {\r\n\t\t\t\tcase &#39;a&#39;: \r\n\t\t\t\t\t++count[0];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;e&#39;:\r\n\t\t\t\t\t++count[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;i&#39;:\r\n\t\t\t\t\t++count[2];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;o&#39;:\r\n\t\t\t\t\t++count[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &#39;u&#39;:\r\n\t\t\t\t\t++count[4];\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int item: count) {\r\n\t\t\tSystem.out.print(item);\r\n\t\t\tSystem.out.print(&#39; &#39;);\r\n\t\t}\r\n\t}\r\n}\r\n```  ","title":"Decrease the space complexity of finding certain letters in String in Java","body":"<p><strong>Problem</strong></p>\n<p>I have a problem that finding certain letters in a given String cost too much memory which caused a <em>&quot;Memory Limit Exceeded&quot;</em>. I am wondering the reason of it. The question and my codes are below.</p>\n<p><strong>Question</strong></p>\n<ul>\n<li>describe: Find the number of times the vowels a, e, i, o, u appear in a string.</li>\n<li>Enter: Enter a line of string, the string length is less than 80 characters. So the characters are all lowercase letters.</li>\n<li>Output: Output a line, and output the number of times a, e, i, o, u appear in the input string in sequence, and the integers are separated by spaces.</li>\n</ul>\n<p><strong>Codes</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {    \n        int[] count = new int[5];  // refers to 'a' 'e' 'i' 'o' 'u'\n        Scanner buf = new Scanner(System.in);\n        String input = buf.nextLine();\n        buf.close();\n        for(int i = 0; i &lt; input.length(); i++) {\n            switch(input.charAt(i)) {\n                case 'a': \n                    ++count[0];\n                    break;\n                case 'e':\n                    ++count[1];\n                    break;\n                case 'i':\n                    ++count[2];\n                    break;\n                case 'o':\n                    ++count[3];\n                    break;\n                case 'u':\n                    ++count[4];\n                    break;\n            }\n        }\n        for(int item: count) {\n            System.out.print(item);\n            System.out.print(' ');\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":1,"creation_date":1644971131,"post_id":71133161,"comment_id":125745703,"body_markdown":"Could you make the example CSV as simple as possible and add the exact expected return? As it is &quot;bla&quot;,&quot;bla&quot;... should give syntax errors. And the variable &#39;string&#39; comes out of nowhere.... Both the variable name `string` and the function name `countAllInstancesOfOne` don&#39;t seem like good names. The current state of your question is very confusing.","body":"Could you make the example CSV as simple as possible and add the exact expected return? As it is &quot;bla&quot;,&quot;bla&quot;... should give syntax errors. And the variable &#39;string&#39; comes out of nowhere.... Both the variable name <code>string</code> and the function name <code>countAllInstancesOfOne</code> don&#39;t seem like good names. The current state of your question is very confusing."},{"owner":{"account_id":16611573,"reputation":73,"user_id":12004421,"display_name":"Eris Cacigieri"},"score":0,"creation_date":1644977214,"post_id":71133161,"comment_id":125746696,"body_markdown":"Ah, I see. Sorry about that, I am new to using Stack Overflow and missed a few things when I was typing it all out.","body":"Ah, I see. Sorry about that, I am new to using Stack Overflow and missed a few things when I was typing it all out."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645014557,"creation_date":1645014557,"answer_id":71141902,"question_id":71133161,"body_markdown":"First of all, do not perform obsolete initialization like `Map&lt;String, Long&gt; pow = new HashMap&lt;&gt;();` The `HashMap` you’re creating here has no relationship to the result of the stream operation you’re assigning to `pow` right in the next statement. So you’re only creating garbage here.\r\n\r\nTo collect more than one element for a source stream element, you can use `flatMap` to map each input element to an arbitrary number of elements. Sometimes, you need to use dedicated objects as stream elements to hold multiple associated data, like the column name and its value, but here, we can get away without, when chaining the operations in a carefully chosen order:\r\n\r\n```java\r\nMap&lt;String, Long&gt; pow = str\r\n    .skip(1)\r\n    .map(s -&gt; s.split(&quot;,&quot;))\r\n    .filter(a -&gt; a.length == 11)\r\n    .flatMap(a -&gt; IntStream.rangeClosed(1, 4)\r\n        .filter(i -&gt; a[i + 3].trim().equals(&quot;1&quot;))\r\n        .mapToObj(i -&gt; &quot;Num&quot; + i))\r\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n```\r\n\r\nThe actual value is only needed for the `filter`, which is applied first, before mapping to the key needed for the final `collect` operation. The key is constructed by mapping the numbers 1…4 to Num1…Num4. If you have column names not constructible this way, you could map using an array of the known column names. Keep in mind that array indices start with zero.\r\n\r\nSince the resulting Stream is a Stream of column names occurring as ofter as they had a corresponding `&quot;1&quot;` value, you only need to group them to their count of occurrences. With your example input, it produces `{Num1 = 1, Num3 = 2, Num4 = 1}`, with nondeterministic order, without entries for columns with zero matches.\r\n","title":"How do I collect multiple indexes&#39; values in a Java stream?","body":"<p>First of all, do not perform obsolete initialization like <code>Map&lt;String, Long&gt; pow = new HashMap&lt;&gt;();</code> The <code>HashMap</code> you’re creating here has no relationship to the result of the stream operation you’re assigning to <code>pow</code> right in the next statement. So you’re only creating garbage here.</p>\n<p>To collect more than one element for a source stream element, you can use <code>flatMap</code> to map each input element to an arbitrary number of elements. Sometimes, you need to use dedicated objects as stream elements to hold multiple associated data, like the column name and its value, but here, we can get away without, when chaining the operations in a carefully chosen order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; pow = str\n    .skip(1)\n    .map(s -&gt; s.split(&quot;,&quot;))\n    .filter(a -&gt; a.length == 11)\n    .flatMap(a -&gt; IntStream.rangeClosed(1, 4)\n        .filter(i -&gt; a[i + 3].trim().equals(&quot;1&quot;))\n        .mapToObj(i -&gt; &quot;Num&quot; + i))\n    .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n</code></pre>\n<p>The actual value is only needed for the <code>filter</code>, which is applied first, before mapping to the key needed for the final <code>collect</code> operation. The key is constructed by mapping the numbers 1…4 to Num1…Num4. If you have column names not constructible this way, you could map using an array of the known column names. Keep in mind that array indices start with zero.</p>\n<p>Since the resulting Stream is a Stream of column names occurring as ofter as they had a corresponding <code>&quot;1&quot;</code> value, you only need to group them to their count of occurrences. With your example input, it produces <code>{Num1 = 1, Num3 = 2, Num4 = 1}</code>, with nondeterministic order, without entries for columns with zero matches.</p>\n"}],"owner":{"account_id":16611573,"reputation":73,"user_id":12004421,"display_name":"Eris Cacigieri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645014557,"creation_date":1644957878,"question_id":71133161,"body_markdown":"I have a method in which I am trying to return a Map&lt;String, Long&gt; with a stream of strings as its parameter.\r\n\r\nThe string is a line from a csv file with comma separated lines and values. \r\n\r\nWhat I want to return is a map of ONLY the Num 1-4 columns and the counts of their occurrences of the number 1.\r\n\r\nThe example str that I defined below is expected to return a Map&lt;String, Long&gt; of {Num1 = 1, Num2 = 0, Num3 = 2, Num4 = 1}.\r\n\r\nMy main issue is that I do not understand how to collect the ones from each of these columns as I assume that they are multiple objects and a terminal collect operation can seemingly only cover one column.\r\n\r\n```\r\npublic static Map&lt;String, Long&gt; returnNumCountsOf1(Stream&lt;String&gt; str) {\r\n\r\n// returns a map with the name of the Num columns (key) and their counts (value) of the number 1\r\n\r\n// ex.) str = &quot;WORD1  WORD2  WORD3  WORD4  Num1 Num2 Num3 Num4  WN1  WN2  WN3&quot;,\r\n                &quot;a,    b,      c,     d,   1,   2,   3,   4,   one, two, three&quot;,\r\n                &quot;e,    f,      g,     h,   4,   3,   1,   2,   one, two, seven&quot;,\r\n                &quot;i,    j,      k,     l,   2,   4,   3,   1,   one, nine, eleven&quot;,\r\n                &quot;m,    n,      o,     p,   3,   4,   1,   2,   one, five, three&quot;;\r\n\r\n\r\n\t\tMap&lt;String, Long&gt; pow = new HashMap&lt;&gt;();\r\n\t\tpow = str\r\n\t\t\t\t.map(x -&gt; x.split(&quot;,&quot;))\r\n\t\t\t\t.skip(1) //ignores the header\r\n\t\t\t\t.filter(x -&gt; x.length == 11) // splits into indexes\r\n\t\t\t\t\r\n\t\t\t\t.collect(Collectors.groupingBy(x -&gt; x[5]?, Collectors.counting()));\r\n       return pow;\r\n//Expected return value should be {Num1=1, Num2=0, Num3=2, Num4=1}.\r\n```\r\n","title":"How do I collect multiple indexes&#39; values in a Java stream?","body":"<p>I have a method in which I am trying to return a Map&lt;String, Long&gt; with a stream of strings as its parameter.</p>\n<p>The string is a line from a csv file with comma separated lines and values.</p>\n<p>What I want to return is a map of ONLY the Num 1-4 columns and the counts of their occurrences of the number 1.</p>\n<p>The example str that I defined below is expected to return a Map&lt;String, Long&gt; of {Num1 = 1, Num2 = 0, Num3 = 2, Num4 = 1}.</p>\n<p>My main issue is that I do not understand how to collect the ones from each of these columns as I assume that they are multiple objects and a terminal collect operation can seemingly only cover one column.</p>\n<pre><code>public static Map&lt;String, Long&gt; returnNumCountsOf1(Stream&lt;String&gt; str) {\n\n// returns a map with the name of the Num columns (key) and their counts (value) of the number 1\n\n// ex.) str = &quot;WORD1  WORD2  WORD3  WORD4  Num1 Num2 Num3 Num4  WN1  WN2  WN3&quot;,\n                &quot;a,    b,      c,     d,   1,   2,   3,   4,   one, two, three&quot;,\n                &quot;e,    f,      g,     h,   4,   3,   1,   2,   one, two, seven&quot;,\n                &quot;i,    j,      k,     l,   2,   4,   3,   1,   one, nine, eleven&quot;,\n                &quot;m,    n,      o,     p,   3,   4,   1,   2,   one, five, three&quot;;\n\n\n        Map&lt;String, Long&gt; pow = new HashMap&lt;&gt;();\n        pow = str\n                .map(x -&gt; x.split(&quot;,&quot;))\n                .skip(1) //ignores the header\n                .filter(x -&gt; x.length == 11) // splits into indexes\n                \n                .collect(Collectors.groupingBy(x -&gt; x[5]?, Collectors.counting()));\n       return pow;\n//Expected return value should be {Num1=1, Num2=0, Num3=2, Num4=1}.\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645014394,"creation_date":1645014394,"answer_id":71141864,"question_id":71141210,"body_markdown":"From Bluetooth Core specification v5.3, Vol 3, Part F (ATT):\r\n\r\nSection 3.2.9 Long attribute values:\r\n\r\n&gt; The longest attribute that can be sent in a single packet is (ATT_MTU-1) octets in size. At a minimum, the Attribute Opcode is included in an Attribute PDU. An attribute value may be defined to be larger than (ATT_MTU-1) octets in size. These attributes are called long attributes.\r\n&gt; \r\n&gt; To read the entire value of an attributes larger than (ATT_MTU-1) octets, the ATT_READ_BLOB_REQ PDU is used. It is possible to read the first (ATT_MTU-1) octets of a long attribute value using the ATT_READ_REQ PDU.\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; **The maximum length of an attribute value shall be 512 octets.**\r\n\r\nSection 3.4.4.5 ATT_READ_BLOB_REQ:\r\n\r\n&gt; If the value **offset** of the Read Blob Request **is greater than the length of the attribute value**, an ATT_ERROR_RSP PDU shall be sent with the Error Code parameter set to Invalid Offset (0x07).\r\n\r\nFrom Vol 3, Part G (GATT):\r\n\r\nSection 4.8.3 Read Long Characteristic Values\r\n\r\n&gt; This sub-procedure is used to read a Characteristic Value from a server when the client knows the Characteristic Value Handle and the length of the Characteristic Value is longer than can be sent in a single ATT_READ_RSP PDU.\r\n&gt; \r\n&gt; The ATT_READ_REQ and ATT_READ_BLOB_REQ PDUs are used to perform this sub-procedure. The Attribute Handle shall be set to the Characteristic Value Handle of the Characteristic Value to be read. To read the complete Characteristic Value an ATT_READ_REQ PDU should be used for the first part of the value and ATT_READ_BLOB_REQ PDUs shall used for the rest. The Value Offset parameter of each ATT_READ_BLOB_REQ PDU shall be set to the offset of the next octet within the Characteristic Value that has yet to be read. The ATT_READ_BLOB_REQ PDU is repeated until the ATT_READ_BLOB_RSP PDU’s Part Attribute Value parameter is shorter than (ATT_MTU – 1).\r\n&gt; \r\n&gt; For each ATT_READ_BLOB_REQ PDU a ATT_READ_BLOB_RSP PDU is received with a portion of the Characteristic Value contained in the Part Attribute Value parameter.\r\n\r\nSo the idea is that the GATT server puts a value inside the characteristic, which is only allowed to be at most 512 bytes. Then whenever the GATT client wants to read this value (which can be up to 512 bytes), it can read the whole value in one go if the ATT_MTU is at most 513 using ATT_READ_REQ. When ATT_MTU is smaller so that the full value does not fit in an ATT_READ_RSP, the client must issue multiple ATT_READ_BLOB_REQs, with increasing offset for every request. It terminates when the returned value is smaller than the maximum size that can fit in an ATT_READ_BLOB_RSP. Note that ATT_READ_BLOB_REQ is usually not used when MTU &gt;= 513, since all possible attribute values can always be read using a normal ATT_READ_REQ.\r\n\r\nSince the maximum attribute value size is 512, an ATT_READ_BLOB_REQ containing an offset &gt; 512 shall always result in a response having the error &quot;Invalid Offset&quot; (assuming the other conditions pass such as the handle exists and the attribute is readable in the first place etc.).\r\n\r\nGATT is not designed for transferring data larger than 512 bytes. If you need to do that, you have some options:\r\n\r\n1. Use notifications instead. Split up the data and send multiple notifications. The application programmer must somehow define a way to correctly reconstruct the full value from multiple notifications. To trigger the GATT server to start sending the value, the application programmer can design the GATT server so that the client first writes some instruction using a write characteristic operation, and when this operation is received, the server starts to send the notifications.\r\n\r\n2. Use multiple reads. First split up the data in multiple chunks. The GATT server first places the first 512 bytes in the characteristic value. Whenever it detects that the GATT client has read the 512 first bytes, it places the next 512 bytes in the characteristic value so the client can read the next chunk. This option has lower throughput than using notifications, so there is not much of reasons to use this option over using notifications.\r\n\r\n3. Use L2CAP CoC instead of using GATT. L2CAP CoC is made for large data transfers compared to GATT. Android supports this as of Android 10 and later.","title":"What is the Maximum offset possible while working with Read Blob Request in BLE?","body":"<p>From Bluetooth Core specification v5.3, Vol 3, Part F (ATT):</p>\n<p>Section 3.2.9 Long attribute values:</p>\n<blockquote>\n<p>The longest attribute that can be sent in a single packet is (ATT_MTU-1) octets in size. At a minimum, the Attribute Opcode is included in an Attribute PDU. An attribute value may be defined to be larger than (ATT_MTU-1) octets in size. These attributes are called long attributes.</p>\n<p>To read the entire value of an attributes larger than (ATT_MTU-1) octets, the ATT_READ_BLOB_REQ PDU is used. It is possible to read the first (ATT_MTU-1) octets of a long attribute value using the ATT_READ_REQ PDU.</p>\n<p>...</p>\n<p><strong>The maximum length of an attribute value shall be 512 octets.</strong></p>\n</blockquote>\n<p>Section 3.4.4.5 ATT_READ_BLOB_REQ:</p>\n<blockquote>\n<p>If the value <strong>offset</strong> of the Read Blob Request <strong>is greater than the length of the attribute value</strong>, an ATT_ERROR_RSP PDU shall be sent with the Error Code parameter set to Invalid Offset (0x07).</p>\n</blockquote>\n<p>From Vol 3, Part G (GATT):</p>\n<p>Section 4.8.3 Read Long Characteristic Values</p>\n<blockquote>\n<p>This sub-procedure is used to read a Characteristic Value from a server when the client knows the Characteristic Value Handle and the length of the Characteristic Value is longer than can be sent in a single ATT_READ_RSP PDU.</p>\n<p>The ATT_READ_REQ and ATT_READ_BLOB_REQ PDUs are used to perform this sub-procedure. The Attribute Handle shall be set to the Characteristic Value Handle of the Characteristic Value to be read. To read the complete Characteristic Value an ATT_READ_REQ PDU should be used for the first part of the value and ATT_READ_BLOB_REQ PDUs shall used for the rest. The Value Offset parameter of each ATT_READ_BLOB_REQ PDU shall be set to the offset of the next octet within the Characteristic Value that has yet to be read. The ATT_READ_BLOB_REQ PDU is repeated until the ATT_READ_BLOB_RSP PDU’s Part Attribute Value parameter is shorter than (ATT_MTU – 1).</p>\n<p>For each ATT_READ_BLOB_REQ PDU a ATT_READ_BLOB_RSP PDU is received with a portion of the Characteristic Value contained in the Part Attribute Value parameter.</p>\n</blockquote>\n<p>So the idea is that the GATT server puts a value inside the characteristic, which is only allowed to be at most 512 bytes. Then whenever the GATT client wants to read this value (which can be up to 512 bytes), it can read the whole value in one go if the ATT_MTU is at most 513 using ATT_READ_REQ. When ATT_MTU is smaller so that the full value does not fit in an ATT_READ_RSP, the client must issue multiple ATT_READ_BLOB_REQs, with increasing offset for every request. It terminates when the returned value is smaller than the maximum size that can fit in an ATT_READ_BLOB_RSP. Note that ATT_READ_BLOB_REQ is usually not used when MTU &gt;= 513, since all possible attribute values can always be read using a normal ATT_READ_REQ.</p>\n<p>Since the maximum attribute value size is 512, an ATT_READ_BLOB_REQ containing an offset &gt; 512 shall always result in a response having the error &quot;Invalid Offset&quot; (assuming the other conditions pass such as the handle exists and the attribute is readable in the first place etc.).</p>\n<p>GATT is not designed for transferring data larger than 512 bytes. If you need to do that, you have some options:</p>\n<ol>\n<li><p>Use notifications instead. Split up the data and send multiple notifications. The application programmer must somehow define a way to correctly reconstruct the full value from multiple notifications. To trigger the GATT server to start sending the value, the application programmer can design the GATT server so that the client first writes some instruction using a write characteristic operation, and when this operation is received, the server starts to send the notifications.</p>\n</li>\n<li><p>Use multiple reads. First split up the data in multiple chunks. The GATT server first places the first 512 bytes in the characteristic value. Whenever it detects that the GATT client has read the 512 first bytes, it places the next 512 bytes in the characteristic value so the client can read the next chunk. This option has lower throughput than using notifications, so there is not much of reasons to use this option over using notifications.</p>\n</li>\n<li><p>Use L2CAP CoC instead of using GATT. L2CAP CoC is made for large data transfers compared to GATT. Android supports this as of Android 10 and later.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22923167,"reputation":39,"user_id":17058701,"display_name":"sahana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71141864,"answer_count":1,"score":1,"last_activity_date":1645014394,"creation_date":1645011730,"question_id":71141210,"body_markdown":"I am new to BLE, and trying to understand Read Blob Request&#39;s offset. When ATT_MTU is 23 bytes, offset got incremented by 22..from 0,22,44.... 512.if I update MTU to 517(near to 512),then how far this offset goes? only till 512 or 0,512,1024...?\r\nAlso, Is this possible: If it get incremented further, for each iteration 512 bytes data can be transferred which implies more data transfer.\r\nPlease someone help me out.","title":"What is the Maximum offset possible while working with Read Blob Request in BLE?","body":"<p>I am new to BLE, and trying to understand Read Blob Request's offset. When ATT_MTU is 23 bytes, offset got incremented by 22..from 0,22,44.... 512.if I update MTU to 517(near to 512),then how far this offset goes? only till 512 or 0,512,1024...?\nAlso, Is this possible: If it get incremented further, for each iteration 512 bytes data can be transferred which implies more data transfer.\nPlease someone help me out.</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"score":0,"creation_date":1644913145,"post_id":71123024,"comment_id":125724156,"body_markdown":"can you add JUnit dependencies from POM?","body":"can you add JUnit dependencies from POM?"},{"owner":{"account_id":1738413,"reputation":25,"user_id":1590458,"display_name":"Yehuda Broderick"},"score":0,"creation_date":1645002430,"post_id":71123024,"comment_id":125751995,"body_markdown":"@ZakirHussain I don&#39;t use Maven, although recently have been thinking about changing that. Here are the requisite JUnit .jar files:\n\njunit-platform-commons-1.7.0\njunit-platform-engine-1.7.0\njunit-platform-launcher-1.7.0","body":"@ZakirHussain I don&#39;t use Maven, although recently have been thinking about changing that. Here are the requisite JUnit .jar files:  junit-platform-commons-1.7.0 junit-platform-engine-1.7.0 junit-platform-launcher-1.7.0"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645014263,"creation_date":1645014263,"answer_id":71141828,"question_id":71123024,"body_markdown":"The type name is not `String param`.\r\n\r\nRather, it has to be a fully qualified type name. For String that is `java.lang.String`.\r\n\r\nWhen selecting your parameterized method by its _fully qualified method name_, if your class in the `example` package, that would be `example.TestClass#TestTheThing(java.lang.String)`.\r\n\r\nThis is fully documented in the [Javadoc][1].\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/discovery/DiscoverySelectors.html#selectMethod(java.lang.String)","title":"Discovering JUnit5 parameterized test via class and method name throws org.junit.platform.commons.PreconditionViolationException","body":"<p>The type name is not <code>String param</code>.</p>\n<p>Rather, it has to be a fully qualified type name. For String that is <code>java.lang.String</code>.</p>\n<p>When selecting your parameterized method by its <em>fully qualified method name</em>, if your class in the <code>example</code> package, that would be <code>example.TestClass#TestTheThing(java.lang.String)</code>.</p>\n<p>This is fully documented in the <a href=\"https://junit.org/junit5/docs/current/api/org.junit.platform.engine/org/junit/platform/engine/discovery/DiscoverySelectors.html#selectMethod(java.lang.String)\" rel=\"nofollow noreferrer\">Javadoc</a>.</p>\n"}],"owner":{"account_id":1738413,"reputation":25,"user_id":1590458,"display_name":"Yehuda Broderick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71141828,"answer_count":1,"score":0,"last_activity_date":1645014263,"creation_date":1644912814,"question_id":71123024,"body_markdown":"I have sets of tests that I run to test the UI of various tools on my company&#39;s website. I built a system that runs these tests in different environments, and for my concern here, I wrote code that allows me to run a single test in these multiple environments. The problem is that when I try to run a parameterized test via MethodSelector (passing both class and method name as a String), I get the following error:\r\n\r\n```\r\nCaused by: org.junit.platform.commons.PreconditionViolationException: Could not find method with name [TestTheThing] in class [tests.tool.fragments.TestClass].\r\n```\r\n\r\nI then tried passing the method name including the parameter, but then I got this error:\r\n```\r\nFailed to load parameter type [String param] for method [TestTheThing] in class [tests.tool.fragments.TestClass].\r\n```\r\n\r\nI&#39;ve been researching this for a little while, but I haven&#39;t gotten anywhere, and would appreciate some help. Here&#39;s a mockup of the test:\r\n```\r\npublic class TestClass {\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;getParams&quot;)\r\n    public void TestTheThing(String param) {\r\n        // test code here\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the actual code I use to find and run the test (all selectors from getAllTestSelectors are of type ClassSelector):\r\n```\r\n\t// Runs a single tests in a fragment of a tool (used for batch-testing only)\r\n\tpublic void runSingleTestInFragment(String fragment, String test) {\r\n\t\t\r\n\t\tif (fragment.equals(&quot;&quot;))\r\n\t\t\tthrow new MasterTestException(&quot;Fragment name is empty&quot;);\r\n\t\t\r\n\t\tif (test.equals(&quot;&quot;))\r\n\t\t\tthrow new MasterTestException(&quot;Test name is empty&quot;);\r\n\t\t\r\n\t\t// Make sure test fragment exists\r\n\t\tString className = null;\r\n\t\t\r\n\t\tfor (DiscoverySelector s : getAllTestSelectors()) {\r\n\t\t\tClassSelector classSelector = (ClassSelector) s;\r\n        \tString cname = classSelector.getClassName();\r\n        \tString name = cname.substring(cname.lastIndexOf(&quot;.&quot;) + 1);\r\n        \t\r\n        \tif (name.contains(fragment)) {\r\n        \t\tclassName = classSelector.getClassName();\r\n        \t\tbreak;\r\n        \t}\r\n        }\r\n\t\t\r\n\t\tif (className == null)\r\n\t\t\tthrow new MasterTestException(&quot;Could not find a test fragment named &#39;&quot; + fragment + &quot;&#39; for the tool &quot; + data.getAsEnum(&quot;tool&quot;));\r\n\t\t\r\n\t\t// Create the selector\r\n\t\tMethodSelector selector = DiscoverySelectors.selectMethod(className + &quot;#&quot; + test);\r\n\t\t\r\n\t\t// Test that the selector is valid (will throw a PreconditionViolationException if otherwise)\r\n\t\ttry {\r\n\t\t\tselector.getJavaMethod();\r\n\t\t\t\r\n\t\t} catch (PreconditionViolationException e) {\r\n\t\t\tthrow new MasterTestException(&quot;The test method &#39;&quot; + test + &quot;&#39; does not exist in the fragment &#39;&quot; + fragment + &quot;&#39;&quot;, e);\r\n\t\t}\r\n\t\t\r\n\t\trunTests(selector);\r\n\t}\r\n```","title":"Discovering JUnit5 parameterized test via class and method name throws org.junit.platform.commons.PreconditionViolationException","body":"<p>I have sets of tests that I run to test the UI of various tools on my company's website. I built a system that runs these tests in different environments, and for my concern here, I wrote code that allows me to run a single test in these multiple environments. The problem is that when I try to run a parameterized test via MethodSelector (passing both class and method name as a String), I get the following error:</p>\n<pre><code>Caused by: org.junit.platform.commons.PreconditionViolationException: Could not find method with name [TestTheThing] in class [tests.tool.fragments.TestClass].\n</code></pre>\n<p>I then tried passing the method name including the parameter, but then I got this error:</p>\n<pre><code>Failed to load parameter type [String param] for method [TestTheThing] in class [tests.tool.fragments.TestClass].\n</code></pre>\n<p>I've been researching this for a little while, but I haven't gotten anywhere, and would appreciate some help. Here's a mockup of the test:</p>\n<pre><code>public class TestClass {\n\n    @ParameterizedTest\n    @MethodSource(&quot;getParams&quot;)\n    public void TestTheThing(String param) {\n        // test code here\n    }\n}\n</code></pre>\n<p>And this is the actual code I use to find and run the test (all selectors from getAllTestSelectors are of type ClassSelector):</p>\n<pre><code>    // Runs a single tests in a fragment of a tool (used for batch-testing only)\n    public void runSingleTestInFragment(String fragment, String test) {\n        \n        if (fragment.equals(&quot;&quot;))\n            throw new MasterTestException(&quot;Fragment name is empty&quot;);\n        \n        if (test.equals(&quot;&quot;))\n            throw new MasterTestException(&quot;Test name is empty&quot;);\n        \n        // Make sure test fragment exists\n        String className = null;\n        \n        for (DiscoverySelector s : getAllTestSelectors()) {\n            ClassSelector classSelector = (ClassSelector) s;\n            String cname = classSelector.getClassName();\n            String name = cname.substring(cname.lastIndexOf(&quot;.&quot;) + 1);\n            \n            if (name.contains(fragment)) {\n                className = classSelector.getClassName();\n                break;\n            }\n        }\n        \n        if (className == null)\n            throw new MasterTestException(&quot;Could not find a test fragment named '&quot; + fragment + &quot;' for the tool &quot; + data.getAsEnum(&quot;tool&quot;));\n        \n        // Create the selector\n        MethodSelector selector = DiscoverySelectors.selectMethod(className + &quot;#&quot; + test);\n        \n        // Test that the selector is valid (will throw a PreconditionViolationException if otherwise)\n        try {\n            selector.getJavaMethod();\n            \n        } catch (PreconditionViolationException e) {\n            throw new MasterTestException(&quot;The test method '&quot; + test + &quot;' does not exist in the fragment '&quot; + fragment + &quot;'&quot;, e);\n        }\n        \n        runTests(selector);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","log4j2"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1615220537,"post_id":66533373,"comment_id":117617960,"body_markdown":"Could you add your project structure with both full launch methods logs.","body":"Could you add your project structure with both full launch methods logs."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1615220740,"post_id":66533373,"comment_id":117618046,"body_markdown":"Are you using Windows?","body":"Are you using Windows?"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1615230440,"post_id":66533373,"comment_id":117622139,"body_markdown":"@tmarouane sure, added.","body":"@tmarouane sure, added."},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1615230463,"post_id":66533373,"comment_id":117622145,"body_markdown":"@SimonMartinelli yes, windows 10 x64","body":"@SimonMartinelli yes, windows 10 x64"},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1615270116,"post_id":66533373,"comment_id":117632330,"body_markdown":"Does your project include the jansi jar?","body":"Does your project include the jansi jar?"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1615277048,"post_id":66533373,"comment_id":117634512,"body_markdown":"@rgoers yes, I tried with dependency  \t&lt;groupId&gt;org.fusesource.jansi&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;jansi&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\nand with properties such as spring.output.ansi.enabled=ALWAYS or ansi.colors=true​\nor without it, but had no success.","body":"@rgoers yes, I tried with dependency  \t&lt;groupId&gt;org.fusesource.jansi&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;jansi&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.3.1&lt;/version&gt; and with properties such as spring.output.ansi.enabled=ALWAYS or ansi.colors=true​ or without it, but had no success."}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645013946,"creation_date":1645013946,"answer_id":71141749,"question_id":66533373,"body_markdown":"Had the same Problem! As it was just a matter of personal preference, I didn&#39;t want to spend more time finding how to fix it (It doesn&#39;t seem to be straight forward!)\r\n\r\n\r\nMy Workaround:\r\n\r\nHaving patterns with no color instead and use an IntelliJ Plugin such as [Grep-Console][1] to color your logs in IntelliJ.\r\n\r\nHave a good one :)\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/7125-grep-console","title":"Log4j2 configuration for Intellij Idea terminal","body":"<p>Had the same Problem! As it was just a matter of personal preference, I didn't want to spend more time finding how to fix it (It doesn't seem to be straight forward!)</p>\n<p>My Workaround:</p>\n<p>Having patterns with no color instead and use an IntelliJ Plugin such as <a href=\"https://plugins.jetbrains.com/plugin/7125-grep-console\" rel=\"nofollow noreferrer\">Grep-Console</a> to color your logs in IntelliJ.</p>\n<p>Have a good one :)</p>\n"}],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645013946,"creation_date":1615220247,"question_id":66533373,"body_markdown":"I&#39;m using Java 11, Spring Boot 2.4.1, Intellij Idea Community Edition 2019.2.\r\nI&#39;m using Log4j2 and trying to change color of log level in console from log4j2.xml configuration file. \r\nAnd I have success if I run my application from public static void main(String[] args), but if I run\r\nmy app from terminal with: &#39;mvn spring-boot:run&#39;, then it doesn&#39;t work.\r\n\r\nMy log4j2.xml:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration strict=&quot;true&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} %highlight{%-5p}{DEBUG=blue,INFO=black,WARN=yellow} [%c{1}.%M():%L %t] [${bundle:application:spring.application.name}] %m%n&quot;\r\n                    disableAnsi=&quot;false&quot; charset=&quot;UTF-8&quot;/&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;com.example&quot; level=&quot;TRACE&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;INFO&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\nIf I run with public static void main(String[] args), I have e.g. DEBUG log and color of word DEBUG is blue:\r\n\r\n2021-03-08 19:04:56,357 DEBUG [MyApplication.logStarting():56 main] [My-App-name] Running with Spring Boot v2.4.1, Spring v5.3.2\r\n\r\n\r\nIf I run in terminal with &#39;mvn spring-boot:run&#39;, there are no colors and log is wrong:\r\n\r\n2021-03-08 19:15:16,450 ←[34mDEBUG←[m [MyApplication.logStarting():56 main] [My-App-name] Running with Spring Boot v2.4.1, Spring v5.3.2\r\n\r\nHow can I fix it? \r\nIf you need any clarification please let me know, thank you in advance!\r\n\r\n**EDIT**:\r\n----------\r\nProject Structure (It&#39;s my sanbox app, where I train different things). Also you can see here how I connect log4j2 to the project in pom.xml:\r\n[enter image description here][1]\r\n\r\n \r\n\r\n\r\n----------\r\nMy build section in pom.xml:\r\n[enter image description here][2]\r\n\r\n\r\n----------\r\nLogs, if run public static void main:\r\n[enter image description here][3]\r\n\r\n\r\n----------\r\nLogs, if run &#39;mvn spring-boot:run&#39; (2 pictures):\r\n[enter image description here][4] |\r\n[enter image description here][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E5ZH1.png\r\n  [2]: https://i.stack.imgur.com/ISLsc.png\r\n  [3]: https://i.stack.imgur.com/TKqQy.png\r\n  [4]: https://i.stack.imgur.com/uxkuv.png\r\n  [5]: https://i.stack.imgur.com/YVTXn.png\r\n\r\n----------\r\n\r\nI tried to use another approach with color of &#39;%-5p&#39;:\r\n1. Pattern:\r\n            ```&lt;PatternLayout pattern=&quot;%d{DEFAULT} %clr{%-5p}{magenta} [%c{1}.%M():%L %t] [${bundle:application:spring.application.name}] %m%n&quot; charset=&quot;UTF-8&quot;/&gt;```\r\n2. Added to application.properties:\r\n```spring.output.ansi.enabled=ALWAYS```\r\n\r\nBut it still works only for run from &#39;main&#39; and not for terminal.","title":"Log4j2 configuration for Intellij Idea terminal","body":"<p>I'm using Java 11, Spring Boot 2.4.1, Intellij Idea Community Edition 2019.2.\nI'm using Log4j2 and trying to change color of log level in console from log4j2.xml configuration file.\nAnd I have success if I run my application from public static void main(String[] args), but if I run\nmy app from terminal with: 'mvn spring-boot:run', then it doesn't work.</p>\n<p>My log4j2.xml:</p>\n<pre><code>&lt;Configuration strict=&quot;true&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} %highlight{%-5p}{DEBUG=blue,INFO=black,WARN=yellow} [%c{1}.%M():%L %t] [${bundle:application:spring.application.name}] %m%n&quot;\n                    disableAnsi=&quot;false&quot; charset=&quot;UTF-8&quot;/&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;com.example&quot; level=&quot;TRACE&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;ERROR&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;INFO&quot; includeLocation=&quot;true&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>If I run with public static void main(String[] args), I have e.g. DEBUG log and color of word DEBUG is blue:</p>\n<p>2021-03-08 19:04:56,357 DEBUG [MyApplication.logStarting():56 main] [My-App-name] Running with Spring Boot v2.4.1, Spring v5.3.2</p>\n<p>If I run in terminal with 'mvn spring-boot:run', there are no colors and log is wrong:</p>\n<p>2021-03-08 19:15:16,450 ←[34mDEBUG←[m [MyApplication.logStarting():56 main] [My-App-name] Running with Spring Boot v2.4.1, Spring v5.3.2</p>\n<p>How can I fix it?\nIf you need any clarification please let me know, thank you in advance!</p>\n<h2><strong>EDIT</strong>:</h2>\n<p>Project Structure (It's my sanbox app, where I train different things). Also you can see here how I connect log4j2 to the project in pom.xml:\n<a href=\"https://i.stack.imgur.com/E5ZH1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>My build section in pom.xml:\n<a href=\"https://i.stack.imgur.com/ISLsc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>Logs, if run public static void main:\n<a href=\"https://i.stack.imgur.com/TKqQy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>Logs, if run 'mvn spring-boot:run' (2 pictures):\n<a href=\"https://i.stack.imgur.com/uxkuv.png\" rel=\"nofollow noreferrer\">enter image description here</a> |\n<a href=\"https://i.stack.imgur.com/YVTXn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>I tried to use another approach with color of '%-5p':</p>\n<ol>\n<li>Pattern:\n<code>&lt;PatternLayout pattern=&quot;%d{DEFAULT} %clr{%-5p}{magenta} [%c{1}.%M():%L %t] [${bundle:application:spring.application.name}] %m%n&quot; charset=&quot;UTF-8&quot;/&gt;</code></li>\n<li>Added to application.properties:\n<code>spring.output.ansi.enabled=ALWAYS</code></li>\n</ol>\n<p>But it still works only for run from 'main' and not for terminal.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1645012561,"post_id":71141363,"comment_id":125756039,"body_markdown":"Is country code always separated from the rest of the number with a space or hyphen?","body":"Is country code always separated from the rest of the number with a space or hyphen?"},{"owner":{"display_name":"user15270187"},"score":0,"creation_date":1645012658,"post_id":71141363,"comment_id":125756079,"body_markdown":"Yes, space or hyphen.","body":"Yes, space or hyphen."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1645012790,"post_id":71141363,"comment_id":125756132,"body_markdown":"From what I see, `0` can be glued to the area code, so this won&#39;t help. Try `&quot;^(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})$&quot;`","body":"From what I see, <code>0</code> can be glued to the area code, so this won&#39;t help. Try <code>&quot;^(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})$&quot;</code>"},{"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"score":0,"creation_date":1645608380,"post_id":71141363,"comment_id":125914588,"body_markdown":"I would say this is the best approach to handle phone numbers in various format: https://stackoverflow.com/questions/68957158/in-javascript-i-need-a-regular-expression-to-match-balanced-parentheses-in-a-ph/68971652#68971652\n\nYou make a list of valid phone numbers and let Java generate the matching regex for you.","body":"I would say this is the best approach to handle phone numbers in various format: <a href=\"https://stackoverflow.com/questions/68957158/in-javascript-i-need-a-regular-expression-to-match-balanced-parentheses-in-a-ph/68971652#68971652\" title=\"in javascript i need a regular expression to match balanced parentheses in a ph\">stackoverflow.com/questions/68957158/&hellip;</a>  You make a list of valid phone numbers and let Java generate the matching regex for you."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645013790,"creation_date":1645013476,"answer_id":71141637,"question_id":71141363,"body_markdown":"You can  use\r\n```java\r\nPattern p = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})$&quot;);\r\n```\r\nSee the [regex demo][1]. Note that if you use the regex with `.matches()`, you won&#39;t need the `^` and `$` anchors.\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `(?:\\+?(\\d{1,3}?)[- ]?)??` - an optional (lazy) occurrence of an optional `+`, then one, two or three (but as few as possible) digits (Group 1), and then an optional `-` or space\r\n - `(\\d{1,3})??` - Group 2: one or zero, but as few as possible, occurrences of one, two or three digits\r\n - `[- ]?` - an optional space or `-`\r\n - `(\\d{4,10})` - Group 3: four to ten digits\r\n - `$` - end of string.\r\n\r\nIn Java code, you should use `if` instead of `while` as you only need the first match, see a [demo below][2]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n \r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t    String phoneNumber = &quot;+1 234 5678900&quot;;\r\n        Pattern p = Pattern.compile(&quot;(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})&quot;);\r\n        Matcher m = p.matcher(phoneNumber);\r\n \r\n        if (m.matches()) {\r\n            printMatch(&quot;Country Code&quot;, m, 1);\r\n            printMatch(&quot;Local Area Code&quot;, m, 2);\r\n            printMatch(&quot;Number&quot;, m, 3);\r\n        }\r\n\t}\r\n\tpublic static void printMatch(String label, Matcher m, int group) {\r\n        System.out.printf(&quot;%-16s: %s%n&quot;, label, m.group(group));\r\n    }\r\n}\r\n```\r\nyielding\r\n```\r\nCountry Code    : 1\r\nLocal Area Code : 234\r\nNumber          : 5678900\r\n```\r\n\r\n  [1]: https://regex101.com/r/dho7CM/1\r\n  [2]: https://ideone.com/gWxe0F","title":"Is there a way to fix this regex for splitting phone numbers?","body":"<p>You can  use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})$&quot;);\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/dho7CM/1\" rel=\"nofollow noreferrer\">regex demo</a>. Note that if you use the regex with <code>.matches()</code>, you won't need the <code>^</code> and <code>$</code> anchors.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(?:\\+?(\\d{1,3}?)[- ]?)??</code> - an optional (lazy) occurrence of an optional <code>+</code>, then one, two or three (but as few as possible) digits (Group 1), and then an optional <code>-</code> or space</li>\n<li><code>(\\d{1,3})??</code> - Group 2: one or zero, but as few as possible, occurrences of one, two or three digits</li>\n<li><code>[- ]?</code> - an optional space or <code>-</code></li>\n<li><code>(\\d{4,10})</code> - Group 3: four to ten digits</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n<p>In Java code, you should use <code>if</code> instead of <code>while</code> as you only need the first match, see a <a href=\"https://ideone.com/gWxe0F\" rel=\"nofollow noreferrer\">demo below</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n \nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String phoneNumber = &quot;+1 234 5678900&quot;;\n        Pattern p = Pattern.compile(&quot;(?:\\\\+?(\\\\d{1,3}?)[- ]?)??(\\\\d{1,3})??[- ]?(\\\\d{4,10})&quot;);\n        Matcher m = p.matcher(phoneNumber);\n \n        if (m.matches()) {\n            printMatch(&quot;Country Code&quot;, m, 1);\n            printMatch(&quot;Local Area Code&quot;, m, 2);\n            printMatch(&quot;Number&quot;, m, 3);\n        }\n    }\n    public static void printMatch(String label, Matcher m, int group) {\n        System.out.printf(&quot;%-16s: %s%n&quot;, label, m.group(group));\n    }\n}\n</code></pre>\n<p>yielding</p>\n<pre><code>Country Code    : 1\nLocal Area Code : 234\nNumber          : 5678900\n</code></pre>\n"}],"owner":{"display_name":"user15270187"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71141637,"answer_count":1,"score":1,"last_activity_date":1645013790,"creation_date":1645012316,"question_id":71141363,"body_markdown":"Well, a beginner here... I have this regex for Pattern.compile:\r\n\r\n```Pattern pattern = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,3}))?[- ]?(\\\\d{1,3})?[- ]?(\\\\d{4,10})$&quot;);```\r\n\r\nIt is supposed to match these kinds of phone numbers:\r\n\r\n1. +1 234 5678900 // This is how you dial internationally\r\n2. +1-234-5678900 // ...\r\n3. 001 234 5678900 // This is how you dial internationally using 00 instead of +\r\n4. 001-234-5678900 // ...\r\n5. 0234 5678900 // This is how you dial in the same country\r\n6. 0234-5678900 // ...\r\n7. 5678900 // This is how you dial in the same area\r\n\r\nNow it matches and correctly splits the first four but when it comes to options 5, 6 &amp; 7 I get this:\r\n* ```Country Code: 0234```\r\n* ```Local Area Code : 567```\r\n* ```Number : 8900```\r\n\r\nAnd this:\r\n* ```Country Code: 567```\r\n* ```Local Area Code: null```\r\n* ```Number: 8900```\r\n\r\nWhat am I doing wrong or missing?\r\n\r\nThe full code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        String phoneNumber = &quot;+1 234 5678900&quot;;\r\n        Pattern p = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,4}))?[- ]?(\\\\d{1,3})?[- ]?(\\\\d{4,10})$&quot;);\r\n        Matcher m = p.matcher(phoneNumber);\r\n\r\n        while (m.find()) {\r\n            printMatch(&quot;Country Code&quot;, m, 1);\r\n            printMatch(&quot;Local Area Code&quot;, m, 2);\r\n            printMatch(&quot;Number&quot;, m, 3);\r\n        }\r\n        \r\n    }\r\n\r\n    public static void printMatch(String label, Matcher m, int group) {\r\n        System.out.printf(&quot;%-16s: %s%n&quot;, label, m.group(group));\r\n    }\r\n\r\n}\r\n```","title":"Is there a way to fix this regex for splitting phone numbers?","body":"<p>Well, a beginner here... I have this regex for Pattern.compile:</p>\n<p><code>Pattern pattern = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,3}))?[- ]?(\\\\d{1,3})?[- ]?(\\\\d{4,10})$&quot;);</code></p>\n<p>It is supposed to match these kinds of phone numbers:</p>\n<ol>\n<li>+1 234 5678900 // This is how you dial internationally</li>\n<li>+1-234-5678900 // ...</li>\n<li>001 234 5678900 // This is how you dial internationally using 00 instead of +</li>\n<li>001-234-5678900 // ...</li>\n<li>0234 5678900 // This is how you dial in the same country</li>\n<li>0234-5678900 // ...</li>\n<li>5678900 // This is how you dial in the same area</li>\n</ol>\n<p>Now it matches and correctly splits the first four but when it comes to options 5, 6 &amp; 7 I get this:</p>\n<ul>\n<li><code>Country Code: 0234</code></li>\n<li><code>Local Area Code : 567</code></li>\n<li><code>Number : 8900</code></li>\n</ul>\n<p>And this:</p>\n<ul>\n<li><code>Country Code: 567</code></li>\n<li><code>Local Area Code: null</code></li>\n<li><code>Number: 8900</code></li>\n</ul>\n<p>What am I doing wrong or missing?</p>\n<p>The full code:</p>\n<pre><code>public static void main(String[] args) {\n\n        String phoneNumber = &quot;+1 234 5678900&quot;;\n        Pattern p = Pattern.compile(&quot;^(?:\\\\+?(\\\\d{1,4}))?[- ]?(\\\\d{1,3})?[- ]?(\\\\d{4,10})$&quot;);\n        Matcher m = p.matcher(phoneNumber);\n\n        while (m.find()) {\n            printMatch(&quot;Country Code&quot;, m, 1);\n            printMatch(&quot;Local Area Code&quot;, m, 2);\n            printMatch(&quot;Number&quot;, m, 3);\n        }\n        \n    }\n\n    public static void printMatch(String label, Matcher m, int group) {\n        System.out.printf(&quot;%-16s: %s%n&quot;, label, m.group(group));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-workmanager"],"answers":[{"tags":[],"owner":{"account_id":7810703,"reputation":56,"user_id":5906972,"display_name":"Evgeni Vilenchik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645013369,"creation_date":1645013369,"answer_id":71141614,"question_id":70036985,"body_markdown":"just add the following import:\r\n\r\n    implementation &quot;androidx.concurrent:concurrent-futures:1.1.0&quot;\r\n\r\nAs per documentation [AndroidX Concurrent libraries][1]\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/concurrent#declaring_dependencies","title":"Cannot Resolve symbol &#39;CallbackToFutureAdapter&#39; in ListenableWorker","body":"<p>just add the following import:</p>\n<pre><code>implementation &quot;androidx.concurrent:concurrent-futures:1.1.0&quot;\n</code></pre>\n<p>As per documentation <a href=\"https://developer.android.com/jetpack/androidx/releases/concurrent#declaring_dependencies\" rel=\"nofollow noreferrer\">AndroidX Concurrent libraries</a></p>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71141614,"answer_count":1,"score":1,"last_activity_date":1645013369,"creation_date":1637334668,"question_id":70036985,"body_markdown":"I am implementing a ListenableWorker class according to [this official documentation from google][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/advanced/listenableworker\r\n\r\nI am getting the following error Cannot resolve symbol &#39;CallbackToFutureAdapter&#39;\r\n\r\nBelow is the method i am trying to implement \r\n\r\n````\r\nreturn CallbackToFutureAdapter.getFuture(completer -&gt; {\r\n            Callback callback = new Callback() {\r\n                int successes = 0;\r\n\r\n                @Override\r\n                public void onFailure(Call call, IOException e) {\r\n                    completer.setException(e);\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(Call call, Response response) {\r\n                    ++successes;\r\n                    if (successes == 100) {\r\n                        completer.set(Result.success());\r\n                    }\r\n                }\r\n            };\r\n\r\n            completer.addCancellationListener(cancelDownloadsRunnable, executor);\r\n\r\n            for (int i = 0; i &lt; 100; ++i) {\r\n                downloadAsynchronously(&quot;https://www.example.com&quot;, callback);\r\n            }\r\n            return callback;\r\n        });\r\n\r\n````\r\n\r\nwhat should i import to resolve CallbackToFutureAdapter i already have Android X implemented in my app level gradle","title":"Cannot Resolve symbol &#39;CallbackToFutureAdapter&#39; in ListenableWorker","body":"<p>I am implementing a ListenableWorker class according to <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/advanced/listenableworker\" rel=\"nofollow noreferrer\">this official documentation from google</a></p>\n<p>I am getting the following error Cannot resolve symbol 'CallbackToFutureAdapter'</p>\n<p>Below is the method i am trying to implement</p>\n<pre><code>return CallbackToFutureAdapter.getFuture(completer -&gt; {\n            Callback callback = new Callback() {\n                int successes = 0;\n\n                @Override\n                public void onFailure(Call call, IOException e) {\n                    completer.setException(e);\n                }\n\n                @Override\n                public void onResponse(Call call, Response response) {\n                    ++successes;\n                    if (successes == 100) {\n                        completer.set(Result.success());\n                    }\n                }\n            };\n\n            completer.addCancellationListener(cancelDownloadsRunnable, executor);\n\n            for (int i = 0; i &lt; 100; ++i) {\n                downloadAsynchronously(&quot;https://www.example.com&quot;, callback);\n            }\n            return callback;\n        });\n\n</code></pre>\n<p>what should i import to resolve CallbackToFutureAdapter i already have Android X implemented in my app level gradle</p>\n"},{"tags":["java","design-patterns","securitymanager","java-security-manager"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1644934599,"post_id":71127994,"comment_id":125732736,"body_markdown":"whitout any explanation on how you expose the API and classes, it is hardly answerable","body":"whitout any explanation on how you expose the API and classes, it is hardly answerable"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1644934623,"post_id":71127994,"comment_id":125732755,"body_markdown":"https://www.javatpoint.com/access-modifiers","body":"<a href=\"https://www.javatpoint.com/access-modifiers\" rel=\"nofollow noreferrer\">javatpoint.com/access-modifiers</a>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1644934664,"post_id":71127994,"comment_id":125732779,"body_markdown":"In particular, *&quot;**Default:** The access level of a default modifier is only within the package. It cannot be accessed from outside the package. If you do not specify any access level, it will be the default.&quot;*","body":"In particular, <i>&quot;<b>Default:</b> The access level of a default modifier is only within the package. It cannot be accessed from outside the package. If you do not specify any access level, it will be the default.&quot;</i>"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1644934710,"post_id":71127994,"comment_id":125732791,"body_markdown":"The answer to &quot;Is there any way in java to do this without changing the access modifiers of the remaining APIs&quot; is &quot;No.&quot;","body":"The answer to &quot;Is there any way in java to do this without changing the access modifiers of the remaining APIs&quot; is &quot;No.&quot;"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1644934787,"post_id":71127994,"comment_id":125732841,"body_markdown":"And even using access modifiers is no guarantee, given the existence of reflection.  But it doesn&#39;t matter; &quot;package private&quot; is good enough for most purposes.   Bite the bullet and use proper access modifiers.","body":"And even using access modifiers is no guarantee, given the existence of reflection.  But it doesn&#39;t matter; &quot;package private&quot; is good enough for most purposes.   Bite the bullet and use proper access modifiers."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1644940928,"post_id":71127994,"comment_id":125735749,"body_markdown":"Modules could help. Packages not exported are not accessible by other modules.","body":"Modules could help. Packages not exported are not accessible by other modules."}],"owner":{"account_id":1363086,"reputation":11,"user_id":1300073,"display_name":"user1300073"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645013349,"creation_date":1644934516,"question_id":71127994,"body_markdown":"I have a application where users can write their customizations using the exposed public APIs.\r\nThere are few public classes and API that are public but we don&#39;t want them to be accessible in the customization code for the users.\r\nIs there any way in java to do this without changing the access modifiers of the remaining APIs.\r\nI am exploring java security manager, don&#39;t know if it would work, any help would be appreciated. \r\n","title":"Restricting certain public APIs/classes to users in java","body":"<p>I have a application where users can write their customizations using the exposed public APIs.\nThere are few public classes and API that are public but we don't want them to be accessible in the customization code for the users.\nIs there any way in java to do this without changing the access modifiers of the remaining APIs.\nI am exploring java security manager, don't know if it would work, any help would be appreciated.</p>\n"},{"tags":["java","memory","jar","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":24004967,"reputation":1,"user_id":17989264,"display_name":"user17989264"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645013207,"creation_date":1642733488,"answer_id":70795795,"question_id":49134107,"body_markdown":"https://bugs.openjdk.java.net/browse/JDK-8212621\r\nthe finalize method will be removed in jdk9;\r\nThe `finalize` method in `java.util.ZipFile`, `java.util.Inflator`, and `java.util.Deflator` was deprecated for removal in JDK 9 and its implementation was updated to be a no-op.\r\n\r\nso if you upgrade to use jdk 9 or above, there will not such issue in jdk 9.\r\n\r\nfor how to fix in jdk 8, still no idea.\r\n\r\nbrs","title":"A lot of java.util.zip.ZipFile$ZipFileInputStream objects/ Same jars loaded multiple times","body":"<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8212621\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8212621</a>\nthe finalize method will be removed in jdk9;\nThe <code>finalize</code> method in <code>java.util.ZipFile</code>, <code>java.util.Inflator</code>, and <code>java.util.Deflator</code> was deprecated for removal in JDK 9 and its implementation was updated to be a no-op.</p>\n<p>so if you upgrade to use jdk 9 or above, there will not such issue in jdk 9.</p>\n<p>for how to fix in jdk 8, still no idea.</p>\n<p>brs</p>\n"}],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1645013207,"creation_date":1520349217,"question_id":49134107,"body_markdown":"I am checking a heap dump of an Tomcat application which tends to crash when it has increased load right after startup. During the crash I observe an increasing number of unsuccessful attempts to perform `full GC` (6GB max heap size, using `CMS`) and `increased thread count` (ranging from 600 to 2000). MAT reports:\r\n\r\n    One instance of &quot;java.lang.ref.Finalizer&quot; loaded by &quot;&lt;system class loader&gt;&quot; occupies \r\n    5 291 528 160 (94,59%) bytes. The instance is referenced\r\n    by org.python.core.ThreadState @ 0x679fba460 , loaded\r\n    by &quot;org.apache.catalina.loader.ParallelWebappClassLoader @ 0x674d08e88&quot;.\r\n    The memory is accumulated in one instance of &quot;java.lang.ref.Finalizer&quot; loaded\r\n    by &quot;&lt;system class loader&gt;&quot;.\r\n    \r\n    Keywords\r\n    java.lang.ref.Finalizer\r\n    org.apache.catalina.loader.ParallelWebappClassLoader @ 0x674d08e88\r\n\r\nClasses and amount of objects refered by `java.lang.ref.Finalizer`:\r\n\r\n\r\n\r\n \r\n\r\n     ...\r\n     302 org.geoserver.platform.resource.FileSystemResourceStore$FileSystemResource$1\r\n     406 java.net.SocksSocketImpl\r\n     1519 java.util.jar.JarFile\r\n     2075 java.util.zip.Deflater\r\n     2086 org.geotools.map.MapContent\r\n     2094 java.util.Timer$1\r\n     2138 org.geoserver.wms.WMSMapContent\r\n     2328 org.geotools.jdbc.JDBCFeatureReader\r\n     2767 sun.net.www.protocol.jar.URLJarFile\r\n     4106 javax.media.jai.WritableRenderedImageAdapter\r\n     4724 org.geotools.map.FeatureLayer\r\n     5801 java.io.FileInputStream\r\n     8045 java.util.zip.Inflater\r\n    24981 java.util.zip.ZipFile$ZipFileInflaterInputStream\r\n    26772 java.util.zip.ZipFile$ZipFileInputStream\r\n\r\nFiles reffered by `java.util.zip.ZipFile$ZipFileInputStream`:\r\n\r\n      ...\r\n      339 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-metadata-9.4.jar\r\n      345 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/hsqldb-1.8.0.10.jar\r\n      388 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/javassist.jar\r\n      396 /usr/local/tomcat8/lib/orai18n-servlet.jar\r\n      427 /usr/lib/jvm/jdk1.8.0_112/jre/lib/ext/sunjce_provider.jar\r\n      448 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/xstream-1.4.2.jar\r\n      449 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jersey-core-1.17.jar\r\n      474 /usr/local/tomcat8/lib/orai18n.jar\r\n      538 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jersey-server-1.17.jar\r\n      553 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-referencing-9.4.jar\r\n      591 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jts-1.13.jar\r\n      614 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jackson-databind-2.1.4.jar\r\n      679 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-opengis-9.4.jar\r\n      688 /usr/local/tomcat8/webapps/geoserver/WEB-INF/lib/gt-xsd-gml3-15.2.jar\r\n      908 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jai-core-1.1.3.jar\r\n     1023 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-main-9.4.jar\r\n     1161 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/ojdbc6.jar\r\n     1194 /usr/local/tomcat8/lib/orai18n-translation.jar\r\n     1688 /usr/lib/jvm/jdk1.8.0_112/jre/lib/rt.jar\r\n     6631 /usr/local/tomcat8/lib/ojdbc6.jar\r\n\r\n\r\nIt seems strange to me that `jar` files are being loaded multiple times. I would suspect memory leak but since even `jdk1.8.0_112/jre/lib/rt.jar` is loaded 1000+ times I do not know what to think. **So I am looking for an explanation why Java loads same jar files multiple times**. Maybe there is a flag to control this process and I could improve Tomcat&#39;s performance that way. ","title":"A lot of java.util.zip.ZipFile$ZipFileInputStream objects/ Same jars loaded multiple times","body":"<p>I am checking a heap dump of an Tomcat application which tends to crash when it has increased load right after startup. During the crash I observe an increasing number of unsuccessful attempts to perform <code>full GC</code> (6GB max heap size, using <code>CMS</code>) and <code>increased thread count</code> (ranging from 600 to 2000). MAT reports:</p>\n\n<pre><code>One instance of \"java.lang.ref.Finalizer\" loaded by \"&lt;system class loader&gt;\" occupies \n5 291 528 160 (94,59%) bytes. The instance is referenced\nby org.python.core.ThreadState @ 0x679fba460 , loaded\nby \"org.apache.catalina.loader.ParallelWebappClassLoader @ 0x674d08e88\".\nThe memory is accumulated in one instance of \"java.lang.ref.Finalizer\" loaded\nby \"&lt;system class loader&gt;\".\n\nKeywords\njava.lang.ref.Finalizer\norg.apache.catalina.loader.ParallelWebappClassLoader @ 0x674d08e88\n</code></pre>\n\n<p>Classes and amount of objects refered by <code>java.lang.ref.Finalizer</code>:</p>\n\n<pre><code> ...\n 302 org.geoserver.platform.resource.FileSystemResourceStore$FileSystemResource$1\n 406 java.net.SocksSocketImpl\n 1519 java.util.jar.JarFile\n 2075 java.util.zip.Deflater\n 2086 org.geotools.map.MapContent\n 2094 java.util.Timer$1\n 2138 org.geoserver.wms.WMSMapContent\n 2328 org.geotools.jdbc.JDBCFeatureReader\n 2767 sun.net.www.protocol.jar.URLJarFile\n 4106 javax.media.jai.WritableRenderedImageAdapter\n 4724 org.geotools.map.FeatureLayer\n 5801 java.io.FileInputStream\n 8045 java.util.zip.Inflater\n24981 java.util.zip.ZipFile$ZipFileInflaterInputStream\n26772 java.util.zip.ZipFile$ZipFileInputStream\n</code></pre>\n\n<p>Files reffered by <code>java.util.zip.ZipFile$ZipFileInputStream</code>:</p>\n\n<pre><code>  ...\n  339 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-metadata-9.4.jar\n  345 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/hsqldb-1.8.0.10.jar\n  388 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/javassist.jar\n  396 /usr/local/tomcat8/lib/orai18n-servlet.jar\n  427 /usr/lib/jvm/jdk1.8.0_112/jre/lib/ext/sunjce_provider.jar\n  448 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/xstream-1.4.2.jar\n  449 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jersey-core-1.17.jar\n  474 /usr/local/tomcat8/lib/orai18n.jar\n  538 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jersey-server-1.17.jar\n  553 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-referencing-9.4.jar\n  591 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jts-1.13.jar\n  614 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jackson-databind-2.1.4.jar\n  679 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-opengis-9.4.jar\n  688 /usr/local/tomcat8/webapps/geoserver/WEB-INF/lib/gt-xsd-gml3-15.2.jar\n  908 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/jai-core-1.1.3.jar\n 1023 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/gt-main-9.4.jar\n 1161 /usr/local/tomcat8/webapps/my-server/WEB-INF/lib/ojdbc6.jar\n 1194 /usr/local/tomcat8/lib/orai18n-translation.jar\n 1688 /usr/lib/jvm/jdk1.8.0_112/jre/lib/rt.jar\n 6631 /usr/local/tomcat8/lib/ojdbc6.jar\n</code></pre>\n\n<p>It seems strange to me that <code>jar</code> files are being loaded multiple times. I would suspect memory leak but since even <code>jdk1.8.0_112/jre/lib/rt.jar</code> is loaded 1000+ times I do not know what to think. <strong>So I am looking for an explanation why Java loads same jar files multiple times</strong>. Maybe there is a flag to control this process and I could improve Tomcat's performance that way. </p>\n"},{"tags":["java","spring-boot","itext"],"comments":[{"owner":{"account_id":20878403,"reputation":103,"user_id":15336730,"display_name":"kHLVT"},"score":0,"creation_date":1644334416,"post_id":70921938,"comment_id":125576007,"body_markdown":"Can you share your code as a minimal reproducible example along with your output pdf? https://stackoverflow.com/help/minimal-reproducible-example","body":"Can you share your code as a minimal reproducible example along with your output pdf? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":21752026,"reputation":171,"user_id":16057816,"display_name":"Nikita Kovaliov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645013166,"creation_date":1645013166,"answer_id":71141561,"question_id":70921938,"body_markdown":"To create a table with multiple headers use Table#addHeaderCell, as in example below:\r\n\r\nString fileName = &quot;test.pdf&quot;;\r\n\r\n        PdfDocument pdfDocument = new PdfDocument(new PdfWriter(destinationFolder + fileName));\r\n        Document doc = new Document(pdfDocument);\r\n\r\n        Table table = new Table(10).useAllAvailableWidth();\r\n\r\n        table.addHeaderCell(new Cell(1, 5).add(new Paragraph(&quot;2019&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold())\r\n                .setTextAlignment(TextAlignment.CENTER);\r\n        table.addHeaderCell(new Cell(1, 5).add(new Paragraph(&quot;2020&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold())\r\n                .setTextAlignment(TextAlignment.CENTER);\r\n\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            table.addHeaderCell(new Cell().add(new Paragraph(&quot;Number&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\r\n            table.addHeaderCell(\r\n                    new Cell().add(new Paragraph(&quot;Firstname&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\r\n            table.addHeaderCell(new Cell().add(new Paragraph(&quot;Lastname&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\r\n            table.addHeaderCell(new Cell().add(new Paragraph(&quot;City&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\r\n            table.addHeaderCell(new Cell().add(new Paragraph(&quot;Age&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\r\n        }\r\n\r\n        for (int i = 0; i &lt; 70; i++) {\r\n            table.addCell(new Cell().add(new Paragraph(&quot;One&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Two&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Three&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Four&quot;)));\r\n            table.addCell(new Cell().add(new Paragraph(&quot;Five&quot;)));\r\n        }\r\n\r\n        doc.add(table);\r\n        doc.close();\r\n\r\nThe output PDF can be found on image above (not full) [![enter image description here][1]][1]\r\n\r\nIf this doesn&#39;t solve your problem, could you please share your code snippet to investigate it and try to help you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SdgTD.png","title":"How to create a table with multiple headers in iText?","body":"<p>To create a table with multiple headers use Table#addHeaderCell, as in example below:</p>\n<p>String fileName = &quot;test.pdf&quot;;</p>\n<pre><code>    PdfDocument pdfDocument = new PdfDocument(new PdfWriter(destinationFolder + fileName));\n    Document doc = new Document(pdfDocument);\n\n    Table table = new Table(10).useAllAvailableWidth();\n\n    table.addHeaderCell(new Cell(1, 5).add(new Paragraph(&quot;2019&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold())\n            .setTextAlignment(TextAlignment.CENTER);\n    table.addHeaderCell(new Cell(1, 5).add(new Paragraph(&quot;2020&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold())\n            .setTextAlignment(TextAlignment.CENTER);\n\n    for (int i = 0; i &lt; 2; i++) {\n        table.addHeaderCell(new Cell().add(new Paragraph(&quot;Number&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\n        table.addHeaderCell(\n                new Cell().add(new Paragraph(&quot;Firstname&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\n        table.addHeaderCell(new Cell().add(new Paragraph(&quot;Lastname&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\n        table.addHeaderCell(new Cell().add(new Paragraph(&quot;City&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\n        table.addHeaderCell(new Cell().add(new Paragraph(&quot;Age&quot;)).setBackgroundColor(DeviceRgb.BLUE).setBold());\n    }\n\n    for (int i = 0; i &lt; 70; i++) {\n        table.addCell(new Cell().add(new Paragraph(&quot;One&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Two&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Three&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Four&quot;)));\n        table.addCell(new Cell().add(new Paragraph(&quot;Five&quot;)));\n    }\n\n    doc.add(table);\n    doc.close();\n</code></pre>\n<p>The output PDF can be found on image above (not full) <a href=\"https://i.stack.imgur.com/SdgTD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SdgTD.png\" alt=\"enter image description here\" /></a></p>\n<p>If this doesn't solve your problem, could you please share your code snippet to investigate it and try to help you.</p>\n"}],"owner":{"account_id":18267317,"reputation":133,"user_id":13298762,"display_name":"Lucifer Geralt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645013166,"creation_date":1643609993,"question_id":70921938,"body_markdown":"How do I achieve the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCurrently I can get till Single Header Table:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow do I add a column header above a column which will have colspan.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZzmvT.png\r\n  [2]: https://i.stack.imgur.com/wCoVR.png","title":"How to create a table with multiple headers in iText?","body":"<p>How do I achieve the following:</p>\n<p><a href=\"https://i.stack.imgur.com/ZzmvT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZzmvT.png\" alt=\"enter image description here\" /></a></p>\n<p>Currently I can get till Single Header Table:</p>\n<p><a href=\"https://i.stack.imgur.com/wCoVR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wCoVR.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I add a column header above a column which will have colspan.</p>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":1502398,"reputation":3336,"user_id":1527458,"display_name":"Dhinakaran Thennarasu"},"score":0,"creation_date":1414581617,"post_id":26627699,"comment_id":41866647,"body_markdown":"You cant send both together..however you can send text and image seperately.!!","body":"You cant send both together..however you can send text and image seperately.!!"},{"owner":{"account_id":4685253,"reputation":89,"user_id":3792835,"display_name":"Ankit"},"score":0,"creation_date":1414742037,"post_id":26627699,"comment_id":41940200,"body_markdown":"@Dhina , I am using Intent for it but no luck ... ?? not getting send a image to a particular friend which is in whats app. Note that\nImage and Number of friend are passed through intent .\n\nHow to do this?? .. {*_*}","body":"@Dhina , I am using Intent for it but no luck ... ?? not getting send a image to a particular friend which is in whats app. Note that Image and Number of friend are passed through intent .  How to do this?? .. {<i>_</i>}"},{"owner":{"account_id":5163154,"reputation":660,"user_id":4134118,"accept_rate":71,"display_name":"salil vishnu Kapur"},"score":0,"creation_date":1430817652,"post_id":26627699,"comment_id":48212755,"body_markdown":"@Aarastu I am also stuck on the same issue ,here is link to my ques http://stackoverflow.com/questions/30036992/android-getting-an-error-no-application-can-perform-this-action-while-trying/30045265#30045265 :(","body":"@Aarastu I am also stuck on the same issue ,here is link to my ques <a href=\"http://stackoverflow.com/questions/30036992/android-getting-an-error-no-application-can-perform-this-action-while-trying/30045265#30045265\" title=\"android getting an error no application can perform this action while trying\">stackoverflow.com/questions/30036992/&hellip;</a> :("},{"owner":{"account_id":1853465,"reputation":602,"user_id":1679506,"accept_rate":25,"display_name":"Vaishali Sharma"},"score":0,"creation_date":1430820834,"post_id":26627699,"comment_id":48215006,"body_markdown":"Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n\t\tsharingIntent.setType(&quot;text/plain&quot;);\n\t\tsharingIntent.putExtra(Intent.EXTRA_TEXT,  your_text_here);\n\t\tstartActivity(Intent.createChooser(sharingIntent, &quot;share via&quot;));\n\t}","body":"Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND); \t\tsharingIntent.setType(&quot;text/plain&quot;); \t\tsharingIntent.putExtra(Intent.EXTRA_TEXT,  your_text_here); \t\tstartActivity(Intent.createChooser(sharingIntent, &quot;share via&quot;)); \t}"}],"answers":[{"tags":[],"owner":{"account_id":2329696,"reputation":631,"user_id":2043419,"display_name":"Manan Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453381327,"creation_date":1431119714,"answer_id":30132967,"question_id":26627699,"body_markdown":"Earlier it wasn&#39;t possible but since the May &#39;15 update. Checkout :\r\n\r\n    try{\r\n\t\tPackageInfo info = pm.getPackageInfo(&quot;com.whatsapp&quot;, PackageManager.GET_META_DATA);\r\n        Intent sendIntent = new Intent();\r\n\t\tsendIntent.setAction(Intent.ACTION_SEND);\r\n\t\tString sendString = &quot;some random string&quot;;\r\n\t\tsendIntent.setPackage(&quot;com.whatsapp&quot;);\r\n\t\tsendIntent.putExtra(Intent.EXTRA_TEXT, sendString);\r\n\t\tsendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\r\n\t\tsendIntent.setType(&quot;image/*&quot;);\r\n\t\tstartActivity(sendIntent);\r\n\t} catch (Exception e){\r\n\t\t// some code\r\n\t}\r\n\r\nHere PackageInfo line is just to check if WhatsApp is installed. It throws Exception if not. You can just ignore that if you want to do a normal share (and setPackage also).\r\n\r\nAlso. It is important that the media you want to share has to be publicly  available on local storage.\r\n\r\n**UPDATE**\r\n\r\nTo send to a specific contact\r\n  \r\n\r\n    Uri uri = Uri.parse(&quot;smsto:&quot; + &quot;&lt;CONTACT_NUMBER&gt;&quot;);\r\n    Intent i = new Intent(Intent.ACTION_SENDTO, uri);\r\n    i.putExtra(Intent.EXTRA_TEXT, whatsAppMessage);\r\n\r\nAs Action *Send To* is now allowed.","title":"How to Send a Text message and Image through Whatsapp from Own Application with help of Intent in Android?","body":"<p>Earlier it wasn't possible but since the May '15 update. Checkout :</p>\n\n<pre><code>try{\n    PackageInfo info = pm.getPackageInfo(\"com.whatsapp\", PackageManager.GET_META_DATA);\n    Intent sendIntent = new Intent();\n    sendIntent.setAction(Intent.ACTION_SEND);\n    String sendString = \"some random string\";\n    sendIntent.setPackage(\"com.whatsapp\");\n    sendIntent.putExtra(Intent.EXTRA_TEXT, sendString);\n    sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(file));\n    sendIntent.setType(\"image/*\");\n    startActivity(sendIntent);\n} catch (Exception e){\n    // some code\n}\n</code></pre>\n\n<p>Here PackageInfo line is just to check if WhatsApp is installed. It throws Exception if not. You can just ignore that if you want to do a normal share (and setPackage also).</p>\n\n<p>Also. It is important that the media you want to share has to be publicly  available on local storage.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>To send to a specific contact</p>\n\n<pre><code>Uri uri = Uri.parse(\"smsto:\" + \"&lt;CONTACT_NUMBER&gt;\");\nIntent i = new Intent(Intent.ACTION_SENDTO, uri);\ni.putExtra(Intent.EXTRA_TEXT, whatsAppMessage);\n</code></pre>\n\n<p>As Action <em>Send To</em> is now allowed.</p>\n"},{"tags":[],"owner":{"account_id":4957544,"reputation":903,"user_id":3989718,"accept_rate":75,"display_name":"Bhavita Lalwani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1485171678,"creation_date":1485171678,"answer_id":41805567,"question_id":26627699,"body_markdown":"Try using the following solution,\r\n\r\n\r\n                Intent sendIntent = new Intent(&quot;android.intent.action.SEND&quot;);\r\n                File f=new File(&quot;path to the file&quot;);\r\n                Uri uri = Uri.fromFile(f);\r\n                sendIntent.setComponent(new ComponentName(&quot;com.whatsapp&quot;,&quot;com.whatsapp.ContactPicker&quot;));\r\n                sendIntent.setType(&quot;image&quot;);\r\n                sendIntent.putExtra(Intent.EXTRA_STREAM,uri);\r\n                sendIntent.putExtra(&quot;jid&quot;, PhoneNumberUtils.stripSeparators(&quot;919xxxxxxxxx&quot;)+&quot;@s.whatsapp.net&quot;);\r\n                sendIntent.putExtra(Intent.EXTRA_TEXT,&quot;sample text you want to send along with the image&quot;);\r\n                startActivity(sendIntent);\r\n\r\n**EXTRA INFORMATION ABOUT THE PROCESS OF FINDING THE SOLUTION :**\r\n\r\nAfter reverse engineering WhatsApp, I came across the following snippet of Android manifest,\r\n\r\nNormal Share intent, uses &quot;**SEND**&quot; which does not allow you to send to a  specific contact and requires a contact picker.\r\n\r\nThe specific contact is picked up by Conversation class and uses &quot;**SEND_TO**&quot; action, but it uses sms body and can not take up image and other attachments.\r\n\r\n     &lt;activity android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot; android:name=&quot;com.whatsapp.Conversation&quot; android:theme=&quot;@style/Theme.App.CondensedActionBar&quot; android:windowSoftInputMode=&quot;stateUnchanged&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.SENDTO&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n                    &lt;data android:scheme=&quot;sms&quot;/&gt;\r\n                    &lt;data android:scheme=&quot;smsto&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\nDigging further, I came across this, \r\n\r\n     &lt;activity android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode&quot; android:name=&quot;com.whatsapp.ContactPicker&quot; android:theme=&quot;@style/Theme.App.NoActionBar&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.PICK&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                    &lt;category android:name=&quot;com.whatsapp&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;audio/*&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;video/*&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;image/*&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;text/x-vcard&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/pdf&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/msword&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/vnd.ms-excel&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;application/vnd.ms-powerpoint&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;audio/*&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;video/*&quot;/&gt;\r\n                    &lt;data android:mimeType=&quot;image/*&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.VIEW&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot;/&gt;\r\n                    &lt;data android:host=&quot;send&quot; android:scheme=&quot;whatsapp&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n                &lt;meta-data android:name=&quot;android.service.chooser.chooser_target_service&quot; android:value=&quot;.ContactChooserTargetService&quot;/&gt;\r\n            &lt;/activity&gt;\r\nFinally using a decompiler for ContactPicker and Conversation class,the extra key-value for phone number was found to be &quot;**jid**&quot;.\r\n","title":"How to Send a Text message and Image through Whatsapp from Own Application with help of Intent in Android?","body":"<p>Try using the following solution,</p>\n\n<pre><code>            Intent sendIntent = new Intent(\"android.intent.action.SEND\");\n            File f=new File(\"path to the file\");\n            Uri uri = Uri.fromFile(f);\n            sendIntent.setComponent(new ComponentName(\"com.whatsapp\",\"com.whatsapp.ContactPicker\"));\n            sendIntent.setType(\"image\");\n            sendIntent.putExtra(Intent.EXTRA_STREAM,uri);\n            sendIntent.putExtra(\"jid\", PhoneNumberUtils.stripSeparators(\"919xxxxxxxxx\")+\"@s.whatsapp.net\");\n            sendIntent.putExtra(Intent.EXTRA_TEXT,\"sample text you want to send along with the image\");\n            startActivity(sendIntent);\n</code></pre>\n\n<p><strong>EXTRA INFORMATION ABOUT THE PROCESS OF FINDING THE SOLUTION :</strong></p>\n\n<p>After reverse engineering WhatsApp, I came across the following snippet of Android manifest,</p>\n\n<p>Normal Share intent, uses \"<strong>SEND</strong>\" which does not allow you to send to a  specific contact and requires a contact picker.</p>\n\n<p>The specific contact is picked up by Conversation class and uses \"<strong>SEND_TO</strong>\" action, but it uses sms body and can not take up image and other attachments.</p>\n\n<pre><code> &lt;activity android:configChanges=\"keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode\" android:name=\"com.whatsapp.Conversation\" android:theme=\"@style/Theme.App.CondensedActionBar\" android:windowSoftInputMode=\"stateUnchanged\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.SENDTO\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\"/&gt;\n                &lt;data android:scheme=\"sms\"/&gt;\n                &lt;data android:scheme=\"smsto\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>Digging further, I came across this, </p>\n\n<pre><code> &lt;activity android:configChanges=\"keyboard|keyboardHidden|orientation|screenLayout|screenSize|smallestScreenSize|uiMode\" android:name=\"com.whatsapp.ContactPicker\" android:theme=\"@style/Theme.App.NoActionBar\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.PICK\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;category android:name=\"com.whatsapp\"/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.SEND\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;data android:mimeType=\"audio/*\"/&gt;\n                &lt;data android:mimeType=\"video/*\"/&gt;\n                &lt;data android:mimeType=\"image/*\"/&gt;\n                &lt;data android:mimeType=\"text/plain\"/&gt;\n                &lt;data android:mimeType=\"text/x-vcard\"/&gt;\n                &lt;data android:mimeType=\"application/pdf\"/&gt;\n                &lt;data android:mimeType=\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"/&gt;\n                &lt;data android:mimeType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"/&gt;\n                &lt;data android:mimeType=\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"/&gt;\n                &lt;data android:mimeType=\"application/msword\"/&gt;\n                &lt;data android:mimeType=\"application/vnd.ms-excel\"/&gt;\n                &lt;data android:mimeType=\"application/vnd.ms-powerpoint\"/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.SEND_MULTIPLE\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;data android:mimeType=\"audio/*\"/&gt;\n                &lt;data android:mimeType=\"video/*\"/&gt;\n                &lt;data android:mimeType=\"image/*\"/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\"/&gt;\n                &lt;data android:host=\"send\" android:scheme=\"whatsapp\"/&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=\"android.service.chooser.chooser_target_service\" android:value=\".ContactChooserTargetService\"/&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>Finally using a decompiler for ContactPicker and Conversation class,the extra key-value for phone number was found to be \"<strong>jid</strong>\".</p>\n"},{"tags":[],"owner":{"account_id":11096539,"reputation":82,"user_id":8146476,"display_name":"Baljeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497243178,"creation_date":1497234105,"answer_id":44490559,"question_id":26627699,"body_markdown":"I saw many similar questions here by many peoples, and the answer is &quot;Yes, this is possible&quot;. You can send messages directly to Whatsapp from your app without opening Whatsapp, and this can be achieved by using Wear Api and RemoteInput method.\r\n\r\nIt is a bit complicated task, so for reference you can use [this code][1]. It does the same that you are searching for.\r\n\r\n\r\n  [1]: https://github.com/mohak1712/Insta-Chat","title":"How to Send a Text message and Image through Whatsapp from Own Application with help of Intent in Android?","body":"<p>I saw many similar questions here by many peoples, and the answer is \"Yes, this is possible\". You can send messages directly to Whatsapp from your app without opening Whatsapp, and this can be achieved by using Wear Api and RemoteInput method.</p>\n\n<p>It is a bit complicated task, so for reference you can use <a href=\"https://github.com/mohak1712/Insta-Chat\" rel=\"nofollow noreferrer\">this code</a>. It does the same that you are searching for.</p>\n"},{"tags":[],"owner":{"account_id":24275854,"reputation":1,"user_id":18223170,"display_name":"ABHISHEK SHARMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645012903,"creation_date":1645012903,"answer_id":71141491,"question_id":26627699,"body_markdown":"    public static void shareFileOnWhatsapp(Context context, Uri fileUri, String message, String mobile){\r\n            try {\r\n                String number = mobile.replace(&quot;+&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\r\n                number = &quot;91&quot; + number;\r\n                Intent intentShareFile = new Intent(Intent.ACTION_SEND);\r\n                intentShareFile.setType(&quot;*/*&quot;);\r\n                intentShareFile.putExtra(Intent.EXTRA_STREAM, fileUri);\r\n                intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\r\n                        &quot;Share&quot;);\r\n                if (JUtil.isNullOrEmpty(message)) {\r\n                    message = &quot; &quot;;\r\n                }\r\n                intentShareFile.putExtra(Intent.EXTRA_TEXT, message);\r\n                intentShareFile.putExtra(&quot;jid&quot;, number + &quot;@s.whatsapp.net&quot;);\r\n                intentShareFile.setPackage(&quot;com.whatsapp&quot;);\r\n                context.startActivity(Intent.createChooser(intentShareFile, &quot;Share&quot;));\r\n            } catch (Exception e) {\r\n                Log.e(&quot;SHARE&quot;, &quot;Exception occured sharing file&quot;, e);\r\n            }\r\n        }","title":"How to Send a Text message and Image through Whatsapp from Own Application with help of Intent in Android?","body":"<pre><code>public static void shareFileOnWhatsapp(Context context, Uri fileUri, String message, String mobile){\n        try {\n            String number = mobile.replace(&quot;+&quot;, &quot;&quot;).replace(&quot; &quot;, &quot;&quot;);\n            number = &quot;91&quot; + number;\n            Intent intentShareFile = new Intent(Intent.ACTION_SEND);\n            intentShareFile.setType(&quot;*/*&quot;);\n            intentShareFile.putExtra(Intent.EXTRA_STREAM, fileUri);\n            intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\n                    &quot;Share&quot;);\n            if (JUtil.isNullOrEmpty(message)) {\n                message = &quot; &quot;;\n            }\n            intentShareFile.putExtra(Intent.EXTRA_TEXT, message);\n            intentShareFile.putExtra(&quot;jid&quot;, number + &quot;@s.whatsapp.net&quot;);\n            intentShareFile.setPackage(&quot;com.whatsapp&quot;);\n            context.startActivity(Intent.createChooser(intentShareFile, &quot;Share&quot;));\n        } catch (Exception e) {\n            Log.e(&quot;SHARE&quot;, &quot;Exception occured sharing file&quot;, e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4685253,"reputation":89,"user_id":3792835,"display_name":"Ankit"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20292,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1645012903,"creation_date":1414577813,"question_id":26627699,"body_markdown":" I am not able to send both text message and image through whatsapp . Either , I am able to \r\n start that particular contact chat thread without any message or I am only able to send message but not opening that particular contact chat thread.\r\n\r\nI have followed following link :\r\n[http://www.whatsapp.com/faq/en/android/28000012][1]\r\n\r\n[https://stackoverflow.com/questions/15462874/sending-message-through-whatsapp][2]\r\n\r\n[https://stackoverflow.com/questions/18892396/send-whatsapp-message-to-specific-contact][3]\r\n\r\nBut not getting Success :(\r\n\r\nCan anybody help me with this.\r\nHow to Send a Text message and Image through whatsapp from Own Application with help of Intent in Android ?\r\n\r\n\r\n  [1]: http://www.whatsapp.com/faq/en/android/28000012\r\n  [2]: https://stackoverflow.com/questions/15462874/sending-message-through-whatsapp\r\n  [3]: https://stackoverflow.com/questions/18892396/send-whatsapp-message-to-specific-contact","title":"How to Send a Text message and Image through Whatsapp from Own Application with help of Intent in Android?","body":"<p>I am not able to send both text message and image through whatsapp . Either , I am able to \n start that particular contact chat thread without any message or I am only able to send message but not opening that particular contact chat thread.</p>\n\n<p>I have followed following link :\n<a href=\"http://www.whatsapp.com/faq/en/android/28000012\" rel=\"nofollow noreferrer\">http://www.whatsapp.com/faq/en/android/28000012</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/15462874/sending-message-through-whatsapp\">Sending message through WhatsApp</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/18892396/send-whatsapp-message-to-specific-contact\">Send Whatsapp message to specific contact</a></p>\n\n<p>But not getting Success :(</p>\n\n<p>Can anybody help me with this.\nHow to Send a Text message and Image through whatsapp from Own Application with help of Intent in Android ?</p>\n"},{"tags":["java","android","firebase","arraylist","google-cloud-firestore"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1644839952,"post_id":71110361,"comment_id":125704022,"body_markdown":"have you tried setting mUserAdapter.items = mUserList2 and then calling notify ? your code is a bit hard to read but i don&#39;t see where you&#39;re changing the items of the adapter","body":"have you tried setting mUserAdapter.items = mUserList2 and then calling notify ? your code is a bit hard to read but i don&#39;t see where you&#39;re changing the items of the adapter"},{"owner":{"account_id":18997428,"reputation":11,"user_id":13865435,"display_name":"BilalSylver"},"score":0,"creation_date":1644866622,"post_id":71110361,"comment_id":125714070,"body_markdown":"@a_local_nobody i edited my post a add the adapter class its very basic","body":"@a_local_nobody i edited my post a add the adapter class its very basic"},{"owner":{"account_id":18997428,"reputation":11,"user_id":13865435,"display_name":"BilalSylver"},"score":0,"creation_date":1644867937,"post_id":71110361,"comment_id":125714490,"body_markdown":"@a_local_nobody i didnt understand what do you mean by mUserAdapter.items = mUserList2","body":"@a_local_nobody i didnt understand what do you mean by mUserAdapter.items = mUserList2"},{"owner":{"account_id":18997428,"reputation":11,"user_id":13865435,"display_name":"BilalSylver"},"score":0,"creation_date":1645012626,"post_id":71110361,"comment_id":125756061,"body_markdown":"Can any one help me please","body":"Can any one help me please"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1645013061,"post_id":71110361,"comment_id":125756248,"body_markdown":"look at other examples of people using recyclerviews, usually people have a method which would do something like `updateItems { this.mUserList = newItems notifyDatasetChanged  }`, use that instead of what you&#39;re doing in your `onSuccess`","body":"look at other examples of people using recyclerviews, usually people have a method which would do something like <code>updateItems { this.mUserList = newItems notifyDatasetChanged  }</code>, use that instead of what you&#39;re doing in your <code>onSuccess</code>"}],"owner":{"account_id":18997428,"reputation":11,"user_id":13865435,"display_name":"BilalSylver"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645012490,"creation_date":1644834510,"question_id":71110361,"body_markdown":"What i want to do is to show to the user only person who are in same city as him for that i used location and geocoder and i retrieve the data and store it in firestore and i use recyclerview to display the list of user who are in the same area, now my problem is when a new user is added or change his location to be the same as the current user, firestore data are updating normally and the recyclerview are refreshed automatically, but if a user quit the city (change his location) firestore is updating but the recyclerview is not.\r\nNow i dont know if i can just adjust my code and using notifyItemRemoved() or i should create a new collection in firestore for each city and add users who are there.\r\nThere is my main code\r\n\r\n    private void getUsers() { //Get only users who are in same city\r\n        DocumentReference currentUser = userRef.document(FirebaseAuth.getInstance().getUid());\r\n\r\n        userRef.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                if (error != null){\r\n                    Log.e(TAG, &quot;Firestore error&quot; + error.getMessage());\r\n                    return;\r\n                }\r\n                if(value != null){\r\n                    for (DocumentChange doc : value.getDocumentChanges()){\r\n                        User user = doc.getDocument().toObject(User.class);\r\n                        mUserList.add(user); // userlist contain all user\r\n                        Log.d(TAG, &quot;userlist1: &quot;+mUserList);\r\n                    }\r\n                    for (User user1 : mUserList){\r\n                        currentUser.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n                            @Override\r\n                            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                                if (user1.getLocation() != null \r\n                                        &amp;&amp; user1.getLocation().equals(documentSnapshot.toObject(User.class).getLocation())){\r\n                                    mUserList2.add(user1); // userlist2 contain only user in same city}\r\n                                mUserAdapter.notifyDataSetChanged();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void getUserPosition(){ // retrieve the user location and store it in firestore \r\n        fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Location&gt; task) {\r\n                //Initialize location\r\n                Location location = task.getResult();\r\n                if (location != null){\r\n                    try {\r\n                        //Initialize GeoCoder\r\n                        Geocoder geocoder = new Geocoder(MainActivity.this,\r\n                                Locale.getDefault());\r\n                        //Initialize address list\r\n                        List&lt;Address&gt; addresses = geocoder.getFromLocation(\r\n                                location.getLatitude(), location.getLongitude(), 1\r\n                        );\r\n                        //setLocation in firestore\r\n                        userRef.document(FirebaseAuth.getInstance().getUid())\r\n                                .update(&quot;location&quot;, &quot;&quot;+Html.fromHtml(addresses.get(0).\r\n                                getCountryName()+&quot;, &quot;+addresses.get(0).getLocality()));\r\n                    }catch (IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n**EDITB 1**\r\nMy adapter class :\r\n    private Context mContext;\r\n    private ArrayList&lt;User&gt; mUserList;\r\n\r\n    public UserAdapter(Context mContext, ArrayList&lt;User&gt; mUserList) {\r\n        this.mContext = mContext;\r\n        this.mUserList = mUserList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(mContext).inflate(R.layout.user_item, parent, false);\r\n        return new UserHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UserHolder holder, int position) {\r\n\r\n        User mUser = mUserList.get(position);\r\n        holder.username.setText(mUser.getUsername());\r\n        holder.email.setText(mUser.getEmail());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mUserList.size();\r\n    }\r\n\r\n    public static class UserHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView username;\r\n        private TextView email;\r\n\r\n        public UserHolder(View itemView) {\r\n            super(itemView);\r\n            username = itemView.findViewById(R.id.username);\r\n            email = itemView.findViewById(R.id.email);\r\n        }\r\n    }","title":"Recyclerview dont refresh after removed item from firestore","body":"<p>What i want to do is to show to the user only person who are in same city as him for that i used location and geocoder and i retrieve the data and store it in firestore and i use recyclerview to display the list of user who are in the same area, now my problem is when a new user is added or change his location to be the same as the current user, firestore data are updating normally and the recyclerview are refreshed automatically, but if a user quit the city (change his location) firestore is updating but the recyclerview is not.\nNow i dont know if i can just adjust my code and using notifyItemRemoved() or i should create a new collection in firestore for each city and add users who are there.\nThere is my main code</p>\n<pre><code>private void getUsers() { //Get only users who are in same city\n    DocumentReference currentUser = userRef.document(FirebaseAuth.getInstance().getUid());\n\n    userRef.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n\n            if (error != null){\n                Log.e(TAG, &quot;Firestore error&quot; + error.getMessage());\n                return;\n            }\n            if(value != null){\n                for (DocumentChange doc : value.getDocumentChanges()){\n                    User user = doc.getDocument().toObject(User.class);\n                    mUserList.add(user); // userlist contain all user\n                    Log.d(TAG, &quot;userlist1: &quot;+mUserList);\n                }\n                for (User user1 : mUserList){\n                    currentUser.get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            if (user1.getLocation() != null \n                                    &amp;&amp; user1.getLocation().equals(documentSnapshot.toObject(User.class).getLocation())){\n                                mUserList2.add(user1); // userlist2 contain only user in same city}\n                            mUserAdapter.notifyDataSetChanged();\n                        }\n                    });\n                }\n            }\n        }\n    });\n}\n\n\nprivate void getUserPosition(){ // retrieve the user location and store it in firestore \n    fusedLocationProviderClient.getLastLocation().addOnCompleteListener(new OnCompleteListener&lt;Location&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Location&gt; task) {\n            //Initialize location\n            Location location = task.getResult();\n            if (location != null){\n                try {\n                    //Initialize GeoCoder\n                    Geocoder geocoder = new Geocoder(MainActivity.this,\n                            Locale.getDefault());\n                    //Initialize address list\n                    List&lt;Address&gt; addresses = geocoder.getFromLocation(\n                            location.getLatitude(), location.getLongitude(), 1\n                    );\n                    //setLocation in firestore\n                    userRef.document(FirebaseAuth.getInstance().getUid())\n                            .update(&quot;location&quot;, &quot;&quot;+Html.fromHtml(addresses.get(0).\n                            getCountryName()+&quot;, &quot;+addresses.get(0).getLocality()));\n                }catch (IOException e){\n                    e.printStackTrace();\n                }\n            }\n        }\n    });\n}\n</code></pre>\n<p><strong>EDITB 1</strong>\nMy adapter class :\nprivate Context mContext;\nprivate ArrayList mUserList;</p>\n<pre><code>public UserAdapter(Context mContext, ArrayList&lt;User&gt; mUserList) {\n    this.mContext = mContext;\n    this.mUserList = mUserList;\n}\n\n@NonNull\n@Override\npublic UserHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(mContext).inflate(R.layout.user_item, parent, false);\n    return new UserHolder(v);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull UserHolder holder, int position) {\n\n    User mUser = mUserList.get(position);\n    holder.username.setText(mUser.getUsername());\n    holder.email.setText(mUser.getEmail());\n\n}\n\n@Override\npublic int getItemCount() {\n    return mUserList.size();\n}\n\npublic static class UserHolder extends RecyclerView.ViewHolder {\n\n    private TextView username;\n    private TextView email;\n\n    public UserHolder(View itemView) {\n        super(itemView);\n        username = itemView.findViewById(R.id.username);\n        email = itemView.findViewById(R.id.email);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","maven"],"answers":[{"tags":[],"owner":{"account_id":1472535,"reputation":132,"user_id":1383710,"accept_rate":67,"display_name":"Jaison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645012462,"creation_date":1645012462,"answer_id":71141399,"question_id":71140973,"body_markdown":"External HTTP insecure URLs are now blocked by default. Details are here https://maven.apache.org/docs/3.8.1/release-notes.html\r\n\r\nTry this config for your mirror if you trust this repo: \r\n\r\n    &lt;mirror&gt;\r\n          &lt;id&gt;mirrorId&lt;/id&gt;\r\n          &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\r\n          &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\r\n          &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\r\n          &lt;blocked&gt;false&lt;/blocked&gt;\r\n    &lt;/mirror&gt;\r\n\r\n","title":"Can&#39;t unblock maven mirror block (I need to update the methods)","body":"<p>External HTTP insecure URLs are now blocked by default. Details are here <a href=\"https://maven.apache.org/docs/3.8.1/release-notes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/docs/3.8.1/release-notes.html</a></p>\n<p>Try this config for your mirror if you trust this repo:</p>\n<pre><code>&lt;mirror&gt;\n      &lt;id&gt;mirrorId&lt;/id&gt;\n      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\n      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\n      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\n      &lt;blocked&gt;false&lt;/blocked&gt;\n&lt;/mirror&gt;\n</code></pre>\n"}],"owner":{"account_id":24193882,"reputation":1,"user_id":18152741,"display_name":"Mary Levin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645012462,"creation_date":1645010844,"question_id":71140973,"body_markdown":"I found my self with the &quot;blocked mirror&quot; error when building the maven project. \r\nI&#39;m trying some ways to correct this error:\r\n\r\n1. I replaced the version of maven.\r\n2. I checked the file (local-settings.xml) and I not found the row with the blocking:\r\n    ```xml\r\n    &lt;mirror&gt;\r\n          &lt;id&gt;mirrorId&lt;/id&gt;\r\n          &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\r\n          &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\r\n          &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\r\n    &lt;/mirror&gt;\r\n    ```\r\nMy project still doesn&#39;t run. \r\n\r\nIf I replace the repository in my file (in the pom.xml) to repository from the mvnrepository.com, I need to update the method &quot;swipe&quot;...but I don&#39;t know how?\r\n\r\nThis is what appears in my file:\r\n\r\n```\r\n@Step (&quot;Swipe&quot;)\r\npublic static void swipe (int startX, int startY, int endX, int endY, int duration) {\r\n    Uninterruptibles.sleepUninterruptibly(500, \r\n    TimeUnit.MILLISECONDS);\r\n}\r\n```\r\n","title":"Can&#39;t unblock maven mirror block (I need to update the methods)","body":"<p>I found my self with the &quot;blocked mirror&quot; error when building the maven project.\nI'm trying some ways to correct this error:</p>\n<ol>\n<li>I replaced the version of maven.</li>\n<li>I checked the file (local-settings.xml) and I not found the row with the blocking:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mirror&gt;\n      &lt;id&gt;mirrorId&lt;/id&gt;\n      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;\n      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;\n      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;\n&lt;/mirror&gt;\n</code></pre>\n</li>\n</ol>\n<p>My project still doesn't run.</p>\n<p>If I replace the repository in my file (in the pom.xml) to repository from the mvnrepository.com, I need to update the method &quot;swipe&quot;...but I don't know how?</p>\n<p>This is what appears in my file:</p>\n<pre><code>@Step (&quot;Swipe&quot;)\npublic static void swipe (int startX, int startY, int endX, int endY, int duration) {\n    Uninterruptibles.sleepUninterruptibly(500, \n    TimeUnit.MILLISECONDS);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","interface","tuples"],"comments":[{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":0,"creation_date":1645418791,"post_id":71066005,"comment_id":125857679,"body_markdown":"Please follow a Java tutorial on how to implement an interface in Java. If your implementation has specific technical issues then feel free to ask again.","body":"Please follow a Java tutorial on how to implement an interface in Java. If your implementation has specific technical issues then feel free to ask again."}],"answers":[{"tags":[],"owner":{"account_id":17782334,"reputation":19,"user_id":12913257,"display_name":"RhishHatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645012195,"creation_date":1645012195,"answer_id":71141328,"question_id":71066005,"body_markdown":"This turns out to be a basic question. Here&#39;s how I fixed this. I just created an anonymous class object. Only 1 overridden method has implementation because that is all I required.\r\n\r\n    Tuple myTuple = new Tuple() {\r\n\r\n            @Override\r\n            public &lt;X&gt; X get(TupleElement&lt;X&gt; tupleElement) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public &lt;X&gt; X get(String s, Class&lt;X&gt; aClass) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Object get(String s) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public &lt;X&gt; X get(int i, Class&lt;X&gt; aClass) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Object get(int i) {\r\n                Map&lt;Integer, Object&gt; tuple = new HashMap&lt;&gt;();\r\n                tuple.put(0, myObject);\r\n                tuple.put(1, myId);\r\n                return tuple.get(i);\r\n            }\r\n\r\n            @Override\r\n            public Object[] toArray() {\r\n                return new Object[0];\r\n            }\r\n\r\n            @Override\r\n            public List&lt;TupleElement&lt;?&gt;&gt; getElements() {\r\n                return null;\r\n            }\r\n        };","title":"How to create a Tuple object? javax.persistence.Tuple","body":"<p>This turns out to be a basic question. Here's how I fixed this. I just created an anonymous class object. Only 1 overridden method has implementation because that is all I required.</p>\n<pre><code>Tuple myTuple = new Tuple() {\n\n        @Override\n        public &lt;X&gt; X get(TupleElement&lt;X&gt; tupleElement) {\n            return null;\n        }\n\n        @Override\n        public &lt;X&gt; X get(String s, Class&lt;X&gt; aClass) {\n            return null;\n        }\n\n        @Override\n        public Object get(String s) {\n            return null;\n        }\n\n        @Override\n        public &lt;X&gt; X get(int i, Class&lt;X&gt; aClass) {\n            return null;\n        }\n\n        @Override\n        public Object get(int i) {\n            Map&lt;Integer, Object&gt; tuple = new HashMap&lt;&gt;();\n            tuple.put(0, myObject);\n            tuple.put(1, myId);\n            return tuple.get(i);\n        }\n\n        @Override\n        public Object[] toArray() {\n            return new Object[0];\n        }\n\n        @Override\n        public List&lt;TupleElement&lt;?&gt;&gt; getElements() {\n            return null;\n        }\n    };\n</code></pre>\n"}],"owner":{"account_id":17782334,"reputation":19,"user_id":12913257,"display_name":"RhishHatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2618,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1645012195,"creation_date":1644499891,"question_id":71066005,"body_markdown":"I understand that Tuple (javax.persistence.Tuple) is an interface. But how do I create an object with that interface? I need to build a Tuple with my custom object and a string, so (MyObject, String). Is there an existing implementation available or do I need to write a new class?","title":"How to create a Tuple object? javax.persistence.Tuple","body":"<p>I understand that Tuple (javax.persistence.Tuple) is an interface. But how do I create an object with that interface? I need to build a Tuple with my custom object and a string, so (MyObject, String). Is there an existing implementation available or do I need to write a new class?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11667234,"reputation":71,"user_id":8543578,"display_name":"Mohammad Javad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645012157,"creation_date":1644982076,"answer_id":71136044,"question_id":71135726,"body_markdown":"I understand what you wan to do, so I tested a few ways and got this:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tAnnotationConfigReactiveWebServerApplicationContext context;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tcontext.registerBean(&quot;jms&quot;, Bean1.class, () -&gt; new Bean1());\r\n\t\tvar jmsBean1 = context.getBean(Bean1.class);\r\n\t\tjmsBean1.hello();\r\n\t\tvar jmsBean2 = context.getBean(Bean1.class);\r\n\r\n\t\tcontext.removeBeanDefinition(&quot;jms&quot;);\r\n\r\n\t\tcontext.registerBean(&quot;jms&quot;, Bean1.class, () -&gt; new Bean1());\r\n\t\tvar jmsBean3 = context.getBean(Bean1.class);\r\n\r\n\t\tSystem.out.println(jmsBean1.hashCode());\r\n\t\tSystem.out.println(jmsBean2.hashCode());\r\n\t\tSystem.out.println(jmsBean1 == jmsBean2);\r\n\t\tSystem.out.println(jmsBean3.hashCode());\r\n\t\tSystem.out.println(jmsBean1 == jmsBean3);\r\n\r\n\t}\r\n\r\n}\r\n\r\nclass Bean1 {\r\n\tpublic void hello() {\r\n\t\tSystem.out.println(&quot;hello&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nthe result is :\r\n```\r\nhello\r\n405390165 // jmsBean1 hashcode -&gt; singleton\r\n405390165 //jmsBean2 hashcode -&gt; singleton\r\ntrue // jmsBean1 == jmsBean2\r\n1182556970 // jmsBean3 hashcode\r\nfalse // jmsBean3 is different object\r\n```\r\n\r\nAs you can see the default bean scope is singleton when you register new bean.&lt;br /&gt;\r\n**Note** : after remove bean definition try not to keep reference to old object because of JVM GC\r\n\r\n\r\ntested on :\r\nSpring boot (v2.6.3)&lt;br /&gt;\r\nspring framework (5.3.15)\r\n\r\nMy test project was Reactive Web project because of that you saw ReacttiveApplicationContext injected, depends on your project you have to inject your context type.","title":"How to programmatically refresh spring bean","body":"<p>I understand what you wan to do, so I tested a few ways and got this:</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    AnnotationConfigReactiveWebServerApplicationContext context;\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        context.registerBean(&quot;jms&quot;, Bean1.class, () -&gt; new Bean1());\n        var jmsBean1 = context.getBean(Bean1.class);\n        jmsBean1.hello();\n        var jmsBean2 = context.getBean(Bean1.class);\n\n        context.removeBeanDefinition(&quot;jms&quot;);\n\n        context.registerBean(&quot;jms&quot;, Bean1.class, () -&gt; new Bean1());\n        var jmsBean3 = context.getBean(Bean1.class);\n\n        System.out.println(jmsBean1.hashCode());\n        System.out.println(jmsBean2.hashCode());\n        System.out.println(jmsBean1 == jmsBean2);\n        System.out.println(jmsBean3.hashCode());\n        System.out.println(jmsBean1 == jmsBean3);\n\n    }\n\n}\n\nclass Bean1 {\n    public void hello() {\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>the result is :</p>\n<pre><code>hello\n405390165 // jmsBean1 hashcode -&gt; singleton\n405390165 //jmsBean2 hashcode -&gt; singleton\ntrue // jmsBean1 == jmsBean2\n1182556970 // jmsBean3 hashcode\nfalse // jmsBean3 is different object\n</code></pre>\n<p>As you can see the default bean scope is singleton when you register new bean.<br />\n<strong>Note</strong> : after remove bean definition try not to keep reference to old object because of JVM GC</p>\n<p>tested on :\nSpring boot (v2.6.3)<br />\nspring framework (5.3.15)</p>\n<p>My test project was Reactive Web project because of that you saw ReacttiveApplicationContext injected, depends on your project you have to inject your context type.</p>\n"}],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":970,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71136044,"answer_count":1,"score":0,"last_activity_date":1645012157,"creation_date":1644978776,"question_id":71135726,"body_markdown":"We have a Spring application responsible for doing some integration work that is expected to be up and running 24 x 7.\r\n\r\nOne of the integration patterns we use is JMS messaging using a bunch of clustered IBM MQ queue managers. With clustered IBM MQ queue managers if one of the queue manager goes down you need to reinstantiate the Queue Connection Factory beans in order for the connectivity to work with the remaining queue managers that are still up.\r\n\r\nWe put in place JMS health checks and the status of the IBM MQ queue managers changes we programatically restart the spring context and as a result the Queue Connection Factory beans get recreated and everything works just fine.\r\n\r\nHowever this is not ideal for us because other parts of our application not related to IBM MQ works just fine and actually can be in the middle of processing stuff. Because of this we would prefer to only recreate the JMS context, pretty much recreating the Queue Connection Factory beans and a few other beans that depend on those (message listener containers, JmsTemplats, etc) rather than restarting the whole application context.\r\n\r\nI found this post [how-to-reinitialize-a-spring-bean][1] and tried to implement solution **2)Delete &amp; Register bean in registry** but I could not get it to work.\r\n\r\n    // If I call below:\r\n    beanFactory.destroySingleton(qcfName);\r\n    var qcf = jmsConfig.connectionFactory();\r\n    beanFactory.registerSingleton(qcfName, qcf);\r\n    \r\n    // I get this exception:\r\n    Could not register object [org.springframework.cloud.sleuth.instrument.messaging.LazyConnectionFactory@5a0fb814] under bean name &#39;connectionFactory&#39;:\r\n    there is already object [org.springframework.cloud.sleuth.instrument.messaging.LazyConnectionFactory@5a0fb814] bound\r\n\r\n\r\n    // If I call below:\r\n    beanFactory.destroySingleton(qcfName);\r\n    beanFactory.removeBeanDefinition(qcfName);\r\n    var qcf = jmsConfig.connectionFactory();\r\n    beanFactory.registerSingleton(qcfName, qcf);\r\n    \r\n    // I am getting this exception:\r\n    No bean named &#39;connectionFactory&#39; available\r\n\r\nI tried some other permutations such as `destroyBean` but I could not get it to work.\r\n\r\nAny idea what I am doing wrong and how should I fix it?\r\nThank you in advance for your inputs.\r\n\r\n  [1]: https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean","title":"How to programmatically refresh spring bean","body":"<p>We have a Spring application responsible for doing some integration work that is expected to be up and running 24 x 7.</p>\n<p>One of the integration patterns we use is JMS messaging using a bunch of clustered IBM MQ queue managers. With clustered IBM MQ queue managers if one of the queue manager goes down you need to reinstantiate the Queue Connection Factory beans in order for the connectivity to work with the remaining queue managers that are still up.</p>\n<p>We put in place JMS health checks and the status of the IBM MQ queue managers changes we programatically restart the spring context and as a result the Queue Connection Factory beans get recreated and everything works just fine.</p>\n<p>However this is not ideal for us because other parts of our application not related to IBM MQ works just fine and actually can be in the middle of processing stuff. Because of this we would prefer to only recreate the JMS context, pretty much recreating the Queue Connection Factory beans and a few other beans that depend on those (message listener containers, JmsTemplats, etc) rather than restarting the whole application context.</p>\n<p>I found this post <a href=\"https://stackoverflow.com/questions/51218086/how-to-reinitialize-a-spring-bean\">how-to-reinitialize-a-spring-bean</a> and tried to implement solution <strong>2)Delete &amp; Register bean in registry</strong> but I could not get it to work.</p>\n<pre><code>// If I call below:\nbeanFactory.destroySingleton(qcfName);\nvar qcf = jmsConfig.connectionFactory();\nbeanFactory.registerSingleton(qcfName, qcf);\n\n// I get this exception:\nCould not register object [org.springframework.cloud.sleuth.instrument.messaging.LazyConnectionFactory@5a0fb814] under bean name 'connectionFactory':\nthere is already object [org.springframework.cloud.sleuth.instrument.messaging.LazyConnectionFactory@5a0fb814] bound\n\n\n// If I call below:\nbeanFactory.destroySingleton(qcfName);\nbeanFactory.removeBeanDefinition(qcfName);\nvar qcf = jmsConfig.connectionFactory();\nbeanFactory.registerSingleton(qcfName, qcf);\n\n// I am getting this exception:\nNo bean named 'connectionFactory' available\n</code></pre>\n<p>I tried some other permutations such as <code>destroyBean</code> but I could not get it to work.</p>\n<p>Any idea what I am doing wrong and how should I fix it?\nThank you in advance for your inputs.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1645011515,"post_id":71139551,"comment_id":125755601,"body_markdown":"@pburgr that should be an answer.","body":"@pburgr that should be an answer."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645012091,"creation_date":1645012091,"answer_id":71141303,"question_id":71139551,"body_markdown":"If element is not found `org.openqa.selenium.NoSuchElementException` is thrown. So in the case `S` is `null` the code is not gonna run to the `if` condition. Better approach is:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By...)); \r\n\r\ncombined with:\r\n\r\n    if (elements.size() &gt; 0) {\r\n       WebElement element = elements.get(0); \r\n       // do something with the element\r\n    }","title":"How to use if/else for image condition in selenium webdriver?","body":"<p>If element is not found <code>org.openqa.selenium.NoSuchElementException</code> is thrown. So in the case <code>S</code> is <code>null</code> the code is not gonna run to the <code>if</code> condition. Better approach is:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By...)); \n</code></pre>\n<p>combined with:</p>\n<pre><code>if (elements.size() &gt; 0) {\n   WebElement element = elements.get(0); \n   // do something with the element\n}\n</code></pre>\n"}],"owner":{"account_id":24201415,"reputation":1,"user_id":18159196,"display_name":"reboot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645012091,"creation_date":1645005127,"question_id":71139551,"body_markdown":"In selenium webdriver i want to use if/else condition with java. Each steps need to be checked and need to execute one by one. For example\r\n    \r\n    WebElement S = driver.findElement(By.xpath(&quot;//img[contains(@src,&#39;hash=A8901BC412112F73A9E06E7A8832F15C&#39;)]&quot;));\r\n    Actions action = new Actions(driver);\r\n    action.moveToElement(S);\r\n    if (S!= null);\r\n    action.click().perform();\r\n\r\n\r\nIn this code, i need to check the Image once it present it need to perform the action else it need to skip the test case not to be failed.","title":"How to use if/else for image condition in selenium webdriver?","body":"<p>In selenium webdriver i want to use if/else condition with java. Each steps need to be checked and need to execute one by one. For example</p>\n<pre><code>WebElement S = driver.findElement(By.xpath(&quot;//img[contains(@src,'hash=A8901BC412112F73A9E06E7A8832F15C')]&quot;));\nActions action = new Actions(driver);\naction.moveToElement(S);\nif (S!= null);\naction.click().perform();\n</code></pre>\n<p>In this code, i need to check the Image once it present it need to perform the action else it need to skip the test case not to be failed.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7712756,"reputation":95,"user_id":5841545,"display_name":"Neeraj Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645011705,"creation_date":1645011705,"answer_id":71141203,"question_id":71140981,"body_markdown":"IMO It is better to have a specific method in your Service A for your use case for Service B. \r\nOr you can create a separate DTO for service B requirement and return that with a new method from service A. \r\nIn any case you should not use repository A from service B.","title":"Can Service class have repositories of other entities?","body":"<p>IMO It is better to have a specific method in your Service A for your use case for Service B.\nOr you can create a separate DTO for service B requirement and return that with a new method from service A.\nIn any case you should not use repository A from service B.</p>\n"}],"owner":{"display_name":"user15599360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645011705,"creation_date":1645010890,"question_id":71140981,"body_markdown":"Let&#39;s say we have `Entity A` and `Entity B`.\r\nCan I directly call repository methods of `Entity A` from `Service B`?\r\nOr I need to do it like this `Service B` -&gt; `Service A` -&gt; `Repository A`.\r\n\r\nThe problem is that I have DTOs and all service methods return dtos. but for my `Service B` I need an actual object, what to do in that kind of situation?","title":"Can Service class have repositories of other entities?","body":"<p>Let's say we have <code>Entity A</code> and <code>Entity B</code>.\nCan I directly call repository methods of <code>Entity A</code> from <code>Service B</code>?\nOr I need to do it like this <code>Service B</code> -&gt; <code>Service A</code> -&gt; <code>Repository A</code>.</p>\n<p>The problem is that I have DTOs and all service methods return dtos. but for my <code>Service B</code> I need an actual object, what to do in that kind of situation?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":1,"creation_date":1644702702,"post_id":71032528,"comment_id":125678035,"body_markdown":"Your code compiles fine for me. Which lombok and Java version are you using? Try replacing `val` with the actual type (`PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;`).","body":"Your code compiles fine for me. Which lombok and Java version are you using? Try replacing <code>val</code> with the actual type (<code>PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;</code>)."},{"owner":{"account_id":24048349,"reputation":88,"user_id":18027119,"display_name":"Shoshi Schwartz"},"score":0,"creation_date":1644760603,"post_id":71032528,"comment_id":125686276,"body_markdown":"Wow! using PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt; instead of val solved the issue. Many thanks!!!","body":"Wow! using PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt; instead of val solved the issue. Many thanks!!!"}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645011243,"creation_date":1645011243,"answer_id":71141079,"question_id":71032528,"body_markdown":"`@SuperBuilder(toBuilder=true)` supports generic classes and refining the type parameter from the superclass in the subclass. So your classes and their annotations are fine.\r\n\r\nHowever, lombok sometimes has problems inferring the correct type for `val`, especially when type parameters are involved.\r\n\r\nThe solution is to replace `val` with the actual type `PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;`.","title":"Lombok @SuperBuilder on abstract class with generic cause error: incompatible types","body":"<p><code>@SuperBuilder(toBuilder=true)</code> supports generic classes and refining the type parameter from the superclass in the subclass. So your classes and their annotations are fine.</p>\n<p>However, lombok sometimes has problems inferring the correct type for <code>val</code>, especially when type parameters are involved.</p>\n<p>The solution is to replace <code>val</code> with the actual type <code>PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;</code>.</p>\n"}],"owner":{"account_id":24048349,"reputation":88,"user_id":18027119,"display_name":"Shoshi Schwartz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5111,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71141079,"answer_count":1,"score":5,"last_activity_date":1645011243,"creation_date":1644317126,"question_id":71032528,"body_markdown":"I have abstract class with generic type. it has abstract toBuilder method as suggested here: https://stackoverflow.com/questions/61633821/using-lombok-superbuilder-annotation-with-tobuilder-on-an-abstract-class \r\n## here is the abstract class:\r\n\r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    public abstract class TenantConfItem&lt;T extends DeepCloneable&lt;T&gt;&gt; {\r\n    \r\n        private final URN urn;\r\n    \r\n        private final Long version;\r\n    \r\n        private final T configData;\r\n    \r\n        public abstract TenantConfItemBuilder&lt;T, ?, ?&gt; toBuilder();\r\n    \r\n        public TenantConfItem&lt;T&gt; copy() {\r\n            return this.toBuilder().build();\r\n        }\r\n    }\r\n\r\nthe subtype:\r\n\r\n    @SuperBuilder(toBuilder = true)\r\n    @EqualsAndHashCode(callSuper = true)\r\n    public class PointsExpirationByEarnedDatePolicy extends TenantConfItem&lt;ExpirationByEarnedDate&gt; implements Singleton {\r\n    \r\n    }\r\n\r\nhere I&#39;m using its builder:\r\n\r\n    val policyBuilder = PointsExpirationByEarnedDatePolicy.builder()\r\n                    .version(0L)\r\n                    .configData(new ExpirationByEarnedDate(retentionDays));\r\n\r\nbut I get an error for the configData:\r\n\r\n    error: incompatible types: CAP#1 cannot be converted to ?\r\n                    .configData(new ExpirationByEarnedDate(retentionDays));\r\n                               ^\r\n      where CAP#1,CAP#2 are fresh type-variables:\r\n        CAP#1 extends PointsExpirationByEarnedDatePolicyBuilder&lt;CAP#2,CAP#1&gt; from capture of ?\r\n        CAP#2 extends PointsExpirationByEarnedDatePolicy from capture of ?\r\n\r\nI guess it is because the parent builder has 3 arguments with the generic (`TenantConfItemBuilder&lt;T, ?, ?&gt;`) and the sub one has 2 (`PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;`).\r\nAny idea for workaround?","title":"Lombok @SuperBuilder on abstract class with generic cause error: incompatible types","body":"<p>I have abstract class with generic type. it has abstract toBuilder method as suggested here: <a href=\"https://stackoverflow.com/questions/61633821/using-lombok-superbuilder-annotation-with-tobuilder-on-an-abstract-class\">Using Lombok @SuperBuilder annotation with toBuilder on an abstract class?</a></p>\n<h2>here is the abstract class:</h2>\n<pre><code>@Data\n@SuperBuilder(toBuilder = true)\npublic abstract class TenantConfItem&lt;T extends DeepCloneable&lt;T&gt;&gt; {\n\n    private final URN urn;\n\n    private final Long version;\n\n    private final T configData;\n\n    public abstract TenantConfItemBuilder&lt;T, ?, ?&gt; toBuilder();\n\n    public TenantConfItem&lt;T&gt; copy() {\n        return this.toBuilder().build();\n    }\n}\n</code></pre>\n<p>the subtype:</p>\n<pre><code>@SuperBuilder(toBuilder = true)\n@EqualsAndHashCode(callSuper = true)\npublic class PointsExpirationByEarnedDatePolicy extends TenantConfItem&lt;ExpirationByEarnedDate&gt; implements Singleton {\n\n}\n</code></pre>\n<p>here I'm using its builder:</p>\n<pre><code>val policyBuilder = PointsExpirationByEarnedDatePolicy.builder()\n                .version(0L)\n                .configData(new ExpirationByEarnedDate(retentionDays));\n</code></pre>\n<p>but I get an error for the configData:</p>\n<pre><code>error: incompatible types: CAP#1 cannot be converted to ?\n                .configData(new ExpirationByEarnedDate(retentionDays));\n                           ^\n  where CAP#1,CAP#2 are fresh type-variables:\n    CAP#1 extends PointsExpirationByEarnedDatePolicyBuilder&lt;CAP#2,CAP#1&gt; from capture of ?\n    CAP#2 extends PointsExpirationByEarnedDatePolicy from capture of ?\n</code></pre>\n<p>I guess it is because the parent builder has 3 arguments with the generic (<code>TenantConfItemBuilder&lt;T, ?, ?&gt;</code>) and the sub one has 2 (<code>PointsExpirationByEarnedDatePolicyBuilder&lt;?, ?&gt;</code>).\nAny idea for workaround?</p>\n"},{"tags":["java","maven","grpc","maven-plugin"],"comments":[{"owner":{"account_id":4211959,"reputation":89,"user_id":3449390,"display_name":"BountyHunter"},"score":0,"creation_date":1645011023,"post_id":71140999,"comment_id":125755377,"body_markdown":"more info: https://github.com/xolstice/protobuf-maven-plugin/issues/98","body":"more info: <a href=\"https://github.com/xolstice/protobuf-maven-plugin/issues/98\" rel=\"nofollow noreferrer\">github.com/xolstice/protobuf-maven-plugin/issues/98</a>"},{"owner":{"account_id":4211959,"reputation":89,"user_id":3449390,"display_name":"BountyHunter"},"score":0,"creation_date":1645113890,"post_id":71140999,"comment_id":125789941,"body_markdown":"Resolved this issue. The problem was that CI pipeline running RHEL 7 that supports glibc 2.12. Whereas protoc after version 1.34 is not compatible with glibc 2.12. The fix is to use supported protoc and protobuf versions. The versions which worked for me are protoc 3.12.0 and protobuf 1.34.0.","body":"Resolved this issue. The problem was that CI pipeline running RHEL 7 that supports glibc 2.12. Whereas protoc after version 1.34 is not compatible with glibc 2.12. The fix is to use supported protoc and protobuf versions. The versions which worked for me are protoc 3.12.0 and protobuf 1.34.0."}],"owner":{"account_id":4211959,"reputation":89,"user_id":3449390,"display_name":"BountyHunter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4220,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645010949,"creation_date":1645010949,"question_id":71140999,"body_markdown":"I&#39;ve been struggling with the following error.\r\n\r\n    [ERROR] Failed to execute goal org.xolstice.maven.plugins:protobuf-maven-plugin:0.6.1:compile-custom (compile) on project grpc: protoc did not exit cleanly. Review output for more information. -&gt; [Help 1]\r\n\r\nI have a parent pom where I have defined plugin under pluginManagement tag. In child pom I am using the plugin defined in parent pom. Here is how my pom file looks like.\r\n\r\nParent pom:\r\n\r\n    &lt;pluginManagement&gt;\r\n                 &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.6.1&lt;/version&gt;\r\n                 &lt;/plugin&gt;\r\n    &lt;/pluginManagement&gt;\r\n\r\nChild pom:\r\n\r\n        &lt;/plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                        &lt;protocArtifact&gt;\r\n                            com.google.protobuf:protoc:3.14.0:exe:${os.detected.classifier}\r\n                        &lt;/protocArtifact&gt;\r\n                        &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                        &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:${protoc.version}:exe:${os.detected.classifier}\r\n                        &lt;/pluginArtifact&gt;\r\n                        &lt;protocPlugins&gt;\r\n                            &lt;protocPlugin&gt;\r\n                                &lt;id&gt;vertx-grpc-protoc-plugin&lt;/id&gt;\r\n                                &lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;vertx-grpc-protoc-plugin&lt;/artifactId&gt;\r\n                                &lt;version&gt;4.2.3&lt;/version&gt;\r\n                                &lt;mainClass&gt;io.vertx.grpc.protoc.plugin.VertxGrpcGenerator&lt;/mainClass&gt;\r\n                            &lt;/protocPlugin&gt;\r\n                        &lt;/protocPlugins&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;compile&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${protobuf.output.directory}&lt;/outputDirectory&gt;\r\n                                &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;compile&lt;/goal&gt;\r\n                                &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-compile&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                                &lt;goal&gt;test-compile-custom&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n","title":"Failed to execute goal org.xolstice.maven.plugins:protobuf-maven-plugin:0.6.1:compile-custom protoc did not exit cleanly","body":"<p>I've been struggling with the following error.</p>\n<pre><code>[ERROR] Failed to execute goal org.xolstice.maven.plugins:protobuf-maven-plugin:0.6.1:compile-custom (compile) on project grpc: protoc did not exit cleanly. Review output for more information. -&gt; [Help 1]\n</code></pre>\n<p>I have a parent pom where I have defined plugin under pluginManagement tag. In child pom I am using the plugin defined in parent pom. Here is how my pom file looks like.</p>\n<p>Parent pom:</p>\n<pre><code>&lt;pluginManagement&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n             &lt;/plugin&gt;\n&lt;/pluginManagement&gt;\n</code></pre>\n<p>Child pom:</p>\n<pre><code>    &lt;/plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                    &lt;protocArtifact&gt;\n                        com.google.protobuf:protoc:3.14.0:exe:${os.detected.classifier}\n                    &lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:${protoc.version}:exe:${os.detected.classifier}\n                    &lt;/pluginArtifact&gt;\n                    &lt;protocPlugins&gt;\n                        &lt;protocPlugin&gt;\n                            &lt;id&gt;vertx-grpc-protoc-plugin&lt;/id&gt;\n                            &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n                            &lt;artifactId&gt;vertx-grpc-protoc-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;4.2.3&lt;/version&gt;\n                            &lt;mainClass&gt;io.vertx.grpc.protoc.plugin.VertxGrpcGenerator&lt;/mainClass&gt;\n                        &lt;/protocPlugin&gt;\n                    &lt;/protocPlugins&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${protobuf.output.directory}&lt;/outputDirectory&gt;\n                            &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1450703622,"post_id":34396507,"comment_id":56534220,"body_markdown":"Actually this is closer: http://stackoverflow.com/questions/9067341/return-last-5-digits-of-a-number","body":"Actually this is closer: <a href=\"http://stackoverflow.com/questions/9067341/return-last-5-digits-of-a-number\" title=\"return last 5 digits of a number\">stackoverflow.com/questions/9067341/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4840723,"reputation":2789,"user_id":3905832,"accept_rate":48,"display_name":"Kraal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450705672,"creation_date":1450704252,"answer_id":34396772,"question_id":34396507,"body_markdown":"Use &quot;modulo&quot; operator ``%`` as follows:\r\n\r\n        Long i = System.currentTimeMillis();\r\n        // Here we format the result to force 4 digits starting with a 0\r\n        // if the long is shorter than 4 digits long (i.e. in case your\r\n        // long looks like 1, 11 or 111 as numbers cannot start with the\r\n        // 0 digit)\r\n        String result = String.format(&quot;%04d&quot;, i % 10000);\r\n\r\n","title":"how to print last 4 digits from my 13 digit long","body":"<p>Use \"modulo\" operator <code>%</code> as follows:</p>\n\n<pre><code>    Long i = System.currentTimeMillis();\n    // Here we format the result to force 4 digits starting with a 0\n    // if the long is shorter than 4 digits long (i.e. in case your\n    // long looks like 1, 11 or 111 as numbers cannot start with the\n    // 0 digit)\n    String result = String.format(\"%04d\", i % 10000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4141511,"reputation":1216,"user_id":3396666,"accept_rate":80,"display_name":"magic-sudo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450704262,"creation_date":1450704262,"answer_id":34396775,"question_id":34396507,"body_markdown":"    public class Main {\r\n\t  public static void main(String[] args) {\r\n        long wtf = 10516;\r\n        System.out.println(\r\n          Long.toString(wtf).substring(\r\n           Long.toString(wtf).length() - 4)); // LAST 4 DIGITS\r\n\t  }\r\n    }\r\n\r\nOutput: `0516`\r\n","title":"how to print last 4 digits from my 13 digit long","body":"<pre><code>public class Main {\n  public static void main(String[] args) {\n    long wtf = 10516;\n    System.out.println(\n      Long.toString(wtf).substring(\n       Long.toString(wtf).length() - 4)); // LAST 4 DIGITS\n  }\n}\n</code></pre>\n\n<p>Output: <code>0516</code></p>\n"}],"owner":{"account_id":7507348,"reputation":19,"user_id":5703471,"display_name":"rakeshchowdary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5570,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"answer_count":2,"score":-1,"last_activity_date":1645010928,"creation_date":1450703454,"question_id":34396507,"body_markdown":"    package com.nusecond.code;\r\n    \r\n    public class Code {\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic static void main(String args[]) {\r\n    \t\t\r\n    \t\tLong i=System.currentTimeMillis();\r\n    \t\tSystem.out.println(i);\r\n    \t}\r\n    \r\n    }\r\n\r\n## Last 4 digits ##\r\n\r\n1. Here i&quot;m trying to get last 4 digits of current time in millis\r\n2. the above code gives 13 digit long type number and i want last 4","title":"how to print last 4 digits from my 13 digit long","body":"<pre><code>package com.nusecond.code;\n\npublic class Code {\n\n\n\n    public static void main(String args[]) {\n\n        Long i=System.currentTimeMillis();\n        System.out.println(i);\n    }\n\n}\n</code></pre>\n\n<h2>Last 4 digits</h2>\n\n<ol>\n<li>Here i\"m trying to get last 4 digits of current time in millis</li>\n<li>the above code gives 13 digit long type number and i want last 4</li>\n</ol>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":14975877,"reputation":516,"user_id":10811334,"display_name":"xiaoyu2006"},"score":0,"creation_date":1645003652,"post_id":71139183,"comment_id":125752439,"body_markdown":"Use a set to remove duplications.","body":"Use a set to remove duplications."},{"owner":{"account_id":19965385,"reputation":19,"user_id":17341607,"display_name":"Vanyipz"},"score":0,"creation_date":1645003705,"post_id":71139183,"comment_id":125752461,"body_markdown":"but set remove all duplicate, I need only max and min","body":"but set remove all duplicate, I need only max and min"},{"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"score":0,"creation_date":1645004196,"post_id":71139183,"comment_id":125752652,"body_markdown":"you can use `values.stream().remove(aNumberButNotAnObject )` and it will remove the duplicates too . Also it&#39;s not good to sort stream 2 times if you wont use it , you need to use the typical min/max algorithm .","body":"you can use <code>values.stream().remove(aNumberButNotAnObject )</code> and it will remove the duplicates too . Also it&#39;s not good to sort stream 2 times if you wont use it , you need to use the typical min/max algorithm ."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1645008816,"post_id":71139183,"comment_id":125754518,"body_markdown":"Your stream operation does not “remove … from a collection of integers”. It’s creating a new collection of integers. In fact, since you immediately chained a printing operation, your operation is effectively only printing numbers without a persistent effect. You should be clear about your actual goal. The term “1&#160;duplicate” makes no sense in the context either. If there’s only one value, there is no duplicate. So apparently, you don’t mean “duplicates” but “all occurrences” of a value.","body":"Your stream operation does not “remove … from a collection of integers”. It’s creating a new collection of integers. In fact, since you immediately chained a printing operation, your operation is effectively only printing numbers without a persistent effect. You should be clear about your actual goal. The term “1 duplicate” makes no sense in the context either. If there’s only one value, there is no duplicate. So apparently, you don’t mean “duplicates” but “all occurrences” of a value."}],"answers":[{"tags":[],"owner":{"account_id":14937684,"reputation":541,"user_id":10785239,"display_name":"I&#39;m_Pratik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645008048,"creation_date":1645008048,"answer_id":71140272,"question_id":71139183,"body_markdown":"Lets consider you have `List&lt;Integer&gt; asList = Arrays.asList(2, 2, 4, 6, 7, 8, 7, 8);`\r\n\r\nYou can create 2 different streams for your solution. First you will have to find out `min` &amp; `max` using following way:\r\n\r\n    IntSummaryStatistics stats = asList.stream().mapToInt(Integer::intValue).summaryStatistics();\r\n\r\nThis will return you min &amp; max. Once you get both the value you can try to filter out the record and collect all the remaining.\r\n\r\n\t\t\r\n\r\n    List&lt;Integer&gt; collect = asList.stream()\r\n                                  .filter(x -&gt; x &gt; stats.getMin() &amp;&amp; x &lt; stats.getMax())\r\n                                  .collect(Collectors.toList());\r\n    collect.add(stats.getMin());\r\n    collect.add(stats.getMax());\r\n\r\nYou will get the required output once you sort the list: `[2, 4, 6, 7, 7, 8]` \r\n\r\n","title":"How to remove duplicate highs and lows","body":"<p>Lets consider you have <code>List&lt;Integer&gt; asList = Arrays.asList(2, 2, 4, 6, 7, 8, 7, 8);</code></p>\n<p>You can create 2 different streams for your solution. First you will have to find out <code>min</code> &amp; <code>max</code> using following way:</p>\n<pre><code>IntSummaryStatistics stats = asList.stream().mapToInt(Integer::intValue).summaryStatistics();\n</code></pre>\n<p>This will return you min &amp; max. Once you get both the value you can try to filter out the record and collect all the remaining.</p>\n<pre><code>List&lt;Integer&gt; collect = asList.stream()\n                              .filter(x -&gt; x &gt; stats.getMin() &amp;&amp; x &lt; stats.getMax())\n                              .collect(Collectors.toList());\ncollect.add(stats.getMin());\ncollect.add(stats.getMax());\n</code></pre>\n<p>You will get the required output once you sort the list: <code>[2, 4, 6, 7, 7, 8]</code></p>\n"},{"tags":[],"owner":{"account_id":19309260,"reputation":218,"user_id":14115415,"display_name":"AkSh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645010829,"creation_date":1645010829,"answer_id":71140969,"question_id":71139183,"body_markdown":"    List&lt;Integer&gt; numbersList = new ArrayList&lt;&gt;(Arrays.asList(1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8));\r\n        Collections.sort(numbersList);\r\n        int min = numbersList.get(0);\r\n        int max = numbersList.get(numbersList.size() - 1);\r\n        numbersList = numbersList.subList(numbersList.lastIndexOf(min), numbersList.size());\r\n        int maxIdx = numbersList.lastIndexOf(max);\r\n        while (maxIdx != -1) {\r\n            numbersList.remove(maxIdx);\r\n            maxIdx = numbersList.lastIndexOf(max);\r\n        }\r\n        System.out.println(numbersList);\r\n\r\no/p: `[1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7]`","title":"How to remove duplicate highs and lows","body":"<pre><code>List&lt;Integer&gt; numbersList = new ArrayList&lt;&gt;(Arrays.asList(1, 1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7, 8));\n    Collections.sort(numbersList);\n    int min = numbersList.get(0);\n    int max = numbersList.get(numbersList.size() - 1);\n    numbersList = numbersList.subList(numbersList.lastIndexOf(min), numbersList.size());\n    int maxIdx = numbersList.lastIndexOf(max);\n    while (maxIdx != -1) {\n        numbersList.remove(maxIdx);\n        maxIdx = numbersList.lastIndexOf(max);\n    }\n    System.out.println(numbersList);\n</code></pre>\n<p>o/p: <code>[1, 2, 3, 3, 3, 4, 5, 6, 6, 6, 7]</code></p>\n"}],"owner":{"account_id":19965385,"reputation":19,"user_id":17341607,"display_name":"Vanyipz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1645010829,"creation_date":1645003559,"question_id":71139183,"body_markdown":"I want to remove duplicates of the maximum and minimum values from a collection of integers. I can delete if there is 1 duplicate, but how can I remove when collection contains more then one?\r\n\r\n   \r\n\r\n    values.stream()\r\n               .sorted(Comparator.reverseOrder())\r\n               .skip(1)\r\n               .sorted()\r\n               .skip(1)\r\n               .collect(Collectors.toList())\r\n               .forEach(System.out::println);\r\n    }","title":"How to remove duplicate highs and lows","body":"<p>I want to remove duplicates of the maximum and minimum values from a collection of integers. I can delete if there is 1 duplicate, but how can I remove when collection contains more then one?</p>\n<pre><code>values.stream()\n           .sorted(Comparator.reverseOrder())\n           .skip(1)\n           .sorted()\n           .skip(1)\n           .collect(Collectors.toList())\n           .forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":["java","enums","vaadin","vaadin21","hilla"],"comments":[{"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"score":0,"creation_date":1636110522,"post_id":69841875,"comment_id":123475055,"body_markdown":"For code generation Fusion uses the actual names of the enum values (FRAGMENTID), not the string values you pass into the constructor (&quot;FragmentId&quot;). After all the parameter you pass to the constructor could be any type (for example a boolean), it might not be unique, and there could be multiple of them.\nApart from that your code looks fine, and I can not reproduce your issue with the values not being correctly mapped.","body":"For code generation Fusion uses the actual names of the enum values (FRAGMENTID), not the string values you pass into the constructor (&quot;FragmentId&quot;). After all the parameter you pass to the constructor could be any type (for example a boolean), it might not be unique, and there could be multiple of them. Apart from that your code looks fine, and I can not reproduce your issue with the values not being correctly mapped."},{"owner":{"account_id":4647510,"reputation":117,"user_id":3765291,"accept_rate":57,"display_name":"Daniel"},"score":0,"creation_date":1636373930,"post_id":69841875,"comment_id":123531028,"body_markdown":"I &quot;fixed it&quot; now by putting an equalsIgnoreCase instead of equals in the @JsonCreator fromValue method of the KeyType class.","body":"I &quot;fixed it&quot; now by putting an equalsIgnoreCase instead of equals in the @JsonCreator fromValue method of the KeyType class."}],"answers":[{"tags":[],"owner":{"account_id":5299736,"reputation":2028,"user_id":4229810,"accept_rate":83,"display_name":"Lodin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636110198,"creation_date":1636110198,"answer_id":69852250,"question_id":69841875,"body_markdown":"It is not like values are changed to uppercase. The Fusion generator just uses the enum element names for both key and value ignoring any data in parenthesis. That is by design and for now, there are no plans to change this behavior.\r\n\r\nThe reason here is that TypeScript enums are way less powerful than Java&#39;s. For example, you send a string as an enum element value; but what if it is an object? The TS enumeration cannot reflect that change, so the Fusion generator cannot do it either.\r\n\r\nThough there are no plans for changing the built-in behavior, in the future the  Fusion generator is going to be more flexible, so you will be able to tweak it to support your case. ","title":"Vaadin 21/Fusion - ts enum module which is generated from Java enum has all camel case values changed to uppercase","body":"<p>It is not like values are changed to uppercase. The Fusion generator just uses the enum element names for both key and value ignoring any data in parenthesis. That is by design and for now, there are no plans to change this behavior.</p>\n<p>The reason here is that TypeScript enums are way less powerful than Java's. For example, you send a string as an enum element value; but what if it is an object? The TS enumeration cannot reflect that change, so the Fusion generator cannot do it either.</p>\n<p>Though there are no plans for changing the built-in behavior, in the future the  Fusion generator is going to be more flexible, so you will be able to tweak it to support your case.</p>\n"}],"owner":{"account_id":4647510,"reputation":117,"user_id":3765291,"accept_rate":57,"display_name":"Daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645010666,"creation_date":1636040343,"question_id":69841875,"body_markdown":"I ran into this problem when trying to bind a combo-box to my model.\r\nThe enum values are null when they are submitted to my endpoint class in the backend.\r\n\r\n    &lt;vaadin-combo-box label=&quot;identifier type&quot; id=&quot;identifier_type&quot;\r\n        ${field(this.binder.model.entity.identification.idType)}\r\n        .items=&quot;${Object.values(KeyType)}&quot;&gt;\r\n    &lt;/vaadin-combo-box&gt;\r\n\r\nThe Java enum looks like this:\r\n\r\n    public enum KeyType {\r\n      CUSTOM(&quot;Custom&quot;),\r\n      IRDI(&quot;IRDI&quot;),\r\n      IRI(&quot;IRI&quot;),\r\n      IDSHORT(&quot;IdShort&quot;),\r\n      FRAGMENTID(&quot;FragmentId&quot;);\r\n      ...\r\n    }\r\n\r\nBut the generated ts enum looks like this:\r\n\r\n    enum KeyType {\r\n      CUSTOM = &#39;CUSTOM&#39;,\r\n      IRDI = &#39;IRDI&#39;,\r\n      IRI = &#39;IRI&#39;,\r\n      IDSHORT = &#39;IDSHORT&#39;,\r\n      FRAGMENTID = &#39;FRAGMENTID&#39;,\r\n    }\r\n\r\nAll values are changed to uppercase, which is why the binder fails to match the ones which have camel case writing, which results in a null value for the field.\r\n\r\nCan this be configured, is this by design, or is this a bug?\r\n\r\nThanks&amp;BR\r\nDaniel\r\n\r\n\r\n","title":"Vaadin 21/Fusion - ts enum module which is generated from Java enum has all camel case values changed to uppercase","body":"<p>I ran into this problem when trying to bind a combo-box to my model.\nThe enum values are null when they are submitted to my endpoint class in the backend.</p>\n<pre><code>&lt;vaadin-combo-box label=&quot;identifier type&quot; id=&quot;identifier_type&quot;\n    ${field(this.binder.model.entity.identification.idType)}\n    .items=&quot;${Object.values(KeyType)}&quot;&gt;\n&lt;/vaadin-combo-box&gt;\n</code></pre>\n<p>The Java enum looks like this:</p>\n<pre><code>public enum KeyType {\n  CUSTOM(&quot;Custom&quot;),\n  IRDI(&quot;IRDI&quot;),\n  IRI(&quot;IRI&quot;),\n  IDSHORT(&quot;IdShort&quot;),\n  FRAGMENTID(&quot;FragmentId&quot;);\n  ...\n}\n</code></pre>\n<p>But the generated ts enum looks like this:</p>\n<pre><code>enum KeyType {\n  CUSTOM = 'CUSTOM',\n  IRDI = 'IRDI',\n  IRI = 'IRI',\n  IDSHORT = 'IDSHORT',\n  FRAGMENTID = 'FRAGMENTID',\n}\n</code></pre>\n<p>All values are changed to uppercase, which is why the binder fails to match the ones which have camel case writing, which results in a null value for the field.</p>\n<p>Can this be configured, is this by design, or is this a bug?</p>\n<p>Thanks&amp;BR\nDaniel</p>\n"},{"tags":["java","list","generics","settings"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1644990459,"post_id":71136821,"comment_id":125748740,"body_markdown":"`if(setting.name==astring[1]) ` is not how you compare Strings in Java","body":"<code>if(setting.name==astring[1]) </code> is not how you compare Strings in Java"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644989871,"creation_date":1644989871,"answer_id":71136880,"question_id":71136821,"body_markdown":"Use the `Boolean.True` static variable\r\n\r\n    new BooleanSetting(&quot;ToggleSprint&quot;, Boolean.TRUE);\r\n\r\nor \r\n\r\n    Boolean.valueOf(true)","title":"Save and read multiple types of setting in a text file","body":"<p>Use the <code>Boolean.True</code> static variable</p>\n<pre><code>new BooleanSetting(&quot;ToggleSprint&quot;, Boolean.TRUE);\n</code></pre>\n<p>or</p>\n<pre><code>Boolean.valueOf(true)\n</code></pre>\n"}],"owner":{"account_id":24271990,"reputation":1,"user_id":18219863,"display_name":"Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645010290,"creation_date":1644989365,"question_id":71136821,"body_markdown":"I want to have a setting system that I can read write and use variables from the are stored in a file.\r\nTo summarize, There is a class and inside that class is a list of settings.\r\nWhen I make a setting I want to add it to the list so that I can write it to the text file later.\r\nI also want to be able to get the setting value without casting it which would use generics.\r\nSo for boolSetting I would only need to do boolSetting.get() or boolSetting.value ect\r\n\r\nTo start with code I have already written I have the code to read and write to the file. This works perfect (I think). I just need help with the setting part. Here is the read and write to file.\r\n```\r\npackage winter.settings;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStreamWriter;\r\nimport java.io.PrintWriter;\r\nimport java.io.UnsupportedEncodingException;\r\n\r\nimport net.minecraft.src.Config;\r\nimport winter.Client;\r\n\r\npublic class WinterSettings {\r\n\t\r\n\tpublic static File WinterSetting;\r\n\r\n\t\r\n\t\r\n\tpublic static void readSettings() {\r\n\t\ttry {\r\n\t        File WinterSetting = new File(System.getProperty(&quot;user.dir&quot;), &quot;WinterSettings.txt&quot;);\r\n\r\n\t\t\tBufferedReader bufferedreader = new BufferedReader(new InputStreamReader(new FileInputStream(WinterSetting), &quot;UTF-8&quot;));\r\n\t\t\t\r\n\t        String s = &quot;&quot;;\r\n\r\n\t        while ((s = bufferedreader.readLine()) != null)\r\n            {\r\n\t        \tSystem.out.println(s);\r\n                String[] astring = s.split(&quot;:&quot;);\r\n\r\nClient.modules.forEach(m -&gt;{\r\n\r\n\tif(m.name==astring[0]) {\r\n\t\tm.settings.forEach(setting -&gt;{\r\n\r\n\t\t\tif(setting.name==astring[1]) {\r\n\t\t\t\tsetting.value=astring[2];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n            }\r\n\t        bufferedreader.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic static void writeSettings() {\r\n\r\n\t\ttry {\r\n\t        File WinterSetting = new File(System.getProperty(&quot;user.dir&quot;), &quot;WinterSettings.txt&quot;);\r\n\r\n            PrintWriter printwriter = new PrintWriter(new FileWriter(WinterSetting));\r\n\r\nClient.modules.forEach(m -&gt;{\r\n\t\r\n\tm.settings.forEach(setting -&gt;{\r\n\t\t\r\n\t\tprintwriter.println(m.name+&quot;:&quot;+setting.name+&quot;:&quot;+setting.value);\r\n\t\t\r\n\t});\r\n\t\r\n});\r\nprintwriter.close();\r\n         \r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\nPretty much how this works is I have a setting in a Module which just stores some information.\r\nThe setting has a name and a value\r\nTo write it I am just writing\r\n\r\nThe module name, the setting name, the setting value For example: ModuleName:SettingName:false\r\n\r\nThis works fine, but leads to the problem that I just don&#39;t know enough about generics. I can&#39;t find a way that works with writing reading and setting / getting. The setting should have a name and value. Some code I wrote is below I just don&#39;t know how to continue it.\r\n```\r\npublic class Setting&lt;T&gt; {\r\n\r\n    public String name;\r\n\tpublic T value;\r\n\r\n\tpublic Setting(String name, T value) {\r\n        this.name = name;\r\n        this.value = value;\r\n    }\r\n\r\n\tpublic T getValue() {\r\nreturn value;\r\n}\r\n\t\r\n\r\n\t\r\n}\r\n```\r\nFrom here I have subclasses for each type of setting. Not sure if this is good programming or not. \r\nNow I can set get / write, but when I read the value isn&#39;t updated correctly. \r\n\r\nRight now I make a new setting like\r\n```\r\n\tprivate final BooleanSetting toggleSprint =  new BooleanSetting(&quot;ToggleSprint&quot;, true);\r\n```\r\nThere is one problem to this from what I can tell. First off when I try to add it to a list when initilizing I get an error.\r\nType mismatch: cannot convert from boolean to BooleanSetting.\r\n\r\nIn short: I need to be able to read write get and set a value in a setting object. This can be boolean / int / ect.\r\n\r\nAbove is some of my code to read / write to txt file. Setting class and what I have of making a new setting.\r\n\r\nMy 2 problems are that I read the settings correctly and when making them I can&#39;t add them to a list.","title":"Save and read multiple types of setting in a text file","body":"<p>I want to have a setting system that I can read write and use variables from the are stored in a file.\nTo summarize, There is a class and inside that class is a list of settings.\nWhen I make a setting I want to add it to the list so that I can write it to the text file later.\nI also want to be able to get the setting value without casting it which would use generics.\nSo for boolSetting I would only need to do boolSetting.get() or boolSetting.value ect</p>\n<p>To start with code I have already written I have the code to read and write to the file. This works perfect (I think). I just need help with the setting part. Here is the read and write to file.</p>\n<pre><code>package winter.settings;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.io.PrintWriter;\nimport java.io.UnsupportedEncodingException;\n\nimport net.minecraft.src.Config;\nimport winter.Client;\n\npublic class WinterSettings {\n    \n    public static File WinterSetting;\n\n    \n    \n    public static void readSettings() {\n        try {\n            File WinterSetting = new File(System.getProperty(&quot;user.dir&quot;), &quot;WinterSettings.txt&quot;);\n\n            BufferedReader bufferedreader = new BufferedReader(new InputStreamReader(new FileInputStream(WinterSetting), &quot;UTF-8&quot;));\n            \n            String s = &quot;&quot;;\n\n            while ((s = bufferedreader.readLine()) != null)\n            {\n                System.out.println(s);\n                String[] astring = s.split(&quot;:&quot;);\n\nClient.modules.forEach(m -&gt;{\n\n    if(m.name==astring[0]) {\n        m.settings.forEach(setting -&gt;{\n\n            if(setting.name==astring[1]) {\n                setting.value=astring[2];\n            }\n        });\n    }\n});\n            }\n            bufferedreader.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    \n    \n    public static void writeSettings() {\n\n        try {\n            File WinterSetting = new File(System.getProperty(&quot;user.dir&quot;), &quot;WinterSettings.txt&quot;);\n\n            PrintWriter printwriter = new PrintWriter(new FileWriter(WinterSetting));\n\nClient.modules.forEach(m -&gt;{\n    \n    m.settings.forEach(setting -&gt;{\n        \n        printwriter.println(m.name+&quot;:&quot;+setting.name+&quot;:&quot;+setting.value);\n        \n    });\n    \n});\nprintwriter.close();\n         \n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n}\n</code></pre>\n<p>Pretty much how this works is I have a setting in a Module which just stores some information.\nThe setting has a name and a value\nTo write it I am just writing</p>\n<p>The module name, the setting name, the setting value For example: ModuleName:SettingName:false</p>\n<p>This works fine, but leads to the problem that I just don't know enough about generics. I can't find a way that works with writing reading and setting / getting. The setting should have a name and value. Some code I wrote is below I just don't know how to continue it.</p>\n<pre><code>public class Setting&lt;T&gt; {\n\n    public String name;\n    public T value;\n\n    public Setting(String name, T value) {\n        this.name = name;\n        this.value = value;\n    }\n\n    public T getValue() {\nreturn value;\n}\n    \n\n    \n}\n</code></pre>\n<p>From here I have subclasses for each type of setting. Not sure if this is good programming or not.\nNow I can set get / write, but when I read the value isn't updated correctly.</p>\n<p>Right now I make a new setting like</p>\n<pre><code>    private final BooleanSetting toggleSprint =  new BooleanSetting(&quot;ToggleSprint&quot;, true);\n</code></pre>\n<p>There is one problem to this from what I can tell. First off when I try to add it to a list when initilizing I get an error.\nType mismatch: cannot convert from boolean to BooleanSetting.</p>\n<p>In short: I need to be able to read write get and set a value in a setting object. This can be boolean / int / ect.</p>\n<p>Above is some of my code to read / write to txt file. Setting class and what I have of making a new setting.</p>\n<p>My 2 problems are that I read the settings correctly and when making them I can't add them to a list.</p>\n"},{"tags":["java","xstream"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1645010372,"post_id":71140816,"comment_id":125755125,"body_markdown":"Which means the lib isn&#39;t on your classpath. You will need to add it.","body":"Which means the lib isn&#39;t on your classpath. You will need to add it."},{"owner":{"account_id":18222752,"reputation":1,"user_id":14290630,"display_name":"Lyg"},"score":0,"creation_date":1645012618,"post_id":71140816,"comment_id":125756056,"body_markdown":"THANK YOU. \nTurns out I had the library in the module path that&#39;s why the error shows up.\nA simple drag and drop solved my problem of 2 damn weeks. \n\nI owe u a coffffeeee &lt;3","body":"THANK YOU.  Turns out I had the library in the module path that&#39;s why the error shows up. A simple drag and drop solved my problem of 2 damn weeks.   I owe u a coffffeeee &lt;3"}],"owner":{"account_id":18222752,"reputation":1,"user_id":14290630,"display_name":"Lyg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645010205,"creation_date":1645010205,"question_id":71140816,"body_markdown":"I am trying to generate an XML file with Xsteam lib.\r\nEvery time I try to use the lib this error shows up :\r\n\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/thoughtworks/xstream/XStream\r\n\r\nHelp, please.","title":"Java Eclipse. Xstream library classpath error keeps showing up","body":"<p>I am trying to generate an XML file with Xsteam lib.\nEvery time I try to use the lib this error shows up :</p>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/thoughtworks/xstream/XStream</p>\n<p>Help, please.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1645011051,"post_id":71140813,"comment_id":125755394,"body_markdown":"&quot;_why I always get false if even I know that this times won&#39;t overlaps._&quot; - So you are getting the result you are expecting? Or am I reading this wrong? Can you explain what you are expecting? None of these will &quot;overlap&quot; since they are all more than 1h apart and you check it in a 1h time frame.","body":"&quot;<i>why I always get false if even I know that this times won&#39;t overlaps.</i>&quot; - So you are getting the result you are expecting? Or am I reading this wrong? Can you explain what you are expecting? None of these will &quot;overlap&quot; since they are all more than 1h apart and you check it in a 1h time frame."},{"owner":{"account_id":22316082,"reputation":15,"user_id":16539422,"display_name":"Julian Korkosz"},"score":0,"creation_date":1645011310,"post_id":71140813,"comment_id":125755508,"body_markdown":"I need to expect true that allMatch should return true because result of is overlapping is always false so allMatch result is always the same so should return boolean b true","body":"I need to expect true that allMatch should return true because result of is overlapping is always false so allMatch result is always the same so should return boolean b true"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1645011807,"post_id":71140813,"comment_id":125755737,"body_markdown":"I think you misunderstand the use of `allMatch()`. &quot;_Returns whether all elements of this stream match the provided predicate._&quot; - This is not the case, since none of your elements are overlapping. You could use `noneMatch()` instead (or `anyMatch()` depending on the use case), if I understand you correctly. Please specify what should happen if a) none overlap, b) one overlaps c) all overlap.","body":"I think you misunderstand the use of <code>allMatch()</code>. &quot;<i>Returns whether all elements of this stream match the provided predicate.</i>&quot; - This is not the case, since none of your elements are overlapping. You could use <code>noneMatch()</code> instead (or <code>anyMatch()</code> depending on the use case), if I understand you correctly. Please specify what should happen if a) none overlap, b) one overlaps c) all overlap."},{"owner":{"account_id":22316082,"reputation":15,"user_id":16539422,"display_name":"Julian Korkosz"},"score":0,"creation_date":1645014307,"post_id":71140813,"comment_id":125756725,"body_markdown":"a) return true b) return false c) return false","body":"a) return true b) return false c) return false"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1645014383,"post_id":71140813,"comment_id":125756757,"body_markdown":"Then use `noneMatch()` instead of `allMatch()`.","body":"Then use <code>noneMatch()</code> instead of <code>allMatch()</code>."}],"owner":{"account_id":22316082,"reputation":15,"user_id":16539422,"display_name":"Julian Korkosz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645010197,"creation_date":1645010197,"question_id":71140813,"body_markdown":"I need to check if time period overlaps another time, why I always get false if even I know that this times won&#39;t overlaps.\r\n\r\n    public static void main(String[] args) {\r\n\r\n        LocalDateTime dateToAdd = LocalDateTime.parse(&quot;2022-02-10T12:30&quot;);\r\n\r\n        LocalDateTime date1 = LocalDateTime.parse(&quot;2022-02-10T10:00&quot;);\r\n        LocalDateTime date2 = LocalDateTime.parse(&quot;2022-02-10T11:00&quot;);\r\n        LocalDateTime date3 = LocalDateTime.parse(&quot;2022-02-10T14:00&quot;);\r\n        LocalDateTime date4 = LocalDateTime.parse(&quot;2022-02-10T17:00&quot;);\r\n        LocalDateTime date5 = LocalDateTime.parse(&quot;2022-02-10T19:00&quot;);\r\n\r\n        List&lt;LocalDateTime&gt; dates = List.of(date1, date2, date3, date4, date5);\r\n\r\n        boolean b = dates.stream()\r\n                .allMatch(dateTime -&gt; isOverlapping(dateTime, dateTime.plusHours(1), dateToAdd, dateToAdd.plusHours(1)));\r\n\r\n        System.out.println(b);\r\n\r\n    }\r\n\r\n    public static boolean isOverlapping(LocalDateTime start1, LocalDateTime end1, LocalDateTime start2, LocalDateTime end2) {\r\n        return start1.isBefore(end2) &amp;&amp; start2.isBefore(end1);\r\n    }","title":"How to check if time period is overlapping another time period in java using LocaDateTime?","body":"<p>I need to check if time period overlaps another time, why I always get false if even I know that this times won't overlaps.</p>\n<pre><code>public static void main(String[] args) {\n\n    LocalDateTime dateToAdd = LocalDateTime.parse(&quot;2022-02-10T12:30&quot;);\n\n    LocalDateTime date1 = LocalDateTime.parse(&quot;2022-02-10T10:00&quot;);\n    LocalDateTime date2 = LocalDateTime.parse(&quot;2022-02-10T11:00&quot;);\n    LocalDateTime date3 = LocalDateTime.parse(&quot;2022-02-10T14:00&quot;);\n    LocalDateTime date4 = LocalDateTime.parse(&quot;2022-02-10T17:00&quot;);\n    LocalDateTime date5 = LocalDateTime.parse(&quot;2022-02-10T19:00&quot;);\n\n    List&lt;LocalDateTime&gt; dates = List.of(date1, date2, date3, date4, date5);\n\n    boolean b = dates.stream()\n            .allMatch(dateTime -&gt; isOverlapping(dateTime, dateTime.plusHours(1), dateToAdd, dateToAdd.plusHours(1)));\n\n    System.out.println(b);\n\n}\n\npublic static boolean isOverlapping(LocalDateTime start1, LocalDateTime end1, LocalDateTime start2, LocalDateTime end2) {\n    return start1.isBefore(end2) &amp;&amp; start2.isBefore(end1);\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":97652,"reputation":11676,"user_id":264775,"accept_rate":86,"display_name":"thegrinner"},"score":5,"creation_date":1372088589,"post_id":17279519,"comment_id":25050610,"body_markdown":"You cannot remove an element from a list while you&#39;re iterating over said list. Make a copy and remove items from that instead, or do it directly to the iterator.","body":"You cannot remove an element from a list while you&#39;re iterating over said list. Make a copy and remove items from that instead, or do it directly to the iterator."},{"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"score":3,"creation_date":1524514345,"post_id":17279519,"comment_id":86994910,"body_markdown":"With Java 8, the most effective way to do this is use the removeIf(predicate) method on the list.","body":"With Java 8, the most effective way to do this is use the removeIf(predicate) method on the list."}],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":1,"up_vote_count":78,"is_accepted":true,"score":77,"last_activity_date":1372088556,"creation_date":1372088556,"answer_id":17279551,"question_id":17279519,"body_markdown":"You need to use `Iterator` and call `remove()` on `iterator` instead of using `for` loop.","title":"Removing items from a list","body":"<p>You need to use <code>Iterator</code> and call <code>remove()</code> on <code>iterator</code> instead of using <code>for</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":365234,"reputation":17197,"user_id":710051,"accept_rate":85,"display_name":"Makky"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1372088569,"creation_date":1372088569,"answer_id":17279557,"question_id":17279519,"body_markdown":"    //first find out the removed ones\r\n    \r\n    List removedList = new ArrayList();\r\n    for(Object a: list){\r\n        if(a.getXXX().equalsIgnoreCase(&quot;AAA&quot;)){\r\n            logger.info(&quot;this is AAA........should be removed from the list &quot;);\r\n            removedList.add(a);\r\n    \r\n        }\r\n    }\r\n    \r\n    list.removeAll(removedList);","title":"Removing items from a list","body":"<pre><code>//first find out the removed ones\n\nList removedList = new ArrayList();\nfor(Object a: list){\n    if(a.getXXX().equalsIgnoreCase(\"AAA\")){\n        logger.info(\"this is AAA........should be removed from the list \");\n        removedList.add(a);\n\n    }\n}\n\nlist.removeAll(removedList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482279,"reputation":7803,"user_id":896588,"accept_rate":85,"display_name":"Andr&#233; Stannek"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1372088594,"creation_date":1372088594,"answer_id":17279565,"question_id":17279519,"body_markdown":"You can&#39;t and shouldn&#39;t modify a list while iterating over it. You can solve this by temporarely saving the objects to remove:\r\n\r\n    List&lt;Object&gt; toRemove = new ArrayList&lt;Object&gt;();\r\n    for(Object a: list){\r\n        if(a.getXXX().equalsIgnoreCase(&quot;AAA&quot;)){\r\n            toRemove.add(a);\r\n        }\r\n    }\r\n    list.removeAll(toRemove);","title":"Removing items from a list","body":"<p>You can't and shouldn't modify a list while iterating over it. You can solve this by temporarely saving the objects to remove:</p>\n\n<pre><code>List&lt;Object&gt; toRemove = new ArrayList&lt;Object&gt;();\nfor(Object a: list){\n    if(a.getXXX().equalsIgnoreCase(\"AAA\")){\n        toRemove.add(a);\n    }\n}\nlist.removeAll(toRemove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1372089639,"creation_date":1372088630,"answer_id":17279578,"question_id":17279519,"body_markdown":"You cannot do it because you are already  looping on it.\r\n\r\nInorder to avoid this situation use Iterator,which guarentees you to remove the element from list safely ...\r\n\r\n    List&lt;Object&gt; objs;\r\n    Iterator&lt;Object&gt; i = objs.iterator();\r\n    while (i.hasNext()) {\r\n       Object o = i.next();\r\n      //some condition\r\n        i.remove();\r\n    }","title":"Removing items from a list","body":"<p>You cannot do it because you are already  looping on it.</p>\n\n<p>Inorder to avoid this situation use Iterator,which guarentees you to remove the element from list safely ...</p>\n\n<pre><code>List&lt;Object&gt; objs;\nIterator&lt;Object&gt; i = objs.iterator();\nwhile (i.hasNext()) {\n   Object o = i.next();\n  //some condition\n    i.remove();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":232,"is_accepted":false,"score":232,"last_activity_date":1645010196,"creation_date":1372088654,"answer_id":17279584,"question_id":17279519,"body_markdown":"    for (Iterator&lt;String&gt; iter = list.listIterator(); iter.hasNext(); ) {\r\n        String a = iter.next();\r\n        if (...) {\r\n            iter.remove();\r\n        }\r\n    }\r\n\r\nMaking an additional assumption that the list is of strings.\r\nAs already answered, an `list.iterator()` is needed. The [*listIterator*](http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html) can do a bit of navigation too.\r\n\r\n–---------\r\n### Update\r\n\r\nAs @AyushiJain commented, there is\r\n\r\n    list.removeIf(...);","title":"Removing items from a list","body":"<pre><code>for (Iterator&lt;String&gt; iter = list.listIterator(); iter.hasNext(); ) {\n    String a = iter.next();\n    if (...) {\n        iter.remove();\n    }\n}\n</code></pre>\n<p>Making an additional assumption that the list is of strings.\nAs already answered, an <code>list.iterator()</code> is needed. The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/ListIterator.html\" rel=\"nofollow noreferrer\"><em>listIterator</em></a> can do a bit of navigation too.</p>\n<p>–---------</p>\n<h3>Update</h3>\n<p>As @AyushiJain commented, there is</p>\n<pre><code>list.removeIf(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":200575,"reputation":695,"user_id":446496,"display_name":"Bart Enkelaar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1372090140,"creation_date":1372090140,"answer_id":17280032,"question_id":17279519,"body_markdown":"Besides all the excellent solutions offered here I would like to offer a different solution.\r\n\r\nI&#39;m not sure if you&#39;re free to add dependencies, but if you can, you could add the https://code.google.com/p/guava-libraries/ as a dependency. This library adds support for many basic functional operations to Java and can make working with collections a lot easier and more readable.\r\n\r\nIn the code I replaced the type of the List by T, since I don&#39;t know what your list is typed to.\r\n\r\nThis problem can with guava be solved like this:\r\n\r\n    List&lt;T&gt; filteredList = new Arraylist&lt;&gt;(filter(list, not(XXX_EQUAL_TO_AAA)));\r\n\r\nAnd somewhere else you then define XXX_EQUAL_TO_AAA as:\r\n\r\n    public static final Predicate&lt;T&gt; XXX_EQUAL_TO_AAA = new Predicate&lt;T&gt;() {\r\n        @Override\r\n        public boolean apply(T input) {\r\n            return input.getXXX().equalsIgnoreCase(&quot;AAA&quot;);\r\n        }\r\n    }\r\n\r\nHowever, this is probably overkill in your situation. It&#39;s just something that becomes increasingly powerful the more you work with collections.\r\n\r\nOhw, also, you need these static imports:\r\n\r\n    import static com.google.common.base.Predicates.not;\r\n    import static com.google.common.collect.Collections2.filter;\r\n","title":"Removing items from a list","body":"<p>Besides all the excellent solutions offered here I would like to offer a different solution.</p>\n\n<p>I'm not sure if you're free to add dependencies, but if you can, you could add the <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">https://code.google.com/p/guava-libraries/</a> as a dependency. This library adds support for many basic functional operations to Java and can make working with collections a lot easier and more readable.</p>\n\n<p>In the code I replaced the type of the List by T, since I don't know what your list is typed to.</p>\n\n<p>This problem can with guava be solved like this:</p>\n\n<pre><code>List&lt;T&gt; filteredList = new Arraylist&lt;&gt;(filter(list, not(XXX_EQUAL_TO_AAA)));\n</code></pre>\n\n<p>And somewhere else you then define XXX_EQUAL_TO_AAA as:</p>\n\n<pre><code>public static final Predicate&lt;T&gt; XXX_EQUAL_TO_AAA = new Predicate&lt;T&gt;() {\n    @Override\n    public boolean apply(T input) {\n        return input.getXXX().equalsIgnoreCase(\"AAA\");\n    }\n}\n</code></pre>\n\n<p>However, this is probably overkill in your situation. It's just something that becomes increasingly powerful the more you work with collections.</p>\n\n<p>Ohw, also, you need these static imports:</p>\n\n<pre><code>import static com.google.common.base.Predicates.not;\nimport static com.google.common.collect.Collections2.filter;\n</code></pre>\n"}],"owner":{"account_id":994457,"reputation":1611,"user_id":1010773,"accept_rate":74,"display_name":"Techie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374230,"favorite_count":0,"down_vote_count":2,"up_vote_count":113,"closed_date":1372090198,"accepted_answer_id":17279551,"answer_count":6,"score":111,"last_activity_date":1645010196,"creation_date":1372088451,"question_id":17279519,"body_markdown":"While looping through a list, I would like to remove an item of a list depending on a condition. See the code below.\r\n\r\nThis gives me a `ConcurrentModification` exception.\r\n\r\n    for (Object a : list) {\r\n    \tif (a.getXXX().equalsIgnoreCase(&quot;AAA&quot;)) {\r\n    \t\tlogger.info(&quot;this is AAA........should be removed from the list &quot;);\r\n    \t\tlist.remove(a);\r\n    \t}\r\n    }\r\n\r\nHow can this be done?\r\n","title":"Removing items from a list","body":"<p>While looping through a list, I would like to remove an item of a list depending on a condition. See the code below.</p>\n\n<p>This gives me a <code>ConcurrentModification</code> exception.</p>\n\n<pre><code>for (Object a : list) {\n    if (a.getXXX().equalsIgnoreCase(\"AAA\")) {\n        logger.info(\"this is AAA........should be removed from the list \");\n        list.remove(a);\n    }\n}\n</code></pre>\n\n<p>How can this be done?</p>\n"},{"tags":["java","sql","jdbc","db2","bigdecimal"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645009931,"post_id":71140701,"comment_id":125754949,"body_markdown":"&quot;An exception occurred during BigDecimal conversion&quot;. You are forcing a cast to String always (in each System.out.println).","body":"&quot;An exception occurred during BigDecimal conversion&quot;. You are forcing a cast to String always (in each System.out.println)."},{"owner":{"account_id":13106582,"reputation":23,"user_id":9469167,"display_name":"Francesco Grazioso"},"score":0,"creation_date":1645010055,"post_id":71140701,"comment_id":125754994,"body_markdown":"The code throws exception on List&lt;Object[]&gt; result =  query.getResultList();","body":"The code throws exception on List&lt;Object[]&gt; result =  query.getResultList();"},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1645010266,"post_id":71140701,"comment_id":125755073,"body_markdown":"You are using a very old db2jcc.jar.  Your db2jcc4.jar is 4.19.49 version (dating from Db2 v10.5 fixpack 7).   Most likely the dbbeaver is using a more recent driver.  Upgrade your db2jcc4.jar driver to version 4.31.10 or higher, get this download from https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads.","body":"You are using a very old db2jcc.jar.  Your db2jcc4.jar is 4.19.49 version (dating from Db2 v10.5 fixpack 7).   Most likely the dbbeaver is using a more recent driver.  Upgrade your db2jcc4.jar driver to version 4.31.10 or higher, get this download from <a href=\"https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads\" rel=\"nofollow noreferrer\">ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads</a>&zwnj;&#8203;."},{"owner":{"account_id":13106582,"reputation":23,"user_id":9469167,"display_name":"Francesco Grazioso"},"score":0,"creation_date":1645010433,"post_id":71140701,"comment_id":125755148,"body_markdown":"Sadly I can&#39;t, the client want to use this jar, so i can&#39;t update","body":"Sadly I can&#39;t, the client want to use this jar, so i can&#39;t update"},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1645011480,"post_id":71140701,"comment_id":125755581,"body_markdown":"Fix the code to also collect the &quot;attached throwable&quot;, which may give more details of the exception, and may suggest which cast or other workaround may be appropriate. We cannot see your data, your column-data-types and which parameter value triggers the exception.   Refusing to maintain antique drivers always is more costly than keeping drivers up to date.","body":"Fix the code to also collect the &quot;attached throwable&quot;, which may give more details of the exception, and may suggest which cast or other workaround may be appropriate. We cannot see your data, your column-data-types and which parameter value triggers the exception.   Refusing to maintain antique drivers always is more costly than keeping drivers up to date."},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1645021848,"post_id":71140701,"comment_id":125759948,"body_markdown":"You use three times `BigDecimal numeroLotto` as query parameter, `BigDecimal progressivoApparato` and `BigDecimal numeroScatola` are not used, and I guess one of them as to be a `String`","body":"You use three times <code>BigDecimal numeroLotto</code> as query parameter, <code>BigDecimal progressivoApparato</code> and <code>BigDecimal numeroScatola</code> are not used, and I guess one of them as to be a <code>String</code>"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1645022286,"post_id":71140701,"comment_id":125760171,"body_markdown":"Seems to me that you are not using plain JDBC, but an unknown library [to me] to connect to the database, as per the `Query` class there. I would suggest you get support on the use of that library.","body":"Seems to me that you are not using plain JDBC, but an unknown library [to me] to connect to the database, as per the <code>Query</code> class there. I would suggest you get support on the use of that library."}],"owner":{"account_id":13106582,"reputation":23,"user_id":9469167,"display_name":"Francesco Grazioso"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645009748,"creation_date":1645009748,"question_id":71140701,"body_markdown":"i&#39;m having the following exception with this method, any guess?\r\nThe same exception is thrown even if i change the parameters of the function, i also tried with String but the problem is the same.\r\n\r\n    public void getDettagliLottoPerPersonalizzazione(BigDecimal numeroLotto, BigDecimal progressivoApparato, BigDecimal numeroScatola) throws Exception\r\n    \t{\t\r\n    \t\tList&lt;DettaglioLottoPersonalizzazioneDTO&gt; dettaglioLottoResult = null;\r\n    \t\tQuery query = null;\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tlogger.info(&quot;Ricerca dettaglio lotto da personalizzare per numero lotto &quot; + String.valueOf(numeroLotto) );\t\t\t\t\t\t\t\r\n    \t\t\tXmlQueryReader prop = XmlQueryReader.getIstance();\r\n    \t\t\tString queryDettaglioLotto = prop.getQuery(this.getClass().getSimpleName(), &quot;queryLetturaDatiPerPersonalizzazione&quot;);\t\t\t\t\t\r\n    \t\t\tquery = entityManagerView.createNativeQuery(queryDettaglioLotto);\r\n    \t\t\tquery.setParameter(1,numeroLotto);\r\n    \t\t\tquery.setParameter(2,numeroLotto);\r\n    \t\t\tquery.setParameter(3,numeroLotto);\r\n    \t\t\tList&lt;Object[]&gt; result =  query.getResultList();\r\n    \t\t\tfor (Object[] objects: result) {\r\n    \t\t\t\tSystem.out.println((String)objects[0]);\r\n    \t\t\t\tSystem.out.println((String)objects[1]);\r\n    \t\t\t\tSystem.out.println((String)objects[2]);\r\n    \t\t\t\tSystem.out.println((String)objects[3]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch(Exception  e)\r\n    \t\t{\r\n    \t\t\tlogger.error(&quot;Errore durante la ricerca del dettaglio lotto da personalizzare per numero lotto &quot;  + String.valueOf(numeroLotto) + &quot;. &quot; + e.getMessage());\r\n    \t\t\tthrow new Exception(&quot;Errore durante la ricerca del dettaglio lotto da personalizzare per numero lotto &quot;  + String.valueOf(numeroLotto));\r\n    \t\t}\r\n    \t\tlogger.info(&quot;Ricerca dettaglio da personalizzare numero &quot; + String.valueOf(numeroLotto) + &quot; avvenuta con successo&quot;);\r\n    \t}\r\n\r\nHere&#39;s the exception\r\n\r\n      javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse \r\n\r\n    Persistence Services - 2.7.6.v20200131-b7c997804f): org.eclipse.persistence.exceptions.DatabaseException\r\n    Internal Exception: com.ibm.db2.jcc.am.SqlDataException: [jcc][t4][1037][11190][4.19.49] An exception occurred during BigDecimal conversion.  Refer to the attached Throwable for more details. ERRORCODE=-4220, SQLSTATE=22003\r\n    Error Code: -4220\r\n    Call: \r\n     \t\tSELECT a.D_ORD AS data_ordine, a.C_FOR||a.C_OBU_NEW AS codice_apparato, b.C_POS AS postazione_personalizzazione, c.T_ID_POS AS identificativo_postazione\r\n    \t\tFROM EVDA.TETS3T_INT_SRV A\r\n    \t\tINNER JOIN EVDA.TETSKI_INT_CON_ORD B ON a.C_CTP_CLI = b.C_CTP_CLI AND a.D_ORD = b.D_ORD\r\n    \t\tINNER JOIN evda.TETSIL_POS_PER C ON b.C_POS = c.C_POS \r\n    \t\tWHERE b.N_LOT_PRD = ?\r\n    \t\tAND a.N_PRG_TIT_PRE = ?\r\n    \t\tAND b.N_SCA = ?\r\n\r\n \t\r\n\tbind =&gt; [3 parameters bound]\r\n    Query: DataReadQuery(sql=&quot;\r\n     \t\tSELECT a.D_ORD AS data_ordine, a.C_FOR||a.C_OBU_NEW AS codice_apparato, b.C_POS AS postazione_personalizzazione, c.T_ID_POS AS identificativo_postazione\r\n    \t\tFROM EVDA.TETS3T_INT_SRV A\r\n    \t\tINNER JOIN EVDA.TETSKI_INT_CON_ORD B ON a.C_CTP_CLI = b.C_CTP_CLI AND a.D_ORD = b.D_ORD\r\n    \t\tINNER JOIN evda.TETSIL_POS_PER C ON b.C_POS = c.C_POS \r\n    \t\tWHERE b.N_LOT_PRD = ?\r\n    \t\tAND a.N_PRG_TIT_PRE = ?\r\n    \t\tAND b.N_SCA = ?\r\n     \t&quot;)\r\n\r\nThe same query executed on DBeaver works fine.","title":"ERRORCODE=-4220, SQLSTATE=22003 on java select from DB2","body":"<p>i'm having the following exception with this method, any guess?\nThe same exception is thrown even if i change the parameters of the function, i also tried with String but the problem is the same.</p>\n<pre><code>public void getDettagliLottoPerPersonalizzazione(BigDecimal numeroLotto, BigDecimal progressivoApparato, BigDecimal numeroScatola) throws Exception\n    {   \n        List&lt;DettaglioLottoPersonalizzazioneDTO&gt; dettaglioLottoResult = null;\n        Query query = null; \n        try\n        {\n            logger.info(&quot;Ricerca dettaglio lotto da personalizzare per numero lotto &quot; + String.valueOf(numeroLotto) );                          \n            XmlQueryReader prop = XmlQueryReader.getIstance();\n            String queryDettaglioLotto = prop.getQuery(this.getClass().getSimpleName(), &quot;queryLetturaDatiPerPersonalizzazione&quot;);                    \n            query = entityManagerView.createNativeQuery(queryDettaglioLotto);\n            query.setParameter(1,numeroLotto);\n            query.setParameter(2,numeroLotto);\n            query.setParameter(3,numeroLotto);\n            List&lt;Object[]&gt; result =  query.getResultList();\n            for (Object[] objects: result) {\n                System.out.println((String)objects[0]);\n                System.out.println((String)objects[1]);\n                System.out.println((String)objects[2]);\n                System.out.println((String)objects[3]);\n            }\n        }\n        catch(Exception  e)\n        {\n            logger.error(&quot;Errore durante la ricerca del dettaglio lotto da personalizzare per numero lotto &quot;  + String.valueOf(numeroLotto) + &quot;. &quot; + e.getMessage());\n            throw new Exception(&quot;Errore durante la ricerca del dettaglio lotto da personalizzare per numero lotto &quot;  + String.valueOf(numeroLotto));\n        }\n        logger.info(&quot;Ricerca dettaglio da personalizzare numero &quot; + String.valueOf(numeroLotto) + &quot; avvenuta con successo&quot;);\n    }\n</code></pre>\n<p>Here's the exception</p>\n<pre><code>  javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse \n\nPersistence Services - 2.7.6.v20200131-b7c997804f): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: com.ibm.db2.jcc.am.SqlDataException: [jcc][t4][1037][11190][4.19.49] An exception occurred during BigDecimal conversion.  Refer to the attached Throwable for more details. ERRORCODE=-4220, SQLSTATE=22003\nError Code: -4220\nCall: \n        SELECT a.D_ORD AS data_ordine, a.C_FOR||a.C_OBU_NEW AS codice_apparato, b.C_POS AS postazione_personalizzazione, c.T_ID_POS AS identificativo_postazione\n        FROM EVDA.TETS3T_INT_SRV A\n        INNER JOIN EVDA.TETSKI_INT_CON_ORD B ON a.C_CTP_CLI = b.C_CTP_CLI AND a.D_ORD = b.D_ORD\n        INNER JOIN evda.TETSIL_POS_PER C ON b.C_POS = c.C_POS \n        WHERE b.N_LOT_PRD = ?\n        AND a.N_PRG_TIT_PRE = ?\n        AND b.N_SCA = ?\n\n\nbind =&gt; [3 parameters bound]\nQuery: DataReadQuery(sql=&quot;\n        SELECT a.D_ORD AS data_ordine, a.C_FOR||a.C_OBU_NEW AS codice_apparato, b.C_POS AS postazione_personalizzazione, c.T_ID_POS AS identificativo_postazione\n        FROM EVDA.TETS3T_INT_SRV A\n        INNER JOIN EVDA.TETSKI_INT_CON_ORD B ON a.C_CTP_CLI = b.C_CTP_CLI AND a.D_ORD = b.D_ORD\n        INNER JOIN evda.TETSIL_POS_PER C ON b.C_POS = c.C_POS \n        WHERE b.N_LOT_PRD = ?\n        AND a.N_PRG_TIT_PRE = ?\n        AND b.N_SCA = ?\n    &quot;)\n</code></pre>\n<p>The same query executed on DBeaver works fine.</p>\n"},{"tags":["java","spring-boot","junit","amazon-sqs"],"comments":[{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1599406756,"post_id":63764720,"comment_id":112759198,"body_markdown":"I guess from your log, SQSListener is not trigger. Not invoked mean you wait for a time but it is not invoked. Can you share your test?","body":"I guess from your log, SQSListener is not trigger. Not invoked mean you wait for a time but it is not invoked. Can you share your test?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1599406990,"post_id":63764720,"comment_id":112759248,"body_markdown":"Also you don&#39;t need to test sqs listener because you are testing annotation. You can write unit test but IT is a little bit strange. For each IT test you need yo pay price :)","body":"Also you don&#39;t need to test sqs listener because you are testing annotation. You can write unit test but IT is a little bit strange. For each IT test you need yo pay price :)"},{"owner":{"account_id":1521672,"reputation":61,"user_id":1421133,"display_name":"Sanych"},"score":0,"creation_date":1599459810,"post_id":63764720,"comment_id":112770490,"body_markdown":"@Gurkanİlleez code sample is in git repo https://github.com/Sanych/aws-sqs-spybean-troubleshooting","body":"@Gurkanİlleez code sample is in git repo <a href=\"https://github.com/Sanych/aws-sqs-spybean-troubleshooting\" rel=\"nofollow noreferrer\">github.com/Sanych/aws-sqs-spybean-troubleshooting</a>"},{"owner":{"account_id":3732196,"reputation":834,"user_id":3907548,"display_name":"Reza Ebrahimpour"},"score":0,"creation_date":1634118689,"post_id":63764720,"comment_id":122938171,"body_markdown":"I faced a very similar issue. Did you manage to find any solution for this issue?","body":"I faced a very similar issue. Did you manage to find any solution for this issue?"}],"answers":[{"tags":[],"owner":{"account_id":7844888,"reputation":269,"user_id":5930286,"display_name":"Kerkhofsd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645009482,"creation_date":1643900900,"answer_id":70973670,"question_id":63764720,"body_markdown":"Ran into exactly the same problem. \r\n\r\nFrom the `SpyBean`documentation:\r\n&gt; All beans in the context of the same type will be wrapped with the spy.\r\n\r\nAfter thorough investigation, the only reasonable explanation for me is that the `SqsListener` method / bean is registered **before** the `MockitoPostProcessor` actually wraps the existing Bean with a spy proxy. \r\n\r\nAs a result, the &quot;real&quot; bean will actually be invoked but this invocation cannot be validated with `verify(...)` because the invocation is not triggered through the Spy proxy. \r\n\r\nMight be good to know: the `@SqsListener` methods are registered via the `QueueMessageHandler`, which is constructed by the `SqsAutoConfiguration`. Hence if the `SqsAutoConfiguration` runs before the `MockitoPostProcessor` wrapped the spy bean, the invocation does not go through the Spy proxy. \r\n\r\n**Possible solution**\r\n\r\nI used following approach to work around this problem..\r\n\r\n```\r\n\r\npublic class MyService {\r\n\r\n    @Autowired\r\n    private OtherService otherService;\r\n\r\n    @SqsListener(&quot;queue&quot;)\r\n    public void listen(@NotificationMessage Event event) {\r\n        oterService.doWork();\r\n    }\r\n\r\n}\r\n```\r\n\r\n * Split unit tests (testing `MyService` functionally) from integration tests (**only** testing that `MyService#listen` is actually invoked)\r\n * In integration tests (`@SpringBootTest`): don&#39;t `@SpyBean` the listener bean itself, but a bean used by the listener. (`OtherService` in my example)\r\n * `verify(otherService, timeout(500)).doWork()`\r\n\r\nAlthough this answer is rather abstract, I hope this can be of any help.  \r\n\r\nEDIT:\r\nJust mocking `OtherService` using `MockBean` doesn&#39;t suffice. I had to explicitly create a `OtherService` mock (`mock(OtherService.class`) and set it in my `MyService` using a package private setter. \r\nI admit, not the cleanest solution, however so far this is the only solution that worked for me. \r\n\r\nEDIT (2022-02-16):\r\nAs of Spring Cloud AWS 2.4, an `@SqsTest` annotation is available for exactly this purpose: \r\nhttps://github.com/awspring/spring-cloud-aws/releases/tag/v2.4.0\r\nhttps://github.com/awspring/spring-cloud-aws/blob/v2.4.0/spring-cloud-aws-samples/spring-cloud-aws-sqs-sample/src/test/java/io/awspring/cloud/sqs/sample/SqsSampleApplicationTests.java\r\n","title":"Spring Boot - @SQSListener and @SpyBean are not working together?","body":"<p>Ran into exactly the same problem.</p>\n<p>From the <code>SpyBean</code>documentation:</p>\n<blockquote>\n<p>All beans in the context of the same type will be wrapped with the spy.</p>\n</blockquote>\n<p>After thorough investigation, the only reasonable explanation for me is that the <code>SqsListener</code> method / bean is registered <strong>before</strong> the <code>MockitoPostProcessor</code> actually wraps the existing Bean with a spy proxy.</p>\n<p>As a result, the &quot;real&quot; bean will actually be invoked but this invocation cannot be validated with <code>verify(...)</code> because the invocation is not triggered through the Spy proxy.</p>\n<p>Might be good to know: the <code>@SqsListener</code> methods are registered via the <code>QueueMessageHandler</code>, which is constructed by the <code>SqsAutoConfiguration</code>. Hence if the <code>SqsAutoConfiguration</code> runs before the <code>MockitoPostProcessor</code> wrapped the spy bean, the invocation does not go through the Spy proxy.</p>\n<p><strong>Possible solution</strong></p>\n<p>I used following approach to work around this problem..</p>\n<pre><code>\npublic class MyService {\n\n    @Autowired\n    private OtherService otherService;\n\n    @SqsListener(&quot;queue&quot;)\n    public void listen(@NotificationMessage Event event) {\n        oterService.doWork();\n    }\n\n}\n</code></pre>\n<ul>\n<li>Split unit tests (testing <code>MyService</code> functionally) from integration tests (<strong>only</strong> testing that <code>MyService#listen</code> is actually invoked)</li>\n<li>In integration tests (<code>@SpringBootTest</code>): don't <code>@SpyBean</code> the listener bean itself, but a bean used by the listener. (<code>OtherService</code> in my example)</li>\n<li><code>verify(otherService, timeout(500)).doWork()</code></li>\n</ul>\n<p>Although this answer is rather abstract, I hope this can be of any help.</p>\n<p>EDIT:\nJust mocking <code>OtherService</code> using <code>MockBean</code> doesn't suffice. I had to explicitly create a <code>OtherService</code> mock (<code>mock(OtherService.class</code>) and set it in my <code>MyService</code> using a package private setter.\nI admit, not the cleanest solution, however so far this is the only solution that worked for me.</p>\n<p>EDIT (2022-02-16):\nAs of Spring Cloud AWS 2.4, an <code>@SqsTest</code> annotation is available for exactly this purpose:\n<a href=\"https://github.com/awspring/spring-cloud-aws/releases/tag/v2.4.0\" rel=\"nofollow noreferrer\">https://github.com/awspring/spring-cloud-aws/releases/tag/v2.4.0</a>\n<a href=\"https://github.com/awspring/spring-cloud-aws/blob/v2.4.0/spring-cloud-aws-samples/spring-cloud-aws-sqs-sample/src/test/java/io/awspring/cloud/sqs/sample/SqsSampleApplicationTests.java\" rel=\"nofollow noreferrer\">https://github.com/awspring/spring-cloud-aws/blob/v2.4.0/spring-cloud-aws-samples/spring-cloud-aws-sqs-sample/src/test/java/io/awspring/cloud/sqs/sample/SqsSampleApplicationTests.java</a></p>\n"}],"owner":{"account_id":1521672,"reputation":61,"user_id":1421133,"display_name":"Sanych"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1407,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1645009482,"creation_date":1599399143,"question_id":63764720,"body_markdown":"I have a simple spring boot application with AWS SQS integration.\r\nIn integration tests I tried to spy on method annotated with @SqsListener annotation and got a behavior where bean *sometimes* wasn&#39;t spied.\r\n\r\nYou can take a look at sample project here: https://github.com/Sanych/aws-sqs-spybean-troubleshooting\r\n\r\nrun `mvn clean verify`\r\n\r\nIn this log one may notice, that 2 out of 3 test method were spied successfully:\r\n\r\n```\r\n2020-09-06 15:39:23.597  INFO 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : Started SQSListenerIT in 0.813 seconds (JVM running for 24.024)\r\n2020-09-06 15:39:23.604  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\r\n2020-09-06 15:39:23.604  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 1\r\n2020-09-06 15:39:23.810  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener$MockitoMock$1506819983, received: &#39;test 1&#39;\r\n2020-09-06 15:39:23.929  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\r\n2020-09-06 15:39:23.929  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 2\r\n2020-09-06 15:39:24.052  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener, received: &#39;test 2&#39;\r\n2020-09-06 15:39:29.148  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\r\n2020-09-06 15:39:29.148  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 3\r\n2020-09-06 15:39:29.175  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener$MockitoMock$1506819983, received: &#39;test 3&#39;\r\n[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 6.468 s &lt;&lt;&lt; FAILURE! - in com.aws.test.demo.SQSListenerIT\r\n[ERROR] test2  Time elapsed: 5.218 s  &lt;&lt;&lt; ERROR!\r\norg.awaitility.core.ConditionTimeoutException:\r\nAssertion condition defined as a lambda expression in com.aws.test.demo.SQSListenerIT\r\nWanted but not invoked:\r\nSQSListener.listen(&lt;any string&gt;);\r\n-&gt; at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\r\nActually, there were zero interactions with this mock.\r\n within 5 seconds.\r\n        at com.aws.test.demo.SQSListenerIT.sendMessageFromFileAndWaitForListenerToRead(SQSListenerIT.java:57)\r\n        at com.aws.test.demo.SQSListenerIT.test2(SQSListenerIT.java:42)\r\nCaused by: org.mockito.exceptions.verification.WantedButNotInvoked:\r\n\r\nWanted but not invoked:\r\nSQSListener.listen(&lt;any string&gt;);\r\n-&gt; at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\r\nActually, there were zero interactions with this mock.\r\n        at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\r\n```\r\n\r\nAm I missing something?","title":"Spring Boot - @SQSListener and @SpyBean are not working together?","body":"<p>I have a simple spring boot application with AWS SQS integration.\nIn integration tests I tried to spy on method annotated with @SqsListener annotation and got a behavior where bean <em>sometimes</em> wasn't spied.</p>\n<p>You can take a look at sample project here: <a href=\"https://github.com/Sanych/aws-sqs-spybean-troubleshooting\" rel=\"nofollow noreferrer\">https://github.com/Sanych/aws-sqs-spybean-troubleshooting</a></p>\n<p>run <code>mvn clean verify</code></p>\n<p>In this log one may notice, that 2 out of 3 test method were spied successfully:</p>\n<pre><code>2020-09-06 15:39:23.597  INFO 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : Started SQSListenerIT in 0.813 seconds (JVM running for 24.024)\n2020-09-06 15:39:23.604  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\n2020-09-06 15:39:23.604  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 1\n2020-09-06 15:39:23.810  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener$MockitoMock$1506819983, received: 'test 1'\n2020-09-06 15:39:23.929  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\n2020-09-06 15:39:23.929  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 2\n2020-09-06 15:39:24.052  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener, received: 'test 2'\n2020-09-06 15:39:29.148  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : calling class com.aws.test.demo.SQSListener$MockitoMock$1506819983\n2020-09-06 15:39:29.148  WARN 18372 --- [           main] com.aws.test.demo.SQSListenerIT          : sendMessage to queue: test 3\n2020-09-06 15:39:29.175  WARN 18372 --- [enerContainer-2] com.aws.test.demo.SQSListener            : id: class com.aws.test.demo.SQSListener$MockitoMock$1506819983, received: 'test 3'\n[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 6.468 s &lt;&lt;&lt; FAILURE! - in com.aws.test.demo.SQSListenerIT\n[ERROR] test2  Time elapsed: 5.218 s  &lt;&lt;&lt; ERROR!\norg.awaitility.core.ConditionTimeoutException:\nAssertion condition defined as a lambda expression in com.aws.test.demo.SQSListenerIT\nWanted but not invoked:\nSQSListener.listen(&lt;any string&gt;);\n-&gt; at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\nActually, there were zero interactions with this mock.\n within 5 seconds.\n        at com.aws.test.demo.SQSListenerIT.sendMessageFromFileAndWaitForListenerToRead(SQSListenerIT.java:57)\n        at com.aws.test.demo.SQSListenerIT.test2(SQSListenerIT.java:42)\nCaused by: org.mockito.exceptions.verification.WantedButNotInvoked:\n\nWanted but not invoked:\nSQSListener.listen(&lt;any string&gt;);\n-&gt; at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\nActually, there were zero interactions with this mock.\n        at com.aws.test.demo.SQSListenerIT.lambda$sendMessageFromFileAndWaitForListenerToRead$0(SQSListenerIT.java:57)\n</code></pre>\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","intellij-idea","hotswap","dcevm"],"owner":{"account_id":23600769,"reputation":366,"user_id":17637282,"display_name":"Dev007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645009091,"creation_date":1644918853,"question_id":71124372,"body_markdown":"How I can configure DCEVM in existing project in Intellij step by step? I get plugin DCEVM Integration and HotSwapAgent in Intelij alsow I have a jar file DCEVM-8u181-installer form my java version. \r\n\r\n\r\n**Edit:**\r\n\r\n**Manula to install** \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M4rOL.png","title":"Configuration of DCEVM on an existing project","body":"<p>How I can configure DCEVM in existing project in Intellij step by step? I get plugin DCEVM Integration and HotSwapAgent in Intelij alsow I have a jar file DCEVM-8u181-installer form my java version.</p>\n<p><strong>Edit:</strong></p>\n<p><strong>Manula to install</strong>\n<a href=\"https://i.stack.imgur.com/M4rOL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4rOL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","abstract","access-modifiers"],"comments":[{"owner":{"account_id":7929539,"reputation":1273,"user_id":5987899,"accept_rate":94,"display_name":"jam"},"score":0,"creation_date":1457691259,"post_id":35937268,"comment_id":59531345,"body_markdown":"why do I need static variables ?","body":"why do I need static variables ?"},{"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"score":0,"creation_date":1457691315,"post_id":35937268,"comment_id":59531387,"body_markdown":"@KevinEsche I think he means about static data, not static variable","body":"@KevinEsche I think he means about static data, not static variable"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1457691328,"post_id":35937268,"comment_id":59531399,"body_markdown":"@jam because the title says so?","body":"@jam because the title says so?"}],"answers":[{"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1457691572,"creation_date":1457691155,"answer_id":35937381,"question_id":35937268,"body_markdown":"It&#39;s basically on your need\r\n\r\nIf you want to initialize super class field at the creation of child object it self, then you could call ` super(val);`\r\n\r\nIf you want to create your child object independent of parent object&#39;s field values. use Default contructor for child class and if required to set parent value call `setField(val);` method on child object.\r\n\r\n&gt; is it a good idea to use smth. like a protected constructor ?\r\n     \r\nYes if you really want to restrict access for the classes within the package\r\n\r\n\r\n\r\n","title":"How to set fields in an abstract class?","body":"<p>It's basically on your need</p>\n\n<p>If you want to initialize super class field at the creation of child object it self, then you could call <code>super(val);</code></p>\n\n<p>If you want to create your child object independent of parent object's field values. use Default contructor for child class and if required to set parent value call <code>setField(val);</code> method on child object.</p>\n\n<blockquote>\n  <p>is it a good idea to use smth. like a protected constructor ?</p>\n</blockquote>\n\n<p>Yes if you really want to restrict access for the classes within the package</p>\n"}],"owner":{"account_id":7929539,"reputation":1273,"user_id":5987899,"accept_rate":94,"display_name":"jam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9825,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35937381,"answer_count":1,"score":1,"last_activity_date":1645008989,"creation_date":1457690808,"question_id":35937268,"body_markdown":"I have an abstract class with a field in it, which should have following properties:\r\n\r\n- readonly for the public interface\r\n- writeonly for the subclasses\r\n\r\nMy question now is: how should I set and initialize this field?\r\n\r\n    public abstract class A {\r\n        // initialize it here ?\r\n        private int field = 0;\r\n\r\n        // initialize it in constructor ?\r\n        protected A(int field)\r\n        {\r\n            this.field = field;\r\n        }\r\n          \r\n        // use protected setter ?\r\n        protected void setField(int val){\r\n            this.field = val;\r\n        }\r\n\r\n        // or use protected field\r\n        protected int field;\r\n\r\n        public int getField(){\r\n            return field;\r\n        }\r\n    }\r\n\r\n\r\nHow to initialize/access this field?\r\n\r\n    public class B extends A {\r\n        \r\n        public B(int val){\r\n            super(val);\r\n            // or\r\n            setField(val);\r\n            // or\r\n            field = val;\r\n        }\r\n    }\r\n\r\nand is it a good idea to use something like a protected constructor?","title":"How to set fields in an abstract class?","body":"<p>I have an abstract class with a field in it, which should have following properties:</p>\n<ul>\n<li>readonly for the public interface</li>\n<li>writeonly for the subclasses</li>\n</ul>\n<p>My question now is: how should I set and initialize this field?</p>\n<pre><code>public abstract class A {\n    // initialize it here ?\n    private int field = 0;\n\n    // initialize it in constructor ?\n    protected A(int field)\n    {\n        this.field = field;\n    }\n      \n    // use protected setter ?\n    protected void setField(int val){\n        this.field = val;\n    }\n\n    // or use protected field\n    protected int field;\n\n    public int getField(){\n        return field;\n    }\n}\n</code></pre>\n<p>How to initialize/access this field?</p>\n<pre><code>public class B extends A {\n    \n    public B(int val){\n        super(val);\n        // or\n        setField(val);\n        // or\n        field = val;\n    }\n}\n</code></pre>\n<p>and is it a good idea to use something like a protected constructor?</p>\n"},{"tags":["java","docker","hashicorp-vault","testcontainers"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1607436523,"post_id":65177586,"comment_id":115267482,"body_markdown":"There is an issue which causes some additional logs not to be printed, it should be fixed probably in the next relese. Try setting root log level to debug and then search for &quot;Wait strategy threw an exception...&quot; message","body":"There is an issue which causes some additional logs not to be printed, it should be fixed probably in the next relese. Try setting root log level to debug and then search for &quot;Wait strategy threw an exception...&quot; message"},{"owner":{"account_id":2593882,"reputation":2074,"user_id":2247949,"accept_rate":21,"display_name":"SST"},"score":0,"creation_date":1607492781,"post_id":65177586,"comment_id":115286502,"body_markdown":"This issue getting resoled by changing the java version","body":"This issue getting resoled by changing the java version"}],"answers":[{"tags":[],"owner":{"account_id":128862,"reputation":7,"user_id":327015,"display_name":"Nicolay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645008837,"creation_date":1645006006,"answer_id":71139771,"question_id":65177586,"body_markdown":"Please, switch health check to another health url\r\n\r\nYou can try fix it like this:\r\n\r\n    vaultContainer.setWaitStrategy(Wait.forHttp(&quot;/sys/health&quot;).forStatusCode(200));\r\n    vaultContainer.start();\r\n\r\nproblem place: https://github.com/testcontainers/testcontainers-java/blob/affee6c23f2f5192813f1be84b4ec050116b56fd/modules/vault/src/main/java/org/testcontainers/vault/VaultContainer.java#L57\r\n\r\nhealth check info: https://www.vaultproject.io/api/system/health\r\n\r\nusage health url: /v1/sys/health \r\n\r\nright health url: /sys/health\r\n\r\n","title":"Vault Test Container not started even docker running in the machine","body":"<p>Please, switch health check to another health url</p>\n<p>You can try fix it like this:</p>\n<pre><code>vaultContainer.setWaitStrategy(Wait.forHttp(&quot;/sys/health&quot;).forStatusCode(200));\nvaultContainer.start();\n</code></pre>\n<p>problem place: <a href=\"https://github.com/testcontainers/testcontainers-java/blob/affee6c23f2f5192813f1be84b4ec050116b56fd/modules/vault/src/main/java/org/testcontainers/vault/VaultContainer.java#L57\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/blob/affee6c23f2f5192813f1be84b4ec050116b56fd/modules/vault/src/main/java/org/testcontainers/vault/VaultContainer.java#L57</a></p>\n<p>health check info: <a href=\"https://www.vaultproject.io/api/system/health\" rel=\"nofollow noreferrer\">https://www.vaultproject.io/api/system/health</a></p>\n<p>usage health url: /v1/sys/health</p>\n<p>right health url: /sys/health</p>\n"}],"owner":{"account_id":2593882,"reputation":2074,"user_id":2247949,"accept_rate":21,"display_name":"SST"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645008837,"creation_date":1607326053,"question_id":65177586,"body_markdown":"I&#39;m using a test container for Vault with the latest version 1.15.0. And also docker installed in the same machine. But the test container doesn&#39;t start it returns the following error instead of starting.\r\n\r\n    testCompile &quot;org.testcontainers:vault:1.15.0&quot;\r\n\r\nMy code,\r\n\r\n    @ClassRule\r\n        public static VaultContainer vaultContainer = new VaultContainer&lt;&gt;()\r\n                .withVaultPort(8200)\r\n                .withVaultToken(VAULT_TOKEN)\r\n                .withLogLevel(VaultLogLevel.Trace)\r\n                .withSecretInVault(&quot;secret/myvalue&quot;, MY_VALUE);\r\n    \r\n    @BeforeMethod\r\n        public void setup() {\r\n            vaultContainer.start();\r\n    \r\n            vaultHost = &quot;http://&quot; + vaultContainer.getContainerIpAddress() + &quot;:&quot; + vaultContainer.getMappedPort(8200);\r\n    }\r\n\r\n**Error:**\r\n\r\n    org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:327)\r\n    \tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:308)\r\n    \tat com.test.pkg.SampleTest.setup(SampleTest.java:15)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\r\n    \tat org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:695)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:523)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:816)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:766)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:587)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1039)\r\n    \tat org.testng.TestNG.run(TestNG.java:1007)\r\n    \tat org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\r\n    \tat org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:413)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n    Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n    \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n    \tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:320)\r\n    \t... 59 more\r\n    Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n    \tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:494)\r\n    \tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:322)\r\n    \tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n    \t... 60 more\r\n    Caused by: java.lang.IllegalStateException: Container exited with code 1\r\n    \tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:466)\r\n    \t... 62 more\r\n\r\nAny inputs here really appreciated.","title":"Vault Test Container not started even docker running in the machine","body":"<p>I'm using a test container for Vault with the latest version 1.15.0. And also docker installed in the same machine. But the test container doesn't start it returns the following error instead of starting.</p>\n<pre><code>testCompile &quot;org.testcontainers:vault:1.15.0&quot;\n</code></pre>\n<p>My code,</p>\n<pre><code>@ClassRule\n    public static VaultContainer vaultContainer = new VaultContainer&lt;&gt;()\n            .withVaultPort(8200)\n            .withVaultToken(VAULT_TOKEN)\n            .withLogLevel(VaultLogLevel.Trace)\n            .withSecretInVault(&quot;secret/myvalue&quot;, MY_VALUE);\n\n@BeforeMethod\n    public void setup() {\n        vaultContainer.start();\n\n        vaultHost = &quot;http://&quot; + vaultContainer.getContainerIpAddress() + &quot;:&quot; + vaultContainer.getMappedPort(8200);\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:327)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:308)\n    at com.test.pkg.SampleTest.setup(SampleTest.java:15)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:134)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:63)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:348)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:302)\n    at org.testng.internal.TestInvoker.runConfigMethods(TestInvoker.java:695)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:523)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:816)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\n    at org.testng.TestRunner.privateRun(TestRunner.java:766)\n    at org.testng.TestRunner.run(TestRunner.java:587)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1187)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1109)\n    at org.testng.TestNG.runSuites(TestNG.java:1039)\n    at org.testng.TestNG.run(TestNG.java:1007)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.runTests(TestNGTestClassProcessor.java:141)\n    at org.gradle.api.internal.tasks.testing.testng.TestNGTestClassProcessor.stop(TestNGTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:132)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:413)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:320)\n    ... 59 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:494)\n    at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:322)\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 60 more\nCaused by: java.lang.IllegalStateException: Container exited with code 1\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:466)\n    ... 62 more\n</code></pre>\n<p>Any inputs here really appreciated.</p>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645003841,"post_id":71138855,"comment_id":125752514,"body_markdown":"You want to generate ram:BasisQuantity but your code is for ram:IssueDateTime. What are you expecting to generate?","body":"You want to generate ram:BasisQuantity but your code is for ram:IssueDateTime. What are you expecting to generate?"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1645004465,"post_id":71138855,"comment_id":125752764,"body_markdown":"I want to have this: &lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;","body":"I want to have this: &lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645005669,"post_id":71138855,"comment_id":125753301,"body_markdown":"You need to use XmlValue. See here: https://stackoverflow.com/questions/15415136/jaxb-xmlattribute-xmlvalue-real-example","body":"You need to use XmlValue. See here: <a href=\"https://stackoverflow.com/questions/15415136/jaxb-xmlattribute-xmlvalue-real-example\" title=\"jaxb xmlattribute xmlvalue real example\">stackoverflow.com/questions/15415136/&hellip;</a>"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1645008380,"post_id":71138855,"comment_id":125754356,"body_markdown":"thanks ! i got it ! it works. I posted final code for this. –","body":"thanks ! i got it ! it works. I posted final code for this. –"}],"answers":[{"tags":[],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645007656,"creation_date":1645007656,"answer_id":71140191,"question_id":71138855,"body_markdown":"I modified my code thanks @pringi answer: \r\n\r\nIn SpecifiedTradeProduct \r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class SpecifiedTradeProduct {\r\n        @XmlElement(name=&quot;GlobalId&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private GlobalId globalId;\r\n\r\n        ...\r\n    }\r\n\r\nAnd I created the GlobalId class:  \r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class GlobalId {\r\n        @XmlAttribute(name = &quot;SchemeId&quot;)\r\n        private String schemeId;\r\n    \r\n        @XmlValue\r\n        private String globalId;\r\n    }","title":"Adding a property to a unique XMLElement in a POJO with JAXB","body":"<p>I modified my code thanks @pringi answer:</p>\n<p>In SpecifiedTradeProduct</p>\n<pre><code>@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class SpecifiedTradeProduct {\n    @XmlElement(name=&quot;GlobalId&quot;, namespace = NamespaceMapper.RAM_URI)\n    private GlobalId globalId;\n\n    ...\n}\n</code></pre>\n<p>And I created the GlobalId class:</p>\n<pre><code>@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class GlobalId {\n    @XmlAttribute(name = &quot;SchemeId&quot;)\n    private String schemeId;\n\n    @XmlValue\n    private String globalId;\n}\n</code></pre>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645007656,"creation_date":1645002152,"question_id":71138855,"body_markdown":"I have to build an XML containing several elements. I have such elements to build this XML part\r\n\r\n    &lt;ram:SpecifiedLineTradeAgreement&gt;\r\n      &lt;ram:BuyerOrderReferencedDocument&gt;\r\n        &lt;ram:LineID&gt;1&lt;/ram:LineID&gt;\r\n      &lt;/ram:BuyerOrderReferencedDocument&gt;\r\n      &lt;ram:NetPriceProductTradePrice&gt;\r\n        &lt;ram:ChargeAmount&gt;60.0000&lt;/ram:ChargeAmount&gt;\r\n        &lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;\r\n      &lt;/ram:NetPriceProductTradePrice&gt;\r\n    &lt;/ram:SpecifiedLineTradeAgreement&gt;\r\n\r\n\r\nI created POJOs for SpecifiedLineTradeAgreement, BuyerOrderReferencedDocument, NetPriceProductTradePrice... \r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class SpecifiedLineTradeAgreement {\r\n        @XmlElement(name = &quot;BuyerOrderReferencedDocument&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private BuyerOrderReferencedDocument buyerOrderReferencedDocument;\r\n        @XmlElement(name = &quot;NetPriceProductTradePrice&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private NetPriceProductTradePrice netPriceProductTradePrice;\r\n    }\r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class BuyerOrderReferencedDocument {\r\n        @XmlElement(name = &quot;LineID&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private String lineId;\r\n    }\r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class NetPriceProductTradePrice {\r\n        @XmlElement(name = &quot;ChargeAmount&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private String chargeAmount;\r\n    \r\n        @XmlElement(name = &quot;BasisQuantity&quot;, namespace = NamespaceMapper.RAM_URI)\r\n        private String basisQuantity;\r\n    }\r\n\r\n\r\nMy issue is concerning `&lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;`\r\nI found that we can use XMLAttribute annotation \r\n\r\n\r\n    @Getter @Setter\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class IssueDateTime {\r\n        @XmlElement(name = &quot;DateTimeString&quot;, namespace = NamespaceMapper.UDT_URI)\r\n        private String dateTimeString;\r\n        @XmlAttribute(name=&quot;format&quot;)\r\n        private int format;\r\n    }\r\n\r\nIt generates this\r\n\r\n    &lt;ram:IssueDateTime format=&quot;102&quot;&gt;\r\n      &lt;udt:DateTimeString&gt;20200115&lt;/udt:DateTimeString&gt;\r\n    &lt;/ram:IssueDateTime&gt;\r\n\r\nUnfortunatelly, it&#39;s not exactly what i&#39;m expecting. ","title":"Adding a property to a unique XMLElement in a POJO with JAXB","body":"<p>I have to build an XML containing several elements. I have such elements to build this XML part</p>\n<pre><code>&lt;ram:SpecifiedLineTradeAgreement&gt;\n  &lt;ram:BuyerOrderReferencedDocument&gt;\n    &lt;ram:LineID&gt;1&lt;/ram:LineID&gt;\n  &lt;/ram:BuyerOrderReferencedDocument&gt;\n  &lt;ram:NetPriceProductTradePrice&gt;\n    &lt;ram:ChargeAmount&gt;60.0000&lt;/ram:ChargeAmount&gt;\n    &lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;\n  &lt;/ram:NetPriceProductTradePrice&gt;\n&lt;/ram:SpecifiedLineTradeAgreement&gt;\n</code></pre>\n<p>I created POJOs for SpecifiedLineTradeAgreement, BuyerOrderReferencedDocument, NetPriceProductTradePrice...</p>\n<pre><code>@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class SpecifiedLineTradeAgreement {\n    @XmlElement(name = &quot;BuyerOrderReferencedDocument&quot;, namespace = NamespaceMapper.RAM_URI)\n    private BuyerOrderReferencedDocument buyerOrderReferencedDocument;\n    @XmlElement(name = &quot;NetPriceProductTradePrice&quot;, namespace = NamespaceMapper.RAM_URI)\n    private NetPriceProductTradePrice netPriceProductTradePrice;\n}\n\n@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class BuyerOrderReferencedDocument {\n    @XmlElement(name = &quot;LineID&quot;, namespace = NamespaceMapper.RAM_URI)\n    private String lineId;\n}\n\n@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class NetPriceProductTradePrice {\n    @XmlElement(name = &quot;ChargeAmount&quot;, namespace = NamespaceMapper.RAM_URI)\n    private String chargeAmount;\n\n    @XmlElement(name = &quot;BasisQuantity&quot;, namespace = NamespaceMapper.RAM_URI)\n    private String basisQuantity;\n}\n</code></pre>\n<p>My issue is concerning <code>&lt;ram:BasisQuantity unitCode=&quot;C62&quot;&gt;1.0000&lt;/ram:BasisQuantity&gt;</code>\nI found that we can use XMLAttribute annotation</p>\n<pre><code>@Getter @Setter\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class IssueDateTime {\n    @XmlElement(name = &quot;DateTimeString&quot;, namespace = NamespaceMapper.UDT_URI)\n    private String dateTimeString;\n    @XmlAttribute(name=&quot;format&quot;)\n    private int format;\n}\n</code></pre>\n<p>It generates this</p>\n<pre><code>&lt;ram:IssueDateTime format=&quot;102&quot;&gt;\n  &lt;udt:DateTimeString&gt;20200115&lt;/udt:DateTimeString&gt;\n&lt;/ram:IssueDateTime&gt;\n</code></pre>\n<p>Unfortunatelly, it's not exactly what i'm expecting.</p>\n"},{"tags":["java","intellij-idea","reformatting","reformat"],"comments":[{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1645196745,"post_id":71140155,"comment_id":125814186,"body_markdown":"Hello, please create an issue at YouTrack: https://youtrack.jetbrains.com/issues/IDEA and attach your project settings exported to it. Thank you","body":"Hello, please create an issue at YouTrack: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> and attach your project settings exported to it. Thank you"},{"owner":{"account_id":17383128,"reputation":5465,"user_id":12594975,"display_name":"Koyasha"},"score":0,"creation_date":1645717836,"post_id":71140155,"comment_id":125950833,"body_markdown":"Please follow https://youtrack.jetbrains.com/issue/IDEA-289630","body":"Please follow <a href=\"https://youtrack.jetbrains.com/issue/IDEA-289630\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-289630</a>"}],"owner":{"account_id":11006755,"reputation":31,"user_id":8085447,"display_name":"Sebastian Filip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1645007496,"creation_date":1645007496,"question_id":71140155,"body_markdown":"I am using macOS 12.2. \r\n\r\nThe code should look like this, and this is how is reformatted on a windows machine.\r\n\r\n    router.POST().route(\r\n            &quot;/api/randomStuff&quot;) // random comment\r\n            .with(RandomClass::getRandomThing);\r\nThis is how it looks on a Mac machine:\r\n\r\n    router.POST().route(\r\n                &quot;/api/randomStuff&quot;) // random comment\r\n            .with(RandomClass::getRandomThing);\r\n\r\nMac machine ads a new TAB when a function parameter is set. Why? \r\n","title":"Intellij Refactor Java Code is different from Mac than from Windows even though the same code style schema is used. why?","body":"<p>I am using macOS 12.2.</p>\n<p>The code should look like this, and this is how is reformatted on a windows machine.</p>\n<pre><code>router.POST().route(\n        &quot;/api/randomStuff&quot;) // random comment\n        .with(RandomClass::getRandomThing);\n</code></pre>\n<p>This is how it looks on a Mac machine:</p>\n<pre><code>router.POST().route(\n            &quot;/api/randomStuff&quot;) // random comment\n        .with(RandomClass::getRandomThing);\n</code></pre>\n<p>Mac machine ads a new TAB when a function parameter is set. Why?</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1644161897,"creation_date":1593451424,"answer_id":62643518,"question_id":62643517,"body_markdown":"Here&#39;s the answer in Kotlin, in case if you don&#39;t want to increase the size of your app by using the `androidx` library.\r\n\r\n```Kotlin\r\nprivate fun setFullscreen() {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        window.attributes.layoutInDisplayCutoutMode =\r\n            WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n        window.setDecorFitsSystemWindows(false)\r\n        window.insetsController?.apply {\r\n            hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n            systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n        }\r\n    } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n        @Suppress(&quot;DEPRECATION&quot;)\r\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                or View.SYSTEM_UI_FLAG_IMMERSIVE\r\n                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION)\r\n    }\r\n}\r\n```\r\n\r\nCall the function your activity&#39;s `onCreate` method.\r\n\r\n**ORIGINAL ANSWER:**\r\n\r\nAs documentation suggests, you should use `WindowInsetsController`.\r\n\r\n```Java\r\ngetWindow().setDecorFitsSystemWindows(false);\r\nWindowInsetsController controller = getWindow().getInsetsController();\r\nif (controller != null) {\r\n    controller.hide(WindowInsets.Type.statusBars() | WindowInsets.Type.navigationBars());\r\n    controller.setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n}\r\n```","title":"Immersive fullscreen on Android 11","body":"<p>Here's the answer in Kotlin, in case if you don't want to increase the size of your app by using the <code>androidx</code> library.</p>\n<pre><code>private fun setFullscreen() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        window.attributes.layoutInDisplayCutoutMode =\n            WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        window.setDecorFitsSystemWindows(false)\n        window.insetsController?.apply {\n            hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n            systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n        }\n    } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        @Suppress(&quot;DEPRECATION&quot;)\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_FULLSCREEN\n                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_IMMERSIVE\n                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION)\n    }\n}\n</code></pre>\n<p>Call the function your activity's <code>onCreate</code> method.</p>\n<p><strong>ORIGINAL ANSWER:</strong></p>\n<p>As documentation suggests, you should use <code>WindowInsetsController</code>.</p>\n<pre><code>getWindow().setDecorFitsSystemWindows(false);\nWindowInsetsController controller = getWindow().getInsetsController();\nif (controller != null) {\n    controller.hide(WindowInsets.Type.statusBars() | WindowInsets.Type.navigationBars());\n    controller.setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603812,"reputation":379,"user_id":6444520,"display_name":"Robiul Hossain Shah"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1601702539,"creation_date":1601702539,"answer_id":64180992,"question_id":62643517,"body_markdown":"For the deprecation, you can try the below code. Worked for me. \r\n\r\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            final WindowInsetsController controller = getWindow().getInsetsController();\r\n\r\n            if (controller != null)\r\n                controller.hide(WindowInsets.Type.statusBars());\r\n        }\r\n        else {\r\n            //noinspection deprecation\r\n                    getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\r\n        }","title":"Immersive fullscreen on Android 11","body":"<p>For the deprecation, you can try the below code. Worked for me.</p>\n<pre><code>  if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        final WindowInsetsController controller = getWindow().getInsetsController();\n\n        if (controller != null)\n            controller.hide(WindowInsets.Type.statusBars());\n    }\n    else {\n        //noinspection deprecation\n                getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE\n                    | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4175959,"reputation":4744,"user_id":3422470,"display_name":"James"},"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1626195670,"creation_date":1605301524,"answer_id":64828028,"question_id":62643517,"body_markdown":"For compatibility, use `WindowCompat` and `WindowInsetsControllerCompat`. You&#39;ll need to upgrade your gradle dependency for `androidx.core` to at least `1.6.0-alpha03` so that there will be support for `setSystemBarsBehavior` on SDK &lt; 30. `mainContainer` is the top-level `ConstraintLayout` in my activity.\r\n\r\n\r\n    private fun hideSystemUI() {\r\n        WindowCompat.setDecorFitsSystemWindows(window, false)\r\n        WindowInsetsControllerCompat(window, mainContainer).let { controller -&gt;\r\n            controller.hide(WindowInsetsCompat.Type.systemBars())\r\n            controller.systemBarsBehavior = WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n        }\r\n    }\r\n\r\n    private fun showSystemUI() {\r\n        WindowCompat.setDecorFitsSystemWindows(window, true)\r\n        WindowInsetsControllerCompat(window, mainContainer).show(WindowInsetsCompat.Type.systemBars())\r\n    }\r\n\r\nYou can find out more information about `WindowInsets` by watching this [YouTube video][1]\r\n\r\n**EDIT:**\r\n\r\nI didn&#39;t consider display cutouts or in-display cameras in this answer previously. In the app theme style, i added the following to display my content above the cutout (to the top of the screen when in portrait mode): \r\n\r\n    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\r\n\r\nYou can read more at this link: [Display Cutout][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=acC7SR1EXsI\r\n  [2]: https://developer.android.com/guide/topics/display-cutout","title":"Immersive fullscreen on Android 11","body":"<p>For compatibility, use <code>WindowCompat</code> and <code>WindowInsetsControllerCompat</code>. You'll need to upgrade your gradle dependency for <code>androidx.core</code> to at least <code>1.6.0-alpha03</code> so that there will be support for <code>setSystemBarsBehavior</code> on SDK &lt; 30. <code>mainContainer</code> is the top-level <code>ConstraintLayout</code> in my activity.</p>\n<pre><code>private fun hideSystemUI() {\n    WindowCompat.setDecorFitsSystemWindows(window, false)\n    WindowInsetsControllerCompat(window, mainContainer).let { controller -&gt;\n        controller.hide(WindowInsetsCompat.Type.systemBars())\n        controller.systemBarsBehavior = WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n    }\n}\n\nprivate fun showSystemUI() {\n    WindowCompat.setDecorFitsSystemWindows(window, true)\n    WindowInsetsControllerCompat(window, mainContainer).show(WindowInsetsCompat.Type.systemBars())\n}\n</code></pre>\n<p>You can find out more information about <code>WindowInsets</code> by watching this <a href=\"https://www.youtube.com/watch?v=acC7SR1EXsI\" rel=\"noreferrer\">YouTube video</a></p>\n<p><strong>EDIT:</strong></p>\n<p>I didn't consider display cutouts or in-display cameras in this answer previously. In the app theme style, i added the following to display my content above the cutout (to the top of the screen when in portrait mode):</p>\n<pre><code>&lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot;&gt;shortEdges&lt;/item&gt;\n</code></pre>\n<p>You can read more at this link: <a href=\"https://developer.android.com/guide/topics/display-cutout\" rel=\"noreferrer\">Display Cutout</a></p>\n"},{"tags":[],"owner":{"account_id":3643680,"reputation":406,"user_id":3037246,"accept_rate":80,"display_name":"Web.11"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1607008370,"creation_date":1607008370,"answer_id":65128718,"question_id":62643517,"body_markdown":"This works for me, mixed two answers:\r\n\r\nFirst create method :\r\n\r\n\r\n    private void setFullScreen(){\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            getWindow().setDecorFitsSystemWindows(false);\r\n            WindowInsetsController controller = getWindow().getInsetsController();\r\n            if(controller != null) {\r\n                controller.hide(WindowInsets.Type.statusBars() | WindowInsets.Type.navigationBars());\r\n                controller.setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n            }\r\n        }\r\n        else {\r\n            //noinspection deprecation\r\n            getWindow().getDecorView().setSystemUiVisibility(\r\n                    View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                            | View.SYSTEM_UI_FLAG_IMMERSIVE\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\r\n        }\r\n    }\r\n\r\nthen on create just call it after setContentView like this :\r\n\r\n      @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main_menu);\r\n            setFullScreen();\r\n        }\r\n\r\nand it works like a charm :D","title":"Immersive fullscreen on Android 11","body":"<p>This works for me, mixed two answers:</p>\n<p>First create method :</p>\n<pre><code>private void setFullScreen(){\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        getWindow().setDecorFitsSystemWindows(false);\n        WindowInsetsController controller = getWindow().getInsetsController();\n        if(controller != null) {\n            controller.hide(WindowInsets.Type.statusBars() | WindowInsets.Type.navigationBars());\n            controller.setSystemBarsBehavior(WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n        }\n    }\n    else {\n        //noinspection deprecation\n        getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                        | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                        | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\n    }\n}\n</code></pre>\n<p>then on create just call it after setContentView like this :</p>\n<pre><code>  @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main_menu);\n        setFullScreen();\n    }\n</code></pre>\n<p>and it works like a charm :D</p>\n"},{"tags":[],"owner":{"account_id":9302914,"reputation":523,"user_id":6907714,"display_name":"Stevie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609384848,"creation_date":1609384848,"answer_id":65516235,"question_id":62643517,"body_markdown":"**I&#39;m using this one, work perfectly for all Android version**\r\n\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                window.setDecorFitsSystemWindows(false)\r\n                val controller = window.insetsController\r\n                if (controller != null) {\r\n                    controller.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n                    controller.systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n                }\r\n            } else {\r\n                // All below using to hide navigation bar\r\n                val currentApiVersion = Build.VERSION.SDK_INT\r\n                val flags = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                        or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                        or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                        or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        or View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY)\r\n    \r\n                // This work only for android 4.4+\r\n                if (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT) {\r\n                    window.decorView.systemUiVisibility = flags\r\n                    // Code below is to handle presses of Volume up or Volume down.\r\n                    // Without this, after pressing volume buttons, the navigation bar will\r\n                    // show up and won&#39;t hide\r\n                    val decorView = window.decorView\r\n                    decorView.setOnSystemUiVisibilityChangeListener { visibility: Int -&gt;\r\n                        if (visibility and View.SYSTEM_UI_FLAG_FULLSCREEN == 0) {\r\n                            decorView.systemUiVisibility = flags\r\n                        }\r\n                    }\r\n                }\r\n            }","title":"Immersive fullscreen on Android 11","body":"<p><strong>I'm using this one, work perfectly for all Android version</strong></p>\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            window.setDecorFitsSystemWindows(false)\n            val controller = window.insetsController\n            if (controller != null) {\n                controller.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n                controller.systemBarsBehavior = WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n            }\n        } else {\n            // All below using to hide navigation bar\n            val currentApiVersion = Build.VERSION.SDK_INT\n            val flags = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                    or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    or View.SYSTEM_UI_FLAG_FULLSCREEN\n                    or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY)\n\n            // This work only for android 4.4+\n            if (currentApiVersion &gt;= Build.VERSION_CODES.KITKAT) {\n                window.decorView.systemUiVisibility = flags\n                // Code below is to handle presses of Volume up or Volume down.\n                // Without this, after pressing volume buttons, the navigation bar will\n                // show up and won't hide\n                val decorView = window.decorView\n                decorView.setOnSystemUiVisibilityChangeListener { visibility: Int -&gt;\n                    if (visibility and View.SYSTEM_UI_FLAG_FULLSCREEN == 0) {\n                        decorView.systemUiVisibility = flags\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6793120,"reputation":2129,"user_id":5229463,"display_name":"Vidyesh Churi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623772356,"creation_date":1623771631,"answer_id":67989388,"question_id":62643517,"body_markdown":"According to [Chris Banes @\r\nAndroid Developers official youtube channel\r\n][1] use following code\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        private lateinit var binding: ActivityMainBinding\r\n        private lateinit var view: View\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = ActivityMainBinding.inflate(layoutInflater)\r\n            view = binding.root\r\n            setContentView(view)\r\n        }\r\n\r\n        override fun onWindowFocusChanged(hasFocus: Boolean) {\r\n            super.onWindowFocusChanged(hasFocus)\r\n            if (hasFocus) hideSystemUI()\r\n        }\r\n\r\n        private fun hideSystemUI() {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                // Tell the window that we want to handle/fit any system windows\r\n                WindowCompat.setDecorFitsSystemWindows(window, false)\r\n\r\n                val controller = view.windowInsetsController\r\n\r\n                // Hide the keyboard (IME)\r\n                controller?.hide(WindowInsets.Type.ime())\r\n\r\n                // Sticky Immersive is now ...\r\n                controller?.systemBarsBehavior = BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n\r\n                // When we want to hide the system bars\r\n                controller?.hide(WindowInsets.Type.systemBars())\r\n\r\n                /*val flag = WindowInsets.Type.statusBars()\r\n                WindowInsets.Type.navigationBars()\r\n                WindowInsets.Type.captionBar()\r\n                window?.insetsController?.hide(flag)*/\r\n            } else {\r\n                //noinspection\r\n                @Suppress(&quot;DEPRECATION&quot;)\r\n                // For &quot;lean back&quot; mode, remove SYSTEM_UI_FLAG_IMMERSIVE.\r\n                window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                    // Set the content to appear under the system bars so that the\r\n                    // content doesn&#39;t resize when the system bars hide and show.\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    // Hide the nav bar and status bar\r\n                    or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    or View.SYSTEM_UI_FLAG_FULLSCREEN)\r\n            }\r\n        }\r\n    }\r\nHere is Sample Link [User interface sample][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=acC7SR1EXsI\r\n  [2]: https://github.com/android/user-interface-samples/tree/master/WindowInsetsAnimation","title":"Immersive fullscreen on Android 11","body":"<p>According to <a href=\"https://www.youtube.com/watch?v=acC7SR1EXsI\" rel=\"nofollow noreferrer\">Chris Banes @\nAndroid Developers official youtube channel\n</a> use following code</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private lateinit var view: View\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        view = binding.root\n        setContentView(view)\n    }\n\n    override fun onWindowFocusChanged(hasFocus: Boolean) {\n        super.onWindowFocusChanged(hasFocus)\n        if (hasFocus) hideSystemUI()\n    }\n\n    private fun hideSystemUI() {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            // Tell the window that we want to handle/fit any system windows\n            WindowCompat.setDecorFitsSystemWindows(window, false)\n\n            val controller = view.windowInsetsController\n\n            // Hide the keyboard (IME)\n            controller?.hide(WindowInsets.Type.ime())\n\n            // Sticky Immersive is now ...\n            controller?.systemBarsBehavior = BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n\n            // When we want to hide the system bars\n            controller?.hide(WindowInsets.Type.systemBars())\n\n            /*val flag = WindowInsets.Type.statusBars()\n            WindowInsets.Type.navigationBars()\n            WindowInsets.Type.captionBar()\n            window?.insetsController?.hide(flag)*/\n        } else {\n            //noinspection\n            @Suppress(&quot;DEPRECATION&quot;)\n            // For &quot;lean back&quot; mode, remove SYSTEM_UI_FLAG_IMMERSIVE.\n            window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                // Set the content to appear under the system bars so that the\n                // content doesn't resize when the system bars hide and show.\n                or View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                or View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                // Hide the nav bar and status bar\n                or View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                or View.SYSTEM_UI_FLAG_FULLSCREEN)\n        }\n    }\n}\n</code></pre>\n<p>Here is Sample Link <a href=\"https://github.com/android/user-interface-samples/tree/master/WindowInsetsAnimation\" rel=\"nofollow noreferrer\">User interface sample</a></p>\n"},{"tags":[],"owner":{"account_id":20848390,"reputation":833,"user_id":15313429,"display_name":"Mazhar Iqbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632865834,"creation_date":1623932127,"answer_id":68019151,"question_id":62643517,"body_markdown":"   //you can do it by  the following simple method\r\n\r\n\r\n```java\r\npublic void FullScreencall() {\r\n  if (Build.VERSION.SDK_INT &lt; 19) {\r\n    getWindow().getDecorView().setSystemUiVisibility(8);\r\n  } else {\r\n    getWindow().getDecorView().setSystemUiVisibility(InputDeviceCompat.SOURCE_TOUCHSCREEN);       \r\n  }\r\n}\r\n```\r\n \r\n \r\n \r\n \r\n \r\n ","title":"Immersive fullscreen on Android 11","body":"<p>//you can do it by  the following simple method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void FullScreencall() {\n  if (Build.VERSION.SDK_INT &lt; 19) {\n    getWindow().getDecorView().setSystemUiVisibility(8);\n  } else {\n    getWindow().getDecorView().setSystemUiVisibility(InputDeviceCompat.SOURCE_TOUCHSCREEN);       \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5547491,"reputation":3378,"user_id":4401692,"accept_rate":0,"display_name":"Pankaj Talaviya"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645007383,"creation_date":1645007383,"answer_id":71140116,"question_id":62643517,"body_markdown":"For fullscreen\r\n\r\nHide StatusBar \r\n\r\n    private void hideSystemBars() {\r\n        WindowCompat.setDecorFitsSystemWindows(getWindow(), false);\r\n        WindowInsetsControllerCompat windowInsetsController = ViewCompat.getWindowInsetsController(getWindow().getDecorView());\r\n        if (windowInsetsController == null) {\r\n            return;\r\n        }\r\n        // Configure the behavior of the hidden system bars\r\n        windowInsetsController.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n        // Hide both the status bar and the navigation bar\r\n        windowInsetsController.hide(WindowInsetsCompat.Type.systemBars());\r\n    }\r\n\r\nshow StatusBar\r\n\r\n    private void showSystemBars() {\r\n        WindowCompat.setDecorFitsSystemWindows(getWindow(), false);\r\n        WindowInsetsControllerCompat windowInsetsController = ViewCompat.getWindowInsetsController(getWindow().getDecorView());\r\n        if (windowInsetsController == null) {\r\n            return;\r\n        }\r\n        // Configure the behavior of the hidden system bars\r\n        windowInsetsController.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n        // Hide both the status bar and the navigation bar\r\n        windowInsetsController.show(WindowInsetsCompat.Type.systemBars());\r\n    }\r\n\r\nfor top camera cutting in full screen mode\r\n\r\n    &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:ignore=&quot;NewApi&quot;&gt;shortEdges&lt;/item&gt;","title":"Immersive fullscreen on Android 11","body":"<p>For fullscreen</p>\n<p>Hide StatusBar</p>\n<pre><code>private void hideSystemBars() {\n    WindowCompat.setDecorFitsSystemWindows(getWindow(), false);\n    WindowInsetsControllerCompat windowInsetsController = ViewCompat.getWindowInsetsController(getWindow().getDecorView());\n    if (windowInsetsController == null) {\n        return;\n    }\n    // Configure the behavior of the hidden system bars\n    windowInsetsController.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n    // Hide both the status bar and the navigation bar\n    windowInsetsController.hide(WindowInsetsCompat.Type.systemBars());\n}\n</code></pre>\n<p>show StatusBar</p>\n<pre><code>private void showSystemBars() {\n    WindowCompat.setDecorFitsSystemWindows(getWindow(), false);\n    WindowInsetsControllerCompat windowInsetsController = ViewCompat.getWindowInsetsController(getWindow().getDecorView());\n    if (windowInsetsController == null) {\n        return;\n    }\n    // Configure the behavior of the hidden system bars\n    windowInsetsController.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n    // Hide both the status bar and the navigation bar\n    windowInsetsController.show(WindowInsetsCompat.Type.systemBars());\n}\n</code></pre>\n<p>for top camera cutting in full screen mode</p>\n<pre><code>&lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:ignore=&quot;NewApi&quot;&gt;shortEdges&lt;/item&gt;\n</code></pre>\n"}],"owner":{"account_id":8125310,"reputation":2565,"user_id":6120487,"display_name":"Lev Leontev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45256,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"closed_date":1650257441,"accepted_answer_id":64828028,"answer_count":8,"score":45,"last_activity_date":1645007383,"creation_date":1593451424,"question_id":62643517,"body_markdown":"Before, to enable immersive fullscreen mode, you&#39;d have to use `setSystemUiVisibility`, like so:\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\r\nAs of API 30, it&#39;s deprecated, so what&#39;s the workaround?","title":"Immersive fullscreen on Android 11","body":"<p>Before, to enable immersive fullscreen mode, you'd have to use <code>setSystemUiVisibility</code>, like so:</p>\n<pre><code>getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n            | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN\n            | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n</code></pre>\n<p>As of API 30, it's deprecated, so what's the workaround?</p>\n"},{"tags":["java","unicode","emoji","cdata","transformer-model"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1644932030,"post_id":71126974,"comment_id":125731583,"body_markdown":"What kind of problems does it cause when reading the file? It&#39;s perfectly valid XML.","body":"What kind of problems does it cause when reading the file? It&#39;s perfectly valid XML."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1644932473,"post_id":71126974,"comment_id":125731797,"body_markdown":"I&#39;m not into all tricky details of XML and encodings. But `&lt;TAG&gt;&lt;![CDATA[Save &#128190; Test]]&gt;&lt;/TAG&gt;` might be invalid as CDATA sections cannot contain surrogate blocks. And in UTF-16, a surrogate block is needed to represent &#128190;. So the transformer might actually do only correct thing.","body":"I&#39;m not into all tricky details of XML and encodings. But <code>&lt;TAG&gt;&lt;![CDATA[Save 💾 Test]]&gt;&lt;&#47;TAG&gt;</code> might be invalid as CDATA sections cannot contain surrogate blocks. And in UTF-16, a surrogate block is needed to represent 💾. So the transformer might actually do only correct thing."},{"owner":{"account_id":20232031,"reputation":1,"user_id":14838323,"display_name":"Sperli"},"score":0,"creation_date":1644936430,"post_id":71126974,"comment_id":125733629,"body_markdown":"@Codo Thanks for your response and the problem arises because the xml file is imported through a different function and is expecting one cdata section with all of the text inside it. Importing works perfectly fine actually if the &#128190; is in the cdata section. Will look into surrogate blocks though, thanks again.","body":"@Codo Thanks for your response and the problem arises because the xml file is imported through a different function and is expecting one cdata section with all of the text inside it. Importing works perfectly fine actually if the 💾 is in the cdata section. Will look into surrogate blocks though, thanks again."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1644938417,"post_id":71126974,"comment_id":125734594,"body_markdown":"The code that does the importing is **broken.**  There are a number of easy ways to read an element’s text content that will not depend on whether a single contiguous Text or CData node is present, like [Node.getTextContent()](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/Node.html#getTextContent()) and [XPath.evaluate](https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html#evaluate(java.lang.String,java.lang.Object)).","body":"The code that does the importing is <b>broken.</b>  There are a number of easy ways to read an element’s text content that will not depend on whether a single contiguous Text or CData node is present, like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/Node.html#getTextContent()\" rel=\"nofollow noreferrer\">Node.getTextContent()</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/xpath/XPath.html#evaluate(java.lang.String,java.lang.Object)\" rel=\"nofollow noreferrer\">XPath.evaluate</a>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644938465,"post_id":71126974,"comment_id":125734625,"body_markdown":"@Codo Surrogate blocks are not needed (and should never be used) if the XML document’s encoding is UTF-8.","body":"@Codo Surrogate blocks are not needed (and should never be used) if the XML document’s encoding is UTF-8."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1644938837,"post_id":71126974,"comment_id":125734829,"body_markdown":"I&#39;m aware of it. Yet the XML standard explicitly mentions it, thereby mixing up two different things: XML and Unicode encoding. As the XML formatter likely does not know what encoding will be used, it might assume the worst, i.e. UTF-16 with surrogate blocks, and split the CDATA section.","body":"I&#39;m aware of it. Yet the XML standard explicitly mentions it, thereby mixing up two different things: XML and Unicode encoding. As the XML formatter likely does not know what encoding will be used, it might assume the worst, i.e. UTF-16 with surrogate blocks, and split the CDATA section."},{"owner":{"account_id":20232031,"reputation":1,"user_id":14838323,"display_name":"Sperli"},"score":0,"creation_date":1644939161,"post_id":71126974,"comment_id":125734981,"body_markdown":"@VGR should have specified that the importing code part isn&#39;t done in Java but rather in PLSQL, Java only calls a function with the data of the xml file as a clob","body":"@VGR should have specified that the importing code part isn&#39;t done in Java but rather in PLSQL, Java only calls a function with the data of the xml file as a clob"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644956120,"post_id":71126974,"comment_id":125741657,"body_markdown":"You may find that `dbFactory.setCoalescing(true);` (before creating the DocumentBuilder) helps.","body":"You may find that <code>dbFactory.setCoalescing(true);</code> (before creating the DocumentBuilder) helps."}],"answers":[{"tags":[],"owner":{"account_id":20232031,"reputation":1,"user_id":14838323,"display_name":"Sperli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645007260,"creation_date":1645007260,"answer_id":71140092,"question_id":71126974,"body_markdown":"Thanks to everybody who commented on the question. @VGR and @Codo\r\n\r\nSadly setCoalescing didn&#39;t quite do the job for what I wanted to do. \r\n\r\nUsing dom4j helped at the end as I was able to use XMLWriter and an OutputFormat to write the String in the formatted way with the text &quot;staying&quot; in the CDATA Section. This of course doesn&#39;t make the XML file valid, having surrogate blocks in the section as VGR mentioned and doesn&#39;t make the solution good but it does what is needed. \r\n\r\n","title":"Java Transformer not writing unicode symbol in CDATA section","body":"<p>Thanks to everybody who commented on the question. @VGR and @Codo</p>\n<p>Sadly setCoalescing didn't quite do the job for what I wanted to do.</p>\n<p>Using dom4j helped at the end as I was able to use XMLWriter and an OutputFormat to write the String in the formatted way with the text &quot;staying&quot; in the CDATA Section. This of course doesn't make the XML file valid, having surrogate blocks in the section as VGR mentioned and doesn't make the solution good but it does what is needed.</p>\n"}],"owner":{"account_id":20232031,"reputation":1,"user_id":14838323,"display_name":"Sperli"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645007260,"creation_date":1644930390,"question_id":71126974,"body_markdown":"My goal is to write a String containing the xmldata into a XML file. \r\n\r\nBut for some reason unicodes are not written into the cdata sections properly but rather end up outside of them. \r\n\r\n\r\nFor example:\r\n\r\nWith the string received containing `...&lt;TAG&gt;&lt;![CDATA[Save ߒ&#190; Test]]&gt;&lt;/TAG&gt;...` the wanted content of the file is: \r\n\r\n`&lt;TAG&gt;&lt;![CDATA[Save &#128190; Test]]&gt;&lt;/TAG&gt;` \r\n\r\nBut after transforming it turns out as: \r\n\r\n`&lt;TAG&gt;&lt;![CDATA[Save ]]&gt;&#128190;&lt;![CDATA[ Test]]&gt;&lt;/TAG&gt;`\r\n\r\nWhich results in problems when wanting to read the file. \r\n\r\nHere the code for the function: \r\n\r\n    public static void saveFile(String fileName, String xmlData) throws Exception {\r\n    OutputStream out = null;\r\n    Writer writer = null;\r\n    try {\r\n      DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n      DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n      InputStream iStream= new ByteArrayInputStream(xmlData.getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n      Document document = dBuilder.parse(iStream);\r\n\r\n      TransformerFactory tFactory = TransformerFactory.newInstance();\r\n      Transformer transformer = tFactory.newTransformer();\r\n      transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\r\n      transformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\r\n      transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n      transformer.setOutputProperty(OutputKeys.ENCODING, document.getXmlEncoding());\r\n\r\n      out = new FileOutputStream(new File(fileName));\r\n      writer = new OutputStreamWriter(out, document.getXmlEncoding());\r\n      transformer.transform(new DOMSource(document), new StreamResult(writer));\r\n\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n      throw new Exception(&quot;Could not export XML-File!&quot;, e);\r\n    } finally {\r\n      CommonUtil.close(writer, out);\r\n    }\r\n}\r\n\r\nFor reference the corresponding node in the document object also contains the whole text: \r\n\r\n`[[#cdata-section: Speichern ߒ&#190; Test]]` \r\n\r\nAm I missing something or has anyone run into a similar problem before? ","title":"Java Transformer not writing unicode symbol in CDATA section","body":"<p>My goal is to write a String containing the xmldata into a XML file.</p>\n<p>But for some reason unicodes are not written into the cdata sections properly but rather end up outside of them.</p>\n<p>For example:</p>\n<p>With the string received containing <code>...&lt;TAG&gt;&lt;![CDATA[Save ߒ¾ Test]]&gt;&lt;/TAG&gt;...</code> the wanted content of the file is:</p>\n<p><code>&lt;TAG&gt;&lt;![CDATA[Save 💾 Test]]&gt;&lt;/TAG&gt;</code></p>\n<p>But after transforming it turns out as:</p>\n<p><code>&lt;TAG&gt;&lt;![CDATA[Save ]]&gt;💾&lt;![CDATA[ Test]]&gt;&lt;/TAG&gt;</code></p>\n<p>Which results in problems when wanting to read the file.</p>\n<p>Here the code for the function:</p>\n<pre><code>public static void saveFile(String fileName, String xmlData) throws Exception {\nOutputStream out = null;\nWriter writer = null;\ntry {\n  DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n  DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n  InputStream iStream= new ByteArrayInputStream(xmlData.getBytes(Charset.forName(&quot;UTF-8&quot;)));\n  Document document = dBuilder.parse(iStream);\n\n  TransformerFactory tFactory = TransformerFactory.newInstance();\n  Transformer transformer = tFactory.newTransformer();\n  transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;no&quot;);\n  transformer.setOutputProperty(OutputKeys.METHOD, &quot;xml&quot;);\n  transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n  transformer.setOutputProperty(OutputKeys.ENCODING, document.getXmlEncoding());\n\n  out = new FileOutputStream(new File(fileName));\n  writer = new OutputStreamWriter(out, document.getXmlEncoding());\n  transformer.transform(new DOMSource(document), new StreamResult(writer));\n\n} catch (Exception e) {\n  e.printStackTrace();\n  throw new Exception(&quot;Could not export XML-File!&quot;, e);\n} finally {\n  CommonUtil.close(writer, out);\n}\n</code></pre>\n<p>}</p>\n<p>For reference the corresponding node in the document object also contains the whole text:</p>\n<p><code>[[#cdata-section: Speichern ߒ¾ Test]]</code></p>\n<p>Am I missing something or has anyone run into a similar problem before?</p>\n"},{"tags":["java","spring-boot","websocket"],"comments":[{"owner":{"account_id":1560992,"reputation":1864,"user_id":1450862,"accept_rate":83,"display_name":"Will M."},"score":0,"creation_date":1527609533,"post_id":50587573,"comment_id":88186344,"body_markdown":"Reason 1008 being &quot;POLICY_VIOLATION\n&quot;1008 indicates that an endpoint is terminating the connection because it has received a message that violates its policy&quot;? Have you checked your logs for if there is a policy violating message being sent?","body":"Reason 1008 being &quot;POLICY_VIOLATION &quot;1008 indicates that an endpoint is terminating the connection because it has received a message that violates its policy&quot;? Have you checked your logs for if there is a policy violating message being sent?"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527608409,"creation_date":1527606682,"answer_id":50587713,"question_id":50587573,"body_markdown":"The connection can be closed if any between server or client closes it, and also by a firewall if it notes that there is no activity on the established connection.\r\n\r\nSo you need to check timeout also on the client side. It is reasanable that 30 minutes is the default timeout for this kind of connection so it seams that on the client side it uses default values.\r\n\r\nAdditionally it is a good design to check periodically  the status of the connection, for example sending a sort of ping (message from the client) /pong (response from the server) message. If you do it every minute for example you have an idea of the connection status and the connection will never be closed for inactivity. \r\n\r\n","title":"Spring websocket is automatically closed after 30 minutes (timeout)","body":"<p>The connection can be closed if any between server or client closes it, and also by a firewall if it notes that there is no activity on the established connection.</p>\n\n<p>So you need to check timeout also on the client side. It is reasanable that 30 minutes is the default timeout for this kind of connection so it seams that on the client side it uses default values.</p>\n\n<p>Additionally it is a good design to check periodically  the status of the connection, for example sending a sort of ping (message from the client) /pong (response from the server) message. If you do it every minute for example you have an idea of the connection status and the connection will never be closed for inactivity. </p>\n"},{"tags":[],"owner":{"account_id":2989809,"reputation":61,"user_id":2537603,"display_name":"debugging"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564411026,"creation_date":1564411026,"answer_id":57256058,"question_id":50587573,"body_markdown":"I found my WebSocket closed after 30 minutes too. \r\n\r\nThe root reason is the http session will close after 30 minutes by default in SpringBoot.\r\n\r\n\r\nIn SpringBoot config property `server.servlet.session.timeout` will change the default behavior, but there might have [some limit](https://stackoverflow.com/questions/54193797/server-servlet-session-timeout-is-not-working-in-spring-boot-project-in-digitalo). \r\n\r\nBesides, WebSocket connections have pingpong messages to keep alive, so the connection should never be closed, until the pingpong stops.\r\n\r\nAfter some tracing, I found a way to solve this problem:\r\n\r\n 1. The timer to close the connection is here `io.undertow.server.session.InMemorySessionManager.SessionImpl` in my case.\r\n 2. As we can see `io.undertow.server.session.InMemorySessionManager.SessionImpl#setMaxInactiveInterval` will reset the timer.\r\n 3. This method will be called by `javax.servlet.http.HttpSession#setMaxInactiveInterval`.\r\n 4. So, once `setMaxInactiveInterval` is called before each timeout, the connection will never be closed.\r\n\r\nHere is my implementation:\r\n\r\n 1. Store the `HandshakeRequest` into the `javax.websocket.EndpointConfig#getUserProperties` in the Configurator `javax.websocket.server.ServerEndpointConfig.Configurator#modifyHandshake`\r\n 2. **Our clients will send String messages to keep alive,** so in the `onMessage` method, fetch the `HandshakeRequest` from `javax.websocket.Session#getUserProperties`, then\r\n\r\n```java\r\nHttpSession httpSession = (HttpSession) handshakeRequest.getHttpSession();\r\nhttpSession.setMaxInactiveInterval((int) (session.getMaxIdleTimeout() / 1000));\r\n```\r\n\r\nThat&#39;s all, hope it helps.\r\n","title":"Spring websocket is automatically closed after 30 minutes (timeout)","body":"<p>I found my WebSocket closed after 30 minutes too. </p>\n\n<p>The root reason is the http session will close after 30 minutes by default in SpringBoot.</p>\n\n<p>In SpringBoot config property <code>server.servlet.session.timeout</code> will change the default behavior, but there might have <a href=\"https://stackoverflow.com/questions/54193797/server-servlet-session-timeout-is-not-working-in-spring-boot-project-in-digitalo\">some limit</a>. </p>\n\n<p>Besides, WebSocket connections have pingpong messages to keep alive, so the connection should never be closed, until the pingpong stops.</p>\n\n<p>After some tracing, I found a way to solve this problem:</p>\n\n<ol>\n<li>The timer to close the connection is here <code>io.undertow.server.session.InMemorySessionManager.SessionImpl</code> in my case.</li>\n<li>As we can see <code>io.undertow.server.session.InMemorySessionManager.SessionImpl#setMaxInactiveInterval</code> will reset the timer.</li>\n<li>This method will be called by <code>javax.servlet.http.HttpSession#setMaxInactiveInterval</code>.</li>\n<li>So, once <code>setMaxInactiveInterval</code> is called before each timeout, the connection will never be closed.</li>\n</ol>\n\n<p>Here is my implementation:</p>\n\n<ol>\n<li>Store the <code>HandshakeRequest</code> into the <code>javax.websocket.EndpointConfig#getUserProperties</code> in the Configurator <code>javax.websocket.server.ServerEndpointConfig.Configurator#modifyHandshake</code></li>\n<li><strong>Our clients will send String messages to keep alive,</strong> so in the <code>onMessage</code> method, fetch the <code>HandshakeRequest</code> from <code>javax.websocket.Session#getUserProperties</code>, then</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>HttpSession httpSession = (HttpSession) handshakeRequest.getHttpSession();\nhttpSession.setMaxInactiveInterval((int) (session.getMaxIdleTimeout() / 1000));\n</code></pre>\n\n<p>That's all, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":17683604,"reputation":1,"user_id":12836938,"display_name":"chan lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627146322,"creation_date":1627132994,"answer_id":68510395,"question_id":50587573,"body_markdown":"\r\n\r\n 1. In my case, timeout of HttpSession in SpringBoot is set to\r\n    `server.servlet.session.timeout: 1` (1 minute)\r\n\r\n 2. Set websocket endpoint in Spring Security config to httpBasic\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.antMatcher(&quot;/ocpp/**&quot;)\r\n            .authorizeRequests()                         \r\n            .anyRequest().permitAll()//.hasAnyRole(&quot;CS&quot;,&quot;SYSTEM_ADMIN&quot;)\r\n            .and().httpBasic();\r\n        }\r\n\r\n 3. use basic authentication in websocket client\r\n\r\n            String id = &quot;testuser&quot;;\r\n    \t\tString pw = &quot;1234&quot;;\r\n    \t\tString idpw = new String(Base64.getEncoder().encode((id+&quot;:&quot;+pw).getBytes()));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;id[&quot;+id+&quot;]pw[&quot;+pw+&quot;]idpw[&quot;+idpw+&quot;]&quot;);\r\n    \t\t;\r\n    \t\tMap&lt;String, String&gt; httpHeaders = new HashMap&lt;String, String&gt;();\r\n    \t\thttpHeaders.put(&quot;authorization&quot;, &quot;Basic &quot;+idpw);\r\n    \t\tWebSocketClient webSocketClient = new WebSocketClient(new URI(&quot;ws://localhost:9112/ocpp/testuser&quot;)\r\n    \t\t\t\t, new Draft_6455(Collections.emptyList(), Collections.singletonList(new Protocol(&quot;ocpp2.0.1&quot;)))\r\n    \t\t\t\t, httpHeaders\r\n    \t\t) {\r\n    \t\t...\r\n\r\n\r\nIn this condition, if the endpoint is a protected resource, websocket close 1008 occurs when the HttpSession is terminated.\r\n\r\n[Reference][1]: Read Paragraph 7.2\r\n\r\n**The solution is to directly implement http basic processing in websocket addInterceptor.\r\n(Spring Security httpBasic not use)\r\n**\r\n\r\nadd `addInterceptor` in `WebSocketConfig.java`:\r\n\r\n\r\n    .addInterceptors(new HandshakeInterceptor() {\r\n    \t@Override\r\n    \tpublic boolean beforeHandshake(ServerHttpRequest serverHttpRequest, ServerHttpResponse serverHttpResponse, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) throws Exception {\r\n    \t\tlog.debug(&quot;===============================================================&quot;);\r\n    \t\tlog.debug(&quot;beforeHandshake[]&quot;+attributes);\r\n    \t\tServletServerHttpRequest ssreq = (ServletServerHttpRequest)serverHttpRequest;\r\n    \t\tServletServerHttpResponse ssres = (ServletServerHttpResponse)serverHttpResponse;\r\n    \t\tHttpServletRequest req = ssreq.getServletRequest();\r\n    \t\tHttpServletResponse res = ssres.getServletResponse();\r\n    \t\tHttpSession session = req.getSession();\r\n    \t\tlog.debug(&quot;session[&quot;+session.getId());\r\n    \t\tlog.debug(&quot;session[&quot;+session.getMaxInactiveInterval());\r\n    \r\n    \t\t//authentication\r\n    \t\ttry {\r\n    \t\t\tString header = req.getHeader(&quot;Authorization&quot;);\r\n    \t\t\tlog.debug(&quot;header[&quot; + header + &quot;]&quot;);\r\n    \t\t\tif (header == null) {\r\n    \t\t\t\tlog.debug(&quot;The Authorization header is empty&quot;);\r\n    //                                    throw new BadCredentialsException(&quot;The Authorization header is empty&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\theader = header.trim();\r\n    \t\t\t\tif (!StringUtils.startsWithIgnoreCase(header, &quot;Basic&quot;)) {\r\n    \t\t\t\t\tlog.debug(&quot;The Authorization header does not start with Basic.&quot;);\r\n    \t\t\t\t} else if (header.equalsIgnoreCase(&quot;Basic&quot;)) {\r\n    \t\t\t\t\tthrow new BadCredentialsException(&quot;Empty basic authentication token&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tbyte[] base64Token = header.substring(6).getBytes(StandardCharsets.UTF_8);\r\n    \t\t\t\t\tbyte[] decoded;\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tdecoded = Base64.getDecoder().decode(base64Token);\r\n    \t\t\t\t\t} catch (IllegalArgumentException var8) {\r\n    \t\t\t\t\t\tthrow new BadCredentialsException(&quot;Failed to decode basic authentication token&quot;);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tString token = new String(decoded, &quot;UTF-8&quot;);\r\n    \t\t\t\t\tint delim = token.indexOf(&quot;:&quot;);\r\n    \t\t\t\t\tif (delim == -1) {\r\n    \t\t\t\t\t\tthrow new BadCredentialsException(&quot;Invalid basic authentication token&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tlog.info(&quot;TOKEN [&quot; +token+&quot;]&quot;);\r\n    \t\t\t\t\t\tString principal = token.substring(0, delim);\r\n    \t\t\t\t\t\tString credencial = token.substring(delim + 1);\r\n    \t\t\t\t\t\t//your \r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(principal.equals(&quot;testuser&quot;) &amp;&amp; credencial.equals(&quot;1234&quot;)){\r\n    \t\t\t\t\t\t\tlog.debug(&quot;login OK&quot;);\r\n    \t\t\t\t\t\t}else{\r\n    \t\t\t\t\t\t\tthrow new BadCredentialsException(&quot;Invalid basic authentication token&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\tlog.error(&quot;Basic Authentication error&quot;, e);\r\n    \r\n    \t\t\tres.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \t\t\tres.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=&quot; + &quot;Realm&quot; + &quot;&quot;);\r\n    \t\t\tPrintWriter pw = res.getWriter();\r\n    \t\t\tpw.println(&quot;Invalid status code received: 401 Status line: HTTP/1.1 401&quot;);\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/websocket/2.0/websocket-spec-2.0.pdf","title":"Spring websocket is automatically closed after 30 minutes (timeout)","body":"<ol>\n<li><p>In my case, timeout of HttpSession in SpringBoot is set to\n<code>server.servlet.session.timeout: 1</code> (1 minute)</p>\n</li>\n<li><p>Set websocket endpoint in Spring Security config to httpBasic</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.antMatcher(&quot;/ocpp/**&quot;)\n    .authorizeRequests()                         \n    .anyRequest().permitAll()//.hasAnyRole(&quot;CS&quot;,&quot;SYSTEM_ADMIN&quot;)\n    .and().httpBasic();\n}\n</code></pre>\n</li>\n<li><p>use basic authentication in websocket client</p>\n<pre><code>    String id = &quot;testuser&quot;;\n    String pw = &quot;1234&quot;;\n    String idpw = new String(Base64.getEncoder().encode((id+&quot;:&quot;+pw).getBytes()));\n\n    System.out.println(&quot;id[&quot;+id+&quot;]pw[&quot;+pw+&quot;]idpw[&quot;+idpw+&quot;]&quot;);\n    ;\n    Map&lt;String, String&gt; httpHeaders = new HashMap&lt;String, String&gt;();\n    httpHeaders.put(&quot;authorization&quot;, &quot;Basic &quot;+idpw);\n    WebSocketClient webSocketClient = new WebSocketClient(new URI(&quot;ws://localhost:9112/ocpp/testuser&quot;)\n            , new Draft_6455(Collections.emptyList(), Collections.singletonList(new Protocol(&quot;ocpp2.0.1&quot;)))\n            , httpHeaders\n    ) {\n    ...\n</code></pre>\n</li>\n</ol>\n<p>In this condition, if the endpoint is a protected resource, websocket close 1008 occurs when the HttpSession is terminated.</p>\n<p><a href=\"https://jakarta.ee/specifications/websocket/2.0/websocket-spec-2.0.pdf\" rel=\"nofollow noreferrer\">Reference</a>: Read Paragraph 7.2</p>\n<p>**The solution is to directly implement http basic processing in websocket addInterceptor.\n(Spring Security httpBasic not use)\n**</p>\n<p>add <code>addInterceptor</code> in <code>WebSocketConfig.java</code>:</p>\n<pre><code>.addInterceptors(new HandshakeInterceptor() {\n    @Override\n    public boolean beforeHandshake(ServerHttpRequest serverHttpRequest, ServerHttpResponse serverHttpResponse, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) throws Exception {\n        log.debug(&quot;===============================================================&quot;);\n        log.debug(&quot;beforeHandshake[]&quot;+attributes);\n        ServletServerHttpRequest ssreq = (ServletServerHttpRequest)serverHttpRequest;\n        ServletServerHttpResponse ssres = (ServletServerHttpResponse)serverHttpResponse;\n        HttpServletRequest req = ssreq.getServletRequest();\n        HttpServletResponse res = ssres.getServletResponse();\n        HttpSession session = req.getSession();\n        log.debug(&quot;session[&quot;+session.getId());\n        log.debug(&quot;session[&quot;+session.getMaxInactiveInterval());\n\n        //authentication\n        try {\n            String header = req.getHeader(&quot;Authorization&quot;);\n            log.debug(&quot;header[&quot; + header + &quot;]&quot;);\n            if (header == null) {\n                log.debug(&quot;The Authorization header is empty&quot;);\n//                                    throw new BadCredentialsException(&quot;The Authorization header is empty&quot;);\n            } else {\n                header = header.trim();\n                if (!StringUtils.startsWithIgnoreCase(header, &quot;Basic&quot;)) {\n                    log.debug(&quot;The Authorization header does not start with Basic.&quot;);\n                } else if (header.equalsIgnoreCase(&quot;Basic&quot;)) {\n                    throw new BadCredentialsException(&quot;Empty basic authentication token&quot;);\n                } else {\n                    byte[] base64Token = header.substring(6).getBytes(StandardCharsets.UTF_8);\n                    byte[] decoded;\n                    try {\n                        decoded = Base64.getDecoder().decode(base64Token);\n                    } catch (IllegalArgumentException var8) {\n                        throw new BadCredentialsException(&quot;Failed to decode basic authentication token&quot;);\n                    }\n                    String token = new String(decoded, &quot;UTF-8&quot;);\n                    int delim = token.indexOf(&quot;:&quot;);\n                    if (delim == -1) {\n                        throw new BadCredentialsException(&quot;Invalid basic authentication token&quot;);\n                    } else {\n                        log.info(&quot;TOKEN [&quot; +token+&quot;]&quot;);\n                        String principal = token.substring(0, delim);\n                        String credencial = token.substring(delim + 1);\n                        //your \n                        \n                        if(principal.equals(&quot;testuser&quot;) &amp;&amp; credencial.equals(&quot;1234&quot;)){\n                            log.debug(&quot;login OK&quot;);\n                        }else{\n                            throw new BadCredentialsException(&quot;Invalid basic authentication token&quot;);\n                        }\n                    }\n                }\n            }\n        }catch(Exception e){\n            log.error(&quot;Basic Authentication error&quot;, e);\n\n            res.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n            res.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=&quot; + &quot;Realm&quot; + &quot;&quot;);\n            PrintWriter pw = res.getWriter();\n            pw.println(&quot;Invalid status code received: 401 Status line: HTTP/1.1 401&quot;);\n            return false;\n        }\n\n        return true;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24274676,"reputation":11,"user_id":18222149,"display_name":"Shuibin Long"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645007165,"creation_date":1645007165,"answer_id":71140060,"question_id":50587573,"body_markdown":"From the [Docs](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket) in *4.2.4. Server Configuration* is the following, hope it can help you:\r\n\r\n&gt; Each underlying WebSocket engine exposes configuration properties that control runtime characteristics, such as the size of message buffer sizes, idle timeout, and others.\r\n\r\nFor Tomcat, WildFly, and GlassFish, you can add a ServletServerContainerFactoryBean to your WebSocket Java config, as the following example shows:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer {\r\n\r\n    @Bean\r\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\r\n\r\n        ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\r\n        container.setMaxSessionIdleTimeout(120000L); // set the timeout to 2min\r\n\r\n        // ...\r\n        return container;\r\n    }\r\n\r\n}\r\n```\r\n\r\nFor Jetty, you need to supply a pre-configured Jetty WebSocketServerFactory and plug that into Spring’s DefaultHandshakeHandler through your WebSocket Java config. The following example shows how to do so:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSocket\r\npublic class WebSocketConfig implements WebSocketConfigurer {\r\n\r\n    @Override\r\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n        registry.addHandler(echoWebSocketHandler(),\r\n            &quot;/echo&quot;).setHandshakeHandler(handshakeHandler());\r\n    }\r\n\r\n    @Bean\r\n    public DefaultHandshakeHandler handshakeHandler() {\r\n\r\n        WebSocketPolicy policy = new WebSocketPolicy(WebSocketBehavior.SERVER);\r\n        policy.setInputBufferSize(8192);\r\n        policy.setIdleTimeout(600000); // set the timeout to 10min\r\n\r\n        return new DefaultHandshakeHandler(\r\n                new JettyRequestUpgradeStrategy(new WebSocketServerFactory(policy)));\r\n    }\r\n\r\n}\r\n```","title":"Spring websocket is automatically closed after 30 minutes (timeout)","body":"<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket\" rel=\"nofollow noreferrer\">Docs</a> in <em>4.2.4. Server Configuration</em> is the following, hope it can help you:</p>\n<blockquote>\n<p>Each underlying WebSocket engine exposes configuration properties that control runtime characteristics, such as the size of message buffer sizes, idle timeout, and others.</p>\n</blockquote>\n<p>For Tomcat, WildFly, and GlassFish, you can add a ServletServerContainerFactoryBean to your WebSocket Java config, as the following example shows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Bean\n    public ServletServerContainerFactoryBean createWebSocketContainer() {\n\n        ServletServerContainerFactoryBean container = new ServletServerContainerFactoryBean();\n        container.setMaxSessionIdleTimeout(120000L); // set the timeout to 2min\n\n        // ...\n        return container;\n    }\n\n}\n</code></pre>\n<p>For Jetty, you need to supply a pre-configured Jetty WebSocketServerFactory and plug that into Spring’s DefaultHandshakeHandler through your WebSocket Java config. The following example shows how to do so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    @Override\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(echoWebSocketHandler(),\n            &quot;/echo&quot;).setHandshakeHandler(handshakeHandler());\n    }\n\n    @Bean\n    public DefaultHandshakeHandler handshakeHandler() {\n\n        WebSocketPolicy policy = new WebSocketPolicy(WebSocketBehavior.SERVER);\n        policy.setInputBufferSize(8192);\n        policy.setIdleTimeout(600000); // set the timeout to 10min\n\n        return new DefaultHandshakeHandler(\n                new JettyRequestUpgradeStrategy(new WebSocketServerFactory(policy)));\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13672750,"reputation":71,"user_id":9865072,"display_name":"Sebastian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15119,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1645007165,"creation_date":1527606227,"question_id":50587573,"body_markdown":"I&#39;m trying to implement a websocket on using Spring Boot (1.5.13). \r\n\r\nThe messaging works fine but after about 30 minutes the connection is terminated by the server (Reason 1008 - &quot;This connection was established under an authenticated HTTP session that has ended&quot;). I&#39;ve tried to set different timeouts but doesn&#39;t seem to have any effect.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class OCPPSocketHandler extends TextWebSocketHandler {\r\n        @Override\r\n        public void handleTextMessage(WebSocketSession webSocketSession, TextMessage textMessage)\r\n            throws IOException {\r\n          ...\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class WebSocketConfig implements WebSocketConfigurer {\r\n    \r\n        public static final String ENDPOINT = &quot;/pp/v2.0&quot;;\r\n    \r\n        @Autowired\r\n        private CustomSocketHandler socketHandler;\r\n    \r\n        public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n            registry.addHandler(\r\n                new CustomExceptionWebSocketHandlerDecorator(socketHandler), ENDPOINT\r\n            )\r\n            .setAllowedOrigins(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\napplication.properties:\r\n\r\n    #6h as milliseconds\r\n    server.connection-timeout=3600000 \r\n    server.servlet.session.timeout=6h\r\n\r\nA TextMessage (WebSocket) is sent every 30 minutes to keep the connection alive.\r\n\r\nI&#39;ve seen [this question about session timeouts](https://stackoverflow.com/questions/25930285/spring-websocket-timeout-settings) but I can&#39;t see a solution there","title":"Spring websocket is automatically closed after 30 minutes (timeout)","body":"<p>I'm trying to implement a websocket on using Spring Boot (1.5.13).</p>\n<p>The messaging works fine but after about 30 minutes the connection is terminated by the server (Reason 1008 - &quot;This connection was established under an authenticated HTTP session that has ended&quot;). I've tried to set different timeouts but doesn't seem to have any effect.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\n@Slf4j\npublic class OCPPSocketHandler extends TextWebSocketHandler {\n    @Override\n    public void handleTextMessage(WebSocketSession webSocketSession, TextMessage textMessage)\n        throws IOException {\n      ...\n    }\n}\n\n@Configuration\n@EnableWebSocket\npublic class WebSocketConfig implements WebSocketConfigurer {\n\n    public static final String ENDPOINT = &quot;/pp/v2.0&quot;;\n\n    @Autowired\n    private CustomSocketHandler socketHandler;\n\n    public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n        registry.addHandler(\n            new CustomExceptionWebSocketHandlerDecorator(socketHandler), ENDPOINT\n        )\n        .setAllowedOrigins(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>#6h as milliseconds\nserver.connection-timeout=3600000 \nserver.servlet.session.timeout=6h\n</code></pre>\n<p>A TextMessage (WebSocket) is sent every 30 minutes to keep the connection alive.</p>\n<p>I've seen <a href=\"https://stackoverflow.com/questions/25930285/spring-websocket-timeout-settings\">this question about session timeouts</a> but I can't see a solution there</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":1405542,"reputation":598,"user_id":1333371,"accept_rate":75,"display_name":"user1333371"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578084470,"creation_date":1578083925,"answer_id":59585070,"question_id":59584884,"body_markdown":"Your entity class uses the @Id annotation on the field id. This marks the field as a primary key which guarantees uniqueness. There&#39;s no need to query for distinct ids.\r\n\r\nThat aside, findDistinctById would generate a query like\r\n\r\n    select all &lt;data_records&gt; where id = ?\r\n\r\nThis is why the error includes `expects at least 1 arguments but only found 0.`  findDistinctById is expecting an integer parameter.\r\n\r\nPerhaps the example here has just been accidentally overly simplified.  If that&#39;s the case I would still suggest that almost all places where `select distinct` seems useful is a code smell.  The from and where clauses can usually be rewritten to avoid pulling duplicate rows from the database","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>Your entity class uses the @Id annotation on the field id. This marks the field as a primary key which guarantees uniqueness. There's no need to query for distinct ids.</p>\n\n<p>That aside, findDistinctById would generate a query like</p>\n\n<pre><code>select all &lt;data_records&gt; where id = ?\n</code></pre>\n\n<p>This is why the error includes <code>expects at least 1 arguments but only found 0.</code>  findDistinctById is expecting an integer parameter.</p>\n\n<p>Perhaps the example here has just been accidentally overly simplified.  If that's the case I would still suggest that almost all places where <code>select distinct</code> seems useful is a code smell.  The from and where clauses can usually be rewritten to avoid pulling duplicate rows from the database</p>\n"},{"tags":[],"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1578085294,"creation_date":1578085294,"answer_id":59585293,"question_id":59584884,"body_markdown":"Change \r\n\r\n    @Repository\r\n    public interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \r\n    {\r\n        public List&lt;Integer&gt; findDistinctById();\r\n    }\r\n\r\nto:\r\n\r\n    @Repository\r\n    public interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \r\n    {\r\n        public List&lt;Integer&gt; findDistinctById(int id);\r\n    }","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>Change </p>\n\n<pre><code>@Repository\npublic interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \n{\n    public List&lt;Integer&gt; findDistinctById();\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>@Repository\npublic interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \n{\n    public List&lt;Integer&gt; findDistinctById(int id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1792441,"reputation":5565,"user_id":1632534,"accept_rate":79,"display_name":"OzrenTkalcecKrznaric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596061588,"creation_date":1596061588,"answer_id":63163362,"question_id":59584884,"body_markdown":"I&#39;m surely late, but as you might already know, there is no way to achieve that using built in implementation that uses reflection to create your query from the method name. \r\n\r\nJust for the record (I know you didn&#39;t want that but for the sake of completeness), this works:\r\n\r\n    @Query(&quot;SELECT DISTINCT d.id FROM Data d&quot;)\r\n    public List&lt;Integer&gt; findDistinctIds();\r\n","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>I'm surely late, but as you might already know, there is no way to achieve that using built in implementation that uses reflection to create your query from the method name.</p>\n<p>Just for the record (I know you didn't want that but for the sake of completeness), this works:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT d.id FROM Data d&quot;)\npublic List&lt;Integer&gt; findDistinctIds();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10059050,"reputation":311,"user_id":7436372,"accept_rate":50,"display_name":"Hafiz Hamza"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1596094934,"creation_date":1596094934,"answer_id":63168440,"question_id":59584884,"body_markdown":"When you write `ByColumnName` in your JPA method, it anticipates a `WHERE` clause e.g. `findByColumnName`. In your scenario, you are doing `findDistinctById` and JPA is looking for a parameter `id`. Since you are not providing `id` parameter JPA is throwing the exception.\r\n\r\nWhat you are trying to achieve is to fetch unique values of a specific column without giving any parameter and this is not achievable in JPA method. You can achieve this through `@Query`\r\n\r\n    @Query(&quot;SELECT DISTINCT d.id FROM Data d&quot;)\r\n    public List&lt;Integer&gt; findDistinctIds();","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>When you write <code>ByColumnName</code> in your JPA method, it anticipates a <code>WHERE</code> clause e.g. <code>findByColumnName</code>. In your scenario, you are doing <code>findDistinctById</code> and JPA is looking for a parameter <code>id</code>. Since you are not providing <code>id</code> parameter JPA is throwing the exception.</p>\n<p>What you are trying to achieve is to fetch unique values of a specific column without giving any parameter and this is not achievable in JPA method. You can achieve this through <code>@Query</code></p>\n<pre><code>@Query(&quot;SELECT DISTINCT d.id FROM Data d&quot;)\npublic List&lt;Integer&gt; findDistinctIds();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17511004,"reputation":11,"user_id":13286776,"display_name":"Mert Demirok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645006497,"creation_date":1645006497,"answer_id":71139888,"question_id":59584884,"body_markdown":"I had the same question and could not find a solution. Finally I decided to implement @Query annotation as follows;\r\n\r\n    String FIND_DISTINCT_IDS = &quot;SELECT DISTINCT &lt;column_name&gt; FROM &lt;table_name&gt;&quot;;\r\n    \r\n    @Query(value = FIND_DISTINCT_IDS, nativeQuery = true)\r\n    List&lt;Integer&gt; findDistinctById();","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>I had the same question and could not find a solution. Finally I decided to implement @Query annotation as follows;</p>\n<pre><code>String FIND_DISTINCT_IDS = &quot;SELECT DISTINCT &lt;column_name&gt; FROM &lt;table_name&gt;&quot;;\n\n@Query(value = FIND_DISTINCT_IDS, nativeQuery = true)\nList&lt;Integer&gt; findDistinctById();\n</code></pre>\n"}],"owner":{"account_id":15679351,"reputation":361,"user_id":11313748,"display_name":"Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16300,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1645006497,"creation_date":1578082910,"question_id":59584884,"body_markdown":"I am trying to use JpaRepository interface to build up a distinct clause. I tried almost all possible combinations of writing findDistinctBy... but failed. In many resources/links problem is solved by using @Query annotation, but due to some limitations i want to use spring data only.\r\n\r\nSample Entity class with just one column for which i want distinct values:\r\n```\r\n@Entity\r\n@Table(name=&quot;data&quot;)\r\npublic class Data implements Serializable \r\n{\r\n\t\r\n\tprivate static final long serialVersionUID = -6967098988952450546L;\r\n\t\r\n\t@Id\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate Integer id;\r\n\r\n    // constructor, getters and setters\r\n\r\n```\r\nRepository interface:\r\n```\r\n@Repository\r\npublic interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \r\n{\r\n\tpublic List&lt;Integer&gt; findDistinctById();\r\n}\r\n```\r\nError Trace:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById()! Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\t... 18 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById()! Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:103) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:106) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:211) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:574) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:567) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_221]\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116) ~[na:1.8.0_221]\r\n\tat java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1051) ~[na:1.8.0_221]\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:1.8.0_221]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_221]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_221]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_221]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_221]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_221]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:569) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat java.util.Optional.map(Optional.java:215) ~[na:1.8.0_221]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:332) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\r\n\t... 28 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.throwExceptionOnArgumentMismatch(PartTreeJpaQuery.java:168) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.validate(PartTreeJpaQuery.java:154) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:97) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\r\n\t... 54 common frames omitted\r\n\r\n\r\n```\r\n\r\nQuery i want to be generated using spring data:\r\n\r\n```\r\nselect distinct id from data\r\n```\r\n\r\n**More clarification on my question :** \r\n\r\nIf there a column y in table x and my requirement is to get all the distinct values of y. How can i achieve that using jpa data i.e, what should be the name of my method in the interface extending JPARepository which will result in query:\r\n\r\n```\r\nselect distinct y from x;\r\n```\r\nthe method should ideally return `List&lt;datatype of y&gt;` or all the entity having unique y.\r\n\r\nIs it even possible with JPA data?\r\n","title":"How to write distinct SQL clause in JPA Repository interface","body":"<p>I am trying to use JpaRepository interface to build up a distinct clause. I tried almost all possible combinations of writing findDistinctBy... but failed. In many resources/links problem is solved by using @Query annotation, but due to some limitations i want to use spring data only.</p>\n\n<p>Sample Entity class with just one column for which i want distinct values:</p>\n\n<pre><code>@Entity\n@Table(name=\"data\")\npublic class Data implements Serializable \n{\n\n    private static final long serialVersionUID = -6967098988952450546L;\n\n    @Id\n    @Column(name=\"id\")\n    private Integer id;\n\n    // constructor, getters and setters\n\n</code></pre>\n\n<p>Repository interface:</p>\n\n<pre><code>@Repository\npublic interface DataRepository extends JpaRepository&lt;Data, Integer&gt; \n{\n    public List&lt;Integer&gt; findDistinctById();\n}\n</code></pre>\n\n<p>Error Trace:</p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById()! Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1207) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:636) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    ... 18 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById()! Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:103) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:106) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:211) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:79) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lookupQuery(RepositoryFactorySupport.java:574) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(RepositoryFactorySupport.java:567) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[na:1.8.0_221]\n    at java.util.Iterator.forEachRemaining(Iterator.java:116) ~[na:1.8.0_221]\n    at java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1051) ~[na:1.8.0_221]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:1.8.0_221]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[na:1.8.0_221]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[na:1.8.0_221]\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[na:1.8.0_221]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:1.8.0_221]\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[na:1.8.0_221]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.mapMethodsToQuery(RepositoryFactorySupport.java:569) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.lambda$new$0(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at java.util.Optional.map(Optional.java:215) ~[na:1.8.0_221]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.&lt;init&gt;(RepositoryFactorySupport.java:559) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:332) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:297) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:212) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.util.Lazy.get(Lazy.java:94) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:300) ~[spring-data-commons-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:121) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.0.RELEASE.jar:5.2.0.RELEASE]\n    ... 28 common frames omitted\nCaused by: java.lang.IllegalStateException: Method public abstract java.util.List com.example.demo.repository.DataRepository.findDistinctById() expects at least 1 arguments but only found 0. This leaves an operator of type SIMPLE_PROPERTY for property id unbound.\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.throwExceptionOnArgumentMismatch(PartTreeJpaQuery.java:168) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.validate(PartTreeJpaQuery.java:154) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:97) ~[spring-data-jpa-2.2.0.RELEASE.jar:2.2.0.RELEASE]\n    ... 54 common frames omitted\n\n\n</code></pre>\n\n<p>Query i want to be generated using spring data:</p>\n\n<pre><code>select distinct id from data\n</code></pre>\n\n<p><strong>More clarification on my question :</strong> </p>\n\n<p>If there a column y in table x and my requirement is to get all the distinct values of y. How can i achieve that using jpa data i.e, what should be the name of my method in the interface extending JPARepository which will result in query:</p>\n\n<pre><code>select distinct y from x;\n</code></pre>\n\n<p>the method should ideally return <code>List&lt;datatype of y&gt;</code> or all the entity having unique y.</p>\n\n<p>Is it even possible with JPA data?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":22790451,"reputation":71,"user_id":16944861,"display_name":"PBG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645005956,"creation_date":1645005956,"answer_id":71139762,"question_id":71123987,"body_markdown":"I identified the problem, a very simple question for someone familiar with Maven (not me) and a not-so-easy one: Selenium was not properly included in the pom file, and windows defender was blocking the execution of the driver without informing about it. For the second one, it is necessary to exclude the driver from Window&#39;s security. ","title":"Selenium: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I identified the problem, a very simple question for someone familiar with Maven (not me) and a not-so-easy one: Selenium was not properly included in the pom file, and windows defender was blocking the execution of the driver without informing about it. For the second one, it is necessary to exclude the driver from Window's security.</p>\n"}],"owner":{"account_id":22790451,"reputation":71,"user_id":16944861,"display_name":"PBG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645005956,"creation_date":1644917272,"question_id":71123987,"body_markdown":"I am new to Selenium and I programmed a basic robot in Python to play around. The first lines of code are just starting the web browser:\r\n```\r\nbrowser = webdriver.Chrome(ChromeDriverManager().install())\r\naction = ActionChains(browser)\r\n```\r\nwhich works fine and allowed me to complete and test the rest of the robot, which logs into an account and downloads a document.\r\n\r\nThen I changed to Java (the final language I need) and repeated the programming, which turned out to be pretty straightforward. The initial commands are:\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users/Pablo/Downloads/chromedriver.exe&quot;);\r\nWebDriver driver = new ChromeDriver();\r\n```\r\nThe code is fine for the IDE (Intellij), but when executing I get the error \r\n&gt;Starting ChromeDriver 98.0.4758.102 (273bf7ac8c909cde36982d27f66f3c70846a3718-refs/branch-heads/4758@{#1151}) on port 51171\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n\r\nAny clues about where the error may come from?\r\nMy version of Chrome is the same as the driver&#39;s (98.0.4758.102).\r\nOther details:\r\n&gt;Build info: version: &#39;4.1.2&#39;, revision: &#39;9a5a329c5a&#39;\r\nSystem info: host: &#39;XXXX&#39;, ip: &#39;xxx.xxx.xx.x&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n\r\nThanks\r\n","title":"Selenium: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure","body":"<p>I am new to Selenium and I programmed a basic robot in Python to play around. The first lines of code are just starting the web browser:</p>\n<pre><code>browser = webdriver.Chrome(ChromeDriverManager().install())\naction = ActionChains(browser)\n</code></pre>\n<p>which works fine and allowed me to complete and test the rest of the robot, which logs into an account and downloads a document.</p>\n<p>Then I changed to Java (the final language I need) and repeated the programming, which turned out to be pretty straightforward. The initial commands are:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users/Pablo/Downloads/chromedriver.exe&quot;);\nWebDriver driver = new ChromeDriver();\n</code></pre>\n<p>The code is fine for the IDE (Intellij), but when executing I get the error</p>\n<blockquote>\n<p>Starting ChromeDriver 98.0.4758.102 (273bf7ac8c909cde36982d27f66f3c70846a3718-refs/branch-heads/4758@{#1151}) on port 51171\nOnly local connections are allowed.\nPlease see <a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n</blockquote>\n<p>Any clues about where the error may come from?\nMy version of Chrome is the same as the driver's (98.0.4758.102).\nOther details:</p>\n<blockquote>\n<p>Build info: version: '4.1.2', revision: '9a5a329c5a'\nSystem info: host: 'XXXX', ip: 'xxx.xxx.xx.x', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver</p>\n</blockquote>\n<p>Thanks</p>\n"},{"tags":["java","scala","apache-spark","statistics"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":1,"creation_date":1645014744,"post_id":71139756,"comment_id":125756881,"body_markdown":"yes. You can work with custom udfs or RDD to do the same without ml functions(Vectors, estimators, transformers...). Calculate the column max value and the apply a simple udf that substracts it to each specific row element.","body":"yes. You can work with custom udfs or RDD to do the same without ml functions(Vectors, estimators, transformers...). Calculate the column max value and the apply a simple udf that substracts it to each specific row element."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1645016335,"post_id":71139756,"comment_id":125757497,"body_markdown":"@EmilianoMartinez You deserve an upvote on your comment, but what you&#39;re writing is demoralizing.","body":"@EmilianoMartinez You deserve an upvote on your comment, but what you&#39;re writing is demoralizing."},{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1645016754,"post_id":71139756,"comment_id":125757670,"body_markdown":"I know, although I have worked in that way throwing away all the &quot;magics&quot; behind ml and doing raw Scala code. I would give a chance to dissasemble the vector, however...","body":"I know, although I have worked in that way throwing away all the &quot;magics&quot; behind ml and doing raw Scala code. I would give a chance to dissasemble the vector, however..."}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645005945,"creation_date":1645005945,"question_id":71139756,"body_markdown":"I know that it&#39;s possible to center and reduce some values in _Spark_, using the methods of its machine learning package (`org.apache.spark.ml`).  \r\nBut it&#39;s at the cost of doing multiples preparations first, to set data into Vectors.\r\n\r\nIt&#39;s not what I willing too. I would like to continue using my datasets as they are, without having to recreate them with their original columns back and the new values calculated from a lists of Vectors.\r\n\r\nI&#39;m not in a machine learning scenario at all.\r\n\r\nIs there a way to reduce center some column values of a dataset with _Spark_, without going into the meanders of `ml`?","title":"Can some columns values of a dataset be reduced centred without using the machine learning package who requires dataset transformation into a Vector?","body":"<p>I know that it's possible to center and reduce some values in <em>Spark</em>, using the methods of its machine learning package (<code>org.apache.spark.ml</code>).<br />\nBut it's at the cost of doing multiples preparations first, to set data into Vectors.</p>\n<p>It's not what I willing too. I would like to continue using my datasets as they are, without having to recreate them with their original columns back and the new values calculated from a lists of Vectors.</p>\n<p>I'm not in a machine learning scenario at all.</p>\n<p>Is there a way to reduce center some column values of a dataset with <em>Spark</em>, without going into the meanders of <code>ml</code>?</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":7073417,"reputation":51,"user_id":5414297,"display_name":"Ben Davies"},"score":2,"creation_date":1645005692,"post_id":71139626,"comment_id":125753305,"body_markdown":"I would look at Jackson XML Mapper [XML Serialization and Deserialization with Jackson](https://www.baeldung.com/jackson-xml-serialization-and-deserialization), The way I would go about it use Jackson to convert the Json to a POJO and then use the XML mapper to convert to XML","body":"I would look at Jackson XML Mapper <a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">XML Serialization and Deserialization with Jackson</a>, The way I would go about it use Jackson to convert the Json to a POJO and then use the XML mapper to convert to XML"},{"owner":{"account_id":24274110,"reputation":3,"user_id":18221658,"display_name":"chrb33"},"score":0,"creation_date":1645084996,"post_id":71139626,"comment_id":125777971,"body_markdown":"Thanks, not quite what I was looking for but it can work with it.","body":"Thanks, not quite what I was looking for but it can work with it."}],"answers":[{"tags":[],"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645005937,"creation_date":1645005937,"answer_id":71139753,"question_id":71139626,"body_markdown":"Based on this solution https://stackoverflow.com/a/19978281/9474700\r\nfirst import library in your gradle \r\n\r\n&gt; implementation &#39;org.json:json:20211205&#39;\r\n\r\nthen do as below\r\n\r\n    JSONObject json = new JSONObject(str);\r\n    String xml = XML.toString(json);\r\n\r\n**Second option**\r\n\r\nUse from underscore-java \r\n\r\n\r\nimport library \r\n\r\n    implementation &#39;com.github.javadev:underscore:1.74&#39;\r\n\r\nthen\r\n    \r\n\r\n    String xml = U.jsonToXml(jsonString);\r\n\r\n","title":"How can I convert the complete Json String into an XML in Java","body":"<p>Based on this solution <a href=\"https://stackoverflow.com/a/19978281/9474700\">https://stackoverflow.com/a/19978281/9474700</a>\nfirst import library in your gradle</p>\n<blockquote>\n<p>implementation 'org.json:json:20211205'</p>\n</blockquote>\n<p>then do as below</p>\n<pre><code>JSONObject json = new JSONObject(str);\nString xml = XML.toString(json);\n</code></pre>\n<p><strong>Second option</strong></p>\n<p>Use from underscore-java</p>\n<p>import library</p>\n<pre><code>implementation 'com.github.javadev:underscore:1.74'\n</code></pre>\n<p>then</p>\n<pre><code>String xml = U.jsonToXml(jsonString);\n</code></pre>\n"}],"owner":{"account_id":24274110,"reputation":3,"user_id":18221658,"display_name":"chrb33"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71139753,"answer_count":1,"score":0,"last_activity_date":1645005937,"creation_date":1645005383,"question_id":71139626,"body_markdown":"First i hope the topic is not old, but i didn&#39;t find something. So either you can write me a solution hint or where i find the topic. Thanks.\r\nAnd here is my problem i get a json response string back. The String looks like this:\r\n\r\n    {\r\n        &quot;total&quot;: 3,\r\n        &quot;hasMore&quot;: true,\r\n        &quot;tasks&quot;: [\r\n            {\r\n                &quot;taskId&quot;: &quot;1&quot;,\r\n                &quot;processName&quot;: &quot;request new requests&quot;,\r\n               \r\n            },\r\n            {\r\n                &quot;taskId&quot;: &quot;2&quot;,\r\n                &quot;processName&quot;: &quot;request new requests&quot;,\r\n               \r\n            },\r\n            {\r\n                &quot;taskId&quot;: &quot;3&quot;,\r\n    \t\t\t&quot;processName&quot;: &quot;request new requests&quot;,\r\n               \r\n            }\r\n        ],\r\n        &quot;totalSize&quot;: 6,\r\n        &quot;nextIndex&quot;: 5,\r\n        &quot;userTypeInTask&quot;: false\r\n    }\r\n\r\nMy goal is to convert this string to XML as follows:\r\n\r\n    &lt;tasks&gt;\r\n    \t&lt;task&gt;\r\n    \t\t&lt;taskId&gt;1&lt;/taskId&gt;\r\n    \t\t&lt;processName&gt;request new requests&lt;/processName&gt;\r\n    \t&lt;/task&gt;\r\n    \t&lt;task&gt;\r\n    \t\t&lt;taskId&gt;2&lt;/taskId&gt;\r\n    \t\t&lt;processName&gt;request new requests&lt;/processName&gt;\r\n    \t&lt;/task&gt;\r\n    \t&lt;task&gt;\r\n    \t\t&lt;taskId&gt;2&lt;/taskId&gt;\r\n    \t\t&lt;processName&gt;request new requests&lt;/processName&gt;\r\n    \t&lt;/task&gt;\r\n    \t&lt;totalSize&gt;6&lt;/totalSize&gt;\r\n    \t&lt;total&gt;3&lt;/total&gt;\r\n    \t&lt;hasMore&gt;true&lt;/hasMore&gt;\r\n    \t&lt;nextIndex&gt;5&lt;/nextIndex&gt;\r\n    \t&lt;userTypeInTask&gt;false&lt;/userTypeInTask&gt;\r\n    &lt;/tasks&gt;\r\n\r\nI managed to get the array but then I lose the other information.\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    public class jsontest {\r\n    \r\n    \t@SuppressWarnings(&quot;null&quot;)\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString jsonstring = &quot;{\\&quot;total\\&quot;: 3,\\&quot;hasMore\\&quot;: true,\\&quot;tasks\\&quot;:[{\\&quot;taskId\\&quot;:\\&quot;1\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;},{\\&quot;taskId\\&quot;:\\&quot;2\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;},{\\&quot;taskId\\&quot;:\\&quot;2\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;}],\\&quot;totalSize\\&quot;: 6,\\&quot;nextIndex\\&quot;: 5,\\&quot;userTypeInTask\\&quot;: false}&quot;;\r\n    \t\tString parent = &quot;tasks&quot;;\r\n    \t\tString child = &quot;task&quot;;\r\n    \r\n    \t\tJSONObject json = new JSONObject(jsonstring);\r\n    \t\tSystem.out.println(&quot;json: &quot; + json);\r\n    \r\n    \t\tif (json.has(parent)) {\r\n    \r\n    \t\t\tJSONObject dataObject = json.optJSONObject(parent);\r\n    \r\n    \t\t\tif (dataObject != null) {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;dataObject 1: &quot; + dataObject);\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;dataObject 2: &quot; + dataObject);\r\n    \t\t\t\tJSONArray array = dataObject.getJSONArray(parent);\r\n    \t\t\t\tSystem.out.println(&quot;array: &quot; + array);\r\n    \r\n    \t\t\t\tString xml = &quot;&lt;&quot; + parent + &quot;&gt;&quot; + org.json.XML.toString(array, child) + &quot;&lt;/&quot; + parent + &quot;&gt;&quot;;\r\n    \t\t\t\tSystem.out.println(&quot;xml: &quot; + xml);\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nDoes anyone have a suggestion for my problem?\r\n","title":"How can I convert the complete Json String into an XML in Java","body":"<p>First i hope the topic is not old, but i didn't find something. So either you can write me a solution hint or where i find the topic. Thanks.\nAnd here is my problem i get a json response string back. The String looks like this:</p>\n<pre><code>{\n    &quot;total&quot;: 3,\n    &quot;hasMore&quot;: true,\n    &quot;tasks&quot;: [\n        {\n            &quot;taskId&quot;: &quot;1&quot;,\n            &quot;processName&quot;: &quot;request new requests&quot;,\n           \n        },\n        {\n            &quot;taskId&quot;: &quot;2&quot;,\n            &quot;processName&quot;: &quot;request new requests&quot;,\n           \n        },\n        {\n            &quot;taskId&quot;: &quot;3&quot;,\n            &quot;processName&quot;: &quot;request new requests&quot;,\n           \n        }\n    ],\n    &quot;totalSize&quot;: 6,\n    &quot;nextIndex&quot;: 5,\n    &quot;userTypeInTask&quot;: false\n}\n</code></pre>\n<p>My goal is to convert this string to XML as follows:</p>\n<pre><code>&lt;tasks&gt;\n    &lt;task&gt;\n        &lt;taskId&gt;1&lt;/taskId&gt;\n        &lt;processName&gt;request new requests&lt;/processName&gt;\n    &lt;/task&gt;\n    &lt;task&gt;\n        &lt;taskId&gt;2&lt;/taskId&gt;\n        &lt;processName&gt;request new requests&lt;/processName&gt;\n    &lt;/task&gt;\n    &lt;task&gt;\n        &lt;taskId&gt;2&lt;/taskId&gt;\n        &lt;processName&gt;request new requests&lt;/processName&gt;\n    &lt;/task&gt;\n    &lt;totalSize&gt;6&lt;/totalSize&gt;\n    &lt;total&gt;3&lt;/total&gt;\n    &lt;hasMore&gt;true&lt;/hasMore&gt;\n    &lt;nextIndex&gt;5&lt;/nextIndex&gt;\n    &lt;userTypeInTask&gt;false&lt;/userTypeInTask&gt;\n&lt;/tasks&gt;\n</code></pre>\n<p>I managed to get the array but then I lose the other information.</p>\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class jsontest {\n\n    @SuppressWarnings(&quot;null&quot;)\n    public static void main(String[] args) {\n\n        String jsonstring = &quot;{\\&quot;total\\&quot;: 3,\\&quot;hasMore\\&quot;: true,\\&quot;tasks\\&quot;:[{\\&quot;taskId\\&quot;:\\&quot;1\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;},{\\&quot;taskId\\&quot;:\\&quot;2\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;},{\\&quot;taskId\\&quot;:\\&quot;2\\&quot;,\\&quot;processName\\&quot;: \\&quot;request new requests\\&quot;}],\\&quot;totalSize\\&quot;: 6,\\&quot;nextIndex\\&quot;: 5,\\&quot;userTypeInTask\\&quot;: false}&quot;;\n        String parent = &quot;tasks&quot;;\n        String child = &quot;task&quot;;\n\n        JSONObject json = new JSONObject(jsonstring);\n        System.out.println(&quot;json: &quot; + json);\n\n        if (json.has(parent)) {\n\n            JSONObject dataObject = json.optJSONObject(parent);\n\n            if (dataObject != null) {\n\n                System.out.println(&quot;dataObject 1: &quot; + dataObject);\n\n            } else {\n\n                System.out.println(&quot;dataObject 2: &quot; + dataObject);\n                JSONArray array = dataObject.getJSONArray(parent);\n                System.out.println(&quot;array: &quot; + array);\n\n                String xml = &quot;&lt;&quot; + parent + &quot;&gt;&quot; + org.json.XML.toString(array, child) + &quot;&lt;/&quot; + parent + &quot;&gt;&quot;;\n                System.out.println(&quot;xml: &quot; + xml);\n\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>Does anyone have a suggestion for my problem?</p>\n"},{"tags":["java","postgresql","azure","azure-sql-database"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645004255,"post_id":71139212,"comment_id":125752675,"body_markdown":"Assuming that you want to create a Postgres VM, you can access Azure API, you can do that via API. https://learn.microsoft.com/pt-pt/azure/virtual-machines/linux/create-vm-rest-api","body":"Assuming that you want to create a Postgres VM, you can access Azure API, you can do that via API. <a href=\"https://learn.microsoft.com/pt-pt/azure/virtual-machines/linux/create-vm-rest-api\" rel=\"nofollow noreferrer\">learn.microsoft.com/pt-pt/azure/virtual-machines/linux/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1645004265,"post_id":71139212,"comment_id":125752680,"body_markdown":"In theory you can run `create database ...` through Java/JDBC - but you need to have a privileged user in order to be able to do that. Whether that is possible on Azure I don&#39;t know. It&#39;s not &quot;vanilla&quot; Postgres","body":"In theory you can run <code>create database ...</code> through Java/JDBC - but you need to have a privileged user in order to be able to do that. Whether that is possible on Azure I don&#39;t know. It&#39;s not &quot;vanilla&quot; Postgres"}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645005918,"creation_date":1645005918,"answer_id":71139745,"question_id":71139212,"body_markdown":"Connect to the server through an Admin User\r\n\r\nAnd run the following query:\r\n\r\n```sql\r\nCREATE DATABASE database_name OWNER your_owner;\r\n```\r\n\r\nFor more information check [this][1].\r\n\r\n\r\nThis is plain Java though, you have to check whether something like this is possible in Azure.\r\n\r\n  [1]: https://www.postgresql.org/docs/9.0/sql-createdatabase.html","title":"Is it possible to create a database on fly in PostgreSQL for Azure using Java code if it does not exist? If yes, how?","body":"<p>Connect to the server through an Admin User</p>\n<p>And run the following query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE DATABASE database_name OWNER your_owner;\n</code></pre>\n<p>For more information check <a href=\"https://www.postgresql.org/docs/9.0/sql-createdatabase.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>This is plain Java though, you have to check whether something like this is possible in Azure.</p>\n"}],"owner":{"account_id":8282158,"reputation":93,"user_id":6226485,"display_name":"Divyanshi Mangal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71139745,"answer_count":1,"score":0,"last_activity_date":1645005918,"creation_date":1645003701,"question_id":71139212,"body_markdown":"I want to create database and tables on the fly in PostgreSQL in Azure cloud **using Java code**.\r\nHow to create a database in PostgreSQL for Azure using Java code if it does not exist?","title":"Is it possible to create a database on fly in PostgreSQL for Azure using Java code if it does not exist? If yes, how?","body":"<p>I want to create database and tables on the fly in PostgreSQL in Azure cloud <strong>using Java code</strong>.\nHow to create a database in PostgreSQL for Azure using Java code if it does not exist?</p>\n"},{"tags":["java","android","gps","geofencing","android-geofence"],"answers":[{"tags":[],"owner":{"account_id":7645941,"reputation":41,"user_id":5796624,"display_name":"seaforester"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645005566,"creation_date":1645005566,"answer_id":71139661,"question_id":69380374,"body_markdown":"Here&#39;s the correct documentation, either for removing a List of geofences, or all of them together.\r\n\r\nhttps://developers.google.com/android/reference/com/google/android/gms/location/GeofencingClient#removeGeofences(java.util.List%3Cjava.lang.String%3E)\r\n\r\nHere a simple implementation given your Code:\r\n\r\n    private void removeGeofence(List&lt;String&gt; geofenceRequestIds) {\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        if(geofenceRequestIds != null) {\r\n            geofencingClient.removeGeofences(geofenceRequestIds).addOnSuccessListener(aVoid -&gt; Log.e(&quot;TAG&quot;, &quot;Geocenfences removed&quot;)).addOnFailureListener(e -&gt; {\r\n                String errorMessage = geofenceHelper.getErrorString(e);\r\n                Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\r\n                Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\r\n            });\r\n        } else {\r\n            Log.i(TAG,&quot;no list provided, removing ALL geofences&quot;);\r\n            geofencingClient.removeGeofences(geofenceHelper.getPendingIntent()).addOnSuccessListener(aVoid -&gt; Log.e(&quot;TAG&quot;, &quot;Geocenfences removed&quot;)).addOnFailureListener(e -&gt; {\r\n                String errorMessage = geofenceHelper.getErrorString(e);\r\n                Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\r\n                Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\r\n            });;\r\n        }\r\n    }\r\n\r\n\r\nNot having access to your geofencehelper, make sure you use the FLAG_MUTABLE together with FLAG_UPDATE_CURRENT for it&#39;s getPendingIntent() if targeting API 31 or above, else the triggering Geofences will contain no Intent data.","title":"How to remove a Geofence from Geofence list?","body":"<p>Here's the correct documentation, either for removing a List of geofences, or all of them together.</p>\n<p><a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/GeofencingClient#removeGeofences(java.util.List%3Cjava.lang.String%3E)\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/location/GeofencingClient#removeGeofences(java.util.List%3Cjava.lang.String%3E)</a></p>\n<p>Here a simple implementation given your Code:</p>\n<pre><code>private void removeGeofence(List&lt;String&gt; geofenceRequestIds) {\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    if(geofenceRequestIds != null) {\n        geofencingClient.removeGeofences(geofenceRequestIds).addOnSuccessListener(aVoid -&gt; Log.e(&quot;TAG&quot;, &quot;Geocenfences removed&quot;)).addOnFailureListener(e -&gt; {\n            String errorMessage = geofenceHelper.getErrorString(e);\n            Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\n            Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\n        });\n    } else {\n        Log.i(TAG,&quot;no list provided, removing ALL geofences&quot;);\n        geofencingClient.removeGeofences(geofenceHelper.getPendingIntent()).addOnSuccessListener(aVoid -&gt; Log.e(&quot;TAG&quot;, &quot;Geocenfences removed&quot;)).addOnFailureListener(e -&gt; {\n            String errorMessage = geofenceHelper.getErrorString(e);\n            Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\n            Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\n        });;\n    }\n}\n</code></pre>\n<p>Not having access to your geofencehelper, make sure you use the FLAG_MUTABLE together with FLAG_UPDATE_CURRENT for it's getPendingIntent() if targeting API 31 or above, else the triggering Geofences will contain no Intent data.</p>\n"}],"owner":{"account_id":22640421,"reputation":83,"user_id":16816667,"display_name":"Carlos Melendez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645005566,"creation_date":1632933591,"question_id":69380374,"body_markdown":"I&#39;m working on a simple app that creates geofences and detexts when the user enter/move/exit that area.\r\nI&#39;m trying to remove a geofence when the user enter that specific geofence, but I can&#39; find any documentation on how to implement this. \r\n\r\nIm creating two geofences.\r\n\r\nTesting on an emulator\r\n\r\n    private void addGeofence(LatLng latLng, float radius, String GEO_ID) {\r\n        Geofence geofence = geofenceHelper.getGeofence(GEO_ID, latLng, radius, Geofence.GEOFENCE_TRANSITION_ENTER | Geofence.GEOFENCE_TRANSITION_DWELL | Geofence.GEOFENCE_TRANSITION_EXIT);\r\n        GeofencingRequest geofencingRequest = geofenceHelper.geofencingRequest(geofence);\r\n        PendingIntent pendingIntent = geofenceHelper.getPendingIntent();\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            return;\r\n        }\r\n        geofencingClient.addGeofences(geofencingRequest, pendingIntent).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void aVoid) {\r\n                Log.e(&quot;TAG&quot;, &quot;Geocenfe added&quot;);\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                String errorMessage = geofenceHelper.getErrorString(e);\r\n                Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\r\n                Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    public class GeofenceBroadcastReceiver extends BroadcastReceiver {\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n    \r\n            NotificationHelper notificationHelper = new NotificationHelper(context);\r\n            GeofencingEvent geofencingEvent = GeofencingEvent.fromIntent(intent);\r\n    \r\n            if (geofencingEvent.hasError()) {\r\n                Log.e(&quot;TAG&quot;, &quot;onReceive: Error geofence event...&quot;);\r\n                return;\r\n            }\r\n    \r\n            List&lt;Geofence&gt; geofenceList = geofencingEvent.getTriggeringGeofences();\r\n            for (Geofence geofence: geofenceList) {\r\n                Log.e(&quot;TAG&quot;, &quot;ID: &quot; + geofence.getRequestId());\r\n            }\r\n    \r\n            int transitionType = geofencingEvent.getGeofenceTransition();\r\n            switch (transitionType) {\r\n                case Geofence.GEOFENCE_TRANSITION_ENTER: \r\n                    Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_ENTER: &quot;);\r\n                    break;\r\n                case Geofence.GEOFENCE_TRANSITION_DWELL:\r\n    //                Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_DWELL: &quot;); \r\n                    break;\r\n                case Geofence.GEOFENCE_TRANSITION_EXIT:\r\n                    Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_EXIT: &quot;); \r\n                    break;\r\n            }\r\n    \r\n        }\r\n    }","title":"How to remove a Geofence from Geofence list?","body":"<p>I'm working on a simple app that creates geofences and detexts when the user enter/move/exit that area.\nI'm trying to remove a geofence when the user enter that specific geofence, but I can' find any documentation on how to implement this.</p>\n<p>Im creating two geofences.</p>\n<p>Testing on an emulator</p>\n<pre><code>private void addGeofence(LatLng latLng, float radius, String GEO_ID) {\n    Geofence geofence = geofenceHelper.getGeofence(GEO_ID, latLng, radius, Geofence.GEOFENCE_TRANSITION_ENTER | Geofence.GEOFENCE_TRANSITION_DWELL | Geofence.GEOFENCE_TRANSITION_EXIT);\n    GeofencingRequest geofencingRequest = geofenceHelper.geofencingRequest(geofence);\n    PendingIntent pendingIntent = geofenceHelper.getPendingIntent();\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n        return;\n    }\n    geofencingClient.addGeofences(geofencingRequest, pendingIntent).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void aVoid) {\n            Log.e(&quot;TAG&quot;, &quot;Geocenfe added&quot;);\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            String errorMessage = geofenceHelper.getErrorString(e);\n            Log.e(&quot;TAG&quot;, &quot;onFailure: &quot; + errorMessage);\n            Toast.makeText(getApplicationContext(), &quot;onFailure: &quot; + errorMessage, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n\n\n\n\npublic class GeofenceBroadcastReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        NotificationHelper notificationHelper = new NotificationHelper(context);\n        GeofencingEvent geofencingEvent = GeofencingEvent.fromIntent(intent);\n\n        if (geofencingEvent.hasError()) {\n            Log.e(&quot;TAG&quot;, &quot;onReceive: Error geofence event...&quot;);\n            return;\n        }\n\n        List&lt;Geofence&gt; geofenceList = geofencingEvent.getTriggeringGeofences();\n        for (Geofence geofence: geofenceList) {\n            Log.e(&quot;TAG&quot;, &quot;ID: &quot; + geofence.getRequestId());\n        }\n\n        int transitionType = geofencingEvent.getGeofenceTransition();\n        switch (transitionType) {\n            case Geofence.GEOFENCE_TRANSITION_ENTER: \n                Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_ENTER: &quot;);\n                break;\n            case Geofence.GEOFENCE_TRANSITION_DWELL:\n//                Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_DWELL: &quot;); \n                break;\n            case Geofence.GEOFENCE_TRANSITION_EXIT:\n                Log.e(&quot;TAG&quot;, &quot;GEOFENCE_TRANSITION_EXIT: &quot;); \n                break;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","resttemplate","amazonsellercentral"],"answers":[{"tags":[],"owner":{"account_id":24274511,"reputation":21,"user_id":18222002,"display_name":"FrancescoScarpa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645005527,"creation_date":1645005180,"answer_id":71139564,"question_id":69733738,"body_markdown":"I have had the same problem.\r\nI&#39;m using PHP and cURL command through shell_exec, but I think this issue can involve other languages/interfaces (I also have had problems using Postman.com).\r\nI temporary resolve it by pre-encoding NextToken values replacing + and = symbols with %2B and %3D respectively.\r\nThe parameter is properly received by amazon and the signature works correctly also.","title":"We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem","body":"<p>I have had the same problem.\nI'm using PHP and cURL command through shell_exec, but I think this issue can involve other languages/interfaces (I also have had problems using Postman.com).\nI temporary resolve it by pre-encoding NextToken values replacing + and = symbols with %2B and %3D respectively.\nThe parameter is properly received by amazon and the signature works correctly also.</p>\n"}],"owner":{"account_id":10091227,"reputation":304,"user_id":7458152,"accept_rate":67,"display_name":"Arundhathi D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645005527,"creation_date":1635315797,"question_id":69733738,"body_markdown":"**Issue: We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem error on hitting Amazon selling enpoint getOrders API with NextToken value**\r\n\r\nnextToken=iAYGXEyagd6aJqJYLDm0ZIfVkJJPpovRdryNqjfPaIgg9hUJsk3DPQwtlDeM2mghxqXyQLkGMBs8VhF73Xgy 0lC3mC1SzpGl5YHgZCa7BDKYu8QTdnkAITZqJeSW7tJInTAy XKVmRZBY oaVuyc8QON K1yc/Y6mKKWPJTYqxJASkEew64xp6vE53eCWYOf2GLmUGyr9UGnxD0RJmrryegoU0IPZxXDmflVin9AbefZ6iCRhULKp103vYt7V5hMBO/reDY2s8hGWNNu3VwFU0hrIUQcumUIIYkgmdzyCpNQzRAUqdu/jzY7WGQwHDOWh6eH2mzao0RSPB0n 5LC/yAULdxUEMyUhl2OGtBpE5P8rTgv6Pn3rcTR/rGtYbyw9WyW4t8nDBlt8msQODE5D/2DVeWLo9hEsqGJJJsu8 Pnp7zXB4uNQJUR5kP8q rofIA3nWZ0bLPZjTnVM/HGQ==iAYGXEyagd6aJqJYLDm0ZIfVkJJPpovRdryNqjfPaIgg9hUJsk3DPQwtlDeM2mghxqXyQLkGMBs8VhF73Xgy 0lC3mC1SzpGl5YHgZCa7BDKYu8QTdnkAITZqJeSW7tJInTAy XKVmRZBY oaVuyc8QON K1yc/Y6mKKWPJTYqxJASkEew64xp6vE53eCWYOf2GLmUGyr9UGnxD0RJmrryegoU0IPZxXDmflVin9AbefZ6iCRhULKp103vYt7V5hMBO/reDY2s8hGWNNu3VwFU0hrIUQcumUIIYkgmdzyCpNQzRAUqdu/jzY7WGQwHDOWh6eH2mzao0RSPB0n 5LC/yAULdxUEMyUhl2OGtBpE5P8rTgv6Pn3rcTR/rGtYbyw9WyW4t8nDBlt8msQODE5D/2DVeWLo9hEsqGJJJsu8 Pnp7zXB4uNQJUR5kP8q rofIA3nWZ0bLPZjTnVM/HGQ==\r\n\r\n    String uri = UriComponentsBuilder.fromHttpUrl(applicationConfig.getBaseURL() + applicationConfig.getOrdersApi())\r\n                                            .queryParam(&quot;CreatedAfter&quot;, &quot;2017-01-20T19:49:35Z&quot;)\r\n                                            .queryParam(&quot;MarketplaceIds&quot;, &quot;XXXXXX&quot;)\r\n                                            .queryParam(&quot;MaxResultsPerPage&quot;, request.getBatchSize())\r\n                                            .queryParam(&quot;NextToken&quot;, UriUtils.encode(nextTokenValue, StandardCharsets.UTF_8))\r\n                                            .build().toUri().toString();\r\n    \r\n                                    restTemplate.setRequestFactory(clientHttpRequestFactory(tokenResponse));\r\n                                     restTemplate.exchange(uri, HttpMethod.GET, entity, AmazonSellingOrders.class);\r\n\r\nI am trying to encode thhe nextToken with UriUtils.encode method. The value is encoded as expected then passed to the aws signer thorugh resTemplate exchange. \r\n\r\nBut keep on getting  We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem error on hitting Amazon selling enpoint getOrders API with NextToken value \r\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [{\r\n  &quot;errors&quot;: [\r\n    {\r\n      &quot;message&quot;: null,\r\n      &quot;code&quot;: &quot;InvalidInput&quot;\r\n    }\r\n  ]\r\n}]\r\n\r\nAny information/help appreciated.\r\n\r\nThanks\r\n\r\n","title":"We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem","body":"<p><strong>Issue: We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem error on hitting Amazon selling enpoint getOrders API with NextToken value</strong></p>\n<p>nextToken=iAYGXEyagd6aJqJYLDm0ZIfVkJJPpovRdryNqjfPaIgg9hUJsk3DPQwtlDeM2mghxqXyQLkGMBs8VhF73Xgy 0lC3mC1SzpGl5YHgZCa7BDKYu8QTdnkAITZqJeSW7tJInTAy XKVmRZBY oaVuyc8QON K1yc/Y6mKKWPJTYqxJASkEew64xp6vE53eCWYOf2GLmUGyr9UGnxD0RJmrryegoU0IPZxXDmflVin9AbefZ6iCRhULKp103vYt7V5hMBO/reDY2s8hGWNNu3VwFU0hrIUQcumUIIYkgmdzyCpNQzRAUqdu/jzY7WGQwHDOWh6eH2mzao0RSPB0n 5LC/yAULdxUEMyUhl2OGtBpE5P8rTgv6Pn3rcTR/rGtYbyw9WyW4t8nDBlt8msQODE5D/2DVeWLo9hEsqGJJJsu8 Pnp7zXB4uNQJUR5kP8q rofIA3nWZ0bLPZjTnVM/HGQ==iAYGXEyagd6aJqJYLDm0ZIfVkJJPpovRdryNqjfPaIgg9hUJsk3DPQwtlDeM2mghxqXyQLkGMBs8VhF73Xgy 0lC3mC1SzpGl5YHgZCa7BDKYu8QTdnkAITZqJeSW7tJInTAy XKVmRZBY oaVuyc8QON K1yc/Y6mKKWPJTYqxJASkEew64xp6vE53eCWYOf2GLmUGyr9UGnxD0RJmrryegoU0IPZxXDmflVin9AbefZ6iCRhULKp103vYt7V5hMBO/reDY2s8hGWNNu3VwFU0hrIUQcumUIIYkgmdzyCpNQzRAUqdu/jzY7WGQwHDOWh6eH2mzao0RSPB0n 5LC/yAULdxUEMyUhl2OGtBpE5P8rTgv6Pn3rcTR/rGtYbyw9WyW4t8nDBlt8msQODE5D/2DVeWLo9hEsqGJJJsu8 Pnp7zXB4uNQJUR5kP8q rofIA3nWZ0bLPZjTnVM/HGQ==</p>\n<pre><code>String uri = UriComponentsBuilder.fromHttpUrl(applicationConfig.getBaseURL() + applicationConfig.getOrdersApi())\n                                        .queryParam(&quot;CreatedAfter&quot;, &quot;2017-01-20T19:49:35Z&quot;)\n                                        .queryParam(&quot;MarketplaceIds&quot;, &quot;XXXXXX&quot;)\n                                        .queryParam(&quot;MaxResultsPerPage&quot;, request.getBatchSize())\n                                        .queryParam(&quot;NextToken&quot;, UriUtils.encode(nextTokenValue, StandardCharsets.UTF_8))\n                                        .build().toUri().toString();\n\n                                restTemplate.setRequestFactory(clientHttpRequestFactory(tokenResponse));\n                                 restTemplate.exchange(uri, HttpMethod.GET, entity, AmazonSellingOrders.class);\n</code></pre>\n<p>I am trying to encode thhe nextToken with UriUtils.encode method. The value is encoded as expected then passed to the aws signer thorugh resTemplate exchange.</p>\n<p>But keep on getting  We could not decode your NextToken. Possible reasons include: a transmission error, improper quoting or a truncation problem error on hitting Amazon selling enpoint getOrders API with NextToken value\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: [{\n&quot;errors&quot;: [\n{\n&quot;message&quot;: null,\n&quot;code&quot;: &quot;InvalidInput&quot;\n}\n]\n}]</p>\n<p>Any information/help appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","hikaricp"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645006232,"post_id":71139636,"comment_id":125753549,"body_markdown":"Probably you must set something on the database driver itself (like a custom property). For Oracle you have some hints here: https://stackoverflow.com/questions/23953534/java-sql-sqlexception-could-not-commit-with-auto-commit-set-on-at-oracle-jdbc-d. On postgres not sure how to do it.","body":"Probably you must set something on the database driver itself (like a custom property). For Oracle you have some hints here: <a href=\"https://stackoverflow.com/questions/23953534/java-sql-sqlexception-could-not-commit-with-auto-commit-set-on-at-oracle-jdbc-d\" title=\"java sql sqlexception could not commit with auto commit set on at oracle jdbc d\">stackoverflow.com/questions/23953534/&hellip;</a>. On postgres not sure how to do it."},{"owner":{"account_id":130090,"reputation":1469,"user_id":329091,"accept_rate":41,"display_name":"mehdi shahdoost"},"score":0,"creation_date":1645008943,"post_id":71139636,"comment_id":125754571,"body_markdown":"@pringi you know in the first step my application works with Oracle database but when I added Postgres SQL on spring boot data sources as a multi-data source I got this error.  I think there is a config to disable auto-commit for these data sources on spring-boot property file.","body":"@pringi you know in the first step my application works with Oracle database but when I added Postgres SQL on spring boot data sources as a multi-data source I got this error.  I think there is a config to disable auto-commit for these data sources on spring-boot property file."}],"owner":{"account_id":130090,"reputation":1469,"user_id":329091,"accept_rate":41,"display_name":"mehdi shahdoost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645005445,"creation_date":1645005445,"question_id":71139636,"body_markdown":"I have a spring boot application that configures it to use multiple data sources (Oracle and Postgres) also use Hikari. When I run the application it up and run successfully but when I can one of the endpoints I got the &quot;Could not commit with auto-commit on&quot; error. I tried to set Hikari auto-commit to false but it didn&#39;t help to solve the problem. Do you have any experience to solve this issue&gt; \r\n","title":"Could not commit with auto-commit on","body":"<p>I have a spring boot application that configures it to use multiple data sources (Oracle and Postgres) also use Hikari. When I run the application it up and run successfully but when I can one of the endpoints I got the &quot;Could not commit with auto-commit on&quot; error. I tried to set Hikari auto-commit to false but it didn't help to solve the problem. Do you have any experience to solve this issue&gt;</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1645010187,"post_id":71139538,"comment_id":125755040,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  The [How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html) section explains how to use combo boxes.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a> section explains how to use combo boxes."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645024836,"post_id":71139538,"comment_id":125761376,"body_markdown":"Read the JComboBox API. There are various `remove???(...)` methods that allow you to remove an item from the combo box.","body":"Read the JComboBox API. There are various <code>remove???(...)</code> methods that allow you to remove an item from the combo box."}],"owner":{"account_id":24046200,"reputation":31,"user_id":18025186,"display_name":"James Yonder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645005083,"creation_date":1645005083,"question_id":71139538,"body_markdown":"For my current java project we are making a school application that lets supervisors be assigned to certain activities. \r\n\r\nMy activity file looks like this:\r\nID, Activity Name, Supervisor ID, Location, Time\r\nMy supervisor file looks like this: \r\nName, Specialization, EmailID, UUID\r\n\r\nThe supervisor ID and name are excerpted from supervisors file and placed in a JComboBox. \r\n\r\nI need to remove the supervisor name and ID from the ComboBox after it has been assigned to an activity.\r\n\r\n\r\nThank you!\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to delete a record from a jcombobox after using the record in another file? (java)","body":"<p>For my current java project we are making a school application that lets supervisors be assigned to certain activities.</p>\n<p>My activity file looks like this:\nID, Activity Name, Supervisor ID, Location, Time\nMy supervisor file looks like this:\nName, Specialization, EmailID, UUID</p>\n<p>The supervisor ID and name are excerpted from supervisors file and placed in a JComboBox.</p>\n<p>I need to remove the supervisor name and ID from the ComboBox after it has been assigned to an activity.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","unit-testing","junit"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1644997224,"post_id":71137803,"comment_id":125750326,"body_markdown":"its on ParcelValidationProperties properties; and invocation on line parcelSize = properties.getSizeMapping().get(parcelSize.toUpperCase()); retun null value , try to pass whole IOC container to you test class @SpringBootTest(classes = YourApplicationMainClass.class)","body":"its on ParcelValidationProperties properties; and invocation on line parcelSize = properties.getSizeMapping().get(parcelSize.toUpperCase()); retun null value , try to pass whole IOC container to you test class @SpringBootTest(classes = YourApplicationMainClass.class)"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644999554,"post_id":71137803,"comment_id":125751067,"body_markdown":"You are mixing JUnit4 and JUnit5 that is bound to fail. ` @RunWIth` is JUnit4 and `@ExtendsWIth` is JUnit5 which do you want?","body":"You are mixing JUnit4 and JUnit5 that is bound to fail. ` @RunWIth` is JUnit4 and <code>@ExtendsWIth</code> is JUnit5 which do you want?"}],"owner":{"account_id":9317268,"reputation":49,"user_id":6917213,"display_name":"Bartek Walaszczyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645004846,"creation_date":1644996527,"question_id":71137803,"body_markdown":"I woluld like to test very simple class:\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class DefaultParcelSizeMapper implements ParcelSizeMapper {\r\n    private final ParcelValidationProperties properties;\r\n\r\n    @Override\r\n    public ParcelSize toParcelSize(String parcelSize) {\r\n        if (parcelSize == null) {\r\n            return null;\r\n        }\r\n        parcelSize = properties.getSizeMapping().get(parcelSize.toUpperCase());\r\n        return parcelSize != null ? new ParcelSize(parcelSize) : null;\r\n    }\r\n}\r\n```\r\n\r\nwhich depends on ParcelValidationProperties:\r\n\r\n```\r\n@Configuration\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;parcel.validation&quot;)\r\npublic class ParcelValidationProperties {\r\n    private Map&lt;String, String&gt; sizeMapping;\r\n}\r\n```\r\n\r\nThose properties are set in `application.yml` file and they look like:\r\n\r\n```\r\nparcel:\r\n  validation:\r\n    size-mapping:\r\n      A: A\r\n      D: A\r\n      E: A\r\n      H: A\r\n      B: B\r\n      F: B\r\n      I: B\r\n      C: C\r\n      G: C\r\n      J: C\r\n```\r\n\r\nMy test:\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = ParcelValidationProperties.class)\r\n@TestPropertySource(&quot;classpath:application.yml&quot;)\r\nclass DefaultParcelSizeMapperTest {\r\n\r\n    @Autowired\r\n    private ParcelValidationProperties parcelValidationProperties;\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;provideParcelSize&quot;)\r\n    void toParcelSize(String size, Object expected) {\r\n        var defaultParcelSizeMapper = new DefaultParcelSizeMapper(parcelValidationProperties);\r\n\r\n        var result = defaultParcelSizeMapper.toParcelSize(size);\r\n\r\n        Assertions.assertEquals(expected, result.getValue());\r\n    }\r\n\r\n    private static Stream&lt;Arguments&gt; provideParcelSize() {\r\n        return Stream.of(\r\n            Arguments.of(null, null),\r\n            Arguments.of(&quot;A&quot;, new ParcelSize(&quot;A&quot;))\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nBut after test running I got this exception:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;pl.xyz.qr.qrcodeapi.model.parcel.ParcelSize.getValue()&quot; because &quot;result&quot; is null\r\n\r\n\tat pl.xyz.qr.qrcodeapi.mapper.DefaultParcelSizeMapperTest.toParcelSize(DefaultParcelSizeMapperTest.java:32)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:92)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\r\n\tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nWhat I&#39;m doing wrong and how should I mock property class?","title":"Problem with testing class that has dependency to Spring Boot @ConfigurationProperties class","body":"<p>I woluld like to test very simple class:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class DefaultParcelSizeMapper implements ParcelSizeMapper {\n    private final ParcelValidationProperties properties;\n\n    @Override\n    public ParcelSize toParcelSize(String parcelSize) {\n        if (parcelSize == null) {\n            return null;\n        }\n        parcelSize = properties.getSizeMapping().get(parcelSize.toUpperCase());\n        return parcelSize != null ? new ParcelSize(parcelSize) : null;\n    }\n}\n</code></pre>\n<p>which depends on ParcelValidationProperties:</p>\n<pre><code>@Configuration\n@Data\n@ConfigurationProperties(prefix = &quot;parcel.validation&quot;)\npublic class ParcelValidationProperties {\n    private Map&lt;String, String&gt; sizeMapping;\n}\n</code></pre>\n<p>Those properties are set in <code>application.yml</code> file and they look like:</p>\n<pre><code>parcel:\n  validation:\n    size-mapping:\n      A: A\n      D: A\n      E: A\n      H: A\n      B: B\n      F: B\n      I: B\n      C: C\n      G: C\n      J: C\n</code></pre>\n<p>My test:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = ParcelValidationProperties.class)\n@TestPropertySource(&quot;classpath:application.yml&quot;)\nclass DefaultParcelSizeMapperTest {\n\n    @Autowired\n    private ParcelValidationProperties parcelValidationProperties;\n\n    @ParameterizedTest\n    @MethodSource(&quot;provideParcelSize&quot;)\n    void toParcelSize(String size, Object expected) {\n        var defaultParcelSizeMapper = new DefaultParcelSizeMapper(parcelValidationProperties);\n\n        var result = defaultParcelSizeMapper.toParcelSize(size);\n\n        Assertions.assertEquals(expected, result.getValue());\n    }\n\n    private static Stream&lt;Arguments&gt; provideParcelSize() {\n        return Stream.of(\n            Arguments.of(null, null),\n            Arguments.of(&quot;A&quot;, new ParcelSize(&quot;A&quot;))\n        );\n    }\n}\n</code></pre>\n<p>But after test running I got this exception:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;pl.xyz.qr.qrcodeapi.model.parcel.ParcelSize.getValue()&quot; because &quot;result&quot; is null\n\n    at pl.xyz.qr.qrcodeapi.mapper.DefaultParcelSizeMapperTest.toParcelSize(DefaultParcelSizeMapperTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:92)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:226)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:204)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:139)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$2(TestTemplateTestDescriptor.java:107)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:107)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:42)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>What I'm doing wrong and how should I mock property class?</p>\n"},{"tags":["java","hibernate","spring-boot","dto"],"comments":[{"owner":{"account_id":4974851,"reputation":1093,"user_id":4001542,"display_name":"Ulad"},"score":0,"creation_date":1543693176,"post_id":53574382,"comment_id":94013001,"body_markdown":"you are trying to add String value to List&lt;TicketDto&gt; ticketDtos, and you are trying to use constructor of Customer with this list, but it expects List&lt;Ticket&gt;","body":"you are trying to add String value to List&lt;TicketDto&gt; ticketDtos, and you are trying to use constructor of Customer with this list, but it expects List&lt;Ticket&gt;"},{"owner":{"account_id":12358348,"reputation":487,"user_id":9013460,"accept_rate":80,"display_name":"Viola"},"score":0,"creation_date":1543693673,"post_id":53574382,"comment_id":94013122,"body_markdown":"@vlad324 thank&#39;s, so how can I save `Customer` with the List of `tickets`?","body":"@vlad324 thank&#39;s, so how can I save <code>Customer</code> with the List of <code>tickets</code>?"},{"owner":{"account_id":476851,"reputation":4341,"user_id":887976,"accept_rate":44,"display_name":"Chirdeep Tomar"},"score":0,"creation_date":1543694585,"post_id":53574382,"comment_id":94013331,"body_markdown":"@Viola your customerservice save method takes in CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos and you are trying to pass a Customer","body":"@Viola your customerservice save method takes in CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos and you are trying to pass a Customer"},{"owner":{"account_id":6864163,"reputation":3001,"user_id":5277225,"accept_rate":64,"display_name":"Yogen Rai"},"score":0,"creation_date":1543694600,"post_id":53574382,"comment_id":94013341,"body_markdown":"@Viola you can create list of Tickets from TicketDTO and add that list to customer!","body":"@Viola you can create list of Tickets from TicketDTO and add that list to customer!"}],"answers":[{"tags":[],"owner":{"account_id":6864163,"reputation":3001,"user_id":5277225,"accept_rate":64,"display_name":"Yogen Rai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543698475,"creation_date":1543694776,"answer_id":53574609,"question_id":53574382,"body_markdown":"Since you CustomerServiceImpl is taking CustomerDto and list of TicketDtos, you need to change your method call on controller as below:\r\n\r\nClass CustomerController:\r\n\r\n    @Autowired\r\n    CustomerService customerService;\r\n    \r\n    @PostMapping(value = &quot;/customers/create&quot;)\r\n    public Customer postCustomer(@RequestBody CustomerDto customerDto) {\r\n        Customer _customer = customerService.save(customerDto));\r\n        return _customer;\r\n    }\r\n\r\nAnd update CustomerServiceImpl as:\r\n\r\n    @Service\r\n    public class CustomerServiceImpl implements CustomerService {\r\n    \r\n        @Autowired\r\n        CustomerRepository repository;\r\n        \r\n        // change save to return saved customer\r\n        @Override\r\n        public Customer save(CustomerDto customerDto) {\r\n            Customer customer = new Customer();\r\n            customer.setName(customerDto.getName());\r\n            // customer.setTicket(customerDto.getTicket()); // remove this\r\n        \r\n            List&lt;Ticket&gt; tickets = new ArrayList&lt;&gt;();\r\n            for (TicketDto ticketDto : customerDto.getTicketDtos) {\r\n                Ticket ticket = new Ticket();\r\n                ticket.setDestinationCity(ticketDto.getDepartureCity());\r\n                ticket.setDestinationCity(ticketDto.getDestinationCity());\r\n                tickets.add(ticket);\r\n            }\r\n            customer.setTickets(tickets); // add this to set tickets on customer\r\n            return repository.save(customer);\r\n        }\r\n\r\n\r\nObviously, you need to change your interface as well:\r\n\r\n    public interface CustomerService {\r\n    \r\n         Customer save(CustomerDto customerDto);\r\n    }","title":"Post Method using DTO","body":"<p>Since you CustomerServiceImpl is taking CustomerDto and list of TicketDtos, you need to change your method call on controller as below:</p>\n\n<p>Class CustomerController:</p>\n\n<pre><code>@Autowired\nCustomerService customerService;\n\n@PostMapping(value = \"/customers/create\")\npublic Customer postCustomer(@RequestBody CustomerDto customerDto) {\n    Customer _customer = customerService.save(customerDto));\n    return _customer;\n}\n</code></pre>\n\n<p>And update CustomerServiceImpl as:</p>\n\n<pre><code>@Service\npublic class CustomerServiceImpl implements CustomerService {\n\n    @Autowired\n    CustomerRepository repository;\n\n    // change save to return saved customer\n    @Override\n    public Customer save(CustomerDto customerDto) {\n        Customer customer = new Customer();\n        customer.setName(customerDto.getName());\n        // customer.setTicket(customerDto.getTicket()); // remove this\n\n        List&lt;Ticket&gt; tickets = new ArrayList&lt;&gt;();\n        for (TicketDto ticketDto : customerDto.getTicketDtos) {\n            Ticket ticket = new Ticket();\n            ticket.setDestinationCity(ticketDto.getDepartureCity());\n            ticket.setDestinationCity(ticketDto.getDestinationCity());\n            tickets.add(ticket);\n        }\n        customer.setTickets(tickets); // add this to set tickets on customer\n        return repository.save(customer);\n    }\n</code></pre>\n\n<p>Obviously, you need to change your interface as well:</p>\n\n<pre><code>public interface CustomerService {\n\n     Customer save(CustomerDto customerDto);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11249374,"reputation":401,"user_id":8250946,"display_name":"vikash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618337978,"creation_date":1618337978,"answer_id":67080357,"question_id":53574382,"body_markdown":"For entity-DTO conversion, we need to use **ModelMapper** or **mapstruct** library.\r\nWith the help of these libraries, we can easily convert from Dto to entity and entity to dto object. After adding any of the dependency, We are able to use it.\r\n\r\nHow can we use, Let see...\r\n\r\nDefine *modelMapper* bean in spring configuration.\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n\r\nSuppose we need to convert List&lt;TicketDto&gt; to List&lt;Ticket&gt; obj then we can perform simply like that :\r\n\r\n    List&lt;TicketDto&gt; ticketDtos = .... //Suppose It is holding some data\r\n    List&lt;Ticket&gt; tickets = ticketDtos.stream()\r\n                           .map(tkt-&gt; mappper.map(tkt, ticket.class))\r\n                           .collect(Collectors.toList());\r\n\r\nIt is very simple to use like **mappper.map(targetClass, DestinationClass.class)**\r\nI used Java8 code here but you can use anyone. I hope It would be very helpful to you.","title":"Post Method using DTO","body":"<p>For entity-DTO conversion, we need to use <strong>ModelMapper</strong> or <strong>mapstruct</strong> library.\nWith the help of these libraries, we can easily convert from Dto to entity and entity to dto object. After adding any of the dependency, We are able to use it.</p>\n<p>How can we use, Let see...</p>\n<p>Define <em>modelMapper</em> bean in spring configuration.</p>\n<pre><code>@Bean\npublic ModelMapper modelMapper() {\n    return new ModelMapper();\n}\n</code></pre>\n<p>Suppose we need to convert List to List obj then we can perform simply like that :</p>\n<pre><code>List&lt;TicketDto&gt; ticketDtos = .... //Suppose It is holding some data\nList&lt;Ticket&gt; tickets = ticketDtos.stream()\n                       .map(tkt-&gt; mappper.map(tkt, ticket.class))\n                       .collect(Collectors.toList());\n</code></pre>\n<p>It is very simple to use like <strong>mappper.map(targetClass, DestinationClass.class)</strong>\nI used Java8 code here but you can use anyone. I hope It would be very helpful to you.</p>\n"}],"owner":{"account_id":12358348,"reputation":487,"user_id":9013460,"accept_rate":80,"display_name":"Viola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53574609,"answer_count":2,"score":0,"last_activity_date":1645004410,"creation_date":1543692944,"question_id":53574382,"body_markdown":"I want to use DTO to communicate with the Angular, but actually it doesn&#39;t work. I want to create POST request to add data from my application to the database using Dto model. \r\n\r\nYou can see my errors on the picture:\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy class Customer:\r\n    \r\n    @Entity\r\n    @Table(name = &quot;customer&quot;)\r\n    public class Customer {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany\r\n    private List&lt;Ticket&gt; ticket;\r\n    ...\r\n\r\nClass CustomerDto:\r\n\r\n    public class CustomerDto {\r\n    private String name;\r\n    private List&lt;TicketDto&gt; ticket;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public List&lt;TicketDto&gt; getTicket() {\r\n        return ticket;\r\n    }\r\n\r\n    public void setTicket(List&lt;TicketDto&gt; ticket) {\r\n        this.ticket = ticket;\r\n    }\r\n    }\r\n\r\nClass CustomerController:\r\n\t\r\n    @Autowired\r\n\tCustomerService customerService;\r\n\r\n\t@PostMapping(value = &quot;/customers/create&quot;)\r\n\tpublic Customer postCustomer(@RequestBody CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos) {\r\n\t\t//ArrayList&lt;TicketDto&gt; tickets = new ArrayList&lt;&gt;();\r\n\t\tticketDtos.add(customerDto.getName());\r\n\t\tticketDtos.add(customerDto.getTicket());\r\n\t\tCustomer _customer = customerService.save(new Customer(customerDto.getName(), ticketDtos ));\r\n\t\treturn _customer;\r\n\t}\r\n\r\nCustomerService:\r\n\r\n    public interface CustomerService {\r\n\r\n    void save(CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos);\r\n    }\r\n\r\nCustomerServiceImpl:\r\n\r\n    @Service\r\n    public class CustomerServiceImpl implements CustomerService {\r\n\r\n    @Autowired\r\n    CustomerRepository repository;\r\n\r\n    @Override\r\n    public void save(CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos) {\r\n        Customer customer = new Customer();\r\n        customer.setName(customerDto.getName());\r\n        customer.setTicket(customerDto.getTicket());\r\n\r\n        List&lt;Ticket&gt; tickets = new ArrayList&lt;&gt;();\r\n        for (TicketDto ticketDto : ticketDtos) {\r\n            Ticket ticket = new Ticket();\r\n            ticket.setDestinationCity(ticketDto.getDepartureCity());\r\n            ticket.setDestinationCity(ticketDto.getDestinationCity());\r\n            tickets.add(ticket);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yCvHv.png\r\n  [2]: https://i.stack.imgur.com/N2gMH.png","title":"Post Method using DTO","body":"<p>I want to use DTO to communicate with the Angular, but actually it doesn't work. I want to create POST request to add data from my application to the database using Dto model. </p>\n\n<p>You can see my errors on the picture:\n<a href=\"https://i.stack.imgur.com/yCvHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yCvHv.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/N2gMH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N2gMH.png\" alt=\"enter image description here\"></a></p>\n\n<p>My class Customer:</p>\n\n<pre><code>@Entity\n@Table(name = \"customer\")\npublic class Customer {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate int id;\n\n@Column(name = \"name\")\nprivate String name;\n\n@OneToMany\nprivate List&lt;Ticket&gt; ticket;\n...\n</code></pre>\n\n<p>Class CustomerDto:</p>\n\n<pre><code>public class CustomerDto {\nprivate String name;\nprivate List&lt;TicketDto&gt; ticket;\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic List&lt;TicketDto&gt; getTicket() {\n    return ticket;\n}\n\npublic void setTicket(List&lt;TicketDto&gt; ticket) {\n    this.ticket = ticket;\n}\n}\n</code></pre>\n\n<p>Class CustomerController:</p>\n\n<pre><code>@Autowired\nCustomerService customerService;\n\n@PostMapping(value = \"/customers/create\")\npublic Customer postCustomer(@RequestBody CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos) {\n    //ArrayList&lt;TicketDto&gt; tickets = new ArrayList&lt;&gt;();\n    ticketDtos.add(customerDto.getName());\n    ticketDtos.add(customerDto.getTicket());\n    Customer _customer = customerService.save(new Customer(customerDto.getName(), ticketDtos ));\n    return _customer;\n}\n</code></pre>\n\n<p>CustomerService:</p>\n\n<pre><code>public interface CustomerService {\n\nvoid save(CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos);\n}\n</code></pre>\n\n<p>CustomerServiceImpl:</p>\n\n<pre><code>@Service\npublic class CustomerServiceImpl implements CustomerService {\n\n@Autowired\nCustomerRepository repository;\n\n@Override\npublic void save(CustomerDto customerDto, List&lt;TicketDto&gt; ticketDtos) {\n    Customer customer = new Customer();\n    customer.setName(customerDto.getName());\n    customer.setTicket(customerDto.getTicket());\n\n    List&lt;Ticket&gt; tickets = new ArrayList&lt;&gt;();\n    for (TicketDto ticketDto : ticketDtos) {\n        Ticket ticket = new Ticket();\n        ticket.setDestinationCity(ticketDto.getDepartureCity());\n        ticket.setDestinationCity(ticketDto.getDestinationCity());\n        tickets.add(ticket);\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1644998458,"post_id":71137909,"comment_id":125750716,"body_markdown":"You have more than one user fulfilling the WHERE selection. Thus you cannot return a single user in your repository method.","body":"You have more than one user fulfilling the WHERE selection. Thus you cannot return a single user in your repository method."},{"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"score":0,"creation_date":1644999176,"post_id":71137909,"comment_id":125750930,"body_markdown":"I want to display the records of the student user, not only single user record","body":"I want to display the records of the student user, not only single user record"}],"answers":[{"tags":[],"owner":{"account_id":15446017,"reputation":54,"user_id":11142946,"display_name":"Evgenii Mikhailov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645003914,"creation_date":1645003914,"answer_id":71139254,"question_id":71137909,"body_markdown":"Change signature `User findStudentUserByRole()` to `List&lt;User&gt; findStudentUserByRole()`","title":"Failed to return the unique result","body":"<p>Change signature <code>User findStudentUserByRole()</code> to <code>List&lt;User&gt; findStudentUserByRole()</code></p>\n"}],"owner":{"account_id":20719168,"reputation":47,"user_id":15213946,"display_name":"mike kong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645003914,"creation_date":1644997172,"question_id":71137909,"body_markdown":"In my user table, it contains users that consist of three roles which is admin, lecturer, student. I want to retrieve only the student user details from the user table. \r\n\r\nBut it show this exception `org.springframework.dao.IncorrectResultSizeDataAccessException` when I run the program to get the data from **user** table  \r\n\r\n\r\n**Exception display in the console** \r\n```\r\nHibernate: select user0_.id as id1_3_, user0_.edu_inst as edu_inst2_3_, user0_.email as email3_3_, user0_.gender as gender4_3_, user0_.password as password5_3_, user0_.user_role as user_rol6_3_, user0_.username as username7_3_ from user user0_ where user0_.user_role=&#39;Student&#39;\r\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\r\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\r\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\r\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\r\n2022-02-16 15:20:07.678  INFO 1812 --- [           main] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@6986bbaf testClass = UserRepositoryTest, testInstance = com.fyp.webapp.UserRepositoryTest@5cde6747, testMethod = testFindStudentUserByRole@UserRepositoryTest, testException = org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 4; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 4, mergedContextConfiguration = [MergedContextConfiguration@4879dfad testClass = UserRepositoryTest, locations = &#39;{}&#39;, classes = &#39;{class com.fyp.webapp.FypWebAppApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;\r\n\r\n```\r\n\r\n\r\n**My user bean class**\r\n```\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;email&quot;, nullable = false, unique = true, length = 100)\r\n\tprivate String email;\r\n\r\n\t@Column(name = &quot;password&quot;, nullable = false, length = 85)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;username&quot;, nullable = false, length = 25)\r\n\tprivate String username;\r\n\r\n\t@Column(name = &quot;gender&quot;, nullable = false, length = 10)\r\n\tprivate String gender;\r\n\r\n\t@Column(name = &quot;userRole&quot;, nullable = false, length = 10)\r\n\tprivate String role;\r\n\r\n\t@Column(name = &quot;edu_inst&quot;, nullable = false, length = 65)\r\n\tprivate String eduInst;\r\n\r\n\t@ManyToMany(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n```\r\n**My user repository code** \r\n```\r\n@Query(&quot;SELECT u FROM User u WHERE u.role = &#39;Student&#39; &quot;)\r\n\tUser findStudentUserByRole();\r\n```\r\n**user table**\r\n&gt;[![enter image description here][1]][1]\r\n\r\n**user_roles table**\r\n&gt; [![enter image description here][2]][2]\r\n\r\n**role table**\r\n&gt; [![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8VCDP.png\r\n  [2]: https://i.stack.imgur.com/7xPp8.png\r\n  [3]: https://i.stack.imgur.com/DNYQ9.png","title":"Failed to return the unique result","body":"<p>In my user table, it contains users that consist of three roles which is admin, lecturer, student. I want to retrieve only the student user details from the user table.</p>\n<p>But it show this exception <code>org.springframework.dao.IncorrectResultSizeDataAccessException</code> when I run the program to get the data from <strong>user</strong> table</p>\n<p><strong>Exception display in the console</strong></p>\n<pre><code>Hibernate: select user0_.id as id1_3_, user0_.edu_inst as edu_inst2_3_, user0_.email as email3_3_, user0_.gender as gender4_3_, user0_.password as password5_3_, user0_.user_role as user_rol6_3_, user0_.username as username7_3_ from user user0_ where user0_.user_role='Student'\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\nHibernate: select roles0_.user_id as user_id1_4_0_, roles0_.role_id as role_id2_4_0_, role1_.id as id1_1_1_, role1_.name as name2_1_1_ from users_roles roles0_ inner join roles role1_ on roles0_.role_id=role1_.id where roles0_.user_id=?\n2022-02-16 15:20:07.678  INFO 1812 --- [           main] o.s.t.c.transaction.TransactionContext   : Committed transaction for test: [DefaultTestContext@6986bbaf testClass = UserRepositoryTest, testInstance = com.fyp.webapp.UserRepositoryTest@5cde6747, testMethod = testFindStudentUserByRole@UserRepositoryTest, testException = org.springframework.dao.IncorrectResultSizeDataAccessException: query did not return a unique result: 4; nested exception is javax.persistence.NonUniqueResultException: query did not return a unique result: 4, mergedContextConfiguration = [MergedContextConfiguration@4879dfad testClass = UserRepositoryTest, locations = '{}', classes = '{class com.fyp.webapp.FypWebAppApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}'\n\n</code></pre>\n<p><strong>My user bean class</strong></p>\n<pre><code>public class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;email&quot;, nullable = false, unique = true, length = 100)\n    private String email;\n\n    @Column(name = &quot;password&quot;, nullable = false, length = 85)\n    private String password;\n\n    @Column(name = &quot;username&quot;, nullable = false, length = 25)\n    private String username;\n\n    @Column(name = &quot;gender&quot;, nullable = false, length = 10)\n    private String gender;\n\n    @Column(name = &quot;userRole&quot;, nullable = false, length = 10)\n    private String role;\n\n    @Column(name = &quot;edu_inst&quot;, nullable = false, length = 65)\n    private String eduInst;\n\n    @ManyToMany(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;user_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>My user repository code</strong></p>\n<pre><code>@Query(&quot;SELECT u FROM User u WHERE u.role = 'Student' &quot;)\n    User findStudentUserByRole();\n</code></pre>\n<p><strong>user table</strong></p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/8VCDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8VCDP.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p><strong>user_roles table</strong></p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/7xPp8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xPp8.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p><strong>role table</strong></p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/DNYQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNYQ9.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n"},{"tags":["java","jaxb","unmarshalling"],"owner":{"account_id":9740472,"reputation":31,"user_id":7222243,"display_name":"Christian Eugster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645003841,"creation_date":1645003841,"question_id":71139240,"body_markdown":"I want to unmarshal an xml file using jaxb. I generated the java classes by invoking xjc, that produced a lot of classes. The root class is document. It contains one attribute. When I unmarshal the xml file there is no exception thrown, but the attribute of class document is null. Why does the unmarshalling not fill the attribute?\r\n\r\nMy code in this respect is:\r\n\r\n```SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nSchema schema = factory.newSchema(schemaFile);\r\nJAXBContext jaxbContext = JAXBContext.newInstance(camtDocumentClass);\r\nUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\nunmarshaller.setSchema(schema);\r\nObject object = unmarshaller.unmarshal(camtFile);\r\n```\r\nThe (shorted) xml document to unmarshal is:\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04 camt.054.001.04.xsd&quot;&gt;\r\n\t&lt;BkToCstmrDbtCdtNtfctn&gt;\r\n...\r\n\t&lt;/BkToCstmrDbtCdtNtfctn&gt;\r\n&lt;/Document&gt;\r\n```\r\nThe relevant generated classes are: Document\r\n\r\n```// Diese Datei wurde mit der JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.8-b130911.1802 generiert \r\n// Siehe &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \r\n// &#196;nderungen an dieser Datei gehen bei einer Neukompilierung des Quellschemas verloren. \r\n// Generiert: 2021.10.24 um 12:18:28 PM CEST \r\n//\r\n\r\n\r\npackage ch.eugster.camt05400104;\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlType;\r\n\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\n\r\n\r\n/**\r\n * &lt;p&gt;Java-Klasse f&#252;r Document complex type.\r\n * \r\n * &lt;p&gt;Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\r\n * \r\n * &lt;pre&gt;\r\n * &amp;lt;complexType name=&quot;Document&quot;&gt;\r\n *   &amp;lt;complexContent&gt;\r\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n *       &amp;lt;sequence&gt;\r\n *         &amp;lt;element name=&quot;BkToCstmrDbtCdtNtfctn&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}BankToCustomerDebitCreditNotificationV04&quot;/&gt;\r\n *       &amp;lt;/sequence&gt;\r\n *     &amp;lt;/restriction&gt;\r\n *   &amp;lt;/complexContent&gt;\r\n * &amp;lt;/complexType&gt;\r\n * &lt;/pre&gt;\r\n * \r\n * \r\n */\r\n@XmlRootElement(name = &quot;Document&quot;, namespace = &quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04&quot;)\r\n@XmlAccessorType(XmlAccessType.NONE)\r\n@XmlType(name = &quot;Document&quot;, propOrder = {\r\n    &quot;bkToCstmrDbtCdtNtfctn&quot;\r\n})\r\npublic class Document {\r\n\t\r\n\tpublic Document()\r\n\t{\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n    @XmlElement(name = &quot;BkToCstmrDbtCdtNtfctn&quot;, required = true)\r\n    protected BankToCustomerDebitCreditNotificationV04 bkToCstmrDbtCdtNtfctn;\r\n\r\n    /**\r\n     * Ruft den Wert der bkToCstmrDbtCdtNtfctn-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link BankToCustomerDebitCreditNotificationV04 }\r\n     *     \r\n     */\r\n    public BankToCustomerDebitCreditNotificationV04 getBkToCstmrDbtCdtNtfctn() {\r\n        return bkToCstmrDbtCdtNtfctn;\r\n    }\r\n\r\n    /**\r\n     * Legt den Wert der bkToCstmrDbtCdtNtfctn-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link BankToCustomerDebitCreditNotificationV04 }\r\n     *     \r\n     */\r\n    public void setBkToCstmrDbtCdtNtfctn(BankToCustomerDebitCreditNotificationV04 value) {\r\n        this.bkToCstmrDbtCdtNtfctn = value;\r\n    }\r\n\r\n}\r\n```\r\nThe attribute class is: \r\n```// Diese Datei wurde mit der JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.2.8-b130911.1802 generiert \r\n// Siehe &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \r\n// &#196;nderungen an dieser Datei gehen bei einer Neukompilierung des Quellschemas verloren. \r\n// Generiert: 2021.10.24 um 12:18:28 PM CEST \r\n//\r\n\r\n\r\npackage ch.eugster.camt05400104;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlType;\r\n\r\n\r\n/**\r\n * &lt;p&gt;Java-Klasse f&#252;r BankToCustomerDebitCreditNotificationV04 complex type.\r\n * \r\n * &lt;p&gt;Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\r\n * \r\n * &lt;pre&gt;\r\n * &amp;lt;complexType name=&quot;BankToCustomerDebitCreditNotificationV04&quot;&gt;\r\n *   &amp;lt;complexContent&gt;\r\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n *       &amp;lt;sequence&gt;\r\n *         &amp;lt;element name=&quot;GrpHdr&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}GroupHeader58&quot;/&gt;\r\n *         &amp;lt;element name=&quot;Ntfctn&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}AccountNotification7&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n *         &amp;lt;element name=&quot;SplmtryData&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}SupplementaryData1&quot; maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot;/&gt;\r\n *       &amp;lt;/sequence&gt;\r\n *     &amp;lt;/restriction&gt;\r\n *   &amp;lt;/complexContent&gt;\r\n * &amp;lt;/complexType&gt;\r\n * &lt;/pre&gt;\r\n * \r\n * \r\n */\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;BankToCustomerDebitCreditNotificationV04&quot;, propOrder = {\r\n    &quot;grpHdr&quot;,\r\n    &quot;ntfctn&quot;,\r\n    &quot;splmtryData&quot;\r\n})\r\npublic class BankToCustomerDebitCreditNotificationV04 {\r\n\r\n    @XmlElement(name = &quot;GrpHdr&quot;, required = true)\r\n    protected GroupHeader58 grpHdr;\r\n    @XmlElement(name = &quot;Ntfctn&quot;, required = true)\r\n    protected List&lt;AccountNotification7&gt; ntfctn;\r\n    @XmlElement(name = &quot;SplmtryData&quot;)\r\n    protected List&lt;SupplementaryData1&gt; splmtryData;\r\n\r\n    /**\r\n     * Ruft den Wert der grpHdr-Eigenschaft ab.\r\n     * \r\n     * @return\r\n     *     possible object is\r\n     *     {@link GroupHeader58 }\r\n     *     \r\n     */\r\n    public GroupHeader58 getGrpHdr() {\r\n        return grpHdr;\r\n    }\r\n\r\n    /**\r\n     * Legt den Wert der grpHdr-Eigenschaft fest.\r\n     * \r\n     * @param value\r\n     *     allowed object is\r\n     *     {@link GroupHeader58 }\r\n     *     \r\n     */\r\n    public void setGrpHdr(GroupHeader58 value) {\r\n        this.grpHdr = value;\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the ntfctn property.\r\n     * \r\n     * &lt;p&gt;\r\n     * This accessor method returns a reference to the live list,\r\n     * not a snapshot. Therefore any modification you make to the\r\n     * returned list will be present inside the JAXB object.\r\n     * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the ntfctn property.\r\n     * \r\n     * &lt;p&gt;\r\n     * For example, to add a new item, do as follows:\r\n     * &lt;pre&gt;\r\n     *    getNtfctn().add(newItem);\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     * &lt;p&gt;\r\n     * Objects of the following type(s) are allowed in the list\r\n     * {@link AccountNotification7 }\r\n     * \r\n     * \r\n     */\r\n    public List&lt;AccountNotification7&gt; getNtfctn() {\r\n        if (ntfctn == null) {\r\n            ntfctn = new ArrayList&lt;AccountNotification7&gt;();\r\n        }\r\n        return this.ntfctn;\r\n    }\r\n\r\n    /**\r\n     * Gets the value of the splmtryData property.\r\n     * \r\n     * &lt;p&gt;\r\n     * This accessor method returns a reference to the live list,\r\n     * not a snapshot. Therefore any modification you make to the\r\n     * returned list will be present inside the JAXB object.\r\n     * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the splmtryData property.\r\n     * \r\n     * &lt;p&gt;\r\n     * For example, to add a new item, do as follows:\r\n     * &lt;pre&gt;\r\n     *    getSplmtryData().add(newItem);\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     * &lt;p&gt;\r\n     * Objects of the following type(s) are allowed in the list\r\n     * {@link SupplementaryData1 }\r\n     * \r\n     * \r\n     */\r\n    public List&lt;SupplementaryData1&gt; getSplmtryData() {\r\n        if (splmtryData == null) {\r\n            splmtryData = new ArrayList&lt;SupplementaryData1&gt;();\r\n        }\r\n        return this.splmtryData;\r\n    }\r\n\r\n}\r\n```\r\nThe xsd file is camt.054.001.04.xsd (it is too big to paste it here). You can find it at [here][1]\r\nAs already said, the unmarshalling throws no exception. And I did not succeed debugging because I have not the relevant sources of the unmarshal classes. I examined the respective Question, but did not find the right solution.\r\n\r\nAny idea? Thank you!\r\nChristian\r\n\r\n\r\n  [1]: https://github.com/genkgo/camt/blob/master/assets/camt.054.001.04.xsd","title":"JAXB unmarshalling returns object with null children","body":"<p>I want to unmarshal an xml file using jaxb. I generated the java classes by invoking xjc, that produced a lot of classes. The root class is document. It contains one attribute. When I unmarshal the xml file there is no exception thrown, but the attribute of class document is null. Why does the unmarshalling not fill the attribute?</p>\n<p>My code in this respect is:</p>\n<pre><code>Schema schema = factory.newSchema(schemaFile);\nJAXBContext jaxbContext = JAXBContext.newInstance(camtDocumentClass);\nUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\nunmarshaller.setSchema(schema);\nObject object = unmarshaller.unmarshal(camtFile);\n</code></pre>\n<p>The (shorted) xml document to unmarshal is:</p>\n<pre><code>&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04 camt.054.001.04.xsd&quot;&gt;\n    &lt;BkToCstmrDbtCdtNtfctn&gt;\n...\n    &lt;/BkToCstmrDbtCdtNtfctn&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>The relevant generated classes are: Document</p>\n<pre><code>// Siehe &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \n// Änderungen an dieser Datei gehen bei einer Neukompilierung des Quellschemas verloren. \n// Generiert: 2021.10.24 um 12:18:28 PM CEST \n//\n\n\npackage ch.eugster.camt05400104;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\nimport jakarta.xml.bind.annotation.XmlRootElement;\n\n\n/**\n * &lt;p&gt;Java-Klasse für Document complex type.\n * \n * &lt;p&gt;Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=&quot;Document&quot;&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=&quot;BkToCstmrDbtCdtNtfctn&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}BankToCustomerDebitCreditNotificationV04&quot;/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlRootElement(name = &quot;Document&quot;, namespace = &quot;urn:iso:std:iso:20022:tech:xsd:camt.054.001.04&quot;)\n@XmlAccessorType(XmlAccessType.NONE)\n@XmlType(name = &quot;Document&quot;, propOrder = {\n    &quot;bkToCstmrDbtCdtNtfctn&quot;\n})\npublic class Document {\n    \n    public Document()\n    {\n        System.out.println();\n    }\n\n    @XmlElement(name = &quot;BkToCstmrDbtCdtNtfctn&quot;, required = true)\n    protected BankToCustomerDebitCreditNotificationV04 bkToCstmrDbtCdtNtfctn;\n\n    /**\n     * Ruft den Wert der bkToCstmrDbtCdtNtfctn-Eigenschaft ab.\n     * \n     * @return\n     *     possible object is\n     *     {@link BankToCustomerDebitCreditNotificationV04 }\n     *     \n     */\n    public BankToCustomerDebitCreditNotificationV04 getBkToCstmrDbtCdtNtfctn() {\n        return bkToCstmrDbtCdtNtfctn;\n    }\n\n    /**\n     * Legt den Wert der bkToCstmrDbtCdtNtfctn-Eigenschaft fest.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link BankToCustomerDebitCreditNotificationV04 }\n     *     \n     */\n    public void setBkToCstmrDbtCdtNtfctn(BankToCustomerDebitCreditNotificationV04 value) {\n        this.bkToCstmrDbtCdtNtfctn = value;\n    }\n\n}\n</code></pre>\n<p>The attribute class is:</p>\n<pre><code>// Siehe &lt;a href=&quot;http://java.sun.com/xml/jaxb&quot;&gt;http://java.sun.com/xml/jaxb&lt;/a&gt; \n// Änderungen an dieser Datei gehen bei einer Neukompilierung des Quellschemas verloren. \n// Generiert: 2021.10.24 um 12:18:28 PM CEST \n//\n\n\npackage ch.eugster.camt05400104;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java-Klasse für BankToCustomerDebitCreditNotificationV04 complex type.\n * \n * &lt;p&gt;Das folgende Schemafragment gibt den erwarteten Content an, der in dieser Klasse enthalten ist.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=&quot;BankToCustomerDebitCreditNotificationV04&quot;&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=&quot;GrpHdr&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}GroupHeader58&quot;/&gt;\n *         &amp;lt;element name=&quot;Ntfctn&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}AccountNotification7&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n *         &amp;lt;element name=&quot;SplmtryData&quot; type=&quot;{urn:iso:std:iso:20022:tech:xsd:camt.054.001.04}SupplementaryData1&quot; maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot;/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;BankToCustomerDebitCreditNotificationV04&quot;, propOrder = {\n    &quot;grpHdr&quot;,\n    &quot;ntfctn&quot;,\n    &quot;splmtryData&quot;\n})\npublic class BankToCustomerDebitCreditNotificationV04 {\n\n    @XmlElement(name = &quot;GrpHdr&quot;, required = true)\n    protected GroupHeader58 grpHdr;\n    @XmlElement(name = &quot;Ntfctn&quot;, required = true)\n    protected List&lt;AccountNotification7&gt; ntfctn;\n    @XmlElement(name = &quot;SplmtryData&quot;)\n    protected List&lt;SupplementaryData1&gt; splmtryData;\n\n    /**\n     * Ruft den Wert der grpHdr-Eigenschaft ab.\n     * \n     * @return\n     *     possible object is\n     *     {@link GroupHeader58 }\n     *     \n     */\n    public GroupHeader58 getGrpHdr() {\n        return grpHdr;\n    }\n\n    /**\n     * Legt den Wert der grpHdr-Eigenschaft fest.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link GroupHeader58 }\n     *     \n     */\n    public void setGrpHdr(GroupHeader58 value) {\n        this.grpHdr = value;\n    }\n\n    /**\n     * Gets the value of the ntfctn property.\n     * \n     * &lt;p&gt;\n     * This accessor method returns a reference to the live list,\n     * not a snapshot. Therefore any modification you make to the\n     * returned list will be present inside the JAXB object.\n     * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the ntfctn property.\n     * \n     * &lt;p&gt;\n     * For example, to add a new item, do as follows:\n     * &lt;pre&gt;\n     *    getNtfctn().add(newItem);\n     * &lt;/pre&gt;\n     * \n     * \n     * &lt;p&gt;\n     * Objects of the following type(s) are allowed in the list\n     * {@link AccountNotification7 }\n     * \n     * \n     */\n    public List&lt;AccountNotification7&gt; getNtfctn() {\n        if (ntfctn == null) {\n            ntfctn = new ArrayList&lt;AccountNotification7&gt;();\n        }\n        return this.ntfctn;\n    }\n\n    /**\n     * Gets the value of the splmtryData property.\n     * \n     * &lt;p&gt;\n     * This accessor method returns a reference to the live list,\n     * not a snapshot. Therefore any modification you make to the\n     * returned list will be present inside the JAXB object.\n     * This is why there is not a &lt;CODE&gt;set&lt;/CODE&gt; method for the splmtryData property.\n     * \n     * &lt;p&gt;\n     * For example, to add a new item, do as follows:\n     * &lt;pre&gt;\n     *    getSplmtryData().add(newItem);\n     * &lt;/pre&gt;\n     * \n     * \n     * &lt;p&gt;\n     * Objects of the following type(s) are allowed in the list\n     * {@link SupplementaryData1 }\n     * \n     * \n     */\n    public List&lt;SupplementaryData1&gt; getSplmtryData() {\n        if (splmtryData == null) {\n            splmtryData = new ArrayList&lt;SupplementaryData1&gt;();\n        }\n        return this.splmtryData;\n    }\n\n}\n</code></pre>\n<p>The xsd file is camt.054.001.04.xsd (it is too big to paste it here). You can find it at <a href=\"https://github.com/genkgo/camt/blob/master/assets/camt.054.001.04.xsd\" rel=\"nofollow noreferrer\">here</a>\nAs already said, the unmarshalling throws no exception. And I did not succeed debugging because I have not the relevant sources of the unmarshal classes. I examined the respective Question, but did not find the right solution.</p>\n<p>Any idea? Thank you!\nChristian</p>\n"},{"tags":["java","user-interface","javafx","fxml"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1644957248,"post_id":71132928,"comment_id":125742049,"body_markdown":"Don&#39;t manually try to copy from source to target.  Use the [maven standard layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) (even if you aren&#39;t using maven).  Put your source under `src/main/java` and your resources under `src/main/resources`.  While you can configure the source and resource paths manually in an IDE, I advise using a build tool (use Maven rather than Gradle if you have never used a build tool).  Import the build tool project into your IDE.","body":"Don&#39;t manually try to copy from source to target.  Use the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">maven standard layout</a> (even if you aren&#39;t using maven).  Put your source under <code>src&#47;main&#47;java</code> and your resources under <code>src&#47;main&#47;resources</code>.  While you can configure the source and resource paths manually in an IDE, I advise using a build tool (use Maven rather than Gradle if you have never used a build tool).  Import the build tool project into your IDE."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1644957348,"post_id":71132928,"comment_id":125742078,"body_markdown":"Idea will do all of the stuff automatically for you when you create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html), which I advise you do as it is the easiest way (IMO) to get a functional new FXML based development environment correctly setup.","body":"Idea will do all of the stuff automatically for you when you create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a>, which I advise you do as it is the easiest way (IMO) to get a functional new FXML based development environment correctly setup."},{"owner":{"account_id":19638652,"reputation":22,"user_id":14375334,"display_name":"SIMCHE"},"score":0,"creation_date":1644957372,"post_id":71132928,"comment_id":125742085,"body_markdown":"i have checked these paths and they are already like you said. ...","body":"i have checked these paths and they are already like you said. ..."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1644957458,"post_id":71132928,"comment_id":125742118,"body_markdown":"Then your project isn&#39;t correctly configured to use standard paths.","body":"Then your project isn&#39;t correctly configured to use standard paths."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1644957571,"post_id":71132928,"comment_id":125742160,"body_markdown":"Once you have your project settings correctly configured, study, understand and follow the [eden resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/) which details different strategies on where to place resources and how to look them up and find them.","body":"Once you have your project settings correctly configured, study, understand and follow the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden resource guide</a> which details different strategies on where to place resources and how to look them up and find them."}],"answers":[{"tags":[],"owner":{"account_id":24274179,"reputation":1,"user_id":18221722,"display_name":"schicki"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645003536,"creation_date":1645003536,"answer_id":71139177,"question_id":71132928,"body_markdown":"You have to look in the Wiki from HTl at Austria, the author samcrewo has done a very good work. It is very easy to understand and you can copy the most of it to your programm. Hope I have helped you!","title":"Java fxml does not sync with target folder","body":"<p>You have to look in the Wiki from HTl at Austria, the author samcrewo has done a very good work. It is very easy to understand and you can copy the most of it to your programm. Hope I have helped you!</p>\n"}],"owner":{"account_id":19638652,"reputation":22,"user_id":14375334,"display_name":"SIMCHE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645003536,"creation_date":1644956708,"question_id":71132928,"body_markdown":"If i make some changes in my src folder, the changes do not update in the target folder. So i have already tried to copy my files from the src folder in the target folder, but they have different filetypes. Therefore i can&#39;t write in the target-folder (read only).\r\n\r\n**What can i do that these two folders update.?**\r\n\r\nFor example, if i create new labels, circle objects. i can&#39;t see them after running, because the file that is being executed still has the old version. \r\n\r\n\r\ni have already tried to sync these files with copy paste or delet the target folder. Nothing worked. \r\n","title":"Java fxml does not sync with target folder","body":"<p>If i make some changes in my src folder, the changes do not update in the target folder. So i have already tried to copy my files from the src folder in the target folder, but they have different filetypes. Therefore i can't write in the target-folder (read only).</p>\n<p><strong>What can i do that these two folders update.?</strong></p>\n<p>For example, if i create new labels, circle objects. i can't see them after running, because the file that is being executed still has the old version.</p>\n<p>i have already tried to sync these files with copy paste or delet the target folder. Nothing worked.</p>\n"},{"tags":["java","visual-studio-code","junit","junit4"],"comments":[{"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1631271206,"post_id":69131052,"comment_id":122183155,"body_markdown":"I can&#39;t see an error in the screenshot you shared, other than a red indicator. Can you highlight the error? I feel as though I&#39;m missing somthing.","body":"I can&#39;t see an error in the screenshot you shared, other than a red indicator. Can you highlight the error? I feel as though I&#39;m missing somthing."},{"owner":{"account_id":19309260,"reputation":218,"user_id":14115415,"display_name":"AkSh"},"score":0,"creation_date":1631272036,"post_id":69131052,"comment_id":122183454,"body_markdown":"You need to configure your build path. Java Build Path &gt; Libraries tab click on &#39;Add Library&#39; button select JUnit click Next. Or else create any simple Maven project it includes JUnit library by default.","body":"You need to configure your build path. Java Build Path &gt; Libraries tab click on &#39;Add Library&#39; button select JUnit click Next. Or else create any simple Maven project it includes JUnit library by default."},{"owner":{"account_id":10763960,"reputation":3,"user_id":7919584,"display_name":"Qwatchie"},"score":0,"creation_date":1631279479,"post_id":69131052,"comment_id":122186292,"body_markdown":"@AkSh I have done this in VSCode, using the Referenced Libraries method and I check the settings.json file and the jar file is there under &quot;java.project.referencedLibraries&quot;. \nI am following this exact flow: https://github.com/microsoft/vscode-java-pack/blob/main/release-notes/v0.9.0.md#work-with-jar-files-directly","body":"@AkSh I have done this in VSCode, using the Referenced Libraries method and I check the settings.json file and the jar file is there under &quot;java.project.referencedLibraries&quot;.  I am following this exact flow: <a href=\"https://github.com/microsoft/vscode-java-pack/blob/main/release-notes/v0.9.0.md#work-with-jar-files-directly\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-pack/blob/main/release-note&zwnj;&#8203;s/&hellip;</a>"},{"owner":{"account_id":10763960,"reputation":3,"user_id":7919584,"display_name":"Qwatchie"},"score":0,"creation_date":1631279675,"post_id":69131052,"comment_id":122186387,"body_markdown":"@Mureinik In the screenshot in the &quot;Error shown&quot;. image, on the left it says 0/1 test passed and shows:\ninitializationError(src.test.TestAdd)\nThis is the error. I cannot run the tests?","body":"@Mureinik In the screenshot in the &quot;Error shown&quot;. image, on the left it says 0/1 test passed and shows: initializationError(src.test.TestAdd) This is the error. I cannot run the tests?"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1631787789,"post_id":69131052,"comment_id":122319249,"body_markdown":"Have you tried removing the constructor from `TestAdd`?","body":"Have you tried removing the constructor from <code>TestAdd</code>?"}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631497531,"creation_date":1631497531,"answer_id":69156428,"question_id":69131052,"body_markdown":"If you want to introduce the JUnit4 dependencies without the build tools. You need to download 2 jars, and add both of them to the referenced libraries in VS Code. Check: https://github.com/junit-team/junit4/wiki/Download-and-Install#plain-old-jar","title":"initializationError when trying to use JUnit in vscode","body":"<p>If you want to introduce the JUnit4 dependencies without the build tools. You need to download 2 jars, and add both of them to the referenced libraries in VS Code. Check: <a href=\"https://github.com/junit-team/junit4/wiki/Download-and-Install#plain-old-jar\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit4/wiki/Download-and-Install#plain-old-jar</a></p>\n"},{"tags":[],"owner":{"account_id":24272657,"reputation":1,"user_id":18220440,"display_name":"Sam Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645003421,"creation_date":1644993604,"answer_id":71137355,"question_id":69131052,"body_markdown":"The import statement should be\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n```\r\n","title":"initializationError when trying to use JUnit in vscode","body":"<p>The import statement should be</p>\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n"}],"owner":{"account_id":10763960,"reputation":3,"user_id":7919584,"display_name":"Qwatchie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69156428,"answer_count":2,"score":0,"last_activity_date":1645003421,"creation_date":1631270722,"question_id":69131052,"body_markdown":"I am trying to do Java unit testing in Visual studio code using JUnit. \r\nI have:\r\n\r\n - Installed JUnit 4 jar to a folder\r\n - Made a reference to the .jar in VSCodes &quot;Referenced Libraries&quot; section\r\n - Made simple folder structure using no build tools\r\n\r\n\r\nThis is the directory structure of the project\r\n```\r\n(root project)\r\n   |__ src/com/example\r\n        |__ Add.java\r\n   |__ src/test\r\n        |__ TestAdd.java          \r\n```\r\n\r\nAdd.java:\r\n```\r\npackage src.com.example;\r\n\r\npublic class Add {\r\n    public Add() {\r\n    }\r\n    \r\n    public int add(int a, int b) {\r\n        return a + b;\r\n    }\r\n}\r\n```\r\n\r\nTestAdd.java:\r\n```\r\npackage src.test;\r\n\r\nimport static org.junit.Assert.assertEquals;\r\nimport org.junit.Test;\r\nimport src.com.example.Add;\r\n\r\npublic class TestAdd {\r\n\r\n    public TestAdd() {\r\n    }\r\n\r\n    @Test\r\n    public void testAdd() {\r\n        Add add = new Add();\r\n        \r\n        assertEquals(2, add.add(1, 1));\r\n    }\r\n}\r\n```\r\n\r\n**The issue**\r\n\r\nWhen I click run test, VSCode doesn&#39;t run the tests and says:\r\n&gt;initializationError(src.test.TestAdd)\r\n\r\nAs the reason for not running the test under the testing tab in VSCode.\r\n\r\n\r\n\r\n**Screenshots:**\r\nFolder structure + libraries:\r\n[Folder structure + libraries][1]\r\nError shown:\r\n[Error shown][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rw7Aq.png\r\n  [2]: https://i.stack.imgur.com/HHzAq.png\r\n\r\n**Please be forgiving, this is my first StackOverflow question - apologies in advance!**","title":"initializationError when trying to use JUnit in vscode","body":"<p>I am trying to do Java unit testing in Visual studio code using JUnit.\nI have:</p>\n<ul>\n<li>Installed JUnit 4 jar to a folder</li>\n<li>Made a reference to the .jar in VSCodes &quot;Referenced Libraries&quot; section</li>\n<li>Made simple folder structure using no build tools</li>\n</ul>\n<p>This is the directory structure of the project</p>\n<pre><code>(root project)\n   |__ src/com/example\n        |__ Add.java\n   |__ src/test\n        |__ TestAdd.java          \n</code></pre>\n<p>Add.java:</p>\n<pre><code>package src.com.example;\n\npublic class Add {\n    public Add() {\n    }\n    \n    public int add(int a, int b) {\n        return a + b;\n    }\n}\n</code></pre>\n<p>TestAdd.java:</p>\n<pre><code>package src.test;\n\nimport static org.junit.Assert.assertEquals;\nimport org.junit.Test;\nimport src.com.example.Add;\n\npublic class TestAdd {\n\n    public TestAdd() {\n    }\n\n    @Test\n    public void testAdd() {\n        Add add = new Add();\n        \n        assertEquals(2, add.add(1, 1));\n    }\n}\n</code></pre>\n<p><strong>The issue</strong></p>\n<p>When I click run test, VSCode doesn't run the tests and says:</p>\n<blockquote>\n<p>initializationError(src.test.TestAdd)</p>\n</blockquote>\n<p>As the reason for not running the test under the testing tab in VSCode.</p>\n<p><strong>Screenshots:</strong>\nFolder structure + libraries:\n<a href=\"https://i.stack.imgur.com/rw7Aq.png\" rel=\"nofollow noreferrer\">Folder structure + libraries</a>\nError shown:\n<a href=\"https://i.stack.imgur.com/HHzAq.png\" rel=\"nofollow noreferrer\">Error shown</a></p>\n<p><strong>Please be forgiving, this is my first StackOverflow question - apologies in advance!</strong></p>\n"},{"tags":["java","arraylist","collections","hashmap"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1645002025,"post_id":71138545,"comment_id":125751853,"body_markdown":"Hard to give you an accurate snippet that fits your needs without seeing your actual code and how you plan to aggregate those values.","body":"Hard to give you an accurate snippet that fits your needs without seeing your actual code and how you plan to aggregate those values."}],"answers":[{"tags":[],"owner":{"account_id":1792975,"reputation":120,"user_id":1632989,"display_name":"sp14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645003167,"creation_date":1645001996,"answer_id":71138820,"question_id":71138545,"body_markdown":"You can do it with something like below format.\r\n\r\n```java\r\nMap&lt;String, List&lt;Tuple&gt;&gt; map = new HashMap&lt;&gt;(); //Define new map\r\nList&lt;Tuple&gt; list = new ArrayList&lt;&gt;();\r\n\r\n//build your tuples here;\r\nmap.put(&quot;id&quot;, list); // Put them into map witk key- your id\r\n```","title":"Storing a String and a List&lt;Tuple&gt; into a HashMap","body":"<p>You can do it with something like below format.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Tuple&gt;&gt; map = new HashMap&lt;&gt;(); //Define new map\nList&lt;Tuple&gt; list = new ArrayList&lt;&gt;();\n\n//build your tuples here;\nmap.put(&quot;id&quot;, list); // Put them into map witk key- your id\n</code></pre>\n"}],"owner":{"account_id":14937241,"reputation":1,"user_id":10784908,"display_name":"Sonal Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645003167,"creation_date":1645000777,"question_id":71138545,"body_markdown":"I have a `String id` and a `List&lt;Tuple&gt;` of data.\r\nI need to store this data into a `HashMap` such that Id is the key and list is the value. How can I achieve this in Java?","title":"Storing a String and a List&lt;Tuple&gt; into a HashMap","body":"<p>I have a <code>String id</code> and a <code>List&lt;Tuple&gt;</code> of data.\nI need to store this data into a <code>HashMap</code> such that Id is the key and list is the value. How can I achieve this in Java?</p>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19501589,"reputation":72,"user_id":14267530,"display_name":"rem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617759290,"creation_date":1617759290,"answer_id":66978450,"question_id":66927540,"body_markdown":"I fixed the problem by removing these two lines from the manifest file\r\n    \r\n     tools:replace=&quot;android:appComponentFactory&quot;\r\n     android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;","title":"Didn&#39;t find class &quot;android.support.v4.app.CoreComponentFactory&quot;","body":"<p>I fixed the problem by removing these two lines from the manifest file</p>\n<pre><code> tools:replace=&quot;android:appComponentFactory&quot;\n android:appComponentFactory=&quot;android.support.v4.app.CoreComponentFactory&quot;\n</code></pre>\n"}],"owner":{"account_id":19501589,"reputation":72,"user_id":14267530,"display_name":"rem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66978450,"answer_count":1,"score":0,"last_activity_date":1645002856,"creation_date":1617421660,"question_id":66927540,"body_markdown":"**what I tried:**\r\n\r\nI tried cleaning the project and rebuild many times, and I also tried (Invalidate Cashes and restart from the File menu), I also tried adding `android.enableR8=false` on gradle.properties but it didn&#39;t work. i Also tried adding `-keep class androidx.core.app.CoreComponentFactory { *; }` on the proguard-rules.pro file. this error has been driving me crazy please help\r\n\r\n\r\nsorry for having the error written in a weird way I had to put 4 spaces on each line because of stack overflow.\r\n\r\n**Full error:**\r\n\r\n        2021-04-02 21:14:20.168 29124- \r\n    29124/com.AnimeStreaming.anime E/LoadedApk: Unable to \r\n    instantiate appComponentFactory\r\n        java.lang.ClassNotFoundException: Didn&#39;t find class \r\n    &quot;android.support.v4.app.CoreComponentFactory&quot; on path: \r\n     DexPathList[[zip file &quot;/data/app/com.AnimeStreaming.anime- \r\n     QicKhTRny48LAMWkGzyuaQ==/base.apk&quot;],nativeLibraryDire\r\n    ctories= \r\n    [/data/app/com.AnimeStreaming.anime- \r\n    QicKhTRny48LAMWkGzyuaQ==/lib/x86, /system/lib, \r\n     /system/product/lib]]\r\n        at \r\n     dalvik.system.BaseDexClassLoader.findClass\r\n     (BaseDexClassLoader.java:196)\r\n        at \r\n     java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at \r\n     java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at \r\n     android.app.LoadedApk.createAppFactory(LoadedApk.java:256)\r\n        at \r\n     android.app.LoadedApk.updateApplicationInf\r\n     o(LoadedApk.java:370)\r\n        at android.app.ActivityThread.handleApplication\r\n        InfoChanged(ActivityThread.java:5676)\r\n        at \r\n        android.app.ActivityThread$H.handleM\r\n        essage(ActivityThread.java:2005)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at \r\n      android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeIni\r\n        t$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at \r\n        com.android.internal.os.\r\n        ZygoteInit.main(ZygoteInit.java:930)\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n**My `manifest` file:**\r\n\r\n        &lt;application\r\n        tools:replace=&quot;android:appComponentFactory&quot;\r\n \r\n        android:appComponentFactory=&quot;android.support.v4.app.\r\n        CoreComponentFactory&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action \r\n        android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category \r\n        android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n           &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n\r\n    \r\n\r\n**my `build.gradle` file:**\r\n  \r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n      compileSdkVersion 30\r\n       buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.AnimeStreaming.anime&quot;\r\n        minSdkVersion 22\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner \r\n     &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard- \r\n    android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n      }\r\n    }\r\n\r\n      dependencies {\r\n\r\n      //noinspection GradleCompatible\r\n      implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n      implementation \r\n      &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n      //noinspection GradleCompatible\r\n      implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n      testImplementation &#39;junit:junit:4.+&#39;\r\n      //noinspection GradleCompatible\r\n      androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n      androidTestImplementation \r\n      &#39;androidx.test.espresso:espresso- \r\n       core:3.1.0&#39;\r\n      implementation &#39;org.jsoup:jsoup:1.13.1&#39;\r\n      implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n      implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n      implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n      implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n      }\r\n\r\n**my `proguard-rules.pro` file:**\r\n\r\n     -keep class androidx.core.app.CoreComponentFactory { *; }\r\n**my gradle.properties:**\r\n\r\n     android.useAndroidX=true\r\n     android.enableJetifier=true\r\n     android.enableR8=false   ","title":"Didn&#39;t find class &quot;android.support.v4.app.CoreComponentFactory&quot;","body":"<p><strong>what I tried:</strong></p>\n<p>I tried cleaning the project and rebuild many times, and I also tried (Invalidate Cashes and restart from the File menu), I also tried adding <code>android.enableR8=false</code> on gradle.properties but it didn't work. i Also tried adding <code>-keep class androidx.core.app.CoreComponentFactory { *; }</code> on the proguard-rules.pro file. this error has been driving me crazy please help</p>\n<p>sorry for having the error written in a weird way I had to put 4 spaces on each line because of stack overflow.</p>\n<p><strong>Full error:</strong></p>\n<pre><code>    2021-04-02 21:14:20.168 29124- \n29124/com.AnimeStreaming.anime E/LoadedApk: Unable to \ninstantiate appComponentFactory\n    java.lang.ClassNotFoundException: Didn't find class \n&quot;android.support.v4.app.CoreComponentFactory&quot; on path: \n DexPathList[[zip file &quot;/data/app/com.AnimeStreaming.anime- \n QicKhTRny48LAMWkGzyuaQ==/base.apk&quot;],nativeLibraryDire\nctories= \n[/data/app/com.AnimeStreaming.anime- \nQicKhTRny48LAMWkGzyuaQ==/lib/x86, /system/lib, \n /system/product/lib]]\n    at \n dalvik.system.BaseDexClassLoader.findClass\n (BaseDexClassLoader.java:196)\n    at \n java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n    at \n java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    at \n android.app.LoadedApk.createAppFactory(LoadedApk.java:256)\n    at \n android.app.LoadedApk.updateApplicationInf\n o(LoadedApk.java:370)\n    at android.app.ActivityThread.handleApplication\n    InfoChanged(ActivityThread.java:5676)\n    at \n    android.app.ActivityThread$H.handleM\n    essage(ActivityThread.java:2005)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:214)\n    at \n  android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeIni\n    t$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at \n    com.android.internal.os.\n    ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p></p>\n<p><strong>My <code>manifest</code> file:</strong></p>\n<pre><code>    &lt;application\n    tools:replace=&quot;android:appComponentFactory&quot;\n\n    android:appComponentFactory=&quot;android.support.v4.app.\n    CoreComponentFactory&quot;\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyApplication&quot;&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action \n    android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category \n    android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n       &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p><strong>my <code>build.gradle</code> file:</strong></p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\n  compileSdkVersion 30\n   buildToolsVersion &quot;30.0.3&quot;\n\ndefaultConfig {\n    applicationId &quot;com.AnimeStreaming.anime&quot;\n    minSdkVersion 22\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner \n 'androidx.test.runner.AndroidJUnitRunner'\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard- \nandroid-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n}\n\n  dependencies {\n\n  //noinspection GradleCompatible\n  implementation 'androidx.appcompat:appcompat:1.0.0'\n  implementation \n  'androidx.constraintlayout:constraintlayout:1.1.3'\n  //noinspection GradleCompatible\n  implementation 'androidx.recyclerview:recyclerview:1.1.0'\n  testImplementation 'junit:junit:4.+'\n  //noinspection GradleCompatible\n  androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n  androidTestImplementation \n  'androidx.test.espresso:espresso- \n   core:3.1.0'\n  implementation 'org.jsoup:jsoup:1.13.1'\n  implementation 'androidx.cardview:cardview:1.0.0'\n  implementation 'com.squareup.picasso:picasso:2.71828'\n  implementation 'com.github.bumptech.glide:glide:4.11.0'\n  implementation 'androidx.multidex:multidex:2.0.1'\n\n  }\n</code></pre>\n<p><strong>my <code>proguard-rules.pro</code> file:</strong></p>\n<pre><code> -keep class androidx.core.app.CoreComponentFactory { *; }\n</code></pre>\n<p><strong>my gradle.properties:</strong></p>\n<pre><code> android.useAndroidX=true\n android.enableJetifier=true\n android.enableR8=false   \n</code></pre>\n"},{"tags":["java","generics","reflection"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":6,"creation_date":1644936929,"post_id":71128518,"comment_id":125733885,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html, [What Method.isBridge used for?](https://stackoverflow.com/q/289731)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a>, <a href=\"https://stackoverflow.com/q/289731\">What Method.isBridge used for?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24265340,"reputation":393,"user_id":18214330,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645002837,"creation_date":1645002837,"answer_id":71139009,"question_id":71128518,"body_markdown":"As Pshemo pointed out, the second, less specific method is a **Bridge Method** (https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html) which is used as a means of type erasure.\r\n\r\nBridge methods can be identified using `method.isBridge()`.","title":"Java Reflection getDeclaredMethods() returns two versions of generic overridden methods","body":"<p>As Pshemo pointed out, the second, less specific method is a <strong>Bridge Method</strong> (<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html</a>) which is used as a means of type erasure.</p>\n<p>Bridge methods can be identified using <code>method.isBridge()</code>.</p>\n"}],"owner":{"account_id":24265340,"reputation":393,"user_id":18214330,"display_name":"Robin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645212191,"accepted_answer_id":71139009,"answer_count":1,"score":0,"last_activity_date":1645002837,"creation_date":1644936641,"question_id":71128518,"body_markdown":"I need to use the Reflection API to get exact information on the method parameters of the methods in a class.\r\nConsider the following minimal example:\r\n```java\r\npublic class A&lt;T&gt; {\r\n  void test(T t, List&lt;String&gt; l) {}\r\n}\r\n\r\npublic class B extends A&lt;Integer&gt; {\r\n  @Override\r\n  void test(Bar t, List&lt;String&gt; l) {}\r\n}\r\n\r\npublic class Main{\r\n  public static void main() {\r\n    Method[] methods = B.class.getDeclaredMethods();\r\n    for (Method m : methodsB) {\r\n      System.out.println(m);\r\n      System.out.println(m.getGenericParameterTypes()[1] instanceof ParameterizedType)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis will result in\r\n```\r\nvoid B.test(java.lang.Integer,java.util.List)\r\ntrue\r\nvoid B.test(java.lang.Object,java.util.List)\r\nfalse\r\n```\r\n\r\nMy question is:\r\n1. why does `getDeclaredMethods()` output *two* methods instead of one? If `test` doesn&#39;t have a generic parameter or if it would be a new method of `B` (not overridden), `getDeclaredMethods()` will output only one methods, as expected.\r\n2. what would be a realiable and general way to filter out the &quot;wrong&quot; methods, which don&#39;t include generic type information?\r\n\r\n","title":"Java Reflection getDeclaredMethods() returns two versions of generic overridden methods","body":"<p>I need to use the Reflection API to get exact information on the method parameters of the methods in a class.\nConsider the following minimal example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A&lt;T&gt; {\n  void test(T t, List&lt;String&gt; l) {}\n}\n\npublic class B extends A&lt;Integer&gt; {\n  @Override\n  void test(Bar t, List&lt;String&gt; l) {}\n}\n\npublic class Main{\n  public static void main() {\n    Method[] methods = B.class.getDeclaredMethods();\n    for (Method m : methodsB) {\n      System.out.println(m);\n      System.out.println(m.getGenericParameterTypes()[1] instanceof ParameterizedType)\n    }\n  }\n}\n</code></pre>\n<p>This will result in</p>\n<pre><code>void B.test(java.lang.Integer,java.util.List)\ntrue\nvoid B.test(java.lang.Object,java.util.List)\nfalse\n</code></pre>\n<p>My question is:</p>\n<ol>\n<li>why does <code>getDeclaredMethods()</code> output <em>two</em> methods instead of one? If <code>test</code> doesn't have a generic parameter or if it would be a new method of <code>B</code> (not overridden), <code>getDeclaredMethods()</code> will output only one methods, as expected.</li>\n<li>what would be a realiable and general way to filter out the &quot;wrong&quot; methods, which don't include generic type information?</li>\n</ol>\n"},{"tags":["java","spring-boot","java-8","keycloak","java-11"],"answers":[{"tags":[],"owner":{"account_id":186344,"reputation":10769,"user_id":423673,"display_name":"baklarz2048"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593468008,"creation_date":1593468008,"answer_id":62647312,"question_id":62646999,"body_markdown":"Clean cache ./gradlew cleanBuildCache\r\n\r\nBe sure about Java version you use. \r\n\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n\r\nChange it/set it to 11","title":"Keycloak java.lang.NoClassDefFoundError: java/security/acl/Group using Springboot","body":"<p>Clean cache ./gradlew cleanBuildCache</p>\n<p>Be sure about Java version you use.</p>\n<pre><code>sourceCompatibility = JavaVersion.VERSION_1_8\ntargetCompatibility = JavaVersion.VERSION_1_8\n</code></pre>\n<p>Change it/set it to 11</p>\n"},{"tags":[],"owner":{"account_id":13123314,"reputation":377,"user_id":9480116,"display_name":"spoilerd do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593502581,"creation_date":1593502581,"answer_id":62652465,"question_id":62646999,"body_markdown":"Thanks for the comments.\r\nThe problem that causes this error for me was the fact that my Dockerfile always pulled the latest JDK version. This is not version 11 or 8 but 14. So I just added a specific version to it in order for Keycloak not to break.","title":"Keycloak java.lang.NoClassDefFoundError: java/security/acl/Group using Springboot","body":"<p>Thanks for the comments.\nThe problem that causes this error for me was the fact that my Dockerfile always pulled the latest JDK version. This is not version 11 or 8 but 14. So I just added a specific version to it in order for Keycloak not to break.</p>\n"},{"tags":[],"owner":{"account_id":17396735,"reputation":129,"user_id":12606340,"display_name":"chinnu Nish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609233217,"creation_date":1609233217,"answer_id":65489862,"question_id":62646999,"body_markdown":"I also faced the same error while using java 8 version.\r\nWas able to resolve it after switching to java 11.","title":"Keycloak java.lang.NoClassDefFoundError: java/security/acl/Group using Springboot","body":"<p>I also faced the same error while using java 8 version.\nWas able to resolve it after switching to java 11.</p>\n"},{"tags":[],"owner":{"account_id":12552287,"reputation":1,"user_id":9133412,"display_name":"Nimalan Suntharamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645002644,"creation_date":1645002644,"answer_id":71138969,"question_id":62646999,"body_markdown":"I had the same issue even with Java 11 and I changed to key clock version 15.0.2. That solves the issue.","title":"Keycloak java.lang.NoClassDefFoundError: java/security/acl/Group using Springboot","body":"<p>I had the same issue even with Java 11 and I changed to key clock version 15.0.2. That solves the issue.</p>\n"}],"owner":{"account_id":13123314,"reputation":377,"user_id":9480116,"display_name":"spoilerd do"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62652465,"answer_count":4,"score":2,"last_activity_date":1645002644,"creation_date":1593466442,"question_id":62646999,"body_markdown":"So we are building a Springboot back-end with Keycloak integration. But we get the following error when running the back-end on a docker swarm service:\r\n```\r\n2020-06-29 21:17:51.694 ERROR 1 --- [nio-3304-exec-1] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing /Suitless/latest/\r\n\r\njava.lang.NoClassDefFoundError: java/security/acl/Group\r\n\r\n\tat org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.createPrincipalFactory(KeycloakAuthenticatorValve.java:96) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.createSessionTokenStore(AbstractKeycloakAuthenticatorValve.java:262) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.getTokenStore(AbstractKeycloakAuthenticatorValve.java:251) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.getTokenStore(KeycloakAuthenticatorValve.java:106) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.checkKeycloakSession(AbstractKeycloakAuthenticatorValve.java:228) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:180) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\r\n\tat java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\r\n\r\nCaused by: java.lang.ClassNotFoundException: java.security.acl.Group\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:435) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) ~[na:na]\r\n\tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[run.jar:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\r\n\t... 19 common frames omitted\r\n```\r\n\r\nI tried it with JDK 8 and JDK 11 since the following post implies that the wrong JDK can cause a problem: [Stackoverflow post][1]. It still gives this error.\r\n\r\nThe following is our build.gradle setup:\r\n```buildscript {\r\n\text {\r\n\t\tspringBootVersion = &#39;2.3.1.RELEASE&#39;\r\n\t}\r\n\trepositories {\r\n\t\tmavenCentral()\r\n\t}\r\n\tdependencies {\r\n\t\tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n\t}\r\n}\r\n\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.3.1.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nbootJar {\r\n\tversion = &#39;0.0.1-SNAPSHOT&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-hateoas&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n\timplementation group: &#39;joda-time&#39;, name: &#39;joda-time&#39;, version: &#39;2.3&#39;\r\n\timplementation group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n\timplementation &#39;javax.xml.bind:jaxb-api:2.3.0&#39;\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation group: &#39;org.keycloak&#39;, name: &#39;keycloak-spring-boot-starter&#39;, version: &#39;10.0.1&#39;\r\n\r\n\ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;)\r\n\tannotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/61932188/keycloak-server-caused-by-java-lang-classnotfoundexception-java-security-acl-g","title":"Keycloak java.lang.NoClassDefFoundError: java/security/acl/Group using Springboot","body":"<p>So we are building a Springboot back-end with Keycloak integration. But we get the following error when running the back-end on a docker swarm service:</p>\n<pre><code>2020-06-29 21:17:51.694 ERROR 1 --- [nio-3304-exec-1] o.a.c.c.C.[Tomcat].[localhost]           : Exception Processing /Suitless/latest/\n\njava.lang.NoClassDefFoundError: java/security/acl/Group\n\n    at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.createPrincipalFactory(KeycloakAuthenticatorValve.java:96) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.createSessionTokenStore(AbstractKeycloakAuthenticatorValve.java:262) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.getTokenStore(AbstractKeycloakAuthenticatorValve.java:251) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.keycloak.adapters.tomcat.KeycloakAuthenticatorValve.getTokenStore(KeycloakAuthenticatorValve.java:106) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.checkKeycloakSession(AbstractKeycloakAuthenticatorValve.java:228) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.keycloak.adapters.tomcat.AbstractKeycloakAuthenticatorValve.invoke(AbstractKeycloakAuthenticatorValve.java:180) ~[spring-boot-container-bundle-10.0.1.jar!/:10.0.1]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.36.jar!/:9.0.36]\n    at java.base/java.lang.Thread.run(Thread.java:832) ~[na:na]\n\nCaused by: java.lang.ClassNotFoundException: java.security.acl.Group\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:435) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589) ~[na:na]\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[run.jar:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n\n    ... 19 common frames omitted\n</code></pre>\n<p>I tried it with JDK 8 and JDK 11 since the following post implies that the wrong JDK can cause a problem: <a href=\"https://stackoverflow.com/questions/61932188/keycloak-server-caused-by-java-lang-classnotfoundexception-java-security-acl-g\">Stackoverflow post</a>. It still gives this error.</p>\n<p>The following is our build.gradle setup:</p>\n<pre><code>    ext {\n        springBootVersion = '2.3.1.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n    }\n}\n\nplugins {\n    id 'org.springframework.boot' version '2.3.1.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\nversion = '0.0.1-SNAPSHOT'\n\nbootJar {\n    version = '0.0.1-SNAPSHOT'\n}\n\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-hateoas'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    implementation group: 'joda-time', name: 'joda-time', version: '2.3'\n    implementation group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n    implementation 'javax.xml.bind:jaxb-api:2.3.0'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation group: 'org.keycloak', name: 'keycloak-spring-boot-starter', version: '10.0.1'\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n    annotationProcessor &quot;org.springframework.boot:spring-boot-configuration-processor&quot;\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","layout"],"comments":[{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1644999190,"post_id":71138213,"comment_id":125750939,"body_markdown":"No, you can&#39;t. You need to create the layout programmatically instead.","body":"No, you can&#39;t. You need to create the layout programmatically instead."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645002620,"creation_date":1645002620,"answer_id":71138962,"question_id":71138213,"body_markdown":"thats not possible according to [DOC](https://developer.android.com/reference/android/view/LayoutInflater.html)\r\n\r\n&gt; For performance reasons, view inflation relies heavily on pre-processing of XML files that is done at build time. Therefore, it is not currently possible to use LayoutInflater with an XmlPullParser over a plain XML file at runtime; it only works with an XmlPullParser returned from a compiled resource (R.something file.) ","title":"How to inflate layout not from R.layout?","body":"<p>thats not possible according to <a href=\"https://developer.android.com/reference/android/view/LayoutInflater.html\" rel=\"nofollow noreferrer\">DOC</a></p>\n<blockquote>\n<p>For performance reasons, view inflation relies heavily on pre-processing of XML files that is done at build time. Therefore, it is not currently possible to use LayoutInflater with an XmlPullParser over a plain XML file at runtime; it only works with an XmlPullParser returned from a compiled resource (R.something file.)</p>\n</blockquote>\n"}],"owner":{"account_id":23169463,"reputation":1,"user_id":17268907,"display_name":"Ekaterina Dubinskaya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1645002620,"creation_date":1644999081,"question_id":71138213,"body_markdown":"Can I send layout to the app or open layout file in android application and inflate it, like it was builded with the application?","title":"How to inflate layout not from R.layout?","body":"<p>Can I send layout to the app or open layout file in android application and inflate it, like it was builded with the application?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3888262,"reputation":843,"user_id":3219112,"accept_rate":85,"display_name":"mattobob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645002427,"creation_date":1645002427,"answer_id":71138925,"question_id":71130193,"body_markdown":"Apparently, this exception happens when you target a directory instead of the actual Keystore file:\r\n\r\n    server.ssl.key-store: classpath:keystore/\r\n\r\nInstead of \r\n\r\n    server.ssl.key-store: classpath:keystore/keystore.pkcs12\r\n\r\n","title":"Spring Security: error while loading keystore","body":"<p>Apparently, this exception happens when you target a directory instead of the actual Keystore file:</p>\n<pre><code>server.ssl.key-store: classpath:keystore/\n</code></pre>\n<p>Instead of</p>\n<pre><code>server.ssl.key-store: classpath:keystore/keystore.pkcs12\n</code></pre>\n"}],"owner":{"account_id":3888262,"reputation":843,"user_id":3219112,"accept_rate":85,"display_name":"mattobob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71138925,"answer_count":1,"score":0,"last_activity_date":1645002427,"creation_date":1644943331,"question_id":71130193,"body_markdown":"I have a working spring boot application, when I do configure it to run in SSL mode as follow:\r\n\r\n    server.port: 8443\r\n    server.ssl.enabled: true\r\n    server.ssl.key-store: classpath:keystore.pkcs12\r\n    server.ssl.key-store-password: password\r\n    server.ssl.key-store-type: pkcs12\r\n    server.ssl.client-auth: none\r\n\r\nConfiguration, which is working for a similar spring boot application and exact same keystore  \r\n\r\nIt throws following Exception: \r\n\r\n    2022-02-15 15:33:15.636 [] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    2022-02-15 15:33:15.711 [] ERROR o.s.b.SpringApplication                  - Application run failed\r\n    Caused by: java.io.EOFException\r\n\tat sun.security.util.IOUtils.readExactlyNBytes(Unknown Source) ~[?:?]\r\n\tat sun.security.util.DerValue.init(Unknown Source) ~[?:?]\r\n\tat sun.security.util.DerValue.&lt;init&gt;(Unknown Source) ~[?:?]\r\n\tat sun.security.util.DerValue.&lt;init&gt;(Unknown Source) ~[?:?]\r\n\tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(Unknown Source) ~[?:?]\r\n\tat sun.security.util.KeyStoreDelegator.engineLoad(Unknown Source) ~[?:?]\r\n\tat java.security.KeyStore.load(Unknown Source) ~[?:?]\r\n\tat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:69) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:215) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:281) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:231) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1208) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1294) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:234) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.5.4.jar:2.5.4]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\r\n\t... 14 more\r\n\r\n","title":"Spring Security: error while loading keystore","body":"<p>I have a working spring boot application, when I do configure it to run in SSL mode as follow:</p>\n<pre><code>server.port: 8443\nserver.ssl.enabled: true\nserver.ssl.key-store: classpath:keystore.pkcs12\nserver.ssl.key-store-password: password\nserver.ssl.key-store-type: pkcs12\nserver.ssl.client-auth: none\n</code></pre>\n<p>Configuration, which is working for a similar spring boot application and exact same keystore</p>\n<p>It throws following Exception:</p>\n<pre><code>2022-02-15 15:33:15.636 [] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\n2022-02-15 15:33:15.711 [] ERROR o.s.b.SpringApplication                  - Application run failed\nCaused by: java.io.EOFException\nat sun.security.util.IOUtils.readExactlyNBytes(Unknown Source) ~[?:?]\nat sun.security.util.DerValue.init(Unknown Source) ~[?:?]\nat sun.security.util.DerValue.&lt;init&gt;(Unknown Source) ~[?:?]\nat sun.security.util.DerValue.&lt;init&gt;(Unknown Source) ~[?:?]\nat sun.security.pkcs12.PKCS12KeyStore.engineLoad(Unknown Source) ~[?:?]\nat sun.security.util.KeyStoreDelegator.engineLoad(Unknown Source) ~[?:?]\nat java.security.KeyStore.load(Unknown Source) ~[?:?]\nat org.apache.tomcat.util.security.KeyStoreUtil.load(KeyStoreUtil.java:69) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.SSLUtilBase.getStore(SSLUtilBase.java:215) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.SSLHostConfigCertificate.getCertificateKeystore(SSLHostConfigCertificate.java:207) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:281) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:245) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:231) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1208) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1294) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:614) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.catalina.connector.Connector.startInternal(Connector.java:1072) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.apache.catalina.core.StandardService.addConnector(StandardService.java:234) ~[tomcat-embed-core-9.0.52.jar:9.0.52]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:282) ~[spring-boot-2.5.4.jar:2.5.4]\nat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:213) ~[spring-boot-2.5.4.jar:2.5.4]\nat org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:43) ~[spring-boot-2.5.4.jar:2.5.4]\nat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.9.jar:5.3.9]\n... 14 more\n</code></pre>\n"},{"tags":["java","jboss","weld","cdi-unit"],"comments":[{"owner":{"account_id":13431403,"reputation":775,"user_id":9691138,"display_name":"res"},"score":0,"creation_date":1580215887,"post_id":59947267,"comment_id":106018072,"body_markdown":"Is it happening only during test? No errors being shown in your IDE?","body":"Is it happening only during test? No errors being shown in your IDE?"},{"owner":{"account_id":7374921,"reputation":41,"user_id":5613923,"display_name":"Garraoui Marwen"},"score":0,"creation_date":1580219078,"post_id":59947267,"comment_id":106020032,"body_markdown":"Yes, actually It is a batch, and when i lanch my Integration test it work but it not working only in test, I am using intellij 19.3 and here the satcktrace\n`java.lang.TypeNotPresentException: Type org.jglue.cdiunit.CdiRunner not present\n at java.base/sun.reflect.annotation.TypeNotPresentExceptionProxy.generateException(TypeNotPresentExceptionProxy.java:46) at\ncom.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:230)\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58)\nCaused`","body":"Yes, actually It is a batch, and when i lanch my Integration test it work but it not working only in test, I am using intellij 19.3 and here the satcktrace <code>java.lang.TypeNotPresentException: Type org.jglue.cdiunit.CdiRunner not present  at java.base&#47;sun.reflect.annotation.TypeNotPresentExceptionProx&zwnj;&#8203;y.generateException(&zwnj;&#8203;TypeNotPresentExcept&zwnj;&#8203;ionProxy.java:46) at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JU&zwnj;&#8203;nitStarter.java:230) \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:58&zwnj;&#8203;) Caused</code>"},{"owner":{"account_id":7374921,"reputation":41,"user_id":5613923,"display_name":"Garraoui Marwen"},"score":0,"creation_date":1580219147,"post_id":59947267,"comment_id":106020076,"body_markdown":"`Caused by: java.lang.ClassNotFoundException: org.jglue.cdiunit.CdiRunner`","body":"<code>Caused by: java.lang.ClassNotFoundException: org.jglue.cdiunit.CdiRunner</code>"}],"answers":[{"tags":[],"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591281839,"creation_date":1591281839,"answer_id":62197476,"question_id":59947267,"body_markdown":"Please use a newer version of cdi-unit, for example, 4.1.1.\r\n\r\nThere were changes implemented to support Java 9 and beyond.\r\nSee [Support for Java 9 and later][1] for the reference.\r\n\r\n\r\n  [1]: http://cdi-unit.github.io/cdi-unit/#support-for-java-9-and-later","title":"Is there a way to use weld and cdi-unit with java 11 openj9","body":"<p>Please use a newer version of cdi-unit, for example, 4.1.1.</p>\n\n<p>There were changes implemented to support Java 9 and beyond.\nSee <a href=\"http://cdi-unit.github.io/cdi-unit/#support-for-java-9-and-later\" rel=\"nofollow noreferrer\">Support for Java 9 and later</a> for the reference.</p>\n"}],"owner":{"account_id":7374921,"reputation":41,"user_id":5613923,"display_name":"Garraoui Marwen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645002395,"creation_date":1580209347,"question_id":59947267,"body_markdown":"  I am using weld and cdi-unit with java 11-openj9 in a project, when I run my unit test, configured with @runWith(Cdirunner.class) I get this error &quot;ClassNotFoundException: org.jglue.cdiunit.CdiRunner&quot;\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jglue.cdi-unit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cdi-unit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0.Final&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-se&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0.Final&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\r\n            &lt;artifactId&gt;weld-core-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n  ","title":"Is there a way to use weld and cdi-unit with java 11 openj9","body":"<p>I am using weld and cdi-unit with java 11-openj9 in a project, when I run my unit test, configured with @runWith(Cdirunner.class) I get this error \"ClassNotFoundException: org.jglue.cdiunit.CdiRunner\"</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.jglue.cdi-unit&lt;/groupId&gt;\n        &lt;artifactId&gt;cdi-unit&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-se-core&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld.se&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-se&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-core&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.weld&lt;/groupId&gt;\n        &lt;artifactId&gt;weld-core-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1545770557,"post_id":53925338,"comment_id":94692581,"body_markdown":"Could you please show the (relevant) parts of your `Authority` class?","body":"Could you please show the (relevant) parts of your <code>Authority</code> class?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1545772801,"post_id":53925338,"comment_id":94692887,"body_markdown":"Please [Edit] your question and add the source code. Don&#39;t do it in the comments.","body":"Please <a href=\"https://stackoverflow.com/posts/53925338/edit\">Edit</a> your question and add the source code. Don&#39;t do it in the comments."}],"answers":[{"tags":[],"owner":{"account_id":7374921,"reputation":41,"user_id":5613923,"display_name":"Garraoui Marwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546122189,"creation_date":1546122189,"answer_id":53973790,"question_id":53925338,"body_markdown":"I get the solution from here [the link][1]\r\nmay be it help someone\r\n\r\n  [1]: http://chriswongdevblog.blogspot.com/2009/10/polymorphic-one-to-many-relationships.html","title":"Is there a way to use @OneToMany and @ManyToMany to handle polymorphism in hibernate","body":"<p>I get the solution from here <a href=\"http://chriswongdevblog.blogspot.com/2009/10/polymorphic-one-to-many-relationships.html\" rel=\"nofollow noreferrer\">the link</a>\nmay be it help someone</p>\n"}],"owner":{"account_id":7374921,"reputation":41,"user_id":5613923,"display_name":"Garraoui Marwen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53973790,"answer_count":1,"score":0,"last_activity_date":1645002299,"creation_date":1545768549,"question_id":53925338,"body_markdown":"I am working on app that uses microservices architecture, i have project A which has this entity User with this code\r\n\r\n   \r\n\r\n    @JoinTable(\r\n        name = &quot;USER_AUTHORITY&quot;, \r\n        joinColumns = { @JoinColumn(\r\n            name = &quot;USER_ID&quot;,\r\n            referencedColumnName = &quot;id&quot;) },\r\n        inverseJoinColumns = { @JoinColumn(\r\n            name = &quot;AUTHORITY_ID&quot;, \r\n            referencedColumnName = &quot;id&quot;) })\r\n    private List&lt;Authority&gt; authorities;\r\n\r\nand another entity Authority \r\n\r\n    @Entity\r\n    @Table(name = &quot;AUTHORITY&quot;)\r\n    public class Authority {\r\n    @Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.SEQUENCE,\r\n     generator = &quot;authority_seq&quot;)\r\n\t@SequenceGenerator(name = &quot;authority_seq&quot;,\r\n     sequenceName = \r\n      &quot;authority_seq&quot;, allocationSize = 1)\r\n\tprivate Long id;\r\n\r\n      @ManyToMany(mappedBy = &quot;authorities&quot;, fetch = FetchType.LAZY)\r\n      private List&lt;User&gt; users;\r\n    }\r\n\r\nand i have project B which has entity AAA with this code:\r\n\r\n    @Entity\r\n    public class subUser extends User\r\n\r\n\r\nso when i run the the project B I get the following error: \r\n\r\n&gt; org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: com.A.model.User.authorities[com.A.model.Authority\r\n\r\n\r\n","title":"Is there a way to use @OneToMany and @ManyToMany to handle polymorphism in hibernate","body":"<p>I am working on app that uses microservices architecture, i have project A which has this entity User with this code</p>\n\n<pre><code>@JoinTable(\n    name = \"USER_AUTHORITY\", \n    joinColumns = { @JoinColumn(\n        name = \"USER_ID\",\n        referencedColumnName = \"id\") },\n    inverseJoinColumns = { @JoinColumn(\n        name = \"AUTHORITY_ID\", \n        referencedColumnName = \"id\") })\nprivate List&lt;Authority&gt; authorities;\n</code></pre>\n\n<p>and another entity Authority </p>\n\n<pre><code>@Entity\n@Table(name = \"AUTHORITY\")\npublic class Authority {\n@Id\n@Column(name = \"ID\")\n@GeneratedValue(strategy = GenerationType.SEQUENCE,\n generator = \"authority_seq\")\n@SequenceGenerator(name = \"authority_seq\",\n sequenceName = \n  \"authority_seq\", allocationSize = 1)\nprivate Long id;\n\n  @ManyToMany(mappedBy = \"authorities\", fetch = FetchType.LAZY)\n  private List&lt;User&gt; users;\n}\n</code></pre>\n\n<p>and i have project B which has entity AAA with this code:</p>\n\n<pre><code>@Entity\npublic class subUser extends User\n</code></pre>\n\n<p>so when i run the the project B I get the following error: </p>\n\n<blockquote>\n  <p>org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class: com.A.model.User.authorities[com.A.model.Authority</p>\n</blockquote>\n"},{"tags":["java","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645002269,"creation_date":1645002269,"answer_id":71138885,"question_id":71031727,"body_markdown":"With a lot of testing and debugging i found the problem.\r\nIt turns out that the documentation of the remove(object) method is misleading. In the documentation is says that this method rely on .equals() class method but it turns out that hazelcast compares the serialized object against each serialized object. So i implement a custom compare:\r\n```\r\n\tGenericMessage&lt;?&gt; incomeMessage = (GenericMessage&lt;?&gt;) object;\r\n\tboolean removed = hazelcastInstance.getQueue(queueId).remove(object);\r\n\tif (!removed) {\r\n\t    Iterator&lt;Object&gt; iterator = hazelcastInstance.getQueue(queueId).iterator();\r\n\t    while (iterator.hasNext()) {\r\n\t\tObject next = iterator.next();\r\n\t\tGenericMessage&lt;?&gt; message = (GenericMessage&lt;?&gt;) next;\r\n\t\tif (incomeMessage.getHeaders().getKey()\r\n\t\t\t.equals(message.getHeaders().getKey())) {\r\n\t\t    object = next;\r\n\t\t    removed = hazelcastInstance.getQueue(queueId).remove(object);\r\n\t\t    break;\r\n\t\t}\r\n\r\n\t    }\r\n\t}\r\n```\r\n\r\n","title":"Hazelcast remove from iQueue skipping some elements","body":"<p>With a lot of testing and debugging i found the problem.\nIt turns out that the documentation of the remove(object) method is misleading. In the documentation is says that this method rely on .equals() class method but it turns out that hazelcast compares the serialized object against each serialized object. So i implement a custom compare:</p>\n<pre><code>    GenericMessage&lt;?&gt; incomeMessage = (GenericMessage&lt;?&gt;) object;\n    boolean removed = hazelcastInstance.getQueue(queueId).remove(object);\n    if (!removed) {\n        Iterator&lt;Object&gt; iterator = hazelcastInstance.getQueue(queueId).iterator();\n        while (iterator.hasNext()) {\n        Object next = iterator.next();\n        GenericMessage&lt;?&gt; message = (GenericMessage&lt;?&gt;) next;\n        if (incomeMessage.getHeaders().getKey()\n            .equals(message.getHeaders().getKey())) {\n            object = next;\n            removed = hazelcastInstance.getQueue(queueId).remove(object);\n            break;\n        }\n\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8901665,"reputation":315,"user_id":6644926,"accept_rate":12,"display_name":"Владимир Гичев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645002269,"creation_date":1644313815,"question_id":71031727,"body_markdown":"I have hazelcast client that is putting generic message class into a iQueue and hazelcast member consume this generic message via Listener do the logic and remove the object from the queue. But it is not removing all the objects. On mancenter i can see that there are still items into the queue (not all for example from 100 objects in queue it is removing around 80 from them) and i don`t know why it is not removing some of the objects.\r\nCurrently in mancenter it is showing 12 items into the queue (from arround 100 requests) but it shouldn&#39;t have any.Still the code is working and returning results. The only problem is that i can see in mancenter that this items are getting more and more into the queue until i stop the hazelcast server.\r\n\r\n**My generic message class:**\r\n```\r\npublic class GenericMessage&lt;T&gt; implements Message&lt;T&gt;, Serializable {\r\n\r\n    private static final long serialVersionUID = -1927585972068115172L;\r\n\r\n    private final T payload;\r\n\r\n    private MessageHeaders headers;\r\n\r\n    public GenericMessage(T payload) {\r\n\tAssert.notNull(payload, &quot;payload must not be null&quot;);\r\n\tHashMap&lt;Object, Object&gt; headers = new HashMap&lt;&gt;();\r\n\tthis.headers = new MessageHeaders(headers);\r\n\tthis.payload = payload;\r\n    }\r\n\r\n    @Override\r\n    public MessageHeaders getHeaders() {\r\n\treturn this.headers;\r\n    }\r\n\r\n    @Override\r\n    public T getPayload() {\r\n\treturn this.payload;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n\treturn &quot;[Payload=&quot; + this.payload + &quot;][Headers=&quot; + this.headers + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n\treturn this.headers.hashCode() * 23 + ObjectUtils.nullSafeHashCode(this.payload);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n\tif (this == obj) {\r\n\t    return true;\r\n\t}\r\n\tif (obj != null &amp;&amp; obj instanceof GenericMessage&lt;?&gt;) {\r\n\t    GenericMessage&lt;?&gt; other = (GenericMessage&lt;?&gt;) obj;\r\n\t    if (this.headers.getKey() != null &amp;&amp; other.headers.getKey() != null) {\r\n\t\treturn this.headers.getKey().equals(other.headers.getKey());\r\n\t    } else {\r\n\t\treturn false;\r\n\t    }\r\n\r\n\t}\r\n\treturn false;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MessageHeaders class:**\r\n```\r\npublic class MessageHeaders implements Map&lt;Object, Object&gt;, Serializable {\r\n\r\n    private static final long serialVersionUID = 4469807275189880042L;\r\n\r\n    protected Map&lt;Object, Object&gt; headers;\r\n\r\n    public static final String KEY = &quot;key&quot;;\r\n\r\n    public MessageHeaders(Map&lt;Object, Object&gt; headers) {\r\n\r\n\tthis.headers = (headers != null) ? headers : new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\r\n\r\n\tObject value = this.headers.get(key);\r\n\tif (value == null) {\r\n\t    return null;\r\n\t}\r\n\tif (!type.isAssignableFrom(value.getClass())) {\r\n\t    throw new IllegalArgumentException(&quot;Incorrect type specified for header &#39;&quot;\r\n\t\t    + key\r\n\t\t    + &quot;&#39;. Expected [&quot;\r\n\t\t    + type\r\n\t\t    + &quot;] but actual type is [&quot;\r\n\t\t    + value.getClass()\r\n\t\t    + &quot;]&quot;);\r\n\t}\r\n\treturn (T) value;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n\r\n\treturn this.headers.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n\r\n\tif (this == obj) {\r\n\t    return true;\r\n\t}\r\n\tif (obj != null &amp;&amp; obj instanceof MessageHeaders) {\r\n\t    MessageHeaders other = (MessageHeaders) obj;\r\n\t    return this.headers.equals(other.headers);\r\n\t}\r\n\treturn false;\r\n    }\r\n    @Override\r\n    public boolean containsKey(Object key) {\r\n\r\n\treturn this.headers.containsKey(key);\r\n    }\r\n\r\n    @Override\r\n    public boolean containsValue(Object value) {\r\n\r\n\treturn this.headers.containsValue(value);\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\r\n\r\n\treturn Collections.unmodifiableSet(this.headers.entrySet());\r\n    }\r\n\r\n    @Override\r\n    public Object get(Object key) {\r\n\r\n\treturn this.headers.get(key);\r\n    }\r\n\r\n    @Override\r\n    public boolean isEmpty() {\r\n\r\n\treturn this.headers.isEmpty();\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Object&gt; keySet() {\r\n\r\n\treturn Collections.unmodifiableSet(this.headers.keySet());\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n\r\n\treturn this.headers.size();\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;Object&gt; values() {\r\n\r\n\treturn Collections.unmodifiableCollection(this.headers.values());\r\n    }\r\n\r\n    @Override\r\n    public Object put(Object key, Object value) {\r\n\r\n\tthrow new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void putAll(Map&lt;? extends Object, ? extends Object&gt; t) {\r\n\r\n\tthrow new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Object remove(Object key) {\r\n\r\n\tthrow new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void clear() {\r\n\r\n\tthrow new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\r\n    }\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException {\r\n\r\n\tList&lt;String&gt; keysToRemove = new ArrayList&lt;&gt;();\r\n\tfor (Map.Entry&lt;Object, Object&gt; entry : this.headers.entrySet()) {\r\n\t    if (!(entry.getValue() instanceof Serializable)) {\r\n\t\tkeysToRemove.add(String.valueOf(entry.getKey()));\r\n\t    }\r\n\t}\r\n\tfor (String key : keysToRemove) {\r\n\t    // if (logger.isInfoEnabled()) {\r\n\t    // logger.info(&quot;removing non-serializable header: &quot; +\r\n\t    // key);\r\n\t    // }\r\n\t    this.headers.remove(key);\r\n\t}\r\n\tout.defaultWriteObject();\r\n    }\r\n\r\n    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\r\n\r\n\tin.defaultReadObject();\r\n    }\r\n\r\n    public String getKey() {\r\n\r\n\treturn this.get(KEY, String.class);\r\n    }\r\n\r\n    public void setKey(String key) {\r\n\r\n\tthis.headers.put(KEY, key);\r\n    }\r\n}\r\n```\r\n\r\n**Putting into queue implementation:**\r\n```\r\nUser user = new User();\r\nGenericMessage&lt;User&gt; message = new GenericMessage&lt;User&gt;(user);\r\nString key=&quot;123&quot;;\r\nmessage.getHeaders().setKey(key);\r\nIQueue&lt;Object&gt; queue = hazelcastInstance.getQueue(&quot;user_queue&quot;);\r\nqueue.add(message);\r\n```\r\n**Hazelcast listener configuration:**\r\n```\r\nIQueue&lt;Object&gt; userQueue = hazelcastInstance.getQueue(&quot;user_queue&quot;);\r\n\tUserListener userListener = context.getBean(UserListener.class);\r\n\tuserQueue.addItemListener(userListener, true);\r\n```\r\n**Listener:**\r\n```\r\npublic class UserListener implements ItemListener&lt;Object&gt; {\r\n\r\n\t@Autowired\r\n\tprivate UserService service;\r\n\r\n\t@Override\r\n\tpublic void itemAdded(ItemEvent&lt;Object&gt; arg0) {\r\n\t\tservice.process(arg0);\r\n\t}\r\n\r\n}\r\n```\r\n**Service:**\r\n```\r\npublic class UserService {\r\n    @Async(&quot;userTaskExecutor&quot;)\r\n    public void process(ItemEvent&lt;Object&gt; item) {\r\n\tGenericMessage&lt;User&gt; message = (GenericMessage&lt;User&gt;) item.getItem();\r\n\thazelcastInstance.getQueue(&quot;user_queue&quot;).remove(message);\r\n}\r\n```\r\n","title":"Hazelcast remove from iQueue skipping some elements","body":"<p>I have hazelcast client that is putting generic message class into a iQueue and hazelcast member consume this generic message via Listener do the logic and remove the object from the queue. But it is not removing all the objects. On mancenter i can see that there are still items into the queue (not all for example from 100 objects in queue it is removing around 80 from them) and i don`t know why it is not removing some of the objects.\nCurrently in mancenter it is showing 12 items into the queue (from arround 100 requests) but it shouldn't have any.Still the code is working and returning results. The only problem is that i can see in mancenter that this items are getting more and more into the queue until i stop the hazelcast server.</p>\n<p><strong>My generic message class:</strong></p>\n<pre><code>public class GenericMessage&lt;T&gt; implements Message&lt;T&gt;, Serializable {\n\n    private static final long serialVersionUID = -1927585972068115172L;\n\n    private final T payload;\n\n    private MessageHeaders headers;\n\n    public GenericMessage(T payload) {\n    Assert.notNull(payload, &quot;payload must not be null&quot;);\n    HashMap&lt;Object, Object&gt; headers = new HashMap&lt;&gt;();\n    this.headers = new MessageHeaders(headers);\n    this.payload = payload;\n    }\n\n    @Override\n    public MessageHeaders getHeaders() {\n    return this.headers;\n    }\n\n    @Override\n    public T getPayload() {\n    return this.payload;\n    }\n\n    @Override\n    public String toString() {\n    return &quot;[Payload=&quot; + this.payload + &quot;][Headers=&quot; + this.headers + &quot;]&quot;;\n    }\n\n    @Override\n    public int hashCode() {\n    return this.headers.hashCode() * 23 + ObjectUtils.nullSafeHashCode(this.payload);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (obj != null &amp;&amp; obj instanceof GenericMessage&lt;?&gt;) {\n        GenericMessage&lt;?&gt; other = (GenericMessage&lt;?&gt;) obj;\n        if (this.headers.getKey() != null &amp;&amp; other.headers.getKey() != null) {\n        return this.headers.getKey().equals(other.headers.getKey());\n        } else {\n        return false;\n        }\n\n    }\n    return false;\n    }\n\n}\n</code></pre>\n<p><strong>MessageHeaders class:</strong></p>\n<pre><code>public class MessageHeaders implements Map&lt;Object, Object&gt;, Serializable {\n\n    private static final long serialVersionUID = 4469807275189880042L;\n\n    protected Map&lt;Object, Object&gt; headers;\n\n    public static final String KEY = &quot;key&quot;;\n\n    public MessageHeaders(Map&lt;Object, Object&gt; headers) {\n\n    this.headers = (headers != null) ? headers : new HashMap&lt;&gt;();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; T get(Object key, Class&lt;T&gt; type) {\n\n    Object value = this.headers.get(key);\n    if (value == null) {\n        return null;\n    }\n    if (!type.isAssignableFrom(value.getClass())) {\n        throw new IllegalArgumentException(&quot;Incorrect type specified for header '&quot;\n            + key\n            + &quot;'. Expected [&quot;\n            + type\n            + &quot;] but actual type is [&quot;\n            + value.getClass()\n            + &quot;]&quot;);\n    }\n    return (T) value;\n    }\n\n    @Override\n    public int hashCode() {\n\n    return this.headers.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n\n    if (this == obj) {\n        return true;\n    }\n    if (obj != null &amp;&amp; obj instanceof MessageHeaders) {\n        MessageHeaders other = (MessageHeaders) obj;\n        return this.headers.equals(other.headers);\n    }\n    return false;\n    }\n    @Override\n    public boolean containsKey(Object key) {\n\n    return this.headers.containsKey(key);\n    }\n\n    @Override\n    public boolean containsValue(Object value) {\n\n    return this.headers.containsValue(value);\n    }\n\n    @Override\n    public Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entrySet() {\n\n    return Collections.unmodifiableSet(this.headers.entrySet());\n    }\n\n    @Override\n    public Object get(Object key) {\n\n    return this.headers.get(key);\n    }\n\n    @Override\n    public boolean isEmpty() {\n\n    return this.headers.isEmpty();\n    }\n\n    @Override\n    public Set&lt;Object&gt; keySet() {\n\n    return Collections.unmodifiableSet(this.headers.keySet());\n    }\n\n    @Override\n    public int size() {\n\n    return this.headers.size();\n    }\n\n    @Override\n    public Collection&lt;Object&gt; values() {\n\n    return Collections.unmodifiableCollection(this.headers.values());\n    }\n\n    @Override\n    public Object put(Object key, Object value) {\n\n    throw new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\n    }\n\n    @Override\n    public void putAll(Map&lt;? extends Object, ? extends Object&gt; t) {\n\n    throw new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\n    }\n\n    @Override\n    public Object remove(Object key) {\n\n    throw new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\n    }\n\n    @Override\n    public void clear() {\n\n    throw new UnsupportedOperationException(&quot;MessageHeaders is immutable.&quot;);\n    }\n\n    private void writeObject(ObjectOutputStream out) throws IOException {\n\n    List&lt;String&gt; keysToRemove = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;Object, Object&gt; entry : this.headers.entrySet()) {\n        if (!(entry.getValue() instanceof Serializable)) {\n        keysToRemove.add(String.valueOf(entry.getKey()));\n        }\n    }\n    for (String key : keysToRemove) {\n        // if (logger.isInfoEnabled()) {\n        // logger.info(&quot;removing non-serializable header: &quot; +\n        // key);\n        // }\n        this.headers.remove(key);\n    }\n    out.defaultWriteObject();\n    }\n\n    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n\n    in.defaultReadObject();\n    }\n\n    public String getKey() {\n\n    return this.get(KEY, String.class);\n    }\n\n    public void setKey(String key) {\n\n    this.headers.put(KEY, key);\n    }\n}\n</code></pre>\n<p><strong>Putting into queue implementation:</strong></p>\n<pre><code>User user = new User();\nGenericMessage&lt;User&gt; message = new GenericMessage&lt;User&gt;(user);\nString key=&quot;123&quot;;\nmessage.getHeaders().setKey(key);\nIQueue&lt;Object&gt; queue = hazelcastInstance.getQueue(&quot;user_queue&quot;);\nqueue.add(message);\n</code></pre>\n<p><strong>Hazelcast listener configuration:</strong></p>\n<pre><code>IQueue&lt;Object&gt; userQueue = hazelcastInstance.getQueue(&quot;user_queue&quot;);\n    UserListener userListener = context.getBean(UserListener.class);\n    userQueue.addItemListener(userListener, true);\n</code></pre>\n<p><strong>Listener:</strong></p>\n<pre><code>public class UserListener implements ItemListener&lt;Object&gt; {\n\n    @Autowired\n    private UserService service;\n\n    @Override\n    public void itemAdded(ItemEvent&lt;Object&gt; arg0) {\n        service.process(arg0);\n    }\n\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>public class UserService {\n    @Async(&quot;userTaskExecutor&quot;)\n    public void process(ItemEvent&lt;Object&gt; item) {\n    GenericMessage&lt;User&gt; message = (GenericMessage&lt;User&gt;) item.getItem();\n    hazelcastInstance.getQueue(&quot;user_queue&quot;).remove(message);\n}\n</code></pre>\n"},{"tags":["java","networking","ip","dynamic-ip"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1640609366,"post_id":70495607,"comment_id":124614902,"body_markdown":"Use a STUN server. I think it would help you to read about NAT.","body":"Use a STUN server. I think it would help you to read about NAT."}],"answers":[{"tags":[],"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640611045,"creation_date":1640611045,"answer_id":70495998,"question_id":70495607,"body_markdown":"If your router supports TR-064 there might be a chance to obtiain the public INET address assuming the vendor supports this query.","title":"Internet IP acquisition when connected to router","body":"<p>If your router supports TR-064 there might be a chance to obtiain the public INET address assuming the vendor supports this query.</p>\n"}],"owner":{"account_id":14788855,"reputation":47,"user_id":10680346,"display_name":"rouiiii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1640618666,"answer_count":1,"score":-3,"last_activity_date":1645001569,"creation_date":1640608770,"question_id":70495607,"body_markdown":"I want to get the internet(public) ip address and use it in my java app. When I use &quot;ipconfig&quot; or &quot;netstat&quot; (shell commands) or InetAddress.getLocalHost() or even NetworkInterface.getNetworkInterfaces() the router(system) doesn&#39;t return the internet ip, instead returns the local address.\r\n[![enter image description here][1]][1]\r\n\r\nHowever when I connect to router config page using a browser the internet ip address is shown there. \r\nHow can I get the internet ip address in my java app? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ckA3b.png","title":"Internet IP acquisition when connected to router","body":"<p>I want to get the internet(public) ip address and use it in my java app. When I use &quot;ipconfig&quot; or &quot;netstat&quot; (shell commands) or InetAddress.getLocalHost() or even NetworkInterface.getNetworkInterfaces() the router(system) doesn't return the internet ip, instead returns the local address.\n<a href=\"https://i.stack.imgur.com/ckA3b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ckA3b.png\" alt=\"enter image description here\" /></a></p>\n<p>However when I connect to router config page using a browser the internet ip address is shown there.\nHow can I get the internet ip address in my java app?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1644996687,"post_id":71137771,"comment_id":125750162,"body_markdown":"What exactly are you having a hard time with? What are the problems you encounter? Also, can you explain the need for the `if-else`? Is your input data not constistent? Also, you only `add()` on the graph inside of the `else` block, which seems like a problem. Also, `var1`, `var2`, `var3` and `w` are never used.","body":"What exactly are you having a hard time with? What are the problems you encounter? Also, can you explain the need for the <code>if-else</code>? Is your input data not constistent? Also, you only <code>add()</code> on the graph inside of the <code>else</code> block, which seems like a problem. Also, <code>var1</code>, <code>var2</code>, <code>var3</code> and <code>w</code> are never used."},{"owner":{"account_id":24194275,"reputation":27,"user_id":18153077,"display_name":"Almeine Adjadi"},"score":0,"creation_date":1644998475,"post_id":71137771,"comment_id":125750724,"body_markdown":"I want to read the text file and can&#39;t manage to do so. I just noticed but you&#39;re right. The code is extremely poorly written. I&#39;m used to reading files with only two colums with the same data type. I get the error Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\n\tat java.base/java.lang.Integer.parseInt(Integer.java:622)\n\twith this code.","body":"I want to read the text file and can&#39;t manage to do so. I just noticed but you&#39;re right. The code is extremely poorly written. I&#39;m used to reading files with only two colums with the same data type. I get the error Exception in thread &quot;main&quot; java.lang.NumberFormatException: null \tat java.base/java.lang.Integer.parseInt(Integer.java:622) \twith this code."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1644998593,"post_id":71137771,"comment_id":125750764,"body_markdown":"Yeah, if you follow the error you see that `int w = Integer.parseInt(tokens[2])` is the culprit, since `tokens[]` is never filled, `nodes[]` is. You should start with removing unnecessary / dead code and variables. Think about what you really need, and remove the rest.","body":"Yeah, if you follow the error you see that <code>int w = Integer.parseInt(tokens[2])</code> is the culprit, since <code>tokens[]</code> is never filled, <code>nodes[]</code> is. You should start with removing unnecessary / dead code and variables. Think about what you really need, and remove the rest."},{"owner":{"account_id":24194275,"reputation":27,"user_id":18153077,"display_name":"Almeine Adjadi"},"score":0,"creation_date":1644999278,"post_id":71137771,"comment_id":125750974,"body_markdown":"@maloomeister I remove all the superficial code and this is te remaining code. I still have the same error. How can I efficiently cast my third index data as integer?            \n  ` WeightedDigraph graph = new WeightedDigraph();\n        String line;\n\n        while ((line = br.readLine()) != null) {\n            String[] nodes = line.split(&quot;,&quot;);\n            if (nodes.length == 3){\n                graph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2]));\n            }\n        }\n        System.out.println(&quot;The graph:\\n&quot; + graph);  `","body":"@maloomeister I remove all the superficial code and this is te remaining code. I still have the same error. How can I efficiently cast my third index data as integer?               ` WeightedDigraph graph = new WeightedDigraph();         String line;          while ((line = br.readLine()) != null) {             String[] nodes = line.split(&quot;,&quot;);             if (nodes.length == 3){                 graph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2]));             }         }         System.out.println(&quot;The graph:\\n&quot; + graph);  `"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1644999531,"post_id":71137771,"comment_id":125751057,"body_markdown":"Please don&#39;t post code in the comments, as it is unreadable as you can see. Please [edit] your original question to add the updated code.","body":"Please don&#39;t post code in the comments, as it is unreadable as you can see. Please <a href=\"https://stackoverflow.com/posts/71137771/edit\">edit</a> your original question to add the updated code."},{"owner":{"account_id":24194275,"reputation":27,"user_id":18153077,"display_name":"Almeine Adjadi"},"score":0,"creation_date":1645000030,"post_id":71137771,"comment_id":125751224,"body_markdown":"Sorry, I didn&#39;t know it&#39;s works that way. I already edit my code","body":"Sorry, I didn&#39;t know it&#39;s works that way. I already edit my code"}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645001137,"creation_date":1645000871,"answer_id":71138559,"question_id":71137771,"body_markdown":"Currently you are getting a `NumberFormatException` when parsing the split `String` to `int`. The main culprit that causes this is the whitespace inside of your `String`.\r\n\r\nIf you look at a line of your input\r\n```lang-none\r\nHome, Drugstore, 12\r\n     ^          ^\r\n``` \r\nyou have whitespaces at the marked locations. These whitespaces are still part of the split strings after you do `line.split(&quot;,&quot;)` (whitespaces shown as underscores):\r\n\r\n```lang-none\r\nHome\r\n_Drugstore\r\n_12\r\n```\r\n\r\nAnd since your input to `Integer.parseInt()` then contains a whitespace, you get the aforementioned exception.\r\n\r\n**The solution:**\r\n\r\na) Remove whitespaces completely when `split()`ting:\r\n\r\n```lang-java\r\nline.split(&quot;\\\\s*,\\\\s*&quot;)\r\n```\r\n\r\nSince [`split()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) takes a regular expression as the input, you can provide one which splits on the comma including all whitespaces. (I would suggest this solution, since you don&#39;t really want these whitespaces in any of your `String`s after splitting)\r\n\r\nb) Optional - Only trim the relevant string:\r\n\r\n```lang-java\r\ngraph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2].trim()));\r\n```\r\n\r\n`String#trim()` removes with any leading and trailing whitespaces.","title":"How to read a file into a weighted digraph","body":"<p>Currently you are getting a <code>NumberFormatException</code> when parsing the split <code>String</code> to <code>int</code>. The main culprit that causes this is the whitespace inside of your <code>String</code>.</p>\n<p>If you look at a line of your input</p>\n<pre class=\"lang-none prettyprint-override\"><code>Home, Drugstore, 12\n     ^          ^\n</code></pre>\n<p>you have whitespaces at the marked locations. These whitespaces are still part of the split strings after you do <code>line.split(&quot;,&quot;)</code> (whitespaces shown as underscores):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Home\n_Drugstore\n_12\n</code></pre>\n<p>And since your input to <code>Integer.parseInt()</code> then contains a whitespace, you get the aforementioned exception.</p>\n<p><strong>The solution:</strong></p>\n<p>a) Remove whitespaces completely when <code>split()</code>ting:</p>\n<pre class=\"lang-java prettyprint-override\"><code>line.split(&quot;\\\\s*,\\\\s*&quot;)\n</code></pre>\n<p>Since <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>split()</code></a> takes a regular expression as the input, you can provide one which splits on the comma including all whitespaces. (I would suggest this solution, since you don't really want these whitespaces in any of your <code>String</code>s after splitting)</p>\n<p>b) Optional - Only trim the relevant string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>graph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2].trim()));\n</code></pre>\n<p><code>String#trim()</code> removes with any leading and trailing whitespaces.</p>\n"}],"owner":{"account_id":24194275,"reputation":27,"user_id":18153077,"display_name":"Almeine Adjadi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71138559,"answer_count":1,"score":0,"last_activity_date":1645001137,"creation_date":1644996362,"question_id":71137771,"body_markdown":"I want to implement a weighted digraph for my Assignment. I already have the code (it&#39;s a lot of code, so I can&#39;t post it here), but I want to load the text file into the graph and I&#39;m having a hard time. My problem ist that the file has two Strings and one integer Data. Do you have any suggestions? The file is:\r\n\r\n&gt; - Home, Drugstore, 12\r\n&gt; - Home, Butcher, 6\r\n&gt; - Home, Lidl, 5\r\n&gt; - Drugstore, Home, 12\r\n&gt; - Drugstore, Bakery, 4\r\n&gt; - Butcher, Home, 6\r\n&gt; - Butcher, Drugstore, 8\r\n&gt; - Butcher, Bakery, 7\r\n&gt; - Lidl, Butcher, 4\r\n&gt; - Aldi, Drugstore, 9\r\n&gt; - Aldi, Bakery, 8\r\n&gt; - Bakery, Pharmacy, 2\r\n&gt; - Bakery, Edeka, 15\r\n&gt; - Edeka, Bakery, 15\r\n&gt; - Edeka, Aldi, 6\r\n&gt; - Edeka, Pizzeria, 5\r\n&gt; - Pizzeria, Bakery, 8\r\n&gt; - Pizzeria, Pharmacy, 9\r\n&gt; - Pharmacy, Pizzeria, 9\r\n&gt; - Pharmacy, Lidl, 6\r\n&gt; - Lidl, Pharmacy, 6\r\n\r\n```lang-java\r\n\r\npublic static void main(String[] args) throws Exception{\r\n    File filePath = new File(&quot;C:\\\\Users\\\\F\\\\Desktop\\\\A9\\\\small_town.txt&quot;);\r\n    FileReader fr = new FileReader(filePath);\r\n    BufferedReader br = new BufferedReader(fr);\r\n\r\n    WeightedDigraph graph = new WeightedDigraph();\r\n    String line;\r\n\r\n    while ((line = br.readLine()) != null) {\r\n        String[] nodes = line.split(&quot;,&quot;);\r\n        if (nodes.length == 3){\r\n            graph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2]));\r\n        }\r\n    }\r\n    System.out.println(&quot;The graph:\\n&quot; + graph);\r\n}\r\n```","title":"How to read a file into a weighted digraph","body":"<p>I want to implement a weighted digraph for my Assignment. I already have the code (it's a lot of code, so I can't post it here), but I want to load the text file into the graph and I'm having a hard time. My problem ist that the file has two Strings and one integer Data. Do you have any suggestions? The file is:</p>\n<blockquote>\n<ul>\n<li>Home, Drugstore, 12</li>\n<li>Home, Butcher, 6</li>\n<li>Home, Lidl, 5</li>\n<li>Drugstore, Home, 12</li>\n<li>Drugstore, Bakery, 4</li>\n<li>Butcher, Home, 6</li>\n<li>Butcher, Drugstore, 8</li>\n<li>Butcher, Bakery, 7</li>\n<li>Lidl, Butcher, 4</li>\n<li>Aldi, Drugstore, 9</li>\n<li>Aldi, Bakery, 8</li>\n<li>Bakery, Pharmacy, 2</li>\n<li>Bakery, Edeka, 15</li>\n<li>Edeka, Bakery, 15</li>\n<li>Edeka, Aldi, 6</li>\n<li>Edeka, Pizzeria, 5</li>\n<li>Pizzeria, Bakery, 8</li>\n<li>Pizzeria, Pharmacy, 9</li>\n<li>Pharmacy, Pizzeria, 9</li>\n<li>Pharmacy, Lidl, 6</li>\n<li>Lidl, Pharmacy, 6</li>\n</ul>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static void main(String[] args) throws Exception{\n    File filePath = new File(&quot;C:\\\\Users\\\\F\\\\Desktop\\\\A9\\\\small_town.txt&quot;);\n    FileReader fr = new FileReader(filePath);\n    BufferedReader br = new BufferedReader(fr);\n\n    WeightedDigraph graph = new WeightedDigraph();\n    String line;\n\n    while ((line = br.readLine()) != null) {\n        String[] nodes = line.split(&quot;,&quot;);\n        if (nodes.length == 3){\n            graph.add(nodes[0], nodes[1], Integer.parseInt(nodes[2]));\n        }\n    }\n    System.out.println(&quot;The graph:\\n&quot; + graph);\n}\n</code></pre>\n"},{"tags":["java","web-services","groovy","junit"],"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":0,"creation_date":1410454999,"post_id":25793068,"comment_id":40342438,"body_markdown":"Download the groovy-all.jar and add it to project class path. Then delete your project manifest and a regenerate it or add it manually.","body":"Download the groovy-all.jar and add it to project class path. Then delete your project manifest and a regenerate it or add it manually."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1450795874,"creation_date":1410454897,"answer_id":25793187,"question_id":25793068,"body_markdown":"Download the `groovy-all.jar` and add it to the classpath.\r\n\r\nWith Maven, add this to your dependencies ([browse groovy-all on mvnrepository.com][1]):\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.4.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all","title":"java.lang.NoClassDefFoundError: groovy/lang/GroovyObject","body":"<p>Download the <code>groovy-all.jar</code> and add it to the classpath.</p>\n\n<p>With Maven, add this to your dependencies (<a href=\"http://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all\">browse groovy-all on mvnrepository.com</a>):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n    &lt;version&gt;2.4.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5078613,"reputation":39,"user_id":4075368,"display_name":"Thunder"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645000929,"creation_date":1500292317,"answer_id":45143556,"question_id":25793068,"body_markdown":"Perhaps you need to define the runner with an annotation above your class?\r\n\r\nIn my case it&#39;s\r\n\r\n    @RunWith(SerenityRunner.class)","title":"java.lang.NoClassDefFoundError: groovy/lang/GroovyObject","body":"<p>Perhaps you need to define the runner with an annotation above your class?</p>\n<p>In my case it's</p>\n<pre><code>@RunWith(SerenityRunner.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2641621,"reputation":11,"user_id":2285135,"display_name":"Manoj Lonar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575010004,"creation_date":1575010004,"answer_id":59099968,"question_id":25793068,"body_markdown":"I was facing the same issue and surprisingly I was working with RestAssured. I struggled for the entire day to get this fixed.\r\n\r\nI updated maven&#39;s groovy-all (version 3.0.0-beta-1) dependency with the latest one and this worked absolutely fine and I had added this dependency on the top in pom.xml. Hope this will help some folks :) ","title":"java.lang.NoClassDefFoundError: groovy/lang/GroovyObject","body":"<p>I was facing the same issue and surprisingly I was working with RestAssured. I struggled for the entire day to get this fixed.</p>\n\n<p>I updated maven's groovy-all (version 3.0.0-beta-1) dependency with the latest one and this worked absolutely fine and I had added this dependency on the top in pom.xml. Hope this will help some folks :) </p>\n"},{"tags":[],"owner":{"account_id":14408296,"reputation":43,"user_id":10407786,"display_name":"saradhi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580963454,"creation_date":1580963454,"answer_id":60087765,"question_id":25793068,"body_markdown":"go to ireports and select tools and then options -&gt;ireport -&gt;select lanaguage as java","title":"java.lang.NoClassDefFoundError: groovy/lang/GroovyObject","body":"<p>go to ireports and select tools and then options ->ireport ->select lanaguage as java</p>\n"}],"owner":{"account_id":222186,"reputation":13529,"user_id":480632,"accept_rate":74,"display_name":"J.Olufsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61362,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":25793187,"answer_count":4,"score":16,"last_activity_date":1645000929,"creation_date":1410454470,"question_id":25793068,"body_markdown":"Getting error when trying to test Jersey web services\r\n\r\n    java.lang.NoClassDefFoundError: groovy/lang/GroovyObject\r\n    Caused by: java.lang.ClassNotFoundException: groovy.lang.GroovyObject\r\n\r\n.\r\n\r\n\r\n    import static com.jayway.restassured.RestAssured.expect;\r\n    import static com.jayway.restassured.RestAssured.get;\r\n    import static org.hamcrest.CoreMatchers.equalTo;\r\n    import static org.hamcrest.CoreMatchers.nullValue;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    public class SimpleTest  {\r\n    \r\n        @Test\r\n        public void testUserFetchesSuccess() {\r\n            expect().\r\n                    body(&quot;id&quot;, equalTo(&quot;1&quot;)).\r\n                    when().\r\n                    get(&quot;/service&quot;);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nWhat does it mean? How to fix it?\r\n\r\n**UPDATE**\r\n\r\nI downloaded and installed groovy-all. Now I am getting:\r\n\r\n    java.lang.NoClassDefFoundError: org/codehaus/groovy/runtime/typehandling/ShortTypeHandling\r\n    \tat com.jayway.restassured.internal.ResponseParserRegistrar.&lt;init&gt;(ResponseParserRegistrar.groovy)\r\n    \tat com.jayway.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:346)\r\n    \tat SimpleTest.testUserFetchesSuccess(SimpleTest.java:10)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:300)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:157)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\r\n    Caused by: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.typehandling.ShortTypeHandling\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    \t... 24 more\r\n\r\n","title":"java.lang.NoClassDefFoundError: groovy/lang/GroovyObject","body":"<p>Getting error when trying to test Jersey web services</p>\n\n<pre><code>java.lang.NoClassDefFoundError: groovy/lang/GroovyObject\nCaused by: java.lang.ClassNotFoundException: groovy.lang.GroovyObject\n</code></pre>\n\n<p>.</p>\n\n<pre><code>import static com.jayway.restassured.RestAssured.expect;\nimport static com.jayway.restassured.RestAssured.get;\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.CoreMatchers.nullValue;\n\nimport org.junit.Test;\n\npublic class SimpleTest  {\n\n    @Test\n    public void testUserFetchesSuccess() {\n        expect().\n                body(\"id\", equalTo(\"1\")).\n                when().\n                get(\"/service\");\n    }\n\n\n}\n</code></pre>\n\n<p>What does it mean? How to fix it?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I downloaded and installed groovy-all. Now I am getting:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/codehaus/groovy/runtime/typehandling/ShortTypeHandling\n    at com.jayway.restassured.internal.ResponseParserRegistrar.&lt;init&gt;(ResponseParserRegistrar.groovy)\n    at com.jayway.restassured.RestAssured.&lt;clinit&gt;(RestAssured.java:346)\n    at SimpleTest.testUserFetchesSuccess(SimpleTest.java:10)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:300)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:157)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\nCaused by: java.lang.ClassNotFoundException: org.codehaus.groovy.runtime.typehandling.ShortTypeHandling\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 24 more\n</code></pre>\n"},{"tags":["java","jaxb","xml-namespaces"],"owner":{"account_id":24273582,"reputation":11,"user_id":18221207,"display_name":"ALF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645000928,"creation_date":1645000928,"question_id":71138570,"body_markdown":"I need to get the value of an xmlns attribute using JAXB, but @XmlAttribute returns null. \r\nHow can I do this for example from here: \r\n\r\n    &lt;test xmlns=&quot;testAttribute&quot; /&gt;\r\n\r\nI thought this was enough: \r\n\r\n    @XmlRootElement(name = &quot;test&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class Test {\r\n      \r\n      @XmlAttribute(name = &quot;xmlns&quot;)\r\n      private String attribute;\r\n    }\r\n\r\nFor any other attribute name this works, but not for &quot;xmlns&quot;.\r\n","title":"how to get xmlns attribute value in JAVA using JAXB?","body":"<p>I need to get the value of an xmlns attribute using JAXB, but @XmlAttribute returns null.\nHow can I do this for example from here:</p>\n<pre><code>&lt;test xmlns=&quot;testAttribute&quot; /&gt;\n</code></pre>\n<p>I thought this was enough:</p>\n<pre><code>@XmlRootElement(name = &quot;test&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Test {\n  \n  @XmlAttribute(name = &quot;xmlns&quot;)\n  private String attribute;\n}\n</code></pre>\n<p>For any other attribute name this works, but not for &quot;xmlns&quot;.</p>\n"},{"tags":["java","html","jsp","difference"],"comments":[{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":4,"creation_date":1398446043,"post_id":23299237,"comment_id":35667150,"body_markdown":"Welcome to SO, please just google &quot;jsp vs html&quot; and if required come back to this question.","body":"Welcome to SO, please just google &quot;jsp vs html&quot; and if required come back to this question."},{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":0,"creation_date":1398446115,"post_id":23299237,"comment_id":35667184,"body_markdown":"For example take a look at [this](http://www.differencebetween.net/technology/difference-between-jsp-and-html/) please.","body":"For example take a look at <a href=\"http://www.differencebetween.net/technology/difference-between-jsp-and-html/\" rel=\"nofollow noreferrer\">this</a> please."},{"owner":{"account_id":147833,"reputation":8013,"user_id":359226,"accept_rate":97,"display_name":"Garis M Suero"},"score":0,"creation_date":1398446502,"post_id":23299237,"comment_id":35667385,"body_markdown":"Homework alert. Same question from the homework, not even a personal modification.","body":"Homework alert. Same question from the homework, not even a personal modification."},{"owner":{"account_id":3969990,"reputation":7267,"user_id":3274830,"accept_rate":58,"display_name":"Mohsen Kamrani"},"score":0,"creation_date":1398446655,"post_id":23299237,"comment_id":35667460,"body_markdown":"In my opinion if someone has a question like this, the only answer is : please google your question, find a good book, tutorial,... and then come back with a better question. (No matter it&#39;s a homework or something else it&#39;s very very basic)","body":"In my opinion if someone has a question like this, the only answer is : please google your question, find a good book, tutorial,... and then come back with a better question. (No matter it&#39;s a homework or something else it&#39;s very very basic)"}],"answers":[{"tags":[],"owner":{"account_id":2024877,"reputation":988,"user_id":1810183,"accept_rate":85,"display_name":"victorf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1645000762,"creation_date":1398446217,"answer_id":23299336,"question_id":23299237,"body_markdown":"JSP is a file extension for Java Server Pages file format. Think a JSP like an HTML page containing a reference to Java servlets, or,  java server side applets.  \r\n\r\nJSP files help to deliver server side customized content on a webpage through servlets. JSP files keep the Java code secret because it runs server side.\r\n\r\n`index.html` is the default page for that directory. On most Web servers, the default page in a directory is named &quot;index.html&quot;. So, index.jsp would be the a default Java Server Page in a directory.","title":"What is difference index.html vs index.jsp?","body":"<p>JSP is a file extension for Java Server Pages file format. Think a JSP like an HTML page containing a reference to Java servlets, or,  java server side applets.</p>\n<p>JSP files help to deliver server side customized content on a webpage through servlets. JSP files keep the Java code secret because it runs server side.</p>\n<p><code>index.html</code> is the default page for that directory. On most Web servers, the default page in a directory is named &quot;index.html&quot;. So, index.jsp would be the a default Java Server Page in a directory.</p>\n"}],"owner":{"account_id":2773024,"reputation":355,"user_id":2387220,"accept_rate":0,"display_name":"user2387220"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21645,"favorite_count":0,"down_vote_count":6,"up_vote_count":9,"closed_date":1398448488,"accepted_answer_id":23299336,"answer_count":1,"score":3,"last_activity_date":1645000762,"creation_date":1398445915,"question_id":23299237,"body_markdown":"One URL ends in &#39;index.html&#39;. Another URL ends in &#39;index.jsp&#39;. Explain how these two requests result in very different behavior by the server.","title":"What is difference index.html vs index.jsp?","body":"<p>One URL ends in 'index.html'. Another URL ends in 'index.jsp'. Explain how these two requests result in very different behavior by the server.</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":4541295,"reputation":1084,"user_id":3749292,"accept_rate":100,"display_name":"Jerry Ajay"},"score":1,"creation_date":1430952352,"post_id":30088957,"comment_id":48290934,"body_markdown":"Have you tried the `import` option from the `files` menu?","body":"Have you tried the <code>import</code> option from the <code>files</code> menu?"},{"owner":{"account_id":3301395,"reputation":613,"user_id":4872598,"display_name":"michalleek"},"score":0,"creation_date":1430953002,"post_id":30088957,"comment_id":48291169,"body_markdown":"I export settings from working project and import them to this. Didn&#39;t help, still not works. http://imgur.com/ZUy4E9e","body":"I export settings from working project and import them to this. Didn&#39;t help, still not works. <a href=\"http://imgur.com/ZUy4E9e\" rel=\"nofollow noreferrer\">imgur.com/ZUy4E9e</a>"}],"answers":[{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":1,"up_vote_count":182,"is_accepted":true,"score":181,"last_activity_date":1430999991,"creation_date":1430973222,"answer_id":30091998,"question_id":30088957,"body_markdown":"You have to mark your `src` directory as `Source Root`.\r\n\r\nRight-click on the `src` folder and select `Sources Root`:\r\n\r\n![enter image description here][1]\r\n\r\nThen you&#39;ll see that the icons will change:\r\n\r\n![enter image description here][2]\r\n\r\n\r\n----------\r\n\r\n\r\n----------\r\n## EDIT ##\r\n\r\nCheck the output path by bringing up the `Project Structure` view.\r\n\r\nPress &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/r6yjz.png\r\n  [2]: http://i.stack.imgur.com/74cfM.png\r\n  [3]: http://i.stack.imgur.com/1yD7Y.png","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>You have to mark your <code>src</code> directory as <code>Source Root</code>.</p>\n\n<p>Right-click on the <code>src</code> folder and select <code>Sources Root</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/r6yjz.png\" alt=\"enter image description here\"></p>\n\n<p>Then you'll see that the icons will change:</p>\n\n<p><img src=\"https://i.stack.imgur.com/74cfM.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>Check the output path by bringing up the <code>Project Structure</code> view.</p>\n\n<p>Press <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>S</kbd></p>\n\n<p><img src=\"https://i.stack.imgur.com/1yD7Y.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1388455,"reputation":440,"user_id":1319870,"display_name":"cognalog"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456761940,"creation_date":1456761940,"answer_id":35704089,"question_id":30088957,"body_markdown":"Similar to what maba said above, but if applicable you probably want to mark `main` and `test` as source &amp; test source directories (respectively). That&#39;s a common project directory structure where literally marking `src` (parent of `main` and `test`) as source won&#39;t work for you.","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>Similar to what maba said above, but if applicable you probably want to mark <code>main</code> and <code>test</code> as source &amp; test source directories (respectively). That's a common project directory structure where literally marking <code>src</code> (parent of <code>main</code> and <code>test</code>) as source won't work for you.</p>\n"},{"tags":[],"owner":{"account_id":19502435,"reputation":41,"user_id":14268156,"display_name":"Yusuf Saifee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599972971,"creation_date":1599972971,"answer_id":63867313,"question_id":30088957,"body_markdown":"Yes, marking **src** folder as **&#39;Source Root&#39;** resolved the issue. Earlier intellij was not detecting java files.\r\n\r\nGo to: Right Click --&gt; src --&gt; (Choose option) Mark Directory as --&gt; Source Root.","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>Yes, marking <strong>src</strong> folder as <strong>'Source Root'</strong> resolved the issue. Earlier intellij was not detecting java files.</p>\n<p>Go to: Right Click --&gt; src --&gt; (Choose option) Mark Directory as --&gt; Source Root.</p>\n"},{"tags":[],"owner":{"account_id":102331,"reputation":121,"user_id":274745,"display_name":"LarryW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600278474,"creation_date":1600278474,"answer_id":63925419,"question_id":30088957,"body_markdown":"As a footnote, I&#39;ve had what I thought of as small projects take well over 15 minutes to fully load into IntelliJ, and during this time the little status bar in the bottom right seems to be downloading dependencies (lots of Spring stuff) ... though most of them should have already been in my local ~/.m2 maven repo.\r\n\r\nMaybe slow network, maybe the repo/proxy I was hitting was slow ... whatever, I&#39;m just reminding people to check that status bar when opening a new project.","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>As a footnote, I've had what I thought of as small projects take well over 15 minutes to fully load into IntelliJ, and during this time the little status bar in the bottom right seems to be downloading dependencies (lots of Spring stuff) ... though most of them should have already been in my local ~/.m2 maven repo.</p>\n<p>Maybe slow network, maybe the repo/proxy I was hitting was slow ... whatever, I'm just reminding people to check that status bar when opening a new project.</p>\n"},{"tags":[],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645000373,"creation_date":1645000373,"answer_id":71138455,"question_id":30088957,"body_markdown":"In addition to the accepted answer make sure you select a valid sdk in the &quot;file/project structure&quot; dialog.","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>In addition to the accepted answer make sure you select a valid sdk in the &quot;file/project structure&quot; dialog.</p>\n"}],"owner":{"account_id":3301395,"reputation":613,"user_id":4872598,"display_name":"michalleek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83723,"favorite_count":0,"down_vote_count":2,"up_vote_count":60,"accepted_answer_id":30091998,"answer_count":5,"score":58,"last_activity_date":1645000373,"creation_date":1430952122,"question_id":30088957,"body_markdown":"I&#39;ve cloned my repo from bitbucket and I am trying to open it in IntelliJ IDE, but i can&#39;t set Debug Configuration, can&#39;t set Main class in Application menu. I can&#39;t also add new Java class into project. I think that Intellij can&#39;t recognize this project is Java.\r\n\r\nIs it possible to make it right?\r\n\r\n","title":"IntelliJ doesn&#39;t recognize java project after cloning","body":"<p>I've cloned my repo from bitbucket and I am trying to open it in IntelliJ IDE, but i can't set Debug Configuration, can't set Main class in Application menu. I can't also add new Java class into project. I think that Intellij can't recognize this project is Java.</p>\n\n<p>Is it possible to make it right?</p>\n"},{"tags":["java","spring-mvc","logging","log4j2","rollingfileappender"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645002517,"post_id":71138418,"comment_id":125752030,"body_markdown":"Did you check the permissions on `C:\\Users\\User\\Desktop\\logs`? Tomcat as Windows service usually runs as `LocalService`, with very limited permissions.","body":"Did you check the permissions on <code>C:\\Users\\User\\Desktop\\logs</code>? Tomcat as Windows service usually runs as <code>LocalService</code>, with very limited permissions."},{"owner":{"account_id":20102275,"reputation":11,"user_id":14740509,"display_name":"Kavana NV"},"score":0,"creation_date":1645005557,"post_id":71138418,"comment_id":125753240,"body_markdown":"It is working now after changing the permissions, thanks a lot...","body":"It is working now after changing the permissions, thanks a lot..."}],"owner":{"account_id":20102275,"reputation":11,"user_id":14740509,"display_name":"Kavana NV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645000168,"creation_date":1645000168,"question_id":71138418,"body_markdown":"The log4j2 is working as i expected but in case if the file size reaches 5kb i need the new file to generate with indexed suffix i.e abclogs.log.1, but in my case the files are generating in my local directory when i run the project locally but if i deploy the same on the tomcat server the new file dynamic creation on reaching the size limit is not happening, so please suggest me with any solution.\r\nThanks in advance!!!\r\n\r\n    ######LOG-1######\r\n    appender.rolling.type = RollingFile\r\n    appender.rolling.name = RollingFile\r\n    appender.rolling.fileName = C:/Users/User/Desktop/logs/abclogs.log\r\n    appender.rolling.filePattern =C:/Users/User/Desktop/logs/abclogs.log.%i\r\n    appender.rolling.layout.type = PatternLayout\r\n    appender.rolling.layout.pattern = %d{dd MMM yyyy HH:mm:ss} %5.10c %-5p {%-30m}%n\r\n    appender.rolling.policies.type = Policies\r\n    appender.rolling.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling.policies.size.size=5KB\r\n    appender.rolling.strategy.type = DefaultRolloverStrategy\r\n    appender.rolling.strategy.max = 5\r\n     \r\n    logger.rolling.name = Logger1\r\n    logger.rolling.level = info\r\n    logger.rolling.additivity = false\r\n    logger.rolling.appenderRef.rolling.ref = RollingFile\r\n    \r\n    ######LOG-2######\r\n    appender.rolling1.type = RollingFile\r\n    appender.rolling1.name = RollingFile1\r\n    appender.rolling1.fileName = C:/Users/User/Desktop/logs/xyzlogs.log\r\n    appender.rolling1.filePattern =  C:/Users/User/Desktop/logs/xyzlogs.log.%i\r\n    appender.rolling1.layout.type = PatternLayout\r\n    appender.rolling1.layout.pattern = %d{dd MMM yyyy HH:mm:ss} %5.10c %-5p {%-30m}%n\r\n    appender.rolling1.policies.type = Policies\r\n    appender.rolling1.policies.size.type = SizeBasedTriggeringPolicy\r\n    appender.rolling1.policies.size.size=5KB\r\n    appender.rolling1.strategy.type = DefaultRolloverStrategy\r\n    appender.rolling1.strategy.max = 5\r\n    logger.rolling1.name = Logger2\r\n    logger.rolling1.level = info\r\n    logger.rolling1.additivity = false\r\n    logger.rolling1.appenderRef.rolling1.ref = RollingFile1","title":"Migrating from log4j to log4j2 below is my log4j2.properties file","body":"<p>The log4j2 is working as i expected but in case if the file size reaches 5kb i need the new file to generate with indexed suffix i.e abclogs.log.1, but in my case the files are generating in my local directory when i run the project locally but if i deploy the same on the tomcat server the new file dynamic creation on reaching the size limit is not happening, so please suggest me with any solution.\nThanks in advance!!!</p>\n<pre><code>######LOG-1######\nappender.rolling.type = RollingFile\nappender.rolling.name = RollingFile\nappender.rolling.fileName = C:/Users/User/Desktop/logs/abclogs.log\nappender.rolling.filePattern =C:/Users/User/Desktop/logs/abclogs.log.%i\nappender.rolling.layout.type = PatternLayout\nappender.rolling.layout.pattern = %d{dd MMM yyyy HH:mm:ss} %5.10c %-5p {%-30m}%n\nappender.rolling.policies.type = Policies\nappender.rolling.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling.policies.size.size=5KB\nappender.rolling.strategy.type = DefaultRolloverStrategy\nappender.rolling.strategy.max = 5\n \nlogger.rolling.name = Logger1\nlogger.rolling.level = info\nlogger.rolling.additivity = false\nlogger.rolling.appenderRef.rolling.ref = RollingFile\n\n######LOG-2######\nappender.rolling1.type = RollingFile\nappender.rolling1.name = RollingFile1\nappender.rolling1.fileName = C:/Users/User/Desktop/logs/xyzlogs.log\nappender.rolling1.filePattern =  C:/Users/User/Desktop/logs/xyzlogs.log.%i\nappender.rolling1.layout.type = PatternLayout\nappender.rolling1.layout.pattern = %d{dd MMM yyyy HH:mm:ss} %5.10c %-5p {%-30m}%n\nappender.rolling1.policies.type = Policies\nappender.rolling1.policies.size.type = SizeBasedTriggeringPolicy\nappender.rolling1.policies.size.size=5KB\nappender.rolling1.strategy.type = DefaultRolloverStrategy\nappender.rolling1.strategy.max = 5\nlogger.rolling1.name = Logger2\nlogger.rolling1.level = info\nlogger.rolling1.additivity = false\nlogger.rolling1.appenderRef.rolling1.ref = RollingFile1\n</code></pre>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":9877810,"reputation":2004,"user_id":7314871,"display_name":"Srikanth Chekuri"},"score":0,"creation_date":1644952661,"post_id":71131504,"comment_id":125740332,"body_markdown":"Your description wasn&#39;t fully clear, do you want to customise the sampling behaviour to suit your use cases programatically?","body":"Your description wasn&#39;t fully clear, do you want to customise the sampling behaviour to suit your use cases programatically?"},{"owner":{"account_id":53381,"reputation":5595,"user_id":159550,"accept_rate":79,"display_name":"valodzka"},"score":0,"creation_date":1644997066,"post_id":71131504,"comment_id":125750272,"body_markdown":"Yes, I want to manually decide which span will record and which doesn&#39;t.","body":"Yes, I want to manually decide which span will record and which doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":9877810,"reputation":2004,"user_id":7314871,"display_name":"Srikanth Chekuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644999990,"creation_date":1644999990,"answer_id":71138389,"question_id":71131504,"body_markdown":"From what I understand you are looking for a way to customise sampling behaviour to decide upon whether or not span is recorded. Opentelemetry enables you to extend this by implementing your own `Sampler`.\r\n\r\nLet&#39;s say you do not want to record any span with name _overflow_ and rest are sampled. Your implementation would look something like this.\r\n\r\n```java\r\n\r\npackage io.opentelemetry.sdk.extension.trace.mycustom.sampler;\r\n\r\n...\r\nimport io.opentelemetry.api.common.Attributes;\r\nimport io.opentelemetry.api.trace.SpanKind;\r\nimport io.opentelemetry.context.Context;\r\nimport io.opentelemetry.sdk.trace.data.LinkData;\r\nimport io.opentelemetry.sdk.trace.samplers.Sampler;\r\nimport io.opentelemetry.sdk.trace.samplers.SamplingResult;\r\nimport io.opentelemetry.sdk.trace.sampler.SamplingDecision;\r\n...\r\n\r\n\r\npublic final class MyCustomSampler implements Sampler {\r\n\r\n  ...\r\n\t\r\n  @Override\r\n  public SamplingResult shouldSample(\r\n      Context parentContext,\r\n      String traceId,\r\n      String name,\r\n      SpanKind spanKind,\r\n      Attributes attributes,\r\n      List&lt;LinkData&gt; parentLinks) {\r\n    // your logic goes here\r\n    return name == &quot;overflow&quot; ? SamplingResult.drop() : SamplingResult.recordAndSample();\r\n  }\r\n\r\n  @Override\r\n  public String getDescription() {\r\n    return &quot;MyCustomSampler&quot;;\r\n  }\r\n\r\n}\r\n```\r\n\r\nYou can take a look at the default samplers [here](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/samplers) or one of the sdk-extension [jaeger-remote-sampler](https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/jaeger-remote-sampler) to get better idea.","title":"How to force startSpan in with opentelemetry parentbased_always_off sampler","body":"<p>From what I understand you are looking for a way to customise sampling behaviour to decide upon whether or not span is recorded. Opentelemetry enables you to extend this by implementing your own <code>Sampler</code>.</p>\n<p>Let's say you do not want to record any span with name <em>overflow</em> and rest are sampled. Your implementation would look something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage io.opentelemetry.sdk.extension.trace.mycustom.sampler;\n\n...\nimport io.opentelemetry.api.common.Attributes;\nimport io.opentelemetry.api.trace.SpanKind;\nimport io.opentelemetry.context.Context;\nimport io.opentelemetry.sdk.trace.data.LinkData;\nimport io.opentelemetry.sdk.trace.samplers.Sampler;\nimport io.opentelemetry.sdk.trace.samplers.SamplingResult;\nimport io.opentelemetry.sdk.trace.sampler.SamplingDecision;\n...\n\n\npublic final class MyCustomSampler implements Sampler {\n\n  ...\n    \n  @Override\n  public SamplingResult shouldSample(\n      Context parentContext,\n      String traceId,\n      String name,\n      SpanKind spanKind,\n      Attributes attributes,\n      List&lt;LinkData&gt; parentLinks) {\n    // your logic goes here\n    return name == &quot;overflow&quot; ? SamplingResult.drop() : SamplingResult.recordAndSample();\n  }\n\n  @Override\n  public String getDescription() {\n    return &quot;MyCustomSampler&quot;;\n  }\n\n}\n</code></pre>\n<p>You can take a look at the default samplers <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk/trace/src/main/java/io/opentelemetry/sdk/trace/samplers\" rel=\"nofollow noreferrer\">here</a> or one of the sdk-extension <a href=\"https://github.com/open-telemetry/opentelemetry-java/tree/main/sdk-extensions/jaeger-remote-sampler\" rel=\"nofollow noreferrer\">jaeger-remote-sampler</a> to get better idea.</p>\n"}],"owner":{"account_id":53381,"reputation":5595,"user_id":159550,"accept_rate":79,"display_name":"valodzka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644999990,"creation_date":1644949269,"question_id":71131504,"body_markdown":"\r\nI am trying to set up open telemetry with a sampler  (`-Dotel.traces.sampler=parentbased_always_off`).\r\nAnd it works:\r\n\r\n    Span span = tracer.spanBuilder(&quot;span&quot;).startSpan()\r\n\r\nNo samples recorded. \r\n\r\nNow I try to start sample manually so traces will be recorded only in some programmatically decided cases. And the issue is that I cannot find a method in api that allows me to do so. `startSpan` call is always ignored. \r\n\r\nHow can I force start trace recording?\r\n\r\nIn other words: how can I programmatically decide which span will records and which doesn&#39;t? For example I want record traces only for some specific users, not all.","title":"How to force startSpan in with opentelemetry parentbased_always_off sampler","body":"<p>I am trying to set up open telemetry with a sampler  (<code>-Dotel.traces.sampler=parentbased_always_off</code>).\nAnd it works:</p>\n<pre><code>Span span = tracer.spanBuilder(&quot;span&quot;).startSpan()\n</code></pre>\n<p>No samples recorded.</p>\n<p>Now I try to start sample manually so traces will be recorded only in some programmatically decided cases. And the issue is that I cannot find a method in api that allows me to do so. <code>startSpan</code> call is always ignored.</p>\n<p>How can I force start trace recording?</p>\n<p>In other words: how can I programmatically decide which span will records and which doesn't? For example I want record traces only for some specific users, not all.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1644965650,"post_id":71134113,"comment_id":125744576,"body_markdown":"You have code that runs an ad every 3 clicks on your `RecyclerView` already, what errors are you getting?","body":"You have code that runs an ad every 3 clicks on your <code>RecyclerView</code> already, what errors are you getting?"},{"owner":{"account_id":14702429,"reputation":266,"user_id":13321964,"display_name":"Abood"},"score":0,"creation_date":1644966142,"post_id":71134113,"comment_id":125744717,"body_markdown":"@AliasCartellano the code doesn&#39;t work no matter how many times I click it","body":"@AliasCartellano the code doesn&#39;t work no matter how many times I click it"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1644975149,"post_id":71134113,"comment_id":125746382,"body_markdown":"Not related to your question, but the fact that you&#39;re storing drawable IDs to shared preferences is a big code smell. I can&#39;t imagine what you&#39;re doing with them, but you should be aware that those IDs are not stable from build to build.","body":"Not related to your question, but the fact that you&#39;re storing drawable IDs to shared preferences is a big code smell. I can&#39;t imagine what you&#39;re doing with them, but you should be aware that those IDs are not stable from build to build."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1644975355,"post_id":71134113,"comment_id":125746418,"body_markdown":"I would not put the interstitial ad code inside this adapter. Leave that in the Activity. If you want the activity to show an ad, expose a callback for the Activity to do it in. Right now, you are loading a new ad every time another view holder gets bound, so you&#39;re loading many ads in parallel. It&#39;s likely the ad network will not behave well if you do that, and it&#39;s also wasting bandwidth and resources. It might be that loading additional ads drops the previously-loaded ads. You also might get throttled for requesting so many, and it&#39;s likely your most recent request will receive nothing.","body":"I would not put the interstitial ad code inside this adapter. Leave that in the Activity. If you want the activity to show an ad, expose a callback for the Activity to do it in. Right now, you are loading a new ad every time another view holder gets bound, so you&#39;re loading many ads in parallel. It&#39;s likely the ad network will not behave well if you do that, and it&#39;s also wasting bandwidth and resources. It might be that loading additional ads drops the previously-loaded ads. You also might get throttled for requesting so many, and it&#39;s likely your most recent request will receive nothing."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1644975427,"post_id":71134113,"comment_id":125746430,"body_markdown":"Also, I hope you haven&#39;t shared your secret key in the code above...If you have, you should go to the ad network site and destroy it and create a new one.","body":"Also, I hope you haven&#39;t shared your secret key in the code above...If you have, you should go to the ad network site and destroy it and create a new one."},{"owner":{"account_id":14702429,"reputation":266,"user_id":13321964,"display_name":"Abood"},"score":0,"creation_date":1645028961,"post_id":71134113,"comment_id":125763271,"body_markdown":"@Tenfour04  As I said on my question, I am using a single activity app so most of the pages are actually Fragments and by using navigation components I can navigate between the pages. About the drawable IDs I was actually trying some stuff and ideas, I will delete them soon","body":"@Tenfour04  As I said on my question, I am using a single activity app so most of the pages are actually Fragments and by using navigation components I can navigate between the pages. About the drawable IDs I was actually trying some stuff and ideas, I will delete them soon"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1645029494,"post_id":71134113,"comment_id":125763508,"body_markdown":"Just exchange the word Fragment for Activity in my advice above.","body":"Just exchange the word Fragment for Activity in my advice above."},{"owner":{"account_id":23516957,"reputation":181,"user_id":17564727,"display_name":"Faisal ur Rehman"},"score":0,"creation_date":1649069966,"post_id":71134113,"comment_id":126774805,"body_markdown":"why you call  interstitialAd() in direct onBind() ? onBind() is called for every item on the list. so you send a lot of requests on a server every second. you should achieve using simple int variable like count and call only when your condition is true in onItemClicklistener","body":"why you call  interstitialAd() in direct onBind() ? onBind() is called for every item on the list. so you send a lot of requests on a server every second. you should achieve using simple int variable like count and call only when your condition is true in onItemClicklistener"}],"owner":{"account_id":14702429,"reputation":266,"user_id":13321964,"display_name":"Abood"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644999902,"creation_date":1644963690,"question_id":71134113,"body_markdown":"In some apps that are similar to my app, they have this thing when the user clicks on the item views of the recycler view randomly for 3 or 4 times and it displays an Admob interstitial ad for them before moving to the next activity or fragment. I would like to do the same, like showing the ad for the user after he clicks randomly for 3 or 4 times on the item views and when the ad is closed it should move to the next fragment. How do I do this kind of idea?\r\n\r\nP.C. I am using navigation components to navigate between the fragments and you can use java or kotlin, I understand them both.\r\n\r\n**Here is my recycler view code **\r\n\r\n        class NewsListAdapter(\r\n        val context: Context,\r\n        val news_list: ArrayList&lt;NewsListViewModel&gt;,\r\n        val view: View\r\n    ) :\r\n        RecyclerView.Adapter&lt;NewsListAdapter.vHolder&gt;() {\r\n    \r\n    \r\n        var inum = 1\r\n        var countNum = 0\r\n        private lateinit var OverLoad: OverLoad\r\n        private lateinit var mRef: DatabaseReference\r\n    \r\n        private var mInterstitialAd: InterstitialAd? = null\r\n        private final var TAG = &quot;NewsListAdapter&quot;\r\n    \r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): vHolder {\r\n            val view = LayoutInflater.from(parent.context)\r\n                .inflate(R.layout.news_list_design, parent, false)\r\n    \r\n            return vHolder(view)\r\n        }\r\n    \r\n        override fun getItemCount(): Int {\r\n            return news_list.size\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: vHolder, position: Int) {\r\n    \r\n            val newsList = news_list[position]\r\n    \r\n            val image = newsList!!.image\r\n            val imageView = holder.news_image\r\n    \r\n            Glide.with(this.context)\r\n                .load(image)\r\n                .into(imageView)\r\n            holder.news_title.text = newsList.title\r\n            holder.news_desc.text = newsList.desc\r\n            holder.news_date.text = newsList.date\r\n            holder.news_type.text = newsList.type\r\n    \r\n    \r\n            val shared = context.getSharedPreferences(&quot;LatestNewsSaving&quot;, Context.MODE_PRIVATE)\r\n            val editor = shared.edit()\r\n    \r\n            editor.putInt(&quot;fav_blue&quot;, R.drawable.ic_favorite_blue)\r\n            editor.putInt(&quot;fav_border&quot;, R.drawable.ic_favorite_border)\r\n            // editor.putInt(&quot;count_newsList_num&quot;, countNum)\r\n            editor.apply()\r\n    \r\n    \r\n            interstitialAd()\r\n    \r\n            PushDownAnim.setPushDownAnimTo(holder.card_view)\r\n    \r\n                .setOnClickListener {\r\n    \r\n                    countNum += 1\r\n                    editor.putInt(&quot;count_newsList_num&quot;, countNum)\r\n                    editor.apply()\r\n    \r\n                    if (shared.getInt(&quot;count_newsList_num&quot;, 0) == 3) {\r\n                        countNum = 0\r\n    \r\n                        if (mInterstitialAd != null) {\r\n                            mInterstitialAd?.show(context as Activity)\r\n                        } else {\r\n                            Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn&#39;t ready yet.&quot;)\r\n                        }\r\n    \r\n                        val passData = LatestNewsFragmentDirections\r\n                            .actionLatestNewsFragmentToNewsDetailFragment(news_list[position])\r\n                        Navigation.findNavController(view).navigate(passData)\r\n                    } else {\r\n                        val passData = LatestNewsFragmentDirections\r\n                            .actionLatestNewsFragmentToNewsDetailFragment(news_list[position])\r\n                        Navigation.findNavController(view).navigate(passData)\r\n                    }\r\n    \r\n    \r\n                }\r\n        }\r\n    \r\n        fun interstitialAd() {\r\n    \r\n            var adRequest = AdRequest.Builder().build()\r\n            InterstitialAd.load(context, &quot;ca-app-pub-xxxxxxxxxxxxxxxxx&quot;, adRequest, object :\r\n                InterstitialAdLoadCallback() {\r\n                override fun onAdFailedToLoad(adError: LoadAdError) {\r\n                    Log.d(TAG, adError?.message)\r\n                    mInterstitialAd = null\r\n                }\r\n    \r\n                override fun onAdLoaded(interstitialAd: InterstitialAd) {\r\n                    Log.d(TAG, &quot;Ad was loaded.&quot;)\r\n                    mInterstitialAd = interstitialAd\r\n                }\r\n            })\r\n        }\r\n    \r\n        class vHolder(view: View) : RecyclerView.ViewHolder(view) {\r\n    \r\n            val news_image = view.findViewById&lt;ImageView&gt;(R.id.news_image)\r\n            val news_title = view.findViewById&lt;TextView&gt;(R.id.news_title)\r\n            val news_desc = view.findViewById&lt;TextView&gt;(R.id.news_desc)\r\n            val news_date = view.findViewById&lt;TextView&gt;(R.id.news_date)\r\n            val news_type = view.findViewById&lt;TextView&gt;(R.id.news_type)\r\n    \r\n            val card_view = view.findViewById&lt;CardView&gt;(R.id.newsListCard)\r\n            val favourite_add = view.findViewById&lt;ImageView&gt;(R.id.favourites_add)\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"How do I show an admop interstitial ad after number of clicks on the item-views of recyclerview?","body":"<p>In some apps that are similar to my app, they have this thing when the user clicks on the item views of the recycler view randomly for 3 or 4 times and it displays an Admob interstitial ad for them before moving to the next activity or fragment. I would like to do the same, like showing the ad for the user after he clicks randomly for 3 or 4 times on the item views and when the ad is closed it should move to the next fragment. How do I do this kind of idea?</p>\n<p>P.C. I am using navigation components to navigate between the fragments and you can use java or kotlin, I understand them both.</p>\n<p>**Here is my recycler view code **</p>\n<pre><code>    class NewsListAdapter(\n    val context: Context,\n    val news_list: ArrayList&lt;NewsListViewModel&gt;,\n    val view: View\n) :\n    RecyclerView.Adapter&lt;NewsListAdapter.vHolder&gt;() {\n\n\n    var inum = 1\n    var countNum = 0\n    private lateinit var OverLoad: OverLoad\n    private lateinit var mRef: DatabaseReference\n\n    private var mInterstitialAd: InterstitialAd? = null\n    private final var TAG = &quot;NewsListAdapter&quot;\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): vHolder {\n        val view = LayoutInflater.from(parent.context)\n            .inflate(R.layout.news_list_design, parent, false)\n\n        return vHolder(view)\n    }\n\n    override fun getItemCount(): Int {\n        return news_list.size\n    }\n\n    override fun onBindViewHolder(holder: vHolder, position: Int) {\n\n        val newsList = news_list[position]\n\n        val image = newsList!!.image\n        val imageView = holder.news_image\n\n        Glide.with(this.context)\n            .load(image)\n            .into(imageView)\n        holder.news_title.text = newsList.title\n        holder.news_desc.text = newsList.desc\n        holder.news_date.text = newsList.date\n        holder.news_type.text = newsList.type\n\n\n        val shared = context.getSharedPreferences(&quot;LatestNewsSaving&quot;, Context.MODE_PRIVATE)\n        val editor = shared.edit()\n\n        editor.putInt(&quot;fav_blue&quot;, R.drawable.ic_favorite_blue)\n        editor.putInt(&quot;fav_border&quot;, R.drawable.ic_favorite_border)\n        // editor.putInt(&quot;count_newsList_num&quot;, countNum)\n        editor.apply()\n\n\n        interstitialAd()\n\n        PushDownAnim.setPushDownAnimTo(holder.card_view)\n\n            .setOnClickListener {\n\n                countNum += 1\n                editor.putInt(&quot;count_newsList_num&quot;, countNum)\n                editor.apply()\n\n                if (shared.getInt(&quot;count_newsList_num&quot;, 0) == 3) {\n                    countNum = 0\n\n                    if (mInterstitialAd != null) {\n                        mInterstitialAd?.show(context as Activity)\n                    } else {\n                        Log.d(&quot;TAG&quot;, &quot;The interstitial ad wasn't ready yet.&quot;)\n                    }\n\n                    val passData = LatestNewsFragmentDirections\n                        .actionLatestNewsFragmentToNewsDetailFragment(news_list[position])\n                    Navigation.findNavController(view).navigate(passData)\n                } else {\n                    val passData = LatestNewsFragmentDirections\n                        .actionLatestNewsFragmentToNewsDetailFragment(news_list[position])\n                    Navigation.findNavController(view).navigate(passData)\n                }\n\n\n            }\n    }\n\n    fun interstitialAd() {\n\n        var adRequest = AdRequest.Builder().build()\n        InterstitialAd.load(context, &quot;ca-app-pub-xxxxxxxxxxxxxxxxx&quot;, adRequest, object :\n            InterstitialAdLoadCallback() {\n            override fun onAdFailedToLoad(adError: LoadAdError) {\n                Log.d(TAG, adError?.message)\n                mInterstitialAd = null\n            }\n\n            override fun onAdLoaded(interstitialAd: InterstitialAd) {\n                Log.d(TAG, &quot;Ad was loaded.&quot;)\n                mInterstitialAd = interstitialAd\n            }\n        })\n    }\n\n    class vHolder(view: View) : RecyclerView.ViewHolder(view) {\n\n        val news_image = view.findViewById&lt;ImageView&gt;(R.id.news_image)\n        val news_title = view.findViewById&lt;TextView&gt;(R.id.news_title)\n        val news_desc = view.findViewById&lt;TextView&gt;(R.id.news_desc)\n        val news_date = view.findViewById&lt;TextView&gt;(R.id.news_date)\n        val news_type = view.findViewById&lt;TextView&gt;(R.id.news_type)\n\n        val card_view = view.findViewById&lt;CardView&gt;(R.id.newsListCard)\n        val favourite_add = view.findViewById&lt;ImageView&gt;(R.id.favourites_add)\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-rest"],"answers":[{"tags":[],"owner":{"account_id":1001831,"reputation":4661,"user_id":1016512,"accept_rate":76,"display_name":"Sercan Ozdemir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644999063,"creation_date":1477488931,"answer_id":40263767,"question_id":40263595,"body_markdown":"When initializing your `Docket` in your `Application` class, you can filter package names easily, therefore it will create your api for only given base package:\r\n\r\n    @Bean\r\n    public Docket swaggerSpringMvcPlugin(){\r\n        return new Docket( DocumentationType.SWAGGER_2 )//\r\n                .select().apis( RequestHandlerSelectors.basePackage( &quot;com.blabla.bla&quot; ) )//\r\n                .build();\r\n    }\r\n\r\nAnother solution:\r\n\r\n    return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \r\n              .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;)))\r\n                 .build();\r\n\r\nAnother solution that negates a specific package:\r\n\r\n    return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \r\n              .apis(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;).negate())\r\n                 .build();","title":"How to hide repository-controller from Swagger UI","body":"<p>When initializing your <code>Docket</code> in your <code>Application</code> class, you can filter package names easily, therefore it will create your api for only given base package:</p>\n<pre><code>@Bean\npublic Docket swaggerSpringMvcPlugin(){\n    return new Docket( DocumentationType.SWAGGER_2 )//\n            .select().apis( RequestHandlerSelectors.basePackage( &quot;com.blabla.bla&quot; ) )//\n            .build();\n}\n</code></pre>\n<p>Another solution:</p>\n<pre><code>return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \n          .apis(Predicates.not(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;)))\n             .build();\n</code></pre>\n<p>Another solution that negates a specific package:</p>\n<pre><code>return new Docket(DocumentationType.SWAGGER_2).apiInfo(apiInfo()).select() \n          .apis(RequestHandlerSelectors.basePackage(&quot;org.springframework.boot&quot;).negate())\n             .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4208208,"reputation":1452,"user_id":3446614,"display_name":"alonso_50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487172218,"creation_date":1487172218,"answer_id":42253414,"question_id":40263595,"body_markdown":"I solved the same issue by creating my own `Predicate` and adding them to the `Docket` configuration. You can get the Group name (repository-controller) from RequestHandler Object.\r\n\r\nMy code:\r\n\r\n    @Bean\r\n    public Docket api() { \r\n        return new Docket(DocumentationType.SWAGGER_2)  \r\n        \t.select()                                  \r\n\t          .apis(GroupNameFilter())\r\n\t          .build();                                           \r\n    }\r\n    \r\n    private Predicate&lt;RequestHandler&gt; GroupNameFilter(){\r\n        return new Predicate&lt;RequestHandler&gt;() {\r\n            @Override\r\n            public boolean apply(RequestHandler input) {\r\n                return !input.groupName().equals(&quot;repository-controller&quot;);  \r\n            }\r\n      };\r\n    }\r\n","title":"How to hide repository-controller from Swagger UI","body":"<p>I solved the same issue by creating my own <code>Predicate</code> and adding them to the <code>Docket</code> configuration. You can get the Group name (repository-controller) from RequestHandler Object.</p>\n\n<p>My code:</p>\n\n<pre><code>@Bean\npublic Docket api() { \n    return new Docket(DocumentationType.SWAGGER_2)  \n        .select()                                  \n          .apis(GroupNameFilter())\n          .build();                                           \n}\n\nprivate Predicate&lt;RequestHandler&gt; GroupNameFilter(){\n    return new Predicate&lt;RequestHandler&gt;() {\n        @Override\n        public boolean apply(RequestHandler input) {\n            return !input.groupName().equals(\"repository-controller\");  \n        }\n  };\n}\n</code></pre>\n"}],"owner":{"account_id":2593882,"reputation":2074,"user_id":2247949,"accept_rate":21,"display_name":"SST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4749,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1644999063,"creation_date":1477488447,"question_id":40263595,"body_markdown":"I am using spring-boot-starter-parent 1.3.3.RELEASE. I am unable to disable repository controller in Swagger UI\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have disabled the other unwanted endpoints using this [link][2].\r\n\r\n\r\nHow to disable repository-controller from swagger UI?? kindly provide your inputs\r\n\r\nIf use the follow, it returns only the search repository which written by me but I need the entity endpoints also. Those entities endpoints will return by spring defaults.\r\n\r\n    .apis(RequestHandlerSelectors.basePackage(&quot;bla.blablah.bla&quot;))\r\n\r\nKindly refer the image: [![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0mI22.png\r\n  [2]: https://stackoverflow.com/questions/40238166/avoid-showing-spring-framework-specific-services-as-part-of-swagger-interface\r\n  [3]: https://i.stack.imgur.com/DHVVm.png\r\n","title":"How to hide repository-controller from Swagger UI","body":"<p>I am using spring-boot-starter-parent 1.3.3.RELEASE. I am unable to disable repository controller in Swagger UI</p>\n\n<p><a href=\"https://i.stack.imgur.com/0mI22.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mI22.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have disabled the other unwanted endpoints using this <a href=\"https://stackoverflow.com/questions/40238166/avoid-showing-spring-framework-specific-services-as-part-of-swagger-interface\">link</a>.</p>\n\n<p>How to disable repository-controller from swagger UI?? kindly provide your inputs</p>\n\n<p>If use the follow, it returns only the search repository which written by me but I need the entity endpoints also. Those entities endpoints will return by spring defaults.</p>\n\n<pre><code>.apis(RequestHandlerSelectors.basePackage(\"bla.blablah.bla\"))\n</code></pre>\n\n<p>Kindly refer the image: <a href=\"https://i.stack.imgur.com/DHVVm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DHVVm.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","window","accessibility","overlay"],"answers":[{"tags":[],"owner":{"account_id":22191767,"reputation":11,"user_id":16433834,"display_name":"Mujadid Bukhari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644998969,"creation_date":1644998969,"answer_id":71138193,"question_id":71136738,"body_markdown":"I have figured it out at last.\r\noverride the `onConfigurationChanged(Configuration newConfig)` in AccessibilityService Class that is how you will be able to get screen orientation of window overlay. See the code below:\r\n\r\n     @Override\r\n    public void onConfigurationChanged(Configuration newConfig) {\r\n        super.onConfigurationChanged(newConfig);\r\n        // Checks the orientation of the screen\r\n        if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\r\n            Toast.makeText(this, &quot;landscape&quot;, Toast.LENGTH_SHORT).show();    \r\n         \r\n        } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\r\n            Toast.makeText(this, &quot;portrait&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n ","title":"How to set Screen Orientation of window overlay in accessibility Service java android?","body":"<p>I have figured it out at last.\noverride the <code>onConfigurationChanged(Configuration newConfig)</code> in AccessibilityService Class that is how you will be able to get screen orientation of window overlay. See the code below:</p>\n<pre><code> @Override\npublic void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n    // Checks the orientation of the screen\n    if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n        Toast.makeText(this, &quot;landscape&quot;, Toast.LENGTH_SHORT).show();    \n     \n    } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT){\n        Toast.makeText(this, &quot;portrait&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22191767,"reputation":11,"user_id":16433834,"display_name":"Mujadid Bukhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71138193,"answer_count":1,"score":1,"last_activity_date":1644998969,"creation_date":1644988507,"question_id":71136738,"body_markdown":"I have used accessibility Service to show window overlay, what I want is to hide this when the screen rotates to landscape or when user opens keyboard. Or set to orientation of window overlay to portrait mode only when user rotates to landscape mode in any other application.","title":"How to set Screen Orientation of window overlay in accessibility Service java android?","body":"<p>I have used accessibility Service to show window overlay, what I want is to hide this when the screen rotates to landscape or when user opens keyboard. Or set to orientation of window overlay to portrait mode only when user rotates to landscape mode in any other application.</p>\n"},{"tags":["java","libgdx","freetype","scene2d"],"answers":[{"tags":[],"owner":{"account_id":2033314,"reputation":19630,"user_id":1816356,"accept_rate":89,"display_name":"noone"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1405927400,"creation_date":1405927400,"answer_id":24859638,"question_id":24856201,"body_markdown":"It is not possible to do it beforehand, since you are going to generate it at runtime.\r\n\r\nMy workaround would be to keep the default font as it is and replace it at runtime via code. You can use [`Skin.add(...)`](http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/Skin.html#add-java.lang.String-java.lang.Object-java.lang.Class-) for that.\r\n\r\n    BitmapFont newDefaultFont = FreeTypeFontGenerator...;\r\n    skin.add(&quot;default-font&quot;, newDefaultFont, BitmapFont.class);","title":"Putting Freetypefont into libgdx skin","body":"<p>It is not possible to do it beforehand, since you are going to generate it at runtime.</p>\n\n<p>My workaround would be to keep the default font as it is and replace it at runtime via code. You can use <a href=\"http://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/scenes/scene2d/ui/Skin.html#add-java.lang.String-java.lang.Object-java.lang.Class-\" rel=\"noreferrer\"><code>Skin.add(...)</code></a> for that.</p>\n\n<pre><code>BitmapFont newDefaultFont = FreeTypeFontGenerator...;\nskin.add(\"default-font\", newDefaultFont, BitmapFont.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7377663,"reputation":810,"user_id":5615635,"accept_rate":56,"display_name":"Charanor"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1473863038,"creation_date":1472245682,"answer_id":39174630,"question_id":24856201,"body_markdown":"Update \r\n-\r\nThanks to a comment from [Jos van Egmond][1] telling me how to do this and still load the `Skin` from the `AssetManager` I have decided to update the answer. The old answer (and the alternative way of doing this) still remains untouched below.\r\n\r\nThe new procedure goes like this:\r\n\r\n - Load your font files.\r\n - Create an [`ObjectMap&lt;String, Object&gt;`][2] and put your fonts in this map.\r\n - Create a `SkinParameter` and give it the `ObjectMap` as a parameter.\r\n - Load your `Skin` through the `AsserManager` as usual using the created `SkinParameter`.\r\n\r\nThe code might look something like this:\r\n\r\n    /* Load your fonts */\r\n    load font1...\r\n    load font2...\r\n\r\n    /* Create the ObjectMap and add the fonts to it */\r\n    ObjectMap&lt;String, Object&gt; fontMap = new ObjectMap&lt;String, Object&gt;();\r\n    fontMap.put(&quot;font1&quot;, font1);\r\n    fontMap.put(&quot;font2&quot;, font2);\r\n\r\n    /* Create the SkinParameter and supply the ObjectMap to it */\r\n    SkinParameter parameter = new SkinParameter(fontMap);\r\n\r\n    /* Load the skin as usual */\r\n    assetManager.load(&quot;file/location/of/your/skin&quot;, Skin.class, parameter);\r\n\r\n---\r\nOld\r\n-\r\nThe current accepted answer is actually (kind of) incorrect. [This blog post][3] describes a way for you to reference generated `BitmapFont`s in your Json file. The procedure goes something like this:\r\n\r\n - Create blank skin file using the default constructor.\r\n - Add your fonts to the skin.\r\n - Add your atlas file to your skin.\r\n - Load your Json file to your skin.\r\n\r\nThe code might look something like this:\r\n\r\n    // Create a new skin using the default constructor and\r\n    // add your fonts to it.\r\n    Skin skin = new Skin();\r\n    skin.add(&quot;myFont&quot;, myFont, BitmapFont.class);\r\n    \r\n    // Remember that this texture atlas is NOT automatically disposed by the skin, \r\n    // so keep a reference and dispose of it yourself.\r\n    skin.addRegion(new TextureAtlas(&quot;file/location/of/your/atlas&quot;);\r\n    skin.load(Gdx.files.internal(&quot;file/location/of/your/skin&quot;));\r\n\r\nYou can now do something like this in your skin Json:\r\n\r\n    ...,\r\n    font: &quot;myFont&quot;,\r\n    ...\r\n\r\nAlthough this is a workaround this also means that you cannot (at least I haven&#39;t found a way to) load your skin through an `AssetManager`. You can still load the `TextureAtlas` through the manager though.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4537699/jos-van-egmond\r\n  [2]: https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/utils/ObjectMap.html\r\n  [3]: http://gigagrand.com/blog/?p=9","title":"Putting Freetypefont into libgdx skin","body":"<h2>Update</h2>\n\n<p>Thanks to a comment from <a href=\"https://stackoverflow.com/users/4537699/jos-van-egmond\">Jos van Egmond</a> telling me how to do this and still load the <code>Skin</code> from the <code>AssetManager</code> I have decided to update the answer. The old answer (and the alternative way of doing this) still remains untouched below.</p>\n\n<p>The new procedure goes like this:</p>\n\n<ul>\n<li>Load your font files.</li>\n<li>Create an <a href=\"https://libgdx.badlogicgames.com/nightlies/docs/api/com/badlogic/gdx/utils/ObjectMap.html\" rel=\"noreferrer\"><code>ObjectMap&lt;String, Object&gt;</code></a> and put your fonts in this map.</li>\n<li>Create a <code>SkinParameter</code> and give it the <code>ObjectMap</code> as a parameter.</li>\n<li>Load your <code>Skin</code> through the <code>AsserManager</code> as usual using the created <code>SkinParameter</code>.</li>\n</ul>\n\n<p>The code might look something like this:</p>\n\n<pre><code>/* Load your fonts */\nload font1...\nload font2...\n\n/* Create the ObjectMap and add the fonts to it */\nObjectMap&lt;String, Object&gt; fontMap = new ObjectMap&lt;String, Object&gt;();\nfontMap.put(\"font1\", font1);\nfontMap.put(\"font2\", font2);\n\n/* Create the SkinParameter and supply the ObjectMap to it */\nSkinParameter parameter = new SkinParameter(fontMap);\n\n/* Load the skin as usual */\nassetManager.load(\"file/location/of/your/skin\", Skin.class, parameter);\n</code></pre>\n\n<hr>\n\n<h2>Old</h2>\n\n<p>The current accepted answer is actually (kind of) incorrect. <a href=\"http://gigagrand.com/blog/?p=9\" rel=\"noreferrer\">This blog post</a> describes a way for you to reference generated <code>BitmapFont</code>s in your Json file. The procedure goes something like this:</p>\n\n<ul>\n<li>Create blank skin file using the default constructor.</li>\n<li>Add your fonts to the skin.</li>\n<li>Add your atlas file to your skin.</li>\n<li>Load your Json file to your skin.</li>\n</ul>\n\n<p>The code might look something like this:</p>\n\n<pre><code>// Create a new skin using the default constructor and\n// add your fonts to it.\nSkin skin = new Skin();\nskin.add(\"myFont\", myFont, BitmapFont.class);\n\n// Remember that this texture atlas is NOT automatically disposed by the skin, \n// so keep a reference and dispose of it yourself.\nskin.addRegion(new TextureAtlas(\"file/location/of/your/atlas\");\nskin.load(Gdx.files.internal(\"file/location/of/your/skin\"));\n</code></pre>\n\n<p>You can now do something like this in your skin Json:</p>\n\n<pre><code>...,\nfont: \"myFont\",\n...\n</code></pre>\n\n<p>Although this is a workaround this also means that you cannot (at least I haven't found a way to) load your skin through an <code>AssetManager</code>. You can still load the <code>TextureAtlas</code> through the manager though.</p>\n"},{"tags":[],"owner":{"account_id":22379470,"reputation":1144,"user_id":16593275,"display_name":"wowandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644998736,"creation_date":1644998736,"answer_id":71138164,"question_id":24856201,"body_markdown":"I faced the same issue. The current answers didn&#39;t solve it, but helped clear it up. In my case, this worked:\r\n\r\n```lang-java\r\nFreeTypeFontGenerator fontGenerator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;VT323.ttf&quot;));\r\nFreeTypeFontGenerator.FreeTypeFontParameter fontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\r\n\r\nfontParameter.size = 24;\r\nfontParameter.borderWidth = 3.6f;\r\nfontParameter.color = new Color(1, 1, 1, 0.3f);\r\nfontParameter.borderColor = new Color(0, 0, 0, 0.3f);\r\n\r\nBitmapFont font = fontGenerator.generateFont(fontParameter);\r\n\r\nfontParameter.size = 32;\r\n\r\nBitmapFont title = fontGenerator.generateFont(fontParameter);\r\n\r\nSkin skin = new Skin(new TextureAtlas(Gdx.files.internal(&quot;skins.atlas&quot;)));\r\nskin.add(&quot;font&quot;, font);\r\nskin.add(&quot;title&quot;, title);\r\nskin.load(Gdx.files.internal(&quot;skins.json&quot;));\r\n```\r\n\r\nThe `skins.json`, `skins.atlas` and `skins.png` files were generated using the [Skin Composer](https://github.com/raeleus/skin-composer)","title":"Putting Freetypefont into libgdx skin","body":"<p>I faced the same issue. The current answers didn't solve it, but helped clear it up. In my case, this worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FreeTypeFontGenerator fontGenerator = new FreeTypeFontGenerator(Gdx.files.internal(&quot;VT323.ttf&quot;));\nFreeTypeFontGenerator.FreeTypeFontParameter fontParameter = new FreeTypeFontGenerator.FreeTypeFontParameter();\n\nfontParameter.size = 24;\nfontParameter.borderWidth = 3.6f;\nfontParameter.color = new Color(1, 1, 1, 0.3f);\nfontParameter.borderColor = new Color(0, 0, 0, 0.3f);\n\nBitmapFont font = fontGenerator.generateFont(fontParameter);\n\nfontParameter.size = 32;\n\nBitmapFont title = fontGenerator.generateFont(fontParameter);\n\nSkin skin = new Skin(new TextureAtlas(Gdx.files.internal(&quot;skins.atlas&quot;)));\nskin.add(&quot;font&quot;, font);\nskin.add(&quot;title&quot;, title);\nskin.load(Gdx.files.internal(&quot;skins.json&quot;));\n</code></pre>\n<p>The <code>skins.json</code>, <code>skins.atlas</code> and <code>skins.png</code> files were generated using the <a href=\"https://github.com/raeleus/skin-composer\" rel=\"nofollow noreferrer\">Skin Composer</a></p>\n"}],"owner":{"account_id":2634838,"reputation":341,"user_id":2279841,"accept_rate":100,"display_name":"Seanoseanohay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6763,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":39174630,"answer_count":3,"score":15,"last_activity_date":1644998736,"creation_date":1405902157,"question_id":24856201,"body_markdown":"In my uiskin.json I have this\r\n\r\n`com.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: text/default.fnt } }`\r\n\r\nThis is fine for when I have the default.fnt in my text folder in the assets folder...\r\n\r\nHowever I want to use a Freetypefont. \r\n\r\nHow do I create a Freetypefont and load it into the uiskin file? ","title":"Putting Freetypefont into libgdx skin","body":"<p>In my uiskin.json I have this</p>\n\n<p><code>com.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: text/default.fnt } }</code></p>\n\n<p>This is fine for when I have the default.fnt in my text folder in the assets folder...</p>\n\n<p>However I want to use a Freetypefont. </p>\n\n<p>How do I create a Freetypefont and load it into the uiskin file? </p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644998610,"creation_date":1644998610,"answer_id":71138144,"question_id":71137805,"body_markdown":"Your regex is missing the `@` of `@col`. I.e. you wrote `&#39;[a-zA-Z]*&#39;` but you need to add `@` to that character set. So `&#39;[@a-zA-Z]*&#39;`. All in all:\r\n\r\n```regex\r\n(?i)select [a-zA-Z\\s]* from [a-zA-Z_\\s]*( where [a-zA-Z]*(\\s)?=(\\s)?&#39;[@a-zA-Z]*&#39;)?\r\n```\r\n\r\nTry and play around with it at websites such as: [regex101.com/r/t9x34z/1](https://regex101.com/r/t9x34z/1)","title":"Why Java regex to recognize select query doesn&#39;t find equals part?","body":"<p>Your regex is missing the <code>@</code> of <code>@col</code>. I.e. you wrote <code>'[a-zA-Z]*'</code> but you need to add <code>@</code> to that character set. So <code>'[@a-zA-Z]*'</code>. All in all:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>(?i)select [a-zA-Z\\s]* from [a-zA-Z_\\s]*( where [a-zA-Z]*(\\s)?=(\\s)?'[@a-zA-Z]*')?\n</code></pre>\n<p>Try and play around with it at websites such as: <a href=\"https://regex101.com/r/t9x34z/1\" rel=\"nofollow noreferrer\">regex101.com/r/t9x34z/1</a></p>\n"}],"owner":{"account_id":8880624,"reputation":419,"user_id":6630892,"accept_rate":83,"display_name":"MTB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644998610,"creation_date":1644996531,"question_id":71137805,"body_markdown":"In my web application, I need to get a simple select query from user and perform it against database. I want to check this query before executing. so I write a simple regex:\r\n\r\n    (?i)select [a-zA-Z\\s]* from [a-zA-Z_\\s]*( where [a-zA-Z]*(\\s)?=(\\s)?&#39;[a-zA-Z]*&#39;)?\r\n\r\n but I don&#39;t know why this regex doesn&#39;t match to a simple select query.\r\n\r\nfor instance:\r\n\r\n     select name from table  where col=&#39;@col&#39;\r\n\r\nthe result is:\r\n\r\n    Match: select name from   table  where col\r\n\r\nWhy equals part doesn&#39;t recognize by regex?","title":"Why Java regex to recognize select query doesn&#39;t find equals part?","body":"<p>In my web application, I need to get a simple select query from user and perform it against database. I want to check this query before executing. so I write a simple regex:</p>\n<pre><code>(?i)select [a-zA-Z\\s]* from [a-zA-Z_\\s]*( where [a-zA-Z]*(\\s)?=(\\s)?'[a-zA-Z]*')?\n</code></pre>\n<p>but I don't know why this regex doesn't match to a simple select query.</p>\n<p>for instance:</p>\n<pre><code> select name from table  where col='@col'\n</code></pre>\n<p>the result is:</p>\n<pre><code>Match: select name from   table  where col\n</code></pre>\n<p>Why equals part doesn't recognize by regex?</p>\n"},{"tags":["java","log4j2","logrotate"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644997857,"creation_date":1644961099,"answer_id":71133713,"question_id":71128523,"body_markdown":"You should replace the `RandomAccessFileAppender` with a simple `FileAppender`.\r\n\r\nYour issue is not caused by the use of asynchronous loggers, but by the appender you use:\r\n\r\n - Java&#39;s [`RandomAccessFile`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html), which is used by the `RandomAccessFileAppender` opens files in read/write mode **without** the `O_APPEND` option (cf. [open(2)](https://man7.org/linux/man-pages/man2/open.2.html)),\r\n - [`FileOutputStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileOutputStream.html), which is used by the usual `FileAppender`, opens files in write only mode **with** the `O_APPEND` option.\r\n\r\nThe presence or the absence of this option influences how writes are performed:\r\n\r\n&gt; **O_APPEND**\r\n  The file is opened in append mode.  Before each `write(2)`,\r\n  the file offset is positioned at the end of the file, as\r\n  if with `lseek(2)`.  The modification of the file offset and\r\n  the write operation are performed as a single atomic step.\r\n\r\n(from [man open(2)](https://man7.org/linux/man-pages/man2/open.2.html)).\r\n\r\nWhen you truncate your log file a `FileAppender`s offset will be reset to 0, while a `RandomAccessFileAppender` will continue writing at the previous position.\r\n\r\n**Remark:** Log4j also provides a [`RollingFileAppender`](https://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender), which will remove the need to use **logrotate** at all.\r\n\r\n**Edit**: the exact options used to create the objects used by the managers can be found:\r\n\r\n - for the `FileManager` in [`FileManagerFactory#createManager`](https://github.com/apache/logging-log4j2/blob/5f37d176f706c33132e5316a4bc7099644ce8ac1/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L438),\r\n - for the `RandomAccessFileManager` in [`RandomAccessFileManagerFactory#createManager`](https://github.com/apache/logging-log4j2/blob/5f37d176f706c33132e5316a4bc7099644ce8ac1/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/RandomAccessFileManager.java#L208).","title":"Async Log4J2 and logrotate not working correctly (truncate is broken)","body":"<p>You should replace the <code>RandomAccessFileAppender</code> with a simple <code>FileAppender</code>.</p>\n<p>Your issue is not caused by the use of asynchronous loggers, but by the appender you use:</p>\n<ul>\n<li>Java's <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\"><code>RandomAccessFile</code></a>, which is used by the <code>RandomAccessFileAppender</code> opens files in read/write mode <strong>without</strong> the <code>O_APPEND</code> option (cf. <a href=\"https://man7.org/linux/man-pages/man2/open.2.html\" rel=\"nofollow noreferrer\">open(2)</a>),</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\"><code>FileOutputStream</code></a>, which is used by the usual <code>FileAppender</code>, opens files in write only mode <strong>with</strong> the <code>O_APPEND</code> option.</li>\n</ul>\n<p>The presence or the absence of this option influences how writes are performed:</p>\n<blockquote>\n<p><strong>O_APPEND</strong>\nThe file is opened in append mode.  Before each <code>write(2)</code>,\nthe file offset is positioned at the end of the file, as\nif with <code>lseek(2)</code>.  The modification of the file offset and\nthe write operation are performed as a single atomic step.</p>\n</blockquote>\n<p>(from <a href=\"https://man7.org/linux/man-pages/man2/open.2.html\" rel=\"nofollow noreferrer\">man open(2)</a>).</p>\n<p>When you truncate your log file a <code>FileAppender</code>s offset will be reset to 0, while a <code>RandomAccessFileAppender</code> will continue writing at the previous position.</p>\n<p><strong>Remark:</strong> Log4j also provides a <a href=\"https://logging.apache.org/log4j/2.x/manual/appenders.html#RollingFileAppender\" rel=\"nofollow noreferrer\"><code>RollingFileAppender</code></a>, which will remove the need to use <strong>logrotate</strong> at all.</p>\n<p><strong>Edit</strong>: the exact options used to create the objects used by the managers can be found:</p>\n<ul>\n<li>for the <code>FileManager</code> in <a href=\"https://github.com/apache/logging-log4j2/blob/5f37d176f706c33132e5316a4bc7099644ce8ac1/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L438\" rel=\"nofollow noreferrer\"><code>FileManagerFactory#createManager</code></a>,</li>\n<li>for the <code>RandomAccessFileManager</code> in <a href=\"https://github.com/apache/logging-log4j2/blob/5f37d176f706c33132e5316a4bc7099644ce8ac1/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/RandomAccessFileManager.java#L208\" rel=\"nofollow noreferrer\"><code>RandomAccessFileManagerFactory#createManager</code></a>.</li>\n</ul>\n"}],"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71133713,"answer_count":1,"score":2,"last_activity_date":1644997857,"creation_date":1644936681,"question_id":71128523,"body_markdown":"I am using Log4J2 async logger to log my Java application and I&#39;m using `logrotate` to store the old logs everyday.\r\n\r\nPreviously, I was using Log4J2 synchronously and everything worked fine; since I switched to async logging `logrotate` stopped working correctly.\r\n\r\nI think I am experiencing the same issue explained [here][1]: since I am using the `copytruncate` option, the old log file gets truncated after being copied, but the logger doesn&#39;t know it, so it continues writing starting from the &quot;old&quot; index, thus filling all the previous space in the file with `NUL` values, which is exactly what I&#39;m seeing. \r\n\r\nThis is the command I am launching my application with: \r\n\r\n```\r\njava -Dlog4j2.contextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j2.asyncQueueFullPolicy=Discard -Dlog4j2.asyncLoggerRingBufferSize=6553600 -Djava.library.path=my_libs -cp MyApplication.jar:my_libs/* com.gscaparrotti.Main &gt;&gt; logs/other.log\r\n```\r\n\r\nThis is an excerpt from my `log4j2.xml` file:\r\n\r\n```\r\n&lt;Configuration status=&quot;debug&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;RandomAccessFile name=&quot;LogToFile&quot; fileName=&quot;logs/standalone.log&quot; append=&quot;true&quot; ImmediateFlush=&quot;false&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;[MyApp - %t - %d{DATE}] %5p %c{1} - %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/RandomAccessFile&gt;\r\n        &lt;RandomAccessFile name=&quot;LogAnalyzer&quot; fileName=&quot;logs/analyzer.txt&quot; append=&quot;true&quot; ImmediateFlush=&quot;false&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;Pattern&gt;[%d{DATE}] %5p %c{1} - %m%n&lt;/Pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/RandomAccessFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;warn&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;analyzer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogAnalyzer&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nThis is the `logrotate` configuration I&#39;m using (it&#39;s the same for all the log files):\r\n\r\n```\r\n/root/logs/analyzer.txt {\r\n  copytruncate\r\n  daily\r\n  rotate 4\r\n  compress\r\n  missingok\r\n  create 640 root root\r\n}\r\n```\r\n\r\nA sort-of solution would be to stop my application before `logrotate`ing it, but this is hardly a good solution, since I&#39;d like to have it running. \r\n\r\nWhat else could I do to fix this issue?\r\n\r\n\r\n  [1]: https://serverfault.com/questions/221337/logrotate-successful-original-file-goes-back-to-original-size","title":"Async Log4J2 and logrotate not working correctly (truncate is broken)","body":"<p>I am using Log4J2 async logger to log my Java application and I'm using <code>logrotate</code> to store the old logs everyday.</p>\n<p>Previously, I was using Log4J2 synchronously and everything worked fine; since I switched to async logging <code>logrotate</code> stopped working correctly.</p>\n<p>I think I am experiencing the same issue explained <a href=\"https://serverfault.com/questions/221337/logrotate-successful-original-file-goes-back-to-original-size\">here</a>: since I am using the <code>copytruncate</code> option, the old log file gets truncated after being copied, but the logger doesn't know it, so it continues writing starting from the &quot;old&quot; index, thus filling all the previous space in the file with <code>NUL</code> values, which is exactly what I'm seeing.</p>\n<p>This is the command I am launching my application with:</p>\n<pre><code>java -Dlog4j2.contextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Dlog4j2.asyncQueueFullPolicy=Discard -Dlog4j2.asyncLoggerRingBufferSize=6553600 -Djava.library.path=my_libs -cp MyApplication.jar:my_libs/* com.gscaparrotti.Main &gt;&gt; logs/other.log\n</code></pre>\n<p>This is an excerpt from my <code>log4j2.xml</code> file:</p>\n<pre><code>&lt;Configuration status=&quot;debug&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RandomAccessFile name=&quot;LogToFile&quot; fileName=&quot;logs/standalone.log&quot; append=&quot;true&quot; ImmediateFlush=&quot;false&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;[MyApp - %t - %d{DATE}] %5p %c{1} - %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/RandomAccessFile&gt;\n        &lt;RandomAccessFile name=&quot;LogAnalyzer&quot; fileName=&quot;logs/analyzer.txt&quot; append=&quot;true&quot; ImmediateFlush=&quot;false&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;[%d{DATE}] %5p %c{1} - %m%n&lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/RandomAccessFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;warn&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;analyzer&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogAnalyzer&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>This is the <code>logrotate</code> configuration I'm using (it's the same for all the log files):</p>\n<pre><code>/root/logs/analyzer.txt {\n  copytruncate\n  daily\n  rotate 4\n  compress\n  missingok\n  create 640 root root\n}\n</code></pre>\n<p>A sort-of solution would be to stop my application before <code>logrotate</code>ing it, but this is hardly a good solution, since I'd like to have it running.</p>\n<p>What else could I do to fix this issue?</p>\n"},{"tags":["java","memoization"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634362438,"post_id":69592144,"comment_id":123008848,"body_markdown":"_you can only move left or down_ - did you mean right or down? If so please [edit] and change it","body":"<i>you can only move left or down</i> - did you mean right or down? If so please <a href=\"https://stackoverflow.com/posts/69592144/edit\">edit</a> and change it"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":1,"creation_date":1634362853,"post_id":69592144,"comment_id":123008893,"body_markdown":"`-1961361076` probably means that you got a value bigger than In Integer.MAX_VALUE (which is 2147483647). Use double.","body":"<code>-1961361076</code> probably means that you got a value bigger than In Integer.MAX_VALUE (which is 2147483647). Use double."},{"owner":{"account_id":13653871,"reputation":4274,"user_id":9850970,"display_name":"Aldert"},"score":0,"creation_date":1634411639,"post_id":69592144,"comment_id":123019236,"body_markdown":"Please close the question as the answer of c0der is correct","body":"Please close the question as the answer of c0der is correct"}],"answers":[{"tags":[],"owner":{"account_id":24226807,"reputation":216,"user_id":18181173,"display_name":"Phunage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644997494,"creation_date":1644586269,"answer_id":71080927,"question_id":69592144,"body_markdown":"This is because the maximum value of an Integer has been reached. When you try to add a value to it, it overflows, and &quot;wraps around&quot; to the negative.\r\n\r\nIf you change to Long instead of Integer it will work: -\r\n\r\n\tpublic static void main(String[] args){\r\n        HashMap&lt;String, Long&gt; memo = new HashMap&lt;&gt;();\r\n        System.out.println(gridTraveler(2,2,memo));\r\n        System.out.println(gridTraveler(18,18,memo));\r\n    }\r\n\r\n    public static Long gridTraveler(long i, long j, HashMap&lt;String, Long&gt; memo){\r\n\r\n        String key = &quot;&quot; + i + &quot;,&quot; + j;\r\n        //base case\r\n        if(i == 1 || j == 1)\r\n            return (long) 1;\r\n\r\n        //base case\r\n        if(i == 0 || j == 0)\r\n            return (long) 0;\r\n\r\n        if (memo.containsKey(key))\r\n            return memo.get(key);\r\n\r\n        //Set value of the key memo[key]\r\n        memo.put(key, gridTraveler(i-1, j, memo) + gridTraveler(i, j-1, memo));\r\n\r\n        return memo.get(key);\r\n    }\r\n    }","title":"Strange values when using Memoization for Grid Traveler problem?","body":"<p>This is because the maximum value of an Integer has been reached. When you try to add a value to it, it overflows, and &quot;wraps around&quot; to the negative.</p>\n<p>If you change to Long instead of Integer it will work: -</p>\n<pre><code>public static void main(String[] args){\n    HashMap&lt;String, Long&gt; memo = new HashMap&lt;&gt;();\n    System.out.println(gridTraveler(2,2,memo));\n    System.out.println(gridTraveler(18,18,memo));\n}\n\npublic static Long gridTraveler(long i, long j, HashMap&lt;String, Long&gt; memo){\n\n    String key = &quot;&quot; + i + &quot;,&quot; + j;\n    //base case\n    if(i == 1 || j == 1)\n        return (long) 1;\n\n    //base case\n    if(i == 0 || j == 0)\n        return (long) 0;\n\n    if (memo.containsKey(key))\n        return memo.get(key);\n\n    //Set value of the key memo[key]\n    memo.put(key, gridTraveler(i-1, j, memo) + gridTraveler(i, j-1, memo));\n\n    return memo.get(key);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":23047590,"reputation":1,"user_id":17164941,"display_name":"mvey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644997494,"creation_date":1634349806,"question_id":69592144,"body_markdown":"I&#39;m learning dynamic programming and I&#39;ve just started with some simple problems. I&#39;m doing a grid traveler problem where you start in the top-left corner of a grid and you can only move left or down. You need to return the amount of unique paths to get from the top-left corner to the bottom-right corner of the grid.\r\n\r\nI&#39;m getting some strange return values when I try some bigger grids. For example, when I try (18,18) it goes to -&gt; -1961361076 instead of 2333606220\r\n\r\nCan anyone see something wrong with my code?\r\n\r\n\r\n&#39;&#39;&#39;\r\n\r\n \t\r\n\timport java.util.HashMap;\r\n\t\r\n\tpublic class Test{\r\n\t\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tHashMap&lt;String, Integer&gt; memo = new HashMap&lt;&gt;();\r\n\t\t\tSystem.out.println(gridTraveler(2,2,memo));\r\n\t\t\tSystem.out.println(gridTraveler(18,18,memo));\r\n\t\t}\r\n\t\r\n\t\tpublic static int gridTraveler(int m, int n, HashMap&lt;String, Integer&gt; memo){\r\n\t\r\n\t\t\tString key = &quot;&quot; + m + &quot;,&quot; + n;\r\n\t\t\t//base case\r\n\t\t\tif(m == 1 || n == 1)\r\n\t\t\t\treturn 1;\r\n\t\r\n\t\t\t//base case\r\n\t\t\tif(m == 0 || n == 0)\r\n\t\t\t\treturn 0;\r\n\t\r\n\t\t\tif (memo.containsKey(key))\r\n\t\t\t\treturn memo.get(key);\r\n\t\r\n\t\t\t//Set value of the key memo[key]\r\n\t\t\tmemo.put(key, gridTraveler(m-1, n, memo) + gridTraveler(m, n-1, memo));\r\n\t\r\n\t\t\treturn memo.get(key);\r\n\t\t}\r\n\t}","title":"Strange values when using Memoization for Grid Traveler problem?","body":"<p>I'm learning dynamic programming and I've just started with some simple problems. I'm doing a grid traveler problem where you start in the top-left corner of a grid and you can only move left or down. You need to return the amount of unique paths to get from the top-left corner to the bottom-right corner of the grid.</p>\n<p>I'm getting some strange return values when I try some bigger grids. For example, when I try (18,18) it goes to -&gt; -1961361076 instead of 2333606220</p>\n<p>Can anyone see something wrong with my code?</p>\n<p>'''</p>\n<pre><code>import java.util.HashMap;\n\npublic class Test{\n\n    public static void main(String[] args){\n        HashMap&lt;String, Integer&gt; memo = new HashMap&lt;&gt;();\n        System.out.println(gridTraveler(2,2,memo));\n        System.out.println(gridTraveler(18,18,memo));\n    }\n\n    public static int gridTraveler(int m, int n, HashMap&lt;String, Integer&gt; memo){\n\n        String key = &quot;&quot; + m + &quot;,&quot; + n;\n        //base case\n        if(m == 1 || n == 1)\n            return 1;\n\n        //base case\n        if(m == 0 || n == 0)\n            return 0;\n\n        if (memo.containsKey(key))\n            return memo.get(key);\n\n        //Set value of the key memo[key]\n        memo.put(key, gridTraveler(m-1, n, memo) + gridTraveler(m, n-1, memo));\n\n        return memo.get(key);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","persistence","one-to-many"],"answers":[{"tags":[],"owner":{"account_id":3414783,"reputation":3286,"user_id":2863995,"accept_rate":57,"display_name":"Arnold Galovics"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1491978562,"creation_date":1491978562,"answer_id":43361935,"question_id":43357413,"body_markdown":"Usually empty FK columns are coming from setting only one side of the relation.\r\n\r\nI imagine you have the following \r\n\r\n    DiversityTemplate diversityTemplate = ...\r\n    diversityTemplate.getAttributes().add(...)\r\n    ...\r\n    diversityTemplateRepository.save(diversityTemplate);\r\n\r\nThis is wrong because the `DiversityTemplateAttribute` doesn&#39;t know about the parent, only the parent know about his children. \r\n\r\nSolving this is easy, you have to set the parent reference in the child. \r\n     \r\n    diversityTemplateAttribute.setDiversityTemplate(diversityTemplate);\r\n\r\nOr you can put this logic into a method within the `DiversityTemplate` which automatically adds the attribute into the List + sets the backreference.\r\n","title":"Parent Id null in @OneToMany mapping JPA","body":"<p>Usually empty FK columns are coming from setting only one side of the relation.</p>\n\n<p>I imagine you have the following </p>\n\n<pre><code>DiversityTemplate diversityTemplate = ...\ndiversityTemplate.getAttributes().add(...)\n...\ndiversityTemplateRepository.save(diversityTemplate);\n</code></pre>\n\n<p>This is wrong because the <code>DiversityTemplateAttribute</code> doesn't know about the parent, only the parent know about his children. </p>\n\n<p>Solving this is easy, you have to set the parent reference in the child. </p>\n\n<pre><code>diversityTemplateAttribute.setDiversityTemplate(diversityTemplate);\n</code></pre>\n\n<p>Or you can put this logic into a method within the <code>DiversityTemplate</code> which automatically adds the attribute into the List + sets the backreference.</p>\n"},{"tags":[],"owner":{"account_id":9952540,"reputation":160,"user_id":7364599,"display_name":"Harshil"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1555053871,"creation_date":1555053871,"answer_id":55646497,"question_id":43357413,"body_markdown":"I know it&#39;s too late but you can also do...\r\n-----------------------------------------------------\r\n\r\n**Parent Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;DIVERSITY_TEMPLATE&quot;)\r\n    public class DiversityTemplate implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;DIVERSITY_TEMPLATE_ID&quot;, sequenceName = &quot;DIVERSITY_TEMPLATE_ID&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        @Column(name = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        private Integer diversityTemplateId;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\r\n\r\n**Child Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;DIVERSITY_TEMPLATE_ATTRIBUTE&quot;)\r\n    @TypeName(&quot;DiversityTemplateAttribute&quot;)\r\n    public class DiversityTemplateAttribute implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;, sequenceName = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;)\r\n        @Column(name = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;)\r\n        private Integer diversityTemplateAttributeId;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private DiversityTemplate diversityTemplate;\r\n\r\n**Service Class:**\r\n\r\n    diversityTemplateRepository.save(diversityTemplate);\r\n\r\n\r\n&gt; This way you **DON&#39;T NEED TO DO PARENT ENTRY IN EACH CHILD**. it will do\r\n&gt; by itself. you just need to save parent that&#39;s it.\r\n\r\n\r\n**Quick steps what I did.**\r\n\r\n&gt;  1. Removed mappedBy from Parent.\r\n&gt;  2. Added @JoinCollumn foreign key in Parent\r\n&gt;  3. Removed @JoinCollumn from Child.\r\n\r\nHope it helps.\r\n","title":"Parent Id null in @OneToMany mapping JPA","body":"<h2>I know it's too late but you can also do...</h2>\n\n<p><strong>Parent Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"DIVERSITY_TEMPLATE\")\npublic class DiversityTemplate implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @SequenceGenerator(name = \"DIVERSITY_TEMPLATE_ID\", sequenceName = \"DIVERSITY_TEMPLATE_ID\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"DIVERSITY_TEMPLATE_ID\")\n    @Column(name = \"DIVERSITY_TEMPLATE_ID\")\n    private Integer diversityTemplateId;\n\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = \"DIVERSITY_TEMPLATE_ID\")\n    private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p><strong>Child Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"DIVERSITY_TEMPLATE_ATTRIBUTE\")\n@TypeName(\"DiversityTemplateAttribute\")\npublic class DiversityTemplateAttribute implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @SequenceGenerator(name = \"DIVERSITY_TEMPLATE_ATTR_ID\", sequenceName = \"DIVERSITY_TEMPLATE_ATTR_ID\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"DIVERSITY_TEMPLATE_ATTR_ID\")\n    @Column(name = \"DIVERSITY_TEMPLATE_ATTR_ID\")\n    private Integer diversityTemplateAttributeId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private DiversityTemplate diversityTemplate;\n</code></pre>\n\n<p><strong>Service Class:</strong></p>\n\n<pre><code>diversityTemplateRepository.save(diversityTemplate);\n</code></pre>\n\n<blockquote>\n  <p>This way you <strong>DON'T NEED TO DO PARENT ENTRY IN EACH CHILD</strong>. it will do\n  by itself. you just need to save parent that's it.</p>\n</blockquote>\n\n<p><strong>Quick steps what I did.</strong></p>\n\n<blockquote>\n  <ol>\n  <li>Removed mappedBy from Parent.</li>\n  <li>Added @JoinCollumn foreign key in Parent</li>\n  <li>Removed @JoinCollumn from Child.</li>\n  </ol>\n</blockquote>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":22564311,"reputation":11,"user_id":16751561,"display_name":"Itachi Uchiha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644997422,"creation_date":1644997422,"answer_id":71137958,"question_id":43357413,"body_markdown":"``` \r\n@JsonManagedReference \r\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n    private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\r\n.\r\n.\r\n.\r\n.\r\n@JsonBackRefrence\r\n @ManyToOne(fetch = FetchType.LAZY)\r\n    private DiversityTemplate diversityTemplate;\r\n```\r\n\r\nthese JsonManagedReference and JsonBackReference are provided by jackson library to let the JPA know on which class it should serialize and on which it shouldnt... so that we can avoid Infinite recursion... more about this in [here](https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#:~:text=%40JsonManagedReference%20is%20the%20forward%20part,reference%20to%20the%20User%20object.)!","title":"Parent Id null in @OneToMany mapping JPA","body":"<pre><code>@JsonManagedReference \n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;DIVERSITY_TEMPLATE_ID&quot;)\n    private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\n.\n.\n.\n.\n@JsonBackRefrence\n @ManyToOne(fetch = FetchType.LAZY)\n    private DiversityTemplate diversityTemplate;\n</code></pre>\n<p>these JsonManagedReference and JsonBackReference are provided by jackson library to let the JPA know on which class it should serialize and on which it shouldnt... so that we can avoid Infinite recursion... more about this in <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion#:%7E:text=%40JsonManagedReference%20is%20the%20forward%20part,reference%20to%20the%20User%20object.\" rel=\"nofollow noreferrer\">here</a>!</p>\n"}],"owner":{"account_id":6746900,"reputation":861,"user_id":5198256,"accept_rate":13,"display_name":"Asif Billa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11168,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":43361935,"answer_count":3,"score":11,"last_activity_date":1644997422,"creation_date":1491950713,"question_id":43357413,"body_markdown":"I am using javax.persistence.OneToMany relationship in a Parent Child relationship. The parent Id is coming as null, I have read through all the related post in Stackoverflow but not getting any clue what I am missing.\r\n**All the Corresponding PKs are getting populated in both Parent &amp; Child tables as per the Sequence Provided, but the FK is set to null in Child table**\r\n\r\n**Parent Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;DIVERSITY_TEMPLATE&quot;)\r\n    public class DiversityTemplate implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;DIVERSITY_TEMPLATE_ID&quot;, sequenceName = &quot;DIVERSITY_TEMPLATE_ID&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        @Column(name = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        private Integer diversityTemplateId;\r\n        \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;diversityTemplate&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\r\n\r\n**Child Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;DIVERSITY_TEMPLATE_ATTRIBUTE&quot;)\r\n    @TypeName(&quot;DiversityTemplateAttribute&quot;)\r\n    public class DiversityTemplateAttribute implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n      \r\n        @Id\r\n        @SequenceGenerator(name = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;, sequenceName = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;)\r\n        @Column(name = &quot;DIVERSITY_TEMPLATE_ATTR_ID&quot;)\r\n        private Integer diversityTemplateAttributeId;\r\n        \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;DIVERSITY_TEMPLATE_ID&quot;, nullable=false, referencedColumnName = &quot;DIVERSITY_TEMPLATE_ID&quot;)\r\n        private DiversityTemplate diversityTemplate;\r\n\r\n**Service Class:**\r\n\r\n     diversityTemplateRepository.save(diversityTemplate);\r\n\r\n\r\n**Sample json**\r\n\r\n\r\n    {\r\n      &quot;diversityTemplateId&quot;: 0,\r\n      &quot;attributes&quot;: [{\r\n        &quot;diversityTemplateId&quot;: 0,\r\n        &quot;diversityTemplateAttributeId&quot;: 0,\r\n      }, {\r\n        &quot;diversityTemplateId&quot;: 0,\r\n        &quot;diversityTemplateAttributeId&quot;: 0,\r\n      }]\r\n    }\r\n\r\n\r\nPlease suggest.\r\n","title":"Parent Id null in @OneToMany mapping JPA","body":"<p>I am using javax.persistence.OneToMany relationship in a Parent Child relationship. The parent Id is coming as null, I have read through all the related post in Stackoverflow but not getting any clue what I am missing.\n<strong>All the Corresponding PKs are getting populated in both Parent &amp; Child tables as per the Sequence Provided, but the FK is set to null in Child table</strong></p>\n\n<p><strong>Parent Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"DIVERSITY_TEMPLATE\")\npublic class DiversityTemplate implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @SequenceGenerator(name = \"DIVERSITY_TEMPLATE_ID\", sequenceName = \"DIVERSITY_TEMPLATE_ID\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"DIVERSITY_TEMPLATE_ID\")\n    @Column(name = \"DIVERSITY_TEMPLATE_ID\")\n    private Integer diversityTemplateId;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"diversityTemplate\", fetch = FetchType.LAZY)\n    private List&lt;DiversityTemplateAttribute&gt; attributes = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p><strong>Child Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"DIVERSITY_TEMPLATE_ATTRIBUTE\")\n@TypeName(\"DiversityTemplateAttribute\")\npublic class DiversityTemplateAttribute implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @SequenceGenerator(name = \"DIVERSITY_TEMPLATE_ATTR_ID\", sequenceName = \"DIVERSITY_TEMPLATE_ATTR_ID\", allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"DIVERSITY_TEMPLATE_ATTR_ID\")\n    @Column(name = \"DIVERSITY_TEMPLATE_ATTR_ID\")\n    private Integer diversityTemplateAttributeId;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"DIVERSITY_TEMPLATE_ID\", nullable=false, referencedColumnName = \"DIVERSITY_TEMPLATE_ID\")\n    private DiversityTemplate diversityTemplate;\n</code></pre>\n\n<p><strong>Service Class:</strong></p>\n\n<pre><code> diversityTemplateRepository.save(diversityTemplate);\n</code></pre>\n\n<p><strong>Sample json</strong></p>\n\n<pre><code>{\n  \"diversityTemplateId\": 0,\n  \"attributes\": [{\n    \"diversityTemplateId\": 0,\n    \"diversityTemplateAttributeId\": 0,\n  }, {\n    \"diversityTemplateId\": 0,\n    \"diversityTemplateAttributeId\": 0,\n  }]\n}\n</code></pre>\n\n<p>Please suggest.</p>\n"},{"tags":["java","binary-tree","binary-search-tree","remove-if"],"answers":[{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644994919,"creation_date":1644994546,"answer_id":71137476,"question_id":71136983,"body_markdown":"You are probably calling `tree.remove(r)` in your code which does not return anything and does not change `tree` but only its childs or its value. A way to fix this is to change\r\n\r\n    public TreeNode&lt;T&gt; remove(T r)\r\n      {\r\n        return remove(root, r);\r\n      }\r\n\r\nand use\r\n\r\n    tree = tree.remove(r)\r\n\r\nin your code. To see what is happening in your code: I suppose you have a constructor `TreeNode(parent,left,right,value)` so:\r\n\r\n    TreeNode&lt;Integer&gt; tree = new TreeNode(null,null,null,100);\r\n    tree.remove(100);\r\n    #remove(100) is called\r\n    #remove(root,100) is called\r\n    #remove(root,100) returns null after if(tree.getLeft() == null &amp;&amp; tree.getRight() == null) without changing anything\r\n    #remove(100) returns","title":"Remove method for Binary Search Tree","body":"<p>You are probably calling <code>tree.remove(r)</code> in your code which does not return anything and does not change <code>tree</code> but only its childs or its value. A way to fix this is to change</p>\n<pre><code>public TreeNode&lt;T&gt; remove(T r)\n  {\n    return remove(root, r);\n  }\n</code></pre>\n<p>and use</p>\n<pre><code>tree = tree.remove(r)\n</code></pre>\n<p>in your code. To see what is happening in your code: I suppose you have a constructor <code>TreeNode(parent,left,right,value)</code> so:</p>\n<pre><code>TreeNode&lt;Integer&gt; tree = new TreeNode(null,null,null,100);\ntree.remove(100);\n#remove(100) is called\n#remove(root,100) is called\n#remove(root,100) returns null after if(tree.getLeft() == null &amp;&amp; tree.getRight() == null) without changing anything\n#remove(100) returns\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644997268,"creation_date":1644997268,"answer_id":71137930,"question_id":71136983,"body_markdown":"The root must also be updated, should the root node be deleted.\r\n\r\n    public void remove(T r) {\r\n        root = remove(root, r);\r\n    }","title":"Remove method for Binary Search Tree","body":"<p>The root must also be updated, should the root node be deleted.</p>\n<pre><code>public void remove(T r) {\n    root = remove(root, r);\n}\n</code></pre>\n"}],"owner":{"account_id":21055186,"reputation":21,"user_id":15474630,"display_name":"george1029"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644997268,"creation_date":1644990778,"question_id":71136983,"body_markdown":"I am working on a lab that requires me to create a remove method for a binary search tree. Here is my code for my remove method.\r\n\r\n    public void remove(T r)\r\n      {\r\n        remove(root, r);\r\n      }\r\n    \r\n      private TreeNode &lt;T&gt; remove(TreeNode &lt;T&gt; tree, T r)\r\n      {\r\n        if(tree == null)\r\n        return tree;\r\n        if(r.compareTo(tree.getValue())&lt;0)  // my num is smaller\r\n            tree.setLeft(remove(tree.getLeft(), r));\r\n        else if (r.compareTo(tree.getValue())&gt;0)  // my num is larger\r\n            tree.setRight(remove(tree.getRight(), r));\r\n        else  // this is my number\r\n        {\r\n          if(tree.getLeft() == null &amp;&amp; tree.getRight() == null)\r\n          return null;\r\n          else if(tree.getLeft() == null)\r\n          return tree.getRight();\r\n          else if (tree.getRight() == null)\r\n          return tree.getLeft();\r\n        else\r\n        {\r\n          T min = getSmallest(tree.getRight());\r\n          tree.setValue(min);\r\n          //System.out.println(&quot;2 + &quot; + toString(tree));\r\n          tree.setRight(remove(tree.getRight(), min));\r\n        }\r\n      }\r\n      return tree;\r\n      }\r\n\r\nThe output I get when I run the code is:\r\n\r\nTree after removing 90.\r\n 70  80  85  98  100  120 \r\n\r\nTree after removing 70.\r\n 80  85  98  100  120 \r\n\r\nTree after removing 85.\r\n 80  98  100  120 \r\n\r\nTree after removing 98.\r\n 80  100  120 \r\n\r\nTree after removing 80.\r\n 100  120 \r\n\r\nTree after removing 120.\r\n 100 \r\n\r\nTree after removing 100.\r\n 100 \r\n\r\nI am not sure why it does not work only when there is only one node left in the binary tree. Any help is appreciated.","title":"Remove method for Binary Search Tree","body":"<p>I am working on a lab that requires me to create a remove method for a binary search tree. Here is my code for my remove method.</p>\n<pre><code>public void remove(T r)\n  {\n    remove(root, r);\n  }\n\n  private TreeNode &lt;T&gt; remove(TreeNode &lt;T&gt; tree, T r)\n  {\n    if(tree == null)\n    return tree;\n    if(r.compareTo(tree.getValue())&lt;0)  // my num is smaller\n        tree.setLeft(remove(tree.getLeft(), r));\n    else if (r.compareTo(tree.getValue())&gt;0)  // my num is larger\n        tree.setRight(remove(tree.getRight(), r));\n    else  // this is my number\n    {\n      if(tree.getLeft() == null &amp;&amp; tree.getRight() == null)\n      return null;\n      else if(tree.getLeft() == null)\n      return tree.getRight();\n      else if (tree.getRight() == null)\n      return tree.getLeft();\n    else\n    {\n      T min = getSmallest(tree.getRight());\n      tree.setValue(min);\n      //System.out.println(&quot;2 + &quot; + toString(tree));\n      tree.setRight(remove(tree.getRight(), min));\n    }\n  }\n  return tree;\n  }\n</code></pre>\n<p>The output I get when I run the code is:</p>\n<p>Tree after removing 90.\n70  80  85  98  100  120</p>\n<p>Tree after removing 70.\n80  85  98  100  120</p>\n<p>Tree after removing 85.\n80  98  100  120</p>\n<p>Tree after removing 98.\n80  100  120</p>\n<p>Tree after removing 80.\n100  120</p>\n<p>Tree after removing 120.\n100</p>\n<p>Tree after removing 100.\n100</p>\n<p>I am not sure why it does not work only when there is only one node left in the binary tree. Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626070334,"post_id":68334909,"comment_id":120784495,"body_markdown":"use `addRedirectViewController` instead of `addViewController`.","body":"use <code>addRedirectViewController</code> instead of <code>addViewController</code>."},{"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"score":0,"creation_date":1626085382,"post_id":68334909,"comment_id":120789831,"body_markdown":"@M.Deinum No, it&#39;s not working.","body":"@M.Deinum No, it&#39;s not working."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626086324,"post_id":68334909,"comment_id":120790142,"body_markdown":"Then you haven&#39;t done as adviced or have disabled stuff that you aren&#39;t showing.","body":"Then you haven&#39;t done as adviced or have disabled stuff that you aren&#39;t showing."},{"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"score":0,"creation_date":1626095003,"post_id":68334909,"comment_id":120793598,"body_markdown":"I didn&#39;t understand by &quot;haven&#39;t done as advised&quot;. For disable stuff, may be but for me I only disable Data source auto config. Also why other than / is working?","body":"I didn&#39;t understand by &quot;haven&#39;t done as advised&quot;. For disable stuff, may be but for me I only disable Data source auto config. Also why other than / is working?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1626095113,"post_id":68334909,"comment_id":120793662,"body_markdown":"Again that should just work if it didn&#39;t you either didn&#39;t do it correctly (we don&#39;t know as you don&#39;t show) or you disabled parts of Spring (Boot) by trying too much yourself (again we don&#39;t know as you don&#39;t show). I also wonder what exactly isn&#39;t working... As you are using a JSP there are certain limitations and things you have to take into account when using Spring Boot (especially with embedded containers).","body":"Again that should just work if it didn&#39;t you either didn&#39;t do it correctly (we don&#39;t know as you don&#39;t show) or you disabled parts of Spring (Boot) by trying too much yourself (again we don&#39;t know as you don&#39;t show). I also wonder what exactly isn&#39;t working... As you are using a JSP there are certain limitations and things you have to take into account when using Spring Boot (especially with embedded containers)."}],"answers":[{"tags":[],"owner":{"account_id":22187935,"reputation":161,"user_id":16430556,"display_name":"manish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626083214,"creation_date":1626083214,"answer_id":68345217,"question_id":68334909,"body_markdown":"you can use addRedirectViewController\r\n","title":"Mapping to app root &quot;/&quot; is failing, but other than that is working","body":"<p>you can use addRedirectViewController</p>\n"},{"tags":[],"owner":{"account_id":22191049,"reputation":71,"user_id":16433233,"display_name":"S Badal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626111164,"creation_date":1626111164,"answer_id":68351669,"question_id":68334909,"body_markdown":"    @Configuration\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;, &quot;redirect:/main&quot;);\r\n        }\r\n    }","title":"Mapping to app root &quot;/&quot; is failing, but other than that is working","body":"<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n@Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n    registry.addRedirectViewController(&quot;/&quot;, &quot;redirect:/main&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626359232,"creation_date":1626359232,"answer_id":68395716,"question_id":68334909,"body_markdown":"After trying many things, finally got the solution. I need to `setOrder()` to highest precedence to work. But I still don&#39;t know why I need to do this for this specific case. Below is the code:\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;redirect:/main&quot;);\r\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n    }","title":"Mapping to app root &quot;/&quot; is failing, but other than that is working","body":"<p>After trying many things, finally got the solution. I need to <code>setOrder()</code> to highest precedence to work. But I still don't know why I need to do this for this specific case. Below is the code:</p>\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(&quot;/&quot;).setViewName(&quot;redirect:/main&quot;);\n    registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24273209,"reputation":1,"user_id":18220911,"display_name":"Vik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644997192,"creation_date":1644997192,"answer_id":71137915,"question_id":68334909,"body_markdown":"When using addRedirectViewController() one have to set url name properly:\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;, &quot;/yourURL&quot;);\r\n    }\r\n\r\n- but NOT &quot;redirect:/yourURL&quot;","title":"Mapping to app root &quot;/&quot; is failing, but other than that is working","body":"<p>When using addRedirectViewController() one have to set url name properly:</p>\n<pre><code>@Override\npublic void addViewControllers(ViewControllerRegistry registry) {\n    registry.addRedirectViewController(&quot;/&quot;, &quot;/yourURL&quot;);\n}\n</code></pre>\n<ul>\n<li>but NOT &quot;redirect:/yourURL&quot;</li>\n</ul>\n"}],"owner":{"account_id":15343705,"reputation":29,"user_id":11069868,"display_name":"Rohit Raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1644997192,"creation_date":1625995416,"question_id":68334909,"body_markdown":"I&#39;m using Spring Boot 2.5.2. I configured all things (not security, it is auto configured and need to convert all configuration from XML to Java. Authentication is working via LDAP) and working correctly **except** one thing i.e. mapping to `/` -&gt; `redirect:/main`.\r\n\r\n**Note:** This is a migration from Spring to Spring Boot with `.jsp` as view.\r\n\r\nBelow is the mapping in XML:\r\n\r\n    &lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;redirect:/main&quot; /&gt;\r\n\r\nAbove is working correctly in Spring but when converted to Spring Boot using Java code as below then **this specific case** is not working:\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;redirect:/main&quot;);\r\n        }\r\n    }\r\n\r\n**Note:** If I set `addViewController` something else like `/documentation` then it is redirecting successfully but not with `/`.","title":"Mapping to app root &quot;/&quot; is failing, but other than that is working","body":"<p>I'm using Spring Boot 2.5.2. I configured all things (not security, it is auto configured and need to convert all configuration from XML to Java. Authentication is working via LDAP) and working correctly <strong>except</strong> one thing i.e. mapping to <code>/</code> -&gt; <code>redirect:/main</code>.</p>\n<p><strong>Note:</strong> This is a migration from Spring to Spring Boot with <code>.jsp</code> as view.</p>\n<p>Below is the mapping in XML:</p>\n<pre><code>&lt;mvc:view-controller path=&quot;/&quot; view-name=&quot;redirect:/main&quot; /&gt;\n</code></pre>\n<p>Above is working correctly in Spring but when converted to Spring Boot using Java code as below then <strong>this specific case</strong> is not working:</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;redirect:/main&quot;);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> If I set <code>addViewController</code> something else like <code>/documentation</code> then it is redirecting successfully but not with <code>/</code>.</p>\n"},{"tags":["java","wicket","wicket-8"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644995495,"creation_date":1644995495,"answer_id":71137624,"question_id":71137485,"body_markdown":"There is no such functionality in current Wicket (9.8.0).\r\n\r\nI&#39;d also be hesitant to implement something like `WicketMessageResolver`!\r\nBut it would be quite simple to implement with non-auto component (auto-components are all created from markup - `&lt;wicket:xyz&gt;`), i.e. with a custom `Panel` that has two `Label`s which models use `Localizer.get()` to get the localized values.","title":"Select specific localization of Wicket message in HTML","body":"<p>There is no such functionality in current Wicket (9.8.0).</p>\n<p>I'd also be hesitant to implement something like <code>WicketMessageResolver</code>!\nBut it would be quite simple to implement with non-auto component (auto-components are all created from markup - <code>&lt;wicket:xyz&gt;</code>), i.e. with a custom <code>Panel</code> that has two <code>Label</code>s which models use <code>Localizer.get()</code> to get the localized values.</p>\n"}],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71137624,"answer_count":1,"score":0,"last_activity_date":1644997188,"creation_date":1644994595,"question_id":71137485,"body_markdown":"*Is it possible to force the language of a Wicket message in HTML?*\r\n\r\nI have a few wicket pages and generic components that are used both when the user&#39;s locale is known and when it is not known. When the locale is not known, I am required to show messages in two official languages (english and german in this example). For now I have made language specific pages for the two languages and a default page for the &quot;unknown&quot; case:\r\n\r\n    MyComponent.html\r\n    MyComponent_en.hmtl\r\n    MyComponent_de.html\r\n\r\nThe &quot;unknown&quot; page (MyComponent.html) contains message-elements for both languages. At the moment, one of the laguages is the default one and for the common components I have had to duplicate the messages in other languages by appending the language code to the message key:\r\n\r\nMyComponent.html:\r\n\r\n    &lt;span lang=&quot;en&quot;&gt;&lt;wicket:message key=&quot;myMessageKey&quot;/&gt;&lt;/span&gt;\r\n    &lt;span lang=&quot;de&quot;&gt;&lt;wicket:message key=&quot;myMessageKey.de&quot;/&gt;&lt;/span&gt;\r\n\r\nwicket_package.properties:\r\n\r\n    myMessageKey=My hovercraft is full of eels\r\n    myMessageKey.de=Mein Luftkissenfahrzeug ist voller Aale\r\n\r\nwicket_package_de.properties:\r\n\r\n    myMessageKey=Mein Luftkissenfahrzeug ist voller Aale\r\n\r\n**Clearly this duplication of localizations is insanity.** Is there a way where I could force the language of the wicket:message in the HTML and save myself from duplicating the localizations? What I am looking for is something like &lt;wicket:message key=&quot;myMessageKey&quot; lang=&quot;de&quot;/&gt; or anything similar.\r\n\r\nOne option seems to be making my own `WicketMessageResolver` but I&#39;d rather not do that work if I can avoid it.","title":"Select specific localization of Wicket message in HTML","body":"<p><em>Is it possible to force the language of a Wicket message in HTML?</em></p>\n<p>I have a few wicket pages and generic components that are used both when the user's locale is known and when it is not known. When the locale is not known, I am required to show messages in two official languages (english and german in this example). For now I have made language specific pages for the two languages and a default page for the &quot;unknown&quot; case:</p>\n<pre><code>MyComponent.html\nMyComponent_en.hmtl\nMyComponent_de.html\n</code></pre>\n<p>The &quot;unknown&quot; page (MyComponent.html) contains message-elements for both languages. At the moment, one of the laguages is the default one and for the common components I have had to duplicate the messages in other languages by appending the language code to the message key:</p>\n<p>MyComponent.html:</p>\n<pre><code>&lt;span lang=&quot;en&quot;&gt;&lt;wicket:message key=&quot;myMessageKey&quot;/&gt;&lt;/span&gt;\n&lt;span lang=&quot;de&quot;&gt;&lt;wicket:message key=&quot;myMessageKey.de&quot;/&gt;&lt;/span&gt;\n</code></pre>\n<p>wicket_package.properties:</p>\n<pre><code>myMessageKey=My hovercraft is full of eels\nmyMessageKey.de=Mein Luftkissenfahrzeug ist voller Aale\n</code></pre>\n<p>wicket_package_de.properties:</p>\n<pre><code>myMessageKey=Mein Luftkissenfahrzeug ist voller Aale\n</code></pre>\n<p><strong>Clearly this duplication of localizations is insanity.</strong> Is there a way where I could force the language of the wicket:message in the HTML and save myself from duplicating the localizations? What I am looking for is something like &lt;wicket:message key=&quot;myMessageKey&quot; lang=&quot;de&quot;/&gt; or anything similar.</p>\n<p>One option seems to be making my own <code>WicketMessageResolver</code> but I'd rather not do that work if I can avoid it.</p>\n"},{"tags":["java","selenium","testing","automation"],"comments":[{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1644998239,"post_id":71137851,"comment_id":125750656,"body_markdown":"This might be of help [SO Link](https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium). You may alternately use `move to element`","body":"This might be of help <a href=\"https://stackoverflow.com/questions/3401343/scroll-element-into-view-with-selenium\">SO Link</a>. You may alternately use <code>move to element</code>"},{"owner":{"account_id":24273114,"reputation":11,"user_id":18220828,"display_name":"EdoTest"},"score":0,"creation_date":1645000047,"post_id":71137851,"comment_id":125751232,"body_markdown":"The thing is that when I scroll to the element, it will trigger new elements to load as they are in view which will then scroll the element out of the view and I am unable to click it any longer, i would need a double or even a triple validation for this, is there any other way around?","body":"The thing is that when I scroll to the element, it will trigger new elements to load as they are in view which will then scroll the element out of the view and I am unable to click it any longer, i would need a double or even a triple validation for this, is there any other way around?"},{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1645000839,"post_id":71137851,"comment_id":125751464,"body_markdown":"Is it possible for you to share the website link here?","body":"Is it possible for you to share the website link here?"},{"owner":{"account_id":23786211,"reputation":2038,"user_id":17798239,"display_name":"Anand Gautam"},"score":0,"creation_date":1645005385,"post_id":71137851,"comment_id":125753165,"body_markdown":"I don&#39;t see this id `&quot;testId` in the DOM. What is the element you are looking for?","body":"I don&#39;t see this id <code>&quot;testId</code> in the DOM. What is the element you are looking for?"}],"owner":{"account_id":24273114,"reputation":11,"user_id":18220828,"display_name":"EdoTest"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644996799,"creation_date":1644996799,"question_id":71137851,"body_markdown":"I am having a problem testing a website on which most elements are loading as you go in your view. Basically whenever i scroll to an element by ID and i attemt to click it it has already moved or my view got scrolled up or down. How can I easily make this bulletproof?\r\n\r\nThis only occurs on chromedriver, on geckodriver there is no problem with loading.\r\n\r\nUsed code:\r\n```\r\n\t\tWebElement scrollTest = driver.findElement(By.id(&quot;testId&quot;));\r\n\t\t((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, scrollTest);\r\n```\r\n\r\n","title":"Selenium - scrolling to an element which is bouncing straight away","body":"<p>I am having a problem testing a website on which most elements are loading as you go in your view. Basically whenever i scroll to an element by ID and i attemt to click it it has already moved or my view got scrolled up or down. How can I easily make this bulletproof?</p>\n<p>This only occurs on chromedriver, on geckodriver there is no problem with loading.</p>\n<p>Used code:</p>\n<pre><code>        WebElement scrollTest = driver.findElement(By.id(&quot;testId&quot;));\n        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, scrollTest);\n</code></pre>\n"},{"tags":["java","android","illegalstateexception","viewgroup"],"comments":[{"owner":{"account_id":2988550,"reputation":1018,"user_id":6259805,"display_name":"hardik24"},"score":0,"creation_date":1670102059,"post_id":71049331,"comment_id":131796538,"body_markdown":"Did you find the solution for same? I am also facing the same issue.","body":"Did you find the solution for same? I am also facing the same issue."},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1670146038,"post_id":71049331,"comment_id":131801847,"body_markdown":"@hardik24 no i didn&#39;t find the solution","body":"@hardik24 no i didn&#39;t find the solution"}],"answers":[{"tags":[],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644996750,"creation_date":1644996750,"answer_id":71137843,"question_id":71049331,"body_markdown":"did you debug **ViewGroup.java** ? putting debugger point in line 9606 ? \r\nWould be better if you can post from what you are doing likewise. so the others can get some insight about giving you an answer! thanks","title":"Got error IllegalStateException: already recycled once at ViewGroup.java class?","body":"<p>did you debug <strong>ViewGroup.java</strong> ? putting debugger point in line 9606 ?\nWould be better if you can post from what you are doing likewise. so the others can get some insight about giving you an answer! thanks</p>\n"}],"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644996750,"creation_date":1644408499,"question_id":71049331,"body_markdown":"Why IllegalStateException occur? (already recycled once)\r\nThis exception is coming from ViewGroup.java class and is unable to resolve that error.\r\nAnd this crash did not occur in my device but the In users phone app crashes with a given exception.\r\n\r\n&gt; ViewGroup.java line 9606\r\n&gt; \r\n&gt; Fatal Exception: java.lang.IllegalStateException: already recycled\r\n&gt; once\r\n&gt;        at android.view.ViewGroup$TouchTarget.recycle(ViewGroup.java:9606)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3561)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\r\n&gt;        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\r\n&gt;        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:730)\r\n&gt;        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1922)\r\n&gt;        at android.app.Dialog.dispatchTouchEvent(Dialog.java:1008)\r\n&gt;        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:2)\r\n&gt;        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:688)\r\n&gt;        at android.view.View.dispatchPointerEvent(View.java:14644)\r\n&gt;        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6519)\r\n&gt;        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6306)\r\n&gt;        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\r\n&gt;        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5797)\r\n&gt;        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5763)\r\n&gt;        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5919)\r\n&gt;        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5771)\r\n&gt;        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5976)\r\n&gt;        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\r\n&gt;        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5797)\r\n&gt;        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5763)\r\n&gt;        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5771)\r\n&gt;        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\r\n&gt;        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8903)\r\n&gt;        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8764)\r\n&gt;        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8717)\r\n&gt;        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9039)\r\n&gt;        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\r\n&gt;        at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(InputEventReceiver.java)\r\n&gt;        at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:183)\r\n&gt;        at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:8979)\r\n&gt;        at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:9066)\r\n&gt;        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:996)\r\n&gt;        at android.view.Choreographer.doCallbacks(Choreographer.java:794)\r\n&gt;        at android.view.Choreographer.doFrame(Choreographer.java:722)\r\n&gt;        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:981)\r\n&gt;        at android.os.Handler.handleCallback(Handler.java:883)\r\n&gt;        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n&gt;        at android.os.Looper.loop(Looper.java:237)\r\n&gt;        at android.app.ActivityThread.main(ActivityThread.java:7860)\r\n&gt;        at java.lang.reflect.Method.invoke(Method.java)\r\n&gt;        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n&gt;        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1075)\r\n\r\n","title":"Got error IllegalStateException: already recycled once at ViewGroup.java class?","body":"<p>Why IllegalStateException occur? (already recycled once)\nThis exception is coming from ViewGroup.java class and is unable to resolve that error.\nAnd this crash did not occur in my device but the In users phone app crashes with a given exception.</p>\n<blockquote>\n<p>ViewGroup.java line 9606</p>\n<p>Fatal Exception: java.lang.IllegalStateException: already recycled\nonce\nat android.view.ViewGroup$TouchTarget.recycle(ViewGroup.java:9606)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3561)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3863)\nat android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:3551)\nat com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:730)\nat com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1922)\nat android.app.Dialog.dispatchTouchEvent(Dialog.java:1008)\nat androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:2)\nat com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:688)\nat android.view.View.dispatchPointerEvent(View.java:14644)\nat android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6519)\nat android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6306)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5797)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5763)\nat android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5919)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5771)\nat android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5976)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\nat android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5797)\nat android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5763)\nat android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5771)\nat android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5744)\nat android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8903)\nat android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8764)\nat android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8717)\nat android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:9039)\nat android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:194)\nat android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(InputEventReceiver.java)\nat android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:183)\nat android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:8979)\nat android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:9066)\nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:996)\nat android.view.Choreographer.doCallbacks(Choreographer.java:794)\nat android.view.Choreographer.doFrame(Choreographer.java:722)\nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:981)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:237)\nat android.app.ActivityThread.main(ActivityThread.java:7860)\nat java.lang.reflect.Method.invoke(Method.java)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1075)</p>\n</blockquote>\n"},{"tags":["java","spring","proguard","obfuscation"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1644989100,"post_id":71136460,"comment_id":125748483,"body_markdown":"Where are you publishing the compiled code that this is relevant?","body":"Where are you publishing the compiled code that this is relevant?"},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1644989780,"post_id":71136460,"comment_id":125748604,"body_markdown":"The point is, I need to provide some organization with my code for demo usage.\nAnd they&#39;ll have all the artifacts. So, I wan&#39;t to secure it somehow. To not let them just decompile and use it in future.","body":"The point is, I need to provide some organization with my code for demo usage. And they&#39;ll have all the artifacts. So, I wan&#39;t to secure it somehow. To not let them just decompile and use it in future."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1644990193,"post_id":71136460,"comment_id":125748683,"body_markdown":"...*want to secure....","body":"...*want to secure...."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1645004750,"post_id":71136460,"comment_id":125752888,"body_markdown":"There used to be a gcc gcj technology to transform bytecode to binaries, but its not supported anymore.","body":"There used to be a gcc gcj technology to transform bytecode to binaries, but its not supported anymore."},{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":0,"creation_date":1645016837,"post_id":71136460,"comment_id":125757702,"body_markdown":"I will not completely blame proGuard, I have obfuscate spring boot application with proguard and maven, and learned few things, I agree spring uses reflection but as long as you are using qualifier and explicit bean names  it will work like a charm, serialization is still a concern but just think what do you lose if you don&#39;t obfuscate all DTOs because DTO contains nothing which you need to protect","body":"I will not completely blame proGuard, I have obfuscate spring boot application with proguard and maven, and learned few things, I agree spring uses reflection but as long as you are using qualifier and explicit bean names  it will work like a charm, serialization is still a concern but just think what do you lose if you don&#39;t obfuscate all DTOs because DTO contains nothing which you need to protect"}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644996339,"creation_date":1644996339,"answer_id":71137763,"question_id":71136460,"body_markdown":"One good possibility is too use [ProGuard][1], it&#39;s is an open source most popular optimizer and obfuscator for Java byte code, quit simple to configure it, Create a file named “proguard.cfg” at the root level as your pom is located and add htis two plugin to you pom plugins.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;       \r\n    &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;       \r\n    &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;       &lt;version&gt;2.3.1&lt;/version&gt;       \r\n    &lt;executions&gt;          \r\n    &lt;execution&gt;             \r\n    &lt;phase&gt;package&lt;/phase&gt;             \r\n    &lt;goals&gt;                \r\n    &lt;goal&gt;proguard&lt;/goal&gt;             \r\n    &lt;/goals&gt;          \r\n    &lt;/execution&gt;       \r\n    &lt;/executions&gt;       \r\n    &lt;configuration&gt;          \r\n    &lt;proguardVersion&gt;6.0.3&lt;/proguardVersion&gt;          &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;          &lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;          &lt;obfuscate&gt;true&lt;/obfuscate&gt;          &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;          &lt;libs&gt;             \r\n    &lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;             &lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;             &lt;lib&gt;${java.home}/lib/jsse.jar&lt;/lib&gt;          \r\n    &lt;/libs&gt;       \r\n    &lt;/configuration&gt;       \r\n    &lt;dependencies&gt;          \r\n    &lt;dependency&gt;             \r\n    &lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;             \r\n    &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;             &lt;version&gt;6.0.3&lt;/version&gt;          \r\n    &lt;/dependency&gt;       \r\n    &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;    \r\n    &lt;plugin&gt;       \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;       \r\n    &lt;executions&gt;          \r\n    &lt;execution&gt;             \r\n    &lt;goals&gt;                \r\n    &lt;goal&gt;repackage&lt;/goal&gt;             \r\n    &lt;/goals&gt;             \r\n    &lt;configuration&gt;                &lt;mainClass&gt;com.jayk.springboot.proguard.obfuscationdemo.ObfuscationDemoApplication&lt;/mainClass&gt;             \r\n    &lt;/configuration&gt;          \r\n    &lt;/execution&gt;       \r\n    &lt;/executions&gt;    \r\n    &lt;/plugin&gt; \r\n    &lt;/plugins&gt;\r\n\r\nthen add below configuration in your proguard.cfg \r\n\r\n\r\n    -target 1.8 ##Specify the java version number\r\n    -dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\r\n    -dontoptimize ##Default is enabled, here to turn off bytecode level optimization\r\n    -useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\r\n    -adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName(&#39;className&#39;)\r\n    -dontnote\r\n    -ignorewarnings ## warnings are ignored\r\n    -dontwarn\r\n    -keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\r\n    -keepdirectories ## Keep the package structure\r\n    -keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\r\n    -keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\r\n    -keepclassmembers class * {\r\n         @org.springframework.beans.factory.annotation.Autowired *;\r\n         @org.springframework.beans.factory.annotation.Qualifier *;\r\n         @org.springframework.beans.factory.annotation.Value *;\r\n         @org.springframework.beans.factory.annotation.Required *;\r\n         @org.springframework.context.annotation.Bean *;\r\n         @org.springframework.context.annotation.Primary *;\r\n         @org.springframework.boot.context.properties.ConfigurationProperties *;\r\n         @org.springframework.boot.context.properties.EnableConfigurationProperties *;\r\n         @javax.inject.Inject *;\r\n         @javax.annotation.PostConstruct *;\r\n         @javax.annotation.PreDestroy *;\r\n    }\r\n    -keep @org.springframework.cache.annotation.EnableCaching class *\r\n    -keep @org.springframework.context.annotation.Configuration class *\r\n    -keep @org.springframework.boot.context.properties.ConfigurationProperties class *\r\n    -keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\r\n    -allowaccessmodification\r\n    -keepattributes *Annotation*\r\n    -keepdirectories com.jayk.springboot.proguard.obfuscationdemo\r\n    -keepdirectories org.springframework.boot.autoconfigure\r\n    ## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\r\n    -keepclassmembers class * {\r\n        *** get*();\r\n        void set*(***);\r\n    }\r\n    -keepclassmembernames class * {\r\n         java.lang.Class class$(java.lang.String);\r\n         java.lang.Class class$(java.lang.String, boolean);\r\n    }\r\n    -keepclassmembers enum * {\r\n         public static **[] values();\r\n         public static ** valueOf(java.lang.String);\r\n         public static ** fromValue(java.lang.String);\r\n    }\r\n    -keepnames class * implements java.io.Serializable\r\n    -keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\r\n    -keepclassmembers class * implements java.io.Serializable {\r\n         static final long serialVersionUID;\r\n         private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n         !static !transient &lt;fields&gt;;\r\n         !private &lt;fields&gt;;\r\n         !private &lt;methods&gt;;\r\n         private void writeObject(java.io.ObjectOutputStream);\r\n         private void readObject(java.io.ObjectInputStream);\r\n         java.lang.Object writeReplace();\r\n         java.lang.Object readResolve();\r\n    }\r\n    -keepclassmembers class * {\r\n         @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\r\n         @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\r\n         @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\r\n    }\r\n\r\nfind more example in [here][2] .\r\n\r\n\r\n  [1]: https://medium.com/@ijayakantha/obfuscate-spring-boot-2-applications-with-proguard-a8a76586b11f#:~:text=In%20software%20development%2C%20obfuscation%20is,hacker%20but%20remains%20fully%20functional.\r\n  [2]: https://github.com/devslm/proguard-spring-boot-example","title":"Obfuscation of Spring Boot modules","body":"<p>One good possibility is too use <a href=\"https://medium.com/@ijayakantha/obfuscate-spring-boot-2-applications-with-proguard-a8a76586b11f#:%7E:text=In%20software%20development%2C%20obfuscation%20is,hacker%20but%20remains%20fully%20functional.\" rel=\"nofollow noreferrer\">ProGuard</a>, it's is an open source most popular optimizer and obfuscator for Java byte code, quit simple to configure it, Create a file named “proguard.cfg” at the root level as your pom is located and add htis two plugin to you pom plugins.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \n&lt;plugins&gt;\n&lt;plugin&gt;       \n&lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;       \n&lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;       &lt;version&gt;2.3.1&lt;/version&gt;       \n&lt;executions&gt;          \n&lt;execution&gt;             \n&lt;phase&gt;package&lt;/phase&gt;             \n&lt;goals&gt;                \n&lt;goal&gt;proguard&lt;/goal&gt;             \n&lt;/goals&gt;          \n&lt;/execution&gt;       \n&lt;/executions&gt;       \n&lt;configuration&gt;          \n&lt;proguardVersion&gt;6.0.3&lt;/proguardVersion&gt;          &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;          &lt;outjar&gt;${project.build.finalName}.jar&lt;/outjar&gt;          &lt;obfuscate&gt;true&lt;/obfuscate&gt;          &lt;proguardInclude&gt;${project.basedir}/proguard.cfg&lt;/proguardInclude&gt;          &lt;libs&gt;             \n&lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt;             &lt;lib&gt;${java.home}/lib/jce.jar&lt;/lib&gt;             &lt;lib&gt;${java.home}/lib/jsse.jar&lt;/lib&gt;          \n&lt;/libs&gt;       \n&lt;/configuration&gt;       \n&lt;dependencies&gt;          \n&lt;dependency&gt;             \n&lt;groupId&gt;net.sf.proguard&lt;/groupId&gt;             \n&lt;artifactId&gt;proguard-base&lt;/artifactId&gt;             &lt;version&gt;6.0.3&lt;/version&gt;          \n&lt;/dependency&gt;       \n&lt;/dependencies&gt;\n&lt;/plugin&gt;    \n&lt;plugin&gt;       \n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;       &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;       \n&lt;executions&gt;          \n&lt;execution&gt;             \n&lt;goals&gt;                \n&lt;goal&gt;repackage&lt;/goal&gt;             \n&lt;/goals&gt;             \n&lt;configuration&gt;                &lt;mainClass&gt;com.jayk.springboot.proguard.obfuscationdemo.ObfuscationDemoApplication&lt;/mainClass&gt;             \n&lt;/configuration&gt;          \n&lt;/execution&gt;       \n&lt;/executions&gt;    \n&lt;/plugin&gt; \n&lt;/plugins&gt;\n</code></pre>\n<p>then add below configuration in your proguard.cfg</p>\n<pre><code>-target 1.8 ##Specify the java version number\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName('className')\n-dontnote\n-ignorewarnings ## warnings are ignored\n-dontwarn\n-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\n-keepdirectories ## Keep the package structure\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired *;\n     @org.springframework.beans.factory.annotation.Qualifier *;\n     @org.springframework.beans.factory.annotation.Value *;\n     @org.springframework.beans.factory.annotation.Required *;\n     @org.springframework.context.annotation.Bean *;\n     @org.springframework.context.annotation.Primary *;\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\n     @javax.inject.Inject *;\n     @javax.annotation.PostConstruct *;\n     @javax.annotation.PreDestroy *;\n}\n-keep @org.springframework.cache.annotation.EnableCaching class *\n-keep @org.springframework.context.annotation.Configuration class *\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\n-allowaccessmodification\n-keepattributes *Annotation*\n-keepdirectories com.jayk.springboot.proguard.obfuscationdemo\n-keepdirectories org.springframework.boot.autoconfigure\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\n-keepclassmembers class * {\n    *** get*();\n    void set*(***);\n}\n-keepclassmembernames class * {\n     java.lang.Class class$(java.lang.String);\n     java.lang.Class class$(java.lang.String, boolean);\n}\n-keepclassmembers enum * {\n     public static **[] values();\n     public static ** valueOf(java.lang.String);\n     public static ** fromValue(java.lang.String);\n}\n-keepnames class * implements java.io.Serializable\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\n-keepclassmembers class * implements java.io.Serializable {\n     static final long serialVersionUID;\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\n     !static !transient &lt;fields&gt;;\n     !private &lt;fields&gt;;\n     !private &lt;methods&gt;;\n     private void writeObject(java.io.ObjectOutputStream);\n     private void readObject(java.io.ObjectInputStream);\n     java.lang.Object writeReplace();\n     java.lang.Object readResolve();\n}\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\n}\n</code></pre>\n<p>find more example in <a href=\"https://github.com/devslm/proguard-spring-boot-example\" rel=\"nofollow noreferrer\">here</a> .</p>\n"}],"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3690,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1644996339,"creation_date":1644986179,"question_id":71136460,"body_markdown":"\r\nI wonder, is there a decent approach to obfuscate spring boot module&#39;s code?&lt;br&gt;\r\nTried to use Pro Guard, but faced with need of spring to keep some fields names to be untouched in runtime (DTO for (de)serialization,  DO entities for db columns linking, and so on).\r\n  ","title":"Obfuscation of Spring Boot modules","body":"<p>I wonder, is there a decent approach to obfuscate spring boot module's code?<br>\nTried to use Pro Guard, but faced with need of spring to keep some fields names to be untouched in runtime (DTO for (de)serialization,  DO entities for db columns linking, and so on).</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2866071,"reputation":6012,"user_id":2460378,"accept_rate":81,"display_name":"Thomas S."},"score":3,"creation_date":1644994202,"post_id":71137325,"comment_id":125749503,"body_markdown":"Please start naming your classes/methods correctly according to Java standards (aMethod, AClass) - it hurts the eyes.","body":"Please start naming your classes/methods correctly according to Java standards (aMethod, AClass) - it hurts the eyes."}],"answers":[{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644996044,"creation_date":1644996044,"answer_id":71137718,"question_id":71137325,"body_markdown":"Here is my take. Everthing is just in a single file.\r\n```java\r\npublic class MainActivity extends AppCompatActivity\r\n{\r\n\tprotected void onCreate(Bundle savedInstanceState)\r\n\t{\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(new TouchCircle(this));\r\n\t}\r\n}\r\n\r\nclass TouchCircle extends View\r\n{\r\n\tprivate Paint paint;\r\n\tprivate float pointerX, pointerY;\r\n\tprivate float lastPointerX, lastPointerY;\r\n\tprivate float distanceX, distanceY;\r\n\tprivate int pointerId, pointerIndex;\r\n\t\r\n\tpublic TouchCircle(Context context)\r\n\t{\r\n\t\tsuper(context);\r\n\t\tpaint = new Paint(Paint.ANTI_ALIAS_FLAG);\r\n\t\tpaint.setColor(Color.BLUE);\r\n\t}\r\n\t@Override\r\n\tprotected void onDraw(Canvas canvas)\r\n\t{\r\n\t\tsuper.onDraw(canvas);\r\n\t\tcanvas.drawColor(Color.DKGRAY);\r\n\t\tcanvas.drawCircle(pointerX, pointerY, 50F, paint);\r\n\t}\r\n\t//Note :: Single touch only.\r\n\t@Override\r\n\tpublic boolean onTouchEvent(MotionEvent event)\r\n\t{\t\r\n\t\tswitch(event.getActionMasked()) {\r\n\t\t\tcase MotionEvent.ACTION_DOWN:\r\n\t\t\t\tpointerId = event.getPointerId(0);\r\n\t\t\t\tlastPointerX = event.getX();\r\n\t\t\t\tlastPointerY = event.getY();\r\n\t\t\t\tinvalidate(); //This method will call onDraw().\r\n\t\t\t\treturn true;\r\n\t\t\tcase MotionEvent.ACTION_MOVE:\r\n\t\t\t\tpointerIndex = event.findPointerIndex(pointerId);\r\n\t\t\t\tpointerX = event.getX(pointerIndex);\r\n\t\t\t\tpointerY = event.getY(pointerIndex);\r\n\t\t\t\tdistanceX = pointerX - lastPointerX;\r\n\t\t\t\tdistanceY = pointerY - lastPointerY;\r\n\t\t\t\tinvalidate();\r\n\t\t\t\treturn true;\r\n\t\t\tcase MotionEvent.ACTION_POINTER_UP:\r\n\t\t\t\t//Set to the oldest touch pointer\r\n\t\t\t\tint pointerIndex = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\r\n\t\t\t\tfinal int pointerId = event.getPointerId(pointerIndex);\r\n\t\t\t\tif(pointerId == this.pointerId) {\r\n\t\t\t\t\tif(pointerIndex == 0) { pointerIndex++;\r\n\t\t\t\t\t} else { pointerIndex = 0; }\r\n\t\t\t\t\tthis.pointerId = event.getPointerId(pointerIndex);\r\n\t\t\t\t\tlastPointerX = event.getX(pointerIndex) - distanceX;\r\n\t\t\t\t\tlastPointerY = event.getY(pointerIndex) - distanceY;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\tcase MotionEvent.ACTION_UP:\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\treturn super.onTouchEvent(event);\r\n\t}\r\n}\r\n```","title":"Drawing on Android canvas","body":"<p>Here is my take. Everthing is just in a single file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity\n{\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(new TouchCircle(this));\n    }\n}\n\nclass TouchCircle extends View\n{\n    private Paint paint;\n    private float pointerX, pointerY;\n    private float lastPointerX, lastPointerY;\n    private float distanceX, distanceY;\n    private int pointerId, pointerIndex;\n    \n    public TouchCircle(Context context)\n    {\n        super(context);\n        paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n        paint.setColor(Color.BLUE);\n    }\n    @Override\n    protected void onDraw(Canvas canvas)\n    {\n        super.onDraw(canvas);\n        canvas.drawColor(Color.DKGRAY);\n        canvas.drawCircle(pointerX, pointerY, 50F, paint);\n    }\n    //Note :: Single touch only.\n    @Override\n    public boolean onTouchEvent(MotionEvent event)\n    {   \n        switch(event.getActionMasked()) {\n            case MotionEvent.ACTION_DOWN:\n                pointerId = event.getPointerId(0);\n                lastPointerX = event.getX();\n                lastPointerY = event.getY();\n                invalidate(); //This method will call onDraw().\n                return true;\n            case MotionEvent.ACTION_MOVE:\n                pointerIndex = event.findPointerIndex(pointerId);\n                pointerX = event.getX(pointerIndex);\n                pointerY = event.getY(pointerIndex);\n                distanceX = pointerX - lastPointerX;\n                distanceY = pointerY - lastPointerY;\n                invalidate();\n                return true;\n            case MotionEvent.ACTION_POINTER_UP:\n                //Set to the oldest touch pointer\n                int pointerIndex = (event.getAction() &amp; MotionEvent.ACTION_POINTER_INDEX_MASK) &gt;&gt; MotionEvent.ACTION_POINTER_INDEX_SHIFT;\n                final int pointerId = event.getPointerId(pointerIndex);\n                if(pointerId == this.pointerId) {\n                    if(pointerIndex == 0) { pointerIndex++;\n                    } else { pointerIndex = 0; }\n                    this.pointerId = event.getPointerId(pointerIndex);\n                    lastPointerX = event.getX(pointerIndex) - distanceX;\n                    lastPointerY = event.getY(pointerIndex) - distanceY;\n                }\n                return true;\n            case MotionEvent.ACTION_UP:\n                return true;\n        }\n        return super.onTouchEvent(event);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24272419,"reputation":1,"user_id":18220239,"display_name":"Nguyễn T&#250;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644996044,"creation_date":1644993409,"question_id":71137325,"body_markdown":"I want to write a function drawCircle with 2 parameters x,y position. Whenever i touch on the screen, i will get x,y position and pass to the drawCircle function and draw a circle on the screen.\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private canvasview cv1;\r\n    private double tx,ty;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        cv1=new canvasview(this);\r\n\r\n        setContentView(cv1);\r\n        eventtouch();\r\n    }\r\n\r\n    public double gettx()\r\n    {\r\n        return tx;\r\n    }\r\n    public double getty()\r\n    {\r\n        return ty;\r\n    }\r\n    protected void eventtouch()\r\n    {\r\n\r\n        cv1.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                tx=motionEvent.getX();\r\n                ty=motionEvent.getY();\r\n\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\ncanvasview.java\r\n\r\n    enter public class canvasview extends View {\r\n    public canvasview(Context context)\r\n    {\r\n        super(context);\r\n    }\r\n    @Override\r\n    protected void onDraw(Canvas canvas)\r\n    {\r\n        super.onDraw(canvas);\r\n        Paint paint=new Paint();\r\n        paint.setStyle(Paint.Style.FILL);\r\n        paint.setColor(Color.rgb(250,250,250));\r\n        canvas.drawPaint(paint);\r\n\r\n        paint.setAntiAlias(true);\r\n        paint.setColor(Color.BLUE);\r\n        canvas.drawCircle(200,200,6,paint);\r\n    }\r\n\r\n\r\n}","title":"Drawing on Android canvas","body":"<p>I want to write a function drawCircle with 2 parameters x,y position. Whenever i touch on the screen, i will get x,y position and pass to the drawCircle function and draw a circle on the screen.</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate canvasview cv1;\nprivate double tx,ty;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    cv1=new canvasview(this);\n\n    setContentView(cv1);\n    eventtouch();\n}\n\npublic double gettx()\n{\n    return tx;\n}\npublic double getty()\n{\n    return ty;\n}\nprotected void eventtouch()\n{\n\n    cv1.setOnTouchListener(new View.OnTouchListener() {\n        @Override\n        public boolean onTouch(View view, MotionEvent motionEvent) {\n            tx=motionEvent.getX();\n            ty=motionEvent.getY();\n\n            return true;\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>canvasview.java</p>\n<pre><code>enter public class canvasview extends View {\npublic canvasview(Context context)\n{\n    super(context);\n}\n@Override\nprotected void onDraw(Canvas canvas)\n{\n    super.onDraw(canvas);\n    Paint paint=new Paint();\n    paint.setStyle(Paint.Style.FILL);\n    paint.setColor(Color.rgb(250,250,250));\n    canvas.drawPaint(paint);\n\n    paint.setAntiAlias(true);\n    paint.setColor(Color.BLUE);\n    canvas.drawCircle(200,200,6,paint);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1638704430,"post_id":70233897,"comment_id":124153803,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":23551545,"reputation":5,"user_id":17594170,"display_name":"Zahid Yameen"},"score":0,"creation_date":1638705458,"post_id":70233897,"comment_id":124154037,"body_markdown":"sorry i was not allowed to insert image so i have added the exception in code instead of image","body":"sorry i was not allowed to insert image so i have added the exception in code instead of image"}],"answers":[{"tags":[],"owner":{"account_id":17241692,"reputation":50,"user_id":12483798,"display_name":"Hannan Shahid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1639252471,"creation_date":1639252471,"answer_id":70318527,"question_id":70233897,"body_markdown":"Try to add Cookies for current Video session \r\n\r\nbecause Dailymotion video M3u8/Mp4 Link not work without Cookies for current session","title":"how to download daily motion video?","body":"<p>Try to add Cookies for current Video session</p>\n<p>because Dailymotion video M3u8/Mp4 Link not work without Cookies for current session</p>\n"}],"owner":{"account_id":23551545,"reputation":5,"user_id":17594170,"display_name":"Zahid Yameen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70318527,"answer_count":1,"score":0,"last_activity_date":1644995911,"creation_date":1638704361,"question_id":70233897,"body_markdown":"I am working on daily motion video downloader android application, I have got the downloading link\r\nhttps://proxy-25.sg1.dailymotion.com/sec(dBG4yhTDGt8s-xJL9sczH_7xepHY7fASsEf--yb2hurT6QGlS77UybPsDxeGgwnIJAX0byvcREo9Wni-vBKPqA)/video/773/458/493854377_mp4_h264_aac_ld.mp4\r\nbut still downloading&#39;s does not stats and I am getting  this exception:\r\n\r\n    W/System.err: java.lang.IllegalStateException: closed\r\n    W/System.err:     at okio.RealBufferedSource.read(RealBufferedSource.java:44)\r\n    W/System.err:     at okio.Buffer.writeAll(Buffer.java:1053)\r\n    W/System.err:     at okio.RealBufferedSource.readUtf8(RealBufferedSource.java:188)\r\n    W/System.err:     at com.androidnetworking.common.ANRequest.parseNetworkError(ANRequest.java:671)\r\n    W/System.err:     at com.androidnetworking.utils.Utils.getErrorForServerResponse(Utils.java:226)\r\n    W/System.err:     at com.androidnetworking.internal.InternalRunnable.executeDownloadRequest(InternalRunnable.java:110)\r\n    W/System.err:     at com.androidnetworking.internal.InternalRunnable.run(InternalRunnable.java:58)\r\n    W/System.err:     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n    W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    W/System.err:     at com.androidnetworking.core.PriorityThreadFactory$1.run(PriorityThreadFactory.java:47)\r\n    W/System.err:     at java.lang.Thread.run(Thread.java:919)\r\n\r\n\r\nCode\r\n\r\n    private void download() {\r\n      String url = &quot;https://proxy-25.sg1.dailymotion.com/sec&quot; \r\n          + &quot;(dBG4yhTDGt8s-xJL9sczH_7xepHY7fASsEf--yb2hurT6QGlS77UybPsDxeGgwnIJAX0byvcREo9Wni&quot; \r\n          + &quot;-vBKPqA)/video/773/458/493854377_mp4_h264_aac_ld.mp4&quot;;\r\n      File folder = new File(Environment.getExternalStoragePublicDirectory(&quot;&quot;) + &quot;/DownloadFiles&quot;);\r\n      File f = new File(folder + File.separator + &quot;status&quot;);\r\n      AndroidNetworking.download(url, f.getAbsolutePath(), &quot;video&quot; + &quot;.mp4&quot;)\r\n          .setTag(&quot;tag&quot;)\r\n          .setPriority(Priority.MEDIUM)\r\n          .build()\r\n          .setDownloadProgressListener(new DownloadProgressListener() {\r\n            @Override\r\n            public void onProgress(long bytesDownloaded, long totalBytes) {\r\n      \r\n              Log.d(&quot;downloading&quot;, &quot;downloaded:&quot; + bytesDownloaded + &quot; total:&quot; + totalBytes);\r\n      \r\n            }\r\n          }).startDownload(new DownloadListener() {\r\n            @Override\r\n            public void onDownloadComplete() {\r\n      \r\n            }\r\n      \r\n            @Override\r\n            public void onError(ANError anError) {\r\n              Log.d(&quot;error&quot;, &quot;error&quot; + anError);\r\n            }\r\n          });\r\n    }\r\n    \r\n     \r\n\r\n","title":"how to download daily motion video?","body":"<p>I am working on daily motion video downloader android application, I have got the downloading link\n<a href=\"https://proxy-25.sg1.dailymotion.com/sec(dBG4yhTDGt8s-xJL9sczH_7xepHY7fASsEf--yb2hurT6QGlS77UybPsDxeGgwnIJAX0byvcREo9Wni-vBKPqA)/video/773/458/493854377_mp4_h264_aac_ld.mp4\" rel=\"nofollow noreferrer\">https://proxy-25.sg1.dailymotion.com/sec(dBG4yhTDGt8s-xJL9sczH_7xepHY7fASsEf--yb2hurT6QGlS77UybPsDxeGgwnIJAX0byvcREo9Wni-vBKPqA)/video/773/458/493854377_mp4_h264_aac_ld.mp4</a>\nbut still downloading's does not stats and I am getting  this exception:</p>\n<pre><code>W/System.err: java.lang.IllegalStateException: closed\nW/System.err:     at okio.RealBufferedSource.read(RealBufferedSource.java:44)\nW/System.err:     at okio.Buffer.writeAll(Buffer.java:1053)\nW/System.err:     at okio.RealBufferedSource.readUtf8(RealBufferedSource.java:188)\nW/System.err:     at com.androidnetworking.common.ANRequest.parseNetworkError(ANRequest.java:671)\nW/System.err:     at com.androidnetworking.utils.Utils.getErrorForServerResponse(Utils.java:226)\nW/System.err:     at com.androidnetworking.internal.InternalRunnable.executeDownloadRequest(InternalRunnable.java:110)\nW/System.err:     at com.androidnetworking.internal.InternalRunnable.run(InternalRunnable.java:58)\nW/System.err:     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\nW/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nW/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nW/System.err:     at com.androidnetworking.core.PriorityThreadFactory$1.run(PriorityThreadFactory.java:47)\nW/System.err:     at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n<p>Code</p>\n<pre><code>private void download() {\n  String url = &quot;https://proxy-25.sg1.dailymotion.com/sec&quot; \n      + &quot;(dBG4yhTDGt8s-xJL9sczH_7xepHY7fASsEf--yb2hurT6QGlS77UybPsDxeGgwnIJAX0byvcREo9Wni&quot; \n      + &quot;-vBKPqA)/video/773/458/493854377_mp4_h264_aac_ld.mp4&quot;;\n  File folder = new File(Environment.getExternalStoragePublicDirectory(&quot;&quot;) + &quot;/DownloadFiles&quot;);\n  File f = new File(folder + File.separator + &quot;status&quot;);\n  AndroidNetworking.download(url, f.getAbsolutePath(), &quot;video&quot; + &quot;.mp4&quot;)\n      .setTag(&quot;tag&quot;)\n      .setPriority(Priority.MEDIUM)\n      .build()\n      .setDownloadProgressListener(new DownloadProgressListener() {\n        @Override\n        public void onProgress(long bytesDownloaded, long totalBytes) {\n  \n          Log.d(&quot;downloading&quot;, &quot;downloaded:&quot; + bytesDownloaded + &quot; total:&quot; + totalBytes);\n  \n        }\n      }).startDownload(new DownloadListener() {\n        @Override\n        public void onDownloadComplete() {\n  \n        }\n  \n        @Override\n        public void onError(ANError anError) {\n          Log.d(&quot;error&quot;, &quot;error&quot; + anError);\n        }\n      });\n}\n\n \n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8405,"page":1587,"page_size":100}
