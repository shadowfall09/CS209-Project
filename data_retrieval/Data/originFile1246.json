{"items":[{"tags":["java","multithreading","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655817577,"post_id":72701282,"comment_id":128417464,"body_markdown":"Maybe `new LinkedBlockingQueue&lt;Runnable&gt;(1)`, i.e., a queue of capacity 1 is causing you trouble?","body":"Maybe <code>new LinkedBlockingQueue&lt;Runnable&gt;(1)</code>, i.e., a queue of capacity 1 is causing you trouble?"},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1655817790,"post_id":72701282,"comment_id":128417567,"body_markdown":"@akarnokd,If `new LinkedBlockingQueue&lt;Runnable&gt;(1)` cause the problem ,I wonder why the first time execution is OK","body":"@akarnokd,If <code>new LinkedBlockingQueue&lt;Runnable&gt;(1)</code> cause the problem ,I wonder why the first time execution is OK"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1655817799,"post_id":72701282,"comment_id":128417573,"body_markdown":"My guess: When you first call `invokeAll`, none of the core threads have been started yet. The `ThreadPoolExecutor` class is, if I recall correctly, implemented to always start a new core thread if the set number of core threads has not been reached yet. In that case, the task is handed to the thread and the queue is bypassed. But the _second_ time you call `invokeAll`, all the core threads have been started. So now the tasks are added to the queue. Your queue has a capacity of one, but you&#39;re adding three tasks all at once.","body":"My guess: When you first call <code>invokeAll</code>, none of the core threads have been started yet. The <code>ThreadPoolExecutor</code> class is, if I recall correctly, implemented to always start a new core thread if the set number of core threads has not been reached yet. In that case, the task is handed to the thread and the queue is bypassed. But the <i>second</i> time you call <code>invokeAll</code>, all the core threads have been started. So now the tasks are added to the queue. Your queue has a capacity of one, but you&#39;re adding three tasks all at once."},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1655817978,"post_id":72701282,"comment_id":128417643,"body_markdown":"@Slaw,at first time the core thread have deal with  3 task beacuse of timeout,why the second time,this core thread can do nothing?","body":"@Slaw,at first time the core thread have deal with  3 task beacuse of timeout,why the second time,this core thread can do nothing?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1655818075,"post_id":72701282,"comment_id":128417694,"body_markdown":"You&#39;ve created a thread pool with three core threads. You submit three tasks at once. The first time, each task results in one of the three core threads being started (i.e., each task is mapped to its own thread). The second time, those threads are already started, and therefore there&#39;s an attempt to add the tasks to the queue. But the queue is too small.","body":"You&#39;ve created a thread pool with three core threads. You submit three tasks at once. The first time, each task results in one of the three core threads being started (i.e., each task is mapped to its own thread). The second time, those threads are already started, and therefore there&#39;s an attempt to add the tasks to the queue. But the queue is too small."},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1655818454,"post_id":72701282,"comment_id":128417831,"body_markdown":"@akarnokd,ThreadPoolExecutor.setRemoveOnCancelPolicy(true)  is not work.it only have method like setRejectedExecutionHandler,setCorePoolSize","body":"@akarnokd,ThreadPoolExecutor.setRemoveOnCancelPolicy(true)  is not work.it only have method like setRejectedExecutionHandler,setCorePoolSize"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655818621,"post_id":72701282,"comment_id":128417896,"body_markdown":"My bad, that method is on ScheduledThreadPoolExecutor; you probably don&#39;t need it. Sorry about that.","body":"My bad, that method is on ScheduledThreadPoolExecutor; you probably don&#39;t need it. Sorry about that."},{"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"score":0,"creation_date":1655820124,"post_id":72701282,"comment_id":128418572,"body_markdown":"@SolomonSlow,I have change the title,thanks","body":"@SolomonSlow,I have change the title,thanks"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655820870,"creation_date":1655820037,"answer_id":72702168,"question_id":72701282,"body_markdown":"I can reproduce your error with the following simplified code:\r\n\r\n```lang-java\r\nimport java.util.ArrayList;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.LinkedBlockingQueue;\r\nimport java.util.concurrent.ThreadPoolExecutor;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    var pool = new ThreadPoolExecutor(\r\n        3, 3, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(1));\r\n    try {\r\n      System.out.println(&quot;Executing first batch of tasks...&quot;);\r\n      submitTasks(pool);\r\n\r\n      System.out.println(&quot;Executing second batch of tasks...&quot;);\r\n      submitTasks(pool);\r\n    } finally {\r\n      pool.shutdown();\r\n    }\r\n  }\r\n\r\n  private static void submitTasks(ExecutorService executor) throws InterruptedException {\r\n    var tasks = new ArrayList&lt;Callable&lt;Void&gt;&gt;(3);\r\n    for (int i = 0; i &lt; 3; i++) {\r\n      tasks.add(() -&gt; {\r\n        Thread.sleep(2_000L);\r\n        return null;\r\n      });\r\n    }\r\n    executor.invokeAll(tasks);\r\n  }\r\n}\r\n```\r\n\r\nWhich gives this output:\r\n\r\n```lang-none\r\nExecuting first batch of tasks...\r\nExecuting second batch of tasks...\r\nException in thread &quot;main&quot; java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@87aac27[Not completed, task = Main$$Lambda$1/0x0000000800c009f0@816f27d] rejected from java.util.concurrent.ThreadPoolExecutor@3e3abc88[Running, pool size = 3, active threads = 0, queued tasks = 1, completed tasks = 3]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2070)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1365)\r\n        at java.base/java.util.concurrent.AbstractExecutorService.invokeAll(AbstractExecutorService.java:247)\r\n        at Main.submitTasks(Main.java:32)\r\n        at Main.main(Main.java:18)\r\n```\r\n\r\nThe problem is caused by the queue being too small. The `LinkedBlockingQueue` is created with a capacity of only one, but three tasks are submitted to the pool at once. So, the question becomes, why does it only fail on the second call to `invokeAll`?\r\n\r\nThe reason has to do with how `ThreadPoolExecutor` is implemented. When an instance is first created, none of the core threads are started. They are started lazily as tasks are submitted. When the submission of a task results in a thread being started, that task is immediately given to the thread. The queue is bypassed. So, when `invokeAll` is called the first time, each of the three core threads is started and none of the tasks go into the queue.\r\n\r\nBut the second time `invokeAll` is called, the core threads have already been started. Since submitting the tasks does _not_ result in a thread being created, the tasks are put into the queue. But the queue is too small, resulting in the `RejectedExecutionException`. If you&#39;re wondering why the core threads are still alive despite the keep-alive time being set to zero, that&#39;s because core threads are not allowed to die due to timeout by default (you have to explicitly configure the pool to allow that).\r\n\r\n\r\nYou can see this lazily-started-core-threads is the cause of the problem by modifying the code slightly. Simply adding:\r\n\r\n```lang-java\r\npool.prestartAllCoreThreads();\r\n```\r\n\r\nJust after creating the pool causes the **first call** to `invokeAll` to now fail with a `RejectedExecutionException`.\r\n\r\nAlso, if you change the queue&#39;s capacity from one to three, then the `RejectedExecutionException` will no longer occur.\r\n\r\n---\r\n\r\nHere&#39;s some relevant [documentation][1]:\r\n\r\n&gt; Any `BlockingQueue` may be used to transfer and hold submitted tasks. The use of this queue interacts with pool sizing:\r\n&gt; * If fewer than `corePoolSize` threads are running, the `Executor` always prefers adding a new thread rather than queuing.\r\n&gt; * If `corePoolSize` or more threads are running, the `Executor` always prefers queuing a request rather than adding a new thread.\r\n&gt; * If a request cannot be queued, a new thread is created unless this would exceed `maximumPoolSize`, in which case, the task will be rejected.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html","title":"Why can&#39;t I add tasks to the thread pool the second time in Java?","body":"<p>I can reproduce your error with the following simplified code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.LinkedBlockingQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n  public static void main(String[] args) throws InterruptedException {\n    var pool = new ThreadPoolExecutor(\n        3, 3, 0L, TimeUnit.NANOSECONDS, new LinkedBlockingQueue&lt;&gt;(1));\n    try {\n      System.out.println(&quot;Executing first batch of tasks...&quot;);\n      submitTasks(pool);\n\n      System.out.println(&quot;Executing second batch of tasks...&quot;);\n      submitTasks(pool);\n    } finally {\n      pool.shutdown();\n    }\n  }\n\n  private static void submitTasks(ExecutorService executor) throws InterruptedException {\n    var tasks = new ArrayList&lt;Callable&lt;Void&gt;&gt;(3);\n    for (int i = 0; i &lt; 3; i++) {\n      tasks.add(() -&gt; {\n        Thread.sleep(2_000L);\n        return null;\n      });\n    }\n    executor.invokeAll(tasks);\n  }\n}\n</code></pre>\n<p>Which gives this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Executing first batch of tasks...\nExecuting second batch of tasks...\nException in thread &quot;main&quot; java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@87aac27[Not completed, task = Main$$Lambda$1/0x0000000800c009f0@816f27d] rejected from java.util.concurrent.ThreadPoolExecutor@3e3abc88[Running, pool size = 3, active threads = 0, queued tasks = 1, completed tasks = 3]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2070)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:833)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1365)\n        at java.base/java.util.concurrent.AbstractExecutorService.invokeAll(AbstractExecutorService.java:247)\n        at Main.submitTasks(Main.java:32)\n        at Main.main(Main.java:18)\n</code></pre>\n<p>The problem is caused by the queue being too small. The <code>LinkedBlockingQueue</code> is created with a capacity of only one, but three tasks are submitted to the pool at once. So, the question becomes, why does it only fail on the second call to <code>invokeAll</code>?</p>\n<p>The reason has to do with how <code>ThreadPoolExecutor</code> is implemented. When an instance is first created, none of the core threads are started. They are started lazily as tasks are submitted. When the submission of a task results in a thread being started, that task is immediately given to the thread. The queue is bypassed. So, when <code>invokeAll</code> is called the first time, each of the three core threads is started and none of the tasks go into the queue.</p>\n<p>But the second time <code>invokeAll</code> is called, the core threads have already been started. Since submitting the tasks does <em>not</em> result in a thread being created, the tasks are put into the queue. But the queue is too small, resulting in the <code>RejectedExecutionException</code>. If you're wondering why the core threads are still alive despite the keep-alive time being set to zero, that's because core threads are not allowed to die due to timeout by default (you have to explicitly configure the pool to allow that).</p>\n<p>You can see this lazily-started-core-threads is the cause of the problem by modifying the code slightly. Simply adding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pool.prestartAllCoreThreads();\n</code></pre>\n<p>Just after creating the pool causes the <strong>first call</strong> to <code>invokeAll</code> to now fail with a <code>RejectedExecutionException</code>.</p>\n<p>Also, if you change the queue's capacity from one to three, then the <code>RejectedExecutionException</code> will no longer occur.</p>\n<hr />\n<p>Here's some relevant <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Any <code>BlockingQueue</code> may be used to transfer and hold submitted tasks. The use of this queue interacts with pool sizing:</p>\n<ul>\n<li>If fewer than <code>corePoolSize</code> threads are running, the <code>Executor</code> always prefers adding a new thread rather than queuing.</li>\n<li>If <code>corePoolSize</code> or more threads are running, the <code>Executor</code> always prefers queuing a request rather than adding a new thread.</li>\n<li>If a request cannot be queued, a new thread is created unless this would exceed <code>maximumPoolSize</code>, in which case, the task will be rejected.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":3624157,"reputation":209,"user_id":3022220,"display_name":"Rebecca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72702168,"answer_count":1,"score":4,"last_activity_date":1655820870,"creation_date":1655816480,"question_id":72701282,"body_markdown":"I create a thread pool to deal with the task, after deal with the task,I find I can not add and start the other task? How to fix it? If I change the executor by `executor =   new ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(),\r\n new NamedThreadFactory(&quot;timeOutThread&quot;)); `,It will run OK.But if the task is canceled because of timeout,do this will cause memory leak?\r\n\r\n    ExecutorService executor =   new ThreadPoolExecutor(3,\r\n                        3, 0L,\r\n                        TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(1),\r\n                        new NamedThreadFactory(\r\n                                &quot;timeOutThread&quot;)); \r\n        List&lt;Callable&lt;String&gt;&gt; callableList = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, 3).forEach(index -&gt; {\r\n            callableList.add(() -&gt; request(index));\r\n        });\r\n        List&lt;Future&lt;String&gt;&gt; futureList = executor.invokeAll(callableList, 1, TimeUnit.SECONDS); \r\n            for (int i = 0; i &lt; futureList.size(); i++) {\r\n                Future&lt;String&gt; future = futureList.get(i);\r\n                try {\r\n                    list.add(future.get());\r\n                } catch (CancellationException e) {\r\n                    log.info(&quot;timeOut task：{}&quot;, i);\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n              Thread.sleep(1000);\r\n        callableList.clear();\r\n        IntStream.range(0, 3).forEach(index -&gt; {\r\n            callableList.add(() -&gt; request(index));\r\n        });\r\n          long start1 = System.currentTimeMillis();\r\n         // Task java.util.concurrent.FutureTask@5fdcaa40 rejected from java.util.concurrent.ThreadPoolExecutor@6dc17b83   \r\n        List&lt;Future&lt;String&gt;&gt; futureList   = executor.invokeAll(callableList, 1, TimeUnit.SECONDS); \r\n        for (int i = 0; i &lt; futureList.size(); i++) {\r\n            Future&lt;String&gt; future = futureList.get(i);\r\n            try {\r\n                list.add(future.get());\r\n            } catch (CancellationException e) {\r\n                log.info(&quot;timeOut Task：{}&quot;, i);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        }\r\n \r\n      public String request() throws InterruptedException { \r\n        TimeUnit.MILLISECONDS.sleep(200000);\r\n        return &quot;A&quot;;\r\n      }","title":"Why can&#39;t I add tasks to the thread pool the second time in Java?","body":"<p>I create a thread pool to deal with the task, after deal with the task,I find I can not add and start the other task? How to fix it? If I change the executor by <code>executor =   new ThreadPoolExecutor(3, 3, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(), new NamedThreadFactory(&quot;timeOutThread&quot;)); </code>,It will run OK.But if the task is canceled because of timeout,do this will cause memory leak?</p>\n<pre><code>ExecutorService executor =   new ThreadPoolExecutor(3,\n                    3, 0L,\n                    TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;(1),\n                    new NamedThreadFactory(\n                            &quot;timeOutThread&quot;)); \n    List&lt;Callable&lt;String&gt;&gt; callableList = new ArrayList&lt;&gt;();\n    IntStream.range(0, 3).forEach(index -&gt; {\n        callableList.add(() -&gt; request(index));\n    });\n    List&lt;Future&lt;String&gt;&gt; futureList = executor.invokeAll(callableList, 1, TimeUnit.SECONDS); \n        for (int i = 0; i &lt; futureList.size(); i++) {\n            Future&lt;String&gt; future = futureList.get(i);\n            try {\n                list.add(future.get());\n            } catch (CancellationException e) {\n                log.info(&quot;timeOut task：{}&quot;, i);\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n            }\n          Thread.sleep(1000);\n    callableList.clear();\n    IntStream.range(0, 3).forEach(index -&gt; {\n        callableList.add(() -&gt; request(index));\n    });\n      long start1 = System.currentTimeMillis();\n     // Task java.util.concurrent.FutureTask@5fdcaa40 rejected from java.util.concurrent.ThreadPoolExecutor@6dc17b83   \n    List&lt;Future&lt;String&gt;&gt; futureList   = executor.invokeAll(callableList, 1, TimeUnit.SECONDS); \n    for (int i = 0; i &lt; futureList.size(); i++) {\n        Future&lt;String&gt; future = futureList.get(i);\n        try {\n            list.add(future.get());\n        } catch (CancellationException e) {\n            log.info(&quot;timeOut Task：{}&quot;, i);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n\n  public String request() throws InterruptedException { \n    TimeUnit.MILLISECONDS.sleep(200000);\n    return &quot;A&quot;;\n  }\n</code></pre>\n"},{"tags":["java","android-studio","spinner"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1655820199,"post_id":69905645,"comment_id":128418595,"body_markdown":"SUGGESTION: Here are two approaches: https://stackoverflow.com/a/24317764/421195. or  https://stackoverflow.com/a/33949979/421195.  See also setPadding() in the spinner adapter:  https://stackoverflow.com/a/33340530/421195.","body":"SUGGESTION: Here are two approaches: <a href=\"https://stackoverflow.com/a/24317764/421195\">stackoverflow.com/a/24317764/421195</a>. or  <a href=\"https://stackoverflow.com/a/33949979/421195\">stackoverflow.com/a/33949979/421195</a>.  See also setPadding() in the spinner adapter:  <a href=\"https://stackoverflow.com/a/33340530/421195\">stackoverflow.com/a/33340530/421195</a>."}],"answers":[{"tags":[],"owner":{"account_id":22541690,"reputation":37,"user_id":16732181,"display_name":"azaLiza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655820852,"creation_date":1655820816,"answer_id":72702377,"question_id":69905645,"body_markdown":"In your XML file where you have declared the `&lt;Spinner&gt;...&lt;/Spinner&gt;` element try to add this attribute (to the spinner) :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    android:gravity=&quot;center&quot;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to center simple_spinner_dropdown_item in Android Studio?","body":"<p>In your XML file where you have declared the <code>&lt;Spinner&gt;...&lt;/Spinner&gt;</code> element try to add this attribute (to the spinner) :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>android:gravity=\"center\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":19987254,"reputation":62,"user_id":14649149,"display_name":"cinemandre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72702377,"answer_count":1,"score":0,"last_activity_date":1655820852,"creation_date":1636495384,"question_id":69905645,"body_markdown":"I want to **center** the text of my **simple_spinner_dropdown_item** element, so I got this solution:\r\n\r\n    private void addCountriesToSpinner(){\r\n        DatabaseHelper dhHelp = new DatabaseHelper(this);\r\n        _countryNames = dhHelp.getAllCountryNames();\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, _countryNames){\r\n            @Override\r\n            public View getView(int position, View convertView, ViewGroup parent){\r\n                return setCentered(super.getView(position, convertView, parent));\r\n            }\r\n\r\n            @Override\r\n            public View getDropDownView(int position, View convertView, ViewGroup parent){\r\n                return setCentered(super.getDropDownView(position, convertView, parent));\r\n            }\r\n\r\n            private View setCentered(View view){\r\n                TextView textView = (TextView)view.findViewById(android.R.id.text1);\r\n                textView.setGravity(Gravity.CENTER);\r\n                textView.setTextSize(18);\r\n                return view;\r\n            }\r\n        };\r\n\r\nHowever, this is just working for the **simple_spinner_item** where all the dropdown items are way to tight. But when ever I replace it by **simple_spinner_dropdown_item** the centering is no longer working. \r\n\r\nI guess the answer lies in this line, but I dont know how to adapt:\r\n\r\n    TextView textView = (TextView)view.findViewById(android.R.id.text1);\r\n\r\nThanks!","title":"How to center simple_spinner_dropdown_item in Android Studio?","body":"<p>I want to <strong>center</strong> the text of my <strong>simple_spinner_dropdown_item</strong> element, so I got this solution:</p>\n<pre><code>private void addCountriesToSpinner(){\n    DatabaseHelper dhHelp = new DatabaseHelper(this);\n    _countryNames = dhHelp.getAllCountryNames();\n\n    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, _countryNames){\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent){\n            return setCentered(super.getView(position, convertView, parent));\n        }\n\n        @Override\n        public View getDropDownView(int position, View convertView, ViewGroup parent){\n            return setCentered(super.getDropDownView(position, convertView, parent));\n        }\n\n        private View setCentered(View view){\n            TextView textView = (TextView)view.findViewById(android.R.id.text1);\n            textView.setGravity(Gravity.CENTER);\n            textView.setTextSize(18);\n            return view;\n        }\n    };\n</code></pre>\n<p>However, this is just working for the <strong>simple_spinner_item</strong> where all the dropdown items are way to tight. But when ever I replace it by <strong>simple_spinner_dropdown_item</strong> the centering is no longer working.</p>\n<p>I guess the answer lies in this line, but I dont know how to adapt:</p>\n<pre><code>TextView textView = (TextView)view.findViewById(android.R.id.text1);\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","java.lang.class"],"comments":[{"owner":{"account_id":5668676,"reputation":997,"user_id":4484081,"display_name":"akshaya pandey"},"score":0,"creation_date":1583131941,"post_id":60483725,"comment_id":106999342,"body_markdown":"where have you defined this &quot;aws.sqs.queue.mail&quot; property ???","body":"where have you defined this &quot;aws.sqs.queue.mail&quot; property ???"},{"owner":{"account_id":7853871,"reputation":512,"user_id":5936451,"display_name":"Ram Pratap"},"score":0,"creation_date":1583131977,"post_id":60483725,"comment_id":106999348,"body_markdown":"Do you need to add @Autowired on AmazonSQS amazonSQS","body":"Do you need to add @Autowired on AmazonSQS amazonSQS"},{"owner":{"account_id":10673735,"reputation":308,"user_id":8780070,"display_name":"Arthurofos"},"score":0,"creation_date":1583132644,"post_id":60483725,"comment_id":106999543,"body_markdown":"@akshayapandey i defined the mail property in the property file.","body":"@akshayapandey i defined the mail property in the property file."}],"answers":[{"tags":[],"owner":{"account_id":939476,"reputation":2581,"user_id":967808,"accept_rate":10,"display_name":"Thiru"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583137304,"creation_date":1583137304,"answer_id":60484911,"question_id":60483725,"body_markdown":"Remove `final` from `sqsQueueMail`.\r\n\r\n    @Value(&quot;${aws.sqs.queue.mail}&quot;)\r\n    private String sqsQueueMail;\r\n\r\nThat should fix your issue. \r\nSomehow, with `@RequiredArgsConstructor`, the `@Value` annotation for the variable is not resolved which made the application to look for a bean of type `String`\r\n","title":"Class required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Remove <code>final</code> from <code>sqsQueueMail</code>.</p>\n\n<pre><code>@Value(\"${aws.sqs.queue.mail}\")\nprivate String sqsQueueMail;\n</code></pre>\n\n<p>That should fix your issue. \nSomehow, with <code>@RequiredArgsConstructor</code>, the <code>@Value</code> annotation for the variable is not resolved which made the application to look for a bean of type <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":25609880,"reputation":31,"user_id":19383479,"display_name":"axaratox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655820391,"creation_date":1655819576,"answer_id":72702054,"question_id":60483725,"body_markdown":"Сreate `lombok.config` file in the root of project and add following line:\r\n\r\n    lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\r\n\r\nThat will allow you to use `@Value` with `final` field and with `@RequiredArgsConstructor`","title":"Class required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Сreate <code>lombok.config</code> file in the root of project and add following line:</p>\n<pre><code>lombok.copyableAnnotations += org.springframework.beans.factory.annotation.Value\n</code></pre>\n<p>That will allow you to use <code>@Value</code> with <code>final</code> field and with <code>@RequiredArgsConstructor</code></p>\n"}],"owner":{"account_id":10673735,"reputation":308,"user_id":8780070,"display_name":"Arthurofos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60484911,"answer_count":2,"score":2,"last_activity_date":1655820391,"creation_date":1583131386,"question_id":60483725,"body_markdown":"I try to a mailservice in Spring. I use Spring-Boot version 2.1.7.Release and amazon-sqs-java-messaging-lib version 1.0.8. \r\n\r\nMy code looks like:\r\n\r\n        @Service\r\n    @RequiredArgsConstructor\r\n    public class MailService {\r\n\r\n    private static final Logger logger = Logger.getLogger(MailService.class.getName());\r\n    private final AmazonSQS amazonSQS;\r\n\r\n    @Value(&quot;${aws.sqs.queue.mail}&quot;)\r\n    private final String sqsQueueMail;\r\n\r\n    public void sendMail(final SQSMailParams mailParams) {\r\n\r\n        final String queueUrl = amazonSQS.getQueueUrl(sqsQueueMail).getQueueUrl();\r\n\r\n        try {\r\n            final String messageBody = SQSMailParams.createSQSMailParams(mailParams, mailParams.getTemplateKey(), mailParams.getProcessId()).toJson();\r\n            final SendMessageRequest sendMessageRequest = new SendMessageRequest(queueUrl, messageBody);\r\n            sendMessageRequest.setMessageGroupId(&quot;TOLL-BOX-MAIL&quot;);\r\n\r\n            amazonSQS.sendMessage(sendMessageRequest);\r\n            logger.info(&quot;TOLL-BOX mail added to mail queue&quot;);\r\n        } catch (JsonProcessingException e) {\r\n            logger.error(&quot;Mail cannot be added to the mail queue: &quot; + String.join(&quot;,&quot;, mailParams.recipients) + &quot;.&quot; + e);\r\n        }\r\n\r\n        }\r\n    }\r\n\r\nBut i get the following failure by running the code.\r\n\r\n    2020-03-02 07:34:00.242 ERROR 10568 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of constructor in de.svg.tollbox.service.MailService required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n    \r\n    Disconnected from the target VM, address: &#39;127.0.0.1:43565&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 1\r\n\r\nCould someone tell me what im doing wrong thank you.\r\n","title":"Class required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I try to a mailservice in Spring. I use Spring-Boot version 2.1.7.Release and amazon-sqs-java-messaging-lib version 1.0.8. </p>\n\n<p>My code looks like:</p>\n\n<pre><code>    @Service\n@RequiredArgsConstructor\npublic class MailService {\n\nprivate static final Logger logger = Logger.getLogger(MailService.class.getName());\nprivate final AmazonSQS amazonSQS;\n\n@Value(\"${aws.sqs.queue.mail}\")\nprivate final String sqsQueueMail;\n\npublic void sendMail(final SQSMailParams mailParams) {\n\n    final String queueUrl = amazonSQS.getQueueUrl(sqsQueueMail).getQueueUrl();\n\n    try {\n        final String messageBody = SQSMailParams.createSQSMailParams(mailParams, mailParams.getTemplateKey(), mailParams.getProcessId()).toJson();\n        final SendMessageRequest sendMessageRequest = new SendMessageRequest(queueUrl, messageBody);\n        sendMessageRequest.setMessageGroupId(\"TOLL-BOX-MAIL\");\n\n        amazonSQS.sendMessage(sendMessageRequest);\n        logger.info(\"TOLL-BOX mail added to mail queue\");\n    } catch (JsonProcessingException e) {\n        logger.error(\"Mail cannot be added to the mail queue: \" + String.join(\",\", mailParams.recipients) + \".\" + e);\n    }\n\n    }\n}\n</code></pre>\n\n<p>But i get the following failure by running the code.</p>\n\n<pre><code>2020-03-02 07:34:00.242 ERROR 10568 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in de.svg.tollbox.service.MailService required a bean of type 'java.lang.String' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n\nDisconnected from the target VM, address: '127.0.0.1:43565', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Could someone tell me what im doing wrong thank you.</p>\n"},{"tags":["java","amazon-web-services","object","amazon-s3","upload"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655820321,"creation_date":1655818038,"answer_id":72701635,"question_id":72701335,"body_markdown":"To upload an object (a PDF for example), its recommended that you use **AWS SDK for Java V2**. Using this API, you have 2 choices. \r\n\r\n1 . You can upload an object to an Amazon S3 bucket using the **S3Client** object. \r\n\r\n2 . You can upload an object to an Amazon S3 bucket using the **TransferManager** object.\r\n\r\nAmazon S3 console supports the folder concept as a means of grouping objects. For example, if you want to store a PDF file in a folder named **folder2**, specify the name in the **objectKey**. For example:\r\n\r\n**String objectKey =  &quot;folder2/myPDF.pdf&quot;**\r\n\r\nWhen you ran this code, myPDF is in folder2 -- as shown in this screen shot: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you are not familiar with using the **AWS SDK for Java V2**, refer to the [Java V2 DEV Guide][2] for all the concepts you need. For example, how to work with Credentials. \r\n\r\n**S3Client**\r\n\r\nThe following code shows you how to use this object to upload content.\r\n\r\n    package com.example.s3;\r\n    \r\n    // snippet-start:[s3.java2.s3_object_upload.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.sync.RequestBody;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectResponse;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    // snippet-end:[s3.java2.s3_object_upload.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class PutObject {\r\n    \r\n        public static void main(String[] args) {\r\n            final String usage = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\r\n                    &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\r\n                    &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\r\n    \r\n            if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String bucketName =args[0];\r\n            String objectKey = args[1];\r\n            String objectPath = args[2];\r\n            System.out.println(&quot;Putting object &quot; + objectKey +&quot; into bucket &quot;+bucketName);\r\n            System.out.println(&quot;  in bucket: &quot; + bucketName);\r\n    \r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            String result = putS3Object(s3, bucketName, objectKey, objectPath);\r\n            System.out.println(&quot;Tag information: &quot;+result);\r\n            s3.close();\r\n        }\r\n    \r\n        // snippet-start:[s3.java2.s3_object_upload.main]\r\n        public static String putS3Object(S3Client s3,\r\n                                         String bucketName,\r\n                                         String objectKey,\r\n                                         String objectPath) {\r\n    \r\n            try {\r\n    \r\n                Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n                metadata.put(&quot;x-amz-meta-myVal&quot;, &quot;test&quot;);\r\n    \r\n                PutObjectRequest putOb = PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(objectKey)\r\n                        .metadata(metadata)\r\n                        .build();\r\n    \r\n                PutObjectResponse response = s3.putObject(putOb,\r\n                        RequestBody.fromBytes(getObjectFile(objectPath)));\r\n    \r\n               return response.eTag();\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.getMessage());\r\n                System.exit(1);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n        // Return a byte array.\r\n        private static byte[] getObjectFile(String filePath) {\r\n    \r\n            FileInputStream fileInputStream = null;\r\n            byte[] bytesArray = null;\r\n    \r\n            try {\r\n                File file = new File(filePath);\r\n                bytesArray = new byte[(int) file.length()];\r\n                fileInputStream = new FileInputStream(file);\r\n                fileInputStream.read(bytesArray);\r\n    \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                if (fileInputStream != null) {\r\n                    try {\r\n                        fileInputStream.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            return bytesArray;\r\n        }\r\n        // snippet-end:[s3.java2.s3_object_upload.main]\r\n    }\r\n\r\n**TransferManager object**\r\n\r\nThe following code shows you how to use this Java object to upload content to an S3 bucket.\r\n\r\n    package com.example.transfermanager;\r\n    \r\n    import software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.transfer.s3.FileUpload;\r\n    import software.amazon.awssdk.transfer.s3.S3TransferManager;\r\n    import java.nio.file.Paths;\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    public class UploadObject {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\r\n                    &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\r\n                    &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\r\n    \r\n           if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n           }\r\n    \r\n            long mb = 1024;\r\n            String bucketName = args[0];\r\n            String objectKey = args[1];\r\n            String objectPath = args[2];\r\n    \r\n    \r\n            System.out.println(&quot;Putting an object into bucket &quot;+bucketName +&quot; using the S3TransferManager&quot;);\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3TransferManager transferManager = S3TransferManager.builder()\r\n                    .s3ClientConfiguration(cfg -&gt;cfg.region(region)\r\n                            .credentialsProvider(credentialsProvider)\r\n                            .targetThroughputInGbps(20.0)\r\n                            .minimumPartSizeInBytes(10 * mb))\r\n                    .build();\r\n    \r\n            uploadObjectTM(transferManager, bucketName, objectKey, objectPath);\r\n            System.out.println(&quot;Object was successfully uploaded using the Transfer Manager.&quot;);\r\n            transferManager.close();\r\n        }\r\n    \r\n        public static void uploadObjectTM( S3TransferManager transferManager, String bucketName, String objectKey, String objectPath) {\r\n    \r\n            FileUpload upload =\r\n                    transferManager.uploadFile(u -&gt; u.source(Paths.get(objectPath))\r\n                            .putObjectRequest(p -&gt; p.bucket(bucketName).key(objectKey)));\r\n            upload.completionFuture().join();\r\n        }\r\n    }\r\n\r\n**Another Update**\r\n\r\nLook at this line of code: \r\n\r\n   PutObjectResponse response = s3.putObject(putOb,\r\n                    **RequestBody.fromBytes**(getObjectFile(objectPath)));\r\n\r\n\r\nAs long as you get your data you want to upload to a byte array, you can upload it to Amazon S3 using this code. I used a ***physical PDF file*** as an example. But if you get the byte[] from another source it still works. \r\n\r\nThe **RequestBody** supports other methods too as discussed in these Javadocs. \r\n\r\nhttps://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/sync/RequestBody.html\r\n\r\nHope this clears up your doubt. \r\n\r\n  [1]: https://i.stack.imgur.com/PPxQu.png\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html","title":"Store Java object to Amazon S3 bucket","body":"<p>To upload an object (a PDF for example), its recommended that you use <strong>AWS SDK for Java V2</strong>. Using this API, you have 2 choices.</p>\n<p>1 . You can upload an object to an Amazon S3 bucket using the <strong>S3Client</strong> object.</p>\n<p>2 . You can upload an object to an Amazon S3 bucket using the <strong>TransferManager</strong> object.</p>\n<p>Amazon S3 console supports the folder concept as a means of grouping objects. For example, if you want to store a PDF file in a folder named <strong>folder2</strong>, specify the name in the <strong>objectKey</strong>. For example:</p>\n<p><strong>String objectKey =  &quot;folder2/myPDF.pdf&quot;</strong></p>\n<p>When you ran this code, myPDF is in folder2 -- as shown in this screen shot:</p>\n<p><a href=\"https://i.stack.imgur.com/PPxQu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPxQu.png\" alt=\"enter image description here\" /></a></p>\n<p>If you are not familiar with using the <strong>AWS SDK for Java V2</strong>, refer to the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Java V2 DEV Guide</a> for all the concepts you need. For example, how to work with Credentials.</p>\n<p><strong>S3Client</strong></p>\n<p>The following code shows you how to use this object to upload content.</p>\n<pre><code>package com.example.s3;\n\n// snippet-start:[s3.java2.s3_object_upload.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.sync.RequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.PutObjectResponse;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n// snippet-end:[s3.java2.s3_object_upload.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class PutObject {\n\n    public static void main(String[] args) {\n        final String usage = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\n                &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\n                &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\n\n        if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String bucketName =args[0];\n        String objectKey = args[1];\n        String objectPath = args[2];\n        System.out.println(&quot;Putting object &quot; + objectKey +&quot; into bucket &quot;+bucketName);\n        System.out.println(&quot;  in bucket: &quot; + bucketName);\n\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder()\n                .region(region)\n                .credentialsProvider(credentialsProvider)\n                .build();\n\n        String result = putS3Object(s3, bucketName, objectKey, objectPath);\n        System.out.println(&quot;Tag information: &quot;+result);\n        s3.close();\n    }\n\n    // snippet-start:[s3.java2.s3_object_upload.main]\n    public static String putS3Object(S3Client s3,\n                                     String bucketName,\n                                     String objectKey,\n                                     String objectPath) {\n\n        try {\n\n            Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n            metadata.put(&quot;x-amz-meta-myVal&quot;, &quot;test&quot;);\n\n            PutObjectRequest putOb = PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(objectKey)\n                    .metadata(metadata)\n                    .build();\n\n            PutObjectResponse response = s3.putObject(putOb,\n                    RequestBody.fromBytes(getObjectFile(objectPath)));\n\n           return response.eTag();\n\n        } catch (S3Exception e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n        return &quot;&quot;;\n    }\n\n    // Return a byte array.\n    private static byte[] getObjectFile(String filePath) {\n\n        FileInputStream fileInputStream = null;\n        byte[] bytesArray = null;\n\n        try {\n            File file = new File(filePath);\n            bytesArray = new byte[(int) file.length()];\n            fileInputStream = new FileInputStream(file);\n            fileInputStream.read(bytesArray);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fileInputStream != null) {\n                try {\n                    fileInputStream.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return bytesArray;\n    }\n    // snippet-end:[s3.java2.s3_object_upload.main]\n}\n</code></pre>\n<p><strong>TransferManager object</strong></p>\n<p>The following code shows you how to use this Java object to upload content to an S3 bucket.</p>\n<pre><code>package com.example.transfermanager;\n\nimport software.amazon.awssdk.auth.credentials.EnvironmentVariableCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.transfer.s3.FileUpload;\nimport software.amazon.awssdk.transfer.s3.S3TransferManager;\nimport java.nio.file.Paths;\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\npublic class UploadObject {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;  &lt;bucketName&gt; &lt;objectKey&gt; &lt;objectPath&gt; \\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;  bucketName - The Amazon S3 bucket to upload an object into.\\n&quot; +\n                &quot;  objectKey - The object to upload (for example, book.pdf).\\n&quot; +\n                &quot;  objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). \\n\\n&quot; ;\n\n       if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n       }\n\n        long mb = 1024;\n        String bucketName = args[0];\n        String objectKey = args[1];\n        String objectPath = args[2];\n\n\n        System.out.println(&quot;Putting an object into bucket &quot;+bucketName +&quot; using the S3TransferManager&quot;);\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3TransferManager transferManager = S3TransferManager.builder()\n                .s3ClientConfiguration(cfg -&gt;cfg.region(region)\n                        .credentialsProvider(credentialsProvider)\n                        .targetThroughputInGbps(20.0)\n                        .minimumPartSizeInBytes(10 * mb))\n                .build();\n\n        uploadObjectTM(transferManager, bucketName, objectKey, objectPath);\n        System.out.println(&quot;Object was successfully uploaded using the Transfer Manager.&quot;);\n        transferManager.close();\n    }\n\n    public static void uploadObjectTM( S3TransferManager transferManager, String bucketName, String objectKey, String objectPath) {\n\n        FileUpload upload =\n                transferManager.uploadFile(u -&gt; u.source(Paths.get(objectPath))\n                        .putObjectRequest(p -&gt; p.bucket(bucketName).key(objectKey)));\n        upload.completionFuture().join();\n    }\n}\n</code></pre>\n<p><strong>Another Update</strong></p>\n<p>Look at this line of code:</p>\n<p>PutObjectResponse response = s3.putObject(putOb,\n<strong>RequestBody.fromBytes</strong>(getObjectFile(objectPath)));</p>\n<p>As long as you get your data you want to upload to a byte array, you can upload it to Amazon S3 using this code. I used a <em><strong>physical PDF file</strong></em> as an example. But if you get the byte[] from another source it still works.</p>\n<p>The <strong>RequestBody</strong> supports other methods too as discussed in these Javadocs.</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/sync/RequestBody.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/sync/RequestBody.html</a></p>\n<p>Hope this clears up your doubt.</p>\n"}],"owner":{"account_id":4838196,"reputation":101,"user_id":9715520,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3092,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72701635,"answer_count":1,"score":0,"last_activity_date":1655820321,"creation_date":1655816719,"question_id":72701335,"body_markdown":"I have a Java object. I get this as a response from an underlying API of our system. I need to store this object in a folder inside an S3 bucket.\r\n\r\nI found this https://stackoverflow.com/a/41017427/9715520. However, as I said I need to upload the object in a folder inside the bucket. Is there a way I can specify the folder name as well. The example tells about saving the object to an S3 bucket. What if there are multiple folders within a bucket and one needs to store in a specific folder. Do we have something for that?\r\n\r\nThis is how I am doing it. Also is the below code sufficient enough or do I need to create s3 client explicitly to upload the object?\r\n\r\n \r\n\r\n    private void s3Upload(MyObject myObject) {\r\n        \t \r\n        \t TransferManager transferManager = TransferManagerBuilder.standard().build();\r\n        \t \r\n        \t ObjectMapper objectMapper = new ObjectMapper(); \r\n        \t byte[] bytesToWrite = objectMapper.writeValueAsBytes(myObject);\r\n    \r\n        \t ObjectMetadata omd = new ObjectMetadata();\r\n        \t omd.setContentLength(bytesToWrite.length);\r\n        \t String uniqueID = UUID.randomUUID().toString();\r\n        \t transferManager.upload(&lt;bucketName&gt;, uniqueID, new ByteArrayInputStream(bytesToWrite), omd);\r\n        }","title":"Store Java object to Amazon S3 bucket","body":"<p>I have a Java object. I get this as a response from an underlying API of our system. I need to store this object in a folder inside an S3 bucket.</p>\n<p>I found this <a href=\"https://stackoverflow.com/a/41017427/9715520\">https://stackoverflow.com/a/41017427/9715520</a>. However, as I said I need to upload the object in a folder inside the bucket. Is there a way I can specify the folder name as well. The example tells about saving the object to an S3 bucket. What if there are multiple folders within a bucket and one needs to store in a specific folder. Do we have something for that?</p>\n<p>This is how I am doing it. Also is the below code sufficient enough or do I need to create s3 client explicitly to upload the object?</p>\n<pre><code>private void s3Upload(MyObject myObject) {\n         \n         TransferManager transferManager = TransferManagerBuilder.standard().build();\n         \n         ObjectMapper objectMapper = new ObjectMapper(); \n         byte[] bytesToWrite = objectMapper.writeValueAsBytes(myObject);\n\n         ObjectMetadata omd = new ObjectMetadata();\n         omd.setContentLength(bytesToWrite.length);\n         String uniqueID = UUID.randomUUID().toString();\n         transferManager.upload(&lt;bucketName&gt;, uniqueID, new ByteArrayInputStream(bytesToWrite), omd);\n    }\n</code></pre>\n"},{"tags":["java","arrays","multithreading","swing","swingbuilder"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655794956,"post_id":72696444,"comment_id":128409324,"body_markdown":"What synchronization? Your entire logic runs on the Swing EDT so no sync is needed.","body":"What synchronization? Your entire logic runs on the Swing EDT so no sync is needed."},{"owner":{"account_id":18848708,"reputation":3,"user_id":13748343,"display_name":"Ibad hussain"},"score":0,"creation_date":1655795865,"post_id":72696444,"comment_id":128409586,"body_markdown":"So can i implement threading in this Piece of code ?","body":"So can i implement threading in this Piece of code ?"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655796883,"post_id":72696444,"comment_id":128409889,"body_markdown":"Why would you? Unless you are to count megabytes of text, there is no need for threading.","body":"Why would you? Unless you are to count megabytes of text, there is no need for threading."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1655851051,"post_id":72696444,"comment_id":128428683,"body_markdown":"Your existing code correctly constructs a `new Runnable()`, although it looks like the IDE did it for you.  See also [*Initial Threads*](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Your existing code correctly constructs a <code>new Runnable()</code>, although it looks like the IDE did it for you.  See also <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><i>Initial Threads</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655820242,"creation_date":1655810345,"answer_id":72699841,"question_id":72696444,"body_markdown":"Please don&#39;t be insulted but, forget about that nonsense. Just use a Document Filter on the JTextArea to take care of business. To try this out, I would like you to do the following:\r\n\r\n 1. Place the following line of code directly under the code line that\r\n    you used to initialized your JTextArea (`txt`), for example:\r\n    \r\n        txt = new javax.swing.JTextArea();\r\n        // Apply a Document Filter to JTextArea\r\n        ((javax.swing.text.AbstractDocument)txt.getDocument()).setDocumentFilter(new CharacterAndWordCountingDocumentFilter());\r\n\r\n    **EDIT:** I see now that you changed your provided code and your JTextArea component is initialized in a non-editable section of the class (NetBeans does this and for good reason). You can just add the line within the class constructor under the `initComponents();` method call.\r\n\r\n 2. Add the *Inner Class* supplied below named\r\n    **CharacterAndWordCountingDocumentFilter** to your **Count_word_character** class:\r\n                \r\n        private class CharacterAndWordCountingDocumentFilter extends javax.swing.text.DocumentFilter {\r\n    \r\n            String docText = &quot;&quot;;\r\n            int charCount = 0, wordCount = 0;\r\n    \r\n            @Override\r\n            public void insertString(FilterBypass fb, int offset, String text,\r\n                    javax.swing.text.AttributeSet attr)\r\n                    throws javax.swing.text.BadLocationException {\r\n    \r\n                super.insertString(fb, offset, text, attr);\r\n            }\r\n    \r\n            @Override\r\n            public void replace(FilterBypass fb, int offset, int length, String text,\r\n                    javax.swing.text.AttributeSet attrs)\r\n                    throws javax.swing.text.BadLocationException {\r\n    \r\n                super.replace(fb, offset, length, text, attrs);\r\n    \r\n                charCount = fb.getDocument().getLength();\r\n                letter.setText(&quot;&lt;html&gt;Total Number of Characters: &lt;font color = blue&gt;&quot;\r\n                        + charCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\r\n    \r\n                docText = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n                wordCount = wordCount = getWordCount(docText);\r\n                word.setText(&quot;&lt;html&gt;Total Number of Words: &lt;font color=blue&gt;&quot;\r\n                        + wordCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void remove(javax.swing.text.DocumentFilter.FilterBypass fb, int i,\r\n                    int i1) throws javax.swing.text.BadLocationException {\r\n    \r\n                super.remove(fb, i, i1);\r\n    \r\n                charCount = fb.getDocument().getLength();\r\n                letter.setText(&quot;&lt;html&gt;Total Number of Characters: &lt;font color = blue&gt;&quot;\r\n                        + charCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\r\n    \r\n                docText = fb.getDocument().getText(0, fb.getDocument().getLength());\r\n                if (docText.trim().isEmpty()) {\r\n                    wordCount = 0;\r\n                }\r\n                else {\r\n                    wordCount = getWordCount(docText);\r\n                }\r\n                word.setText(&quot;&lt;html&gt;Total Number of Words: &lt;font color=blue&gt;&quot;\r\n                        + wordCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\r\n            }\r\n            \r\n            private int getWordCount(String text) {\r\n                return text.replaceAll(&quot;\\\\p{Punct}{1,}&quot;, &quot; &quot;).split(&quot;\\\\s+&quot;).length;\r\n            }\r\n        }\r\n\r\nNow run your application and start typing, deleting, copy/pasting, etc and watch the two labels (Character count and Word Count) at the bottom of the JFrame Window. I pasted text containing over 6.5 million characters and had no problems with this. You should experience something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you like this sort of thing then you can delete the &lt;kbd&gt;Count&lt;/kbd&gt; button and any events and or concepts related to it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jnvvj.gif","title":"How can I implement thread synchronization in word count tool GUI-based project","body":"<p>Please don't be insulted but, forget about that nonsense. Just use a Document Filter on the JTextArea to take care of business. To try this out, I would like you to do the following:</p>\n<ol>\n<li><p>Place the following line of code directly under the code line that\nyou used to initialized your JTextArea (<code>txt</code>), for example:</p>\n<pre><code>txt = new javax.swing.JTextArea();\n// Apply a Document Filter to JTextArea\n((javax.swing.text.AbstractDocument)txt.getDocument()).setDocumentFilter(new CharacterAndWordCountingDocumentFilter());\n</code></pre>\n<p><strong>EDIT:</strong> I see now that you changed your provided code and your JTextArea component is initialized in a non-editable section of the class (NetBeans does this and for good reason). You can just add the line within the class constructor under the <code>initComponents();</code> method call.</p>\n</li>\n<li><p>Add the <em>Inner Class</em> supplied below named\n<strong>CharacterAndWordCountingDocumentFilter</strong> to your <strong>Count_word_character</strong> class:</p>\n<pre><code>private class CharacterAndWordCountingDocumentFilter extends javax.swing.text.DocumentFilter {\n\n    String docText = &quot;&quot;;\n    int charCount = 0, wordCount = 0;\n\n    @Override\n    public void insertString(FilterBypass fb, int offset, String text,\n            javax.swing.text.AttributeSet attr)\n            throws javax.swing.text.BadLocationException {\n\n        super.insertString(fb, offset, text, attr);\n    }\n\n    @Override\n    public void replace(FilterBypass fb, int offset, int length, String text,\n            javax.swing.text.AttributeSet attrs)\n            throws javax.swing.text.BadLocationException {\n\n        super.replace(fb, offset, length, text, attrs);\n\n        charCount = fb.getDocument().getLength();\n        letter.setText(&quot;&lt;html&gt;Total Number of Characters: &lt;font color = blue&gt;&quot;\n                + charCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\n\n        docText = fb.getDocument().getText(0, fb.getDocument().getLength());\n        wordCount = wordCount = getWordCount(docText);\n        word.setText(&quot;&lt;html&gt;Total Number of Words: &lt;font color=blue&gt;&quot;\n                + wordCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\n    }\n\n    @Override\n    public void remove(javax.swing.text.DocumentFilter.FilterBypass fb, int i,\n            int i1) throws javax.swing.text.BadLocationException {\n\n        super.remove(fb, i, i1);\n\n        charCount = fb.getDocument().getLength();\n        letter.setText(&quot;&lt;html&gt;Total Number of Characters: &lt;font color = blue&gt;&quot;\n                + charCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\n\n        docText = fb.getDocument().getText(0, fb.getDocument().getLength());\n        if (docText.trim().isEmpty()) {\n            wordCount = 0;\n        }\n        else {\n            wordCount = getWordCount(docText);\n        }\n        word.setText(&quot;&lt;html&gt;Total Number of Words: &lt;font color=blue&gt;&quot;\n                + wordCount + &quot;&lt;/font&gt;&lt;/html&gt;&quot;);\n    }\n\n    private int getWordCount(String text) {\n        return text.replaceAll(&quot;\\\\p{Punct}{1,}&quot;, &quot; &quot;).split(&quot;\\\\s+&quot;).length;\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Now run your application and start typing, deleting, copy/pasting, etc and watch the two labels (Character count and Word Count) at the bottom of the JFrame Window. I pasted text containing over 6.5 million characters and had no problems with this. You should experience something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/jnvvj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jnvvj.gif\" alt=\"enter image description here\" /></a></p>\n<p>If you like this sort of thing then you can delete the <kbd>Count</kbd> button and any events and or concepts related to it.</p>\n"}],"owner":{"account_id":18848708,"reputation":3,"user_id":13748343,"display_name":"Ibad hussain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655820242,"creation_date":1655794434,"question_id":72696444,"body_markdown":"How can I add thread synchronization to this piece of code? It&#39;s a GUI-based WordCount project\r\n\r\nThis is my finals project and I need to apply the concept of thread synchronization in this application:\r\n\r\nI have tried some methods but none of them are working and you please suggest or write some code that can help me implement the thread synchronization concept.\r\n\r\n\r\n```java\r\nimport java.text.NumberFormat;\r\n\r\npublic class Count_word_character extends javax.swing.JFrame {\r\n\r\n    NumberFormat nf;\r\n    public Count_word_character() {\r\n        initComponents();\r\n        nf=NumberFormat.getInstance();\r\n        nf.setMaximumFractionDigits(0);\r\n        nf.setMinimumFractionDigits(0);\r\n    }\r\n    \r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jScrollPane1 = new javax.swing.JScrollPane();\r\n        txt = new javax.swing.JTextArea();\r\n        jButton1 = new javax.swing.JButton();\r\n        jButton2 = new javax.swing.JButton();\r\n        jSeparator1 = new javax.swing.JSeparator();\r\n        letter = new javax.swing.JLabel();\r\n        word = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jLabel1.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 14)); // NOI18N\r\n        jLabel1.setText(&quot;ENTER YOUR TEXT HERE :&quot;);\r\n\r\n        txt.setColumns(20);\r\n        txt.setRows(5);\r\n        jScrollPane1.setViewportView(txt);\r\n\r\n        jButton1.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 13)); // NOI18N\r\n        jButton1.setText(&quot;Count&quot;);\r\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jButton2.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 13)); // NOI18N\r\n        jButton2.setText(&quot;Clear&quot;);\r\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jButton2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        letter.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 12)); // NOI18N\r\n        letter.setText(&quot;Total Number of Character : &quot;);\r\n\r\n        word.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 12)); // NOI18N\r\n        word.setText(&quot;Total Number of Word : &quot;);\r\n\r\n        jLabel2.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 18)); // NOI18N\r\n        jLabel2.setText(&quot;JAVA WORD COUNTER&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)\r\n                        .addContainerGap())\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                        .addComponent(jSeparator1)\r\n                        .addContainerGap())))\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(55, 55, 55)\r\n                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(62, 62, 62))\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addContainerGap()\r\n                        .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(55, 55, 55)\r\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\r\n                            .addComponent(letter, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                            .addComponent(word, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addGap(95, 95, 95)\r\n                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jLabel2)\r\n                .addGap(10, 10, 10)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(18, 18, 18)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jButton1)\r\n                    .addComponent(jButton2))\r\n                .addGap(18, 18, 18)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(layout.createSequentialGroup()\r\n                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                        .addGap(27, 27, 27))\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\r\n                        .addComponent(letter)\r\n                        .addGap(18, 18, 18)))\r\n                .addComponent(word)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        \r\n        String s;\r\n        s=txt.getText();\r\n        char c[]= new char[s.length()];\r\n        int i=0,count=0,l=0;\r\n        for(i=0;i&lt;s.length();i++){\r\n            c[i]=s.charAt(i);\r\n            \r\n            //count Charcters\r\n            if(i&gt;0 ||((c[0]!=&#39; &#39;)&amp;&amp;(i==0)))\r\n                l++;\r\n            \r\n          \r\n   \r\n            //count Words\r\n            if(((i&gt;0)&amp;&amp;(c[i]!=&#39; &#39;)&amp;&amp;(c[i-1]==&#39; &#39;))||((c[0]!=&#39; &#39;)&amp;&amp;(i==0))){\r\n               count++; \r\n            }\r\n            \r\n        }\r\n        \r\n        letter.setText(nf.format(l));\r\n        word.setText(nf.format(count));\r\n    }                                        \r\n\r\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n        // TODO add your handling code here:\r\n        txt.setText(null);\r\n        letter.setText(null);\r\n        word.setText(null);\r\n    }                                        \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n        \r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Count_word_character().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JButton jButton2;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JScrollPane jScrollPane1;\r\n    private javax.swing.JSeparator jSeparator1;\r\n    private javax.swing.JLabel letter;\r\n    private javax.swing.JTextArea txt;\r\n    private javax.swing.JLabel word;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n\r\n \r\n\r\n    ","title":"How can I implement thread synchronization in word count tool GUI-based project","body":"<p>How can I add thread synchronization to this piece of code? It's a GUI-based WordCount project</p>\n<p>This is my finals project and I need to apply the concept of thread synchronization in this application:</p>\n<p>I have tried some methods but none of them are working and you please suggest or write some code that can help me implement the thread synchronization concept.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.NumberFormat;\n\npublic class Count_word_character extends javax.swing.JFrame {\n\n    NumberFormat nf;\n    public Count_word_character() {\n        initComponents();\n        nf=NumberFormat.getInstance();\n        nf.setMaximumFractionDigits(0);\n        nf.setMinimumFractionDigits(0);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        txt = new javax.swing.JTextArea();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n        jSeparator1 = new javax.swing.JSeparator();\n        letter = new javax.swing.JLabel();\n        word = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel1.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 14)); // NOI18N\n        jLabel1.setText(&quot;ENTER YOUR TEXT HERE :&quot;);\n\n        txt.setColumns(20);\n        txt.setRows(5);\n        jScrollPane1.setViewportView(txt);\n\n        jButton1.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 13)); // NOI18N\n        jButton1.setText(&quot;Count&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jButton2.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 13)); // NOI18N\n        jButton2.setText(&quot;Clear&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        letter.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 12)); // NOI18N\n        letter.setText(&quot;Total Number of Character : &quot;);\n\n        word.setFont(new java.awt.Font(&quot;Calibri&quot;, 1, 12)); // NOI18N\n        word.setText(&quot;Total Number of Word : &quot;);\n\n        jLabel2.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 18)); // NOI18N\n        jLabel2.setText(&quot;JAVA WORD COUNTER&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 380, Short.MAX_VALUE)\n                        .addContainerGap())\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                        .addComponent(jSeparator1)\n                        .addContainerGap())))\n            .addGroup(layout.createSequentialGroup()\n                .addGap(55, 55, 55)\n                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(62, 62, 62))\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addContainerGap()\n                        .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(55, 55, 55)\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)\n                            .addComponent(letter, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                            .addComponent(word, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(95, 95, 95)\n                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jLabel2)\n                .addGap(10, 10, 10)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(18, 18, 18)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jButton2))\n                .addGap(18, 18, 18)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)\n                        .addGap(27, 27, 27))\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()\n                        .addComponent(letter)\n                        .addGap(18, 18, 18)))\n                .addComponent(word)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        \n        String s;\n        s=txt.getText();\n        char c[]= new char[s.length()];\n        int i=0,count=0,l=0;\n        for(i=0;i&lt;s.length();i++){\n            c[i]=s.charAt(i);\n            \n            //count Charcters\n            if(i&gt;0 ||((c[0]!=' ')&amp;&amp;(i==0)))\n                l++;\n            \n          \n   \n            //count Words\n            if(((i&gt;0)&amp;&amp;(c[i]!=' ')&amp;&amp;(c[i-1]==' '))||((c[0]!=' ')&amp;&amp;(i==0))){\n               count++; \n            }\n            \n        }\n        \n        letter.setText(nf.format(l));\n        word.setText(nf.format(count));\n    }                                        \n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n        txt.setText(null);\n        letter.setText(null);\n        word.setText(null);\n    }                                        \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Count_word_character.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n        \n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Count_word_character().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JSeparator jSeparator1;\n    private javax.swing.JLabel letter;\n    private javax.swing.JTextArea txt;\n    private javax.swing.JLabel word;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","spring-boot","java-8","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1512144873,"post_id":47597274,"comment_id":82152654,"body_markdown":"What error are you getting?","body":"What error are you getting?"},{"owner":{"account_id":7604597,"reputation":338,"user_id":5767888,"accept_rate":80,"display_name":"Satya"},"score":0,"creation_date":1512147427,"post_id":47597274,"comment_id":82154088,"body_markdown":"Incompatible type Required ACHTransaction Found boolean","body":"Incompatible type Required ACHTransaction Found boolean"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1512164657,"post_id":47597274,"comment_id":82162544,"body_markdown":"`removeIf` modifies the collection you’re invoking it on and returns a `boolean` telling you whether it did modify the collection, i.e. if there was any matching element. You can’t assign that `boolean` to a `List`.","body":"<code>removeIf</code> modifies the collection you’re invoking it on and returns a <code>boolean</code> telling you whether it did modify the collection, i.e. if there was any matching element. You can’t assign that <code>boolean</code> to a <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":7604597,"reputation":338,"user_id":5767888,"accept_rate":80,"display_name":"Satya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512152229,"creation_date":1512152229,"answer_id":47599252,"question_id":47597274,"body_markdown":"At present I solved it like\r\n\r\n    List&lt;ACHTransaction&gt; transactions =\r\n            achManagementDao\r\n                .retrieveTransactions(getJobParameters())\r\n                .stream()\r\n                .filter(t -&gt; !(Optional.ofNullable(t.getFileHash()).orElse(0).intValue() == 0))\r\n                .collect(Collectors.toList());\r\n\r\nbut please let me know if there is better way","title":"use of removeif for filtering list containing objects","body":"<p>At present I solved it like</p>\n\n<pre><code>List&lt;ACHTransaction&gt; transactions =\n        achManagementDao\n            .retrieveTransactions(getJobParameters())\n            .stream()\n            .filter(t -&gt; !(Optional.ofNullable(t.getFileHash()).orElse(0).intValue() == 0))\n            .collect(Collectors.toList());\n</code></pre>\n\n<p>but please let me know if there is better way</p>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1512168901,"creation_date":1512168901,"answer_id":47602641,"question_id":47597274,"body_markdown":"You can retrieve the list and then remove the elements with `removeIf`:\r\n\r\n    List&lt;ACHTransaction&gt; transactions =\r\n        transactionDao.retrieveTransactions(getJobParameters());\r\n\r\n    transactions.removeIf(t -&gt; t.getFileHash() != null);\r\n\r\nOr you can do as in your own answer and use a stream:\r\n\r\n    List&lt;ACHTransaction&gt; transactions =\r\n        transactionDao.retrieveTransactions(getJobParameters()).stream()\r\n            .filter(t -&gt; t.getFileHash() == null)\r\n            .collect(Collectors.toList());\r\n\r\n","title":"use of removeif for filtering list containing objects","body":"<p>You can retrieve the list and then remove the elements with <code>removeIf</code>:</p>\n\n<pre><code>List&lt;ACHTransaction&gt; transactions =\n    transactionDao.retrieveTransactions(getJobParameters());\n\ntransactions.removeIf(t -&gt; t.getFileHash() != null);\n</code></pre>\n\n<p>Or you can do as in your own answer and use a stream:</p>\n\n<pre><code>List&lt;ACHTransaction&gt; transactions =\n    transactionDao.retrieveTransactions(getJobParameters()).stream()\n        .filter(t -&gt; t.getFileHash() == null)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12400915,"reputation":11,"user_id":9038219,"display_name":"Programmer Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512369031,"creation_date":1512369031,"answer_id":47627678,"question_id":47597274,"body_markdown":" I tested below piece of code and it worked as required. I hope this is what you were looking for.\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class TestRemoveIf {\r\n\t\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tTransaction myTrans1 = new Transaction(&quot;myTrans1&quot;);\r\n\t\tTransaction myTrans2 = new Transaction(&quot;myTrans2&quot;);\r\n\t\tTransaction myTrans3 = new Transaction(&quot;myTrans3&quot;);\r\n\t\tTransaction myTrans4 = new Transaction(&quot;myTrans4&quot;);\r\n\t\t\r\n\t\tmyTrans1.setFileHash(&quot;not Null&quot;);\r\n\t\tmyTrans3.setFileHash(&quot;not null&quot;);\r\n\t\t\r\n\t\tList&lt;Transaction&gt; trList = new ArrayList();\r\n\t\ttrList.add(myTrans1);\r\n\t\ttrList.add(myTrans2);\r\n\t\ttrList.add(myTrans3);\r\n\t\ttrList.add(myTrans4);\r\n\t\t\r\n\t\ttrList.removeIf(t -&gt; t.getFileHash()!=null);\r\n\t\t\r\n\t\tSystem.out.println(trList);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\r\n    }\r\n\r\n\r\n    public class Transaction {\r\n\t\r\n\tString fileHash;\r\n\tString name;\r\n\r\n\tpublic String getFileHash() {\r\n\t\treturn fileHash;\r\n\t}\r\n\r\n\tpublic void setFileHash(String fileHash) {\r\n\t\tthis.fileHash = fileHash;\r\n\t}\r\n\r\n\tpublic Transaction(String name) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Transaction [fileHash=&quot; + fileHash + &quot;, name=&quot; + name + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n\r\n    }\r\n\r\n","title":"use of removeif for filtering list containing objects","body":"<p>I tested below piece of code and it worked as required. I hope this is what you were looking for.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class TestRemoveIf {\n\n\n\npublic static void main(String[] args) {\n\n    Transaction myTrans1 = new Transaction(\"myTrans1\");\n    Transaction myTrans2 = new Transaction(\"myTrans2\");\n    Transaction myTrans3 = new Transaction(\"myTrans3\");\n    Transaction myTrans4 = new Transaction(\"myTrans4\");\n\n    myTrans1.setFileHash(\"not Null\");\n    myTrans3.setFileHash(\"not null\");\n\n    List&lt;Transaction&gt; trList = new ArrayList();\n    trList.add(myTrans1);\n    trList.add(myTrans2);\n    trList.add(myTrans3);\n    trList.add(myTrans4);\n\n    trList.removeIf(t -&gt; t.getFileHash()!=null);\n\n    System.out.println(trList);\n\n\n}\n\n\n}\n\n\npublic class Transaction {\n\nString fileHash;\nString name;\n\npublic String getFileHash() {\n    return fileHash;\n}\n\npublic void setFileHash(String fileHash) {\n    this.fileHash = fileHash;\n}\n\npublic Transaction(String name) {\n    super();\n    this.name = name;\n}\n\n@Override\npublic String toString() {\n    return \"Transaction [fileHash=\" + fileHash + \", name=\" + name + \"]\";\n}\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12114135,"reputation":1,"user_id":8849377,"display_name":"Mohamed Ali AMRI"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655819323,"creation_date":1655818997,"answer_id":72701909,"question_id":47597274,"body_markdown":"    List&lt;ACHTransaction&gt; transactions =\r\n        transactionDao.retrieveTransactions(getJobParameters());\r\n    \r\n    Predicate&lt;ACHTransaction&gt; cond = (t -&gt; Objects.nonNull(t.getFileHash())));\r\n    \r\n    transactions.removeIf(cond);","title":"use of removeif for filtering list containing objects","body":"<pre><code>List&lt;ACHTransaction&gt; transactions =\n    transactionDao.retrieveTransactions(getJobParameters());\n\nPredicate&lt;ACHTransaction&gt; cond = (t -&gt; Objects.nonNull(t.getFileHash())));\n\ntransactions.removeIf(cond);\n</code></pre>\n"}],"owner":{"account_id":7604597,"reputation":338,"user_id":5767888,"accept_rate":80,"display_name":"Satya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8300,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47602641,"answer_count":4,"score":4,"last_activity_date":1655819323,"creation_date":1512144802,"question_id":47597274,"body_markdown":"I am stuck on using removeif java 8 and looking for some help\r\n\r\n    List&lt;ACHTransaction&gt; transactions = transactionDao.retrieveTransactions(getJobParameters();\r\n\r\nfrom transactions I want to remove those transactions based on checking property of object\r\n\r\nif transaction.getFileHash is not null then I want to remove that transaction. if transaction.getFileHash is null I want to keep it.\r\n\r\nso I am trying removeif\r\n\r\n\r\n    List&lt;ACHTransaction&gt; transactions = transactionDao.retrieveTransactions(getJobParameters().removeIf(t -&gt; (Optional.ofNullable(t.getFileHash()).orElse(0).intValue() != 0));\r\n\r\n\r\nbut I am getting errors. Is someone can explain how removeif work with object properties?\r\n\r\n","title":"use of removeif for filtering list containing objects","body":"<p>I am stuck on using removeif java 8 and looking for some help</p>\n\n<pre><code>List&lt;ACHTransaction&gt; transactions = transactionDao.retrieveTransactions(getJobParameters();\n</code></pre>\n\n<p>from transactions I want to remove those transactions based on checking property of object</p>\n\n<p>if transaction.getFileHash is not null then I want to remove that transaction. if transaction.getFileHash is null I want to keep it.</p>\n\n<p>so I am trying removeif</p>\n\n<pre><code>List&lt;ACHTransaction&gt; transactions = transactionDao.retrieveTransactions(getJobParameters().removeIf(t -&gt; (Optional.ofNullable(t.getFileHash()).orElse(0).intValue() != 0));\n</code></pre>\n\n<p>but I am getting errors. Is someone can explain how removeif work with object properties?</p>\n"},{"tags":["java","batch-file","cmd","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":5424577,"reputation":544,"user_id":4317279,"display_name":"Simon Sadetsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539633940,"creation_date":1539633940,"answer_id":52823996,"question_id":52822993,"body_markdown":"`bat` is a console script that requires a console window to run. You could run it minimized with `/MIN&#39; flag (the console will only show up in the taskbar). If you need to run it totally invisible like a daemon you can try using the solution explained [here][1].\r\n\r\n  [1]: https://www.howtogeek.com/131597/can-i-run-a-windows-batch-file-without-a-visible-command-prompt/","title":"Run command prompt in the background or in minimized mode using Java","body":"<p><code>bat</code> is a console script that requires a console window to run. You could run it minimized with `/MIN' flag (the console will only show up in the taskbar). If you need to run it totally invisible like a daemon you can try using the solution explained <a href=\"https://www.howtogeek.com/131597/can-i-run-a-windows-batch-file-without-a-visible-command-prompt/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":9720308,"reputation":41,"user_id":7209253,"display_name":"Amritesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655819145,"creation_date":1655818752,"answer_id":72701846,"question_id":52822993,"body_markdown":"use call in place of start, see below\r\n\r\n    Process jmeter = Runtime.getRuntime().exec(new String[]{&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;call &quot; + executionString});\r\n    jmeter.waitFor();\r\n\r\nwhereas `executionString` can be fairly long, for example below (trying to run jmeter with automated parameters)\r\n\r\n    C:\\Workspace\\Jmeter\\apache-jmeter-5.4.3\\bin\\jmeter.bat -n -t C:\\Workspace\\Jmeter\\jmx\\my_request.jmx -l C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\csv_output\\output.csv -e -o C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\html_output\\ -JnoOfThreads=1 -JloopCount=1 -JrampUpPeriod=1 -JresLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\error_response\\ -JaggrRprLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\aggregate_report\\ -JsummryRprLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\summery_report\\ -JresTreLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\tree_results\\ -JbaseUrl=my-url -Jprotocal=https -Jport=null -Jbasic_token=mytoken -JtargetThroughput=240 -j C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\log\\//jmeter_log.log","title":"Run command prompt in the background or in minimized mode using Java","body":"<p>use call in place of start, see below</p>\n<pre><code>Process jmeter = Runtime.getRuntime().exec(new String[]{&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;call &quot; + executionString});\njmeter.waitFor();\n</code></pre>\n<p>whereas <code>executionString</code> can be fairly long, for example below (trying to run jmeter with automated parameters)</p>\n<pre><code>C:\\Workspace\\Jmeter\\apache-jmeter-5.4.3\\bin\\jmeter.bat -n -t C:\\Workspace\\Jmeter\\jmx\\my_request.jmx -l C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\csv_output\\output.csv -e -o C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\html_output\\ -JnoOfThreads=1 -JloopCount=1 -JrampUpPeriod=1 -JresLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\error_response\\ -JaggrRprLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\aggregate_report\\ -JsummryRprLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\summery_report\\ -JresTreLoc=C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\tree_results\\ -JbaseUrl=my-url -Jprotocal=https -Jport=null -Jbasic_token=mytoken -JtargetThroughput=240 -j C:\\Workspace\\Jmeter\\results\\2022_06_21_18_59_12\\log\\//jmeter_log.log\n</code></pre>\n"}],"owner":{"account_id":8633066,"reputation":45,"user_id":6464119,"display_name":"Amowe B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52823996,"answer_count":2,"score":0,"last_activity_date":1655819145,"creation_date":1539629293,"question_id":52822993,"body_markdown":"I have written a code that executes a .bat file for me in cmd. However, the cmd window pops. I don&#39;t want the window to pop up, is there a way i can run it in the background or minimized mode using java. This is what I have.\r\n\r\n     File dir = new File(&quot;C:/Users/SilverFox/IdeaProjects/scanapp_master/scanforcard/&quot;);\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;cmd.exe&quot;,  &quot;/C&quot;, &quot;start&quot;,&quot;runthis.bat&quot; );\r\n            pb.directory(dir);\r\n            Process p = pb.start();","title":"Run command prompt in the background or in minimized mode using Java","body":"<p>I have written a code that executes a .bat file for me in cmd. However, the cmd window pops. I don't want the window to pop up, is there a way i can run it in the background or minimized mode using java. This is what I have.</p>\n\n<pre><code> File dir = new File(\"C:/Users/SilverFox/IdeaProjects/scanapp_master/scanforcard/\");\n        ProcessBuilder pb = new ProcessBuilder(\"cmd.exe\",  \"/C\", \"start\",\"runthis.bat\" );\n        pb.directory(dir);\n        Process p = pb.start();\n</code></pre>\n"},{"tags":["java","json","h2"],"answers":[{"tags":[],"owner":{"account_id":19123769,"reputation":21,"user_id":13967151,"display_name":"madrile&#241;o"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595306523,"creation_date":1595306523,"answer_id":63007525,"question_id":62194427,"body_markdown":"If you don&#39;t have a really good reason to use json columns, just change de `columnDefinition` attribute in `@Column`\r\n\r\n    @Column(name = &quot;meta_data&quot;, columnDefinition = &quot;text&quot;)\r\n    @Convert(converter = JsonConverter.class)\r\n    private MetaData metaData;\r\n\r\nAnd define a custom converter:\r\n\r\n    @Converter\r\n    public static class JsonConverter implements AttributeConverter&lt;MetaData, String&gt; {\r\n\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n\r\n        @Override\r\n        @SneakyThrows\r\n        public String convertToDatabaseColumn(MetaData metaData) {\r\n            return mapper.writeValueAsString(metaData);\r\n        }\r\n\r\n        @Override\r\n        @SneakyThrows\r\n        public MetaData convertToEntityAttribute(String s) {\r\n            return mapper.readValue(s, MetaData.class);\r\n        }\r\n\r\n    }","title":"json deserialization issue with h2 while testing","body":"<p>If you don't have a really good reason to use json columns, just change de <code>columnDefinition</code> attribute in <code>@Column</code></p>\n<pre><code>@Column(name = &quot;meta_data&quot;, columnDefinition = &quot;text&quot;)\n@Convert(converter = JsonConverter.class)\nprivate MetaData metaData;\n</code></pre>\n<p>And define a custom converter:</p>\n<pre><code>@Converter\npublic static class JsonConverter implements AttributeConverter&lt;MetaData, String&gt; {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @Override\n    @SneakyThrows\n    public String convertToDatabaseColumn(MetaData metaData) {\n        return mapper.writeValueAsString(metaData);\n    }\n\n    @Override\n    @SneakyThrows\n    public MetaData convertToEntityAttribute(String s) {\n        return mapper.readValue(s, MetaData.class);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1810192,"reputation":171,"user_id":1646432,"display_name":"oded"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655819001,"creation_date":1655819001,"answer_id":72701912,"question_id":62194427,"body_markdown":"I just had the same problem you had.\r\nfixed it by using JsonType, it will work no matter what DB you are using. \r\nin class level:\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\r\n\r\nin column i have:\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(columnDefinition = &quot;json&quot;)\r\n\r\n\r\nI am using `hibernate-types-55 2.16.2`","title":"json deserialization issue with h2 while testing","body":"<p>I just had the same problem you had.\nfixed it by using JsonType, it will work no matter what DB you are using.\nin class level:</p>\n<pre><code>@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)\n</code></pre>\n<p>in column i have:</p>\n<pre><code>@Type(type = &quot;json&quot;)\n@Column(columnDefinition = &quot;json&quot;)\n</code></pre>\n<p>I am using <code>hibernate-types-55 2.16.2</code></p>\n"}],"owner":{"account_id":369824,"reputation":1540,"user_id":717417,"accept_rate":100,"display_name":"santosh-patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2278,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1655819001,"creation_date":1591273165,"question_id":62194427,"body_markdown":"I have the following hibernate entity\r\n\r\n    @Data\r\n    @Entity\r\n    @TypeDef(\r\n            typeClass = JsonStringType.class,\r\n            defaultForType = MetaData.class\r\n    )\r\n    public class DbEntity(){\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;user_id&quot;, nullable = false, updatable = false)\r\n        private String userId;\r\n    \r\n        @Column(name = &quot;meta_data&quot;, columnDefinition = &quot;json&quot;)\r\n        private MetaData metaData;\r\n    }\r\n\r\nThe MetaData class is as follows:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class MetaData {\r\n        private Long amount;\r\n        private Date date;\r\n    }\r\n\r\nThe metadata field is stored as json in db. This works with mysql. But I&#39;m writing tests using h2 and am not able to read values in field `metaData`.\r\n\r\nException I&#39;m getting is:\r\n\r\n    Exception: The given string value: &quot;{\\&quot;amount\\&quot;:100,\\&quot;date\\&quot;:1593690610000}&quot; cannot be transformed to Json object\r\n    ..\r\n    ..\r\n    Caused by: java.lang.IllegalArgumentException: The given string value: &quot;{\\&quot;amount\\&quot;:100,\\&quot;date\\&quot;:1593690610000}&quot; cannot be transformed to Json object\r\n    ..\r\n    ..\r\n    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `foo.bar.MetaData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{\\&quot;amount\\&quot;:100,\\&quot;date\\&quot;:1593690610000}&#39;)\r\n     at [Source: (String)&quot;&quot;{\\&quot;amount\\&quot;:100,\\&quot;date\\&quot;:1593690610000}&quot;&quot;; line: 1, column: 1]\r\n\r\nI&#39;m using `1.4.200` version of h2.\r\n\r\nMost of the solutions mentioned for the problem are around h2 supporting json or jsonb. But my version of h2 supports json.\r\n\r\nAlso, if I remove `columnDefinition = &quot;json&quot;` from `@Column` of `metaData`, tests work as expected. But, in that case, mysql implementation doesn&#39;t work.\r\n\r\n[This][1] h2 official page suggests to add `FORMAT JSON` in insert sql statement. But I&#39;m not sure how to add it as I&#39;m using hibernate.\r\n\r\n\r\n  [1]: http://www.h2database.com/html/datatypes.html#json_type","title":"json deserialization issue with h2 while testing","body":"<p>I have the following hibernate entity</p>\n\n<pre><code>@Data\n@Entity\n@TypeDef(\n        typeClass = JsonStringType.class,\n        defaultForType = MetaData.class\n)\npublic class DbEntity(){\n    @Column(name = \"id\", unique = true, nullable = false)\n    private String id;\n\n    @Column(name = \"user_id\", nullable = false, updatable = false)\n    private String userId;\n\n    @Column(name = \"meta_data\", columnDefinition = \"json\")\n    private MetaData metaData;\n}\n</code></pre>\n\n<p>The MetaData class is as follows:</p>\n\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MetaData {\n    private Long amount;\n    private Date date;\n}\n</code></pre>\n\n<p>The metadata field is stored as json in db. This works with mysql. But I'm writing tests using h2 and am not able to read values in field <code>metaData</code>.</p>\n\n<p>Exception I'm getting is:</p>\n\n<pre><code>Exception: The given string value: \"{\\\"amount\\\":100,\\\"date\\\":1593690610000}\" cannot be transformed to Json object\n..\n..\nCaused by: java.lang.IllegalArgumentException: The given string value: \"{\\\"amount\\\":100,\\\"date\\\":1593690610000}\" cannot be transformed to Json object\n..\n..\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `foo.bar.MetaData` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{\\\"amount\\\":100,\\\"date\\\":1593690610000}')\n at [Source: (String)\"\"{\\\"amount\\\":100,\\\"date\\\":1593690610000}\"\"; line: 1, column: 1]\n</code></pre>\n\n<p>I'm using <code>1.4.200</code> version of h2.</p>\n\n<p>Most of the solutions mentioned for the problem are around h2 supporting json or jsonb. But my version of h2 supports json.</p>\n\n<p>Also, if I remove <code>columnDefinition = \"json\"</code> from <code>@Column</code> of <code>metaData</code>, tests work as expected. But, in that case, mysql implementation doesn't work.</p>\n\n<p><a href=\"http://www.h2database.com/html/datatypes.html#json_type\" rel=\"nofollow noreferrer\">This</a> h2 official page suggests to add <code>FORMAT JSON</code> in insert sql statement. But I'm not sure how to add it as I'm using hibernate.</p>\n"},{"tags":["java","gradle","nexus"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655819161,"post_id":72701884,"comment_id":128418146,"body_markdown":"Have you looked into their documentation: https://docs.axelor.com/adk/5.3/dev-guide/application/index.html ? How does your build.gradle look like?","body":"Have you looked into their documentation: <a href=\"https://docs.axelor.com/adk/5.3/dev-guide/application/index.html\" rel=\"nofollow noreferrer\">docs.axelor.com/adk/5.3/dev-guide/application/index.html</a> ? How does your build.gradle look like?"},{"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"score":0,"creation_date":1655819878,"post_id":72701884,"comment_id":128418472,"body_markdown":"I read the documentation I still can&#39;t find the jar that contains the plugin.\nthis is the build.gradle https://github.com/axelor/open-suite-webapp/blob/master/build.gradle","body":"I read the documentation I still can&#39;t find the jar that contains the plugin. this is the build.gradle <a href=\"https://github.com/axelor/open-suite-webapp/blob/master/build.gradle\" rel=\"nofollow noreferrer\">github.com/axelor/open-suite-webapp/blob/master/build.gradle</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655820112,"post_id":72701884,"comment_id":128418569,"body_markdown":"Do you mean the plugin jar file that gradle downloaded? https://repository.axelor.com/nexus/#browse/browse:maven-public:com%2Faxelor%2Faxelor-gradle%2F5.4.13 . Probably it is in one of the gradle caches under `~/.gradle`. Also: https://repository.axelor.com/nexus/public/com/axelor/axelor-gradle/axelor-gradle-5.4.13.jar","body":"Do you mean the plugin jar file that gradle downloaded? <a href=\"https://repository.axelor.com/nexus/#browse/browse:maven-public:com%2Faxelor%2Faxelor-gradle%2F5.4.13\" rel=\"nofollow noreferrer\">repository.axelor.com/nexus/#browse/&hellip;</a> . Probably it is in one of the gradle caches under <code>~&#47;.gradle</code>. Also: <a href=\"https://repository.axelor.com/nexus/public/com/axelor/axelor-gradle/axelor-gradle-5.4.13.jar\" rel=\"nofollow noreferrer\">repository.axelor.com/nexus/public/com/axelor/axelor-gradle/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"score":0,"creation_date":1655820231,"post_id":72701884,"comment_id":128418613,"body_markdown":"yes I am trying to find that jar. there is nothing relating to the plugin in the ~/.gradle folder.\nI don&#39;t know where is gradle searching the plugin.","body":"yes I am trying to find that jar. there is nothing relating to the plugin in the ~/.gradle folder. I don&#39;t know where is gradle searching the plugin."}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655818900,"creation_date":1655818900,"question_id":72701884,"body_markdown":"I am trying to get the plugin&#39;s jars from a nexus repository **https://repository.axelor.com/nexus/public/**\r\n\r\nthe plugin: &quot;com.axelor.app&quot; In the .gradle folder I only find a pom file **com.axelor.app.gradle.plugin-5.4.13.pom**\r\n","title":"Find plugin&#39;s jar from a nexsus public repository","body":"<p>I am trying to get the plugin's jars from a nexus repository <strong><a href=\"https://repository.axelor.com/nexus/public/\" rel=\"nofollow noreferrer\">https://repository.axelor.com/nexus/public/</a></strong></p>\n<p>the plugin: &quot;com.axelor.app&quot; In the .gradle folder I only find a pom file <strong>com.axelor.app.gradle.plugin-5.4.13.pom</strong></p>\n"},{"tags":["java","python-3.x","lambda","java-8","lambda-calculus"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1655802024,"post_id":72697909,"comment_id":128411592,"body_markdown":"What do you mean by `f(2x,2y)` and `f(2x+y+3z+4m+5n)`? Particularly the latter: that only has a single input, so how can it know the values of `x`, `y`, `z` etc distinctly?","body":"What do you mean by <code>f(2x,2y)</code> and <code>f(2x+y+3z+4m+5n)</code>? Particularly the latter: that only has a single input, so how can it know the values of <code>x</code>, <code>y</code>, <code>z</code> etc distinctly?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1655802532,"post_id":72697909,"comment_id":128411774,"body_markdown":"`myFun(x,y)(1,2)(3,4)` - in Java, this code has no sense at all. I guess it would be better to start with a basic [tutorial on lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and, firstly, on [language basics](https://docs.oracle.com/javase/tutorial/java/index.html). If you hope to learn a new language by trying to reproduce your experience in another language (without reading books, documentation, etc.) that would not work.","body":"<code>myFun(x,y)(1,2)(3,4)</code> - in Java, this code has no sense at all. I guess it would be better to start with a basic <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">tutorial on lambda expressions</a> and, firstly, on <a href=\"https://docs.oracle.com/javase/tutorial/java/index.html\" rel=\"nofollow noreferrer\">language basics</a>. If you hope to learn a new language by trying to reproduce your experience in another language (without reading books, documentation, etc.) that would not work."},{"owner":{"account_id":11459983,"reputation":39,"user_id":8399913,"display_name":"Old Letter"},"score":0,"creation_date":1655806478,"post_id":72697909,"comment_id":128413242,"body_markdown":"myFun（x，y）（1，2）（3，4）is Pseudo code","body":"myFun（x，y）（1，2）（3，4）is Pseudo code"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655814025,"creation_date":1655814025,"answer_id":72700666,"question_id":72697909,"body_markdown":"Try this.\r\n\r\n    interface F { double apply(double x, double y); }\r\n    interface G { F apply(double a, double b); }\r\n\r\n    G myFunc = (a, b) -&gt; (x, y) -&gt; a * x + b * y;\r\n    System.out.println(myFunc.apply(1, 2).apply(3, 4));\r\n\r\noutput:\r\n\r\n    11.0","title":"Can i use Lambda Expression in jdk8，Implement a generic function to calculate way","body":"<p>Try this.</p>\n<pre><code>interface F { double apply(double x, double y); }\ninterface G { F apply(double a, double b); }\n\nG myFunc = (a, b) -&gt; (x, y) -&gt; a * x + b * y;\nSystem.out.println(myFunc.apply(1, 2).apply(3, 4));\n</code></pre>\n<p>output:</p>\n<pre><code>11.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655818776,"creation_date":1655814042,"answer_id":72700671,"question_id":72697909,"body_markdown":"I believe this is what you want.\r\n- create a `BiFunction`  that returns a lambda which takes `x` and `y` and applies the subsequent lambda to `xx` and `yy`.\r\n\r\n```\r\nBiFunction&lt;Integer,Integer, IntBinaryOperator&gt; fn1 = (x,y)-&gt; (xx,yy)-&gt; x*xx + y*yy;\r\nint result = fn1.apply(1,2).applyAsInt(3,4);\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\n11\r\n```\r\nBoth the `BiFunction` and `IntBinaryOperator` are Functional interfaces in the [java.util.function](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html) package.  To use more variables, one  has to define new functional interfaces.\r\n```\r\n\r\ninterface TriFunction&lt;S,T,U,V&gt; {\r\n\tV apply(S arg1, T arg2, U arg3);\r\n}\r\n\r\ninterface IntTrinaryOperator {\r\n\tint applyAsInt(int ar1,int arg2, int arg3);\r\n}\r\n```\r\nThen  declare the result as before.\r\n```\r\n\r\nTriFunction&lt;Integer,Integer, Integer,IntTrinaryOperator&gt; fn2 = (x,y,z)-&gt; (xx,yy,zz)-&gt; x*xx + y*yy + z*zz;\r\nint result2 = fn2.apply(1,2,3).applyAsInt(1,1,1);\r\nSystem.out.println(result2);\r\n```\r\nprints\r\n```\r\n6\r\n```\r\n**Update**\r\n\r\nAs long as you are using primitive types as the arguments you can use the `...` notation to allow different number of arguments.\r\n```\r\ninterface IntNaryOperator {\r\n\tint applyAsInt(int...a);\r\n}\r\n\r\ninterface NFunction&lt;R&gt; {\r\n\tR apply(int...s);\r\n}\r\n\r\nNFunction&lt;IntNaryOperator&gt; fn3 = (int[] a)-&gt;(int[] b)-&gt; {\r\n\t              \r\n\t              int sum = 0;\r\n\t              for (int i = 0;i &lt; a.length; i++) {\r\n\t            \t  sum += (a[i]*b[i]);\r\n\t              }\r\n\t              return sum;\r\n};\r\n\r\nint sum  = fn3.apply(1,2,3,4,5,6,7).applyAsInt(1,2,3,4,5,6,7);\r\nSystem.out.println(sum);\r\n```\r\nprints\r\n```\r\n140\r\n```\r\nIf generic arrays are used it is possible to [pollute the heap](https://stackoverflow.com/questions/48067112/what-is-an-apparently-correct-example-of-java-code-causing-heap-pollution). The method names can of course be changed to whatever makes sense for you.\r\nAnd you may want to verify that the supplied argument counts are the same or you could get an `ArrayIndexOutOfBoundsException`.\r\n","title":"Can i use Lambda Expression in jdk8，Implement a generic function to calculate way","body":"<p>I believe this is what you want.</p>\n<ul>\n<li>create a <code>BiFunction</code>  that returns a lambda which takes <code>x</code> and <code>y</code> and applies the subsequent lambda to <code>xx</code> and <code>yy</code>.</li>\n</ul>\n<pre><code>BiFunction&lt;Integer,Integer, IntBinaryOperator&gt; fn1 = (x,y)-&gt; (xx,yy)-&gt; x*xx + y*yy;\nint result = fn1.apply(1,2).applyAsInt(3,4);\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>11\n</code></pre>\n<p>Both the <code>BiFunction</code> and <code>IntBinaryOperator</code> are Functional interfaces in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">java.util.function</a> package.  To use more variables, one  has to define new functional interfaces.</p>\n<pre><code>\ninterface TriFunction&lt;S,T,U,V&gt; {\n    V apply(S arg1, T arg2, U arg3);\n}\n\ninterface IntTrinaryOperator {\n    int applyAsInt(int ar1,int arg2, int arg3);\n}\n</code></pre>\n<p>Then  declare the result as before.</p>\n<pre><code>\nTriFunction&lt;Integer,Integer, Integer,IntTrinaryOperator&gt; fn2 = (x,y,z)-&gt; (xx,yy,zz)-&gt; x*xx + y*yy + z*zz;\nint result2 = fn2.apply(1,2,3).applyAsInt(1,1,1);\nSystem.out.println(result2);\n</code></pre>\n<p>prints</p>\n<pre><code>6\n</code></pre>\n<p><strong>Update</strong></p>\n<p>As long as you are using primitive types as the arguments you can use the <code>...</code> notation to allow different number of arguments.</p>\n<pre><code>interface IntNaryOperator {\n    int applyAsInt(int...a);\n}\n\ninterface NFunction&lt;R&gt; {\n    R apply(int...s);\n}\n\nNFunction&lt;IntNaryOperator&gt; fn3 = (int[] a)-&gt;(int[] b)-&gt; {\n                  \n                  int sum = 0;\n                  for (int i = 0;i &lt; a.length; i++) {\n                      sum += (a[i]*b[i]);\n                  }\n                  return sum;\n};\n\nint sum  = fn3.apply(1,2,3,4,5,6,7).applyAsInt(1,2,3,4,5,6,7);\nSystem.out.println(sum);\n</code></pre>\n<p>prints</p>\n<pre><code>140\n</code></pre>\n<p>If generic arrays are used it is possible to <a href=\"https://stackoverflow.com/questions/48067112/what-is-an-apparently-correct-example-of-java-code-causing-heap-pollution\">pollute the heap</a>. The method names can of course be changed to whatever makes sense for you.\nAnd you may want to verify that the supplied argument counts are the same or you could get an <code>ArrayIndexOutOfBoundsException</code>.</p>\n"}],"owner":{"account_id":11459983,"reputation":39,"user_id":8399913,"display_name":"Old Letter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1655818776,"creation_date":1655801775,"question_id":72697909,"body_markdown":"Like this\r\n```\r\n1.f(x,y)=ax+by\r\n2.f(x,y,z)= ax+by+cz\r\n3.f(2x,2y) = ax^2+by^2 \r\n....\r\n4.f(2x,y,3z,4m,5n) = ax^2+by+cz^3+dm^4+en^5 \r\n```\r\nMy idea is as follows\r\nthis java method named `myFun()()()`\r\n```\r\n1.myFun(x,y)(1,2)(3,4) = x+2y = 3+8 = 11\r\n2.myFun(x,y)(1,2,3)(1,1,1) = x+2y+3z = 1+2+3=6\r\n....\r\n```\r\nI konw **Y combination operator**,and **Currying**，but i don&#39;t know how to use in java，If can&#39;t, I can do it in python?\r\n","title":"Can i use Lambda Expression in jdk8，Implement a generic function to calculate way","body":"<p>Like this</p>\n<pre><code>1.f(x,y)=ax+by\n2.f(x,y,z)= ax+by+cz\n3.f(2x,2y) = ax^2+by^2 \n....\n4.f(2x,y,3z,4m,5n) = ax^2+by+cz^3+dm^4+en^5 \n</code></pre>\n<p>My idea is as follows\nthis java method named <code>myFun()()()</code></p>\n<pre><code>1.myFun(x,y)(1,2)(3,4) = x+2y = 3+8 = 11\n2.myFun(x,y)(1,2,3)(1,1,1) = x+2y+3z = 1+2+3=6\n....\n</code></pre>\n<p>I konw <strong>Y combination operator</strong>,and <strong>Currying</strong>，but i don't know how to use in java，If can't, I can do it in python?</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655818255,"post_id":72701655,"comment_id":128417764,"body_markdown":"So you need to check if the key is equal the to he child (password) value?","body":"So you need to check if the key is equal the to he child (password) value?"}],"answers":[{"tags":[],"owner":{"account_id":25609604,"reputation":11,"user_id":19383238,"display_name":"Jongwoo Jang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655818736,"creation_date":1655818736,"answer_id":72701838,"question_id":72701655,"body_markdown":"Try this\r\n\r\n    public void onClickLogInAdmin(View view)\r\n    {\r\n        // PRE-DEFINED ADMIN PROFILES\r\n        // Read from the database\r\n        ref=ref.child(&quot;AdminCredentials&quot;);\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener()\r\n        {\r\n            @Override\r\n            public void onDataChange(DataSnapshot tasksSnapshot)\r\n            {\r\n                for (DataSnapshot snapshot: tasksSnapshot.getChildren())\r\n                {\r\n                    if(snapshot.getKey().equals(&quot;f190191&quot;)) {\r\n                        String password = (String) snapshot.child(&quot;password&quot;).getValue();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {}\r\n        });\r\n    }","title":"Read Dara from firebase android","body":"<p>Try this</p>\n<pre><code>public void onClickLogInAdmin(View view)\n{\n    // PRE-DEFINED ADMIN PROFILES\n    // Read from the database\n    ref=ref.child(&quot;AdminCredentials&quot;);\n    ref.addListenerForSingleValueEvent(new ValueEventListener()\n    {\n        @Override\n        public void onDataChange(DataSnapshot tasksSnapshot)\n        {\n            for (DataSnapshot snapshot: tasksSnapshot.getChildren())\n            {\n                if(snapshot.getKey().equals(&quot;f190191&quot;)) {\n                    String password = (String) snapshot.child(&quot;password&quot;).getValue();\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {}\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":25609516,"reputation":1,"user_id":19383162,"display_name":"Ali Hassan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655818736,"creation_date":1655818101,"question_id":72701655,"body_markdown":"[Firebase][1]\r\nSee the picture for my database style.\r\nI cannot read and match and passwords against a username, I am sharing my code here.\r\n\r\n  [1]: https://i.stack.imgur.com/VHQTG.jpg\r\n```\r\npublic void onClickLogInAdmin(View view)\r\n    {\r\n//        //PRE-DEFINED ADMIN PROFILES\\\r\n        // Read from the database\r\n        ref=ref.child(&quot;AdminCredentials&quot;);\r\n        ref.addListenerForSingleValueEvent(new ValueEventListener()\r\n        {\r\n            @Override\r\n            public void onDataChange(DataSnapshot tasksSnapshot)\r\n            {\r\n                for (DataSnapshot snapshot: tasksSnapshot.getChildren())\r\n                {\r\n                    String password = (String) snapshot.child(&quot;f190191&quot;).child(&quot;password&quot;).getValue();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {}\r\n\r\n        });\r\n\r\n    }\r\n```","title":"Read Dara from firebase android","body":"<p><a href=\"https://i.stack.imgur.com/VHQTG.jpg\" rel=\"nofollow noreferrer\">Firebase</a>\nSee the picture for my database style.\nI cannot read and match and passwords against a username, I am sharing my code here.</p>\n<pre><code>public void onClickLogInAdmin(View view)\n    {\n//        //PRE-DEFINED ADMIN PROFILES\\\n        // Read from the database\n        ref=ref.child(&quot;AdminCredentials&quot;);\n        ref.addListenerForSingleValueEvent(new ValueEventListener()\n        {\n            @Override\n            public void onDataChange(DataSnapshot tasksSnapshot)\n            {\n                for (DataSnapshot snapshot: tasksSnapshot.getChildren())\n                {\n                    String password = (String) snapshot.child(&quot;f190191&quot;).child(&quot;password&quot;).getValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {}\n\n        });\n\n    }\n</code></pre>\n"},{"tags":["java","recaptcha"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":8,"creation_date":1597821343,"post_id":63481760,"comment_id":112254905,"body_markdown":"captchas are exactly there to verify that an actual user is sitting in front of the website, and not some program which is sending some requests like postman","body":"captchas are exactly there to verify that an actual user is sitting in front of the website, and not some program which is sending some requests like postman"}],"answers":[{"tags":[],"owner":{"account_id":20439501,"reputation":27,"user_id":14996557,"display_name":"Saurabh Dongre"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1610525306,"creation_date":1610525306,"answer_id":65697872,"question_id":63481760,"body_markdown":"captchas are exactly there to verify that an actual user is sitting in front of the website, **and not some program which is sending some requests like postman** ,So you may no be able to verify it using some program.","title":"Google reCaptcha test with Postman","body":"<p>captchas are exactly there to verify that an actual user is sitting in front of the website, <strong>and not some program which is sending some requests like postman</strong> ,So you may no be able to verify it using some program.</p>\n"},{"tags":[],"owner":{"account_id":24525533,"reputation":66,"user_id":18438021,"display_name":"eloimondelo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655818366,"creation_date":1655807119,"answer_id":72699144,"question_id":63481760,"body_markdown":"POST to https://www.google.com/recaptcha/api/siteverify\r\n\r\nSet content type header (Content-Type) : `application/x-www-form-urlencoded`\r\n\r\nIn your body you have to set the secret and response keys.\r\n\r\nThe response value must be obtained beforehand via form submit, to get `$_POST[&quot;g-recaptcha-response&quot;];`\r\n\r\nSuccess response : \r\n\r\n    {\r\n        &quot;success&quot;: true,\r\n        &quot;challenge_ts&quot;: &quot;timestamp of challenge&quot;,\r\n        &quot;hostname&quot;: &quot;yourhostname&quot;\r\n    }\r\n\r\nHaving that the siteverify will return the result of the check as if you were doing the verification\r\n","title":"Google reCaptcha test with Postman","body":"<p>POST to <a href=\"https://www.google.com/recaptcha/api/siteverify\" rel=\"nofollow noreferrer\">https://www.google.com/recaptcha/api/siteverify</a></p>\n<p>Set content type header (Content-Type) : <code>application/x-www-form-urlencoded</code></p>\n<p>In your body you have to set the secret and response keys.</p>\n<p>The response value must be obtained beforehand via form submit, to get <code>$_POST[&quot;g-recaptcha-response&quot;];</code></p>\n<p>Success response :</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;challenge_ts&quot;: &quot;timestamp of challenge&quot;,\n    &quot;hostname&quot;: &quot;yourhostname&quot;\n}\n</code></pre>\n<p>Having that the siteverify will return the result of the check as if you were doing the verification</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18747,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":2,"score":2,"last_activity_date":1655818366,"creation_date":1597821108,"question_id":63481760,"body_markdown":"I am creating a backend endpoint to handle user login. Part of the login is a Google [reCaptcha][1].  \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI am also creating Postman collections to test the backed api&#39;s. I have the following:\r\n\r\n**AuthenticationResource.java**\r\n\r\n    @POST\r\n    @Path(&quot;login&quot;)\r\n    @ApiOperation(value=&quot;Login a user with a username and password and return a jwt&quot;)\r\n    @ApiResponses({\r\n            @ApiResponse(code=200, message=&quot;Success&quot;),\r\n            @ApiResponse(code=404, message=&quot;Not Found&quot;)\r\n    })\r\n    @Consumes({ MediaType.APPLICATION_JSON })\r\n    @Produces({ MediaType.APPLICATION_JSON })\r\n    public Response login(@ApiParam(required = true) UserLoginDTO userLogin, @Context HttpServletRequest request)  {\r\n        try {\r\n            HttpSession session = request.getSession(true);\r\n\r\n            logger.info(&quot;login: &quot;+userLogin.getUsername());\r\n            String username = userLogin.getUsername();\r\n            String passwordPlainText = userLogin.getPassword();\r\n            String clientRemoteAddr = request.getRemoteAddr();\r\n\r\n            boolean captchaVerified = VerifyRecaptcha.verify(userLogin.getRecaptcha());\r\n            if (!captchaVerified) {\r\n                logger.severe(&quot;Invalid captcha&quot;);\r\n                return Response.status(Response.Status.BAD_REQUEST).entity(&quot;Invalid captcha&quot;).build();\r\n            }\r\n\r\n**VerifyRecaptcha.java**\r\n\r\n    public class VerifyRecaptcha {\r\n    \r\n        private static final Logger logger = Logger.getLogger(VerifyRecaptcha.class.getName());\r\n        public static final String url = &quot;https://www.google.com/recaptcha/api/siteverify&quot;;\r\n        public static final String secret = &quot;my-seceret-key&quot;;\r\n        private final static String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n    \r\n        public static boolean verify(String gRecaptchaResponse) throws IOException {\r\n            if (gRecaptchaResponse == null || &quot;&quot;.equals(gRecaptchaResponse)) {\r\n                return false;\r\n            }\r\n    \r\n            try{\r\n                URL obj = new URL(url);\r\n                HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\r\n    \r\n                // add reuqest header\r\n                con.setRequestMethod(&quot;POST&quot;);\r\n                con.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n                con.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n    \r\n                String postParams = &quot;secret=&quot; + secret + &quot;&amp;response=&quot;\r\n                        + gRecaptchaResponse;\r\n    \r\n                // Send post request\r\n                con.setDoOutput(true);\r\n                DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n                wr.writeBytes(postParams);\r\n                wr.flush();\r\n                wr.close();\r\n    \r\n                int responseCode = con.getResponseCode();\r\n                logger.info(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n                logger.info(&quot;Post parameters : &quot; + postParams);\r\n                logger.info(&quot;Response Code : &quot; + responseCode);\r\n    \r\n                BufferedReader in = new BufferedReader(new InputStreamReader(\r\n                        con.getInputStream()));\r\n                String inputLine;\r\n                StringBuffer response = new StringBuffer();\r\n    \r\n                while ((inputLine = in.readLine()) != null) {\r\n                    response.append(inputLine);\r\n                }\r\n                in.close();\r\n    \r\n                // print result\r\n                logger.info(response.toString());\r\n    \r\n                //parse JSON response and return &#39;success&#39; value\r\n                JsonReader jsonReader = Json.createReader(new StringReader(response.toString()));\r\n                JsonObject jsonObject = jsonReader.readObject();\r\n                jsonReader.close();\r\n    \r\n                return jsonObject.getBoolean(&quot;success&quot;);\r\n            }catch(Exception e){\r\n                logger.warning(&quot;invalid recaptcha: &quot;+gRecaptchaResponse+&quot;. &quot;+e.getMessage());\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n**Postman**\r\n\r\n    POST https://localhost:8443/corporateInterface/rest/user/login\r\n\r\nBody\r\n\r\n    {\r\n    \t&quot;password&quot;: &quot;password&quot;,\r\n    \t&quot;username&quot;: &quot;richard&quot;,\r\n    \t&quot;recaptchaResponse&quot;: &quot;sitekey&quot;\r\n    }\r\n\r\n**Result**\r\n\r\n    Response Code : 200\r\n    {  &quot;success&quot;: false,  &quot;error-codes&quot;: [    &quot;invalid-input-response&quot;  ]}\r\n    Invalid captcha\r\n\r\nAs you can see, the call to https://www.google.com/recaptcha/api/siteverify returns a 200, but success is false.\r\n\r\n**Question**\r\n\r\nIs it possible to test the reCaptcha with Postman? Or will Google not validate a Postman request?  If so, what am I doing wrong?\r\n\r\n\r\n  [1]: https://www.google.com/recaptcha/about/\r\n  [2]: https://i.stack.imgur.com/hKPQZ.png","title":"Google reCaptcha test with Postman","body":"<p>I am creating a backend endpoint to handle user login. Part of the login is a Google <a href=\"https://www.google.com/recaptcha/about/\" rel=\"nofollow noreferrer\">reCaptcha</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/hKPQZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKPQZ.png\" alt=\"enter image description here\" /></a></p>\n<p>I am also creating Postman collections to test the backed api's. I have the following:</p>\n<p><strong>AuthenticationResource.java</strong></p>\n<pre><code>@POST\n@Path(&quot;login&quot;)\n@ApiOperation(value=&quot;Login a user with a username and password and return a jwt&quot;)\n@ApiResponses({\n        @ApiResponse(code=200, message=&quot;Success&quot;),\n        @ApiResponse(code=404, message=&quot;Not Found&quot;)\n})\n@Consumes({ MediaType.APPLICATION_JSON })\n@Produces({ MediaType.APPLICATION_JSON })\npublic Response login(@ApiParam(required = true) UserLoginDTO userLogin, @Context HttpServletRequest request)  {\n    try {\n        HttpSession session = request.getSession(true);\n\n        logger.info(&quot;login: &quot;+userLogin.getUsername());\n        String username = userLogin.getUsername();\n        String passwordPlainText = userLogin.getPassword();\n        String clientRemoteAddr = request.getRemoteAddr();\n\n        boolean captchaVerified = VerifyRecaptcha.verify(userLogin.getRecaptcha());\n        if (!captchaVerified) {\n            logger.severe(&quot;Invalid captcha&quot;);\n            return Response.status(Response.Status.BAD_REQUEST).entity(&quot;Invalid captcha&quot;).build();\n        }\n</code></pre>\n<p><strong>VerifyRecaptcha.java</strong></p>\n<pre><code>public class VerifyRecaptcha {\n\n    private static final Logger logger = Logger.getLogger(VerifyRecaptcha.class.getName());\n    public static final String url = &quot;https://www.google.com/recaptcha/api/siteverify&quot;;\n    public static final String secret = &quot;my-seceret-key&quot;;\n    private final static String USER_AGENT = &quot;Mozilla/5.0&quot;;\n\n    public static boolean verify(String gRecaptchaResponse) throws IOException {\n        if (gRecaptchaResponse == null || &quot;&quot;.equals(gRecaptchaResponse)) {\n            return false;\n        }\n\n        try{\n            URL obj = new URL(url);\n            HttpsURLConnection con = (HttpsURLConnection) obj.openConnection();\n\n            // add reuqest header\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\n            con.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\n\n            String postParams = &quot;secret=&quot; + secret + &quot;&amp;response=&quot;\n                    + gRecaptchaResponse;\n\n            // Send post request\n            con.setDoOutput(true);\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            wr.writeBytes(postParams);\n            wr.flush();\n            wr.close();\n\n            int responseCode = con.getResponseCode();\n            logger.info(&quot;\\nSending 'POST' request to URL : &quot; + url);\n            logger.info(&quot;Post parameters : &quot; + postParams);\n            logger.info(&quot;Response Code : &quot; + responseCode);\n\n            BufferedReader in = new BufferedReader(new InputStreamReader(\n                    con.getInputStream()));\n            String inputLine;\n            StringBuffer response = new StringBuffer();\n\n            while ((inputLine = in.readLine()) != null) {\n                response.append(inputLine);\n            }\n            in.close();\n\n            // print result\n            logger.info(response.toString());\n\n            //parse JSON response and return 'success' value\n            JsonReader jsonReader = Json.createReader(new StringReader(response.toString()));\n            JsonObject jsonObject = jsonReader.readObject();\n            jsonReader.close();\n\n            return jsonObject.getBoolean(&quot;success&quot;);\n        }catch(Exception e){\n            logger.warning(&quot;invalid recaptcha: &quot;+gRecaptchaResponse+&quot;. &quot;+e.getMessage());\n            e.printStackTrace();\n            return false;\n        }\n    }\n}\n</code></pre>\n<p><strong>Postman</strong></p>\n<pre><code>POST https://localhost:8443/corporateInterface/rest/user/login\n</code></pre>\n<p>Body</p>\n<pre><code>{\n    &quot;password&quot;: &quot;password&quot;,\n    &quot;username&quot;: &quot;richard&quot;,\n    &quot;recaptchaResponse&quot;: &quot;sitekey&quot;\n}\n</code></pre>\n<p><strong>Result</strong></p>\n<pre><code>Response Code : 200\n{  &quot;success&quot;: false,  &quot;error-codes&quot;: [    &quot;invalid-input-response&quot;  ]}\nInvalid captcha\n</code></pre>\n<p>As you can see, the call to <a href=\"https://www.google.com/recaptcha/api/siteverify\" rel=\"nofollow noreferrer\">https://www.google.com/recaptcha/api/siteverify</a> returns a 200, but success is false.</p>\n<p><strong>Question</strong></p>\n<p>Is it possible to test the reCaptcha with Postman? Or will Google not validate a Postman request?  If so, what am I doing wrong?</p>\n"},{"tags":["java","file-move"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655816948,"creation_date":1655816948,"answer_id":72701388,"question_id":72701218,"body_markdown":"One could use [`File.move`][1] and use `CopyOption`s. But it seems more elegant to check the existence of the target.\r\n\r\n    void move(Path source, Path target) throws IOException {\r\n        int fileno = 0;\r\n        while (Files.exist(target)) {\r\n            target = ...\r\n            ++fileno;\r\n        }\r\n        // Files.createDirectories(target.getParent());\r\n        Files.move(source, target);\r\n    }\r\n\r\nIn java the convention is that the target is _not_ a directory (the new parent).\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)","title":"How can i make a moving file who gets renamed if in the target directory there is a file whit the same name(java)?","body":"<p>One could use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\"><code>File.move</code></a> and use <code>CopyOption</code>s. But it seems more elegant to check the existence of the target.</p>\n<pre><code>void move(Path source, Path target) throws IOException {\n    int fileno = 0;\n    while (Files.exist(target)) {\n        target = ...\n        ++fileno;\n    }\n    // Files.createDirectories(target.getParent());\n    Files.move(source, target);\n}\n</code></pre>\n<p>In java the convention is that the target is <em>not</em> a directory (the new parent).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655818232,"creation_date":1655818232,"answer_id":72701687,"question_id":72701218,"body_markdown":"It&#39;s a programming language; you would program the behaviour you want. There is nothing &#39;baked in&#39;, if that&#39;s what you were thinking.\r\n\r\nAs with most things that could potentially interact with other threads or applications running simultaneously, you don&#39;t check-and-act - because other apps or threads could change the situation in between your &#39;check&#39; and your &#39;act&#39; - instead, you act-then-check: You just do the thing, and catch exceptions that indicate the thing cannot be done due to failing checks, and act accordingly. In other words, don&#39;t do something like:\r\n\r\n```\r\nwhile (file.exists()) file = incrementSomething();\r\nwriteTo(file);\r\n```\r\n\r\nThat&#39;s check-then-act. Don&#39;t do that.\r\n\r\nInstead you&#39;d first just move it, and then catch the exception that indicates that it cannot be moved because the &#39;target&#39; already exists and you did not specify that overwriting is acceptable.\r\n\r\nIt&#39;s your program, you decide what you want to do when this happens. Perhaps you want to append ` (1)` to the file name and try again, then ` (2)`, and so on, all the way to ` (999)` and once you get that far, just stop and crash. Or perhaps you want to roll up a random sequence of 6 characters and append that, which is a heck of a lot faster if this &#39;naming conflict&#39; scenario is likely. That&#39;s the joy of programming: Anything&#39;s possible, you decide what you want and then you write it just like that.\r\n\r\nLet&#39;s say you want the ` (1)` thing. It would look something like:\r\n\r\n```java\r\npublic void move(Path sourceFile, Path targetDir) throws IOException {\r\n  try {\r\n    Files.move(sourceFile, targetDir.resolve(sourceFile.getFileName()));\r\n  } catch (FileAlreadyExistsException e) {\r\n    String baseName = sourceFile.getFileName().toString();\r\n    int lastDot = baseName.lastIndexOf(&#39;.&#39;);\r\n    String prefix = lastDot == -1 ? baseName : baseName.substring(0, lastDot);\r\n    String suffix = lastDot == -1 ? &quot;&quot; : baseName.substring(lastDot);\r\n    moveIncremental(sourceFile, targetDir, prefix, suffix, 1);\r\n  }\r\n}\r\n\r\nprivate void moveIncremental(Path sourceFile, Path targetDir, String prefix, String suffix, int counter) throws IOException {\r\n\r\n  Path target = targetDir.resolve(prefix + &quot; (&quot; + counter + &quot;)&quot; + suffix);\r\n  try {\r\n    Files.move(sourceFile, target);\r\n  } catch (FileAlreadyExistsException e) {\r\n    if (counter &gt;= 999) throw e; // Give up after 1000 increments.\r\n    moveIncremental(sourceFile, targetDir, prefix, suffix, counter + 1);\r\n  }\r\n}\r\n```\r\n\r\nThis code first just tries to move it, and responds to the error of &#39;no can do; there is a file already there&#39; and then breaks the file into a prefix and suffix, i.e. `something.txt` becomes `prefix = &quot;something&quot; suffix = &quot;.txt&quot;` and will then call a helper method that tries to move it to `something (1).txt`, all the way up to 999.\r\n\r\nIt&#39;s just one of many ways to do this - as I said, your choice.","title":"How can i make a moving file who gets renamed if in the target directory there is a file whit the same name(java)?","body":"<p>It's a programming language; you would program the behaviour you want. There is nothing 'baked in', if that's what you were thinking.</p>\n<p>As with most things that could potentially interact with other threads or applications running simultaneously, you don't check-and-act - because other apps or threads could change the situation in between your 'check' and your 'act' - instead, you act-then-check: You just do the thing, and catch exceptions that indicate the thing cannot be done due to failing checks, and act accordingly. In other words, don't do something like:</p>\n<pre><code>while (file.exists()) file = incrementSomething();\nwriteTo(file);\n</code></pre>\n<p>That's check-then-act. Don't do that.</p>\n<p>Instead you'd first just move it, and then catch the exception that indicates that it cannot be moved because the 'target' already exists and you did not specify that overwriting is acceptable.</p>\n<p>It's your program, you decide what you want to do when this happens. Perhaps you want to append <code> (1)</code> to the file name and try again, then <code> (2)</code>, and so on, all the way to <code> (999)</code> and once you get that far, just stop and crash. Or perhaps you want to roll up a random sequence of 6 characters and append that, which is a heck of a lot faster if this 'naming conflict' scenario is likely. That's the joy of programming: Anything's possible, you decide what you want and then you write it just like that.</p>\n<p>Let's say you want the <code> (1)</code> thing. It would look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void move(Path sourceFile, Path targetDir) throws IOException {\n  try {\n    Files.move(sourceFile, targetDir.resolve(sourceFile.getFileName()));\n  } catch (FileAlreadyExistsException e) {\n    String baseName = sourceFile.getFileName().toString();\n    int lastDot = baseName.lastIndexOf('.');\n    String prefix = lastDot == -1 ? baseName : baseName.substring(0, lastDot);\n    String suffix = lastDot == -1 ? &quot;&quot; : baseName.substring(lastDot);\n    moveIncremental(sourceFile, targetDir, prefix, suffix, 1);\n  }\n}\n\nprivate void moveIncremental(Path sourceFile, Path targetDir, String prefix, String suffix, int counter) throws IOException {\n\n  Path target = targetDir.resolve(prefix + &quot; (&quot; + counter + &quot;)&quot; + suffix);\n  try {\n    Files.move(sourceFile, target);\n  } catch (FileAlreadyExistsException e) {\n    if (counter &gt;= 999) throw e; // Give up after 1000 increments.\n    moveIncremental(sourceFile, targetDir, prefix, suffix, counter + 1);\n  }\n}\n</code></pre>\n<p>This code first just tries to move it, and responds to the error of 'no can do; there is a file already there' and then breaks the file into a prefix and suffix, i.e. <code>something.txt</code> becomes <code>prefix = &quot;something&quot; suffix = &quot;.txt&quot;</code> and will then call a helper method that tries to move it to <code>something (1).txt</code>, all the way up to 999.</p>\n<p>It's just one of many ways to do this - as I said, your choice.</p>\n"}],"owner":{"account_id":25609265,"reputation":1,"user_id":19382940,"display_name":"Leohtcg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1655818232,"creation_date":1655816244,"question_id":72701218,"body_markdown":"I&#39;m writing a moving file program for my pc, to finish it I need to rename a moving file if in the target directory there is already a file named the same, how can i do that?","title":"How can i make a moving file who gets renamed if in the target directory there is a file whit the same name(java)?","body":"<p>I'm writing a moving file program for my pc, to finish it I need to rename a moving file if in the target directory there is already a file named the same, how can i do that?</p>\n"},{"tags":["java","multithreading","javafx","concurrency"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":2,"creation_date":1655817046,"post_id":72701336,"comment_id":128417197,"body_markdown":"Do you start the thread `taskThread` somewhere?","body":"Do you start the thread <code>taskThread</code> somewhere?"},{"owner":{"account_id":14887938,"reputation":166,"user_id":10750553,"display_name":"Stanislau Kozel"},"score":0,"creation_date":1655817059,"post_id":72701336,"comment_id":128417201,"body_markdown":"Please provide Config class. Otherwise it will not be enough to answer your question.","body":"Please provide Config class. Otherwise it will not be enough to answer your question."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1655817432,"post_id":72701336,"comment_id":128417396,"body_markdown":"We need to know [A] the source of the `Config` class, and [B] Your snippet does not indicate that the `taskThread` is ever actually started. Because there are 2 alternate explanations that would both explain what you are observing: [A] Your config class / those setters aren&#39;t properly synced up and you&#39;re running into JMM local caching characteristics reliably, and/or [B] you never even started that thread, and/or [C] the new status is always &#39;running&#39; - note that you never set &#39;remaining time&#39; to anything in the pasted code, or [D] something else not apparent in what you pasted.","body":"We need to know [A] the source of the <code>Config</code> class, and [B] Your snippet does not indicate that the <code>taskThread</code> is ever actually started. Because there are 2 alternate explanations that would both explain what you are observing: [A] Your config class / those setters aren&#39;t properly synced up and you&#39;re running into JMM local caching characteristics reliably, and/or [B] you never even started that thread, and/or [C] the new status is always &#39;running&#39; - note that you never set &#39;remaining time&#39; to anything in the pasted code, or [D] something else not apparent in what you pasted."},{"owner":{"account_id":4234246,"reputation":421,"user_id":3465874,"accept_rate":88,"display_name":"Martin819"},"score":0,"creation_date":1655817554,"post_id":72701336,"comment_id":128417451,"body_markdown":"@akarnokd Yes, thread is running, I know that for sure. I have edited the snippet.","body":"@akarnokd Yes, thread is running, I know that for sure. I have edited the snippet."},{"owner":{"account_id":4234246,"reputation":421,"user_id":3465874,"accept_rate":88,"display_name":"Martin819"},"score":0,"creation_date":1655817567,"post_id":72701336,"comment_id":128417455,"body_markdown":"@StanislauKozel I have added the Config class","body":"@StanislauKozel I have added the Config class"},{"owner":{"account_id":4234246,"reputation":421,"user_id":3465874,"accept_rate":88,"display_name":"Martin819"},"score":0,"creation_date":1655817634,"post_id":72701336,"comment_id":128417493,"body_markdown":"@rzwitserloot I have edited my question to contain start of the Thread. It is definitely running. That I know for sure. I have also added the Config class.","body":"@rzwitserloot I have edited my question to contain start of the Thread. It is definitely running. That I know for sure. I have also added the Config class."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1655830284,"post_id":72701336,"comment_id":128422712,"body_markdown":"You probably don&#39;t want to use inheritance here at all. Just define the two controller classes and give them a reference to the same `Config` instance. See, e.g., https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml or https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx. Your background thread should wrap the call to `config.setMachineStatus(machineStatus);` in `Platform.runLater(...)`, so the `Config` instance is only ever accessed from one thread.","body":"You probably don&#39;t want to use inheritance here at all. Just define the two controller classes and give them a reference to the same <code>Config</code> instance. See, e.g., <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\" title=\"passing parameters javafx fxml\">stackoverflow.com/questions/14187963/&hellip;</a> or <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>. Your background thread should wrap the call to <code>config.setMachineStatus(machineStatus);</code> in <code>Platform.runLater(...)</code>, so the <code>Config</code> instance is only ever accessed from one thread."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1655838382,"post_id":72701336,"comment_id":128425207,"body_markdown":"It would seem you would be better off making use of the JavaFX animation facilities such as Timeline, but perhaps there is additional items in your actual app which lead you to the custom threaded solution.  A JavaFX Task might be appropriate if you need multi threading, the Task javadoc outlines usage scenarios.","body":"It would seem you would be better off making use of the JavaFX animation facilities such as Timeline, but perhaps there is additional items in your actual app which lead you to the custom threaded solution.  A JavaFX Task might be appropriate if you need multi threading, the Task javadoc outlines usage scenarios."}],"answers":[{"tags":[],"owner":{"account_id":14887938,"reputation":166,"user_id":10750553,"display_name":"Stanislau Kozel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1655817849,"creation_date":1655817849,"answer_id":72701604,"question_id":72701336,"body_markdown":"Ah, got it.\r\nLooks like you think that StatusController and MainController access to the same instance of Config. But it doesn&#39;t work like that.\r\n\r\n    StatusController extends Controller\r\n    MainController extends Controller\r\n\r\nEach controller have the own Config object instance. It means that MainController change config of MainController. But StatusController have the own Config.\r\nYou need to have access to the Config of MainController and print their status. \r\n\r\nThe second issue. Config is not thread safe. You may not see changes of threads due to CPU cache and etc. You could use any synchronization concept for solving it. \r\n\r\nrzwitserloot - Already answered...","title":"Accessing the same object instance from multiple Threads","body":"<p>Ah, got it.\nLooks like you think that StatusController and MainController access to the same instance of Config. But it doesn't work like that.</p>\n<pre><code>StatusController extends Controller\nMainController extends Controller\n</code></pre>\n<p>Each controller have the own Config object instance. It means that MainController change config of MainController. But StatusController have the own Config.\nYou need to have access to the Config of MainController and print their status.</p>\n<p>The second issue. Config is not thread safe. You may not see changes of threads due to CPU cache and etc. You could use any synchronization concept for solving it.</p>\n<p>rzwitserloot - Already answered...</p>\n"}],"owner":{"account_id":4234246,"reputation":421,"user_id":3465874,"accept_rate":88,"display_name":"Martin819"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72701604,"answer_count":1,"score":1,"last_activity_date":1655817849,"creation_date":1655816721,"question_id":72701336,"body_markdown":"I&#39;m developing application in JavaFX and I have the following structure with the object &quot;config&quot; which is created in the class Controller and then I&#39;m accessing the config from the two classes which extend the original Controller class and also from other Thread.\r\n\r\n    public class Controller {\r\n\r\n        protected Config config = new Config();\r\n    \r\n        private void setupConfig() {\r\n            var machineStatus = new MachineStatus();\r\n            machineStatus.setRemainingTime(25);\r\n            machineStatus.setMessage(&quot;Running&quot;);\r\n            config.setMachineStatus(machineStatus);\r\n        }\r\n    }\r\n\r\n\r\n    public class MainController extends Controller {\r\n        Thread taskThread = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        while(true) {\r\n                            var newStatus = getNewStatus();          // Returns new status containing different RemainingTime and Message value every time\r\n                            config.setMachineStatus(newStatus);\r\n                            Thread.sleep(10000);\r\n                        }\r\n                    }\r\n        });\r\n        taskThread.start();\r\n    }\r\n\r\n\r\n    public class StatusController extends Controller {\r\n        System.out.println(config.getMachineStatus().getRemainingTime()) // Always prints 25\r\n        System.out.println(config.getMachineStatus().getMessage())      // Always prints &quot;Running&quot;\r\n    }\r\n\r\n\r\n    public class Config {\r\n        private MachineStatus machineStatus;\r\n\r\n        public MachineStatus getMachineStatus() {\r\n            return machineStatus;\r\n        }\r\n\r\n        public void setMachineStatus(MachineStatus value) {\r\n            machineStatus = value;\r\n        }\r\n    }\r\n\r\n    public class MachineStatus {\r\n        private int remainingTime;\r\n        private String message;\r\n\r\n        public int getRemainingTime() {\r\n            return remainingTime;\r\n        }\r\n\r\n        public void setRemainingTime(int value) {\r\n            remainingTime = value;\r\n        }\r\n\r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n\r\n        public void setMessage(String value) {\r\n            message = value;\r\n        }\r\n    }\r\n\r\n\r\nI would like to achieve that when I call getRemainingTime() or get Message() in the StatusController, I will always get the latest status which was written in the config variable. But instead, I&#39;m still getting the initial values which were stored when the variable was initialized.\r\n\r\nThe second Thread runs every 10 seconds and always updated the config variable with the new machine status. Even if I let the second Thread running for several minutes, in StatusController, I&#39;m always getting the initial values.\r\n\r\nCould someone help me how to achieve this?","title":"Accessing the same object instance from multiple Threads","body":"<p>I'm developing application in JavaFX and I have the following structure with the object &quot;config&quot; which is created in the class Controller and then I'm accessing the config from the two classes which extend the original Controller class and also from other Thread.</p>\n<pre><code>public class Controller {\n\n    protected Config config = new Config();\n\n    private void setupConfig() {\n        var machineStatus = new MachineStatus();\n        machineStatus.setRemainingTime(25);\n        machineStatus.setMessage(&quot;Running&quot;);\n        config.setMachineStatus(machineStatus);\n    }\n}\n\n\npublic class MainController extends Controller {\n    Thread taskThread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    while(true) {\n                        var newStatus = getNewStatus();          // Returns new status containing different RemainingTime and Message value every time\n                        config.setMachineStatus(newStatus);\n                        Thread.sleep(10000);\n                    }\n                }\n    });\n    taskThread.start();\n}\n\n\npublic class StatusController extends Controller {\n    System.out.println(config.getMachineStatus().getRemainingTime()) // Always prints 25\n    System.out.println(config.getMachineStatus().getMessage())      // Always prints &quot;Running&quot;\n}\n\n\npublic class Config {\n    private MachineStatus machineStatus;\n\n    public MachineStatus getMachineStatus() {\n        return machineStatus;\n    }\n\n    public void setMachineStatus(MachineStatus value) {\n        machineStatus = value;\n    }\n}\n\npublic class MachineStatus {\n    private int remainingTime;\n    private String message;\n\n    public int getRemainingTime() {\n        return remainingTime;\n    }\n\n    public void setRemainingTime(int value) {\n        remainingTime = value;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String value) {\n        message = value;\n    }\n}\n</code></pre>\n<p>I would like to achieve that when I call getRemainingTime() or get Message() in the StatusController, I will always get the latest status which was written in the config variable. But instead, I'm still getting the initial values which were stored when the variable was initialized.</p>\n<p>The second Thread runs every 10 seconds and always updated the config variable with the new machine status. Even if I let the second Thread running for several minutes, in StatusController, I'm always getting the initial values.</p>\n<p>Could someone help me how to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","hibernate-validator"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1486145291,"post_id":42030241,"comment_id":71235292,"body_markdown":"Out of curiosity, what&#39;s your issue with Hibernate Validator?","body":"Out of curiosity, what&#39;s your issue with Hibernate Validator?"},{"owner":{"account_id":8417337,"reputation":41,"user_id":6317295,"display_name":"Mohan"},"score":0,"creation_date":1486148326,"post_id":42030241,"comment_id":71236877,"body_markdown":"It is some legal hurdle from my employer, no other technical reason","body":"It is some legal hurdle from my employer, no other technical reason"}],"answers":[{"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486155888,"creation_date":1486150164,"answer_id":42031675,"question_id":42030241,"body_markdown":"You need to declare a bean of type LocalValidatorFactoryBean instead of OptionalValidatorFactoryBean.\r\n\r\nYou can find more about this on the [spring doc][1].\r\n\r\n    @Bean\r\n    public javax.validation.Validator localValidatorFactoryBean() {\r\n       return new LocalValidatorFactoryBean();\r\n    }\r\n\r\nAnd finally make sure only one implementation JAR of a JSR-303/JSR-349 provider like Hibernate Validator or Apache Bval is present on the classpath, not both.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#validation-beanvalidation","title":"Spring Boot application without the hibernate-validator dependency","body":"<p>You need to declare a bean of type LocalValidatorFactoryBean instead of OptionalValidatorFactoryBean.</p>\n\n<p>You can find more about this on the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#validation-beanvalidation\" rel=\"nofollow noreferrer\">spring doc</a>.</p>\n\n<pre><code>@Bean\npublic javax.validation.Validator localValidatorFactoryBean() {\n   return new LocalValidatorFactoryBean();\n}\n</code></pre>\n\n<p>And finally make sure only one implementation JAR of a JSR-303/JSR-349 provider like Hibernate Validator or Apache Bval is present on the classpath, not both.</p>\n"},{"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655817821,"creation_date":1486155958,"answer_id":42033023,"question_id":42030241,"body_markdown":"**If you** **choose Option1**,\r\n\r\n&gt; Option 1: Use default OptionalValidatorFactoryBean.\r\n\r\nFrom JavaDocs of [OptionalValidatorFactoryBean][1],\r\n\r\n&gt; This is the actual class used by Spring&#39;s MVC configuration namespace,\r\n&gt; in case of the javax.validation API being present but no explicit\r\n&gt; Validator having been configured.\r\n\r\nMake sure [javax.validation API][2] is present in your classpath.\r\n\r\n=====================================================\r\n\r\n\r\n**If you** **choose Option2**, Using [Apache BVal][3] instead of Hibernate Validator\r\n\r\n&gt; Option 2: Find some other JSR 303 implementation -\r\n&gt; org.apache.bval:bval-jsr303 or anything else.\r\n\r\n    &lt;!-- Validator bean --&gt;\r\n    &lt;bean id=&quot;validator&quot;\r\n        class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;providerClass&quot;\r\n            value=&quot;org.apache.bval.jsr303.ApacheValidationProvider&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nOr Using **JavaConfig**\r\n\r\n    @Bean\r\n    public LocalValidatorFactoryBean localValidatorFactoryBean() throws ClassNotFoundException {\r\n        LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\r\n        \r\n        bean.setProviderClass(org.apache.bval.jsr303.ApacheValidationProvider.class);\r\n        // bean.setProviderClass(org.apache.bval.jsr.ApacheValidationProvider.class);\r\n        // bean.setProviderClass(org.hibernate.validator.HibernateValidator.class);\r\n       \r\n        return bean;\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/beanvalidation/OptionalValidatorFactoryBean.html\r\n  [2]: https://mvnrepository.com/artifact/javax.validation/validation-api/1.0.0.GA\r\n  [3]: http://bval.apache.org/obtaining-a-validator.html#using-the-spring-framework","title":"Spring Boot application without the hibernate-validator dependency","body":"<p><strong>If you</strong> <strong>choose Option1</strong>,</p>\n<blockquote>\n<p>Option 1: Use default OptionalValidatorFactoryBean.</p>\n</blockquote>\n<p>From JavaDocs of <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/validation/beanvalidation/OptionalValidatorFactoryBean.html\" rel=\"nofollow noreferrer\">OptionalValidatorFactoryBean</a>,</p>\n<blockquote>\n<p>This is the actual class used by Spring's MVC configuration namespace,\nin case of the javax.validation API being present but no explicit\nValidator having been configured.</p>\n</blockquote>\n<p>Make sure <a href=\"https://mvnrepository.com/artifact/javax.validation/validation-api/1.0.0.GA\" rel=\"nofollow noreferrer\">javax.validation API</a> is present in your classpath.</p>\n<p>=====================================================</p>\n<p><strong>If you</strong> <strong>choose Option2</strong>, Using <a href=\"http://bval.apache.org/obtaining-a-validator.html#using-the-spring-framework\" rel=\"nofollow noreferrer\">Apache BVal</a> instead of Hibernate Validator</p>\n<blockquote>\n<p>Option 2: Find some other JSR 303 implementation -\norg.apache.bval:bval-jsr303 or anything else.</p>\n</blockquote>\n<pre><code>&lt;!-- Validator bean --&gt;\n&lt;bean id=&quot;validator&quot;\n    class=&quot;org.springframework.validation.beanvalidation.LocalValidatorFactoryBean&quot;&gt;\n    &lt;property name=&quot;providerClass&quot;\n        value=&quot;org.apache.bval.jsr303.ApacheValidationProvider&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Or Using <strong>JavaConfig</strong></p>\n<pre><code>@Bean\npublic LocalValidatorFactoryBean localValidatorFactoryBean() throws ClassNotFoundException {\n    LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();\n    \n    bean.setProviderClass(org.apache.bval.jsr303.ApacheValidationProvider.class);\n    // bean.setProviderClass(org.apache.bval.jsr.ApacheValidationProvider.class);\n    // bean.setProviderClass(org.hibernate.validator.HibernateValidator.class);\n   \n    return bean;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":132233,"reputation":3702,"user_id":332788,"accept_rate":71,"display_name":"aliopi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496907870,"creation_date":1496907870,"answer_id":44429630,"question_id":42030241,"body_markdown":"Adding maven dependencies:\r\n\r\n    &lt;!-- Bean Validation --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.bval&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bval-jsr&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIn action, Spring Boot output:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Binding to target MyProperties(prop1=null, ...) failed:\r\n\r\n\t\tProperty: prop1\r\n\t\tValue: null\r\n\t\tReason: must not be null\r\n\t\r\n\tAction:\r\n\r\n\tUpdate your application&#39;s configuration\r\n\r\n","title":"Spring Boot application without the hibernate-validator dependency","body":"<p>Adding maven dependencies:</p>\n\n<pre><code>&lt;!-- Bean Validation --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.bval&lt;/groupId&gt;\n    &lt;artifactId&gt;bval-jsr&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In action, Spring Boot output:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nBinding to target MyProperties(prop1=null, ...) failed:\n\n    Property: prop1\n    Value: null\n    Reason: must not be null\n\nAction:\n\nUpdate your application's configuration\n</code></pre>\n"}],"owner":{"account_id":8417337,"reputation":41,"user_id":6317295,"display_name":"Mohan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4719,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1655817821,"creation_date":1486144574,"question_id":42030241,"body_markdown":"I am trying to get spring-boot (spring-boot-starter-web:1.3.5.RELEASE and  spring-boot-starter-validation:1.3.5.RELEASE) working without the hibernate-validator dependency. These are the options I have:\r\n\r\n- Option 1: Use default OptionalValidatorFactoryBean.\r\n\r\n- Option 2: Find some other JSR 303 implementation - org.apache.bval:bval-jsr303 or anything else.\r\n\r\nI tried option 1, and dependency injection ignores this setup and looks for hibernate-validator and fails:\r\n    \r\n    @Bean\r\n    public org.springframework.validation.Validator validator() {\r\n        return new OptionalValidatorFactoryBean();\r\n    }\r\n\r\nWith option 2, I dropped the jar on class-path and dependency injection does not pick the implementation.\r\n\r\nIt&#39;d be nice to have a working validator flow other than hibernate-validator or, at least provide a dummy validation like option 1.","title":"Spring Boot application without the hibernate-validator dependency","body":"<p>I am trying to get spring-boot (spring-boot-starter-web:1.3.5.RELEASE and  spring-boot-starter-validation:1.3.5.RELEASE) working without the hibernate-validator dependency. These are the options I have:</p>\n\n<ul>\n<li><p>Option 1: Use default OptionalValidatorFactoryBean.</p></li>\n<li><p>Option 2: Find some other JSR 303 implementation - org.apache.bval:bval-jsr303 or anything else.</p></li>\n</ul>\n\n<p>I tried option 1, and dependency injection ignores this setup and looks for hibernate-validator and fails:</p>\n\n<pre><code>@Bean\npublic org.springframework.validation.Validator validator() {\n    return new OptionalValidatorFactoryBean();\n}\n</code></pre>\n\n<p>With option 2, I dropped the jar on class-path and dependency injection does not pick the implementation.</p>\n\n<p>It'd be nice to have a working validator flow other than hibernate-validator or, at least provide a dummy validation like option 1.</p>\n"},{"tags":["java","pdf","itext","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1655819058,"post_id":72691214,"comment_id":128418094,"body_markdown":"What have you tried? What stopped you? And what iText version are you using?","body":"What have you tried? What stopped you? And what iText version are you using?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655819676,"post_id":72691214,"comment_id":128418391,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":22336014,"reputation":3,"user_id":16556602,"display_name":"Mike"},"score":0,"creation_date":1655829237,"post_id":72691214,"comment_id":128422375,"body_markdown":"Thank you very much for your answers.\n\nI am using itext 5.5.5. \nI have tried obtaining the DDS of the signed pdf to verify the CRLs and OCSPs in this way: \n`PdfDictionary dss = reader.getCatalog().getAsDict(PdfName.DSS);`\nhowever the information I obtain is general for all the signatures and that is as far as I got because if I have a document with 3 firms and only 2 have an OCSP response I don&#39;t know which firms they belong to.","body":"Thank you very much for your answers.  I am using itext 5.5.5.  I have tried obtaining the DDS of the signed pdf to verify the CRLs and OCSPs in this way:  <code>PdfDictionary dss = reader.getCatalog().getAsDict(PdfName.DSS);</code> however the information I obtain is general for all the signatures and that is as far as I got because if I have a document with 3 firms and only 2 have an OCSP response I don&#39;t know which firms they belong to."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1655844227,"post_id":72691214,"comment_id":128427070,"body_markdown":"iText does not have the feature of returning matchings pairs of certificates and revocation information to the user. But it has a class for verifying the document signatures using the revocation information in the DSS, the `LtvVerifier`. Thus, you can find the required code pieces in that class.","body":"iText does not have the feature of returning matchings pairs of certificates and revocation information to the user. But it has a class for verifying the document signatures using the revocation information in the DSS, the <code>LtvVerifier</code>. Thus, you can find the required code pieces in that class."},{"owner":{"account_id":22336014,"reputation":3,"user_id":16556602,"display_name":"Mike"},"score":0,"creation_date":1656107885,"post_id":72691214,"comment_id":128499362,"body_markdown":"Thank you very much for the information. With the `LtvVerifier` class I was able to do what I was looking for.","body":"Thank you very much for the information. With the <code>LtvVerifier</code> class I was able to do what I was looking for."}],"owner":{"account_id":22336014,"reputation":3,"user_id":16556602,"display_name":"Mike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655817756,"creation_date":1655748025,"question_id":72691214,"body_markdown":"\r\nHow can I get the revocation information for each of the signatures, in a digitally signed pdf document with several signatures, using the Itext library in java?\r\n\r\nI appreciate the help.","title":"Revocation Info in PDF Digitally Signature","body":"<p>How can I get the revocation information for each of the signatures, in a digitally signed pdf document with several signatures, using the Itext library in java?</p>\n<p>I appreciate the help.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":2,"creation_date":1655816530,"post_id":72700052,"comment_id":128416984,"body_markdown":"Before finding element, have you switched the focus to `iframe`?","body":"Before finding element, have you switched the focus to <code>iframe</code>?"}],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655817566,"creation_date":1655817566,"answer_id":72701532,"question_id":72700052,"body_markdown":"First `Switch` to `iframe` like below\r\n\r\n    String frame= driver.findElement(By.tagName(&quot;iframe&quot;));\r\n    \r\n    driver.switchTo().frame(frame);\r\n\r\n***OR***\r\n\r\n    Int size = driver.findElements(By.tagName(&quot;iframe&quot;)).size();\r\n    \r\n    driver.switchTo().frame(0); // index number `0` if you need to switch on first frame\r\n\r\n*then* the `xpath` of the `element` would be like\r\n\r\n    //*[normailize-space()=&#39;Sign In&#39;]\r\n\r\n***OR***\r\n\r\n    //*[contains(text(),&#39;Sign In&#39;)]\r\n\r\n","title":"No such Element Found Issue","body":"<p>First <code>Switch</code> to <code>iframe</code> like below</p>\n<pre><code>String frame= driver.findElement(By.tagName(&quot;iframe&quot;));\n\ndriver.switchTo().frame(frame);\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<pre><code>Int size = driver.findElements(By.tagName(&quot;iframe&quot;)).size();\n\ndriver.switchTo().frame(0); // index number `0` if you need to switch on first frame\n</code></pre>\n<p><em>then</em> the <code>xpath</code> of the <code>element</code> would be like</p>\n<pre><code>//*[normailize-space()='Sign In']\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<pre><code>//*[contains(text(),'Sign In')]\n</code></pre>\n"}],"owner":{"account_id":25607478,"reputation":1,"user_id":19381346,"display_name":"Shibashankar  Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655817566,"creation_date":1655811274,"question_id":72700052,"body_markdown":"I am trying to get the Xpath of the below element - \r\n\r\n```\r\n&lt;ion-button class=&quot;ta-btn btn-red ios button button-block button-round button-outline ion-activatable ion-focusable hydrated&quot;expand=&quot;block&quot;fill=&quot;outline&quot;mode=&quot;ios&quot;shape=&quot;round&quot;tabindex=&quot;1&quot;type=&quot;submit&quot;ng-reflect-expand=&quot;block&quot;ng-reflect-fill=&quot;outline&quot;ng-reflect-mode=&quot;ios&quot;ng-reflect-shape=&quot;round&quot;ng-reflect-type=&quot;submit&quot;&gt;Sign In&lt;/ion-button&gt;\r\n```\r\nIt&#39;s not working due to the use of iframe and the whole code is written within the  below script:-\r\n\r\n```html\r\n&lt;noscript&gt;&lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=GTM-NDWL4GS&quot;\r\n  height=&quot;0&quot; width=&quot;0&quot; style=&quot;display:none;visibility:hidden&quot;&gt;&lt;/iframe&gt;&lt;/noscript&gt;\r\n```","title":"No such Element Found Issue","body":"<p>I am trying to get the Xpath of the below element -</p>\n<pre><code>&lt;ion-button class=&quot;ta-btn btn-red ios button button-block button-round button-outline ion-activatable ion-focusable hydrated&quot;expand=&quot;block&quot;fill=&quot;outline&quot;mode=&quot;ios&quot;shape=&quot;round&quot;tabindex=&quot;1&quot;type=&quot;submit&quot;ng-reflect-expand=&quot;block&quot;ng-reflect-fill=&quot;outline&quot;ng-reflect-mode=&quot;ios&quot;ng-reflect-shape=&quot;round&quot;ng-reflect-type=&quot;submit&quot;&gt;Sign In&lt;/ion-button&gt;\n</code></pre>\n<p>It's not working due to the use of iframe and the whole code is written within the  below script:-</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;noscript&gt;&lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=GTM-NDWL4GS&quot;\n  height=&quot;0&quot; width=&quot;0&quot; style=&quot;display:none;visibility:hidden&quot;&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1655778622,"post_id":72694652,"comment_id":128406586,"body_markdown":"If you don&#39;t get a great answer soon, then consider creating a decent and valid [mre] and post the code with your question as code-formatted text.  Side note: shouldn&#39;t the font be a `Font.MONOSPACED`?","body":"If you don&#39;t get a great answer soon, then consider creating a decent and valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post the code with your question as code-formatted text.  Side note: shouldn&#39;t the font be a <code>Font.MONOSPACED</code>?"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1655778877,"post_id":72694652,"comment_id":128406614,"body_markdown":"Also check your systems DPI settings","body":"Also check your systems DPI settings"},{"owner":{"account_id":19950914,"reputation":17,"user_id":14620587,"display_name":"Leon Lavoie"},"score":0,"creation_date":1655779281,"post_id":72694652,"comment_id":128406654,"body_markdown":"@MadProgrammer what are they? How do I change them? Googling DPI settings only shows stuff about mouse sensivity.","body":"@MadProgrammer what are they? How do I change them? Googling DPI settings only shows stuff about mouse sensivity."},{"owner":{"account_id":19950914,"reputation":17,"user_id":14620587,"display_name":"Leon Lavoie"},"score":0,"creation_date":1655779437,"post_id":72694652,"comment_id":128406671,"body_markdown":"@HovercraftFullOfEels I tried with `Font.MONOSPACED`, but the plan is to use my own font in the end. Also, Monospaced doesn&#39;t support 5x5 properly. The problem also reappears.","body":"@HovercraftFullOfEels I tried with <code>Font.MONOSPACED</code>, but the plan is to use my own font in the end. Also, Monospaced doesn&#39;t support 5x5 properly. The problem also reappears."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655780294,"post_id":72694652,"comment_id":128406759,"body_markdown":"@LeonLavoie You system DPI settings - these can screw with Swing","body":"@LeonLavoie You system DPI settings - these can screw with Swing"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1655780374,"post_id":72694652,"comment_id":128406771,"body_markdown":"Or you can fix the scaling via code like shown here: https://stackoverflow.com/a/65419805 This is typically only an issue when you have a high DPI/resolution screen, and the operating system attempts to scale any applications to a larger size for visibility, but one side effect is that it breaks images (By default, windows will try to scale applications and their contents on a 4k screen to 150% or 1.5x the original size, and would explain your issue).","body":"Or you can fix the scaling via code like shown here: <a href=\"https://stackoverflow.com/a/65419805\">stackoverflow.com/a/65419805</a> This is typically only an issue when you have a high DPI/resolution screen, and the operating system attempts to scale any applications to a larger size for visibility, but one side effect is that it breaks images (By default, windows will try to scale applications and their contents on a 4k screen to 150% or 1.5x the original size, and would explain your issue)."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1655793391,"post_id":72694652,"comment_id":128408888,"body_markdown":"Scaling images larger always leads to image distortion.  One solution is to create the images as large as you expect them to be, and only shrink them.  You also have to turn off any operating system scaling.","body":"Scaling images larger always leads to image distortion.  One solution is to create the images as large as you expect them to be, and only shrink them.  You also have to turn off any operating system scaling."}],"owner":{"account_id":19950914,"reputation":17,"user_id":14620587,"display_name":"Leon Lavoie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655816783,"creation_date":1655777610,"question_id":72694652,"body_markdown":"# Swing Pixel Stretch / Distortion\r\n\r\n\r\nI have been trying to render a very small font (5 pixel per 5 pixel) on a JPanel for a personal project where the graphics are composed mainly of text. But as soon as I rendered a ton of dots and `#`&#39;s&#160; for debugging purpose, I ran into a bug. That bug was at the time ignored, but now that I am trying to polish the system, its really becoming a nuisance and can&#39;t find anything that helps online. \r\n\r\n#### The Bug\r\nThe 5x5 images are scaled up and down almost randomly, making the graphics horrible. [(see here)][1]\r\nThe lines of the `#`&#39;s aren&#39;t regular, nor the dots sizes.\r\n\r\n#### Expected Behaviour\r\nThe lines should be regular , and the dots should be evenly sized.\r\n\r\n#### What I tried.\r\nI toggled on and off antialiasing (`&#160;RenderingHints`&#160;), to no avail.\r\nMy font (that was made using a great website, [this][2]), has been set to a letter spacing of 5px, and has been exported to ttf. Im drawing it on a `BufferedImage`&#160; at 5x5 pixel size, then upscaling the  `&#160;BufferedImage`&#160;to twice its size for visibility.\r\nI had this problem before on another project I did with a friend, yet they didn&#39;t have it on their computer while mine was still bugging.\r\n#### The Code\r\nI&#39;m registering the font as so:\r\n\r\n    InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;FontName.ttf&quot;);\r\n    font1= Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(5f);\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment(); \r\n    ge.registerFont(font1);\r\nI then draw pieces using the following method:\r\n```g.drawString(s.substring(i,i+1),x*FONT_WIDTH+i*FONT_WIDTH,y*FONT_HEIGHT+FONT_HEIGHT);```\r\n(All the variables are at their good values).\r\nI change the `RenderingHints`&#160;the following way:\r\n\r\n     g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_OFF);\r\n     g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR);\r\nI turned off antialiasing because I felt like it could do that kind of thing.\r\n#### Conclusion\r\nI hope someone would provide me with either a way to fix my bug or a path I could follow to fix it.\r\n\r\n#### Edit\r\nAdded `System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;);`from sorifiend&#39;s link, fixed the scaling issues.\r\n*Edit 2:* There still are some bugs, but they are drastically reduced. \r\n  [1]: https://i.stack.imgur.com/QApbU.png\r\n  [2]: http://www.pentacom.jp/pentacom/bitfontmaker2/#","title":"Java Swing Pixel Stretch / Distortion","body":"<h1>Swing Pixel Stretch / Distortion</h1>\n<p>I have been trying to render a very small font (5 pixel per 5 pixel) on a JPanel for a personal project where the graphics are composed mainly of text. But as soon as I rendered a ton of dots and <code>#</code>'s  for debugging purpose, I ran into a bug. That bug was at the time ignored, but now that I am trying to polish the system, its really becoming a nuisance and can't find anything that helps online.</p>\n<h4>The Bug</h4>\n<p>The 5x5 images are scaled up and down almost randomly, making the graphics horrible. [(see here)][1]\nThe lines of the <code>#</code>'s aren't regular, nor the dots sizes.</p>\n<h4>Expected Behaviour</h4>\n<p>The lines should be regular , and the dots should be evenly sized.</p>\n<h4>What I tried.</h4>\n<p>I toggled on and off antialiasing (<code> RenderingHints</code> ), to no avail.\nMy font (that was made using a great website, [this][2]), has been set to a letter spacing of 5px, and has been exported to ttf. Im drawing it on a <code>BufferedImage</code>  at 5x5 pixel size, then upscaling the  <code> BufferedImage</code> to twice its size for visibility.\nI had this problem before on another project I did with a friend, yet they didn't have it on their computer while mine was still bugging.</p>\n<h4>The Code</h4>\n<p>I'm registering the font as so:</p>\n<pre><code>InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;FontName.ttf&quot;);\nfont1= Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(5f);\nGraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment(); \nge.registerFont(font1);\n</code></pre>\n<p>I then draw pieces using the following method:\n<code>g.drawString(s.substring(i,i+1),x*FONT_WIDTH+i*FONT_WIDTH,y*FONT_HEIGHT+FONT_HEIGHT);</code>\n(All the variables are at their good values).\nI change the <code>RenderingHints</code> the following way:</p>\n<pre><code> g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_OFF);\n g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR);\n</code></pre>\n<p>I turned off antialiasing because I felt like it could do that kind of thing.</p>\n<h4>Conclusion</h4>\n<p>I hope someone would provide me with either a way to fix my bug or a path I could follow to fix it.</p>\n<h4>Edit</h4>\n<p>Added <code>System.setProperty(&quot;sun.java2d.uiScale&quot;, &quot;1&quot;);</code>from sorifiend's link, fixed the scaling issues.\n<em>Edit 2:</em> There still are some bugs, but they are drastically reduced.\n[1]: <a href=\"https://i.stack.imgur.com/QApbU.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/QApbU.png</a>\n[2]: <a href=\"http://www.pentacom.jp/pentacom/bitfontmaker2/#\" rel=\"nofollow noreferrer\">http://www.pentacom.jp/pentacom/bitfontmaker2/#</a></p>\n"},{"tags":["java","maven","apache-spark","logback","loggly"],"answers":[{"tags":[],"owner":{"account_id":1187461,"reputation":1077,"user_id":1161137,"accept_rate":77,"display_name":"user1161137"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602129291,"creation_date":1602128921,"answer_id":64255490,"question_id":64250847,"body_markdown":"So I solved the issue and had several problems going on. \r\n\r\nSo in order to get Spark to allow logback to work, the solution that worked for me was from a combination of items from the articles i posted above, and in addition a cert file problem. \r\n\r\nThe cert file i was using to pass into spark-submit was incomplete and overriding the base truststore certs. This was causing a problem SENDING Https messages to Loggly.\r\n\r\nPart 1 change: \r\nUpdate maven to shade org.slf4j (as stated in an answer by @matemaciek) \r\n\r\n          &lt;/dependencies&gt;\r\n             ...\r\n             &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.2.3&lt;/version&gt;\t\t\t    \r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.2.3&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n            \r\n            &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;logback-ext-loggly&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;transformers&gt;\r\n                            &lt;transformer\r\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                &lt;manifestEntries&gt;\r\n                                    &lt;Main-Class&gt;com.TestClass&lt;/Main-Class&gt;\r\n                                &lt;/manifestEntries&gt;\r\n                            &lt;/transformer&gt;\r\n                        &lt;/transformers&gt;\r\n                  \t\t&lt;relocations&gt;\r\n    \t\t\t\t\t\t&lt;relocation&gt;\r\n    \t\t\t\t\t\t    &lt;pattern&gt;org.slf4j&lt;/pattern&gt;\r\n    \t\t\t\t\t\t    &lt;shadedPattern&gt;com.shaded.slf4j&lt;/shadedPattern&gt;\r\n    \t\t\t\t\t  \t&lt;/relocation&gt;\r\n    \t\t\t\t\t&lt;/relocations&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\nPart 1a: the logback.xml\r\n\r\n    &lt;configuration debug=&quot;true&quot;&gt;\r\n    \t&lt;appender name=&quot;logglyAppender&quot; class=&quot;ch.qos.logback.ext.loggly.LogglyAppender&quot;&gt;\r\n    \t\t&lt;endpointUrl&gt;https://logs-01.loggly.com/bulk/TOKEN/tag/TAGS/&lt;/endpointUrl&gt;\r\n    \t\t&lt;pattern&gt;${hostName} %d{yyyy-MM-dd HH:mm:ss,SSS}{GMT} %p %t %c %M - %m%n&lt;/pattern&gt;\r\n    \t&lt;/appender&gt;\r\n    \t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    \t    &lt;encoder&gt;\r\n    \t      &lt;pattern&gt;${hostName} %d{yyyy-MM-dd HH:mm:ss,SSS}{GMT} %p %t %c %M - %m%n&lt;/pattern&gt;\r\n    \t    &lt;/encoder&gt;\r\n      \t&lt;/appender&gt;\r\n    \t&lt;root level=&quot;info&quot;&gt;\r\n    \t\t&lt;appender-ref ref=&quot;logglyAppender&quot; /&gt;\r\n    \t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n    \t&lt;/root&gt;\r\n    &lt;/configuration&gt; \r\n\r\nPart 2 change: The MainClass\r\n\r\n    import org.slf4j.*;\r\n    \r\n    public class TestClass {\r\n    \r\n    \tstatic final Logger log = LoggerFactory.getLogger(TestClass.class);\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\tlog.info(&quot;this is a test message&quot;);\r\n        }\r\n    }\r\n\r\nPart 3 change:  \r\n    i was submitting spark application as such (example): \t\r\n\r\n    sparkspark-submit --deploy-mode client --class com.TestClass --conf &quot;spark.executor.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/rds-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit&quot; --conf &quot;spark.driver.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/rds-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit&quot; com/target/testproject-0.0.1.jar \r\n\r\n   So the above spark-submit failed on a HTTPS certification problem (that was when Loggly was being contacted to send the message to loggly service) because the rds-truststore.jks overwrote the certs without all certs. I changed this to use cacerts store, and it now had all the certs it needed.  \r\n\r\n   No more error at the Loggly part when sending this \r\n\r\n    sparkspark-submit --deploy-mode client --class com.TestClass --conf &quot;spark.executor.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/cacerts -Djavax.net.ssl.trustStorePassword=changeit&quot; --conf &quot;spark.driver.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/cacerts -Djavax.net.ssl.trustStorePassword=changeit&quot; com/target/testproject-0.0.1.jar \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Configuring Apache Spark Logging with Maven and logback and finally throwing message to Loggly","body":"<p>So I solved the issue and had several problems going on.</p>\n<p>So in order to get Spark to allow logback to work, the solution that worked for me was from a combination of items from the articles i posted above, and in addition a cert file problem.</p>\n<p>The cert file i was using to pass into spark-submit was incomplete and overriding the base truststore certs. This was causing a problem SENDING Https messages to Loggly.</p>\n<p>Part 1 change:\nUpdate maven to shade org.slf4j (as stated in an answer by @matemaciek)</p>\n<pre><code>      &lt;/dependencies&gt;\n         ...\n         &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;                \n        &lt;/dependency&gt;\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-ext-loggly&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                                implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;manifestEntries&gt;\n                                &lt;Main-Class&gt;com.TestClass&lt;/Main-Class&gt;\n                            &lt;/manifestEntries&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                    &lt;relocations&gt;\n                        &lt;relocation&gt;\n                            &lt;pattern&gt;org.slf4j&lt;/pattern&gt;\n                            &lt;shadedPattern&gt;com.shaded.slf4j&lt;/shadedPattern&gt;\n                        &lt;/relocation&gt;\n                    &lt;/relocations&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>Part 1a: the logback.xml</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n    &lt;appender name=&quot;logglyAppender&quot; class=&quot;ch.qos.logback.ext.loggly.LogglyAppender&quot;&gt;\n        &lt;endpointUrl&gt;https://logs-01.loggly.com/bulk/TOKEN/tag/TAGS/&lt;/endpointUrl&gt;\n        &lt;pattern&gt;${hostName} %d{yyyy-MM-dd HH:mm:ss,SSS}{GMT} %p %t %c %M - %m%n&lt;/pattern&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n          &lt;pattern&gt;${hostName} %d{yyyy-MM-dd HH:mm:ss,SSS}{GMT} %p %t %c %M - %m%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;logglyAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt; \n</code></pre>\n<p>Part 2 change: The MainClass</p>\n<pre><code>import org.slf4j.*;\n\npublic class TestClass {\n\n    static final Logger log = LoggerFactory.getLogger(TestClass.class);\n\n    public static void main(String[] args) throws Exception {\n        \n        log.info(&quot;this is a test message&quot;);\n    }\n}\n</code></pre>\n<p>Part 3 change:<br />\ni was submitting spark application as such (example):</p>\n<pre><code>sparkspark-submit --deploy-mode client --class com.TestClass --conf &quot;spark.executor.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/rds-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit&quot; --conf &quot;spark.driver.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/rds-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit&quot; com/target/testproject-0.0.1.jar \n</code></pre>\n<p>So the above spark-submit failed on a HTTPS certification problem (that was when Loggly was being contacted to send the message to loggly service) because the rds-truststore.jks overwrote the certs without all certs. I changed this to use cacerts store, and it now had all the certs it needed.</p>\n<p>No more error at the Loggly part when sending this</p>\n<pre><code>sparkspark-submit --deploy-mode client --class com.TestClass --conf &quot;spark.executor.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/cacerts -Djavax.net.ssl.trustStorePassword=changeit&quot; --conf &quot;spark.driver.extraJavaOptions=-Djavax.net.ssl.trustStore=c:/src/testproject/cacerts -Djavax.net.ssl.trustStorePassword=changeit&quot; com/target/testproject-0.0.1.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1941978,"reputation":649,"user_id":7495461,"accept_rate":36,"display_name":"krishna Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655816411,"creation_date":1655816411,"answer_id":72701260,"question_id":64250847,"body_markdown":"You have to usein spark opts -Dspark.executor.extraJavaOptions=-Dlogback.configurationFile=/spark/logback/logback.xml\r\n\r\nIn logback.xml you should have settings for logback.","title":"Configuring Apache Spark Logging with Maven and logback and finally throwing message to Loggly","body":"<p>You have to usein spark opts -Dspark.executor.extraJavaOptions=-Dlogback.configurationFile=/spark/logback/logback.xml</p>\n<p>In logback.xml you should have settings for logback.</p>\n"}],"owner":{"account_id":1187461,"reputation":1077,"user_id":1161137,"accept_rate":77,"display_name":"user1161137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1655816411,"creation_date":1602098155,"question_id":64250847,"body_markdown":"I&#39;m having trouble getting my Spark Application to ignore Log4j, in order to use Logback.  One of the reasons i&#39;m trying to use logback, is for the loggly appender it supports. \r\n\r\nI have the following dependencies and exclusions in my pom file.  (versions are in my dependency manager in main pom library.)\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;            \r\n        &lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\t\t    \r\n\t\t&lt;/dependency&gt;\r\n        \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-ext-loggly&lt;/artifactId&gt;\t\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\t\t    \r\n\t\t&lt;/dependency&gt;    \r\n\r\n\r\nI have referenced these two articles:\r\n\r\n[Separating application logs in Logback from Spark Logs in log4j][1]&lt;br/&gt; \r\n[Configuring Apache Spark Logging with Scala and logback][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/42126107/separating-application-logs-in-logback-from-spark-logs-in-log4j/45480145#45480145\r\n[2]: https://stackoverflow.com/questions/42356887/configuring-apache-spark-logging-with-scala-and-logback\r\n\r\n\r\nI&#39;ve tried using first using (when running spark-submit) :&lt;br/&gt; \r\n--conf &quot;spark.driver.userClassPathFirst=true&quot; &lt;br/&gt;\r\n--conf &quot;spark.executor.userClassPathFirst=true&quot;\r\n\r\nbut receive the error\r\n \r\n\r\n        Exception in thread &quot;main&quot; java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.ge\r\n    tLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current cl\r\n    ass, org/slf4j/LoggerFactory, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method&#39;s defining class, org/slf4\r\n    j/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature      \r\n\r\nI would like to get it working with the above, but then i also looked at trying the below&lt;br/&gt;\r\n--conf &quot;spark.driver.extraClassPath=$libs&quot; &lt;br/&gt;\r\n--conf &quot;spark.executor.extraClassPath=$libs&quot;              \r\n\r\nbut since i&#39;m passing my uber jar to spark submit locally AND (on a Amazon EMR cluster) i really can&#39;t be specifying a library file location that will be local to my machine.  Since the uber jar contains the files, is there a way for it to use those files? Am i forced to copy these libraries to the master/nodes on the EMR cluster when the spark app finally runs from there?\r\n\r\nThe first approach about using the userClassPathFirst seems like the best route though.\r\n","title":"Configuring Apache Spark Logging with Maven and logback and finally throwing message to Loggly","body":"<p>I'm having trouble getting my Spark Application to ignore Log4j, in order to use Logback.  One of the reasons i'm trying to use logback, is for the loggly appender it supports.</p>\n<p>I have the following dependencies and exclusions in my pom file.  (versions are in my dependency manager in main pom library.)</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;            \n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;           \n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.logback-extensions&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-ext-loggly&lt;/artifactId&gt;         \n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;           \n    &lt;/dependency&gt;    \n</code></pre>\n<p>I have referenced these two articles:</p>\n<p><a href=\"https://stackoverflow.com/questions/42126107/separating-application-logs-in-logback-from-spark-logs-in-log4j/45480145#45480145\">Separating application logs in Logback from Spark Logs in log4j</a><br/>\n<a href=\"https://stackoverflow.com/questions/42356887/configuring-apache-spark-logging-with-scala-and-logback\">Configuring Apache Spark Logging with Scala and logback</a></p>\n<p>I've tried using first using (when running spark-submit) :<br/>\n--conf &quot;spark.driver.userClassPathFirst=true&quot; <br/>\n--conf &quot;spark.executor.userClassPathFirst=true&quot;</p>\n<p>but receive the error</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.slf4j.impl.StaticLoggerBinder.ge\ntLoggerFactory()Lorg/slf4j/ILoggerFactory;&quot; the class loader (instance of org/apache/spark/util/ChildFirstURLClassLoader) of the current cl\nass, org/slf4j/LoggerFactory, and the class loader (instance of sun/misc/Launcher$AppClassLoader) for the method's defining class, org/slf4\nj/impl/StaticLoggerBinder, have different Class objects for the type org/slf4j/ILoggerFactory used in the signature      \n</code></pre>\n<p>I would like to get it working with the above, but then i also looked at trying the below<br/>\n--conf &quot;spark.driver.extraClassPath=$libs&quot; <br/>\n--conf &quot;spark.executor.extraClassPath=$libs&quot;</p>\n<p>but since i'm passing my uber jar to spark submit locally AND (on a Amazon EMR cluster) i really can't be specifying a library file location that will be local to my machine.  Since the uber jar contains the files, is there a way for it to use those files? Am i forced to copy these libraries to the master/nodes on the EMR cluster when the spark app finally runs from there?</p>\n<p>The first approach about using the userClassPathFirst seems like the best route though.</p>\n"},{"tags":["java","maven","pom.xml","libraries"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655812142,"post_id":72700156,"comment_id":128415263,"body_markdown":"You can&#39;t. Java - usually - picks the first on the classpath. You could switch to using the module path instead, but then loading this will fail because modules are not allowed to have the same package names. You should refactor your libraries so they use distinct packages.","body":"You can&#39;t. Java - usually - picks the first on the classpath. You could switch to using the module path instead, but then loading this will fail because modules are not allowed to have the same package names. You should refactor your libraries so they use distinct packages."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655812378,"post_id":72700156,"comment_id":128415370,"body_markdown":"Do the classes have the same package name too? If not, use the fully qualified package name when referencing the class. If yes, you&#39;ll have to find a way to morph one of the libraries into using a different package naming. https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html","body":"Do the classes have the same package name too? If not, use the fully qualified package name when referencing the class. If yes, you&#39;ll have to find a way to morph one of the libraries into using a different package naming. <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/examples/&hellip;</a>"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1655812562,"post_id":72700156,"comment_id":128415440,"body_markdown":"You describe an uncommon situation: besides the class name itself, the package in which the class actually resides also matters. So `x.y.z.Abc` and `e.f.g.h.Abc` are two different classes. Packages are usually chosen by the authors of the library so that the classes won&#39;t clash with other libraries. For example, spring keeps its classes in `org.springframework`, other dependencies are not supposed to have this package inside. So please clarify what jars clash, if these are internal jars consider fixing them rather than trying to solve anything in maven (which won&#39;t work anyway)","body":"You describe an uncommon situation: besides the class name itself, the package in which the class actually resides also matters. So <code>x.y.z.Abc</code> and <code>e.f.g.h.Abc</code> are two different classes. Packages are usually chosen by the authors of the library so that the classes won&#39;t clash with other libraries. For example, spring keeps its classes in <code>org.springframework</code>, other dependencies are not supposed to have this package inside. So please clarify what jars clash, if these are internal jars consider fixing them rather than trying to solve anything in maven (which won&#39;t work anyway)"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1655814226,"post_id":72700156,"comment_id":128416045,"body_markdown":"The first thing to check is the import statement in your source code. Maybe you imported the class from the wrong package by mistake.","body":"The first thing to check is the import statement in your source code. Maybe you imported the class from the wrong package by mistake."}],"answers":[{"tags":[],"owner":{"account_id":1880361,"reputation":144,"user_id":1700716,"display_name":"Nikolaj Hansen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655816379,"creation_date":1655816379,"answer_id":72701254,"question_id":72700156,"body_markdown":"No.\r\n\r\nYou need to have compatible versions of the class.\r\n\r\nOr even better only include one type of Class to your build.","title":"Maven uses class from wrong Library","body":"<p>No.</p>\n<p>You need to have compatible versions of the class.</p>\n<p>Or even better only include one type of Class to your build.</p>\n"}],"owner":{"account_id":25384435,"reputation":11,"user_id":19196406,"display_name":"javaTopics"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655816379,"creation_date":1655811792,"question_id":72700156,"body_markdown":"i am currently working on a Maven project with alot external Libraries. Now i have following Issue...\r\n\r\n**Issue:** I have two different Libraries(lets say **Library A &amp; Library B**) and both have a class(lets name the class **abc.class**) with the same classname but the classes dont have the same Implementation! Now one of my testclasses uses *abc.class* from *Library A*, which is the wrong class/library. This testclass should use *abc.class* from *Library B*. I cant just delete the Library A because i needed also for other testclasses.\r\n\r\n**My SetUp:**\r\n- Maven: apache-maven-3.6.1\r\n- Java: jdk11\r\n- IDE: IntelliJ\r\n\r\n**My Question:** Is there a way to pin diffrent Libraries for specific classes? So i could pin the *Library B* to my failing testclass, so it can use the right Library and the right implementation for the **abc.class**.  \r\n  \r\nIn the best case, i would like to fix it in the POM :)  \r\nPls let me know if its somehow possible.\r\n\r\n","title":"Maven uses class from wrong Library","body":"<p>i am currently working on a Maven project with alot external Libraries. Now i have following Issue...</p>\n<p><strong>Issue:</strong> I have two different Libraries(lets say <strong>Library A &amp; Library B</strong>) and both have a class(lets name the class <strong>abc.class</strong>) with the same classname but the classes dont have the same Implementation! Now one of my testclasses uses <em>abc.class</em> from <em>Library A</em>, which is the wrong class/library. This testclass should use <em>abc.class</em> from <em>Library B</em>. I cant just delete the Library A because i needed also for other testclasses.</p>\n<p><strong>My SetUp:</strong></p>\n<ul>\n<li>Maven: apache-maven-3.6.1</li>\n<li>Java: jdk11</li>\n<li>IDE: IntelliJ</li>\n</ul>\n<p><strong>My Question:</strong> Is there a way to pin diffrent Libraries for specific classes? So i could pin the <em>Library B</em> to my failing testclass, so it can use the right Library and the right implementation for the <strong>abc.class</strong>.</p>\n<p>In the best case, i would like to fix it in the POM :)<br />\nPls let me know if its somehow possible.</p>\n"},{"tags":["java","conda","wrapper","snakemake"],"comments":[{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1655731349,"post_id":72680095,"comment_id":128394231,"body_markdown":"Without setting `java_opts` it works? Perhaps try to: Use the `-p` option in snakemake to print shell commands and check for something odd; try running the command on the front node and check for queues in error. (Personally, I don&#39;t see the point of using wrappers - they add a layer of abstraction making debugging more difficult just to execute a single shell command)","body":"Without setting <code>java_opts</code> it works? Perhaps try to: Use the <code>-p</code> option in snakemake to print shell commands and check for something odd; try running the command on the front node and check for queues in error. (Personally, I don&#39;t see the point of using wrappers - they add a layer of abstraction making debugging more difficult just to execute a single shell command)"},{"owner":{"account_id":22330612,"reputation":168,"user_id":16611809,"display_name":"gernophil"},"score":0,"creation_date":1655798772,"post_id":72680095,"comment_id":128410459,"body_markdown":"I totally agree with you about the wrappers. This I a premade large workflow and editing every wrapper would be to much work though :).\nYes, without the java options everything works. This rule just takes very long :). I will try the -p flag and come back to you.","body":"I totally agree with you about the wrappers. This I a premade large workflow and editing every wrapper would be to much work though :). Yes, without the java options everything works. This rule just takes very long :). I will try the -p flag and come back to you."}],"answers":[{"tags":[],"owner":{"account_id":17099546,"reputation":1729,"user_id":12373791,"display_name":"Troy Comi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655816283,"creation_date":1655816283,"answer_id":72701226,"question_id":72680095,"body_markdown":"The wrapper code imports some utils from [here](https://github.com/snakemake/snakemake-wrapper-utils/blob/master/snakemake_wrapper_utils/java.py#L3). Specifically, if you set `mem_mb` in resources, it adds `-Xmx{mem_mb}M` to your java invocation.  If you also specify `-Xmx` in `java_opts`, the code will exit with a message about having both mem_mb and -Xmx.  Not sure why you don&#39;t see that in the log, but that is why your job is failing.\r\n\r\nYou can, however, specify `-XX:ParallelGCThreads=8` alone and it should work, taking the memory from your resources.\r\n\r\nSo, if you specify `mem_mb` or `mem_gb` in resources, do not include `-Xmx` in your `java_opts`.","title":"Set java_opts for baserecalibrator snakemake wrapper","body":"<p>The wrapper code imports some utils from <a href=\"https://github.com/snakemake/snakemake-wrapper-utils/blob/master/snakemake_wrapper_utils/java.py#L3\" rel=\"nofollow noreferrer\">here</a>. Specifically, if you set <code>mem_mb</code> in resources, it adds <code>-Xmx{mem_mb}M</code> to your java invocation.  If you also specify <code>-Xmx</code> in <code>java_opts</code>, the code will exit with a message about having both mem_mb and -Xmx.  Not sure why you don't see that in the log, but that is why your job is failing.</p>\n<p>You can, however, specify <code>-XX:ParallelGCThreads=8</code> alone and it should work, taking the memory from your resources.</p>\n<p>So, if you specify <code>mem_mb</code> or <code>mem_gb</code> in resources, do not include <code>-Xmx</code> in your <code>java_opts</code>.</p>\n"}],"owner":{"account_id":22330612,"reputation":168,"user_id":16611809,"display_name":"gernophil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72701226,"answer_count":1,"score":1,"last_activity_date":1655816283,"creation_date":1655670133,"question_id":72680095,"body_markdown":"I am running a snakemake pipeline with some conda wrappers and I&#39;m trying to allocate some more memory to a rule since it&#39;s taking ages. I tried to allocate more memory and threads through the java opts, but the rule fails. I can&#39;t provide an error message. I&#39;m running on a cluster and the log says I should look in the log files of the involved rules. This log file is empty though.\r\n\r\nThis is my code for the rule:\r\n```\r\nrule recalibrate_base_qualities:\r\n    (unchanged)\r\n    params:\r\n        (unchanged)\r\n        java_opts=&quot;-Xmx4G -XX:ParallelGCThreads=8&quot;, # also tried just: java_opts=&quot;-Xmx4G&quot;,\r\n    threads: 8\r\n    resources:\r\n        mem_mb=32768,\r\n        time=&quot;12:00:00&quot;, # just for cluster scheduling\r\n    wrapper:\r\n        &quot;0.74.0/bio/gatk/baserecalibrator&quot;\r\n```\r\nCan anyone help me spot the error?\r\n\r\nThanks in advance","title":"Set java_opts for baserecalibrator snakemake wrapper","body":"<p>I am running a snakemake pipeline with some conda wrappers and I'm trying to allocate some more memory to a rule since it's taking ages. I tried to allocate more memory and threads through the java opts, but the rule fails. I can't provide an error message. I'm running on a cluster and the log says I should look in the log files of the involved rules. This log file is empty though.</p>\n<p>This is my code for the rule:</p>\n<pre><code>rule recalibrate_base_qualities:\n    (unchanged)\n    params:\n        (unchanged)\n        java_opts=&quot;-Xmx4G -XX:ParallelGCThreads=8&quot;, # also tried just: java_opts=&quot;-Xmx4G&quot;,\n    threads: 8\n    resources:\n        mem_mb=32768,\n        time=&quot;12:00:00&quot;, # just for cluster scheduling\n    wrapper:\n        &quot;0.74.0/bio/gatk/baserecalibrator&quot;\n</code></pre>\n<p>Can anyone help me spot the error?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","html","arrays","multidimensional-array","stringbuilder"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1655756524,"post_id":72692518,"comment_id":128402833,"body_markdown":"Apart from the tags not matching up, you append `item`, which is a `String[]` that doesn&#39;t have a nice `toString`. Why not combine like this: `&quot;&lt;dt&gt;&quot; + item[0] + &quot;&lt;/dt&gt;&lt;dd&gt;&quot; + item[1] + &quot;&lt;/dd&gt;&quot;`?","body":"Apart from the tags not matching up, you append <code>item</code>, which is a <code>String[]</code> that doesn&#39;t have a nice <code>toString</code>. Why not combine like this: <code>&quot;&lt;dt&gt;&quot; + item[0] + &quot;&lt;&#47;dt&gt;&lt;dd&gt;&quot; + item[1] + &quot;&lt;&#47;dd&gt;&quot;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":21559696,"reputation":29,"user_id":15894406,"display_name":"Pete Alexandrovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655816193,"creation_date":1655816193,"answer_id":72701206,"question_id":72692518,"body_markdown":"Still, I had to figure it out on my own. I didn’t need nested loops. It’s all about creating two additional string variables that are written to a two-dimensional array. Well, I also needed the same check for the absence of elements in the array.\r\n\r\n```\r\npublic class HtmlBuilder {\r\n\r\n  public static void main(String[] args){\r\n   }\r\n   \r\n    public static String buildDefinitionList(String[][] definitions){\r\n        if(definitions.length==0){\r\n            return &quot;&quot;;\r\n        }\r\n        \r\n        StringBuilder result = new StringBuilder();\r\n        result.append(&quot;&lt;dl&gt;&quot;);\r\n        for(String[] definition : definitions){\r\n            String name=definition[0];\r\n            String description=definition[1];\r\n\r\n            result.append(&quot;&lt;dt&gt;&quot;);\r\n            result.append(name);\r\n            result.append(&quot;&lt;/dt&gt;&quot;);\r\n\r\n            result.append(&quot;&lt;dd&gt;&quot;);\r\n            result.append(description);\r\n            result.append(&quot;&lt;/dd&gt;&quot;);\r\n        }\r\n        result.append(&quot;&lt;/dl&gt;&quot;);\r\n        \r\n        return result.toString();\r\n    }\r\n}\r\n```","title":"Generating HTML List of Definitions in Java Multidimensional Array","body":"<p>Still, I had to figure it out on my own. I didn’t need nested loops. It’s all about creating two additional string variables that are written to a two-dimensional array. Well, I also needed the same check for the absence of elements in the array.</p>\n<pre><code>public class HtmlBuilder {\n\n  public static void main(String[] args){\n   }\n   \n    public static String buildDefinitionList(String[][] definitions){\n        if(definitions.length==0){\n            return &quot;&quot;;\n        }\n        \n        StringBuilder result = new StringBuilder();\n        result.append(&quot;&lt;dl&gt;&quot;);\n        for(String[] definition : definitions){\n            String name=definition[0];\n            String description=definition[1];\n\n            result.append(&quot;&lt;dt&gt;&quot;);\n            result.append(name);\n            result.append(&quot;&lt;/dt&gt;&quot;);\n\n            result.append(&quot;&lt;dd&gt;&quot;);\n            result.append(description);\n            result.append(&quot;&lt;/dd&gt;&quot;);\n        }\n        result.append(&quot;&lt;/dl&gt;&quot;);\n        \n        return result.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21559696,"reputation":29,"user_id":15894406,"display_name":"Pete Alexandrovich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655816193,"creation_date":1655756095,"question_id":72692518,"body_markdown":"At the moment, I&#39;m solving the following problem: I need to implement a **public static buildDefinitionList()** method that generates an **HTML list of definitions** (tags ```&lt;dl&gt;, &lt;dt&gt; and &lt;dd&gt;```) and returns the resulting string. If there are no elements in the array, the method returns an empty string.\r\n\r\nThe method takes as input a list of definitions in the form of a two-dimensional array:\r\n\r\n```\r\nString[][] definitions = {\r\n\r\n  {&quot;definition1&quot;, &quot;description1&quot;},\r\n\r\n  {&quot;definition2&quot;, &quot;description2&quot;},\r\n\r\n};\r\n```\r\n\r\nThat is, each element of the input array is itself an array containing two elements: a term and its definition.\r\n\r\n```\r\nString[][] definitions = {\r\n\r\n  {&quot;Bulb&quot;, &quot;Bulge, thickening on the surface of something&quot;},\r\n\r\n  {&quot;Beaver&quot;, &quot;An animal from the order of rodents&quot;},\r\n\r\n};\r\n\r\n HtmlBuilder.buildDefinitionList(definitions);\r\n\r\n// &quot;&lt;dl&gt;&lt;dt&gt;Bulb&lt;/dt&gt;&lt;dd&gt;Bulge, thickening on the surface of something&lt;/dd&gt;&lt;dt&gt;Beaver&lt;/dt&gt;&lt;dd&gt;An animal from the order of rodents&lt;/dd&gt;&lt;/dl&gt;&quot;;\r\n\r\n```\r\n\r\n**Here is my code:**\r\n\r\n```java\r\npackage com.arrays.problem6;\r\n\r\npublic class HtmlBuilder {\r\n\r\n    public static void main(String[] args) {\r\n            }\r\n\r\n    public static String buildDefinitionList(String[][] definitions){\r\n        var result = new StringBuilder();\r\n        result.append(&quot;&lt;dl&gt;&lt;dt&gt;&quot;);\r\n        \r\n        for (var item : definitions) {\r\n         \r\n            result.append(&quot;&lt;dd&gt;&quot;);\r\n            result.append(item);\r\n            result.append(&quot;&lt;/dl&gt;&lt;/dd&gt;&quot;);\r\n        }\r\n        result.append(&quot;&lt;/dl&gt;&lt;/dd&gt;&quot;);\r\n       \r\n               return result.toString();\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe program is working in the right direction, but so far I can not find the error. Please help me find it.","title":"Generating HTML List of Definitions in Java Multidimensional Array","body":"<p>At the moment, I'm solving the following problem: I need to implement a <strong>public static buildDefinitionList()</strong> method that generates an <strong>HTML list of definitions</strong> (tags <code>&lt;dl&gt;, &lt;dt&gt; and &lt;dd&gt;</code>) and returns the resulting string. If there are no elements in the array, the method returns an empty string.</p>\n<p>The method takes as input a list of definitions in the form of a two-dimensional array:</p>\n<pre><code>String[][] definitions = {\n\n  {&quot;definition1&quot;, &quot;description1&quot;},\n\n  {&quot;definition2&quot;, &quot;description2&quot;},\n\n};\n</code></pre>\n<p>That is, each element of the input array is itself an array containing two elements: a term and its definition.</p>\n<pre><code>String[][] definitions = {\n\n  {&quot;Bulb&quot;, &quot;Bulge, thickening on the surface of something&quot;},\n\n  {&quot;Beaver&quot;, &quot;An animal from the order of rodents&quot;},\n\n};\n\n HtmlBuilder.buildDefinitionList(definitions);\n\n// &quot;&lt;dl&gt;&lt;dt&gt;Bulb&lt;/dt&gt;&lt;dd&gt;Bulge, thickening on the surface of something&lt;/dd&gt;&lt;dt&gt;Beaver&lt;/dt&gt;&lt;dd&gt;An animal from the order of rodents&lt;/dd&gt;&lt;/dl&gt;&quot;;\n\n</code></pre>\n<p><strong>Here is my code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.arrays.problem6;\n\npublic class HtmlBuilder {\n\n    public static void main(String[] args) {\n            }\n\n    public static String buildDefinitionList(String[][] definitions){\n        var result = new StringBuilder();\n        result.append(&quot;&lt;dl&gt;&lt;dt&gt;&quot;);\n        \n        for (var item : definitions) {\n         \n            result.append(&quot;&lt;dd&gt;&quot;);\n            result.append(item);\n            result.append(&quot;&lt;/dl&gt;&lt;/dd&gt;&quot;);\n        }\n        result.append(&quot;&lt;/dl&gt;&lt;/dd&gt;&quot;);\n       \n               return result.toString();\n\n    }\n}\n</code></pre>\n<p>The program is working in the right direction, but so far I can not find the error. Please help me find it.</p>\n"},{"tags":["java","hibernate","jpa","entitygraph"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1655817877,"post_id":72700902,"comment_id":128417608,"body_markdown":"From the docs of `.stream()` method: `You should call java.util.stream.Stream.close() after processing the stream so that the underlying resources are deallocated right away.` You could attempt this","body":"From the docs of <code>.stream()</code> method: <code>You should call java.util.stream.Stream.close() after processing the stream so that the underlying resources are deallocated right away.</code> You could attempt this"},{"owner":{"account_id":15396038,"reputation":161,"user_id":11107128,"display_name":"syydi"},"score":0,"creation_date":1655820510,"post_id":72700902,"comment_id":128418746,"body_markdown":"Stream javadoc says: `Most stream instances do not actually need to be closed after use, as they are backed by collections, arrays, or generating functions, which require no special resource management. Generally, only streams whose source is an IO channel, will require closing`. I still went on to try out your theory and discovered nothing new.","body":"Stream javadoc says: <code>Most stream instances do not actually need to be closed after use, as they are backed by collections, arrays, or generating functions, which require no special resource management. Generally, only streams whose source is an IO channel, will require closing</code>. I still went on to try out your theory and discovered nothing new."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1655884221,"post_id":72700902,"comment_id":128434702,"body_markdown":"Interesting. It might have to do with the specifics of how you are adding the values through the API. It would probably help if you included the minimum code necessary. At the very least, are you sure the API has committed the transaction before you execute the query? Also, if it is a bug, the exact version of Hibernate might be useful.","body":"Interesting. It might have to do with the specifics of how you are adding the values through the API. It would probably help if you included the minimum code necessary. At the very least, are you sure the API has committed the transaction before you execute the query? Also, if it is a bug, the exact version of Hibernate might be useful."}],"owner":{"account_id":15396038,"reputation":161,"user_id":11107128,"display_name":"syydi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655815000,"creation_date":1655815000,"question_id":72700902,"body_markdown":"I have a method that executes a query:\r\n\r\n    EntityGraph&lt;TypeA&gt; fetch = em.createEntityGraph(TypeA.class);\r\n    Subgraph&lt;TypeB&gt; fetchTypeB = fetch.addSubgraph(&quot;typeB&quot;, TypeB.class);\r\n    fetchTypeB.addSubgraph(&quot;typeC&quot;, TypeC.class);\r\n\r\n    Set&lt;TypeA&gt; result = em.createQuery(\r\n        &quot;SELECT a FROM TypeA a &quot; +\r\n        &quot;   LEFT JOIN a.b b &quot; +\r\n        &quot;   LEFT JOIN b.c c &quot; +\r\n        &quot;WHERE {...}&quot;, TypeA.class)\r\n    .setParameter(...)\r\n    .setHint(&quot;javax.persistence.loadgraph&quot;, fetch)\r\n    .getResultStream()\r\n    .collect(Collectors.toSet());\r\n\r\n    return result;\r\n\r\nI want the method to return a Set. Here I am using `.getResultStream().collect(Collectors.toSet());`. I add some data to the database manually and then call the method. The result is correct. Next, I add some more values using an API. I check the database, everything is as expected, but when I call the method, I only get the values I inserted manually.    \r\n    \r\nNow, I make a single change - I use `getResultList()` and transform it to a HashSet:\r\n    \r\n    EntityGraph&lt;TypeA&gt; fetch = em.createEntityGraph(TypeA.class);\r\n    Subgraph&lt;TypeB&gt; fetchTypeB = fetch.addSubgraph(&quot;typeB&quot;, TypeB.class);\r\n    fetchTypeB.addSubgraph(&quot;typeC&quot;, TypeC.class);\r\n\r\n    List&lt;TypeA&gt; result = em.createQuery(\r\n        &quot;SELECT a FROM TypeA a &quot; +\r\n        &quot;   LEFT JOIN a.b b &quot; +\r\n        &quot;   LEFT JOIN b.c c &quot; +\r\n        &quot;WHERE {...}&quot;, TypeA.class)\r\n    .setParameter(...)\r\n    .setHint(&quot;javax.persistence.loadgraph&quot;, fetch)\r\n    .getResultList();\r\n\r\n    return new HashSet&lt;&gt;(result);\r\n\r\nAnd now I get all values, including the ones added via API. If I change back to the first version, same problem occurs as before. Does anyone have any idea what could cause this?","title":"JPA getResultStream() vs getResultList()","body":"<p>I have a method that executes a query:</p>\n<pre><code>EntityGraph&lt;TypeA&gt; fetch = em.createEntityGraph(TypeA.class);\nSubgraph&lt;TypeB&gt; fetchTypeB = fetch.addSubgraph(&quot;typeB&quot;, TypeB.class);\nfetchTypeB.addSubgraph(&quot;typeC&quot;, TypeC.class);\n\nSet&lt;TypeA&gt; result = em.createQuery(\n    &quot;SELECT a FROM TypeA a &quot; +\n    &quot;   LEFT JOIN a.b b &quot; +\n    &quot;   LEFT JOIN b.c c &quot; +\n    &quot;WHERE {...}&quot;, TypeA.class)\n.setParameter(...)\n.setHint(&quot;javax.persistence.loadgraph&quot;, fetch)\n.getResultStream()\n.collect(Collectors.toSet());\n\nreturn result;\n</code></pre>\n<p>I want the method to return a Set. Here I am using <code>.getResultStream().collect(Collectors.toSet());</code>. I add some data to the database manually and then call the method. The result is correct. Next, I add some more values using an API. I check the database, everything is as expected, but when I call the method, I only get the values I inserted manually.</p>\n<p>Now, I make a single change - I use <code>getResultList()</code> and transform it to a HashSet:</p>\n<pre><code>EntityGraph&lt;TypeA&gt; fetch = em.createEntityGraph(TypeA.class);\nSubgraph&lt;TypeB&gt; fetchTypeB = fetch.addSubgraph(&quot;typeB&quot;, TypeB.class);\nfetchTypeB.addSubgraph(&quot;typeC&quot;, TypeC.class);\n\nList&lt;TypeA&gt; result = em.createQuery(\n    &quot;SELECT a FROM TypeA a &quot; +\n    &quot;   LEFT JOIN a.b b &quot; +\n    &quot;   LEFT JOIN b.c c &quot; +\n    &quot;WHERE {...}&quot;, TypeA.class)\n.setParameter(...)\n.setHint(&quot;javax.persistence.loadgraph&quot;, fetch)\n.getResultList();\n\nreturn new HashSet&lt;&gt;(result);\n</code></pre>\n<p>And now I get all values, including the ones added via API. If I change back to the first version, same problem occurs as before. Does anyone have any idea what could cause this?</p>\n"},{"tags":["java","swing","user-interface","intellij-idea"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655796671,"post_id":72696814,"comment_id":128409828,"body_markdown":"The error points to a `toExternalForm()` call so it can&#39;t be that JFrame row. Please provide the code around the failing location.","body":"The error points to a <code>toExternalForm()</code> call so it can&#39;t be that JFrame row. Please provide the code around the failing location."},{"owner":{"account_id":21987872,"reputation":1,"user_id":16392562,"display_name":"Mandy Lores"},"score":0,"creation_date":1655798010,"post_id":72696814,"comment_id":128410236,"body_markdown":"@akarnokd I have added more details and as you stated I was also sure there is nothing wrong with the main code. The errors seems to be directing me to the swing library","body":"@akarnokd I have added more details and as you stated I was also sure there is nothing wrong with the main code. The errors seems to be directing me to the swing library"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655798199,"post_id":72696814,"comment_id":128410300,"body_markdown":"What are on these lines? Interface.java:48  Application.java:313 ?","body":"What are on these lines? Interface.java:48  Application.java:313 ?"},{"owner":{"account_id":21987872,"reputation":1,"user_id":16392562,"display_name":"Mandy Lores"},"score":0,"creation_date":1655798590,"post_id":72696814,"comment_id":128410401,"body_markdown":"@akarnokd Interface.java:48 final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;); as mentioned above; Application.java:313 = clientApplication.guiWindow = new Interface(clientApplication);","body":"@akarnokd Interface.java:48 final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;); as mentioned above; Application.java:313 = clientApplication.guiWindow = new Interface(clientApplication);"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655798814,"post_id":72696814,"comment_id":128410470,"body_markdown":"That makes no sense. Usually there is a `getResource` call which can&#39;t find the image, hence the null. Are you using some kind of UI binding mechanism? Check what icon it references and see if you have it in the right location, including if it starts with &quot;/&quot; or not.","body":"That makes no sense. Usually there is a <code>getResource</code> call which can&#39;t find the image, hence the null. Are you using some kind of UI binding mechanism? Check what icon it references and see if you have it in the right location, including if it starts with &quot;/&quot; or not."}],"owner":{"account_id":21987872,"reputation":1,"user_id":16392562,"display_name":"Mandy Lores"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655799881,"answer_count":0,"score":0,"last_activity_date":1655814867,"creation_date":1655796519,"question_id":72696814,"body_markdown":"     public Interface(Application referenceApplication) {\r\n        final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;);\r\n        // Initialise the Search Parameter Selector:\r\n        final DefaultComboBoxModel&lt;String&gt; parameters = new DefaultComboBoxModel&lt;&gt;();\r\n        parameters.addElement(SearchCategories.NAME.toString());\r\n        parameters.addElement(SearchCategories.IATA.toString());\r\n        parameters.addElement(SearchCategories.ICAO.toString());\r\n        airportParameter.setModel(parameters);\r\n        // Initialise the Table:\r\n        guiTable = new UniversalTableModel();\r\n        table.setModel(guiTable);\r\n        // Clear Search Box on Click:\r\n        airportField.addFocusListener(new FocusAdapter() {\r\n            @Override\r\n            public void focusGained(FocusEvent e) {\r\n                if (!airportField.getForeground().equals(Color.BLACK)) {\r\n                    super.focusGained(e);\r\n                    airportField.setText(&quot;&quot;);\r\n                    airportField.setForeground(Color.BLACK);\r\n                }\r\n            }\r\n        });\r\n        // Attempt to Safely Disconnect from Server when Window is Closed:\r\n        clientWindow.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                super.windowClosing(e);\r\n                referenceApplication.disconnectServer();\r\n                System.exit(0);\r\n            }\r\n        });\r\n        // Display and Re-Size Contents:\r\n        clientWindow.add(mainPanel);\r\n        clientWindow.setVisible(true);\r\n        clientWindow.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        clientWindow.pack();\r\n    }\r\n\r\nGetting error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\r\n&gt; invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null  \r\n\r\nI have made sure that images are in the right place. \r\n\r\nCode line where console is showing the error is: \r\n\r\n    final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;);\r\n\r\n&gt; in javax.swing\r\n\r\n    public ImageIcon (URL location) {\r\n        this(location, location.toExternalForm());\r\n    }\r\n\r\n&gt; in java.lang \r\n\r\n    public class NullPointerException extends RuntimeException {\r\n    @java.io.Serial\r\n    private static final long serialVersionUID = 5162710183389028792L;\r\n\r\n\r\n \r\n[Screenshot of directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rPAoV.jpg\r\n\r\n\r\nFull error in console: \r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\r\n at java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:234)\r\n at client.Interface.$$$setupUI$$$(Interface.java)\r\n at client.Interface.&lt;init&gt;(Interface.java:48)\r\n at client.Application.main(Application.java:313)\r\n```","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null - Java IntelliJ","body":"<pre><code> public Interface(Application referenceApplication) {\n    final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;);\n    // Initialise the Search Parameter Selector:\n    final DefaultComboBoxModel&lt;String&gt; parameters = new DefaultComboBoxModel&lt;&gt;();\n    parameters.addElement(SearchCategories.NAME.toString());\n    parameters.addElement(SearchCategories.IATA.toString());\n    parameters.addElement(SearchCategories.ICAO.toString());\n    airportParameter.setModel(parameters);\n    // Initialise the Table:\n    guiTable = new UniversalTableModel();\n    table.setModel(guiTable);\n    // Clear Search Box on Click:\n    airportField.addFocusListener(new FocusAdapter() {\n        @Override\n        public void focusGained(FocusEvent e) {\n            if (!airportField.getForeground().equals(Color.BLACK)) {\n                super.focusGained(e);\n                airportField.setText(&quot;&quot;);\n                airportField.setForeground(Color.BLACK);\n            }\n        }\n    });\n    // Attempt to Safely Disconnect from Server when Window is Closed:\n    clientWindow.addWindowListener(new WindowAdapter() {\n        @Override\n        public void windowClosing(WindowEvent e) {\n            super.windowClosing(e);\n            referenceApplication.disconnectServer();\n            System.exit(0);\n        }\n    });\n    // Display and Re-Size Contents:\n    clientWindow.add(mainPanel);\n    clientWindow.setVisible(true);\n    clientWindow.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    clientWindow.pack();\n}\n</code></pre>\n<p>Getting error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot\ninvoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null</p>\n</blockquote>\n<p>I have made sure that images are in the right place.</p>\n<p>Code line where console is showing the error is:</p>\n<pre><code>final JFrame clientWindow = new JFrame(&quot;Air Traffic Information&quot;);\n</code></pre>\n<blockquote>\n<p>in javax.swing</p>\n</blockquote>\n<pre><code>public ImageIcon (URL location) {\n    this(location, location.toExternalForm());\n}\n</code></pre>\n<blockquote>\n<p>in java.lang</p>\n</blockquote>\n<pre><code>public class NullPointerException extends RuntimeException {\n@java.io.Serial\nprivate static final long serialVersionUID = 5162710183389028792L;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/rPAoV.jpg\" rel=\"nofollow noreferrer\">Screenshot of directory</a></p>\n<p>Full error in console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\n at java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:234)\n at client.Interface.$$$setupUI$$$(Interface.java)\n at client.Interface.&lt;init&gt;(Interface.java:48)\n at client.Application.main(Application.java:313)\n</code></pre>\n"},{"tags":["java","azure","azure-functions"],"answers":[{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655814442,"creation_date":1655814442,"answer_id":72700779,"question_id":72700724,"body_markdown":"The below configuration in `pom.xml` for me. \r\n\r\n        &lt;deploymentType&gt;RUN_FROM_BLOB&lt;/deploymentType&gt;\r\n\r\nYou need to include it inside `configuration` tab.\r\n\r\nReference: https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details#supported-deployment-type\r\n\r\nNow the app deployment always succeeds. ","title":"Java Azure Functions deployment fails with timeout issue","body":"<p>The below configuration in <code>pom.xml</code> for me.</p>\n<pre><code>    &lt;deploymentType&gt;RUN_FROM_BLOB&lt;/deploymentType&gt;\n</code></pre>\n<p>You need to include it inside <code>configuration</code> tab.</p>\n<p>Reference: <a href=\"https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details#supported-deployment-type\" rel=\"nofollow noreferrer\">https://github.com/microsoft/azure-maven-plugins/wiki/Azure-Functions:-Configuration-Details#supported-deployment-type</a></p>\n<p>Now the app deployment always succeeds.</p>\n"}],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72700779,"answer_count":1,"score":0,"last_activity_date":1655814442,"creation_date":1655814225,"question_id":72700724,"body_markdown":"When deploying Azure function using the maven plugin `mvn azure-functions:deploy`, a lot of the times I receive the below error. Usually it just works retrying a few times.\r\n\r\n&gt; [INFO] Trying to deploy artifact to CodeRuntimePrac3... [WARNING]\r\n&gt; [bbc8d6e1-1, L:/10.28.17.70:64315 -\r\n&gt; R:coderuntimeprac3.scm.azurewebsites.net/20.40.202.19:443] The\r\n&gt; connection observed an error java.util.concurrent.TimeoutException:\r\n&gt; Channel response timed out after 60000 milliseconds. at\r\n&gt; com.azure.core.http.netty.implementation.ResponseTimeoutHandler.responseTimedOut\r\n&gt; (ResponseTimeoutHandler.java:58) at\r\n&gt; com.azure.core.http.netty.implementation.ResponseTimeoutHandler.lambda$handlerAdded$0\r\n&gt; (ResponseTimeoutHandler.java:45) at\r\n&gt; io.netty.util.concurrent.PromiseTask.runTask (PromiseTask.java:98) at\r\n&gt; io.netty.util.concurrent.ScheduledFutureTask.run\r\n&gt; (ScheduledFutureTask.java:170) at\r\n&gt; io.netty.util.concurrent.AbstractEventExecutor.safeExecute\r\n&gt; (AbstractEventExecutor.java:164) at\r\n&gt; io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks\r\n&gt; (SingleThreadEventExecutor.java:469) at\r\n&gt; io.netty.channel.nio.NioEventLoop.run (NioEventLoop.java:500) at\r\n&gt; io.netty.util.concurrent.SingleThreadEventExecutor$4.run\r\n&gt; (SingleThreadEventExecutor.java:986) at\r\n&gt; io.netty.util.internal.ThreadExecutorMap$2.run\r\n&gt; (ThreadExecutorMap.java:74) at\r\n&gt; io.netty.util.concurrent.FastThreadLocalRunnable.run\r\n&gt; (FastThreadLocalRunnable.java:30) at java.lang.Thread.run\r\n&gt; (Thread.java:748) [INFO] Successfully deployed the artifact to\r\n&gt; https://coderuntimeprac3.azurewebsites.net [INFO] Deployment done, you\r\n&gt; may access your resource through coderuntimeprac3.azurewebsites.net\r\n&gt; [INFO] Syncing triggers and fetching function information [INFO]\r\n&gt; Querying triggers...\r\n\r\nThis is ad-hoc. It works a few times and failes other times","title":"Java Azure Functions deployment fails with timeout issue","body":"<p>When deploying Azure function using the maven plugin <code>mvn azure-functions:deploy</code>, a lot of the times I receive the below error. Usually it just works retrying a few times.</p>\n<blockquote>\n<p>[INFO] Trying to deploy artifact to CodeRuntimePrac3... [WARNING]\n[bbc8d6e1-1, L:/10.28.17.70:64315 -\nR:coderuntimeprac3.scm.azurewebsites.net/20.40.202.19:443] The\nconnection observed an error java.util.concurrent.TimeoutException:\nChannel response timed out after 60000 milliseconds. at\ncom.azure.core.http.netty.implementation.ResponseTimeoutHandler.responseTimedOut\n(ResponseTimeoutHandler.java:58) at\ncom.azure.core.http.netty.implementation.ResponseTimeoutHandler.lambda$handlerAdded$0\n(ResponseTimeoutHandler.java:45) at\nio.netty.util.concurrent.PromiseTask.runTask (PromiseTask.java:98) at\nio.netty.util.concurrent.ScheduledFutureTask.run\n(ScheduledFutureTask.java:170) at\nio.netty.util.concurrent.AbstractEventExecutor.safeExecute\n(AbstractEventExecutor.java:164) at\nio.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks\n(SingleThreadEventExecutor.java:469) at\nio.netty.channel.nio.NioEventLoop.run (NioEventLoop.java:500) at\nio.netty.util.concurrent.SingleThreadEventExecutor$4.run\n(SingleThreadEventExecutor.java:986) at\nio.netty.util.internal.ThreadExecutorMap$2.run\n(ThreadExecutorMap.java:74) at\nio.netty.util.concurrent.FastThreadLocalRunnable.run\n(FastThreadLocalRunnable.java:30) at java.lang.Thread.run\n(Thread.java:748) [INFO] Successfully deployed the artifact to\n<a href=\"https://coderuntimeprac3.azurewebsites.net\" rel=\"nofollow noreferrer\">https://coderuntimeprac3.azurewebsites.net</a> [INFO] Deployment done, you\nmay access your resource through coderuntimeprac3.azurewebsites.net\n[INFO] Syncing triggers and fetching function information [INFO]\nQuerying triggers...</p>\n</blockquote>\n<p>This is ad-hoc. It works a few times and failes other times</p>\n"},{"tags":["java","google-bigquery"],"comments":[{"owner":{"account_id":13007891,"reputation":93,"user_id":9401883,"display_name":"ymir"},"score":0,"creation_date":1655740359,"post_id":72689287,"comment_id":128397818,"body_markdown":"I also tried this :\n\n```\ntry {\n\tjob.getQueryResults();\n} catch (JobException e) {\n\te.printStackTrace();\n\te.getErrors();\n} catch (Exception e) {\n\te.printStackTrace();\n}\n```\n\nBut the &quot;JobException is not raised&quot;","body":"I also tried this :  ``` try { \tjob.getQueryResults(); } catch (JobException e) { \te.printStackTrace(); \te.getErrors(); } catch (Exception e) { \te.printStackTrace(); } ```  But the &quot;JobException is not raised&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655740709,"creation_date":1655740709,"answer_id":72689845,"question_id":72689287,"body_markdown":"There are a few example usages in [Javadoc for `waitFor()`][1], such as this:\r\n```\r\n Job completedJob = job.waitFor();\r\n if (completedJob == null) {\r\n   // job no longer exists\r\n } else if (completedJob.getStatus().getError() != null) {\r\n   // job failed, handle error\r\n } else {\r\n   // job completed successfully\r\n }\r\n```\r\nIn that example, it shows calling [`getStatus()`][2] on the job to get back a [`JobStatus`][3].\r\n\r\nOnce you have a `JobStatus`, you can call various things including [`getExecutionErrors()`][4] to get the errors, described as:\r\n&gt; _Returns all errors encountered during the running of the job. Errors here do not necessarily mean that the job has completed or was unsuccessful._\r\n\r\nSomething like this should be close to what you&#39;re after:\r\n```\r\nList&lt;BigQueryError&gt; errors = job.getStatus().getExecutionErrors();\r\nfor (BigQueryError error : errors) {\r\n    // do things with each error\r\n}\r\n```\r\n\r\n\r\n  [1]: https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/Job.html#waitFor-com.google.cloud.RetryOption...-\r\n  [2]: https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobInfo.html#getStatus--\r\n  [3]: https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobStatus.html\r\n  [4]: https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobStatus.html#getExecutionErrors--","title":"Iterate inside BigQuery errors[] collection in Java","body":"<p>There are a few example usages in <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/Job.html#waitFor-com.google.cloud.RetryOption...-\" rel=\"nofollow noreferrer\">Javadoc for <code>waitFor()</code></a>, such as this:</p>\n<pre><code> Job completedJob = job.waitFor();\n if (completedJob == null) {\n   // job no longer exists\n } else if (completedJob.getStatus().getError() != null) {\n   // job failed, handle error\n } else {\n   // job completed successfully\n }\n</code></pre>\n<p>In that example, it shows calling <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobInfo.html#getStatus--\" rel=\"nofollow noreferrer\"><code>getStatus()</code></a> on the job to get back a <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobStatus.html\" rel=\"nofollow noreferrer\"><code>JobStatus</code></a>.</p>\n<p>Once you have a <code>JobStatus</code>, you can call various things including <a href=\"https://javadoc.io/static/com.google.cloud/google-cloud-bigquery/2.13.3/com/google/cloud/bigquery/JobStatus.html#getExecutionErrors--\" rel=\"nofollow noreferrer\"><code>getExecutionErrors()</code></a> to get the errors, described as:</p>\n<blockquote>\n<p><em>Returns all errors encountered during the running of the job. Errors here do not necessarily mean that the job has completed or was unsuccessful.</em></p>\n</blockquote>\n<p>Something like this should be close to what you're after:</p>\n<pre><code>List&lt;BigQueryError&gt; errors = job.getStatus().getExecutionErrors();\nfor (BigQueryError error : errors) {\n    // do things with each error\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13007891,"reputation":93,"user_id":9401883,"display_name":"ymir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655814358,"creation_date":1655814358,"answer_id":72700761,"question_id":72689287,"body_markdown":"The error was in my &quot;catch&quot; block header.\r\nI catched a generic Exception raiser than a specific BigQueryException.\r\nBigQueryException has a getErrors method wich contains all the errors.\r\n\r\n```\r\ntry {\r\n\tcompletedJob = job.waitFor(); // HERE THE ERROR IS RAISED\r\n} catch (BigQueryException e) {\r\n\tList&lt;BigQueryError&gt; errors = e.getErrors();\r\n\tException metaE = null;\r\n\tif (null != errors) {\r\n\t\tStringBuffer message = new StringBuffer(e.getMessage()).append(&quot;\\r\\n&quot;);\r\n\t\tint errorNumber = errors.size();\r\n\t\tint errorIndex = 0;\r\n\t\tfor (BigQueryError error : errors) {\r\n\t\t\tmessage = message.append(&quot;error &quot;).append(++errorIndex).append(&quot;/&quot;).append(errorNumber)\r\n\t\t\t\t\t.append(&quot; : &quot;).append(error.getMessage()).append(&quot;\\r\\n&quot;);\r\n\t\t\t\t}\r\n\t\tmetaE = new Exception(message.toString(), e.getCause());\r\n\t\tmetaE.setStackTrace(e.getStackTrace());\r\n\t} else {\r\n\t\tmetaE = e;\r\n\t}\r\n\tthrow metaE;\r\n} catch (Exception e) {\r\n\tthrow e;\r\n}\r\n```\r\n\r\nSo console output is :\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please look into the errors[] collection for more details.\r\nerror 1/3 : Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please look into the errors[] collection for more details.\r\nerror 2/3 : Error while reading data, error message: JSON processing encountered too many errors, giving up. Rows: 1; errors: 1; max bad: 0; error percent: 0\r\nerror 3/3 : Invalid NUMERIC value: 2010-08-31 00:00:00.000000 Field: num; Value: 2010-08-31 00:00:00.000000\r\n\r\n\tat com.google.cloud.bigquery.Job.reload(Job.java:419)\r\n\tat com.google.cloud.bigquery.Job.waitFor(Job.java:252)\r\n\tat test.Ticket37120GoogleBigQueryErrors.main(Ticket37120GoogleBigQueryErrors.java:38)\r\n```\r\n\r\nAnd the error root cause in now clear : Invalid NUMERIC value","title":"Iterate inside BigQuery errors[] collection in Java","body":"<p>The error was in my &quot;catch&quot; block header.\nI catched a generic Exception raiser than a specific BigQueryException.\nBigQueryException has a getErrors method wich contains all the errors.</p>\n<pre><code>try {\n    completedJob = job.waitFor(); // HERE THE ERROR IS RAISED\n} catch (BigQueryException e) {\n    List&lt;BigQueryError&gt; errors = e.getErrors();\n    Exception metaE = null;\n    if (null != errors) {\n        StringBuffer message = new StringBuffer(e.getMessage()).append(&quot;\\r\\n&quot;);\n        int errorNumber = errors.size();\n        int errorIndex = 0;\n        for (BigQueryError error : errors) {\n            message = message.append(&quot;error &quot;).append(++errorIndex).append(&quot;/&quot;).append(errorNumber)\n                    .append(&quot; : &quot;).append(error.getMessage()).append(&quot;\\r\\n&quot;);\n                }\n        metaE = new Exception(message.toString(), e.getCause());\n        metaE.setStackTrace(e.getStackTrace());\n    } else {\n        metaE = e;\n    }\n    throw metaE;\n} catch (Exception e) {\n    throw e;\n}\n</code></pre>\n<p>So console output is :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please look into the errors[] collection for more details.\nerror 1/3 : Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please look into the errors[] collection for more details.\nerror 2/3 : Error while reading data, error message: JSON processing encountered too many errors, giving up. Rows: 1; errors: 1; max bad: 0; error percent: 0\nerror 3/3 : Invalid NUMERIC value: 2010-08-31 00:00:00.000000 Field: num; Value: 2010-08-31 00:00:00.000000\n\n    at com.google.cloud.bigquery.Job.reload(Job.java:419)\n    at com.google.cloud.bigquery.Job.waitFor(Job.java:252)\n    at test.Ticket37120GoogleBigQueryErrors.main(Ticket37120GoogleBigQueryErrors.java:38)\n</code></pre>\n<p>And the error root cause in now clear : Invalid NUMERIC value</p>\n"}],"owner":{"account_id":13007891,"reputation":93,"user_id":9401883,"display_name":"ymir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72700761,"answer_count":2,"score":0,"last_activity_date":1655814358,"creation_date":1655738041,"question_id":72689287,"body_markdown":"When I execute this Java code : \r\n\r\n(note : string parameters are dummy examples)\r\n\r\n```\r\npackage bigquery.test;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.InputStream;\r\n\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport com.google.cloud.bigquery.BigQuery;\r\nimport com.google.cloud.bigquery.BigQueryOptions;\r\nimport com.google.cloud.bigquery.Job;\r\nimport com.google.cloud.bigquery.Table;\r\nimport com.google.cloud.bigquery.TableId;\r\n\r\npublic class GoogleBigQueryErrors {\r\n\r\n\tstatic BigQuery __bigquery__;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tprepare();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\r\n\t\tTableId tableId = com.google.cloud.bigquery.TableId.of(&quot;DATA_SET&quot;, &quot;TABLE&quot;);\r\n\t\tTable table = __bigquery__.getTable(tableId);\r\n\r\n\t\tJob job = table.load(com.google.cloud.bigquery.FormatOptions.json(),\r\n\t\t\t\t&quot;gs://URI_PATH/HASH.bigquery.json&quot;);\r\n\t\tJob completedJob = null;\r\n\t\ttry {\r\n\t\t\tcompletedJob = job.waitFor(); // HERE THE ERROR IS RAISED\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.exit(2);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void prepare() throws Exception {\r\n\t\tString projectId = &quot;PROJECT_ID&quot;;\r\n\t\tString credentialsFile = &quot;PATH/FILE.json&quot;;\r\n\t\tInputStream credentialsStream = new FileInputStream(credentialsFile);\r\n\t\tGoogleCredentials credentials = GoogleCredentials.fromStream(credentialsStream);\r\n\t\tBigQueryOptions options = BigQueryOptions.newBuilder().setProjectId(projectId).setCredentials(credentials)\r\n\t\t\t\t.build();\r\n\t\tBigQuery bigquery = options.getService();\r\n\t\t__bigquery__ = bigquery;\r\n\t\t;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI have this error : \r\ncom.google.cloud.bigquery.BigQueryException: Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please **look into the errors[] collection** for more details.\r\n\r\nI want to iterate this errors collection, but I did not succeed to :(\r\n\r\nCan someone please give me an hint ?\r\n\r\nI found something in Python:\r\n - https://stackoverflow.com/questions/70944841/retrieving-bigquery-validation-errors-when-loading-jsonl-data-via-the-python-api\r\n - https://stackoverflow.com/questions/52100812/bigquery-where-can-i-find-the-error-stream\r\n\r\nBut I did not succeed to have a Java equivalent.\r\n\r\nI looked into JavaDoc : https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/index.html\r\n - &quot;com.google.cloud.bigquery.Job&quot; object has no &quot;getErrors&quot; method (or something equivalent).\r\n - I saw a &quot;com.google.cloud.bigquery.BigQueryErrorMessages&quot; object, but I did not succeed to get it from the above &quot;Job&quot; object.","title":"Iterate inside BigQuery errors[] collection in Java","body":"<p>When I execute this Java code :</p>\n<p>(note : string parameters are dummy examples)</p>\n<pre><code>package bigquery.test;\n\nimport java.io.FileInputStream;\nimport java.io.InputStream;\n\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.bigquery.BigQuery;\nimport com.google.cloud.bigquery.BigQueryOptions;\nimport com.google.cloud.bigquery.Job;\nimport com.google.cloud.bigquery.Table;\nimport com.google.cloud.bigquery.TableId;\n\npublic class GoogleBigQueryErrors {\n\n    static BigQuery __bigquery__;\n\n    public static void main(String[] args) {\n        try {\n            prepare();\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        TableId tableId = com.google.cloud.bigquery.TableId.of(&quot;DATA_SET&quot;, &quot;TABLE&quot;);\n        Table table = __bigquery__.getTable(tableId);\n\n        Job job = table.load(com.google.cloud.bigquery.FormatOptions.json(),\n                &quot;gs://URI_PATH/HASH.bigquery.json&quot;);\n        Job completedJob = null;\n        try {\n            completedJob = job.waitFor(); // HERE THE ERROR IS RAISED\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(2);\n        }\n    }\n\n    private static void prepare() throws Exception {\n        String projectId = &quot;PROJECT_ID&quot;;\n        String credentialsFile = &quot;PATH/FILE.json&quot;;\n        InputStream credentialsStream = new FileInputStream(credentialsFile);\n        GoogleCredentials credentials = GoogleCredentials.fromStream(credentialsStream);\n        BigQueryOptions options = BigQueryOptions.newBuilder().setProjectId(projectId).setCredentials(credentials)\n                .build();\n        BigQuery bigquery = options.getService();\n        __bigquery__ = bigquery;\n        ;\n    }\n\n}\n</code></pre>\n<p>I have this error :\ncom.google.cloud.bigquery.BigQueryException: Error while reading data, error message: JSON table encountered too many errors, giving up. Rows: 1; errors: 1. Please <strong>look into the errors[] collection</strong> for more details.</p>\n<p>I want to iterate this errors collection, but I did not succeed to :(</p>\n<p>Can someone please give me an hint ?</p>\n<p>I found something in Python:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70944841/retrieving-bigquery-validation-errors-when-loading-jsonl-data-via-the-python-api\">Retrieving BigQuery validation errors when loading JSONL data via the Python API</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52100812/bigquery-where-can-i-find-the-error-stream\">BigQuery - Where can I find the error stream?</a></li>\n</ul>\n<p>But I did not succeed to have a Java equivalent.</p>\n<p>I looked into JavaDoc : <a href=\"https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/index.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/index.html</a></p>\n<ul>\n<li>&quot;com.google.cloud.bigquery.Job&quot; object has no &quot;getErrors&quot; method (or something equivalent).</li>\n<li>I saw a &quot;com.google.cloud.bigquery.BigQueryErrorMessages&quot; object, but I did not succeed to get it from the above &quot;Job&quot; object.</li>\n</ul>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1655814615,"post_id":72700721,"comment_id":128416212,"body_markdown":"what is the package of your Main class and BoardingPassRespository interface?","body":"what is the package of your Main class and BoardingPassRespository interface?"},{"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"score":1,"creation_date":1655815429,"post_id":72700721,"comment_id":128416543,"body_markdown":"I guess, your repository class is not getting scan for creating bean in IOC. either repository class package should be same as main class package or repository class package should be a sub-package of main class package.","body":"I guess, your repository class is not getting scan for creating bean in IOC. either repository class package should be same as main class package or repository class package should be a sub-package of main class package."},{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1655824416,"post_id":72700721,"comment_id":128420506,"body_markdown":"Sometimes Intellij just gets confused. Try going through some of the steps here: https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code","body":"Sometimes Intellij just gets confused. Try going through some of the steps here: <a href=\"https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code\" title=\"intellij inspection gives cannot resolve symbol but still compiles code\">stackoverflow.com/questions/5905896/&hellip;</a>"},{"owner":{"account_id":12874885,"reputation":13,"user_id":9311935,"display_name":"sebastian307"},"score":0,"creation_date":1655929519,"post_id":72700721,"comment_id":128451435,"body_markdown":"Thanks for your help, it was indeed a problem with the ComponentScanning which I solved using @ComponentScan(basePackages = { &quot;Server.repository&quot; })","body":"Thanks for your help, it was indeed a problem with the ComponentScanning which I solved using @ComponentScan(basePackages = { &quot;Server.repository&quot; })"}],"owner":{"account_id":12874885,"reputation":13,"user_id":9311935,"display_name":"sebastian307"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655814221,"creation_date":1655814221,"question_id":72700721,"body_markdown":"I created a basic Repository for my model &quot;BoardingPass&quot;.\r\n\r\n    @Repository\r\n    public interface BoardingPassRepository extends MongoRepository&lt;BoardingPass, String&gt; {\r\n    \r\n    }\r\n\r\nWhen trying to use the Repository, IntelliJ underlines the repository red and displays me &quot;Could not autowire. No Beans of &quot;BoardingPassRepository&quot; found.&quot;. I fixed this problem by using @EnableMongoRepository, so now the Application runs, yet IntelliJ still displays this error. How do I correctly fix this problem so that not only the program runs, but also IntelliJ accepts it?\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = BoardingPassRepository.class)\r\n    public class Main implements CommandLineRunner {\r\n    @Autowired\r\n    private BoardingPassRepository repository;\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Main.class, args);\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n        }\r\n    }","title":"Could not autowire. No Beans of &quot;BoardingPassRepository&quot; found","body":"<p>I created a basic Repository for my model &quot;BoardingPass&quot;.</p>\n<pre><code>@Repository\npublic interface BoardingPassRepository extends MongoRepository&lt;BoardingPass, String&gt; {\n\n}\n</code></pre>\n<p>When trying to use the Repository, IntelliJ underlines the repository red and displays me &quot;Could not autowire. No Beans of &quot;BoardingPassRepository&quot; found.&quot;. I fixed this problem by using @EnableMongoRepository, so now the Application runs, yet IntelliJ still displays this error. How do I correctly fix this problem so that not only the program runs, but also IntelliJ accepts it?</p>\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = BoardingPassRepository.class)\npublic class Main implements CommandLineRunner {\n@Autowired\nprivate BoardingPassRepository repository;\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n\n    }\n\n\n    @Override\n    public void run(String... args) throws Exception {\n\n    }\n}\n</code></pre>\n"},{"tags":["javascript","python","java","selenium","scroll"],"answers":[{"tags":[],"owner":{"account_id":8812060,"reputation":1414,"user_id":6593287,"display_name":"Sergey K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655814080,"creation_date":1655814080,"answer_id":72700685,"question_id":72700084,"body_markdown":"I don&#39;t know if you need to use selenium. But I have an example on another library - requests. Since the api uses cookies, we must use the session to pass the XSRF token.\r\n\r\n    import requests\r\n    import pandas as pd\r\n    \r\n    jobs_list = []\r\n    \r\n    \r\n    def foo(url):\r\n        headers = {\r\n            &#39;accept&#39;: &#39;application/json, text/plain, */*&#39;,\r\n            &#39;x-requested-with&#39;: &#39;XMLHttpRequest&#39;\r\n        }\r\n        response = session.request(&quot;GET&quot;, url, headers=headers)\r\n    \r\n        for job in response.json()[&#39;items&#39;]:\r\n            data = {\r\n                &quot;job_title&quot;: job[&#39;title&#39;],\r\n                &quot;company&quot;: job[&#39;company&#39;][&#39;title&#39;],\r\n                &quot;category&quot;: job[&#39;category&#39;][&#39;title&#39;],\r\n                &quot;deadline&quot;: job[&#39;deadline_at&#39;],\r\n                &quot;views&quot;: job[&#39;view_count&#39;]\r\n            }\r\n            jobs_list.append(data)\r\n        if &#39;next&#39; in response.json():\r\n            foo(response.json()[&#39;next&#39;])\r\n    \r\n    \r\n    session = requests.session()\r\n    response = session.get(&#39;https://jobsearch.az/vacancies&#39;)\r\n    foo(&#39;https://jobsearch.az/api-az/vacancies-az?hl=az&#39;)\r\n    dataframe = pd.DataFrame(jobs_list)\r\n    dataframe\r\nOUTPUT:\r\n\r\n                                                  job_title  ... views\r\n    0                                       Revenue manager  ...   356\r\n    1                           Operator (Satış təmsil&#231;isi)  ...   236\r\n    2                                        Satıcı (xanım)  ...   766\r\n    3     ADM ISO 9001 Beynəlxalq Sertifikat Proqramını ...  ...  1.6K\r\n    4                     Avto-sənayedə operator montaj&#231;ısı  ...   218\r\n    ...                                                 ...  ...   ...\r\n    1656                        Receptionist (gecə n&#246;vbəsi)  ...   735\r\n    1657                                           Складчик  ...   400\r\n    1658                                  Android proqram&#231;ı  ...   358\r\n    1659                             Credit Risk Specialist  ...   587\r\n    1660  İpoteka &#252;zrə m&#252;təxəssis, aparıcı m&#252;təxəssis (B...  ...   439\r\n    \r\n    [1661 rows x 5 columns]","title":"Selenium, Scrolling page","body":"<p>I don't know if you need to use selenium. But I have an example on another library - requests. Since the api uses cookies, we must use the session to pass the XSRF token.</p>\n<pre><code>import requests\nimport pandas as pd\n\njobs_list = []\n\n\ndef foo(url):\n    headers = {\n        'accept': 'application/json, text/plain, */*',\n        'x-requested-with': 'XMLHttpRequest'\n    }\n    response = session.request(&quot;GET&quot;, url, headers=headers)\n\n    for job in response.json()['items']:\n        data = {\n            &quot;job_title&quot;: job['title'],\n            &quot;company&quot;: job['company']['title'],\n            &quot;category&quot;: job['category']['title'],\n            &quot;deadline&quot;: job['deadline_at'],\n            &quot;views&quot;: job['view_count']\n        }\n        jobs_list.append(data)\n    if 'next' in response.json():\n        foo(response.json()['next'])\n\n\nsession = requests.session()\nresponse = session.get('https://jobsearch.az/vacancies')\nfoo('https://jobsearch.az/api-az/vacancies-az?hl=az')\ndataframe = pd.DataFrame(jobs_list)\ndataframe\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>                                              job_title  ... views\n0                                       Revenue manager  ...   356\n1                           Operator (Satış təmsilçisi)  ...   236\n2                                        Satıcı (xanım)  ...   766\n3     ADM ISO 9001 Beynəlxalq Sertifikat Proqramını ...  ...  1.6K\n4                     Avto-sənayedə operator montajçısı  ...   218\n...                                                 ...  ...   ...\n1656                        Receptionist (gecə növbəsi)  ...   735\n1657                                           Складчик  ...   400\n1658                                  Android proqramçı  ...   358\n1659                             Credit Risk Specialist  ...   587\n1660  İpoteka üzrə mütəxəssis, aparıcı mütəxəssis (B...  ...   439\n\n[1661 rows x 5 columns]\n</code></pre>\n"}],"owner":{"account_id":18305385,"reputation":41,"user_id":13329315,"display_name":"nihad aliyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72700685,"answer_count":1,"score":0,"last_activity_date":1655814080,"creation_date":1655811459,"question_id":72700084,"body_markdown":"I am trying to scroll webpage with Selenium- &quot;https://jobsearch.az/vacancies&quot;.\r\nBut, you see when you open it and click on vacancy, there are two pages side by side to scroll. I need to scroll the one in the middle, so selenium can go and take info from other jobs too. But, now, it stops when it comes to 14, which is all you can see if you dont scroll. \r\n\r\n\r\n    from bs4 import BeautifulSoup\r\n    from selenium import webdriver\r\n    from selenium.webdriver.common.by import By\r\n    from selenium.webdriver.support.ui import WebDriverWait\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n    from selenium.webdriver.common.keys import Keys\r\n    import time\r\n    import pandas as pd \r\n    from selenium.webdriver.common.action_chains import ActionChains\r\n    \r\n    path = &quot;C:/Users/nihad/OneDrive/Documents/aInternship/chromedriver.exe&quot;\r\n    driver = webdriver.Chrome(path)\r\n    \r\n    url = &quot;https://jobsearch.az/vacancies&quot;\r\n    \r\n    \r\n    driver.get(url)\r\n    time.sleep(10)\r\n    \r\n    soup = BeautifulSoup(driver.page_source, &#39;html.parser&#39;)\r\n    lists = soup.find_all(&#39;div&#39;, {&#39;class&#39;: &#39;list__item&#39;})\r\n    jobs_list=[]\r\n    print(&#39;A&#39;)\r\n    \r\n    x=True\r\n    while x:\r\n        \r\n        print(&#39;B&#39;)\r\n        driver.maximize_window()\r\n        for index, _list in enumerate(lists):\r\n    \r\n            link = _list.find(\r\n                &#39;a&#39;, class_=&quot;list__item__text&quot;)[&quot;href&quot;]\r\n    \r\n            current_url = &quot;https://jobsearch.az&quot;+link\r\n    \r\n            driver.get(current_url)\r\n            time.sleep(10)\r\n    \r\n            soup = BeautifulSoup(driver.page_source, &#39;html.parser&#39;)\r\n            jobs = soup.find_all(&#39;div&#39;, {&#39;class&#39;: &#39;vacancy&#39;})\r\n    \r\n    \r\n            for index, job in enumerate(jobs):\r\n    \r\n                company = job.find(  # div.a.\r\n                    &#39;div&#39;, class_=&quot;vacancy__start&quot;).text.strip()\r\n                print(f&#39;Company:{company}&#39;)\r\n    \r\n                category = job.find(  # div.a.\r\n                    &#39;span&#39;, class_=&quot;company__industry&quot;).text\r\n                print(f&#39;Category:{category}&#39;)\r\n    \r\n    #         key_requirements = job.find(  # div.a.\r\n    #             &#39;div&#39;, class_=&quot;content-text&quot;).text\r\n    #         print(f&#39;Key requirements:{key_requirements}&#39;)\r\n    \r\n                job_title = job.find(  # div.a.\r\n                    &#39;h1&#39;, class_=&quot;vacancy__title&quot;).text.strip()\r\n                print(f&#39;Job title: {job_title}&#39;)\r\n    \r\n                deadline = job.find(  # div.a.\r\n                    &#39;span&#39;, class_=&quot;vacancy__deadline&quot;).text.strip()\r\n                print(f&#39;Deadline: {deadline}&#39;)\r\n                views = _list.find(&#39;div&#39;, class_=&quot;list__item__end&quot;).text.strip()\r\n                print(f&#39;Views: {views}&#39;)\r\n                data = {\r\n                        &quot;job_title&quot;:job_title,\r\n                        &quot;company&quot;:company,\r\n                        &quot;category&quot;:category,\r\n                        &quot;deadline&quot;:deadline,\r\n                        &quot;views&quot;:views\r\n                    }\r\n                jobs_list.append(data)\r\n    \r\n        driver.minimize_window()\r\n        print(&#39;C&#39;)\r\n        driver.find_element_by_xpath(&#39;//h3[@class=&quot;list__item__title&quot;]&#39;).click()\r\n        driver.execute.script(&quot;window.scrollBy(0, document.body.scrollHeight)&quot;)\r\n        for i in range(5):\r\n            driver.find_element_by_tag_name(&#39;h3&#39;).send_keys(Keys.END)\r\n            time.sleep(4)\r\n        driver.execute_script(&quot;window.scrollBy(0, 1000)&quot;, &quot;&quot;)\r\n        time.sleep(5)\r\n        print(&#39;after executing scrolling&#39;)\r\n    \r\n        \r\n        # element = driver.find_element_by_class_name(&#39;vacancy__title&#39;)\r\n        # actions = ActionChains(driver)\r\n        # actions.move_to_element(element).perform()\r\n    \r\n            \r\n    \r\n    \r\n    \r\n    \r\n    dataframe = pd.DataFrame(jobs_list)\r\n        \r\n    dataframe\r\n    \r\n    \r\n    driver.close()\r\n\r\nI wrote all 3 techniques, but nothing works.\r\n","title":"Selenium, Scrolling page","body":"<p>I am trying to scroll webpage with Selenium- &quot;https://jobsearch.az/vacancies&quot;.\nBut, you see when you open it and click on vacancy, there are two pages side by side to scroll. I need to scroll the one in the middle, so selenium can go and take info from other jobs too. But, now, it stops when it comes to 14, which is all you can see if you dont scroll.</p>\n<pre><code>from bs4 import BeautifulSoup\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.keys import Keys\nimport time\nimport pandas as pd \nfrom selenium.webdriver.common.action_chains import ActionChains\n\npath = &quot;C:/Users/nihad/OneDrive/Documents/aInternship/chromedriver.exe&quot;\ndriver = webdriver.Chrome(path)\n\nurl = &quot;https://jobsearch.az/vacancies&quot;\n\n\ndriver.get(url)\ntime.sleep(10)\n\nsoup = BeautifulSoup(driver.page_source, 'html.parser')\nlists = soup.find_all('div', {'class': 'list__item'})\njobs_list=[]\nprint('A')\n\nx=True\nwhile x:\n    \n    print('B')\n    driver.maximize_window()\n    for index, _list in enumerate(lists):\n\n        link = _list.find(\n            'a', class_=&quot;list__item__text&quot;)[&quot;href&quot;]\n\n        current_url = &quot;https://jobsearch.az&quot;+link\n\n        driver.get(current_url)\n        time.sleep(10)\n\n        soup = BeautifulSoup(driver.page_source, 'html.parser')\n        jobs = soup.find_all('div', {'class': 'vacancy'})\n\n\n        for index, job in enumerate(jobs):\n\n            company = job.find(  # div.a.\n                'div', class_=&quot;vacancy__start&quot;).text.strip()\n            print(f'Company:{company}')\n\n            category = job.find(  # div.a.\n                'span', class_=&quot;company__industry&quot;).text\n            print(f'Category:{category}')\n\n#         key_requirements = job.find(  # div.a.\n#             'div', class_=&quot;content-text&quot;).text\n#         print(f'Key requirements:{key_requirements}')\n\n            job_title = job.find(  # div.a.\n                'h1', class_=&quot;vacancy__title&quot;).text.strip()\n            print(f'Job title: {job_title}')\n\n            deadline = job.find(  # div.a.\n                'span', class_=&quot;vacancy__deadline&quot;).text.strip()\n            print(f'Deadline: {deadline}')\n            views = _list.find('div', class_=&quot;list__item__end&quot;).text.strip()\n            print(f'Views: {views}')\n            data = {\n                    &quot;job_title&quot;:job_title,\n                    &quot;company&quot;:company,\n                    &quot;category&quot;:category,\n                    &quot;deadline&quot;:deadline,\n                    &quot;views&quot;:views\n                }\n            jobs_list.append(data)\n\n    driver.minimize_window()\n    print('C')\n    driver.find_element_by_xpath('//h3[@class=&quot;list__item__title&quot;]').click()\n    driver.execute.script(&quot;window.scrollBy(0, document.body.scrollHeight)&quot;)\n    for i in range(5):\n        driver.find_element_by_tag_name('h3').send_keys(Keys.END)\n        time.sleep(4)\n    driver.execute_script(&quot;window.scrollBy(0, 1000)&quot;, &quot;&quot;)\n    time.sleep(5)\n    print('after executing scrolling')\n\n    \n    # element = driver.find_element_by_class_name('vacancy__title')\n    # actions = ActionChains(driver)\n    # actions.move_to_element(element).perform()\n\n        \n\n\n\n\ndataframe = pd.DataFrame(jobs_list)\n    \ndataframe\n\n\ndriver.close()\n</code></pre>\n<p>I wrote all 3 techniques, but nothing works.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1655813601,"post_id":72700378,"comment_id":128415819,"body_markdown":"It looks like the SDK you&#39;re using is not expecting the URL format that is used for your database instance. What version of the Firebase SDK are you using?","body":"It looks like the SDK you&#39;re using is not expecting the URL format that is used for your database instance. What version of the Firebase SDK are you using?"},{"owner":{"account_id":23975741,"reputation":25,"user_id":17963868,"display_name":"YakovMashin"},"score":0,"creation_date":1655813817,"post_id":72700378,"comment_id":128415890,"body_markdown":"@FrankvanPuffelen I used the dependencies that are added automatically through Android Studio -&gt; Tools -&gt; Firebase. Where can I check my current Firebase SDK version?","body":"@FrankvanPuffelen I used the dependencies that are added automatically through Android Studio -&gt; Tools -&gt; Firebase. Where can I check my current Firebase SDK version?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655813656,"creation_date":1655813656,"answer_id":72700606,"question_id":72700378,"body_markdown":"I think this may come because you&#39;re using the `getReferenceFromUrl` method. Can you try instead passing the URL to `getInstance`:\r\n\r\n```\r\nDatabaseReference databaseReference = FirebaseDatabase.getInstance(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\r\n```","title":"Database URL do not match","body":"<p>I think this may come because you're using the <code>getReferenceFromUrl</code> method. Can you try instead passing the URL to <code>getInstance</code>:</p>\n<pre><code>DatabaseReference databaseReference = FirebaseDatabase.getInstance(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1655813664,"creation_date":1655813664,"answer_id":72700608,"question_id":72700378,"body_markdown":"To solve this, simply change:\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n\r\nInto:\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\r\n\r\nYou need to send the URL to the getInstance() method **not** to the getReferenceFromUrl() method. Besides that, you should simply use getReference().","title":"Database URL do not match","body":"<p>To solve this, simply change:</p>\n<pre><code>DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n</code></pre>\n<p>Into:</p>\n<pre><code>DatabaseReference databaseReference = FirebaseDatabase.getInstance(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference();\n</code></pre>\n<p>You need to send the URL to the getInstance() method <strong>not</strong> to the getReferenceFromUrl() method. Besides that, you should simply use getReference().</p>\n"}],"owner":{"account_id":23975741,"reputation":25,"user_id":17963868,"display_name":"YakovMashin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72700608,"answer_count":2,"score":0,"last_activity_date":1655814069,"creation_date":1655812719,"question_id":72700378,"body_markdown":"I&#39;m trying to send user&#39;s data to Realtime Database in SignUpActivity in my project. For that  I created a database reference and copied the [url][1] that is written in my Realtime Database with the following code:  \r\n\r\n\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8imDB.png\r\n\r\nHowever, when launching the app I get Fatal exception stating the following:\r\n\r\n\r\n&gt; 2022-06-21 14:50:24.921 8323-8323/com.dinocodeacademy.maingoquizagain E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.dinocodeacademy.maingoquizagain, PID: 8323\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.dinocodeacademy.maingoquizagain/com.dinocodeacademy.com.SignUp}: com.google.firebase.database.DatabaseException: Invalid URL (https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/) passed to getReference().  URL was expected to match configured Database URL: https://quiz-project-6afd9-default-rtdb.firebaseio.com\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: com.google.firebase.database.DatabaseException: Invalid URL (https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/) passed to getReference().  URL was expected to match configured Database URL: https://quiz-project-6afd9-default-rtdb.firebaseio.com\r\n        at com.google.firebase.database.FirebaseDatabase.getReferenceFromUrl(FirebaseDatabase.java:214)\r\n        at com.dinocodeacademy.com.SignUp.&lt;init&gt;(SignUp.java:34)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1253)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n2022-06-21 14:50:24.969 8323-8323/com.dinocodeacademy.maingoquizagain I/Process: Sending signal. PID: 8323 SIG: 9\r\n\r\nAnybody knows why that happens? \r\n","title":"Database URL do not match","body":"<p>I'm trying to send user's data to Realtime Database in SignUpActivity in my project. For that  I created a database reference and copied the <a href=\"https://i.stack.imgur.com/8imDB.png\" rel=\"nofollow noreferrer\">url</a> that is written in my Realtime Database with the following code:</p>\n<pre><code>DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/&quot;);\n</code></pre>\n<p>However, when launching the app I get Fatal exception stating the following:</p>\n<blockquote>\n<p>2022-06-21 14:50:24.921 8323-8323/com.dinocodeacademy.maingoquizagain E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.dinocodeacademy.maingoquizagain, PID: 8323\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.dinocodeacademy.maingoquizagain/com.dinocodeacademy.com.SignUp}: com.google.firebase.database.DatabaseException: Invalid URL (<a href=\"https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/\" rel=\"nofollow noreferrer\">https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/</a>) passed to getReference().  URL was expected to match configured Database URL: <a href=\"https://quiz-project-6afd9-default-rtdb.firebaseio.com\" rel=\"nofollow noreferrer\">https://quiz-project-6afd9-default-rtdb.firebaseio.com</a>\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3365)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: com.google.firebase.database.DatabaseException: Invalid URL (<a href=\"https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/\" rel=\"nofollow noreferrer\">https://quiz-project-6afd9-default-rtdb.europe-west1.firebasedatabase.app/</a>) passed to getReference().  URL was expected to match configured Database URL: <a href=\"https://quiz-project-6afd9-default-rtdb.firebaseio.com\" rel=\"nofollow noreferrer\">https://quiz-project-6afd9-default-rtdb.firebaseio.com</a>\nat com.google.firebase.database.FirebaseDatabase.getReferenceFromUrl(FirebaseDatabase.java:214)\nat com.dinocodeacademy.com.SignUp.(SignUp.java:34)\nat java.lang.Class.newInstance(Native Method)\nat android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\nat androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\nat android.app.Instrumentation.newActivity(Instrumentation.java:1253)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3353)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:223) \nat android.app.ActivityThread.main(ActivityThread.java:7656) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n2022-06-21 14:50:24.969 8323-8323/com.dinocodeacademy.maingoquizagain I/Process: Sending signal. PID: 8323 SIG: 9</p>\n</blockquote>\n<p>Anybody knows why that happens?</p>\n"},{"tags":["java","android","focus","android-edittext"],"comments":[{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":2,"creation_date":1376802499,"post_id":18295802,"comment_id":26843444,"body_markdown":"Have you tried `android:focusable=&quot;false&quot;` in `EditText` ?","body":"Have you tried <code>android:focusable=&quot;false&quot;</code> in <code>EditText</code> ?"},{"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"score":0,"creation_date":1376802915,"post_id":18295802,"comment_id":26843509,"body_markdown":"@PratikButani that makes it so it can never be focused on, though.","body":"@PratikButani that makes it so it can never be focused on, though."},{"owner":{"account_id":9266998,"reputation":3121,"user_id":6882177,"accept_rate":100,"display_name":"Marcelo Gracietti"},"score":0,"creation_date":1494601539,"post_id":18295802,"comment_id":74914160,"body_markdown":"Adding `android:focusableInTouchMode=&quot;true&quot;` on my parent layout works for me.","body":"Adding <code>android:focusableInTouchMode=&quot;true&quot;</code> on my parent layout works for me."}],"answers":[{"tags":[],"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1386530199,"creation_date":1376802451,"answer_id":18295896,"question_id":18295802,"body_markdown":"use  `android:focusable=&quot;false&quot;`  for focusing disable\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/changePass&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;167dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:imeOptions=&quot;flagNoExtractUi&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:maxLength=&quot;30&quot;\r\n     android:focusable=&quot;false&quot; &gt;\r\n   \r\n    &lt;/EditText&gt;","title":"How to make EditText not focused when creating Activity","body":"<p>use  <code>android:focusable=\"false\"</code>  for focusing disable</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;EditText\n    android:id=\"@+id/password\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/changePass\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"167dp\"\n    android:ems=\"10\"\n    android:imeOptions=\"flagNoExtractUi\"\n    android:inputType=\"textPassword\"\n    android:maxLength=\"30\"\n android:focusable=\"false\" &gt;\n\n&lt;/EditText&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"down_vote_count":1,"up_vote_count":302,"is_accepted":true,"score":301,"last_activity_date":1506619035,"creation_date":1376802741,"answer_id":18295926,"question_id":18295802,"body_markdown":"You can set property of Layout like `android:descendantFocusability=&quot;beforeDescendants&quot;` and `android:focusableInTouchMode=&quot;true&quot;` \r\n\r\n**Example:**\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      android:id=&quot;@+id/mainLayout&quot;\r\n      android:descendantFocusability=&quot;beforeDescendants&quot;\r\n      android:focusableInTouchMode=&quot;true&quot; &gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/password&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_below=&quot;@+id/changePass&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;167dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:imeOptions=&quot;flagNoExtractUi&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:maxLength=&quot;30&quot; &gt;\r\n        &lt;/EditText&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nMay this one helpful ;)","title":"How to make EditText not focused when creating Activity","body":"<p>You can set property of Layout like <code>android:descendantFocusability=\"beforeDescendants\"</code> and <code>android:focusableInTouchMode=\"true\"</code> </p>\n\n<p><strong>Example:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:id=\"@+id/mainLayout\"\n  android:descendantFocusability=\"beforeDescendants\"\n  android:focusableInTouchMode=\"true\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/password\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_below=\"@+id/changePass\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"167dp\"\n        android:ems=\"10\"\n        android:imeOptions=\"flagNoExtractUi\"\n        android:inputType=\"textPassword\"\n        android:maxLength=\"30\" &gt;\n    &lt;/EditText&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>May this one helpful ;)</p>\n"},{"tags":[],"owner":{"account_id":1443319,"reputation":318,"user_id":1362743,"accept_rate":67,"display_name":"Meher"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1386530155,"creation_date":1376802845,"answer_id":18295935,"question_id":18295802,"body_markdown":"XML code:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/changePass&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;167dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:focusable=&quot;false&quot;\r\n        android:imeOptions=&quot;flagNoExtractUi&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:maxLength=&quot;30&quot; &gt;\r\n    &lt;/EditText&gt;\r\n\r\n    \r\n    \r\nJava code:\r\n\r\n    EditText edPwd = (EditText)findViewById(R.id.password);\r\n    edtPwd.setOnTouchListener(new View.OnTouchListener() {\r\n    \r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n    \r\n                v.setFocusable(true);\r\n                v.setFocusableInTouchMode(true);\r\n                return false;\r\n            }\r\n        });\r\n\r\n&gt; set focusable false in xml and set it true via the code\r\n\r\n \r\n\r\n","title":"How to make EditText not focused when creating Activity","body":"<p>XML code:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;EditText\n    android:id=\"@+id/password\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/changePass\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"167dp\"\n    android:ems=\"10\"\n    android:focusable=\"false\"\n    android:imeOptions=\"flagNoExtractUi\"\n    android:inputType=\"textPassword\"\n    android:maxLength=\"30\" &gt;\n&lt;/EditText&gt;\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>EditText edPwd = (EditText)findViewById(R.id.password);\nedtPwd.setOnTouchListener(new View.OnTouchListener() {\n\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n\n            v.setFocusable(true);\n            v.setFocusableInTouchMode(true);\n            return false;\n        }\n    });\n</code></pre>\n\n<blockquote>\n  <p>set focusable false in xml and set it true via the code</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2390703,"reputation":365,"user_id":2090601,"accept_rate":56,"display_name":"ThatGuyThere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475485512,"creation_date":1376802963,"answer_id":18295946,"question_id":18295802,"body_markdown":"It is possible to use `android:focusable=&quot;false&quot;` to disable it, but if that does not work for some reason, then you can simply put a `LinearLayout` and it will take the focus without disrupting your layout. \r\n\r\nNOTE: Eclipse will give you an error saying that your `LinearLayout` is useless because it has no contents. You should be able to disregard it with no problems.\r\n\r\nFor example:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;false&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        /&gt;\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/changePass&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;167dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:imeOptions=&quot;flagNoExtractUi&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:maxLength=&quot;30&quot; &gt;\r\n    &lt;/EditText&gt;\r\n    &lt;/LinearLayout&gt;","title":"How to make EditText not focused when creating Activity","body":"<p>It is possible to use <code>android:focusable=\"false\"</code> to disable it, but if that does not work for some reason, then you can simply put a <code>LinearLayout</code> and it will take the focus without disrupting your layout. </p>\n\n<p>NOTE: Eclipse will give you an error saying that your <code>LinearLayout</code> is useless because it has no contents. You should be able to disregard it with no problems.</p>\n\n<p>For example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n    android:focusable=\"true\"\n    android:focusableInTouchMode=\"false\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    /&gt;\n&lt;EditText\n    android:id=\"@+id/password\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/changePass\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"167dp\"\n    android:ems=\"10\"\n    android:imeOptions=\"flagNoExtractUi\"\n    android:inputType=\"textPassword\"\n    android:maxLength=\"30\" &gt;\n&lt;/EditText&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7574845,"reputation":17,"user_id":5747554,"display_name":"Nicole Conrad"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1452073202,"creation_date":1452073202,"answer_id":34629821,"question_id":18295802,"body_markdown":"You can  do this programmatically. use `editText.setEnabled(false)` in  your `onStart()` method of your activity (not in onCreate() - because this is some method for initializing GUI  components)\r\n","title":"How to make EditText not focused when creating Activity","body":"<p>You can  do this programmatically. use <code>editText.setEnabled(false)</code> in  your <code>onStart()</code> method of your activity (not in onCreate() - because this is some method for initializing GUI  components)</p>\n"},{"tags":[],"owner":{"account_id":3183488,"reputation":878,"user_id":2689703,"display_name":"avisper"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1454923309,"creation_date":1454923309,"answer_id":35266042,"question_id":18295802,"body_markdown":"In your main_layout\r\nadd this 2 lines:\r\n\r\n    android:descendantFocusability=&quot;beforeDescendants&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;\r\n\r\nexample:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:descendantFocusability=&quot;beforeDescendants&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;&gt; *YOUR LAYOUT CODE* &lt;/RelativeLayout&gt;\r\n\r\n  ","title":"How to make EditText not focused when creating Activity","body":"<p>In your main_layout\nadd this 2 lines:</p>\n\n<pre><code>android:descendantFocusability=\"beforeDescendants\"\nandroid:focusableInTouchMode=\"true\"\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:descendantFocusability=\"beforeDescendants\"\nandroid:focusableInTouchMode=\"true\"&gt; *YOUR LAYOUT CODE* &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6815112,"reputation":1751,"user_id":5244085,"display_name":"Hai Rom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466047441,"creation_date":1466047441,"answer_id":37849372,"question_id":18295802,"body_markdown":"XML Code\r\n\r\n    &lt;EditText \r\n        android:imeOptions=&quot;flagNoExtractUi&quot;\r\n        android:focusable=&quot;false&quot;\r\n        /&gt;\r\nJava Code in onClickListerner\r\n\r\n     mEdtEnterPhoneNumber.setFocusable(true);\r\n        mEdtEnterPhoneNumber.setFocusableInTouchMode(true);\r\n       ","title":"How to make EditText not focused when creating Activity","body":"<p>XML Code</p>\n\n<pre><code>&lt;EditText \n    android:imeOptions=\"flagNoExtractUi\"\n    android:focusable=\"false\"\n    /&gt;\n</code></pre>\n\n<p>Java Code in onClickListerner</p>\n\n<pre><code> mEdtEnterPhoneNumber.setFocusable(true);\n    mEdtEnterPhoneNumber.setFocusableInTouchMode(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6597609,"reputation":914,"user_id":5096847,"display_name":"Sanket Parchande"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489642874,"creation_date":1489642874,"answer_id":42826119,"question_id":18295802,"body_markdown":"Add this in onCreate() \r\n\r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\nor in onCreateView()\r\n\r\n     getActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n","title":"How to make EditText not focused when creating Activity","body":"<p>Add this in onCreate() </p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>or in onCreateView()</p>\n\n<pre><code> getActivity().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3826024,"reputation":1934,"user_id":3172843,"accept_rate":75,"display_name":"faraz khonsari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500279532,"creation_date":1500279532,"answer_id":45139164,"question_id":18295802,"body_markdown":"the best solution is here:\r\nhttps://stackoverflow.com/a/45139132/3172843\r\n\r\nthe **correct and simple** solution is to setFocusable false  and **setFocusableInTouchMode true** . so the EditText gain focus only when user touch that EditText\r\n\r\n    android:focusable=&quot;false&quot;\r\n    android:focusableInTouchMode=&quot;true&quot;","title":"How to make EditText not focused when creating Activity","body":"<p>the best solution is here:\n<a href=\"https://stackoverflow.com/a/45139132/3172843\">https://stackoverflow.com/a/45139132/3172843</a></p>\n\n<p>the <strong>correct and simple</strong> solution is to setFocusable false  and <strong>setFocusableInTouchMode true</strong> . so the EditText gain focus only when user touch that EditText</p>\n\n<pre><code>android:focusable=\"false\"\nandroid:focusableInTouchMode=\"true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8853420,"reputation":1053,"user_id":6611895,"display_name":"pruthwiraj.kadam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561625987,"creation_date":1507188364,"answer_id":46580114,"question_id":18295802,"body_markdown":"    &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:windowSoftInputMode=&quot;stateAlwaysHidden&quot; /&gt;\r\n\r\n\r\n    \r\n\r\n&gt; android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;\r\n\r\n add this line in the activity tag of the Manifest.xml file.when you click on the EditText the keyboard gets into focus. ","title":"How to make EditText not focused when creating Activity","body":"<pre><code>&lt;activity\n            android:name=\".MainActivity\"\n            android:windowSoftInputMode=\"stateAlwaysHidden\" /&gt;\n</code></pre>\n\n<blockquote>\n  <p>android:windowSoftInputMode=\"stateAlwaysHidden\"</p>\n</blockquote>\n\n<p>add this line in the activity tag of the Manifest.xml file.when you click on the EditText the keyboard gets into focus. </p>\n"},{"tags":[],"owner":{"account_id":7821806,"reputation":827,"user_id":5914754,"display_name":"Sudhir Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519638278,"creation_date":1519638278,"answer_id":48985441,"question_id":18295802,"body_markdown":"The easiest way is to add \r\n  \r\n    android:windowSoftInputMode=&quot;stateAlwaysHidden|adjustPan&quot; \r\n\r\nin the activity tag of the Manifest.xml file","title":"How to make EditText not focused when creating Activity","body":"<p>The easiest way is to add </p>\n\n<pre><code>android:windowSoftInputMode=\"stateAlwaysHidden|adjustPan\" \n</code></pre>\n\n<p>in the activity tag of the Manifest.xml file</p>\n"},{"tags":[],"owner":{"account_id":9066591,"reputation":202,"user_id":6751183,"display_name":"Vincent Mungai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537259033,"creation_date":1537259033,"answer_id":52382112,"question_id":18295802,"body_markdown":"1) Its the simplest,open the manifest and put the following code between the activity tag:\r\n\r\n    android:windowSoftInputMode=&quot;stateHidden&quot;\r\n\r\n2) Put this attributes in the parent layout\r\n\r\n    android:focusable=&quot;true&quot; \r\n    android:focusableInTouchMode=&quot;true&quot;","title":"How to make EditText not focused when creating Activity","body":"<p>1) Its the simplest,open the manifest and put the following code between the activity tag:</p>\n\n<pre><code>android:windowSoftInputMode=\"stateHidden\"\n</code></pre>\n\n<p>2) Put this attributes in the parent layout</p>\n\n<pre><code>android:focusable=\"true\" \nandroid:focusableInTouchMode=\"true\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9707206,"reputation":2787,"user_id":7200297,"display_name":"Agilanbu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541750220,"creation_date":1541750220,"answer_id":53221786,"question_id":18295802,"body_markdown":"**In Manifest , copy and paste the beneath code.**\r\n\r\n     &lt;activity\r\n       android:name=&quot;.LoginActivity&quot;\r\n       android:windowSoftInputMode=&quot;stateAlwaysHidden&quot;/&gt;","title":"How to make EditText not focused when creating Activity","body":"<p><strong>In Manifest , copy and paste the beneath code.</strong></p>\n\n<pre><code> &lt;activity\n   android:name=\".LoginActivity\"\n   android:windowSoftInputMode=\"stateAlwaysHidden\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22813865,"reputation":21,"user_id":16964761,"display_name":"Jay Sabhaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655813363,"creation_date":1655813363,"answer_id":72700535,"question_id":18295802,"body_markdown":"Whenever I&#39;m trying to open Editext after selection item of Spinner, so on that time not able to open keyboard &amp; write down the values in Edit text, but I resolved my issue with this code.\r\n\r\n&gt; android:descendantFocusability=&quot;beforeDescendants&quot;  \r\n&gt; android:focusableInTouchMode=&quot;true&quot;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:descendantFocusability=&quot;beforeDescendants&quot;\r\n                    android:focusableInTouchMode=&quot;true&quot;&gt;\r\n        \r\n                    &lt;androidx.appcompat.widget.AppCompatEditText\r\n                        android:id=&quot;@+id/titleName&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:inputType=&quot;textCapWords&quot;\r\n                        android:hint=&quot;@string/hint_your_full_name&quot;\r\n                        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n        \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n**Thanks!**","title":"How to make EditText not focused when creating Activity","body":"<p>Whenever I'm trying to open Editext after selection item of Spinner, so on that time not able to open keyboard &amp; write down the values in Edit text, but I resolved my issue with this code.</p>\n<blockquote>\n<p>android:descendantFocusability=&quot;beforeDescendants&quot;<br />\nandroid:focusableInTouchMode=&quot;true&quot;</p>\n</blockquote>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:descendantFocusability=&quot;beforeDescendants&quot;\n                android:focusableInTouchMode=&quot;true&quot;&gt;\n    \n                &lt;androidx.appcompat.widget.AppCompatEditText\n                    android:id=&quot;@+id/titleName&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:inputType=&quot;textCapWords&quot;\n                    android:hint=&quot;@string/hint_your_full_name&quot;\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    \n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Thanks!</strong></p>\n"}],"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92306,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":18295926,"answer_count":14,"score":69,"last_activity_date":1655813363,"creation_date":1376801424,"question_id":18295802,"body_markdown":"I&#39;ve read the other questions discussing this, and all of them work for my layouts, **except** for the very first one created.\r\n\r\nAt the moment, this is at the top of my `onCreate` method:\r\n\r\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n^ That makes it so at least the keyboard doesn&#39;t pop up on startup, but the `EditText` is still focused on.\r\n\r\nThis is the `XML` for my `EditText`:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/changePass&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;167dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:imeOptions=&quot;flagNoExtractUi&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        android:maxLength=&quot;30&quot; &gt;\r\n    &lt;/EditText&gt;\r\n\r\nThis is what it looks like when I bring up my activity:\r\n\r\n![enter image description here][1]\r\n\r\nThe problem is that with some phones, when an `EditText` is focused like this, they can&#39;t write in it. I want it to **not** focus.\r\n\r\nWhat I&#39;ve done works for the next layouts brought up in that it the `EditTexts` are not focused on and would look more like this:\r\n\r\n![enter image description here][2]\r\n\r\nNotice that it&#39;s the same layout, though. This is the screen after the user has been brought back to this screen, which would indicate nothing wrong with the `XML` because this is the same `XML`, but the problem is that the `EditText` is only focused on when the activity is created.\r\n\r\nI&#39;ve done research and all of the other questions don&#39;t help me with this (they did however help the keyboard not show up, thankfully). How can I make it so the `EditText` on startup will look like the second screenshot, rather than the first?\r\n\r\n  [1]: http://i.stack.imgur.com/zUjvc.png\r\n  [2]: http://i.stack.imgur.com/i9FZQ.png","title":"How to make EditText not focused when creating Activity","body":"<p>I've read the other questions discussing this, and all of them work for my layouts, <strong>except</strong> for the very first one created.</p>\n\n<p>At the moment, this is at the top of my <code>onCreate</code> method:</p>\n\n<pre><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n</code></pre>\n\n<p>^ That makes it so at least the keyboard doesn't pop up on startup, but the <code>EditText</code> is still focused on.</p>\n\n<p>This is the <code>XML</code> for my <code>EditText</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;EditText\n    android:id=\"@+id/password\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_below=\"@+id/changePass\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"167dp\"\n    android:ems=\"10\"\n    android:imeOptions=\"flagNoExtractUi\"\n    android:inputType=\"textPassword\"\n    android:maxLength=\"30\" &gt;\n&lt;/EditText&gt;\n</code></pre>\n\n<p>This is what it looks like when I bring up my activity:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zUjvc.png\" alt=\"enter image description here\"></p>\n\n<p>The problem is that with some phones, when an <code>EditText</code> is focused like this, they can't write in it. I want it to <strong>not</strong> focus.</p>\n\n<p>What I've done works for the next layouts brought up in that it the <code>EditTexts</code> are not focused on and would look more like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/i9FZQ.png\" alt=\"enter image description here\"></p>\n\n<p>Notice that it's the same layout, though. This is the screen after the user has been brought back to this screen, which would indicate nothing wrong with the <code>XML</code> because this is the same <code>XML</code>, but the problem is that the <code>EditText</code> is only focused on when the activity is created.</p>\n\n<p>I've done research and all of the other questions don't help me with this (they did however help the keyboard not show up, thankfully). How can I make it so the <code>EditText</code> on startup will look like the second screenshot, rather than the first?</p>\n"},{"tags":["java","maven","gradle","github-actions","javadoc"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1655512388,"post_id":70994189,"comment_id":128357232,"body_markdown":"Why do you wish to avoid modifying the build script and committing the changes? That seems like the easiest approach.","body":"Why do you wish to avoid modifying the build script and committing the changes? That seems like the easiest approach."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655371459,"creation_date":1655371459,"answer_id":72643488,"question_id":70994189,"body_markdown":"Check first if [`org.gradle.api.tasks.javadoc.Javadoc`][1] could help:\r\n\r\nAs [mentioned here][2], that would be:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\ntask myJavadocs(type: Javadoc) {\r\n  source = sourceSets.main.allJava\r\n}\r\n```\r\n\r\nExample (for publishing to Bintray, [which was since sunset][3]): [`gradle-example/build.gradle`][4].\r\n\r\nYou can integrate that with a [GitHub Action building with Gradle][5].\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.javadoc.Javadoc.html\r\n  [2]: https://stackoverflow.com/a/36015582/6309\r\n  [3]: https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\r\n  [4]: https://github.com/bintray/bintray-examples/blob/master/gradle-example/build.gradle\r\n  [5]: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle","title":"Convert Maven javadoc command to Gradle javadoc command","body":"<p>Check first if <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.javadoc.Javadoc.html\" rel=\"nofollow noreferrer\"><code>org.gradle.api.tasks.javadoc.Javadoc</code></a> could help:</p>\n<p>As <a href=\"https://stackoverflow.com/a/36015582/6309\">mentioned here</a>, that would be:</p>\n<pre><code>apply plugin: 'java'\n\ntask myJavadocs(type: Javadoc) {\n  source = sourceSets.main.allJava\n}\n</code></pre>\n<p>Example (for publishing to Bintray, <a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"nofollow noreferrer\">which was since sunset</a>): <a href=\"https://github.com/bintray/bintray-examples/blob/master/gradle-example/build.gradle\" rel=\"nofollow noreferrer\"><code>gradle-example/build.gradle</code></a>.</p>\n<p>You can integrate that with a <a href=\"https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle\" rel=\"nofollow noreferrer\">GitHub Action building with Gradle</a>.</p>\n"},{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655813146,"creation_date":1655813146,"answer_id":72700484,"question_id":70994189,"body_markdown":"I don&#39;t know what your project structure is, but in a default gradle project you should be able to generate Javadoc just with a `gradle javadoc` command without any changes to your project. The only requirement is that the java plugin is used.\r\n\r\nAll the other configurations described by @VonC are only needed if you want to select only specific files or if your project is not structured in a standard way.\r\n\r\nJust try running `gradle javadoc` and look for the generated doc in `build/docs/javadoc/` folder","title":"Convert Maven javadoc command to Gradle javadoc command","body":"<p>I don't know what your project structure is, but in a default gradle project you should be able to generate Javadoc just with a <code>gradle javadoc</code> command without any changes to your project. The only requirement is that the java plugin is used.</p>\n<p>All the other configurations described by @VonC are only needed if you want to select only specific files or if your project is not structured in a standard way.</p>\n<p>Just try running <code>gradle javadoc</code> and look for the generated doc in <code>build/docs/javadoc/</code> folder</p>\n"}],"owner":{"account_id":20683611,"reputation":1177,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1655813146,"creation_date":1644019221,"question_id":70994189,"body_markdown":"## Introduction\r\n\r\nI am currently working on a GitHub action that generates a JavaDoc and publish-it to GitHub, without need to configure JavaDoc inside the project.\r\n\r\n## Affected code:\r\n\r\n```\r\nmvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\r\n```\r\n\r\n## Problematic\r\n\r\nThe problem with this code is that does not work with Gradle project\r\n\r\n## Question\r\nAnd I was wondering if it would be possible to be able to do the same with Gradle? ie to be able to use the JavaDoc generation without it being in the project configs.","title":"Convert Maven javadoc command to Gradle javadoc command","body":"<h2>Introduction</h2>\n<p>I am currently working on a GitHub action that generates a JavaDoc and publish-it to GitHub, without need to configure JavaDoc inside the project.</p>\n<h2>Affected code:</h2>\n<pre><code>mvn org.apache.maven.plugins:maven-javadoc-plugin:3.3.1:aggregate\n</code></pre>\n<h2>Problematic</h2>\n<p>The problem with this code is that does not work with Gradle project</p>\n<h2>Question</h2>\n<p>And I was wondering if it would be possible to be able to do the same with Gradle? ie to be able to use the JavaDoc generation without it being in the project configs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":0,"creation_date":1358938153,"post_id":14477776,"comment_id":20170675,"body_markdown":"`FilterOutputStream` typo?","body":"<code>FilterOutputStream</code> typo?"},{"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"score":3,"creation_date":1358938192,"post_id":14477776,"comment_id":20170698,"body_markdown":"It shows as a bug in openjdk `close()` method. - Dead store to ignore...","body":"It shows as a bug in openjdk <code>close()</code> method. - Dead store to ignore..."},{"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"score":0,"creation_date":1358938253,"post_id":14477776,"comment_id":20170744,"body_markdown":"@Nikolay No its not. BufferedOuptutStream inherits close from there, forgot to mention","body":"@Nikolay No its not. BufferedOuptutStream inherits close from there, forgot to mention"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1358939320,"post_id":14477776,"comment_id":20171326,"body_markdown":"+1 Is this something you are actually seeing or is it just theoretical?","body":"+1 Is this something you are actually seeing or is it just theoretical?"},{"owner":{"account_id":2162182,"reputation":26357,"user_id":1916110,"accept_rate":100,"display_name":"Tom"},"score":3,"creation_date":1358939516,"post_id":14477776,"comment_id":20171430,"body_markdown":"There are several bug reported on that issue e.g. http://bugs.sun.com/view_bug.do?bug_id=7015589. Personally I think it might be an issue for your application. Workaround I use when working with `BufferedOutputStream` is to call `flush()` before `close()`. This is similar to JDK implementation but in my case I will see errors coming from `flush()`.","body":"There are several bug reported on that issue e.g. <a href=\"http://bugs.sun.com/view_bug.do?bug_id=7015589\" rel=\"nofollow noreferrer\">bugs.sun.com/view_bug.do?bug_id=7015589</a>. Personally I think it might be an issue for your application. Workaround I use when working with <code>BufferedOutputStream</code> is to call <code>flush()</code> before <code>close()</code>. This is similar to JDK implementation but in my case I will see errors coming from <code>flush()</code>."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1358939713,"post_id":14477776,"comment_id":20171543,"body_markdown":"@Tom: Can you post that as an answer?","body":"@Tom: Can you post that as an answer?"},{"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"score":0,"creation_date":1358939846,"post_id":14477776,"comment_id":20171607,"body_markdown":"@Peter Lawrey Flash device are not so reliable as HDD, it is possible 1) remove flash before out.close 2) create out of space situation","body":"@Peter Lawrey Flash device are not so reliable as HDD, it is possible 1) remove flash before out.close 2) create out of space situation"},{"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"score":0,"creation_date":1358939955,"post_id":14477776,"comment_id":20171658,"body_markdown":"@Tom if you care to post your comment as an answer, I&#39;ll delete mine, since you posted the relevant information sooner.","body":"@Tom if you care to post your comment as an answer, I&#39;ll delete mine, since you posted the relevant information sooner."},{"owner":{"account_id":2162182,"reputation":26357,"user_id":1916110,"accept_rate":100,"display_name":"Tom"},"score":1,"creation_date":1358940062,"post_id":14477776,"comment_id":20171723,"body_markdown":"@pcalcao, that&#39;s is fine. Please keep you answer there as it includes more details like `AutoCloseable`","body":"@pcalcao, that&#39;s is fine. Please keep you answer there as it includes more details like <code>AutoCloseable</code>"}],"answers":[{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1359260319,"creation_date":1358939868,"answer_id":14478409,"question_id":14477776,"body_markdown":"As it is, I would reason that calling `close` can indeed make you lose data, since that potential `IOException` is being silently ignored (who on earth knows what went through the developers minds to do that...).\r\n\r\nA decent alternative, although it does put the effort on the side of the programmer, is to call `flush` explicitly before `close` (handling the potential `IOException` correctly), like mentioned in a comment by @Tom, particularly in a `try/finally` block.\r\n\r\nThis problem can be further exacerbated in Java7, due to `AutoCloseable` objects, since you won&#39;t explicitly call the `close()` method and this kind of work-around is even easier to slip by.","title":"Is java.io.BufferedOutputStream safe to use?","body":"<p>As it is, I would reason that calling <code>close</code> can indeed make you lose data, since that potential <code>IOException</code> is being silently ignored (who on earth knows what went through the developers minds to do that...).</p>\n\n<p>A decent alternative, although it does put the effort on the side of the programmer, is to call <code>flush</code> explicitly before <code>close</code> (handling the potential <code>IOException</code> correctly), like mentioned in a comment by @Tom, particularly in a <code>try/finally</code> block.</p>\n\n<p>This problem can be further exacerbated in Java7, due to <code>AutoCloseable</code> objects, since you won't explicitly call the <code>close()</code> method and this kind of work-around is even easier to slip by.</p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655812864,"creation_date":1655812864,"answer_id":72700409,"question_id":14477776,"body_markdown":"In OpenJDK 11, the `FilterOutputStream#close()` method (which `BufferedOutputStream` inherits) is a lot more complex:\r\n\r\n```java\r\npublic void close() throws IOException {\r\n    if (closed) {\r\n        return;\r\n    }\r\n    synchronized (closeLock) {\r\n        if (closed) {\r\n            return;\r\n        }\r\n        closed = true;\r\n    }\r\n\r\n    Throwable flushException = null;\r\n    try {\r\n        flush();\r\n    } catch (Throwable e) {\r\n        flushException = e;\r\n        throw e;\r\n    } finally {\r\n        if (flushException == null) {\r\n            out.close();\r\n        } else {\r\n            try {\r\n                out.close();\r\n            } catch (Throwable closeException) {\r\n               // evaluate possible precedence of flushException over closeException\r\n               if ((flushException instanceof ThreadDeath) &amp;&amp;\r\n                   !(closeException instanceof ThreadDeath)) {\r\n                   flushException.addSuppressed(closeException);\r\n                   throw (ThreadDeath) flushException;\r\n               }\r\n\r\n                if (flushException != closeException) {\r\n                    closeException.addSuppressed(flushException);\r\n                }\r\n\r\n                throw closeException;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, if the `flush()` method throws then the exception is now correctly propagated to the caller.\r\n\r\nTogether with the added locking, `BufferedOutputStream` should now be as safe as possible.","title":"Is java.io.BufferedOutputStream safe to use?","body":"<p>In OpenJDK 11, the <code>FilterOutputStream#close()</code> method (which <code>BufferedOutputStream</code> inherits) is a lot more complex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void close() throws IOException {\n    if (closed) {\n        return;\n    }\n    synchronized (closeLock) {\n        if (closed) {\n            return;\n        }\n        closed = true;\n    }\n\n    Throwable flushException = null;\n    try {\n        flush();\n    } catch (Throwable e) {\n        flushException = e;\n        throw e;\n    } finally {\n        if (flushException == null) {\n            out.close();\n        } else {\n            try {\n                out.close();\n            } catch (Throwable closeException) {\n               // evaluate possible precedence of flushException over closeException\n               if ((flushException instanceof ThreadDeath) &amp;&amp;\n                   !(closeException instanceof ThreadDeath)) {\n                   flushException.addSuppressed(closeException);\n                   throw (ThreadDeath) flushException;\n               }\n\n                if (flushException != closeException) {\n                    closeException.addSuppressed(flushException);\n                }\n\n                throw closeException;\n            }\n        }\n    }\n}\n</code></pre>\n<p>As you can see, if the <code>flush()</code> method throws then the exception is now correctly propagated to the caller.</p>\n<p>Together with the added locking, <code>BufferedOutputStream</code> should now be as safe as possible.</p>\n"}],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3926,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":14478409,"answer_count":2,"score":19,"last_activity_date":1655812864,"creation_date":1358937988,"question_id":14477776,"body_markdown":"At first glance this code seems completely OK\r\n\r\n    BufferedOutputStream bout = new BufferedOutputStream(new FileOutputStream(&quot;1.txt&quot;));\r\n    byte[] bytes = new byte[4096];\r\n    bout.write(bytes);\r\n    bout.close();\r\n\r\nbut if we take a closer look we will see that `close()` is implemented as follows\r\n\r\n    public void close() throws IOException {\r\n        try {\r\n          flush();\r\n        } catch (IOException ignored) {\r\n        }\r\n        out.close();\r\n    }\r\n\r\nIs it possible that due to `flush()` errors are ignored data may be lost and the program will not notice it? There is no mentioning of any danger in `FilterOutputStream.close` (where `BufferedOutputStream` inherits `close()` from) API.\r\n\r\n**UPDATE:** To simulate IO error during close() I changed the test to write to a Flash memory, added a 5 secs sleep before bout.close() and while the test was sleeping I removed the Flash from USB. The test finished without exceptions, but when I inserted the Flash and checked it - 1.txt was not there.\r\n\r\nThen I overrode close() \r\n\r\n\t\tBufferedOutputStream bout = new BufferedOutputStream(new FileOutputStream(&quot;g:/1.txt&quot;)) {\r\n\t\t\t@Override\r\n\t\t\tpublic void close() throws IOException {\r\n\t\t\t\tflush();\r\n\t\t\t\tsuper.close();\r\n\t\t\t}\r\n\t\t};\r\nand ran the test again and got\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: g:\\1.txt (The system cannot the specified path)\r\n    \tat java.io.FileOutputStream.open(Native Method)\r\n    \tat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\r\n    \tat java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:104)\r\n    \tat test.Test1.main(Test1.java:10)\r\n\r\n","title":"Is java.io.BufferedOutputStream safe to use?","body":"<p>At first glance this code seems completely OK</p>\n\n<pre><code>BufferedOutputStream bout = new BufferedOutputStream(new FileOutputStream(\"1.txt\"));\nbyte[] bytes = new byte[4096];\nbout.write(bytes);\nbout.close();\n</code></pre>\n\n<p>but if we take a closer look we will see that <code>close()</code> is implemented as follows</p>\n\n<pre><code>public void close() throws IOException {\n    try {\n      flush();\n    } catch (IOException ignored) {\n    }\n    out.close();\n}\n</code></pre>\n\n<p>Is it possible that due to <code>flush()</code> errors are ignored data may be lost and the program will not notice it? There is no mentioning of any danger in <code>FilterOutputStream.close</code> (where <code>BufferedOutputStream</code> inherits <code>close()</code> from) API.</p>\n\n<p><strong>UPDATE:</strong> To simulate IO error during close() I changed the test to write to a Flash memory, added a 5 secs sleep before bout.close() and while the test was sleeping I removed the Flash from USB. The test finished without exceptions, but when I inserted the Flash and checked it - 1.txt was not there.</p>\n\n<p>Then I overrode close() </p>\n\n<pre><code>    BufferedOutputStream bout = new BufferedOutputStream(new FileOutputStream(\"g:/1.txt\")) {\n        @Override\n        public void close() throws IOException {\n            flush();\n            super.close();\n        }\n    };\n</code></pre>\n\n<p>and ran the test again and got</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException: g:\\1.txt (The system cannot the specified path)\n    at java.io.FileOutputStream.open(Native Method)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:212)\n    at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:104)\n    at test.Test1.main(Test1.java:10)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-security"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1595172554,"post_id":62981975,"comment_id":111376171,"body_markdown":"Please add the error log output ....","body":"Please add the error log output ...."},{"owner":{"account_id":19019207,"reputation":23,"user_id":13883598,"display_name":"Alex Naie"},"score":0,"creation_date":1595179657,"post_id":62981975,"comment_id":111378564,"body_markdown":"Hi @khmarbaise, I don&#39;t get an error in the log. I can run the application without encountering any kind of problem.","body":"Hi @khmarbaise, I don&#39;t get an error in the log. I can run the application without encountering any kind of problem."}],"answers":[{"tags":[],"owner":{"account_id":3074142,"reputation":991,"user_id":2603985,"accept_rate":41,"display_name":"javaguy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595173043,"creation_date":1595173043,"answer_id":62982337,"question_id":62981975,"body_markdown":"Not sure how you are creating project.I can tell you simple solution,which is to go to Spring Initializer ,link for which is  https://start.spring.io/\r\n\r\nThere you can add all your required dependencies and then just click on Generate,which will download your project.You can just import the project in your IDE and run maven build.I tried  with Spring boot version 2.3.1 only as you mentioned and it worked for me and should work for you.\r\n\r\nAlso,I would suggest you to user Intellij IDE,which comes with maven support by default,so it will make things easy for you.You can download Intellij free edition from here:\r\nhttps://www.jetbrains.com/idea/download/#section=windows\r\n\r\nHope it will help you.","title":"The dependency spring-boot-starter-security is not found in a simple Maven project","body":"<p>Not sure how you are creating project.I can tell you simple solution,which is to go to Spring Initializer ,link for which is  <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></p>\n<p>There you can add all your required dependencies and then just click on Generate,which will download your project.You can just import the project in your IDE and run maven build.I tried  with Spring boot version 2.3.1 only as you mentioned and it worked for me and should work for you.</p>\n<p>Also,I would suggest you to user Intellij IDE,which comes with maven support by default,so it will make things easy for you.You can download Intellij free edition from here:\n<a href=\"https://www.jetbrains.com/idea/download/#section=windows\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/download/#section=windows</a></p>\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":19019207,"reputation":23,"user_id":13883598,"display_name":"Alex Naie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595181136,"creation_date":1595181136,"answer_id":62983772,"question_id":62981975,"body_markdown":"I solved the problem.\r\n\r\nLong story short, a friend of mine suggested doing a new project with Spring Initializer and this time add from the beginning the &quot;Spring Boot Security&quot; dependency. After that, I just needed to compare the pom files. The only difference was that the new project had a:\r\n```\r\n&lt;scope&gt;test&lt;/scope&gt;\r\n```\r\nline. I added that to my initial project and the first dependency did not get the error anymore. The second dependency was the Thymeleaf spring security one, in order to fix this one I added:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nTo my pom file.\r\n\r\nSo this is how the dependencies look together now:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nThat&#39;s it, thank you for all the answers you guys also provided.","title":"The dependency spring-boot-starter-security is not found in a simple Maven project","body":"<p>I solved the problem.</p>\n<p>Long story short, a friend of mine suggested doing a new project with Spring Initializer and this time add from the beginning the &quot;Spring Boot Security&quot; dependency. After that, I just needed to compare the pom files. The only difference was that the new project had a:</p>\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n<p>line. I added that to my initial project and the first dependency did not get the error anymore. The second dependency was the Thymeleaf spring security one, in order to fix this one I added:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>To my pom file.</p>\n<p>So this is how the dependencies look together now:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-java8time&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>That's it, thank you for all the answers you guys also provided.</p>\n"},{"tags":[],"owner":{"account_id":3784163,"reputation":39,"user_id":3142691,"display_name":"Dirceu Henrique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603980761,"creation_date":1603980761,"answer_id":64592879,"question_id":62981975,"body_markdown":"Take a look in the version of parent POM.xml file.   When I&#39;ve changed the version to 2.0.0 my project founds the dependency.  \r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;","title":"The dependency spring-boot-starter-security is not found in a simple Maven project","body":"<p>Take a look in the version of parent POM.xml file.   When I've changed the version to 2.0.0 my project founds the dependency.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21971145,"reputation":21,"user_id":16247629,"display_name":"Eshaqi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655812593,"creation_date":1655812593,"answer_id":72700345,"question_id":62981975,"body_markdown":"I had the same problem. follow these steps:\r\n\r\n1- Delete the dependencies that are not found.\r\n2- Sync your project.\r\n3- Add the dependencies.\r\n4- sync the project again.\r\n\r\nit worked for me hope works for everyone else:)","title":"The dependency spring-boot-starter-security is not found in a simple Maven project","body":"<p>I had the same problem. follow these steps:</p>\n<p>1- Delete the dependencies that are not found.\n2- Sync your project.\n3- Add the dependencies.\n4- sync the project again.</p>\n<p>it worked for me hope works for everyone else:)</p>\n"}],"owner":{"account_id":19019207,"reputation":23,"user_id":13883598,"display_name":"Alex Naie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1655812593,"creation_date":1595171134,"question_id":62981975,"body_markdown":"I am trying to inject the spring-boot-starter-security dependency in a simple spring boot application (Maven). I tried to copy this dependency from the &quot;Securing a Web Application&quot; tutorial from the actual Spring website, I also tried to implement it together with the spring security test dependency and thymeleaf spring security dependency.\r\n\r\nSo here are the dependencies that get the error &quot;not found&quot;:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAnd here it is the full pom file:\r\n\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.homehero&lt;/groupId&gt;\r\n    &lt;artifactId&gt;homehero&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nI feel the need to thank y&#39;all in advance and sorry if I&#39;m missing something really stupid, I really hope I&#39;m not!\r\n","title":"The dependency spring-boot-starter-security is not found in a simple Maven project","body":"<p>I am trying to inject the spring-boot-starter-security dependency in a simple spring boot application (Maven). I tried to copy this dependency from the &quot;Securing a Web Application&quot; tutorial from the actual Spring website, I also tried to implement it together with the spring security test dependency and thymeleaf spring security dependency.</p>\n<p>So here are the dependencies that get the error &quot;not found&quot;:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And here it is the full pom file:</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.1.RELEASE\n \n\ncom.homehero\nhomehero\n0.0.1\nwar</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I feel the need to thank y'all in advance and sorry if I'm missing something really stupid, I really hope I'm not!</p>\n"},{"tags":["java","spring","velocity"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505022131,"creation_date":1505022131,"answer_id":46137641,"question_id":46118555,"body_markdown":"Velocity made a change in logging:\r\n\r\n&gt; \tMake Velocity use the base logger namespace &#39;org.apache.velocity&#39;\r\n&gt; unless specified with runtime.log.name in the configuration, and have\r\n&gt; the runtime instance log with this base namespace, and other modules\r\n&gt; log with children namespaces\r\n&gt; \r\n\r\nCommonsLogLogChute added in before major version velocity 1.7:\r\n\r\n&gt; \tAdd a CommonsLogLogChute that allows logging through commons-logging.\r\n\r\nSo you probably have an old jar or configuration in your runtime environment.\r\n\r\n[1]:http://velocity.apache.org/engine/2.0/changes.html","title":"Velocity 2.0: NoClassDefFoundError: org/apache/velocity/runtime/log/CommonsLogLogChute","body":"<p>Velocity made a change in logging:</p>\n\n<blockquote>\n  <p>Make Velocity use the base logger namespace 'org.apache.velocity'\n  unless specified with runtime.log.name in the configuration, and have\n  the runtime instance log with this base namespace, and other modules\n  log with children namespaces</p>\n</blockquote>\n\n<p>CommonsLogLogChute added in before major version velocity 1.7:</p>\n\n<blockquote>\n  <p>Add a CommonsLogLogChute that allows logging through commons-logging.</p>\n</blockquote>\n\n<p>So you probably have an old jar or configuration in your runtime environment.</p>\n"},{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1655812572,"creation_date":1505036936,"answer_id":46139352,"question_id":46118555,"body_markdown":"When overrideLogging is true, the class org.apache.velocity.runtime.log.CommonsLogLogChute is still required by Spring while it has disappeared in Velocity 2.0, since Velocity now uses the slf4j logging framework.\r\n\r\nYou&#39;ll need to wait for an update of the Spring Velocity classes if you need overrideLogging to be true.\r\n\r\n**Edit on June 21st, 2022** - Since version 2.3, Velocity does provide [Spring support](https://velocity.apache.org/engine/2.3/apidocs/org/apache/velocity/spring/package-summary.html).","title":"Velocity 2.0: NoClassDefFoundError: org/apache/velocity/runtime/log/CommonsLogLogChute","body":"<p>When overrideLogging is true, the class org.apache.velocity.runtime.log.CommonsLogLogChute is still required by Spring while it has disappeared in Velocity 2.0, since Velocity now uses the slf4j logging framework.</p>\n<p>You'll need to wait for an update of the Spring Velocity classes if you need overrideLogging to be true.</p>\n<p><strong>Edit on June 21st, 2022</strong> - Since version 2.3, Velocity does provide <a href=\"https://velocity.apache.org/engine/2.3/apidocs/org/apache/velocity/spring/package-summary.html\" rel=\"nofollow noreferrer\">Spring support</a>.</p>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550576649,"creation_date":1550576649,"answer_id":54765559,"question_id":46118555,"body_markdown":"Alibaba implemented a support context package for that case: https://github.com/alibaba/spring-velocity-support\r\n\r\nJust add to maven:\r\n\r\n    &lt;!-- Spring Framework --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring.framework.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Spring Context Velocity --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.alibaba.spring&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context-velocity&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.3.18.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut beware that your project now uses Velocity 2.0.","title":"Velocity 2.0: NoClassDefFoundError: org/apache/velocity/runtime/log/CommonsLogLogChute","body":"<p>Alibaba implemented a support context package for that case: <a href=\"https://github.com/alibaba/spring-velocity-support\" rel=\"nofollow noreferrer\">https://github.com/alibaba/spring-velocity-support</a></p>\n\n<p>Just add to maven:</p>\n\n<pre><code>&lt;!-- Spring Framework --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;version&gt;${spring.framework.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Spring Context Velocity --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context-velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.4.3.18.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But beware that your project now uses Velocity 2.0.</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8365,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46139352,"answer_count":3,"score":8,"last_activity_date":1655812572,"creation_date":1504880128,"question_id":46118555,"body_markdown":"On starting up my Web app with Velocity 2.0 I&#39;m getting the following error:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: \r\n                 org/apache/velocity/runtime/log/CommonsLogLogChute\r\n    \tat org.springframework.ui.velocity.VelocityEngineFactory.createVelocityEngine(VelocityEngineFactory.java:240)\r\n    \tat org.springframework.ui.velocity.VelocityEngineFactoryBean.afterPropertiesSet(VelocityEngineFactoryBean.java:60)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\r\n    \t... 34 more\r\n\r\nAll dependencies have been satisfied. We are using\r\n\r\n - slf4j-api-1.7.25.jar \r\n - slf4j-simple-1.7.25.jar \r\n - commons-lang3-3.5.jar\r\n - commons-io-2.5.jar\r\n - commons-logging-1.2.jar (yes we do have Commons-Logging)\r\n\r\nIn applicationContext.xml the velocityEngine bean is defined as follows\r\n\r\n    &lt;bean id=&quot;velocityEngine&quot; \r\n    class=&quot;org.springframework.ui.velocity.VelocityEngineFactoryBean&quot;/&gt;\r\n\r\nAny thoughts on this?\r\n\r\nMy file `velocity-engine-core-2.0.jar` only contains the following `.runtime` subpackages: \r\n\r\n    defaults, directive, parser, resource, visitor\r\n\r\nbut no `log` .\r\n\r\n**UPDATE** The following overrideLogging = FALSE in the Spring Velocity Engine bean declaration solved the problem. **But why?**\r\n\r\n    &lt;bean id=&quot;velocityEngine&quot; class=&quot;org.springframework.ui.velocity.VelocityEngineFactoryBean&quot;&gt; \r\n    \t&lt;property name=&quot;overrideLogging&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nI just followed a tip on \r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/velocity/VelocityEngineFactory.html\r\nbut not sure what happened.","title":"Velocity 2.0: NoClassDefFoundError: org/apache/velocity/runtime/log/CommonsLogLogChute","body":"<p>On starting up my Web app with Velocity 2.0 I'm getting the following error:</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: \n             org/apache/velocity/runtime/log/CommonsLogLogChute\n    at org.springframework.ui.velocity.VelocityEngineFactory.createVelocityEngine(VelocityEngineFactory.java:240)\n    at org.springframework.ui.velocity.VelocityEngineFactoryBean.afterPropertiesSet(VelocityEngineFactoryBean.java:60)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1687)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1624)\n    ... 34 more\n</code></pre>\n\n<p>All dependencies have been satisfied. We are using</p>\n\n<ul>\n<li>slf4j-api-1.7.25.jar </li>\n<li>slf4j-simple-1.7.25.jar </li>\n<li>commons-lang3-3.5.jar</li>\n<li>commons-io-2.5.jar</li>\n<li>commons-logging-1.2.jar (yes we do have Commons-Logging)</li>\n</ul>\n\n<p>In applicationContext.xml the velocityEngine bean is defined as follows</p>\n\n<pre><code>&lt;bean id=\"velocityEngine\" \nclass=\"org.springframework.ui.velocity.VelocityEngineFactoryBean\"/&gt;\n</code></pre>\n\n<p>Any thoughts on this?</p>\n\n<p>My file <code>velocity-engine-core-2.0.jar</code> only contains the following <code>.runtime</code> subpackages: </p>\n\n<pre><code>defaults, directive, parser, resource, visitor\n</code></pre>\n\n<p>but no <code>log</code> .</p>\n\n<p><strong>UPDATE</strong> The following overrideLogging = FALSE in the Spring Velocity Engine bean declaration solved the problem. <strong>But why?</strong></p>\n\n<pre><code>&lt;bean id=\"velocityEngine\" class=\"org.springframework.ui.velocity.VelocityEngineFactoryBean\"&gt; \n    &lt;property name=\"overrideLogging\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I just followed a tip on \n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/velocity/VelocityEngineFactory.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/velocity/VelocityEngineFactory.html</a>\nbut not sure what happened.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":2297573,"reputation":1200,"user_id":2018654,"display_name":"Naruto"},"score":0,"creation_date":1493046586,"post_id":43591614,"comment_id":74232987,"body_markdown":"Why is this tagged as PHP?","body":"Why is this tagged as PHP?"},{"owner":{"account_id":10669045,"reputation":3,"user_id":7854630,"display_name":"Jasmin Apolinar"},"score":0,"creation_date":1493046777,"post_id":43591614,"comment_id":74233114,"body_markdown":"oh, i&#39;m sorry..","body":"oh, i&#39;m sorry.."}],"answers":[{"tags":[],"owner":{"account_id":8782512,"reputation":1507,"user_id":6565719,"accept_rate":27,"display_name":"Master Po"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493047830,"creation_date":1493047830,"answer_id":43592154,"question_id":43591614,"body_markdown":"The request URL (http://jamthesis.com/images) that you are trying to hit does not exist. That&#39;s why you are getting 404. Please check the URL that you are trying to upload the file to.","title":"java.io.IOException: Server returned non-OK status: 404","body":"<p>The request URL (<a href=\"http://jamthesis.com/images\" rel=\"nofollow noreferrer\">http://jamthesis.com/images</a>) that you are trying to hit does not exist. That's why you are getting 404. Please check the URL that you are trying to upload the file to.</p>\n"}],"owner":{"account_id":10669045,"reputation":3,"user_id":7854630,"display_name":"Jasmin Apolinar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655812387,"creation_date":1493046280,"question_id":43591614,"body_markdown":"Source: http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically\r\n\r\nWhy it doesn&#39;t return status? i&#39;m accessing my file manager on godaddy\r\n\r\nMultipartFileUploader.java\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n\r\n    public class MultipartFileUploader {\r\n \r\n    public static void main(String[] args) {\r\n        String charset = &quot;UTF-8&quot;;\r\n        File uploadFile1 = new File(&quot;C:/Users/jimmy/Pictures/Artist/TJ Monterde.jpg&quot;);\r\n        File uploadFile2 = new File(&quot;C:/Users/jimmy/Pictures/Artist/Mariah Carey.jpg&quot;);\r\n        String requestURL = &quot;http://jamthesis.com/images&quot;;\r\n \r\n        try {\r\n            MultipartUtility multipart = new MultipartUtility(requestURL, charset);\r\n             \r\n            //multipart.addHeaderField(&quot;User-Agent&quot;, &quot;CodeJava&quot;);\r\n            //multipart.addHeaderField(&quot;Test-Header&quot;, &quot;Header-Value&quot;);\r\n             \r\n            //multipart.addFormField(&quot;description&quot;, &quot;Cool Pictures&quot;);\r\n            //multipart.addFormField(&quot;keywords&quot;, &quot;Java,upload,Spring&quot;);\r\n             \r\n            multipart.addFilePart(&quot;fileUpload&quot;, uploadFile1);\r\n            multipart.addFilePart(&quot;fileUpload&quot;, uploadFile2);\r\n \r\n            List&lt;String&gt; response = multipart.finish();\r\n             \r\n            System.out.println(&quot;SERVER REPLIED:&quot;);\r\n             \r\n            for (String line : response) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (IOException ex) {\r\n            System.err.println(ex);\r\n        }\r\n    }  }\r\n\r\nMultipartUtility.java\r\n\r\n     import java.io.BufferedReader;\r\n     import java.io.File;\r\n     import java.io.FileInputStream;\r\n     import java.io.IOException;\r\n     import java.io.InputStreamReader;\r\n     import java.io.OutputStream;\r\n     import java.io.OutputStreamWriter;\r\n     import java.io.PrintWriter;\r\n     import java.net.HttpURLConnection;\r\n     import java.net.URL;\r\n     import java.net.URLConnection;\r\n     import java.util.ArrayList;\r\n     import java.util.List;\r\n \r\n     /**\r\n     * This utility class provides an abstraction layer for sending multipart \r\n     HTTP\r\n     * POST requests to a web server.\r\n     * @author www.codejava.net\r\n     *\r\n     */\r\n     public class MultipartUtility {\r\n    private final String boundary;\r\n    private static final String LINE_FEED = &quot;\\r\\n&quot;;\r\n    private HttpURLConnection httpConn;\r\n    private String charset;\r\n    private OutputStream outputStream;\r\n    private PrintWriter writer;\r\n \r\n    /**\r\n     * This constructor initializes a new HTTP POST request with content type\r\n     * is set to multipart/form-data\r\n     * @param requestURL\r\n     * @param charset\r\n     * @throws IOException\r\n     */\r\n    public MultipartUtility(String requestURL, String charset)\r\n            throws IOException {\r\n        this.charset = charset;\r\n         \r\n        // creates a unique boundary based on time stamp\r\n        boundary = &quot;===&quot; + System.currentTimeMillis() + &quot;===&quot;;\r\n         \r\n        URL url = new URL(requestURL);\r\n        httpConn = (HttpURLConnection) url.openConnection();\r\n        httpConn.setUseCaches(false);\r\n        httpConn.setDoOutput(true); // indicates POST method\r\n        httpConn.setDoInput(true);\r\n        httpConn.setRequestProperty(&quot;Content-Type&quot;,\r\n                &quot;multipart/form-data; boundary=&quot; + boundary);\r\n        httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;CodeJava Agent&quot;);\r\n        httpConn.setRequestProperty(&quot;Test&quot;, &quot;Bonjour&quot;);\r\n        outputStream = httpConn.getOutputStream();\r\n        writer = new PrintWriter(new OutputStreamWriter(outputStream, charset),\r\n                true);\r\n    }\r\n \r\n    /**\r\n     * Adds a form field to the request\r\n     * @param name field name\r\n     * @param value field value\r\n     */\r\n    public void addFormField(String name, String value) {\r\n        writer.append(&quot;--&quot; + boundary).append(LINE_FEED);\r\n        writer.append(&quot;Content-Disposition: form-data; name=\\&quot;&quot; + name + &quot;\\&quot;&quot;)\r\n                .append(LINE_FEED);\r\n        writer.append(&quot;Content-Type: text/plain; charset=&quot; + charset).append(\r\n                LINE_FEED);\r\n        writer.append(LINE_FEED);\r\n        writer.append(value).append(LINE_FEED);\r\n        writer.flush();\r\n    }\r\n \r\n    /**\r\n     * Adds a upload file section to the request\r\n     * @param fieldName name attribute in &lt;input type=&quot;file&quot; name=&quot;...&quot; /&gt;\r\n     * @param uploadFile a File to be uploaded\r\n     * @throws IOException\r\n     */\r\n    public void addFilePart(String fieldName, File uploadFile)\r\n            throws IOException {\r\n        String fileName = uploadFile.getName();\r\n        writer.append(&quot;--&quot; + boundary).append(LINE_FEED);\r\n        writer.append(\r\n                &quot;Content-Disposition: form-data; name=\\&quot;&quot; + fieldName\r\n                        + &quot;\\&quot;; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\r\n                .append(LINE_FEED);\r\n        writer.append(\r\n                &quot;Content-Type: &quot;\r\n                        + URLConnection.guessContentTypeFromName(fileName))\r\n                .append(LINE_FEED);\r\n        writer.append(&quot;Content-Transfer-Encoding: binary&quot;).append(LINE_FEED);\r\n        writer.append(LINE_FEED);\r\n        writer.flush();\r\n \r\n        FileInputStream inputStream = new FileInputStream(uploadFile);\r\n        byte[] buffer = new byte[4096];\r\n        int bytesRead = -1;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            outputStream.write(buffer, 0, bytesRead);\r\n        }\r\n        outputStream.flush();\r\n        inputStream.close();\r\n         \r\n        writer.append(LINE_FEED);\r\n        writer.flush();    \r\n    }\r\n \r\n    /**\r\n     * Adds a header field to the request.\r\n     * @param name - name of the header field\r\n     * @param value - value of the header field\r\n     */\r\n    public void addHeaderField(String name, String value) {\r\n        writer.append(name + &quot;: &quot; + value).append(LINE_FEED);\r\n        writer.flush();\r\n    }\r\n     \r\n    /**\r\n     * Completes the request and receives response from the server.\r\n     * @return a list of Strings as response in case the server returned\r\n     * status OK, otherwise an exception is thrown.\r\n     * @throws IOException\r\n     */\r\n    public List&lt;String&gt; finish() throws IOException {\r\n        List&lt;String&gt; response = new ArrayList&lt;String&gt;();\r\n \r\n        writer.append(LINE_FEED).flush();\r\n        writer.append(&quot;--&quot; + boundary + &quot;--&quot;).append(LINE_FEED);\r\n        writer.close();\r\n \r\n        // checks server&#39;s status code first\r\n        int status = httpConn.getResponseCode();\r\n        if (status == HttpURLConnection.HTTP_OK) {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n                    httpConn.getInputStream()));\r\n            String line = null;\r\n            while ((line = reader.readLine()) != null) {\r\n                response.add(line);\r\n            }\r\n            reader.close();\r\n            httpConn.disconnect();\r\n        } else {\r\n            throw new IOException(&quot;Server returned non-OK status: &quot; + status);\r\n        }\r\n \r\n        return response;\r\n    } }\r\n","title":"java.io.IOException: Server returned non-OK status: 404","body":"<p>Source: <a href=\"http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically\" rel=\"nofollow noreferrer\">http://www.codejava.net/java-se/networking/upload-files-by-sending-multipart-request-programmatically</a></p>\n\n<p>Why it doesn't return status? i'm accessing my file manager on godaddy</p>\n\n<p>MultipartFileUploader.java</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.List;\n\npublic class MultipartFileUploader {\n\npublic static void main(String[] args) {\n    String charset = \"UTF-8\";\n    File uploadFile1 = new File(\"C:/Users/jimmy/Pictures/Artist/TJ Monterde.jpg\");\n    File uploadFile2 = new File(\"C:/Users/jimmy/Pictures/Artist/Mariah Carey.jpg\");\n    String requestURL = \"http://jamthesis.com/images\";\n\n    try {\n        MultipartUtility multipart = new MultipartUtility(requestURL, charset);\n\n        //multipart.addHeaderField(\"User-Agent\", \"CodeJava\");\n        //multipart.addHeaderField(\"Test-Header\", \"Header-Value\");\n\n        //multipart.addFormField(\"description\", \"Cool Pictures\");\n        //multipart.addFormField(\"keywords\", \"Java,upload,Spring\");\n\n        multipart.addFilePart(\"fileUpload\", uploadFile1);\n        multipart.addFilePart(\"fileUpload\", uploadFile2);\n\n        List&lt;String&gt; response = multipart.finish();\n\n        System.out.println(\"SERVER REPLIED:\");\n\n        for (String line : response) {\n            System.out.println(line);\n        }\n    } catch (IOException ex) {\n        System.err.println(ex);\n    }\n}  }\n</code></pre>\n\n<p>MultipartUtility.java</p>\n\n<pre><code> import java.io.BufferedReader;\n import java.io.File;\n import java.io.FileInputStream;\n import java.io.IOException;\n import java.io.InputStreamReader;\n import java.io.OutputStream;\n import java.io.OutputStreamWriter;\n import java.io.PrintWriter;\n import java.net.HttpURLConnection;\n import java.net.URL;\n import java.net.URLConnection;\n import java.util.ArrayList;\n import java.util.List;\n\n /**\n * This utility class provides an abstraction layer for sending multipart \n HTTP\n * POST requests to a web server.\n * @author www.codejava.net\n *\n */\n public class MultipartUtility {\nprivate final String boundary;\nprivate static final String LINE_FEED = \"\\r\\n\";\nprivate HttpURLConnection httpConn;\nprivate String charset;\nprivate OutputStream outputStream;\nprivate PrintWriter writer;\n\n/**\n * This constructor initializes a new HTTP POST request with content type\n * is set to multipart/form-data\n * @param requestURL\n * @param charset\n * @throws IOException\n */\npublic MultipartUtility(String requestURL, String charset)\n        throws IOException {\n    this.charset = charset;\n\n    // creates a unique boundary based on time stamp\n    boundary = \"===\" + System.currentTimeMillis() + \"===\";\n\n    URL url = new URL(requestURL);\n    httpConn = (HttpURLConnection) url.openConnection();\n    httpConn.setUseCaches(false);\n    httpConn.setDoOutput(true); // indicates POST method\n    httpConn.setDoInput(true);\n    httpConn.setRequestProperty(\"Content-Type\",\n            \"multipart/form-data; boundary=\" + boundary);\n    httpConn.setRequestProperty(\"User-Agent\", \"CodeJava Agent\");\n    httpConn.setRequestProperty(\"Test\", \"Bonjour\");\n    outputStream = httpConn.getOutputStream();\n    writer = new PrintWriter(new OutputStreamWriter(outputStream, charset),\n            true);\n}\n\n/**\n * Adds a form field to the request\n * @param name field name\n * @param value field value\n */\npublic void addFormField(String name, String value) {\n    writer.append(\"--\" + boundary).append(LINE_FEED);\n    writer.append(\"Content-Disposition: form-data; name=\\\"\" + name + \"\\\"\")\n            .append(LINE_FEED);\n    writer.append(\"Content-Type: text/plain; charset=\" + charset).append(\n            LINE_FEED);\n    writer.append(LINE_FEED);\n    writer.append(value).append(LINE_FEED);\n    writer.flush();\n}\n\n/**\n * Adds a upload file section to the request\n * @param fieldName name attribute in &lt;input type=\"file\" name=\"...\" /&gt;\n * @param uploadFile a File to be uploaded\n * @throws IOException\n */\npublic void addFilePart(String fieldName, File uploadFile)\n        throws IOException {\n    String fileName = uploadFile.getName();\n    writer.append(\"--\" + boundary).append(LINE_FEED);\n    writer.append(\n            \"Content-Disposition: form-data; name=\\\"\" + fieldName\n                    + \"\\\"; filename=\\\"\" + fileName + \"\\\"\")\n            .append(LINE_FEED);\n    writer.append(\n            \"Content-Type: \"\n                    + URLConnection.guessContentTypeFromName(fileName))\n            .append(LINE_FEED);\n    writer.append(\"Content-Transfer-Encoding: binary\").append(LINE_FEED);\n    writer.append(LINE_FEED);\n    writer.flush();\n\n    FileInputStream inputStream = new FileInputStream(uploadFile);\n    byte[] buffer = new byte[4096];\n    int bytesRead = -1;\n    while ((bytesRead = inputStream.read(buffer)) != -1) {\n        outputStream.write(buffer, 0, bytesRead);\n    }\n    outputStream.flush();\n    inputStream.close();\n\n    writer.append(LINE_FEED);\n    writer.flush();    \n}\n\n/**\n * Adds a header field to the request.\n * @param name - name of the header field\n * @param value - value of the header field\n */\npublic void addHeaderField(String name, String value) {\n    writer.append(name + \": \" + value).append(LINE_FEED);\n    writer.flush();\n}\n\n/**\n * Completes the request and receives response from the server.\n * @return a list of Strings as response in case the server returned\n * status OK, otherwise an exception is thrown.\n * @throws IOException\n */\npublic List&lt;String&gt; finish() throws IOException {\n    List&lt;String&gt; response = new ArrayList&lt;String&gt;();\n\n    writer.append(LINE_FEED).flush();\n    writer.append(\"--\" + boundary + \"--\").append(LINE_FEED);\n    writer.close();\n\n    // checks server's status code first\n    int status = httpConn.getResponseCode();\n    if (status == HttpURLConnection.HTTP_OK) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                httpConn.getInputStream()));\n        String line = null;\n        while ((line = reader.readLine()) != null) {\n            response.add(line);\n        }\n        reader.close();\n        httpConn.disconnect();\n    } else {\n        throw new IOException(\"Server returned non-OK status: \" + status);\n    }\n\n    return response;\n} }\n</code></pre>\n"},{"tags":["java","redis","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655812378,"creation_date":1655812378,"answer_id":72700291,"question_id":72697227,"body_markdown":"&gt; The Redish Graph version that we are using is 2.5.1 .\r\n\r\nThere are no [RedisGraph][1] `2.5.x` [versions][2].\r\n\r\nSo I am assuming you are meaning [JRedisGraph][3] version [2.5.1][4].\r\n\r\nThe two methods that you have stated executes same `GRAPH.QUERY` command with same query. The only difference between them is that the later one bears an optional argument `TIMEOUT`. Again, I am meaning the `TIMEOUT` argument while executing `GRAPH.QUERY` command; not while *loading* RedisGraph module into Redis.\r\n\r\nIt seems you are using a RedisGraph version which does not support the optional `TIMEOUT` argument in `GRAPH.QUERY` command. You can try an updated RedisGraph version.\r\n\r\n\r\n  [1]: https://github.com/RedisGraph/RedisGraph\r\n  [2]: https://github.com/RedisGraph/RedisGraph/tags\r\n  [3]: https://github.com/RedisGraph/JRedisGraph\r\n  [4]: https://github.com/RedisGraph/JRedisGraph/releases/tag/v2.5.1","title":"JRedisGraphCompileTimeException while using time out in the Redish Graph query","body":"<blockquote>\n<p>The Redish Graph version that we are using is 2.5.1 .</p>\n</blockquote>\n<p>There are no <a href=\"https://github.com/RedisGraph/RedisGraph\" rel=\"nofollow noreferrer\">RedisGraph</a> <code>2.5.x</code> <a href=\"https://github.com/RedisGraph/RedisGraph/tags\" rel=\"nofollow noreferrer\">versions</a>.</p>\n<p>So I am assuming you are meaning <a href=\"https://github.com/RedisGraph/JRedisGraph\" rel=\"nofollow noreferrer\">JRedisGraph</a> version <a href=\"https://github.com/RedisGraph/JRedisGraph/releases/tag/v2.5.1\" rel=\"nofollow noreferrer\">2.5.1</a>.</p>\n<p>The two methods that you have stated executes same <code>GRAPH.QUERY</code> command with same query. The only difference between them is that the later one bears an optional argument <code>TIMEOUT</code>. Again, I am meaning the <code>TIMEOUT</code> argument while executing <code>GRAPH.QUERY</code> command; not while <em>loading</em> RedisGraph module into Redis.</p>\n<p>It seems you are using a RedisGraph version which does not support the optional <code>TIMEOUT</code> argument in <code>GRAPH.QUERY</code> command. You can try an updated RedisGraph version.</p>\n"}],"owner":{"account_id":1815896,"reputation":671,"user_id":9175971,"accept_rate":82,"display_name":"Atharv Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655812378,"creation_date":1655798561,"question_id":72697227,"body_markdown":"I am trying to query Redish Graph with Time out parameter as long but it throws below exception \r\n\r\n    com.redislabs.redisgraph.exceptions.JRedisGraphCompileTimeException: redis.clients.jedis.exceptions.JedisDataException: ERR wrong number of arguments for &#39;graph.QUERY&#39; command\r\nThe method that works now is \r\n\r\n    public ResultSet query(String query) {\r\n       //return graph.query(graphName, query);\r\n       return graph.query(graphName, query);\r\n    }\r\n\r\nBut when we try to use below it throws exception \r\n\r\n    public ResultSet query(String query) {\r\n       //return graph.query(graphName, query);\r\n       return graph.query(graphName, query,60000L);\r\n    }\r\n\r\nThe Redish  Graph version that we are using is 2.5.1 .","title":"JRedisGraphCompileTimeException while using time out in the Redish Graph query","body":"<p>I am trying to query Redish Graph with Time out parameter as long but it throws below exception</p>\n<pre><code>com.redislabs.redisgraph.exceptions.JRedisGraphCompileTimeException: redis.clients.jedis.exceptions.JedisDataException: ERR wrong number of arguments for 'graph.QUERY' command\n</code></pre>\n<p>The method that works now is</p>\n<pre><code>public ResultSet query(String query) {\n   //return graph.query(graphName, query);\n   return graph.query(graphName, query);\n}\n</code></pre>\n<p>But when we try to use below it throws exception</p>\n<pre><code>public ResultSet query(String query) {\n   //return graph.query(graphName, query);\n   return graph.query(graphName, query,60000L);\n}\n</code></pre>\n<p>The Redish  Graph version that we are using is 2.5.1 .</p>\n"},{"tags":["java","swing","layout-manager","border-layout","flowlayout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1655812528,"post_id":72698035,"comment_id":128415425,"body_markdown":"**Meta Question:** What layout does the frame use for the content pane when code **does not** set a flow layout? Note that at the moment you seem to be &#39;programming by magic&#39;. Consult the docs, learn how to use the various layouts. It is not welcomed to come here for every GUI made (probably several times for each), and many questions can be solved by doing the [tutorial](https://docs.oracle.com/javase/tutorial/uiswing/layout/layoutlist.html).","body":"<b>Meta Question:</b> What layout does the frame use for the content pane when code <b>does not</b> set a flow layout? Note that at the moment you seem to be &#39;programming by magic&#39;. Consult the docs, learn how to use the various layouts. It is not welcomed to come here for every GUI made (probably several times for each), and many questions can be solved by doing the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/layoutlist.html\" rel=\"nofollow noreferrer\">tutorial</a>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655810726,"creation_date":1655810327,"answer_id":72699837,"question_id":72698035,"body_markdown":"Refer to [How to Use Layered Panes][1].\r\n* You need to give the `JLayeredPane` a preferred size. Since your `JLayeredPane` contains only a single `JButton`, that size should be big enough to display the entire `JButton`.\r\n* The arguments to method `setBounds` &amp;ndash; that you call on `Button` &amp;ndash;  are relative to its container, i.e. `SignupButtonLayer`. Setting the _x_ to 94 and the _y_ to 617 means that `Button` is placed **outside** of the bounds of `SignupButtonLayer`. Hence you don&#39;t see it. In the below code, I set _x_ and _y_ both to 0 (zero) so that the top, left corner of `Button` aligns with the top, left corner of `SignupButtonLayer`.\r\n* No need to explicitly call method `setOpaque(true)` for `Button` since that is the default, anyway.\r\n* Either call `pack()` &amp;ndash; which is usually preferred &amp;ndash; or `setSize()` but don&#39;t call both.\r\n* `setVisible(true)` should be called only once your GUI is completely built. In the below code I call it after calling `pack()` and `setTitle()`.\r\n* I suggest that you try to adhere to [Java naming conventions][2].\r\n* I also suggest that try not to name your classes the same as classes in the JDK. I am referring to [Panel][3].\r\n\r\nThe below code simply resolves your problem, i.e. displaying both the image and the button together &amp;ndash; while using `FlowLayout` for the [content pane of the] `JFrame`. Notice that the preferred size of `SignupButtonLayer` is slightly larger than the size arguments in method `setBounds`.\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Image;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JLayeredPane;\r\n\r\npublic class Panel extends JFrame {\r\n    private ImageIcon FirstPageImage;\r\n    private JLabel FirstPageLabel;\r\n    private JLayeredPane SignupButtonLayer;\r\n    private JButton Button;\r\n\r\n    public Panel() {\r\n        setLayout(new FlowLayout());\r\n        FirstPageImage = new ImageIcon(getClass().getResource(&quot;FirstPageAnimationUsing.gif&quot;));\r\n        FirstPageLabel = new JLabel(FirstPageImage);\r\n        FirstPageImage.setImage(FirstPageImage.getImage().getScaledInstance(343, 820, Image.SCALE_DEFAULT));\r\n        add(FirstPageLabel);\r\n\r\n        Button = new JButton();\r\n        SignupButtonLayer = new JLayeredPane();\r\n        SignupButtonLayer.setPreferredSize(new Dimension(160, 90));\r\n//        Button.setOpaque(true);\r\n        Button.setBackground(Color.cyan);\r\n        Button.setBounds(0, 0, 159, 82);\r\n\r\n        SignupButtonLayer.add(Button, JLayeredPane.DEFAULT_LAYER);\r\n        add(SignupButtonLayer);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Panel gui = new Panel();\r\n        gui.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        gui.pack();\r\n        gui.setTitle(&quot;Reminder App&quot;);\r\n//        gui.setSize(360, 850);\r\n        gui.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\r\n  [2]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Panel.html","title":"How do I get both my image and button to display?","body":"<p>Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/layeredpane.html\" rel=\"nofollow noreferrer\">How to Use Layered Panes</a>.</p>\n<ul>\n<li>You need to give the <code>JLayeredPane</code> a preferred size. Since your <code>JLayeredPane</code> contains only a single <code>JButton</code>, that size should be big enough to display the entire <code>JButton</code>.</li>\n<li>The arguments to method <code>setBounds</code> – that you call on <code>Button</code> –  are relative to its container, i.e. <code>SignupButtonLayer</code>. Setting the <em>x</em> to 94 and the <em>y</em> to 617 means that <code>Button</code> is placed <strong>outside</strong> of the bounds of <code>SignupButtonLayer</code>. Hence you don't see it. In the below code, I set <em>x</em> and <em>y</em> both to 0 (zero) so that the top, left corner of <code>Button</code> aligns with the top, left corner of <code>SignupButtonLayer</code>.</li>\n<li>No need to explicitly call method <code>setOpaque(true)</code> for <code>Button</code> since that is the default, anyway.</li>\n<li>Either call <code>pack()</code> – which is usually preferred – or <code>setSize()</code> but don't call both.</li>\n<li><code>setVisible(true)</code> should be called only once your GUI is completely built. In the below code I call it after calling <code>pack()</code> and <code>setTitle()</code>.</li>\n<li>I suggest that you try to adhere to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</li>\n<li>I also suggest that try not to name your classes the same as classes in the JDK. I am referring to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Panel.html\" rel=\"nofollow noreferrer\">Panel</a>.</li>\n</ul>\n<p>The below code simply resolves your problem, i.e. displaying both the image and the button together – while using <code>FlowLayout</code> for the [content pane of the] <code>JFrame</code>. Notice that the preferred size of <code>SignupButtonLayer</code> is slightly larger than the size arguments in method <code>setBounds</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JLayeredPane;\n\npublic class Panel extends JFrame {\n    private ImageIcon FirstPageImage;\n    private JLabel FirstPageLabel;\n    private JLayeredPane SignupButtonLayer;\n    private JButton Button;\n\n    public Panel() {\n        setLayout(new FlowLayout());\n        FirstPageImage = new ImageIcon(getClass().getResource(&quot;FirstPageAnimationUsing.gif&quot;));\n        FirstPageLabel = new JLabel(FirstPageImage);\n        FirstPageImage.setImage(FirstPageImage.getImage().getScaledInstance(343, 820, Image.SCALE_DEFAULT));\n        add(FirstPageLabel);\n\n        Button = new JButton();\n        SignupButtonLayer = new JLayeredPane();\n        SignupButtonLayer.setPreferredSize(new Dimension(160, 90));\n//        Button.setOpaque(true);\n        Button.setBackground(Color.cyan);\n        Button.setBounds(0, 0, 159, 82);\n\n        SignupButtonLayer.add(Button, JLayeredPane.DEFAULT_LAYER);\n        add(SignupButtonLayer);\n    }\n\n    public static void main(String[] args) {\n        Panel gui = new Panel();\n        gui.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        gui.pack();\n        gui.setTitle(&quot;Reminder App&quot;);\n//        gui.setSize(360, 850);\n        gui.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25502678,"reputation":1,"user_id":19295597,"display_name":"owaishakir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655812334,"creation_date":1655802261,"question_id":72698035,"body_markdown":"Currently, the problem I am trying to solve is how I get both my image and button to show up.\r\n\r\nWhen I have the following line in the code the image shows up but when I remove it my image doesn&#39;t display but the button does: \r\n```setLayout (new FlowLayout()) ;```\r\n\r\n[without the line of code][1]\r\n\r\n[with the line of code][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3XWXA.png\r\n  [2]: https://i.stack.imgur.com/gDrrP.png\r\n\r\nImages for example ^\r\n```import javax.swing.*;\r\nimport java.awt.*;\r\npublic class Panel extends JFrame {\r\n    private ImageIcon FirstPageImage;\r\n    private JLabel FirstPageLabel;\r\n    private JLayeredPane SignupButtonLayer;\r\n    private JButton Button;\r\n\r\npublic Panel(){\r\n    setLayout (new FlowLayout()) ;\r\n    FirstPageImage = new ImageIcon(getClass().getResource(&quot;FirstPageAnimationUsing.gif&quot;));\r\n    FirstPageLabel = new JLabel(FirstPageImage);\r\n    FirstPageImage.setImage(FirstPageImage.getImage().getScaledInstance(343,820,Image.SCALE_DEFAULT));\r\n    add(FirstPageLabel);\r\n\r\n    Button = new JButton();\r\n    SignupButtonLayer = new JLayeredPane();\r\n\r\n    Button.setOpaque(true);\r\n    Button.setBackground(Color.cyan);\r\n    Button.setBounds(94,617,159,82);\r\n\r\n    SignupButtonLayer.add(Button, JLayeredPane.DEFAULT_LAYER);\r\n    add(SignupButtonLayer);\r\n}\r\n\r\n    public static void main(String[] args) {\r\n        Panel gui = new Panel();\r\n        gui.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        gui.setVisible(true);\r\n        gui.pack();\r\n        gui.setTitle(&quot;Reminder App&quot;);\r\n        gui.setSize(360,850);\r\n\r\n    }\r\n}\r\n```","title":"How do I get both my image and button to display?","body":"<p>Currently, the problem I am trying to solve is how I get both my image and button to show up.</p>\n<p>When I have the following line in the code the image shows up but when I remove it my image doesn't display but the button does:\n<code>setLayout (new FlowLayout()) ;</code></p>\n<p><a href=\"https://i.stack.imgur.com/3XWXA.png\" rel=\"nofollow noreferrer\">without the line of code</a></p>\n<p><a href=\"https://i.stack.imgur.com/gDrrP.png\" rel=\"nofollow noreferrer\">with the line of code</a></p>\n<p>Images for example ^</p>\n<pre><code>import java.awt.*;\npublic class Panel extends JFrame {\n    private ImageIcon FirstPageImage;\n    private JLabel FirstPageLabel;\n    private JLayeredPane SignupButtonLayer;\n    private JButton Button;\n\npublic Panel(){\n    setLayout (new FlowLayout()) ;\n    FirstPageImage = new ImageIcon(getClass().getResource(&quot;FirstPageAnimationUsing.gif&quot;));\n    FirstPageLabel = new JLabel(FirstPageImage);\n    FirstPageImage.setImage(FirstPageImage.getImage().getScaledInstance(343,820,Image.SCALE_DEFAULT));\n    add(FirstPageLabel);\n\n    Button = new JButton();\n    SignupButtonLayer = new JLayeredPane();\n\n    Button.setOpaque(true);\n    Button.setBackground(Color.cyan);\n    Button.setBounds(94,617,159,82);\n\n    SignupButtonLayer.add(Button, JLayeredPane.DEFAULT_LAYER);\n    add(SignupButtonLayer);\n}\n\n    public static void main(String[] args) {\n        Panel gui = new Panel();\n        gui.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        gui.setVisible(true);\n        gui.pack();\n        gui.setTitle(&quot;Reminder App&quot;);\n        gui.setSize(360,850);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","kubernetes"],"comments":[{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1613544985,"post_id":66236809,"comment_id":117103820,"body_markdown":"Could you please check this test for `ValidatingWebhookConfiguration` and see if it helps: https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/V1ValidatingWebhookConfigurationTest.java#L133 ?","body":"Could you please check this test for <code>ValidatingWebhookConfiguration</code> and see if it helps: <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/kubernetes-tests/src/test/java/io/fabric8/kubernetes/client/mock/V1ValidatingWebhookConfigurationTest.java#L133\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/blob/master/&hellip;</a> ?"},{"owner":{"account_id":9072945,"reputation":71,"user_id":6755436,"display_name":"Ani"},"score":0,"creation_date":1613626599,"post_id":66236809,"comment_id":117134331,"body_markdown":"Hi Rohan,\n  Thanks for sharing the link. It didn&#39;t give much insight. Basically what i am looking for is when I write a webhook server in java, then what kind of json response is expected by the kube-api-server. If any working example was there then it would have been very helpful.","body":"Hi Rohan,   Thanks for sharing the link. It didn&#39;t give much insight. Basically what i am looking for is when I write a webhook server in java, then what kind of json response is expected by the kube-api-server. If any working example was there then it would have been very helpful."},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1613633824,"post_id":66236809,"comment_id":117136368,"body_markdown":"ohk, Do you want to do the same things as done in this blog but in java : https://docs.giantswarm.io/advanced/custom-admission-controller/ ? If yes, I&#39;ll try to port this to java whenever I get time later today.","body":"ohk, Do you want to do the same things as done in this blog but in java : <a href=\"https://docs.giantswarm.io/advanced/custom-admission-controller/\" rel=\"nofollow noreferrer\">docs.giantswarm.io/advanced/custom-admission-controller</a> ? If yes, I&#39;ll try to port this to java whenever I get time later today."},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1613634034,"post_id":66236809,"comment_id":117136460,"body_markdown":"I think you would need to return `AdmissionResponse` based on the validation you do on the object provided in request body","body":"I think you would need to return <code>AdmissionResponse</code> based on the validation you do on the object provided in request body"},{"owner":{"account_id":9072945,"reputation":71,"user_id":6755436,"display_name":"Ani"},"score":0,"creation_date":1616050882,"post_id":66236809,"comment_id":117882699,"body_markdown":"I found this link helpful, Thanks soukron\nhttps://github.com/soukron/openshift-admission-webhooks","body":"I found this link helpful, Thanks soukron <a href=\"https://github.com/soukron/openshift-admission-webhooks\" rel=\"nofollow noreferrer\">github.com/soukron/openshift-admission-webhooks</a>"},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1616056151,"post_id":66236809,"comment_id":117884675,"body_markdown":"Above link is in Javascript not Java. Do you have any plans to write a blogpost about this? I was trying to port this but somehow ValidatingWebhookConfiguration weren&#39;t working in my case","body":"Above link is in Javascript not Java. Do you have any plans to write a blogpost about this? I was trying to port this but somehow ValidatingWebhookConfiguration weren&#39;t working in my case"}],"answers":[{"tags":[],"owner":{"account_id":382395,"reputation":1179,"user_id":737591,"accept_rate":60,"display_name":"csviri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655812224,"creation_date":1655811747,"answer_id":72700149,"question_id":66236809,"body_markdown":"It is in early phases but this a microframework for writing admission controllers in java, but already nicely usable.\r\n\r\nhttps://github.com/java-operator-sdk/admission-controller-framework\r\n\r\nBut should be fairly simply from scratch using fabrci8 client as mentione in comments.","title":"Kubernetes java admission controller","body":"<p>It is in early phases but this a microframework for writing admission controllers in java, but already nicely usable.</p>\n<p><a href=\"https://github.com/java-operator-sdk/admission-controller-framework\" rel=\"nofollow noreferrer\">https://github.com/java-operator-sdk/admission-controller-framework</a></p>\n<p>But should be fairly simply from scratch using fabrci8 client as mentione in comments.</p>\n"}],"owner":{"account_id":9072945,"reputation":71,"user_id":6755436,"display_name":"Ani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655812224,"creation_date":1613543637,"question_id":66236809,"body_markdown":"Is it possible to create webhook server for kubernetes admission controller using java. That is webhook server will be a java rest api endpoint which will be called from ValidatingWebhook Configuration.\r\n   Please let me know if there is any sample/example based on java which I refer.\r\n\r\nThanks in advance\r\n","title":"Kubernetes java admission controller","body":"<p>Is it possible to create webhook server for kubernetes admission controller using java. That is webhook server will be a java rest api endpoint which will be called from ValidatingWebhook Configuration.\nPlease let me know if there is any sample/example based on java which I refer.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1655716101,"post_id":72683702,"comment_id":128389278,"body_markdown":"Try setting on your mapper interface\n@Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )","body":"Try setting on your mapper interface @Mapper(nullValuePropertyMappingStrategy = NullValuePropertyMappingStrategy.IGNORE )"},{"owner":{"account_id":16570569,"reputation":65,"user_id":11973836,"display_name":"fjy8018"},"score":1,"creation_date":1655719941,"post_id":72683702,"comment_id":128390508,"body_markdown":"I have tried but to no avail, generating the same result","body":"I have tried but to no avail, generating the same result"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655716311,"creation_date":1655716311,"answer_id":72684694,"question_id":72683702,"body_markdown":"brute force... it&#39;s a simple class, so create a custom mapper\r\n\r\n    @Mapper\r\n    public interface AgentInfoMapper {\r\n    \r\n        @Named(&quot;AgentInfoNullIfContentsNull&quot;)\r\n        public static AgentInfo custom(WealthProdAccountInfoDTO dto) {\r\n            if ( wealthProdAccountInfoDTO == null ) {\r\n                return null;\r\n            }\r\n            if (agentName == null &amp;&amp; agentIdentityType == null &amp;&amp; agentIdentityNo == null &amp;&amp; agentIdentityExpireAt == null) {\r\n                return null;\r\n            }\r\n            // mapping code\r\n        }\r\n    }\r\n\r\nhttps://www.baeldung.com/mapstruct-custom-mapper","title":"How to configurate mapstruct to ignore map object when all field are null","body":"<p>brute force... it's a simple class, so create a custom mapper</p>\n<pre><code>@Mapper\npublic interface AgentInfoMapper {\n\n    @Named(&quot;AgentInfoNullIfContentsNull&quot;)\n    public static AgentInfo custom(WealthProdAccountInfoDTO dto) {\n        if ( wealthProdAccountInfoDTO == null ) {\n            return null;\n        }\n        if (agentName == null &amp;&amp; agentIdentityType == null &amp;&amp; agentIdentityNo == null &amp;&amp; agentIdentityExpireAt == null) {\n            return null;\n        }\n        // mapping code\n    }\n}\n</code></pre>\n<p><a href=\"https://www.baeldung.com/mapstruct-custom-mapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct-custom-mapper</a></p>\n"},{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655812075,"creation_date":1655722147,"answer_id":72685949,"question_id":72683702,"body_markdown":"Unfortunately there&#39;s no clean solution for your problem, except implementing code for null check by yourself, Marc specified the right approach to your problem (I&#39;d go with it personally or would use default method for the same purpose).\r\n\r\nI can add some workarounds, which will only work if mapping target is inner object: \r\n\r\n 1. Use `@BeforeMapping` to set input inner object to null, so when there will be null-check it will be skipped\r\n    ```\r\n        @BeforeMapping\r\n    default void clearData(TestB source, @MappingTarget TestA target) {\r\n        TestD innerD = source.getInnerD();\r\n        if (innerD.getSecond() == null &amp;&amp; innerD.getFirst() == null) {\r\n            source.setInnerD(null);\r\n        }\r\n    }\r\n    ```\r\n\r\n    And it will generate the following code:\r\n    ```\r\n        @Override\r\n    public TestA from(TestB input) {\r\n        ....\r\n\r\n        clearData( input, testA ); //set input field to null\r\n        testA.setInnerC( fromInner( input.getInnerD() ) );\r\n\r\n        ....\r\n    }\r\n\r\n    @Override\r\n    public TestC fromInner(TestD input) {\r\n        if ( input == null ) { //skip because of null\r\n            return null;\r\n        }\r\n        ....\r\n    }\r\n    ```\r\n\r\n 2. Use `@AfterMapper` to set output parameter to null(it will be mapped in the first place, so there will be some overhead)\r\n    ```\r\n    @AfterMapping\r\n    default void clearData(TestB source, @MappingTarget TestA target) {\r\n        TestD innerD = source.getInnerD();\r\n        if (innerD.getSecond() == null &amp;&amp; innerD.getFirst() == null) {\r\n            target.setInnerC(null);\r\n        }\r\n    }\r\n    ```\r\n    And generated code will be:\r\n    ```\r\n        @Override\r\n    public TestA from(TestB input) {\r\n        ....\r\n\r\n        testA.setInnerC( fromInner( input.getInnerD() ) ); //field is actually mapped but cleared later\r\n        clearData( input, testA );\r\n\r\n        return testA;\r\n    }\r\n    ```\r\n\r\nAs I said, these solutions aren&#39;t really clean and should be seen as workarounds only. Pros of these workaround is that you will keep working with autogenerated code and these hacks will be hidden inside that code.\r\n\r\n\r\n**UPD** Stumbled upon `@DecoratedWith` lately and it also can do the trick. https://mapstruct.org/documentation/stable/reference/html/#_customizing_mappings\r\n\r\nJust implement decorator for iterable2iterable mapping method: `List&lt;A&gt; from(List&lt;b&gt; b)` and just manually iterate over b checking if all b&#39;s fields are null and if so skip it","title":"How to configurate mapstruct to ignore map object when all field are null","body":"<p>Unfortunately there's no clean solution for your problem, except implementing code for null check by yourself, Marc specified the right approach to your problem (I'd go with it personally or would use default method for the same purpose).</p>\n<p>I can add some workarounds, which will only work if mapping target is inner object:</p>\n<ol>\n<li><p>Use <code>@BeforeMapping</code> to set input inner object to null, so when there will be null-check it will be skipped</p>\n<pre><code>    @BeforeMapping\ndefault void clearData(TestB source, @MappingTarget TestA target) {\n    TestD innerD = source.getInnerD();\n    if (innerD.getSecond() == null &amp;&amp; innerD.getFirst() == null) {\n        source.setInnerD(null);\n    }\n}\n</code></pre>\n<p>And it will generate the following code:</p>\n<pre><code>    @Override\npublic TestA from(TestB input) {\n    ....\n\n    clearData( input, testA ); //set input field to null\n    testA.setInnerC( fromInner( input.getInnerD() ) );\n\n    ....\n}\n\n@Override\npublic TestC fromInner(TestD input) {\n    if ( input == null ) { //skip because of null\n        return null;\n    }\n    ....\n}\n</code></pre>\n</li>\n<li><p>Use <code>@AfterMapper</code> to set output parameter to null(it will be mapped in the first place, so there will be some overhead)</p>\n<pre><code>@AfterMapping\ndefault void clearData(TestB source, @MappingTarget TestA target) {\n    TestD innerD = source.getInnerD();\n    if (innerD.getSecond() == null &amp;&amp; innerD.getFirst() == null) {\n        target.setInnerC(null);\n    }\n}\n</code></pre>\n<p>And generated code will be:</p>\n<pre><code>    @Override\npublic TestA from(TestB input) {\n    ....\n\n    testA.setInnerC( fromInner( input.getInnerD() ) ); //field is actually mapped but cleared later\n    clearData( input, testA );\n\n    return testA;\n}\n</code></pre>\n</li>\n</ol>\n<p>As I said, these solutions aren't really clean and should be seen as workarounds only. Pros of these workaround is that you will keep working with autogenerated code and these hacks will be hidden inside that code.</p>\n<p><strong>UPD</strong> Stumbled upon <code>@DecoratedWith</code> lately and it also can do the trick. <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_customizing_mappings\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#_customizing_mappings</a></p>\n<p>Just implement decorator for iterable2iterable mapping method: <code>List&lt;A&gt; from(List&lt;b&gt; b)</code> and just manually iterate over b checking if all b's fields are null and if so skip it</p>\n"},{"tags":[],"owner":{"account_id":16570569,"reputation":65,"user_id":11973836,"display_name":"fjy8018"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655773276,"creation_date":1655773276,"answer_id":72694316,"question_id":72683702,"body_markdown":"Thanks to ArtemAgaev&#39;s idea, I ended up considering using `@AfterMapping` and java reflection for this type of scenario\r\n\r\n```java\r\n    @AfterMapping\r\n    default void cleanData(@MappingTarget AccountInfoDomain domain) {\r\n        Optional.ofNullable(domain).ifPresent(c -&gt; {\r\n            if (isAllFieldNull(domain.getAgentInfo())) {\r\n                domain.setAgentInfo(null);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static boolean isAllFieldNull(Object o) {\r\n\t\tObject[] fieldsValue = getFieldsValue(o);\r\n\t\treturn Optional.ofNullable(fieldsValue).map(f -&gt; Arrays.stream(f).allMatch(Objects::isNull)).orElse(true);\r\n\t}\r\n\r\n    public static Object[] getFieldsValue(Object obj) {\r\n\t\tif (null != obj) {\r\n\t\t\tfinal Field[] fields = getFields(obj instanceof Class ? (Class&lt;?&gt;) obj : obj.getClass());\r\n\t\t\tif (null != fields) {\r\n\t\t\t\tfinal Object[] values = new Object[fields.length];\r\n\t\t\t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n\t\t\t\t\tvalues[i] = getFieldValue(obj, fields[i]);\r\n\t\t\t\t}\r\n\t\t\t\treturn values;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n```","title":"How to configurate mapstruct to ignore map object when all field are null","body":"<p>Thanks to ArtemAgaev's idea, I ended up considering using <code>@AfterMapping</code> and java reflection for this type of scenario</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @AfterMapping\n    default void cleanData(@MappingTarget AccountInfoDomain domain) {\n        Optional.ofNullable(domain).ifPresent(c -&gt; {\n            if (isAllFieldNull(domain.getAgentInfo())) {\n                domain.setAgentInfo(null);\n            }\n        });\n    }\n\n    public static boolean isAllFieldNull(Object o) {\n        Object[] fieldsValue = getFieldsValue(o);\n        return Optional.ofNullable(fieldsValue).map(f -&gt; Arrays.stream(f).allMatch(Objects::isNull)).orElse(true);\n    }\n\n    public static Object[] getFieldsValue(Object obj) {\n        if (null != obj) {\n            final Field[] fields = getFields(obj instanceof Class ? (Class&lt;?&gt;) obj : obj.getClass());\n            if (null != fields) {\n                final Object[] values = new Object[fields.length];\n                for (int i = 0; i &lt; fields.length; i++) {\n                    values[i] = getFieldValue(obj, fields[i]);\n                }\n                return values;\n            }\n        }\n        return null;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":16570569,"reputation":65,"user_id":11973836,"display_name":"fjy8018"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2773,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72694316,"answer_count":3,"score":2,"last_activity_date":1655812075,"creation_date":1655710773,"question_id":72683702,"body_markdown":"env: \r\n- jdk: 17.0.1\r\n- mapstruct: 1.5.1.Final\r\n\r\nUsing the default configuration I generated the following code\r\n\r\n```java\r\n        protected AgentInfo wealthProdAccountInfoDTOToAgentInfo(WealthProdAccountInfoDTO wealthProdAccountInfoDTO) {\r\n        if ( wealthProdAccountInfoDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        String agentName = null;\r\n        String agentIdentityType = null;\r\n        String agentIdentityNo = null;\r\n        String agentIdentityExpireAt = null;\r\n\r\n        agentName = wealthProdAccountInfoDTO.getAgentName();\r\n        agentIdentityType = wealthProdAccountInfoDTO.getAgentIdentityType();\r\n        agentIdentityNo = wealthProdAccountInfoDTO.getAgentIdentityNo();\r\n        agentIdentityExpireAt = wealthProdAccountInfoDTO.getAgentIdentityExpireAt();\r\n\r\n        AgentInfo agentInfo = new AgentInfo( agentName, agentIdentityType, agentIdentityNo, agentIdentityExpireAt );\r\n\r\n        return agentInfo;\r\n    }\r\n```\r\n\r\nBut I want to return null when all field of source are null, like this\r\n\r\n```java\r\n    protected AgentInfo wealthProdAccountInfoDTOToAgentInfo(WealthProdAccountInfoDTO wealthProdAccountInfoDTO) {\r\n        if ( wealthProdAccountInfoDTO == null ) {\r\n            return null;\r\n        }\r\n        // add check logic\r\n        if (agentName == null &amp;&amp; agentIdentityType == null &amp;&amp; agentIdentityNo == null &amp;&amp; agentIdentityExpireAt == null) {\r\n        \treturn null;\r\n        }\r\n\r\n        String agentName = null;\r\n        String agentIdentityType = null;\r\n        String agentIdentityNo = null;\r\n        String agentIdentityExpireAt = null;\r\n\r\n        agentName = wealthProdAccountInfoDTO.getAgentName();\r\n        agentIdentityType = wealthProdAccountInfoDTO.getAgentIdentityType();\r\n        agentIdentityNo = wealthProdAccountInfoDTO.getAgentIdentityNo();\r\n        agentIdentityExpireAt = wealthProdAccountInfoDTO.getAgentIdentityExpireAt();\r\n\r\n        AgentInfo agentInfo = new AgentInfo( agentName, agentIdentityType, agentIdentityNo, agentIdentityExpireAt );\r\n\r\n        return agentInfo;\r\n    }\r\n```\r\n\r\nhow should I configure it?","title":"How to configurate mapstruct to ignore map object when all field are null","body":"<p>env:</p>\n<ul>\n<li>jdk: 17.0.1</li>\n<li>mapstruct: 1.5.1.Final</li>\n</ul>\n<p>Using the default configuration I generated the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>        protected AgentInfo wealthProdAccountInfoDTOToAgentInfo(WealthProdAccountInfoDTO wealthProdAccountInfoDTO) {\n        if ( wealthProdAccountInfoDTO == null ) {\n            return null;\n        }\n\n        String agentName = null;\n        String agentIdentityType = null;\n        String agentIdentityNo = null;\n        String agentIdentityExpireAt = null;\n\n        agentName = wealthProdAccountInfoDTO.getAgentName();\n        agentIdentityType = wealthProdAccountInfoDTO.getAgentIdentityType();\n        agentIdentityNo = wealthProdAccountInfoDTO.getAgentIdentityNo();\n        agentIdentityExpireAt = wealthProdAccountInfoDTO.getAgentIdentityExpireAt();\n\n        AgentInfo agentInfo = new AgentInfo( agentName, agentIdentityType, agentIdentityNo, agentIdentityExpireAt );\n\n        return agentInfo;\n    }\n</code></pre>\n<p>But I want to return null when all field of source are null, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    protected AgentInfo wealthProdAccountInfoDTOToAgentInfo(WealthProdAccountInfoDTO wealthProdAccountInfoDTO) {\n        if ( wealthProdAccountInfoDTO == null ) {\n            return null;\n        }\n        // add check logic\n        if (agentName == null &amp;&amp; agentIdentityType == null &amp;&amp; agentIdentityNo == null &amp;&amp; agentIdentityExpireAt == null) {\n            return null;\n        }\n\n        String agentName = null;\n        String agentIdentityType = null;\n        String agentIdentityNo = null;\n        String agentIdentityExpireAt = null;\n\n        agentName = wealthProdAccountInfoDTO.getAgentName();\n        agentIdentityType = wealthProdAccountInfoDTO.getAgentIdentityType();\n        agentIdentityNo = wealthProdAccountInfoDTO.getAgentIdentityNo();\n        agentIdentityExpireAt = wealthProdAccountInfoDTO.getAgentIdentityExpireAt();\n\n        AgentInfo agentInfo = new AgentInfo( agentName, agentIdentityType, agentIdentityNo, agentIdentityExpireAt );\n\n        return agentInfo;\n    }\n</code></pre>\n<p>how should I configure it?</p>\n"},{"tags":["java","jsf","primefaces"],"comments":[{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1655822039,"post_id":72700213,"comment_id":128419460,"body_markdown":"Break down your problem in smaller problems. Are you sure your update query is working?","body":"Break down your problem in smaller problems. Are you sure your update query is working?"},{"owner":{"account_id":25427997,"reputation":1,"user_id":19232907,"display_name":"Steph af"},"score":0,"creation_date":1655823161,"post_id":72700213,"comment_id":128419936,"body_markdown":"this is the smaller prob i can make there only a small table with 2 columns i cant do more , the query is working well","body":"this is the smaller prob i can make there only a small table with 2 columns i cant do more , the query is working well"},{"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"score":0,"creation_date":1655824920,"post_id":72700213,"comment_id":128420707,"body_markdown":"So the unclosed single quote is fine? If you call `edit` directly from `@PostConstruct` it is working?","body":"So the unclosed single quote is fine? If you call <code>edit</code> directly from <code>@PostConstruct</code> it is working?"},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1655927976,"post_id":72700213,"comment_id":128450978,"body_markdown":"The value doesn&#39;t change on db, on datatable or on both? Do you have any validation, required, etc?","body":"The value doesn&#39;t change on db, on datatable or on both? Do you have any validation, required, etc?"}],"owner":{"account_id":25427997,"reputation":1,"user_id":19232907,"display_name":"Steph af"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655812042,"creation_date":1655812042,"question_id":72700213,"body_markdown":"Hello I am trying to retrieve data from a database and modify it from the web interface\r\nFor the moment I manage to recover data but not to modify it .\r\nIm using Edit table primefaces example :\r\nhttps://www.primefaces.org/showcase/ui/data/datatable/edit.xhtml?jfwid=ab3be\r\nthe example works well for me but I struggle doing the same using my own database \r\n\r\nFor the moment it displays the message &quot;update has done&quot; but the values ​​does not change\r\n\r\nHere my code JSF:\r\n```\r\npublic static void edit(Config f, int id){\r\n    Connection connection = null;\r\n    try {\r\n        DB_connection2 obj_DB_connection = new DB_connection2();\r\n        connection = obj_DB_connection.get_connection();\r\n        PreparedStatement ps = connection.prepareStatement(&quot;update config set description=?,valeur=? where id=&#39;&quot;+id+&quot;&quot;);\r\n        ps.setString(1, f.getDescription());\r\n        ps.setInt(2, f.getValeur());\r\n        ps.executeUpdate();\r\n }catch(Exception e){\r\n     e.printStackTrace();\r\n    }\r\n    }\r\n\r\n\r\n  public void onRowEdit(RowEditEvent&lt;Config&gt; event) {\r\n    Config f = new Config();\r\n    f.setDescription(String.valueOf(event.getObject().getDescription()));\r\n    f.setValeur((event.getObject().getValeur()));\r\n    \r\n    edit( f, event.getObject().getId());\r\n     FacesMessage msg = new FacesMessage(&quot;Update has done&quot;, String.valueOf(event.getObject().getId()));\r\n     FacesContext.getCurrentInstance().addMessage(null, msg);\r\n    \r\n        \r\n       \r\n    }\r\n```\r\n","title":"How can i use Edit table primefaces correctly?","body":"<p>Hello I am trying to retrieve data from a database and modify it from the web interface\nFor the moment I manage to recover data but not to modify it .\nIm using Edit table primefaces example :\n<a href=\"https://www.primefaces.org/showcase/ui/data/datatable/edit.xhtml?jfwid=ab3be\" rel=\"nofollow noreferrer\">https://www.primefaces.org/showcase/ui/data/datatable/edit.xhtml?jfwid=ab3be</a>\nthe example works well for me but I struggle doing the same using my own database</p>\n<p>For the moment it displays the message &quot;update has done&quot; but the values ​​does not change</p>\n<p>Here my code JSF:</p>\n<pre><code>public static void edit(Config f, int id){\n    Connection connection = null;\n    try {\n        DB_connection2 obj_DB_connection = new DB_connection2();\n        connection = obj_DB_connection.get_connection();\n        PreparedStatement ps = connection.prepareStatement(&quot;update config set description=?,valeur=? where id='&quot;+id+&quot;&quot;);\n        ps.setString(1, f.getDescription());\n        ps.setInt(2, f.getValeur());\n        ps.executeUpdate();\n }catch(Exception e){\n     e.printStackTrace();\n    }\n    }\n\n\n  public void onRowEdit(RowEditEvent&lt;Config&gt; event) {\n    Config f = new Config();\n    f.setDescription(String.valueOf(event.getObject().getDescription()));\n    f.setValeur((event.getObject().getValeur()));\n    \n    edit( f, event.getObject().getId());\n     FacesMessage msg = new FacesMessage(&quot;Update has done&quot;, String.valueOf(event.getObject().getId()));\n     FacesContext.getCurrentInstance().addMessage(null, msg);\n    \n        \n       \n    }\n</code></pre>\n"},{"tags":["java","maven","cucumber","maven-failsafe-plugin","cucumber-serenity"],"answers":[{"tags":[],"owner":{"account_id":20541148,"reputation":1,"user_id":15076043,"display_name":"Dani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655811905,"creation_date":1655811905,"answer_id":72700181,"question_id":72379870,"body_markdown":"The problem seems to be in the @manual tag, probably a bug in the framework. It is fixed by adding &#39;and not @manual&#39; when executing tests.","title":"Serenity + Maven Failsafe ignores tests and adds @Manual tag on them","body":"<p>The problem seems to be in the @manual tag, probably a bug in the framework. It is fixed by adding 'and not @manual' when executing tests.</p>\n"}],"owner":{"account_id":20541148,"reputation":1,"user_id":15076043,"display_name":"Dani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72700181,"answer_count":1,"score":0,"last_activity_date":1655811905,"creation_date":1653490231,"question_id":72379870,"body_markdown":"So basically my problem is Serenity with Cucumber sometimes &#39;ignores&#39; results of tests. Tests seem to be executed on the report, but still result is ignored. Also, on the report, it shows @Manual tag is added, but it is not added in the feature file.\r\nThere is a random number of these tests for each regression, sometimes 2, sometimes 30, and I cannot figure out why that happens. Seems like nobody had the same problem before since I had problems finding topics about this. :$\r\n\r\n[Manual tag added, but in feature file there is no @Manual tag.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kq1BJ.png","title":"Serenity + Maven Failsafe ignores tests and adds @Manual tag on them","body":"<p>So basically my problem is Serenity with Cucumber sometimes 'ignores' results of tests. Tests seem to be executed on the report, but still result is ignored. Also, on the report, it shows @Manual tag is added, but it is not added in the feature file.\nThere is a random number of these tests for each regression, sometimes 2, sometimes 30, and I cannot figure out why that happens. Seems like nobody had the same problem before since I had problems finding topics about this. :$</p>\n<p><a href=\"https://i.stack.imgur.com/kq1BJ.png\" rel=\"nofollow noreferrer\">Manual tag added, but in feature file there is no @Manual tag.</a></p>\n"},{"tags":["java","network-programming","dnsjava"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1655811535,"post_id":72700071,"comment_id":128415023,"body_markdown":"How do you expect this to work considering that multiple domain names can point to the same IP address?","body":"How do you expect this to work considering that multiple domain names can point to the same IP address?"},{"owner":{"account_id":5500267,"reputation":686,"user_id":4369820,"accept_rate":0,"display_name":"Satya Prakash"},"score":0,"creation_date":1655815864,"post_id":72700071,"comment_id":128416720,"body_markdown":"@OHGODSPIDERS - i know in that case we need multiple domains !","body":"@OHGODSPIDERS - i know in that case we need multiple domains !"},{"owner":{"account_id":5500267,"reputation":686,"user_id":4369820,"accept_rate":0,"display_name":"Satya Prakash"},"score":0,"creation_date":1655815940,"post_id":72700071,"comment_id":128416751,"body_markdown":"InetAddress[] machines = InetAddress.getAllByName(&quot;google.com&quot;);\n\nfor(InetAddress address : machines) {\n\tif(address!=null) {\n\t\tif (address instanceof Inet4Address) {\n\t\t\tif(!StringUtils.isEmpty(address.getHostAddress()))\n\t\t\t\tSystem.out.println(address.getHostAddress());\n\t\t}\n\t}\n}","body":"InetAddress[] machines = InetAddress.getAllByName(&quot;google.com&quot;);  for(InetAddress address : machines) { \tif(address!=null) { \t\tif (address instanceof Inet4Address) { \t\t\tif(!StringUtils.isEmpty(address.getHostAddress())) \t\t\t\tSystem.out.println(address.getHostAddress()); \t\t} \t} }"}],"owner":{"account_id":5500267,"reputation":686,"user_id":4369820,"accept_rate":0,"display_name":"Satya Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655811370,"creation_date":1655811370,"question_id":72700071,"body_markdown":"How do I convert the IP to domain name (not hostname) in java?\r\n\r\nC:\\WINDOWS\\system32&gt;ping google.com\r\nPinging google.com [142.251.42.78] with 32 bytes of data:\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\t System.out.println(&quot;Response : &quot;+ new RestTemplate().execute(&quot;http://142.251.42.78:8080&quot;, HttpMethod.GET, null, null, &quot;&quot;).toString());\r\n\t    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\r\n\r\n\t\tSystem.out.println(&quot;\\n--------------\\n&quot;);\r\n\r\n\t\ttry {\r\n\t\t\t System.out.println(&quot;Response : &quot;+ new RestTemplate().execute(&quot;https://142.251.42.78:443&quot;, HttpMethod.GET, null, null, &quot;&quot;).toString());\r\n\t    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\r\n\t\t\r\n\t\tSystem.out.println(&quot;\\n--------------\\n&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\t byte[] ipAddr = new byte[] {(byte) 142, (byte)251, (byte) 42, (byte) 78 };\r\n\t\t\t InetAddress addr = InetAddress.getByAddress(ipAddr);\r\n\t\t\t System.out.println(addr.getCanonicalHostName());\r\n\t\t\t System.out.println(addr.getHostAddress());\r\n\t\t\t System.out.println(addr.getHostName());\r\n\t\t\t System.out.println(addr.getLocalHost());\r\n\t\t\t System.out.println(addr.getLoopbackAddress());\r\n\t\t\t    \r\n\t    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\r\n\t}\r\n\r\n\r\nOutput: \r\n\r\n17:00:33.324 [main] DEBUG org.springframework.web.client.RestTemplate - Created GET request for &quot;http://142.251.42.78:8080&quot;\r\n\r\n\r\nError : I/O error on GET request for &quot;http://142.251.42.78:8080&quot;: Connection timed out: connect; nested exception is java.net.ConnectException: Connection timed out: connect\r\n\r\n--------------\r\n\r\n17:00:54.773 [main] DEBUG org.springframework.web.client.RestTemplate - Created GET request for &quot;https://142.251.42.78:443&quot;\r\nError : I/O error on GET request for &quot;https://142.251.42.78:443&quot;: java.security.cert.CertificateException: No subject alternative names matching IP address 142.251.42.78 found; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 142.251.42.78 found\r\n\r\n--------------\r\n\r\nbom12s21-in-f14.1e100.net\r\n142.251.42.78\r\nbom12s21-in-f14.1e100.net\r\n***L000**/192.168.0.149\r\nlocalhost/127.0.0.1\r\n","title":"How do I convert the IP to domain name (not hostname) in java?","body":"<p>How do I convert the IP to domain name (not hostname) in java?</p>\n<p>C:\\WINDOWS\\system32&gt;ping google.com\nPinging google.com [142.251.42.78] with 32 bytes of data:</p>\n<pre><code>public static void main(String[] args) {\n    \n    try {\n         System.out.println(&quot;Response : &quot;+ new RestTemplate().execute(&quot;http://142.251.42.78:8080&quot;, HttpMethod.GET, null, null, &quot;&quot;).toString());\n    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\n\n    System.out.println(&quot;\\n--------------\\n&quot;);\n\n    try {\n         System.out.println(&quot;Response : &quot;+ new RestTemplate().execute(&quot;https://142.251.42.78:443&quot;, HttpMethod.GET, null, null, &quot;&quot;).toString());\n    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\n    \n    System.out.println(&quot;\\n--------------\\n&quot;);\n    \n    try {\n         byte[] ipAddr = new byte[] {(byte) 142, (byte)251, (byte) 42, (byte) 78 };\n         InetAddress addr = InetAddress.getByAddress(ipAddr);\n         System.out.println(addr.getCanonicalHostName());\n         System.out.println(addr.getHostAddress());\n         System.out.println(addr.getHostName());\n         System.out.println(addr.getLocalHost());\n         System.out.println(addr.getLoopbackAddress());\n            \n    } catch (Exception e ) {System.out.println(&quot;Error : &quot;+e.getMessage());}\n}\n</code></pre>\n<p>Output:</p>\n<p>17:00:33.324 [main] DEBUG org.springframework.web.client.RestTemplate - Created GET request for &quot;http://142.251.42.78:8080&quot;</p>\n<p>Error : I/O error on GET request for &quot;http://142.251.42.78:8080&quot;: Connection timed out: connect; nested exception is java.net.ConnectException: Connection timed out: connect</p>\n<hr />\n<p>17:00:54.773 [main] DEBUG org.springframework.web.client.RestTemplate - Created GET request for &quot;https://142.251.42.78:443&quot;\nError : I/O error on GET request for &quot;https://142.251.42.78:443&quot;: java.security.cert.CertificateException: No subject alternative names matching IP address 142.251.42.78 found; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names matching IP address 142.251.42.78 found</p>\n<hr />\n<p>bom12s21-in-f14.1e100.net\n142.251.42.78\nbom12s21-in-f14.1e100.net\n*<strong>L000</strong>/192.168.0.149\nlocalhost/127.0.0.1</p>\n"},{"tags":["java","testing","input","junit","mocking"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1655812263,"post_id":72700063,"comment_id":128415309,"body_markdown":"Clearly `methodThatRequiresInput()` wants to read more data than what you mock-stuff into your MockInOut - for example, it wants more than `firstLineInput`, `secondLineInput`, and `thirdLineInput`. Perhaps it wants a 4th line. Debug your code (step through it, or add a bunch of sysout statements if you don&#39;t want to learn how to use a debugger), and figure out why. You didn&#39;t paste the body of methodThatRequiresInput, hence, this question cannot be answered in sufficient detail for SO. Vote-to-close.","body":"Clearly <code>methodThatRequiresInput()</code> wants to read more data than what you mock-stuff into your MockInOut - for example, it wants more than <code>firstLineInput</code>, <code>secondLineInput</code>, and <code>thirdLineInput</code>. Perhaps it wants a 4th line. Debug your code (step through it, or add a bunch of sysout statements if you don&#39;t want to learn how to use a debugger), and figure out why. You didn&#39;t paste the body of methodThatRequiresInput, hence, this question cannot be answered in sufficient detail for SO. Vote-to-close."},{"owner":{"account_id":12726548,"reputation":45,"user_id":9244885,"display_name":"devOn"},"score":0,"creation_date":1655812503,"post_id":72700063,"comment_id":128415414,"body_markdown":"No, i verified and debugged several times and the inputs are all right, even because the single tests pass when they are executed alone. Yeah, i&#39;d like to post the code of the method, but it doesnt add much more: it just produce an object with characteristics dependencing on the input strings.","body":"No, i verified and debugged several times and the inputs are all right, even because the single tests pass when they are executed alone. Yeah, i&#39;d like to post the code of the method, but it doesnt add much more: it just produce an object with characteristics dependencing on the input strings."},{"owner":{"account_id":12726548,"reputation":45,"user_id":9244885,"display_name":"devOn"},"score":0,"creation_date":1655812532,"post_id":72700063,"comment_id":128415427,"body_markdown":"The exception also is always thrown on the first line input","body":"The exception also is always thrown on the first line input"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1655812674,"post_id":72700063,"comment_id":128415483,"body_markdown":"So your theory is: Java is bugged? Or: Please debug this mehod that I didn&#39;t paste in SO. Come on, walk a mile in the shoes of someone who might answer this question and think about what they&#39;d need. There are various methods in scanner that look for a specific kind of thing and will keep scanning until then, that would for example explain it. That and a million more things.","body":"So your theory is: Java is bugged? Or: Please debug this mehod that I didn&#39;t paste in SO. Come on, walk a mile in the shoes of someone who might answer this question and think about what they&#39;d need. There are various methods in scanner that look for a specific kind of thing and will keep scanning until then, that would for example explain it. That and a million more things."}],"owner":{"account_id":12726548,"reputation":45,"user_id":9244885,"display_name":"devOn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655811334,"creation_date":1655811334,"question_id":72700063,"body_markdown":"I have a class with several tests, which if run alone pass. Instead, if I run the entire test class, only one passes.\r\n\r\nI am testing if the output (ie a String) is equal to an expected String. The output is produced by a method, which requires user keyboard input. In each test, I mock the user input with the following class:\r\n```\r\nimport java.io.*;\r\nimport java.nio.charset.Charset;\r\n\r\npublic class MockInOut {\r\n    private PrintStream orig;\r\n    private InputStream irig;\r\n    private ByteArrayOutputStream os;\r\n    private ByteArrayInputStream is;\r\n\r\n    private final static Charset charset = Charset.defaultCharset();\r\n\r\n    public MockInOut(String input) {\r\n        orig = System.out;\r\n        irig = System.in;\r\n\r\n        os = new ByteArrayOutputStream();\r\n        try {\r\n            System.setOut(new PrintStream(os, false, charset.name()));\r\n        } catch (UnsupportedEncodingException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n\r\n        is = new ByteArrayInputStream(input.getBytes());\r\n        System.setIn(is);\r\n    }\r\n\r\n    /**\r\n     * Returns everything written to System.out since this {@code MockInOut} was\r\n     * constructed. Can&#39;t be called on a closed {@code MockInOut}\r\n     */\r\n    public String getOutput() {\r\n        if (os != null) {\r\n            try {\r\n                return os.toString(charset.name()).replace(&quot;\\r\\n&quot;, &quot;\\n&quot;);\r\n            } catch (UnsupportedEncodingException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        } else {\r\n            throw new Error(&quot;getOutput on closed MockInOut!&quot;);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Restores System.in and System.out\r\n     */\r\n    public void close() {\r\n        os = null;\r\n        is = null;\r\n        System.setOut(orig);\r\n        System.setIn(irig);\r\n    }\r\n}\r\n\r\n```\r\nEach test is structured as follows:\r\n```\r\n@Test\r\nMyClassForConstructor myclassfc = new MyClassForConstructor();\r\nMyClass myclass = new MyClass(myclassfc);\r\n\r\nMockInOut userkeyboardinput = new MockInOut(&quot;firstLineInput\\nsecondLineInput\\nthirdLineInput\\n&quot;);\r\n\r\nMyObject myobToGetTested = myclass.methodThatRequiresInput();\r\n\r\nMyObject myobExpected = new MyObject(String par1, String par2, String par3);\r\n\r\nassertEquals(myobExpected.toString(), myobToGetTested.toString());\r\n\r\nuserkeyboardinput.close();\r\n```\r\n\r\nEach test has the same structure and what it changes is the keyboard input and the parameters to create the expected object.\r\n\r\nEvery test throws a NoSuchElementException at Scanner.throwFor() because needInput = false, at Scanner.next(), except for one test (always the same, but which has no explicit difference with the others: in the test that passes, I saw that needInput is set true, but I don&#39;t know the reason).\r\n\r\nI really don&#39;t know what else could be done, thanks for everybody who will help!\r\n","title":"Scanner.throwFor() with mocked input and output","body":"<p>I have a class with several tests, which if run alone pass. Instead, if I run the entire test class, only one passes.</p>\n<p>I am testing if the output (ie a String) is equal to an expected String. The output is produced by a method, which requires user keyboard input. In each test, I mock the user input with the following class:</p>\n<pre><code>import java.io.*;\nimport java.nio.charset.Charset;\n\npublic class MockInOut {\n    private PrintStream orig;\n    private InputStream irig;\n    private ByteArrayOutputStream os;\n    private ByteArrayInputStream is;\n\n    private final static Charset charset = Charset.defaultCharset();\n\n    public MockInOut(String input) {\n        orig = System.out;\n        irig = System.in;\n\n        os = new ByteArrayOutputStream();\n        try {\n            System.setOut(new PrintStream(os, false, charset.name()));\n        } catch (UnsupportedEncodingException ex) {\n            throw new RuntimeException(ex);\n        }\n\n        is = new ByteArrayInputStream(input.getBytes());\n        System.setIn(is);\n    }\n\n    /**\n     * Returns everything written to System.out since this {@code MockInOut} was\n     * constructed. Can't be called on a closed {@code MockInOut}\n     */\n    public String getOutput() {\n        if (os != null) {\n            try {\n                return os.toString(charset.name()).replace(&quot;\\r\\n&quot;, &quot;\\n&quot;);\n            } catch (UnsupportedEncodingException ex) {\n                throw new RuntimeException(ex);\n            }\n        } else {\n            throw new Error(&quot;getOutput on closed MockInOut!&quot;);\n        }\n    }\n\n    /**\n     * Restores System.in and System.out\n     */\n    public void close() {\n        os = null;\n        is = null;\n        System.setOut(orig);\n        System.setIn(irig);\n    }\n}\n\n</code></pre>\n<p>Each test is structured as follows:</p>\n<pre><code>@Test\nMyClassForConstructor myclassfc = new MyClassForConstructor();\nMyClass myclass = new MyClass(myclassfc);\n\nMockInOut userkeyboardinput = new MockInOut(&quot;firstLineInput\\nsecondLineInput\\nthirdLineInput\\n&quot;);\n\nMyObject myobToGetTested = myclass.methodThatRequiresInput();\n\nMyObject myobExpected = new MyObject(String par1, String par2, String par3);\n\nassertEquals(myobExpected.toString(), myobToGetTested.toString());\n\nuserkeyboardinput.close();\n</code></pre>\n<p>Each test has the same structure and what it changes is the keyboard input and the parameters to create the expected object.</p>\n<p>Every test throws a NoSuchElementException at Scanner.throwFor() because needInput = false, at Scanner.next(), except for one test (always the same, but which has no explicit difference with the others: in the test that passes, I saw that needInput is set true, but I don't know the reason).</p>\n<p>I really don't know what else could be done, thanks for everybody who will help!</p>\n"},{"tags":["java","hyperledger","hyperledger-fabric-sdk-java"],"answers":[{"tags":[],"owner":{"account_id":3543674,"reputation":49,"user_id":2960174,"display_name":"user2960174"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622804085,"creation_date":1622803405,"answer_id":67835878,"question_id":67822220,"body_markdown":"The problem was from Eclipse IDE: when copy pasting the PEM certificate from connection.json[&quot;certificateAuthorities&quot;][adr][&quot;tlsCACerts&quot;][&quot;pem&quot;] Eclipse escaped the newline char, so &quot;\\n&quot; became &quot;\\\\\\\\n&quot;. So to summarise the Java enrolment works with the PEM certificate taken from connection.json[&quot;certificateAuthorities&quot;][adr][&quot;tlsCACerts&quot;][&quot;pem&quot;]; The sample file EnrollAdmin.java ( [https://github.com/hyperledger/fabric-samples/blob/1cd71fd26a867efcb0577e02fa42a48a3203ec51/asset-transfer-basic/application-java/src/main/java/application/java/EnrollAdmin.java][1] ) shows how to import the wallet once the Admin user is successfully enrolled.\r\n\r\n\r\n  [1]: https://github.com/hyperledger/fabric-samples/blob/1cd71fd26a867efcb0577e02fa42a48a3203ec51/asset-transfer-basic/application-java/src/main/java/application/java/EnrollAdmin.java","title":"How to get file-system wallet to use with the fabric-gateway-java sample","body":"<p>The problem was from Eclipse IDE: when copy pasting the PEM certificate from connection.json[&quot;certificateAuthorities&quot;][adr][&quot;tlsCACerts&quot;][&quot;pem&quot;] Eclipse escaped the newline char, so &quot;\\n&quot; became &quot;\\\\n&quot;. So to summarise the Java enrolment works with the PEM certificate taken from connection.json[&quot;certificateAuthorities&quot;][adr][&quot;tlsCACerts&quot;][&quot;pem&quot;]; The sample file EnrollAdmin.java ( <a href=\"https://github.com/hyperledger/fabric-samples/blob/1cd71fd26a867efcb0577e02fa42a48a3203ec51/asset-transfer-basic/application-java/src/main/java/application/java/EnrollAdmin.java\" rel=\"nofollow noreferrer\">https://github.com/hyperledger/fabric-samples/blob/1cd71fd26a867efcb0577e02fa42a48a3203ec51/asset-transfer-basic/application-java/src/main/java/application/java/EnrollAdmin.java</a> ) shows how to import the wallet once the Admin user is successfully enrolled.</p>\n"}],"owner":{"account_id":3543674,"reputation":49,"user_id":2960174,"display_name":"user2960174"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655810453,"creation_date":1622726213,"question_id":67822220,"body_markdown":"I have a blockchain deployed on IBM cloud. I implemented a Node.js client app that enrolls the Admin user for MyOrg and imports a wallet locally on the file system. Once the wallet is imported I can submit transactions on the chaincode to upload data in the ledger and evaluate transactions to query the ledger. Everything is working with the Node.js client.\r\n\r\nI now want to implement a similar Hyperledger client in Java. The fabric-gateway sample at https://hyperledger.github.io/fabric-gateway-java/ is very similar to the Node.js code for uploading and querying the ledger. Comparing the basic Node.js code below with the Java gateway sample code, there is a clear correspondence between the Node.js and Java classes used (both have classes with similar methods for Gateway, Network, Contract):\r\n\r\n    // Node.js code\r\n    // Create a new gateway, and connect to the gateway peer node(s). \r\n    gateway = new Gateway();\r\n    await gateway.connect(ccp, { wallet: wallet, identity: OrgAdmin, discovery: {&quot;enabled&quot;: true, &quot;asLocalhost&quot;:false }});\r\n    \r\n    // Get the network channel that the smart contract is deployed to.\r\n    let network = await gateway.getNetwork(&#39;mychannel&#39;);\r\n    \r\n    // Get the smart contract from the network channel.\r\n    let contract = network.getContract(&#39;mycontract&#39;);\r\n    \r\n    // submit transaction to add data in the ledger\r\n    await contract.submitTransaction(&#39;txName&#39;, txParam1, txParam2);\r\n    \r\n    // query the ledger\r\n    let queryResult = await contract.evaluateTransaction(&#39;queryTx&#39;, queryStr);\r\n\r\nThe problem is that the Java gateway sample assumes there is already a wallet available locally and does not show how to create the wallet. I tried using the wallet directory imported by the Node.js client with the Java gateway sample but it does not work. It throws an exception when calling the .identity() method below (saying the identity specified &quot;MyOrg_Admin&quot; does not exist):\r\n\r\n// Configure the gateway connection used to access the network.\r\nGateway.Builder builder = Gateway.createBuilder()\r\n        .identity(wallet, &quot;MyOrg_Admin&quot;)\r\n        .networkConfig(networkConfigFile);\r\n\r\nI tried using the lower-level fabric-sdk-java classes to create the wallet. Below is the Node.js code to enroll the Admin user for MyOrg and import the wallet locally:\r\n\r\n    async function enrollOrgAdmin(aOrgName, aOrgCAUrl, aWalletFilePath)\r\n    {\r\n      try\r\n      {\r\n        // Create a new CA client for interacting with the CA.\r\n        const ca = new FabricCAServices(aOrgCAUrl);\r\n    \r\n        // Create a new file system based wallet for managing identities.\r\n        const wallet = new FileSystemWallet(aWalletFilePath);\r\n    \r\n        // Enroll the admin user, and import the new identity into the wallet.\r\n        const enrollment = await ca.enroll({ enrollmentID: OrgAdmin, enrollmentSecret: OrgAdminPasswd });\r\n        const identity = X509WalletMixin.createIdentity(aOrgName, enrollment.certificate, enrollment.key.toBytes());\r\n        await wallet.import(OrgAdmin, identity);\r\n      }\r\n      catch(error)\r\n      {\r\n        console.error(`Failed to enroll &quot;${OrgAdmin}&quot;: ${error}`);\r\n        process.exit(1);\r\n      }\r\n    }\r\n\r\nThe only information needed is the OrgCA URL and organization name (both available from parsing the connection.json file) and the organization Admin username and password (which you just have to know). It seems that the corresponding Java class for FabricCAServices is HFCAClient. Googling for code samples using this class the most useful link is the one below (besides the unit tests of the fabric-sdk-java source code):\r\nhttps://developer.ibm.com/technologies/blockchain/tutorials/hyperledger-fabric-java-sdk-for-tls-enabled-fabric-network/\r\n\r\nMy Java code to enroll the Admin user (the 1st step in importing the wallet):\r\n\r\n    String pemStr = &quot;copy-pasted from connection.json[&#39;certificateAuthorities&#39;][adr][&#39;tlsCACerts&#39;][&#39;pem&#39;]&quot;;\r\n    Properties caProperties = new Properties();\r\n    caProperties.put(&quot;pemBytes&quot;, pemStr.getBytes());\r\n    \t\r\n    try\r\n    {\r\n        // caName and caUrl copy-pasted from connection.json[&#39;certificateAuthorities&#39;][adr][&#39;caName&#39;] and [&#39;url&#39;]\r\n        HFCAClient ca = HFCAClient.createNewInstance(caName, caUrl, caProperties);\r\n        CryptoSuite cryptoSuite = CryptoSuite.Factory.getCryptoSuite();\r\n        ca.setCryptoSuite(cryptoSuite);\r\n        Enrollment adminEnrollment = ca.enroll(&quot;MyOrg_Admin&quot;, &quot;password&quot;);\r\n    }\r\n    catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe ca.enroll() call throws this exception: ERROR\r\norg.hyperledger.fabric_ca.sdk.HFCAClient - org.hyperledger.fabric.sdk.exception.CryptoException: Unable to add CA certificate to trust store. Error: java.io.IOException: Incomplete data\r\n\r\nCan you help to enroll the Admin user? What am I doing wrong?\r\n\r\nThanks,\r\nIonut\r\n","title":"How to get file-system wallet to use with the fabric-gateway-java sample","body":"<p>I have a blockchain deployed on IBM cloud. I implemented a Node.js client app that enrolls the Admin user for MyOrg and imports a wallet locally on the file system. Once the wallet is imported I can submit transactions on the chaincode to upload data in the ledger and evaluate transactions to query the ledger. Everything is working with the Node.js client.</p>\n<p>I now want to implement a similar Hyperledger client in Java. The fabric-gateway sample at <a href=\"https://hyperledger.github.io/fabric-gateway-java/\" rel=\"nofollow noreferrer\">https://hyperledger.github.io/fabric-gateway-java/</a> is very similar to the Node.js code for uploading and querying the ledger. Comparing the basic Node.js code below with the Java gateway sample code, there is a clear correspondence between the Node.js and Java classes used (both have classes with similar methods for Gateway, Network, Contract):</p>\n<pre><code>// Node.js code\n// Create a new gateway, and connect to the gateway peer node(s). \ngateway = new Gateway();\nawait gateway.connect(ccp, { wallet: wallet, identity: OrgAdmin, discovery: {&quot;enabled&quot;: true, &quot;asLocalhost&quot;:false }});\n\n// Get the network channel that the smart contract is deployed to.\nlet network = await gateway.getNetwork('mychannel');\n\n// Get the smart contract from the network channel.\nlet contract = network.getContract('mycontract');\n\n// submit transaction to add data in the ledger\nawait contract.submitTransaction('txName', txParam1, txParam2);\n\n// query the ledger\nlet queryResult = await contract.evaluateTransaction('queryTx', queryStr);\n</code></pre>\n<p>The problem is that the Java gateway sample assumes there is already a wallet available locally and does not show how to create the wallet. I tried using the wallet directory imported by the Node.js client with the Java gateway sample but it does not work. It throws an exception when calling the .identity() method below (saying the identity specified &quot;MyOrg_Admin&quot; does not exist):</p>\n<p>// Configure the gateway connection used to access the network.\nGateway.Builder builder = Gateway.createBuilder()\n.identity(wallet, &quot;MyOrg_Admin&quot;)\n.networkConfig(networkConfigFile);</p>\n<p>I tried using the lower-level fabric-sdk-java classes to create the wallet. Below is the Node.js code to enroll the Admin user for MyOrg and import the wallet locally:</p>\n<pre><code>async function enrollOrgAdmin(aOrgName, aOrgCAUrl, aWalletFilePath)\n{\n  try\n  {\n    // Create a new CA client for interacting with the CA.\n    const ca = new FabricCAServices(aOrgCAUrl);\n\n    // Create a new file system based wallet for managing identities.\n    const wallet = new FileSystemWallet(aWalletFilePath);\n\n    // Enroll the admin user, and import the new identity into the wallet.\n    const enrollment = await ca.enroll({ enrollmentID: OrgAdmin, enrollmentSecret: OrgAdminPasswd });\n    const identity = X509WalletMixin.createIdentity(aOrgName, enrollment.certificate, enrollment.key.toBytes());\n    await wallet.import(OrgAdmin, identity);\n  }\n  catch(error)\n  {\n    console.error(`Failed to enroll &quot;${OrgAdmin}&quot;: ${error}`);\n    process.exit(1);\n  }\n}\n</code></pre>\n<p>The only information needed is the OrgCA URL and organization name (both available from parsing the connection.json file) and the organization Admin username and password (which you just have to know). It seems that the corresponding Java class for FabricCAServices is HFCAClient. Googling for code samples using this class the most useful link is the one below (besides the unit tests of the fabric-sdk-java source code):\n<a href=\"https://developer.ibm.com/technologies/blockchain/tutorials/hyperledger-fabric-java-sdk-for-tls-enabled-fabric-network/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/technologies/blockchain/tutorials/hyperledger-fabric-java-sdk-for-tls-enabled-fabric-network/</a></p>\n<p>My Java code to enroll the Admin user (the 1st step in importing the wallet):</p>\n<pre><code>String pemStr = &quot;copy-pasted from connection.json['certificateAuthorities'][adr]['tlsCACerts']['pem']&quot;;\nProperties caProperties = new Properties();\ncaProperties.put(&quot;pemBytes&quot;, pemStr.getBytes());\n    \ntry\n{\n    // caName and caUrl copy-pasted from connection.json['certificateAuthorities'][adr]['caName'] and ['url']\n    HFCAClient ca = HFCAClient.createNewInstance(caName, caUrl, caProperties);\n    CryptoSuite cryptoSuite = CryptoSuite.Factory.getCryptoSuite();\n    ca.setCryptoSuite(cryptoSuite);\n    Enrollment adminEnrollment = ca.enroll(&quot;MyOrg_Admin&quot;, &quot;password&quot;);\n}\ncatch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>The ca.enroll() call throws this exception: ERROR\norg.hyperledger.fabric_ca.sdk.HFCAClient - org.hyperledger.fabric.sdk.exception.CryptoException: Unable to add CA certificate to trust store. Error: java.io.IOException: Incomplete data</p>\n<p>Can you help to enroll the Admin user? What am I doing wrong?</p>\n<p>Thanks,\nIonut</p>\n"},{"tags":["java","spring","rest","authorization","client"],"owner":{"account_id":3656420,"reputation":413,"user_id":3047319,"display_name":"DiegoMG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655810383,"creation_date":1655797491,"question_id":72697005,"body_markdown":"I&#39;ve created a Client to consume a Rest API. Everything seems to be OK but I&#39;m getting an 401 error as the JWT was not found. \r\nHere is the service which I&#39;ve made:\r\n\r\n    @Service\r\n    public class RestTemplateService {\r\n    \r\n        private static final String GET_RELATION_BY_ID = &quot;https://cuco-query-sbg-cuco-dev.apps.scg01.scg.dev.bo2.paas.cloudcenter.corp/getRelationByCucoId/{cucoId}&quot;;\r\n        private static final String JWT = &quot;Bearer xxxx&quot;\r\n    \r\n        RestTemplate restTemplate = new RestTemplate();\r\n    \r\n        public ResponseEntity&lt;CuCoPerson&gt; getRelationById(Integer cucoId) {\r\n    \r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n            headers.add(&quot;Authorization&quot;, JWT);\r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\r\n            Map&lt;String, Integer&gt; param = new HashMap&lt;String, Integer&gt;();\r\n            param.put(&quot;cucoId&quot;, cucoId);\r\n            return restTemplate.exchange(GET_RELATION_BY_ID, HttpMethod.GET, entity, CuCoPerson.class, param);\r\n    \r\n        }\r\n    }\r\n\r\nAnd here the controller:\r\n\r\n     @GetMapping(&quot;/getRelationById/{cucoId}&quot;)\r\n        public ResponseEntity&lt;CuCoPerson&gt; getRelationByCucoId(@PathVariable Integer cucoId, @AuthenticationPrincipal Principal principal) {\r\n            return restTemplateService.getRelationById(cucoId);\r\n        }\r\n\r\nSo, where I&#39;m failing to get that TOKEN?\r\n\r\nThanks in advance!! ","title":"JWT not found either in the &#39;Authorization&#39; HTTP request headers","body":"<p>I've created a Client to consume a Rest API. Everything seems to be OK but I'm getting an 401 error as the JWT was not found.\nHere is the service which I've made:</p>\n<pre><code>@Service\npublic class RestTemplateService {\n\n    private static final String GET_RELATION_BY_ID = &quot;https://cuco-query-sbg-cuco-dev.apps.scg01.scg.dev.bo2.paas.cloudcenter.corp/getRelationByCucoId/{cucoId}&quot;;\n    private static final String JWT = &quot;Bearer xxxx&quot;\n\n    RestTemplate restTemplate = new RestTemplate();\n\n    public ResponseEntity&lt;CuCoPerson&gt; getRelationById(Integer cucoId) {\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n        headers.add(&quot;Authorization&quot;, JWT);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;parameters&quot;, headers);\n        Map&lt;String, Integer&gt; param = new HashMap&lt;String, Integer&gt;();\n        param.put(&quot;cucoId&quot;, cucoId);\n        return restTemplate.exchange(GET_RELATION_BY_ID, HttpMethod.GET, entity, CuCoPerson.class, param);\n\n    }\n}\n</code></pre>\n<p>And here the controller:</p>\n<pre><code> @GetMapping(&quot;/getRelationById/{cucoId}&quot;)\n    public ResponseEntity&lt;CuCoPerson&gt; getRelationByCucoId(@PathVariable Integer cucoId, @AuthenticationPrincipal Principal principal) {\n        return restTemplateService.getRelationById(cucoId);\n    }\n</code></pre>\n<p>So, where I'm failing to get that TOKEN?</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","loops","recursion","return","infinity"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655474181,"post_id":72660454,"comment_id":128347590,"body_markdown":"What do you see if you are debugging it?","body":"What do you see if you are debugging it?"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655474715,"post_id":72660454,"comment_id":128347797,"body_markdown":"when im debugging with some random number its showing the output and disconecting debugging","body":"when im debugging with some random number its showing the output and disconecting debugging"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655474812,"post_id":72660454,"comment_id":128347836,"body_markdown":"If you analyze what the debugger shows you, does it follow the logic you expect it to do?","body":"If you analyze what the debugger shows you, does it follow the logic you expect it to do?"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655475479,"post_id":72660454,"comment_id":128348046,"body_markdown":"im sorry im begginer and i dont really understand the debuggin stuff, i tried to run the code in some java online code runner and it has debug option next to the run button and when i press it its just give me the output and disconnecting gdb.","body":"im sorry im begginer and i dont really understand the debuggin stuff, i tried to run the code in some java online code runner and it has debug option next to the run button and when i press it its just give me the output and disconnecting gdb."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1655475667,"post_id":72660454,"comment_id":128348115,"body_markdown":"Do you have an IDE, like eclipse or intellij? Those have an integrated debugger. Debugging is a vital technique to learn.","body":"Do you have an IDE, like eclipse or intellij? Those have an integrated debugger. Debugging is a vital technique to learn."},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655475747,"post_id":72660454,"comment_id":128348148,"body_markdown":"The code is working for me with no bugs just cant understand the logic of the output, according to my stupidity and caculating it by myself its seems to be infinity recursive but the code runner shows otherwise and im trying to understand the logic of why it is not recursive.","body":"The code is working for me with no bugs just cant understand the logic of the output, according to my stupidity and caculating it by myself its seems to be infinity recursive but the code runner shows otherwise and im trying to understand the logic of why it is not recursive."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1655475790,"post_id":72660454,"comment_id":128348161,"body_markdown":"It is definitely recursive, it is not _infinitely_ recursive because of the default case that will always return `0` when `x&lt;10`.  `x` will always be eventually less than `10` because every time you call the method recursively, the input is getting divided by 10.","body":"It is definitely recursive, it is not <i>infinitely</i> recursive because of the default case that will always return <code>0</code> when <code>x&lt;10</code>.  <code>x</code> will always be eventually less than <code>10</code> because every time you call the method recursively, the input is getting divided by 10."},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655476294,"post_id":72660454,"comment_id":128348355,"body_markdown":"how the input is getting divided by 10? when i caculate it and tried to print this line alone for example 123: System.out.println((123/10)*10 + (123%10)) - the output is still 123","body":"how the input is getting divided by 10? when i caculate it and tried to print this line alone for example 123: System.out.println((123/10)*10 + (123%10)) - the output is still 123"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655476347,"post_id":72660454,"comment_id":128348383,"body_markdown":"i mean the method is calling for itself again with the same x number.","body":"i mean the method is calling for itself again with the same x number."},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655477744,"post_id":72660454,"comment_id":128348950,"body_markdown":"maybe i just dont understand the call for the method so well?? cuz it seems to lead to the same input again.","body":"maybe i just dont understand the call for the method so well?? cuz it seems to lead to the same input again."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655477867,"post_id":72660454,"comment_id":128348997,"body_markdown":"It gets divided by 10 here: `sod2(x/10)`  every time this method is recursively called.  You are printing the entire line, not what you are passing to the method.  The rest of that line is completely irrelevant to the recursive call.  For example if your `x` is `123` as you said, that means you are calling `sod2(123/10)`.","body":"It gets divided by 10 here: <code>sod2(x&#47;10)</code>  every time this method is recursively called.  You are printing the entire line, not what you are passing to the method.  The rest of that line is completely irrelevant to the recursive call.  For example if your <code>x</code> is <code>123</code> as you said, that means you are calling <code>sod2(123&#47;10)</code>."},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655478362,"post_id":72660454,"comment_id":128349189,"body_markdown":"owwww if the call was with another () like:     return sod2((x/10)*10 + (x%10)); - all of the line would be relevant??","body":"owwww if the call was with another () like:     return sod2((x/10)*10 + (x%10)); - all of the line would be relevant??"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655478762,"post_id":72660454,"comment_id":128349323,"body_markdown":"I think you are greatly confusing yourself by adding math with a method call.  Whatever is inside the method call is what is relevant.  You use parenthesis to indicate a method call, but you also use it for math which is what you are getting confused with.  Anything inside of `sod2()` is what is passed.  In the original problem that is only `sod2(x /10)`, so yes of course if you add more things into the method call it will affect the method: `sod2(x / 10 + 10)` is obviously different.  You are doing something like `sod2( (x/10) + 10)` which has both math and a method call using parenthesis.","body":"I think you are greatly confusing yourself by adding math with a method call.  Whatever is inside the method call is what is relevant.  You use parenthesis to indicate a method call, but you also use it for math which is what you are getting confused with.  Anything inside of <code>sod2()</code> is what is passed.  In the original problem that is only <code>sod2(x &#47;10)</code>, so yes of course if you add more things into the method call it will affect the method: <code>sod2(x &#47; 10 + 10)</code> is obviously different.  You are doing something like <code>sod2( (x&#47;10) + 10)</code> which has both math and a method call using parenthesis."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655478849,"post_id":72660454,"comment_id":128349351,"body_markdown":"I think you need to take the time and go through through it step by step with a pen and paper or something and write down what is happening at every step, you are just missing some fundamental understanding that is hard to explain.","body":"I think you need to take the time and go through through it step by step with a pen and paper or something and write down what is happening at every step, you are just missing some fundamental understanding that is hard to explain."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655478969,"post_id":72660454,"comment_id":128349398,"body_markdown":"For example you tried to print `(123/10)*10 + (123%10)` to see what the value is, but you are not even printing the correct thing.  `sod2(123/10)` is NOT the same thing as `(123/10)`","body":"For example you tried to print <code>(123&#47;10)*10 + (123%10)</code> to see what the value is, but you are not even printing the correct thing.  <code>sod2(123&#47;10)</code> is NOT the same thing as <code>(123&#47;10)</code>"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655479261,"post_id":72660454,"comment_id":128349498,"body_markdown":"thank you so much im so dumb for this, you are obviously right got confused with the math, finally understood, but its really weird that the rest of the line that not included in the method call is not showing any error or somthing i will try to track the code now ty very much.","body":"thank you so much im so dumb for this, you are obviously right got confused with the math, finally understood, but its really weird that the rest of the line that not included in the method call is not showing any error or somthing i will try to track the code now ty very much."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655479472,"post_id":72660454,"comment_id":128349590,"body_markdown":"There is no error because there should be no error.  `sod(123/10)` will return an integer and THAT value will be used in the math.  Basically `sod2(x/10)*10 + (x%10)` will be `theNumberReturned*10 + (x%10)`","body":"There is no error because there should be no error.  <code>sod(123&#47;10)</code> will return an integer and THAT value will be used in the math.  Basically <code>sod2(x&#47;10)*10 + (x%10)</code> will be <code>theNumberReturned*10 + (x%10)</code>"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655479514,"post_id":72660454,"comment_id":128349604,"body_markdown":"the -System.out.println((123/10)*10 + (123%10)) - just thought i was mistaken with the math or somthing, in the code i used System.out.println(sod2(123)); but thank you so much for helping","body":"the -System.out.println((123/10)*10 + (123%10)) - just thought i was mistaken with the math or somthing, in the code i used System.out.println(sod2(123)); but thank you so much for helping"},{"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"score":0,"creation_date":1655479734,"post_id":72660454,"comment_id":128349694,"body_markdown":"so theNumberReturned*10 + (x%10) will happen only after the the last time when num&lt;10?","body":"so theNumberReturned*10 + (x%10) will happen only after the the last time when num&lt;10?"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1655479836,"post_id":72660454,"comment_id":128349747,"body_markdown":"Yeah exactly, it will hit the bottom case where `num &lt; 10`, return the value back up, do math with that value, return ITS value back and then all the method calls will go back up with their values the same way as it might have been recursively called many times.  Basically it goes all the way down with the method calls first until it hits the `num &lt; 10` case, then goes backwards back up.","body":"Yeah exactly, it will hit the bottom case where <code>num &lt; 10</code>, return the value back up, do math with that value, return ITS value back and then all the method calls will go back up with their values the same way as it might have been recursively called many times.  Basically it goes all the way down with the method calls first until it hits the <code>num &lt; 10</code> case, then goes backwards back up."}],"owner":{"account_id":25580460,"reputation":1,"user_id":19359116,"display_name":"Botboy"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655810314,"creation_date":1655473787,"question_id":72660454,"body_markdown":"\r\n    public static int sod2(int x) {\r\n        if(x&lt;10)\r\n            return 0;\r\n        return sod2(x/10)*10 + (x%10);\r\n        }\r\n    }\r\n\r\nI can not understand how its not infinity recursive, tried some different numbers and track it by myself it always leads me to the same exact number, however the code output is working and showing all of the digits apart from the first digit. thankes for helping (for number that bigger than 10)","title":"by tracking its Infinity Recursive- JAVA basic q -, cant understand why its not recursive and how i tried to track this","body":"<pre><code>public static int sod2(int x) {\n    if(x&lt;10)\n        return 0;\n    return sod2(x/10)*10 + (x%10);\n    }\n}\n</code></pre>\n<p>I can not understand how its not infinity recursive, tried some different numbers and track it by myself it always leads me to the same exact number, however the code output is working and showing all of the digits apart from the first digit. thankes for helping (for number that bigger than 10)</p>\n"},{"tags":["java","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":3,"creation_date":1528819459,"post_id":50821110,"comment_id":88648095,"body_markdown":"You can&#39;t mix versions of spring cloud. You are using an old version of spring cloud Netflix eureka","body":"You can&#39;t mix versions of spring cloud. You are using an old version of spring cloud Netflix eureka"},{"owner":{"account_id":6492931,"reputation":691,"user_id":5026396,"accept_rate":0,"display_name":"Renan Lalier"},"score":0,"creation_date":1528827899,"post_id":50821110,"comment_id":88652105,"body_markdown":"Do you think this could be my problem?","body":"Do you think this could be my problem?"},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1528837456,"post_id":50821110,"comment_id":88656435,"body_markdown":"Maybe, but until you have valid versions, I can&#39;t tell.","body":"Maybe, but until you have valid versions, I can&#39;t tell."}],"answers":[{"tags":[],"owner":{"account_id":2022943,"reputation":138,"user_id":1808684,"accept_rate":57,"display_name":"Dima Sendrea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635861745,"creation_date":1528982295,"answer_id":50858516,"question_id":50821110,"body_markdown":"You need to specify a config name and it must match the config file name on the configuration service. \r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    config:\r\n      name: myService    # myService.yml or myService-[profile].yml( if you have a profile activated).\r\n        uri: http://localhost:8888\r\n```","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>You need to specify a config name and it must match the config file name on the configuration service.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    config:\n      name: myService    # myService.yml or myService-[profile].yml( if you have a profile activated).\n        uri: http://localhost:8888\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1085936,"reputation":578,"user_id":6522967,"accept_rate":50,"display_name":"Sakalya"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1528983834,"creation_date":1528983834,"answer_id":50859003,"question_id":50821110,"body_markdown":"You need to add dependency for spring cloud starter.","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>You need to add dependency for spring cloud starter.</p>\n"},{"tags":[],"owner":{"account_id":12785378,"reputation":166,"user_id":9251811,"display_name":"Lamine Mbn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550675878,"creation_date":1550675878,"answer_id":54789642,"question_id":50821110,"body_markdown":"If you defined a `spring.config.location` it will override all paths to the configurations files including the path to `bootstrap.yml` so you have to change `spring.config.location` to `spring.config.additional-location`.\r\n\r\nSo when you launch your app you&#39;ll have to add `-Dspring.config.additional-location=/path/to/application.yml`.\r\n\r\nFor more info check [this](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-location)","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>If you defined a <code>spring.config.location</code> it will override all paths to the configurations files including the path to <code>bootstrap.yml</code> so you have to change <code>spring.config.location</code> to <code>spring.config.additional-location</code>.</p>\n\n<p>So when you launch your app you'll have to add <code>-Dspring.config.additional-location=/path/to/application.yml</code>.</p>\n\n<p>For more info check <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-location\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635724662,"creation_date":1572358362,"answer_id":58609171,"question_id":50821110,"body_markdown":"You must add this dependency to the `pom.xml`: \r\n \r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>You must add this dependency to the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-config-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18671363,"reputation":21,"user_id":13610070,"display_name":"Hany Kamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605540010,"creation_date":1605540010,"answer_id":64860674,"question_id":50821110,"body_markdown":"In my case I using STS4 and the produced POM file by default doesn&#39;t work and I hade the same problem like you, but after I changed a little bit in my POM file, everything is working and finally I found something like &quot;Fetching config from server at&quot; in my console.\r\nThe changes in my POM were as follows:\r\n 1. Change the spring boot version to 2.2.6.RELEASE. \r\n 2. Change the spring cloud version to Hoxton.SR6 Or Hoxton.SR4 (and I believe any \r\n    Hoxton version will work).\r\n\r\nAfter I applied the previous changes, My POM file looks like:\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;!-- &lt;version&gt;2.4.0&lt;/version&gt; --&gt;\r\n    \t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;net.kha.microservices&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;limits-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;limits-service&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot - Cloud&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;spring-cloud.version&gt;2020.0.0-SNAPSHOT&lt;/spring-cloud.version&gt; --&gt;\r\n    \t\t&lt;!-- &lt;spring-cloud.version&gt;2020.0.0-M4&lt;/spring-cloud.version&gt; --&gt;\r\n    \t\t\r\n    \t\t&lt;!--  Both are working with spring boot version 2.2.6.RELEASE \r\n    \t\t\t  you should find something like &quot;Fetching config from server at&quot; in your console \r\n    \t\t\t  each time you run the client project as spring boot app \r\n    \t\t--&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\r\n    \t\t&lt;!-- &lt;spring-cloud.version&gt;Hoxton.SR4&lt;/spring-cloud.version&gt; --&gt;\t\r\n    \t&lt;/properties&gt;\r\n\r\n  ","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>In my case I using STS4 and the produced POM file by default doesn't work and I hade the same problem like you, but after I changed a little bit in my POM file, everything is working and finally I found something like &quot;Fetching config from server at&quot; in my console.\nThe changes in my POM were as follows:</p>\n<ol>\n<li>Change the spring boot version to 2.2.6.RELEASE.</li>\n<li>Change the spring cloud version to Hoxton.SR6 Or Hoxton.SR4 (and I believe any\nHoxton version will work).</li>\n</ol>\n<p>After I applied the previous changes, My POM file looks like:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;!-- &lt;version&gt;2.4.0&lt;/version&gt; --&gt;\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.kha.microservices&lt;/groupId&gt;\n    &lt;artifactId&gt;limits-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;limits-service&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot - Cloud&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        \n        &lt;!-- &lt;spring-cloud.version&gt;2020.0.0-SNAPSHOT&lt;/spring-cloud.version&gt; --&gt;\n        &lt;!-- &lt;spring-cloud.version&gt;2020.0.0-M4&lt;/spring-cloud.version&gt; --&gt;\n        \n        &lt;!--  Both are working with spring boot version 2.2.6.RELEASE \n              you should find something like &quot;Fetching config from server at&quot; in your console \n              each time you run the client project as spring boot app \n        --&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR6&lt;/spring-cloud.version&gt;\n        &lt;!-- &lt;spring-cloud.version&gt;Hoxton.SR4&lt;/spring-cloud.version&gt; --&gt;    \n    &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10502682,"reputation":401,"user_id":7740941,"display_name":"Rita"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1635842124,"creation_date":1611936863,"answer_id":65958030,"question_id":50821110,"body_markdown":"Add this dependency in Spring Boot config client:\r\n\r\n```xml    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>Add this dependency in Spring Boot config client:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635859212,"creation_date":1615479280,"answer_id":66586308,"question_id":50821110,"body_markdown":"Application will use `bootstrap.yml` in case when it uses some spring-cloud dependencies. That can be **cloud discovery client**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor **cloud config client**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>Application will use <code>bootstrap.yml</code> in case when it uses some spring-cloud dependencies. That can be <strong>cloud discovery client</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or <strong>cloud config client</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-config-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222168,"reputation":109,"user_id":1961312,"display_name":"user1961312"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655810311,"creation_date":1655810311,"answer_id":72699835,"question_id":50821110,"body_markdown":"I had the same problem. The pom.xml i used specified the files it includes from src/main/resources. So i also had to add the bootstrap.properties here:\r\n\r\n    &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;application.properties&lt;/include&gt;\r\n                        &lt;include&gt;bootstrap.properties&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n    ...&lt;/build&gt;","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>I had the same problem. The pom.xml i used specified the files it includes from src/main/resources. So i also had to add the bootstrap.properties here:</p>\n<pre><code>&lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;application.properties&lt;/include&gt;\n                    &lt;include&gt;bootstrap.properties&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n...&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":6492931,"reputation":691,"user_id":5026396,"accept_rate":0,"display_name":"Renan Lalier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31926,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":8,"score":22,"last_activity_date":1655810311,"creation_date":1528818316,"question_id":50821110,"body_markdown":"I&#39;m experiencing a problem when starting a spring boot client application that needs to connect to the configuration server. The bootstrap.yml file is being ignored\r\n\r\nConfiguration Server - This works!\r\n\r\n```yaml\r\nserver:\r\n  port: 8888  \r\nspring:\r\n  application:\r\n    name: configserver\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          uri:https://xxxxx@bitbucket.org/eco/properties.git\r\n```\r\n\r\n`bootstrap.yml` - Config Client - Not working!\r\n\r\n```yaml\r\nspring:\r\n  application:\r\n    name: api\r\n  cloud:\r\n    config:\r\n      uri: http://localhost:8888\r\n```\r\n\r\n**The file bootstrap.yml is being ignored when starting the application**.\r\n\r\nPOM Client\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\r\n&lt;/parent&gt;\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;Finchley.RC2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;spring-cloud.version&gt;2.0.0.RC2&lt;/spring-cloud.version&gt;\r\n&lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Database dependencies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n        &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${basedir}/src/main/resources/lib/ojdbc7-12.1.0.2.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.19&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n&lt;build&gt;\r\n    &lt;finalName&gt;api-emissor&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;${java.version}&lt;/source&gt;\r\n                &lt;target&gt;${java.version}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nMain class client\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\n@EnableAutoConfiguration(exclude = {SecurityAutoConfiguration.class})\r\n@ComponentScan(&quot;br.com.eco.api.emissor&quot;)\r\n@EnableJpaRepositories(&quot;br.com.eco.api.emissor.repository&quot;)\r\n@EntityScan(&quot;br.com.eco.api.emissor.domain&quot;)\r\npublic class Application {\r\n    public static void main(final String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\n\r\n**Why is the bootstrap.yml being ignored?**","title":"bootstrap.yml not loading in Spring Boot 2","body":"<p>I'm experiencing a problem when starting a spring boot client application that needs to connect to the configuration server. The bootstrap.yml file is being ignored</p>\n<p>Configuration Server - This works!</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:\n  port: 8888  \nspring:\n  application:\n    name: configserver\n  cloud:\n    config:\n      server:\n        git:\n          uri:https://xxxxx@bitbucket.org/eco/properties.git\n</code></pre>\n<p><code>bootstrap.yml</code> - Config Client - Not working!</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: api\n  cloud:\n    config:\n      uri: http://localhost:8888\n</code></pre>\n<p><strong>The file bootstrap.yml is being ignored when starting the application</strong>.</p>\n<p>POM Client</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;Finchley.RC2&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;spring-cloud.version&gt;2.0.0.RC2&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n        &lt;version&gt;12.1.0.2&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${basedir}/src/main/resources/lib/ojdbc7-12.1.0.2.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;1.10.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;api-emissor&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Main class client</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableEurekaClient\n@EnableAutoConfiguration(exclude = {SecurityAutoConfiguration.class})\n@ComponentScan(&quot;br.com.eco.api.emissor&quot;)\n@EnableJpaRepositories(&quot;br.com.eco.api.emissor.repository&quot;)\n@EntityScan(&quot;br.com.eco.api.emissor.domain&quot;)\npublic class Application {\n    public static void main(final String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p><strong>Why is the bootstrap.yml being ignored?</strong></p>\n"},{"tags":["java","android","android-studio","android-emulator","mobile-development"],"comments":[{"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"score":0,"creation_date":1650767748,"post_id":71984471,"comment_id":127198501,"body_markdown":"Did you tried standard acations like: Studio restart, check free space on your disk, project clean up and rebuild?","body":"Did you tried standard acations like: Studio restart, check free space on your disk, project clean up and rebuild?"},{"owner":{"account_id":20390946,"reputation":31,"user_id":14958896,"display_name":"Oumaima ELYAZYD"},"score":0,"creation_date":1650799129,"post_id":71984471,"comment_id":127202974,"body_markdown":"@AnatoliiShuba  I tried but it doesn&#39;t work","body":"@AnatoliiShuba  I tried but it doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650782711,"creation_date":1650782711,"answer_id":71986110,"question_id":71984471,"body_markdown":"This error might be due to your Gradle being not updated. Try doing this -\r\n\r\n1.Go to File\r\n\r\n2.Project Structure\r\n\r\n3.Project\r\n\r\n4.Change &quot;Android Gradle Plugin Version&quot; - 7.0.1\r\n\r\n5.Change &quot;Gradle Version&quot; - 7.0.2\r\n\r\n6.Apply and OK","title":"Android Studio Bumblebee AAPT2 process unexpectedly exit","body":"<p>This error might be due to your Gradle being not updated. Try doing this -</p>\n<p>1.Go to File</p>\n<p>2.Project Structure</p>\n<p>3.Project</p>\n<p>4.Change &quot;Android Gradle Plugin Version&quot; - 7.0.1</p>\n<p>5.Change &quot;Gradle Version&quot; - 7.0.2</p>\n<p>6.Apply and OK</p>\n"}],"owner":{"account_id":20390946,"reputation":31,"user_id":14958896,"display_name":"Oumaima ELYAZYD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6403,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1655810166,"creation_date":1650758173,"question_id":71984471,"body_markdown":"I have installed the last version of android studio but i have this error when i start execute my project, the emulator don&#39;t working.\r\nI have trying a lot of solution but none of them work with me.\r\nplease HELP !!!\r\n\r\n[AAPT2 process unexpectedly exit][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMA2O.jpg","title":"Android Studio Bumblebee AAPT2 process unexpectedly exit","body":"<p>I have installed the last version of android studio but i have this error when i start execute my project, the emulator don't working.\nI have trying a lot of solution but none of them work with me.\nplease HELP !!!</p>\n<p><a href=\"https://i.stack.imgur.com/HMA2O.jpg\" rel=\"nofollow noreferrer\">AAPT2 process unexpectedly exit</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1655809548,"post_id":72699647,"comment_id":128414321,"body_markdown":"Consider writing the numbers to a [`SortedSet`](https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html) as you read them in. Then it&#39;s a simple matter of retrieving the highest two numbers in this set.","body":"Consider writing the numbers to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a> as you read them in. Then it&#39;s a simple matter of retrieving the highest two numbers in this set."},{"owner":{"display_name":"user19382080"},"score":0,"creation_date":1655810113,"post_id":72699647,"comment_id":128414510,"body_markdown":"I cannot use sorted set as it takes input until the fin so it would store fin aswell and cause the program to crash","body":"I cannot use sorted set as it takes input until the fin so it would store fin aswell and cause the program to crash"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1655810123,"post_id":72699647,"comment_id":128414513,"body_markdown":"Check [this](https://stackoverflow.com/a/72638619/1552534) out.","body":"Check <a href=\"https://stackoverflow.com/a/72638619/1552534\">this</a> out."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1655810326,"post_id":72699647,"comment_id":128414576,"body_markdown":"Wouldn&#39;t reading `&quot;fin&quot;` cause `hasNextInt()` to return false? Presumably that&#39;s what&#39;s causing your loop to run to completion without throwing an exception as it&#39;s currently written.","body":"Wouldn&#39;t reading <code>&quot;fin&quot;</code> cause <code>hasNextInt()</code> to return false? Presumably that&#39;s what&#39;s causing your loop to run to completion without throwing an exception as it&#39;s currently written."},{"owner":{"display_name":"user19382080"},"score":0,"creation_date":1655810419,"post_id":72699647,"comment_id":128414614,"body_markdown":"No it keeps going until NextInt is not met so it just ignores it, and takes the other Ints as the input.","body":"No it keeps going until NextInt is not met so it just ignores it, and takes the other Ints as the input."}],"owner":{"display_name":"user19382080"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655809804,"answer_count":0,"score":0,"last_activity_date":1655810137,"creation_date":1655809409,"question_id":72699647,"body_markdown":"    import java.util.Scanner;\r\n    public class TopTwo {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a sequence of numbers: &quot;);\r\n        int max = Integer.MIN_VALUE;\r\n        int min = Integer.MAX_VALUE;\r\n        int first = Integer.MIN_VALUE;\r\n        int firstOccurences = 0;\r\n        int second = Integer.MAX_VALUE;\r\n        int secondOccurences = 0;\r\n        while(input.hasNextInt()){\r\n            int x = input.nextInt();\r\n            if(x &gt; first){\r\n                first = x;\r\n                firstOccurences = 1;\r\n            }\r\n            else if (x == first){\r\n                firstOccurences += 1;\r\n            }\r\n            if(x&gt;second){\r\n                second = x;\r\n                secondOccurences = 1;\r\n            }\r\n            else if(x&lt;first){\r\n                secondOccurences += 1;\r\n            }\r\n        }\r\n        System.out.println(&quot;The highest is &quot; + first + &quot;. Its number of occurences is &quot; + firstOccurences);\r\n        System.out.println(&quot;The second highest is &quot; + second + &quot;. Its number of occurrences is &quot; + secondOccurences);\r\n     }\r\n    }\r\n\r\nI&#39;m trying to finish this code but I cannot figure out how to pick out the second highest number and could use some help, it can pick out the top value but not the second so far also it allows user input until anything besides a number is typed eg. fin . \r\nInput: 24,56,62,12,79,-19,-12,-5,5,fin;\r\nOutput:The highest is 79. Its number of occurences is 1\r\nThe second highest is 2147483647. Its number of occurrences is 5.","title":"Trying to make a program that can pick out the top two numbers","body":"<pre><code>import java.util.Scanner;\npublic class TopTwo {\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.println(&quot;Enter a sequence of numbers: &quot;);\n    int max = Integer.MIN_VALUE;\n    int min = Integer.MAX_VALUE;\n    int first = Integer.MIN_VALUE;\n    int firstOccurences = 0;\n    int second = Integer.MAX_VALUE;\n    int secondOccurences = 0;\n    while(input.hasNextInt()){\n        int x = input.nextInt();\n        if(x &gt; first){\n            first = x;\n            firstOccurences = 1;\n        }\n        else if (x == first){\n            firstOccurences += 1;\n        }\n        if(x&gt;second){\n            second = x;\n            secondOccurences = 1;\n        }\n        else if(x&lt;first){\n            secondOccurences += 1;\n        }\n    }\n    System.out.println(&quot;The highest is &quot; + first + &quot;. Its number of occurences is &quot; + firstOccurences);\n    System.out.println(&quot;The second highest is &quot; + second + &quot;. Its number of occurrences is &quot; + secondOccurences);\n }\n}\n</code></pre>\n<p>I'm trying to finish this code but I cannot figure out how to pick out the second highest number and could use some help, it can pick out the top value but not the second so far also it allows user input until anything besides a number is typed eg. fin .\nInput: 24,56,62,12,79,-19,-12,-5,5,fin;\nOutput:The highest is 79. Its number of occurences is 1\nThe second highest is 2147483647. Its number of occurrences is 5.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1610132711,"post_id":65634588,"comment_id":116045474,"body_markdown":"Please post your gradle file. Also, try adding `classpath &quot;com.android.tools.build:gradle:4.1.1&quot;`","body":"Please post your gradle file. Also, try adding <code>classpath &quot;com.android.tools.build:gradle:4.1.1&quot;</code>"},{"owner":{"account_id":20228175,"reputation":59,"user_id":14835464,"display_name":"J.B.B"},"score":0,"creation_date":1610134646,"post_id":65634588,"comment_id":116046158,"body_markdown":"I post it.is that a right files?","body":"I post it.is that a right files?"},{"owner":{"account_id":9591845,"reputation":1778,"user_id":7122438,"accept_rate":83,"display_name":"Jacob Celestine"},"score":0,"creation_date":1610296572,"post_id":65634588,"comment_id":116082114,"body_markdown":"yes, could you try adding `android.enableAapt2=false` to your gradle.properties file?","body":"yes, could you try adding <code>android.enableAapt2=false</code> to your gradle.properties file?"},{"owner":{"account_id":20228175,"reputation":59,"user_id":14835464,"display_name":"J.B.B"},"score":0,"creation_date":1610308461,"post_id":65634588,"comment_id":116085927,"body_markdown":"Yes,i did try that but Android studio sayd: that command doesn&#39;t work any more and appt2 always enabled and never couldn&#39;t unabled.","body":"Yes,i did try that but Android studio sayd: that command doesn&#39;t work any more and appt2 always enabled and never couldn&#39;t unabled."}],"answers":[{"tags":[],"owner":{"account_id":20228175,"reputation":59,"user_id":14835464,"display_name":"J.B.B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1610313448,"creation_date":1610313448,"answer_id":65658597,"question_id":65634588,"body_markdown":"So,finaly someone from Twitter helpd me and solve the problem.\r\n\r\nThe solution is: \r\n\r\nThe main cause of the problem is the instability of the android gradle plugin version and gradle version.\r\nYou can easily change these versions through the project structcher from the file menu or you can use the command ctrl + alt + shift + S to reach project structur.\r\n\r\nMy setting is This:\r\n\r\n    android gradle plugin version: 4.0.1\r\n\r\n    gradle version: 6.1.1\r\n\r\nBe aware that versions SHOULD NOT contain alpha or beta.\r\n    \r\n\r\nAlso you can use this [link][1]  to finde out Which gradle plugin and gradle vesrion are Suitable for each other\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://developer.android.com/studio/releases/gradle-plugin","title":"im trying to build my app but i getting this error: AAPT2 process unexpectedly exit. Error output","body":"<p>So,finaly someone from Twitter helpd me and solve the problem.</p>\n<p>The solution is:</p>\n<p>The main cause of the problem is the instability of the android gradle plugin version and gradle version.\nYou can easily change these versions through the project structcher from the file menu or you can use the command ctrl + alt + shift + S to reach project structur.</p>\n<p>My setting is This:</p>\n<pre><code>android gradle plugin version: 4.0.1\n\ngradle version: 6.1.1\n</code></pre>\n<p>Be aware that versions SHOULD NOT contain alpha or beta.</p>\n<p>Also you can use this <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">link</a>  to finde out Which gradle plugin and gradle vesrion are Suitable for each other</p>\n"}],"owner":{"account_id":20228175,"reputation":59,"user_id":14835464,"display_name":"J.B.B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65658597,"answer_count":1,"score":2,"last_activity_date":1655809943,"creation_date":1610130920,"question_id":65634588,"body_markdown":"im trying to build my app on android studio but im getting this error\r\n&quot;AAPT2 process unexpectedly exit. Error output&quot;\r\n\r\ni search about it and tryed everything to solve this but dosent help me.\r\n\r\n\r\nandroid studio version:4.1.1\r\ngradle version: 6.8-rc5\r\n\r\n\r\nThis is my gradle file:\r\n\r\n    // Top-level build file where you can add configuration options common          to all sub-projects/modules.\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        mavenCentral()\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.1&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they   belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\nAnd this is gradle(mudle)\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n        }\r\n\r\n    android {\r\n        compileSdkVersion 30\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.example.weather5&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 30\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner    &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-  optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.1&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n\r\n    }\r\n\r\n\r\n","title":"im trying to build my app but i getting this error: AAPT2 process unexpectedly exit. Error output","body":"<p>im trying to build my app on android studio but im getting this error\n&quot;AAPT2 process unexpectedly exit. Error output&quot;</p>\n<p>i search about it and tryed everything to solve this but dosent help me.</p>\n<p>android studio version:4.1.1\ngradle version: 6.8-rc5</p>\n<p>This is my gradle file:</p>\n<pre><code>// Top-level build file where you can add configuration options common          to all sub-projects/modules.\nbuildscript {\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:4.1.1'\n\n    // NOTE: Do not place your application dependencies here; they   belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n<p>And this is gradle(mudle)</p>\n<pre><code>    plugins {\n        id 'com.android.application'\n    }\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.example.weather5&quot;\n        minSdkVersion 16\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner    &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-  optimize.txt'), 'proguard-rules.pro'\n    }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.2.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    testImplementation 'junit:junit:4.13.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n\n}\n</code></pre>\n"},{"tags":["java","android","android-databinding"],"owner":{"account_id":21102997,"reputation":31,"user_id":15512547,"display_name":"Aloyrd Vey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655809902,"creation_date":1655809902,"question_id":72699753,"body_markdown":"I&#39;m learning custom array adapters using data binding. EditText serves to input &quot;text&quot; when the button is pressed, the inputted text will appear in the listView. However, the text I typed in the EditText doesn&#39;t appear.\r\n\r\n**MainAcivity.java**\r\n\r\n    private Model model = new Model();\r\n    private Handlers handlers = new Handlers();\r\n    private ViewModel viewModel = new ViewModel(model);\r\n    private ArrayList&lt;Model&gt; listItem = new ArrayList&lt;&gt;();\r\n    ActivityMainBinding mainBinding = DataBindingUtil.setContentView(this,R.layout.activity_main);\r\n\r\n\r\n        handlers.setOnClickListener(new MyView.onClickListener() {\r\n            @Override\r\n            public void onDamn(Model model) {\r\n                Model model1 = new Model();\r\n                model1.setText(model1.getText());\r\n                listItem.add(model1);\r\n                viewModel.setAdapter(new CustomAdapter(MainActivity.this, listItem));\r\n                viewModel.getAdapter().notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n        mainBinding.setModel(model);\r\n        mainBinding.setHandlers(handlers);\r\n        mainBinding.setViewModel(viewModel);\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;data&gt;\r\n            &lt;variable\r\n                name=&quot;model&quot;\r\n                type=&quot;com.example.list.Model&quot; /&gt;\r\n            &lt;variable\r\n                name=&quot;handlers&quot;\r\n                type=&quot;com.example.list.Handlers&quot; /&gt;\r\n            &lt;variable\r\n                name=&quot;viewModel&quot;\r\n                type=&quot;com.example.list.ViewModel&quot; /&gt;\r\n        &lt;/data&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;15dp&quot;&gt;\r\n            &lt;EditText\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@={model.text}&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:layout_marginStart=&quot;30dp&quot;\r\n                android:layout_marginEnd=&quot;30dp&quot;\r\n                android:hint=&quot;hello&quot;/&gt;\r\n            &lt;Button\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;@{() -&gt; handlers.onClickListener.onDamn(model)}&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:layout_marginTop=&quot;60dp&quot;\r\n                android:layout_marginStart=&quot;45dp&quot;\r\n                android:layout_marginEnd=&quot;45dp&quot;\r\n                android:text=&quot;damn !&quot;\r\n                android:backgroundTint=&quot;@color/black&quot;/&gt;\r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:layout_marginTop=&quot;170dp&quot;&gt;\r\n                &lt;ListView\r\n                    android:adapter=&quot;@{viewModel.adapter}&quot;\r\n                    tools:listitem=&quot;@layout/activity_item&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;/&gt;\r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    \r\n    &lt;/layout&gt;\r\n\r\n**activity_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;data&gt;\r\n            &lt;variable\r\n                name=&quot;viewModel&quot;\r\n                type=&quot;com.example.list.ViewModel&quot; /&gt;\r\n        &lt;/data&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@{viewModel.modelText}&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:hint=&quot;ITEM&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;/layout&gt;\r\n\r\n**Model.java**\r\n\r\n    package com.example.list;\r\n    \r\n    public class Model {\r\n        private String text;\r\n    \r\n        public String getText() {\r\n            return text;\r\n        }\r\n    \r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n    }\r\n    \r\n    \r\n    *\r\n\r\n***ViewModel.java****\r\n\r\n    package com.example.list;\r\n    \r\n    import android.view.View;\r\n    \r\n    import androidx.databinding.BaseObservable;\r\n    import androidx.databinding.Bindable;\r\n    \r\n    public class ViewModel extends BaseObservable {\r\n        private Model model;\r\n        public ViewModel(Model model){\r\n            this.model = model;\r\n        }\r\n        public void setModelText(String text){\r\n            model.setText(text);\r\n            notifyPropertyChanged(BR.modelText);\r\n        }\r\n        @Bindable\r\n        public String getModelText(){\r\n            return model.getText();\r\n        }\r\n    \r\n    \r\n        private CustomAdapter adapter;\r\n    \r\n        public void setAdapter(CustomAdapter adapter) {\r\n            this.adapter = adapter;\r\n    \r\n        }\r\n    \r\n        public CustomAdapter getAdapter() {\r\n            return adapter;\r\n        }\r\n    }\r\n\r\n**CustomeAdapter**\r\n\r\n    package com.example.list;\r\n    \r\n    import android.content.Context;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ArrayAdapter;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.databinding.DataBindingUtil;\r\n    \r\n    import com.example.list.databinding.ActivityItemBinding;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class CustomAdapter extends ArrayAdapter&lt;Model&gt; {\r\n        private Context context;\r\n        private ArrayList&lt;Model&gt; listItem = new ArrayList&lt;&gt;();\r\n    \r\n        public CustomAdapter(Context context, ArrayList&lt;Model&gt; listItem){\r\n            super(context,0,listItem);\r\n            this.context = context;\r\n            this.listItem = listItem;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n            ActivityItemBinding itemBinding = null;\r\n            Model model = listItem.get(position);\r\n    \r\n            if (convertView == null){\r\n                itemBinding = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext()),R.layout.activity_item,parent,false);\r\n                convertView = itemBinding.getRoot();\r\n            }\r\n            ViewModel viewModel = new ViewModel(model);\r\n            viewModel.setModelText(model.getText());\r\n    \r\n            itemBinding.setViewModel(viewModel);\r\n            return super.getView(position, convertView, parent);\r\n        }\r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return listItem.size();\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public Model getItem(int position) {\r\n            return listItem.get(position);\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource) {\r\n            super(context, resource);\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId) {\r\n            super(context, resource, textViewResourceId);\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource, @NonNull Model[] objects) {\r\n            super(context, resource, objects);\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull Model[] objects) {\r\n            super(context, resource, textViewResourceId, objects);\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource, @NonNull List&lt;Model&gt; objects) {\r\n            super(context, resource, objects);\r\n        }\r\n    \r\n        public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;Model&gt; objects) {\r\n            super(context, resource, textViewResourceId, objects);\r\n        }\r\n    }\r\n\r\n","title":"How to display input result in ListView using data binding","body":"<p>I'm learning custom array adapters using data binding. EditText serves to input &quot;text&quot; when the button is pressed, the inputted text will appear in the listView. However, the text I typed in the EditText doesn't appear.</p>\n<p><strong>MainAcivity.java</strong></p>\n<pre><code>private Model model = new Model();\nprivate Handlers handlers = new Handlers();\nprivate ViewModel viewModel = new ViewModel(model);\nprivate ArrayList&lt;Model&gt; listItem = new ArrayList&lt;&gt;();\nActivityMainBinding mainBinding = DataBindingUtil.setContentView(this,R.layout.activity_main);\n\n\n    handlers.setOnClickListener(new MyView.onClickListener() {\n        @Override\n        public void onDamn(Model model) {\n            Model model1 = new Model();\n            model1.setText(model1.getText());\n            listItem.add(model1);\n            viewModel.setAdapter(new CustomAdapter(MainActivity.this, listItem));\n            viewModel.getAdapter().notifyDataSetChanged();\n        }\n    });\n\n    mainBinding.setModel(model);\n    mainBinding.setHandlers(handlers);\n    mainBinding.setViewModel(viewModel);\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;model&quot;\n            type=&quot;com.example.list.Model&quot; /&gt;\n        &lt;variable\n            name=&quot;handlers&quot;\n            type=&quot;com.example.list.Handlers&quot; /&gt;\n        &lt;variable\n            name=&quot;viewModel&quot;\n            type=&quot;com.example.list.ViewModel&quot; /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:padding=&quot;15dp&quot;&gt;\n        &lt;EditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@={model.text}&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:layout_marginStart=&quot;30dp&quot;\n            android:layout_marginEnd=&quot;30dp&quot;\n            android:hint=&quot;hello&quot;/&gt;\n        &lt;Button\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:onClick=&quot;@{() -&gt; handlers.onClickListener.onDamn(model)}&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:layout_marginTop=&quot;60dp&quot;\n            android:layout_marginStart=&quot;45dp&quot;\n            android:layout_marginEnd=&quot;45dp&quot;\n            android:text=&quot;damn !&quot;\n            android:backgroundTint=&quot;@color/black&quot;/&gt;\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:layout_marginTop=&quot;170dp&quot;&gt;\n            &lt;ListView\n                android:adapter=&quot;@{viewModel.adapter}&quot;\n                tools:listitem=&quot;@layout/activity_item&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;/&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>activity_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;viewModel&quot;\n            type=&quot;com.example.list.ViewModel&quot; /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@{viewModel.modelText}&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:hint=&quot;ITEM&quot;\n            android:textSize=&quot;30sp&quot;\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>Model.java</strong></p>\n<pre><code>package com.example.list;\n\npublic class Model {\n    private String text;\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n\n\n*\n</code></pre>\n<p><em><strong>ViewModel.java</strong></em>*</p>\n<pre><code>package com.example.list;\n\nimport android.view.View;\n\nimport androidx.databinding.BaseObservable;\nimport androidx.databinding.Bindable;\n\npublic class ViewModel extends BaseObservable {\n    private Model model;\n    public ViewModel(Model model){\n        this.model = model;\n    }\n    public void setModelText(String text){\n        model.setText(text);\n        notifyPropertyChanged(BR.modelText);\n    }\n    @Bindable\n    public String getModelText(){\n        return model.getText();\n    }\n\n\n    private CustomAdapter adapter;\n\n    public void setAdapter(CustomAdapter adapter) {\n        this.adapter = adapter;\n\n    }\n\n    public CustomAdapter getAdapter() {\n        return adapter;\n    }\n}\n</code></pre>\n<p><strong>CustomeAdapter</strong></p>\n<pre><code>package com.example.list;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.databinding.DataBindingUtil;\n\nimport com.example.list.databinding.ActivityItemBinding;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CustomAdapter extends ArrayAdapter&lt;Model&gt; {\n    private Context context;\n    private ArrayList&lt;Model&gt; listItem = new ArrayList&lt;&gt;();\n\n    public CustomAdapter(Context context, ArrayList&lt;Model&gt; listItem){\n        super(context,0,listItem);\n        this.context = context;\n        this.listItem = listItem;\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        ActivityItemBinding itemBinding = null;\n        Model model = listItem.get(position);\n\n        if (convertView == null){\n            itemBinding = DataBindingUtil.inflate(LayoutInflater.from(parent.getContext()),R.layout.activity_item,parent,false);\n            convertView = itemBinding.getRoot();\n        }\n        ViewModel viewModel = new ViewModel(model);\n        viewModel.setModelText(model.getText());\n\n        itemBinding.setViewModel(viewModel);\n        return super.getView(position, convertView, parent);\n    }\n\n    @Override\n    public int getCount() {\n        return listItem.size();\n    }\n\n    @Nullable\n    @Override\n    public Model getItem(int position) {\n        return listItem.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource) {\n        super(context, resource);\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId) {\n        super(context, resource, textViewResourceId);\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource, @NonNull Model[] objects) {\n        super(context, resource, objects);\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull Model[] objects) {\n        super(context, resource, textViewResourceId, objects);\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource, @NonNull List&lt;Model&gt; objects) {\n        super(context, resource, objects);\n    }\n\n    public CustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;Model&gt; objects) {\n        super(context, resource, textViewResourceId, objects);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":11416432,"reputation":578,"user_id":8369150,"display_name":"Halil Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655766444,"creation_date":1655766444,"answer_id":72693792,"question_id":72693724,"body_markdown":"On Android 11, apps cannot read or write to other apps&#39; directories inside the Android/data folder.\r\n\r\nCheck the reference: [Official Android Guide][1]\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage#file-access","title":"Android 11 doesn&#39;t create app directory on internal storage","body":"<p>On Android 11, apps cannot read or write to other apps' directories inside the Android/data folder.</p>\n<p>Check the reference: <a href=\"https://developer.android.com/about/versions/11/privacy/storage#file-access\" rel=\"nofollow noreferrer\">Official Android Guide</a></p>\n"},{"tags":[],"owner":{"account_id":23280643,"reputation":229,"user_id":17364139,"display_name":"Joe199382"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655790061,"creation_date":1655779284,"answer_id":72694794,"question_id":72693724,"body_markdown":"You can directly create data in your own application directory, but you cannot create folders directly in other directories, because of security issues, it is not allowed to obtain the absolute path of the data.\r\n\r\n[App-specific directory on external storage](https://developer.android.com/about/versions/11/privacy/storage#app-specific-external)\r\n\r\nStarting in Android 11, apps cannot create their own app-specific directory on external storage. To access the directory that the system provides for your app, call getExternalFilesDirs().\r\n\r\nOther reference: [android-11-scoped-storage-permissions](https://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions/66366102#66366102)","title":"Android 11 doesn&#39;t create app directory on internal storage","body":"<p>You can directly create data in your own application directory, but you cannot create folders directly in other directories, because of security issues, it is not allowed to obtain the absolute path of the data.</p>\n<p><a href=\"https://developer.android.com/about/versions/11/privacy/storage#app-specific-external\" rel=\"nofollow noreferrer\">App-specific directory on external storage</a></p>\n<p>Starting in Android 11, apps cannot create their own app-specific directory on external storage. To access the directory that the system provides for your app, call getExternalFilesDirs().</p>\n<p>Other reference: <a href=\"https://stackoverflow.com/questions/62782648/android-11-scoped-storage-permissions/66366102#66366102\">android-11-scoped-storage-permissions</a></p>\n"}],"owner":{"account_id":25594211,"reputation":13,"user_id":19370354,"display_name":"Aria_Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1046,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655815478,"accepted_answer_id":72694794,"answer_count":2,"score":0,"last_activity_date":1655809725,"creation_date":1655765574,"question_id":72693724,"body_markdown":"I installed my app on Android 11. But there is no folder under setting--&gt; Storage--&gt; Files--&gt; Android--&gt; data.\r\n\r\nMy app cannot create its own app-specific directory.\r\n\r\nIs there any one have some suggestions?\r\n","title":"Android 11 doesn&#39;t create app directory on internal storage","body":"<p>I installed my app on Android 11. But there is no folder under setting--&gt; Storage--&gt; Files--&gt; Android--&gt; data.</p>\n<p>My app cannot create its own app-specific directory.</p>\n<p>Is there any one have some suggestions?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655780153,"post_id":72694807,"comment_id":128406744,"body_markdown":"Please add your pom.xml to your question.","body":"Please add your pom.xml to your question."},{"owner":{"account_id":6764946,"reputation":570,"user_id":5210225,"accept_rate":50,"display_name":"Dimitris"},"score":2,"creation_date":1655809867,"post_id":72694807,"comment_id":128414430,"body_markdown":"The error is quite straight forward, JavaLibrary2 is not resolved. I do not know if it is supposed to be in your local maven repository or in a remote one. But wherever it is supposed to be, it is not there.","body":"The error is quite straight forward, JavaLibrary2 is not resolved. I do not know if it is supposed to be in your local maven repository or in a remote one. But wherever it is supposed to be, it is not there."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1655810067,"post_id":72694807,"comment_id":128414497,"body_markdown":"Both `com.freeware.gridtag` and `JavaLibrary2` group ids are not in public maven repositories. Find out where they should be, and configure maven to try and get it from there.","body":"Both <code>com.freeware.gridtag</code> and <code>JavaLibrary2</code> group ids are not in public maven repositories. Find out where they should be, and configure maven to try and get it from there."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1655885063,"post_id":72694807,"comment_id":128435033,"body_markdown":"unrelated: update pdfbox to 2.0.26 .","body":"unrelated: update pdfbox to 2.0.26 ."}],"owner":{"account_id":18089927,"reputation":1,"user_id":14467688,"display_name":"EducatedLegend"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655809671,"creation_date":1655779416,"question_id":72694807,"body_markdown":"I am getting following error in project build:\r\n\r\n&gt; Failed to execute goal on project records: Could not resolve dependencies for project records:records:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: JavaLibrary2:lp:jar:2, com.freeware.gridtag:dbgrid:jar:1.0.4: JavaLibrary2:lp:jar:2 was not found in https://repository.jboss.org/nexus/content/groups/public during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of repository.jboss.org-public has elapsed or updates are forced -&gt; [Help 1]\r\n&gt;   \r\n&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.  \r\n&gt; Re-run Maven using the -X switch to enable full debug logging.\r\n\r\nPlease help.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;\r\n\t\t4.0.0\r\n\t&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;\r\n\t\trecords\r\n\t&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;\r\n\t\trecords\r\n\t&lt;/artifactId&gt;\r\n\t&lt;version&gt;\r\n\t\t0.0.1-SNAPSHOT\r\n\t&lt;/version&gt;\r\n\t&lt;packaging&gt;\r\n\t\twar\r\n\t&lt;/packaging&gt;\r\n\t&lt;name&gt;\r\n\t\tadmin5_postgres2\r\n\t&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;\r\n\t\t\tUTF-8\r\n\t\t&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;\r\n\t\t\tUTF-8\r\n\t\t&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;org.springframework.version&gt;\r\n\t\t\t4.2.1.RELEASE\r\n\t\t&lt;/org.springframework.version&gt;\r\n\t\t&lt;org.hibernate.version&gt;\r\n\t\t\t4.1.10.Final\r\n\t\t&lt;/org.hibernate.version&gt;\r\n\t\t&lt;org.slf4j.version&gt;\r\n\t\t\t1.5.8\r\n\t\t&lt;/org.slf4j.version&gt;\r\n\t\t&lt;deploy.path.name&gt;\r\n\t\t\tc:\\apache-tomcat-6.0.32\\webapps\r\n\t\t&lt;/deploy.path.name&gt;\r\n\t\t&lt;netbeans.hint.deploy.server&gt;\r\n\t\t\tTomcat\r\n\t\t&lt;/netbeans.hint.deploy.server&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;\r\n\t\t\t\trepository.jboss.org-public\r\n\t\t\t&lt;/id&gt;\r\n\t\t\t&lt;name&gt;\r\n\t\t\t\tJBoss repository\r\n\t\t\t&lt;/name&gt;\r\n\t\t\t&lt;url&gt;\r\n\t\t\t\thttps://repository.jboss.org/nexus/content/groups/public\r\n\t\t\t&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;\r\n\t\t\t\tmaven2-repository.dev.java.net\r\n\t\t\t&lt;/id&gt;\r\n\t\t\t&lt;name&gt;\r\n\t\t\t\tJava.net Repository for Maven\r\n\t\t\t&lt;/name&gt;\r\n\t\t\t&lt;url&gt;\r\n\t\t\t\thttps://download.java.net/maven/2/\r\n\t\t\t&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;\r\n\t\t\t\tdefault\r\n\t\t\t&lt;/layout&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;\r\n\t\t\t\tcentral\r\n\t\t\t&lt;/id&gt;\r\n\t\t\t&lt;name&gt;\r\n\t\t\t\tCentral Repository\r\n\t\t\t&lt;/name&gt;\r\n\t\t\t&lt;url&gt;\r\n\t\t\t\thttps://repo.maven.apache.org/maven2\r\n\t\t\t&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;\r\n\t\t\t\tdefault\r\n\t\t\t&lt;/layout&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;\r\n\t\t\t\t\tfalse\r\n\t\t\t\t&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;\r\n\t\t\t\tcentral\r\n\t\t\t&lt;/id&gt;\r\n\t\t\t&lt;name&gt;\r\n\t\t\t\tCentral Repository\r\n\t\t\t&lt;/name&gt;\r\n\t\t\t&lt;url&gt;\r\n\t\t\t\thttps://repo.maven.apache.org/maven2\r\n\t\t\t&lt;/url&gt;\r\n\t\t\t&lt;layout&gt;\r\n\t\t\t\tdefault\r\n\t\t\t&lt;/layout&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;\r\n\t\t\t\t\tfalse\r\n\t\t\t\t&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;updatePolicy&gt;\r\n\t\t\t\t\tnever\r\n\t\t\t\t&lt;/updatePolicy&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;\r\n\t\t\tadmin5\r\n\t\t&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\torg.apache.maven.plugins\r\n\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\tmaven-war-plugin\r\n\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;\r\n\t\t\t\t\t2.1.1\r\n\t\t\t\t&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- &lt;packagingExcludes&gt;WEB-INF/lib/*.jar&lt;/packagingExcludes&gt; --&gt;\r\n\t\t\t\t\t&lt;warSourceDirectory&gt;\r\n\t\t\t\t\t\t${basedir}/WebContent\r\n\t\t\t\t\t&lt;/warSourceDirectory&gt;\r\n\t\t\t\t\t&lt;webXml&gt;\r\n\t\t\t\t\t\t${basedir}/WebContent/WEB-INF/web.xml\r\n\t\t\t\t\t&lt;/webXml&gt;\r\n\t\t\t\t\t&lt;packagingExcludes&gt;\r\n\t\t\t\t\t\tWEB-INF/web.xml\r\n\t\t\t\t\t&lt;/packagingExcludes&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;\r\n\t\t\t\t\t\t${deploy.path.name}\r\n\t\t\t\t\t&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\torg.apache.maven.plugins\r\n\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\tmaven-compiler-plugin\r\n\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;\r\n\t\t\t\t\t2.3.2\r\n\t\t\t\t&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;\r\n\t\t\t\t\t\t1.8\r\n\t\t\t\t\t&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;\r\n\t\t\t\t\t\t1.8\r\n\t\t\t\t\t&lt;/target&gt;\r\n\t\t\t\t\t&lt;executable&gt;\r\n\t\t\t\t\t\t${JAVA_HOME}/bin/javac\r\n\t\t\t\t\t&lt;/executable&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;!-- RESOURCES --&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;\r\n\t\t\t\t\t${basedir}/src/main/resources\r\n\t\t\t\t&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;\r\n\t\t\t\t\ttrue\r\n\t\t\t\t&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.poi\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tpoi\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t3.11\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.poi\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tpoi-ooxml\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t3.11-beta2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Spring Start --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-context\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\tcommons-logging\r\n\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\tcommons-logging\r\n\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework.security\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-security-core\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.2.1.RELEASE\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-context-support\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t3.0.5.RELEASE\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-web\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-aspects\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-orm\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-test\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;\r\n\t\t\t\ttest\r\n\t\t\t&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-tx\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-webmvc\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.2.1.RELEASE\r\n\t\t\t&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;\r\n\t\t\t\t\t\tcommons-logging\r\n\t\t\t\t\t&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;\r\n\t\t\t\t\t\tcommons-logging\r\n\t\t\t\t\t&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-core\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.springframework.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjunit\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjunit\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.8.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;\r\n\t\t\t\ttest\r\n\t\t\t&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjavax.servlet\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tservlet-api\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.5\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Commons Fileupload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcommons-fileupload\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tcommons-fileupload\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.3.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.commons\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tcommons-io\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.3.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.commons\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tcommons-vfs2\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.4\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.tiles\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\ttiles-core\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.2.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.tiles\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\ttiles-jsp\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.2.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tdisplaytag\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tdisplaytag\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.1.1\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\ttaglibs\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tstandard\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.1.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.mortbay.jetty\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjavax.servlet\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t5.1.11\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.tiles\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\ttiles-servlet\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.2.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.google.guava\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tguava\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t14.0.1\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.tiles\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\ttiles-template\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.2.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjavax.servlet\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjstl\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.1.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.slf4j\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tslf4j-api\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.slf4j.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.slf4j\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tslf4j-log4j12\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.slf4j.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tlog4j\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tlog4j\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.2.12\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcommons-lang\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tcommons-lang\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.4\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-io --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.googlecode.json-simple\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjson-simple\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.1\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcommons-dbcp\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tcommons-dbcp\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.2.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Hibernate Dependencies Start --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.hibernate\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thibernate-core\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.hibernate.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.hibernate\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thibernate-ehcache\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.hibernate.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.hibernate.javax.persistence\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thibernate-jpa-2.0-api\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.0.0.Final\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.hibernate\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thibernate-entitymanager\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t${org.hibernate.version}\r\n\t\t\t&lt;/version&gt;\r\n\t\t\t&lt;type&gt;\r\n\t\t\t\tjar\r\n\t\t\t&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Hibernate end --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjavax.transaction\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjta\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.1\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tjavax.mail\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tmail\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.4.1\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/com.twilio.sdk/twilio\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;twilio&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;8.27.0&lt;/version&gt;\r\n\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.fasterxml.jackson.core\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjackson-databind\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.12.0\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.fasterxml.jackson.core\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tjackson-annotations\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.12.0\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.thoughtworks.xstream\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\txstream\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.springframework.ws\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tspring-ws\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.5.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tmysql\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tmysql-connector-java\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t5.0.8\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tJavaLibrary2\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tlp\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.httpcomponents\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thttpcore\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.3.2\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.httpcomponents\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\thttpclient\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t4.3.4\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.freeware.gridtag\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tdbgrid\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t1.0.4\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\tcom.lowagie\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\titext\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.1.7\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.apache.pdfbox\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tpdfbox\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t2.0.20\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;\r\n\t\t\t\torg.postgresql\r\n\t\t\t&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;\r\n\t\t\t\tpostgresql\r\n\t\t\t&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;\r\n\t\t\t\t42.2.14.jre6\r\n\t\t\t&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"How can I resolve Error in Maven Java using Netbeans","body":"<p>I am getting following error in project build:</p>\n<blockquote>\n<p>Failed to execute goal on project records: Could not resolve dependencies for project records:records:war:0.0.1-SNAPSHOT: The following artifacts could not be resolved: JavaLibrary2:lp:jar:2, com.freeware.gridtag:dbgrid:jar:1.0.4: JavaLibrary2:lp:jar:2 was not found in <a href=\"https://repository.jboss.org/nexus/content/groups/public\" rel=\"nofollow noreferrer\">https://repository.jboss.org/nexus/content/groups/public</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of repository.jboss.org-public has elapsed or updates are forced -&gt; [Help 1]</p>\n<p>To see the full stack trace of the errors, re-run Maven with the -e switch.<br />\nRe-run Maven using the -X switch to enable full debug logging.</p>\n</blockquote>\n<p>Please help.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;https://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;\n        4.0.0\n    &lt;/modelVersion&gt;\n    &lt;groupId&gt;\n        records\n    &lt;/groupId&gt;\n    &lt;artifactId&gt;\n        records\n    &lt;/artifactId&gt;\n    &lt;version&gt;\n        0.0.1-SNAPSHOT\n    &lt;/version&gt;\n    &lt;packaging&gt;\n        war\n    &lt;/packaging&gt;\n    &lt;name&gt;\n        admin5_postgres2\n    &lt;/name&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;\n            UTF-8\n        &lt;/project.build.sourceEncoding&gt;\n        &lt;project.build.sourceEncoding&gt;\n            UTF-8\n        &lt;/project.build.sourceEncoding&gt;\n        &lt;org.springframework.version&gt;\n            4.2.1.RELEASE\n        &lt;/org.springframework.version&gt;\n        &lt;org.hibernate.version&gt;\n            4.1.10.Final\n        &lt;/org.hibernate.version&gt;\n        &lt;org.slf4j.version&gt;\n            1.5.8\n        &lt;/org.slf4j.version&gt;\n        &lt;deploy.path.name&gt;\n            c:\\apache-tomcat-6.0.32\\webapps\n        &lt;/deploy.path.name&gt;\n        &lt;netbeans.hint.deploy.server&gt;\n            Tomcat\n        &lt;/netbeans.hint.deploy.server&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;\n                repository.jboss.org-public\n            &lt;/id&gt;\n            &lt;name&gt;\n                JBoss repository\n            &lt;/name&gt;\n            &lt;url&gt;\n                https://repository.jboss.org/nexus/content/groups/public\n            &lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;\n                maven2-repository.dev.java.net\n            &lt;/id&gt;\n            &lt;name&gt;\n                Java.net Repository for Maven\n            &lt;/name&gt;\n            &lt;url&gt;\n                https://download.java.net/maven/2/\n            &lt;/url&gt;\n            &lt;layout&gt;\n                default\n            &lt;/layout&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;\n                central\n            &lt;/id&gt;\n            &lt;name&gt;\n                Central Repository\n            &lt;/name&gt;\n            &lt;url&gt;\n                https://repo.maven.apache.org/maven2\n            &lt;/url&gt;\n            &lt;layout&gt;\n                default\n            &lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;\n                    false\n                &lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;\n                central\n            &lt;/id&gt;\n            &lt;name&gt;\n                Central Repository\n            &lt;/name&gt;\n            &lt;url&gt;\n                https://repo.maven.apache.org/maven2\n            &lt;/url&gt;\n            &lt;layout&gt;\n                default\n            &lt;/layout&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;\n                    false\n                &lt;/enabled&gt;\n            &lt;/snapshots&gt;\n            &lt;releases&gt;\n                &lt;updatePolicy&gt;\n                    never\n                &lt;/updatePolicy&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;\n            admin5\n        &lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;\n                    org.apache.maven.plugins\n                &lt;/groupId&gt;\n                &lt;artifactId&gt;\n                    maven-war-plugin\n                &lt;/artifactId&gt;\n                &lt;version&gt;\n                    2.1.1\n                &lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- &lt;packagingExcludes&gt;WEB-INF/lib/*.jar&lt;/packagingExcludes&gt; --&gt;\n                    &lt;warSourceDirectory&gt;\n                        ${basedir}/WebContent\n                    &lt;/warSourceDirectory&gt;\n                    &lt;webXml&gt;\n                        ${basedir}/WebContent/WEB-INF/web.xml\n                    &lt;/webXml&gt;\n                    &lt;packagingExcludes&gt;\n                        WEB-INF/web.xml\n                    &lt;/packagingExcludes&gt;\n                    &lt;outputDirectory&gt;\n                        ${deploy.path.name}\n                    &lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;\n                    org.apache.maven.plugins\n                &lt;/groupId&gt;\n                &lt;artifactId&gt;\n                    maven-compiler-plugin\n                &lt;/artifactId&gt;\n                &lt;version&gt;\n                    2.3.2\n                &lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;\n                        1.8\n                    &lt;/source&gt;\n                    &lt;target&gt;\n                        1.8\n                    &lt;/target&gt;\n                    &lt;executable&gt;\n                        ${JAVA_HOME}/bin/javac\n                    &lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;!-- RESOURCES --&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;\n                    ${basedir}/src/main/resources\n                &lt;/directory&gt;\n                &lt;filtering&gt;\n                    true\n                &lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.poi\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                poi\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                3.11\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.poi\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                poi-ooxml\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                3.11-beta2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Start --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-context\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;\n                        commons-logging\n                    &lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                        commons-logging\n                    &lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework.security\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-security-core\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                4.2.1.RELEASE\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-context-support\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                3.0.5.RELEASE\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-web\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-aspects\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-orm\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-test\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n            &lt;scope&gt;\n                test\n            &lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-tx\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-webmvc\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                4.2.1.RELEASE\n            &lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;\n                        commons-logging\n                    &lt;/groupId&gt;\n                    &lt;artifactId&gt;\n                        commons-logging\n                    &lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-core\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.springframework.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                junit\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                junit\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                4.8.2\n            &lt;/version&gt;\n            &lt;scope&gt;\n                test\n            &lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                javax.servlet\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                servlet-api\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.5\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Commons Fileupload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                commons-fileupload\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                commons-fileupload\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.3.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.commons\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                commons-io\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.3.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.commons\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                commons-vfs2\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.4\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.tiles\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                tiles-core\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.2.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.tiles\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                tiles-jsp\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.2.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                displaytag\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                displaytag\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.1.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                taglibs\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                standard\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.1.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.mortbay.jetty\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                javax.servlet\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                5.1.11\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.tiles\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                tiles-servlet\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.2.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.google.guava\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                guava\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                14.0.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.tiles\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                tiles-template\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.2.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                javax.servlet\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                jstl\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.1.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.slf4j\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                slf4j-api\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.slf4j.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.slf4j\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                slf4j-log4j12\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.slf4j.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                log4j\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                log4j\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.2.12\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- common library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                commons-lang\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                commons-lang\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.4\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-io --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.googlecode.json-simple\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                json-simple\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                commons-dbcp\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                commons-dbcp\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.2.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate Dependencies Start --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.hibernate\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                hibernate-core\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.hibernate.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.hibernate\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                hibernate-ehcache\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.hibernate.version}\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.hibernate.javax.persistence\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                hibernate-jpa-2.0-api\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.0.0.Final\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.hibernate\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                hibernate-entitymanager\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                ${org.hibernate.version}\n            &lt;/version&gt;\n            &lt;type&gt;\n                jar\n            &lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Hibernate end --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                javax.transaction\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                jta\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                javax.mail\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                mail\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.4.1\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/com.twilio.sdk/twilio\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.twilio.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;twilio&lt;/artifactId&gt;\n        &lt;version&gt;8.27.0&lt;/version&gt;\n        \n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.fasterxml.jackson.core\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                jackson-databind\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.12.0\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.fasterxml.jackson.core\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                jackson-annotations\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.12.0\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.thoughtworks.xstream\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                xstream\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.springframework.ws\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                spring-ws\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.5.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                mysql\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                mysql-connector-java\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                5.0.8\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                JavaLibrary2\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                lp\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.httpcomponents\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                httpcore\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                4.3.2\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.httpcomponents\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                httpclient\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                4.3.4\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.freeware.gridtag\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                dbgrid\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                1.0.4\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                com.lowagie\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                itext\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.1.7\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.apache.pdfbox\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                pdfbox\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                2.0.20\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;\n                org.postgresql\n            &lt;/groupId&gt;\n            &lt;artifactId&gt;\n                postgresql\n            &lt;/artifactId&gt;\n            &lt;version&gt;\n                42.2.14.jre6\n            &lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1143154,"reputation":19805,"user_id":1126526,"accept_rate":90,"display_name":"manish"},"score":1,"creation_date":1501746299,"post_id":45477459,"comment_id":77916224,"body_markdown":"Why? `EntityManager.lock` is part of the JPA spec so it is the responsibility of the JPA provider to ensure that it works according to the spec ([example](https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/locking/LockModeTest.java)). If it doesn&#39;t (work according to the spec), there is nothing we can do as end users any way until the provider fixes the problem.","body":"Why? <code>EntityManager.lock</code> is part of the JPA spec so it is the responsibility of the JPA provider to ensure that it works according to the spec (<a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/test/java/org/hibernate/test/locking/LockModeTest.java\" rel=\"nofollow noreferrer\">example</a>). If it doesn&#39;t (work according to the spec), there is nothing we can do as end users any way until the provider fixes the problem."},{"owner":{"account_id":4951097,"reputation":183,"user_id":3985001,"display_name":"ysl"},"score":0,"creation_date":1501755805,"post_id":45477459,"comment_id":77923253,"body_markdown":"@manish, @GhostCat, my test target is `fooRepository.lock(savedFoo)`, not `EntityManager.lock()`, sorry to make you guys confused. I have added `//given`, `//when`, `//then` to show what is the SUT.\nThe reason to test this is I want to put all `Foo` related data manipulation on the `FooRepository`, and on need level `FooRepository` will be mocked.","body":"@manish, @GhostCat, my test target is <code>fooRepository.lock(savedFoo)</code>, not <code>EntityManager.lock()</code>, sorry to make you guys confused. I have added <code>&#47;&#47;given</code>, <code>&#47;&#47;when</code>, <code>&#47;&#47;then</code> to show what is the SUT. The reason to test this is I want to put all <code>Foo</code> related data manipulation on the <code>FooRepository</code>, and on need level <code>FooRepository</code> will be mocked."},{"owner":{"account_id":4951097,"reputation":183,"user_id":3985001,"display_name":"ysl"},"score":0,"creation_date":1502331088,"post_id":45477459,"comment_id":78166008,"body_markdown":"@GhostCat, thx for reminding, I will add a comment to your answer","body":"@GhostCat, thx for reminding, I will add a comment to your answer"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1501746761,"creation_date":1501746761,"answer_id":45478082,"question_id":45477459,"body_markdown":"You are getting unit testing **wrong**.\r\n\r\nYou do **not** write unit test to exercise functionality implemented by some 3rd party framework. Unit tests are for *your* units!\r\n\r\nIn other words: you do not need to verify that *locking* works as expected. Your unit does:\r\n\r\n    entityManager.lock(foo, LockModeType.PESSIMISTIC_WRITE);\r\n\r\nso the *only* thing you could consider testing here: making sure that the entity manager `lock()` method is called with the expected parameters. \r\n\r\nMeaning: verify that your code does use the framework as you think it should be used - but don&#39;t get into testing other peoples code! You see - what would you do when your unit test shows that the framework is wrong ... you can&#39;t change that! (sure, you can write a bug report then)\r\n\r\nDisclaimer: there might be special situations where you *assume* that some 3rd party product has a bug - then it might be very useful to write a unit test to test this assumption. So that you can later run the unit test against a new version of that product to see if the bug is still present. ","title":"How to unit test pessimistic locking with Spring Boot + Spring Data JPA","body":"<p>You are getting unit testing <strong>wrong</strong>.</p>\n\n<p>You do <strong>not</strong> write unit test to exercise functionality implemented by some 3rd party framework. Unit tests are for <em>your</em> units!</p>\n\n<p>In other words: you do not need to verify that <em>locking</em> works as expected. Your unit does:</p>\n\n<pre><code>entityManager.lock(foo, LockModeType.PESSIMISTIC_WRITE);\n</code></pre>\n\n<p>so the <em>only</em> thing you could consider testing here: making sure that the entity manager <code>lock()</code> method is called with the expected parameters. </p>\n\n<p>Meaning: verify that your code does use the framework as you think it should be used - but don't get into testing other peoples code! You see - what would you do when your unit test shows that the framework is wrong ... you can't change that! (sure, you can write a bug report then)</p>\n\n<p>Disclaimer: there might be special situations where you <em>assume</em> that some 3rd party product has a bug - then it might be very useful to write a unit test to test this assumption. So that you can later run the unit test against a new version of that product to see if the bug is still present. </p>\n"},{"tags":[],"owner":{"account_id":15642981,"reputation":11,"user_id":11285881,"display_name":"Andrey Stoev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655809615,"creation_date":1601411326,"answer_id":64127183,"question_id":45477459,"body_markdown":"Testing pessimistic locking handling with an integration test is important (may I say mandatory?) for two reasons:\r\n- There is a good chance that the LockTimeout parameter is not correctly configured (by Oracle and PostgreSQL it is by default infinite time) and this could have a dramatic impact on the stability/performance of the system in production; \r\n- The JPA implementation for pessimistic locking by most RDBMS is very limited because the 6 internal LockTimeout parameters differ; Testing against an in-memory database only could be not enough and would require special considerations. \r\n\r\nIn the blog post [Testing Pessimistic Locking Handling With SpringBoot and JPA](https://blog.mimacom.com/testing-pessimistic-locking-handling-spring-boot-jpa) you could:\r\n- Read more about pessimistic locking handling;\r\n- And you could find **GitHub examples** for testing against Oracle, PostgreSQL, MySQL and Apache Derby.\r\n\r\n&#128276; *The Spring Framework is used only as an example. You could easly adapt the tests for every other framework.*","title":"How to unit test pessimistic locking with Spring Boot + Spring Data JPA","body":"<p>Testing pessimistic locking handling with an integration test is important (may I say mandatory?) for two reasons:</p>\n<ul>\n<li>There is a good chance that the LockTimeout parameter is not correctly configured (by Oracle and PostgreSQL it is by default infinite time) and this could have a dramatic impact on the stability/performance of the system in production;</li>\n<li>The JPA implementation for pessimistic locking by most RDBMS is very limited because the 6 internal LockTimeout parameters differ; Testing against an in-memory database only could be not enough and would require special considerations.</li>\n</ul>\n<p>In the blog post <a href=\"https://blog.mimacom.com/testing-pessimistic-locking-handling-spring-boot-jpa\" rel=\"nofollow noreferrer\">Testing Pessimistic Locking Handling With SpringBoot and JPA</a> you could:</p>\n<ul>\n<li>Read more about pessimistic locking handling;</li>\n<li>And you could find <strong>GitHub examples</strong> for testing against Oracle, PostgreSQL, MySQL and Apache Derby.</li>\n</ul>\n<p>🔔 <em>The Spring Framework is used only as an example. You could easly adapt the tests for every other framework.</em></p>\n"}],"owner":{"account_id":4951097,"reputation":183,"user_id":3985001,"display_name":"ysl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5042,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1655809615,"creation_date":1501744916,"question_id":45477459,"body_markdown":"I want to test whether the **`FooRepository.lock()`** works, after someone called the `lock()`, others calling it should be wait.\r\n\r\nThe following is my best try, it doesn&#39;t work. I believe the reason is both `entityManger` and `fooRepository` are participating in the same transaction.\r\n\r\nHow to call the `lock()` from another transaction? Or any suggestion for unit-testing the pessimistic lock? Thanks!!\r\n\r\nFooRepositoryTest:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\timport java.util.UUID;\r\n\t\r\n\timport javax.persistence.LockModeType;\r\n\t\r\n\timport org.junit.Test;\r\n\timport org.junit.runner.RunWith;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n\timport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\r\n\timport org.springframework.test.context.junit4.SpringRunner;\r\n\t\r\n\t@RunWith(SpringRunner.class)\r\n\t@DataJpaTest\r\n\tpublic class FooRepositoryTest {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate TestEntityManager entityManager;\t\r\n\r\n\t\t@Autowired\r\n\t\tprivate FooRepository fooRepository;\r\n\t\r\n\t\t@Test\r\n\t\tpublic void lockTest() {\r\n            // given\r\n\t\t\tFoo foo = new Foo();\r\n\t\t\tfoo.setName(&quot;foo-name&quot;);\r\n\t\r\n\t\t\tUUID fooId = fooRepository.save(foo).getFooId();\r\n\t\t\tentityManager.flush();\r\n\t\t\tentityManager.clear();\r\n\t\r\n            // when\r\n\t\t\tFoo savedFoo = fooRepository.findOne(fooId);\r\n\t\t\tfooRepository.lock(savedFoo);\r\n\t\r\n            // then\r\n            // I want something like this to be lock wait,\r\n            // something to confirm the above fooRepository.lock() work\r\n\t\t\tentityManager.getEntityManager().lock(savedFoo, LockModeType.PESSIMISTIC_WRITE);\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nclass Foo:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\timport java.util.UUID;\r\n\t\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.Id;\r\n\t\r\n\t@Entity\r\n\tpublic class Foo {\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tprivate UUID fooId;\r\n\t\r\n\t\tprivate String name;\r\n\t\r\n\t\tpublic UUID getFooId() {\r\n\t\t\treturn fooId;\r\n\t\t}\r\n\t\r\n\t\tpublic void setFooId(UUID fooId) {\r\n\t\t\tthis.fooId = fooId;\r\n\t\t}\r\n\t\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nclass FooApplication:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\t\r\n\t@SpringBootApplication\r\n\tpublic class FooApplication {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(FooApplication.class, args);\r\n\t\t}\r\n\t}\r\n\r\nclass FooRepository:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\timport java.util.UUID;\r\n\t\r\n\timport org.springframework.data.jpa.repository.JpaRepository;\r\n\t\r\n\tpublic interface FooRepository extends JpaRepository&lt;Foo, UUID&gt;, FooRepositoryCustom {\t\r\n\t}\r\n\r\nclass FooRepositoryCustom:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\tpublic interface FooRepositoryCustom {\t\r\n\t\tpublic void lock(Foo foo);\t\r\n\t}\r\n\r\nclass FooRepositoryImpl:\r\n\r\n\tpackage com.example.demo;\r\n\t\r\n\timport javax.persistence.EntityManager;\r\n\timport javax.persistence.LockModeType;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\t\r\n\tpublic class FooRepositoryImpl implements FooRepositoryCustom {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate EntityManager entityManager;\r\n\t\r\n\t\t@Override\r\n\t\tpublic void lock(Foo foo) {\r\n\t\t\tentityManager.lock(foo, LockModeType.PESSIMISTIC_WRITE);\r\n\t\t}\t\r\n\t}","title":"How to unit test pessimistic locking with Spring Boot + Spring Data JPA","body":"<p>I want to test whether the <strong><code>FooRepository.lock()</code></strong> works, after someone called the <code>lock()</code>, others calling it should be wait.</p>\n\n<p>The following is my best try, it doesn't work. I believe the reason is both <code>entityManger</code> and <code>fooRepository</code> are participating in the same transaction.</p>\n\n<p>How to call the <code>lock()</code> from another transaction? Or any suggestion for unit-testing the pessimistic lock? Thanks!!</p>\n\n<p>FooRepositoryTest:</p>\n\n<pre><code>package com.example.demo;\n\nimport java.util.UUID;\n\nimport javax.persistence.LockModeType;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManager;\nimport org.springframework.test.context.junit4.SpringRunner;\n\n@RunWith(SpringRunner.class)\n@DataJpaTest\npublic class FooRepositoryTest {\n\n    @Autowired\n    private TestEntityManager entityManager;    \n\n    @Autowired\n    private FooRepository fooRepository;\n\n    @Test\n    public void lockTest() {\n        // given\n        Foo foo = new Foo();\n        foo.setName(\"foo-name\");\n\n        UUID fooId = fooRepository.save(foo).getFooId();\n        entityManager.flush();\n        entityManager.clear();\n\n        // when\n        Foo savedFoo = fooRepository.findOne(fooId);\n        fooRepository.lock(savedFoo);\n\n        // then\n        // I want something like this to be lock wait,\n        // something to confirm the above fooRepository.lock() work\n        entityManager.getEntityManager().lock(savedFoo, LockModeType.PESSIMISTIC_WRITE);\n    }\n\n}\n</code></pre>\n\n<p>class Foo:</p>\n\n<pre><code>package com.example.demo;\n\nimport java.util.UUID;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Foo {  \n    @Id\n    @GeneratedValue\n    private UUID fooId;\n\n    private String name;\n\n    public UUID getFooId() {\n        return fooId;\n    }\n\n    public void setFooId(UUID fooId) {\n        this.fooId = fooId;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n\n<p>class FooApplication:</p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class FooApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FooApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>class FooRepository:</p>\n\n<pre><code>package com.example.demo;\n\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface FooRepository extends JpaRepository&lt;Foo, UUID&gt;, FooRepositoryCustom {  \n}\n</code></pre>\n\n<p>class FooRepositoryCustom:</p>\n\n<pre><code>package com.example.demo;\n\npublic interface FooRepositoryCustom {  \n    public void lock(Foo foo);  \n}\n</code></pre>\n\n<p>class FooRepositoryImpl:</p>\n\n<pre><code>package com.example.demo;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.LockModeType;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\npublic class FooRepositoryImpl implements FooRepositoryCustom {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void lock(Foo foo) {\n        entityManager.lock(foo, LockModeType.PESSIMISTIC_WRITE);\n    }   \n}\n</code></pre>\n"},{"tags":["java","ss7"],"answers":[{"tags":[],"owner":{"account_id":2813628,"reputation":19,"user_id":2419320,"accept_rate":25,"display_name":"user2419320"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655809536,"creation_date":1655809536,"answer_id":72699679,"question_id":71895139,"body_markdown":"Found the answer :-)\r\n\r\nIts simple.\r\nmapdialog.close(false);","title":"How to Modify TCAP as &quot;end&quot; instead of &quot;continue&quot; in JSS7","body":"<p>Found the answer :-)</p>\n<p>Its simple.\nmapdialog.close(false);</p>\n"}],"owner":{"account_id":2813628,"reputation":19,"user_id":2419320,"accept_rate":25,"display_name":"user2419320"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72699679,"answer_count":1,"score":0,"last_activity_date":1655809536,"creation_date":1650122581,"question_id":71895139,"body_markdown":"I am dealing RoutingInfoForSMRequest using  JSS7. But in response, its always sending &quot;continue&quot; in TCAP layer. How to set it &quot;end&quot;?\r\n\r\n\r\nMy Code below:\r\n\r\n\r\n\r\nonSendRoutingInfoForSMRequest(SendRoutingInfoForSMRequest arg0) {\r\n\r\n\r\n         MAPDialogSms mapdialog = arg0.getMAPDialog();\r\n\r\n                \r\n            logger.info(&quot;MAPDialogSms: &quot; + mapdialog);\r\n            logger.info(&quot;Recieved TCAP Message Type:&quot; + mapdialog.getTCAPMessageType());\r\n     \r\n          \r\n\r\n            IMSI imsi = this.MAPParameterFactory.createIMSI(String.valueOf(&quot;&quot;12747474747474));\r\n            ISDNAddressString VLR_Number = this.mapProvider.getMAPParameterFactory().createISDNAddressString(AddressNature.international_number, org.mobicents.protocols.ss7.map.api.primitives.NumberingPlan.ISDN, &quot;&quot;12737373737373); \r\n\t\t\t\r\n            logger.info(&quot;IMSI: &quot; + imsi);\r\n            logger.info(&quot;VMSC: &quot; + params.Msc_GT);\r\n            \r\n            LocationInfoWithLMSI linfo = this.MAPParameterFactory.createLocationInfoWithLMSI(VLR_Number, null, null, false, null);\r\n            mapdialog.addSendRoutingInfoForSMResponse(arg0.getInvokeId(), imsi, linfo, null, null, null);\r\n            logger.info(&quot;IMSI MSISDN Link Session Time: &quot; + params.imsi_msisdn_link_session + &quot; sec&quot;);\r\n            mapdialog.send();\r\n            logger.info(&quot;Response sent&quot;);\r\n       \r\n\r\n\r\n}\r\n","title":"How to Modify TCAP as &quot;end&quot; instead of &quot;continue&quot; in JSS7","body":"<p>I am dealing RoutingInfoForSMRequest using  JSS7. But in response, its always sending &quot;continue&quot; in TCAP layer. How to set it &quot;end&quot;?</p>\n<p>My Code below:</p>\n<p>onSendRoutingInfoForSMRequest(SendRoutingInfoForSMRequest arg0) {</p>\n<pre><code>     MAPDialogSms mapdialog = arg0.getMAPDialog();\n\n            \n        logger.info(&quot;MAPDialogSms: &quot; + mapdialog);\n        logger.info(&quot;Recieved TCAP Message Type:&quot; + mapdialog.getTCAPMessageType());\n \n      \n\n        IMSI imsi = this.MAPParameterFactory.createIMSI(String.valueOf(&quot;&quot;12747474747474));\n        ISDNAddressString VLR_Number = this.mapProvider.getMAPParameterFactory().createISDNAddressString(AddressNature.international_number, org.mobicents.protocols.ss7.map.api.primitives.NumberingPlan.ISDN, &quot;&quot;12737373737373); \n        \n        logger.info(&quot;IMSI: &quot; + imsi);\n        logger.info(&quot;VMSC: &quot; + params.Msc_GT);\n        \n        LocationInfoWithLMSI linfo = this.MAPParameterFactory.createLocationInfoWithLMSI(VLR_Number, null, null, false, null);\n        mapdialog.addSendRoutingInfoForSMResponse(arg0.getInvokeId(), imsi, linfo, null, null, null);\n        logger.info(&quot;IMSI MSISDN Link Session Time: &quot; + params.imsi_msisdn_link_session + &quot; sec&quot;);\n        mapdialog.send();\n        logger.info(&quot;Response sent&quot;);\n   \n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":9731694,"reputation":526,"user_id":7216511,"display_name":"PJain"},"score":1,"creation_date":1655793443,"post_id":72696224,"comment_id":128408901,"body_markdown":"You can pass data in the intent when you navigate from one to another activity like you can search about putExtra and getExtra for passing data from one activity to another activity","body":"You can pass data in the intent when you navigate from one to another activity like you can search about putExtra and getExtra for passing data from one activity to another activity"}],"answers":[{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655793641,"creation_date":1655793641,"answer_id":72696319,"question_id":72696224,"body_markdown":"**try this**\r\n\r\n    Intent intent = new Intent();  \r\n    intent.setClass(A.this,Receiveractivity.class);\r\n    intent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_A&quot;);  \r\n    A.this.startActivity(intent);\r\n\r\n    Intent intent = new Intent();  \r\n    intent.setClass(B.this,Receiveractivity.class);\r\n    intent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_B&quot;);  \r\n    B.this.startActivity(intent);\r\n\r\n    Intent intent = new Intent();  \r\n    intent.setClass(C.this,Receiveractivity.class);\r\n    intent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_C&quot;);  \r\n    C.this.startActivity(intent);\r\n\r\n   **Intent Activity**\r\n\r\n    //obtain  Intent Object send  from SenderActivity\r\n    Intent intent = this.getIntent();\r\n\r\n    /* Obtain String from Intent  */\r\n    if(intent !=null)\r\n    {\r\n    String strdata = intent.getExtras().getString(&quot;Uniqid&quot;);\r\n    if(strdata.equals(&quot;From_Activity_A&quot;))\r\n    {\r\n    //Do Something here...\r\n    }\r\n    if(strdata.equals(&quot;From_Activity_B&quot;))\r\n    {\r\n    //Do Something here...\r\n    }\r\n    if(strdata.equals(&quot;From_Activity_C&quot;))\r\n    {\r\n    //Do Something here...\r\n    }\r\n      ........\r\n    }\r\n    else\r\n    {\r\n     //do something here\r\n    }","title":"Is there a way to check if I came from a specific activity before starting a new one?","body":"<p><strong>try this</strong></p>\n<pre><code>Intent intent = new Intent();  \nintent.setClass(A.this,Receiveractivity.class);\nintent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_A&quot;);  \nA.this.startActivity(intent);\n\nIntent intent = new Intent();  \nintent.setClass(B.this,Receiveractivity.class);\nintent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_B&quot;);  \nB.this.startActivity(intent);\n\nIntent intent = new Intent();  \nintent.setClass(C.this,Receiveractivity.class);\nintent.putExtra(&quot;Uniqid&quot;,&quot;From_Activity_C&quot;);  \nC.this.startActivity(intent);\n</code></pre>\n<p><strong>Intent Activity</strong></p>\n<pre><code>//obtain  Intent Object send  from SenderActivity\nIntent intent = this.getIntent();\n\n/* Obtain String from Intent  */\nif(intent !=null)\n{\nString strdata = intent.getExtras().getString(&quot;Uniqid&quot;);\nif(strdata.equals(&quot;From_Activity_A&quot;))\n{\n//Do Something here...\n}\nif(strdata.equals(&quot;From_Activity_B&quot;))\n{\n//Do Something here...\n}\nif(strdata.equals(&quot;From_Activity_C&quot;))\n{\n//Do Something here...\n}\n  ........\n}\nelse\n{\n //do something here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24082191,"reputation":54,"user_id":18056715,"display_name":"Isuru udayanga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655793962,"creation_date":1655793962,"answer_id":72696373,"question_id":72696224,"body_markdown":"You can pass data payload through activity intent.pass your activity name for check where user came from.\r\n\r\nstart activity\r\n\r\n\r\n    Intent intent = new Intent(yourFromActivity.this,yourToActivity.class);\r\n    intent.putExtra(bundle_key,yourActivityName);\r\n    startActivity(intent)\r\n\r\n\r\nIn your second activity check intent extra and get the activity name where user came from.\r\n\r\n    @override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n    \r\n    //check extra key has in bundle.should same as host activity key\r\n       if(getIntent().hasExtra(bundle_key)) \r\n       {\r\n           //get passed value from intent bundle\r\n           String activity = getIntent().getStringExtra(bundle_key,&quot;&quot;);\r\n    \r\n          if(activity.equel(yourActivityname)){\r\n             //put logic here \r\n           }      \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Is there a way to check if I came from a specific activity before starting a new one?","body":"<p>You can pass data payload through activity intent.pass your activity name for check where user came from.</p>\n<p>start activity</p>\n<pre><code>Intent intent = new Intent(yourFromActivity.this,yourToActivity.class);\nintent.putExtra(bundle_key,yourActivityName);\nstartActivity(intent)\n</code></pre>\n<p>In your second activity check intent extra and get the activity name where user came from.</p>\n<pre><code>@override\nprotected void onCreate(Bundle savedInstanceState){\n\n//check extra key has in bundle.should same as host activity key\n   if(getIntent().hasExtra(bundle_key)) \n   {\n       //get passed value from intent bundle\n       String activity = getIntent().getStringExtra(bundle_key,&quot;&quot;);\n\n      if(activity.equel(yourActivityname)){\n         //put logic here \n       }      \n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655809460,"creation_date":1655809460,"answer_id":72699659,"question_id":72696224,"body_markdown":"You can do it by 2 ways which are\r\n\r\n 1. Pass extra parameter in Intent when calling activity and in receiver \r\n    activity check received parameter and perform task accordingly.\r\n 2. Use startActivityForResult() instead of startActivity()  when calling \r\n    activity &amp; use getCallingActivity().getClassName() in receiver call to get \r\n    class name.\r\n\r\nPassing Data in Intent:\r\n\r\nCalling class A:\r\n\r\n    Intent intent = new Intent(A.this,C.class);\r\n    intent.putExtra(&quot;source&quot;,&quot;A&quot;);\r\n    startActivity(intent);\r\n\r\nReceiver class C:\r\nin onCreate method\r\n\r\n    String source;\r\n    Intent intent = getIntent();\r\n    if(intent.hasExtra(&quot;source&quot;))\r\n    {\r\n     source = intent.getStringExtra(&quot;source&quot;);\r\n    }\r\n    //Now you received source class name you can check and perform action \r\n    //accordingly.\r\n    if(source.equals(&quot;A&quot;)\r\n    { \r\n     //For Class A\r\n    }\r\n    else{\r\n      \r\n     // For Class B\r\n      }\r\n    \r\nUsing startActivityForResult():\r\n\r\nSender Class:\r\n\r\n     Intent intent = new Intent(A.this,C.class);\r\n     startActivityForResult(intent);\r\n\r\nReceiver Class:\r\n\r\n    //In onCreate Method get calling activity name\r\n     getCallingActivity().getClassName();\r\n ","title":"Is there a way to check if I came from a specific activity before starting a new one?","body":"<p>You can do it by 2 ways which are</p>\n<ol>\n<li>Pass extra parameter in Intent when calling activity and in receiver\nactivity check received parameter and perform task accordingly.</li>\n<li>Use startActivityForResult() instead of startActivity()  when calling\nactivity &amp; use getCallingActivity().getClassName() in receiver call to get\nclass name.</li>\n</ol>\n<p>Passing Data in Intent:</p>\n<p>Calling class A:</p>\n<pre><code>Intent intent = new Intent(A.this,C.class);\nintent.putExtra(&quot;source&quot;,&quot;A&quot;);\nstartActivity(intent);\n</code></pre>\n<p>Receiver class C:\nin onCreate method</p>\n<pre><code>String source;\nIntent intent = getIntent();\nif(intent.hasExtra(&quot;source&quot;))\n{\n source = intent.getStringExtra(&quot;source&quot;);\n}\n//Now you received source class name you can check and perform action \n//accordingly.\nif(source.equals(&quot;A&quot;)\n{ \n //For Class A\n}\nelse{\n  \n // For Class B\n  }\n</code></pre>\n<p>Using startActivityForResult():</p>\n<p>Sender Class:</p>\n<pre><code> Intent intent = new Intent(A.this,C.class);\n startActivityForResult(intent);\n</code></pre>\n<p>Receiver Class:</p>\n<pre><code>//In onCreate Method get calling activity name\n getCallingActivity().getClassName();\n</code></pre>\n"}],"owner":{"account_id":22238731,"reputation":73,"user_id":16473617,"display_name":"Kelven Lim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655809460,"creation_date":1655792976,"question_id":72696224,"body_markdown":"Let&#39;s say I have 3 activities: `A`, `B`, and `C`. And all 3 activities can direct the user to one another. Is there a way to check if I came from a specific activity?\r\n\r\nFor example, to get to C, I can move from B -&gt; C or A -&gt; C. But is there a way for me to check if I came from B?","title":"Is there a way to check if I came from a specific activity before starting a new one?","body":"<p>Let's say I have 3 activities: <code>A</code>, <code>B</code>, and <code>C</code>. And all 3 activities can direct the user to one another. Is there a way to check if I came from a specific activity?</p>\n<p>For example, to get to C, I can move from B -&gt; C or A -&gt; C. But is there a way for me to check if I came from B?</p>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1655508440,"post_id":72665616,"comment_id":128356816,"body_markdown":"Why is `[1,1,1]` not in the output for the first input?","body":"Why is <code>[1,1,1]</code> not in the output for the first input?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1655511419,"post_id":72665616,"comment_id":128357132,"body_markdown":"I had to read it a few times, but I think you&#39;re saying: with input of `[[0,0,0,0],[0,0,0,0],[0,0,0,0][0,0,0,0]]` you are expecting to see output of `[[0,0,0,0]]`, but instead an error occurs. What is the error? Please post enough code + input for others to reproduce what you&#39;re seeing: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I had to read it a few times, but I think you&#39;re saying: with input of <code>[[0,0,0,0],[0,0,0,0],[0,0,0,0][0,0,0,0]]</code> you are expecting to see output of <code>[[0,0,0,0]]</code>, but instead an error occurs. What is the error? Please post enough code + input for others to reproduce what you&#39;re seeing: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":25583763,"reputation":1,"user_id":19361835,"display_name":"anantha Puneethchowdary"},"score":0,"creation_date":1655512575,"post_id":72665616,"comment_id":128357249,"body_markdown":"i am getting a run time error . index of bound..","body":"i am getting a run time error . index of bound.."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655513001,"creation_date":1655513001,"answer_id":72665915,"question_id":72665616,"body_markdown":"You can construct a `Set` from the list of lists to remove duplicates and convert it back to a `List` (if necessary).\r\n\r\n```java\r\nList&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,1,1),List.of(23,4,5),List.of(1,1,1));\r\nSet&lt;List&lt;Integer&gt;&gt; set = new LinkedHashSet&lt;&gt;(list); // remove duplicates, preserving order\r\nList&lt;List&lt;Integer&gt;&gt; list2 = new ArrayList&lt;&gt;(set); // convert back to List\r\n```","title":"how to remove the duplicate innerlists from mainlist.in java?","body":"<p>You can construct a <code>Set</code> from the list of lists to remove duplicates and convert it back to a <code>List</code> (if necessary).</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,1,1),List.of(23,4,5),List.of(1,1,1));\nSet&lt;List&lt;Integer&gt;&gt; set = new LinkedHashSet&lt;&gt;(list); // remove duplicates, preserving order\nList&lt;List&lt;Integer&gt;&gt; list2 = new ArrayList&lt;&gt;(set); // convert back to List\n</code></pre>\n"}],"owner":{"account_id":25583763,"reputation":1,"user_id":19361835,"display_name":"anantha Puneethchowdary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655819496,"answer_count":1,"score":0,"last_activity_date":1655809366,"creation_date":1655508337,"question_id":72665616,"body_markdown":"    list&lt;list&lt;Integer&gt;ms2=new ArrayList&lt;&gt;();\r\n    for(int a=0;a&lt;ms2.size()-1;a++)\r\n    {\r\n         List&lt;Integer&gt;arr=new ArrayList&lt;Integer&gt;(ms2.get(a));\r\n         for( int n=a+1;n&lt;ms2.size();n++)\r\n         {\r\n              List&lt;Integer&gt;arr1=new ArrayList&lt;Integer&gt;(ms2.get(n));\r\n              if(arr.equals(arr1))\r\n              {\r\n\r\n                 ms. remove(n);//here ms is the same list as the (ms2)just a copied version.\r\n              }\r\n          }\r\n      }\r\n\r\n\r\nFor example, consider a list of list in Java as:\r\n`[[1,1,1],[23,4,5],[1,1,1]]`. Now, the output: `[[23,4,5],[1,1,1]]`. How do we do this, any idea?\r\n\r\nThe above code is not working for input: `[[0,0,0,0],[0,0,0,0],[0,0,0,0][0,0,0,0]]`. Output: `[[0,0,0,0]]`, but for me it is throwing an error.\r\n\r\n\r\n\r\n \r\n","title":"how to remove the duplicate innerlists from mainlist.in java?","body":"<pre><code>list&lt;list&lt;Integer&gt;ms2=new ArrayList&lt;&gt;();\nfor(int a=0;a&lt;ms2.size()-1;a++)\n{\n     List&lt;Integer&gt;arr=new ArrayList&lt;Integer&gt;(ms2.get(a));\n     for( int n=a+1;n&lt;ms2.size();n++)\n     {\n          List&lt;Integer&gt;arr1=new ArrayList&lt;Integer&gt;(ms2.get(n));\n          if(arr.equals(arr1))\n          {\n\n             ms. remove(n);//here ms is the same list as the (ms2)just a copied version.\n          }\n      }\n  }\n</code></pre>\n<p>For example, consider a list of list in Java as:\n<code>[[1,1,1],[23,4,5],[1,1,1]]</code>. Now, the output: <code>[[23,4,5],[1,1,1]]</code>. How do we do this, any idea?</p>\n<p>The above code is not working for input: <code>[[0,0,0,0],[0,0,0,0],[0,0,0,0][0,0,0,0]]</code>. Output: <code>[[0,0,0,0]]</code>, but for me it is throwing an error.</p>\n"},{"tags":["java","rounding","bigdecimal"],"answers":[{"tags":[],"owner":{"account_id":203002,"reputation":21637,"user_id":450398,"accept_rate":85,"display_name":"Grodriguez"},"down_vote_count":2,"up_vote_count":192,"is_accepted":true,"score":190,"last_activity_date":1289311008,"creation_date":1289309378,"answer_id":4134135,"question_id":4134047,"body_markdown":"You can use `setScale()` to reduce the number of fractional digits to zero. Assuming `value` holds the value to be rounded:\r\n\r\n    BigDecimal scaled = value.setScale(0, RoundingMode.HALF_UP);\r\n    System.out.println(value + &quot; -&gt; &quot; + scaled);\r\n\r\nUsing `round()` is a bit more involved as it requires you to specify the number of digits to be retained. In your examples this would be 3, but this is not valid for all values:\r\n\r\n    BigDecimal rounded = value.round(new MathContext(3, RoundingMode.HALF_UP));\r\n    System.out.println(value + &quot; -&gt; &quot; + rounded);\r\n\r\n(Note that `BigDecimal` objects are immutable; both `setScale` and `round` will return a new object.)","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>You can use <code>setScale()</code> to reduce the number of fractional digits to zero. Assuming <code>value</code> holds the value to be rounded:</p>\n\n<pre><code>BigDecimal scaled = value.setScale(0, RoundingMode.HALF_UP);\nSystem.out.println(value + \" -&gt; \" + scaled);\n</code></pre>\n\n<p>Using <code>round()</code> is a bit more involved as it requires you to specify the number of digits to be retained. In your examples this would be 3, but this is not valid for all values:</p>\n\n<pre><code>BigDecimal rounded = value.round(new MathContext(3, RoundingMode.HALF_UP));\nSystem.out.println(value + \" -&gt; \" + rounded);\n</code></pre>\n\n<p>(Note that <code>BigDecimal</code> objects are immutable; both <code>setScale</code> and <code>round</code> will return a new object.)</p>\n"},{"tags":[],"owner":{"account_id":77188,"reputation":16833,"user_id":220485,"accept_rate":90,"display_name":"Daniel Fath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289309800,"creation_date":1289309395,"answer_id":4134138,"question_id":4134047,"body_markdown":"I don&#39;t think you can round it like that in a single command. Try \r\n\r\n\t\tArrayList&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;();\r\n\t\tlist.add(new BigDecimal(&quot;100.12&quot;));\r\n\t\tlist.add(new BigDecimal(&quot;100.44&quot;));\r\n\t\tlist.add(new BigDecimal(&quot;100.50&quot;));\r\n\t\tlist.add(new BigDecimal(&quot;100.75&quot;));\r\n\r\n\t\tfor (BigDecimal bd : list){\r\n\t\t\tSystem.out.println(bd+&quot; -&gt; &quot;+bd.setScale(0,RoundingMode.HALF_UP).setScale(2));\r\n\t\t}\r\n    \r\n    Output:\r\n    100.12 -&gt; 100.00\r\n    100.44 -&gt; 100.00\r\n    100.50 -&gt; 101.00\r\n    100.75 -&gt; 101.00\r\n    \r\nI tested for the rest of your examples and it returns the wanted values, but I don&#39;t guarantee its correctness.","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>I don't think you can round it like that in a single command. Try </p>\n\n<pre><code>    ArrayList&lt;BigDecimal&gt; list = new ArrayList&lt;BigDecimal&gt;();\n    list.add(new BigDecimal(\"100.12\"));\n    list.add(new BigDecimal(\"100.44\"));\n    list.add(new BigDecimal(\"100.50\"));\n    list.add(new BigDecimal(\"100.75\"));\n\n    for (BigDecimal bd : list){\n        System.out.println(bd+\" -&gt; \"+bd.setScale(0,RoundingMode.HALF_UP).setScale(2));\n    }\n\nOutput:\n100.12 -&gt; 100.00\n100.44 -&gt; 100.00\n100.50 -&gt; 101.00\n100.75 -&gt; 101.00\n</code></pre>\n\n<p>I tested for the rest of your examples and it returns the wanted values, but I don't guarantee its correctness.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1289309584,"creation_date":1289309584,"answer_id":4134166,"question_id":4134047,"body_markdown":"Here&#39;s an awfully complicated solution, but it works:\r\n\r\n\r\n    public static BigDecimal roundBigDecimal(final BigDecimal input){\r\n        return input.round(\r\n            new MathContext(\r\n                input.toBigInteger().toString().length(),\r\n                RoundingMode.HALF_UP\r\n            )\r\n        );\r\n    }\r\n\r\n**Test Code:**\r\n\r\n    List&lt;BigDecimal&gt; bigDecimals =\r\n        Arrays.asList(new BigDecimal(&quot;100.12&quot;),\r\n            new BigDecimal(&quot;100.44&quot;),\r\n            new BigDecimal(&quot;100.50&quot;),\r\n            new BigDecimal(&quot;100.75&quot;));\r\n    for(final BigDecimal bd : bigDecimals){\r\n        System.out.println(roundBigDecimal(bd).toPlainString());\r\n    }\r\n\r\n**Output:**\r\n\r\n&gt; 100  \r\n&gt; 100  \r\n&gt; 101  \r\n&gt; 101\r\n","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>Here's an awfully complicated solution, but it works:</p>\n\n<pre><code>public static BigDecimal roundBigDecimal(final BigDecimal input){\n    return input.round(\n        new MathContext(\n            input.toBigInteger().toString().length(),\n            RoundingMode.HALF_UP\n        )\n    );\n}\n</code></pre>\n\n<p><strong>Test Code:</strong></p>\n\n<pre><code>List&lt;BigDecimal&gt; bigDecimals =\n    Arrays.asList(new BigDecimal(\"100.12\"),\n        new BigDecimal(\"100.44\"),\n        new BigDecimal(\"100.50\"),\n        new BigDecimal(\"100.75\"));\nfor(final BigDecimal bd : bigDecimals){\n    System.out.println(roundBigDecimal(bd).toPlainString());\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<blockquote>\n  <p>100<br>\n  100<br>\n  101<br>\n  101</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":177085,"reputation":13895,"user_id":408199,"display_name":"jacobm"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1289309610,"creation_date":1289309610,"answer_id":4134174,"question_id":4134047,"body_markdown":"You want\r\n\r\n    round(new MathContext(0));  // or perhaps another math context with rounding mode HALF_UP","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>You want</p>\n\n<pre><code>round(new MathContext(0));  // or perhaps another math context with rounding mode HALF_UP\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1289670737,"creation_date":1289309637,"answer_id":4134181,"question_id":4134047,"body_markdown":"Simply look at: \r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#ROUND_HALF_UP\r\n\r\nand:\r\n\r\n    setScale(int precision, int roundingMode)\r\n\r\nOr if using Java 6, then\r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/math/RoundingMode.html#HALF_UP\r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/math/MathContext.html\r\n\r\nand either:\r\n\r\n    setScale(int precision, RoundingMode mode);\r\n    round(MathContext mc);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>Simply look at: </p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#ROUND_HALF_UP\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/math/BigDecimal.html#ROUND_HALF_UP</a></p>\n\n<p>and:</p>\n\n<pre><code>setScale(int precision, int roundingMode)\n</code></pre>\n\n<p>Or if using Java 6, then</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/math/RoundingMode.html#HALF_UP\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/math/RoundingMode.html#HALF_UP</a></p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/math/MathContext.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/math/MathContext.html</a></p>\n\n<p>and either:</p>\n\n<pre><code>setScale(int precision, RoundingMode mode);\nround(MathContext mc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46308,"reputation":2732,"user_id":136732,"accept_rate":64,"display_name":"n a"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1289310696,"creation_date":1289310696,"answer_id":4134358,"question_id":4134047,"body_markdown":"If i go by Grodriguez&#39;s answer \r\n\r\n    System.out.println(&quot;&quot; + value);\r\n    value = value.setScale(0, BigDecimal.ROUND_HALF_UP);\r\n    System.out.println(&quot;&quot; + value);\r\n\r\nThis is the output\r\n\r\n    100.23 -&gt; 100\r\n    100.77 -&gt; 101\r\n\r\nWhich isn&#39;t quite what i want, so i ended up doing this..\r\n\r\n    System.out.println(&quot;&quot; + value);\r\n    value = value.setScale(0, BigDecimal.ROUND_HALF_UP);\r\n    value = value.setScale(2, BigDecimal.ROUND_HALF_UP);\r\n    System.out.println(&quot;&quot; + value);\r\n\r\nThis is what i get\r\n\r\n    100.23 -&gt; 100.00\r\n    100.77 -&gt; 101.00\r\n\r\nThis solves my problem for now .. : )\r\nThank you all.\r\n\r\n","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>If i go by Grodriguez's answer </p>\n\n<pre><code>System.out.println(\"\" + value);\nvalue = value.setScale(0, BigDecimal.ROUND_HALF_UP);\nSystem.out.println(\"\" + value);\n</code></pre>\n\n<p>This is the output</p>\n\n<pre><code>100.23 -&gt; 100\n100.77 -&gt; 101\n</code></pre>\n\n<p>Which isn't quite what i want, so i ended up doing this..</p>\n\n<pre><code>System.out.println(\"\" + value);\nvalue = value.setScale(0, BigDecimal.ROUND_HALF_UP);\nvalue = value.setScale(2, BigDecimal.ROUND_HALF_UP);\nSystem.out.println(\"\" + value);\n</code></pre>\n\n<p>This is what i get</p>\n\n<pre><code>100.23 -&gt; 100.00\n100.77 -&gt; 101.00\n</code></pre>\n\n<p>This solves my problem for now .. : )\nThank you all.</p>\n"},{"tags":[],"owner":{"account_id":12264582,"reputation":301,"user_id":8951449,"display_name":"kaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655808713,"creation_date":1655808713,"answer_id":72699488,"question_id":4134047,"body_markdown":"If neither `.round()` nor `.setScale()` seem intuitive to you, you can use this code to round to any integer steps of precision (e.g. round in 10s, 25s, 50s, 100s, ...).\r\n\r\nUsage:\r\n\r\n    int distance = roundN(_distance, 5);\r\n\r\nDeclaration:\r\n\r\n    public static BigDecimal roundN(BigDecimal num, int precision){\r\n        BigDecimal remainder = num.remainder(BigDecimal.valueOf(precision));\r\n        System.out.println(&quot;remainder: &quot; + remainder);\r\n\r\n        if (remainder.compareTo(BigDecimal.valueOf((precision / 2))) &lt; 0 ){\r\n            System.out.println(&quot;round down&quot;);\r\n            return num.subtract(remainder);\r\n        } else {\r\n            BigDecimal neg = remainder.negate().add(BigDecimal.valueOf(precision));\r\n            System.out.println(&quot;round up&quot;);\r\n            return num.add(neg);\r\n        }\r\n    }\r\n\r\nTrailing `.00`  can be appended to the result on demand.","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>If neither <code>.round()</code> nor <code>.setScale()</code> seem intuitive to you, you can use this code to round to any integer steps of precision (e.g. round in 10s, 25s, 50s, 100s, ...).</p>\n<p>Usage:</p>\n<pre><code>int distance = roundN(_distance, 5);\n</code></pre>\n<p>Declaration:</p>\n<pre><code>public static BigDecimal roundN(BigDecimal num, int precision){\n    BigDecimal remainder = num.remainder(BigDecimal.valueOf(precision));\n    System.out.println(&quot;remainder: &quot; + remainder);\n\n    if (remainder.compareTo(BigDecimal.valueOf((precision / 2))) &lt; 0 ){\n        System.out.println(&quot;round down&quot;);\n        return num.subtract(remainder);\n    } else {\n        BigDecimal neg = remainder.negate().add(BigDecimal.valueOf(precision));\n        System.out.println(&quot;round up&quot;);\n        return num.add(neg);\n    }\n}\n</code></pre>\n<p>Trailing <code>.00</code>  can be appended to the result on demand.</p>\n"}],"owner":{"account_id":46308,"reputation":2732,"user_id":136732,"accept_rate":64,"display_name":"n a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236202,"favorite_count":0,"down_vote_count":1,"up_vote_count":110,"accepted_answer_id":4134135,"answer_count":7,"score":109,"last_activity_date":1655808713,"creation_date":1289308677,"question_id":4134047,"body_markdown":"I need the following results\r\n\r\n    100.12 -&gt; 100.00\r\n    100.44 -&gt; 100.00\r\n    100.50 -&gt; 101.00\r\n    100.75 -&gt; 101.00\r\n\r\n`.round()` or `.setScale()` ? How do I go about this?","title":"Java BigDecimal: Round to the nearest whole value","body":"<p>I need the following results</p>\n\n<pre><code>100.12 -&gt; 100.00\n100.44 -&gt; 100.00\n100.50 -&gt; 101.00\n100.75 -&gt; 101.00\n</code></pre>\n\n<p><code>.round()</code> or <code>.setScale()</code> ? How do I go about this?</p>\n"},{"tags":["java","amazon-s3","hadoop","inputstream","parquet"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655819200,"post_id":72699479,"comment_id":128418168,"body_markdown":"Why use the HDFS client directly? You could use Hive or Spark if trying to read many files at once. And `getObjectContent` returns a stream. Parquet is binary, so where exactly are you trying to parse the binary content in your second code?","body":"Why use the HDFS client directly? You could use Hive or Spark if trying to read many files at once. And <code>getObjectContent</code> returns a stream. Parquet is binary, so where exactly are you trying to parse the binary content in your second code?"},{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1655836940,"post_id":72699479,"comment_id":128424739,"body_markdown":"@OneCricketeer This is legacy project based on spring boot. I had to use Java. Also, I could not find a way to parse the parquet binary content. Is there any library out there using which I can read the parquet files present in s3.","body":"@OneCricketeer This is legacy project based on spring boot. I had to use Java. Also, I could not find a way to parse the parquet binary content. Is there any library out there using which I can read the parquet files present in s3."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1655839865,"post_id":72699479,"comment_id":128425679,"body_markdown":"Spark and Hive can read Parquet files from S3 and can be used from Java, which is why I suggested them. Alternatively, your first code block should probably use `new Path(&quot;s3://batch-dev/aman/part-e52b.c000.snappy.parquet&quot;)`, although, `s3a://` would be better","body":"Spark and Hive can read Parquet files from S3 and can be used from Java, which is why I suggested them. Alternatively, your first code block should probably use <code>new Path(&quot;s3:&#47;&#47;batch-dev&#47;aman&#47;part-e52b.c000.snappy.parquet&quot;)</code>, although, <code>s3a:&#47;&#47;</code> would be better"},{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1655877453,"post_id":72699479,"comment_id":128432720,"body_markdown":"@OneCricketeer, the reason why I can not use spark is because of the deployment server. I do not have control on that and if I use spark, the server needs to be changed to execute the spark code. Any solution using java and related library would be appreciated.","body":"@OneCricketeer, the reason why I can not use spark is because of the deployment server. I do not have control on that and if I use spark, the server needs to be changed to execute the spark code. Any solution using java and related library would be appreciated."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1655906585,"post_id":72699479,"comment_id":128443483,"body_markdown":"You don&#39;t need to &quot;install Spark&quot;, though. If you&#39;re using Maven/Gradle, you can add `spark-sql` dependency directly to your code and deploy on master=local. Or like I said, did you try using the other Path constructor to fix your file not found error?","body":"You don&#39;t need to &quot;install Spark&quot;, though. If you&#39;re using Maven/Gradle, you can add <code>spark-sql</code> dependency directly to your code and deploy on master=local. Or like I said, did you try using the other Path constructor to fix your file not found error?"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655808638,"creation_date":1655808638,"question_id":72699479,"body_markdown":"I need to read parquet file from s3 using java &amp; maven support.\r\n\r\n```\r\npublic static void main(String[] args) throws IOException, URISyntaxException {\r\n\t\tPath path = new Path(&quot;s3&quot;, &quot;batch-dev&quot;, &quot;/aman/part-e52b.c000.snappy.parquet&quot;);\r\n\t\tConfiguration conf = new Configuration();\r\n\t\tconf.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;xxx&quot;);\r\n\t\tconf.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;xxxxx&quot;);\r\n\t\tInputFile file = HadoopInputFile.fromPath(path, conf);\r\n\t\tParquetFileReader reader2 = ParquetFileReader.open(conf, path);\r\n\t\t\r\n        //MessageType schema = reader2.getFooter().getFileMetaData().getSchema();\r\n        //System.out.println(schema);\r\n}\r\n```\r\n\r\nUsing above code, give FileNotFoundException\r\n\r\n**Note that:** Note that I am using s3 scheme and not s3a. Not sure whether we have support for s3 scheme in Hadoop.\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: s3://batch-dev/aman/part-e52b.c000.snappy.parquet: No such file or directory.\r\n\tat org.apache.hadoop.fs.s3.S3FileSystem.getFileStatus(S3FileSystem.java:334)\r\n\tat org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:39)\r\n\tat com.bidgely.cloud.core.cass.gb.S3GBRawDataHandler.main(S3GBRawDataHandler.java:505)\r\n```\r\n\r\nHowever, with the same path if I use s3Client, I am able to get the object. But the problem here is that I can not read parquet data from input stream getting from below code.\r\n\r\n```\r\npublic static void main(String args[]) {\r\n        AWSCredentials credentials = new BasicAWSCredentials(&quot;XXXXX&quot;, &quot;XXXXX&quot;);\r\n\t\tAmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(&quot;us-west-2&quot;).withCredentials(new AWSStaticCredentialsProvider(credentials)).build();\r\n\t\tS3Object object = s3Client.getObject(new GetObjectRequest(&quot;batch-dev&quot;, &quot;/aman/part-e52b.c000.snappy.parquet&quot;));\r\n\t\tSystem.out.println(object.getObjectContent());\r\n}\r\n```\r\n\r\nKindly help me with the solution. [I had to use java only].","title":"Not able to read from Parquet Reader along with Hadoop configuration using Java","body":"<p>I need to read parquet file from s3 using java &amp; maven support.</p>\n<pre><code>public static void main(String[] args) throws IOException, URISyntaxException {\n        Path path = new Path(&quot;s3&quot;, &quot;batch-dev&quot;, &quot;/aman/part-e52b.c000.snappy.parquet&quot;);\n        Configuration conf = new Configuration();\n        conf.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;xxx&quot;);\n        conf.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;xxxxx&quot;);\n        InputFile file = HadoopInputFile.fromPath(path, conf);\n        ParquetFileReader reader2 = ParquetFileReader.open(conf, path);\n        \n        //MessageType schema = reader2.getFooter().getFileMetaData().getSchema();\n        //System.out.println(schema);\n}\n</code></pre>\n<p>Using above code, give FileNotFoundException</p>\n<p><strong>Note that:</strong> Note that I am using s3 scheme and not s3a. Not sure whether we have support for s3 scheme in Hadoop.</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: s3://batch-dev/aman/part-e52b.c000.snappy.parquet: No such file or directory.\n    at org.apache.hadoop.fs.s3.S3FileSystem.getFileStatus(S3FileSystem.java:334)\n    at org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:39)\n    at com.bidgely.cloud.core.cass.gb.S3GBRawDataHandler.main(S3GBRawDataHandler.java:505)\n</code></pre>\n<p>However, with the same path if I use s3Client, I am able to get the object. But the problem here is that I can not read parquet data from input stream getting from below code.</p>\n<pre><code>public static void main(String args[]) {\n        AWSCredentials credentials = new BasicAWSCredentials(&quot;XXXXX&quot;, &quot;XXXXX&quot;);\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withRegion(&quot;us-west-2&quot;).withCredentials(new AWSStaticCredentialsProvider(credentials)).build();\n        S3Object object = s3Client.getObject(new GetObjectRequest(&quot;batch-dev&quot;, &quot;/aman/part-e52b.c000.snappy.parquet&quot;));\n        System.out.println(object.getObjectContent());\n}\n</code></pre>\n<p>Kindly help me with the solution. [I had to use java only].</p>\n"},{"tags":["java","swing","user-interface","rendering","synth"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1323187745,"post_id":8402797,"comment_id":10376108,"body_markdown":"don&#39;t do custom text drawing, instead configure a component (f.i. JLabel) with the text and render the label on top of the graphics","body":"don&#39;t do custom text drawing, instead configure a component (f.i. JLabel) with the text and render the label on top of the graphics"},{"owner":{"account_id":916340,"reputation":4203,"user_id":949067,"accept_rate":93,"display_name":"SuperTron"},"score":0,"creation_date":1323188021,"post_id":8402797,"comment_id":10376208,"body_markdown":"Sorry I shoulda been more specific, the text in the JLabels isnt rendering nicely.","body":"Sorry I shoulda been more specific, the text in the JLabels isnt rendering nicely."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1323188047,"post_id":8402797,"comment_id":10376218,"body_markdown":"@camickr - we disagree on that, as we know :-) Using the desktop properties is incredibly difficult without any guarantee to get it right everywhere. The &quot;best&quot; result is what the laf can do, deeply hidden inside the sun packages, that&#39;s why I recommend to _always_ use a JLabel ...","body":"@camickr - we disagree on that, as we know :-) Using the desktop properties is incredibly difficult without any guarantee to get it right everywhere. The &quot;best&quot; result is what the laf can do, deeply hidden inside the sun packages, that&#39;s why I recommend to <i>always</i> use a JLabel ..."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1323188120,"post_id":8402797,"comment_id":10376266,"body_markdown":"hmmm ... the JLabel is looking bad? That&#39;s strange, haven&#39;t seen much of aliasing problems since 6u10. Time for an sscce.","body":"hmmm ... the JLabel is looking bad? That&#39;s strange, haven&#39;t seen much of aliasing problems since 6u10. Time for an sscce."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1323188405,"post_id":8402797,"comment_id":10376372,"body_markdown":"Post your [sscce](http://sscce.org/) and a picture of what you see for comparison, [e.g.](http://stackoverflow.com/questions/2018102/java-font-rendering/2018197#2018197)","body":"Post your <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a> and a picture of what you see for comparison, <a href=\"http://stackoverflow.com/questions/2018102/java-font-rendering/2018197#2018197\">e.g.</a>"},{"owner":{"account_id":916340,"reputation":4203,"user_id":949067,"accept_rate":93,"display_name":"SuperTron"},"score":0,"creation_date":1323188866,"post_id":8402797,"comment_id":10376543,"body_markdown":"Ok, thanks for taking a look, I will post a SSCCE later tonight.","body":"Ok, thanks for taking a look, I will post a SSCCE later tonight."},{"owner":{"account_id":916340,"reputation":4203,"user_id":949067,"accept_rate":93,"display_name":"SuperTron"},"score":0,"creation_date":1323219093,"post_id":8402797,"comment_id":10385582,"body_markdown":"Well, it seems I can&#39;t reproduce the problem any more... Guess it&#39;s something hidden away in my application somewhere.  I will update if I find anything else, thanks again.","body":"Well, it seems I can&#39;t reproduce the problem any more... Guess it&#39;s something hidden away in my application somewhere.  I will update if I find anything else, thanks again."}],"answers":[{"tags":[],"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323198172,"creation_date":1323198172,"answer_id":8405304,"question_id":8402797,"body_markdown":"This is a problem with Swing itself I believe.  Look at the related questions.\r\n\r\nUsing [FontForge][1] to disabling hinting can help in my experience.\r\n\r\n\r\n  [1]: http://gleamynode.net/articles/2280/","title":"Swing Font Rendering","body":"<p>This is a problem with Swing itself I believe.  Look at the related questions.</p>\n\n<p>Using <a href=\"http://gleamynode.net/articles/2280/\" rel=\"nofollow\">FontForge</a> to disabling hinting can help in my experience.</p>\n"},{"tags":[],"owner":{"account_id":98681,"reputation":12022,"user_id":266978,"accept_rate":100,"display_name":"Baltasarq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655808284,"creation_date":1655808284,"answer_id":72699397,"question_id":8402797,"body_markdown":"I was able to find a solution to this problem. The main idea is to activate antialiasing, which must be done for both Swing and AWT. These properties are: `swing.aatext` and `awt.useSystemAAFontSettings`, and must be activated at the operating system level.\r\n\r\nOne way to do this is to use a shell batch program to do the settings for you, but I very much prefer to have a single executable when possible.\r\n\r\nSo, the solution I got to was to use `System.setProperty(String key, String value)`. `swing.aatext` must be set to `true`, while `awt.useSystemAAFontSettings` must be set to `on`. Of course, this must be done as soon as possible when booting your app.\r\n\r\nFollows an example of a typical Swing app:\r\n\r\n    public class App {\r\n        public static void main(String[] args)\r\n        {\r\n            JFrame mainWindow = null;\r\n\r\n            try {\r\n                System.setProperty( &quot;swing.aatext&quot;, &quot;true&quot; );\r\n                System.setProperty( &quot;awt.useSystemAAFontSettings&quot;, &quot;on&quot; );\r\n                UIManager.setLookAndFeel(\r\n                    UIManager.getSystemLookAndFeelClassName()\r\n                );\r\n            } catch (Exception e) { }\r\n\r\n            // Make sure we have nice window decorations.\r\n            JFrame.setDefaultLookAndFeelDecorated( true );\r\n            JDialog.setDefaultLookAndFeelDecorated( true );\r\n\r\n            try {\r\n                mainWindow = new MainWindow();\r\n                mainWindow.setVisible( true );\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n                System.err.println( e.getLocalizedMessage() );\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Swing Font Rendering","body":"<p>I was able to find a solution to this problem. The main idea is to activate antialiasing, which must be done for both Swing and AWT. These properties are: <code>swing.aatext</code> and <code>awt.useSystemAAFontSettings</code>, and must be activated at the operating system level.</p>\n<p>One way to do this is to use a shell batch program to do the settings for you, but I very much prefer to have a single executable when possible.</p>\n<p>So, the solution I got to was to use <code>System.setProperty(String key, String value)</code>. <code>swing.aatext</code> must be set to <code>true</code>, while <code>awt.useSystemAAFontSettings</code> must be set to <code>on</code>. Of course, this must be done as soon as possible when booting your app.</p>\n<p>Follows an example of a typical Swing app:</p>\n<pre><code>public class App {\n    public static void main(String[] args)\n    {\n        JFrame mainWindow = null;\n\n        try {\n            System.setProperty( &quot;swing.aatext&quot;, &quot;true&quot; );\n            System.setProperty( &quot;awt.useSystemAAFontSettings&quot;, &quot;on&quot; );\n            UIManager.setLookAndFeel(\n                UIManager.getSystemLookAndFeelClassName()\n            );\n        } catch (Exception e) { }\n\n        // Make sure we have nice window decorations.\n        JFrame.setDefaultLookAndFeelDecorated( true );\n        JDialog.setDefaultLookAndFeelDecorated( true );\n\n        try {\n            mainWindow = new MainWindow();\n            mainWindow.setVisible( true );\n        } catch(Exception e) {\n            e.printStackTrace();\n            System.err.println( e.getLocalizedMessage() );\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":916340,"reputation":4203,"user_id":949067,"accept_rate":93,"display_name":"SuperTron"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8405304,"answer_count":2,"score":4,"last_activity_date":1655808284,"creation_date":1323186856,"question_id":8402797,"body_markdown":"I am developing a Java swing Application with a Synth look and feel. The application has a background image that contains some text, and I need some &#39;active&#39; text (text in a JLabel) above this background layer. However, the font I have chosen (Verdana), renders terribly in Swing for some reason, and as such, the font of the active text does not match the font of the background. Does anyone know of a way to make the text a little smoother-looking in Swing?  I have found similar problems [here](https://stackoverflow.com/questions/3989706/why-does-java-swing-html-font-rendering-look-so-crappy) and [here](https://stackoverflow.com/questions/2018102/java-font-rendering), but I&#39;m unsure as to what effect AA has on the rest of the applications images, or whether to use AWT desktop Properties or the -Dswing.aatext=true flag. Any tips would be much appreciated.  Thanks!\r\n\r\nEDIT: I have tested this in OSX, as well as Windows 7, both exhibit the same effect.","title":"Swing Font Rendering","body":"<p>I am developing a Java swing Application with a Synth look and feel. The application has a background image that contains some text, and I need some 'active' text (text in a JLabel) above this background layer. However, the font I have chosen (Verdana), renders terribly in Swing for some reason, and as such, the font of the active text does not match the font of the background. Does anyone know of a way to make the text a little smoother-looking in Swing?  I have found similar problems <a href=\"https://stackoverflow.com/questions/3989706/why-does-java-swing-html-font-rendering-look-so-crappy\">here</a> and <a href=\"https://stackoverflow.com/questions/2018102/java-font-rendering\">here</a>, but I'm unsure as to what effect AA has on the rest of the applications images, or whether to use AWT desktop Properties or the -Dswing.aatext=true flag. Any tips would be much appreciated.  Thanks!</p>\n\n<p>EDIT: I have tested this in OSX, as well as Windows 7, both exhibit the same effect.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":10042712,"reputation":308,"user_id":7430741,"display_name":"Jose Riballo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655806423,"creation_date":1655806423,"answer_id":72698999,"question_id":72698926,"body_markdown":"You can replace `MutableList&lt;*&gt;` by `MutableList&lt;Int&gt;` for case 1.\r\nFor case 2, you need to use `cardCount?` because this var is nullable. I recommend you to study the kotlin basics before coding in kotlin.\r\n\r\nHope to help.","title":"Please help me find errors in this small piece of code","body":"<p>You can replace <code>MutableList&lt;*&gt;</code> by <code>MutableList&lt;Int&gt;</code> for case 1.\nFor case 2, you need to use <code>cardCount?</code> because this var is nullable. I recommend you to study the kotlin basics before coding in kotlin.</p>\n<p>Hope to help.</p>\n"}],"owner":{"account_id":22260886,"reputation":3,"user_id":16492329,"display_name":"Varun Sen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":72698999,"answer_count":1,"score":-4,"last_activity_date":1655808282,"creation_date":1655806049,"question_id":72698926,"body_markdown":"I am into Android Development. I don&#39;t know Kotlin just Java but had to submit a project in Kotlin so I wrote the code in Java and Used the inbuilt &quot;Convert Java code to Kotlin Code&quot; feature of Android Studio. But the converted code has some errors, I don&#39;t know how to solve them. Heres the code:\r\n```\r\npackage com.varunsen.newcards\r\n\r\nimport android.os.Bundle\r\nimport android.view.View\r\nimport android.widget.ArrayAdapter\r\nimport android.widget.ListView\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\r\nimport java.util.*\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    var listView: ListView? = null\r\n    var refreshLayout: SwipeRefreshLayout? = null\r\n    var list: MutableList&lt;*&gt; = ArrayList&lt;Int&gt;()\r\n    var adapter: ArrayAdapter&lt;*&gt;? = null\r\n    var cardCount: TextView? = null\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        Toast.makeText(this, &quot;Try Refreshing by swiping down.&quot;, Toast.LENGTH_LONG).show()\r\n        listView = findViewById&lt;View&gt;(R.id.listView) as ListView\r\n        refreshLayout = findViewById(R.id.refreshLayout)\r\n        cardCount = findViewById(R.id.card_count)\r\n        list.add(&quot;1&quot;)\r\n        list.add(&quot;2&quot;)\r\n        list.add(&quot;3&quot;)\r\n        list.add(&quot;4&quot;)\r\n        cardCount.setText(&quot;Total Cards : &quot; + list.size)\r\n        adapter = ArrayAdapter(this@MainActivity, R.layout.card, list)\r\n        listView!!.adapter = adapter\r\n        refreshLayout.setOnRefreshListener(OnRefreshListener {\r\n            list.add(list.size + 1)\r\n            adapter.notifyDataSetChanged()\r\n            cardCount.setText(&quot;Total Cards : &quot; + list.size)\r\n            refreshLayout.setRefreshing(false)\r\n        })\r\n    }\r\n}\r\n```\r\n\r\nAndroid studio is showing red underlines under all .add() functions, then the cardCount below it,  refreshLayout, adapter all red. \r\n\r\nIt is showing 2 errors:\r\n1. Out-projected type &#39;MutableList&lt;*&gt;&#39; prohibits the use of &#39;public abstract fun add(element: E): Boolean defined in kotlin.collections.MutableList\r\n\r\n2. Smart cast to &#39;TextView!&#39; is impossible, because &#39;cardCount&#39; is a mutable property that could have been changed by this time\r\n\r\n","title":"Please help me find errors in this small piece of code","body":"<p>I am into Android Development. I don't know Kotlin just Java but had to submit a project in Kotlin so I wrote the code in Java and Used the inbuilt &quot;Convert Java code to Kotlin Code&quot; feature of Android Studio. But the converted code has some errors, I don't know how to solve them. Heres the code:</p>\n<pre><code>package com.varunsen.newcards\n\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport android.widget.TextView\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n    var listView: ListView? = null\n    var refreshLayout: SwipeRefreshLayout? = null\n    var list: MutableList&lt;*&gt; = ArrayList&lt;Int&gt;()\n    var adapter: ArrayAdapter&lt;*&gt;? = null\n    var cardCount: TextView? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        Toast.makeText(this, &quot;Try Refreshing by swiping down.&quot;, Toast.LENGTH_LONG).show()\n        listView = findViewById&lt;View&gt;(R.id.listView) as ListView\n        refreshLayout = findViewById(R.id.refreshLayout)\n        cardCount = findViewById(R.id.card_count)\n        list.add(&quot;1&quot;)\n        list.add(&quot;2&quot;)\n        list.add(&quot;3&quot;)\n        list.add(&quot;4&quot;)\n        cardCount.setText(&quot;Total Cards : &quot; + list.size)\n        adapter = ArrayAdapter(this@MainActivity, R.layout.card, list)\n        listView!!.adapter = adapter\n        refreshLayout.setOnRefreshListener(OnRefreshListener {\n            list.add(list.size + 1)\n            adapter.notifyDataSetChanged()\n            cardCount.setText(&quot;Total Cards : &quot; + list.size)\n            refreshLayout.setRefreshing(false)\n        })\n    }\n}\n</code></pre>\n<p>Android studio is showing red underlines under all .add() functions, then the cardCount below it,  refreshLayout, adapter all red.</p>\n<p>It is showing 2 errors:</p>\n<ol>\n<li><p>Out-projected type 'MutableList&lt;*&gt;' prohibits the use of 'public abstract fun add(element: E): Boolean defined in kotlin.collections.MutableList</p>\n</li>\n<li><p>Smart cast to 'TextView!' is impossible, because 'cardCount' is a mutable property that could have been changed by this time</p>\n</li>\n</ol>\n"},{"tags":["java","linux","postgresql","jdbc","driver"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1369248349,"post_id":16699369,"comment_id":24036195,"body_markdown":"Is your psql service running?","body":"Is your psql service running?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1372057516,"post_id":16699369,"comment_id":25033907,"body_markdown":"Please do not use DataInputStream to read text, also please remove it from your example and this bad idea is copied often. http://vanillajava.blogspot.co.uk/2012/08/java-memes-which-refuse-to-die.html","body":"Please do not use DataInputStream to read text, also please remove it from your example and this bad idea is copied often. <a href=\"http://vanillajava.blogspot.co.uk/2012/08/java-memes-which-refuse-to-die.html\" rel=\"nofollow noreferrer\">vanillajava.blogspot.co.uk/2012/08/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1369248897,"creation_date":1369248897,"answer_id":16699547,"question_id":16699369,"body_markdown":"Error &quot;Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.&quot; suggests:\r\n\r\n1. Postgres is not started, to check this run  `netstat -a` and check if Postgres is waiting for connections on 5432 port\r\n\r\n2. wrong username/password - try to connect to Postgres using console or PG Admin using these credentials\r\n\r\n3. it may happen, especially if Postgres is on Linux box, that is does not allow TCP/IP connections because of the security reasons. You need to enable that. Search the net for &quot;enable remote Postgres connection&quot; or &quot;enable Postgres tcp/ip connection&quot;, there is planty of information.","title":"org.postgresql.util.PSQLException: Connection refused","body":"<p>Error \"Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\" suggests:</p>\n\n<ol>\n<li><p>Postgres is not started, to check this run  <code>netstat -a</code> and check if Postgres is waiting for connections on 5432 port</p></li>\n<li><p>wrong username/password - try to connect to Postgres using console or PG Admin using these credentials</p></li>\n<li><p>it may happen, especially if Postgres is on Linux box, that is does not allow TCP/IP connections because of the security reasons. You need to enable that. Search the net for \"enable remote Postgres connection\" or \"enable Postgres tcp/ip connection\", there is planty of information.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11322569,"reputation":869,"user_id":8302531,"display_name":"Arty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655808161,"creation_date":1539153796,"answer_id":52734147,"question_id":16699369,"body_markdown":"You need to configure postgresql.conf and pg_hba.conf file in your postgres directory.\r\n\r\nOpen **postgresql.conf** file and replace line\r\n\r\n    listen_addresses = &#39;localhost&#39;\r\n\r\nwith\r\n\r\n    listen_addresses = &#39;*&#39;\r\n\r\nif there is a &#39;`#`&#39; start of `listen_addresses` just delete it, it makes them comment line. now restart postgresql server.\r\n\r\n**pg_hba.conf**\r\n\r\n    host    all             all              0.0.0.0/0                       md5\r\n\r\nadd this line at the end of the `pg_hba.conf`.\r\n`md5`  means password is neccesary for connection if you dont want any password you can change it to `trust` this accepts connection unconditionally.\r\n`0.0.0.0/0` means every ip address, you can also change it as you want.","title":"org.postgresql.util.PSQLException: Connection refused","body":"<p>You need to configure postgresql.conf and pg_hba.conf file in your postgres directory.</p>\n<p>Open <strong>postgresql.conf</strong> file and replace line</p>\n<pre><code>listen_addresses = 'localhost'\n</code></pre>\n<p>with</p>\n<pre><code>listen_addresses = '*'\n</code></pre>\n<p>if there is a '<code>#</code>' start of <code>listen_addresses</code> just delete it, it makes them comment line. now restart postgresql server.</p>\n<p><strong>pg_hba.conf</strong></p>\n<pre><code>host    all             all              0.0.0.0/0                       md5\n</code></pre>\n<p>add this line at the end of the <code>pg_hba.conf</code>.\n<code>md5</code>  means password is neccesary for connection if you dont want any password you can change it to <code>trust</code> this accepts connection unconditionally.\n<code>0.0.0.0/0</code> means every ip address, you can also change it as you want.</p>\n"}],"owner":{"account_id":2696609,"reputation":345,"user_id":2328488,"accept_rate":33,"display_name":"user2328488"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42944,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1655808444,"answer_count":2,"score":6,"last_activity_date":1655808161,"creation_date":1369248255,"question_id":16699369,"body_markdown":"I wanted to test execution of function of an indexing from other host because this function not absolutely correctly fulfilled in hadoop to the program. But I had problems with connection to a database from other host as it is explained below. I don&#39;t understand in what a problem.\r\n\r\nI wrote following the java program\r\n\r\n\timport java.io.*;\r\n\timport java.util.*;\r\n\timport java.sql.Connection;\r\n\timport java.sql.DriverManager;\r\n\timport java.sql.ResultSet;\r\n\timport java.sql.SQLException;\r\n\timport java.sql.Statement;\r\n\timport java.util.logging.Level;\r\n\timport java.util.*;\r\n\r\n\tpublic class Sample {\r\n\t\tpublic static void main (String[] args) throws IOException  {\r\n\t\t\t\t\t\tint CountComputers;\r\n\t\t\t\tFileInputStream fstream = new FileInputStream(\r\n\t\t\t\t\t\t&quot;/export/hadoop-1.0.1/bin/countcomputers.txt&quot;);\r\n\t\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(fstream));\r\n\t\t\t\tString result=br.readLine();\r\n\t\t\t\tCountComputers=Integer.parseInt(result);\r\n\t\t\t\tinput.close();\r\n\t\t\t\tfstream.close();\r\n\t\t\t\tConnection con = null;\r\n\t\t\t\tStatement st = null;\r\n\t\t\t\t\tResultSet rs = null;    \r\n\t\t\t\t   String url = &quot;jdbc:postgresql://192.168.1.8:5432/NexentaSearch&quot;;\r\n\t\t\t\t\tString user = &quot;postgres&quot;;\r\n\t\t\t\t\tString password = &quot;valter89&quot;;\r\n\t\t\t\t//Class.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t\t\tArrayList&lt;String&gt; paths = new ArrayList&lt;String&gt;();\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url, user, password);\r\n\t\t\t\t\t\t\tst = con.createStatement();\r\n\t\t\t\t\t\t\trs = st.executeQuery(&quot;select path from tasks order by id&quot;);\r\n\t\t\t\t\twhile (rs.next()) { paths.add(rs.getString(1)); };\r\n\t\t\t\t\tPrintWriter zzz = null;\r\n\t\t\t\t\t\ttry\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tzzz = new PrintWriter(new FileOutputStream(&quot;/export/hadoop-1.0.1/bin/readwaysfromdatabase.txt&quot;));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch(FileNotFoundException e)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Error&quot;);\r\n\t\t\t\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (int i=0; i&lt;paths.size(); i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tzzz.println(&quot;paths[i]=&quot; + paths.get(i) + &quot;\\n&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tzzz.close();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tcatch (SQLException e) \r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Connection Failed! Check output console&quot;);\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (ClassNotFoundException e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\nI launched Sample.jar by means of a command\r\n\r\n    ./java -jar -Djava.library.path=/opt/jdk1.7.0_06/lib /Samplejavaprogram/Sample.jar\r\nand as a result I received the following messages\r\n\r\n\tConnection Failed! Check output console\r\n\torg.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:136)\r\n\t\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\r\n\t\tat org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\r\n\t\tat org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\r\n\t\tat org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\r\n\t\tat org.postgresql.Driver.makeConnection(Driver.java:393)\r\n\t\tat org.postgresql.Driver.connect(Driver.java:267)\r\n\t\tat java.sql.DriverManager.getConnection(DriverManager.java:579)\r\n\t\tat java.sql.DriverManager.getConnection(DriverManager.java:221)\r\n\t\tat Sample.main(Sample.java:33)\r\n\tCaused by: java.net.ConnectException: Connection timed out\r\n\t\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\t\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\r\n\t\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\r\n\t\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\r\n\t\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\r\n\t\tat java.net.Socket.connect(Socket.java:579)\r\n\t\tat java.net.Socket.connect(Socket.java:528)\r\n\t\tat java.net.Socket.&lt;init&gt;(Socket.java:425)\r\n\t\tat java.net.Socket.&lt;init&gt;(Socket.java:208)\r\n\t\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:62)\r\n\t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:76)\r\n\t\t... 9 more\r\nI launched the file from a host with the address 192.168.1.10. Help to eliminate an error. In what cause of error? What it is necessary to make?\r\n\r\n    netstat -a\r\n\r\n\r\n\tUDP: IPv4\r\n\t   Local Address        Remote Address      State\r\n\t-------------------- -------------------- ----------\r\n\t\t  *.bootpc                            Idle\r\n\t\t  *.dhcpv6-client                      Idle\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.sunrpc                            Idle\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.38606                             Idle\r\n\t\t  *.sunrpc                            Idle\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.40712                             Idle\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.54122                             Idle\r\n\t\t  *.41742                             Idle\r\n\t\t  *.*                                 Unbound\r\n\t\t  *.lockd                             Idle\r\n\t\t  *.lockd                             Idle\r\n\t\t  *.59670                             Idle\r\n\t\t  *.42840                             Idle\r\n\t\t  *.43065                             Idle\r\n\t\t  *.39546                             Idle\r\n\t\t  *.34243                             Idle\r\n\t\t  *.35383                             Idle\r\n\t\t  *.40746                             Idle\r\n\t\t  *.40832                             Idle\r\n\t192.168.1.2.bootpc                        Idle\r\n\t\t  *.mdns                              Idle\r\n\t\t  *.mdns                              Idle\r\n\t192.168.1.2.ntp                           Idle\r\n\t\t  *.snmpd                             Idle\r\n\t\t  *.ntp                               Idle\r\n\t\t  *.ntp                               Idle\r\n\tlocalhost.localdomain.ntp                      Idle\r\n\tmyhost2.ntp                               Idle\r\n\r\n\tUDP: IPv6\r\n\t   Local Address                     Remote Address                   State      If\r\n\t--------------------------------- --------------------------------- ---------- -----\r\n\t\t  *.dhcpv6-client                                               Idle       \r\n\t\t  *.*                                                           Unbound    \r\n\tlocalhost.44111                   localhost.44111                   Connected  \r\n\t\t  *.sunrpc                                                      Idle       \r\n\t\t  *.*                                                           Unbound    \r\n\t\t  *.38606                                                       Idle       \r\n\t\t  *.54122                                                       Idle       \r\n\t\t  *.*                                                           Unbound    \r\n\t\t  *.lockd                                                       Idle       \r\n\t\t  *.42840                                                       Idle       \r\n\t\t  *.39546                                                       Idle       \r\n\t\t  *.35383                                                       Idle       \r\n\t\t  *.40832                                                       Idle       \r\n\t\t  *.ntp                                                         Idle       \r\n\tlocalhost.ntp                                                       Idle       \r\n\r\n\tTCP: IPv4\r\n\t   Local Address        Remote Address    Swind Send-Q Rwind Recv-Q    State\r\n\t-------------------- -------------------- ----- ------ ----- ------ -----------\r\n\tlocalhost.localdomain.4999       *.*                0      0 128000      0 LISTEN\r\n\t\t  *.2001               *.*                0      0 128000      0 LISTEN\r\n\t\t  *.2002               *.*                0      0 128000      0 LISTEN\r\n\t\t  *.2003               *.*                0      0 128000      0 LISTEN\r\n\t\t  *.16049              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.5432               *.*                0      0 128000      0 LISTEN\r\n\t\t  *.sunrpc             *.*                0      0 128000      0 LISTEN\r\n\t\t  *.*                  *.*                0      0 128000      0 IDLE\r\n\t\t  *.sunrpc             *.*                0      0 128000      0 LISTEN\r\n\t\t  *.*                  *.*                0      0 128000      0 IDLE\r\n\t\t  *.54002              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.49023              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.55493              *.*                0      0 1049200      0 LISTEN\r\n\t\t  *.46659              *.*                0      0 1048952      0 LISTEN\r\n\t\t  *.lockd              *.*                0      0 1049200      0 LISTEN\r\n\t\t  *.lockd              *.*                0      0 1048952      0 LISTEN\r\n\t\t  *.45361              *.*                0      0 128000      0 LISTEN\r\n\tlocalhost.localdomain.36084 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\t\t  *.53943              *.*                0      0 128000      0 LISTEN\r\n\tlocalhost.localdomain.2001 localhost.localdomain.36084 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.44644 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2012 localhost.localdomain.44644 139060      0 139060      0 ESTABLISHED\r\n\t\t  *.36068              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.57055              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.login              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.finger             *.*                0      0 128000      0 LISTEN\r\n\t\t  *.telnet             *.*                0      0 128000      0 LISTEN\r\n\t\t  *.shell              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.40524              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.60838              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.47648              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.56894              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.48461              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.53672              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.42108              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.63720              *.*                0      0 128000      0 LISTEN\r\n\t\t  *.ssh                *.*                0      0 128000      0 LISTEN\r\n\tlocalhost.localdomain.smtp       *.*                0      0 128000      0 LISTEN\r\n\tlocalhost.localdomain.submission       *.*                0      0 128000      0 LISTEN\r\n\t\t  *.80                 *.*                0      0 128000      0 LISTEN\r\n\t\t  *.*                  *.*                0      0 128000      0 IDLE\r\n\t\t  *.2000               *.*                0      0 128000      0 LISTEN\r\n\t\t  *.*                  *.*                0      0 128000      0 IDLE\r\n\t\t  *.443                *.*                0      0 128000      0 LISTEN\r\n\t\t  *.*                  *.*                0      0 128000      0 IDLE\r\n\tlocalhost.localdomain.38137 localhost.localdomain.2003 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2003 localhost.localdomain.38137 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.63918 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.63918 139060      0 130880      0 ESTABLISHED\r\n\tmyhost2.ssh          192.168.1.4.7431     65548      0 128480      0 ESTABLISHED\r\n\tlocalhost.localdomain.34057 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.34057 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.37015 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.37015 139060      0 130880      0 ESTABLISHED\r\n\t\t  *.2011               *.*                0      0 131072      0 LISTEN\r\n\tlocalhost.localdomain.36598 localhost.localdomain.2002 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2002 localhost.localdomain.36598 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.4000       *.*                0      0 131072      0 LISTEN\r\n\tlocalhost.localdomain.53161 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2011 localhost.localdomain.53161 139060      0 139060      0 ESTABLISHED\r\n\tlocalhost.localdomain.43878 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.43878 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.50976 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.50976 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.62633 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2012 localhost.localdomain.62633 139060      0 139060      0 ESTABLISHED\r\n\t\t  *.2012               *.*                0      0 131072      0 LISTEN\r\n\tlocalhost.localdomain.34418 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2012 localhost.localdomain.34418 139060      0 139060      0 ESTABLISHED\r\n\tlocalhost.localdomain.34356 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2011 localhost.localdomain.34356 139060      0 139060      0 ESTABLISHED\r\n\tlocalhost.localdomain.62884 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.62884 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.52603 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2011 localhost.localdomain.52603 139060      0 139060      0 ESTABLISHED\r\n\tlocalhost.localdomain.35345 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\r\n\tlocalhost.localdomain.2001 localhost.localdomain.35345 139060      0 130880      0 ESTABLISHED\r\n\tlocalhost.localdomain.49022 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\r\n\tlocalhost.localdomain.42797 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\r\n\tlocalhost.localdomain.46312 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\r\n\r\n\tTCP: IPv6\r\n\t   Local Address                     Remote Address                 Swind Send-Q Rwind Recv-Q   State      If\r\n\t--------------------------------- --------------------------------- ----- ------ ----- ------ ----------- -----\r\n\t\t  *.5432                            *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.sunrpc                          *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.*                               *.*                             0      0 128000      0 IDLE        \r\n\t\t  *.54002                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.55493                           *.*                             0      0 1049200      0 LISTEN      \r\n\t\t  *.lockd                           *.*                             0      0 1049200      0 LISTEN      \r\n\t\t  *.53943                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.57055                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.login                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.finger                          *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.telnet                          *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.shell                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.60838                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.56894                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.53672                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.63720                           *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.ssh                             *.*                             0      0 128000      0 LISTEN      \r\n\tlocalhost.smtp                          *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.80                              *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.2000                            *.*                             0      0 128000      0 LISTEN      \r\n\t\t  *.443                             *.*                             0      0 128000      0 LISTEN      \r\n\r\n\tActive UNIX domain sockets\r\n\tAddress  Type          Vnode     Conn  Local Addr      Remote Addr\r\n\tffffff0119f107b8 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0119f10b68 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0119214050 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0119214400 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0119214b60 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0114119048 stream-ord 00000000\t 00000000\t                               \r\n\tffffff01141193f8 stream-ord ffffff011950e580 00000000\t /tmp/dbus-3YiNfXlgwn                \r\n\tffffff01141197a8 stream-ord ffffff0119217e40 00000000\t /tmp/dbus-7BNzAEnmYY                \r\n\tffffff0114119b58 stream-ord ffffff0114118e40 00000000\t /var/run/mDNSResponder                \r\n\tffffff01138b2040 stream-ord 00000000\t 00000000\t /var/run/dbus/system_bus_socket                \r\n\tffffff01138b23f0 stream-ord 00000000\t ffffff0111d0e780                /var/run/dbus/system_bus_socket \r\n\tffffff01138b27a0 stream-ord 00000000\t 00000000\t /var/run/dbus/system_bus_socket                \r\n\tffffff01138b2b50 stream-ord 00000000\t ffffff0111d0e780                /var/run/dbus/system_bus_socket \r\n\tffffff0113059038 stream-ord ffffff0113835140 00000000\t /var/run/.inetd.uds                \r\n\tffffff01130593e8 stream-ord 00000000\t ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \r\n\tffffff0113059798 stream-ord 00000000\t 00000000\t /var/run/hald/dbus-9g2E5zdff9                \r\n\tffffff0113059b48 dgram      ffffff01130b2e00 00000000\t /var/run/in.ndpd_mib                \r\n\tffffff011306d030 stream-ord ffffff0112bb5280 00000000\t /var/run/in.ndpd_ipadm                \r\n\tffffff011306d3e0 stream-ord 00000000\t 00000000\t /var/run/hald/dbus-9g2E5zdff9                \r\n\tffffff011306d790 stream-ord 00000000\t 00000000\t /var/run/hald/dbus-9g2E5zdff9                \r\n\tffffff011306db40 stream-ord 00000000\t ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \r\n\tffffff0112fcb028 stream-ord 00000000\t ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \r\n\tffffff0112fcb3d8 stream-ord 00000000\t 00000000\t /var/run/hald/dbus-9g2E5zdff9                \r\n\tffffff0112fcb788 stream-ord 00000000\t ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \r\n\tffffff0112fcbb38 stream-ord ffffff0112fd4080 00000000\t /tmp/.s.PGSQL.5432                \r\n\tffffff01122c4020 stream-ord 00000000\t 00000000\t /var/run/hald/dbus-F83hT9CGSX                \r\n\tffffff01122c43d0 stream-ord 00000000\t ffffff0112c5f280                /var/run/hald/dbus-F83hT9CGSX \r\n\tffffff01122c4780 stream-ord ffffff0112c5f280 00000000\t /var/run/hald/dbus-F83hT9CGSX                \r\n\tffffff01122c4b30 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0112294018 stream-ord 00000000\t 00000000\t                               \r\n\tffffff01122943c8 stream-ord ffffff0112c5f880 00000000\t /var/run/hald/dbus-9g2E5zdff9                \r\n\tffffff0112294778 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0112294b28 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0112278010 stream-ord ffffff01122c7880 00000000\t /tmp/dbus-PuCCfO9I4C                \r\n\tffffff01122783c0 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0112278770 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0112278b20 stream-ord ffffff01122a0b40 00000000\t /tmp/dbus-tfcmjjMClq                \r\n\tffffff0111d08008 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0111d083b8 stream-ord 00000000\t 00000000\t                               \r\n\tffffff0111d08768 stream-ord ffffff01121a2b40 00000000\t /tmp/dbus-cEAGQX2WDo                \r\n\tffffff0111d08b18 stream-ord ffffff0111d0e780 00000000\t /var/run/dbus/system_bus_socket                \r\n\r\nPostgresql is launched?\r\n             \r\n","title":"org.postgresql.util.PSQLException: Connection refused","body":"<p>I wanted to test execution of function of an indexing from other host because this function not absolutely correctly fulfilled in hadoop to the program. But I had problems with connection to a database from other host as it is explained below. I don't understand in what a problem.</p>\n\n<p>I wrote following the java program</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.logging.Level;\nimport java.util.*;\n\npublic class Sample {\n    public static void main (String[] args) throws IOException  {\n                    int CountComputers;\n            FileInputStream fstream = new FileInputStream(\n                    \"/export/hadoop-1.0.1/bin/countcomputers.txt\");\n            BufferedReader br = new BufferedReader(new InputStreamReader(fstream));\n            String result=br.readLine();\n            CountComputers=Integer.parseInt(result);\n            input.close();\n            fstream.close();\n            Connection con = null;\n            Statement st = null;\n                ResultSet rs = null;    \n               String url = \"jdbc:postgresql://192.168.1.8:5432/NexentaSearch\";\n                String user = \"postgres\";\n                String password = \"valter89\";\n            //Class.forName(\"org.postgresql.Driver\");\n            ArrayList&lt;String&gt; paths = new ArrayList&lt;String&gt;();\n            try\n            {\n                Class.forName(\"org.postgresql.Driver\");\n                con = DriverManager.getConnection(url, user, password);\n                        st = con.createStatement();\n                        rs = st.executeQuery(\"select path from tasks order by id\");\n                while (rs.next()) { paths.add(rs.getString(1)); };\n                PrintWriter zzz = null;\n                    try\n                    {\n                            zzz = new PrintWriter(new FileOutputStream(\"/export/hadoop-1.0.1/bin/readwaysfromdatabase.txt\"));\n                    }\n                    catch(FileNotFoundException e)\n                    {\n                            System.out.println(\"Error\");\n                            System.exit(0);\n                    }\n                    for (int i=0; i&lt;paths.size(); i++)\n                {\n                    zzz.println(\"paths[i]=\" + paths.get(i) + \"\\n\");\n                    }\n                    zzz.close();\n\n            }\n            catch (SQLException e) \n            {\n                System.out.println(\"Connection Failed! Check output console\");\n                e.printStackTrace();\n            }\n            catch (ClassNotFoundException e)\n            {\n                e.printStackTrace();\n            }\n        }\n}\n</code></pre>\n\n<p>I launched Sample.jar by means of a command</p>\n\n<pre><code>./java -jar -Djava.library.path=/opt/jdk1.7.0_06/lib /Samplejavaprogram/Sample.jar\n</code></pre>\n\n<p>and as a result I received the following messages</p>\n\n<pre><code>Connection Failed! Check output console\norg.postgresql.util.PSQLException: Connection refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:136)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)\n    at org.postgresql.jdbc2.AbstractJdbc2Connection.&lt;init&gt;(AbstractJdbc2Connection.java:125)\n    at org.postgresql.jdbc3.AbstractJdbc3Connection.&lt;init&gt;(AbstractJdbc3Connection.java:30)\n    at org.postgresql.jdbc3.Jdbc3Connection.&lt;init&gt;(Jdbc3Connection.java:24)\n    at org.postgresql.Driver.makeConnection(Driver.java:393)\n    at org.postgresql.Driver.connect(Driver.java:267)\n    at java.sql.DriverManager.getConnection(DriverManager.java:579)\n    at java.sql.DriverManager.getConnection(DriverManager.java:221)\n    at Sample.main(Sample.java:33)\nCaused by: java.net.ConnectException: Connection timed out\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)\n    at java.net.Socket.connect(Socket.java:579)\n    at java.net.Socket.connect(Socket.java:528)\n    at java.net.Socket.&lt;init&gt;(Socket.java:425)\n    at java.net.Socket.&lt;init&gt;(Socket.java:208)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:62)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:76)\n    ... 9 more\n</code></pre>\n\n<p>I launched the file from a host with the address 192.168.1.10. Help to eliminate an error. In what cause of error? What it is necessary to make?</p>\n\n<pre><code>netstat -a\n\n\nUDP: IPv4\n   Local Address        Remote Address      State\n-------------------- -------------------- ----------\n      *.bootpc                            Idle\n      *.dhcpv6-client                      Idle\n      *.*                                 Unbound\n      *.*                                 Unbound\n      *.sunrpc                            Idle\n      *.*                                 Unbound\n      *.38606                             Idle\n      *.sunrpc                            Idle\n      *.*                                 Unbound\n      *.40712                             Idle\n      *.*                                 Unbound\n      *.*                                 Unbound\n      *.*                                 Unbound\n      *.54122                             Idle\n      *.41742                             Idle\n      *.*                                 Unbound\n      *.lockd                             Idle\n      *.lockd                             Idle\n      *.59670                             Idle\n      *.42840                             Idle\n      *.43065                             Idle\n      *.39546                             Idle\n      *.34243                             Idle\n      *.35383                             Idle\n      *.40746                             Idle\n      *.40832                             Idle\n192.168.1.2.bootpc                        Idle\n      *.mdns                              Idle\n      *.mdns                              Idle\n192.168.1.2.ntp                           Idle\n      *.snmpd                             Idle\n      *.ntp                               Idle\n      *.ntp                               Idle\nlocalhost.localdomain.ntp                      Idle\nmyhost2.ntp                               Idle\n\nUDP: IPv6\n   Local Address                     Remote Address                   State      If\n--------------------------------- --------------------------------- ---------- -----\n      *.dhcpv6-client                                               Idle       \n      *.*                                                           Unbound    \nlocalhost.44111                   localhost.44111                   Connected  \n      *.sunrpc                                                      Idle       \n      *.*                                                           Unbound    \n      *.38606                                                       Idle       \n      *.54122                                                       Idle       \n      *.*                                                           Unbound    \n      *.lockd                                                       Idle       \n      *.42840                                                       Idle       \n      *.39546                                                       Idle       \n      *.35383                                                       Idle       \n      *.40832                                                       Idle       \n      *.ntp                                                         Idle       \nlocalhost.ntp                                                       Idle       \n\nTCP: IPv4\n   Local Address        Remote Address    Swind Send-Q Rwind Recv-Q    State\n-------------------- -------------------- ----- ------ ----- ------ -----------\nlocalhost.localdomain.4999       *.*                0      0 128000      0 LISTEN\n      *.2001               *.*                0      0 128000      0 LISTEN\n      *.2002               *.*                0      0 128000      0 LISTEN\n      *.2003               *.*                0      0 128000      0 LISTEN\n      *.16049              *.*                0      0 128000      0 LISTEN\n      *.5432               *.*                0      0 128000      0 LISTEN\n      *.sunrpc             *.*                0      0 128000      0 LISTEN\n      *.*                  *.*                0      0 128000      0 IDLE\n      *.sunrpc             *.*                0      0 128000      0 LISTEN\n      *.*                  *.*                0      0 128000      0 IDLE\n      *.54002              *.*                0      0 128000      0 LISTEN\n      *.49023              *.*                0      0 128000      0 LISTEN\n      *.55493              *.*                0      0 1049200      0 LISTEN\n      *.46659              *.*                0      0 1048952      0 LISTEN\n      *.lockd              *.*                0      0 1049200      0 LISTEN\n      *.lockd              *.*                0      0 1048952      0 LISTEN\n      *.45361              *.*                0      0 128000      0 LISTEN\nlocalhost.localdomain.36084 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\n      *.53943              *.*                0      0 128000      0 LISTEN\nlocalhost.localdomain.2001 localhost.localdomain.36084 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.44644 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2012 localhost.localdomain.44644 139060      0 139060      0 ESTABLISHED\n      *.36068              *.*                0      0 128000      0 LISTEN\n      *.57055              *.*                0      0 128000      0 LISTEN\n      *.login              *.*                0      0 128000      0 LISTEN\n      *.finger             *.*                0      0 128000      0 LISTEN\n      *.telnet             *.*                0      0 128000      0 LISTEN\n      *.shell              *.*                0      0 128000      0 LISTEN\n      *.40524              *.*                0      0 128000      0 LISTEN\n      *.60838              *.*                0      0 128000      0 LISTEN\n      *.47648              *.*                0      0 128000      0 LISTEN\n      *.56894              *.*                0      0 128000      0 LISTEN\n      *.48461              *.*                0      0 128000      0 LISTEN\n      *.53672              *.*                0      0 128000      0 LISTEN\n      *.42108              *.*                0      0 128000      0 LISTEN\n      *.63720              *.*                0      0 128000      0 LISTEN\n      *.ssh                *.*                0      0 128000      0 LISTEN\nlocalhost.localdomain.smtp       *.*                0      0 128000      0 LISTEN\nlocalhost.localdomain.submission       *.*                0      0 128000      0 LISTEN\n      *.80                 *.*                0      0 128000      0 LISTEN\n      *.*                  *.*                0      0 128000      0 IDLE\n      *.2000               *.*                0      0 128000      0 LISTEN\n      *.*                  *.*                0      0 128000      0 IDLE\n      *.443                *.*                0      0 128000      0 LISTEN\n      *.*                  *.*                0      0 128000      0 IDLE\nlocalhost.localdomain.38137 localhost.localdomain.2003 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2003 localhost.localdomain.38137 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.63918 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.63918 139060      0 130880      0 ESTABLISHED\nmyhost2.ssh          192.168.1.4.7431     65548      0 128480      0 ESTABLISHED\nlocalhost.localdomain.34057 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.34057 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.37015 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.37015 139060      0 130880      0 ESTABLISHED\n      *.2011               *.*                0      0 131072      0 LISTEN\nlocalhost.localdomain.36598 localhost.localdomain.2002 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2002 localhost.localdomain.36598 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.4000       *.*                0      0 131072      0 LISTEN\nlocalhost.localdomain.53161 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2011 localhost.localdomain.53161 139060      0 139060      0 ESTABLISHED\nlocalhost.localdomain.43878 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.43878 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.50976 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.50976 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.62633 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2012 localhost.localdomain.62633 139060      0 139060      0 ESTABLISHED\n      *.2012               *.*                0      0 131072      0 LISTEN\nlocalhost.localdomain.34418 localhost.localdomain.2012 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2012 localhost.localdomain.34418 139060      0 139060      0 ESTABLISHED\nlocalhost.localdomain.34356 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2011 localhost.localdomain.34356 139060      0 139060      0 ESTABLISHED\nlocalhost.localdomain.62884 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.62884 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.52603 localhost.localdomain.2011 34765      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2011 localhost.localdomain.52603 139060      0 139060      0 ESTABLISHED\nlocalhost.localdomain.35345 localhost.localdomain.2001 65440      0 139264      0 ESTABLISHED\nlocalhost.localdomain.2001 localhost.localdomain.35345 139060      0 130880      0 ESTABLISHED\nlocalhost.localdomain.49022 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\nlocalhost.localdomain.42797 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\nlocalhost.localdomain.46312 localhost.localdomain.2001 130880      0 139264      0 TIME_WAIT\n\nTCP: IPv6\n   Local Address                     Remote Address                 Swind Send-Q Rwind Recv-Q   State      If\n--------------------------------- --------------------------------- ----- ------ ----- ------ ----------- -----\n      *.5432                            *.*                             0      0 128000      0 LISTEN      \n      *.sunrpc                          *.*                             0      0 128000      0 LISTEN      \n      *.*                               *.*                             0      0 128000      0 IDLE        \n      *.54002                           *.*                             0      0 128000      0 LISTEN      \n      *.55493                           *.*                             0      0 1049200      0 LISTEN      \n      *.lockd                           *.*                             0      0 1049200      0 LISTEN      \n      *.53943                           *.*                             0      0 128000      0 LISTEN      \n      *.57055                           *.*                             0      0 128000      0 LISTEN      \n      *.login                           *.*                             0      0 128000      0 LISTEN      \n      *.finger                          *.*                             0      0 128000      0 LISTEN      \n      *.telnet                          *.*                             0      0 128000      0 LISTEN      \n      *.shell                           *.*                             0      0 128000      0 LISTEN      \n      *.60838                           *.*                             0      0 128000      0 LISTEN      \n      *.56894                           *.*                             0      0 128000      0 LISTEN      \n      *.53672                           *.*                             0      0 128000      0 LISTEN      \n      *.63720                           *.*                             0      0 128000      0 LISTEN      \n      *.ssh                             *.*                             0      0 128000      0 LISTEN      \nlocalhost.smtp                          *.*                             0      0 128000      0 LISTEN      \n      *.80                              *.*                             0      0 128000      0 LISTEN      \n      *.2000                            *.*                             0      0 128000      0 LISTEN      \n      *.443                             *.*                             0      0 128000      0 LISTEN      \n\nActive UNIX domain sockets\nAddress  Type          Vnode     Conn  Local Addr      Remote Addr\nffffff0119f107b8 stream-ord 00000000     00000000                                  \nffffff0119f10b68 stream-ord 00000000     00000000                                  \nffffff0119214050 stream-ord 00000000     00000000                                  \nffffff0119214400 stream-ord 00000000     00000000                                  \nffffff0119214b60 stream-ord 00000000     00000000                                  \nffffff0114119048 stream-ord 00000000     00000000                                  \nffffff01141193f8 stream-ord ffffff011950e580 00000000    /tmp/dbus-3YiNfXlgwn                \nffffff01141197a8 stream-ord ffffff0119217e40 00000000    /tmp/dbus-7BNzAEnmYY                \nffffff0114119b58 stream-ord ffffff0114118e40 00000000    /var/run/mDNSResponder                \nffffff01138b2040 stream-ord 00000000     00000000    /var/run/dbus/system_bus_socket                \nffffff01138b23f0 stream-ord 00000000     ffffff0111d0e780                /var/run/dbus/system_bus_socket \nffffff01138b27a0 stream-ord 00000000     00000000    /var/run/dbus/system_bus_socket                \nffffff01138b2b50 stream-ord 00000000     ffffff0111d0e780                /var/run/dbus/system_bus_socket \nffffff0113059038 stream-ord ffffff0113835140 00000000    /var/run/.inetd.uds                \nffffff01130593e8 stream-ord 00000000     ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \nffffff0113059798 stream-ord 00000000     00000000    /var/run/hald/dbus-9g2E5zdff9                \nffffff0113059b48 dgram      ffffff01130b2e00 00000000    /var/run/in.ndpd_mib                \nffffff011306d030 stream-ord ffffff0112bb5280 00000000    /var/run/in.ndpd_ipadm                \nffffff011306d3e0 stream-ord 00000000     00000000    /var/run/hald/dbus-9g2E5zdff9                \nffffff011306d790 stream-ord 00000000     00000000    /var/run/hald/dbus-9g2E5zdff9                \nffffff011306db40 stream-ord 00000000     ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \nffffff0112fcb028 stream-ord 00000000     ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \nffffff0112fcb3d8 stream-ord 00000000     00000000    /var/run/hald/dbus-9g2E5zdff9                \nffffff0112fcb788 stream-ord 00000000     ffffff0112c5f880                /var/run/hald/dbus-9g2E5zdff9 \nffffff0112fcbb38 stream-ord ffffff0112fd4080 00000000    /tmp/.s.PGSQL.5432                \nffffff01122c4020 stream-ord 00000000     00000000    /var/run/hald/dbus-F83hT9CGSX                \nffffff01122c43d0 stream-ord 00000000     ffffff0112c5f280                /var/run/hald/dbus-F83hT9CGSX \nffffff01122c4780 stream-ord ffffff0112c5f280 00000000    /var/run/hald/dbus-F83hT9CGSX                \nffffff01122c4b30 stream-ord 00000000     00000000                                  \nffffff0112294018 stream-ord 00000000     00000000                                  \nffffff01122943c8 stream-ord ffffff0112c5f880 00000000    /var/run/hald/dbus-9g2E5zdff9                \nffffff0112294778 stream-ord 00000000     00000000                                  \nffffff0112294b28 stream-ord 00000000     00000000                                  \nffffff0112278010 stream-ord ffffff01122c7880 00000000    /tmp/dbus-PuCCfO9I4C                \nffffff01122783c0 stream-ord 00000000     00000000                                  \nffffff0112278770 stream-ord 00000000     00000000                                  \nffffff0112278b20 stream-ord ffffff01122a0b40 00000000    /tmp/dbus-tfcmjjMClq                \nffffff0111d08008 stream-ord 00000000     00000000                                  \nffffff0111d083b8 stream-ord 00000000     00000000                                  \nffffff0111d08768 stream-ord ffffff01121a2b40 00000000    /tmp/dbus-cEAGQX2WDo                \nffffff0111d08b18 stream-ord ffffff0111d0e780 00000000    /var/run/dbus/system_bus_socket                \n</code></pre>\n\n<p>Postgresql is launched?</p>\n"},{"tags":["java","tomcat","web-applications","war"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1655807185,"post_id":72698802,"comment_id":128413483,"body_markdown":"how does your code create the file? Looks like it&#39;s an explicit temp file, not one that&#39;s expected to live for longer.","body":"how does your code create the file? Looks like it&#39;s an explicit temp file, not one that&#39;s expected to live for longer."},{"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"score":0,"creation_date":1655808204,"post_id":72698802,"comment_id":128413850,"body_markdown":"i added my codesnippet that writes the file(s)","body":"i added my codesnippet that writes the file(s)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655808493,"post_id":72698802,"comment_id":128413960,"body_markdown":"I&#39;m hoping that is not an example of what upstream devs refer to as &quot;Debian bork&quot; ;) (especially since I&#39;m a confirmed Debian user and also contemplating installing tomcat9 with apt). Maybe it&#39;s a security measure?","body":"I&#39;m hoping that is not an example of what upstream devs refer to as &quot;Debian bork&quot; ;) (especially since I&#39;m a confirmed Debian user and also contemplating installing tomcat9 with apt). Maybe it&#39;s a security measure?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655809069,"post_id":72698802,"comment_id":128414145,"body_markdown":"Also, it has to be said that `myuser` is probably not `tomcat`, the user under which tomcat9 runs on Debian. Does `tomcat` have permissions to write to that directory?","body":"Also, it has to be said that <code>myuser</code> is probably not <code>tomcat</code>, the user under which tomcat9 runs on Debian. Does <code>tomcat</code> have permissions to write to that directory?"},{"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"score":0,"creation_date":1655809225,"post_id":72698802,"comment_id":128414198,"body_markdown":"i am running it in a dev environment. Tomcat runs as root so it has full access. The directories also also exist so writing to it should be possible.","body":"i am running it in a dev environment. Tomcat runs as root so it has full access. The directories also also exist so writing to it should be possible."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655809615,"post_id":72698802,"comment_id":128414343,"body_markdown":"Really? Please post output of `ps faux | grep Bootstrap | grep -v &quot;^$USER&quot;`","body":"Really? Please post output of <code>ps faux | grep Bootstrap | grep -v &quot;^$USER&quot;</code>"},{"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"score":0,"creation_date":1655811970,"post_id":72698802,"comment_id":128415186,"body_markdown":"it seems as if i was wrong, here is the output:\n\ntomcat     11623  0.0 71.8 35319532 1505848 ?    Ssl  09:33   0:56 /usr/lib/jvm/default-java/bin/java &lt;omitted&gt;-Dignore.endorsed.dirs= -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat9 -Dcatalina.home=/usr/share/tomcat9 -Djava.io.tmpdir=/tmp org.apache.catalina.startup.Bootstrap start\n\ni tried to apply &quot;chmod 777&quot; to the /home/myuser/a1/ directory but it did not change anything.","body":"it seems as if i was wrong, here is the output:  tomcat     11623  0.0 71.8 35319532 1505848 ?    Ssl  09:33   0:56 /usr/lib/jvm/default-java/bin/java &lt;omitted&gt;-Dignore.endorsed.dirs= -classpath /usr/share/tomcat9/bin/bootstrap.jar:/usr/share/tomcat9/bin/&zwnj;&#8203;tomcat-juli.jar -Dcatalina.base=/var/lib/tomcat9 -Dcatalina.home=/usr/share/tomcat9 -Djava.io.tmpdir=/tmp org.apache.catalina.startup.Bootstrap start  i tried to apply &quot;chmod 777&quot; to the /home/myuser/a1/ directory but it did not change anything."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1655812575,"post_id":72698802,"comment_id":128415446,"body_markdown":"Does this answer your question? [How to allow Tomcat war app to write in folder](https://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder) (that is: You might run into Debian&#39;s sandboxing of your tomcat - it&#39;s running within a security manager)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/56827735/how-to-allow-tomcat-war-app-to-write-in-folder\">How to allow Tomcat war app to write in folder</a> (that is: You might run into Debian&#39;s sandboxing of your tomcat - it&#39;s running within a security manager)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655814671,"post_id":72698802,"comment_id":128416239,"body_markdown":"Ha. So I&#39;m reasonably comfortable in saying that having to provide a systemd override or indeed *anything* other than editing /var/lib/tomcat9/policy/catalina.policy *is* an example of &quot;Debian bork&quot; ;)","body":"Ha. So I&#39;m reasonably comfortable in saying that having to provide a systemd override or indeed <i>anything</i> other than editing /var/lib/tomcat9/policy/catalina.policy <i>is</i> an example of &quot;Debian bork&quot; ;)"}],"owner":{"account_id":14318904,"reputation":385,"user_id":10342912,"display_name":"eckad158"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656339360,"answer_count":0,"score":0,"last_activity_date":1655808128,"creation_date":1655805486,"question_id":72698802,"body_markdown":"i&#39;ve created a webapp that i deploy on the debian default tomcat9 server.\r\n\r\nI need to write PDF files to the local filesystem. So i create a folder and write them using the ByteArrayOutputStream and a FileOutputStream.\r\n\r\nThe webapp is deployed by copying the war file to the /var/lib/tomcat9/webapps directory.\r\n\r\nI want the files to be created in the following Path: \r\n**/home/myuser/rechnungsexport/a1/**\r\n\r\nwhen i run the code, the tomcat server creates them in the following path:\r\n\r\n**/tmp/systemd-private-6ce0d50d8582493fb365de9c539261d0-tomcat9.service-bsQJTg/home/myuser/rechnungsexport/a1/**\r\n\r\nThis is the Java code that writes the File\r\n\r\n            String lokalerDateiPfad = &quot;/home/myuser/rechnungsexport/a1/&quot;;\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tJasperExportManager.exportReportToPdfStream(jasperPrint, baos);\r\n\r\n\t\t\ttry (OutputStream outputStream = new FileOutputStream(lokalerDateiPfad + dateiName)) {\r\n\t\t\t\tbaos.writeTo(outputStream);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(e);\r\n\t\t\t}\r\n\r\nHow can i change this so that my application creates them in the correct directory ?\r\n","title":"Tomcat9 creates files in /tmp/systemd-private*** path instead of my given path","body":"<p>i've created a webapp that i deploy on the debian default tomcat9 server.</p>\n<p>I need to write PDF files to the local filesystem. So i create a folder and write them using the ByteArrayOutputStream and a FileOutputStream.</p>\n<p>The webapp is deployed by copying the war file to the /var/lib/tomcat9/webapps directory.</p>\n<p>I want the files to be created in the following Path:\n<strong>/home/myuser/rechnungsexport/a1/</strong></p>\n<p>when i run the code, the tomcat server creates them in the following path:</p>\n<p><strong>/tmp/systemd-private-6ce0d50d8582493fb365de9c539261d0-tomcat9.service-bsQJTg/home/myuser/rechnungsexport/a1/</strong></p>\n<p>This is the Java code that writes the File</p>\n<pre><code>        String lokalerDateiPfad = &quot;/home/myuser/rechnungsexport/a1/&quot;;\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        JasperExportManager.exportReportToPdfStream(jasperPrint, baos);\n\n        try (OutputStream outputStream = new FileOutputStream(lokalerDateiPfad + dateiName)) {\n            baos.writeTo(outputStream);\n        } catch (Exception e) {\n            logger.error(e);\n        }\n</code></pre>\n<p>How can i change this so that my application creates them in the correct directory ?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":13,"creation_date":1359621284,"post_id":1414755,"comment_id":20420175,"body_markdown":"A reason to do this is for testing the situation where there is an invalid enum value without introducing an invalid enum value in the core source.","body":"A reason to do this is for testing the situation where there is an invalid enum value without introducing an invalid enum value in the core source."},{"owner":{"account_id":280629,"reputation":5238,"user_id":576448,"accept_rate":40,"display_name":"peterk"},"score":0,"creation_date":1361570815,"post_id":1414755,"comment_id":21128544,"body_markdown":"Yes an example of &quot;linguistic&quot; purity.  I think what is desired is for the &quot;bookeeping&quot; labor saving idea of an auto incrementing set of integers like one has in C++ so you can start a new set as an extension of the old set starting at the 1+ the last value of the prior set, and if the entries are named inherit the names from the &quot;common subset&quot;.  Though the java enum has some nice things about it, it lacks the simple automated auto-incrementing integer declaring help that C++ enum provides.","body":"Yes an example of &quot;linguistic&quot; purity.  I think what is desired is for the &quot;bookeeping&quot; labor saving idea of an auto incrementing set of integers like one has in C++ so you can start a new set as an extension of the old set starting at the 1+ the last value of the prior set, and if the entries are named inherit the names from the &quot;common subset&quot;.  Though the java enum has some nice things about it, it lacks the simple automated auto-incrementing integer declaring help that C++ enum provides."},{"owner":{"account_id":465230,"reputation":22171,"user_id":869184,"accept_rate":40,"display_name":"Ilya"},"score":5,"creation_date":1411998668,"post_id":1414755,"comment_id":40903302,"body_markdown":"Actually, when you extend your enum with new values, you&#39;re creating not subclass, but superclass. You can use base enum values everywhere instead of &quot;extended&quot; enum, but not vice versa, so according to Liskov Substitution Principle, extended enum is superclass of base enum.","body":"Actually, when you extend your enum with new values, you&#39;re creating not subclass, but superclass. You can use base enum values everywhere instead of &quot;extended&quot; enum, but not vice versa, so according to Liskov Substitution Principle, extended enum is superclass of base enum."},{"owner":{"account_id":37853,"reputation":4899,"user_id":108350,"accept_rate":32,"display_name":"will"},"score":0,"creation_date":1488854579,"post_id":1414755,"comment_id":72405967,"body_markdown":"@Ilya ... yes that is true.  I point out that the question has definite real-world use-cases.  For argument sake, consider a _base_ Enum of: `PrimaryColours`; it is reasonable to want to _**super**-class_ this to Enum `PrimaryAndPastelColours` by adding new colour names.  Liskov is still the elephant in the room.  So why not begin with a base Enum of: `AllMyColours` -- And then one _might_ **sub**-class all colours to: `PrimaryAndPastelColours` and subsequently **sub**-class this to: `PrimaryColours` (keeping the hierarchy in mind). Java won&#39;t permit that either though.","body":"@Ilya ... yes that is true.  I point out that the question has definite real-world use-cases.  For argument sake, consider a <i>base</i> Enum of: <code>PrimaryColours</code>; it is reasonable to want to <i><b>super</b>-class</i> this to Enum <code>PrimaryAndPastelColours</code> by adding new colour names.  Liskov is still the elephant in the room.  So why not begin with a base Enum of: <code>AllMyColours</code> -- And then one <i>might</i> <b>sub</b>-class all colours to: <code>PrimaryAndPastelColours</code> and subsequently <b>sub</b>-class this to: <code>PrimaryColours</code> (keeping the hierarchy in mind). Java won&#39;t permit that either though."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":5,"up_vote_count":500,"is_accepted":true,"score":495,"last_activity_date":1252749184,"creation_date":1252749184,"answer_id":1414761,"question_id":1414755,"body_markdown":"No, you can&#39;t do this in Java. Aside from anything else, `d` would then presumably be an instance of `A` (given the normal idea of &quot;extends&quot;), but users who only knew about `A` wouldn&#39;t know about it - which defeats the point of an enum being a well-known set of values.\r\n\r\nIf you could tell us more about how you want to *use* this, we could potentially suggest alternative solutions.","title":"Can enums be subclassed to add new elements?","body":"<p>No, you can't do this in Java. Aside from anything else, <code>d</code> would then presumably be an instance of <code>A</code> (given the normal idea of \"extends\"), but users who only knew about <code>A</code> wouldn't know about it - which defeats the point of an enum being a well-known set of values.</p>\n\n<p>If you could tell us more about how you want to <em>use</em> this, we could potentially suggest alternative solutions.</p>\n"},{"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1655807979,"creation_date":1252754306,"answer_id":1414896,"question_id":1414755,"body_markdown":"The recommended solution to this is the [extensible enum pattern][1].\r\n\r\nThis involves creating an interface and using that where you currently use the enum. Then make the enum implement the interface. You can add more constants by adding an additional enum/class that also extends the interface. Here is the general idea:\r\n\r\n    public interface TrafficLights {\r\n      public abstract String getColour();\r\n    }\r\n    public enum StandardTrafficLights implements TrafficLights {\r\n      RED, YELLOW, GREEN;\r\n      public String getColour() {\r\n        return name();\r\n      }\r\n    }\r\n    public enum WeirdTrafficLights implements TrafficLights {\r\n      DOUBLE_RED;\r\n      public String getColour() {\r\n        return name();\r\n      }\r\n    }\r\n\r\nNote that if you want something like `TrafficLights.valueof(String)` you will have to implement it yourself.\r\n\r\n  [1]: https://dzone.com/articles/java-extensible-enum-with-interface","title":"Can enums be subclassed to add new elements?","body":"<p>The recommended solution to this is the <a href=\"https://dzone.com/articles/java-extensible-enum-with-interface\" rel=\"noreferrer\">extensible enum pattern</a>.</p>\n<p>This involves creating an interface and using that where you currently use the enum. Then make the enum implement the interface. You can add more constants by adding an additional enum/class that also extends the interface. Here is the general idea:</p>\n<pre><code>public interface TrafficLights {\n  public abstract String getColour();\n}\npublic enum StandardTrafficLights implements TrafficLights {\n  RED, YELLOW, GREEN;\n  public String getColour() {\n    return name();\n  }\n}\npublic enum WeirdTrafficLights implements TrafficLights {\n  DOUBLE_RED;\n  public String getColour() {\n    return name();\n  }\n}\n</code></pre>\n<p>Note that if you want something like <code>TrafficLights.valueof(String)</code> you will have to implement it yourself.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":336,"is_accepted":false,"score":335,"last_activity_date":1252754640,"creation_date":1252754640,"answer_id":1414904,"question_id":1414755,"body_markdown":"Enums represent a complete enumeration of possible values. So the (unhelpful) answer is no.\r\n\r\nAs an example of a real problem take weekdays, weekend days and, the union, days of week. We could define all days within days-of-week but then we would not be able to represent properties special to either weekdays and weekend-days.\r\n\r\nWhat we could do, is have three enum types with a mapping between weekdays/weekend-days and days-of-week.\r\n\r\n    public enum Weekday {\r\n        MON, TUE, WED, THU, FRI;\r\n        public DayOfWeek toDayOfWeek() { ... }\r\n    }\r\n    public enum WeekendDay {\r\n        SAT, SUN;\r\n        public DayOfWeek toDayOfWeek() { ... }\r\n    }\r\n    public enum DayOfWeek {\r\n        MON, TUE, WED, THU, FRI, SAT, SUN;\r\n    }\r\n\r\nAlternatively, we could have an open-ended interface for day-of-week:\r\n  \r\n    interface Day {\r\n        ...\r\n    }\r\n    public enum Weekday implements Day {\r\n        MON, TUE, WED, THU, FRI;\r\n    }\r\n    public enum WeekendDay implements Day {\r\n        SAT, SUN;\r\n    }\r\n\r\nOr we could combine the two approaches:\r\n\r\n    interface Day {\r\n        ...\r\n    }\r\n    public enum Weekday implements Day {\r\n        MON, TUE, WED, THU, FRI;\r\n        public DayOfWeek toDayOfWeek() { ... }\r\n    }\r\n    public enum WeekendDay implements Day {\r\n        SAT, SUN;\r\n        public DayOfWeek toDayOfWeek() { ... }\r\n    }\r\n    public enum DayOfWeek {\r\n        MON, TUE, WED, THU, FRI, SAT, SUN;\r\n        public Day toDay() { ... }\r\n    }\r\n\r\n  ","title":"Can enums be subclassed to add new elements?","body":"<p>Enums represent a complete enumeration of possible values. So the (unhelpful) answer is no.</p>\n\n<p>As an example of a real problem take weekdays, weekend days and, the union, days of week. We could define all days within days-of-week but then we would not be able to represent properties special to either weekdays and weekend-days.</p>\n\n<p>What we could do, is have three enum types with a mapping between weekdays/weekend-days and days-of-week.</p>\n\n<pre><code>public enum Weekday {\n    MON, TUE, WED, THU, FRI;\n    public DayOfWeek toDayOfWeek() { ... }\n}\npublic enum WeekendDay {\n    SAT, SUN;\n    public DayOfWeek toDayOfWeek() { ... }\n}\npublic enum DayOfWeek {\n    MON, TUE, WED, THU, FRI, SAT, SUN;\n}\n</code></pre>\n\n<p>Alternatively, we could have an open-ended interface for day-of-week:</p>\n\n<pre><code>interface Day {\n    ...\n}\npublic enum Weekday implements Day {\n    MON, TUE, WED, THU, FRI;\n}\npublic enum WeekendDay implements Day {\n    SAT, SUN;\n}\n</code></pre>\n\n<p>Or we could combine the two approaches:</p>\n\n<pre><code>interface Day {\n    ...\n}\npublic enum Weekday implements Day {\n    MON, TUE, WED, THU, FRI;\n    public DayOfWeek toDayOfWeek() { ... }\n}\npublic enum WeekendDay implements Day {\n    SAT, SUN;\n    public DayOfWeek toDayOfWeek() { ... }\n}\npublic enum DayOfWeek {\n    MON, TUE, WED, THU, FRI, SAT, SUN;\n    public Day toDay() { ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74845,"reputation":6638,"user_id":214890,"accept_rate":80,"display_name":"dsummersl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311281422,"creation_date":1311281422,"answer_id":6782603,"question_id":1414755,"body_markdown":"Having had this same problem myself I&#39;d like to post my perspective. I think that there are a couple motivating factors for doing something like this:\r\n\r\n - You want to have some related enum codes, but in different classes. In my case I had a base class with several codes defined in an associated enum. At some later date (today!) I wanted to provide some new functionality to the base class, which also meant new codes for the enum.\r\n - The derived class would support both the base classes&#39; enum as well as its own. No duplicate enum values! So: how to have an enum for the subclass that includes the enum&#39;s of its parent along with its new values.\r\n\r\nUsing an interface doesn&#39;t really cut it: you can accidentally get duplicate enum values. Not desirable.\r\n\r\nI ended up just combining the enums: this ensures that there cannot be any duplicate values, at the expense of being less tightly tied to its associated class. But, I figured the duplicate issue was my main concern...","title":"Can enums be subclassed to add new elements?","body":"<p>Having had this same problem myself I'd like to post my perspective. I think that there are a couple motivating factors for doing something like this:</p>\n\n<ul>\n<li>You want to have some related enum codes, but in different classes. In my case I had a base class with several codes defined in an associated enum. At some later date (today!) I wanted to provide some new functionality to the base class, which also meant new codes for the enum.</li>\n<li>The derived class would support both the base classes' enum as well as its own. No duplicate enum values! So: how to have an enum for the subclass that includes the enum's of its parent along with its new values.</li>\n</ul>\n\n<p>Using an interface doesn't really cut it: you can accidentally get duplicate enum values. Not desirable.</p>\n\n<p>I ended up just combining the enums: this ensures that there cannot be any duplicate values, at the expense of being less tightly tied to its associated class. But, I figured the duplicate issue was my main concern...</p>\n"},{"tags":[],"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar Wosiński"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1407842148,"creation_date":1338989311,"answer_id":10915199,"question_id":1414755,"body_markdown":"    enum A {a,b,c}\r\n    enum B extends A {d}\r\n    /*B is {a,b,c,d}*/\r\ncan be written as:\r\n\r\n    public enum All {\r\n    \ta\t\t(ClassGroup.A,ClassGroup.B),\r\n\t    b\t\t(ClassGroup.A,ClassGroup.B),\r\n\t    c\t\t(ClassGroup.A,ClassGroup.B),\r\n\t    d\t\t(ClassGroup.B) \r\n    ...\r\n\r\n- *ClassGroup.B.getMembers()* contains {a,b,c,d}\r\n\r\n**How it can be useful:** Let say we want something like:\r\nWe have events and we are using enums. Those enums can be grouped by similar processing. If we have operation with many elements, then some events starts operation, some are just step and other end the operation. To gather such operation and avoid long switch case we can group them as in example and use:\r\n\r\n    if(myEvent.is(State_StatusGroup.START)) makeNewOperationObject()..\r\n    if(myEnum.is(State_StatusGroup.STEP)) makeSomeSeriousChanges()..\r\n    if(myEnum.is(State_StatusGroup.FINISH)) closeTransactionOrSomething()..\r\n\r\nExample:\r\n\r\n    public enum AtmOperationStatus {\r\n\tSTARTED_BY_SERVER\t\t(State_StatusGroup.START),\r\n\tSUCCESS\t\t\t\t(State_StatusGroup.FINISH),\r\n\tFAIL_TOKEN_TIMEOUT\t\t(State_StatusGroup.FAIL, \r\n\t\t\t\t\t\tState_StatusGroup.FINISH),\r\n\tFAIL_NOT_COMPLETE\t\t(State_StatusGroup.FAIL,\r\n\t\t\t\t\t\tState_StatusGroup.STEP),\r\n\tFAIL_UNKNOWN\t\t\t(State_StatusGroup.FAIL,\r\n\t\t\t\t\t\tState_StatusGroup.FINISH),\r\n    (...)\r\n\t\r\n\tprivate AtmOperationStatus(StatusGroupInterface ... pList){\r\n\t\tfor (StatusGroupInterface group : pList){\r\n\t\t\tgroup.addMember(this);\r\n\t\t}\r\n\t}\r\n\tpublic boolean is(StatusGroupInterface with){\r\n\t\tfor (AtmOperationStatus eT : with.getMembers()){\r\n\t\t\tif( eT .equals(this))\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n    // Each group must implement this interface\r\n\tprivate interface StatusGroupInterface{\r\n\t\tEnumSet&lt;AtmOperationStatus&gt; getMembers();\r\n\t\tvoid addMember(AtmOperationStatus pE);\r\n\t}\r\n    // DEFINING GROUPS\r\n\tpublic enum State_StatusGroup implements StatusGroupInterface{\r\n\t\tSTART, STEP, FAIL, FINISH;\r\n\t\t\r\n\t\tprivate List&lt;AtmOperationStatus&gt; members = new LinkedList&lt;AtmOperationStatus&gt;();\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic EnumSet&lt;AtmOperationStatus&gt; getMembers() {\r\n\t\t\treturn EnumSet.copyOf(members);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void addMember(AtmOperationStatus pE) {\r\n\t\t\tmembers.add(pE);\r\n\t\t}\r\n\t\tstatic { // forcing initiation of dependent enum\r\n\t\t\ttry {\r\n\t\t\t\tClass.forName(AtmOperationStatus.class.getName()); \r\n\t\t\t} catch (ClassNotFoundException ex) { \r\n\t\t\t\tthrow new RuntimeException(&quot;Class AtmEventType not found&quot;, ex); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n    //Some use of upper code:\r\n    if (p.getStatus().is(AtmOperationStatus.State_StatusGroup.FINISH)) {\r\n    \t//do something\r\n    }else if (p.getStatus().is(AtmOperationStatus.State_StatusGroup.START)) {\r\n    \t//do something\t\t\r\n    }  \r\n\r\nAdd some more advanced:\r\n\r\n    public enum AtmEventType {\r\n\r\n\tUSER_DEPOSIT\t\t(Status_EventsGroup.WITH_STATUS,\r\n\t\t\t\t  Authorization_EventsGroup.USER_AUTHORIZED,\r\n\t\t\t\t  ChangedMoneyAccountState_EventsGroup.CHANGED,\r\n\t\t\t\t  OperationType_EventsGroup.DEPOSIT,\r\n\t\t\t\t  ApplyTo_EventsGroup.CHANNEL),\r\n\tSERVICE_DEPOSIT\t\t(Status_EventsGroup.WITH_STATUS,\r\n\t\t\t\t  Authorization_EventsGroup.TERMINAL_AUTHORIZATION,\r\n\t\t\t\t  ChangedMoneyAccountState_EventsGroup.CHANGED,\r\n\t\t\t\t  OperationType_EventsGroup.DEPOSIT,\r\n\t\t\t\t  ApplyTo_EventsGroup.CHANNEL),\r\n\tDEVICE_MALFUNCTION\t(Status_EventsGroup.WITHOUT_STATUS,\r\n\t\t\t\t  Authorization_EventsGroup.TERMINAL_AUTHORIZATION,\r\n\t\t\t\t  ChangedMoneyAccountState_EventsGroup.DID_NOT_CHANGED,\r\n\t\t\t\t  ApplyTo_EventsGroup.DEVICE),\r\n\tCONFIGURATION_4_C_CHANGED(Status_EventsGroup.WITHOUT_STATUS,\r\n\t\t\t\t  ApplyTo_EventsGroup.TERMINAL,\r\n\t\t\t\t  ChangedMoneyAccountState_EventsGroup.DID_NOT_CHANGED),\r\n    (...)\r\n\r\nAt above if we have some fail (myEvent.is(State_StatusGroup.FAIL)) then iterating by previous events we can easily check if we must revert money transfer by:\r\n\r\n    if(myEvent2.is(ChangedMoneyAccountState_EventsGroup.CHANGED)) rollBack()..\r\n\r\nIt can be useful for:\r\n&gt; 1. including explicite meta-data about processing logic, less to remember\r\n&gt; 2. implementing some of multi-inheritance\r\n&gt; 3. we don&#39;t want to use class structures, ex. for sending short status messages\r\n ","title":"Can enums be subclassed to add new elements?","body":"<pre><code>enum A {a,b,c}\nenum B extends A {d}\n/*B is {a,b,c,d}*/\n</code></pre>\n\n<p>can be written as:</p>\n\n<pre><code>public enum All {\n    a       (ClassGroup.A,ClassGroup.B),\n    b       (ClassGroup.A,ClassGroup.B),\n    c       (ClassGroup.A,ClassGroup.B),\n    d       (ClassGroup.B) \n...\n</code></pre>\n\n<ul>\n<li><em>ClassGroup.B.getMembers()</em> contains {a,b,c,d}</li>\n</ul>\n\n<p><strong>How it can be useful:</strong> Let say we want something like:\nWe have events and we are using enums. Those enums can be grouped by similar processing. If we have operation with many elements, then some events starts operation, some are just step and other end the operation. To gather such operation and avoid long switch case we can group them as in example and use:</p>\n\n<pre><code>if(myEvent.is(State_StatusGroup.START)) makeNewOperationObject()..\nif(myEnum.is(State_StatusGroup.STEP)) makeSomeSeriousChanges()..\nif(myEnum.is(State_StatusGroup.FINISH)) closeTransactionOrSomething()..\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>public enum AtmOperationStatus {\nSTARTED_BY_SERVER       (State_StatusGroup.START),\nSUCCESS             (State_StatusGroup.FINISH),\nFAIL_TOKEN_TIMEOUT      (State_StatusGroup.FAIL, \n                    State_StatusGroup.FINISH),\nFAIL_NOT_COMPLETE       (State_StatusGroup.FAIL,\n                    State_StatusGroup.STEP),\nFAIL_UNKNOWN            (State_StatusGroup.FAIL,\n                    State_StatusGroup.FINISH),\n(...)\n\nprivate AtmOperationStatus(StatusGroupInterface ... pList){\n    for (StatusGroupInterface group : pList){\n        group.addMember(this);\n    }\n}\npublic boolean is(StatusGroupInterface with){\n    for (AtmOperationStatus eT : with.getMembers()){\n        if( eT .equals(this))   return true;\n    }\n    return false;\n}\n// Each group must implement this interface\nprivate interface StatusGroupInterface{\n    EnumSet&lt;AtmOperationStatus&gt; getMembers();\n    void addMember(AtmOperationStatus pE);\n}\n// DEFINING GROUPS\npublic enum State_StatusGroup implements StatusGroupInterface{\n    START, STEP, FAIL, FINISH;\n\n    private List&lt;AtmOperationStatus&gt; members = new LinkedList&lt;AtmOperationStatus&gt;();\n\n    @Override\n    public EnumSet&lt;AtmOperationStatus&gt; getMembers() {\n        return EnumSet.copyOf(members);\n    }\n\n    @Override\n    public void addMember(AtmOperationStatus pE) {\n        members.add(pE);\n    }\n    static { // forcing initiation of dependent enum\n        try {\n            Class.forName(AtmOperationStatus.class.getName()); \n        } catch (ClassNotFoundException ex) { \n            throw new RuntimeException(\"Class AtmEventType not found\", ex); \n        }\n    }\n}\n}\n//Some use of upper code:\nif (p.getStatus().is(AtmOperationStatus.State_StatusGroup.FINISH)) {\n    //do something\n}else if (p.getStatus().is(AtmOperationStatus.State_StatusGroup.START)) {\n    //do something      \n}  \n</code></pre>\n\n<p>Add some more advanced:</p>\n\n<pre><code>public enum AtmEventType {\n\nUSER_DEPOSIT        (Status_EventsGroup.WITH_STATUS,\n              Authorization_EventsGroup.USER_AUTHORIZED,\n              ChangedMoneyAccountState_EventsGroup.CHANGED,\n              OperationType_EventsGroup.DEPOSIT,\n              ApplyTo_EventsGroup.CHANNEL),\nSERVICE_DEPOSIT     (Status_EventsGroup.WITH_STATUS,\n              Authorization_EventsGroup.TERMINAL_AUTHORIZATION,\n              ChangedMoneyAccountState_EventsGroup.CHANGED,\n              OperationType_EventsGroup.DEPOSIT,\n              ApplyTo_EventsGroup.CHANNEL),\nDEVICE_MALFUNCTION  (Status_EventsGroup.WITHOUT_STATUS,\n              Authorization_EventsGroup.TERMINAL_AUTHORIZATION,\n              ChangedMoneyAccountState_EventsGroup.DID_NOT_CHANGED,\n              ApplyTo_EventsGroup.DEVICE),\nCONFIGURATION_4_C_CHANGED(Status_EventsGroup.WITHOUT_STATUS,\n              ApplyTo_EventsGroup.TERMINAL,\n              ChangedMoneyAccountState_EventsGroup.DID_NOT_CHANGED),\n(...)\n</code></pre>\n\n<p>At above if we have some fail (myEvent.is(State_StatusGroup.FAIL)) then iterating by previous events we can easily check if we must revert money transfer by:</p>\n\n<pre><code>if(myEvent2.is(ChangedMoneyAccountState_EventsGroup.CHANGED)) rollBack()..\n</code></pre>\n\n<p>It can be useful for:</p>\n\n<blockquote>\n  <ol>\n  <li>including explicite meta-data about processing logic, less to remember</li>\n  <li>implementing some of multi-inheritance</li>\n  <li>we don't want to use class structures, ex. for sending short status messages</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1247421,"reputation":5274,"user_id":1208581,"display_name":"sulai"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1347188316,"creation_date":1347188316,"answer_id":12338498,"question_id":1414755,"body_markdown":"I tend to avoid enums, because they are not extensible. To stay with the example of the OP, if A is in a library and B in your own code, you can&#39;t extend A if it is an enum. This is how I sometimes replace enums:\r\n\r\n\r\n    // access like enum: A.a\r\n    public class A {\r\n    \tpublic static final A a = new A();\r\n    \tpublic static final A b = new A();\r\n    \tpublic static final A c = new A();\r\n\t/*\r\n\t * In case you need to identify your constant\r\n\t * in different JVMs, you need an id. This is the case if\r\n\t * your object is transfered between\r\n\t * different JVM instances (eg. save/load, or network).\r\n\t * Also, switch statements don&#39;t work with\r\n\t * Objects, but work with int.\r\n\t */\r\n    \tpublic static int maxId=0;\r\n    \tpublic int id = maxId++;\r\n    \tpublic int getId() { return id; }\r\n    }\r\n\r\n    public class B extends A {\r\n\t/*\r\n\t * good: you can do like\r\n\t * A x = getYourEnumFromSomeWhere();\r\n\t * if(x instanceof B) ...;\r\n\t * to identify which enum x\r\n\t * is of.\r\n\t */\r\n    \tpublic static final A d = new A();\r\n    }\r\n\r\n    public class C extends A {\r\n\t/* Good: e.getId() != d.getId()\r\n\t * Bad: in different JVMs, C and B\r\n\t * might be initialized in different order,\r\n\t * resulting in different IDs.\r\n\t * Workaround: use a fixed int, or hash code.\r\n\t */\r\n    \tpublic static final A e = new A();\r\n    \tpublic int getId() { return -32489132; };\r\n    }\r\n\r\nThere are some pits to avoid, see the comments in the code. Depending on your needs, this is a solid, extensible alternative to enums.","title":"Can enums be subclassed to add new elements?","body":"<p>I tend to avoid enums, because they are not extensible. To stay with the example of the OP, if A is in a library and B in your own code, you can't extend A if it is an enum. This is how I sometimes replace enums:</p>\n\n<pre><code>// access like enum: A.a\npublic class A {\n    public static final A a = new A();\n    public static final A b = new A();\n    public static final A c = new A();\n/*\n * In case you need to identify your constant\n * in different JVMs, you need an id. This is the case if\n * your object is transfered between\n * different JVM instances (eg. save/load, or network).\n * Also, switch statements don't work with\n * Objects, but work with int.\n */\n    public static int maxId=0;\n    public int id = maxId++;\n    public int getId() { return id; }\n}\n\npublic class B extends A {\n/*\n * good: you can do like\n * A x = getYourEnumFromSomeWhere();\n * if(x instanceof B) ...;\n * to identify which enum x\n * is of.\n */\n    public static final A d = new A();\n}\n\npublic class C extends A {\n/* Good: e.getId() != d.getId()\n * Bad: in different JVMs, C and B\n * might be initialized in different order,\n * resulting in different IDs.\n * Workaround: use a fixed int, or hash code.\n */\n    public static final A e = new A();\n    public int getId() { return -32489132; };\n}\n</code></pre>\n\n<p>There are some pits to avoid, see the comments in the code. Depending on your needs, this is a solid, extensible alternative to enums.</p>\n"},{"tags":[],"owner":{"account_id":469080,"reputation":3843,"user_id":875449,"display_name":"ChrisCantrell"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1363599359,"creation_date":1353159284,"answer_id":13431061,"question_id":1414755,"body_markdown":"Under the covers your ENUM is just a regular class generated by the compiler. That generated class extends `java.lang.Enum`. The technical reason you can&#39;t extend the generated class is that the generated class is `final`. The conceptual reasons for it being final are discussed in this topic. But I&#39;ll add the mechanics to the discussion.\r\n\r\nHere is a test enum:\r\n\r\n    public enum TEST {\t\r\n    \tONE, TWO, THREE;\r\n    }\r\n\r\nThe resulting code from javap:\r\n\r\n    public final class TEST extends java.lang.Enum&lt;TEST&gt; {\r\n      public static final TEST ONE;\r\n      public static final TEST TWO;\r\n      public static final TEST THREE;\r\n      static {};\r\n      public static TEST[] values();\r\n      public static TEST valueOf(java.lang.String);\r\n    }\r\n\r\nConceivably you could type this class on your own and drop the &quot;final&quot;. But the compiler prevents you from extending &quot;java.lang.Enum&quot; directly. You could decide NOT to extend java.lang.Enum, but then your class and its derived classes would not be an instanceof java.lang.Enum ... which might not really matter to you any way!\r\n\r\n","title":"Can enums be subclassed to add new elements?","body":"<p>Under the covers your ENUM is just a regular class generated by the compiler. That generated class extends <code>java.lang.Enum</code>. The technical reason you can't extend the generated class is that the generated class is <code>final</code>. The conceptual reasons for it being final are discussed in this topic. But I'll add the mechanics to the discussion.</p>\n\n<p>Here is a test enum:</p>\n\n<pre><code>public enum TEST {  \n    ONE, TWO, THREE;\n}\n</code></pre>\n\n<p>The resulting code from javap:</p>\n\n<pre><code>public final class TEST extends java.lang.Enum&lt;TEST&gt; {\n  public static final TEST ONE;\n  public static final TEST TWO;\n  public static final TEST THREE;\n  static {};\n  public static TEST[] values();\n  public static TEST valueOf(java.lang.String);\n}\n</code></pre>\n\n<p>Conceivably you could type this class on your own and drop the \"final\". But the compiler prevents you from extending \"java.lang.Enum\" directly. You could decide NOT to extend java.lang.Enum, but then your class and its derived classes would not be an instanceof java.lang.Enum ... which might not really matter to you any way!</p>\n"},{"tags":[],"owner":{"account_id":2171446,"reputation":1301,"user_id":1923328,"display_name":"Laurent Caillette"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1368905817,"creation_date":1368905817,"answer_id":16628239,"question_id":1414755,"body_markdown":"This is how I enhance the enum inheritance pattern with runtime check in static initializer.\r\nThe `BaseKind#checkEnumExtender` checks that &quot;extending&quot; enum declares all the values of the base enum in exactly the same way so `#name()` and `#ordinal()` remain fully compatible.\r\n\r\nThere is still copy-paste involved for declaring values but the program fails fast if somebody added or modified a value in the base class without updating extending ones.\r\n\r\n*Common behavior for different enums extending each other:*\r\n\r\n    public interface Kind {\r\n      /**\r\n       * Let&#39;s say we want some additional member.\r\n       */\r\n      String description() ;\r\n    \r\n      /**\r\n       * Standard {@code Enum} method.\r\n       */\r\n      String name() ;\r\n    \r\n      /**\r\n       * Standard {@code Enum} method.\r\n       */\r\n      int ordinal() ;\r\n    }\r\n\r\n*Base enum, with verifying method:*\r\n\r\n    public enum BaseKind implements Kind {\r\n    \r\n      FIRST( &quot;First&quot; ),\r\n      SECOND( &quot;Second&quot; ),\r\n    \r\n      ;\r\n    \r\n      private final String description ;\r\n    \r\n      public String description() {\r\n        return description ;\r\n      }\r\n    \r\n      private BaseKind( final String description ) {\r\n        this.description = description ;\r\n      }\r\n    \r\n      public static void checkEnumExtender(\r\n          final Kind[] baseValues,\r\n          final Kind[] extendingValues\r\n      ) {\r\n        if( extendingValues.length &lt; baseValues.length ) {\r\n          throw new IncorrectExtensionError( &quot;Only &quot; + extendingValues.length + &quot; values against &quot;\r\n              + baseValues.length + &quot; base values&quot; ) ;\r\n        }\r\n        for( int i = 0 ; i &lt; baseValues.length ; i ++ ) {\r\n          final Kind baseValue = baseValues[ i ] ;\r\n          final Kind extendingValue = extendingValues[ i ] ;\r\n          if( baseValue.ordinal() != extendingValue.ordinal() ) {\r\n            throw new IncorrectExtensionError( &quot;Base ordinal &quot; + baseValue.ordinal()\r\n                + &quot; doesn&#39;t match with &quot; + extendingValue.ordinal() ) ;\r\n          }\r\n          if( ! baseValue.name().equals( extendingValue.name() ) ) {\r\n            throw new IncorrectExtensionError( &quot;Base name[ &quot; + i + &quot;] &quot; + baseValue.name()\r\n                + &quot; doesn&#39;t match with &quot; + extendingValue.name() ) ;\r\n          }\r\n          if( ! baseValue.description().equals( extendingValue.description() ) ) {\r\n            throw new IncorrectExtensionError( &quot;Description[ &quot; + i + &quot;] &quot; + baseValue.description()\r\n                + &quot; doesn&#39;t match with &quot; + extendingValue.description() ) ;\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n      public static class IncorrectExtensionError extends Error {\r\n        public IncorrectExtensionError( final String s ) {\r\n          super( s ) ;\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n*Extension sample:*\r\n\r\n    public enum ExtendingKind implements Kind {\r\n      FIRST( BaseKind.FIRST ),\r\n      SECOND( BaseKind.SECOND ),\r\n      THIRD( &quot;Third&quot; ),\r\n      ;\r\n    \r\n      private final String description ;\r\n    \r\n      public String description() {\r\n        return description ;\r\n      }\r\n    \r\n      ExtendingKind( final BaseKind baseKind ) {\r\n        this.description = baseKind.description() ;\r\n      }\r\n    \r\n      ExtendingKind( final String description ) {\r\n        this.description = description ;\r\n      }\r\n    \r\n    }\r\n\r\n\r\n","title":"Can enums be subclassed to add new elements?","body":"<p>This is how I enhance the enum inheritance pattern with runtime check in static initializer.\nThe <code>BaseKind#checkEnumExtender</code> checks that \"extending\" enum declares all the values of the base enum in exactly the same way so <code>#name()</code> and <code>#ordinal()</code> remain fully compatible.</p>\n\n<p>There is still copy-paste involved for declaring values but the program fails fast if somebody added or modified a value in the base class without updating extending ones.</p>\n\n<p><em>Common behavior for different enums extending each other:</em></p>\n\n<pre><code>public interface Kind {\n  /**\n   * Let's say we want some additional member.\n   */\n  String description() ;\n\n  /**\n   * Standard {@code Enum} method.\n   */\n  String name() ;\n\n  /**\n   * Standard {@code Enum} method.\n   */\n  int ordinal() ;\n}\n</code></pre>\n\n<p><em>Base enum, with verifying method:</em></p>\n\n<pre><code>public enum BaseKind implements Kind {\n\n  FIRST( \"First\" ),\n  SECOND( \"Second\" ),\n\n  ;\n\n  private final String description ;\n\n  public String description() {\n    return description ;\n  }\n\n  private BaseKind( final String description ) {\n    this.description = description ;\n  }\n\n  public static void checkEnumExtender(\n      final Kind[] baseValues,\n      final Kind[] extendingValues\n  ) {\n    if( extendingValues.length &lt; baseValues.length ) {\n      throw new IncorrectExtensionError( \"Only \" + extendingValues.length + \" values against \"\n          + baseValues.length + \" base values\" ) ;\n    }\n    for( int i = 0 ; i &lt; baseValues.length ; i ++ ) {\n      final Kind baseValue = baseValues[ i ] ;\n      final Kind extendingValue = extendingValues[ i ] ;\n      if( baseValue.ordinal() != extendingValue.ordinal() ) {\n        throw new IncorrectExtensionError( \"Base ordinal \" + baseValue.ordinal()\n            + \" doesn't match with \" + extendingValue.ordinal() ) ;\n      }\n      if( ! baseValue.name().equals( extendingValue.name() ) ) {\n        throw new IncorrectExtensionError( \"Base name[ \" + i + \"] \" + baseValue.name()\n            + \" doesn't match with \" + extendingValue.name() ) ;\n      }\n      if( ! baseValue.description().equals( extendingValue.description() ) ) {\n        throw new IncorrectExtensionError( \"Description[ \" + i + \"] \" + baseValue.description()\n            + \" doesn't match with \" + extendingValue.description() ) ;\n      }\n    }\n  }\n\n\n  public static class IncorrectExtensionError extends Error {\n    public IncorrectExtensionError( final String s ) {\n      super( s ) ;\n    }\n  }\n\n}\n</code></pre>\n\n<p><em>Extension sample:</em></p>\n\n<pre><code>public enum ExtendingKind implements Kind {\n  FIRST( BaseKind.FIRST ),\n  SECOND( BaseKind.SECOND ),\n  THIRD( \"Third\" ),\n  ;\n\n  private final String description ;\n\n  public String description() {\n    return description ;\n  }\n\n  ExtendingKind( final BaseKind baseKind ) {\n    this.description = baseKind.description() ;\n  }\n\n  ExtendingKind( final String description ) {\n    this.description = description ;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1603799296,"creation_date":1406027398,"answer_id":24885759,"question_id":1414755,"body_markdown":"In case you missed it, there&#39;s a chapter in the excellent Joshua Bloch&#39;s book &quot;[Effective Java, 2nd edition](http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683)&quot;.\r\n\r\n* Chapter 6 - Enums and Annotations  \r\n * Item 34 : **Emulate extensible enums with interfaces**\r\n\r\n\r\n\r\nJust the conclusion :\r\n&gt; A minor disadvantage of the use of interfaces to emulate extensible enums is\r\nthose implementations cannot be inherited from one enum type to another. In the\r\ncase of our Operation example, the logic to store and retrieve the symbol associated\r\nwith an operation is duplicated in BasicOperation and ExtendedOperation.\r\nIn this case, it doesn’t matter because very little code is duplicated. If there were a\r\na larger amount of shared functionality, you could encapsulate it in a helper class or\r\na static helper method to eliminate the code duplication.  \r\n\r\n&gt; In summary, while you cannot write an extensible enum type, you can\r\nemulate it by writing an interface to go with a basic enum type that implements\r\nthe interface. This allows clients to write their own enums that implement\r\nthe interface. These enums can then be used wherever the basic enum type can be\r\nused, assuming APIs are written in terms of the interface.","title":"Can enums be subclassed to add new elements?","body":"<p>In case you missed it, there's a chapter in the excellent Joshua Bloch's book &quot;<a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java, 2nd edition</a>&quot;.</p>\n<ul>\n<li>Chapter 6 - Enums and Annotations</li>\n<li>Item 34 : <strong>Emulate extensible enums with interfaces</strong></li>\n</ul>\n<p>Just the conclusion :</p>\n<blockquote>\n<p>A minor disadvantage of the use of interfaces to emulate extensible enums is\nthose implementations cannot be inherited from one enum type to another. In the\ncase of our Operation example, the logic to store and retrieve the symbol associated\nwith an operation is duplicated in BasicOperation and ExtendedOperation.\nIn this case, it doesn’t matter because very little code is duplicated. If there were a\na larger amount of shared functionality, you could encapsulate it in a helper class or\na static helper method to eliminate the code duplication.</p>\n</blockquote>\n<blockquote>\n<p>In summary, while you cannot write an extensible enum type, you can\nemulate it by writing an interface to go with a basic enum type that implements\nthe interface. This allows clients to write their own enums that implement\nthe interface. These enums can then be used wherever the basic enum type can be\nused, assuming APIs are written in terms of the interface.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4275576,"reputation":889,"user_id":4398350,"display_name":"Juan Pablo G"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1420299534,"creation_date":1419704359,"answer_id":27670163,"question_id":1414755,"body_markdown":"Here is a way how I found how to extend a enum into other enum, is a very straighfoward approach:\r\n\r\nSuposse you have a enum with common constants:\r\n\r\n\r\n    public interface ICommonInterface {\r\n    \r\n        String getName();\r\n    \r\n    }\r\n    \r\n    \r\n    public enum CommonEnum implements ICommonInterface {\r\n        P_EDITABLE(&quot;editable&quot;),\r\n        P_ACTIVE(&quot;active&quot;),\r\n        P_ID(&quot;id&quot;);\r\n    \r\n        private final String name;\r\n    \r\n        EnumCriteriaComun(String name) {\r\n            name= name;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nthen you can try to do a manual extends in this way:\r\n\r\n\r\n    \r\n    public enum SubEnum implements ICommonInterface {\r\n        P_EDITABLE(CommonEnum.P_EDITABLE ),\r\n        P_ACTIVE(CommonEnum.P_ACTIVE),\r\n        P_ID(CommonEnum.P_ID),\r\n        P_NEW_CONSTANT(&quot;new_constant&quot;);\r\n    \r\n        private final String name;\r\n    \r\n        EnumCriteriaComun(CommonEnum commonEnum) {\r\n            name= commonEnum.name;\r\n        }\r\n\r\n        EnumCriteriaComun(String name) {\r\n            name= name;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\nof course every time you need to extend a constant you have to modify your SubEnum files.\r\n","title":"Can enums be subclassed to add new elements?","body":"<p>Here is a way how I found how to extend a enum into other enum, is a very straighfoward approach:</p>\n\n<p>Suposse you have a enum with common constants:</p>\n\n<pre><code>public interface ICommonInterface {\n\n    String getName();\n\n}\n\n\npublic enum CommonEnum implements ICommonInterface {\n    P_EDITABLE(\"editable\"),\n    P_ACTIVE(\"active\"),\n    P_ID(\"id\");\n\n    private final String name;\n\n    EnumCriteriaComun(String name) {\n        name= name;\n    }\n\n    @Override\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>then you can try to do a manual extends in this way:</p>\n\n<pre><code>public enum SubEnum implements ICommonInterface {\n    P_EDITABLE(CommonEnum.P_EDITABLE ),\n    P_ACTIVE(CommonEnum.P_ACTIVE),\n    P_ID(CommonEnum.P_ID),\n    P_NEW_CONSTANT(\"new_constant\");\n\n    private final String name;\n\n    EnumCriteriaComun(CommonEnum commonEnum) {\n        name= commonEnum.name;\n    }\n\n    EnumCriteriaComun(String name) {\n        name= name;\n    }\n\n    @Override\n    public String getName() {\n        return this.name;\n    }\n}\n</code></pre>\n\n<p>of course every time you need to extend a constant you have to modify your SubEnum files.</p>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439278159,"creation_date":1439278159,"answer_id":31935721,"question_id":1414755,"body_markdown":"My way to code that would be as follows:\r\n\r\n    // enum A { a, b, c }\r\n    static final Set&lt;Short&gt; enumA = new LinkedHashSet&lt;&gt;(Arrays.asList(new Short[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;}));\r\n\r\n    // enum B extends A { d }\r\n    static final Set&lt;Short&gt; enumB = new LinkedHashSet&lt;&gt;(enumA);\r\n    static {\r\n        enumB.add((short) &#39;d&#39;);\r\n        // If you have to add more elements:\r\n        // enumB.addAll(Arrays.asList(new Short[]{ &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;♯&#39;, &#39;♭&#39; }));\r\n    }\r\n\r\n`LinkedHashSet` provides both that each entry only exists once, and that their order is preserved. If order doesn’t matter, you can use `HashSet` instead. The following code is **not possible** in Java:\r\n\r\n    for (A a : B.values()) { // enum B extends A { d }\r\n        switch (a) {\r\n            case a:\r\n            case b:\r\n            case c:\r\n                System.out.println(&quot;Value is: &quot; + a.toString());\r\n            break;\r\n            default:\r\n                throw new IllegalStateException(&quot;This should never happen.&quot;);\r\n        }\r\n    }\r\n\r\nThe code can be written as follows:\r\n\r\n    for (Short a : enumB) {\r\n        switch (a) {\r\n            case &#39;a&#39;:\r\n            case &#39;b&#39;:\r\n            case &#39;c&#39;:\r\n                System.out.println(&quot;Value is: &quot; + new String(Character.toChars(a)));\r\n            break;\r\n            default:\r\n                throw new IllegalStateException(&quot;This should never happen.&quot;);\r\n        }\r\n    }\r\n\r\nFrom Java 7 onwards you can even do the same with `String`:\r\n\r\n    // enum A { BACKWARDS, FOREWARDS, STANDING }\r\n    static final Set&lt;String&gt; enumA = new LinkedHashSet&lt;&gt;(Arrays.asList(new String[] {\r\n            &quot;BACKWARDS&quot;, &quot;FOREWARDS&quot;, &quot;STANDING&quot; }));\r\n\r\n    // enum B extends A { JUMP }\r\n    static final Set&lt;String&gt; enumB = new LinkedHashSet&lt;&gt;(enumA);\r\n    static {\r\n        enumB.add(&quot;JUMP&quot;);\r\n    }\r\n\r\nUsing the enum replacement:\r\n\r\n    for (String a : enumB) {\r\n        switch (a) {\r\n            case &quot;BACKWARDS&quot;:\r\n            case &quot;FOREWARDS&quot;:\r\n            case &quot;STANDING&quot;:\r\n                System.out.println(&quot;Value is: &quot; + a);\r\n            break;\r\n            default:\r\n                throw new IllegalStateException(&quot;This should never happen.&quot;);\r\n        }\r\n    }","title":"Can enums be subclassed to add new elements?","body":"<p>My way to code that would be as follows:</p>\n\n<pre><code>// enum A { a, b, c }\nstatic final Set&lt;Short&gt; enumA = new LinkedHashSet&lt;&gt;(Arrays.asList(new Short[]{'a','b','c'}));\n\n// enum B extends A { d }\nstatic final Set&lt;Short&gt; enumB = new LinkedHashSet&lt;&gt;(enumA);\nstatic {\n    enumB.add((short) 'd');\n    // If you have to add more elements:\n    // enumB.addAll(Arrays.asList(new Short[]{ 'e', 'f', 'g', '♯', '♭' }));\n}\n</code></pre>\n\n<p><code>LinkedHashSet</code> provides both that each entry only exists once, and that their order is preserved. If order doesn’t matter, you can use <code>HashSet</code> instead. The following code is <strong>not possible</strong> in Java:</p>\n\n<pre><code>for (A a : B.values()) { // enum B extends A { d }\n    switch (a) {\n        case a:\n        case b:\n        case c:\n            System.out.println(\"Value is: \" + a.toString());\n        break;\n        default:\n            throw new IllegalStateException(\"This should never happen.\");\n    }\n}\n</code></pre>\n\n<p>The code can be written as follows:</p>\n\n<pre><code>for (Short a : enumB) {\n    switch (a) {\n        case 'a':\n        case 'b':\n        case 'c':\n            System.out.println(\"Value is: \" + new String(Character.toChars(a)));\n        break;\n        default:\n            throw new IllegalStateException(\"This should never happen.\");\n    }\n}\n</code></pre>\n\n<p>From Java 7 onwards you can even do the same with <code>String</code>:</p>\n\n<pre><code>// enum A { BACKWARDS, FOREWARDS, STANDING }\nstatic final Set&lt;String&gt; enumA = new LinkedHashSet&lt;&gt;(Arrays.asList(new String[] {\n        \"BACKWARDS\", \"FOREWARDS\", \"STANDING\" }));\n\n// enum B extends A { JUMP }\nstatic final Set&lt;String&gt; enumB = new LinkedHashSet&lt;&gt;(enumA);\nstatic {\n    enumB.add(\"JUMP\");\n}\n</code></pre>\n\n<p>Using the enum replacement:</p>\n\n<pre><code>for (String a : enumB) {\n    switch (a) {\n        case \"BACKWARDS\":\n        case \"FOREWARDS\":\n        case \"STANDING\":\n            System.out.println(\"Value is: \" + a);\n        break;\n        default:\n            throw new IllegalStateException(\"This should never happen.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1474361981,"creation_date":1474361981,"answer_id":39589807,"question_id":1414755,"body_markdown":"**Based on @Tom Hawtin - tackline** answer we add switch support,\r\n\r\n    interface Day&lt;T&gt; {\r\n        ...\r\n      T valueOf();\r\n    }\r\n\r\n    public enum Weekday implements Day&lt;Weekday&gt; {\r\n        MON, TUE, WED, THU, FRI;\r\n       Weekday valueOf(){\r\n         return valueOf(name());\r\n       }\r\n    }\r\n\r\n    public enum WeekendDay implements Day&lt;WeekendDay&gt; {\r\n        SAT, SUN;\r\n       WeekendDay valueOf(){\r\n         return valueOf(name());\r\n       }\r\n    }\r\n\r\n    Day&lt;Weekday&gt; wds = Weekday.MON;\r\n    Day&lt;WeekendDay&gt; wends = WeekendDay.SUN;\r\n\r\n    switch(wds.valueOf()){\r\n        case MON:\r\n        case TUE:\r\n        case WED:\r\n        case THU:\r\n        case FRI:\r\n    }\r\n\r\n    switch(wends.valueOf()){\r\n        case SAT:\r\n        case SUN:\r\n    }\r\n","title":"Can enums be subclassed to add new elements?","body":"<p><strong>Based on @Tom Hawtin - tackline</strong> answer we add switch support,</p>\n\n<pre><code>interface Day&lt;T&gt; {\n    ...\n  T valueOf();\n}\n\npublic enum Weekday implements Day&lt;Weekday&gt; {\n    MON, TUE, WED, THU, FRI;\n   Weekday valueOf(){\n     return valueOf(name());\n   }\n}\n\npublic enum WeekendDay implements Day&lt;WeekendDay&gt; {\n    SAT, SUN;\n   WeekendDay valueOf(){\n     return valueOf(name());\n   }\n}\n\nDay&lt;Weekday&gt; wds = Weekday.MON;\nDay&lt;WeekendDay&gt; wends = WeekendDay.SUN;\n\nswitch(wds.valueOf()){\n    case MON:\n    case TUE:\n    case WED:\n    case THU:\n    case FRI:\n}\n\nswitch(wends.valueOf()){\n    case SAT:\n    case SUN:\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3747452,"reputation":421,"user_id":3115798,"accept_rate":100,"display_name":"Dr4gon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478794558,"creation_date":1478794558,"answer_id":40532219,"question_id":1414755,"body_markdown":"In the hopes this elegant solution of a colleague of mine is even seen in this long post I&#39;d like to share this approach for subclassing which follows the interface approach and beyond.\r\n\r\nPlease be aware that we use custom exceptions here and this code won&#39;t compile unless you replace it with your exceptions.\r\n\r\nThe documentation is extensive and I hope it&#39;s understandable for most of you.\r\n\r\nThe interface that every subclassed enum needs to implement.\r\n\r\n    public interface Parameter {\r\n      /**\r\n       * Retrieve the parameters name.\r\n       *\r\n       * @return the name of the parameter\r\n       */\r\n      String getName();\r\n    \r\n      /**\r\n       * Retrieve the parameters type.\r\n       *\r\n       * @return the {@link Class} according to the type of the parameter\r\n       */\r\n      Class&lt;?&gt; getType();\r\n    \r\n      /**\r\n       * Matches the given string with this parameters value pattern (if applicable). This helps to find\r\n       * out if the given string is a syntactically valid candidate for this parameters value.\r\n       *\r\n       * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to check for\r\n       * @return &lt;code&gt;true&lt;/code&gt; in case this parameter has no pattern defined or the given string\r\n       *         matches the defined one, &lt;code&gt;false&lt;/code&gt; in case &lt;code&gt;valueStr&lt;/code&gt; is\r\n       *         &lt;code&gt;null&lt;/code&gt; or an existing pattern is not matched\r\n       */\r\n      boolean match(final String valueStr);\r\n    \r\n      /**\r\n       * This method works as {@link #match(String)} but throws an exception if not matched.\r\n       *\r\n       * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to check for\r\n       * @throws ArgumentException with code\r\n       *           &lt;dl&gt;\r\n       *           &lt;dt&gt;PARAM_MISSED&lt;/dt&gt;\r\n       *           &lt;dd&gt;if &lt;code&gt;valueStr&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;&lt;/dd&gt;\r\n       *           &lt;dt&gt;PARAM_BAD&lt;/dt&gt;\r\n       *           &lt;dd&gt;if pattern is not matched&lt;/dd&gt;\r\n       *           &lt;/dl&gt;\r\n       */\r\n      void matchEx(final String valueStr) throws ArgumentException;\r\n    \r\n      /**\r\n       * Parses a value for this parameter from the given string. This method honors the parameters data\r\n       * type and potentially other criteria defining a valid value (e.g. a pattern).\r\n       *\r\n       * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to parse the parameter value from\r\n       * @return the parameter value according to the parameters type (see {@link #getType()}) or\r\n       *         &lt;code&gt;null&lt;/code&gt; in case &lt;code&gt;valueStr&lt;/code&gt; was &lt;code&gt;null&lt;/code&gt;.\r\n       * @throws ArgumentException in case &lt;code&gt;valueStr&lt;/code&gt; is not parsable as a value for this\r\n       *           parameter.\r\n       */\r\n      Object parse(final String valueStr) throws ArgumentException;\r\n    \r\n      /**\r\n       * Converts the given value to its external form as it is accepted by {@link #parse(String)}. For\r\n       * most (ordinary) parameters this is simply a call to {@link String#valueOf(Object)}. In case the\r\n       * parameter types {@link Object#toString()} method does not return the external form (e.g. for\r\n       * enumerations), this method has to be implemented accordingly.\r\n       *\r\n       * @param value &lt;i&gt;mandatory&lt;/i&gt; - the parameters value\r\n       * @return the external form of the parameters value, never &lt;code&gt;null&lt;/code&gt;\r\n       * @throws InternalServiceException in case the given &lt;code&gt;value&lt;/code&gt; does not match\r\n       *           {@link #getType()}\r\n       */\r\n      String toString(final Object value) throws InternalServiceException;\r\n    }\r\n\r\nThe implementing ENUM base class.\r\n\r\n    public enum Parameters implements Parameter {\r\n      /**\r\n       * ANY ENUM VALUE\r\n       */\r\n      VALUE(new ParameterImpl&lt;String&gt;(&quot;VALUE&quot;, String.class, &quot;[A-Za-z]{3,10}&quot;));\r\n    \r\n      /**\r\n       * The parameter wrapped by this enum constant.\r\n       */\r\n      private Parameter param;\r\n    \r\n      /**\r\n       * Constructor.\r\n       *\r\n       * @param param &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #param}\r\n       */\r\n      private Parameters(final Parameter param) {\r\n        this.param = param;\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public String getName() {\r\n        return this.param.getName();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public Class&lt;?&gt; getType() {\r\n        return this.param.getType();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public boolean match(final String valueStr) {\r\n        return this.param.match(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public void matchEx(final String valueStr) {\r\n        this.param.matchEx(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public Object parse(final String valueStr) throws ArgumentException {\r\n        return this.param.parse(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public String toString(final Object value) throws InternalServiceException {\r\n        return this.param.toString(value);\r\n      }\r\n    }\r\n\r\nThe subclassed ENUM which &quot;inherits&quot; from base class.\r\n\r\n    public enum ExtendedParameters implements Parameter {\r\n      /**\r\n       * ANY ENUM VALUE\r\n       */\r\n      VALUE(my.package.name.VALUE);\r\n\t  \r\n\t  /**\r\n       * EXTENDED ENUM VALUE\r\n       */\r\n      EXTENDED_VALUE(new ParameterImpl&lt;String&gt;(&quot;EXTENDED_VALUE&quot;, String.class, &quot;[0-9A-Za-z_.-]{1,20}&quot;));\r\n    \r\n      /**\r\n       * The parameter wrapped by this enum constant.\r\n       */\r\n      private Parameter param;\r\n    \r\n      /**\r\n       * Constructor.\r\n       *\r\n       * @param param &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #param}\r\n       */\r\n      private Parameters(final Parameter param) {\r\n        this.param = param;\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public String getName() {\r\n        return this.param.getName();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public Class&lt;?&gt; getType() {\r\n        return this.param.getType();\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public boolean match(final String valueStr) {\r\n        return this.param.match(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public void matchEx(final String valueStr) {\r\n        this.param.matchEx(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public Object parse(final String valueStr) throws ArgumentException {\r\n        return this.param.parse(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public String toString(final Object value) throws InternalServiceException {\r\n        return this.param.toString(value);\r\n      }\r\n    }\r\n    \r\nFinally the generic ParameterImpl to add some utilities.\r\n\r\n\r\n    public class ParameterImpl&lt;T&gt; implements Parameter {\r\n      /**\r\n       * The default pattern for numeric (integer, long) parameters.\r\n       */\r\n      private static final Pattern NUMBER_PATTERN = Pattern.compile(&quot;[0-9]+&quot;);\r\n    \r\n      /**\r\n       * The default pattern for parameters of type boolean.\r\n       */\r\n      private static final Pattern BOOLEAN_PATTERN = Pattern.compile(&quot;0|1|true|false&quot;);\r\n    \r\n      /**\r\n       * The name of the parameter, never &lt;code&gt;null&lt;/code&gt;.\r\n       */\r\n      private final String name;\r\n    \r\n      /**\r\n       * The data type of the parameter.\r\n       */\r\n      private final Class&lt;T&gt; type;\r\n    \r\n      /**\r\n       * The validation pattern for the parameters values. This may be &lt;code&gt;null&lt;/code&gt;.\r\n       */\r\n      private final Pattern validator;\r\n    \r\n      /**\r\n       * Shortcut constructor without &lt;code&gt;validatorPattern&lt;/code&gt;.\r\n       *\r\n       * @param name &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #name}\r\n       * @param type &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #type}\r\n       */\r\n      public ParameterImpl(final String name, final Class&lt;T&gt; type) {\r\n        this(name, type, null);\r\n      }\r\n    \r\n      /**\r\n       * Constructor.\r\n       *\r\n       * @param name &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #name}\r\n       * @param type &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #type}\r\n       * @param validatorPattern - &lt;i&gt;optional&lt;/i&gt; - the pattern for {@link #validator}\r\n       *          &lt;dl&gt;\r\n       *          &lt;dt style=&quot;margin-top:0.25cm;&quot;&gt;&lt;i&gt;Note:&lt;/i&gt;\r\n       *          &lt;dd&gt;The default validation patterns {@link #NUMBER_PATTERN} or\r\n       *          {@link #BOOLEAN_PATTERN} are applied accordingly.\r\n       *          &lt;/dl&gt;\r\n       */\r\n      public ParameterImpl(final String name, final Class&lt;T&gt; type, final String validatorPattern) {\r\n        this.name = name;\r\n        this.type = type;\r\n        if (null != validatorPattern) {\r\n          this.validator = Pattern.compile(validatorPattern);\r\n    \r\n        } else if (Integer.class == this.type || Long.class == this.type) {\r\n          this.validator = NUMBER_PATTERN;\r\n        } else if (Boolean.class == this.type) {\r\n          this.validator = BOOLEAN_PATTERN;\r\n        } else {\r\n          this.validator = null;\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public boolean match(final String valueStr) {\r\n        if (null == valueStr) {\r\n          return false;\r\n        }\r\n        if (null != this.validator) {\r\n          final Matcher matcher = this.validator.matcher(valueStr);\r\n          return matcher.matches();\r\n        }\r\n        return true;\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public void matchEx(final String valueStr) throws ArgumentException {\r\n        if (false == this.match(valueStr)) {\r\n          if (null == valueStr) {\r\n            throw ArgumentException.createEx(ErrorCode.PARAM_MISSED, &quot;The value must not be null&quot;,\r\n                this.name);\r\n          }\r\n          throw ArgumentException.createEx(ErrorCode.PARAM_BAD, &quot;The value must match the pattern: &quot;\r\n              + this.validator.pattern(), this.name);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Parse the parameters value from the given string value according to {@link #type}. Additional\r\n       * the value is checked by {@link #matchEx(String)}.\r\n       *\r\n       * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string value to parse the value from\r\n       * @return the parsed value, may be &lt;code&gt;null&lt;/code&gt;\r\n       * @throws ArgumentException in case the parameter:\r\n       *           &lt;ul&gt;\r\n       *           &lt;li&gt;does not {@link #matchEx(String)} the {@link #validator}&lt;/li&gt;\r\n       *           &lt;li&gt;cannot be parsed according to {@link #type}&lt;/li&gt;\r\n       *           &lt;/ul&gt;\r\n       * @throws InternalServiceException in case the type {@link #type} cannot be handled. This is a\r\n       *           programming error.\r\n       */\r\n      @Override\r\n      public T parse(final String valueStr) throws ArgumentException, InternalServiceException {\r\n        if (null == valueStr) {\r\n          return null;\r\n        }\r\n        this.matchEx(valueStr);\r\n    \r\n        if (String.class == this.type) {\r\n          return this.type.cast(valueStr);\r\n        }\r\n        if (Boolean.class == this.type) {\r\n          return this.type.cast(Boolean.valueOf((&quot;1&quot;.equals(valueStr)) || Boolean.valueOf(valueStr)));\r\n        }\r\n        try {\r\n          if (Integer.class == this.type) {\r\n            return this.type.cast(Integer.valueOf(valueStr));\r\n          }\r\n          if (Long.class == this.type) {\r\n            return this.type.cast(Long.valueOf(valueStr));\r\n          }\r\n        } catch (final NumberFormatException e) {\r\n          throw ArgumentException.createEx(ErrorCode.PARAM_BAD, &quot;The value cannot be parsed as &quot;\r\n              + this.type.getSimpleName().toLowerCase() + &quot;.&quot;, this.name);\r\n        }\r\n    \r\n        return this.parseOther(valueStr);\r\n      }\r\n    \r\n      /**\r\n       * Field access for {@link #name}.\r\n       *\r\n       * @return the value of {@link #name}.\r\n       */\r\n      @Override\r\n      public String getName() {\r\n        return this.name;\r\n      }\r\n    \r\n      /**\r\n       * Field access for {@link #type}.\r\n       *\r\n       * @return the value of {@link #type}.\r\n       */\r\n      @Override\r\n      public Class&lt;T&gt; getType() {\r\n        return this.type;\r\n      }\r\n    \r\n      /**\r\n       * {@inheritDoc}\r\n       */\r\n      @Override\r\n      public final String toString(final Object value) throws InternalServiceException {\r\n        if (false == this.type.isAssignableFrom(value.getClass())) {\r\n          throw new InternalServiceException(ErrorCode.PANIC,\r\n              &quot;Parameter.toString(): Bad type of value. Expected {0} but is {1}.&quot;, this.type.getName(),\r\n              value.getClass().getName());\r\n        }\r\n        if (String.class == this.type || Integer.class == this.type || Long.class == this.type) {\r\n          return String.valueOf(value);\r\n        }\r\n        if (Boolean.class == this.type) {\r\n          return Boolean.TRUE.equals(value) ? &quot;1&quot; : &quot;0&quot;;\r\n        }\r\n    \r\n        return this.toStringOther(value);\r\n      }\r\n    \r\n      /**\r\n       * Parse parameter values of other (non standard types). This method is called by\r\n       * {@link #parse(String)} in case {@link #type} is none of the supported standard types (currently\r\n       * String, Boolean, Integer and Long). It is intended for extensions.\r\n       * &lt;dl&gt;\r\n       * &lt;dt style=&quot;margin-top:0.25cm;&quot;&gt;&lt;i&gt;Note:&lt;/i&gt;\r\n       * &lt;dd&gt;This default implementation always throws an InternalServiceException.\r\n       * &lt;/dl&gt;\r\n       *\r\n       * @param valueStr &lt;i&gt;mandatory&lt;/i&gt; - the string value to parse the value from\r\n       * @return the parsed value, may be &lt;code&gt;null&lt;/code&gt;\r\n       * @throws ArgumentException in case the parameter cannot be parsed according to {@link #type}\r\n       * @throws InternalServiceException in case the type {@link #type} cannot be handled. This is a\r\n       *           programming error.\r\n       */\r\n      protected T parseOther(final String valueStr) throws ArgumentException, InternalServiceException {\r\n        throw new InternalServiceException(ErrorCode.PANIC,\r\n            &quot;ParameterImpl.parseOther(): Unsupported parameter type: &quot; + this.type.getName());\r\n      }\r\n    \r\n      /**\r\n       * Convert the values of other (non standard types) to their external form. This method is called\r\n       * by {@link #toString(Object)} in case {@link #type} is none of the supported standard types\r\n       * (currently String, Boolean, Integer and Long). It is intended for extensions.\r\n       * &lt;dl&gt;\r\n       * &lt;dt style=&quot;margin-top:0.25cm;&quot;&gt;&lt;i&gt;Note:&lt;/i&gt;\r\n       * &lt;dd&gt;This default implementation always throws an InternalServiceException.\r\n       * &lt;/dl&gt;\r\n       *\r\n       * @param value &lt;i&gt;mandatory&lt;/i&gt; - the parameters value\r\n       * @return the external form of the parameters value, never &lt;code&gt;null&lt;/code&gt;\r\n       * @throws InternalServiceException in case the given &lt;code&gt;value&lt;/code&gt; does not match\r\n       *           {@link #getClass()}\r\n       */\r\n      protected String toStringOther(final Object value) throws InternalServiceException {\r\n        throw new InternalServiceException(ErrorCode.PANIC,\r\n            &quot;ParameterImpl.toStringOther(): Unsupported parameter type: &quot; + this.type.getName());\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can enums be subclassed to add new elements?","body":"<p>In the hopes this elegant solution of a colleague of mine is even seen in this long post I'd like to share this approach for subclassing which follows the interface approach and beyond.</p>\n\n<p>Please be aware that we use custom exceptions here and this code won't compile unless you replace it with your exceptions.</p>\n\n<p>The documentation is extensive and I hope it's understandable for most of you.</p>\n\n<p>The interface that every subclassed enum needs to implement.</p>\n\n<pre><code>public interface Parameter {\n  /**\n   * Retrieve the parameters name.\n   *\n   * @return the name of the parameter\n   */\n  String getName();\n\n  /**\n   * Retrieve the parameters type.\n   *\n   * @return the {@link Class} according to the type of the parameter\n   */\n  Class&lt;?&gt; getType();\n\n  /**\n   * Matches the given string with this parameters value pattern (if applicable). This helps to find\n   * out if the given string is a syntactically valid candidate for this parameters value.\n   *\n   * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to check for\n   * @return &lt;code&gt;true&lt;/code&gt; in case this parameter has no pattern defined or the given string\n   *         matches the defined one, &lt;code&gt;false&lt;/code&gt; in case &lt;code&gt;valueStr&lt;/code&gt; is\n   *         &lt;code&gt;null&lt;/code&gt; or an existing pattern is not matched\n   */\n  boolean match(final String valueStr);\n\n  /**\n   * This method works as {@link #match(String)} but throws an exception if not matched.\n   *\n   * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to check for\n   * @throws ArgumentException with code\n   *           &lt;dl&gt;\n   *           &lt;dt&gt;PARAM_MISSED&lt;/dt&gt;\n   *           &lt;dd&gt;if &lt;code&gt;valueStr&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;&lt;/dd&gt;\n   *           &lt;dt&gt;PARAM_BAD&lt;/dt&gt;\n   *           &lt;dd&gt;if pattern is not matched&lt;/dd&gt;\n   *           &lt;/dl&gt;\n   */\n  void matchEx(final String valueStr) throws ArgumentException;\n\n  /**\n   * Parses a value for this parameter from the given string. This method honors the parameters data\n   * type and potentially other criteria defining a valid value (e.g. a pattern).\n   *\n   * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string to parse the parameter value from\n   * @return the parameter value according to the parameters type (see {@link #getType()}) or\n   *         &lt;code&gt;null&lt;/code&gt; in case &lt;code&gt;valueStr&lt;/code&gt; was &lt;code&gt;null&lt;/code&gt;.\n   * @throws ArgumentException in case &lt;code&gt;valueStr&lt;/code&gt; is not parsable as a value for this\n   *           parameter.\n   */\n  Object parse(final String valueStr) throws ArgumentException;\n\n  /**\n   * Converts the given value to its external form as it is accepted by {@link #parse(String)}. For\n   * most (ordinary) parameters this is simply a call to {@link String#valueOf(Object)}. In case the\n   * parameter types {@link Object#toString()} method does not return the external form (e.g. for\n   * enumerations), this method has to be implemented accordingly.\n   *\n   * @param value &lt;i&gt;mandatory&lt;/i&gt; - the parameters value\n   * @return the external form of the parameters value, never &lt;code&gt;null&lt;/code&gt;\n   * @throws InternalServiceException in case the given &lt;code&gt;value&lt;/code&gt; does not match\n   *           {@link #getType()}\n   */\n  String toString(final Object value) throws InternalServiceException;\n}\n</code></pre>\n\n<p>The implementing ENUM base class.</p>\n\n<pre><code>public enum Parameters implements Parameter {\n  /**\n   * ANY ENUM VALUE\n   */\n  VALUE(new ParameterImpl&lt;String&gt;(\"VALUE\", String.class, \"[A-Za-z]{3,10}\"));\n\n  /**\n   * The parameter wrapped by this enum constant.\n   */\n  private Parameter param;\n\n  /**\n   * Constructor.\n   *\n   * @param param &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #param}\n   */\n  private Parameters(final Parameter param) {\n    this.param = param;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public String getName() {\n    return this.param.getName();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Class&lt;?&gt; getType() {\n    return this.param.getType();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public boolean match(final String valueStr) {\n    return this.param.match(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public void matchEx(final String valueStr) {\n    this.param.matchEx(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Object parse(final String valueStr) throws ArgumentException {\n    return this.param.parse(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public String toString(final Object value) throws InternalServiceException {\n    return this.param.toString(value);\n  }\n}\n</code></pre>\n\n<p>The subclassed ENUM which \"inherits\" from base class.</p>\n\n<pre><code>public enum ExtendedParameters implements Parameter {\n  /**\n   * ANY ENUM VALUE\n   */\n  VALUE(my.package.name.VALUE);\n\n  /**\n   * EXTENDED ENUM VALUE\n   */\n  EXTENDED_VALUE(new ParameterImpl&lt;String&gt;(\"EXTENDED_VALUE\", String.class, \"[0-9A-Za-z_.-]{1,20}\"));\n\n  /**\n   * The parameter wrapped by this enum constant.\n   */\n  private Parameter param;\n\n  /**\n   * Constructor.\n   *\n   * @param param &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #param}\n   */\n  private Parameters(final Parameter param) {\n    this.param = param;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public String getName() {\n    return this.param.getName();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Class&lt;?&gt; getType() {\n    return this.param.getType();\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public boolean match(final String valueStr) {\n    return this.param.match(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public void matchEx(final String valueStr) {\n    this.param.matchEx(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public Object parse(final String valueStr) throws ArgumentException {\n    return this.param.parse(valueStr);\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public String toString(final Object value) throws InternalServiceException {\n    return this.param.toString(value);\n  }\n}\n</code></pre>\n\n<p>Finally the generic ParameterImpl to add some utilities.</p>\n\n<pre><code>public class ParameterImpl&lt;T&gt; implements Parameter {\n  /**\n   * The default pattern for numeric (integer, long) parameters.\n   */\n  private static final Pattern NUMBER_PATTERN = Pattern.compile(\"[0-9]+\");\n\n  /**\n   * The default pattern for parameters of type boolean.\n   */\n  private static final Pattern BOOLEAN_PATTERN = Pattern.compile(\"0|1|true|false\");\n\n  /**\n   * The name of the parameter, never &lt;code&gt;null&lt;/code&gt;.\n   */\n  private final String name;\n\n  /**\n   * The data type of the parameter.\n   */\n  private final Class&lt;T&gt; type;\n\n  /**\n   * The validation pattern for the parameters values. This may be &lt;code&gt;null&lt;/code&gt;.\n   */\n  private final Pattern validator;\n\n  /**\n   * Shortcut constructor without &lt;code&gt;validatorPattern&lt;/code&gt;.\n   *\n   * @param name &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #name}\n   * @param type &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #type}\n   */\n  public ParameterImpl(final String name, final Class&lt;T&gt; type) {\n    this(name, type, null);\n  }\n\n  /**\n   * Constructor.\n   *\n   * @param name &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #name}\n   * @param type &lt;i&gt;mandatory&lt;/i&gt; - the value for {@link #type}\n   * @param validatorPattern - &lt;i&gt;optional&lt;/i&gt; - the pattern for {@link #validator}\n   *          &lt;dl&gt;\n   *          &lt;dt style=\"margin-top:0.25cm;\"&gt;&lt;i&gt;Note:&lt;/i&gt;\n   *          &lt;dd&gt;The default validation patterns {@link #NUMBER_PATTERN} or\n   *          {@link #BOOLEAN_PATTERN} are applied accordingly.\n   *          &lt;/dl&gt;\n   */\n  public ParameterImpl(final String name, final Class&lt;T&gt; type, final String validatorPattern) {\n    this.name = name;\n    this.type = type;\n    if (null != validatorPattern) {\n      this.validator = Pattern.compile(validatorPattern);\n\n    } else if (Integer.class == this.type || Long.class == this.type) {\n      this.validator = NUMBER_PATTERN;\n    } else if (Boolean.class == this.type) {\n      this.validator = BOOLEAN_PATTERN;\n    } else {\n      this.validator = null;\n    }\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public boolean match(final String valueStr) {\n    if (null == valueStr) {\n      return false;\n    }\n    if (null != this.validator) {\n      final Matcher matcher = this.validator.matcher(valueStr);\n      return matcher.matches();\n    }\n    return true;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public void matchEx(final String valueStr) throws ArgumentException {\n    if (false == this.match(valueStr)) {\n      if (null == valueStr) {\n        throw ArgumentException.createEx(ErrorCode.PARAM_MISSED, \"The value must not be null\",\n            this.name);\n      }\n      throw ArgumentException.createEx(ErrorCode.PARAM_BAD, \"The value must match the pattern: \"\n          + this.validator.pattern(), this.name);\n    }\n  }\n\n  /**\n   * Parse the parameters value from the given string value according to {@link #type}. Additional\n   * the value is checked by {@link #matchEx(String)}.\n   *\n   * @param valueStr &lt;i&gt;optional&lt;/i&gt; - the string value to parse the value from\n   * @return the parsed value, may be &lt;code&gt;null&lt;/code&gt;\n   * @throws ArgumentException in case the parameter:\n   *           &lt;ul&gt;\n   *           &lt;li&gt;does not {@link #matchEx(String)} the {@link #validator}&lt;/li&gt;\n   *           &lt;li&gt;cannot be parsed according to {@link #type}&lt;/li&gt;\n   *           &lt;/ul&gt;\n   * @throws InternalServiceException in case the type {@link #type} cannot be handled. This is a\n   *           programming error.\n   */\n  @Override\n  public T parse(final String valueStr) throws ArgumentException, InternalServiceException {\n    if (null == valueStr) {\n      return null;\n    }\n    this.matchEx(valueStr);\n\n    if (String.class == this.type) {\n      return this.type.cast(valueStr);\n    }\n    if (Boolean.class == this.type) {\n      return this.type.cast(Boolean.valueOf((\"1\".equals(valueStr)) || Boolean.valueOf(valueStr)));\n    }\n    try {\n      if (Integer.class == this.type) {\n        return this.type.cast(Integer.valueOf(valueStr));\n      }\n      if (Long.class == this.type) {\n        return this.type.cast(Long.valueOf(valueStr));\n      }\n    } catch (final NumberFormatException e) {\n      throw ArgumentException.createEx(ErrorCode.PARAM_BAD, \"The value cannot be parsed as \"\n          + this.type.getSimpleName().toLowerCase() + \".\", this.name);\n    }\n\n    return this.parseOther(valueStr);\n  }\n\n  /**\n   * Field access for {@link #name}.\n   *\n   * @return the value of {@link #name}.\n   */\n  @Override\n  public String getName() {\n    return this.name;\n  }\n\n  /**\n   * Field access for {@link #type}.\n   *\n   * @return the value of {@link #type}.\n   */\n  @Override\n  public Class&lt;T&gt; getType() {\n    return this.type;\n  }\n\n  /**\n   * {@inheritDoc}\n   */\n  @Override\n  public final String toString(final Object value) throws InternalServiceException {\n    if (false == this.type.isAssignableFrom(value.getClass())) {\n      throw new InternalServiceException(ErrorCode.PANIC,\n          \"Parameter.toString(): Bad type of value. Expected {0} but is {1}.\", this.type.getName(),\n          value.getClass().getName());\n    }\n    if (String.class == this.type || Integer.class == this.type || Long.class == this.type) {\n      return String.valueOf(value);\n    }\n    if (Boolean.class == this.type) {\n      return Boolean.TRUE.equals(value) ? \"1\" : \"0\";\n    }\n\n    return this.toStringOther(value);\n  }\n\n  /**\n   * Parse parameter values of other (non standard types). This method is called by\n   * {@link #parse(String)} in case {@link #type} is none of the supported standard types (currently\n   * String, Boolean, Integer and Long). It is intended for extensions.\n   * &lt;dl&gt;\n   * &lt;dt style=\"margin-top:0.25cm;\"&gt;&lt;i&gt;Note:&lt;/i&gt;\n   * &lt;dd&gt;This default implementation always throws an InternalServiceException.\n   * &lt;/dl&gt;\n   *\n   * @param valueStr &lt;i&gt;mandatory&lt;/i&gt; - the string value to parse the value from\n   * @return the parsed value, may be &lt;code&gt;null&lt;/code&gt;\n   * @throws ArgumentException in case the parameter cannot be parsed according to {@link #type}\n   * @throws InternalServiceException in case the type {@link #type} cannot be handled. This is a\n   *           programming error.\n   */\n  protected T parseOther(final String valueStr) throws ArgumentException, InternalServiceException {\n    throw new InternalServiceException(ErrorCode.PANIC,\n        \"ParameterImpl.parseOther(): Unsupported parameter type: \" + this.type.getName());\n  }\n\n  /**\n   * Convert the values of other (non standard types) to their external form. This method is called\n   * by {@link #toString(Object)} in case {@link #type} is none of the supported standard types\n   * (currently String, Boolean, Integer and Long). It is intended for extensions.\n   * &lt;dl&gt;\n   * &lt;dt style=\"margin-top:0.25cm;\"&gt;&lt;i&gt;Note:&lt;/i&gt;\n   * &lt;dd&gt;This default implementation always throws an InternalServiceException.\n   * &lt;/dl&gt;\n   *\n   * @param value &lt;i&gt;mandatory&lt;/i&gt; - the parameters value\n   * @return the external form of the parameters value, never &lt;code&gt;null&lt;/code&gt;\n   * @throws InternalServiceException in case the given &lt;code&gt;value&lt;/code&gt; does not match\n   *           {@link #getClass()}\n   */\n  protected String toStringOther(final Object value) throws InternalServiceException {\n    throw new InternalServiceException(ErrorCode.PANIC,\n        \"ParameterImpl.toStringOther(): Unsupported parameter type: \" + this.type.getName());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2996802,"reputation":41,"user_id":2543191,"display_name":"user2543191"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532614099,"creation_date":1493998981,"answer_id":43808949,"question_id":1414755,"body_markdown":"As an aid to understanding why extending an Enum is not reasonable at the language implementation level to consider what would happen if you passed an instance of the extended Enum to a routine that only understands the base Enum. A switch that the compiler promised had all cases covered would in fact not cover those extended Enum values. \r\n\r\nThis further emphasizes that Java Enum values are not integers such as C&#39;s are, for instances: to use a Java Enum as an array index you must explicitly ask for its ordinal() member, to give a java Enum an arbitrary integer value you must add an explicit field for that and reference that named member.\r\n\r\nThis is not a comment on the OP&#39;s desire, just on why Java ain&#39;t never going to do it.","title":"Can enums be subclassed to add new elements?","body":"<p>As an aid to understanding why extending an Enum is not reasonable at the language implementation level to consider what would happen if you passed an instance of the extended Enum to a routine that only understands the base Enum. A switch that the compiler promised had all cases covered would in fact not cover those extended Enum values. </p>\n\n<p>This further emphasizes that Java Enum values are not integers such as C's are, for instances: to use a Java Enum as an array index you must explicitly ask for its ordinal() member, to give a java Enum an arbitrary integer value you must add an explicit field for that and reference that named member.</p>\n\n<p>This is not a comment on the OP's desire, just on why Java ain't never going to do it.</p>\n"},{"tags":[],"owner":{"account_id":7326059,"reputation":658,"user_id":5580426,"accept_rate":33,"display_name":"Guillaume Robbe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501238017,"creation_date":1501238017,"answer_id":45371203,"question_id":1414755,"body_markdown":"I suggest you take the other way around approach.  \r\n\r\nInstead of extending the existing enumeration, create a larger one and create a subset of it.\r\nFor exemple if you had an enumeration called PET and you wanted to extend it to ANIMAL you should do this instead: \r\n\r\n    public enum ANIMAL {\r\n        WOLF,CAT, DOG\r\n    } \r\n    EnumSet&lt;ANIMAL&gt; pets = EnumSet.of(ANIMAL.CAT, ANIMAL.DOG);\r\n\r\nBe careful, pets is not an immutable collections, you might want to use Guava or Java9 for more safety.","title":"Can enums be subclassed to add new elements?","body":"<p>I suggest you take the other way around approach.  </p>\n\n<p>Instead of extending the existing enumeration, create a larger one and create a subset of it.\nFor exemple if you had an enumeration called PET and you wanted to extend it to ANIMAL you should do this instead: </p>\n\n<pre><code>public enum ANIMAL {\n    WOLF,CAT, DOG\n} \nEnumSet&lt;ANIMAL&gt; pets = EnumSet.of(ANIMAL.CAT, ANIMAL.DOG);\n</code></pre>\n\n<p>Be careful, pets is not an immutable collections, you might want to use Guava or Java9 for more safety.</p>\n"}],"owner":{"account_id":146530,"reputation":59311,"user_id":357024,"accept_rate":90,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447841,"favorite_count":0,"down_vote_count":1,"up_vote_count":602,"accepted_answer_id":1414761,"answer_count":15,"score":601,"last_activity_date":1655807979,"creation_date":1252749003,"question_id":1414755,"body_markdown":"I want to take an existing enum and add more elements to it as follows:\r\n\r\n    enum A {a,b,c}\r\n    \r\n    enum B extends A {d}\r\n    \r\n    /*B is {a,b,c,d}*/\r\n\r\nIs this possible in Java?","title":"Can enums be subclassed to add new elements?","body":"<p>I want to take an existing enum and add more elements to it as follows:</p>\n\n<pre><code>enum A {a,b,c}\n\nenum B extends A {d}\n\n/*B is {a,b,c,d}*/\n</code></pre>\n\n<p>Is this possible in Java?</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1655804995,"post_id":72698355,"comment_id":128412709,"body_markdown":"Does this answer your question? [How to read CSV headers and get them in to a list in java](https://stackoverflow.com/questions/37519915/how-to-read-csv-headers-and-get-them-in-to-a-list-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37519915/how-to-read-csv-headers-and-get-them-in-to-a-list-in-java\">How to read CSV headers and get them in to a list in java</a>"},{"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"score":0,"creation_date":1655806276,"post_id":72698355,"comment_id":128413166,"body_markdown":"@akortex Not really. Only as a workaround, because when you do, then the CsvToBean does not get to know the header and then fails to do the mapping. As a workaround you can mark() and reset() the BufferedReader so that the header information is still available to the CsvToBean class so it can read it again a second time. That feels kind of ugly. I&#39;ll nevertheless post the workaround as an answer.","body":"@akortex Not really. Only as a workaround, because when you do, then the CsvToBean does not get to know the header and then fails to do the mapping. As a workaround you can mark() and reset() the BufferedReader so that the header information is still available to the CsvToBean class so it can read it again a second time. That feels kind of ugly. I&#39;ll nevertheless post the workaround as an answer."}],"answers":[{"tags":[],"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655807804,"creation_date":1655806695,"answer_id":72699056,"question_id":72698355,"body_markdown":"As a workaround you can use `header = csvReader.readNext()` before creating the `CsvToBean`. However, you have to `mark()` and `reset()` the `BufferedReader` so that the header information can be read again by the `CsvToBean` class in order to do its mapping.  \r\nNote that this limits the size of the allowed header to the buffer size of the `BufferedReader` and throws an exception in `reset()` if this size is exceeded.\r\n\r\nHere is the code:\r\n\r\n\tBufferedReader in = new BufferedReader(new InputStreamReader(file.getInputStream()));\r\n\r\n\tCSVParser csvParser = new CSVParserBuilder().withSeparator(&#39;\\t&#39;).build();\r\n\r\n\tCSVReader csvReader = new CSVReaderBuilder(in).withCSVParser(csvParser).build();\r\n\r\n\tin.mark(8192);\r\n\tString[] header = csvReader.readNext();\r\n\tin.reset();\r\n\tSystem.out.println(&quot;header: &quot; + Arrays.toString(header));\r\n\r\n\tCsvToBean&lt;Book&gt; csvToBeanConverter = new CsvToBeanBuilder&lt;Book&gt;(csvReader).withType(Book.class).build();\r\n\r\n\tIterator&lt;Book&gt; bookIter = csvToBeanConverter.iterator();\r\n\r\n\tbookIter.forEachRemaining(book -&gt; {\r\n\t\tSystem.out.println(&quot;book: &quot; + book);\r\n\t});\r\n","title":"How to extract header from input CSV file with OpenCSV?","body":"<p>As a workaround you can use <code>header = csvReader.readNext()</code> before creating the <code>CsvToBean</code>. However, you have to <code>mark()</code> and <code>reset()</code> the <code>BufferedReader</code> so that the header information can be read again by the <code>CsvToBean</code> class in order to do its mapping.<br />\nNote that this limits the size of the allowed header to the buffer size of the <code>BufferedReader</code> and throws an exception in <code>reset()</code> if this size is exceeded.</p>\n<p>Here is the code:</p>\n<pre><code>BufferedReader in = new BufferedReader(new InputStreamReader(file.getInputStream()));\n\nCSVParser csvParser = new CSVParserBuilder().withSeparator('\\t').build();\n\nCSVReader csvReader = new CSVReaderBuilder(in).withCSVParser(csvParser).build();\n\nin.mark(8192);\nString[] header = csvReader.readNext();\nin.reset();\nSystem.out.println(&quot;header: &quot; + Arrays.toString(header));\n\nCsvToBean&lt;Book&gt; csvToBeanConverter = new CsvToBeanBuilder&lt;Book&gt;(csvReader).withType(Book.class).build();\n\nIterator&lt;Book&gt; bookIter = csvToBeanConverter.iterator();\n\nbookIter.forEachRemaining(book -&gt; {\n    System.out.println(&quot;book: &quot; + book);\n});\n</code></pre>\n"}],"owner":{"account_id":2062486,"reputation":6486,"user_id":1838726,"accept_rate":63,"display_name":"Daniel S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655807804,"creation_date":1655803603,"question_id":72698355,"body_markdown":"[OpenCSV][1] is a java library for reading and writing [CSV files][2]. I want to read a CSV file and extract the header of the CSV file before handling the data records. How to do this?\r\n\r\nThis is my current code and where I need the header information:\r\n\r\n\tBufferedReader in = new BufferedReader(new InputStreamReader(file.getInputStream()));\r\n\r\n\tCSVParser csvParser = new CSVParserBuilder().withSeparator(&#39;\\t&#39;).build();\r\n\r\n\tCSVReader csvReader = new CSVReaderBuilder(in).withCSVParser(csvParser).build();\r\n\r\n\t// The code that follows depends on the column names, so\r\n\t// I want to get the header information here so I can\r\n    // discover if I have to map to the Book entity class or to another one.\r\n\r\n\tCsvToBean&lt;Book&gt; csvToBeanConverter = new CsvToBeanBuilder&lt;Book&gt;(csvReader).withType(Book.class).build();\r\n\r\n\tIterator&lt;Book&gt; bookIter = csvToBeanConverter.iterator();\r\n\r\n\tbookIter.forEachRemaining(book -&gt; {\r\n\t\tSystem.out.println(&quot;book: &quot; + book);\r\n\t});\r\n\r\n**UPDATE 1**:  \r\nI start to think that the two &quot;standard&quot; solutions OpenCSV and apache-commons-csv both have their weaknesses, so feel free to tell me your favorite CSV libraries. Put them into comments, not answers, because it&#39;s opinionated information by definition.\r\n\r\n**UPDATE 2**:  \r\nhttps://stackoverflow.com/questions/37519915/how-to-read-csv-headers-and-get-them-in-to-a-list-in-java is only a workaround-grade solution for this question, because for making it work together with `CsvToBean` it involves `mark()` and `reset()` on the `BufferedReader` and therefor it limits the possible header size, throwing an exception if exceeded. See my answer for for details.\r\n\r\n  [1]: http://opencsv.sourceforge.net/\r\n  [2]: https://en.wikipedia.org/wiki/Comma-separated_values","title":"How to extract header from input CSV file with OpenCSV?","body":"<p><a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">OpenCSV</a> is a java library for reading and writing <a href=\"https://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV files</a>. I want to read a CSV file and extract the header of the CSV file before handling the data records. How to do this?</p>\n<p>This is my current code and where I need the header information:</p>\n<pre><code>BufferedReader in = new BufferedReader(new InputStreamReader(file.getInputStream()));\n\nCSVParser csvParser = new CSVParserBuilder().withSeparator('\\t').build();\n\nCSVReader csvReader = new CSVReaderBuilder(in).withCSVParser(csvParser).build();\n\n// The code that follows depends on the column names, so\n// I want to get the header information here so I can\n// discover if I have to map to the Book entity class or to another one.\n\nCsvToBean&lt;Book&gt; csvToBeanConverter = new CsvToBeanBuilder&lt;Book&gt;(csvReader).withType(Book.class).build();\n\nIterator&lt;Book&gt; bookIter = csvToBeanConverter.iterator();\n\nbookIter.forEachRemaining(book -&gt; {\n    System.out.println(&quot;book: &quot; + book);\n});\n</code></pre>\n<p><strong>UPDATE 1</strong>:<br />\nI start to think that the two &quot;standard&quot; solutions OpenCSV and apache-commons-csv both have their weaknesses, so feel free to tell me your favorite CSV libraries. Put them into comments, not answers, because it's opinionated information by definition.</p>\n<p><strong>UPDATE 2</strong>:<br />\n<a href=\"https://stackoverflow.com/questions/37519915/how-to-read-csv-headers-and-get-them-in-to-a-list-in-java\">How to read CSV headers and get them in to a list in java</a> is only a workaround-grade solution for this question, because for making it work together with <code>CsvToBean</code> it involves <code>mark()</code> and <code>reset()</code> on the <code>BufferedReader</code> and therefor it limits the possible header size, throwing an exception if exceeded. See my answer for for details.</p>\n"},{"tags":["java","jtree"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1655762660,"post_id":72692595,"comment_id":128404366,"body_markdown":"How do you determine parent/child relationships from the content in the properties file? XML and JDON are both text based and would provide parent/child relationships relatively free","body":"How do you determine parent/child relationships from the content in the properties file? XML and JDON are both text based and would provide parent/child relationships relatively free"},{"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"score":0,"creation_date":1655782769,"post_id":72692595,"comment_id":128407042,"body_markdown":"That&#39;s the main problem. I don&#39;t. Also I don&#39;t mind to use JSON.","body":"That&#39;s the main problem. I don&#39;t. Also I don&#39;t mind to use JSON."},{"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"score":0,"creation_date":1655786290,"post_id":72692595,"comment_id":128407493,"body_markdown":"P.S. I&#39;ve tried with JSON, however I couldn&#39;t get it working....same reasons. Can&#39;t exactly wrap my head around the method of doing that relationship between parent and child.","body":"P.S. I&#39;ve tried with JSON, however I couldn&#39;t get it working....same reasons. Can&#39;t exactly wrap my head around the method of doing that relationship between parent and child."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655807574,"creation_date":1655807574,"answer_id":72699255,"question_id":72692595,"body_markdown":"The problem is, you need some way to describe your hierarchy.  Using a flat hierarchy (like a `String` path) will be very hard to parse, as you will need some way to look up previously created parent nodes and create the paths when they don&#39;t exist.\r\n\r\nBetter to use something like XML or JSON, which can more easily describe hierarchy related data\r\n\r\nThe following is an, overly simple, example of one way of approaching this, pay attention to the `populate(DefaultMutableTreeNode parent, Item item)` method\r\n\r\n[![enter image description here][1]][1]\r\n\r\n## Json...\r\n\r\n    [\r\n       {\r\n          &quot;name&quot;:&quot;Bowle&quot;,\r\n          &quot;contents&quot;:[\r\n             {\r\n                &quot;name&quot;:&quot;Apple&quot;,\r\n                &quot;contents&quot;:[\r\n                   \r\n                ]\r\n             },\r\n             {\r\n                &quot;name&quot;:&quot;Pear&quot;,\r\n                &quot;contents&quot;:[\r\n                   \r\n                ]\r\n             },\r\n             {\r\n                &quot;name&quot;:&quot;Orange&quot;,\r\n                &quot;contents&quot;:[\r\n                   \r\n                ]\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;name&quot;:&quot;Freezer&quot;,\r\n          &quot;contents&quot;:[\r\n             {\r\n                &quot;name&quot;:&quot;Top draw&quot;,\r\n                &quot;contents&quot;:[\r\n                   {\r\n                      &quot;name&quot;:&quot;Chicken&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;Steak&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;Fish&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   }\r\n                ]\r\n             },\r\n             {\r\n                &quot;name&quot;:&quot;Bottom draw&quot;,\r\n                &quot;contents&quot;:[\r\n                   {\r\n                      &quot;name&quot;:&quot;Peas&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;Chips&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   },\r\n                   {\r\n                      &quot;name&quot;:&quot;Ice cream&quot;,\r\n                      &quot;contents&quot;:[\r\n                         \r\n                      ]\r\n                   }\r\n                ]\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n## Source...\r\n\r\n    import com.google.gson.Gson;\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTree;\r\n    import javax.swing.tree.DefaultMutableTreeNode;\r\n    import javax.swing.tree.DefaultTreeCellRenderer;\r\n    import javax.swing.tree.DefaultTreeModel;\r\n    import javax.swing.tree.TreeModel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try (InputStreamReader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/ImportantStuff.json&quot;))) {\r\n                        Gson gson = new Gson();\r\n                        Item[] items = gson.fromJson(reader, Item[].class);\r\n\r\n                        DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(&quot;My stuff&quot;);\r\n                        DefaultTreeModel model = new DefaultTreeModel(rootNode);\r\n\r\n                        for (Item item : items) {\r\n                            populate(rootNode, item);\r\n                        }\r\n\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new MainPane(model));\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n\r\n                    } catch (IOException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            public MainPane(TreeModel model) {\r\n                setLayout(new BorderLayout());\r\n                JTree tree = new JTree(model);\r\n                tree.setCellRenderer(new ItemTreeCellRenderer());\r\n                tree.setShowsRootHandles(true);\r\n                add(new JScrollPane(tree));\r\n            }\r\n\r\n        }\r\n\r\n        public class ItemTreeCellRenderer extends DefaultTreeCellRenderer {\r\n            @Override\r\n            public Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded, boolean leaf, int row, boolean hasFocus) {\r\n                super.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\r\n                if (value instanceof DefaultMutableTreeNode) {\r\n                    DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\r\n                    Object userObject = node.getUserObject();\r\n                    if (userObject instanceof Item) {\r\n                        Item item = (Item) userObject;\r\n                        setText(item.getName());\r\n                    }\r\n                }\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n        protected void populate(DefaultMutableTreeNode parent, Item item) {\r\n            DefaultMutableTreeNode node = new DefaultMutableTreeNode(item);\r\n            parent.add(node);\r\n\r\n            for (Item child : item.getContents()) {\r\n                populate(node, child);\r\n            }\r\n        }\r\n\r\n        public class Item {\r\n            private String name;\r\n            private List&lt;Item&gt; contents;\r\n\r\n            public Item(String name) {\r\n                this.name = name;\r\n                this.contents = new ArrayList&lt;&gt;(8);\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public List&lt;Item&gt; getContents() {\r\n                return contents;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3YeSn.png","title":"Create Jtree dynamically","body":"<p>The problem is, you need some way to describe your hierarchy.  Using a flat hierarchy (like a <code>String</code> path) will be very hard to parse, as you will need some way to look up previously created parent nodes and create the paths when they don't exist.</p>\n<p>Better to use something like XML or JSON, which can more easily describe hierarchy related data</p>\n<p>The following is an, overly simple, example of one way of approaching this, pay attention to the <code>populate(DefaultMutableTreeNode parent, Item item)</code> method</p>\n<p><a href=\"https://i.stack.imgur.com/3YeSn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3YeSn.png\" alt=\"enter image description here\" /></a></p>\n<h2>Json...</h2>\n<pre><code>[\n   {\n      &quot;name&quot;:&quot;Bowle&quot;,\n      &quot;contents&quot;:[\n         {\n            &quot;name&quot;:&quot;Apple&quot;,\n            &quot;contents&quot;:[\n               \n            ]\n         },\n         {\n            &quot;name&quot;:&quot;Pear&quot;,\n            &quot;contents&quot;:[\n               \n            ]\n         },\n         {\n            &quot;name&quot;:&quot;Orange&quot;,\n            &quot;contents&quot;:[\n               \n            ]\n         }\n      ]\n   },\n   {\n      &quot;name&quot;:&quot;Freezer&quot;,\n      &quot;contents&quot;:[\n         {\n            &quot;name&quot;:&quot;Top draw&quot;,\n            &quot;contents&quot;:[\n               {\n                  &quot;name&quot;:&quot;Chicken&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               },\n               {\n                  &quot;name&quot;:&quot;Steak&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               },\n               {\n                  &quot;name&quot;:&quot;Fish&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               }\n            ]\n         },\n         {\n            &quot;name&quot;:&quot;Bottom draw&quot;,\n            &quot;contents&quot;:[\n               {\n                  &quot;name&quot;:&quot;Peas&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               },\n               {\n                  &quot;name&quot;:&quot;Chips&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               },\n               {\n                  &quot;name&quot;:&quot;Ice cream&quot;,\n                  &quot;contents&quot;:[\n                     \n                  ]\n               }\n            ]\n         }\n      ]\n   }\n]\n</code></pre>\n<h2>Source...</h2>\n<pre><code>import com.google.gson.Gson;\nimport java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.EventQueue;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTree;\nimport javax.swing.tree.DefaultMutableTreeNode;\nimport javax.swing.tree.DefaultTreeCellRenderer;\nimport javax.swing.tree.DefaultTreeModel;\nimport javax.swing.tree.TreeModel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try (InputStreamReader reader = new InputStreamReader(getClass().getResourceAsStream(&quot;/resources/ImportantStuff.json&quot;))) {\n                    Gson gson = new Gson();\n                    Item[] items = gson.fromJson(reader, Item[].class);\n\n                    DefaultMutableTreeNode rootNode = new DefaultMutableTreeNode(&quot;My stuff&quot;);\n                    DefaultTreeModel model = new DefaultTreeModel(rootNode);\n\n                    for (Item item : items) {\n                        populate(rootNode, item);\n                    }\n\n                    JFrame frame = new JFrame();\n                    frame.add(new MainPane(model));\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        public MainPane(TreeModel model) {\n            setLayout(new BorderLayout());\n            JTree tree = new JTree(model);\n            tree.setCellRenderer(new ItemTreeCellRenderer());\n            tree.setShowsRootHandles(true);\n            add(new JScrollPane(tree));\n        }\n\n    }\n\n    public class ItemTreeCellRenderer extends DefaultTreeCellRenderer {\n        @Override\n        public Component getTreeCellRendererComponent(JTree tree, Object value, boolean sel, boolean expanded, boolean leaf, int row, boolean hasFocus) {\n            super.getTreeCellRendererComponent(tree, value, sel, expanded, leaf, row, hasFocus);\n            if (value instanceof DefaultMutableTreeNode) {\n                DefaultMutableTreeNode node = (DefaultMutableTreeNode) value;\n                Object userObject = node.getUserObject();\n                if (userObject instanceof Item) {\n                    Item item = (Item) userObject;\n                    setText(item.getName());\n                }\n            }\n            return this;\n        }\n\n    }\n\n    protected void populate(DefaultMutableTreeNode parent, Item item) {\n        DefaultMutableTreeNode node = new DefaultMutableTreeNode(item);\n        parent.add(node);\n\n        for (Item child : item.getContents()) {\n            populate(node, child);\n        }\n    }\n\n    public class Item {\n        private String name;\n        private List&lt;Item&gt; contents;\n\n        public Item(String name) {\n            this.name = name;\n            this.contents = new ArrayList&lt;&gt;(8);\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public List&lt;Item&gt; getContents() {\n            return contents;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22113988,"reputation":21,"user_id":16368406,"display_name":"Peter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72699255,"answer_count":1,"score":1,"last_activity_date":1655807574,"creation_date":1655756592,"question_id":72692595,"body_markdown":"I&#39;m struggling with creating a Jtree dynamically. What I have in mind is to store the string for nodes in properties file and loop through them, adding the Default mutable tree nodes to the root node. I prefer Properties, because I&#39;d like to be able to change them from the app itself or by editing the *.properies file manually. \r\n\r\nI want to create a model with parents and children (sometimes two children). I&#39;ve managed to create nodes, but can&#39;t figure out how can it be done, so there would be parents and children, so I would set which nodes would be children to specific parent nodes. \r\nThat is what I have for now, plus a properties file with couple of keys and properties, in which I store the node strings:\r\n\r\n    DefaultMutableTreeNode allnodes = new DefaultMutableTreeNode(&quot;&quot;, true);\r\n                DefaultMutableTreeNode elements = new DefaultMutableTreeNode(&quot;Elements&quot;, true);\r\n    \r\n                Set&lt;String&gt; keys = Prop1.stringPropertyNames();\r\n                for (String key : keys) {\r\n                    DefaultMutableTreeNode node = new DefaultMutableTreeNode(Prop1.getProperty(key), false);\r\n                    elements.add(node);\r\n                }\r\n                allnodes.add(elements);\r\n    \r\n                tree1 = new JTree(allnodes);\r\n\r\nThe problem is that this can only produce children or parent, based on what boolean I put creating it with:\r\n\r\n    DefaultMutableTreeNode node = new DefaultMutableTreeNode(Prop1.getProperty(key), false);\r\n\r\nCan anyone tell me if that&#39;s possible and if it is, how can I accomplish it. Also I&#39;ve read similar questions and answers everywhere and I couldn&#39;t find something that fits my needs. I would greatly appreciate any help I could get.\r\nPeter","title":"Create Jtree dynamically","body":"<p>I'm struggling with creating a Jtree dynamically. What I have in mind is to store the string for nodes in properties file and loop through them, adding the Default mutable tree nodes to the root node. I prefer Properties, because I'd like to be able to change them from the app itself or by editing the *.properies file manually.</p>\n<p>I want to create a model with parents and children (sometimes two children). I've managed to create nodes, but can't figure out how can it be done, so there would be parents and children, so I would set which nodes would be children to specific parent nodes.\nThat is what I have for now, plus a properties file with couple of keys and properties, in which I store the node strings:</p>\n<pre><code>DefaultMutableTreeNode allnodes = new DefaultMutableTreeNode(&quot;&quot;, true);\n            DefaultMutableTreeNode elements = new DefaultMutableTreeNode(&quot;Elements&quot;, true);\n\n            Set&lt;String&gt; keys = Prop1.stringPropertyNames();\n            for (String key : keys) {\n                DefaultMutableTreeNode node = new DefaultMutableTreeNode(Prop1.getProperty(key), false);\n                elements.add(node);\n            }\n            allnodes.add(elements);\n\n            tree1 = new JTree(allnodes);\n</code></pre>\n<p>The problem is that this can only produce children or parent, based on what boolean I put creating it with:</p>\n<pre><code>DefaultMutableTreeNode node = new DefaultMutableTreeNode(Prop1.getProperty(key), false);\n</code></pre>\n<p>Can anyone tell me if that's possible and if it is, how can I accomplish it. Also I've read similar questions and answers everywhere and I couldn't find something that fits my needs. I would greatly appreciate any help I could get.\nPeter</p>\n"},{"tags":["java","instance"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1655787042,"post_id":72695422,"comment_id":128407614,"body_markdown":"Does this answer your question? [What is the meaning of &quot;this&quot; in Java?](https://stackoverflow.com/questions/3728062/what-is-the-meaning-of-this-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3728062/what-is-the-meaning-of-this-in-java\">What is the meaning of &quot;this&quot; in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16589893,"reputation":42,"user_id":11988331,"display_name":"Zhoumin Lu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1655788192,"creation_date":1655786811,"answer_id":72695450,"question_id":72695422,"body_markdown":"In `this(&quot;pizza Rulez&quot;);`, `this(String)` refers to the constructor with one string parameter of this class.\r\n\r\nIn `System.out.println(this);`, `this` refers to an instance of the `PracticeThis` class.\r\n\r\nIf you try to print the `PracticeThis` class, java will call the methods `toString()` in the class.","title":"What does &#39;this&#39; do when no instantiated variable follows it? [Java]","body":"<p>In <code>this(&quot;pizza Rulez&quot;);</code>, <code>this(String)</code> refers to the constructor with one string parameter of this class.</p>\n<p>In <code>System.out.println(this);</code>, <code>this</code> refers to an instance of the <code>PracticeThis</code> class.</p>\n<p>If you try to print the <code>PracticeThis</code> class, java will call the methods <code>toString()</code> in the class.</p>\n"}],"owner":{"account_id":25094511,"reputation":1,"user_id":18945830,"display_name":"John Venicci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1655787633,"answer_count":1,"score":0,"last_activity_date":1655807023,"creation_date":1655786554,"question_id":72695422,"body_markdown":"I&#39;m not entirely sure how to word the question properly in google without returning this.instanceVar, so any and all help is sincerely appreciated.\r\n\r\n```\r\npublic class PracticeThis {\r\n    private String str;\r\n\r\n    public PracticeThis(){\r\n\r\n        //What is &quot;this&quot; referring/doing??\r\n\r\n        this(&quot;pizza Rulez&quot;);\r\n\r\n    }\r\n\r\n    public PracticeThis(String str){\r\n        this.str = str;\r\n    }\r\n\r\n    public void practiceMyThisKnowledge(){\r\n        String str = &quot;Who says pizza rulez?&quot;;\r\n\r\n        System.out.println(str);\r\n       \r\n        //Not sure how &quot;this&quot; is interacting here;\r\n        System.out.println(this);\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n    return &quot;According to practiceThis: &quot; + str;\r\n   }\r\n}\r\n```","title":"What does &#39;this&#39; do when no instantiated variable follows it? [Java]","body":"<p>I'm not entirely sure how to word the question properly in google without returning this.instanceVar, so any and all help is sincerely appreciated.</p>\n<pre><code>public class PracticeThis {\n    private String str;\n\n    public PracticeThis(){\n\n        //What is &quot;this&quot; referring/doing??\n\n        this(&quot;pizza Rulez&quot;);\n\n    }\n\n    public PracticeThis(String str){\n        this.str = str;\n    }\n\n    public void practiceMyThisKnowledge(){\n        String str = &quot;Who says pizza rulez?&quot;;\n\n        System.out.println(str);\n       \n        //Not sure how &quot;this&quot; is interacting here;\n        System.out.println(this);\n    }\n\n    @Override\n    public String toString(){\n    return &quot;According to practiceThis: &quot; + str;\n   }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","jetbrains-ide","intellij-plugin"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1655468167,"post_id":72658327,"comment_id":128345571,"body_markdown":"I&#39;d recommend you raise this issue at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development so that IDEA Core team could take a look at it.","body":"I&#39;d recommend you raise this issue at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a> so that IDEA Core team could take a look at it."}],"answers":[{"tags":[],"owner":{"account_id":13455188,"reputation":996,"user_id":13109074,"display_name":"Mikhail Bolotov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655807022,"creation_date":1655807022,"answer_id":72699121,"question_id":72658327,"body_markdown":"You can try adding a process listener: \r\n```lang-java\r\n\t\tprocessHandler.addProcessListener(new ProcessAdapter() {\r\n            @Override\r\n            public void onTextAvailable(@org.jetbrains.annotations.NotNull ProcessEvent event, @org.jetbrains.annotations.NotNull Key outputType) {\r\n                // grab your output from the event here\r\n            }\r\n        });\r\n```","title":"IntelliJ Plugins: Getting the output of an OS command","body":"<p>You can try adding a process listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        processHandler.addProcessListener(new ProcessAdapter() {\n            @Override\n            public void onTextAvailable(@org.jetbrains.annotations.NotNull ProcessEvent event, @org.jetbrains.annotations.NotNull Key outputType) {\n                // grab your output from the event here\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":331827,"reputation":6829,"user_id":656754,"accept_rate":78,"display_name":"Lucas Kauffman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655807022,"creation_date":1655463465,"question_id":72658327,"body_markdown":"I am trying to build an IntelliJ plugin to execute an OS command, parse the output and then create a menu of the parsed output.\r\n\r\nHowever I&#39;m stuck on how I can grab the output from the `OSProcessHandler` and parse it as a String before showing it as part of the view.\r\n    \r\n```\r\npublic class MyClass extends AnAction {\r\n    private static ConsoleView view = null;\r\n    private static ToolWindow window = null;\r\n\r\n    @Override\r\n    public void actionPerformed(@NotNull AnActionEvent e) {\r\n        Project project = CommonDataKeys.PROJECT.getData(e.getDataContext());\r\n        if (project == null)\r\n            return;\r\n        GeneralCommandLine generalCommandLine = new GeneralCommandLine(getAccounts());\r\n        generalCommandLine.setCharset(Charset.forName(&quot;UTF-8&quot;));\r\n        //generalCommandLine.setWorkDirectory(project.getBasePath());\r\n\r\n        ProcessHandler processHandler = null;\r\n        try {\r\n            processHandler = new OSProcessHandler(generalCommandLine);\r\n        } catch (ExecutionException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n        if (view == null) {\r\n            TextConsoleBuilderFactory factory = TextConsoleBuilderFactory.getInstance();\r\n            TextConsoleBuilder builder = factory.createBuilder(project);\r\n            view = builder.getConsole();\r\n        }\r\n        view.attachToProcess(processHandler);\r\n        processHandler.startNotify();\r\n\r\n        if (window == null) {\r\n            ToolWindowManager manager = ToolWindowManager.getInstance(project);\r\n            window = manager.registerToolWindow(&quot;Cat console&quot;, true, ToolWindowAnchor.BOTTOM);\r\n            final ContentManager contentManager = window.getContentManager();\r\n            Content content = contentManager\r\n                    .getFactory()\r\n                    .createContent(view.getComponent(), &quot;&quot;, false);\r\n            contentManager.addContent(content);\r\n            window.show(() -&gt; {});\r\n\r\n    }}\r\n\r\n    private ArrayList&lt;String&gt; getAccounts(){\r\n        ArrayList&lt;String&gt; cmds = new ArrayList&lt;&gt;();\r\n        cmds.add(&quot;/usr/local/bin/getaccountscmd&quot;);\r\n        cmds.add(&quot;ls&quot;);\r\n        System.out.println(cmds.toString());\r\n        return cmds;\r\n    }\r\n\r\n}\r\n```","title":"IntelliJ Plugins: Getting the output of an OS command","body":"<p>I am trying to build an IntelliJ plugin to execute an OS command, parse the output and then create a menu of the parsed output.</p>\n<p>However I'm stuck on how I can grab the output from the <code>OSProcessHandler</code> and parse it as a String before showing it as part of the view.</p>\n<pre><code>public class MyClass extends AnAction {\n    private static ConsoleView view = null;\n    private static ToolWindow window = null;\n\n    @Override\n    public void actionPerformed(@NotNull AnActionEvent e) {\n        Project project = CommonDataKeys.PROJECT.getData(e.getDataContext());\n        if (project == null)\n            return;\n        GeneralCommandLine generalCommandLine = new GeneralCommandLine(getAccounts());\n        generalCommandLine.setCharset(Charset.forName(&quot;UTF-8&quot;));\n        //generalCommandLine.setWorkDirectory(project.getBasePath());\n\n        ProcessHandler processHandler = null;\n        try {\n            processHandler = new OSProcessHandler(generalCommandLine);\n        } catch (ExecutionException ex) {\n            throw new RuntimeException(ex);\n        }\n        if (view == null) {\n            TextConsoleBuilderFactory factory = TextConsoleBuilderFactory.getInstance();\n            TextConsoleBuilder builder = factory.createBuilder(project);\n            view = builder.getConsole();\n        }\n        view.attachToProcess(processHandler);\n        processHandler.startNotify();\n\n        if (window == null) {\n            ToolWindowManager manager = ToolWindowManager.getInstance(project);\n            window = manager.registerToolWindow(&quot;Cat console&quot;, true, ToolWindowAnchor.BOTTOM);\n            final ContentManager contentManager = window.getContentManager();\n            Content content = contentManager\n                    .getFactory()\n                    .createContent(view.getComponent(), &quot;&quot;, false);\n            contentManager.addContent(content);\n            window.show(() -&gt; {});\n\n    }}\n\n    private ArrayList&lt;String&gt; getAccounts(){\n        ArrayList&lt;String&gt; cmds = new ArrayList&lt;&gt;();\n        cmds.add(&quot;/usr/local/bin/getaccountscmd&quot;);\n        cmds.add(&quot;ls&quot;);\n        System.out.println(cmds.toString());\n        return cmds;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1465551843,"post_id":37744922,"comment_id":62959868,"body_markdown":"What do you mean by autosize? sheet.setColumnWidth?","body":"What do you mean by autosize? sheet.setColumnWidth?"},{"owner":{"account_id":329225,"reputation":1664,"user_id":652634,"accept_rate":61,"display_name":"Val Blant"},"score":0,"creation_date":1465552904,"post_id":37744922,"comment_id":62960520,"body_markdown":"@RC. I mean that the row height should be adjusted dynamically as the text is being wrappped, as shown in the 2nd image. My entire code is shown above.","body":"@RC. I mean that the row height should be adjusted dynamically as the text is being wrappped, as shown in the 2nd image. My entire code is shown above."},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1465553027,"post_id":37744922,"comment_id":62960600,"body_markdown":"possible duplicate: http://stackoverflow.com/questions/19145628/auto-size-height-for-rows-in-apache-poi","body":"possible duplicate: <a href=\"http://stackoverflow.com/questions/19145628/auto-size-height-for-rows-in-apache-poi\" title=\"auto size height for rows in apache poi\">stackoverflow.com/questions/19145628/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":329225,"reputation":1664,"user_id":652634,"accept_rate":61,"display_name":"Val Blant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465599735,"creation_date":1465599735,"answer_id":37758239,"question_id":37744922,"body_markdown":"After more research, turns out that this is a problem with Excel itself, not POI. Excel does indeed lose its ability to auto-fit rows to content for all rows that have merged cells in them. For more info see:\r\n\r\nhttp://excel.tips.net/T003207_Automatic_Row_Height_For_Merged_Cells_with_Text_Wrap.html\r\nhttp://blog.contextures.com/archives/2012/06/07/autofit-merged-cell-row-height/\r\n\r\nThe workaround is based on predicting the number of lines in the largest cell of the row, and then adjusting the row height manually. The code is based on this discussion:\r\n\r\nhttp://mail-archives.apache.org/mod_mbox/poi-user/200906.mbox/%3C24216153.post@talk.nabble.com%3E\r\n\r\n`RowInfo` and `NestedCellInfo` below are my custom data structures that keep track of the sheet layout. You should be able to replace these with your equivalents and helper functions.\r\n\r\n    private void adjustRowHeights(Sheet sheet, List&lt;RowInfo&gt; rows, SortedSet&lt;Integer&gt; createdColumnNumbers) {\r\n    \tSortedMap&lt;Integer, Float&gt; columnWidthsInPx = [] as TreeMap;\r\n    \tcreatedColumnNumbers.each {\r\n    \t\tcolumnWidthsInPx.put(it,  sheet.getColumnWidthInPixels(it));\r\n    \t}\r\n    \trows.each { RowInfo rowInfo -&gt;\r\n    \t\tif ( rowInfo.hasMergedCells ) {\r\n    \t\t\tRow excelRow = sheet.getRow(rowInfo.rowIndex);\r\n\t\t\t\r\n\t\t\t// Find the column with the longest text - that&#39;s the one that will determine\r\n\t\t\t// the row height\r\n\t\t\t//\r\n\t\t\tNestedCellInfo longestCell = rowInfo.getCellWithLongestContent();\r\n\t\t\tString cellText = longestCell.getText();\r\n\t\t\tif ( cellText != null &amp;&amp; cellText.size() &gt; 5 ) {\r\n\t\t\t\tint colIdx = rowInfo.cells.indexOf(longestCell);\r\n\t\t\t\t\r\n\t\t\t\t// Figure out available width in pixels, taking colspans into account\r\n\t\t\t\t//\r\n\t\t\t\tfloat columnWidthInPx = columnWidthsInPx[colIdx];\r\n\t\t\t\tint numberOfMergedColumns = longestCell.colSpan;\r\n\t\t\t\t(numberOfMergedColumns - 1).times {\r\n\t\t\t\t\tcolumnWidthInPx += columnWidthsInPx[colIdx + it];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Setup the font we&#39;ll use for figuring out where the text will be wrapped\r\n\t\t\t\t//\r\n\t\t\t\tXSSFFont cellFont = longestCell.getCellFont();\r\n\t\t\t\tint fontStyle = Font.PLAIN;\r\n\t\t\t\tif ( cellFont.getBold() ) fontStyle = Font.BOLD; \r\n\t\t\t\tif ( cellFont.getItalic() ) fontStyle = Font.ITALIC;\r\n\t\t\t\t\r\n\t\t\t\tjava.awt.Font currFont = new java.awt.Font(\r\n\t\t\t\t\tcellFont.getFontName(), \r\n\t\t\t\t\tfontStyle, \r\n\t\t\t\t\tcellFont.getFontHeightInPoints());\r\n\t\t\t\t\r\n\t\t\t\tAttributedString attrStr = new AttributedString(cellText);\r\n\t\t\t\tattrStr.addAttribute(TextAttribute.FONT, currFont);\r\n\r\n\t\t\t\t// Use LineBreakMeasurer to count number of lines needed for the text\r\n\t\t\t\t//\r\n\t\t\t\tFontRenderContext frc = new FontRenderContext(null, true, true);\r\n\t\t\t\tLineBreakMeasurer measurer = new LineBreakMeasurer(attrStr.getIterator(), frc);\r\n\t\t\t\tint nextPos = 0;\r\n\t\t\t\tint lineCnt = 0;\r\n\t\t\t\twhile (measurer.getPosition() &lt; cellText.length()) {\r\n\t\t\t\t\tnextPos = measurer.nextOffset( columnWidthInPx );\r\n\t\t\t\t\tlineCnt++;\r\n\t\t\t\t\tmeasurer.setPosition(nextPos);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( lineCnt &gt; 1 ) {\r\n\t\t\t\t\texcelRow.setHeight((short)(excelRow.getHeight() * lineCnt * /* fudge factor */ 0.7));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\nThis solution is far from perfect, but it allowed me to move forward.","title":"Apache POI and Auto Row Height with merged cells","body":"<p>After more research, turns out that this is a problem with Excel itself, not POI. Excel does indeed lose its ability to auto-fit rows to content for all rows that have merged cells in them. For more info see:</p>\n\n<p><a href=\"http://excel.tips.net/T003207_Automatic_Row_Height_For_Merged_Cells_with_Text_Wrap.html\" rel=\"nofollow\">http://excel.tips.net/T003207_Automatic_Row_Height_For_Merged_Cells_with_Text_Wrap.html</a>\n<a href=\"http://blog.contextures.com/archives/2012/06/07/autofit-merged-cell-row-height/\" rel=\"nofollow\">http://blog.contextures.com/archives/2012/06/07/autofit-merged-cell-row-height/</a></p>\n\n<p>The workaround is based on predicting the number of lines in the largest cell of the row, and then adjusting the row height manually. The code is based on this discussion:</p>\n\n<p><a href=\"http://mail-archives.apache.org/mod_mbox/poi-user/200906.mbox/%3C24216153.post@talk.nabble.com%3E\" rel=\"nofollow\">http://mail-archives.apache.org/mod_mbox/poi-user/200906.mbox/%3C24216153.post@talk.nabble.com%3E</a></p>\n\n<p><code>RowInfo</code> and <code>NestedCellInfo</code> below are my custom data structures that keep track of the sheet layout. You should be able to replace these with your equivalents and helper functions.</p>\n\n<pre><code>private void adjustRowHeights(Sheet sheet, List&lt;RowInfo&gt; rows, SortedSet&lt;Integer&gt; createdColumnNumbers) {\n    SortedMap&lt;Integer, Float&gt; columnWidthsInPx = [] as TreeMap;\n    createdColumnNumbers.each {\n        columnWidthsInPx.put(it,  sheet.getColumnWidthInPixels(it));\n    }\n    rows.each { RowInfo rowInfo -&gt;\n        if ( rowInfo.hasMergedCells ) {\n            Row excelRow = sheet.getRow(rowInfo.rowIndex);\n\n        // Find the column with the longest text - that's the one that will determine\n        // the row height\n        //\n        NestedCellInfo longestCell = rowInfo.getCellWithLongestContent();\n        String cellText = longestCell.getText();\n        if ( cellText != null &amp;&amp; cellText.size() &gt; 5 ) {\n            int colIdx = rowInfo.cells.indexOf(longestCell);\n\n            // Figure out available width in pixels, taking colspans into account\n            //\n            float columnWidthInPx = columnWidthsInPx[colIdx];\n            int numberOfMergedColumns = longestCell.colSpan;\n            (numberOfMergedColumns - 1).times {\n                columnWidthInPx += columnWidthsInPx[colIdx + it];\n            }\n\n            // Setup the font we'll use for figuring out where the text will be wrapped\n            //\n            XSSFFont cellFont = longestCell.getCellFont();\n            int fontStyle = Font.PLAIN;\n            if ( cellFont.getBold() ) fontStyle = Font.BOLD; \n            if ( cellFont.getItalic() ) fontStyle = Font.ITALIC;\n\n            java.awt.Font currFont = new java.awt.Font(\n                cellFont.getFontName(), \n                fontStyle, \n                cellFont.getFontHeightInPoints());\n\n            AttributedString attrStr = new AttributedString(cellText);\n            attrStr.addAttribute(TextAttribute.FONT, currFont);\n\n            // Use LineBreakMeasurer to count number of lines needed for the text\n            //\n            FontRenderContext frc = new FontRenderContext(null, true, true);\n            LineBreakMeasurer measurer = new LineBreakMeasurer(attrStr.getIterator(), frc);\n            int nextPos = 0;\n            int lineCnt = 0;\n            while (measurer.getPosition() &lt; cellText.length()) {\n                nextPos = measurer.nextOffset( columnWidthInPx );\n                lineCnt++;\n                measurer.setPosition(nextPos);\n            }\n\n            if ( lineCnt &gt; 1 ) {\n                excelRow.setHeight((short)(excelRow.getHeight() * lineCnt * /* fudge factor */ 0.7));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This solution is far from perfect, but it allowed me to move forward.</p>\n"},{"tags":[],"owner":{"account_id":12661831,"reputation":11,"user_id":9202448,"display_name":"Bc. Jan Bokšay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515654443,"creation_date":1515654443,"answer_id":48201523,"question_id":37744922,"body_markdown":"By using the last part from Val Blant I&#39;ve did something that&#39;s easier to use, and yet much complex. \r\nPlease be aware that there is a single line of code that adds one additional line to the cell height-wise, for personal reasons. If you do not wish that, please remove it. Also feel free to change it to a non-static, I&#39;ve had to use static methods due to the company I&#39;m working for making the specific class static.\r\n\r\nPS: It&#39;s my first post on stackoverflow, please be gentle. :)\r\n\r\nSolution:\r\n\r\n    public static Boolean isCellMerged(Cell cell) {\r\n            Sheet sheet = cell.getSheet();\r\n            for (CellRangeAddress mergedRegionRange : sheet.getMergedRegions()) {\r\n                Integer cellColumn = cell.getColumnIndex();\r\n                Integer cellRow = cell.getRowIndex();\r\n                if (mergedRegionRange.containsColumn(cellColumn) &amp;&amp; mergedRegionRange.containsRow(cellRow)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n    public static List&lt;List&lt;Cell&gt;&gt; getCellsInRowsInsideRegionRange(Cell cell) {\r\n            Sheet sheet = cell.getSheet();\r\n            List&lt;List&lt;Cell&gt;&gt; mergedRowList = new ArrayList&lt;&gt;();\r\n            List&lt;Cell&gt; mergedCellsList = new ArrayList&lt;&gt;();\r\n    \r\n            //Nejdř&#237;ve mus&#237;me zjistit sloučenou sekci dan&#233; buňky\r\n            for (CellRangeAddress mergedRegionRange : sheet.getMergedRegions()) {\r\n                Integer cellColumn = cell.getColumnIndex();\r\n                Integer cellRow = cell.getRowIndex();\r\n                if (mergedRegionRange.containsColumn(cellColumn) &amp;&amp; mergedRegionRange.containsRow(cellRow)) {\r\n    \r\n                    //Protože CellRangeAddress nem&#225; moc metod, mus&#237;me si pomoci sami a z&#237;skat z n&#237; buňky a ř&#225;dky\r\n                    for (Row row : sheet) {\r\n                        for (Cell iteratedCell : row) {\r\n                            Integer iteratedCellColumn = iteratedCell.getColumnIndex();\r\n                            Integer iteratedCellRow = iteratedCell.getRowIndex();\r\n                            if (mergedRegionRange.containsColumn(iteratedCellColumn) &amp;&amp; mergedRegionRange.containsRow(iteratedCellRow)) {\r\n                                //Rozdělov&#225;n&#237; jednotliv&#253;ch ř&#225;dků\r\n                                //Nen&#237;-li ř&#225;dek bez buněk...\r\n                                if (!mergedCellsList.isEmpty()) {\r\n    \r\n                                    //Tak buňku přid&#225;me do Listu buněk...\r\n                                    mergedCellsList.add(iteratedCell);\r\n    \r\n                                } else {\r\n                                    //Pokud se jedn&#225; o prvn&#237; buňku prvn&#237;ho ř&#225;dku, tak přid&#225;me rovnou\r\n                                    mergedCellsList.add(iteratedCell);\r\n                                }\r\n                            }\r\n                        }\r\n                        //Vlož&#237;me List buněk dan&#233;ho ř&#225;dku do Listu ř&#225;dků\r\n                        if (!mergedCellsList.isEmpty()) {\r\n                            mergedRowList.add(mergedCellsList);\r\n                        }\r\n    \r\n                        //A vyresetujeme list buněk (začneme tak nanovo nov&#253;m ř&#225;dkem)\r\n                        mergedCellsList = null;\r\n                        mergedCellsList = new ArrayList&lt;&gt;();\r\n                    }\r\n                    //Vr&#225;t&#237;me v&#253;sledn&#253; List ř&#225;dků, obsahuj&#237;c&#237; Listy buněk ve sloučen&#233; sekci.\r\n                    if (!mergedRowList.isEmpty()) {\r\n                        return mergedRowList;\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static void adjustRowHeightForRowWithNonMergedCells(Row row) {\r\n            row.setHeight((short) -1);\r\n        }\r\n    \r\n    public static void adjustRowHeightForRowWithMergedCells(Row row) {\r\n            Sheet sheet = row.getSheet();\r\n            Cell longestTextCell = null;\r\n    \r\n            //Potřebujeme z&#237;skat buňku s nejdelš&#237;m textem\r\n            for (Cell iteratedCell : row) {\r\n                String iteratedTextString = iteratedCell.getStringCellValue();\r\n    \r\n                if (longestTextCell != null &amp;&amp; StringUtils.isNotBlank(longestTextCell.getStringCellValue())) {\r\n                    if (iteratedTextString.length() &gt; longestTextCell.getStringCellValue().length()) {\r\n                        longestTextCell = iteratedCell;\r\n                    }\r\n                } else {\r\n                    longestTextCell = iteratedCell;\r\n                }\r\n    \r\n            }\r\n    \r\n            //Z textově nejobs&#225;hlejš&#237; buňky potřebujeme dostat &#250;daje\r\n            String longestText = &quot;&quot;;\r\n    \r\n            if (StringUtils.isNotBlank(longestTextCell.getStringCellValue()) &amp;&amp; longestTextCell != null) {\r\n                longestText = longestTextCell.getStringCellValue();\r\n    \r\n                //Protože textově nejobs&#225;hlejš&#237; buňka nemus&#237; nutně b&#253;t sloučen&#233;ho typu, je zapotřeb&#237; to všude ošetřit\r\n                Boolean isLongestTextCellMerged = isCellMerged(longestTextCell);\r\n                Float longestCellWidthInPixels = 0f;\r\n                Float longestMergedCellWidthInPixels = 0f;\r\n    \r\n                //Z&#237;skat š&#237;řku nesloučen&#233; nejobs&#225;hlejš&#237; buňky je jednoduch&#233;\r\n                if (!isLongestTextCellMerged) {\r\n                    Integer longestCellColumnIndex = longestTextCell.getColumnIndex();\r\n                    longestCellWidthInPixels = sheet.getColumnWidthInPixels(longestCellColumnIndex);\r\n    \r\n                } else {\r\n    \r\n                    //Mus&#237;me přij&#237;t na š&#237;řku sloučen&#233; buňky nam&#237;sto buňky uvnitř sloučen&#233; buňky\r\n                    List&lt;List&lt;Cell&gt;&gt; cellsInMergedRegion = getCellsInRowsInsideRegionRange(longestTextCell);\r\n                    longestMergedCellWidthInPixels = 0f;\r\n    \r\n                    //Projdeme ř&#225;dky\r\n                    for (List&lt;Cell&gt; iteratedCell2List : cellsInMergedRegion) {\r\n                        Float iteratedMergedCell2WidthInPixels = 0f;\r\n    \r\n                        //Projdeme jednotliv&#233; buňky ve sloučen&#233; buňce na ř&#225;dku a sečteme jejich š&#237;řky\r\n                        for (Cell iteratedCell2 : iteratedCell2List) {\r\n                            Integer iteratedCell2ColumnIndex = iteratedCell2.getColumnIndex();\r\n                            Float iteratedCell2ColumnWidthInPixels = sheet.getColumnWidthInPixels(iteratedCell2ColumnIndex);\r\n    \r\n                            iteratedMergedCell2WidthInPixels = iteratedMergedCell2WidthInPixels + iteratedCell2ColumnWidthInPixels;\r\n                        }\r\n    \r\n                        //Z&#237;sk&#225;me š&#237;řku nejširš&#237; sloučen&#233; buňky na ř&#225;dku\r\n                        if (iteratedMergedCell2WidthInPixels &gt; longestMergedCellWidthInPixels) {\r\n                            longestMergedCellWidthInPixels = iteratedMergedCell2WidthInPixels;\r\n                        }\r\n    \r\n                        //Resetujeme sč&#237;t&#225;n&#237;\r\n                        iteratedMergedCell2WidthInPixels = 0f;\r\n                    }\r\n                }\r\n    \r\n                //Ulož&#237;me si nejširš&#237; buňku dle toho, zda je sloučen&#225; či nikoliv\r\n                Float longestWidthInPixels;\r\n                if (isLongestTextCellMerged) {\r\n                    longestWidthInPixels = longestMergedCellWidthInPixels;\r\n                } else {\r\n                    longestWidthInPixels = longestCellWidthInPixels;\r\n                }\r\n    \r\n                //Potřebujeme font\r\n                Workbook wb = sheet.getWorkbook();\r\n                Short fontIndex = longestTextCell.getCellStyle().getFontIndex();\r\n                Font excelFont = wb.getFontAt(fontIndex);\r\n    \r\n                //Potřebujeme i jeho styl\r\n                Integer excelFontStyle = java.awt.Font.PLAIN;\r\n                if (excelFont.getBold()) excelFontStyle = java.awt.Font.BOLD;\r\n                if (excelFont.getItalic()) excelFontStyle = java.awt.Font.ITALIC;\r\n    \r\n                //Potřebujeme z&#237;skat skutečn&#253; font i s velikost&#237;\r\n                java.awt.Font currentFont = new java.awt.Font(excelFont.getFontName(), excelFontStyle, excelFont.getFontHeightInPoints());\r\n    \r\n                //Z&#237;sk&#225;me řetězec s vlastnost&#237;\r\n                AttributedString attributedString = new AttributedString(longestText);\r\n                attributedString.addAttribute(TextAttribute.FONT, currentFont);\r\n    \r\n                //Použijeme LineBreakMeasurer k zjištěn&#237; kolik ř&#225;dků bude text potřebovat\r\n                FontRenderContext fontRenderContext = new FontRenderContext(null, true, true);\r\n                LineBreakMeasurer measurer = new LineBreakMeasurer(attributedString.getIterator(), fontRenderContext);\r\n    \r\n                Integer nextPosition = 0;\r\n                Integer lineCount = 0;\r\n    \r\n                while (measurer.getPosition() &lt; longestText.length()) {\r\n                    nextPosition = measurer.nextOffset(longestWidthInPixels);\r\n    \r\n                    //Tak&#233; mus&#237;me ošetřit př&#237;pad manu&#225;lně zadan&#253;ch LineBreaků pro všechny možn&#233; techtle mechtle :-S\r\n                    String textLine = StringUtils.substring(longestText, measurer.getPosition(), nextPosition);\r\n                    Boolean containsNewLine = StringUtils.containsIgnoreCase(textLine, &quot;\\r&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\\\r&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\n&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\\\n&quot;);\r\n    \r\n                    if (containsNewLine) {\r\n    \r\n                        if (StringUtils.containsIgnoreCase(textLine, &quot;\\r\\n&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\\\r\\\\n&quot;)) {\r\n                            lineCount = lineCount + StringUtils.countMatches(textLine, &quot;\\n&quot;);\r\n                        } else {\r\n    \r\n                            if (StringUtils.containsIgnoreCase(textLine, &quot;\\r&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\\\r&quot;)) {\r\n                                lineCount = lineCount + StringUtils.countMatches(textLine, &quot;\\r&quot;);\r\n                            }\r\n                            if (StringUtils.containsIgnoreCase(textLine, &quot;\\n&quot;) || StringUtils.containsIgnoreCase(textLine, &quot;\\\\n&quot;)) {\r\n                                lineCount = lineCount + StringUtils.countMatches(textLine, &quot;\\n&quot;);\r\n                            }\r\n    \r\n                        }\r\n    \r\n                        lineCount = lineCount + StringUtils.countMatches(textLine, &quot;\\\\r?\\\\n&quot;);\r\n                    }\r\n    \r\n                    lineCount++;\r\n                    measurer.setPosition(nextPosition);\r\n                }\r\n    \r\n                //M&#225;me počet ř&#225;dků, zb&#253;v&#225; konečn&#253; dopočet v&#253;šky ř&#225;dku a jeho použit&#237;\r\n                if (lineCount &gt; 1) {\r\n    \r\n                    Float fontHeight = currentFont.getLineMetrics(longestText, fontRenderContext).getHeight();\r\n    \r\n                    //Pro jistotu přid&#225;me jeden ř&#225;dek nav&#237;c, člověk nikdy nev&#237;...\r\n                    lineCount = lineCount + 1;\r\n    \r\n                    //Potřebujeme z&#237;skat posledn&#237; ř&#225;dek\r\n                    Row lastRow = null;\r\n    \r\n                    if (isCellMerged(longestTextCell)) {\r\n                        List&lt;List&lt;Cell&gt;&gt; mergedCellsInRows = getCellsInRowsInsideRegionRange(longestTextCell);\r\n                        Integer lastRowInMergedSectionIndex = mergedCellsInRows.size() - 1;\r\n                        List&lt;Cell&gt; lastRowInMergedSection = mergedCellsInRows.get(lastRowInMergedSectionIndex);\r\n                        lastRow = lastRowInMergedSection.get(0).getRow();\r\n                    } else {\r\n                        lastRow = longestTextCell.getRow();\r\n                    }\r\n    \r\n                    //Je potřeba ošetřit velikosti, pokud m&#225; sloučen&#225; buňka v&#237;cero ř&#225;dků\r\n                    Float cellsMergedAboveHeight = 0f;\r\n                    if (isCellMerged(longestTextCell)) {\r\n                        if (getCellsInRowsInsideRegionRange(longestTextCell).size() &gt; 1) {\r\n                            List&lt;List&lt;Cell&gt;&gt; mergedCellsInRows = getCellsInRowsInsideRegionRange(longestTextCell);\r\n                            for (List&lt;Cell&gt; rowsWithCells : mergedCellsInRows){\r\n                                if (!lastRow.equals(rowsWithCells.get(0).getRow())){\r\n                                    cellsMergedAboveHeight = cellsMergedAboveHeight + rowsWithCells.get(0).getRow().getHeight();\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    //Vzorec je ((Velikost fontu kr&#225;t počet ř&#225;dků plus (počet ř&#225;dků kr&#225;t voln&#253; prostor mezi ř&#225;dky)) kr&#225;t přepočet Excelu) m&#237;nus v&#253;ška sloučen&#253;ch buněk nad posledn&#237;m ř&#225;dkem.\r\n                    Short finalRowHeight = (short) (((fontHeight * lineCount + (lineCount * 15))* 10) - cellsMergedAboveHeight);\r\n    \r\n                    //A v&#253;sledek nastav&#237;me na posledn&#237; ř&#225;dek, protože jinak to przn&#237; sloupce vlevo a vpravo od vyšš&#237;ch ř&#225;dků\r\n                    lastRow.setHeight(finalRowHeight);\r\n    \r\n                }\r\n            }\r\n        }\r\n\r\n","title":"Apache POI and Auto Row Height with merged cells","body":"<p>By using the last part from Val Blant I've did something that's easier to use, and yet much complex. \nPlease be aware that there is a single line of code that adds one additional line to the cell height-wise, for personal reasons. If you do not wish that, please remove it. Also feel free to change it to a non-static, I've had to use static methods due to the company I'm working for making the specific class static.</p>\n\n<p>PS: It's my first post on stackoverflow, please be gentle. :)</p>\n\n<p>Solution:</p>\n\n<pre><code>public static Boolean isCellMerged(Cell cell) {\n        Sheet sheet = cell.getSheet();\n        for (CellRangeAddress mergedRegionRange : sheet.getMergedRegions()) {\n            Integer cellColumn = cell.getColumnIndex();\n            Integer cellRow = cell.getRowIndex();\n            if (mergedRegionRange.containsColumn(cellColumn) &amp;&amp; mergedRegionRange.containsRow(cellRow)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\npublic static List&lt;List&lt;Cell&gt;&gt; getCellsInRowsInsideRegionRange(Cell cell) {\n        Sheet sheet = cell.getSheet();\n        List&lt;List&lt;Cell&gt;&gt; mergedRowList = new ArrayList&lt;&gt;();\n        List&lt;Cell&gt; mergedCellsList = new ArrayList&lt;&gt;();\n\n        //Nejdříve musíme zjistit sloučenou sekci dané buňky\n        for (CellRangeAddress mergedRegionRange : sheet.getMergedRegions()) {\n            Integer cellColumn = cell.getColumnIndex();\n            Integer cellRow = cell.getRowIndex();\n            if (mergedRegionRange.containsColumn(cellColumn) &amp;&amp; mergedRegionRange.containsRow(cellRow)) {\n\n                //Protože CellRangeAddress nemá moc metod, musíme si pomoci sami a získat z ní buňky a řádky\n                for (Row row : sheet) {\n                    for (Cell iteratedCell : row) {\n                        Integer iteratedCellColumn = iteratedCell.getColumnIndex();\n                        Integer iteratedCellRow = iteratedCell.getRowIndex();\n                        if (mergedRegionRange.containsColumn(iteratedCellColumn) &amp;&amp; mergedRegionRange.containsRow(iteratedCellRow)) {\n                            //Rozdělování jednotlivých řádků\n                            //Není-li řádek bez buněk...\n                            if (!mergedCellsList.isEmpty()) {\n\n                                //Tak buňku přidáme do Listu buněk...\n                                mergedCellsList.add(iteratedCell);\n\n                            } else {\n                                //Pokud se jedná o první buňku prvního řádku, tak přidáme rovnou\n                                mergedCellsList.add(iteratedCell);\n                            }\n                        }\n                    }\n                    //Vložíme List buněk daného řádku do Listu řádků\n                    if (!mergedCellsList.isEmpty()) {\n                        mergedRowList.add(mergedCellsList);\n                    }\n\n                    //A vyresetujeme list buněk (začneme tak nanovo novým řádkem)\n                    mergedCellsList = null;\n                    mergedCellsList = new ArrayList&lt;&gt;();\n                }\n                //Vrátíme výsledný List řádků, obsahující Listy buněk ve sloučené sekci.\n                if (!mergedRowList.isEmpty()) {\n                    return mergedRowList;\n                } else {\n                    return null;\n                }\n            }\n        }\n        return null;\n    }\n\n    public static void adjustRowHeightForRowWithNonMergedCells(Row row) {\n        row.setHeight((short) -1);\n    }\n\npublic static void adjustRowHeightForRowWithMergedCells(Row row) {\n        Sheet sheet = row.getSheet();\n        Cell longestTextCell = null;\n\n        //Potřebujeme získat buňku s nejdelším textem\n        for (Cell iteratedCell : row) {\n            String iteratedTextString = iteratedCell.getStringCellValue();\n\n            if (longestTextCell != null &amp;&amp; StringUtils.isNotBlank(longestTextCell.getStringCellValue())) {\n                if (iteratedTextString.length() &gt; longestTextCell.getStringCellValue().length()) {\n                    longestTextCell = iteratedCell;\n                }\n            } else {\n                longestTextCell = iteratedCell;\n            }\n\n        }\n\n        //Z textově nejobsáhlejší buňky potřebujeme dostat údaje\n        String longestText = \"\";\n\n        if (StringUtils.isNotBlank(longestTextCell.getStringCellValue()) &amp;&amp; longestTextCell != null) {\n            longestText = longestTextCell.getStringCellValue();\n\n            //Protože textově nejobsáhlejší buňka nemusí nutně být sloučeného typu, je zapotřebí to všude ošetřit\n            Boolean isLongestTextCellMerged = isCellMerged(longestTextCell);\n            Float longestCellWidthInPixels = 0f;\n            Float longestMergedCellWidthInPixels = 0f;\n\n            //Získat šířku nesloučené nejobsáhlejší buňky je jednoduché\n            if (!isLongestTextCellMerged) {\n                Integer longestCellColumnIndex = longestTextCell.getColumnIndex();\n                longestCellWidthInPixels = sheet.getColumnWidthInPixels(longestCellColumnIndex);\n\n            } else {\n\n                //Musíme přijít na šířku sloučené buňky namísto buňky uvnitř sloučené buňky\n                List&lt;List&lt;Cell&gt;&gt; cellsInMergedRegion = getCellsInRowsInsideRegionRange(longestTextCell);\n                longestMergedCellWidthInPixels = 0f;\n\n                //Projdeme řádky\n                for (List&lt;Cell&gt; iteratedCell2List : cellsInMergedRegion) {\n                    Float iteratedMergedCell2WidthInPixels = 0f;\n\n                    //Projdeme jednotlivé buňky ve sloučené buňce na řádku a sečteme jejich šířky\n                    for (Cell iteratedCell2 : iteratedCell2List) {\n                        Integer iteratedCell2ColumnIndex = iteratedCell2.getColumnIndex();\n                        Float iteratedCell2ColumnWidthInPixels = sheet.getColumnWidthInPixels(iteratedCell2ColumnIndex);\n\n                        iteratedMergedCell2WidthInPixels = iteratedMergedCell2WidthInPixels + iteratedCell2ColumnWidthInPixels;\n                    }\n\n                    //Získáme šířku nejširší sloučené buňky na řádku\n                    if (iteratedMergedCell2WidthInPixels &gt; longestMergedCellWidthInPixels) {\n                        longestMergedCellWidthInPixels = iteratedMergedCell2WidthInPixels;\n                    }\n\n                    //Resetujeme sčítání\n                    iteratedMergedCell2WidthInPixels = 0f;\n                }\n            }\n\n            //Uložíme si nejširší buňku dle toho, zda je sloučená či nikoliv\n            Float longestWidthInPixels;\n            if (isLongestTextCellMerged) {\n                longestWidthInPixels = longestMergedCellWidthInPixels;\n            } else {\n                longestWidthInPixels = longestCellWidthInPixels;\n            }\n\n            //Potřebujeme font\n            Workbook wb = sheet.getWorkbook();\n            Short fontIndex = longestTextCell.getCellStyle().getFontIndex();\n            Font excelFont = wb.getFontAt(fontIndex);\n\n            //Potřebujeme i jeho styl\n            Integer excelFontStyle = java.awt.Font.PLAIN;\n            if (excelFont.getBold()) excelFontStyle = java.awt.Font.BOLD;\n            if (excelFont.getItalic()) excelFontStyle = java.awt.Font.ITALIC;\n\n            //Potřebujeme získat skutečný font i s velikostí\n            java.awt.Font currentFont = new java.awt.Font(excelFont.getFontName(), excelFontStyle, excelFont.getFontHeightInPoints());\n\n            //Získáme řetězec s vlastností\n            AttributedString attributedString = new AttributedString(longestText);\n            attributedString.addAttribute(TextAttribute.FONT, currentFont);\n\n            //Použijeme LineBreakMeasurer k zjištění kolik řádků bude text potřebovat\n            FontRenderContext fontRenderContext = new FontRenderContext(null, true, true);\n            LineBreakMeasurer measurer = new LineBreakMeasurer(attributedString.getIterator(), fontRenderContext);\n\n            Integer nextPosition = 0;\n            Integer lineCount = 0;\n\n            while (measurer.getPosition() &lt; longestText.length()) {\n                nextPosition = measurer.nextOffset(longestWidthInPixels);\n\n                //Také musíme ošetřit případ manuálně zadaných LineBreaků pro všechny možné techtle mechtle :-S\n                String textLine = StringUtils.substring(longestText, measurer.getPosition(), nextPosition);\n                Boolean containsNewLine = StringUtils.containsIgnoreCase(textLine, \"\\r\") || StringUtils.containsIgnoreCase(textLine, \"\\\\r\") || StringUtils.containsIgnoreCase(textLine, \"\\n\") || StringUtils.containsIgnoreCase(textLine, \"\\\\n\");\n\n                if (containsNewLine) {\n\n                    if (StringUtils.containsIgnoreCase(textLine, \"\\r\\n\") || StringUtils.containsIgnoreCase(textLine, \"\\\\r\\\\n\")) {\n                        lineCount = lineCount + StringUtils.countMatches(textLine, \"\\n\");\n                    } else {\n\n                        if (StringUtils.containsIgnoreCase(textLine, \"\\r\") || StringUtils.containsIgnoreCase(textLine, \"\\\\r\")) {\n                            lineCount = lineCount + StringUtils.countMatches(textLine, \"\\r\");\n                        }\n                        if (StringUtils.containsIgnoreCase(textLine, \"\\n\") || StringUtils.containsIgnoreCase(textLine, \"\\\\n\")) {\n                            lineCount = lineCount + StringUtils.countMatches(textLine, \"\\n\");\n                        }\n\n                    }\n\n                    lineCount = lineCount + StringUtils.countMatches(textLine, \"\\\\r?\\\\n\");\n                }\n\n                lineCount++;\n                measurer.setPosition(nextPosition);\n            }\n\n            //Máme počet řádků, zbývá konečný dopočet výšky řádku a jeho použití\n            if (lineCount &gt; 1) {\n\n                Float fontHeight = currentFont.getLineMetrics(longestText, fontRenderContext).getHeight();\n\n                //Pro jistotu přidáme jeden řádek navíc, člověk nikdy neví...\n                lineCount = lineCount + 1;\n\n                //Potřebujeme získat poslední řádek\n                Row lastRow = null;\n\n                if (isCellMerged(longestTextCell)) {\n                    List&lt;List&lt;Cell&gt;&gt; mergedCellsInRows = getCellsInRowsInsideRegionRange(longestTextCell);\n                    Integer lastRowInMergedSectionIndex = mergedCellsInRows.size() - 1;\n                    List&lt;Cell&gt; lastRowInMergedSection = mergedCellsInRows.get(lastRowInMergedSectionIndex);\n                    lastRow = lastRowInMergedSection.get(0).getRow();\n                } else {\n                    lastRow = longestTextCell.getRow();\n                }\n\n                //Je potřeba ošetřit velikosti, pokud má sloučená buňka vícero řádků\n                Float cellsMergedAboveHeight = 0f;\n                if (isCellMerged(longestTextCell)) {\n                    if (getCellsInRowsInsideRegionRange(longestTextCell).size() &gt; 1) {\n                        List&lt;List&lt;Cell&gt;&gt; mergedCellsInRows = getCellsInRowsInsideRegionRange(longestTextCell);\n                        for (List&lt;Cell&gt; rowsWithCells : mergedCellsInRows){\n                            if (!lastRow.equals(rowsWithCells.get(0).getRow())){\n                                cellsMergedAboveHeight = cellsMergedAboveHeight + rowsWithCells.get(0).getRow().getHeight();\n                            }\n                        }\n                    }\n                }\n                //Vzorec je ((Velikost fontu krát počet řádků plus (počet řádků krát volný prostor mezi řádky)) krát přepočet Excelu) mínus výška sloučených buněk nad posledním řádkem.\n                Short finalRowHeight = (short) (((fontHeight * lineCount + (lineCount * 15))* 10) - cellsMergedAboveHeight);\n\n                //A výsledek nastavíme na poslední řádek, protože jinak to przní sloupce vlevo a vpravo od vyšších řádků\n                lastRow.setHeight(finalRowHeight);\n\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11243672,"reputation":107,"user_id":8247052,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655806964,"creation_date":1655806964,"answer_id":72699108,"question_id":37744922,"body_markdown":"I was having a similar problem where row height was not adjusting for merged cells.\r\nI had to write a custom function for adjusting height of that particular row. Here is my code:\r\n\r\nI have fixed column width in my sheet to be 24, and default font size to be 11.\r\nI needed adjustment in row height whenever my font size &gt; 11 and cell text length is overflowing the column width or isn&#39;t visible properly due to larger length.\r\n```\r\n    private void adjustRowHeightMergedCells(final XSSFCell mergedCell) {\r\n\r\n        DataFormatter dataFormatter = new DataFormatter();\r\n        int defaultCharWidth = SheetUtil.getDefaultCharWidth(mergedCell.getRow().getSheet().getWorkbook());\r\n        XSSFRow row = mergedCell.getRow();\r\n\r\n        // Getting merged cell width value\r\n        double cellValueWidth = SheetUtil.getCellWidth(mergedCell, defaultCharWidth, dataFormatter, true);\r\n\r\n        // If cell width value &gt; 24 (Default value), calculate how much extra row height is needed\r\n// This happends when text length is larger than the column width (24)\r\n        float extraRowHeightDueToCellTextLength = (float) Math.floor(cellValueWidth / 24) * row.getHeightInPoints();\r\n        float extraRowHeightDueToCellTextFontSize = 0;\r\n\r\n        // If cell font size &gt; 11 (Default value), calculate how much extra row height is needed\r\n        short cellTextFontSize = mergedCell.getCellStyle().getFont().getFontHeightInPoints();\r\n        if (cellTextFontSize &gt; 11) {\r\n            extraRowHeightDueToCellTextFontSize = (cellTextFontSize-ExcelConstants.DEFAULT_FONT_SIZE) * (5f/3f); \r\n        }\r\n// 5f/3f in above calculation is custom number which assumed by thinking that for font size 11, my row height shud be 15, and for example custom font size 20, row height shud be 30, hence the factor 5f/ 3f( per extra 1 point increase in font size above 11, row height shud be increased by 5/3)\r\n        // Larger of two adjustment values will be taken and added to current row height\r\n        float extraRowHeightAdjustment = Math.max(extraRowHeightDueToCellTextFontSize,extraRowHeightDueToCellTextLength);\r\n        if(extraRowHeightAdjustment &gt; 0) {\r\n            row.setHeightInPoints(row.getHeightInPoints() + extraRowHeightAdjustment);\r\n        }\r\n    }\r\n```\r\n\r\nKinda hacky solution but works for my situation, you can modify it  per your requirements.","title":"Apache POI and Auto Row Height with merged cells","body":"<p>I was having a similar problem where row height was not adjusting for merged cells.\nI had to write a custom function for adjusting height of that particular row. Here is my code:</p>\n<p>I have fixed column width in my sheet to be 24, and default font size to be 11.\nI needed adjustment in row height whenever my font size &gt; 11 and cell text length is overflowing the column width or isn't visible properly due to larger length.</p>\n<pre><code>    private void adjustRowHeightMergedCells(final XSSFCell mergedCell) {\n\n        DataFormatter dataFormatter = new DataFormatter();\n        int defaultCharWidth = SheetUtil.getDefaultCharWidth(mergedCell.getRow().getSheet().getWorkbook());\n        XSSFRow row = mergedCell.getRow();\n\n        // Getting merged cell width value\n        double cellValueWidth = SheetUtil.getCellWidth(mergedCell, defaultCharWidth, dataFormatter, true);\n\n        // If cell width value &gt; 24 (Default value), calculate how much extra row height is needed\n// This happends when text length is larger than the column width (24)\n        float extraRowHeightDueToCellTextLength = (float) Math.floor(cellValueWidth / 24) * row.getHeightInPoints();\n        float extraRowHeightDueToCellTextFontSize = 0;\n\n        // If cell font size &gt; 11 (Default value), calculate how much extra row height is needed\n        short cellTextFontSize = mergedCell.getCellStyle().getFont().getFontHeightInPoints();\n        if (cellTextFontSize &gt; 11) {\n            extraRowHeightDueToCellTextFontSize = (cellTextFontSize-ExcelConstants.DEFAULT_FONT_SIZE) * (5f/3f); \n        }\n// 5f/3f in above calculation is custom number which assumed by thinking that for font size 11, my row height shud be 15, and for example custom font size 20, row height shud be 30, hence the factor 5f/ 3f( per extra 1 point increase in font size above 11, row height shud be increased by 5/3)\n        // Larger of two adjustment values will be taken and added to current row height\n        float extraRowHeightAdjustment = Math.max(extraRowHeightDueToCellTextFontSize,extraRowHeightDueToCellTextLength);\n        if(extraRowHeightAdjustment &gt; 0) {\n            row.setHeightInPoints(row.getHeightInPoints() + extraRowHeightAdjustment);\n        }\n    }\n</code></pre>\n<p>Kinda hacky solution but works for my situation, you can modify it  per your requirements.</p>\n"}],"owner":{"account_id":329225,"reputation":1664,"user_id":652634,"accept_rate":61,"display_name":"Val Blant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8895,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1655806964,"creation_date":1465551579,"question_id":37744922,"body_markdown":"I&#39;m using Apache POI and I am running into a weird problem. I can auto-size my rows, but only if there are no merged cells in that row. Here&#39;s an example:\r\n\r\n\tnew FileOutputStream(&#39;test.xlsx&#39;).withStream { OutputStream os -&gt;\r\n\t\tWorkbook workbook = new XSSFWorkbook();\r\n\t\tSheet sheet = workbook.createSheet();\r\n\t\t\r\n\t\tCellStyle wrapStyle = workbook.createCellStyle();\r\n\t\twrapStyle.setWrapText(true);\r\n\r\n\t\tRow row = sheet.createRow(0); row.setRowStyle(wrapStyle);\r\n\t\t\r\n\t\tCell cell = row.createCell(0); cell.setCellStyle(wrapStyle);\r\n\t\tcell.setCellValue(&quot;Very long text that needs to be wrapped&quot;)\r\n\t\t\r\n\t\tcell = row.createCell(1); cell.setCellStyle(wrapStyle);\r\n\t\tcell.setCellValue(&quot;Short text&quot;);\r\n\r\n\t\tcell = row.createCell(2); cell.setCellStyle(wrapStyle);\r\n\t\tcell.setCellValue(&quot;&quot;);\r\n\r\n\t\t// These two lines break row auto-height!\r\n\t\t//\r\n\t\tCellRangeAddress cellRangeAddress =\tnew CellRangeAddress(0, 0, 1, 2);\r\n\t\tsheet.addMergedRegion(cellRangeAddress);\r\n\t\t\r\n\t\tworkbook.write(os);\r\n\t}\r\n\r\nThis code generates the following document:\r\n[![enter image description here][1]][1]\r\n\r\nHowever, as soon as I comment out the lines that merge the two cells, the output looks like this:\r\n[![enter image description here][2]][2]\r\n\r\nIs this a bug? Does anyone know of a workaround?\r\n\r\n  [1]: http://i.stack.imgur.com/4qI0D.png\r\n  [2]: http://i.stack.imgur.com/T09A5.png","title":"Apache POI and Auto Row Height with merged cells","body":"<p>I'm using Apache POI and I am running into a weird problem. I can auto-size my rows, but only if there are no merged cells in that row. Here's an example:</p>\n\n<pre><code>new FileOutputStream('test.xlsx').withStream { OutputStream os -&gt;\n    Workbook workbook = new XSSFWorkbook();\n    Sheet sheet = workbook.createSheet();\n\n    CellStyle wrapStyle = workbook.createCellStyle();\n    wrapStyle.setWrapText(true);\n\n    Row row = sheet.createRow(0); row.setRowStyle(wrapStyle);\n\n    Cell cell = row.createCell(0); cell.setCellStyle(wrapStyle);\n    cell.setCellValue(\"Very long text that needs to be wrapped\")\n\n    cell = row.createCell(1); cell.setCellStyle(wrapStyle);\n    cell.setCellValue(\"Short text\");\n\n    cell = row.createCell(2); cell.setCellStyle(wrapStyle);\n    cell.setCellValue(\"\");\n\n    // These two lines break row auto-height!\n    //\n    CellRangeAddress cellRangeAddress = new CellRangeAddress(0, 0, 1, 2);\n    sheet.addMergedRegion(cellRangeAddress);\n\n    workbook.write(os);\n}\n</code></pre>\n\n<p>This code generates the following document:\n<a href=\"https://i.stack.imgur.com/4qI0D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4qI0D.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, as soon as I comment out the lines that merge the two cells, the output looks like this:\n<a href=\"https://i.stack.imgur.com/T09A5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T09A5.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this a bug? Does anyone know of a workaround?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1655792196,"post_id":72695617,"comment_id":128408594,"body_markdown":"If there is no corrosponding `.pom` file there is something broken but the above shows that you have define the wrong groupId: `org.apache` (https://search.maven.org/search?q=g:org.apache%20a:axis2)  instead of `org.apache.axis2` https://search.maven.org/search?q=org.apache.axis2","body":"If there is no corrosponding <code>.pom</code> file there is something broken but the above shows that you have define the wrong groupId: <code>org.apache</code> (<a href=\"https://search.maven.org/search?q=g:org.apache%20a:axis2\" rel=\"nofollow noreferrer\">search.maven.org/search?q=g:org.apache%20a:axis2</a>)  instead of <code>org.apache.axis2</code> <a href=\"https://search.maven.org/search?q=org.apache.axis2\" rel=\"nofollow noreferrer\">search.maven.org/search?q=org.apache.axis2</a>"}],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655806932,"creation_date":1655788304,"question_id":72695617,"body_markdown":"When using the company&#39;s internal Maven repository, I get an error when compiling a local project: `Could not find artifact org.apache:axis2:pom:1.7.8`\r\n\r\nI find that the axis2.jar file exists in org.apache:axis2, but the axis2.pom file does not exist.\r\n\r\nIt&#39;s really confusing. Under what circumstances might that happen?\r\n\r\nIs this something wrong which need the department that maintains the Maven repository to fix?\r\n","title":"Under what circumstances would there be only a .jar file but no .pom file?","body":"<p>When using the company's internal Maven repository, I get an error when compiling a local project: <code>Could not find artifact org.apache:axis2:pom:1.7.8</code></p>\n<p>I find that the axis2.jar file exists in org.apache:axis2, but the axis2.pom file does not exist.</p>\n<p>It's really confusing. Under what circumstances might that happen?</p>\n<p>Is this something wrong which need the department that maintains the Maven repository to fix?</p>\n"},{"tags":["java","azure-devops","testng","multipart","jira-xray"],"comments":[{"owner":{"account_id":10095128,"reputation":72400,"user_id":7460777,"display_name":"Leo Liu"},"score":0,"creation_date":1629862159,"post_id":68912948,"comment_id":121795826,"body_markdown":"What agent your are using, hosted agent? And the windows agent or Nexus? please share the debug log in the question.","body":"What agent your are using, hosted agent? And the windows agent or Nexus? please share the debug log in the question."},{"owner":{"account_id":15768914,"reputation":39,"user_id":11378491,"display_name":"vladys2019"},"score":0,"creation_date":1629875995,"post_id":68912948,"comment_id":121799091,"body_markdown":"Hi @Leo, I have added the debug log in the question above","body":"Hi @Leo, I have added the debug log in the question above"}],"answers":[{"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630053751,"creation_date":1629881066,"answer_id":68919646,"question_id":68912948,"body_markdown":"If you used the commands exactly as you shared then you must have a file named &quot;path\\issueFields.json&quot;. I guess that &quot;path&quot; is not a real directory name. The same applies to other files you identify.\r\nSo probably your curl command should be just something like:\r\n\r\n \r\n\r\n    curl -H &quot;Content-Type: multipart/form-data&quot; -X POST -F info=@issueFields.json -F results=@./target/surefire-reports/TEST-TestSuite.xml -F testInfo=@testIssueFields.json -H &quot;Authorization: Bearer $token&quot; https://xray.cloud.xpand-it.com/api/v1/import/execution/testng/multipart&quot;","title":"Import automated test results to Xray Cloud multipart using Azure Devops","body":"<p>If you used the commands exactly as you shared then you must have a file named &quot;path\\issueFields.json&quot;. I guess that &quot;path&quot; is not a real directory name. The same applies to other files you identify.\nSo probably your curl command should be just something like:</p>\n<pre><code>curl -H &quot;Content-Type: multipart/form-data&quot; -X POST -F info=@issueFields.json -F results=@./target/surefire-reports/TEST-TestSuite.xml -F testInfo=@testIssueFields.json -H &quot;Authorization: Bearer $token&quot; https://xray.cloud.xpand-it.com/api/v1/import/execution/testng/multipart&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9491769,"reputation":943,"user_id":7056293,"display_name":"Jaideep Dhumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655806581,"creation_date":1655806581,"answer_id":72699030,"question_id":68912948,"body_markdown":"One more way of achieving this is by automating the XRay API in PowerShell.\r\n\r\nHere&#39;s how to achieve this:\r\n\r\n1. Add a &quot;PowerShell&quot; task in your Azure Pipeline.\r\n2. Select &quot;Type&quot; as &quot;Inline&quot;.\r\n3. Enter this script:\r\n\r\n&gt; $Body = @{\r\n&gt;     client_id = &quot;&quot;\r\n&gt;     client_secret = &quot;&quot; }\r\n&gt; \r\n&gt; $Parameters = @{\r\n&gt;     Method = &quot;POST&quot;\r\n&gt;     Uri =  &quot;https://xray.cloud.getxray.app/api/v1/authenticate&quot;\r\n&gt;     Body = $Body\r\n&gt;     ContentType = &quot;application/x-www-form-urlencoded&quot; } \r\n&gt;\r\n&gt; [Net.ServicePointManager]::SecurityProtocol =\r\n&gt; [Net.SecurityProtocolType]::Tls12 \r\n&gt; \r\n&gt; $token = Invoke-RestMethod @Parameters\r\n&gt; \r\n&gt; $Header = @{\r\n&gt;         &quot;Authorization&quot; = &quot;Bearer $token&quot;\r\n&gt;     }\r\n&gt; \r\n&gt;\r\n&gt; $FileContent =\r\n&gt; [IO.File]::ReadAllText(&#39;$(System.DefaultWorkingDirectory)\\EnterYourResultFilePath&#39;);\r\n&gt; \r\n&gt; $Parameters = @{\r\n&gt;     Method = &quot;POST&quot;\r\n&gt;     Uri =  &quot;https://xray.cloud.getxray.app/api/v1/import/execution/junit?projectKey=ABCD&amp;testPlanKey=ABCD-$(TestPlanKey)&quot;\r\n&gt;     Body = $FileContent\r\n&gt;     Headers     = $Header\r\n&gt;     ContentType = &quot;application/xml&quot; } \r\n&gt;\r\n&gt;     Invoke-RestMethod @Parameters\r\n\r\nI use this script to upload results to JIRA from an XML file.","title":"Import automated test results to Xray Cloud multipart using Azure Devops","body":"<p>One more way of achieving this is by automating the XRay API in PowerShell.</p>\n<p>Here's how to achieve this:</p>\n<ol>\n<li>Add a &quot;PowerShell&quot; task in your Azure Pipeline.</li>\n<li>Select &quot;Type&quot; as &quot;Inline&quot;.</li>\n<li>Enter this script:</li>\n</ol>\n<blockquote>\n<p>$Body = @{\nclient_id = &quot;&quot;\nclient_secret = &quot;&quot; }</p>\n<p>$Parameters = @{\nMethod = &quot;POST&quot;\nUri =  &quot;https://xray.cloud.getxray.app/api/v1/authenticate&quot;\nBody = $Body\nContentType = &quot;application/x-www-form-urlencoded&quot; }</p>\n<p>[Net.ServicePointManager]::SecurityProtocol =\n[Net.SecurityProtocolType]::Tls12</p>\n<p>$token = Invoke-RestMethod @Parameters</p>\n<p>$Header = @{\n&quot;Authorization&quot; = &quot;Bearer $token&quot;\n}</p>\n<p>$FileContent =\n[IO.File]::ReadAllText('$(System.DefaultWorkingDirectory)\\EnterYourResultFilePath');</p>\n<p>$Parameters = @{\nMethod = &quot;POST&quot;\nUri =  &quot;https://xray.cloud.getxray.app/api/v1/import/execution/junit?projectKey=ABCD&amp;testPlanKey=ABCD-$(TestPlanKey)&quot;\nBody = $FileContent\nHeaders     = $Header\nContentType = &quot;application/xml&quot; }</p>\n<pre><code>Invoke-RestMethod @Parameters\n</code></pre>\n</blockquote>\n<p>I use this script to upload results to JIRA from an XML file.</p>\n"}],"owner":{"account_id":15768914,"reputation":39,"user_id":11378491,"display_name":"vladys2019"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68919646,"answer_count":2,"score":0,"last_activity_date":1655806581,"creation_date":1629832580,"question_id":68912948,"body_markdown":"I am trying to import results to Xray Cloud multipart using Azure Devops, this is my bash command from the yml configuration file:\r\n ```` &quot;- bash: |\r\n      token=$(curl -H &quot;Content-Type: application/json&quot; -X POST --data &#39;{ &quot;client_id&quot;: &quot;$(client_id)&quot;,&quot;client_secret&quot;: &quot;$(client_secret)&quot; }&#39; https://xray.cloud.xpand-it.com/api/v1/authenticate| tr -d &#39;&quot;&#39;)\r\n      curl -H &quot;Content-Type: multipart/form-data&quot; -X POST -F info=@path\\issueFields.json -F results=@path\\target\\surefire-reports\\TEST-TestSuite.xml -F testInfo=@path\\testIssueFields.json -H &quot;Authorization: Bearer $token&quot; https://xray.cloud.xpand-it.com/api/v1/import/execution/testng/multipart&quot;\r\n````\r\nI am receiving this error everytime in the pipeline console: \r\n````\r\n&quot;curl: (26) Failed to open/read local data from file/application\r\n##[error]Bash exited with code &#39;26&#39;.&quot;\r\n````\r\nWhat am I doing wrong?\r\n\r\nThe bash log:\r\n\r\n````\r\nStarting: Bash\r\n==============================================================================\r\nTask         : Bash\r\nDescription  : Run a Bash script on macOS, Linux, or Windows\r\nVersion      : 3.189.0\r\nAuthor       : Microsoft Corporation\r\nHelp         : https://learn.microsoft.com/azure/devops/pipelines/tasks/utility/bash\r\n==============================================================================\r\n\r\n````","title":"Import automated test results to Xray Cloud multipart using Azure Devops","body":"<p>I am trying to import results to Xray Cloud multipart using Azure Devops, this is my bash command from the yml configuration file:</p>\n<pre><code>     token=$(curl -H &quot;Content-Type: application/json&quot; -X POST --data '{ &quot;client_id&quot;: &quot;$(client_id)&quot;,&quot;client_secret&quot;: &quot;$(client_secret)&quot; }' https://xray.cloud.xpand-it.com/api/v1/authenticate| tr -d '&quot;')\n     curl -H &quot;Content-Type: multipart/form-data&quot; -X POST -F info=@path\\issueFields.json -F results=@path\\target\\surefire-reports\\TEST-TestSuite.xml -F testInfo=@path\\testIssueFields.json -H &quot;Authorization: Bearer $token&quot; https://xray.cloud.xpand-it.com/api/v1/import/execution/testng/multipart&quot;\n</code></pre>\n<p>I am receiving this error everytime in the pipeline console:</p>\n<pre><code>&quot;curl: (26) Failed to open/read local data from file/application\n##[error]Bash exited with code '26'.&quot;\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>The bash log:</p>\n<pre><code>Starting: Bash\n==============================================================================\nTask         : Bash\nDescription  : Run a Bash script on macOS, Linux, or Windows\nVersion      : 3.189.0\nAuthor       : Microsoft Corporation\nHelp         : https://learn.microsoft.com/azure/devops/pipelines/tasks/utility/bash\n==============================================================================\n\n</code></pre>\n"},{"tags":["java","jaxb","fasterxml","jackson-dataformat-xml"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1655805683,"post_id":72698768,"comment_id":128412948,"body_markdown":"Have you searched for a possible solution yet? As this is not something that is particularly hard to find.","body":"Have you searched for a possible solution yet? As this is not something that is particularly hard to find."},{"owner":{"account_id":2202372,"reputation":837,"user_id":1946464,"accept_rate":70,"display_name":"Ullas"},"score":0,"creation_date":1655805869,"post_id":72698768,"comment_id":128413017,"body_markdown":"Yes, i have found this https://stackoverflow.com/questions/45075306/java-parsing-an-xml-file-into-map-using-fasterxml-jackson, but this is more of a ArrayList of objects","body":"Yes, i have found this <a href=\"https://stackoverflow.com/questions/45075306/java-parsing-an-xml-file-into-map-using-fasterxml-jackson\" title=\"java parsing an xml file into map using fasterxml jackson\">stackoverflow.com/questions/45075306/&hellip;</a>, but this is more of a ArrayList of objects"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655806284,"creation_date":1655805751,"answer_id":72698863,"question_id":72698768,"body_markdown":"for such cases, I have written a static piece of code:\r\n\r\n````\r\npublic static &lt;T&gt; T unmarshall(String xml, Class&lt;T&gt; clazz) throws JAXBException {\r\n        JAXBContext jc = JAXBContext.newInstance(clazz);\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        T obj = clazz.cast(unmarshaller.unmarshal(new StringReader(xml)));\r\n        return obj;\r\n    }\r\n````\r\n\r\n  \r\nAlso annotate your DTO with:\r\n````\r\n@Getter\r\n@Setter\r\n@XmlRootElement(name = &quot;&lt;SomeName&gt;&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Student {\r\nprivate String firstName;\r\nprivate String lastName;\r\n}\r\n````\r\n\r\n After you have this method, you can use it to serialize your data:\r\n````\r\nStudent studentResponse = (Student) unmarshall(response, Student.class);\r\n````\r\n","title":"Mapping xml attributes to java attributes","body":"<p>for such cases, I have written a static piece of code:</p>\n<pre><code>public static &lt;T&gt; T unmarshall(String xml, Class&lt;T&gt; clazz) throws JAXBException {\n        JAXBContext jc = JAXBContext.newInstance(clazz);\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        T obj = clazz.cast(unmarshaller.unmarshal(new StringReader(xml)));\n        return obj;\n    }\n</code></pre>\n<p>Also annotate your DTO with:</p>\n<pre><code>@Getter\n@Setter\n@XmlRootElement(name = &quot;&lt;SomeName&gt;&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Student {\nprivate String firstName;\nprivate String lastName;\n}\n</code></pre>\n<p>After you have this method, you can use it to serialize your data:</p>\n<pre><code>Student studentResponse = (Student) unmarshall(response, Student.class);\n</code></pre>\n"}],"owner":{"account_id":2202372,"reputation":837,"user_id":1946464,"accept_rate":70,"display_name":"Ullas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655806284,"creation_date":1655805342,"question_id":72698768,"body_markdown":"    Is there a way to map xml attributes to Java attributes using Jackson Faster xml.\r\n    Sample xml\r\n    &lt;student&gt;\r\n     &lt;details&gt;\r\n      &lt;element key=&quot;firstName&quot; value=&quot;John&quot; /&gt;\r\n      &lt;element key=&quot;lastName&quot; value=&quot;Doe&quot; /&gt;\r\n     &lt;/details&gt;\r\n    &lt;/student&gt;\r\n\r\nThe above xml needs to be mapped to below Java class.    \r\n\r\n    public class Student {\r\n    private String firstName;\r\n    private String lastName;\r\n    }","title":"Mapping xml attributes to java attributes","body":"<pre><code>Is there a way to map xml attributes to Java attributes using Jackson Faster xml.\nSample xml\n&lt;student&gt;\n &lt;details&gt;\n  &lt;element key=&quot;firstName&quot; value=&quot;John&quot; /&gt;\n  &lt;element key=&quot;lastName&quot; value=&quot;Doe&quot; /&gt;\n &lt;/details&gt;\n&lt;/student&gt;\n</code></pre>\n<p>The above xml needs to be mapped to below Java class.</p>\n<pre><code>public class Student {\nprivate String firstName;\nprivate String lastName;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-cloud"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1655803738,"post_id":72698089,"comment_id":128412219,"body_markdown":"Could you add your application starting up logs?","body":"Could you add your application starting up logs?"},{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1655803782,"post_id":72698089,"comment_id":128412240,"body_markdown":"Are you still using @SpringBootApplication annotation in your main class?","body":"Are you still using @SpringBootApplication annotation in your main class?"},{"owner":{"account_id":11086626,"reputation":149,"user_id":10795032,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1655805935,"post_id":72698089,"comment_id":128413038,"body_markdown":"Yes, I am still using @SpringBootApplication.","body":"Yes, I am still using @SpringBootApplication."},{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1655814047,"post_id":72698089,"comment_id":128415973,"body_markdown":"Have you any startup error?","body":"Have you any startup error?"},{"owner":{"account_id":11086626,"reputation":149,"user_id":10795032,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1655815067,"post_id":72698089,"comment_id":128416383,"body_markdown":"No, it just starts perfectly fine. It is just that those beans do not work.","body":"No, it just starts perfectly fine. It is just that those beans do not work."}],"owner":{"account_id":11086626,"reputation":149,"user_id":10795032,"display_name":"Rishabh Agarwal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655806224,"creation_date":1655802559,"question_id":72698089,"body_markdown":"I am trying to implement a Spring Boot Application. Initially the entry point of the application was a plain java class with `@SpringBootApplication` annotation. The main function of this class looked like this - \r\n```\r\npublic static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n}\r\n```\r\nEverything worked fine in this setting and Spring scanned all the sub-packages for beans. Beans were written for `spring-cloud`, and thus are not autowired. \r\n\r\nBecause of a certain need, I had to rewrite the main application class as an `ApplicationRunner`. This is how the new class looked - \r\n```\r\npublic class Application implements ApplicationRunner {\r\n\r\n  @Autowired\r\n  public Application(final Property property) {\r\n    runService =\r\n        Boolean.parseBoolean(\r\n            property.getEnable());\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(Application.class, args);\r\n  }\r\n\r\n  @Override\r\n  public void run(final ApplicationArguments args) throws Exception {\r\n    if (runService) {\r\n      SpringApplication.exit(context);\r\n      log.info(&quot;Exiting!&quot;);\r\n    } else {\r\n      log.info(&quot;Running!&quot;);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\nHowever there is a problem with this new implementation. The Spring is now unable to find beans which are defined in sub-packages. I couldn&#39;t use `@ComponentScan` since that requires atleast one autowired bean. \r\n\r\nAll of my attempts to get Spring to scan all beans have failed. \r\n\r\nWhat is a good way to solve this problem?\r\n\r\n----- Edit #1 -----\r\n\r\nFollowing are the lines in the log - \r\n```\r\n[application]  INFO 9 --- [main] o.s.c.f.c.c.SimpleFunctionRegistry : Looking up function &#39; bean1&#39; with acceptedOutputTypes: []\r\n[application]  DEBUG 9 --- [main] o.s.c.f.c.c.SimpleFunctionRegistry : Failed to discover function &#39; bean1&#39; in function catalog. Function available in catalog are: [functionRouter]. This is generally acceptable for cases where there was no intention to use functions.\r\n```\r\nand \r\n```\r\n[application]  WARN 9 --- [main] onConfiguration$FunctionBindingRegistrar : You have defined function definition that does not exist: bean1\r\n```","title":"Converting a Spring Application&#39;s main class to an application runner causes un-scanned beans","body":"<p>I am trying to implement a Spring Boot Application. Initially the entry point of the application was a plain java class with <code>@SpringBootApplication</code> annotation. The main function of this class looked like this -</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p>Everything worked fine in this setting and Spring scanned all the sub-packages for beans. Beans were written for <code>spring-cloud</code>, and thus are not autowired.</p>\n<p>Because of a certain need, I had to rewrite the main application class as an <code>ApplicationRunner</code>. This is how the new class looked -</p>\n<pre><code>public class Application implements ApplicationRunner {\n\n  @Autowired\n  public Application(final Property property) {\n    runService =\n        Boolean.parseBoolean(\n            property.getEnable());\n  }\n\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n\n  @Override\n  public void run(final ApplicationArguments args) throws Exception {\n    if (runService) {\n      SpringApplication.exit(context);\n      log.info(&quot;Exiting!&quot;);\n    } else {\n      log.info(&quot;Running!&quot;);\n    }\n  }\n}\n\n</code></pre>\n<p>However there is a problem with this new implementation. The Spring is now unable to find beans which are defined in sub-packages. I couldn't use <code>@ComponentScan</code> since that requires atleast one autowired bean.</p>\n<p>All of my attempts to get Spring to scan all beans have failed.</p>\n<p>What is a good way to solve this problem?</p>\n<p>----- Edit #1 -----</p>\n<p>Following are the lines in the log -</p>\n<pre><code>[application]  INFO 9 --- [main] o.s.c.f.c.c.SimpleFunctionRegistry : Looking up function ' bean1' with acceptedOutputTypes: []\n[application]  DEBUG 9 --- [main] o.s.c.f.c.c.SimpleFunctionRegistry : Failed to discover function ' bean1' in function catalog. Function available in catalog are: [functionRouter]. This is generally acceptable for cases where there was no intention to use functions.\n</code></pre>\n<p>and</p>\n<pre><code>[application]  WARN 9 --- [main] onConfiguration$FunctionBindingRegistrar : You have defined function definition that does not exist: bean1\n</code></pre>\n"},{"tags":["java","android","arraylist","filter"],"comments":[{"owner":{"account_id":1590771,"reputation":286,"user_id":1474130,"display_name":"bertilmuth"},"score":0,"creation_date":1655721681,"post_id":72685145,"comment_id":128391101,"body_markdown":"Can you clarify if you have a single search text box (in total) or if you multiple search text boxes? In which variable is the text box stored, is it `chip`? If yes, it is unclear to me why the code would work for multiple criteria within the same text box (i.e. AF + 123), since you check if the complete text is contained: `num.contains(chip.getText()) || uld.getContour().contains(chip.getText())`","body":"Can you clarify if you have a single search text box (in total) or if you multiple search text boxes? In which variable is the text box stored, is it <code>chip</code>? If yes, it is unclear to me why the code would work for multiple criteria within the same text box (i.e. AF + 123), since you check if the complete text is contained: <code>num.contains(chip.getText()) || uld.getContour().contains(chip.getText())</code>"},{"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"score":0,"creation_date":1655723936,"post_id":72685145,"comment_id":128391834,"body_markdown":"I edited the question to add more info, I use a GroupChip to add a new chip when user write something in one textbox.","body":"I edited the question to add more info, I use a GroupChip to add a new chip when user write something in one textbox."}],"answers":[{"tags":[],"owner":{"account_id":1590771,"reputation":286,"user_id":1474130,"display_name":"bertilmuth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655806112,"creation_date":1655728276,"answer_id":72687040,"question_id":72685145,"body_markdown":"An extendable way of solving this is creating an interface `Filter`,\r\nsomething like this:\r\n\r\n``` java\r\ninterface Filter{\r\n  // This method checks if the filter is applied for the provided itemText.\r\n  // For example, if the filter is a numULD filter, it returns true \r\n  // iff the itemText is a number. \r\n  boolean isApplicableTo(String itemText);\r\n\r\n  // This method applies the filter. It returns true if the resulting list\r\n  // shall contain the item, and false if the item shall not appear in the\r\n  // list. For example, for the contour filter, the return value of the method is \r\n  // item.getContour().contains(itemText)\r\n  boolean applyTo(ItemULD item, String itemText); \r\n}\r\n```\r\n\r\nNow create three classes implementing this interface, one for `contour`, one for `numULD`, and one for `withNet`. Create instances of these classes and put them in a collection. Iterate over the collection and check if the filter is applicable and if yes, apply the filter. And then perform an and operation (`&amp;&amp;`) on the result, starting with a variable `boolean result = true;`\r\n\r\nIf you&#39;ve done that, you could even move this method to its own class `Filters`that takes several filters as arguments and returns the filtered result list. \r\n\r\n__EDIT__: Here&#39;s a code example.\r\n\r\nThis is a test class that checks that the filter works correctly:\r\n\r\n```java\r\nclass FiltersTest {\r\n\r\n\t@Test\r\n\tvoid testsFilters() {\r\n\t\tFilter contourFilter = new ContourFilter();\r\n\t\tFilter numFilter = new NumFilter();\r\n\t\tFilters filters = new Filters(contourFilter, numFilter);\r\n\t\t\r\n\t\tItemULD item1 = new ItemULD(1, &quot;EK&quot;, &quot;123456&quot;, true);\r\n\t\tItemULD item2 = new ItemULD(2, &quot;AF&quot;, &quot;652466&quot;, false);\r\n\t\tItemULD item3 = new ItemULD(3, &quot;AF&quot;, &quot;123663&quot;, false);\r\n\t\tList&lt;ItemULD&gt; items = Arrays.asList(item1, item2, item3);\r\n\t\t\r\n\t\tList&lt;Chip&gt; chips = Arrays.asList(new Chip(&quot;AF&quot;), new Chip(&quot;123&quot;));\r\n\t\t\r\n\t\tassertEquals(Arrays.asList(item3), filters.applyToItems(items, chips));\r\n\t}\r\n}\r\n```\r\nThese are the filter classes, based on the filter interface shown above:\r\n```java\r\nclass ContourFilter implements Filter{\r\n\t@Override\r\n\tpublic boolean isApplicableTo(String itemText) {\r\n\t\t// Place your RegEx check here\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean applyTo(ItemULD item, String itemText) {\r\n\t\tString contour = item.getContour();\r\n\t\treturn contour.contains(itemText);\r\n\t}\t\r\n}\r\n\r\nclass NumFilter implements Filter{\r\n\t@Override\r\n\tpublic boolean isApplicableTo(String itemText) {\r\n\t\tif (itemText == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tInteger.parseInt(itemText);\r\n\t\t} catch (NumberFormatException nfe) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean applyTo(ItemULD item, String itemText) {\r\n\t\tString num = String.valueOf(item.getNumULD());\r\n\t\treturn num.contains(itemText);\r\n\t}\t\r\n}\r\n```\r\n\r\nThe filters class could look like this:\r\n``` java\r\nclass Filters{\r\n\tprivate final List&lt;Filter&gt; filtersList;\r\n\r\n\tpublic Filters(Filter... filters) {\r\n\t\tthis.filtersList = Arrays.asList(filters);\r\n\t}\r\n\t\r\n\t\r\n\tpublic List&lt;ItemULD&gt; applyToItems(List&lt;ItemULD&gt; items, List&lt;Chip&gt; chips) {\r\n\t\tList&lt;ItemULD&gt; filteredItems = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor (ItemULD item : items) {\r\n\t\t\tif(applyToItem(item, chips)) {\r\n\t\t\t\tfilteredItems.add(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn filteredItems;\r\n\t}\r\n\t\r\n\tpublic boolean applyToItem(ItemULD item, List&lt;Chip&gt; chips) {\r\n\t\tboolean result = true;\r\n\t\t\r\n\t\tfor (Chip chip : chips) {\r\n\t\t\tString chipText = chip.getText();\r\n\t\t\tfor (Filter filter : filtersList) {\r\n\t\t\t\tif(filter.isApplicableTo(chipText)) {\r\n\t\t\t\t\tresult = result &amp;&amp; filter.applyTo(item, chipText);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\nThe `Chip` class is only a simplified version:\r\n``` java\r\nclass Chip{\r\n\tprivate final String text;\r\n\r\n\tpublic Chip(String text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n\tpublic String getText() {\r\n\t\treturn text;\r\n\t}\r\n}\r\n```","title":"Filter ArrayList multiple times in Java","body":"<p>An extendable way of solving this is creating an interface <code>Filter</code>,\nsomething like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Filter{\n  // This method checks if the filter is applied for the provided itemText.\n  // For example, if the filter is a numULD filter, it returns true \n  // iff the itemText is a number. \n  boolean isApplicableTo(String itemText);\n\n  // This method applies the filter. It returns true if the resulting list\n  // shall contain the item, and false if the item shall not appear in the\n  // list. For example, for the contour filter, the return value of the method is \n  // item.getContour().contains(itemText)\n  boolean applyTo(ItemULD item, String itemText); \n}\n</code></pre>\n<p>Now create three classes implementing this interface, one for <code>contour</code>, one for <code>numULD</code>, and one for <code>withNet</code>. Create instances of these classes and put them in a collection. Iterate over the collection and check if the filter is applicable and if yes, apply the filter. And then perform an and operation (<code>&amp;&amp;</code>) on the result, starting with a variable <code>boolean result = true;</code></p>\n<p>If you've done that, you could even move this method to its own class <code>Filters</code>that takes several filters as arguments and returns the filtered result list.</p>\n<p><strong>EDIT</strong>: Here's a code example.</p>\n<p>This is a test class that checks that the filter works correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FiltersTest {\n\n    @Test\n    void testsFilters() {\n        Filter contourFilter = new ContourFilter();\n        Filter numFilter = new NumFilter();\n        Filters filters = new Filters(contourFilter, numFilter);\n        \n        ItemULD item1 = new ItemULD(1, &quot;EK&quot;, &quot;123456&quot;, true);\n        ItemULD item2 = new ItemULD(2, &quot;AF&quot;, &quot;652466&quot;, false);\n        ItemULD item3 = new ItemULD(3, &quot;AF&quot;, &quot;123663&quot;, false);\n        List&lt;ItemULD&gt; items = Arrays.asList(item1, item2, item3);\n        \n        List&lt;Chip&gt; chips = Arrays.asList(new Chip(&quot;AF&quot;), new Chip(&quot;123&quot;));\n        \n        assertEquals(Arrays.asList(item3), filters.applyToItems(items, chips));\n    }\n}\n</code></pre>\n<p>These are the filter classes, based on the filter interface shown above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ContourFilter implements Filter{\n    @Override\n    public boolean isApplicableTo(String itemText) {\n        // Place your RegEx check here\n    }\n\n    @Override\n    public boolean applyTo(ItemULD item, String itemText) {\n        String contour = item.getContour();\n        return contour.contains(itemText);\n    }   \n}\n\nclass NumFilter implements Filter{\n    @Override\n    public boolean isApplicableTo(String itemText) {\n        if (itemText == null) {\n            return false;\n        }\n        try {\n            Integer.parseInt(itemText);\n        } catch (NumberFormatException nfe) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public boolean applyTo(ItemULD item, String itemText) {\n        String num = String.valueOf(item.getNumULD());\n        return num.contains(itemText);\n    }   \n}\n</code></pre>\n<p>The filters class could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Filters{\n    private final List&lt;Filter&gt; filtersList;\n\n    public Filters(Filter... filters) {\n        this.filtersList = Arrays.asList(filters);\n    }\n    \n    \n    public List&lt;ItemULD&gt; applyToItems(List&lt;ItemULD&gt; items, List&lt;Chip&gt; chips) {\n        List&lt;ItemULD&gt; filteredItems = new ArrayList&lt;&gt;();\n        \n        for (ItemULD item : items) {\n            if(applyToItem(item, chips)) {\n                filteredItems.add(item);\n            }\n        }\n        \n        return filteredItems;\n    }\n    \n    public boolean applyToItem(ItemULD item, List&lt;Chip&gt; chips) {\n        boolean result = true;\n        \n        for (Chip chip : chips) {\n            String chipText = chip.getText();\n            for (Filter filter : filtersList) {\n                if(filter.isApplicableTo(chipText)) {\n                    result = result &amp;&amp; filter.applyTo(item, chipText);\n                }\n            }\n        }\n        \n        return result;\n    }\n}\n</code></pre>\n<p>The <code>Chip</code> class is only a simplified version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Chip{\n    private final String text;\n\n    public Chip(String text) {\n        this.text = text;\n    }\n\n    public String getText() {\n        return text;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72687040,"answer_count":1,"score":0,"last_activity_date":1655806112,"creation_date":1655718544,"question_id":72685145,"body_markdown":"I need to filter an ArrayList each time that user input a string in a textbox or/and click a button to add boolean attribute to filters. \r\n\r\n    public class ItemULD {\r\n        private int idULD;\r\n        private String contour;\r\n        private String numULD;\r\n        private boolean withNet;\r\n    }\r\n\r\nAnd I tried with this method to filter the string in textbox\r\n\r\n    List&lt;Integer&gt; ids = grupoChip.getCheckedChipIds();\r\n     for (Integer id : ids) {\r\n       Chip chip = grupoChip.findViewById(id);\r\n        ArrayList&lt;ItemULD&gt; arrayFiltered; = new ArrayList&lt;&gt;();\r\n        for (ItemULD uld : arrayULD) {\r\n          String num = String.valueOf(uld.getNumULD());\r\n           if (num.contains(chip.getText()) || uld.getContour().contains(chip.getText())) {\r\n            if (!arrayFiltered.contains(uld))\r\n             arrayFiltered.add(uld);\r\n           }\r\n        }\r\n\r\n     //Method to filter ULD&#39;s with net\r\n        public static List&lt;ItemULD&gt; filters(List&lt;ItemULD&gt; allULD, boolean net){\r\n                List&lt;ItemULD&gt; list = new ArrayList&lt;&gt;();\r\n                for (ItemULD uld : allULD) {\r\n                    if (!net || uld.iswithNet()) {\r\n                        list.add(uld);\r\n                    }\r\n                }\r\n                return list;\r\n            }\r\n\r\nThe problem is when I try to add a new filter on the filtered results that didn&#39;t works..\r\nE.G. \r\nI have this. \r\n\r\n    idULD:1,\r\n    contour:EK, \r\n    numULD: 123456,\r\n    withNet:1\r\n\r\n    idULD:2,\r\n    contour:AF, \r\n    numULD: 652466,\r\n    withNet:0\r\n\r\n    idULD:3,\r\n    contour:AF, \r\n    numULD: 123663,\r\n    withNet:0\r\n\r\n\r\nIf I put on my seach textbox `123` I see 2 results id1 &amp; id3 this is ok, but when I add `AF` I see two AF not only the match `AF + 123` that would be the id3.\r\n\r\nOn the other hand, if I click the option to filter by attribute `withNet` I see all the results. I guess this is caused because I&#39;m creating a new array in the method to return but, how I could do it?\r\n\r\n\r\n**EDIT**\r\n\r\nI use a ChipGroup to add Chip elements with the string that user write in a textbox. Then I iterate the ChipGroud to get the text of every Chip.\r\nSo if the user write &quot;123&quot; + Enter a new Chip is added to the group","title":"Filter ArrayList multiple times in Java","body":"<p>I need to filter an ArrayList each time that user input a string in a textbox or/and click a button to add boolean attribute to filters.</p>\n<pre><code>public class ItemULD {\n    private int idULD;\n    private String contour;\n    private String numULD;\n    private boolean withNet;\n}\n</code></pre>\n<p>And I tried with this method to filter the string in textbox</p>\n<pre><code>List&lt;Integer&gt; ids = grupoChip.getCheckedChipIds();\n for (Integer id : ids) {\n   Chip chip = grupoChip.findViewById(id);\n    ArrayList&lt;ItemULD&gt; arrayFiltered; = new ArrayList&lt;&gt;();\n    for (ItemULD uld : arrayULD) {\n      String num = String.valueOf(uld.getNumULD());\n       if (num.contains(chip.getText()) || uld.getContour().contains(chip.getText())) {\n        if (!arrayFiltered.contains(uld))\n         arrayFiltered.add(uld);\n       }\n    }\n\n //Method to filter ULD's with net\n    public static List&lt;ItemULD&gt; filters(List&lt;ItemULD&gt; allULD, boolean net){\n            List&lt;ItemULD&gt; list = new ArrayList&lt;&gt;();\n            for (ItemULD uld : allULD) {\n                if (!net || uld.iswithNet()) {\n                    list.add(uld);\n                }\n            }\n            return list;\n        }\n</code></pre>\n<p>The problem is when I try to add a new filter on the filtered results that didn't works..\nE.G.\nI have this.</p>\n<pre><code>idULD:1,\ncontour:EK, \nnumULD: 123456,\nwithNet:1\n\nidULD:2,\ncontour:AF, \nnumULD: 652466,\nwithNet:0\n\nidULD:3,\ncontour:AF, \nnumULD: 123663,\nwithNet:0\n</code></pre>\n<p>If I put on my seach textbox <code>123</code> I see 2 results id1 &amp; id3 this is ok, but when I add <code>AF</code> I see two AF not only the match <code>AF + 123</code> that would be the id3.</p>\n<p>On the other hand, if I click the option to filter by attribute <code>withNet</code> I see all the results. I guess this is caused because I'm creating a new array in the method to return but, how I could do it?</p>\n<p><strong>EDIT</strong></p>\n<p>I use a ChipGroup to add Chip elements with the string that user write in a textbox. Then I iterate the ChipGroud to get the text of every Chip.\nSo if the user write &quot;123&quot; + Enter a new Chip is added to the group</p>\n"},{"tags":["java","sql","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655806007,"creation_date":1655803341,"answer_id":72698278,"question_id":72698181,"body_markdown":"The id of `WorkflowTaskRoleMapping` is a long and Hibernate maps it on the db with a column of type `number(19,0)`.\r\n\r\nHibernate expects the column `CURR_STEP` that maps the association to be the same type of the id in `WorkflowTaskRoleMapping` (`number(19,0)`).\r\nThe validation failed because the type of `CURR_STEP` in the db is `varchar2`.\r\n\r\nIt seems like you need to change the `curr_step` type on the db to `number(19,0)`.\r\n\r\nOr, you can change the id type of `WorkflowTaskRoleMapping` to `String`;","title":"Schema-validation: wrong column type encountered in column","body":"<p>The id of <code>WorkflowTaskRoleMapping</code> is a long and Hibernate maps it on the db with a column of type <code>number(19,0)</code>.</p>\n<p>Hibernate expects the column <code>CURR_STEP</code> that maps the association to be the same type of the id in <code>WorkflowTaskRoleMapping</code> (<code>number(19,0)</code>).\nThe validation failed because the type of <code>CURR_STEP</code> in the db is <code>varchar2</code>.</p>\n<p>It seems like you need to change the <code>curr_step</code> type on the db to <code>number(19,0)</code>.</p>\n<p>Or, you can change the id type of <code>WorkflowTaskRoleMapping</code> to <code>String</code>;</p>\n"}],"owner":{"account_id":5869143,"reputation":665,"user_id":4621980,"display_name":"Sanat Chandravanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72698278,"answer_count":1,"score":0,"last_activity_date":1655806007,"creation_date":1655802904,"question_id":72698181,"body_markdown":"Error: Schema-validation: wrong column type encountered in column [curr_step] in table [risk_workflow]; found [varchar2 (Types#VARCHAR)], but expecting [number(19,0) (Types#BIGINT)]\r\n\r\nPlease let me know how can we solve this?\r\n\r\nColumn declaration in entity class &quot;risk_workflow&quot;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;CURR_STEP&quot;)\r\n    private WorkflowTaskRoleMapping currentStep;\r\n\r\nWorkflowTaskRoleMapping entity:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.SEQUENCE,generator = &quot;WFTASK_ROLE_MPNG_SEQ&quot;)\r\n    @SequenceGenerator(sequenceName =&quot;WFTASK_ROLE_MPNG_SEQ&quot;,allocationSize = 1,name=&quot;WFTASK_ROLE_MPNG_SEQ&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;TASK_NAME&quot;, length = 100)\r\n    private String taskName;\r\n\r\n    @Column(name = &quot;ROLE&quot;, length = 25)\r\n    private String role;\r\n\r\n    @Column(name = &quot;TASK_ORDR&quot;)\r\n    private int order;\r\n\r\n    @Column(name = &quot;PROC_ID&quot;)\r\n    private long processId;","title":"Schema-validation: wrong column type encountered in column","body":"<p>Error: Schema-validation: wrong column type encountered in column [curr_step] in table [risk_workflow]; found [varchar2 (Types#VARCHAR)], but expecting [number(19,0) (Types#BIGINT)]</p>\n<p>Please let me know how can we solve this?</p>\n<p>Column declaration in entity class &quot;risk_workflow&quot;</p>\n<pre><code>@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;CURR_STEP&quot;)\nprivate WorkflowTaskRoleMapping currentStep;\n</code></pre>\n<p>WorkflowTaskRoleMapping entity:</p>\n<pre><code>@Id\n@GeneratedValue(strategy= GenerationType.SEQUENCE,generator = &quot;WFTASK_ROLE_MPNG_SEQ&quot;)\n@SequenceGenerator(sequenceName =&quot;WFTASK_ROLE_MPNG_SEQ&quot;,allocationSize = 1,name=&quot;WFTASK_ROLE_MPNG_SEQ&quot;)\nprivate long id;\n\n@Column(name = &quot;TASK_NAME&quot;, length = 100)\nprivate String taskName;\n\n@Column(name = &quot;ROLE&quot;, length = 25)\nprivate String role;\n\n@Column(name = &quot;TASK_ORDR&quot;)\nprivate int order;\n\n@Column(name = &quot;PROC_ID&quot;)\nprivate long processId;\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","webclient","spring-webclient"],"owner":{"account_id":3485114,"reputation":317,"user_id":2916263,"accept_rate":56,"display_name":"hallo02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655805915,"creation_date":1655805915,"question_id":72698900,"body_markdown":"We maintain a Java 17 application using Spring Boot 2.6.8 and `org.springframework.web.reactive.function.client.WebClient` to perform HTTPS requests to multiple endpoints.\r\n\r\nTo establish HTTPS a mTLS handshake (client- and server certificate verification) is performed.\r\nWe, the client, have multiple certificate-chains in the keystore, depending on the truststore of the server, the client implementation picks one or the other.\r\n\r\n**How can I log properly specific information during mTLS handshake?** eg.\r\n- Subject DN of provided client certificate\r\n- Information about chosen algorithm\r\n- and more.\r\n\r\nI know about the java system property `-Djavax.net.debug=all,handshake`. But I would like to avoid all the unused details and have more control about what and how logs are written.\r\n\r\nI am searching for a webclient-filter-like approach.\r\n\r\nThank you in advance.","title":"How to log TLS handshake details without `-Djavax.net.debug=all,handshake`","body":"<p>We maintain a Java 17 application using Spring Boot 2.6.8 and <code>org.springframework.web.reactive.function.client.WebClient</code> to perform HTTPS requests to multiple endpoints.</p>\n<p>To establish HTTPS a mTLS handshake (client- and server certificate verification) is performed.\nWe, the client, have multiple certificate-chains in the keystore, depending on the truststore of the server, the client implementation picks one or the other.</p>\n<p><strong>How can I log properly specific information during mTLS handshake?</strong> eg.</p>\n<ul>\n<li>Subject DN of provided client certificate</li>\n<li>Information about chosen algorithm</li>\n<li>and more.</li>\n</ul>\n<p>I know about the java system property <code>-Djavax.net.debug=all,handshake</code>. But I would like to avoid all the unused details and have more control about what and how logs are written.</p>\n<p>I am searching for a webclient-filter-like approach.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","list","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585774829,"creation_date":1585774829,"answer_id":60980254,"question_id":60979987,"body_markdown":"*My opinion:*  \r\nI would recommend #1, so you don&#39;t waste memory on irrelevant data.  \r\nThat it also performs better is nice too.\r\n\r\nBut only because you&#39;re talking about &quot;quite large&quot; (&quot;hundreds of thousands&quot;). For small lists, code clarity might be more desirable. If list can be small or large, code for large, otherwise memory overload and/or performance might kill/freeze the application.","title":"Will using java stream for filtering out large sets of data cause a performance decrease?","body":"<p><em>My opinion:</em><br>\nI would recommend #1, so you don't waste memory on irrelevant data.<br>\nThat it also performs better is nice too.</p>\n\n<p>But only because you're talking about \"quite large\" (\"hundreds of thousands\"). For small lists, code clarity might be more desirable. If list can be small or large, code for large, otherwise memory overload and/or performance might kill/freeze the application.</p>\n"},{"tags":[],"owner":{"account_id":1330218,"reputation":1902,"user_id":1274295,"accept_rate":76,"display_name":"Vladimir Kishlaly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655805867,"creation_date":1655805867,"answer_id":72698889,"question_id":60979987,"body_markdown":"Java (and modern CPUs) are [more optimized][1] to deal with arrays rather than with random access data sets like trees, so iteration over the array is faster. \r\nMoreover, ArrayList seems to be the [most effective structure][2] among Java Collection API\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45373242/when-is-java-loop-predication-optimization-triggered-by-the-c2-jit-compiler\r\n  [2]: https://dzone.com/articles/preventing-your-java-collections-from-wasting-memo","title":"Will using java stream for filtering out large sets of data cause a performance decrease?","body":"<p>Java (and modern CPUs) are <a href=\"https://stackoverflow.com/questions/45373242/when-is-java-loop-predication-optimization-triggered-by-the-c2-jit-compiler\">more optimized</a> to deal with arrays rather than with random access data sets like trees, so iteration over the array is faster.\nMoreover, ArrayList seems to be the <a href=\"https://dzone.com/articles/preventing-your-java-collections-from-wasting-memo\" rel=\"nofollow noreferrer\">most effective structure</a> among Java Collection API</p>\n"}],"owner":{"account_id":17073164,"reputation":93,"user_id":12353373,"display_name":"ronapple14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655805867,"creation_date":1585773915,"question_id":60979987,"body_markdown":"Assume I have hundreds of thousands of data to process.\r\n\r\nAnd my class looks like\r\n\r\n```\r\npublic class Group\r\n{\r\n   String id;\r\n   String name;\r\n}\r\n```\r\n\r\nAnd a list of these groups.\r\n```\r\nList&lt;Group&gt; groups = new Arraylist&lt;&gt;();\r\n```\r\n\r\nI want to make sure that I don&#39;t have any groups in this list without a name.\r\n\r\nSo I can think of two approaches\r\n\r\n1. When I am looping through the data, I can decide whether or not to put it in this list to begin with\r\n\r\n2. I can just keep the code simple until I need to filter out the list at the very end.\r\n\r\nOption 2 would be something like this:\r\n```\r\ngroups.stream.filter(g -&gt; !StringUtils.isBlank(g.name)).collect(Collectors.toList());\r\n```\r\n\r\nIs there a preferred way of doing this? Pros and cons? Option 2 will make my code look much cleaner, however I&#39;m worried because the dataset can be quite large and traversing through a large list may be a performance downgrade..","title":"Will using java stream for filtering out large sets of data cause a performance decrease?","body":"<p>Assume I have hundreds of thousands of data to process.</p>\n\n<p>And my class looks like</p>\n\n<pre><code>public class Group\n{\n   String id;\n   String name;\n}\n</code></pre>\n\n<p>And a list of these groups.</p>\n\n<pre><code>List&lt;Group&gt; groups = new Arraylist&lt;&gt;();\n</code></pre>\n\n<p>I want to make sure that I don't have any groups in this list without a name.</p>\n\n<p>So I can think of two approaches</p>\n\n<ol>\n<li><p>When I am looping through the data, I can decide whether or not to put it in this list to begin with</p></li>\n<li><p>I can just keep the code simple until I need to filter out the list at the very end.</p></li>\n</ol>\n\n<p>Option 2 would be something like this:</p>\n\n<pre><code>groups.stream.filter(g -&gt; !StringUtils.isBlank(g.name)).collect(Collectors.toList());\n</code></pre>\n\n<p>Is there a preferred way of doing this? Pros and cons? Option 2 will make my code look much cleaner, however I'm worried because the dataset can be quite large and traversing through a large list may be a performance downgrade..</p>\n"},{"tags":["java","sockets","server","publish"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655800069,"post_id":72696955,"comment_id":128410887,"body_markdown":"Define &#39;publish&#39;.","body":"Define &#39;publish&#39;."}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1655797520,"creation_date":1655797520,"answer_id":72697013,"question_id":72696955,"body_markdown":"There&#39;s no such thing as &quot;publish&quot;. Just run your server. That&#39;s it. Now clients can connect to it.\r\n\r\nIf there is a firewall between your client and server, then you&#39;ll have to configure the firewall appropriately.  If you&#39;re on a network with private addresses (typical home LAN setup) then you&#39;ll have to arrange port forwarding in the NAT box (&#39;router&#39;).\r\n\r\n","title":"How to publish socket server in Java?","body":"<p>There's no such thing as &quot;publish&quot;. Just run your server. That's it. Now clients can connect to it.</p>\n<p>If there is a firewall between your client and server, then you'll have to configure the firewall appropriately.  If you're on a network with private addresses (typical home LAN setup) then you'll have to arrange port forwarding in the NAT box ('router').</p>\n"}],"owner":{"account_id":24913919,"reputation":33,"user_id":18783116,"display_name":"Sunny"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1655813882,"answer_count":1,"score":-3,"last_activity_date":1655805827,"creation_date":1655797251,"question_id":72696955,"body_markdown":"I want to publish my socket server on a Window host or another for my project. However, I could not find how to do this because I could not find any examples. There is Server and Client in here, but I will use server one. Client just for testing it. And also this code can run in the Windows terminal. It is a good point. Please help me how can I solve it?\r\n\r\nServer.JAVA\r\n``` \r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class Server\r\n{\r\n    //initialize socket and input stream\r\n    private Socket          socket   = null;\r\n    private ServerSocket    server   = null;\r\n    private DataInputStream in       =  null;\r\n\r\n    // constructor with port\r\n    public Server(int port)\r\n    {\r\n        // starts server and waits for a connection\r\n        try\r\n        {\r\n            server = new ServerSocket(port);\r\n            System.out.println(&quot;Server started&quot;);\r\n\r\n            System.out.println(&quot;Waiting for a client ...&quot;);\r\n\r\n            socket = server.accept();\r\n            System.out.println(&quot;Client accepted&quot;);\r\n\r\n            // takes input from the client socket\r\n            in = new DataInputStream(\r\n                    new BufferedInputStream(socket.getInputStream()));\r\n\r\n            String line = &quot;&quot;;\r\n\r\n            // reads message from client until &quot;Stop&quot; is sent\r\n            while (!line.equals(&quot;Stop&quot;))\r\n            {\r\n                try\r\n                {\r\n                    line = in.readUTF();\r\n                    System.out.println(line);\r\n\r\n                }\r\n                catch(IOException i)\r\n                {\r\n                    System.out.println(i);\r\n                }\r\n            }\r\n            System.out.println(&quot;Closing connection&quot;);\r\n\r\n            // close connection\r\n            socket.close();\r\n            in.close();\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        Server server = new Server( 5000);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nClient.java\r\n\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\n\r\npublic class Client\r\n{\r\n    // initialize socket and input output streams\r\n    private Socket socket            = null;\r\n    private DataInputStream  input   = null;\r\n    private DataOutputStream out     = null;\r\n\r\n    // constructor to put ip address and port\r\n    public Client(String address, int port)\r\n    {\r\n        // establish a connection\r\n        try\r\n        {\r\n            socket = new Socket(address, port);\r\n            System.out.println(&quot;Connected&quot;);\r\n\r\n            // takes input from terminal\r\n            input  = new DataInputStream(System.in);\r\n\r\n            // sends output to the socket\r\n            out    = new DataOutputStream(socket.getOutputStream());\r\n        }\r\n        catch(UnknownHostException u)\r\n        {\r\n            System.out.println(u);\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n\r\n        // string to read message from input\r\n        String line = &quot;&quot;;\r\n\r\n        // keep reading until &quot;Stop&quot; is input\r\n        while (!line.equals(&quot;Stop&quot;))\r\n        {\r\n            try\r\n            {\r\n                line = input.readLine();\r\n                out.writeUTF(line);\r\n            }\r\n            catch(IOException i)\r\n            {\r\n                System.out.println(i);\r\n            }\r\n        }\r\n\r\n        // close the connection\r\n        try\r\n        {\r\n            input.close();\r\n            out.close();\r\n            socket.close();\r\n        }\r\n        catch(IOException i)\r\n        {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        Client client = new Client(&quot;127.0.0.1&quot;, 5000);\r\n    }\r\n}\r\n```","title":"How to publish socket server in Java?","body":"<p>I want to publish my socket server on a Window host or another for my project. However, I could not find how to do this because I could not find any examples. There is Server and Client in here, but I will use server one. Client just for testing it. And also this code can run in the Windows terminal. It is a good point. Please help me how can I solve it?</p>\n<p>Server.JAVA</p>\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class Server\n{\n    //initialize socket and input stream\n    private Socket          socket   = null;\n    private ServerSocket    server   = null;\n    private DataInputStream in       =  null;\n\n    // constructor with port\n    public Server(int port)\n    {\n        // starts server and waits for a connection\n        try\n        {\n            server = new ServerSocket(port);\n            System.out.println(&quot;Server started&quot;);\n\n            System.out.println(&quot;Waiting for a client ...&quot;);\n\n            socket = server.accept();\n            System.out.println(&quot;Client accepted&quot;);\n\n            // takes input from the client socket\n            in = new DataInputStream(\n                    new BufferedInputStream(socket.getInputStream()));\n\n            String line = &quot;&quot;;\n\n            // reads message from client until &quot;Stop&quot; is sent\n            while (!line.equals(&quot;Stop&quot;))\n            {\n                try\n                {\n                    line = in.readUTF();\n                    System.out.println(line);\n\n                }\n                catch(IOException i)\n                {\n                    System.out.println(i);\n                }\n            }\n            System.out.println(&quot;Closing connection&quot;);\n\n            // close connection\n            socket.close();\n            in.close();\n        }\n        catch(IOException i)\n        {\n            System.out.println(i);\n        }\n    }\n\n    public static void main(String args[])\n    {\n        Server server = new Server( 5000);\n    }\n}\n\n</code></pre>\n<p>Client.java</p>\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class Client\n{\n    // initialize socket and input output streams\n    private Socket socket            = null;\n    private DataInputStream  input   = null;\n    private DataOutputStream out     = null;\n\n    // constructor to put ip address and port\n    public Client(String address, int port)\n    {\n        // establish a connection\n        try\n        {\n            socket = new Socket(address, port);\n            System.out.println(&quot;Connected&quot;);\n\n            // takes input from terminal\n            input  = new DataInputStream(System.in);\n\n            // sends output to the socket\n            out    = new DataOutputStream(socket.getOutputStream());\n        }\n        catch(UnknownHostException u)\n        {\n            System.out.println(u);\n        }\n        catch(IOException i)\n        {\n            System.out.println(i);\n        }\n\n        // string to read message from input\n        String line = &quot;&quot;;\n\n        // keep reading until &quot;Stop&quot; is input\n        while (!line.equals(&quot;Stop&quot;))\n        {\n            try\n            {\n                line = input.readLine();\n                out.writeUTF(line);\n            }\n            catch(IOException i)\n            {\n                System.out.println(i);\n            }\n        }\n\n        // close the connection\n        try\n        {\n            input.close();\n            out.close();\n            socket.close();\n        }\n        catch(IOException i)\n        {\n            System.out.println(i);\n        }\n    }\n\n    public static void main(String args[])\n    {\n        Client client = new Client(&quot;127.0.0.1&quot;, 5000);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","debugging","tomcat"],"owner":{"account_id":541020,"reputation":2142,"user_id":909414,"accept_rate":62,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655805410,"creation_date":1624622606,"question_id":68130686,"body_markdown":"While attempting to remote debug a Java application using eclipse, I get the following message.\r\n\r\n    Failed to connect to remote VM\r\n    Read timed out\r\n    \r\nIn eclipse the debugger timeout is set to 300000ms and launch timeout to 200000ms. The remote server uses:\r\n\r\n    openjdk version &quot;1.8.0_282&quot;\r\n    OpenJDK Runtime Environment Corretto-8.282.08.1 (build 1.8.0_282-b08)\r\n    OpenJDK 64-Bit Server VM Corretto-8.282.08.1 (build 25.282-b08, mixed mode)\r\n\r\nAnd eclipse uses:\r\n\r\n    openjdk version &quot;1.8.0_265&quot;\r\n    OpenJDK Runtime Environment Corretto-8.265.01.1 (build 1.8.0_265-b01)\r\n    OpenJDK 64-Bit Server VM Corretto-8.265.01.1 (build 25.265-b01, mixed mode)\r\n\r\nThe remote application is started with these options\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,address=10004,server=y,suspend=n\r\n\r\nI get connection refused without these settings, which indicates the firewall settings are correct as well. Any help in resolving this problem is appreciated.\r\n\r\n**update**\r\n\r\nEclipse error log has this error:\r\n\r\n    java.net.SocketTimeoutException: Read timed out\r\n    \tat java.base/java.net.SocketInputStream.socketRead0(Native Method)\r\n    \tat java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n    \tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n    \tat java.base/java.io.DataInputStream.readFully(DataInputStream.java:200)\r\n    \tat java.base/java.io.DataInputStream.readFully(DataInputStream.java:170)\r\n    \tat org.eclipse.jdi.internal.connect.SocketTransportService.readHandshake(SocketTransportService.java:220)\r\n    \tat org.eclipse.jdi.internal.connect.SocketTransportService$3.run(SocketTransportService.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)","title":"Java remote debug &quot;Read timed out&quot; problem","body":"<p>While attempting to remote debug a Java application using eclipse, I get the following message.</p>\n<pre><code>Failed to connect to remote VM\nRead timed out\n</code></pre>\n<p>In eclipse the debugger timeout is set to 300000ms and launch timeout to 200000ms. The remote server uses:</p>\n<pre><code>openjdk version &quot;1.8.0_282&quot;\nOpenJDK Runtime Environment Corretto-8.282.08.1 (build 1.8.0_282-b08)\nOpenJDK 64-Bit Server VM Corretto-8.282.08.1 (build 25.282-b08, mixed mode)\n</code></pre>\n<p>And eclipse uses:</p>\n<pre><code>openjdk version &quot;1.8.0_265&quot;\nOpenJDK Runtime Environment Corretto-8.265.01.1 (build 1.8.0_265-b01)\nOpenJDK 64-Bit Server VM Corretto-8.265.01.1 (build 25.265-b01, mixed mode)\n</code></pre>\n<p>The remote application is started with these options</p>\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,address=10004,server=y,suspend=n\n</code></pre>\n<p>I get connection refused without these settings, which indicates the firewall settings are correct as well. Any help in resolving this problem is appreciated.</p>\n<p><strong>update</strong></p>\n<p>Eclipse error log has this error:</p>\n<pre><code>java.net.SocketTimeoutException: Read timed out\n    at java.base/java.net.SocketInputStream.socketRead0(Native Method)\n    at java.base/java.net.SocketInputStream.socketRead(SocketInputStream.java:115)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:168)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/java.io.DataInputStream.readFully(DataInputStream.java:200)\n    at java.base/java.io.DataInputStream.readFully(DataInputStream.java:170)\n    at org.eclipse.jdi.internal.connect.SocketTransportService.readHandshake(SocketTransportService.java:220)\n    at org.eclipse.jdi.internal.connect.SocketTransportService$3.run(SocketTransportService.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","xml","xstream"],"answers":[{"tags":[],"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655805379,"creation_date":1488628879,"answer_id":42595773,"question_id":42595466,"body_markdown":"In XStream 1.4.5 and above you can use `NamedMapConverter`.\r\n\r\nSo in your case you can try something like this:\r\n\r\n    XStream xstream = new XStream();\r\n    NamedMapConverter namedMapConverter = new NamedMapConverter(xstream.getMapper(), &quot;entry&quot;, &quot;key&quot;, ShareHolder.class, &quot;value&quot;, Float.class);\r\n    xstream.registerConverter(namedMapConverter);","title":"How to read xml with HashMap inside the class via XStream","body":"<p>In XStream 1.4.5 and above you can use <code>NamedMapConverter</code>.</p>\n<p>So in your case you can try something like this:</p>\n<pre><code>XStream xstream = new XStream();\nNamedMapConverter namedMapConverter = new NamedMapConverter(xstream.getMapper(), &quot;entry&quot;, &quot;key&quot;, ShareHolder.class, &quot;value&quot;, Float.class);\nxstream.registerConverter(namedMapConverter);\n</code></pre>\n"}],"owner":{"display_name":"user6677603"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655805379,"creation_date":1488627034,"question_id":42595466,"body_markdown":"Here are my class fields. \r\n\r\n     @XStreamAlias(&quot;OrgEntity&quot;)\r\n        public class OrgEntity implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 2L;\r\n    \tprivate static final int MAX_SHARE_PERCENTAGE = 100;\r\n    \tprivate static final byte MIN_ORG_NAME_LENGTH = 2;\r\n    \tpublic static Map&lt;String, OrgEntity&gt; allOrgMap;\r\n    \t@XStreamAlias(&quot;entityName&quot;)\r\n    \t@XStreamAsAttribute\r\n    \tprivate String entityName;\r\n    \tprivate OrgType type;\r\n    \tprivate float sharesPortionHeldBy;\r\n    \tprivate double authorisedCapital;\r\n    \tprivate String parentCompanyName;\r\n    \tprivate Human ceo;\r\n    \r\n    \tprivate Map&lt;ShareHolder, Float&gt; shareHoldersMap;\r\n    .... \r\n    }\r\n\r\nThis is the xml that I need to read: \r\n\r\n    &lt;OrgEntity entityName=&quot;nonParentCompany&quot;&gt;\r\n      &lt;type&gt;ZAO&lt;/type&gt;\r\n      &lt;sharesPortionHeldBy&gt;13.0&lt;/sharesPortionHeldBy&gt;\r\n      &lt;authorisedCapital&gt;1000000.0&lt;/authorisedCapital&gt;\r\n      &lt;ceo surname=&quot;Narishkin&quot; firstName=&quot;Denis&quot; middleName=&quot;Ven&quot;/&gt;\r\n      &lt;shareHoldersMap&gt;\r\n        &lt;entry&gt;\r\n          &lt;ShareHolder surname=&quot;Trump&quot; firstName=&quot;Don&quot; middleName=&quot;J&quot;&gt;\r\n            &lt;shareHolderPortfolioMap&gt;\r\n              &lt;shareHolderAsset&gt;\r\n                &lt;entry&gt;\r\n                  &lt;string&gt;nonParentCompany&lt;/string&gt;\r\n                  &lt;float&gt;5.0&lt;/float&gt;\r\n                &lt;/entry&gt;\r\n              &lt;/shareHolderAsset&gt;\r\n              &lt;outer-class reference=&quot;../..&quot;/&gt;\r\n            &lt;/shareHolderPortfolioMap&gt;\r\n            &lt;currCom reference=&quot;../../../..&quot;/&gt;\r\n            &lt;sharesNumberCurrComp&gt;5.0&lt;/sharesNumberCurrComp&gt;\r\n          &lt;/ShareHolder&gt;\r\n          &lt;float&gt;5.0&lt;/float&gt;\r\n        &lt;/entry&gt;\r\n        &lt;entry&gt;\r\n          &lt;ShareHolder surname=&quot;Smith&quot; firstName=&quot;Adam&quot; middleName=&quot;A&quot;&gt;\r\n            &lt;shareHolderPortfolioMap&gt;\r\n              &lt;shareHolderAsset&gt;\r\n                &lt;entry&gt;\r\n                  &lt;string&gt;nonParentCompany&lt;/string&gt;\r\n                  &lt;float&gt;8.0&lt;/float&gt;\r\n                &lt;/entry&gt;\r\n              &lt;/shareHolderAsset&gt;\r\n              &lt;outer-class reference=&quot;../..&quot;/&gt;\r\n            &lt;/shareHolderPortfolioMap&gt;\r\n            &lt;currCom reference=&quot;../../../..&quot;/&gt;\r\n            &lt;sharesNumberCurrComp&gt;8.0&lt;/sharesNumberCurrComp&gt;\r\n          &lt;/ShareHolder&gt;\r\n          &lt;float&gt;8.0&lt;/float&gt;\r\n        &lt;/entry&gt;\r\n      &lt;/shareHoldersMap&gt;\r\n    &lt;/OrgEntity&gt;\r\n\r\nHow can I read this xml through XStream? I tried to use the code below but it failed.  The exeption that I receive is\r\n\r\n&gt; Exception in thread &quot;main&quot; com.thoughtworks.xstream.InitializationException: No field &quot;shareHoldersMap&quot; for implicit collection\r\n\r\nWhat should I do in order to be able to read the xml?\r\n\r\n    public static void main(String[] args) {\r\n    \t\tOrgEntity o = DataForRunners.createDataForBasicFile15OrgsWithShareHoldingsUpdateForXML().get(0);\r\n    \t\tString xmlOrgObj = &quot;src/main/java/com/.... &quot;;\r\n    \t\tnew XStreamDecorator&lt;OrgEntity&gt;(o, xmlOrgObj);\r\n    \t\tXStream xstream = new XStream(new DomDriver());\r\n    \t\txstream.alias(&quot;OrgEntity&quot;, OrgEntity.class);\r\n    \t\txstream.alias(&quot;entityName&quot;, OrgEntity.class);\r\n    \t\txstream.alias(&quot;type&quot;, OrgType.class);\r\n    \t\txstream.alias(&quot;ceo&quot;, Human.class);\r\n    \t\txstream.addImplicitCollection(HashMap.class, &quot;shareHoldersMap&quot;);\r\n    \t\tInputStream in = null;\r\n    \t\ttry {\r\n    \r\n    \t\t\tin = new FileInputStream(xmlOrgObj);\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tOrgEntity var =(OrgEntity) xstream.fromXML(in);\r\n    \t\tSystem.out.println(var);\r\n    \t}","title":"How to read xml with HashMap inside the class via XStream","body":"<p>Here are my class fields.</p>\n<pre><code> @XStreamAlias(&quot;OrgEntity&quot;)\n    public class OrgEntity implements Serializable {\n\n    private static final long serialVersionUID = 2L;\n    private static final int MAX_SHARE_PERCENTAGE = 100;\n    private static final byte MIN_ORG_NAME_LENGTH = 2;\n    public static Map&lt;String, OrgEntity&gt; allOrgMap;\n    @XStreamAlias(&quot;entityName&quot;)\n    @XStreamAsAttribute\n    private String entityName;\n    private OrgType type;\n    private float sharesPortionHeldBy;\n    private double authorisedCapital;\n    private String parentCompanyName;\n    private Human ceo;\n\n    private Map&lt;ShareHolder, Float&gt; shareHoldersMap;\n.... \n}\n</code></pre>\n<p>This is the xml that I need to read:</p>\n<pre><code>&lt;OrgEntity entityName=&quot;nonParentCompany&quot;&gt;\n  &lt;type&gt;ZAO&lt;/type&gt;\n  &lt;sharesPortionHeldBy&gt;13.0&lt;/sharesPortionHeldBy&gt;\n  &lt;authorisedCapital&gt;1000000.0&lt;/authorisedCapital&gt;\n  &lt;ceo surname=&quot;Narishkin&quot; firstName=&quot;Denis&quot; middleName=&quot;Ven&quot;/&gt;\n  &lt;shareHoldersMap&gt;\n    &lt;entry&gt;\n      &lt;ShareHolder surname=&quot;Trump&quot; firstName=&quot;Don&quot; middleName=&quot;J&quot;&gt;\n        &lt;shareHolderPortfolioMap&gt;\n          &lt;shareHolderAsset&gt;\n            &lt;entry&gt;\n              &lt;string&gt;nonParentCompany&lt;/string&gt;\n              &lt;float&gt;5.0&lt;/float&gt;\n            &lt;/entry&gt;\n          &lt;/shareHolderAsset&gt;\n          &lt;outer-class reference=&quot;../..&quot;/&gt;\n        &lt;/shareHolderPortfolioMap&gt;\n        &lt;currCom reference=&quot;../../../..&quot;/&gt;\n        &lt;sharesNumberCurrComp&gt;5.0&lt;/sharesNumberCurrComp&gt;\n      &lt;/ShareHolder&gt;\n      &lt;float&gt;5.0&lt;/float&gt;\n    &lt;/entry&gt;\n    &lt;entry&gt;\n      &lt;ShareHolder surname=&quot;Smith&quot; firstName=&quot;Adam&quot; middleName=&quot;A&quot;&gt;\n        &lt;shareHolderPortfolioMap&gt;\n          &lt;shareHolderAsset&gt;\n            &lt;entry&gt;\n              &lt;string&gt;nonParentCompany&lt;/string&gt;\n              &lt;float&gt;8.0&lt;/float&gt;\n            &lt;/entry&gt;\n          &lt;/shareHolderAsset&gt;\n          &lt;outer-class reference=&quot;../..&quot;/&gt;\n        &lt;/shareHolderPortfolioMap&gt;\n        &lt;currCom reference=&quot;../../../..&quot;/&gt;\n        &lt;sharesNumberCurrComp&gt;8.0&lt;/sharesNumberCurrComp&gt;\n      &lt;/ShareHolder&gt;\n      &lt;float&gt;8.0&lt;/float&gt;\n    &lt;/entry&gt;\n  &lt;/shareHoldersMap&gt;\n&lt;/OrgEntity&gt;\n</code></pre>\n<p>How can I read this xml through XStream? I tried to use the code below but it failed.  The exeption that I receive is</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.thoughtworks.xstream.InitializationException: No field &quot;shareHoldersMap&quot; for implicit collection</p>\n</blockquote>\n<p>What should I do in order to be able to read the xml?</p>\n<pre><code>public static void main(String[] args) {\n        OrgEntity o = DataForRunners.createDataForBasicFile15OrgsWithShareHoldingsUpdateForXML().get(0);\n        String xmlOrgObj = &quot;src/main/java/com/.... &quot;;\n        new XStreamDecorator&lt;OrgEntity&gt;(o, xmlOrgObj);\n        XStream xstream = new XStream(new DomDriver());\n        xstream.alias(&quot;OrgEntity&quot;, OrgEntity.class);\n        xstream.alias(&quot;entityName&quot;, OrgEntity.class);\n        xstream.alias(&quot;type&quot;, OrgType.class);\n        xstream.alias(&quot;ceo&quot;, Human.class);\n        xstream.addImplicitCollection(HashMap.class, &quot;shareHoldersMap&quot;);\n        InputStream in = null;\n        try {\n\n            in = new FileInputStream(xmlOrgObj);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        OrgEntity var =(OrgEntity) xstream.fromXML(in);\n        System.out.println(var);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1655796934,"post_id":72696862,"comment_id":128409895,"body_markdown":"And what is the code that is running?","body":"And what is the code that is running?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1655802466,"post_id":72696862,"comment_id":128411744,"body_markdown":"Please share how you&#39;re running this application (command line? maven goal? be specific) and the code that you expect to be executed (not everything if it&#39;s large, but a minimal description + configuration/code example).","body":"Please share how you&#39;re running this application (command line? maven goal? be specific) and the code that you expect to be executed (not everything if it&#39;s large, but a minimal description + configuration/code example)."}],"answers":[{"tags":[],"owner":{"account_id":14887938,"reputation":166,"user_id":10750553,"display_name":"Stanislau Kozel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655797248,"creation_date":1655797248,"answer_id":72696954,"question_id":72696862,"body_markdown":"In common the JVM will ends when Main Thred finished the work and no non-daemon threads. It hard to say what you have now in your code. But I can see that there are no web-server (like embedded tomcat) and guess there are no tasks (for Main thread or any non-daemon thread). It is expected behavior for current project.\r\nThere are 2 ways (depend what you want to get)\r\n 1. Start web server\r\n 2. Create task which will do anything.","title":"Why my springboot application ended up like this?","body":"<p>In common the JVM will ends when Main Thred finished the work and no non-daemon threads. It hard to say what you have now in your code. But I can see that there are no web-server (like embedded tomcat) and guess there are no tasks (for Main thread or any non-daemon thread). It is expected behavior for current project.\nThere are 2 ways (depend what you want to get)</p>\n<ol>\n<li>Start web server</li>\n<li>Create task which will do anything.</li>\n</ol>\n"}],"owner":{"account_id":23284813,"reputation":1,"user_id":17367805,"display_name":"Linda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655805273,"creation_date":1655796762,"question_id":72696862,"body_markdown":"Here is the screenshot for the running result, the program ends immediately after running\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxVJi.png\r\n\r\nAnd below is my pom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Meituan&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Meituan&lt;/name&gt;\r\n    &lt;description&gt;Meituan&lt;/description&gt;\r\n\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.76&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nCan somebody help?","title":"Why my springboot application ended up like this?","body":"<p>Here is the screenshot for the running result, the program ends immediately after running\n<a href=\"https://i.stack.imgur.com/gxVJi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>And below is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Meituan&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Meituan&lt;/name&gt;\n    &lt;description&gt;Meituan&lt;/description&gt;\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.baomidou&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;1.2.76&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.23&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Can somebody help?</p>\n"},{"tags":["java","exception","sleep"],"comments":[{"owner":{"account_id":139432,"reputation":11363,"user_id":345027,"accept_rate":72,"display_name":"king_nak"},"score":3,"creation_date":1655799657,"post_id":72697271,"comment_id":128410745,"body_markdown":"I reckon the question can be only answered with: It depends. If the OS/Platform does not support threads, the JRE would use green threads (i.e. a SW implementation), if the JRE nicely integrates with the OS, the platform&#39;s scheduling will be used. Anything in between may be possible. So it depends, on Platform, OS, JRE implementation.","body":"I reckon the question can be only answered with: It depends. If the OS/Platform does not support threads, the JRE would use green threads (i.e. a SW implementation), if the JRE nicely integrates with the OS, the platform&#39;s scheduling will be used. Anything in between may be possible. So it depends, on Platform, OS, JRE implementation."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1655805022,"post_id":72697271,"comment_id":128412719,"body_markdown":"@king_nak Java hasn&#39;t had green threads since 1997 (and the virtual threads going into preview in Java 19 are not green threads as were used in the early Java versions).","body":"@king_nak Java hasn&#39;t had green threads since 1997 (and the virtual threads going into preview in Java 19 are not green threads as were used in the early Java versions)."},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1655805745,"post_id":72697271,"comment_id":128412968,"body_markdown":"My point might have been lost in the kind of long digression I made(it was just to check if I got some base knowledge wrong that made me ask the question in the first place). What I am asking is basically how can a thread that I invoked sleep(x) on  throw exceptions before x time has passed, since the first explanation that comes to my mind is that the thread has to execute to throw exceptions(which it shouldn&#39;t if &quot;sleeping&quot;) . If this is very &quot;environment dependent&quot; any example would be a great answer, maybe one regarding the most likely software+hardware configurations currently available","body":"My point might have been lost in the kind of long digression I made(it was just to check if I got some base knowledge wrong that made me ask the question in the first place). What I am asking is basically how can a thread that I invoked sleep(x) on  throw exceptions before x time has passed, since the first explanation that comes to my mind is that the thread has to execute to throw exceptions(which it shouldn&#39;t if &quot;sleeping&quot;) . If this is very &quot;environment dependent&quot; any example would be a great answer, maybe one regarding the most likely software+hardware configurations currently available"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655814645,"post_id":72697271,"comment_id":128416218,"body_markdown":"A typical implementation of interruption will use signals while typically running on an operating system where a signal can stop an ongoing `sleep` call.","body":"A typical implementation of interruption will use signals while typically running on an operating system where a signal can stop an ongoing <code>sleep</code> call."}],"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655805262,"creation_date":1655798757,"question_id":72697271,"body_markdown":"My question considers, as an example, the scenario where the thread T is put to sleep for X time, and then T gets an interrupt call from another thread, which will make it raise an InterruptedException at some point. I&#39;m mainly concerned with the performance impact of the implementation choice for this, and why is it low or high. From my understating of how things work on a low level, a java sleep() call calls inside of it the sleep function of the OS, which instructs the scheduler to keep the thread in a non executing state and check every Y time for each thread if the sleep time has elapsed (this check is triggered by a signal separate from the cpu clock that is thrown once every many clock cycles, as to not have too much impact on performance).\r\n\r\n1. Is this correct?\r\n\r\n2. I&#39;m guessing that one solution might be that the sleep(x) method in java has an internal cycle that repeatedly checks for the interrupted flag. If this didn&#39;t call the sleep function of the OS, the thread would keep getting scheduled just repeating that check and consuming a lot of cpu time(as much as a thread that is not sleeping and working without interruptions). Does the java sleep(x) method actually call the OS sleep(t) more than once, with t being a fraction of x, so that the thread performs the check on the interrupted flag once in a while? This would still mean that every thread that is sleeping gets woken and put to sleep again multiple times, is this optimal?\r\n\r\n3. If question 2 is false, what does actually happen?\r\n\r\nEdit: I&#39;m assuming a scenario where the OS has threads implemented and the JVM uses them, if this changes the possible answer to this question.","title":"How does a Java thread which has been put to sleep() throw an exception?","body":"<p>My question considers, as an example, the scenario where the thread T is put to sleep for X time, and then T gets an interrupt call from another thread, which will make it raise an InterruptedException at some point. I'm mainly concerned with the performance impact of the implementation choice for this, and why is it low or high. From my understating of how things work on a low level, a java sleep() call calls inside of it the sleep function of the OS, which instructs the scheduler to keep the thread in a non executing state and check every Y time for each thread if the sleep time has elapsed (this check is triggered by a signal separate from the cpu clock that is thrown once every many clock cycles, as to not have too much impact on performance).</p>\n<ol>\n<li><p>Is this correct?</p>\n</li>\n<li><p>I'm guessing that one solution might be that the sleep(x) method in java has an internal cycle that repeatedly checks for the interrupted flag. If this didn't call the sleep function of the OS, the thread would keep getting scheduled just repeating that check and consuming a lot of cpu time(as much as a thread that is not sleeping and working without interruptions). Does the java sleep(x) method actually call the OS sleep(t) more than once, with t being a fraction of x, so that the thread performs the check on the interrupted flag once in a while? This would still mean that every thread that is sleeping gets woken and put to sleep again multiple times, is this optimal?</p>\n</li>\n<li><p>If question 2 is false, what does actually happen?</p>\n</li>\n</ol>\n<p>Edit: I'm assuming a scenario where the OS has threads implemented and the JVM uses them, if this changes the possible answer to this question.</p>\n"},{"tags":["java","printing","ipp-protocol"],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257017097,"creation_date":1257017097,"answer_id":1655333,"question_id":1655297,"body_markdown":"I do not think you can get a printer the way you would like to (I think the Java Print mechanism predates IPP).\r\n\r\nYou may, however, if I recall correctly be able to render your print job locally and then ship the bytes of the output stream to the target CUPS server &quot;by hand&quot;.   Would this be &quot;good enough&quot; for you?","title":"Print to specific printer (IPP URI) in Java","body":"<p>I do not think you can get a printer the way you would like to (I think the Java Print mechanism predates IPP).</p>\n\n<p>You may, however, if I recall correctly be able to render your print job locally and then ship the bytes of the output stream to the target CUPS server \"by hand\".   Would this be \"good enough\" for you?</p>\n"},{"tags":[],"owner":{"account_id":571,"reputation":8829,"user_id":737,"accept_rate":80,"display_name":"Jason Day"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1316289537,"creation_date":1257186281,"answer_id":1662852,"question_id":1655297,"body_markdown":"I finally found a way to do this, by using `jipsi`:\r\n\r\n    URI printerURI = new URI(&quot;ipp://SERVER:631/printers/PRINTER_NAME&quot;);\r\n    IppPrintService svc = new IppPrintService(printerURI);\r\n    InputStream stream = new BufferedInputStream(new FileInputStream(&quot;image.epl&quot;));\r\n    DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\r\n    Doc myDoc = new SimpleDoc(stream, flavor, null);\r\n    DocPrintJob job = svc.createPrintJob();\r\n    job.print(myDoc, null);\r\n\r\nI have to admit I&#39;m disappointed at having to use a 3rd-party library to do something so seemingly simple as printing to a specific printer.\r\n\r\n**UPDATE**\r\n\r\nDR points out in the [comments][1] that jipsi has a new [home][2], and a new name.\r\n\r\n[Cups4J][3] is a nice alternative, but as the name implies it may not work correctly if the destination is not a CUPS server. I have had good results using Cups4J to print directly to a Zebra thermal printer.\r\n\r\n  [1]: https://stackoverflow.com/questions/1655297/print-to-specific-printer-ipp-uri-in-java/1662852#comment-9018115\r\n  [2]: http://code.google.com/p/jspi/\r\n  [3]: http://www.cups4j.org/","title":"Print to specific printer (IPP URI) in Java","body":"<p>I finally found a way to do this, by using <code>jipsi</code>:</p>\n\n<pre><code>URI printerURI = new URI(\"ipp://SERVER:631/printers/PRINTER_NAME\");\nIppPrintService svc = new IppPrintService(printerURI);\nInputStream stream = new BufferedInputStream(new FileInputStream(\"image.epl\"));\nDocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\nDoc myDoc = new SimpleDoc(stream, flavor, null);\nDocPrintJob job = svc.createPrintJob();\njob.print(myDoc, null);\n</code></pre>\n\n<p>I have to admit I'm disappointed at having to use a 3rd-party library to do something so seemingly simple as printing to a specific printer.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>DR points out in the <a href=\"https://stackoverflow.com/questions/1655297/print-to-specific-printer-ipp-uri-in-java/1662852#comment-9018115\">comments</a> that jipsi has a new <a href=\"http://code.google.com/p/jspi/\" rel=\"noreferrer\">home</a>, and a new name.</p>\n\n<p><a href=\"http://www.cups4j.org/\" rel=\"noreferrer\">Cups4J</a> is a nice alternative, but as the name implies it may not work correctly if the destination is not a CUPS server. I have had good results using Cups4J to print directly to a Zebra thermal printer.</p>\n"},{"tags":[],"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606746743,"creation_date":1584627616,"answer_id":60759069,"question_id":1655297,"body_markdown":"To only submit a printable document format like PDF via IPP to a printer (or to CUPS) this code provides a minimalistic implementation without dependencies. [ipp-printjob-java][1] has basic support for decoding the ipp response.\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URI;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    public class IppPrintJob {\r\n\r\n      public static void main(String args[]) throws Exception {\r\n        URI printerURI = URI.create(&quot;http://colorjet:631/ipp/printer&quot;);\r\n        File file = new File(&quot;A4-blank.pdf&quot;);\r\n        short status = new IppPrintJob()\r\n          .printDocument(printerURI, new FileInputStream(file));\r\n        System.out.println(String.format(&quot;ipp status: %04X&quot;, status));\r\n      }\r\n\r\n      short printDocument(\r\n        URI uri, InputStream documentInputStream\r\n      ) throws IOException {\r\n        HttpURLConnection httpURLConnection =\r\n          (HttpURLConnection) uri.toURL().openConnection();\r\n        httpURLConnection.setDoOutput(true);\r\n        httpURLConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\r\n        OutputStream outputStream = httpURLConnection.getOutputStream();\r\n        DataOutputStream dataOutputStream =\r\n          new DataOutputStream(httpURLConnection.getOutputStream());\r\n        dataOutputStream.writeShort(0x0101); // ipp version\r\n        dataOutputStream.writeShort(0x0002); // print job operation\r\n        dataOutputStream.writeInt(0x002A); // request id\r\n        dataOutputStream.writeByte(0x01); // operation group tag\r\n        writeAttribute(dataOutputStream, 0x47, &quot;attributes-charset&quot;, &quot;utf-8&quot;);\r\n        writeAttribute(dataOutputStream, 0x48, &quot;attributes-natural-language&quot;, &quot;en&quot;);\r\n        writeAttribute(dataOutputStream, 0x45, &quot;printer-uri&quot;, uri.toString());\r\n        dataOutputStream.writeByte(0x03); // end tag\r\n        documentInputStream.transferTo(outputStream);\r\n        dataOutputStream.close();\r\n        outputStream.close();\r\n        if (httpURLConnection.getResponseCode() == 200) {\r\n          DataInputStream dataInputStream =\r\n            new DataInputStream(httpURLConnection.getInputStream());\r\n          System.out.println(String.format(&quot;ipp version %d.%s&quot;,\r\n            dataInputStream.readByte(), dataInputStream.readByte()\r\n          ));\r\n          return dataInputStream.readShort();\r\n        } else {\r\n          throw new IOException(String.format(&quot;post to %s failed with http status %d&quot;,\r\n            uri, httpURLConnection.getResponseCode()\r\n          ));\r\n        }\r\n      }\r\n\r\n      void writeAttribute(\r\n        DataOutputStream dataOutputStream, int tag, String name, String value\r\n      ) throws IOException\r\n      {\r\n        Charset charset = StandardCharsets.UTF_8;\r\n        dataOutputStream.writeByte(tag);\r\n        dataOutputStream.writeShort(name.length());\r\n        dataOutputStream.write(name.getBytes(charset));\r\n        dataOutputStream.writeShort(value.length());\r\n        dataOutputStream.write(value.getBytes(charset));\r\n      }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://github.com/gmuth/ipp-printjob-java/","title":"Print to specific printer (IPP URI) in Java","body":"<p>To only submit a printable document format like PDF via IPP to a printer (or to CUPS) this code provides a minimalistic implementation without dependencies. <a href=\"https://github.com/gmuth/ipp-printjob-java/\" rel=\"nofollow noreferrer\">ipp-printjob-java</a> has basic support for decoding the ipp response.</p>\n<pre><code>import java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URI;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\n\npublic class IppPrintJob {\n\n  public static void main(String args[]) throws Exception {\n    URI printerURI = URI.create(&quot;http://colorjet:631/ipp/printer&quot;);\n    File file = new File(&quot;A4-blank.pdf&quot;);\n    short status = new IppPrintJob()\n      .printDocument(printerURI, new FileInputStream(file));\n    System.out.println(String.format(&quot;ipp status: %04X&quot;, status));\n  }\n\n  short printDocument(\n    URI uri, InputStream documentInputStream\n  ) throws IOException {\n    HttpURLConnection httpURLConnection =\n      (HttpURLConnection) uri.toURL().openConnection();\n    httpURLConnection.setDoOutput(true);\n    httpURLConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/ipp&quot;);\n    OutputStream outputStream = httpURLConnection.getOutputStream();\n    DataOutputStream dataOutputStream =\n      new DataOutputStream(httpURLConnection.getOutputStream());\n    dataOutputStream.writeShort(0x0101); // ipp version\n    dataOutputStream.writeShort(0x0002); // print job operation\n    dataOutputStream.writeInt(0x002A); // request id\n    dataOutputStream.writeByte(0x01); // operation group tag\n    writeAttribute(dataOutputStream, 0x47, &quot;attributes-charset&quot;, &quot;utf-8&quot;);\n    writeAttribute(dataOutputStream, 0x48, &quot;attributes-natural-language&quot;, &quot;en&quot;);\n    writeAttribute(dataOutputStream, 0x45, &quot;printer-uri&quot;, uri.toString());\n    dataOutputStream.writeByte(0x03); // end tag\n    documentInputStream.transferTo(outputStream);\n    dataOutputStream.close();\n    outputStream.close();\n    if (httpURLConnection.getResponseCode() == 200) {\n      DataInputStream dataInputStream =\n        new DataInputStream(httpURLConnection.getInputStream());\n      System.out.println(String.format(&quot;ipp version %d.%s&quot;,\n        dataInputStream.readByte(), dataInputStream.readByte()\n      ));\n      return dataInputStream.readShort();\n    } else {\n      throw new IOException(String.format(&quot;post to %s failed with http status %d&quot;,\n        uri, httpURLConnection.getResponseCode()\n      ));\n    }\n  }\n\n  void writeAttribute(\n    DataOutputStream dataOutputStream, int tag, String name, String value\n  ) throws IOException\n  {\n    Charset charset = StandardCharsets.UTF_8;\n    dataOutputStream.writeByte(tag);\n    dataOutputStream.writeShort(name.length());\n    dataOutputStream.write(name.getBytes(charset));\n    dataOutputStream.writeShort(value.length());\n    dataOutputStream.write(value.getBytes(charset));\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655804995,"creation_date":1655804995,"answer_id":72698695,"question_id":1655297,"body_markdown":"Using this [ipp-client][1] you can submit a PDF file to a printer (or CUPS) which supports this document format:\r\n\r\n    new IppPrinter(URI.create(&quot;ipp://myprinter&quot;)).printJob(\r\n        File(&quot;mydocument.pdf&quot;), documentFormat(&quot;application/pdf&quot;)\r\n    );\r\n\r\n\r\n  [1]: https://github.com/gmuth/ipp-client-kotlin","title":"Print to specific printer (IPP URI) in Java","body":"<p>Using this <a href=\"https://github.com/gmuth/ipp-client-kotlin\" rel=\"nofollow noreferrer\">ipp-client</a> you can submit a PDF file to a printer (or CUPS) which supports this document format:</p>\n<pre><code>new IppPrinter(URI.create(&quot;ipp://myprinter&quot;)).printJob(\n    File(&quot;mydocument.pdf&quot;), documentFormat(&quot;application/pdf&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":571,"reputation":8829,"user_id":737,"accept_rate":80,"display_name":"Jason Day"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26450,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":1662852,"answer_count":4,"score":16,"last_activity_date":1655804995,"creation_date":1257016304,"question_id":1655297,"body_markdown":"Is there any way in Java to print to a specific IPP printer? All of the sample code and tutorials I&#39;ve found focus on how to print a particular type of document, using something like the following:\r\n\r\n    DocFlavor flavor = DocFlavor.INPUT_STREAM.POSTSCRIPT;\r\n    PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\r\n    aset.add(MediaSizeName.ISO_A4);\r\n    PrintService[] pservices =\r\n                 PrintServiceLookup.lookupPrintServices(flavor, aset);\r\n    if (pservices.length &gt; 0) {\r\n        DocPrintJob pj = pservices[0].createPrintJob();\r\n        try {\r\n            FileInputStream fis = new FileInputStream(&quot;test.ps&quot;);\r\n            Doc doc = new SimpleDoc(fis, flavor, null);\r\n            pj.print(doc, aset);\r\n        } catch (FileNotFoundException fe) {\r\n        } catch (PrintException e) { \r\n        }\r\n    }\r\n\r\nThis snippet simply prints to the first printer found that is capable of printing the document. In my case, I want to lookup a printer by its URI, but `PrintServiceLookup` doesn&#39;t seem to support this. I&#39;ve tried using a `PrintServiceAttributeSet`, instead of `PrintRequestAttributeSet`, and adding a `PrinterURI` attribute, but that doesn&#39;t return any printers. I suspect the lookup service is looking for a printer that can change its destination URI, rather than looking for the printer with that URI.\r\n\r\nAs a last resort, I thought about just enumerating through all of the `PrintService`s returned by `lookupPrintServices`, but the URI is not in any of the attributes. The printer name is there, but I need the URI.\r\n\r\nFor background, my webapp needs to print a barcode to a specific printer, based on the current user. Each user is associated with a printer URI, which points to a printer on a CUPS server. The printer URI is the only information I have, and I can&#39;t constrain the printer name to match the URI or a substring of the URI.\r\n\r\n**Edit:** To clarify a bit, I don&#39;t need to render the data, I just need to copy a blob to a given printer. The part I can&#39;t figure out is how to identify a printer by its IPP URI.","title":"Print to specific printer (IPP URI) in Java","body":"<p>Is there any way in Java to print to a specific IPP printer? All of the sample code and tutorials I've found focus on how to print a particular type of document, using something like the following:</p>\n\n<pre><code>DocFlavor flavor = DocFlavor.INPUT_STREAM.POSTSCRIPT;\nPrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\naset.add(MediaSizeName.ISO_A4);\nPrintService[] pservices =\n             PrintServiceLookup.lookupPrintServices(flavor, aset);\nif (pservices.length &gt; 0) {\n    DocPrintJob pj = pservices[0].createPrintJob();\n    try {\n        FileInputStream fis = new FileInputStream(\"test.ps\");\n        Doc doc = new SimpleDoc(fis, flavor, null);\n        pj.print(doc, aset);\n    } catch (FileNotFoundException fe) {\n    } catch (PrintException e) { \n    }\n}\n</code></pre>\n\n<p>This snippet simply prints to the first printer found that is capable of printing the document. In my case, I want to lookup a printer by its URI, but <code>PrintServiceLookup</code> doesn't seem to support this. I've tried using a <code>PrintServiceAttributeSet</code>, instead of <code>PrintRequestAttributeSet</code>, and adding a <code>PrinterURI</code> attribute, but that doesn't return any printers. I suspect the lookup service is looking for a printer that can change its destination URI, rather than looking for the printer with that URI.</p>\n\n<p>As a last resort, I thought about just enumerating through all of the <code>PrintService</code>s returned by <code>lookupPrintServices</code>, but the URI is not in any of the attributes. The printer name is there, but I need the URI.</p>\n\n<p>For background, my webapp needs to print a barcode to a specific printer, based on the current user. Each user is associated with a printer URI, which points to a printer on a CUPS server. The printer URI is the only information I have, and I can't constrain the printer name to match the URI or a substring of the URI.</p>\n\n<p><strong>Edit:</strong> To clarify a bit, I don't need to render the data, I just need to copy a blob to a given printer. The part I can't figure out is how to identify a printer by its IPP URI.</p>\n"},{"tags":["java","csv","mime-types","urlconnection"],"comments":[{"owner":{"account_id":17418961,"reputation":485,"user_id":12624874,"display_name":"Philippe B."},"score":0,"creation_date":1655804707,"post_id":72698182,"comment_id":128412601,"body_markdown":"@KJ Yes, but it doesn&#39;t change the fact that I get `null`, not `text/plain`. And even if that was the case `text/csv` does exists so why wouldn&#39;t you get it for a `x.csv` filename ?","body":"@KJ Yes, but it doesn&#39;t change the fact that I get <code>null</code>, not <code>text&#47;plain</code>. And even if that was the case <code>text&#47;csv</code> does exists so why wouldn&#39;t you get it for a <code>x.csv</code> filename ?"}],"answers":[{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655804985,"creation_date":1655803864,"answer_id":72698410,"question_id":72698182,"body_markdown":"A jvm brings along a list of file names and their mime types. For example openjdk specifies them for [windows][1] and [linux][2].\r\n\r\nYou can override these definitions by specifying a jvm property `content.types.user.table` pointing to your definition of `content-types.properties` as specified by [URLConnection#getFileNameMap()][3].\r\n\r\nSupport for csv was only added recently with https://bugs.openjdk.org/browse/JDK-8273655\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/windows/classes/sun/net/www/content-types.properties\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/net/www/content-types.properties\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLConnection.html#getFileNameMap()","title":"URLConnection.guessContentTypeFromName doesn&#39;t seem to work with csv extension","body":"<p>A jvm brings along a list of file names and their mime types. For example openjdk specifies them for <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/windows/classes/sun/net/www/content-types.properties\" rel=\"nofollow noreferrer\">windows</a> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/net/www/content-types.properties\" rel=\"nofollow noreferrer\">linux</a>.</p>\n<p>You can override these definitions by specifying a jvm property <code>content.types.user.table</code> pointing to your definition of <code>content-types.properties</code> as specified by <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URLConnection.html#getFileNameMap()\" rel=\"nofollow noreferrer\">URLConnection#getFileNameMap()</a>.</p>\n<p>Support for csv was only added recently with <a href=\"https://bugs.openjdk.org/browse/JDK-8273655\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8273655</a></p>\n"}],"owner":{"account_id":17418961,"reputation":485,"user_id":12624874,"display_name":"Philippe B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72698410,"answer_count":1,"score":1,"last_activity_date":1655804985,"creation_date":1655802907,"question_id":72698182,"body_markdown":"I have been using `URLConnection.guessContentTypeFromName(String fname)` to detect what mime type I need to use in my headers to return different documents.\r\n\r\nIt was working fine until I tested with `fname = &quot;test.csv&quot;;`. I can make it work with `test.jpg` or `test.pdf` but not with `test.csv`.\r\n\r\n```java\r\nString fname = &quot;test.csv&quot;;\r\n\r\nString mimeType = URLConnection.guessContentTypeFromName(fname);\r\n\r\nSystem.out.println(mimeType);\r\n```\r\n\r\nI have no issue getting the good mimetype for pdf and jpg extension but receive null with the csv one.\r\n\r\nI can&#39;t seem to find any reason on google as to why it doesn&#39;t work. **Is it normal behavior or am I missing something from the documentation ?**\r\n\r\nAs a side note, I know of other ways to get the mime type from the filename but was wondering about this.","title":"URLConnection.guessContentTypeFromName doesn&#39;t seem to work with csv extension","body":"<p>I have been using <code>URLConnection.guessContentTypeFromName(String fname)</code> to detect what mime type I need to use in my headers to return different documents.</p>\n<p>It was working fine until I tested with <code>fname = &quot;test.csv&quot;;</code>. I can make it work with <code>test.jpg</code> or <code>test.pdf</code> but not with <code>test.csv</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fname = &quot;test.csv&quot;;\n\nString mimeType = URLConnection.guessContentTypeFromName(fname);\n\nSystem.out.println(mimeType);\n</code></pre>\n<p>I have no issue getting the good mimetype for pdf and jpg extension but receive null with the csv one.</p>\n<p>I can't seem to find any reason on google as to why it doesn't work. <strong>Is it normal behavior or am I missing something from the documentation ?</strong></p>\n<p>As a side note, I know of other ways to get the mime type from the filename but was wondering about this.</p>\n"},{"tags":["java","spring-boot","postman","put"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655802874,"creation_date":1655802874,"answer_id":72698172,"question_id":72698043,"body_markdown":"using `@RequestParam(required = false) String name` the params are expected as header or query param. You&#39;re sending a request body, so use a pojo instead...\r\n\r\n    class StudentDto {\r\n    \r\n      public String name;\r\n      //...\r\n    \r\n    }\r\n\r\nand the controller ...\r\n\r\n    @PutMapping(path =&quot;{studentId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;studentId&quot;) Long studentId,\r\n            @RequestBody StudentDto) {\r\n      //...\r\n    \r\n    }\r\n\r\n\r\n","title":"Postman PUT request doesn&#39;t update content but no error","body":"<p>using <code>@RequestParam(required = false) String name</code> the params are expected as header or query param. You're sending a request body, so use a pojo instead...</p>\n<pre><code>class StudentDto {\n\n  public String name;\n  //...\n\n}\n</code></pre>\n<p>and the controller ...</p>\n<pre><code>@PutMapping(path =&quot;{studentId}&quot;)\npublic void updateStudent(\n        @PathVariable(&quot;studentId&quot;) Long studentId,\n        @RequestBody StudentDto) {\n  //...\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655803351,"creation_date":1655803351,"answer_id":72698283,"question_id":72698043,"body_markdown":"To leave it be and make it work, you have to put your data as query params, lik ethis\r\n\r\n    PUT http://localhost:8080/api/v1/student/1?name=newName&amp;email=newEmailToSet","title":"Postman PUT request doesn&#39;t update content but no error","body":"<p>To leave it be and make it work, you have to put your data as query params, lik ethis</p>\n<pre><code>PUT http://localhost:8080/api/v1/student/1?name=newName&amp;email=newEmailToSet\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25575144,"reputation":1,"user_id":19354780,"display_name":"code_slasher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655804798,"creation_date":1655804798,"answer_id":72698646,"question_id":72698043,"body_markdown":"So after this answer https://stackoverflow.com/a/72698172/19354780\r\ni have tried changing StudentController to :\r\n\r\n    @PutMapping(path = &quot;{studentId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;studentId&quot;) Long studentId,\r\n            @RequestBody Student new_student) {\r\n        studentService.updateStudent(studentId, new_student);\r\n\r\n    }\r\nand StudentService to : \r\n\r\n     @Transactional\r\n     public void updateStudent(Long studentId,Student new_student)\r\n     {\r\n       Student student = studentRepository.findById(studentId)\r\n               .orElseThrow(() -&gt; new IllegalStateException(\r\n                       &quot;student with id=&quot;+studentId+&quot;does not exist&quot;));\r\n       if (new_student.getName() !=null &amp;&amp; new_student.getName().length()&gt;0  &amp;&amp; !Objects.equals(student.getName(),new_student.getName()))\r\n       {\r\n           student.setName(new_student.getName());\r\n       }\r\n       if (new_student.getEmail() !=null &amp;&amp; new_student.getEmail().length()&gt;0 &amp;&amp; !Objects.equals(student.getEmail(),new_student.getEmail()))\r\n       {\r\n           Optional&lt;Student&gt; studentOptional= studentRepository.findStudentByEmail(new_student.getEmail());\r\n           if (studentOptional.isPresent())\r\n           {\r\n               throw new IllegalStateException(&quot;email taken&quot;);\r\n           }\r\n           student.setEmail(new_student.getEmail());\r\n       }\r\n       }\r\nand it worked but without the exceptions .","title":"Postman PUT request doesn&#39;t update content but no error","body":"<p>So after this answer <a href=\"https://stackoverflow.com/a/72698172/19354780\">https://stackoverflow.com/a/72698172/19354780</a>\ni have tried changing StudentController to :</p>\n<pre><code>@PutMapping(path = &quot;{studentId}&quot;)\npublic void updateStudent(\n        @PathVariable(&quot;studentId&quot;) Long studentId,\n        @RequestBody Student new_student) {\n    studentService.updateStudent(studentId, new_student);\n\n}\n</code></pre>\n<p>and StudentService to :</p>\n<pre><code> @Transactional\n public void updateStudent(Long studentId,Student new_student)\n {\n   Student student = studentRepository.findById(studentId)\n           .orElseThrow(() -&gt; new IllegalStateException(\n                   &quot;student with id=&quot;+studentId+&quot;does not exist&quot;));\n   if (new_student.getName() !=null &amp;&amp; new_student.getName().length()&gt;0  &amp;&amp; !Objects.equals(student.getName(),new_student.getName()))\n   {\n       student.setName(new_student.getName());\n   }\n   if (new_student.getEmail() !=null &amp;&amp; new_student.getEmail().length()&gt;0 &amp;&amp; !Objects.equals(student.getEmail(),new_student.getEmail()))\n   {\n       Optional&lt;Student&gt; studentOptional= studentRepository.findStudentByEmail(new_student.getEmail());\n       if (studentOptional.isPresent())\n       {\n           throw new IllegalStateException(&quot;email taken&quot;);\n       }\n       student.setEmail(new_student.getEmail());\n   }\n   }\n</code></pre>\n<p>and it worked but without the exceptions .</p>\n"}],"owner":{"account_id":25575144,"reputation":1,"user_id":19354780,"display_name":"code_slasher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655804798,"creation_date":1655802300,"question_id":72698043,"body_markdown":"I&#39;m using postman with springboot i have already used the GET/POST/DELETE requests and they all work fine but PUT request doesn&#39;t update content .\r\n\r\nIn intellij i&#39;m using these files :\r\n\r\nStudent.java(with it&#39;s setters and getters) :\r\n\r\n    @Entity\r\n    @Table\r\n    public class Student {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name=&quot;student_sequence&quot;,\r\n            sequenceName=&quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Long id;\r\n    private String name;\r\n\r\n    private LocalDate dob;\r\n    private  String email;\r\n    @Transient\r\n    private Integer age;\r\n\r\n \r\n\r\nStudentController.java :\r\n\r\n    @PutMapping(path =&quot;{studentId}&quot;)\r\n    public void updateStudent(\r\n            @PathVariable(&quot;studentId&quot;) Long studentId,\r\n            @RequestParam(required = false) String name,\r\n            @RequestParam(required = false) String email)\r\n    {\r\n        studentService.updateStudent(studentId,name,email);\r\n    }\r\nStudentService.java :\r\n\r\n    @Transactional\r\n    public void updateStudent(Long studentId,String name, String email)\r\n    {\r\n       Student student = studentRepository.findById(studentId)\r\n               .orElseThrow(() -&gt; new IllegalStateException(\r\n                       &quot;student with id=&quot;+studentId+&quot;does not exist&quot;));\r\n       if (name !=null &amp;&amp; name.length()&gt;0  &amp;&amp; !Objects.equals(student.getName(),name))\r\n       {\r\n           student.setName(name);\r\n       }\r\n       if (email !=null &amp;&amp; email.length()&gt;0 &amp;&amp; !Objects.equals(student.getEmail(),email))\r\n       {\r\n           Optional&lt;Student&gt; studentOptional= studentRepository.findStudentByEmail(email);\r\n           if (studentOptional.isPresent())\r\n           {\r\n               throw new IllegalStateException(&quot;email taken&quot;);\r\n           }\r\n           student.setEmail(email);\r\n       }\r\n     }\r\n[These are the students that i have in database][1]\r\nAnd basically i want to update the name and email of the student with id=1.\r\n\r\n[That is postman header][2]\r\n\r\n[And that is postman not showing any error after sending request][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZvdvQ.jpg\r\n  [2]: https://i.stack.imgur.com/OwBmQ.jpg\r\n  [3]: https://i.stack.imgur.com/I6DGY.jpg","title":"Postman PUT request doesn&#39;t update content but no error","body":"<p>I'm using postman with springboot i have already used the GET/POST/DELETE requests and they all work fine but PUT request doesn't update content .</p>\n<p>In intellij i'm using these files :</p>\n<p>Student.java(with it's setters and getters) :</p>\n<pre><code>@Entity\n@Table\npublic class Student {\n@Id\n@SequenceGenerator(\n        name=&quot;student_sequence&quot;,\n        sequenceName=&quot;student_sequence&quot;,\n        allocationSize = 1\n)\n@GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;student_sequence&quot;\n)\nprivate Long id;\nprivate String name;\n\nprivate LocalDate dob;\nprivate  String email;\n@Transient\nprivate Integer age;\n</code></pre>\n<p>StudentController.java :</p>\n<pre><code>@PutMapping(path =&quot;{studentId}&quot;)\npublic void updateStudent(\n        @PathVariable(&quot;studentId&quot;) Long studentId,\n        @RequestParam(required = false) String name,\n        @RequestParam(required = false) String email)\n{\n    studentService.updateStudent(studentId,name,email);\n}\n</code></pre>\n<p>StudentService.java :</p>\n<pre><code>@Transactional\npublic void updateStudent(Long studentId,String name, String email)\n{\n   Student student = studentRepository.findById(studentId)\n           .orElseThrow(() -&gt; new IllegalStateException(\n                   &quot;student with id=&quot;+studentId+&quot;does not exist&quot;));\n   if (name !=null &amp;&amp; name.length()&gt;0  &amp;&amp; !Objects.equals(student.getName(),name))\n   {\n       student.setName(name);\n   }\n   if (email !=null &amp;&amp; email.length()&gt;0 &amp;&amp; !Objects.equals(student.getEmail(),email))\n   {\n       Optional&lt;Student&gt; studentOptional= studentRepository.findStudentByEmail(email);\n       if (studentOptional.isPresent())\n       {\n           throw new IllegalStateException(&quot;email taken&quot;);\n       }\n       student.setEmail(email);\n   }\n }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZvdvQ.jpg\" rel=\"nofollow noreferrer\">These are the students that i have in database</a>\nAnd basically i want to update the name and email of the student with id=1.</p>\n<p><a href=\"https://i.stack.imgur.com/OwBmQ.jpg\" rel=\"nofollow noreferrer\">That is postman header</a></p>\n<p><a href=\"https://i.stack.imgur.com/I6DGY.jpg\" rel=\"nofollow noreferrer\">And that is postman not showing any error after sending request</a></p>\n"},{"tags":["java","android","android-workmanager"],"comments":[{"owner":{"account_id":12384840,"reputation":885,"user_id":9028633,"display_name":"rial"},"score":1,"creation_date":1602361118,"post_id":64290141,"comment_id":113697997,"body_markdown":"I narrowed it down to issue with the exoplayer imports","body":"I narrowed it down to issue with the exoplayer imports"},{"owner":{"account_id":12384840,"reputation":885,"user_id":9028633,"display_name":"rial"},"score":1,"creation_date":1602361680,"post_id":64290141,"comment_id":113698131,"body_markdown":"There is an issue with the exoplayer library conflicting with listenablefuture causing it not to be found. [Read Here](https://github.com/google/ExoPlayer/issues/7993)","body":"There is an issue with the exoplayer library conflicting with listenablefuture causing it not to be found. <a href=\"https://github.com/google/ExoPlayer/issues/7993\" rel=\"nofollow noreferrer\">Read Here</a>"}],"answers":[{"tags":[],"owner":{"account_id":1905065,"reputation":1620,"user_id":1870210,"display_name":"Chetan Paliwal"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1602308474,"creation_date":1602308474,"answer_id":64290363,"question_id":64290141,"body_markdown":"    implementation &quot;androidx.concurrent:concurrent-futures:1.1.0&quot;\r\n\r\nReference: https://developer.android.com/jetpack/androidx/releases/concurrent","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<pre><code>implementation &quot;androidx.concurrent:concurrent-futures:1.1.0&quot;\n</code></pre>\n<p>Reference: <a href=\"https://developer.android.com/jetpack/androidx/releases/concurrent\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/concurrent</a></p>\n"},{"tags":[],"owner":{"account_id":19620620,"reputation":7,"user_id":14361170,"display_name":"Shriyans Sudhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602313934,"creation_date":1602312460,"answer_id":64290784,"question_id":64290141,"body_markdown":"Check for the package name in gradle scripts (module:app) and in `...app&gt;src&gt;main&gt;java`. \r\n\r\nRename the folder to the desired package name. Make sure that the package name is changed in all the java files also. After renaming, sync your project with gradle files.\r\n\r\nIf you are doing this after the first Gradle sync, then this trick may not work. You need to change them manually. ","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<p>Check for the package name in gradle scripts (module:app) and in <code>...app&gt;src&gt;main&gt;java</code>.</p>\n<p>Rename the folder to the desired package name. Make sure that the package name is changed in all the java files also. After renaming, sync your project with gradle files.</p>\n<p>If you are doing this after the first Gradle sync, then this trick may not work. You need to change them manually.</p>\n"},{"tags":[],"owner":{"account_id":12384840,"reputation":885,"user_id":9028633,"display_name":"rial"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1604791575,"creation_date":1604791575,"answer_id":64733418,"question_id":64290141,"body_markdown":"There is an issue with the exoplayer library conflicting with listenablefuture causing it not to be found. [READ MORE](https://github.com/google/ExoPlayer/issues/7993)\r\n\r\nyou can include guava `implementation &#39;com.google.guava:guava:29.0-android&#39;` to fix this ","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<p>There is an issue with the exoplayer library conflicting with listenablefuture causing it not to be found. <a href=\"https://github.com/google/ExoPlayer/issues/7993\" rel=\"noreferrer\">READ MORE</a></p>\n<p>you can include guava <code>implementation 'com.google.guava:guava:29.0-android'</code> to fix this</p>\n"},{"tags":[],"owner":{"account_id":2204292,"reputation":734,"user_id":1947877,"accept_rate":57,"display_name":"Sanidhya Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621264373,"creation_date":1621264373,"answer_id":67572411,"question_id":64290141,"body_markdown":"I solved it by updating  \r\n\r\n     compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        kotlinOptions {\r\n            jvmTarget = JavaVersion.VERSION_1_8.toString()\r\n        }\r\n\r\n    api &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot; \r\n    to \r\n    api &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n\r\nalso update these to latest versions, if applicable\r\n\r\n    api &#39;androidx.core:core-ktx:1.3.2&#39; \r\n    api &quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<p>I solved it by updating</p>\n<pre><code> compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = JavaVersion.VERSION_1_8.toString()\n    }\n\napi &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot; \nto \napi &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n<p>also update these to latest versions, if applicable</p>\n<pre><code>api 'androidx.core:core-ktx:1.3.2' \napi &quot;org.jetbrains.kotlin:kotlin-stdlib:1.4.32&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6023647,"reputation":1142,"user_id":4730040,"display_name":"Dmitriy Mitiai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655804778,"creation_date":1655804778,"answer_id":72698639,"question_id":64290141,"body_markdown":"In addition to the accepted answer. I didn&#39;t user Exoplayer in the application. After digging deeper I found that if you use Google&#39;s library for guava to fix conflicts like this:\r\n\r\n    implementation &#39;com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava&#39;\r\n\r\nThis will also cause an issue. Removing this dependency solved the problem. BUT on the other hand, if you use some library, which causes the problem with `listenablefeature` in opposite adding this dependency solves the problem. ","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<p>In addition to the accepted answer. I didn't user Exoplayer in the application. After digging deeper I found that if you use Google's library for guava to fix conflicts like this:</p>\n<pre><code>implementation 'com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava'\n</code></pre>\n<p>This will also cause an issue. Removing this dependency solved the problem. BUT on the other hand, if you use some library, which causes the problem with <code>listenablefeature</code> in opposite adding this dependency solves the problem.</p>\n"}],"owner":{"account_id":12384840,"reputation":885,"user_id":9028633,"display_name":"rial"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8654,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":64733418,"answer_count":5,"score":13,"last_activity_date":1655804778,"creation_date":1602306122,"question_id":64290141,"body_markdown":"I cannot build my project due to it failing because it cannot find a class. Is there something wrong with my sdk or dependancies?\r\n\r\nI have tried invalidating cache and restarting. I am using api 29.\r\n\r\nThe following is where the error shows up\r\n\r\n```\r\npublic class PodcastUpdateWorker extends Worker {\r\n\r\n}\r\n```\r\n\r\nHere is the error printout\r\n\r\n```\r\n/home/snowman/AndroidStudioProjects/CorbettReportPodcasts/app/src/main/java/com/example/corbettreportpodcasts/PodcastUpdateWorker.java:36: error: cannot access ListenableFuture\r\npublic class PodcastUpdateWorker extends Worker {\r\n       ^\r\n  class file for com.google.common.util.concurrent.ListenableFuture not found\r\n```\r\n\r\nand my dependancies \r\n\r\n```\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.1&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-extensions:2.2.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.12.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.12.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.12.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n    implementation &#39;androidx.legacy:legacy-preference-v14:1.0.0&#39;\r\n    implementation &quot;androidx.room:room-runtime:2.2.5&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:2.2.5&quot;\r\n    testImplementation &quot;androidx.room:room-testing:2.2.5&quot;\r\n    implementation &#39;androidx.work:work-runtime:2.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39;\r\n}\r\n```\r\n\r\nany help is appreciated","title":"Android Studio class file for com.google.common.util.concurrent.ListenableFuture not found","body":"<p>I cannot build my project due to it failing because it cannot find a class. Is there something wrong with my sdk or dependancies?</p>\n<p>I have tried invalidating cache and restarting. I am using api 29.</p>\n<p>The following is where the error shows up</p>\n<pre><code>public class PodcastUpdateWorker extends Worker {\n\n}\n</code></pre>\n<p>Here is the error printout</p>\n<pre><code>/home/snowman/AndroidStudioProjects/CorbettReportPodcasts/app/src/main/java/com/example/corbettreportpodcasts/PodcastUpdateWorker.java:36: error: cannot access ListenableFuture\npublic class PodcastUpdateWorker extends Worker {\n       ^\n  class file for com.google.common.util.concurrent.ListenableFuture not found\n</code></pre>\n<p>and my dependancies</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.12.0'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.12.0'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.12.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n    implementation 'androidx.legacy:legacy-preference-v14:1.0.0'\n    implementation &quot;androidx.room:room-runtime:2.2.5&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:2.2.5&quot;\n    testImplementation &quot;androidx.room:room-testing:2.2.5&quot;\n    implementation 'androidx.work:work-runtime:2.4.0'\n    implementation 'com.google.android.material:material:1.2.1'\n}\n</code></pre>\n<p>any help is appreciated</p>\n"},{"tags":["java","pdf","network-printers"],"comments":[{"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"score":0,"creation_date":1479765734,"post_id":40446550,"comment_id":68687756,"body_markdown":"What IPP Implementation does your code depend on?","body":"What IPP Implementation does your code depend on?"},{"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"score":0,"creation_date":1479766512,"post_id":40446550,"comment_id":68688063,"body_markdown":"I think you&#39;ve made up the IPP URL - it looks very wrong.","body":"I think you&#39;ve made up the IPP URL - it looks very wrong."},{"owner":{"account_id":9590166,"reputation":1,"user_id":7121362,"display_name":"Rasel zaman2"},"score":0,"creation_date":1479789483,"post_id":40446550,"comment_id":68694241,"body_markdown":"Thank you all for your response. Finally I solved this by using CUPS Server.","body":"Thank you all for your response. Finally I solved this by using CUPS Server."}],"answers":[{"tags":[],"owner":{"account_id":5699126,"reputation":1030,"user_id":4504727,"display_name":"IPP Nerd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655804768,"creation_date":1479766280,"answer_id":40730320,"question_id":40446550,"body_markdown":"Your [printer model][1] doesn&#39;t seem to support what you are trying to do. \r\n\r\n1. PDL: PDF not supported\r\n2. protocol: no IPP support (default port ist 631)\r\n\r\nIn case the used ipp implementation has good error handling you should see some kind of error message or exception, when you run the code.\r\n\r\n**UPDATE**\r\n\r\nUsing this [ipp-client][2] you can submit a PDF file to a printer (or CUPS) that supports this document format:\r\n\r\n    new IppPrinter(URI.create(&quot;ipp://myprinter&quot;)).printJob(\r\n        File(&quot;mydocument.pdf&quot;), documentFormat(&quot;application/pdf&quot;)\r\n    );\r\n\r\n\r\n\r\n  [1]: https://www.toshibatec.com/products_overseas/MFP/eS2802AF_series/\r\n  [2]: https://github.com/gmuth/ipp-client-kotlin","title":"Send PDF file to network printer using ipp in Java","body":"<p>Your <a href=\"https://www.toshibatec.com/products_overseas/MFP/eS2802AF_series/\" rel=\"nofollow noreferrer\">printer model</a> doesn't seem to support what you are trying to do.</p>\n<ol>\n<li>PDL: PDF not supported</li>\n<li>protocol: no IPP support (default port ist 631)</li>\n</ol>\n<p>In case the used ipp implementation has good error handling you should see some kind of error message or exception, when you run the code.</p>\n<p><strong>UPDATE</strong></p>\n<p>Using this <a href=\"https://github.com/gmuth/ipp-client-kotlin\" rel=\"nofollow noreferrer\">ipp-client</a> you can submit a PDF file to a printer (or CUPS) that supports this document format:</p>\n<pre><code>new IppPrinter(URI.create(&quot;ipp://myprinter&quot;)).printJob(\n    File(&quot;mydocument.pdf&quot;), documentFormat(&quot;application/pdf&quot;)\n);\n</code></pre>\n"}],"owner":{"account_id":9590166,"reputation":1,"user_id":7121362,"display_name":"Rasel zaman2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1752,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655804768,"creation_date":1478412695,"question_id":40446550,"body_markdown":"I&#39;m using the below code to send pdf file into network printer. &lt;br&gt;The command is send but file not print actual data. &lt;br&gt;Please help me.     \r\n\r\n\r\n    String urlF=&quot;ipp://192.168.0.115:9100/printer/TOSHIBA e-STUDIO2802ASeries PCL6&quot;;\r\n                    String urlS=urlF.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n                    URI printerURI = new URI(urlS);\r\n                    IppPrintService svc = new IppPrintService(printerURI);\r\n                    stream = new BufferedInputStream(new FileInputStream(&quot;D:/pdfurl-guide.pdf&quot;));\r\n                    DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\r\n                    Doc myDoc = new SimpleDoc(stream, flavor, null);\r\n                    DocPrintJob job = svc.createPrintJob();\r\n                    job.print(myDoc, null);","title":"Send PDF file to network printer using ipp in Java","body":"<p>I'm using the below code to send pdf file into network printer. <br>The command is send but file not print actual data. <br>Please help me.     </p>\n\n<pre><code>String urlF=\"ipp://192.168.0.115:9100/printer/TOSHIBA e-STUDIO2802ASeries PCL6\";\n                String urlS=urlF.replaceAll(\" \", \"%20\");\n                URI printerURI = new URI(urlS);\n                IppPrintService svc = new IppPrintService(printerURI);\n                stream = new BufferedInputStream(new FileInputStream(\"D:/pdfurl-guide.pdf\"));\n                DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;\n                Doc myDoc = new SimpleDoc(stream, flavor, null);\n                DocPrintJob job = svc.createPrintJob();\n                job.print(myDoc, null);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1655805048,"post_id":72698627,"comment_id":128412731,"body_markdown":"No, it&#39;s definitely not a distributed cache. ConcurrentMapCache docs says; `Simple Cache implementation based on the core JDK java.util.concurrent package. Useful for testing or simple caching scenarios`","body":"No, it&#39;s definitely not a distributed cache. ConcurrentMapCache docs says; <code>Simple Cache implementation based on the core JDK java.util.concurrent package. Useful for testing or simple caching scenarios</code>"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1655805455,"post_id":72698627,"comment_id":128412884,"body_markdown":"If you want distributed caching, look for Hazelcast, Memcached, Redis, Aerospike, ...","body":"If you want distributed caching, look for Hazelcast, Memcached, Redis, Aerospike, ..."}],"owner":{"account_id":13592575,"reputation":608,"user_id":9805514,"display_name":"IceTea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655804690,"creation_date":1655804690,"question_id":72698627,"body_markdown":"I wasn&#39;t able to identify if ConcurrentMapCacheFactoryBean would provide a distributed cache. Intuition says no because the docs mentioned &quot;used *within **a*** Spring container&quot; but I would like to confirm because the configuration for it seems to be the simplest! \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/concurrent/ConcurrentMapCacheFactoryBean.html\r\n\r\nFYI I have the following bean in my xml\r\n```\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.support.SimpleCacheManager&quot;&gt;\r\n        &lt;property name=&quot;caches&quot;&gt;\r\n            &lt;set&gt;\r\n                &lt;bean\r\n                        class=&quot;org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean&quot;\r\n                        name=&quot;testCache&quot;/&gt;\r\n            &lt;/set&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n```","title":"Is ConcurrentMapCacheFactoryBean a distributed cache?","body":"<p>I wasn't able to identify if ConcurrentMapCacheFactoryBean would provide a distributed cache. Intuition says no because the docs mentioned &quot;used <em>within <strong>a</strong></em> Spring container&quot; but I would like to confirm because the configuration for it seems to be the simplest!</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/concurrent/ConcurrentMapCacheFactoryBean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/cache/concurrent/ConcurrentMapCacheFactoryBean.html</a></p>\n<p>FYI I have the following bean in my xml</p>\n<pre><code>    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.support.SimpleCacheManager&quot;&gt;\n        &lt;property name=&quot;caches&quot;&gt;\n            &lt;set&gt;\n                &lt;bean\n                        class=&quot;org.springframework.cache.concurrent.ConcurrentMapCacheFactoryBean&quot;\n                        name=&quot;testCache&quot;/&gt;\n            &lt;/set&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","io"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655804870,"post_id":72698605,"comment_id":128412658,"body_markdown":"A path that is supposed to be on the CLASSPATH does not contain `file:` or a drive or an absolute pathname. It is relative to the `target` directory, if not a lower directory. The build system&#39;s directory structure will not be there at runtime, and it is therefore pointless to refer to it.","body":"A path that is supposed to be on the CLASSPATH does not contain <code>file:</code> or a drive or an absolute pathname. It is relative to the <code>target</code> directory, if not a lower directory. The build system&#39;s directory structure will not be there at runtime, and it is therefore pointless to refer to it."},{"owner":{"account_id":4203513,"reputation":69,"user_id":3443044,"display_name":"Hammad Ahmad"},"score":0,"creation_date":1655805239,"post_id":72698605,"comment_id":128412807,"body_markdown":"I am creating path using this.getClass().getResource(&quot;filename&quot;), It create the absolute path.","body":"I am creating path using this.getClass().getResource(&quot;filename&quot;), It create the absolute path."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1655805354,"post_id":72698605,"comment_id":128412848,"body_markdown":"So what was in the filename? What is the value of `COMPONENT_CONFIGURATION_FILE`? And is it really there?","body":"So what was in the filename? What is the value of <code>COMPONENT_CONFIGURATION_FILE</code>? And is it really there?"},{"owner":{"account_id":4203513,"reputation":69,"user_id":3443044,"display_name":"Hammad Ahmad"},"score":0,"creation_date":1655805408,"post_id":72698605,"comment_id":128412865,"body_markdown":"Its just name of the file.\npublic static final String COMPONENT_CONFIGURATION_FILE = &quot;components.properties&quot;;","body":"Its just name of the file. public static final String COMPONENT_CONFIGURATION_FILE = &quot;components.properties&quot;;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1655805478,"post_id":72698605,"comment_id":128412892,"body_markdown":"So show us your evidence that it is where it is supposed to be. But resources are not files. What you got from that call was a URL, and from that you can get an `InputStream` directly. So do that.","body":"So show us your evidence that it is where it is supposed to be. But resources are not files. What you got from that call was a URL, and from that you can get an <code>InputStream</code> directly. So do that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1655808139,"post_id":72698605,"comment_id":128413813,"body_markdown":"That method should have the prototype `public static void loadConfigurations(URL propsFile)` and pass the result of `xclass.getResource(foo)` to it","body":"That method should have the prototype <code>public static void loadConfigurations(URL propsFile)</code> and pass the result of <code>xclass.getResource(foo)</code> to it"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655808145,"post_id":72698605,"comment_id":128413817,"body_markdown":"Or use `this.getClass().getResourceAsStream(&quot;/&quot;+ ComponentConfigConstants .COMPONENT_CONFIGURATION_FILE)` to get an `InputStream` in the first place.","body":"Or use <code>this.getClass().getResourceAsStream(&quot;&#47;&quot;+ ComponentConfigConstants .COMPONENT_CONFIGURATION_FILE)</code> to get an <code>InputStream</code> in the first place."}],"owner":{"account_id":4203513,"reputation":69,"user_id":3443044,"display_name":"Hammad Ahmad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655804600,"creation_date":1655804600,"question_id":72698605,"body_markdown":"I am trying to read a file from classpath using java.io.File in a spring boot project but I get java.io.FileNotFoundException erorr. This error only occurs when i execute the project as Jar. If I execute the project in intelliJ it works fine. Can anyone explain If Exclamation sign that is introduced in the file path\r\n\r\n&gt; :\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\classes!\\com\r\n&gt; ponents.properties\r\n\r\nwhile executing it as jar causing the error?\r\nFile is present in the jar&#39;s BOOT-INF\\classes so I am unable to understand what is causing the error.\r\n\r\n\r\n \tpublic static void loadConfigurations(File propsFile) throws ComponentConfigIntializationException{\r\n\t\tFileInputStream is = null;\r\n\t\ttry {\r\n\t\t\tif(props ==null){\r\n\t\t\t\tprops = new Properties(getDefaultConfigurationValues());\r\n\t\t\t}\r\n\t\t\tis = new FileInputStream(propsFile);\r\n\t\t\tprops.load(is);\r\n\t\t\tpopulateProperties();\r\n\t\t\tconfigurationInitialized = true;\r\n\t\t}catch (Exception e) {\r\n\t\t\tLGR.info(&quot;Exception# error occurred in loadConfigurations&quot;);\r\n\t\t\tLGR.info(e);\r\n\t\t\tthrow new ComponentConfigIntializationException(e.getCause());\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n    public void init() throws ServletException {\r\n    \t\ttry{\r\n    \t\t\tLGR.info(LGR.isInfoEnabled() ? &quot;--- ComponentConfigurationLoader.init() , Loading component Configurations&quot; : null);\r\n    \t\t\tURL resource = this.getClass().getResource(&quot;/&quot;+ ComponentConfigConstants.COMPONENT_CONFIGURATION_FILE);\r\n    \t\t\tFile componentConfigFile = new File(resource.getFile());\r\n    \t\t\tif(componentConfigFile.exists()){\r\n    \t\t\t\tLGR.info(LGR.isInfoEnabled() ? &quot;--- Component.properties exits&quot; : null);\r\n    \t\t\t}else{\r\n    \t\t\t\tLGR.info(LGR.isInfoEnabled() ? &quot;--- Component.properties does not exits&quot; + componentConfigFile.getPath(): null);\r\n    \t\t\t}\r\n    \t\t\tComponentConfigurationProvider.loadConfigurations(componentConfigFile);\r\n    \t\t\tComponentConfigurationProvider.setRealPath(getServletContext().getRealPath(&quot;/&quot;));\r\n    \t\t\tLGR.info(LGR.isInfoEnabled() ? &quot;Configurations Loaded, Starting monitor to observee refresh changings&quot; : null);\r\n    \t\t\tConfigurationRefresher.startConfigurationMonitoring(componentConfigFile, ComponentConfigurationProvider.getConfigurationRefresherTime());\r\n    \t\t\tinitializeSecurityConfigruation(ComponentConfigConstants.SECURITY_FRAME_POLICIES_CONFIGURATION_FILE,true);\r\n    \t\t\tinitializeSecurityConfigruation(ComponentConfigConstants.ALLOW_CROSS_DOMAIN_CONFIGURATION_FILE,false);\r\n    \t\t\tinitializeBuildConfiguration(ComponentConfigConstants.BUILD_FILE);\r\n    \t\t}catch(ComponentConfigIntializationException e){\r\n    \t\t\tLGR.error(&quot;#COMPONENT_CONFIG_LOAD_ERROR# Error While Loading Commmon Configurations&quot;, e);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n\r\n\r\nLogs:\r\n\r\n&gt; 022-06-21 14:22:43.361  INFO 17392 --- [           main]\r\n&gt; c.i.c.f.s.ComponentConfigurationLoader   : ---\r\n&gt; ComponentConfigurationLoader.init() , Loading component Configurations\r\n&gt; 2022-06-21 14:22:43.361  INFO 17392 --- [           main]\r\n&gt; c.i.c.f.s.ComponentConfigurationLoader   : --- Component.properties\r\n&gt; does not\r\n&gt; exitsfile:\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\clas\r\n&gt; ses!\\components.properties 2022-06-21 14:22:43.361  INFO 17392 --- [  \r\n&gt; main] c.i.c.f.c.ComponentConfigurationProvider : Exception# error\r\n&gt; occurred in loadConfigurations 2022-06-21 14:22:43.361  INFO 17392 ---\r\n&gt; [           main] c.i.c.f.c.ComponentConfigurationProvider :\r\n&gt; java.io.FileNotFoundException:\r\n&gt; file:\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\classes!\\com\r\n&gt; ponents.properties (The filename, directory name, or volume label\r\n&gt; syntax is incorrect) 2022-06-21 14:22:43.376 ERROR 17392 --- [        \r\n&gt; main] c.i.c.f.s.ComponentConfigurationLoader   :\r\n&gt; #COMPONENT_CONFIG_LOAD_ERROR# Error While Loading Commmon Configurations\r\n&gt; \r\n&gt; com.i2c.components.framework.exceptions.ComponentConfigIntializationException:\r\n&gt; null\r\n&gt;         at com.i2c.components.framework.config.ComponentConfigurationProvider.loadConfigurations(ComponentConfigurationProvider.java:187)\r\n&gt; ~[Components3-Core-1.0.jar!/:na]\r\n&gt;         at com.i2c.components.framework.startup.ComponentConfigurationLoader.init(ComponentConfigurationLoader.java:53)\r\n&gt; ~[Components3-Core-1.0.jar!/:na]\r\n&gt;         at javax.servlet.GenericServlet.init(GenericServlet.java:203) [javax.servlet-api-4.0.1.jar!/:4.0.1]\r\n\r\n\r\n","title":"Unable to load .properties file from classpath in spring boot using java.io.File","body":"<p>I am trying to read a file from classpath using java.io.File in a spring boot project but I get java.io.FileNotFoundException erorr. This error only occurs when i execute the project as Jar. If I execute the project in intelliJ it works fine. Can anyone explain If Exclamation sign that is introduced in the file path</p>\n<blockquote>\n<p>:\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\classes!\\com\nponents.properties</p>\n</blockquote>\n<p>while executing it as jar causing the error?\nFile is present in the jar's BOOT-INF\\classes so I am unable to understand what is causing the error.</p>\n<pre><code>public static void loadConfigurations(File propsFile) throws ComponentConfigIntializationException{\n    FileInputStream is = null;\n    try {\n        if(props ==null){\n            props = new Properties(getDefaultConfigurationValues());\n        }\n        is = new FileInputStream(propsFile);\n        props.load(is);\n        populateProperties();\n        configurationInitialized = true;\n    }catch (Exception e) {\n        LGR.info(&quot;Exception# error occurred in loadConfigurations&quot;);\n        LGR.info(e);\n        throw new ComponentConfigIntializationException(e.getCause());\n    }\n\n}\n\n\npublic void init() throws ServletException {\n        try{\n            LGR.info(LGR.isInfoEnabled() ? &quot;--- ComponentConfigurationLoader.init() , Loading component Configurations&quot; : null);\n            URL resource = this.getClass().getResource(&quot;/&quot;+ ComponentConfigConstants.COMPONENT_CONFIGURATION_FILE);\n            File componentConfigFile = new File(resource.getFile());\n            if(componentConfigFile.exists()){\n                LGR.info(LGR.isInfoEnabled() ? &quot;--- Component.properties exits&quot; : null);\n            }else{\n                LGR.info(LGR.isInfoEnabled() ? &quot;--- Component.properties does not exits&quot; + componentConfigFile.getPath(): null);\n            }\n            ComponentConfigurationProvider.loadConfigurations(componentConfigFile);\n            ComponentConfigurationProvider.setRealPath(getServletContext().getRealPath(&quot;/&quot;));\n            LGR.info(LGR.isInfoEnabled() ? &quot;Configurations Loaded, Starting monitor to observee refresh changings&quot; : null);\n            ConfigurationRefresher.startConfigurationMonitoring(componentConfigFile, ComponentConfigurationProvider.getConfigurationRefresherTime());\n            initializeSecurityConfigruation(ComponentConfigConstants.SECURITY_FRAME_POLICIES_CONFIGURATION_FILE,true);\n            initializeSecurityConfigruation(ComponentConfigConstants.ALLOW_CROSS_DOMAIN_CONFIGURATION_FILE,false);\n            initializeBuildConfiguration(ComponentConfigConstants.BUILD_FILE);\n        }catch(ComponentConfigIntializationException e){\n            LGR.error(&quot;#COMPONENT_CONFIG_LOAD_ERROR# Error While Loading Commmon Configurations&quot;, e);\n        }\n        \n    }\n</code></pre>\n<p>Logs:</p>\n<blockquote>\n<p>022-06-21 14:22:43.361  INFO 17392 --- [           main]\nc.i.c.f.s.ComponentConfigurationLoader   : ---\nComponentConfigurationLoader.init() , Loading component Configurations\n2022-06-21 14:22:43.361  INFO 17392 --- [           main]\nc.i.c.f.s.ComponentConfigurationLoader   : --- Component.properties\ndoes not\nexitsfile:\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\clas\nses!\\components.properties 2022-06-21 14:22:43.361  INFO 17392 --- [<br />\nmain] c.i.c.f.c.ComponentConfigurationProvider : Exception# error\noccurred in loadConfigurations 2022-06-21 14:22:43.361  INFO 17392 ---\n[           main] c.i.c.f.c.ComponentConfigurationProvider :\njava.io.FileNotFoundException:\nfile:\\C:\\workspaces\\localdb-service\\target\\localdb-service-0.0.1-SNAPSHOT.jar!\\BOOT-INF\\classes!\\com\nponents.properties (The filename, directory name, or volume label\nsyntax is incorrect) 2022-06-21 14:22:43.376 ERROR 17392 --- [<br />\nmain] c.i.c.f.s.ComponentConfigurationLoader   :\n#COMPONENT_CONFIG_LOAD_ERROR# Error While Loading Commmon Configurations</p>\n<p>com.i2c.components.framework.exceptions.ComponentConfigIntializationException:\nnull\nat com.i2c.components.framework.config.ComponentConfigurationProvider.loadConfigurations(ComponentConfigurationProvider.java:187)\n~[Components3-Core-1.0.jar!/:na]\nat com.i2c.components.framework.startup.ComponentConfigurationLoader.init(ComponentConfigurationLoader.java:53)\n~[Components3-Core-1.0.jar!/:na]\nat javax.servlet.GenericServlet.init(GenericServlet.java:203) [javax.servlet-api-4.0.1.jar!/:4.0.1]</p>\n</blockquote>\n"},{"tags":["java","hibernate","spring-mvc","jpa"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654791735,"post_id":72563492,"comment_id":128182061,"body_markdown":"If this is an existing database with &quot;legacy&quot; tables you are trying to use, please show the SQL for creating the tables. I would guess that your mappings are wrong. It would also be nice to get the code before save - specifically, did you create the object t with new, or is it an existing/detached object?","body":"If this is an existing database with &quot;legacy&quot; tables you are trying to use, please show the SQL for creating the tables. I would guess that your mappings are wrong. It would also be nice to get the code before save - specifically, did you create the object t with new, or is it an existing/detached object?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1654798181,"post_id":72563492,"comment_id":128184196,"body_markdown":"You have a @Version annotation or mapping in your entity (or some Hibernate specific equivalent). This forces JPA providers to check the version value and throw an optimistic lock exception if it doesn&#39;t line up with the data in the database - preventing stale overwrites.","body":"You have a @Version annotation or mapping in your entity (or some Hibernate specific equivalent). This forces JPA providers to check the version value and throw an optimistic lock exception if it doesn&#39;t line up with the data in the database - preventing stale overwrites."},{"owner":{"account_id":1671119,"reputation":1077,"user_id":1537580,"accept_rate":62,"display_name":"FrancescoDS"},"score":0,"creation_date":1654844903,"post_id":72563492,"comment_id":128193496,"body_markdown":"@ewramner, I&#39;ve added the scripts of the tables involved. I&#39;ve create the object as usual in Spring MVC way (with a jsp form that fills a bean with form values inside)","body":"@ewramner, I&#39;ve added the scripts of the tables involved. I&#39;ve create the object as usual in Spring MVC way (with a jsp form that fills a bean with form values inside)"},{"owner":{"account_id":1671119,"reputation":1077,"user_id":1537580,"accept_rate":62,"display_name":"FrancescoDS"},"score":0,"creation_date":1654844916,"post_id":72563492,"comment_id":128193500,"body_markdown":"@Chris there is no Version annotation or similar in the entities, that&#39;s why I don&#39;t understand the exception...","body":"@Chris there is no Version annotation or similar in the entities, that&#39;s why I don&#39;t understand the exception..."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654858039,"post_id":72563492,"comment_id":128197949,"body_markdown":"If there is no version available Hibernate can compare all fields instead to see if they have been changed. However, it is odd to get that from a call to save. Are you sure the exception is triggered here and not later on in the code? And what is the SQL it tries to execute to do the save?","body":"If there is no version available Hibernate can compare all fields instead to see if they have been changed. However, it is odd to get that from a call to save. Are you sure the exception is triggered here and not later on in the code? And what is the SQL it tries to execute to do the save?"},{"owner":{"account_id":1671119,"reputation":1077,"user_id":1537580,"accept_rate":62,"display_name":"FrancescoDS"},"score":0,"creation_date":1654858810,"post_id":72563492,"comment_id":128198219,"body_markdown":"@ewramner I&#39;ve added in the question the stacktrace with the queries executed. The error comes up when I call the save() for sure, not in another part of the code.","body":"@ewramner I&#39;ve added in the question the stacktrace with the queries executed. The error comes up when I call the save() for sure, not in another part of the code."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1654868999,"post_id":72563492,"comment_id":128201972,"body_markdown":"I still wonder why you are getting both an update and an insert. Can you add logging of the parameters (https://stackoverflow.com/questions/2536829/hibernate-show-real-sql) so we can see what it is trying to do? I&#39;m suspecting that there are other instances in the session so that you are seeing two different instances here.","body":"I still wonder why you are getting both an update and an insert. Can you add logging of the parameters (<a href=\"https://stackoverflow.com/questions/2536829/hibernate-show-real-sql\" title=\"hibernate show real sql\">stackoverflow.com/questions/2536829/hibernate-show-real-sql</a>&zwnj;&#8203;) so we can see what it is trying to do? I&#39;m suspecting that there are other instances in the session so that you are seeing two different instances here."},{"owner":{"account_id":1671119,"reputation":1077,"user_id":1537580,"accept_rate":62,"display_name":"FrancescoDS"},"score":0,"creation_date":1654873225,"post_id":72563492,"comment_id":128203643,"body_markdown":"there is only one instance that calls the insert first and then the update of the same object type. The problem is that the TipiComposizioni object inside TariffeBaseComposizioni is enhanced only with &quot;sigla&quot; value, the &quot;id&quot; is null. Setting the correct value of &quot;id&quot; in TipiComposizioni object solves the problem and saves the TariffeBaseComposizioni object correctly...but why?","body":"there is only one instance that calls the insert first and then the update of the same object type. The problem is that the TipiComposizioni object inside TariffeBaseComposizioni is enhanced only with &quot;sigla&quot; value, the &quot;id&quot; is null. Setting the correct value of &quot;id&quot; in TipiComposizioni object solves the problem and saves the TariffeBaseComposizioni object correctly...but why?"}],"answers":[{"tags":[],"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655340764,"creation_date":1655340764,"answer_id":72639320,"question_id":72563492,"body_markdown":"I think there is more code involved causing the problem. This solution that I am writing is just a workaround, but the real problem is a mistery because we don&#180;t have the entire code. Just call `getCurrentSession().flush()` after calling `getCurrentSession().save(t)`\r\n\r\n    getCurrentSession().save(t);\r\n    getCurrentSession().flush();","title":"HibernateOptimisticLockingFailureException when saving an entity in Spring MVC with JPA","body":"<p>I think there is more code involved causing the problem. This solution that I am writing is just a workaround, but the real problem is a mistery because we don´t have the entire code. Just call <code>getCurrentSession().flush()</code> after calling <code>getCurrentSession().save(t)</code></p>\n<pre><code>getCurrentSession().save(t);\ngetCurrentSession().flush();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655554136,"creation_date":1655552719,"answer_id":72668978,"question_id":72563492,"body_markdown":"Maybe mapping  the attribute `sigla` as [natural identifier][1] will help:\r\n```\r\npublic class TipiComposizioni implements Serializable {\r\n\r\nprivate static final long serialVersionUID = 1L;\r\n\r\n @Id\r\n // Is this correct? You said the id is null for a row on the db\r\n @Basic(optional = false)\r\n @NotNull\r\n @Column(name = &quot;ID&quot;)\r\n private Long id;\r\n\r\n @NaturalId\r\n @Size(max = 20)\r\n @Column(name = &quot;SIGLA&quot;)     \r\n private String sigla;\r\n\r\n @Size(max = 255)\r\n @Column(name = &quot;NOME&quot;)\r\n private String nome;\r\n ...\r\n}\r\n```\r\n\r\nWhen you update TariffeBaseComposizioni:\r\n```\r\nString sigla = ...\r\nTariffeBaseComposizioni tariffe =  ...\r\n\r\n\r\nTipiComposizioni tipo = getCurrentSession()\r\n\t.bySimpleNaturalId( TipiComposizioni.class )\r\n\t.getReference(sigla ); // Assuming you know already it exists in the db\r\ntariffe.setTipoComposizione( tipi );\r\n...\r\n```\r\n\r\nI think the fact that some of the identifiers in `TipiComposizioni` are null is causing issues when Hibernate create the association, making it believes that the entity has changed while it was updating the association (I haven&#39;t tested this theory).\r\n\r\nUsing `getReference` shouldn&#39;t cause the execution of any additional query to select or update `TipiComposizioni`. Unless something changes in `tipo` (Which column the update query in your question was trying to modify?)\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#naturalid-api","title":"HibernateOptimisticLockingFailureException when saving an entity in Spring MVC with JPA","body":"<p>Maybe mapping  the attribute <code>sigla</code> as <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#naturalid-api\" rel=\"nofollow noreferrer\">natural identifier</a> will help:</p>\n<pre><code>public class TipiComposizioni implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n @Id\n // Is this correct? You said the id is null for a row on the db\n @Basic(optional = false)\n @NotNull\n @Column(name = &quot;ID&quot;)\n private Long id;\n\n @NaturalId\n @Size(max = 20)\n @Column(name = &quot;SIGLA&quot;)     \n private String sigla;\n\n @Size(max = 255)\n @Column(name = &quot;NOME&quot;)\n private String nome;\n ...\n}\n</code></pre>\n<p>When you update TariffeBaseComposizioni:</p>\n<pre><code>String sigla = ...\nTariffeBaseComposizioni tariffe =  ...\n\n\nTipiComposizioni tipo = getCurrentSession()\n    .bySimpleNaturalId( TipiComposizioni.class )\n    .getReference(sigla ); // Assuming you know already it exists in the db\ntariffe.setTipoComposizione( tipi );\n...\n</code></pre>\n<p>I think the fact that some of the identifiers in <code>TipiComposizioni</code> are null is causing issues when Hibernate create the association, making it believes that the entity has changed while it was updating the association (I haven't tested this theory).</p>\n<p>Using <code>getReference</code> shouldn't cause the execution of any additional query to select or update <code>TipiComposizioni</code>. Unless something changes in <code>tipo</code> (Which column the update query in your question was trying to modify?)</p>\n"},{"tags":[],"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655804435,"creation_date":1655804435,"answer_id":72698556,"question_id":72563492,"body_markdown":"As you stated in your question already, the issue is that `TipiComposizioni` has no value on the id field. What is not quite clear is the reason you have the separate ID field, if you already have the natural key on `sigla`.\r\n\r\nSince you don&#39;t specify that the `@Id` of `TipiComposizioni` is generated by the database in any way (e.g. `@GeneratedValue(strategy = GenerationType.IDENTITY)`), you have to supply the id yourself. So basically, you have 3 ways to fix this:\r\n\r\n1: Auto-generate the id value for `TipiComposizioni` and add `@GeneratedValue(strategy = GenerationType.IDENTITY)` to the id field. This requires you to change the database:\r\n\r\n\r\n    public class TipiComposizioni implements Serializable {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY) // the actual GenerationType can differ\r\n    \t@Basic(optional = false)\r\n    \t@NotNull\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Size(max = 20)\r\n    \t@Column(name = &quot;SIGLA&quot;)\r\n    \tprivate String sigla;\r\n    \r\n    \t@Size(max = 255)\r\n    \t@Column(name = &quot;NOME&quot;)\r\n    \tprivate String nome;\r\n    \r\n    }\r\n\r\n2:  Manually supply the id value. You can keep the mapping and database as it is, but you have to manage the id yourself.\r\n\r\n3: As you stated, `private String sigla;` is already a natural key, so you can simply remove the `@Id` from `private Long id;` and add it to `private String sigla;`. As you already provide a value for `sigla`, you don&#39;t have to worry about more.\r\n\r\n\r\n    public class TipiComposizioni implements Serializable {\r\n    \t\r\n    \t@Basic(optional = false)\r\n    \t@NotNull\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Id\r\n    \t@Size(max = 20)\r\n    \t@Column(name = &quot;SIGLA&quot;)\r\n    \tprivate String sigla;\r\n    \r\n    \t@Size(max = 255)\r\n    \t@Column(name = &quot;NOME&quot;)\r\n    \tprivate String nome;\r\n    \r\n    }\r\n\r\n\r\n\r\nPersonally I would go with solution 3, as this causes the least work in my opinion.","title":"HibernateOptimisticLockingFailureException when saving an entity in Spring MVC with JPA","body":"<p>As you stated in your question already, the issue is that <code>TipiComposizioni</code> has no value on the id field. What is not quite clear is the reason you have the separate ID field, if you already have the natural key on <code>sigla</code>.</p>\n<p>Since you don't specify that the <code>@Id</code> of <code>TipiComposizioni</code> is generated by the database in any way (e.g. <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>), you have to supply the id yourself. So basically, you have 3 ways to fix this:</p>\n<p>1: Auto-generate the id value for <code>TipiComposizioni</code> and add <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> to the id field. This requires you to change the database:</p>\n<pre><code>public class TipiComposizioni implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY) // the actual GenerationType can differ\n    @Basic(optional = false)\n    @NotNull\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Size(max = 20)\n    @Column(name = &quot;SIGLA&quot;)\n    private String sigla;\n\n    @Size(max = 255)\n    @Column(name = &quot;NOME&quot;)\n    private String nome;\n\n}\n</code></pre>\n<p>2:  Manually supply the id value. You can keep the mapping and database as it is, but you have to manage the id yourself.</p>\n<p>3: As you stated, <code>private String sigla;</code> is already a natural key, so you can simply remove the <code>@Id</code> from <code>private Long id;</code> and add it to <code>private String sigla;</code>. As you already provide a value for <code>sigla</code>, you don't have to worry about more.</p>\n<pre><code>public class TipiComposizioni implements Serializable {\n    \n    @Basic(optional = false)\n    @NotNull\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Id\n    @Size(max = 20)\n    @Column(name = &quot;SIGLA&quot;)\n    private String sigla;\n\n    @Size(max = 255)\n    @Column(name = &quot;NOME&quot;)\n    private String nome;\n\n}\n</code></pre>\n<p>Personally I would go with solution 3, as this causes the least work in my opinion.</p>\n"}],"owner":{"account_id":1671119,"reputation":1077,"user_id":1537580,"accept_rate":62,"display_name":"FrancescoDS"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72698556,"answer_count":3,"score":-1,"last_activity_date":1655804435,"creation_date":1654790823,"question_id":72563492,"body_markdown":"In my Java project (Spring MVC) I have the following entities:\r\n   \r\n    public class TariffeBaseComposizioni implements Serializable {\r\n\r\n     private static final long serialVersionUID = 1L;\r\n\r\n     @Id\r\n     @Basic(optional = false)\r\n     @NotNull\r\n     @Column(name = &quot;ID&quot;)\r\n     private Long id;\r\n     ...\r\n     @JoinColumn(name = &quot;TIPO_COMPOSIZIONE&quot;, referencedColumnName = &quot;SIGLA&quot;)\r\n     @ManyToOne\r\n     private TipiComposizioni tipoComposizione;\r\n     ...\r\n    }\r\n\r\n    public class TipiComposizioni implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n     @Id\r\n     @Basic(optional = false)\r\n     @NotNull\r\n     @Column(name = &quot;ID&quot;)\r\n     private Long id;\r\n\r\n     @Size(max = 20)\r\n     @Column(name = &quot;SIGLA&quot;)     \r\n     private String sigla;\r\n\r\n     @Size(max = 255)\r\n     @Column(name = &quot;NOME&quot;)\r\n     private String nome;\r\n     ...\r\n    }\r\n\r\nI&#39;m trying to save my TariffeBaseComposizioni instance with the save():\r\n\r\n    getCurrentSession().save(t);\r\n\r\nwhere &#39;t&#39; is of type &#39;TariffeBaseComposizioni&#39;.\r\n\r\nWhen save is called, the HibernateOptimisticLockingFailureException is raised.\r\n\r\nHere the stacktrace of the error, where the queries executed are visible:\r\n\r\n    Hibernate: insert into TARIFFE_BASE_COMPOSIZIONI (ID_FASCIA, PREZZO, PUNTI, TIPO_COMPOSIZIONE, ID) values (?, ?, ?, ?, ?)\r\n    Hibernate: update TARIFFE_BASE_COMPOSIZIONI set ID_FASCIA=?, PREZZO=?, PUNTI=?, TIPO_COMPOSIZIONE=? where ID=?\r\n    2022-06-10 12:55:02 INFO  AbstractBatchImpl:195 - HHH000010: On release of batch it still contained JDBC statements\r\n    2022-06-10 12:55:02 ERROR GlobalExceptionHandler:15 - Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n    org.springframework.orm.hibernate4.HibernateOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n\tat   org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:181)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:680)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:562)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n\tat com.sun.proxy.$Proxy163.save(Unknown Source)\r\n\tat it.openingcode.ep.web.controller.TariffeBaseComposizioniController.doUpdate(TariffeBaseComposizioniController.java:210)\r\n\tat it.openingcode.ep.web.controller.TariffeBaseComposizioniController.doUpdate(TariffeBaseComposizioniController.java:36)\r\n\tat it.openingcode.ep.web.AbstractCrudController.update(AbstractCrudController.java:163)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:494)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2575)\r\n\tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2564)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\r\n\tat org.hibernate.jdbc.Expectations$BasicExpectation.checkBatched(Expectations.java:81)\r\n\tat org.hibernate.jdbc.Expectations$BasicExpectation.verifyOutcome(Expectations.java:73)\r\n\tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:59)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3224)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3126)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3456)\r\n\tat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:140)\r\n\tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:364)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:356)\r\n\tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:278)\r\n\tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:328)\r\n\tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52)\r\n\tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1234)\r\n\tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:404)\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)\r\n\tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:554)\r\n\t... 80 more\r\n\r\n\r\nI&#39;ve understood that the problem is that in my object there is a TipiComposizioni entity with a null id (it has only SIGLA value inside). In Oracle table, TIPI_COMPOSIZIONI has a natural key with the field SIGLA.\r\n\r\nI&#39;ve solved the issue loading the whole TipiComposizioni entity from database, with the ID value, but I would like to understand why Hibernate raises that exception and if there is another way to solve it. I thought about some editing in JPA annotations in model class, but nothing works.\r\n\r\n\r\nEDIT:\r\n\r\nhere the scripts of the two involved Oracle tables:\r\n\r\n    CREATE TABLE TARIFFE_BASE_COMPOSIZIONI\r\n    (\r\n      ID                 NUMBER(11),\r\n      ID_FASCIA          NUMBER(11),\r\n      TIPO_COMPOSIZIONE  VARCHAR2(20 BYTE),\r\n      PREZZO             NUMBER(15,5)               DEFAULT 0,\r\n      PUNTI              NUMBER(11)                 DEFAULT 0\r\n    );\r\n\r\n\r\n    CREATE UNIQUE INDEX NK_TARIFFE_BASE_COMPOSIZIONI ON TARIFFE_BASE_COMPOSIZIONI\r\n    (ID_FASCIA, TIPO_COMPOSIZIONE);\r\n\r\n    CREATE UNIQUE INDEX PK_TARIFFE_BASE_COMPOSIZIONI ON TARIFFE_BASE_COMPOSIZIONI\r\n    (ID);\r\n\r\n\r\n\r\n    ALTER TABLE TARIFFE_BASE_COMPOSIZIONI ADD (\r\n     CONSTRAINT PK_TARIFFE_BASE_COMPOSIZIONI\r\n     PRIMARY KEY\r\n     (ID)\r\n     USING INDEX PK_TARIFFE_BASE_COMPOSIZIONI\r\n     ENABLE VALIDATE);\r\n\r\n    ALTER TABLE TARIFFE_BASE_COMPOSIZIONI ADD (\r\n     CONSTRAINT FK_TABC_FASC \r\n     FOREIGN KEY (ID_FASCIA) \r\n     REFERENCES FASCE (ID)\r\n     ENABLE VALIDATE,\r\n     CONSTRAINT FK_TABC_TICO \r\n     FOREIGN KEY (TIPO_COMPOSIZIONE) \r\n     REFERENCES TIPI_COMPOSIZIONI (SIGLA)\r\n     ENABLE VALIDATE);\r\n  \r\n    ---------------\r\n  \r\n    CREATE TABLE TIPI_COMPOSIZIONI\r\n    (\r\n      ID     NUMBER(11),\r\n      SIGLA  VARCHAR2(20 BYTE)                      NOT NULL,\r\n      NOME   VARCHAR2(255 BYTE)                     NOT NULL\r\n    );\r\n\r\n    CREATE UNIQUE INDEX NK_TIPI_COMPOSIZIONI ON TIPI_COMPOSIZIONI\r\n     (SIGLA);\r\n\r\n    CREATE UNIQUE INDEX PK_TIPI_COMPOSIZIONI ON TIPI_COMPOSIZIONI\r\n     (ID);\r\n\r\n    ALTER TABLE TIPI_COMPOSIZIONI ADD (\r\n      CONSTRAINT PK_TIPI_COMPOSIZIONI\r\n      PRIMARY KEY\r\n      (ID)\r\n      USING INDEX PK_TIPI_COMPOSIZIONI\r\n      ENABLE VALIDATE,\r\n      CONSTRAINT NK_TIPI_COMPOSIZIONI\r\n      UNIQUE (SIGLA)\r\n      USING INDEX NK_TIPI_COMPOSIZIONI\r\n      ENABLE VALIDATE);\r\n\r\n\r\nEDIT 2:\r\nI&#39;ve added the following in Class definitions (I forgot to add it when I wrote the question):\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\ndoes the serialVersionUID affects the save() process?\r\n\r\nI&#39;ve also noticed that Hibernate performs an INSERT INTO query and after that tries to perform an UPDATE query on the same TARIFFE_BASE_COMPOSIZIONI table.\r\n\r\n\r\n","title":"HibernateOptimisticLockingFailureException when saving an entity in Spring MVC with JPA","body":"<p>In my Java project (Spring MVC) I have the following entities:</p>\n<pre><code>public class TariffeBaseComposizioni implements Serializable {\n\n private static final long serialVersionUID = 1L;\n\n @Id\n @Basic(optional = false)\n @NotNull\n @Column(name = &quot;ID&quot;)\n private Long id;\n ...\n @JoinColumn(name = &quot;TIPO_COMPOSIZIONE&quot;, referencedColumnName = &quot;SIGLA&quot;)\n @ManyToOne\n private TipiComposizioni tipoComposizione;\n ...\n}\n\npublic class TipiComposizioni implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n @Id\n @Basic(optional = false)\n @NotNull\n @Column(name = &quot;ID&quot;)\n private Long id;\n\n @Size(max = 20)\n @Column(name = &quot;SIGLA&quot;)     \n private String sigla;\n\n @Size(max = 255)\n @Column(name = &quot;NOME&quot;)\n private String nome;\n ...\n}\n</code></pre>\n<p>I'm trying to save my TariffeBaseComposizioni instance with the save():</p>\n<pre><code>getCurrentSession().save(t);\n</code></pre>\n<p>where 't' is of type 'TariffeBaseComposizioni'.</p>\n<p>When save is called, the HibernateOptimisticLockingFailureException is raised.</p>\n<p>Here the stacktrace of the error, where the queries executed are visible:</p>\n<pre><code>Hibernate: insert into TARIFFE_BASE_COMPOSIZIONI (ID_FASCIA, PREZZO, PUNTI, TIPO_COMPOSIZIONE, ID) values (?, ?, ?, ?, ?)\nHibernate: update TARIFFE_BASE_COMPOSIZIONI set ID_FASCIA=?, PREZZO=?, PUNTI=?, TIPO_COMPOSIZIONE=? where ID=?\n2022-06-10 12:55:02 INFO  AbstractBatchImpl:195 - HHH000010: On release of batch it still contained JDBC statements\n2022-06-10 12:55:02 ERROR GlobalExceptionHandler:15 - Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\norg.springframework.orm.hibernate4.HibernateOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\nat   org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:181)\nat org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:680)\nat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:562)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)\nat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\nat com.sun.proxy.$Proxy163.save(Unknown Source)\nat it.openingcode.ep.web.controller.TariffeBaseComposizioniController.doUpdate(TariffeBaseComposizioniController.java:210)\nat it.openingcode.ep.web.controller.TariffeBaseComposizioniController.doUpdate(TariffeBaseComposizioniController.java:36)\nat it.openingcode.ep.web.AbstractCrudController.update(AbstractCrudController.java:163)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:936)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:838)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:812)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:494)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:1025)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1137)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\nat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2575)\nat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2564)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1\nat org.hibernate.jdbc.Expectations$BasicExpectation.checkBatched(Expectations.java:81)\nat org.hibernate.jdbc.Expectations$BasicExpectation.verifyOutcome(Expectations.java:73)\nat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:59)\nat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3224)\nat org.hibernate.persister.entity.AbstractEntityPersister.updateOrInsert(AbstractEntityPersister.java:3126)\nat org.hibernate.persister.entity.AbstractEntityPersister.update(AbstractEntityPersister.java:3456)\nat org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:140)\nat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:364)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:356)\nat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:278)\nat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:328)\nat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52)\nat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1234)\nat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:404)\nat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)\nat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)\nat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:554)\n... 80 more\n</code></pre>\n<p>I've understood that the problem is that in my object there is a TipiComposizioni entity with a null id (it has only SIGLA value inside). In Oracle table, TIPI_COMPOSIZIONI has a natural key with the field SIGLA.</p>\n<p>I've solved the issue loading the whole TipiComposizioni entity from database, with the ID value, but I would like to understand why Hibernate raises that exception and if there is another way to solve it. I thought about some editing in JPA annotations in model class, but nothing works.</p>\n<p>EDIT:</p>\n<p>here the scripts of the two involved Oracle tables:</p>\n<pre><code>CREATE TABLE TARIFFE_BASE_COMPOSIZIONI\n(\n  ID                 NUMBER(11),\n  ID_FASCIA          NUMBER(11),\n  TIPO_COMPOSIZIONE  VARCHAR2(20 BYTE),\n  PREZZO             NUMBER(15,5)               DEFAULT 0,\n  PUNTI              NUMBER(11)                 DEFAULT 0\n);\n\n\nCREATE UNIQUE INDEX NK_TARIFFE_BASE_COMPOSIZIONI ON TARIFFE_BASE_COMPOSIZIONI\n(ID_FASCIA, TIPO_COMPOSIZIONE);\n\nCREATE UNIQUE INDEX PK_TARIFFE_BASE_COMPOSIZIONI ON TARIFFE_BASE_COMPOSIZIONI\n(ID);\n\n\n\nALTER TABLE TARIFFE_BASE_COMPOSIZIONI ADD (\n CONSTRAINT PK_TARIFFE_BASE_COMPOSIZIONI\n PRIMARY KEY\n (ID)\n USING INDEX PK_TARIFFE_BASE_COMPOSIZIONI\n ENABLE VALIDATE);\n\nALTER TABLE TARIFFE_BASE_COMPOSIZIONI ADD (\n CONSTRAINT FK_TABC_FASC \n FOREIGN KEY (ID_FASCIA) \n REFERENCES FASCE (ID)\n ENABLE VALIDATE,\n CONSTRAINT FK_TABC_TICO \n FOREIGN KEY (TIPO_COMPOSIZIONE) \n REFERENCES TIPI_COMPOSIZIONI (SIGLA)\n ENABLE VALIDATE);\n\n---------------\n\nCREATE TABLE TIPI_COMPOSIZIONI\n(\n  ID     NUMBER(11),\n  SIGLA  VARCHAR2(20 BYTE)                      NOT NULL,\n  NOME   VARCHAR2(255 BYTE)                     NOT NULL\n);\n\nCREATE UNIQUE INDEX NK_TIPI_COMPOSIZIONI ON TIPI_COMPOSIZIONI\n (SIGLA);\n\nCREATE UNIQUE INDEX PK_TIPI_COMPOSIZIONI ON TIPI_COMPOSIZIONI\n (ID);\n\nALTER TABLE TIPI_COMPOSIZIONI ADD (\n  CONSTRAINT PK_TIPI_COMPOSIZIONI\n  PRIMARY KEY\n  (ID)\n  USING INDEX PK_TIPI_COMPOSIZIONI\n  ENABLE VALIDATE,\n  CONSTRAINT NK_TIPI_COMPOSIZIONI\n  UNIQUE (SIGLA)\n  USING INDEX NK_TIPI_COMPOSIZIONI\n  ENABLE VALIDATE);\n</code></pre>\n<p>EDIT 2:\nI've added the following in Class definitions (I forgot to add it when I wrote the question):</p>\n<pre><code>private static final long serialVersionUID = 1L;\n</code></pre>\n<p>does the serialVersionUID affects the save() process?</p>\n<p>I've also noticed that Hibernate performs an INSERT INTO query and after that tries to perform an UPDATE query on the same TARIFFE_BASE_COMPOSIZIONI table.</p>\n"},{"tags":["java","spring","spring-boot","session","javabeans"],"comments":[{"owner":{"account_id":12259204,"reputation":2452,"user_id":8947430,"display_name":"Ismail"},"score":0,"creation_date":1655804172,"post_id":72698291,"comment_id":128412400,"body_markdown":"There is an issue with your SessionHandler class, so could you add SessionHandler implementation to your question?","body":"There is an issue with your SessionHandler class, so could you add SessionHandler implementation to your question?"},{"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"score":0,"creation_date":1655808192,"post_id":72698291,"comment_id":128413841,"body_markdown":"The @Resource notation not part of the Spring ecosystem. So first of all you need to fix your import (change it to &#39;import javax.annotation.Resource&#39;). This should fix your compilation error.","body":"The @Resource notation not part of the Spring ecosystem. So first of all you need to fix your import (change it to &#39;import javax.annotation.Resource&#39;). This should fix your compilation error."},{"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"score":0,"creation_date":1655809249,"post_id":72698291,"comment_id":128414210,"body_markdown":"@wolle271 Thank you, that did it. That is the issue with using a free editor that give no hints to things like imports.","body":"@wolle271 Thank you, that did it. That is the issue with using a free editor that give no hints to things like imports."}],"owner":{"account_id":4619838,"reputation":31,"user_id":3745234,"display_name":"NorwegianDeveloper005"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655804348,"creation_date":1655803384,"question_id":72698291,"body_markdown":"I am following this link https://www.baeldung.com/spring-bean-scopes but have an issue getting it to work. \r\n\r\nI have made the following configuration class. \r\n```\r\npackage spring.boardgame.registerboardgame.session;\r\n\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class SessionConfiguration {\r\n    @Bean\r\n    public Session returnSession() {\r\n        return new Session();\r\n    }\r\n}\r\n```\r\nThen I try to retrieve the bean in another class like this: \r\n\r\n```\r\npackage spring.boardgame.registerboardgame.controllers;\r\n\r\n\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport spring.boardgame.registerboardgame.service.SessionHandler;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport spring.boardgame.registerboardgame.model.json.Login;\r\nimport spring.boardgame.registerboardgame.session.Session;\r\n\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;rest/login&quot;)\r\npublic class SessionController {\r\n    @Resource(name = &quot;returnSession&quot;)\r\n    Session returnSession;\r\n    \r\n    private final String crossorg = &quot;http://localhost:4200/&quot;;\r\n    \r\n    @Autowired\r\n    SessionHandler handler;    \r\n    \r\n    \r\n    @GetMapping(value = &quot;test&quot;)\r\n    @CrossOrigin(origins = crossorg)\r\n    public String getTest() {        \r\n        return &quot;it was found&quot;;\r\n    }\r\n    \r\n    @PostMapping(value = &quot;login&quot;, produces = &quot;application/json&quot;)\r\n    @CrossOrigin(origins = crossorg)\r\n    public Login attemptLogin(@RequestBody Login payload) {        \r\n        return handler.attemptLogin(payload);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nHowever, this code does not compile. \r\nI get the following error:\r\n\r\nspring/boardgame/registerboardgame/service/SessionHandler.java:[26,6] incompatible types: org.springframework.core.io.Resource cannot be converted to java.lang.annotation.Annotation\r\n\r\nI am learning Spring Boot and this is my first program with that framework, so guess there are things I may have missed on the way, but hope someone can help me in seeing what is wrong there?\r\n\r\nI first tried to put it into another class like this:\r\n\r\n```\r\n\r\npackage spring.boardgame.registerboardgame.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.stereotype.Service;\r\nimport spring.boardgame.registerboardgame.repository.UserRepository;\r\nimport spring.boardgame.registerboardgame.model.json.Login;\r\nimport spring.boardgame.registerboardgame.model.User;\r\nimport spring.boardgame.registerboardgame.model.UserRole;\r\nimport spring.boardgame.registerboardgame.model.Role;\r\nimport java.util.List;\r\nimport spring.boardgame.registerboardgame.session.Session;\r\nimport spring.boardgame.registerboardgame.session.SessionConfiguration;\r\n\r\n\r\n@Service\r\npublic class SessionHandler {\r\n    @Resource(name = &quot;returnSession&quot;)\r\n    Session returnSession;\r\n    \r\n    @Autowired\r\n    private UserRepository userrepo;   \r\n    \r\n    @Autowired\r\n    private Session mainsession;\r\n    \r\n    \r\n\r\n    \r\n    public Login attemptLogin(Login login){\r\n       \r\n        if(this.mainsession.getUser() == null){\r\n            System.out.println(&quot;not logged in&quot;);\r\n        }else{\r\n            System.out.println(&quot;logged already&quot;);\r\n        }\r\n        \r\n        if(login.getPassword() == null || login.getPassword().trim().length() &lt; 3){\r\n            login.setErrormessage(&quot;Du m&#229; fylle ut et passord.&quot;);\r\n            return login;\r\n        }else{          \r\n            List&lt;User&gt; users = userrepo.findByBrukernavnAndPassord(login.getBrukernavn(), login.getPassword());\r\n            if(users.size() == 1){\r\n                User loggedin = users.get(0);\r\n                login.setUserID(loggedin.getId().intValue());\r\n                login.setStatus(0);\r\n                for(UserRole rolle: loggedin.getRoller()){\r\n                    if(rolle.getRole().getId() &gt; login.getStatus()){\r\n                        login.setStatus(rolle.getRole().getId());\r\n                    }\r\n                }\r\n                \r\n                this.mainsession.setUser(loggedin);\r\n                System.out.println(&quot;is logging in&quot;);\r\n                if(this.mainsession.getUser() == null){\r\n                    System.out.println(&quot;not logged in after&quot;);\r\n                }else{\r\n                    System.out.println(&quot;logged already after&quot;);\r\n                }\r\n                return login;\r\n            }else{\r\n                login.setErrormessage(&quot;Du fylte og feil brukernavn og/eller passord. Vennligst fors&#248;k igjen.&quot;);\r\n                return login;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\n```","title":"Problem with retrieving a Session Bean in Java Spring Boot","body":"<p>I am following this link <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bean-scopes</a> but have an issue getting it to work.</p>\n<p>I have made the following configuration class.</p>\n<pre><code>package spring.boardgame.registerboardgame.session;\n\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SessionConfiguration {\n    @Bean\n    public Session returnSession() {\n        return new Session();\n    }\n}\n</code></pre>\n<p>Then I try to retrieve the bean in another class like this:</p>\n<pre><code>package spring.boardgame.registerboardgame.controllers;\n\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport spring.boardgame.registerboardgame.service.SessionHandler;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.Resource;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport spring.boardgame.registerboardgame.model.json.Login;\nimport spring.boardgame.registerboardgame.session.Session;\n\n\n\n@RestController\n@RequestMapping(&quot;rest/login&quot;)\npublic class SessionController {\n    @Resource(name = &quot;returnSession&quot;)\n    Session returnSession;\n    \n    private final String crossorg = &quot;http://localhost:4200/&quot;;\n    \n    @Autowired\n    SessionHandler handler;    \n    \n    \n    @GetMapping(value = &quot;test&quot;)\n    @CrossOrigin(origins = crossorg)\n    public String getTest() {        \n        return &quot;it was found&quot;;\n    }\n    \n    @PostMapping(value = &quot;login&quot;, produces = &quot;application/json&quot;)\n    @CrossOrigin(origins = crossorg)\n    public Login attemptLogin(@RequestBody Login payload) {        \n        return handler.attemptLogin(payload);\n    }\n    \n}\n</code></pre>\n<p>However, this code does not compile.\nI get the following error:</p>\n<p>spring/boardgame/registerboardgame/service/SessionHandler.java:[26,6] incompatible types: org.springframework.core.io.Resource cannot be converted to java.lang.annotation.Annotation</p>\n<p>I am learning Spring Boot and this is my first program with that framework, so guess there are things I may have missed on the way, but hope someone can help me in seeing what is wrong there?</p>\n<p>I first tried to put it into another class like this:</p>\n<pre><code>\npackage spring.boardgame.registerboardgame.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.core.io.Resource;\nimport org.springframework.stereotype.Service;\nimport spring.boardgame.registerboardgame.repository.UserRepository;\nimport spring.boardgame.registerboardgame.model.json.Login;\nimport spring.boardgame.registerboardgame.model.User;\nimport spring.boardgame.registerboardgame.model.UserRole;\nimport spring.boardgame.registerboardgame.model.Role;\nimport java.util.List;\nimport spring.boardgame.registerboardgame.session.Session;\nimport spring.boardgame.registerboardgame.session.SessionConfiguration;\n\n\n@Service\npublic class SessionHandler {\n    @Resource(name = &quot;returnSession&quot;)\n    Session returnSession;\n    \n    @Autowired\n    private UserRepository userrepo;   \n    \n    @Autowired\n    private Session mainsession;\n    \n    \n\n    \n    public Login attemptLogin(Login login){\n       \n        if(this.mainsession.getUser() == null){\n            System.out.println(&quot;not logged in&quot;);\n        }else{\n            System.out.println(&quot;logged already&quot;);\n        }\n        \n        if(login.getPassword() == null || login.getPassword().trim().length() &lt; 3){\n            login.setErrormessage(&quot;Du må fylle ut et passord.&quot;);\n            return login;\n        }else{          \n            List&lt;User&gt; users = userrepo.findByBrukernavnAndPassord(login.getBrukernavn(), login.getPassword());\n            if(users.size() == 1){\n                User loggedin = users.get(0);\n                login.setUserID(loggedin.getId().intValue());\n                login.setStatus(0);\n                for(UserRole rolle: loggedin.getRoller()){\n                    if(rolle.getRole().getId() &gt; login.getStatus()){\n                        login.setStatus(rolle.getRole().getId());\n                    }\n                }\n                \n                this.mainsession.setUser(loggedin);\n                System.out.println(&quot;is logging in&quot;);\n                if(this.mainsession.getUser() == null){\n                    System.out.println(&quot;not logged in after&quot;);\n                }else{\n                    System.out.println(&quot;logged already after&quot;);\n                }\n                return login;\n            }else{\n                login.setErrormessage(&quot;Du fylte og feil brukernavn og/eller passord. Vennligst forsøk igjen.&quot;);\n                return login;\n            }\n        }\n\n    }\n\n    \n}\n\n</code></pre>\n"},{"tags":["java","tomcat","heap-memory"],"owner":{"account_id":4283164,"reputation":43,"user_id":3501885,"display_name":"user3501885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655809962,"answer_count":0,"score":1,"last_activity_date":1655804328,"creation_date":1655754901,"question_id":72692343,"body_markdown":"We have a Java 11 app running in Tomcat 9.0.37 on an older Windows 2012 Server based Ec2 instance in AWS. The application is very memory intensive and receives a lot of traffic. The max heap is set to 50GB and we see large reclaims through GC (10-15GB) several times per minute. There is a lot of churn in the heap. The memory committed to the Tomcat process regularly exceeds the max heap setting by a large amount. We have verified via `jconsole` that the actual heap is not exceeding its max setting, however the committed memory for the tomcat process will slowly increase throughout the day. Sometimes, it has 90GB+ allocated to it by the end of the day.\r\n\r\nAt times, this will cause the total memory available on the instance to nearly be exhausted. At one point, while the memory was nearly exhausted we took a heap dump using `jmap`. (i.e. `jmap -dump:file=&lt;heap-file-name&gt; &lt;pid&gt;`). Prior to the heap dump, the tomcat process had 84GB committed to it. Once the heap dump completed, the tomcat process had 56 GB committed to it. The size of the memory shown to be consumed by the heap in `jconsole` before and after the heap dump was taken was unchanged.\r\n\r\nSo far we&#39;ve been unable to determine both why the tomcat process takes up so much memory in addition to the max heap setting and also why doing a heap dump frees so much memory from the tomcat process. I&#39;ve read that doing a heap dump can cause a &quot;stop the world&quot; garbage collection event, and so it makes sense that memory would be reclaimed. But I don&#39;t understand why the heap size remains the same (i.e. it seems like it is reclaiming memory, but if it&#39;s doing so via garbage collection why are the heap metrics unaffected)?","title":"Why does Tomcat consume so much more memory than the heap (and why does doing a heap dump reduce tomcat process memory so much)?","body":"<p>We have a Java 11 app running in Tomcat 9.0.37 on an older Windows 2012 Server based Ec2 instance in AWS. The application is very memory intensive and receives a lot of traffic. The max heap is set to 50GB and we see large reclaims through GC (10-15GB) several times per minute. There is a lot of churn in the heap. The memory committed to the Tomcat process regularly exceeds the max heap setting by a large amount. We have verified via <code>jconsole</code> that the actual heap is not exceeding its max setting, however the committed memory for the tomcat process will slowly increase throughout the day. Sometimes, it has 90GB+ allocated to it by the end of the day.</p>\n<p>At times, this will cause the total memory available on the instance to nearly be exhausted. At one point, while the memory was nearly exhausted we took a heap dump using <code>jmap</code>. (i.e. <code>jmap -dump:file=&lt;heap-file-name&gt; &lt;pid&gt;</code>). Prior to the heap dump, the tomcat process had 84GB committed to it. Once the heap dump completed, the tomcat process had 56 GB committed to it. The size of the memory shown to be consumed by the heap in <code>jconsole</code> before and after the heap dump was taken was unchanged.</p>\n<p>So far we've been unable to determine both why the tomcat process takes up so much memory in addition to the max heap setting and also why doing a heap dump frees so much memory from the tomcat process. I've read that doing a heap dump can cause a &quot;stop the world&quot; garbage collection event, and so it makes sense that memory would be reclaimed. But I don't understand why the heap size remains the same (i.e. it seems like it is reclaiming memory, but if it's doing so via garbage collection why are the heap metrics unaffected)?</p>\n"},{"tags":["java","spring","jdbc","spring-jdbc","rowmapper"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1655736280,"post_id":72688138,"comment_id":128396211,"body_markdown":"Now if only Spring would ship with something already... [`BeanPropertyRowMapper`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html).","body":"Now if only Spring would ship with something already... <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/BeanPropertyRowMapper.html\" rel=\"nofollow noreferrer\"><code>BeanPropertyRowMapper</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655733802,"creation_date":1655733802,"answer_id":72688347,"question_id":72688138,"body_markdown":"&gt; What I am doing wrong?\r\n\r\nA mistake many newbie programmers make (and some experts, too!).\r\n\r\n__You have failed to read documentation__.\r\n\r\nHad you done so, you may have noticed that the docs for [`getComponentType()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getComponentType--) tell you that it returns the component type _of an array_.\r\n\r\nGiven, say, `Class&lt;?&gt; c = String[].class`, I can call `c.getComponentType()` and I get `String.class` back. Or `new String[10].getClass().getComponentType()` would get me the same thing.\r\n\r\nYou&#39;re clearly invoking `.getComponentType()` on a class that is not representing an array type, thus, you get `null` back.\r\n\r\n## Doing it right\r\n\r\nYour code is rather confused. `T` is a type variable, thus, taking a parameter of `T instance` means you must provide an actual instance of it, i.e. if you have a `RowMapper` that maps a row into a string, you&#39;d have to provide a string, which doesn&#39;t make sense. Presumably what you actually want as arg is `Class&lt;T&gt;` instead, in which case - voila, there is your class. No need to invoke `.getClass()` or `.getComponentType()` on it in the first place. If truly you intended for this method to require that you pass an actual instance first, `.getClass()` would be the method you presumably want, except I don&#39;t think that&#39;s going to work: `.getClass()` always gives you the actual type, i.e. calling `.getClass()` on a variable of type List cannot ever return `List.class` - it would return perhaps `ArrayList.class` or some anonymous inner class that implements List.\r\n\r\n## The rest of your code is similarly confused\r\n\r\n`.getDeclaredFields`() only returns the fields in the class definition itself, not any parent classes (whose fields are just as much part of any instance of the class as any other) - again, read docs to figure this out.\r\n\r\n&#39;print a stack trace, return null&#39; is very silly exception handling. The right &#39;I do not (yet) care about it&#39; exception handler is `throw new RuntimeException(&quot;unhandled&quot;, e);` - shorter, better. There is no reason not to. Fix your IDE&#39;s templates if you must.\r\n\r\n## Not ready for modern java\r\n\r\nMany, many modern takes on java (notably including the `record` feature) has an immutable class where you therefore cannot just &#39;set&#39; a bunch of fields, and there won&#39;t be a no-argument constructor (which `.getConstructor()` gets you, thus, `.getConstructor()` would fail). Instead, the constructor itself takes all args; therefore, you&#39;re not interested in the fields, you&#39;re interested in the parameters of the constructor. Except there could be more than one, and classes do not (neccessarily) contain the names of parameters.","title":"Generic RowMapper JDBC","body":"<blockquote>\n<p>What I am doing wrong?</p>\n</blockquote>\n<p>A mistake many newbie programmers make (and some experts, too!).</p>\n<p><strong>You have failed to read documentation</strong>.</p>\n<p>Had you done so, you may have noticed that the docs for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getComponentType--\" rel=\"nofollow noreferrer\"><code>getComponentType()</code></a> tell you that it returns the component type <em>of an array</em>.</p>\n<p>Given, say, <code>Class&lt;?&gt; c = String[].class</code>, I can call <code>c.getComponentType()</code> and I get <code>String.class</code> back. Or <code>new String[10].getClass().getComponentType()</code> would get me the same thing.</p>\n<p>You're clearly invoking <code>.getComponentType()</code> on a class that is not representing an array type, thus, you get <code>null</code> back.</p>\n<h2>Doing it right</h2>\n<p>Your code is rather confused. <code>T</code> is a type variable, thus, taking a parameter of <code>T instance</code> means you must provide an actual instance of it, i.e. if you have a <code>RowMapper</code> that maps a row into a string, you'd have to provide a string, which doesn't make sense. Presumably what you actually want as arg is <code>Class&lt;T&gt;</code> instead, in which case - voila, there is your class. No need to invoke <code>.getClass()</code> or <code>.getComponentType()</code> on it in the first place. If truly you intended for this method to require that you pass an actual instance first, <code>.getClass()</code> would be the method you presumably want, except I don't think that's going to work: <code>.getClass()</code> always gives you the actual type, i.e. calling <code>.getClass()</code> on a variable of type List cannot ever return <code>List.class</code> - it would return perhaps <code>ArrayList.class</code> or some anonymous inner class that implements List.</p>\n<h2>The rest of your code is similarly confused</h2>\n<p><code>.getDeclaredFields</code>() only returns the fields in the class definition itself, not any parent classes (whose fields are just as much part of any instance of the class as any other) - again, read docs to figure this out.</p>\n<p>'print a stack trace, return null' is very silly exception handling. The right 'I do not (yet) care about it' exception handler is <code>throw new RuntimeException(&quot;unhandled&quot;, e);</code> - shorter, better. There is no reason not to. Fix your IDE's templates if you must.</p>\n<h2>Not ready for modern java</h2>\n<p>Many, many modern takes on java (notably including the <code>record</code> feature) has an immutable class where you therefore cannot just 'set' a bunch of fields, and there won't be a no-argument constructor (which <code>.getConstructor()</code> gets you, thus, <code>.getConstructor()</code> would fail). Instead, the constructor itself takes all args; therefore, you're not interested in the fields, you're interested in the parameters of the constructor. Except there could be more than one, and classes do not (neccessarily) contain the names of parameters.</p>\n"}],"owner":{"account_id":19259266,"reputation":1853,"user_id":14075508,"display_name":"Alex Vergara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655803670,"creation_date":1655733000,"question_id":72688138,"body_markdown":"I am trying to create a generic row mapper for JDBC.\r\n\r\nMy initial attempt looks like:\r\n\r\n```\r\npublic class GenericRowMapper&lt;T&gt; implements RowMapper&lt;T&gt; {\r\n\r\n    private final Class&lt;?&gt; clazz;\r\n\r\n    public GenericRowMapper(T instance) {\r\n        this.clazz = instance.getClass().getComponentType();\r\n    }\r\n\r\n    @Override\r\n    public T mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Field[] fields = clazz.getDeclaredFields();\r\n        for(Field f : fields){\r\n            System.out.println(&quot;field name : &quot; + f.getName() + &quot; , type : &quot; + f.getType());\r\n        }\r\n\r\n        try {\r\n            return (T) clazz.getConstructor().newInstance();\r\n        } catch (NoSuchMethodException | InvocationTargetException | InstantiationException | IllegalAccessException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut in the constructor, the getComponentType() is returning null, so `clazz = null;` and I am not being able to make any progress. \r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"Generic RowMapper JDBC","body":"<p>I am trying to create a generic row mapper for JDBC.</p>\n<p>My initial attempt looks like:</p>\n<pre><code>public class GenericRowMapper&lt;T&gt; implements RowMapper&lt;T&gt; {\n\n    private final Class&lt;?&gt; clazz;\n\n    public GenericRowMapper(T instance) {\n        this.clazz = instance.getClass().getComponentType();\n    }\n\n    @Override\n    public T mapRow(ResultSet rs, int rowNum) throws SQLException {\n        Field[] fields = clazz.getDeclaredFields();\n        for(Field f : fields){\n            System.out.println(&quot;field name : &quot; + f.getName() + &quot; , type : &quot; + f.getType());\n        }\n\n        try {\n            return (T) clazz.getConstructor().newInstance();\n        } catch (NoSuchMethodException | InvocationTargetException | InstantiationException | IllegalAccessException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>But in the constructor, the getComponentType() is returning null, so <code>clazz = null;</code> and I am not being able to make any progress.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","code-coverage","mutation","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655803530,"creation_date":1655803530,"answer_id":72698339,"question_id":72686892,"body_markdown":"```java\r\nassertThat(testValue.equals(&quot;&quot;));\r\n```\r\n\r\nIs not a functioning assertion. Assuming you are using AssertJ, this should be.\r\n\r\n```java\r\nassertThat(testValue).isEqualTo(&quot;&quot;);\r\n```\r\n\r\nIt is not entirely clear what your code and tests look like from the small snippets you have posted. But the negated conditional is killed in the following code with the supplied test.\r\n\r\n```java\r\npublic class Foo {\r\n    public static String foo(String test) {\r\n        String result = test != null ? test : &quot;&quot;;\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass FooTest {\r\n    @Test\r\n    void convertsNullToEmptyString() {\r\n        assertEquals(&quot;&quot;, Foo.foo(null));\r\n    }\r\n\r\n    @Test\r\n    void returnsNonNullValues() {\r\n        assertEquals(&quot;hello&quot;, Foo.foo(&quot;hello&quot;));\r\n    }\r\n}\r\n```\r\n","title":"Pitest - Mutation Test failure - negated conditional → SURVIVED","body":"<pre class=\"lang-java prettyprint-override\"><code>assertThat(testValue.equals(&quot;&quot;));\n</code></pre>\n<p>Is not a functioning assertion. Assuming you are using AssertJ, this should be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(testValue).isEqualTo(&quot;&quot;);\n</code></pre>\n<p>It is not entirely clear what your code and tests look like from the small snippets you have posted. But the negated conditional is killed in the following code with the supplied test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n    public static String foo(String test) {\n        String result = test != null ? test : &quot;&quot;;\n        return result;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class FooTest {\n    @Test\n    void convertsNullToEmptyString() {\n        assertEquals(&quot;&quot;, Foo.foo(null));\n    }\n\n    @Test\n    void returnsNonNullValues() {\n        assertEquals(&quot;hello&quot;, Foo.foo(&quot;hello&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72698339,"answer_count":1,"score":1,"last_activity_date":1655803580,"creation_date":1655727663,"question_id":72686892,"body_markdown":"I added a conditional operator in my code like:\r\n\r\n```java\r\nString test;//assigned with some value\r\nresult = test != null ? test : &quot;&quot;;\r\n```\r\n\r\nThis fails in mutation testing with the reason of **negated conditional → SURVIVED**\r\n\r\nI added few unit test cases to assign the value with `&quot;&quot;` , `null`, `&quot;value&quot;` like\r\n\r\n```java\r\nasserThat(testValue.equals(&quot;&quot;));\r\n```\r\n\r\nBut nothing is giving the solution for this. \r\n\r\nCan I get help from anyone about the mutation coverage for this specific flow?","title":"Pitest - Mutation Test failure - negated conditional → SURVIVED","body":"<p>I added a conditional operator in my code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String test;//assigned with some value\nresult = test != null ? test : &quot;&quot;;\n</code></pre>\n<p>This fails in mutation testing with the reason of <strong>negated conditional → SURVIVED</strong></p>\n<p>I added few unit test cases to assign the value with <code>&quot;&quot;</code> , <code>null</code>, <code>&quot;value&quot;</code> like</p>\n<pre class=\"lang-java prettyprint-override\"><code>asserThat(testValue.equals(&quot;&quot;));\n</code></pre>\n<p>But nothing is giving the solution for this.</p>\n<p>Can I get help from anyone about the mutation coverage for this specific flow?</p>\n"},{"tags":["java","android","scheduled-tasks","alarmmanager","android-workmanager"],"comments":[{"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"score":0,"creation_date":1655797439,"post_id":72696878,"comment_id":128410047,"body_markdown":"Do you want to call doWork() method repeatedly based on scheduled time ?","body":"Do you want to call doWork() method repeatedly based on scheduled time ?"},{"owner":{"account_id":25606461,"reputation":1,"user_id":19380481,"display_name":"Ali Chandorewala"},"score":0,"creation_date":1655798588,"post_id":72696878,"comment_id":128410399,"body_markdown":"Yes, it should call repeatedly, but only when the previous request gets completed in doWork method.","body":"Yes, it should call repeatedly, but only when the previous request gets completed in doWork method."},{"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"score":0,"creation_date":1655798908,"post_id":72696878,"comment_id":128410504,"body_markdown":"I believe you can make use of periodic work request instead of enqueueUniqueWork.  Refer this https://medium.com/swlh/periodic-tasks-with-android-workmanager-c901dd9ba7bc","body":"I believe you can make use of periodic work request instead of enqueueUniqueWork.  Refer this <a href=\"https://medium.com/swlh/periodic-tasks-with-android-workmanager-c901dd9ba7bc\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a>"},{"owner":{"account_id":25606461,"reputation":1,"user_id":19380481,"display_name":"Ali Chandorewala"},"score":0,"creation_date":1655800177,"post_id":72696878,"comment_id":128410928,"body_markdown":"Thanks for the suggestion, but I want to trigger the work manager in 5min of interval and I saw here  https://medium.com/androiddevelopers/workmanager-periodicity-ff35185ff006 that minimum 15 min start time is expected with work manager. So I am triggering alarm manager in 5 minutes interval ( Interval will be configurable) and from receiver class, I am triggering work manager.","body":"Thanks for the suggestion, but I want to trigger the work manager in 5min of interval and I saw here  <a href=\"https://medium.com/androiddevelopers/workmanager-periodicity-ff35185ff006\" rel=\"nofollow noreferrer\">medium.com/androiddevelopers/&hellip;</a> that minimum 15 min start time is expected with work manager. So I am triggering alarm manager in 5 minutes interval ( Interval will be configurable) and from receiver class, I am triggering work manager."},{"owner":{"account_id":25606461,"reputation":1,"user_id":19380481,"display_name":"Ali Chandorewala"},"score":0,"creation_date":1655800343,"post_id":72696878,"comment_id":128410989,"body_markdown":"I only want that what could be the reason for not calling of doWork(), whether it is a one time request or periodic.","body":"I only want that what could be the reason for not calling of doWork(), whether it is a one time request or periodic."},{"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"score":0,"creation_date":1655800929,"post_id":72696878,"comment_id":128411198,"body_markdown":"What is your workPendingIntent here ?","body":"What is your workPendingIntent here ?"},{"owner":{"account_id":25606461,"reputation":1,"user_id":19380481,"display_name":"Ali Chandorewala"},"score":0,"creation_date":1655801282,"post_id":72696878,"comment_id":128411331,"body_markdown":"workPendingIntent is Pending Intent for alarm manager parameters.","body":"workPendingIntent is Pending Intent for alarm manager parameters."},{"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"score":0,"creation_date":1655802331,"post_id":72696878,"comment_id":128411699,"body_markdown":"Can you post the entire code starting from initialization of Alarmanager &amp; where exactly you&#39;re calling the above code for alarmManager","body":"Can you post the entire code starting from initialization of Alarmanager &amp; where exactly you&#39;re calling the above code for alarmManager"}],"answers":[{"tags":[],"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655799935,"creation_date":1655799935,"answer_id":72697506,"question_id":72696878,"body_markdown":"You can achieve scheduled tasks using periodic work requests. Here&#39;s how you can do it: \r\n\r\n* Define constraints like if device should be connected or should have sufficient battery.\r\n* Now create a periodic request with constraints &amp; if required define a tag name. Also set a delay this which will set a initial delay for your work to start.\r\n* And create a enqueueUniquePeriodicWork by providing unique work name &amp; the ExistingPeriodicWorkPolicy which you can read here [ExistingPeriodicWorkPolicy \r\n Enum values][1]\r\n* By default periodic work will take 15 minutes to execute the work request. \r\n\r\n      Constraints constraints = new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).setRequiresBatteryNotLow(true).build();\r\n\r\n      PeriodicWorkRequest periodicRequest = new PeriodicWorkRequest.Builder(MyWorkerClass.class, 15, TimeUnit.MINUTES)\r\n                .addTag(&quot;myPeriodicRequest&quot;)\r\n                .setConstraints(constraints)\r\n                .setInitialDelay(5, TimeUnit.MINUTES)\r\n                .build();\r\n      WorkManager.getInstance(context).enqueueUniquePeriodicWork(&quot;myPeriodicRequest&quot;, ExistingPeriodicWorkPolicy.APPEND_OR_REPLACE, periodicRequest);\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/work/ExistingWorkPolicy","title":"doWork() method of workmanager is not getting called from alarm manager receiver","body":"<p>You can achieve scheduled tasks using periodic work requests. Here's how you can do it:</p>\n<ul>\n<li><p>Define constraints like if device should be connected or should have sufficient battery.</p>\n</li>\n<li><p>Now create a periodic request with constraints &amp; if required define a tag name. Also set a delay this which will set a initial delay for your work to start.</p>\n</li>\n<li><p>And create a enqueueUniquePeriodicWork by providing unique work name &amp; the ExistingPeriodicWorkPolicy which you can read here <a href=\"https://developer.android.com/reference/androidx/work/ExistingWorkPolicy\" rel=\"nofollow noreferrer\">ExistingPeriodicWorkPolicy\nEnum values</a></p>\n</li>\n<li><p>By default periodic work will take 15 minutes to execute the work request.</p>\n<pre><code>Constraints constraints = new Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).setRequiresBatteryNotLow(true).build();\n\nPeriodicWorkRequest periodicRequest = new PeriodicWorkRequest.Builder(MyWorkerClass.class, 15, TimeUnit.MINUTES)\n          .addTag(&quot;myPeriodicRequest&quot;)\n          .setConstraints(constraints)\n          .setInitialDelay(5, TimeUnit.MINUTES)\n          .build();\nWorkManager.getInstance(context).enqueueUniquePeriodicWork(&quot;myPeriodicRequest&quot;, ExistingPeriodicWorkPolicy.APPEND_OR_REPLACE, periodicRequest);\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9579833,"reputation":1418,"user_id":7114714,"display_name":"Yavor Mitev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655803057,"creation_date":1655803057,"answer_id":72698218,"question_id":72696878,"body_markdown":"You are missing the point on how the WorkManager should be used. You can be exact with AalarmManager, but then you pass your execution to something inexact - the WorkManager. So no point in using the AlarmManager at all. Just use the WorkManager directly with either Periodic Request or maybe some Trigger. You can check more here in my answer comparing the different APIs. \r\n\r\nhttps://stackoverflow.com/questions/72415454/background-processing-in-modern-android/72416520#72416520","title":"doWork() method of workmanager is not getting called from alarm manager receiver","body":"<p>You are missing the point on how the WorkManager should be used. You can be exact with AalarmManager, but then you pass your execution to something inexact - the WorkManager. So no point in using the AlarmManager at all. Just use the WorkManager directly with either Periodic Request or maybe some Trigger. You can check more here in my answer comparing the different APIs.</p>\n<p><a href=\"https://stackoverflow.com/questions/72415454/background-processing-in-modern-android/72416520#72416520\">Background processing in modern Android</a></p>\n"}],"owner":{"account_id":25606461,"reputation":1,"user_id":19380481,"display_name":"Ali Chandorewala"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655803462,"creation_date":1655796854,"question_id":72696878,"body_markdown":"I am using work manager Onetime Request to perform the task. First the alarm manager gets call in given frequency and from alarm manager receiver class, work manager class gets called. All code was working fine, but suddenly the work manager doWork is not getting called. Flow is coming till alarm manager receiver but not proceeding further.\r\n\r\nAlarm Manager Receiver class\r\n\r\n    public class WorkAlarmReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        final String TAG = &quot;WorkAlarmReceiver&quot;;\r\n        if (BuildConfig.DEBUG) {\r\n            Log.i(TAG, &quot;onReceive: intent=&quot; + intent);\r\n        }\r\n        OneTimeWorkRequest startWork = new OneTimeWorkRequest.Builder(WorkManagerForTools.class).build();\r\n        WorkManager.getInstance(context).enqueueUniqueWork(&quot;Validate Tool&quot;, ExistingWorkPolicy.APPEND_OR_REPLACE , startWork);\r\n\r\n    }\r\n\r\nThis Receiver is calling fine in given time interval\r\n\r\n    \r\n            //checking if alarm is working with pendingIntent\r\n            Intent workIntent = new Intent(mContext,\r\n                    WorkAlarmReceiver.class)\r\n                    .setAction(Long.toString(System.currentTimeMillis()\r\n            PendingIntent workPendingIntent = PendingIntent.getBroadcast(mContext, 1001,\r\n                    workIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n            Log.e(TAG, &quot;New data of pending intent: &quot; + workSpecId + &quot; local work id, &quot; + localWorkId +\r\n                    &quot; tools id list &quot; + updatedMobileAppToolIds);\r\n            if(BuildConfig.DEBUG) {\r\n                Log.d(TAG, &quot;New data of pending intent: &quot; + workSpecId + &quot; local work id, &quot; + localWorkId +\r\n                        &quot; tools id list &quot; + updatedMobileAppToolIds);\r\n            }\r\n            boolean isWorking = (PendingIntent.getBroadcast(mContext, 1001, workIntent, PendingIntent.FLAG_NO_CREATE) != null);//just changed the flag\r\n            if (isWorking) {\r\n                alarmManager.cancel(workPendingIntent);\r\n                alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\r\n                        10 * (minFrequency / 10), workPendingIntent);\r\n            } else {\r\n                alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\r\n                        10 * (minFrequency / 10), workPendingIntent);\r\n            }\r\n\r\nThe alarm manager receiver class then call workmanager class. Here is the work manager class\r\n\r\n        @SuppressLint(&quot;WrongThread&quot;)\r\n    @NonNull\r\n    @Override\r\n    public Result doWork() {\r\n        // Code to be execute\r\n}\r\n\r\nAny help on this Appreciated.\r\n\r\n","title":"doWork() method of workmanager is not getting called from alarm manager receiver","body":"<p>I am using work manager Onetime Request to perform the task. First the alarm manager gets call in given frequency and from alarm manager receiver class, work manager class gets called. All code was working fine, but suddenly the work manager doWork is not getting called. Flow is coming till alarm manager receiver but not proceeding further.</p>\n<p>Alarm Manager Receiver class</p>\n<pre><code>public class WorkAlarmReceiver extends BroadcastReceiver {\n@Override\npublic void onReceive(Context context, Intent intent) {\n    final String TAG = &quot;WorkAlarmReceiver&quot;;\n    if (BuildConfig.DEBUG) {\n        Log.i(TAG, &quot;onReceive: intent=&quot; + intent);\n    }\n    OneTimeWorkRequest startWork = new OneTimeWorkRequest.Builder(WorkManagerForTools.class).build();\n    WorkManager.getInstance(context).enqueueUniqueWork(&quot;Validate Tool&quot;, ExistingWorkPolicy.APPEND_OR_REPLACE , startWork);\n\n}\n</code></pre>\n<p>This Receiver is calling fine in given time interval</p>\n<pre><code>        //checking if alarm is working with pendingIntent\n        Intent workIntent = new Intent(mContext,\n                WorkAlarmReceiver.class)\n                .setAction(Long.toString(System.currentTimeMillis()\n        PendingIntent workPendingIntent = PendingIntent.getBroadcast(mContext, 1001,\n                workIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n        Log.e(TAG, &quot;New data of pending intent: &quot; + workSpecId + &quot; local work id, &quot; + localWorkId +\n                &quot; tools id list &quot; + updatedMobileAppToolIds);\n        if(BuildConfig.DEBUG) {\n            Log.d(TAG, &quot;New data of pending intent: &quot; + workSpecId + &quot; local work id, &quot; + localWorkId +\n                    &quot; tools id list &quot; + updatedMobileAppToolIds);\n        }\n        boolean isWorking = (PendingIntent.getBroadcast(mContext, 1001, workIntent, PendingIntent.FLAG_NO_CREATE) != null);//just changed the flag\n        if (isWorking) {\n            alarmManager.cancel(workPendingIntent);\n            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\n                    10 * (minFrequency / 10), workPendingIntent);\n        } else {\n            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),\n                    10 * (minFrequency / 10), workPendingIntent);\n        }\n</code></pre>\n<p>The alarm manager receiver class then call workmanager class. Here is the work manager class</p>\n<pre><code>    @SuppressLint(&quot;WrongThread&quot;)\n@NonNull\n@Override\npublic Result doWork() {\n    // Code to be execute\n</code></pre>\n<p>}</p>\n<p>Any help on this Appreciated.</p>\n"},{"tags":["java","spring","spring-boot","dto","spring-annotations"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1655803589,"post_id":72698285,"comment_id":128412163,"body_markdown":"Either make it a `Double`, or accept that its value will be `0` when it wasn&#39;t included.","body":"Either make it a <code>Double</code>, or accept that its value will be <code>0</code> when it wasn&#39;t included."},{"owner":{"account_id":22833929,"reputation":11,"user_id":16981956,"display_name":"Hamza Mustafa Khan"},"score":0,"creation_date":1655880206,"post_id":72698285,"comment_id":128433379,"body_markdown":"How to make its value 0 when it wasn&#39;t included? Which annotation?","body":"How to make its value 0 when it wasn&#39;t included? Which annotation?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1655881500,"post_id":72698285,"comment_id":128433736,"body_markdown":"As far as I&#39;m aware, it is the default behaviour (but then again, I believe you wouldn&#39;t need to annotate with `@Nullable` either, so maybe I&#39;m missing something here).","body":"As far as I&#39;m aware, it is the default behaviour (but then again, I believe you wouldn&#39;t need to annotate with <code>@Nullable</code> either, so maybe I&#39;m missing something here)."}],"owner":{"account_id":22833929,"reputation":11,"user_id":16981956,"display_name":"Hamza Mustafa Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655803358,"creation_date":1655803358,"question_id":72698285,"body_markdown":"I&#39;ve made a class for request body, now it has a double field which might come in request body sometimes and sometimes it won&#39;t, how should I handle it? Sample code:\r\n\r\n    @Nullable\r\n    private String phoneNumber;\r\n    [what should be here?]\r\n    private double amount;","title":"Alternative for using @Nullable for double in Java Spring Boot?","body":"<p>I've made a class for request body, now it has a double field which might come in request body sometimes and sometimes it won't, how should I handle it? Sample code:</p>\n<pre><code>@Nullable\nprivate String phoneNumber;\n[what should be here?]\nprivate double amount;\n</code></pre>\n"},{"tags":["java","linux","docker","apache-nifi","alpine-linux"],"comments":[{"owner":{"account_id":4910556,"reputation":1932,"user_id":3955972,"display_name":"Sdairs"},"score":0,"creation_date":1629984856,"post_id":68935905,"comment_id":121836186,"body_markdown":"NiFi is secure by default - have you tried exposing port 8443 and accesing via https?","body":"NiFi is secure by default - have you tried exposing port 8443 and accesing via https?"},{"owner":{"account_id":22500990,"reputation":41,"user_id":16697315,"display_name":"Dolly"},"score":0,"creation_date":1630049977,"post_id":68935905,"comment_id":121854334,"body_markdown":"Yes. It didn&#39;t work","body":"Yes. It didn&#39;t work"},{"owner":{"account_id":4910556,"reputation":1932,"user_id":3955972,"display_name":"Sdairs"},"score":0,"creation_date":1630052231,"post_id":68935905,"comment_id":121855221,"body_markdown":"Here&#39;s a functional Dockerfile https://hub.docker.com/r/apache/nifi/dockerfile perhaps start with this and work backwards?","body":"Here&#39;s a functional Dockerfile <a href=\"https://hub.docker.com/r/apache/nifi/dockerfile\" rel=\"nofollow noreferrer\">hub.docker.com/r/apache/nifi/dockerfile</a> perhaps start with this and work backwards?"},{"owner":{"account_id":22500990,"reputation":41,"user_id":16697315,"display_name":"Dolly"},"score":0,"creation_date":1630565530,"post_id":68935905,"comment_id":121992047,"body_markdown":"Thanks. I tried it out and made a few edits. It seemed to work but then I got the error - &quot;tlsException: The truststore properties are not valid&quot; and likewise for keystore properties as well. How can I correct that?","body":"Thanks. I tried it out and made a few edits. It seemed to work but then I got the error - &quot;tlsException: The truststore properties are not valid&quot; and likewise for keystore properties as well. How can I correct that?"}],"owner":{"account_id":22500990,"reputation":41,"user_id":16697315,"display_name":"Dolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655802715,"creation_date":1629969792,"question_id":68935905,"body_markdown":"I have created a docker image for Nifi 1.14.0 with Alpine OS and jdk-8. I have been able to successfully build it but when I execute &quot;./nifi.sh run&quot; command in docker to run Nifi but it gets stuck at &quot;Launched Apache NiFi with Process ID 41&quot; and doesn&#39;t move beyond this unless I do Ctrl+C which shutdowns Nifi. Upon checking the nifi-app.log, it is seen that nar files have been unpacked and no errors are shown. Nifi-bootstrap.log and nifi-user.log don&#39;t show any errors eithers. What could be the possible reason and solution for this such that Nifi launches properly?\r\n\r\nThanks in advance!!\r\n\r\n\r\nMy Dockerfile is:\r\n\r\n    #getting base image Alpine\r\n    \r\n    FROM alpine\r\n    \r\n    ENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk/jre\r\n    \r\n    ENV PATH $JAVA_HOME/bin:$PATH\r\n    \r\n    ENV NIFI_VERSION 1.14.0\r\n    \r\n    ENV NIFI_HOME /opt/nifi\r\n    \r\n    RUN apk --update add bash git wget ca-certificates sudo openssh rsync openjdk8 zip &amp;&amp; \\\r\n        rm -rf /var/cache/apk/* &amp;&amp; \\\r\n        rm -rf /opt  &amp;&amp; \\\r\n        mkdir -p /opt\r\n    \r\n    RUN wget https://dlcdn.apache.org/nifi/$NIFI_VERSION/nifi-$NIFI_VERSION-bin.tar.gz &amp;&amp; \\\r\n        tar xzf nifi-$NIFI_VERSION-bin.tar.gz -C /opt/ &amp;&amp; \\\r\n        ln -s /opt/nifi-$NIFI_VERSION $NIFI_HOME &amp;&amp; \\\r\n        rm nifi-$NIFI_VERSION-bin.tar.gz\r\n    \r\n    RUN apk update --no-cache &amp;&amp; apk upgrade --no-cache &amp;&amp; apk add --no-cache bash libstdc++ libc6-compat\r\n    \r\n    VOLUME [&quot;$NIFI_HOME/conf&quot;]\r\n    \r\n    EXPOSE 8080\r\n    \r\n    WORKDIR $NIFI_HOME","title":"Nifi stuck at &quot;Launched Apache NiFi with Process ID 41&quot;","body":"<p>I have created a docker image for Nifi 1.14.0 with Alpine OS and jdk-8. I have been able to successfully build it but when I execute &quot;./nifi.sh run&quot; command in docker to run Nifi but it gets stuck at &quot;Launched Apache NiFi with Process ID 41&quot; and doesn't move beyond this unless I do Ctrl+C which shutdowns Nifi. Upon checking the nifi-app.log, it is seen that nar files have been unpacked and no errors are shown. Nifi-bootstrap.log and nifi-user.log don't show any errors eithers. What could be the possible reason and solution for this such that Nifi launches properly?</p>\n<p>Thanks in advance!!</p>\n<p>My Dockerfile is:</p>\n<pre><code>#getting base image Alpine\n\nFROM alpine\n\nENV JAVA_HOME /usr/lib/jvm/java-1.8-openjdk/jre\n\nENV PATH $JAVA_HOME/bin:$PATH\n\nENV NIFI_VERSION 1.14.0\n\nENV NIFI_HOME /opt/nifi\n\nRUN apk --update add bash git wget ca-certificates sudo openssh rsync openjdk8 zip &amp;&amp; \\\n    rm -rf /var/cache/apk/* &amp;&amp; \\\n    rm -rf /opt  &amp;&amp; \\\n    mkdir -p /opt\n\nRUN wget https://dlcdn.apache.org/nifi/$NIFI_VERSION/nifi-$NIFI_VERSION-bin.tar.gz &amp;&amp; \\\n    tar xzf nifi-$NIFI_VERSION-bin.tar.gz -C /opt/ &amp;&amp; \\\n    ln -s /opt/nifi-$NIFI_VERSION $NIFI_HOME &amp;&amp; \\\n    rm nifi-$NIFI_VERSION-bin.tar.gz\n\nRUN apk update --no-cache &amp;&amp; apk upgrade --no-cache &amp;&amp; apk add --no-cache bash libstdc++ libc6-compat\n\nVOLUME [&quot;$NIFI_HOME/conf&quot;]\n\nEXPOSE 8080\n\nWORKDIR $NIFI_HOME\n</code></pre>\n"},{"tags":["java","android","android-snackbar"],"answers":[{"tags":[],"owner":{"account_id":3695982,"reputation":647,"user_id":3077316,"display_name":"Vibhor Chopra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446626997,"creation_date":1446626997,"answer_id":33517356,"question_id":33517255,"body_markdown":"Get assets\r\n\r\n    AssetManager assets = context.getAssets();\r\n\r\nGet Typeface\r\n   \r\n    Typeface typeface = Typeface.createFromAsset(assets,PATH OF .TTF FILE);\r\n\r\nPath: font/robotoregular.ttf (if .ttf file is stored in assets/font path)\r\n\r\n ","title":"Changing typeface of Snackbar","body":"<p>Get assets</p>\n\n<pre><code>AssetManager assets = context.getAssets();\n</code></pre>\n\n<p>Get Typeface</p>\n\n<pre><code>Typeface typeface = Typeface.createFromAsset(assets,PATH OF .TTF FILE);\n</code></pre>\n\n<p>Path: font/robotoregular.ttf (if .ttf file is stored in assets/font path)</p>\n"},{"tags":[],"owner":{"account_id":5971918,"reputation":10303,"user_id":4694013,"accept_rate":79,"display_name":"Anoop M Maddasseri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446628445,"creation_date":1446627027,"answer_id":33517364,"question_id":33517255,"body_markdown":"  **Get the snack bar view and apply customization** \r\n \r\n\r\n   \r\n    TextView tv = (TextView) sb.getView().findViewById(android.support.design.R.id.snackbar_text);\r\n    tv.setTextColor(Color.WHITE);\r\n    tv.setTypeface(Typeface.createFromAsset(\r\n                        getAssets(),\r\n                        &quot;fonts/ur_file.ttf&quot;));\r\n\r\n**Or this**\r\n\r\n    SpannableStringBuilder snackbarText = new SpannableStringBuilder();\r\n    snackbarText.append(&quot;Add &quot;);\r\n    int boldStart = snackbarText.length();\r\n    snackbarText.append(&quot;bold color&quot;);\r\n    snackbarText.setSpan(new ForegroundColorSpan(0xFFFF0000), boldStart, snackbarText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    snackbarText.setSpan(new StyleSpan(android.graphics.Typeface.BOLD), boldStart, snackbarText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\r\n    snackbarText.append(&quot; to Snackbar text&quot;);\r\n     \r\n    Snackbar.make(view, snackbarText, Snackbar.LENGTH_LONG).show();\r\n\r\nOr you can give a look at [this][1] and [this][2].\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://github.com/nispok/snackbar\r\n  [2]: https://androidbycode.wordpress.com/2015/06/06/material-design-snackbar-using-the-design-support-library/","title":"Changing typeface of Snackbar","body":"<p><strong>Get the snack bar view and apply customization</strong> </p>\n\n<pre><code>TextView tv = (TextView) sb.getView().findViewById(android.support.design.R.id.snackbar_text);\ntv.setTextColor(Color.WHITE);\ntv.setTypeface(Typeface.createFromAsset(\n                    getAssets(),\n                    \"fonts/ur_file.ttf\"));\n</code></pre>\n\n<p><strong>Or this</strong></p>\n\n<pre><code>SpannableStringBuilder snackbarText = new SpannableStringBuilder();\nsnackbarText.append(\"Add \");\nint boldStart = snackbarText.length();\nsnackbarText.append(\"bold color\");\nsnackbarText.setSpan(new ForegroundColorSpan(0xFFFF0000), boldStart, snackbarText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nsnackbarText.setSpan(new StyleSpan(android.graphics.Typeface.BOLD), boldStart, snackbarText.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nsnackbarText.append(\" to Snackbar text\");\n\nSnackbar.make(view, snackbarText, Snackbar.LENGTH_LONG).show();\n</code></pre>\n\n<p>Or you can give a look at <a href=\"https://github.com/nispok/snackbar\" rel=\"nofollow\">this</a> and <a href=\"https://androidbycode.wordpress.com/2015/06/06/material-design-snackbar-using-the-design-support-library/\" rel=\"nofollow\">this</a>.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":2719329,"reputation":1977,"user_id":2345946,"accept_rate":64,"display_name":"Ashish Agrawal"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1614845030,"creation_date":1446627406,"answer_id":33517490,"question_id":33517255,"body_markdown":"You can set TypeFace by getting view from Snack bar \r\n\r\n    TextView tv = (TextView) (mSnackBar.getView()).findViewById(android.support.design.R.id.snackbar_text);\r\n    Typeface font = Typeface.createFromAsset(getContext().getAssets(), &quot;fonts/font_file.ttf&quot;);\r\n    tv.setTypeface(font);\r\n\r\nFor AndroidX, use resource ID `com.google.android.material.R.id.snackbar_text`","title":"Changing typeface of Snackbar","body":"<p>You can set TypeFace by getting view from Snack bar</p>\n<pre><code>TextView tv = (TextView) (mSnackBar.getView()).findViewById(android.support.design.R.id.snackbar_text);\nTypeface font = Typeface.createFromAsset(getContext().getAssets(), &quot;fonts/font_file.ttf&quot;);\ntv.setTypeface(font);\n</code></pre>\n<p>For AndroidX, use resource ID <code>com.google.android.material.R.id.snackbar_text</code></p>\n"},{"tags":[],"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461346449,"creation_date":1461346449,"answer_id":36800051,"question_id":33517255,"body_markdown":"### Styling Both the Snackbar Text and Action\r\n\r\nYou can use the same method to style both the `snackbar_text` and `snackbar_action`.\r\n\r\nOnce you&#39;ve created a snackbar, you can use the following to get the Views associated with the text and the action and then apply whatever adjustments to the view.\r\n\r\n    Snackbar snackbar = Snackbar.make( ... )    // Create the Snackbar however you like.\r\n\r\n    TextView snackbarActionTextView = (TextView) snackbar.getView().findViewById( android.support.design.R.id.snackbar_action );\r\n\tsnackbarActionTextView.setTextSize( 20 );\r\n\tsnackbarActionTextView.setTypeface(snackbarActionTextView.getTypeface(), Typeface.BOLD);\r\n\r\n\tTextView snackbarTextView = (TextView) snackbar.getView().findViewById(android.support.design.R.id.snackbar_text);\r\n\tsnackbarTextView.setTextSize( 16 );\r\n\tsnackbarTextView.setMaxLines( 3 );\r\n\r\nIn my example, I&#39;ve set the Action to be font size 20 and Bold, and the Text to be size 16 and allow up to 3 lines.","title":"Changing typeface of Snackbar","body":"<h3>Styling Both the Snackbar Text and Action</h3>\n\n<p>You can use the same method to style both the <code>snackbar_text</code> and <code>snackbar_action</code>.</p>\n\n<p>Once you've created a snackbar, you can use the following to get the Views associated with the text and the action and then apply whatever adjustments to the view.</p>\n\n<pre><code>Snackbar snackbar = Snackbar.make( ... )    // Create the Snackbar however you like.\n\nTextView snackbarActionTextView = (TextView) snackbar.getView().findViewById( android.support.design.R.id.snackbar_action );\nsnackbarActionTextView.setTextSize( 20 );\nsnackbarActionTextView.setTypeface(snackbarActionTextView.getTypeface(), Typeface.BOLD);\n\nTextView snackbarTextView = (TextView) snackbar.getView().findViewById(android.support.design.R.id.snackbar_text);\nsnackbarTextView.setTextSize( 16 );\nsnackbarTextView.setMaxLines( 3 );\n</code></pre>\n\n<p>In my example, I've set the Action to be font size 20 and Bold, and the Text to be size 16 and allow up to 3 lines.</p>\n"},{"tags":[],"owner":{"account_id":8815877,"reputation":451,"user_id":7913069,"display_name":"STAYER"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1558506675,"creation_date":1558506675,"answer_id":56250608,"question_id":33517255,"body_markdown":"In addition to [this answer][1]: now package to find snackbar&#39;s textview by id is\r\n\r\n    val snackText = snackView.findViewById&lt;TextView&gt;(\r\n                        com.google.android.material.R.id.snackbar_text)\r\n\r\n  [1]: https://stackoverflow.com/a/36800051/7913069","title":"Changing typeface of Snackbar","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/36800051/7913069\">this answer</a>: now package to find snackbar's textview by id is</p>\n\n<pre><code>val snackText = snackView.findViewById&lt;TextView&gt;(\n                    com.google.android.material.R.id.snackbar_text)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1595679579,"creation_date":1569345354,"answer_id":58085279,"question_id":33517255,"body_markdown":"For **AndroidX**\r\n\r\n`android.support.design.R.id.snackbar_text` won&#39;t be available.\r\n\r\n \r\n\r\n&gt; **Use** `com.google.android.material.R.id.snackbar_text`instead.\r\n\r\n**If you are using kotlin**, then I prefer you to use extension function:\r\n\r\n    fun Snackbar.changeFont()\r\n    {\r\n        val tv = view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\r\n        val font = Typeface.createFromAsset(context.assets, &quot;your_font.ttf&quot;)\r\n        tv.typeface = font\r\n    }\r\n\r\nand call it like:\r\n\r\n    mSnakeBar.changeFont()","title":"Changing typeface of Snackbar","body":"<p>For <strong>AndroidX</strong></p>\n<p><code>android.support.design.R.id.snackbar_text</code> won't be available.</p>\n<blockquote>\n<p><strong>Use</strong> <code>com.google.android.material.R.id.snackbar_text</code>instead.</p>\n</blockquote>\n<p><strong>If you are using kotlin</strong>, then I prefer you to use extension function:</p>\n<pre><code>fun Snackbar.changeFont()\n{\n    val tv = view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\n    val font = Typeface.createFromAsset(context.assets, &quot;your_font.ttf&quot;)\n    tv.typeface = font\n}\n</code></pre>\n<p>and call it like:</p>\n<pre><code>mSnakeBar.changeFont()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6959051,"reputation":622,"user_id":5339154,"display_name":"Andrii Artamonov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574330337,"creation_date":1574330337,"answer_id":58972083,"question_id":33517255,"body_markdown":"Starting from **Support Library 26**, fonts can be used as **resources**.\r\n\r\n    val mainTextView = view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\r\n    val font = ResourcesCompat.getFont(applicationContext, R.font.your_font)\r\n    mainTextView.typeface = font\r\n\r\n\r\n\r\n","title":"Changing typeface of Snackbar","body":"<p>Starting from <strong>Support Library 26</strong>, fonts can be used as <strong>resources</strong>.</p>\n\n<pre><code>val mainTextView = view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\nval font = ResourcesCompat.getFont(applicationContext, R.font.your_font)\nmainTextView.typeface = font\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13969935,"reputation":1,"user_id":10088817,"display_name":"Alireza Soleymani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586268390,"creation_date":1586268390,"answer_id":61081906,"question_id":33517255,"body_markdown":"if you want to change the font of Action Button and textview use this code :\r\n\r\n    Snackbar.make(this,message,Snackbar.LENGTH_LONG).also {snackbar -&gt;\r\n      snackbar.setAction(&quot;ok&quot;){\r\n         snackbar.dismiss()\r\n      }\r\n      val actionButton = snackbar.view.findViewById(com.google.android.material.R.id.snackbar_action) as Button\r\n      val textview = snackbar.view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\r\n      val font = Typeface.createFromAsset(context.assets, &quot;fonts/your_custom_font&quot;)\r\n      actionButton.typeface = font\r\n      textview.typeface = font\r\n      ViewCompat.setLayoutDirection(snackbar.view,ViewCompat.LAYOUT_DIRECTION_RTL)\r\n   }.show()","title":"Changing typeface of Snackbar","body":"<p>if you want to change the font of Action Button and textview use this code :</p>\n\n<pre><code>Snackbar.make(this,message,Snackbar.LENGTH_LONG).also {snackbar -&gt;\n  snackbar.setAction(\"ok\"){\n     snackbar.dismiss()\n  }\n  val actionButton = snackbar.view.findViewById(com.google.android.material.R.id.snackbar_action) as Button\n  val textview = snackbar.view.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\n  val font = Typeface.createFromAsset(context.assets, \"fonts/your_custom_font\")\n  actionButton.typeface = font\n  textview.typeface = font\n  ViewCompat.setLayoutDirection(snackbar.view,ViewCompat.LAYOUT_DIRECTION_RTL)\n</code></pre>\n\n<p>}.show()</p>\n"},{"tags":[],"owner":{"account_id":14679230,"reputation":2722,"user_id":10601286,"display_name":"Achintha Isuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624053526,"creation_date":1624053526,"answer_id":68041843,"question_id":33517255,"body_markdown":"For every one that crashes when calling **createFromAsset()** you can use\r\n \r\n\r\n    Font font = ResourcesCompat.getFont(getApplicationContext(), R.font.your_font);","title":"Changing typeface of Snackbar","body":"<p>For every one that crashes when calling <strong>createFromAsset()</strong> you can use</p>\n<pre><code>Font font = ResourcesCompat.getFont(getApplicationContext(), R.font.your_font);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25355507,"reputation":31,"user_id":19171689,"display_name":"bruh moment"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655801551,"creation_date":1655801551,"answer_id":72697855,"question_id":33517255,"body_markdown":"For those who are still reading this 7 years later, you can change the text appearance of the snackbar for the whole app by overriding its theme parent in your themes.xml file.\r\n\r\n```\r\n&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\r\n    ...\r\n    &lt;item name=&quot;snackbarTextViewStyle&quot;&gt;@style/Widget.App.SnackbarTextView&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n\r\n&lt;style name=&quot;Widget.App.SnackbarTextView&quot; parent=&quot;Widget.MaterialComponents.Snackbar.TextView&quot;&gt;\r\n    &lt;item name=&quot;android:textAppearance&quot;&gt;@style/your_snackbar_text_style&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\nAnd then in your styles.xml file insert the `your_snackbar_text_style` style there\r\n\r\n```\r\n    &lt;style name=&quot;your_snackbar_text_style&quot;&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/your_font&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```","title":"Changing typeface of Snackbar","body":"<p>For those who are still reading this 7 years later, you can change the text appearance of the snackbar for the whole app by overriding its theme parent in your themes.xml file.</p>\n<pre><code>&lt;style name=&quot;Theme.App&quot; parent=&quot;Theme.MaterialComponents.*&quot;&gt;\n    ...\n    &lt;item name=&quot;snackbarTextViewStyle&quot;&gt;@style/Widget.App.SnackbarTextView&lt;/item&gt;\n&lt;/style&gt;\n\n\n&lt;style name=&quot;Widget.App.SnackbarTextView&quot; parent=&quot;Widget.MaterialComponents.Snackbar.TextView&quot;&gt;\n    &lt;item name=&quot;android:textAppearance&quot;&gt;@style/your_snackbar_text_style&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>And then in your styles.xml file insert the <code>your_snackbar_text_style</code> style there</p>\n<pre><code>    &lt;style name=&quot;your_snackbar_text_style&quot;&gt;\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/your_font&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":7218855,"reputation":297,"user_id":5510211,"accept_rate":38,"display_name":"user5510211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13096,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":33517490,"answer_count":10,"score":21,"last_activity_date":1655801551,"creation_date":1446626617,"question_id":33517255,"body_markdown":"I build Snackbar by this code:\r\n\r\n    Snackbar sb = Snackbar.make(drawer,  &quot;message&quot;, Snackbar.LENGTH_LONG)\r\n           .setAction(&quot;action&quot;, new View.OnClickListener() {\r\n           @Override\r\n           public void onClick(View view) {\r\n\r\n           }\r\n    });\r\n\r\nNow I want to change the typeface of message and action button but can&#39;t find any solution, How to do that?\r\n","title":"Changing typeface of Snackbar","body":"<p>I build Snackbar by this code:</p>\n\n<pre><code>Snackbar sb = Snackbar.make(drawer,  \"message\", Snackbar.LENGTH_LONG)\n       .setAction(\"action\", new View.OnClickListener() {\n       @Override\n       public void onClick(View view) {\n\n       }\n});\n</code></pre>\n\n<p>Now I want to change the typeface of message and action button but can't find any solution, How to do that?</p>\n"},{"tags":["java","intellij-idea","tostring","shortcut","auto-generate"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1521079732,"post_id":49289913,"comment_id":85583976,"body_markdown":"You may need to create a plug-in for that.","body":"You may need to create a plug-in for that."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1655802344,"post_id":49289913,"comment_id":128411705,"body_markdown":"If you have a base class with ID, create and mod user and timestap, an elementary toString and hashCode can be done in the base class.","body":"If you have a base class with ID, create and mod user and timestap, an elementary toString and hashCode can be done in the base class."}],"answers":[{"tags":[],"owner":{"account_id":11081491,"reputation":361,"user_id":8136561,"display_name":"Karl Alexander"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1521084732,"creation_date":1521084732,"answer_id":49291137,"question_id":49289913,"body_markdown":"In Intellij i supposed it can be done like this :\r\n\r\n 1. Open the desired class for editing and do one of the following:\r\n - On the main menu, choose Code | Generate.\r\n - Right-click the editor and choose Generate on the context menu\r\n - Press Alt+Insert.\r\n\r\n 1. From the pop-up list that shows up, select toString() option. Generate toString() wizard displays the list of fields in the class.\r\n\r\nIn eclipse it could be done aswell :\r\n\r\n 1. Right click the editor\r\n 2. Select Source\r\n 3. Then Select generate toString().\r\n 4. Then select all the fields you want.\r\n\r\n ","title":"Auto generate toString method in a lot of entities","body":"<p>In Intellij i supposed it can be done like this :</p>\n\n<ol>\n<li><p>Open the desired class for editing and do one of the following:</p>\n\n<ul>\n<li>On the main menu, choose Code | Generate.</li>\n<li>Right-click the editor and choose Generate on the context menu</li>\n<li>Press Alt+Insert.</li>\n</ul></li>\n<li><p>From the pop-up list that shows up, select toString() option. Generate toString() wizard displays the list of fields in the class.</p></li>\n</ol>\n\n<p>In eclipse it could be done aswell :</p>\n\n<ol>\n<li>Right click the editor</li>\n<li>Select Source</li>\n<li>Then Select generate toString().</li>\n<li>Then select all the fields you want.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655801193,"creation_date":1655801193,"answer_id":72697775,"question_id":49289913,"body_markdown":"A little bit late, but the easiest way is to add [Project Lombok][1] to your project and then annotate all the entities with [@ToString][2] annotation.\r\n\r\nSimple example:\r\n\r\n    import lombok.ToString;\r\n\r\n    @ToString\r\n    public class Account {\r\n\r\n        private String id;\r\n\r\n        private String name;\r\n\r\n        // standard getters and setters or you can use @Getter and @Setter form lombok too\r\n    }\r\n\r\n\r\nHere is the result when you call the toString method:\r\n\r\n    Account(id=12345, name=An account)\r\n\r\n  [1]: https://projectlombok.org\r\n  [2]: https://projectlombok.org/features/ToString","title":"Auto generate toString method in a lot of entities","body":"<p>A little bit late, but the easiest way is to add <a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Project Lombok</a> to your project and then annotate all the entities with <a href=\"https://projectlombok.org/features/ToString\" rel=\"nofollow noreferrer\">@ToString</a> annotation.</p>\n<p>Simple example:</p>\n<pre><code>import lombok.ToString;\n\n@ToString\npublic class Account {\n\n    private String id;\n\n    private String name;\n\n    // standard getters and setters or you can use @Getter and @Setter form lombok too\n}\n</code></pre>\n<p>Here is the result when you call the toString method:</p>\n<pre><code>Account(id=12345, name=An account)\n</code></pre>\n"}],"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7213,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72697775,"answer_count":2,"score":7,"last_activity_date":1655801193,"creation_date":1521075185,"question_id":49289913,"body_markdown":"I got a lot of entities, 160 to be specific. I need to override `toString` method in all of them.\r\nMy question is: Is there some shortcut on Intellij or some external tool where I can auto generate `toString` method in all of those entities?","title":"Auto generate toString method in a lot of entities","body":"<p>I got a lot of entities, 160 to be specific. I need to override <code>toString</code> method in all of them.\nMy question is: Is there some shortcut on Intellij or some external tool where I can auto generate <code>toString</code> method in all of those entities?</p>\n"},{"tags":["java","c#","unicode","encoding","command-line-arguments"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655807471,"post_id":72697746,"comment_id":128413575,"body_markdown":"Interesting. Out of interest, what does `dir D:\\ /ad/x` show you? (Do that in a new cmd.exe - i.e. with its normal code page)","body":"Interesting. Out of interest, what does <code>dir D:\\ &#47;ad&#47;x</code> show you? (Do that in a new cmd.exe - i.e. with its normal code page)"}],"owner":{"account_id":25372557,"reputation":21,"user_id":19186120,"display_name":"LTCat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655801060,"creation_date":1655801060,"question_id":72697746,"body_markdown":"I am trying to launch a Java program in C# which arguments include Chinese.\r\n```Process NewProcess = New Process();\r\nProcessStartInfo StartInfo = New ProcessStartInfo(Javaw);\r\nStartInfo.Arguments = LaunchArgument; //-cp &quot;D:\\特殊字符\\文件名.jar&quot; com.something.test --arg &quot;特殊字符&quot;\r\nNewProcess.StartInfo = StartInfo;\r\nNewProcess.Start();\r\n```\r\nThis is normal if Windows&#39;s code page is GBK (Chinese), but if the code page is changed to UTF-8, Java will throw ```java.lang.ClassNotFoundException: com.something.test```\r\n\r\nIn my examination, Java does not seem to be able to properly read Chinese characters in ```-cp``` when the system code page is UTF-8.\r\n\r\nI&#39;v seen [https://stackoverflow.com/questions/7660651/passing-command-line-unicode-argument-to-java-code/41923480][1], but there doesn&#39;t seem to be a solution using C#.\r\n\r\nModifying the system code page is fine, but requiring users to adjust system settings before using the software is silly...\r\n\r\n----------\r\n\r\n\r\nWhat I&#39;ve tried:\r\n\r\n- Adding ```-Dfile.encoding=GBK``` or ```-Dfile.encoding=UTF-8``` to the argument.\r\n\r\n- Use * to replace Chinese like this, but that doesn&#39;t work either.\r\n\r\n    ```-cp &quot;D:\\*\\*.jar&quot; com.something.test```\r\n\r\n- Use a .bat file and change the code page with the CHCP command at the beginning of it.\r\n\r\n```\r\nchcp 936\r\n&quot;C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\java.exe&quot; -cp &quot;D:\\特殊字符\\文件名.jar&quot; com.something.test --arg &quot;特殊字符&quot;\r\n```\r\n\r\nAlso due to the needs of users, there is no way to avoid these Chinese characters in parameters. Sorry.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7660651/passing-command-line-unicode-argument-to-java-code/41923480","title":"If Windows code page is UTF-8, try to start a Java program with special characters in classpath, results in ClassNotFoundException","body":"<p>I am trying to launch a Java program in C# which arguments include Chinese.</p>\n<pre><code>ProcessStartInfo StartInfo = New ProcessStartInfo(Javaw);\nStartInfo.Arguments = LaunchArgument; //-cp &quot;D:\\特殊字符\\文件名.jar&quot; com.something.test --arg &quot;特殊字符&quot;\nNewProcess.StartInfo = StartInfo;\nNewProcess.Start();\n</code></pre>\n<p>This is normal if Windows's code page is GBK (Chinese), but if the code page is changed to UTF-8, Java will throw <code>java.lang.ClassNotFoundException: com.something.test</code></p>\n<p>In my examination, Java does not seem to be able to properly read Chinese characters in <code>-cp</code> when the system code page is UTF-8.</p>\n<p>I'v seen <a href=\"https://stackoverflow.com/questions/7660651/passing-command-line-unicode-argument-to-java-code/41923480\">Passing command line unicode argument to Java code</a>, but there doesn't seem to be a solution using C#.</p>\n<p>Modifying the system code page is fine, but requiring users to adjust system settings before using the software is silly...</p>\n<hr />\n<p>What I've tried:</p>\n<ul>\n<li><p>Adding <code>-Dfile.encoding=GBK</code> or <code>-Dfile.encoding=UTF-8</code> to the argument.</p>\n</li>\n<li><p>Use * to replace Chinese like this, but that doesn't work either.</p>\n<p><code>-cp &quot;D:\\*\\*.jar&quot; com.something.test</code></p>\n</li>\n<li><p>Use a .bat file and change the code page with the CHCP command at the beginning of it.</p>\n</li>\n</ul>\n<pre><code>chcp 936\n&quot;C:\\Program Files\\Java\\jdk-17.0.3.1\\bin\\java.exe&quot; -cp &quot;D:\\特殊字符\\文件名.jar&quot; com.something.test --arg &quot;特殊字符&quot;\n</code></pre>\n<p>Also due to the needs of users, there is no way to avoid these Chinese characters in parameters. Sorry.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8746,"page":1246,"page_size":100}
